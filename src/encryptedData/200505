From java-user-return-14317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 01 17:05:49 2005
Return-Path: <java-user-return-14317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38760 invoked from network); 1 May 2005 17:05:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 May 2005 17:05:49 -0000
Received: (qmail 94338 invoked by uid 500); 1 May 2005 17:07:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94296 invoked by uid 500); 1 May 2005 17:07:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94280 invoked by uid 99); 1 May 2005 17:07:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mbarancz@twcny.rr.com designates 24.24.2.57 as permitted sender)
Received: from ms-smtp-03.nyroc.rr.com (HELO ms-smtp-03.nyroc.rr.com) (24.24.2.57)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 01 May 2005 10:07:09 -0700
Received: from [192.168.0.103] (cpe-24-58-8-69.twcny.res.rr.com [24.58.8.69])
	by ms-smtp-03.nyroc.rr.com (8.12.10/8.12.10) with ESMTP id j41H5eP4015891
	for <java-user@lucene.apache.org>; Sun, 1 May 2005 13:05:40 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v622)
Content-Transfer-Encoding: 7bit
Message-Id: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: Mike Baranczak <mbarancz@twcny.rr.com>
Subject: Results ranking on filtered multi-field query
Date: Sun, 1 May 2005 13:05:39 -0400
X-Mailer: Apple Mail (2.622)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm building a search engine that searches multiple document fields by 
default. Given a query string like "Bruce Lee", I would expect the 
results list to first show the documents containing both "Bruce" and 
"Lee", and then the documents which only contain one of those names. 
Most of the time, this is indeed what happens, but I've noticed that in 
certain circumstances, Lucene doesn't rank the results in the expected 
order. Specifically, it happens when I enter a query containing 
multiple words, searching multiple fields, AND try to put the results 
of that through a filter.

Code example is below. Is this a bug, or am I doing something wrong?

Thanks in advance. I can provide more information, if needed.

-MB

------------------------

             String[] fields = new String[] {"title", "description", 
"body"};
             IndexSearcher index = new IndexSearcher(INDEX_DIR);
             Analyzer analyzer = new StandardAnalyzer();
             String queryStr = "Bruce Lee";

             // OK
             System.out.println("\n\n - test run 0:");
             Query q0 = QueryParser.parse(queryStr, "title", analyzer);
             printResults(index.search(q0));

             // OK
             System.out.println("\n\n - test run 1:");
             Query q1 = MultiFieldQueryParser.parse(queryStr, fields, 
analyzer);
             printResults(index.search(q1));

             // WRONG!
             System.out.println("\n\n - test run 2:");
             Query q2 = MultiFieldQueryParser.parse(queryStr, fields, 
analyzer);
             Filter filt0 = new QueryFilter(new TermQuery(new 
Term("category", "movies")));
             Query q2f = new FilteredQuery(q2, filt0);
             printResults(index.search(q2f));

             // OK
             System.out.println("\n\n - test run 3:");
             Query q3 = QueryParser.parse(queryStr, "description", 
analyzer);
             Query q3f = new FilteredQuery(q3, filt0);
             printResults(index.search(q3f));

             // WRONG!
             System.out.println("\n\n - test run 4:");
             printResults(index.search(q1, filt0));


--------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 01 23:35:12 2005
Return-Path: <java-user-return-14318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60374 invoked from network); 1 May 2005 23:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 May 2005 23:35:12 -0000
Received: (qmail 30783 invoked by uid 500); 1 May 2005 23:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30728 invoked by uid 500); 1 May 2005 23:36:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30715 invoked by uid 99); 1 May 2005 23:36:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dev.allthingslocal.com (HELO dev.allthingslocal.com) (69.44.58.51)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 01 May 2005 16:36:28 -0700
Received: from [192.168.1.106] ([::ffff:66.92.12.207])
  (AUTH: LOGIN chuck, TLS: TLSv1/SSLv3,256bits,AES256-SHA)
  by dev.allthingslocal.com with esmtp; Sun, 01 May 2005 18:35:03 -0500
  id 0007421F.427567A7.00002C21
Message-ID: <42756775.80508@allthingslocal.com>
Date: Sun, 01 May 2005 16:34:13 -0700
From: Chuck Williams <chuck@allthingslocal.com>
Organization: All Things Local
User-Agent: Debian Thunderbird 1.0.2 (X11/20050331)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Results ranking on filtered multi-field query
References: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com>
In-Reply-To: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mike Baranczak wrote:

> I'm building a search engine that searches multiple document fields by 
> default. Given a query string like "Bruce Lee", I would expect the 
> results list to first show the documents containing both "Bruce" and 
> "Lee", and then the documents which only contain one of those names. 
> Most of the time, this is indeed what happens, but I've noticed that 
> in certain circumstances, Lucene doesn't rank the results in the 
> expected order. Specifically, it happens when I enter a query 
> containing multiple words, searching multiple fields, AND try to put 
> the results of that through a filter.
>
> Code example is below. Is this a bug, or am I doing something wrong?

I suspect the existence of the filter is only relevant to the extent 
that you are ranking a different set of results. MultiFieldQueryParser 
does not in general provide the ranking you are looking for, especially 
for default OR queries. I found this to be a problem as well and created 
alternative classes, DistributedMultiFieldQueryParser and 
MaxDisjunctionQuery, which are available here: 
http://issues.apache.org/bugzilla/show_bug.cgi?id=32674

You might check these out and see if they provide the ranking you are 
looking for (I think they will). They were written for 1.4.3; they 
should work in the trunk (1.9) but will get deprecation warnings. I'm 
using them now in 1.9 and have newer clean versions which I'd be happy 
to post if anybody else is using them (although the versions I use still 
require java 1.5).

Chuck


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 02 04:02:00 2005
Return-Path: <java-user-return-14319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10083 invoked from network); 2 May 2005 04:01:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2005 04:01:59 -0000
Received: (qmail 45380 invoked by uid 500); 2 May 2005 04:03:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45350 invoked by uid 500); 2 May 2005 04:03:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45337 invoked by uid 99); 2 May 2005 04:03:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.199 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 01 May 2005 21:03:15 -0700
Received: by rproxy.gmail.com with SMTP id b11so837228rne
        for <java-user@lucene.apache.org>; Sun, 01 May 2005 21:01:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=tBK/orqJvrTrXWu+bZnXtRfaHiMj8icXwnaMsd68skKL6yjuLvrOlyYiBmZJygnIjwJox1ADdStAddcW9YFGQgJklK5MNhlmGvYsiMMY7OuZuRrYdvA43bIMCmJrwqU7lWQmSiNbUi0yeN833+i1ichTdARPV0VNuG/jbykkJH0=
Received: by 10.38.12.8 with SMTP id 8mr5857814rnl;
        Sun, 01 May 2005 21:01:50 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Sun, 1 May 2005 21:01:50 -0700 (PDT)
Message-ID: <c68e3917050501210136e86a0c@mail.gmail.com>
Date: Mon, 2 May 2005 00:01:50 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: CVS Lucene 2.0
In-Reply-To: <426EBBA9.1060805@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <24CFCE44DCB015489FB96D38BDF4FCAA071155@gerard.anchormen.nl>
	 <dd911a0f1086789f944895a8c256b577@ehatchersolutions.com>
	 <c68e3917050426145246218470@mail.gmail.com>
	 <426EBBA9.1060805@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I can't say whats actually ready, but I am very interested in sparse
filter representations.  I'm working on a project that needs to
dynamic categorization of search results, and this requires caching
thousands of filters.

http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32965
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32921
It does currently require Java 1.4, so I guess it needs to wait for Lucene =
2.0?

And I'm not sure if I'm reading it correctly, but it looks like
BooleanScorer1 could be a replacement for both BooleanScorer and
BooleanScorer2.
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D33019

-Yonik

> 1.9 and 2.0 will be what's in the SVN trunk.  Many of Paul's changes
> have already been committed.  Are there particular changes that Paul has
> contributed that have not yet been committed that you feel ought to be
> before a release is made?
>=20
> Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 02 07:29:19 2005
Return-Path: <java-user-return-14320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72776 invoked from network); 2 May 2005 07:29:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2005 07:29:19 -0000
Received: (qmail 63657 invoked by uid 500); 2 May 2005 07:30:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63459 invoked by uid 500); 2 May 2005 07:30:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63434 invoked by uid 99); 2 May 2005 07:30:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr4.xs4all.nl (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 02 May 2005 00:30:29 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.12.11/8.12.11) with ESMTP id j427T2b3067334
	for <java-user@lucene.apache.org>; Mon, 2 May 2005 09:29:02 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: CVS Lucene 2.0
Date: Mon, 2 May 2005 09:29:02 +0200
User-Agent: KMail/1.5.4
References: <24CFCE44DCB015489FB96D38BDF4FCAA071155@gerard.anchormen.nl> <426EBBA9.1060805@apache.org> <c68e3917050501210136e86a0c@mail.gmail.com>
In-Reply-To: <c68e3917050501210136e86a0c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505020929.02134.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 02 May 2005 06:01, Yonik Seeley wrote:
> I can't say whats actually ready, but I am very interested in sparse
> filter representations.  I'm working on a project that needs to
> dynamic categorization of search results, and this requires caching
> thousands of filters.

The need for many filters is what started me off on the boolean scorer
changes in the first place. Caching many filters implies filters must be
sparse (ie. take little memory). Sparse filters implies that they must
be used with iterator access (no more random access as on BitSet).
Iterator access implies all scoring should be done in
order of document numbers, which is not provided by the 1.4.3 BooleanScorer.

> http://issues.apache.org/bugzilla/show_bug.cgi?id=32965
> http://issues.apache.org/bugzilla/show_bug.cgi?id=32921
> It does currently require Java 1.4, so I guess it needs to wait for Lucene 
2.0?

It is the need to apply skipTo on the BitSet that introduces the need
for java 1.4 . In case one would only use SortedVIntList, (the sparse
filter), the java 1.4 dependency would not be there.

Btw. this also shows why both filters only work in RAM: they have
no underlying support for skipTo in their data structure. Java has
bolted this on in 1.4 over the BitSet (probably by a linear search
over the underlying array), and for the SkipFilter skipTo
is implemented by using the iterator, ie. a linear search.
 
> And I'm not sure if I'm reading it correctly, but it looks like
> BooleanScorer1 could be a replacement for both BooleanScorer and
> BooleanScorer2.
> http://issues.apache.org/bugzilla/show_bug.cgi?id=33019

It's not stated there,  but BooleanScorer2 currently depends on
DisjunctionScorer in svn.
 
Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 02 17:06:57 2005
Return-Path: <java-user-return-14321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75362 invoked from network); 2 May 2005 17:06:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2005 17:06:57 -0000
Received: (qmail 95057 invoked by uid 500); 2 May 2005 17:01:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94898 invoked by uid 500); 2 May 2005 17:01:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94870 invoked by uid 99); 2 May 2005 17:01:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mbarancz@twcny.rr.com designates 24.24.2.55 as permitted sender)
Received: from ms-smtp-01.nyroc.rr.com (HELO ms-smtp-01.nyroc.rr.com) (24.24.2.55)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 02 May 2005 10:01:21 -0700
Received: from [192.168.0.103] (cpe-24-58-8-69.twcny.res.rr.com [24.58.8.69])
	by ms-smtp-01.nyroc.rr.com (8.12.10/8.12.10) with ESMTP id j42GxmXs016536
	for <java-user@lucene.apache.org>; Mon, 2 May 2005 12:59:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <42756775.80508@allthingslocal.com>
References: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com> <42756775.80508@allthingslocal.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <c895c801acf7890142edb609383157ac@twcny.rr.com>
Content-Transfer-Encoding: 7bit
From: Mike Baranczak <mbarancz@twcny.rr.com>
Subject: Re: Results ranking on filtered multi-field query
Date: Mon, 2 May 2005 12:59:48 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 1, 2005, at 7:34 PM, Chuck Williams wrote:

> Mike Baranczak wrote:
>
>> I'm building a search engine that searches multiple document fields 
>> by default. Given a query string like "Bruce Lee", I would expect the 
>> results list to first show the documents containing both "Bruce" and 
>> "Lee", and then the documents which only contain one of those names. 
>> Most of the time, this is indeed what happens, but I've noticed that 
>> in certain circumstances, Lucene doesn't rank the results in the 
>> expected order. Specifically, it happens when I enter a query 
>> containing multiple words, searching multiple fields, AND try to put 
>> the results of that through a filter.
>>
>> Code example is below. Is this a bug, or am I doing something wrong?
>
> I suspect the existence of the filter is only relevant to the extent 
> that you are ranking a different set of results. MultiFieldQueryParser 
> does not in general provide the ranking you are looking for, 
> especially for default OR queries. I found this to be a problem as 
> well and created alternative classes, DistributedMultiFieldQueryParser 
> and MaxDisjunctionQuery, which are available here: 
> http://issues.apache.org/bugzilla/show_bug.cgi?id=32674
>
> You might check these out and see if they provide the ranking you are 
> looking for (I think they will). They were written for 1.4.3; they 
> should work in the trunk (1.9) but will get deprecation warnings. I'm 
> using them now in 1.9 and have newer clean versions which I'd be happy 
> to post if anybody else is using them (although the versions I use 
> still require java 1.5).
>
> Chuck


I substituted DistributedMultiFieldQueryParser for 
MultiFieldQueryParser, leaving everything else the same, and now it 
works. Thanks for your help.

Any chance that these classes, or something like them, will be included 
in the main distribution at some point?

-MB


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 02 18:32:42 2005
Return-Path: <java-user-return-14322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38000 invoked from network); 2 May 2005 18:32:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2005 18:32:42 -0000
Received: (qmail 44026 invoked by uid 500); 2 May 2005 18:34:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43896 invoked by uid 500); 2 May 2005 18:33:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43883 invoked by uid 99); 2 May 2005 18:33:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dev.allthingslocal.com (HELO dev.allthingslocal.com) (69.44.58.51)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 02 May 2005 11:33:59 -0700
Received: from [192.168.1.106] ([::ffff:66.92.12.207])
  (AUTH: LOGIN chuck, TLS: TLSv1/SSLv3,256bits,AES256-SHA)
  by dev.allthingslocal.com with esmtp; Mon, 02 May 2005 13:32:27 -0500
  id 00074210.4276723B.00000387
Message-ID: <42767201.8000803@allthingslocal.com>
Date: Mon, 02 May 2005 11:31:29 -0700
From: Chuck Williams <chuck@allthingslocal.com>
Organization: All Things Local
User-Agent: Debian Thunderbird 1.0.2 (X11/20050331)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Results ranking on filtered multi-field query
References: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com> <42756775.80508@allthingslocal.com> <c895c801acf7890142edb609383157ac@twcny.rr.com>
In-Reply-To: <c895c801acf7890142edb609383157ac@twcny.rr.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mike Baranczak wrote:

> I substituted DistributedMultiFieldQueryParser for 
> MultiFieldQueryParser, leaving everything else the same, and now it 
> works. Thanks for your help.
>
> Any chance that these classes, or something like them, will be 
> included in the main distribution at some point?

There was a process to do an empirical evaluation of the current Lucene 
query parsing and default score computation formulas (DefaultSimilarity) 
vs. mine (and any others who wanted to parpticipate). Personally I think 
the point was proven, but the effort seemed to lose steam. I'm only in a 
position to lobby.

Glad it worked for you,

Chuck


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 02 18:39:10 2005
Return-Path: <java-user-return-14323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40290 invoked from network); 2 May 2005 18:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2005 18:39:10 -0000
Received: (qmail 60754 invoked by uid 500); 2 May 2005 18:40:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60579 invoked by uid 500); 2 May 2005 18:40:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60418 invoked by uid 99); 2 May 2005 18:40:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from londo.swishmail.com (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 02 May 2005 11:40:29 -0700
Received: (qmail 91350 invoked by uid 89); 2 May 2005 18:38:36 -0000
Received: from unknown (HELO ?192.168.168.10?) (doug@cottrell-cutting.net@24.5.160.217)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 2 May 2005 18:38:35 -0000
Message-ID: <427673A5.9080505@apache.org>
Date: Mon, 02 May 2005 11:38:29 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050414
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Results ranking on filtered multi-field query
References: <e60c72595acfd010cfd7c5a87310d7f7@twcny.rr.com> <42756775.80508@allthingslocal.com>
In-Reply-To: <42756775.80508@allthingslocal.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chuck Williams wrote:
> I found this to be a problem as well and created 
> alternative classes, DistributedMultiFieldQueryParser and 
> MaxDisjunctionQuery, which are available here: 
> http://issues.apache.org/bugzilla/show_bug.cgi?id=32674
> 
> You might check these out and see if they provide the ranking you are 
> looking for (I think they will). They were written for 1.4.3; they 
> should work in the trunk (1.9) but will get deprecation warnings.

Other changes have been made to the trunk which should improve these 
results with the standard MultiFieldQueryParser.  So please also try the 
SVN trunk to see if these changes already resolve your problem.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 08:36:55 2005
Return-Path: <java-user-return-14324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55695 invoked from network); 3 May 2005 08:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 08:36:55 -0000
Received: (qmail 65801 invoked by uid 500); 3 May 2005 08:37:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65760 invoked by uid 500); 3 May 2005 08:37:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65744 invoked by uid 99); 3 May 2005 08:37:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from port-212-202-252-50.static.qsc.de (HELO gratian.babiel.com) (212.202.252.50)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 03 May 2005 01:37:24 -0700
Received: from [192.168.2.10] (helo=trajan.babiel.com)
	by gratian.babiel.com with AVK MailGateway;
	for <java-user@lucene.apache.org>; Tue, 03 May 2005 10:35:58 +0200
Received: by trajan.babiel.com with Internet Mail Service (5.5.2656.59)
	id <H3GQX84Q>; Tue, 3 May 2005 10:35:39 +0200
Message-ID: <54A47307B7160146AB5F4F66419F75940278B091@trajan.babiel.com>
From: Bartosch Warzecha <b.warzecha@babiel.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: HTML parser??
Date: Tue, 3 May 2005 10:35:38 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hello,

I=B4m building a search engine for HTML-Dokuments, and I=B4ve got a =
HTML-parsing
problem.

This documents are in german. In this documents are different special
characters, and different ways of writing this special characters, like =
"=F6",
"&ouml;" and "&#246". Do somebody know a parsing engine that has no =
problems
with all this different ways to write this special characters?

Thanks

b.warzecha

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 12:17:07 2005
Return-Path: <java-user-return-14325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91026 invoked from network); 3 May 2005 12:17:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 12:17:06 -0000
Received: (qmail 98538 invoked by uid 500); 3 May 2005 12:13:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98489 invoked by uid 500); 3 May 2005 12:13:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 58973 invoked by uid 99); 3 May 2005 11:53:27 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Mime-Version: 1.0 (Apple Message framework v728)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com>
Reply-To: java-user@lucene.apache.org
Content-Transfer-Encoding: 7bit
From: kimchy.compass@mac.com
Subject: Compass 0.4 Released
Date: Tue, 3 May 2005 12:51:28 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

"
    We are please to announce the initial release of Compass, a new  
concept in semantic Search Engine/Object Mapping (OSEM) technology.
    Compass is a Java framework, built on top of the Lucene Search  
Engine, making it simple to map your Java object model into a Search  
Engine. Providing a powerful new tool for application development.
     Compass introduces declaritive mapping technology OSEM (similar  
to O/R database mapping), transaction management, Google like query  
syntax (based on lucene), externalise common meta-data and much much  
more.
"

    You are the first to know, and I would really appreciate your  
comments about the project and possible enhancements. We can continue  
the thread here, but I would be happy if comments and enhancements  
would be recorded on the project (compass) mailing lists.

The project site: http://compass.sourceforge.net
User Mailing lists: https://sourceforge.net/mail/?group_id=121279

   Cheers

Shay Banon



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 12:26:06 2005
Return-Path: <java-user-return-14326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95163 invoked from network); 3 May 2005 12:26:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 12:26:05 -0000
Received: (qmail 14959 invoked by uid 500); 3 May 2005 12:20:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14902 invoked by uid 500); 3 May 2005 12:20:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14871 invoked by uid 99); 3 May 2005 12:20:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 05:20:14 -0700
Received: from joeo (helo=localhost)
	by enigmastation.com with local-esmtp (Exim 4.50)
	id 1DSwM5-0005he-IQ; Tue, 03 May 2005 08:18:25 -0400
Date: Tue, 3 May 2005 07:18:25 -0500 (EST)
From: "Joseph B. Ottinger" <joeo@enigmastation.com>
To: java-user@lucene.apache.org, java-user@lucene.apache.org
Subject: Re: Compass 0.4 Released
In-Reply-To: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com>
Message-ID: <Pine.LNX.4.62.0505030718090.12013@enigmastation.com>
References: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well, it's been on theserverside.com for about thirty minutes already... 
:)

On Tue, 3 May 2005 kimchy.compass@mac.com wrote:

> Hi,
>
> "
>   We are please to announce the initial release of Compass, a new concept in 
> semantic Search Engine/Object Mapping (OSEM) technology.
>   Compass is a Java framework, built on top of the Lucene Search Engine, 
> making it simple to map your Java object model into a Search Engine. 
> Providing a powerful new tool for application development.
>    Compass introduces declaritive mapping technology OSEM (similar to O/R 
> database mapping), transaction management, Google like query syntax (based on 
> lucene), externalise common meta-data and much much more.
> "
>
>   You are the first to know, and I would really appreciate your comments 
> about the project and possible enhancements. We can continue the thread here, 
> but I would be happy if comments and enhancements would be recorded on the 
> project (compass) mailing lists.
>
> The project site: http://compass.sourceforge.net
> User Mailing lists: https://sourceforge.net/mail/?group_id=121279
>
>  Cheers
>
> Shay Banon
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
Editor, http://www.TheServerSide.com             joeo@enigmastation.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 12:33:20 2005
Return-Path: <java-user-return-14327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98521 invoked from network); 3 May 2005 12:33:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 12:33:20 -0000
Received: (qmail 38449 invoked by uid 500); 3 May 2005 12:30:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38354 invoked by uid 500); 3 May 2005 12:30:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38196 invoked by uid 99); 3 May 2005 12:30:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 05:30:15 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0F28413E2006; Tue,  3 May 2005 08:28:22 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id C399713E2005
	for <java-user@lucene.apache.org>; Tue,  3 May 2005 08:28:04 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <54A47307B7160146AB5F4F66419F75940278B091@trajan.babiel.com>
References: <54A47307B7160146AB5F4F66419F75940278B091@trajan.babiel.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <7C33F79A-163A-4D27-9FB5-D90B63BB92A9@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HTML parser??
Date: Tue, 3 May 2005 08:28:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 3, 2005, at 4:35 AM, Bartosch Warzecha wrote:

>
> Hello,
>
> I=B4m building a search engine for HTML-Dokuments, and I=B4ve got a =20=

> HTML-parsing
> problem.
>
> This documents are in german. In this documents are different special
> characters, and different ways of writing this special characters, =20
> like "=F6",
> "&ouml;" and "&#246". Do somebody know a parsing engine that has no =20=

> problems
> with all this different ways to write this special characters?

What HTML parser are you using?  Those entity references should not =20
be seen by your code once resolved by a parser.  Try NekoHTML.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 12:35:01 2005
Return-Path: <java-user-return-14328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99096 invoked from network); 3 May 2005 12:35:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 12:35:00 -0000
Received: (qmail 43114 invoked by uid 500); 3 May 2005 12:32:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43030 invoked by uid 500); 3 May 2005 12:32:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43008 invoked by uid 99); 3 May 2005 12:32:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 05:32:15 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 20D2013E2006; Tue,  3 May 2005 08:30:23 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5603C13E2005
	for <java-user@lucene.apache.org>; Tue,  3 May 2005 08:29:52 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <Pine.LNX.4.62.0505030718090.12013@enigmastation.com>
References: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com> <Pine.LNX.4.62.0505030718090.12013@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <ED8F97E8-17BB-40DC-BB54-0A85F8F5D53C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Compass 0.4 Released
Date: Tue, 3 May 2005 08:29:50 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On May 3, 2005, at 8:18 AM, Joseph B. Ottinger wrote:
> Well, it's been on theserverside.com for about thirty minutes  
> already... :)

This message was delayed as it was sent from an unsubscribed address  
and I had to moderate it in.  So I saw it first :)

     Erik


>
> On Tue, 3 May 2005 kimchy.compass@mac.com wrote:
>
>
>> Hi,
>>
>> "
>>   We are please to announce the initial release of Compass, a new  
>> concept in semantic Search Engine/Object Mapping (OSEM) technology.
>>   Compass is a Java framework, built on top of the Lucene Search  
>> Engine, making it simple to map your Java object model into a  
>> Search Engine. Providing a powerful new tool for application  
>> development.
>>    Compass introduces declaritive mapping technology OSEM (similar  
>> to O/R database mapping), transaction management, Google like  
>> query syntax (based on lucene), externalise common meta-data and  
>> much much more.
>> "
>>
>>   You are the first to know, and I would really appreciate your  
>> comments about the project and possible enhancements. We can  
>> continue the thread here, but I would be happy if comments and  
>> enhancements would be recorded on the project (compass) mailing  
>> lists.
>>
>> The project site: http://compass.sourceforge.net
>> User Mailing lists: https://sourceforge.net/mail/?group_id=121279
>>
>>  Cheers
>>
>> Shay Banon
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
> ---------------------------------------------------------------------- 
> -
> Joseph B. Ottinger                             http:// 
> enigmastation.com
> Editor, http://www.TheServerSide.com              
> joeo@enigmastation.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 16:13:25 2005
Return-Path: <java-user-return-14329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94462 invoked from network); 3 May 2005 16:13:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 16:13:25 -0000
Received: (qmail 55638 invoked by uid 500); 3 May 2005 15:31:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55465 invoked by uid 500); 3 May 2005 15:31:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55449 invoked by uid 99); 3 May 2005 15:31:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from robur.caltha.pl (HELO robur.caltha.pl) (80.72.33.166)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 08:30:59 -0700
Received: from [10.116.4.29] (gw2.eranet.pl [::ffff:213.158.197.34])
  (AUTH: PLAIN zwierzem@caltha.pl, SSL: TLSv1/SSLv3,128bits,RC4-MD5)
  by robur.caltha.pl with esmtp; Tue, 03 May 2005 17:20:36 +0200
  id 0005C990.427796C4.00003767
Subject: Re: HTML parser??
From: Damian Gajda <dgajda@caltha.pl>
To: java-user@lucene.apache.org
In-Reply-To: <54A47307B7160146AB5F4F66419F75940278B091@trajan.babiel.com>
References: <54A47307B7160146AB5F4F66419F75940278B091@trajan.babiel.com>
Content-Type: text/plain; charset=utf-8
Date: Tue, 03 May 2005 17:30:36 +0200
Message-Id: <1115134237.4976.6.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.4 (2.0.4-4) 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

> This documents are in german. In this documents are different special
> characters, and different ways of writing this special characters, like "รถ",
> "&ouml;" and "&#246". Do somebody know a parsing engine that has no problems
> with all this different ways to write this special characters?

I've created a component for parsing HTML entities (special characters).
This component is a part of ObjectLedge project - it is stored in
components subproject. Please feel free to use this component. It is
licensed under BSD (Apache like) license. You will need to check the
ledge-components CVS module.

http://objectledge.org/

You are also welcome to use ObjectLedge as a whole :)

Regards,
-- 
Damian Gajda



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 18:50:03 2005
Return-Path: <java-user-return-14330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62220 invoked from network); 3 May 2005 18:50:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 18:50:02 -0000
Received: (qmail 5293 invoked by uid 500); 3 May 2005 18:13:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5207 invoked by uid 500); 3 May 2005 18:13:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5094 invoked by uid 500); 3 May 2005 18:13:28 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 5057 invoked by uid 99); 3 May 2005 18:13:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from deluge.umist.ac.uk (HELO deluge.umist.ac.uk) (130.88.120.66)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 11:13:18 -0700
Received: from webmail2.manchester.ac.uk ([130.88.204.18])
	by deluge.umist.ac.uk with esmtp (Exim 4.43)
	id 1DT1rk-0008To-IW
	for lucene-user@jakarta.apache.org; Tue, 03 May 2005 19:11:28 +0100
Received: by webmail2.manchester.ac.uk (Postfix, from userid 30)
	id 723E48000FE; Tue,  3 May 2005 19:11:30 +0100 (BST)
Received: from PGR-C7A.co.umist.ac.uk (PGR-C7A.co.umist.ac.uk
	[130.88.115.181]) by webmail2.manchester.ac.uk (Horde) with HTTP ;Tue,  3
	May 2005 19:11:30 +0100
Message-ID: <20050503191130.pi8kwcwkskc88kgo@webmail2.manchester.ac.uk>
X-Priority: 3 (Normal)
Date: Tue,  3 May 2005 19:11:30 +0100
From: Sodel Vazquez-Reyes <S.Vazquez-reyes@postgrad.manchester.ac.uk>
To: lucene-user@jakarta.apache.org
Subject: Indexing in multi-threaded environment
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) 4.0-cvs
X-Originating-IP: 130.88.115.181
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am starting my application in multi-threaded environment,
could somebody show me any examples with serialize calls to the
IndexWriter.addDocument(Document)?

because my idea is to use RAMDirectory based in parallel, one in each
thread, and merges them into a single index on the disk using
IndexWriter.addIndexes(Directory[]) method, It is working with a single
process but I have problems with my threads implementation.
Or any ideas about this.

Best regards.
Sodel.

--
Sodel Vazquez-Reyes
PhD Student

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 18:54:41 2005
Return-Path: <java-user-return-14331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66279 invoked from network); 3 May 2005 18:54:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 18:54:40 -0000
Received: (qmail 33784 invoked by uid 500); 3 May 2005 18:25:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33734 invoked by uid 500); 3 May 2005 18:25:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33710 invoked by uid 99); 3 May 2005 18:25:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.206 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 11:25:06 -0700
Received: by wproxy.gmail.com with SMTP id 36so2197895wra
        for <java-user@lucene.apache.org>; Tue, 03 May 2005 11:23:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=cCprXy7O4SODTn1sqi6WljAFxptKhFPUHI3ElnsVIDt+xIaESmEjaekQLekeJ3c/6FsKlhHijdYZgoOU4sZb8ST+FQfp/FTffcgKgOi6yztPrfNmgRD0i43E7SS+n8RqkdW9bXlnVnjVcD2EgwmVJcgDYbWFcHdw46WvRCWXr0Y=
Received: by 10.54.97.11 with SMTP id u11mr32443wrb;
        Tue, 03 May 2005 11:23:15 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Tue, 3 May 2005 11:23:15 -0700 (PDT)
Message-ID: <4f05ec8e05050311236096a238@mail.gmail.com>
Date: Tue, 3 May 2005 20:23:15 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: Lucene user list <java-user@lucene.apache.org>
Subject: getting document metadata
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

I would like to retrieve some document metadata after the search, i.e.
the documents that are returned in the Hits would be PDFs and I would
be able to get some info using PDFBox.
But I am not sure about indexing the path when adding the document to
the index (I do some processing with the contents of the index, and I
would like to have only one field: the body contents). Is there
another way to get the document's path if we don't index it? Or just
with magic? :)

Regards,

--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 19:15:26 2005
Return-Path: <java-user-return-14332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86373 invoked from network); 3 May 2005 19:15:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 19:15:26 -0000
Received: (qmail 19546 invoked by uid 500); 3 May 2005 18:57:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19428 invoked by uid 500); 3 May 2005 18:57:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19198 invoked by uid 99); 3 May 2005 18:57:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 11:57:04 -0700
Content-class: urn:content-classes:message
Subject: RE: Indexing in multi-threaded environment
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C55011.91A2F36E"
Date: Tue, 3 May 2005 20:51:10 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA07C97B@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <24CFCE44DCB015489FB96D38BDF4FCAA07C97B@gerard.anchormen.nl>
Thread-Topic: Indexing in multi-threaded environment
Thread-Index: AcVQEOD0xlTXYS3QRXm5umlVABVjlQAADGoV
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55011.91A2F36E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

You should only give a single thread access to the indexwriter. I have =
created a indexupdater that stores all the delete and write requests and =
once and a while a thread (triggered by Quartz) processes the requests =
in a single batch.
=20
another way would be synchronizing the indexupdater and only letting a =
single thread have access and process the request direct. The problem is =
that your indexupdater will be blocked and there will be a lot of =
overhead if you update the indexer a document at a time.=20

________________________________

From: Sodel Vazquez-Reyes =
[mailto:S.Vazquez-reyes@postgrad.manchester.ac.uk]
Sent: Tue 3-5-2005 20:11
To: lucene-user@jakarta.apache.org
Subject: Indexing in multi-threaded environment



Hi,
I am starting my application in multi-threaded environment,
could somebody show me any examples with serialize calls to the
IndexWriter.addDocument(Document)?

because my idea is to use RAMDirectory based in parallel, one in each
thread, and merges them into a single index on the disk using
IndexWriter.addIndexes(Directory[]) method, It is working with a single
process but I have problems with my threads implementation.
Or any ideas about this.

Best regards.
Sodel.

--
Sodel Vazquez-Reyes
PhD Student

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






------_=_NextPart_001_01C55011.91A2F36E
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C55011.91A2F36E--

From java-user-return-14333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 19:22:20 2005
Return-Path: <java-user-return-14333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95689 invoked from network); 3 May 2005 19:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 19:22:20 -0000
Received: (qmail 45162 invoked by uid 500); 3 May 2005 19:04:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44950 invoked by uid 500); 3 May 2005 19:04:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44817 invoked by uid 99); 3 May 2005 19:04:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 12:04:45 -0700
Received: from p001002 ([216.220.52.5]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 3 May 2005 15:05:37 -0400
Message-ID: <00c201c55013$17698840$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: <java-user@lucene.apache.org>,
	"Pablo Gomes Ludermir" <gomesp@gmail.com>
References: <4f05ec8e05050311236096a238@mail.gmail.com>
Subject: Re: getting document metadata
Date: Tue, 3 May 2005 15:05:37 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 May 2005 19:05:37.0918 (UTC) FILETIME=[1785E9E0:01C55013]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Pablo;

Can you give a little more detail? I don't understand what you mean when you
say "indexing the path when adding the document to the index".

If you get a Lucene document using  LucenePDFDocument class
(http://www.pdfbox.org/javadoc/index.html), the document returned will
contain a field called path. This will have the location of the document on
the system. Is this what you are after?

Luke

----- Original Message ----- 
From: "Pablo Gomes Ludermir" <gomesp@gmail.com>
To: "Lucene user list" <java-user@lucene.apache.org>
Sent: Tuesday, May 03, 2005 2:23 PM
Subject: getting document metadata


Hello all,

I would like to retrieve some document metadata after the search, i.e.
the documents that are returned in the Hits would be PDFs and I would
be able to get some info using PDFBox.
But I am not sure about indexing the path when adding the document to
the index (I do some processing with the contents of the index, and I
would like to have only one field: the body contents). Is there
another way to get the document's path if we don't index it? Or just
with magic? :)

Regards,

-- 
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 19:24:46 2005
Return-Path: <java-user-return-14334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97097 invoked from network); 3 May 2005 19:24:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 19:24:46 -0000
Received: (qmail 64295 invoked by uid 500); 3 May 2005 19:10:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63971 invoked by uid 500); 3 May 2005 19:10:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63914 invoked by uid 99); 3 May 2005 19:10:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 12:10:20 -0700
Received: by wproxy.gmail.com with SMTP id 36so14848wra
        for <java-user@lucene.apache.org>; Tue, 03 May 2005 12:08:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hGnybY5lQZO4WajsEihmQJy28Mw2hcmNSwHnE/Esrw/WIWOHrQ1CF3d2dRCHTcSPiP/OanmrJ60f0/mstjG8k5CQHLN25YRvc36FLorzuBPD/K30uCZVbP1gB9qN2cSmLeK3lWg/AV0hGuKlY/rZT8GbmdGdOLfe/vaThrPToH8=
Received: by 10.54.48.36 with SMTP id v36mr49660wrv;
        Tue, 03 May 2005 12:08:13 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Tue, 3 May 2005 12:08:11 -0700 (PDT)
Message-ID: <4f05ec8e05050312082640038@mail.gmail.com>
Date: Tue, 3 May 2005 21:08:11 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: Lucene user list <java-user@lucene.apache.org>
Subject: Fwd: getting document metadata
In-Reply-To: <4f05ec8e0505031207ba51390@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4f05ec8e05050311236096a238@mail.gmail.com>
	 <00c201c55013$17698840$7703d00a@hypermedia.com>
	 <4f05ec8e0505031207ba51390@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Forgot to send to the list.=20

---------- Forwarded message ----------
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Date: May 3, 2005 9:07 PM
Subject: Re: getting document metadata
To: Luke Shannon <lshannon@futurebrand.com>


I actually would like to have a single field on the Document object,
named CONTENTS. My question would be if it is possible to retrieve the
document with its "number". e.g. IndexReader.document (n); And "n"
would be provided by the Hits.id(...) from the search results. Is it a
reliable approach?

Regards

On 5/3/05, Luke Shannon <lshannon@futurebrand.com> wrote:
> Hi Pablo;
>
> Can you give a little more detail? I don't understand what you mean when =
you
> say "indexing the path when adding the document to the index".
>
> If you get a Lucene document using  LucenePDFDocument class
> (http://www.pdfbox.org/javadoc/index.html), the document returned will
> contain a field called path. This will have the location of the document =
on
> the system. Is this what you are after?
>
> Luke
>
> ----- Original Message -----
> From: "Pablo Gomes Ludermir" <gomesp@gmail.com>
> To: "Lucene user list" <java-user@lucene.apache.org>
> Sent: Tuesday, May 03, 2005 2:23 PM
> Subject: getting document metadata
>
> Hello all,
>
> I would like to retrieve some document metadata after the search, i.e.
> the documents that are returned in the Hits would be PDFs and I would
> be able to get some info using PDFBox.
> But I am not sure about indexing the path when adding the document to
> the index (I do some processing with the contents of the index, and I
> would like to have only one field: the body contents). Is there
> another way to get the document's path if we don't index it? Or just
> with magic? :)
>
> Regards,
>
> --
> Pablo Gomes Ludermir
> gomesp@gmail.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--
Pablo Gomes Ludermir
gomesp@gmail.com


--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 19:31:12 2005
Return-Path: <java-user-return-14335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99629 invoked from network); 3 May 2005 19:31:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 19:31:12 -0000
Received: (qmail 4030 invoked by uid 500); 3 May 2005 19:20:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3964 invoked by uid 500); 3 May 2005 19:20:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3917 invoked by uid 99); 3 May 2005 19:20:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-238-9-116.dia.xo.com (HELO exch01.allegro.med) (66.238.9.116)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 12:20:17 -0700
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Indexing in multi-threaded environment
Date: Tue, 3 May 2005 12:18:24 -0700
Message-ID: <B5ADCC4EA669BF4697F6AF63FF328674FF6920@exch01.allegro.med>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing in multi-threaded environment
thread-index: AcVQENygTK1o8jXmR0i9O/HOGlLLigAAx/lg
From: "Mufaddal Khumri" <MKhumri@allegromedical.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi ,

The calls to the IndexWriter.addIndexes is synchronized. Your code
should not have to do anything more than just calling it.

I believe roughly this will be the scenario that you are looking for:
- while(there is more data)
	- spawn a thread to handle creating documents for this data
		- Thread creates documents and writes them to a
RAMDirectory.
		- Write contents from the RAMDirectory to the File
system dir.
- end while

You can pass an instance of your fileWriter to each of your threads so
that they can write to it when they are done creating there individual
RAMDirectories.

-----Original Message-----
From: Sodel Vazquez-Reyes
[mailto:S.Vazquez-reyes@postgrad.manchester.ac.uk]=20
Sent: Tuesday, May 03, 2005 11:12 AM
To: lucene-user@jakarta.apache.org
Subject: Indexing in multi-threaded environment

Hi,
I am starting my application in multi-threaded environment,
could somebody show me any examples with serialize calls to the
IndexWriter.addDocument(Document)?

because my idea is to use RAMDirectory based in parallel, one in each
thread, and merges them into a single index on the disk using
IndexWriter.addIndexes(Directory[]) method, It is working with a single
process but I have problems with my threads implementation.
Or any ideas about this.

Best regards.
Sodel.

--
Sodel Vazquez-Reyes
PhD Student

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


-------------------------------------------------------------------------=
-----------------
This email and any files transmitted with it are confidential=20
and intended solely for the use of the individual or entity=20
to whom they are addressed. If you have received this=20
email in error please notify the system manager. Please
note that any views or opinions presented in this email=20
are solely those of the author and do not necessarily
represent those of the company. Finally, the recipient
should check this email and any attachments for the=20
presence of viruses. The company accepts no liability for
any damage caused by any virus transmitted by this email.
Consult your physician prior to the use of any medical
supplies or product.
-------------------------------------------------------------------------=
-----------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 19:57:36 2005
Return-Path: <java-user-return-14336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10887 invoked from network); 3 May 2005 19:57:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 19:57:36 -0000
Received: (qmail 80601 invoked by uid 500); 3 May 2005 19:56:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80577 invoked by uid 500); 3 May 2005 19:56:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80557 invoked by uid 99); 3 May 2005 19:56:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lilzmailso02.liwest.at (HELO lilzmailso02.liwest.at) (212.33.55.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 12:56:56 -0700
Received: from cm66-207.liwest.at ([212.241.66.207] helo=[192.168.0.4])
	by lilzmailso02.liwest.at with esmtp (Exim 4.24)
	id 1DT3U1-0003RA-6Z
	for java-user@lucene.apache.org; Tue, 03 May 2005 21:55:05 +0200
Message-ID: <4277D674.4050401@eduhi.at>
Date: Tue, 03 May 2005 21:52:20 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Compass 0.4 Released
References: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com>
In-Reply-To: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

kimchy.compass@mac.com wrote:

> Hi,
>
> "
>    We are please to announce the initial release of Compass, a new 
> concept in semantic Search Engine/Object Mapping (OSEM) technology.
>    Compass is a Java framework, built on top of the Lucene Search 
> Engine, making it simple to map your Java object model into a Search 
> Engine. Providing a powerful new tool for application development.
>     Compass introduces declaritive mapping technology OSEM (similar 
> to O/R database mapping), transaction management, Google like query 
> syntax (based on lucene), externalise common meta-data and much much 
> more.
> "
>
>    You are the first to know, and I would really appreciate your 
> comments about the project and possible enhancements. We can continue 
> the thread here, but I would be happy if comments and enhancements 
> would be recorded on the project (compass) mailing lists.
>
> The project site: http://compass.sourceforge.net
> User Mailing lists: https://sourceforge.net/mail/?group_id=121279
>
>   Cheers
>
> Shay Banon
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
I would be very interesting to hear/read more about the
compass::semantics how this will be realized. I don't mean the code I
mean the models behind (like rdf ontologies,...)
thx
Stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 21:58:04 2005
Return-Path: <java-user-return-14337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64491 invoked from network); 3 May 2005 21:58:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 21:58:04 -0000
Received: (qmail 75809 invoked by uid 500); 3 May 2005 21:59:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75735 invoked by uid 500); 3 May 2005 21:59:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75588 invoked by uid 99); 3 May 2005 21:59:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx1.scansoft.com (HELO mx1.scansoft.com) (198.71.64.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 14:59:36 -0700
Received: from pb-exchcon.pb.scansoft.com ([10.1.4.73]) by mx1.scansoft.com with InterScan Messaging Security Suite; Tue, 03 May 2005 18:10:42 -0400
Received: by pb-exchcon.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <KG8N0R9F>; Tue, 3 May 2005 17:57:45 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B013F4BE8@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: PerFieldSimilarity
Date: Tue, 3 May 2005 17:57:38 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Everyone, 

I've been searching the archive without success to answer this one: is it
possible to specify one similarity class per field, just like we can do with
an analyzer ?  I know I can change the similarity of the searcher, but that
restrict me to break some complex queries into different chunk and sum the
score "by hand" rather than having the fast internal implementation do the
job.  What I would really like is to have something like
PerFieldAnalyzerWrapper but for similarity...  Is this possible ?

Jp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 22:02:29 2005
Return-Path: <java-user-return-14338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66142 invoked from network); 3 May 2005 22:02:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 22:02:29 -0000
Received: (qmail 85479 invoked by uid 500); 3 May 2005 22:04:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85448 invoked by uid 500); 3 May 2005 22:04:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85434 invoked by uid 99); 3 May 2005 22:04:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx1.scansoft.com (HELO mx1.scansoft.com) (198.71.64.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 15:04:02 -0700
Received: from pb-exchcon.pb.scansoft.com ([10.1.4.73]) by mx1.scansoft.com with InterScan Messaging Security Suite; Tue, 03 May 2005 18:15:07 -0400
Received: by pb-exchcon.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <KG8N0SGX>; Tue, 3 May 2005 18:02:10 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B013F4BEF@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: RE: Implementation of a ScoreObject ?
Date: Tue, 3 May 2005 18:02:09 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would gladly help.  I fear that my Java skills are probably a little
limited for the task, but hey, why not.  I would certainly need some
guidance as to where to start from.  I'm just to unfamiliar with complexes
queries structures and scoring methodology.  While I'm pretty sure reading
the entire code would be a great exercise, I'm not sure I can afford the
time needed to learn everything the hard way...  

Doug, do you have any clues form where I can start from ?

Thanks, 

Jp



-----Original Message-----
From: Chuck Williams [mailto:chuck@allthingslocal.com] 
Sent: Wednesday, April 27, 2005 12:30 PM
To: java-user@lucene.apache.org
Subject: Re: Implementation of a ScoreObject ?

Robichaud, Jean-Philippe wrote:

>Probably the simplest/ideal schema of the ScoreObject would be something
>like a hashtable with Term being the keys and a TermScoreObject the value.
>The TermScoreObject would be filled at search time (if asked) and would
>contain all values used in the calculation of the "similarity score".  That
>way we could easily know what is the contribution of a specific term to the
>overall score.  
>  
>
Jean-Philippe,

Some of us have talked about a score object in the past and agree that 
this would be a very good thing.  In addition to providing a sounder 
foundation for explanation, such a mechanism could help to provide 
better scoring.  For example, one limitation in Lucene now is that score 
normalization is ad hoc -- all scores are divided by the highest score 
IF the highest score is greater than 1, and whether or not the highest 
unnormalized score is greater that 1 is pretty much random.  This yields 
a situation where scores across multiple searches are not comparable 
(notwithstanding many applications that do compare them, getting random 
results).  With a score object, one would like to keep additional 
information, e.g., a count of boost-weighted query terms and the 
boost-weighted percentage of such terms that were matched by each 
result.  This could provide a more intrinsic normalization scheme, e.g., 
defining the highest score as the boost-weighted percentage of matched 
query terms and dividing all scores by the same constant to achieve 
this.  (Some additional refinements are necessary to handle things like 
MultiTermQuery's, which rewrite to BooleanQuery's with coord disabled -- 
such lists of alternate query terms should count as one term).

That is one addition example of something score objects could be used 
for.  A general mechanism should provide for easy extension such that 
different scoring classes could collect, record and aggregate different 
information for various purposes.

I've wanted to work on this for a while but haven't found the time.  I 
know Doug has had a score object mechanism on his radar screen (he first 
suggested this approach to me as a solution to the normalization issue 
I'm concerned about).  I expect he has a good approach in mind.  It 
would be great if you'd tackle this -- I'd be happy to help if that 
makes sense.

Chuck


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 22:09:36 2005
Return-Path: <java-user-return-14339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67822 invoked from network); 3 May 2005 22:09:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 22:09:35 -0000
Received: (qmail 95217 invoked by uid 500); 3 May 2005 22:11:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95189 invoked by uid 500); 3 May 2005 22:11:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95174 invoked by uid 99); 3 May 2005 22:11:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 15:11:09 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: indexing  to multiple indexes
Date: Tue, 3 May 2005 18:09:21 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01082A4B@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing in multi-threaded environment
thread-index: AcVQENygTK1o8jXmR0i9O/HOGlLLigAAx/lgAAWu5zA=
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi guys,

I am writing an indexing applications that writes to 4 different =
indexes. the way it work is the following: I write to one index every =
10000 documents and then close that index and call optimize() as well, =
at the same time I write to the second index and close it after 10000 =
docs and so on.

my concern is the following, what happens if it's time to write to an =
index while it is still running optimize()? am I able to write to this =
index, which I don t think I am because of the locking. I think I should =
just wait till optimize is done but I am just waiting time.

my second question is shall I just close each index without calling =
optimize() and just set a higher mergeFactor to index fast, and optimize =
in the end?.

any ideas are very welcome and appreciated.

thanks a lot,

omar.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 03 23:42:23 2005
Return-Path: <java-user-return-14340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90763 invoked from network); 3 May 2005 23:42:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2005 23:42:23 -0000
Received: (qmail 83080 invoked by uid 500); 3 May 2005 23:43:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82969 invoked by uid 500); 3 May 2005 23:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82910 invoked by uid 99); 3 May 2005 23:43:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 16:43:26 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7445E13E2006; Tue,  3 May 2005 19:41:34 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 5246313E2005
	for <java-user@lucene.apache.org>; Tue,  3 May 2005 19:40:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <FBA9F803D33470489B9B4676A6B09F0B013F4BE8@mt-exch1.montreal.speechworks.com>
References: <FBA9F803D33470489B9B4676A6B09F0B013F4BE8@mt-exch1.montreal.speechworks.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B3C9259F-0C76-434A-BC38-B5E0B623D1B7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: PerFieldSimilarity
Date: Tue, 3 May 2005 19:40:21 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 3, 2005, at 5:57 PM, Robichaud, Jean-Philippe wrote:

> Hi Everyone,
>
> I've been searching the archive without success to answer this one:  
> is it
> possible to specify one similarity class per field, just like we  
> can do with
> an analyzer ?  I know I can change the similarity of the searcher,  
> but that
> restrict me to break some complex queries into different chunk and  
> sum the
> score "by hand" rather than having the fast internal implementation  
> do the
> job.  What I would really like is to have something like
> PerFieldAnalyzerWrapper but for similarity...  Is this possible ?

I'm interested in what your use case is in desiring this.  What  
factors would you vary per field?  The only factor that seems to make  
sense is lengthNorm which is computed at indexing time and does allow  
per-field tweaking.  A custom Similarity subclass could be used to  
affect the lengthNorm based on the field name parameter.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 01:00:24 2005
Return-Path: <java-user-return-14341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7833 invoked from network); 4 May 2005 01:00:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 01:00:24 -0000
Received: (qmail 22734 invoked by uid 500); 4 May 2005 01:02:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22688 invoked by uid 500); 4 May 2005 01:02:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22674 invoked by uid 99); 4 May 2005 01:02:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 18:02:03 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2CC7F13E2006; Tue,  3 May 2005 21:00:05 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4B1D813E2005
	for <java-user@lucene.apache.org>; Tue,  3 May 2005 20:59:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <427365A0.8070002@gmx.net>
References: <426DEBE1.1060309@gmx.net> <816ce3ffeb6daf26ceddfadb287fba6c@ehatchersolutions.com> <427365A0.8070002@gmx.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <44122ECE-A650-43EE-AEFA-E55527A5F11E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing of virtual "made up" documents
Date: Tue, 3 May 2005 20:59:29 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Apr 30, 2005, at 7:01 AM, Daniel Stephan wrote:

> Erik, thank you very much for your help!
>
> I am not in the position to build the indexing (other features are in
> line before that), yet, but I will try Lucene for it. Looks very  
> good :)
>
> What I did not ask the last time, because it just occurred to me,  
> was: I
> have in my application a metric of "fit" to know how much a term
> compares to a document, and also how much the term compares to the  
> whole
> collection. Seems to be a good candidate for your "boost" value, then?

Sorry for the delay.  It sounds like a custom Similarity is what  
you'll need to implement.  Check out the formula and javadocs here:

     http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
Similarity.html

The tf and idf factors seem to be what, though only idf gives you the  
term for context.  Boosting a term is only possible at query time,  
not indexing time, so that might not be sufficient, though maybe it is.

Let us know how you manage to "fit" Lucene into your situation.

     Erik


>
> Cheers,
> Daniel
>
>
> Erik Hatcher schrieb:
>
>
>>
>> On Apr 26, 2005, at 3:21 AM, Daniel Stephan wrote:
>>
>>
>>> lets see if somebody listens on this list :-D
>>>
>>
>>
>> I doubt many are on this list, yet.  But your question is probably
>> best asked on the java-user@lucene list rather than here.  I'll CC
>> java-user this time to loop those folks in.
>>
>>
>>> I wonder if the following is possible with Lucene.
>>>
>>
>>
>> Yes, it is!
>>
>>
>>> I would like to add documents to the index, which aren't real  
>>> documents.
>>>
>>
>>
>> That's pretty much how my use of Lucene works - there aren't real
>> filesystem documents to index per se.
>>
>>
>>> :-) Meaning: there is no text to parse and tokenize. What I have  
>>> is a
>>> number of features, some are simple words, some are combinations of
>>> words. Those features classify an entity in my database.
>>>
>>> I have also an own parser/analyzer/tokenizer which is able to take a
>>> text and extract those features from it. (Possibly a query.)
>>>
>>> So, I wanna do sth like (pseudo code):
>>>
>>>    Lucene.index(myEntity.getId, myEntity.getDescriptors)
>>>
>>> and then when a query was issued:
>>>
>>>    List entityIds = Lucene.query 
>>> (myQuery.convertToLuceneQueryLanguage)
>>>
>>> I was looking at the source and couldn't find a possibility to  
>>> get rid
>>> of the analyzing stage to hand the features to Lucene myself.
>>>
>>
>>
>> You have two good options here.... you can add each token  
>> individually
>> as a Field.Keyword() with the same field name - these will not get
>> analyzed.
>>
>>
>>> One possibility would be to use an analyzer which only considers
>>> whitespace as delimiter and set all descriptors as one string. This
>>> feels suboptimal, because I have them as single tokens already and
>>> concatenating them first, to let lucene tokenize them again,   
>>> should not
>>> be necessary.
>>>
>>
>>
>> You're right, it's not necessary.  The second option is to create a
>> custom Analyzer that returns the tokens you've already established.
>>
>>
>>> Also, the neighbour information isn't applicable in my scenario. It
>>> seems you use placement of terms somehow. I don't have placement
>>> information. Would that hurt Lucene?
>>>
>>
>>
>> Placement of terms is used in phrase queries, but certainly isn't a
>> necessity that you concern yourself with it.  You can simply emit
>> tokens in whatever position you like (leaving the default position
>> increment to 1 is what I'd recommend).
>>
>>
>>> I am not sure how Lucenes uses the placement information, but in the
>>> described case where I concatenate all my features to a
>>> whitespace-delimited text, I fear that Lucene uses the placement of
>>> features in this made-up text and comes to some wrong conclusions  
>>> (after
>>> all, the placement is arbitrary in the "made-up" text).
>>>
>>
>>
>> What wrong conclusions do you fear here?  Again, the position
>> information is used for phrase queries, but in your situation you
>> wouldn't be using phrase queries so no need to concern yourself with
>> the position stuff at all.
>>
>>
>>> Also 2, I am not sure yet, how the converter would have to look  
>>> like.
>>> After all the terms in the query have to be of the same form as  
>>> those in
>>> the index, otherwise they wouldn't match. Can I inject my own  
>>> analyzer
>>> only for the query part, so that lucene hands it phrases and lets it
>>> build features from those phrases?
>>>
>>
>>
>> Sure - you can use any analyzer you like for query parsing.  It  
>> sounds
>> like you aren't going to use QueryParser, though, so you may not need
>> an analyzer at all.  You definitely have to ensure that the terms in
>> the query match the terms you indexed in order to find documents.   
>> How
>> you do this is really up to you.
>>
>>
>>> Any info is appreciated. I could maybe build my own simple index,  
>>> the
>>> analyzer is already there, but I would prefer to use a professional
>>> solution with a good query language and some additional
>>> nice-to-have-features.
>>>
>>
>>
>> If you could give us something more concrete, we could help in more
>> detail.  But from the scenario you've described, Lucene fits fine and
>> in fact describes the way I use it in some cases.
>>
>>
>>> May I use Lucene? :-)
>>>
>>
>>
>> Yes, you may!
>>
>>     Erik
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 04:29:01 2005
Return-Path: <java-user-return-14342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88323 invoked from network); 4 May 2005 04:29:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 04:29:01 -0000
Received: (qmail 11539 invoked by uid 500); 4 May 2005 04:30:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11516 invoked by uid 500); 4 May 2005 04:30:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11500 invoked by uid 99); 4 May 2005 04:30:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.206 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 03 May 2005 21:30:36 -0700
Received: by rproxy.gmail.com with SMTP id i8so41711rne
        for <java-user@lucene.apache.org>; Tue, 03 May 2005 21:28:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SlvmnIir5iS0XWo0MoFoxXgZXUryp05yszvD3dgKIvwXMaJBNZPQ8lWZHKn7bAa5BqaJMoBVHOOLpsVWDMD7pCoxwaLlh7RF6L5uZgJ7tNnA0gsD0rvah5utvTMQdDfJj4CSkwc/17u9ShOwn8GLUu1YED2AC5m/TILtMZbkehk=
Received: by 10.38.96.79 with SMTP id t79mr423056rnb;
        Tue, 03 May 2005 21:28:43 -0700 (PDT)
Received: by 10.38.104.11 with HTTP; Tue, 3 May 2005 21:28:43 -0700 (PDT)
Message-ID: <88c6a67205050321285a980abb@mail.gmail.com>
Date: Tue, 3 May 2005 23:28:43 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing in multi-threaded environment
In-Reply-To: <20050503191130.pi8kwcwkskc88kgo@webmail2.manchester.ac.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20050503191130.pi8kwcwkskc88kgo@webmail2.manchester.ac.uk>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Sodel,

You could use a single queue, where one thread pulls things off the
queue and any number of threads put things on the queue.  You can
index say 1000 documents each to RAMDirectories in multiple threads,
then enqueue the RAMDirectories.  When the queue reaches a certain
size, the single thread can empty the queue and call
IndexWriter.addIndexes().  A blocking queue is best, there's probably
one in doug lea's util.concurrent, or in Java 1.5 there is
BlockingQueue.

I've done exactly what you describe, using N threads where N is the
number of processors on the machine, plus one more thread that writes
to the file system index (since that is I/O-bound anyway).  Since most
of the CPU time is tokenizing/stemming/etc, the method works well.=20
The main drawback is IndexWriter.addIndexes(Directory[]) always calls
optimize, which takes a lot of time as the index grows.

On 5/3/05, Sodel Vazquez-Reyes
<S.Vazquez-reyes@postgrad.manchester.ac.uk> wrote:
> Hi,
> I am starting my application in multi-threaded environment,
> could somebody show me any examples with serialize calls to the
> IndexWriter.addDocument(Document)?
>=20
> because my idea is to use RAMDirectory based in parallel, one in each
> thread, and merges them into a single index on the disk using
> IndexWriter.addIndexes(Directory[]) method, It is working with a single
> process but I have problems with my threads implementation.
> Or any ideas about this.
>=20
> Best regards.
> Sodel.
>=20
> --
> Sodel Vazquez-Reyes
> PhD Student
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 08:52:42 2005
Return-Path: <java-user-return-14343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76554 invoked from network); 4 May 2005 08:52:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 08:52:42 -0000
Received: (qmail 89364 invoked by uid 500); 4 May 2005 08:53:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89292 invoked by uid 500); 4 May 2005 08:53:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89233 invoked by uid 99); 4 May 2005 08:53:43 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=CELL_PHONE_IMPROVE,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 01:53:43 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j448pYDn006670
	for <java-user@lucene.apache.org>; Wed, 4 May 2005 10:51:35 +0200
From: =?iso-8859-1?Q?Kai_G=FClzau?= <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: search model
Date: Wed, 4 May 2005 10:52:53 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDEEGMGDAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

In chapter 10  of "Lucene in action" there are several case studies where
domain specific optimization is done in custom code (e.g. boosting
"new articles" or indexing certain field with a special analyzer).
I think we all have done something similar in our lucene application.

What i would love to see is a mini framework which frees us from all this
little standard things to be done (assigning an analyzer to a field for
indexing and query / boosting docs & fields at indexing time / defining
default search fields / ...).
The case study for "the server side" shows an approach where some of these
things can be done via an external config file. Unfortunately that config
is a little too specific ;)

Furthermore i think a user doesn't know about fields, boosts, phonetics or
fuzzy searches. And he shouldn't. A "search model" should do instead.

The search 'harry potter' should be translated for instance to
'title:"harry potter"^2 content:"harry potter" title:harry^2
title:potter^2' with the help of a search model.

Does anybody know of contrib classes (or a project) that do something
similar?


Thanks in advance!

Kai Glzau


original question @
http://www.manning-sandbox.com/thread.jspa?threadID=11835


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 09:35:24 2005
Return-Path: <java-user-return-14344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89370 invoked from network); 4 May 2005 09:35:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 09:35:24 -0000
Received: (qmail 79704 invoked by uid 500); 4 May 2005 09:36:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79512 invoked by uid 500); 4 May 2005 09:36:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79496 invoked by uid 99); 4 May 2005 09:36:51 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 02:36:49 -0700
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (Xserve/8.12.11/smtpout13/MantshX 4.0) with ESMTP id j449YqZn005748
	for <java-user@lucene.apache.org>; Wed, 4 May 2005 02:34:53 -0700 (PDT)
Received: from [10.80.1.61] ([213.52.162.40])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id j449YnXb027445
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 4 May 2005 02:34:51 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <4277D674.4050401@eduhi.at>
References: <998FE3E2-378D-4135-8421-BD0A0CA4C60B@mac.com> <4277D674.4050401@eduhi.at>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1C8884A0-2F2A-42F9-BFE9-7DB90D4E9CC1@mac.com>
Content-Transfer-Encoding: 7bit
From: kimchy.compass@mac.com
Subject: Re: Compass 0.4 Released
Date: Wed, 4 May 2005 10:34:39 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

    I have not written anything about it, and it's just ideas that I  
have. The main goal of the semantics is that once you created that  
"extension points" from your domain model - your metadata, you can  
now use semantic modeling (is that the right phrase?) like topic maps  
and RDF to define the relationship between them.

     You already have a lot of information, which cost you close to  
nothing to create (sell sell ;-) ) by defining the mapping (meta- 
data, relationships), and if you went the extra mile and created  
"common-metadata", than you have a single source of metadata  
definition (that semantics will be able to utilize as well). So now,  
if you wish to define semantic relationship on top of all that, thats  
where I think that Semantics comes into play.

     Another aspect of semantics can be exporting your index as RDF,  
or Topic Map.

     In any case, there is a lot of thinking to be done on the  
subject, and I am no "semantic expert", so if you wish to discuss it,  
just drop some email to compass mailing lists.

Cheers

    Shay

On 3 May 2005, at 20:52, Gusenbauer Stefan wrote:

> kimchy.compass@mac.com wrote:
>
>
>> Hi,
>>
>> "
>>    We are please to announce the initial release of Compass, a new
>> concept in semantic Search Engine/Object Mapping (OSEM) technology.
>>    Compass is a Java framework, built on top of the Lucene Search
>> Engine, making it simple to map your Java object model into a Search
>> Engine. Providing a powerful new tool for application development.
>>     Compass introduces declaritive mapping technology OSEM (similar
>> to O/R database mapping), transaction management, Google like query
>> syntax (based on lucene), externalise common meta-data and much much
>> more.
>> "
>>
>>    You are the first to know, and I would really appreciate your
>> comments about the project and possible enhancements. We can continue
>> the thread here, but I would be happy if comments and enhancements
>> would be recorded on the project (compass) mailing lists.
>>
>> The project site: http://compass.sourceforge.net
>> User Mailing lists: https://sourceforge.net/mail/?group_id=121279
>>
>>   Cheers
>>
>> Shay Banon
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
> I would be very interesting to hear/read more about the
> compass::semantics how this will be realized. I don't mean the code I
> mean the models behind (like rdf ontologies,...)
> thx
> Stefan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 20:12:28 2005
Return-Path: <java-user-return-14345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86510 invoked from network); 4 May 2005 20:12:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 20:12:27 -0000
Received: (qmail 91981 invoked by uid 500); 4 May 2005 20:10:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91889 invoked by uid 500); 4 May 2005 20:10:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91819 invoked by uid 99); 4 May 2005 20:10:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx1.scansoft.com (HELO mx1.scansoft.com) (198.71.64.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 13:10:49 -0700
Received: from pb-exchcon.pb.scansoft.com ([10.1.4.73]) by mx1.scansoft.com with InterScan Messaging Security Suite; Wed, 04 May 2005 16:20:31 -0400
Received: by pb-exchcon.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <KJHHG35C>; Wed, 4 May 2005 16:07:31 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B014347F5@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: RE: PerFieldSimilarity
Date: Wed, 4 May 2005 16:07:16 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I have an application where I use Lucene to retrieve "made up" documents,
just like many people do.  I my case, I need the score to be meaningful,
really meaning full.  For certain fields, the similarity should be a
frequency count, without idf factor, for others the idf should be the real
idf, for others again idf should be equal to sqrt(idf).  Again, I can change
the similarity of the reader at run-time and issue specific queries, summing
the score myself, but that is pretty inefficient.  A ScoreObject
(http://mail-archives.apache.org/mod_mbox/lucene-java-user/200504.mbox/%3c42
6FBE1C.5050800@allthingslocal.com%3e) would save me a little bit, but that's
another topic.

I understand that Lucene objective is more to be a generic search engine
rather than a semantic/special IR system, but it is so close of being so
that is it too tempting to use it as is.

Jp
 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Tuesday, May 03, 2005 7:40 PM
To: java-user@lucene.apache.org
Subject: Re: PerFieldSimilarity


On May 3, 2005, at 5:57 PM, Robichaud, Jean-Philippe wrote:

> Hi Everyone,
>
> I've been searching the archive without success to answer this one:  
> is it
> possible to specify one similarity class per field, just like we  
> can do with
> an analyzer ?  I know I can change the similarity of the searcher,  
> but that
> restrict me to break some complex queries into different chunk and  
> sum the
> score "by hand" rather than having the fast internal implementation  
> do the
> job.  What I would really like is to have something like
> PerFieldAnalyzerWrapper but for similarity...  Is this possible ?

I'm interested in what your use case is in desiring this.  What  
factors would you vary per field?  The only factor that seems to make  
sense is lengthNorm which is computed at indexing time and does allow  
per-field tweaking.  A custom Similarity subclass could be used to  
affect the lengthNorm based on the field name parameter.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 20:46:04 2005
Return-Path: <java-user-return-14346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2001 invoked from network); 4 May 2005 20:46:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 20:46:04 -0000
Received: (qmail 1451 invoked by uid 500); 4 May 2005 20:47:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1411 invoked by uid 500); 4 May 2005 20:47:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1216 invoked by uid 99); 4 May 2005 20:47:28 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from m6f095e42.tmodns.net (HELO mailrelay.t-mobile.com) (66.94.9.111)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 13:47:28 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailrelay.t-mobile.com (Postfix) with ESMTP id 2FFBE99DB;
	Wed,  4 May 2005 13:39:29 -0700 (PDT)
Received: from mailrelay.t-mobile.com ([127.0.0.1])
 by localhost (mailrelay.t-mobile.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16236-06; Wed,  4 May 2005 13:39:28 -0700 (PDT)
Received: from [10.253.134.112] (unknown [10.253.134.112])
	by mailrelay.t-mobile.com (Postfix) with ESMTP;
	Wed,  4 May 2005 13:39:28 -0700 (PDT)
Message-ID: <4279345E.5020801@apache.org>
Date: Wed, 04 May 2005 13:45:18 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050414
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: PerFieldSimilarity
References: <FBA9F803D33470489B9B4676A6B09F0B014347F5@mt-exch1.montreal.speechworks.com>
In-Reply-To: <FBA9F803D33470489B9B4676A6B09F0B014347F5@mt-exch1.montreal.speechworks.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Robichaud, Jean-Philippe wrote:
> Again, I can change
> the similarity of the reader at run-time and issue specific queries, summing
> the score myself, but that is pretty inefficient.

You can also specify a Similarity implementation per Query node in a 
complex query, e.g.:

BooleanQuery query = new BooleanQuery() {
   public Similarity getSimilarity(Searcher searcher) {
     return new DefaultSimilarity {
        ... override Similarity methods here ...
     };
   }
}

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 20:52:16 2005
Return-Path: <java-user-return-14347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4941 invoked from network); 4 May 2005 20:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 20:52:16 -0000
Received: (qmail 20624 invoked by uid 500); 4 May 2005 20:53:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20594 invoked by uid 500); 4 May 2005 20:53:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20511 invoked by uid 99); 4 May 2005 20:53:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx2.scansoft.com (HELO mx2.scansoft.com) (198.71.64.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 13:53:53 -0700
Received: from pb-exchcon.pb.scansoft.com ([10.1.4.73]) by mx2.scansoft.com with InterScan Messaging Security Suite; Wed, 04 May 2005 16:56:13 -0400
Received: by pb-exchcon.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <KJ2S07M4>; Wed, 4 May 2005 16:51:41 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B01434832@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: RE: PerFieldSimilarity
Date: Wed, 4 May 2005 16:51:39 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How cool, I did not knew that...  that may help me...  If I understand you
correctly, I can create a boolean query where each "clause" use a different
similarity ?

Thanks, 

Jp

___________________________________________________________________________
SpeechWorks solutions from ScanSoft. Inspired Applications, Exceptional
Results
 
<Jean-Philippe Robichaud >  ::  Solution Speech Scientist
ScanSoft :: Professional Services
5100-75 Queen Street, Montreal, QC
P +1 514 843 4884 
 

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Wednesday, May 04, 2005 4:45 PM
To: java-user@lucene.apache.org
Subject: Re: PerFieldSimilarity

Robichaud, Jean-Philippe wrote:
> Again, I can change
> the similarity of the reader at run-time and issue specific queries,
summing
> the score myself, but that is pretty inefficient.

You can also specify a Similarity implementation per Query node in a 
complex query, e.g.:

BooleanQuery query = new BooleanQuery() {
   public Similarity getSimilarity(Searcher searcher) {
     return new DefaultSimilarity {
        ... override Similarity methods here ...
     };
   }
}

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 21:11:29 2005
Return-Path: <java-user-return-14348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11122 invoked from network); 4 May 2005 21:11:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 21:11:29 -0000
Received: (qmail 69506 invoked by uid 500); 4 May 2005 21:12:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69391 invoked by uid 500); 4 May 2005 21:12:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69359 invoked by uid 99); 4 May 2005 21:12:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from m6f095e42.tmodns.net (HELO mailrelay.t-mobile.com) (66.94.9.111)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 14:12:13 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailrelay.t-mobile.com (Postfix) with ESMTP id 08A6799DD;
	Wed,  4 May 2005 14:04:11 -0700 (PDT)
Received: from mailrelay.t-mobile.com ([127.0.0.1])
 by localhost (mailrelay.t-mobile.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16440-09; Wed,  4 May 2005 14:04:10 -0700 (PDT)
Received: from [10.253.134.112] (unknown [10.253.134.112])
	by mailrelay.t-mobile.com (Postfix) with ESMTP;
	Wed,  4 May 2005 14:04:10 -0700 (PDT)
Message-ID: <42793A27.9030304@apache.org>
Date: Wed, 04 May 2005 14:09:59 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050414
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: PerFieldSimilarity
References: <FBA9F803D33470489B9B4676A6B09F0B01434832@mt-exch1.montreal.speechworks.com>
In-Reply-To: <FBA9F803D33470489B9B4676A6B09F0B01434832@mt-exch1.montreal.speechworks.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Robichaud, Jean-Philippe wrote:
> How cool, I did not knew that...  that may help me...  If I understand you
> correctly, I can create a boolean query where each "clause" use a different
> similarity ?

Yes.  That would look something like:

BooleanQuery booleanQuery = new BooleanQuery();
TermQuery clause1 = new TermQuery("foo", "bar") {
     public Similarity getSimilarity(Searcher searcher) {
       return new DefaultSimilarity() {
         public float idf(Term term) { return 1.0f; }
       };
     }
  };
booleanQuery.add(clause1, true, false);
...

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 21:39:43 2005
Return-Path: <java-user-return-14349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20934 invoked from network); 4 May 2005 21:39:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 21:39:43 -0000
Received: (qmail 42177 invoked by uid 500); 4 May 2005 21:40:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42144 invoked by uid 500); 4 May 2005 21:40:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42119 invoked by uid 99); 4 May 2005 21:40:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.194 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 14:40:30 -0700
Received: by wproxy.gmail.com with SMTP id 36so481592wra
        for <java-user@lucene.apache.org>; Wed, 04 May 2005 14:38:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=RZnHr+qKQYU3dAuZn0MhznavrlJcgZSxKgUaVmDbP1He33aFCxsX0MZ6GjhGqZVfaYh+rrIeh8jYMiR2b8PAaCWP18+YFgmWOQsUFwdJCfNAWrkUidusr8tkD1qXL/fC7Akx44wx73oGqtdXjRlBdc6xjmlU8zMkjSQtTcs+s8U=
Received: by 10.54.54.4 with SMTP id c4mr690230wra;
        Wed, 04 May 2005 14:38:18 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Wed, 4 May 2005 14:38:18 -0700 (PDT)
Message-ID: <4f05ec8e050504143841e1ce8e@mail.gmail.com>
Date: Wed, 4 May 2005 23:38:18 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: Lucene user list <java-user@lucene.apache.org>
Subject: indexing synonyms / reducing the index size
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

I know that we can expand a word to get its synonyms with Wordnet. I
was wondering if we could reduce the index size by including a synonym
instead of a word on the synonym list.

For instance, if "screen" shows up, I would like to replace it by
"monitor" (it is a stupid example, but it was the first thing that
crossed my mind). Thus, instead of having both entries on the index, I
would have only one.

Thus, I would need to pre-process any queries, replacing the words by
its synonyms as well. I was wondering if someone has done such a thing
in an analyzer already and could give me a little help.

My aim is to reduce the index as much as possible (I already have a
stemmer and a stopword filter on the analyzer). Could anyone point
other ways to reduce the number of terms of an index?

The fact is that I would like to create "extra vectors" with my own
weighting scheme, and it is a quite costly algorithm, so the less
terms I have the better it performs.

Regards,
Pablo

--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 04 21:54:01 2005
Return-Path: <java-user-return-14350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25621 invoked from network); 4 May 2005 21:54:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2005 21:54:01 -0000
Received: (qmail 85278 invoked by uid 500); 4 May 2005 21:55:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85250 invoked by uid 500); 4 May 2005 21:55:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85236 invoked by uid 99); 4 May 2005 21:55:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 14:55:56 -0700
Received: (qmail 31047 invoked by uid 532); 4 May 2005 21:51:19 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.2.  Clear:. 
 Processed in 0.059445 secs); 04 May 2005 21:51:19 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 4 May 2005 21:51:19 -0000
Message-ID: <42794498.8010406@tropo.com>
Date: Wed, 04 May 2005 14:54:32 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: indexing synonyms / reducing the index size
References: <4f05ec8e050504143841e1ce8e@mail.gmail.com>
In-Reply-To: <4f05ec8e050504143841e1ce8e@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Pablo Gomes Ludermir wrote:

> Hello all,
> 
> I know that we can expand a word to get its synonyms with Wordnet. I
> was wondering if we could reduce the index size by including a synonym
> instead of a word on the synonym list.
> 
> For instance, if "screen" shows up, I would like to replace it by
> "monitor" (it is a stupid example, but it was the first thing that
> crossed my mind). Thus, instead of having both entries on the index, I
> would have only one.
> 
> Thus, I would need to pre-process any queries, replacing the words by
> its synonyms as well. I was wondering if someone has done such a thing
> in an analyzer already and could give me a little help.

Already done, I did it, bottom of this page, search for wordnet:
http://lucene.apache.org/java/docs/lucene-sandbox/

It runs in 2 phases:
[1] Parses some of Wordnet, stores synonyms in a Lucene index as a kind 
of persistent Map. This is just run once.

[2] Query expansion, does things like expanding "monitor" to "monitor 
screen". This runs against an unchanged index.


> 
> My aim is to reduce the index as much as possible (I already have a
> stemmer and a stopword filter on the analyzer). Could anyone point
> other ways to reduce the number of terms of an index?
> 
> The fact is that I would like to create "extra vectors" with my own
> weighting scheme, and it is a quite costly algorithm, so the less
> terms I have the better it performs.
> 
> Regards,
> Pablo
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 00:13:42 2005
Return-Path: <java-user-return-14351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66071 invoked from network); 5 May 2005 00:13:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 00:13:42 -0000
Received: (qmail 62279 invoked by uid 500); 5 May 2005 00:15:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62219 invoked by uid 500); 5 May 2005 00:15:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 6824 invoked by uid 99); 4 May 2005 23:38:48 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-ID: <1115249794.42795c821ad31@webmail.iu.edu>
Date: Wed,  4 May 2005 18:36:34 -0500
From: yinjin@indiana.edu
To: java-user@lucene.apache.org
Subject: highlight problem
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 149.159.133.223
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Hi, All,

I use lucene highlight package to generate KWIC for our application.

The part of the code is as following:
=====================================================
        if(text != null ){
          TokenStream tokenStream = analyzer.tokenStream("contents",
              new StringReader(text));
          // Get 3 best fragments and seperate with a "..."
          result = highlighter.getBestFragments(tokenStream,
              text, 3, "...");
        }

=====================================================

However, I got a very strange problem. One of my search results from our 
records contains far too much of the text of the paper. It doesn't happen 
for the same paper when I changed the search criteria.

Thanks very mcuh for your help,
Ying 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 00:24:17 2005
Return-Path: <java-user-return-14352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70737 invoked from network); 5 May 2005 00:24:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 00:24:17 -0000
Received: (qmail 80410 invoked by uid 500); 5 May 2005 00:26:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80380 invoked by uid 500); 5 May 2005 00:26:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80356 invoked by uid 99); 5 May 2005 00:26:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.mainstreamdata.com (HELO ns1.mainstreamdata.com) (209.63.42.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 17:26:08 -0700
Received: from localhost (localhost [127.0.0.1])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 963C4C96
	for <java-user@lucene.apache.org>; Wed,  4 May 2005 18:23:55 -0600 (MDT)
Received: from ns1.mainstreamdata.com ([127.0.0.1])
	by localhost (ns1 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 14693-01 for <java-user@lucene.apache.org>;
	Wed, 4 May 2005 18:23:50 -0600 (MDT)
Received: from slc-xchg1.slc.mainstreamdata.com (slc-xchg1.slc.mainstreamdata.com [10.7.11.32])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 39C2CA91
	for <java-user@lucene.apache.org>; Wed,  4 May 2005 18:23:50 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C55108.B5B39636"
Subject: RE: Deletes and Hits
Date: Wed, 4 May 2005 18:23:49 -0600
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E87D843A@slc-xchg1.slc.mainstreamdata.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Deletes and Hits
Thread-Index: AcVMZbzKmwIuzk/KQl+eddu5MDwRWQDy9AIw
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: <java-user@lucene.apache.org>
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at mainstreamdata.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55108.B5B39636
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Starting with your example, I added some code to get a better
understanding of what's going on (see attached).  Assuming I coded
everything right, I found some unexpected results.

Before the optimization, if you use IndexReader.isDeleted() to see if
the document you deleted is really gone, Lucene properly reports that it
is.  After the optimization, it will tell you that the document with the
deleted id is not deleted.  In fact based on an earlier version of the
attached code, I believe that if the index is outside the range of valid
docIDs, it still reports the document is not deleted (it probably
searches the deleted list but doesn't look to see if it's a valid
docID). =20

I assume that the explanation is that after the optimization, Lucene has
renumbered everything and thrown away the deletion list.  Therefore, it
has no record of the deleted document.=20

The other thing I was surprised about was that if I index 1000 documents
and do the delete, I seem to get the right document as I move through
the list.  Based on an admittedly brief look at the Lucene code base,
the Hits object caches the last 200 hits you access.  So, if you access
more than that, it has to go to the index to get the information.  After
optimization, as I understand it, the docIDs have changed (because a
document was deleted) and so I would have expected you would get the
wrong Document for a specified docID.  That didn't seem to happen for
reasons I don't understand.

The bigger issue is that if your indexer is running in a different
process than the search code (common on a website I would assume) and
the indexer is adding and deleting Documents (and periodically
optimizing), there is a problem.  If the search gets a hit list, there
is no way of telling what documents are still there. =20

If an optimization occurs between the time I get the Hits object and the
time I go to display it, I could be sitting with several deleted
documents and have no way of determining they are gone short of going
back to the original documents themselves.  Even if an optimization
hasn't occurred, I still need to look at each hit to determine if it
still exists.  Complicated when you are running 24x7.

This doesn't sound like a problem unique to Lucene.  I assume one
strategy is to check before you go to display a document to ensure it
still exists and report some error ("The document you are looking for no
longer exists in the system") to the user.

Any other solutions or comments?



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Thursday, April 28, 2005 8:47 PM
To: java-user@lucene.apache.org
Subject: Re: Deletes and Hits

Let's see:

import org.apache.lucene.search.*;
import org.apache.lucene.index.*;
import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;


public class HitDocDeleteTest {

    static String indexDir =3D "/tmp/hddt";
    static int numDocsAdd =3D 2;
    static int docId =3D 0;

    public static void main(String[] args) throws Exception {
        index();
        search();
    }

    static void index() throws Exception {
        IndexWriter writerMain =3D new IndexWriter(indexDir, new
SimpleAnalyzer(), true);
        for (docId =3D 0; docId < numDocsAdd; docId++)
        {
            Document doc =3D new Document();
            doc.add(Field.Text("Content", "This is for document number
" + docId));
            doc.add(Field.Keyword("DocID", Integer.toString(docId)));
            writerMain.addDocument(doc);
        }
        writerMain.optimize();
        writerMain.close();
    }

    static void search() throws Exception {
        IndexSearcher isearcher =3D new IndexSearcher(indexDir);
        Hits hits =3D isearcher.search(new TermQuery(new Term("Content",
"document")));

        System.out.println("HITS: " + hits.length());
        System.out.println("DOC0: " + hits.doc(0));
        System.out.println("DOC1: " + hits.doc(1));

        IndexReader reader =3D IndexReader.open(indexDir);
        reader.delete(1);
        reader.close();
       =20
        System.out.println("HITS: " + hits.length());
        System.out.println("DOC0: " + hits.doc(0));
        System.out.println("DOC1: " + hits.doc(1));
    }
}

java HitDocDeleteTest
HITS: 2
DOC0: Document<stored/uncompressed,indexed,tokenized<Content:This is
for document number 0> stored/uncompressed,indexed<DocID:0>>
DOC1: Document<stored/uncompressed,indexed,tokenized<Content:This is
for document number 1> stored/uncompressed,indexed<DocID:1>>
HITS: 2
DOC0: Document<stored/uncompressed,indexed,tokenized<Content:This is
for document number 0> stored/uncompressed,indexed<DocID:0>>
DOC1: Document<stored/uncompressed,indexed,tokenized<Content:This is
for document number 1> stored/uncompressed,indexed<DocID:1>>


See also:
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexRead
er.html#isDeleted(int)

Otis


--- Scott Smith <ssmith@mainstreamdata.com> wrote:
> Suppose I do a search and get a hit list.  Before I access the hit
> list,
> my delete routine (running in another thread) comes along and deletes
> some documents.  What happens if I now try to access documents that
> have
> been deleted?
>=20
> =20
>=20
> Scott=20
>=20
> =20
>=20
> =20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C55108.B5B39636
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C55108.B5B39636--

From java-user-return-14353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 01:15:49 2005
Return-Path: <java-user-return-14353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99606 invoked from network); 5 May 2005 01:15:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 01:15:48 -0000
Received: (qmail 52662 invoked by uid 500); 5 May 2005 01:17:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52635 invoked by uid 500); 5 May 2005 01:17:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52620 invoked by uid 99); 5 May 2005 01:17:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from londo.swishmail.com (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 18:17:42 -0700
Received: (qmail 47318 invoked by uid 89); 5 May 2005 01:15:29 -0000
Received: from unknown (HELO ?192.168.168.10?) (doug@cottrell-cutting.net@24.5.160.217)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 5 May 2005 01:15:29 -0000
Message-ID: <427973AA.1030909@apache.org>
Date: Wed, 04 May 2005 18:15:22 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050414
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Deletes and Hits
References: <A60AC49BA89F4F4D9D86F2B7519111E87D843A@slc-xchg1.slc.mainstreamdata.com>
In-Reply-To: <A60AC49BA89F4F4D9D86F2B7519111E87D843A@slc-xchg1.slc.mainstreamdata.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Scott Smith wrote:
> Any other solutions or comments?

Use a different IndexReader for searching than you use for deletions?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 06:29:06 2005
Return-Path: <java-user-return-14354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17857 invoked from network); 5 May 2005 06:29:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 06:29:06 -0000
Received: (qmail 26409 invoked by uid 500); 5 May 2005 06:30:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26220 invoked by uid 500); 5 May 2005 06:30:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26145 invoked by uid 500); 5 May 2005 06:30:04 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 26129 invoked by uid 99); 5 May 2005 06:30:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO darksleep.com) (66.45.34.102)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 04 May 2005 23:30:03 -0700
Received: by darksleep.com (Postfix, from userid 1009)
	id 2968E18922; Thu,  5 May 2005 01:29:43 -0400 (EDT)
Date: Thu, 5 May 2005 01:29:43 -0400
From: "Steven J. Owens" <puffmail@darksleep.com>
To: lucene-user@jakarta.apache.org
Subject: Distribution Strategies?
Message-ID: <20050505052943.GD11888@darksleep.com>
Reply-To: puff@darksleep.com
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: Steven J.Owens <puffmail@darksleep.com>
User-Agent: Mutt/1.5.6+20040907i
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi guys,

     A friend just asked me for advice about synchronizing lucene
indexes across a very large number of servers.  I haven't really
delved that deeply into this sort of stuff, but I've seen a variety of
comments here about similar topics.  Are there are any well-known
approaches?


-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - http://darksleep.com/notablog


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 08:23:15 2005
Return-Path: <java-user-return-14355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91123 invoked from network); 5 May 2005 08:23:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 08:23:15 -0000
Received: (qmail 50525 invoked by uid 500); 5 May 2005 08:24:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50499 invoked by uid 500); 5 May 2005 08:24:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50473 invoked by uid 99); 5 May 2005 08:24:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26001.mail.ukl.yahoo.com (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 05 May 2005 01:24:44 -0700
Received: (qmail 22053 invoked by uid 60001); 5 May 2005 08:22:18 -0000
Message-ID: <20050505082218.22051.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Thu, 05 May 2005 09:22:17 BST
Date: Thu, 5 May 2005 09:22:17 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: highlight problem
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>> One of my
>> search results from our 
>> records contains far too much of the text

This is a problem I haven't seen before. I suspect it
may have something to do with your choice of analyzer.
Your paper will only ever be fragmented on "token gap"
boundaries ie points in the token stream where the
current token position does not overlap with the
previous token's . If the section in your text which
contains the search terms contains a long stream of
overlapping tokens you will end up with a long
highlighted selection.

Which analyzer are using out of interest?


Cheers
Mark



--- yinjin@indiana.edu wrote:
> 
> 
> Hi, All,
> 
> I use lucene highlight package to generate KWIC for
> our application.
> 
> The part of the code is as following:
>
=====================================================
>         if(text != null ){
>           TokenStream tokenStream =
> analyzer.tokenStream("contents",
>               new StringReader(text));
>           // Get 3 best fragments and seperate with
> a "..."
>           result =
> highlighter.getBestFragments(tokenStream,
>               text, 3, "...");
>         }
> 
>
=====================================================
> 
> However, I got a very strange problem. One of my
> search results from our 
> records contains far too much of the text of the
> paper. It doesn't happen 
> for the same paper when I changed the search
> criteria.
> 
> Thanks very mcuh for your help,
> Ying 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


	
	
		
___________________________________________________________ 
Yahoo! Messenger - want a free and easy way to contact your friends online? http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 13:55:40 2005
Return-Path: <java-user-return-14356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3297 invoked from network); 5 May 2005 13:55:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 13:55:40 -0000
Received: (qmail 58364 invoked by uid 500); 5 May 2005 13:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58274 invoked by uid 500); 5 May 2005 13:54:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58251 invoked by uid 99); 5 May 2005 13:54:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 06:54:04 -0700
Received: from p001002 ([216.220.52.5]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 5 May 2005 09:54:34 -0400
Message-ID: <001b01c55179$f7ddfb60$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: <java-user@lucene.apache.org>,
	"Pablo Gomes Ludermir" <gomesp@gmail.com>
References: <4f05ec8e050504143841e1ce8e@mail.gmail.com>
Subject: Re: indexing synonyms / reducing the index size
Date: Thu, 5 May 2005 09:54:34 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 05 May 2005 13:54:34.0219 (UTC) FILETIME=[F7EAF3B0:01C55179]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Pablo;

I handle synonyms in the Query rather than the Index. Whenever I build a
query I check to see if there is a synonym for each word, or a replacement
for the entire string the user is searching on. If there is (either or both
cases) I include all the synonyms/replacement strings applicable plus the
original word/string in the Query.

This reduces index size (synonyms not in there), but it did result in some
queries exceeding the default max clause count for the BooleanQuery. I ended
up having to increase this.

Luke

----- Original Message ----- 
From: "Pablo Gomes Ludermir" <gomesp@gmail.com>
To: "Lucene user list" <java-user@lucene.apache.org>
Sent: Wednesday, May 04, 2005 5:38 PM
Subject: indexing synonyms / reducing the index size


Hello all,

I know that we can expand a word to get its synonyms with Wordnet. I
was wondering if we could reduce the index size by including a synonym
instead of a word on the synonym list.

For instance, if "screen" shows up, I would like to replace it by
"monitor" (it is a stupid example, but it was the first thing that
crossed my mind). Thus, instead of having both entries on the index, I
would have only one.

Thus, I would need to pre-process any queries, replacing the words by
its synonyms as well. I was wondering if someone has done such a thing
in an analyzer already and could give me a little help.

My aim is to reduce the index as much as possible (I already have a
stemmer and a stopword filter on the analyzer). Could anyone point
other ways to reduce the number of terms of an index?

The fact is that I would like to create "extra vectors" with my own
weighting scheme, and it is a quite costly algorithm, so the less
terms I have the better it performs.

Regards,
Pablo

-- 
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 14:28:26 2005
Return-Path: <java-user-return-14357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16326 invoked from network); 5 May 2005 14:28:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 14:28:26 -0000
Received: (qmail 58288 invoked by uid 500); 5 May 2005 14:30:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58138 invoked by uid 500); 5 May 2005 14:30:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57848 invoked by uid 99); 5 May 2005 14:29:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.intronet.com (HELO mail.intronet.com) (212.240.81.84)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 07:29:58 -0700
Received: from exchange.office.intronet.com (exchange.office.intronet.com [192.168.2.25])
	by mail.intronet.com (8.12.3/8.12.3/Debian-7.1) with ESMTP id j45ER9Fn010301
	for <java-user@lucene.apache.org>; Thu, 5 May 2005 15:27:09 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: String sort order
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 5 May 2005 15:26:02 +0100
Message-ID: <FB842C6EAD7F07418E6ADA50F85236AF01D202C8@exchange.office.intronet.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: String sort order
Thread-Index: AcVRfl0rH7Pxf5pOQrKVyRklAg1QXg==
From: "Daniel Massie" <daniel.massie@intronet.com>
To: <java-user@lucene.apache.org>
X-MailScanner-Information: In case of any problems, please contact the Networking Team for more information
X-MailScanner: Not scanned: please contact the Networking Team for details
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I am looking for a way to provide a custom comparator to lucene which =
will allow me to sort Strings by case aswell as value, essentially using =
equalsIgnoreCase. Can anyone suggest a simple method of achieving this?

Thanks
Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 14:44:07 2005
Return-Path: <java-user-return-14358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23873 invoked from network); 5 May 2005 14:44:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 14:44:07 -0000
Received: (qmail 96890 invoked by uid 500); 5 May 2005 14:43:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96842 invoked by uid 500); 5 May 2005 14:43:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96818 invoked by uid 99); 5 May 2005 14:43:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop06.mail.atl.earthlink.net (HELO pop06.mail.atl.earthlink.net) (207.69.200.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 07:43:44 -0700
Received: from wamui02.slb.atl.earthlink.net ([192.168.167.40])
	by pop06.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DThXH-0004G1-00
	for java-user@lucene.apache.org; Thu, 05 May 2005 10:41:07 -0400
Message-ID: <27684939.1115304067287.JavaMail.root@wamui02.slb.atl.earthlink.net>
Date: Thu, 5 May 2005 09:41:07 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Re: indexing synonyms / reducing the index size
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have done the same as Luke but I needed lucene 1.9rc1 to accomplish it.
I tried it with 1.4.3 but the queryparser could not handle it.

Andrew

-----Original Message-----
From: Luke Shannon <lshannon@futurebrand.com>
Sent: May 5, 2005 8:54 AM
To: java-user@lucene.apache.org, Pablo Gomes Ludermir <gomesp@gmail.com>
Subject: Re: indexing synonyms / reducing the index size

Hi Pablo;

I handle synonyms in the Query rather than the Index. Whenever I build a
query I check to see if there is a synonym for each word, or a replacement
for the entire string the user is searching on. If there is (either or both
cases) I include all the synonyms/replacement strings applicable plus the
original word/string in the Query.

This reduces index size (synonyms not in there), but it did result in some
queries exceeding the default max clause count for the BooleanQuery. I ended
up having to increase this.

Luke

----- Original Message ----- 
From: "Pablo Gomes Ludermir" <gomesp@gmail.com>
To: "Lucene user list" <java-user@lucene.apache.org>
Sent: Wednesday, May 04, 2005 5:38 PM
Subject: indexing synonyms / reducing the index size


Hello all,

I know that we can expand a word to get its synonyms with Wordnet. I
was wondering if we could reduce the index size by including a synonym
instead of a word on the synonym list.

For instance, if "screen" shows up, I would like to replace it by
"monitor" (it is a stupid example, but it was the first thing that
crossed my mind). Thus, instead of having both entries on the index, I
would have only one.

Thus, I would need to pre-process any queries, replacing the words by
its synonyms as well. I was wondering if someone has done such a thing
in an analyzer already and could give me a little help.

My aim is to reduce the index as much as possible (I already have a
stemmer and a stopword filter on the analyzer). Could anyone point
other ways to reduce the number of terms of an index?

The fact is that I would like to create "extra vectors" with my own
weighting scheme, and it is a quite costly algorithm, so the less
terms I have the better it performs.

Regards,
Pablo

-- 
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 15:49:20 2005
Return-Path: <java-user-return-14359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48237 invoked from network); 5 May 2005 15:49:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 15:49:20 -0000
Received: (qmail 76855 invoked by uid 500); 5 May 2005 15:50:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76688 invoked by uid 500); 5 May 2005 15:50:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 68188 invoked by uid 99); 5 May 2005 15:45:57 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-ID: <1115307805.427a3f1d519e6@webmail.iu.edu>
Date: Thu,  5 May 2005 10:43:25 -0500
From: yinjin@indiana.edu
To: java-user@lucene.apache.org
Subject: Re: highlight problem
References: <20050505082218.22051.qmail@web26001.mail.ukl.yahoo.com>
In-Reply-To: <20050505082218.22051.qmail@web26001.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 149.159.133.223
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Quoting mark harwood <markharw00d@yahoo.co.uk>:

Hi, Mark,

I just used StandardAnalyzer and code is as following:

=====================================================
      Analyzer analyzer = new StandardAnalyzer();
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
      String line = in.readLine();

      if (line.length() == -1)
        return;

      Query query = QueryParser.parse(line, "contents", analyzer);
      Hits hits = searcher.search(query);
      Highlighter highlighter =new Highlighter(new QueryScorer(query));
========================================================

Part of the fulltext result is:
========================================================
 sectors in South Africa have failed to incorporate many co-management
principles, such as joint... of the RNP. However, poor representation of
community interests on the joint management committee... of a joint management
committee and the improvement of infrastructure in the area. The key differences
......
========================================================
Of course the result is far more than this.

The paper itself looks normal to me. It makes me confused why this is happening.

Thanks for your help,
Ying







> >> One of my
> >> search results from our 
> >> records contains far too much of the text
> 
> This is a problem I haven't seen before. I suspect it
> may have something to do with your choice of analyzer.
> Your paper will only ever be fragmented on "token gap"
> boundaries ie points in the token stream where the
> current token position does not overlap with the
> previous token's . If the section in your text which
> contains the search terms contains a long stream of
> overlapping tokens you will end up with a long
> highlighted selection.
> 
> Which analyzer are using out of interest?
> 
> 
> Cheers
> Mark
> 
> 
> 
> --- yinjin@indiana.edu wrote:
> > 
> > 
> > Hi, All,
> > 
> > I use lucene highlight package to generate KWIC for
> > our application.
> > 
> > The part of the code is as following:
> >
> =====================================================
> >         if(text != null ){
> >           TokenStream tokenStream =
> > analyzer.tokenStream("contents",
> >               new StringReader(text));
> >           // Get 3 best fragments and seperate with
> > a "..."
> >           result =
> > highlighter.getBestFragments(tokenStream,
> >               text, 3, "...");
> >         }
> > 
> >
> =====================================================
> > 
> > However, I got a very strange problem. One of my
> > search results from our 
> > records contains far too much of the text of the
> > paper. It doesn't happen 
> > for the same paper when I changed the search
> > criteria.
> > 
> > Thanks very mcuh for your help,
> > Ying 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> 	
> 	
> 		
> ___________________________________________________________ 
> Yahoo! Messenger - want a free and easy way to contact your friends online?
> http://uk.messenger.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 17:09:04 2005
Return-Path: <java-user-return-14360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69625 invoked from network); 5 May 2005 17:09:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 17:09:04 -0000
Received: (qmail 83740 invoked by uid 500); 5 May 2005 17:08:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83667 invoked by uid 500); 5 May 2005 17:08:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83636 invoked by uid 99); 5 May 2005 17:08:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx1.scansoft.com (HELO mx1.scansoft.com) (198.71.64.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 10:08:12 -0700
Received: from pb-exchcon.pb.scansoft.com ([10.1.4.73]unverified) by mx1.scansoft.com with InterScan Messaging Security Suite; Thu, 05 May 2005 13:18:27 -0400
Received: by pb-exchcon.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <KJM298HX>; Thu, 5 May 2005 13:05:22 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B014349DA@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: RE: PerFieldSimilarity
Date: Thu, 5 May 2005 13:05:18 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the clarification...

While studying more in depth the doc about Similarity, I discover something
that is troubling be a little.  The idf is calculated using the following
formula:

(Log (numDocInIndex/ (numDocWithTerm_t +1)) +1

While I agree this is fine for most application, it is not quite in mine.
numDocWithTerm_t is really, numDocWith_t.text_in_field_t.field.  That's fine
with me, the problem is the other guy numDocInIndex...  I would like to use
numDocInIndex_having_t.field.  The reason is, again, that I want the
similarity score to be really meaningful.  I have 'classes' of document in
the same index :
Document1: MeaningA="something here",ContentA="searchable text 1"
Document2: MeaningB="something else",ContentB="searchable text 2"
...

I have an unequal number of "A" and "B" documents.  The same query text will
be sent in contentA and contentB at the same time.  Since there is more
document in class B than in class A, the "idf" should use a different
numDocInIndex value.  Is there a good way to achieve that ?

Thanks for all your help, 

Jp


-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Wednesday, May 04, 2005 5:10 PM
To: java-user@lucene.apache.org
Subject: Re: PerFieldSimilarity

Robichaud, Jean-Philippe wrote:
> How cool, I did not knew that...  that may help me...  If I understand you
> correctly, I can create a boolean query where each "clause" use a
different
> similarity ?

Yes.  That would look something like:

BooleanQuery booleanQuery = new BooleanQuery();
TermQuery clause1 = new TermQuery("foo", "bar") {
     public Similarity getSimilarity(Searcher searcher) {
       return new DefaultSimilarity() {
         public float idf(Term term) { return 1.0f; }
       };
     }
  };
booleanQuery.add(clause1, true, false);
...

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 17:50:58 2005
Return-Path: <java-user-return-14361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88950 invoked from network); 5 May 2005 17:50:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 17:50:58 -0000
Received: (qmail 13626 invoked by uid 500); 5 May 2005 17:52:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13287 invoked by uid 500); 5 May 2005 17:52:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13258 invoked by uid 99); 5 May 2005 17:52:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26004.mail.ukl.yahoo.com (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 05 May 2005 10:52:55 -0700
Received: (qmail 97162 invoked by uid 60001); 5 May 2005 17:49:58 -0000
Message-ID: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Thu, 05 May 2005 18:49:57 BST
Date: Thu, 5 May 2005 18:49:57 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: highlight problem
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As much as you have shown of the example output is
roughly what I would expect - using the default
simpleFragmenter you get roughly 100 character sized
fragments and you have shown 3 fragments sized 97, 100
and 105 chars long separated by "...".

> Of course the result is far more than this.

So are you saying you had even more fragments in the
"getBestFragments" return string separated by your
choice of "..." separator?

I also notice the text contains no markup - have you
removed that from the example? 

Cheers
Mark






		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:09:08 2005
Return-Path: <java-user-return-14362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97003 invoked from network); 5 May 2005 18:09:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:09:08 -0000
Received: (qmail 64643 invoked by uid 500); 5 May 2005 18:11:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64573 invoked by uid 500); 5 May 2005 18:11:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64537 invoked by uid 99); 5 May 2005 18:11:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.162.199 as permitted sender)
Received: from zproxy.gmail.com (HELO zproxy.gmail.com) (64.233.162.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 11:11:09 -0700
Received: by zproxy.gmail.com with SMTP id 18so908768nzp
        for <java-user@lucene.apache.org>; Thu, 05 May 2005 11:08:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:cc:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=BMACsyeTTpzmWgujtblkegc+BjKKrf/FO8N33PzTVZ87zACSn4MetO3Vr4lExIxqyd2czCHMc5CY4m/SXpWXlLusOh0rYUZ57INYZ9NLYm5DLOt/sMlrQPa24ukszpaMasw/gb2DTeYopPnc2c3DIsWt9d6pJtvXKF6MxHFq0i8=
Received: by 10.36.84.4 with SMTP id h4mr354611nzb;
        Thu, 05 May 2005 11:08:35 -0700 (PDT)
Received: from ?192.168.1.101? ([24.6.189.152])
        by mx.gmail.com with ESMTP id 15sm103555nzo.2005.05.05.11.08.34;
        Thu, 05 May 2005 11:08:35 -0700 (PDT)
Message-ID: <427A614B.4030703@gmail.com>
Date: Thu, 05 May 2005 11:09:15 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
CC:  lucene-user@jakarta.apache.org
Subject: Re: Distribution Strategies?
References: <20050505052943.GD11888@darksleep.com>
In-Reply-To: <20050505052943.GD11888@darksleep.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have tried to synchronize indexes among servers.
My attempt was to mimic what Nutch has done, using Nutch Distributed 
File System.

But I found it's kind of complicated. Then I stopped.

If someone has some success there, please share it.

Chris

Steven J. Owens wrote:

>Hi guys,
>
>     A friend just asked me for advice about synchronizing lucene
>indexes across a very large number of servers.  I haven't really
>delved that deeply into this sort of stuff, but I've seen a variety of
>comments here about similar topics.  Are there are any well-known
>approaches?
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:09:31 2005
Return-Path: <java-user-return-14363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97098 invoked from network); 5 May 2005 18:09:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:09:31 -0000
Received: (qmail 64705 invoked by uid 500); 5 May 2005 18:11:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64620 invoked by uid 500); 5 May 2005 18:11:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64568 invoked by uid 500); 5 May 2005 18:11:10 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 64548 invoked by uid 99); 5 May 2005 18:11:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.162.199 as permitted sender)
Received: from zproxy.gmail.com (HELO zproxy.gmail.com) (64.233.162.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 11:11:09 -0700
Received: by zproxy.gmail.com with SMTP id 18so908769nzp
        for <lucene-user@jakarta.apache.org>; Thu, 05 May 2005 11:08:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:cc:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=BMACsyeTTpzmWgujtblkegc+BjKKrf/FO8N33PzTVZ87zACSn4MetO3Vr4lExIxqyd2czCHMc5CY4m/SXpWXlLusOh0rYUZ57INYZ9NLYm5DLOt/sMlrQPa24ukszpaMasw/gb2DTeYopPnc2c3DIsWt9d6pJtvXKF6MxHFq0i8=
Received: by 10.36.84.4 with SMTP id h4mr354611nzb;
        Thu, 05 May 2005 11:08:35 -0700 (PDT)
Received: from ?192.168.1.101? ([24.6.189.152])
        by mx.gmail.com with ESMTP id 15sm103555nzo.2005.05.05.11.08.34;
        Thu, 05 May 2005 11:08:35 -0700 (PDT)
Message-ID: <427A614B.4030703@gmail.com>
Date: Thu, 05 May 2005 11:09:15 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
CC:  lucene-user@jakarta.apache.org
Subject: Re: Distribution Strategies?
References: <20050505052943.GD11888@darksleep.com>
In-Reply-To: <20050505052943.GD11888@darksleep.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have tried to synchronize indexes among servers.
My attempt was to mimic what Nutch has done, using Nutch Distributed 
File System.

But I found it's kind of complicated. Then I stopped.

If someone has some success there, please share it.

Chris

Steven J. Owens wrote:

>Hi guys,
>
>     A friend just asked me for advice about synchronizing lucene
>indexes across a very large number of servers.  I haven't really
>delved that deeply into this sort of stuff, but I've seen a variety of
>comments here about similar topics.  Are there are any well-known
>approaches?
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:28:05 2005
Return-Path: <java-user-return-14364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5960 invoked from network); 5 May 2005 18:28:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:28:05 -0000
Received: (qmail 3818 invoked by uid 500); 5 May 2005 18:30:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3779 invoked by uid 500); 5 May 2005 18:30:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 81507 invoked by uid 99); 5 May 2005 18:20:29 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-ID: <1115317080.427a635829dc8@webmail.iu.edu>
Date: Thu,  5 May 2005 13:18:00 -0500
From: yinjin@indiana.edu
To: java-user@lucene.apache.org
Subject: Re: highlight problem
References: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com>
In-Reply-To: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 149.159.133.223
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Mark,

Sorry for the confusing. The complete code is here:
===============================================
Analyzer analyzer = new StandardAnalyzer();
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
      String line = in.readLine();

      if (line.length() == -1)
        return;

      Query query = QueryParser.parse(line, "contents", analyzer);
      Hits hits = searcher.search(query);
      Highlighter highlighter =new Highlighter(new QueryScorer(query));

      String ids = "";
      for (int i = 0; i < hits.length(); i++) {
        Document doc = hits.doc(i);
        String text = doc.get("contents");
        String result = "";

        if(text != null ){
          TokenStream tokenStream = analyzer.tokenStream("contents",
              new StringReader(text));
          // Get 3 best fragments and seperate with a "..."                    
                                                  
          result = highlighter.getBestFragments(tokenStream,
              text, 3, "...");
        }

===============================================
Quoting mark harwood <markharw00d@yahoo.co.uk>:

> As much as you have shown of the example output is
> roughly what I would expect - using the default
> simpleFragmenter you get roughly 100 character sized
> fragments and you have shown 3 fragments sized 97, 100
> and 105 chars long separated by "...".
> 
> > Of course the result is far more than this.
> 
> So are you saying you had even more fragments in the
> "getBestFragments" return string separated by your
> choice of "..." separator?
> 
> I also notice the text contains no markup - have you
> removed that from the example? 
> 
> Cheers
> Mark
> 
> 
> 
> 
> 
> 
> 		
> ___________________________________________________________ 
> How much free photo storage do you get? Store your holiday 
> snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:31:23 2005
Return-Path: <java-user-return-14365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7501 invoked from network); 5 May 2005 18:31:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:31:23 -0000
Received: (qmail 13748 invoked by uid 500); 5 May 2005 18:33:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13600 invoked by uid 500); 5 May 2005 18:33:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13582 invoked by uid 99); 5 May 2005 18:33:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 11:33:26 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9B30113E2006; Thu,  5 May 2005 14:30:47 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 1EA2113E2005
	for <java-user@lucene.apache.org>; Thu,  5 May 2005 14:30:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <1115317080.427a635829dc8@webmail.iu.edu>
References: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com> <1115317080.427a635829dc8@webmail.iu.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <976C7521-B327-4036-9BC8-DE7BD25A52DF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: highlight problem
Date: Thu, 5 May 2005 14:30:00 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ying - please properly subscribe to the java-user list - I've  
moderated in each of your mails thus far.

     Erik


On May 5, 2005, at 2:18 PM, yinjin@indiana.edu wrote:

> Hi, Mark,
>
> Sorry for the confusing. The complete code is here:
> ===============================================
> Analyzer analyzer = new StandardAnalyzer();
>       BufferedReader in = new BufferedReader(new InputStreamReader 
> (System.in));
>       String line = in.readLine();
>
>       if (line.length() == -1)
>         return;
>
>       Query query = QueryParser.parse(line, "contents", analyzer);
>       Hits hits = searcher.search(query);
>       Highlighter highlighter =new Highlighter(new QueryScorer 
> (query));
>
>       String ids = "";
>       for (int i = 0; i < hits.length(); i++) {
>         Document doc = hits.doc(i);
>         String text = doc.get("contents");
>         String result = "";
>
>         if(text != null ){
>           TokenStream tokenStream = analyzer.tokenStream("contents",
>               new StringReader(text));
>           // Get 3 best fragments and seperate with a "..."
>
>           result = highlighter.getBestFragments(tokenStream,
>               text, 3, "...");
>         }
>
> ===============================================
> Quoting mark harwood <markharw00d@yahoo.co.uk>:
>
>
>> As much as you have shown of the example output is
>> roughly what I would expect - using the default
>> simpleFragmenter you get roughly 100 character sized
>> fragments and you have shown 3 fragments sized 97, 100
>> and 105 chars long separated by "...".
>>
>>
>>> Of course the result is far more than this.
>>>
>>
>> So are you saying you had even more fragments in the
>> "getBestFragments" return string separated by your
>> choice of "..." separator?
>>
>> I also notice the text contains no markup - have you
>> removed that from the example?
>>
>> Cheers
>> Mark
>>
>>
>>
>>
>>
>>
>>
>> ___________________________________________________________
>> How much free photo storage do you get? Store your holiday
>> snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:38:12 2005
Return-Path: <java-user-return-14366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10063 invoked from network); 5 May 2005 18:38:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:38:12 -0000
Received: (qmail 33675 invoked by uid 500); 5 May 2005 18:40:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33652 invoked by uid 500); 5 May 2005 18:40:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33624 invoked by uid 99); 5 May 2005 18:40:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.195 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 11:40:11 -0700
Received: by wproxy.gmail.com with SMTP id 36so790017wra
        for <java-user@lucene.apache.org>; Thu, 05 May 2005 11:37:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=K8U4WeXirPJZraHKoTFbhKhfZuJq3RUytUeik0V6hPhv/wdZ9ruGUddvtZwY37hpc09US+h9HePvt+0hG1hYyl83/tZk1egQDxQ8RObNmTOpq4b3A+mwQoHDu3nLDzQ7f6YkjE0xa+1FrtRvTzaj2Hc1dAOoQDPQfc+e9GDi9UU=
Received: by 10.54.109.13 with SMTP id h13mr329010wrc;
        Thu, 05 May 2005 11:37:19 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Thu, 5 May 2005 11:37:19 -0700 (PDT)
Message-ID: <4f05ec8e05050511372f5fa734@mail.gmail.com>
Date: Thu, 5 May 2005 20:37:19 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: categorized search
In-Reply-To: <Pine.LNX.4.58.0504241155230.19799@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4f05ec8e05042407053cbc2031@mail.gmail.com>
	 <426BD1F9.9070008@allthingslocal.com>
	 <Pine.LNX.4.58.0504241155230.19799@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris,

That was partially what I needed. You got it right when I said I
needed the number of categories that I particular term appears (and it
works).
But, I also would like to know in how many documents in each category
that term appears.

For instance: title:lucene appears in the category "search engines"
and "open source software", and it appears in the documents 1, 2 and 3
in the category "search engines" and in documents 4 and 7 in the
categoy "open source". I could not get it to work yet (maybe because
of my lack of experience with Lucene).
Someone could give me a hand???
Thanks
Pablo

On 4/24/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>=20
> : >I have indexed a field that describes the "category" of the document.
> : >Thus, I want to know how many categories have a specific term. Could
> : >someone help me to get this with good performance?
>=20
> I think I'm reading this question different than Chuck, so I'll toss out
> somethign totally different...
>=20
> as I understand it, you've indexed a bunch of documents, with a variety o=
f
> fields, one of which is "category" (for example, maybe you are indexing
> news articles, that each have a "title", "description", "url", and
> "category").  Now you have a term like "title:lucene" (or
> "description:pope") and you want to know the number of unique terms in th=
e
> category field that exist in articles that contain your input term.
>=20
> If that's what you're looking for, then you can problem achieve this by:
>   1) make a TermQuery for your input term (ie: "title:lucene")
>   2) put that TermQuery in a QueryFilter, and call bits(reader)
>   3) call FieldCache.DEFAULT.getStrings(reader,"category")
>   3) loop over the true bits in the BitSet from #3, and for each one, add
>      the corrisponding entry from the String[] in #4 to a Set.
>=20
> when you're all done, the Set will be the list of categories, and the siz=
e
> of that Set is the number (i think) you wanted.
>=20
> (DISCLAIMER: I've never acctaully used FieldCache, i'm just giving you my
> advice based on reading the javadocs)
>=20
> -Hoss
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 18:59:30 2005
Return-Path: <java-user-return-14367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17690 invoked from network); 5 May 2005 18:59:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 18:59:30 -0000
Received: (qmail 82214 invoked by uid 500); 5 May 2005 19:01:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82133 invoked by uid 500); 5 May 2005 19:01:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 57147 invoked by uid 99); 5 May 2005 18:53:31 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-ID: <1115319059.427a6b13116fc@webmail.iu.edu>
Date: Thu,  5 May 2005 13:50:59 -0500
From: yinjin@indiana.edu
To: java-user@lucene.apache.org
Subject: Re: highlight problem
References: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com>
In-Reply-To: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 149.159.133.223
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Mark,

Please ignore my previous posting. I sent it by accident. 

Sorry for the confusing. The complete code is here:
===================================================
      Analyzer analyzer = new StandardAnalyzer();
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
      String line = in.readLine();

      if (line.length() == -1)
        return;

      Query query = QueryParser.parse(line, "contents", analyzer);
      Hits hits = searcher.search(query);
      Highlighter highlighter =new Highlighter(new QueryScorer(query));

      String ids = "";
      for (int i = 0; i < hits.length(); i++) {
        Document doc = hits.doc(i);
        String text = doc.get("contents");
        String result = "";

        if(text != null ){
          TokenStream tokenStream = analyzer.tokenStream("contents",
              new StringReader(text));
          // Get 3 best fragments and seperate with a "..."                    
                                                  
          result = highlighter.getBestFragments(tokenStream,
              text, 3, "...");
        }
===================================================

The result is as following. I only get three fragments, but the 3rd one contains
too much text and I don't copy all of them here. Just for example:
===================================================
 market, TunisiaThe uncertainty about resource availability plays a large role
in water <B>management</B>..., and at all different scales of water
<B>management</B>. First, at the irrigation scheme level... <B>management</B> of
the collective water resource is of ma jor imp ortance for these irrigation
schemes. The aim is here to understand the global risk taken at the scheme
level, by comparing the actual cropping choices and allocation rules to other
cropping possibilities and potential rules. Given an allocation rule, does a
collective cropping choice correspond to a high or a low risk taking ? In our
opinion, it would have been very difficult to estimate the individual risk
tolerances and, with them, the collective risk tolerance because the farms
diversity appeared to be very high and there are complex informal risk sharing
networks. That is why we did not try to determine the optimal risk taking The
study remains at the scale of the scheme: we consider, for example in El Melalsa
scheme, three global fields put under crops, one with wheat, another with
pepper-bean and the last one with melon. A model calculates the different yields
taking into account the water stresses impact, and hence the global profit, for
a given rainfall and a given allocation rule (see appendix).195.0.1A big risk
taking on El Melalsa irrigation schemeThe El Melalsa irrigation scheme is one of
the two studied schemes. It irrigates 160 ha owned by 54 farmers, using a pump
that delivers a flow of 24 l/s. The cropping pattern is based on the following
rotation: wheat then pepper associated with bean and finally melon. There is no
control over the area put under crops. Besides, there is a water turn but when a
farmer gets his turn, he can irrigate as long as he wants: the water turn length
lasts up to three weeks during spring, when both beans and melon have to be
irrigated. These two facts lead also to an over-cropping situation that can be
viewed as a Nash equilibrium (Faysse, &#65533; 2001). Two allocation rules were
simulated on this scheme (a brief description of the model is given in
appendix): first, the actual one, with a free individual irrigation length, and
then an ex ante allocation rule where the water turn length is fixed and each
crop receives during its water turn in proportion to its needs. By definition, a
"safe" cropping choice is one for which crops are sufficiently irrigated during
median rainfall year and with an irrigation set up when the soil reservoir
becomes lower than 0.85 than the Usable Water Reserve. The calculated cropping
choice is made of 40 ha of wheat, 20 of pepper-bean and 15 of melon. For a risky
cropping choice, we used the actual one on year 98-99, i.e. 60 ha of wheat, 21
of pepper-bean and 27 of melon. The choice between two cropping repartitions and
two allocation rules leads to four scenarios. On figure 9, the left table
presents the scenario description while the right table gives the total
valorization made on the whole scheme for different rainfalls: quinquennial
drought year, quinquennial wet year, the median year and the year 98-99 (which
stands between a median year and a quinquennial dry one). Moreover, the study
made on the field for the 98-99 campaign showed that the total profit made had
not exceeded 50 000 DT7 .water turnyear 98-99 quinquennial dry median
quinquennial wet50000 60000 70000 80000 90000cropping
patternscenariopepperbeanmelonwheatProduction on the schem e (Tunisan
Dinar)unlimited irrigation 0 (r&#65533;el) risky 61 21 27 period unlimited irrigation 1
period risky 2 61 21 27 daily repartition100000 110000120000
<Much more text>
===================================================
My search criteria is "joint management", but I get three markups on management. 

Is there anything wrong with the text? 

Thanks,
Ying


> As much as you have shown of the example output is
> roughly what I would expect - using the default
> simpleFragmenter you get roughly 100 character sized
> fragments and you have shown 3 fragments sized 97, 100
> and 105 chars long separated by "...".
> 
> > Of course the result is far more than this.
> 
> So are you saying you had even more fragments in the
> "getBestFragments" return string separated by your
> choice of "..." separator?
> 
> I also notice the text contains no markup - have you
> removed that from the example? 
> 
> Cheers
> Mark
> 
> 
> 
> 
> 
> 
> 		
> ___________________________________________________________ 
> How much free photo storage do you get? Store your holiday 
> snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 19:07:56 2005
Return-Path: <java-user-return-14368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21046 invoked from network); 5 May 2005 19:07:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 19:07:55 -0000
Received: (qmail 3415 invoked by uid 500); 5 May 2005 19:09:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3129 invoked by uid 500); 5 May 2005 19:09:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2758 invoked by uid 99); 5 May 2005 19:09:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp003.mail.ukl.yahoo.com (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 05 May 2005 12:09:36 -0700
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp003.mail.ukl.yahoo.com with SMTP; 5 May 2005 19:07:05 -0000
Message-ID: <427A6EE1.6000700@yahoo.co.uk>
Date: Thu, 05 May 2005 20:07:13 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: highlight problem
References: <20050505174958.97160.qmail@web26004.mail.ukl.yahoo.com> <1115317080.427a635829dc8@webmail.iu.edu>
In-Reply-To: <1115317080.427a635829dc8@webmail.iu.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

All looks OK with that bit.
At the risk of sounding obvious - are you mistaking the results from 
multiple documents as the highlighted content from just one document?
eg the end of your "for" loop looks like this:
       System.out.print(result);
   }
and you assume the printed display is from just one document?

That would explain why a different search produces different results - 
you are seeing more documents.



yinjin@indiana.edu wrote:

>Hi, Mark,
>
>Sorry for the confusing. The complete code is here:
>===============================================
>Analyzer analyzer = new StandardAnalyzer();
>      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
>      String line = in.readLine();
>
>      if (line.length() == -1)
>        return;
>
>      Query query = QueryParser.parse(line, "contents", analyzer);
>      Hits hits = searcher.search(query);
>      Highlighter highlighter =new Highlighter(new QueryScorer(query));
>
>      String ids = "";
>      for (int i = 0; i < hits.length(); i++) {
>        Document doc = hits.doc(i);
>        String text = doc.get("contents");
>        String result = "";
>
>        if(text != null ){
>          TokenStream tokenStream = analyzer.tokenStream("contents",
>              new StringReader(text));
>          // Get 3 best fragments and seperate with a "..."                    
>                                                  
>          result = highlighter.getBestFragments(tokenStream,
>              text, 3, "...");
>        }
>
>===============================================
>Quoting mark harwood <markharw00d@yahoo.co.uk>:
>
>  
>
>>As much as you have shown of the example output is
>>roughly what I would expect - using the default
>>simpleFragmenter you get roughly 100 character sized
>>fragments and you have shown 3 fragments sized 97, 100
>>and 105 chars long separated by "...".
>>
>>    
>>
>>>Of course the result is far more than this.
>>>      
>>>
>>So are you saying you had even more fragments in the
>>"getBestFragments" return string separated by your
>>choice of "..." separator?
>>
>>I also notice the text contains no markup - have you
>>removed that from the example? 
>>
>>Cheers
>>Mark
>>
>>
>>
>>
>>
>>
>>		
>>___________________________________________________________ 
>>How much free photo storage do you get? Store your holiday 
>>snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 19:26:40 2005
Return-Path: <java-user-return-14369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42067 invoked from network); 5 May 2005 19:26:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 19:26:40 -0000
Received: (qmail 54793 invoked by uid 500); 5 May 2005 19:28:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54737 invoked by uid 500); 5 May 2005 19:28:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54720 invoked by uid 99); 5 May 2005 19:28:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth06.mail.atl.earthlink.net (HELO smtpauth06.mail.atl.earthlink.net) (209.86.89.66)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 12:28:44 -0700
Received: from [68.164.191.94] (helo=x1000.msqr.us)
	by smtpauth06.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DTlz7-0000lS-7j
	for java-user@lucene.apache.org; Thu, 05 May 2005 15:26:09 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j45JQ2nb022594
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 5 May 2005 12:26:02 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j45JQ1hZ022593;
	Thu, 5 May 2005 12:26:01 -0700
Received: from 192.168.1.1
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 5 May 2005 12:26:01 -0700 (PDT)
Message-ID: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
Date: Thu, 5 May 2005 12:26:01 -0700 (PDT)
Subject: ArrayIndexOutOfBoundsException on BooleanScorer.score()
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4d47273e579d69f6b9373e05b9712c3add350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.191.94
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, I'm having a tough time trying to get to the root of an exception I
see sometimes on my Lucene 1.4.3 index. The exception is:

java.lang.ArrayIndexOutOfBoundsException: 4
 at org.apache.lucene.search.BooleanScorer.score(BooleanScorer.java:126)
 at org.apache.lucene.search.Scorer.score(Scorer.java:38)
 at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:92)
 at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
 at org.apache.lucene.search.Hits.<init>(Hits.java:43)
 at org.apache.lucene.search.Searcher.search(Searcher.java:33)
 at org.apache.lucene.search.Searcher.search(Searcher.java:27)
 ...

and occurs when current.coord is set to 4 but coordFactors is of length 4.
 The maxCoord is value is 4 at this time, too. I can't get this to happen
every time I run the unit test that this error occurs in... which is very
frustrating, sorry.

I was wondering if anyone had an idea of what might cause this exception
(I'm assuming something is wrong on my use of Lucene, but I can't find
what).


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 19:46:21 2005
Return-Path: <java-user-return-14370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48351 invoked from network); 5 May 2005 19:46:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 19:46:20 -0000
Received: (qmail 6652 invoked by uid 500); 5 May 2005 19:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6474 invoked by uid 500); 5 May 2005 19:48:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6377 invoked by uid 99); 5 May 2005 19:48:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth08.mail.atl.earthlink.net (HELO smtpauth08.mail.atl.earthlink.net) (209.86.89.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 12:48:09 -0700
Received: from [68.164.191.94] (helo=x1000.msqr.us)
	by smtpauth08.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DTmHw-0000uh-LX
	for java-user@lucene.apache.org; Thu, 05 May 2005 15:45:36 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j45JjYMF022794
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 5 May 2005 12:45:35 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j45JjYZH022793;
	Thu, 5 May 2005 12:45:34 -0700
Received: from 192.168.1.1
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 5 May 2005 12:45:34 -0700 (PDT)
Message-ID: <4294.192.168.1.1.1115322334.squirrel@msqr.us>
In-Reply-To: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
Date: Thu, 5 May 2005 12:45:34 -0700 (PDT)
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4d9eca3a58b992e94ad508e64c26d5244a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.191.94
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The exception does come on the heels of an update to the index by a
different thread than the one the search runs in. These log statements
show the operations going on just prior to the exception:

May-05 12:36:05 DEBUG - Indexing Lead 1024
May-05 12:36:06 TRACE - CON Closing IndexWriter
org.apache.lucene.index.IndexWriter@4b35ef
May-05 12:36:06 DEBUG - Parsing Lucene query string ...
May-05 12:36:06 DEBUG - Searching for leads with Lucene query: ...
May-05 12:36:06 TRACE - CON Thread[IndexQueueThread,5,main] releasing
WRITE lock for index [LEAD]
May-05 12:36:06 TRACE - CON Thread[main,5,main] got READ lock for index
[LEAD]
May-05 12:36:06 TRACE - CON Cached new IndexReader
org.apache.lucene.index.SegmentReader@15c80a4
May-05 12:36:06 TRACE - CON Created new IndexSearcher
org.apache.lucene.search.IndexSearcher@1c1f2
May-05 12:36:06 ERROR - Lucene exception during search on [LEAD]
java.lang.ArrayIndexOutOfBoundsException: 4
 ...
May-05 12:36:06 TRACE - CON Thread[main,5,main] releasing READ lock for
index [LEAD]

The search begins after the other thread's index update is complete,
however (as shown by the "releasing WRITE lock" and "got READ lock"
messages). Also a new IndexReader is created after the write completes in
this situation.

Any ideas are greatly appreciated.

-- m@



> Hello, I'm having a tough time trying to get to the root of an exception I
> see sometimes on my Lucene 1.4.3 index. The exception is:
>
> java.lang.ArrayIndexOutOfBoundsException: 4
>  at org.apache.lucene.search.BooleanScorer.score(BooleanScorer.java:126)
>  at org.apache.lucene.search.Scorer.score(Scorer.java:38)
>  at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:92)
>  at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
>  at org.apache.lucene.search.Hits.<init>(Hits.java:43)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:33)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:27)
>  ...
>
> and occurs when current.coord is set to 4 but coordFactors is of length 4.
>  The maxCoord is value is 4 at this time, too. I can't get this to happen
> every time I run the unit test that this error occurs in... which is very
> frustrating, sorry.
>
> I was wondering if anyone had an idea of what might cause this exception
> (I'm assuming something is wrong on my use of Lucene, but I can't find
> what).
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 20:42:04 2005
Return-Path: <java-user-return-14371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79765 invoked from network); 5 May 2005 20:42:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 20:42:03 -0000
Received: (qmail 30787 invoked by uid 500); 5 May 2005 20:44:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30752 invoked by uid 500); 5 May 2005 20:44:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30737 invoked by uid 99); 5 May 2005 20:44:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 13:44:14 -0700
Received: by wproxy.gmail.com with SMTP id 36so828438wra
        for <java-user@lucene.apache.org>; Thu, 05 May 2005 13:41:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=KkMZ8FydpEb9LUeC9xIKj2UVq1Fa1n8T96Qvc6IxdWfJSrWZif5YiI5PAxGzZLUPc+ZNw3lTER99zEtsuq3uTaqRNHYezRFG5aWhuIJAdEtJxWNchGFadcd7llSSUOKS2efZTiql6vVeR8h0eSiTOSWer2ohs/ZxAMCItA9tOOQ=
Received: by 10.54.21.67 with SMTP id 67mr373479wru;
        Thu, 05 May 2005 13:41:44 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Thu, 5 May 2005 13:41:44 -0700 (PDT)
Message-ID: <4f05ec8e05050513414b755578@mail.gmail.com>
Date: Thu, 5 May 2005 22:41:44 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: Lucene user list <java-user@lucene.apache.org>
Subject: what is QueryFilter.bits ???
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I would like to know what exactly represent the bit pattern on the
method QueryFilter.bits(IndexReader).

Sometime ago I posted a question here about a categorized search.
Basically I needed to know in how many different categories (category
is a Field that I index with the document) have a particular term.

Now, I am facing a similar problem. Instead of knowing how many
categories have a particular term, I want to know how many documents
have a particular tuple <category, term>. How is possible to get that?
I was trying an approach similar to the first, but I am not succeding.

Anyone have any idea?

Regards,
Pablo

--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 22:08:58 2005
Return-Path: <java-user-return-14372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21590 invoked from network); 5 May 2005 22:08:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 22:08:58 -0000
Received: (qmail 91193 invoked by uid 500); 5 May 2005 22:10:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90592 invoked by uid 500); 5 May 2005 22:10:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90295 invoked by uid 99); 5 May 2005 22:10:23 -0000
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=FORGED_YAHOO_RCVD,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30301.mail.mud.yahoo.com (HELO web30301.mail.mud.yahoo.com) (68.142.200.94)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 05 May 2005 15:10:23 -0700
Received: (qmail 40501 invoked by uid 60001); 5 May 2005 22:07:49 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=tJ1J5YEvxv8gTUquDQPR8cuKoA+tjC3YMZmKEE5yDxgELfu/NxVeoGsMFtL5wINItN0cyHXYXW3p1hOdUmUycA8IY/IfAkA8Yu6ZbFAm0MwUmJV8E61VE2gEqXqSz90SVn5EDLF5hIyr8CuWGJe2VP8AGj4GJZBtRIT2Mrlcv/g=  ;
Message-ID: <20050505220749.40499.qmail@web30301.mail.mud.yahoo.com>
Received: from [66.238.14.4] by web30301.mail.mud.yahoo.com via HTTP; Thu, 05 May 2005 15:07:48 PDT
Date: Thu, 5 May 2005 15:07:48 -0700 (PDT)
From: <ivj2324234-lucene@yahoo.com>
Reply-To: ivj2324234-lucene@yahoo.com
Subject: Changing default "OR" to "AND" for QueryParser
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

For us "OR" defaul causes confusion among the users 
because they expect narrower results as they add to 
the query but the oppsite happens because the terms 
are or-ed.

It it possble to request QueryParser to use "AND" as 
a default instead of "OR"? What API call(s) is
responsible for this?


Thanks,

Slavikas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 22:41:10 2005
Return-Path: <java-user-return-14373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33472 invoked from network); 5 May 2005 22:41:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 22:41:10 -0000
Received: (qmail 46847 invoked by uid 500); 5 May 2005 22:43:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46824 invoked by uid 500); 5 May 2005 22:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46809 invoked by uid 99); 5 May 2005 22:43:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from thunderer.concentric.net (HELO thunderer.cnchost.com) (207.155.252.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 15:43:27 -0700
Received: from [10.0.201.25] (210-55-139-211.innovationwaikato.co.nz [210.55.139.211] (may be forged))
	by thunderer.cnchost.com
	id SAA04818; Thu, 5 May 2005 18:40:47 -0400 (EDT)
	[ConcentricHost SMTP Relay 1.17]
Errors-To: <richard@reeltwo.com>
Message-ID: <427AA0EE.9090605@reeltwo.com>
Date: Fri, 06 May 2005 10:40:46 +1200
From: Richard Littin <richard@reeltwo.com>
User-Agent: Mozilla Thunderbird 1.0.2-1.3.2 (X11/20050324)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Changing default "OR" to "AND" for QueryParser
References: <20050505220749.40499.qmail@web30301.mail.mud.yahoo.com>
In-Reply-To: <20050505220749.40499.qmail@web30301.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ivj2324234-lucene@yahoo.com wrote:
> Hello all,
> 
> For us "OR" defaul causes confusion among the users 
> because they expect narrower results as they add to 
> the query but the oppsite happens because the terms 
> are or-ed.
> 
> It it possble to request QueryParser to use "AND" as 
> a default instead of "OR"? What API call(s) is
> responsible for this?

QueryParser parser = new QueryParser(...);
parser.setOperator(DEFAULT_OPERATOR_AND);

Richard

> 
> 
> Thanks,
> 
> Slavikas
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> .
> 


-- 
Richard Littin, Reel Two NZ, PO Box 1538, Hamilton, New Zealand
richard@reeltwo.com - ph: +64 7 857 0703 - fax: +64 7 857 0701
void main(){float x=0;while(putchar((long)((x<4)?(((6.6667*x-34.5)
*x+50.8333)*x+++82):(((-7.5*x+97)*x-398.5)*x+++619)))-10);}

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 05 22:51:17 2005
Return-Path: <java-user-return-14374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35747 invoked from network); 5 May 2005 22:51:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2005 22:51:17 -0000
Received: (qmail 61769 invoked by uid 500); 5 May 2005 22:53:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61750 invoked by uid 500); 5 May 2005 22:53:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61737 invoked by uid 99); 5 May 2005 22:53:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp005.mail.ukl.yahoo.com (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 05 May 2005 15:53:36 -0700
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp005.mail.ukl.yahoo.com with SMTP; 5 May 2005 22:51:04 -0000
Message-ID: <427AA361.2020004@yahoo.co.uk>
Date: Thu, 05 May 2005 23:51:13 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  yinjin@indiana.edu,  java-user@lucene.apache.org
Subject: Re: Highlight problem
References: <427A7098.9060402@yahoo.co.uk> <1115325547.427a846b8913e@webmail.iu.edu>
In-Reply-To: <1115325547.427a846b8913e@webmail.iu.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for pointing out this issue.
The bug was related to having a doc bigger than the maxNumDocsToAnalyze 
setting.  In this situation, the last fragment created was always sized 
from maxNumDocsToAnalyze position to the remainder of the doc (in your 
case, quite large!)

I have fixed this in SVN and Junit tests are clean. If you want to patch 
your version comment out these lines in the Highlighter.java code

// append text after end of last token
            if (lastEndOffset < text.length())
                
newText.append(encoder.encodeText(text.substring(lastEndOffset)));

I believe the above code was trying to retain any non-token text after 
the last token eg appending ?! or . so I have removed it to be on the 
safe side.

Cheers
Mark




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 00:56:27 2005
Return-Path: <java-user-return-14375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87672 invoked from network); 6 May 2005 00:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 00:56:27 -0000
Received: (qmail 46978 invoked by uid 500); 6 May 2005 00:58:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46943 invoked by uid 500); 6 May 2005 00:58:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46927 invoked by uid 99); 6 May 2005 00:58:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 17:58:41 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1D32C13E2007; Thu,  5 May 2005 20:56:08 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 648D013E2005
	for <java-user@lucene.apache.org>; Thu,  5 May 2005 20:55:55 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <4f05ec8e05050513414b755578@mail.gmail.com>
References: <4f05ec8e05050513414b755578@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6B25437F-7A90-419B-98EB-D46FB72ED533@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: what is QueryFilter.bits ???
Date: Thu, 5 May 2005 20:55:52 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 5, 2005, at 4:41 PM, Pablo Gomes Ludermir wrote:
> I would like to know what exactly represent the bit pattern on the
> method QueryFilter.bits(IndexReader).

The BitSet represents the documents in the index, sequentially (the  
order that they were indexed).  Each bit represents a single  
document.  If the bit is set, then it is returnable from a search, if  
not, then even if that document matches the query it is not returned.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 02:00:10 2005
Return-Path: <java-user-return-14376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29900 invoked from network); 6 May 2005 02:00:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 02:00:10 -0000
Received: (qmail 42831 invoked by uid 500); 6 May 2005 02:02:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42778 invoked by uid 500); 6 May 2005 02:02:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42760 invoked by uid 99); 6 May 2005 02:02:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm43-ext.prodigy.net (HELO ylpvm43.prodigy.net) (207.115.57.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 05 May 2005 19:02:31 -0700
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j46202YJ029085
	for <java-user@lucene.apache.org>; Thu, 5 May 2005 22:00:02 -0400
X-ORBL: [66.143.169.11]
Received: from [192.168.1.10] (adsl-66-143-169-11.dsl.austtx.swbell.net [66.143.169.11])
	by pimout7-ext.prodigy.net (8.12.10 milter /8.12.10) with ESMTP id j461xmUn057294
	for <java-user@lucene.apache.org>; Thu, 5 May 2005 21:59:55 -0400
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <427AA0EE.9090605@reeltwo.com>
References: <20050505220749.40499.qmail@web30301.mail.mud.yahoo.com> <427AA0EE.9090605@reeltwo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <03273EC4-A59B-4DA6-8773-E7D2D01F440D@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Parsnips 1.4
Date: Thu, 5 May 2005 20:59:47 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have just released Parsnips 1.4, a commercial PIM for storage and  
retrieval of bookmarks, notes, file URLs and snippets of text.   
Parsnips is powered by Lucene.

Please have a look at: <http://www.otherwise.com/Parsnips.html>
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 13:11:38 2005
Return-Path: <java-user-return-14377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55602 invoked from network); 6 May 2005 13:11:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 13:11:37 -0000
Received: (qmail 37294 invoked by uid 500); 6 May 2005 13:11:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37227 invoked by uid 500); 6 May 2005 13:11:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37125 invoked by uid 500); 6 May 2005 13:11:50 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 36915 invoked by uid 99); 6 May 2005 13:11:46 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_60_70,HTML_MESSAGE,X_PRIORITY_HIGH
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from barrinha.datasul.com.br (HELO barrinha.datasul.com.br) (200.247.224.143)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 06:11:45 -0700
Received: from localhost (localhost [127.0.0.1])
	by barrinha.datasul.com.br (Postfix) with ESMTP id 5164B19E309
	for <lucene-user@jakarta.apache.org>; Fri,  6 May 2005 10:09:28 -0300 (BRT)
Received: from barrinha.datasul.com.br ([127.0.0.1])
 by localhost (barrinha [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 31591-01-27 for <lucene-user@jakarta.apache.org>;
 Fri,  6 May 2005 10:09:22 -0300 (BRT)
Received: from sancho.datasul.com.br (sancho.datasul.net [10.71.0.6])
	by barrinha.datasul.com.br (Postfix) with ESMTP id 7D74719E5A3
	for <lucene-user@jakarta.apache.org>; Fri,  6 May 2005 09:46:50 -0300 (BRT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C55239.4396FA6E"
Subject: IOException while searching in a new index.
Date: Fri, 6 May 2005 09:43:55 -0300
Message-ID: <4D30C610EF112D41844470779D43B7160243ACF8@sancho.datasul.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IOException while searching in a new index.
Thread-Index: AcVSOUOoIR7hyOaUTB+BLn+kXdymBw==
X-Priority: 1
Priority: Urgent
Importance: high
From: "Flavio Eduardo de Cordova" <flavio.cordova@datasul.com.br>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: amavisd-new at datasul.com.br
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55239.4396FA6E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi..

	I just updated Lucene to 1.4.3 (final) and while running some unit =
tests (on my application that runs on top of lucene engine) I got the =
IOException: The system cannot find the path specified.

	I found at http://java2.5341.com/msg/65116.html that there was an issue =
about temp directory but I couldn't realize if it was related to the =
problem I'm facing now, even because it reported a bug of RC3.

	What my unit test does:=20
		1 - It creates 100 documents in a new index, closing the IndexWriter - =
OK !
		2 - Check it all the documents were property created by counting the =
documents (not searching) - OK !
		3 - searches a subset based on one of the fields - ERROR !!!
=09
	Does anybody have a clue of what's happening ? Is it really a bug or am =
I doing something wrong ? If it's a bug, is there any workaround ?

	Thanks !

Fl=E1vio

------_=_NextPart_001_01C55239.4396FA6E--

From java-user-return-14378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 15:28:14 2005
Return-Path: <java-user-return-14378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44596 invoked from network); 6 May 2005 15:28:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 15:28:14 -0000
Received: (qmail 90750 invoked by uid 500); 6 May 2005 15:20:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90631 invoked by uid 500); 6 May 2005 15:20:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90604 invoked by uid 99); 6 May 2005 15:20:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 08:20:36 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j46FHPKT094821
	for <java-user@lucene.apache.org>; Fri, 6 May 2005 17:17:25 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
Date: Fri, 6 May 2005 17:17:24 +0200
User-Agent: KMail/1.5.4
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us> <4294.192.168.1.1.1115322334.squirrel@msqr.us>
In-Reply-To: <4294.192.168.1.1.1115322334.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505061717.25064.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 05 May 2005 21:45, Matt Magoffin wrote:
> The exception does come on the heels of an update to the index by a
> different thread than the one the search runs in. These log statements
> show the operations going on just prior to the exception:
> 
> May-05 12:36:05 DEBUG - Indexing Lead 1024
> May-05 12:36:06 TRACE - CON Closing IndexWriter
> org.apache.lucene.index.IndexWriter@4b35ef
> May-05 12:36:06 DEBUG - Parsing Lucene query string ...
> May-05 12:36:06 DEBUG - Searching for leads with Lucene query: ...
> May-05 12:36:06 TRACE - CON Thread[IndexQueueThread,5,main] releasing
> WRITE lock for index [LEAD]
> May-05 12:36:06 TRACE - CON Thread[main,5,main] got READ lock for index
> [LEAD]
> May-05 12:36:06 TRACE - CON Cached new IndexReader
> org.apache.lucene.index.SegmentReader@15c80a4
> May-05 12:36:06 TRACE - CON Created new IndexSearcher
> org.apache.lucene.search.IndexSearcher@1c1f2
> May-05 12:36:06 ERROR - Lucene exception during search on [LEAD]
> java.lang.ArrayIndexOutOfBoundsException: 4
>  ...
> May-05 12:36:06 TRACE - CON Thread[main,5,main] releasing READ lock for
> index [LEAD]
> 
> The search begins after the other thread's index update is complete,
> however (as shown by the "releasing WRITE lock" and "got READ lock"
> messages). Also a new IndexReader is created after the write completes in
> this situation.
> 
> Any ideas are greatly appreciated.

The size of the coordFactors array depends on the number of non prohibited
clauses in the query. Could you indicate which query you are using?

And in case you find a way to reproduce this in a  test case, could
you file a bug report in bugzilla? 

Regards,
Paul Elschot.


> 
> -- m@
> 
> 
> 
> > Hello, I'm having a tough time trying to get to the root of an exception I
> > see sometimes on my Lucene 1.4.3 index. The exception is:
> >
> > java.lang.ArrayIndexOutOfBoundsException: 4
> >  at org.apache.lucene.search.BooleanScorer.score(BooleanScorer.java:126)
> >  at org.apache.lucene.search.Scorer.score(Scorer.java:38)
> >  at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:92)
> >  at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
> >  at org.apache.lucene.search.Hits.<init>(Hits.java:43)
> >  at org.apache.lucene.search.Searcher.search(Searcher.java:33)
> >  at org.apache.lucene.search.Searcher.search(Searcher.java:27)
> >  ...
> >
> > and occurs when current.coord is set to 4 but coordFactors is of length 4.
> >  The maxCoord is value is 4 at this time, too. I can't get this to happen
> > every time I run the unit test that this error occurs in... which is very
> > frustrating, sorry.
> >
> > I was wondering if anyone had an idea of what might cause this exception
> > (I'm assuming something is wrong on my use of Lucene, but I can't find
> > what).
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 17:52:43 2005
Return-Path: <java-user-return-14379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31559 invoked from network); 6 May 2005 17:52:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 17:52:42 -0000
Received: (qmail 49197 invoked by uid 500); 6 May 2005 17:54:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49085 invoked by uid 500); 6 May 2005 17:54:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 87178 invoked by uid 99); 6 May 2005 16:23:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Message-ID: <65412.12.35.64.42.1115396396.squirrel@msqr.us>
In-Reply-To: <200505061717.25064.paul.elschot@xs4all.nl>
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
    <4294.192.168.1.1.1115322334.squirrel@msqr.us>
    <200505061717.25064.paul.elschot@xs4all.nl>
Date: Fri, 6 May 2005 09:19:56 -0700 (PDT)
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
From: "Matt Magoffin" <matt@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4d89c88ed0b2f56dd3a0b5c9ae4830b0d9350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.191.94
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here is a sample query that produces the error:

+dcode:123182 +cdate:[20050501 TO 20050531] +((+gn:m +sn:malen)
phone:3458345730 addr:345 hiller (+sn:malen +zip:34535))

I'll see about getting a test case, but like I said it doesn't happen
every time so I've had a hard time tracking down the problem.

-- m@

> The size of the coordFactors array depends on the number of non prohibited
> clauses in the query. Could you indicate which query you are using?
>
> And in case you find a way to reproduce this in a  test case, could
> you file a bug report in bugzilla?
>
> Regards,
> Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 18:35:04 2005
Return-Path: <java-user-return-14380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49894 invoked from network); 6 May 2005 18:35:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 18:35:04 -0000
Received: (qmail 58208 invoked by uid 500); 6 May 2005 18:37:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58179 invoked by uid 500); 6 May 2005 18:37:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58162 invoked by uid 99); 6 May 2005 18:37:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from exchfe2.cs.cornell.edu (HELO exchfe2.cs.cornell.edu) (128.84.97.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 11:37:36 -0700
Received: from EXCHVS2.cs.cornell.edu ([128.84.97.24]) by exchfe2.cs.cornell.edu with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 6 May 2005 14:34:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5526A.41D4FBA4"
Subject: expert question: concurrent, asynchronous batch updates and real-time reads on very large, heavily used index
Date: Fri, 6 May 2005 14:34:37 -0400
Message-ID: <EE246BDD7B90354D807602B3A1411778682511@EXCHVS2.cs.cornell.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: expert question: concurrent, asynchronous batch updates and real-time reads on very large, heavily used index
Thread-Index: AcVSakD4fn++ecP7StiT6Nc0r2CGaA==
From: "Naomi Dushay" <Naomi@cs.cornell.edu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 May 2005 18:34:40.0814 (UTC) FILETIME=[43D794E0:01C5526A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5526A.41D4FBA4
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

We have a very large lucene index (currently ~6 gig; likely to be ~20 =
gig in
near future; currently around 800,000 documents; likely to be 3 million
documents in near future and to continue growing).

=20

The read-only searching of the lucene index is done via a REST service; =
the
REST code is java Servlets under tomcat.   This service is heavily used, =
with
many requests per second, and needs to have good response times.

=20

Our indexed Documents essentially contain information from two sources:
bibliographic metadata and fetched resource content.  We have separate =
index
update work flows for these sources:

=20

Index update workflow 1:  harvest new/updated bibliographic metadata -->
update index accordingly.  This may delete records from the index, add
records to the index, or update records already in the index.  This is a
batch process run outside of tomcat. The actual index updates are done =
in
batches of max 10,000 documents at a time;  simply updating the index =
records
(no other document processing) can take from 5 minutes to 1 hour.

=20

Index update workflow 2:  fetch new/updated resource content --> update =
index
accordingly.   Currently this should only update records already in the
index.  This is a batch process run outside of tomcat. Again, the actual
index updates are done in batches which can be updating the index for =
some
minutes.

=20

Optimization of the index currently can take an hour.

=20

=20

Here's my question:

=20

Given such a large index, with such heavy use, what is the best way to =
allow
timely batch process updating of the index without interrupting the REST
search service? =20

=20

Possible solutions I'm aware of:

=20

1.	single lucene index:

REST service opens an IndexReader on tomcat startup.  Updates use =
built-in
Lucene locking mechanism.   Questions/Problems:  while the updates are =
going
on, will the users see weird search results?  That is, will the REST
IndexReader be able to find documents it expect if said documents are =
updated
by the IndexWriter?  What about when optimization is performed at the =
end of
the update job - will the IndexReader be able to find documents while
optimization is running?  After optimization is over?

(clearly, I can close the REST IndexReader and open a new one any time =
... my
guess would be to do this only after optimizing the index, not after =
partial
updates such as a batch of 10,000 document updates).

=20

=20

2.	update a copy of the lucene index, point to the newly updated copy,
delete the old, non-updated index. =20

In this scenario, index update workflows would start by copying the =
current
"read only" index used by the REST IndexReader, then update and optimize =
the
newly copied index, then tell the REST service to close its current
IndexReader and open a new one for the newly updated index.  The old =
index
could then be deleted.   This scenario would require its own locking
mechanism to ensure that only a single index update workflow is =
executing at
a time, in order to avoid different partial updates made to multiple =
index
copies.=20

=20

=20

Does anyone have any other solutions, or helpful information?

=20

- Naomi Dushay

National Science Digital Library - Core Integration

Cornell University


------_=_NextPart_001_01C5526A.41D4FBA4--

From java-user-return-14381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 19:15:09 2005
Return-Path: <java-user-return-14381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71545 invoked from network); 6 May 2005 19:15:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 19:15:09 -0000
Received: (qmail 66571 invoked by uid 500); 6 May 2005 19:17:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66453 invoked by uid 500); 6 May 2005 19:17:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66344 invoked by uid 99); 6 May 2005 19:17:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr5.xs4all.nl (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 12:17:03 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.12.11/8.12.11) with ESMTP id j46JEAbH083449
	for <java-user@lucene.apache.org>; Fri, 6 May 2005 21:14:10 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
Date: Fri, 6 May 2005 21:14:09 +0200
User-Agent: KMail/1.5.4
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us> <200505061717.25064.paul.elschot@xs4all.nl> <65412.12.35.64.42.1115396396.squirrel@msqr.us>
In-Reply-To: <65412.12.35.64.42.1115396396.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200505062114.09699.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 06 May 2005 18:19, Matt Magoffin wrote:
> Here is a sample query that produces the error:
>=20
> +dcode:123182 +cdate:[20050501 TO 20050531] +((+gn:m +sn:malen)
> phone:3458345730 addr:345 hiller (+sn:malen +zip:34535))

=46rom the earlier posted tracebacs, the problem is probably due to this
required clause:
((+gn:m +sn:malen) phone:3458345730 addr:345 hiller (+sn:malen +zip:34535))
which has 4 optional subclauses, but the coordination factor array
does not seem to have an entry for 4 matching subclauses.

I shortly tried looking for possible causes in the source code (BooleanQuer=
y,
BooleanScorer and QueryParser.jj), but I couldn't find any.

Regards,
Paul Elschot.

>=20
> I'll see about getting a test case, but like I said it doesn't happen
> every time so I've had a hard time tracking down the problem.
>=20
> -- m@
>=20
> > The size of the coordFactors array depends on the number of non prohibi=
ted
> > clauses in the query. Could you indicate which query you are using?
> >
> > And in case you find a way to reproduce this in a  test case, could
> > you file a bug report in bugzilla?
> >
> > Regards,
> > Paul Elschot.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 21:41:03 2005
Return-Path: <java-user-return-14382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45188 invoked from network); 6 May 2005 21:41:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 21:41:02 -0000
Received: (qmail 38970 invoked by uid 500); 6 May 2005 21:43:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38690 invoked by uid 500); 6 May 2005 21:43:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38670 invoked by uid 99); 6 May 2005 21:43:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from smtp204.mail.sc5.yahoo.com (HELO smtp204.mail.sc5.yahoo.com) (216.136.130.127)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 06 May 2005 14:43:40 -0700
Received: from unknown (HELO ?24.232.184.152?) (desantisernesto@24.232.184.152 with login)
  by smtp204.mail.sc5.yahoo.com with SMTP; 6 May 2005 21:40:44 -0000
Received: from 127.0.0.1 (AVG SMTP 7.0.308 [266.11.6]); Fri, 06 May 2005 18:42:08 -0300
Message-ID: <427BE4B0.6060709@colaborativa.net>
Date: Fri, 06 May 2005 18:42:08 -0300
From: Ernesto De Santis <ernesto.desantis@colaborativa.net>
Organization: Colaborativa.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
MIME-Version: 1.0
To: Lucene Users List <java-user@lucene.apache.org>
Subject: Max Field Length
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

Exist a max length for a Field value?
I have problems indexing large body files.
The bottom isn't indexed.

Bye,
Ernesto.

-- 
Ernesto De Santis - Colaborativa.net
C๓rdoba 1147 Piso 6 Oficinas 3 y 4
(S2000AWO) Rosario, SF, Argentina.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 21:43:53 2005
Return-Path: <java-user-return-14383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46879 invoked from network); 6 May 2005 21:43:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 21:43:53 -0000
Received: (qmail 43634 invoked by uid 500); 6 May 2005 21:46:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43609 invoked by uid 500); 6 May 2005 21:46:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43595 invoked by uid 99); 6 May 2005 21:46:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nyhwwex001a.hwwilson.com (HELO NYHWWEX001.hwwilson.local) (208.238.105.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 14:46:32 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: alpha numeric searching or highlighting problem.
Date: Fri, 6 May 2005 17:43:40 -0400
Message-ID: <E3AD9C3F9EC34949855CDFC6FB5A6C11755168@NYHWWEX001.hwwilson.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: alpha numeric searching or highlighting problem.
Thread-Index: AcVShdLoO8q4hBPyRkGWuEi3I/JKlw==
From: "Yagnesh Shah" <yshah@hwwilson.com>
To: "Lucene-help \(E-mail\)" <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi folks,
	I am playing with HighlighIt.java of "Luceneinaction" code. I have =
modified the text string so that "45 BC" will now "45BC" and another "45 =
BC" to "Z3950". I have also modified this line and my output file do not =
creates and highlighting.

Works:
    TermQuery query =3D new TermQuery(new Term("f", "ipsum"));
    TermQuery query =3D new TermQuery(new Term("f", "2000"));

Do not work:

    TermQuery query =3D new TermQuery(new Term("f", "45BC"));
    TermQuery query =3D new TermQuery(new Term("f", "Z3950"));

Modified text string from:

  private static final String text =3D
      "Contrary to popular belief, Lorem Ipsum is" +
      " not simply random text. It has roots in a piece of" +
      " classical Latin literature from 45 BC, making it over" +
      " 2000 years old. Richard McClintock, a Latin professor" +
      " at Hampden-Sydney College in Virginia, looked up one" +
      " of the more obscure Latin words, consectetur, from" +
      " a Lorem Ipsum passage, and going through the cites" +
      " of the word in classical literature, discovered the" +
      " undoubtable source. Lorem Ipsum comes from sections" +
      " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
      " Malorum\" (The Extremes of Good and Evil) by Cicero," +
      " written in 45 BC. This book is a treatise on the" +
      " theory of ethics, very popular during the" +
      " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
      " ipsum dolor sit amet..\", comes from a line in" +
      " section 1.10.32."; =20
to

  private static final String text =3D
      "Contrary to popular belief, Lorem Ipsum is" +
      " not simply random text. It has roots in a piece of" +
      " classical Latin literature from 45BC, making it over" +
      " 2000 years old. Richard McClintock, a Latin professor" +
      " at Hampden-Sydney College in Virginia, looked up one" +
      " of the more obscure Latin words, consectetur, from" +
      " a Lorem Ipsum passage, and going through the cites" +
      " of the word in classical literature, discovered the" +
      " undoubtable source. Lorem Ipsum comes from sections" +
      " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
      " Malorum\" (The Extremes of Good and Evil) by Cicero," +
      " written in Z3950. This book is a treatise on the" +
      " theory of ethics, very popular during the" +
      " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
      " ipsum dolor sit amet..\", comes from a line in" +
      " section 1.10.32."; =20


Yagnesh N. Shah=20
Senior Technology Engineer=20
CS Dept., 4th Floor
H. W. Wilson=20
950 University Avenue,=20
Bronx NY 10452=20
(718) 588 8400 x2721=20
http://www.hwwilson.com

=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 21:49:13 2005
Return-Path: <java-user-return-14384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49126 invoked from network); 6 May 2005 21:49:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 21:49:13 -0000
Received: (qmail 51305 invoked by uid 500); 6 May 2005 21:51:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51196 invoked by uid 500); 6 May 2005 21:51:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51176 invoked by uid 99); 6 May 2005 21:51:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 14:51:53 -0700
Received: from p001002 ([216.220.52.5]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 May 2005 17:51:57 -0400
Message-ID: <018001c55285$d30056f0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: <java-user@lucene.apache.org>
References: <427BE4B0.6060709@colaborativa.net>
Subject: Re: Max Field Length
Date: Fri, 6 May 2005 17:51:57 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 06 May 2005 21:51:57.0506 (UTC) FILETIME=[D30F7220:01C55285]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi;

I think by default only 10,000 terms will be indexed for a field.

You can change this using the  maxFieldLength method of IndexWriter.

Luke

----- Original Message ----- 
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <java-user@lucene.apache.org>
Sent: Friday, May 06, 2005 5:42 PM
Subject: Max Field Length


> Hi
>
> Exist a max length for a Field value?
> I have problems indexing large body files.
> The bottom isn't indexed.
>
> Bye,
> Ernesto.
>
> -- 
> Ernesto De Santis - Colaborativa.net
> C๓rdoba 1147 Piso 6 Oficinas 3 y 4
> (S2000AWO) Rosario, SF, Argentina.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 06 21:50:54 2005
Return-Path: <java-user-return-14385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50379 invoked from network); 6 May 2005 21:50:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2005 21:50:53 -0000
Received: (qmail 54255 invoked by uid 500); 6 May 2005 21:53:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54229 invoked by uid 500); 6 May 2005 21:53:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54214 invoked by uid 99); 6 May 2005 21:53:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm12-ext.prodigy.net (HELO ylpvm12.prodigy.net) (207.115.57.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 14:53:35 -0700
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j46Logee030071
	for <java-user@lucene.apache.org>; Fri, 6 May 2005 17:50:42 -0400
X-ORBL: [66.136.196.67]
Received: from [192.168.1.10] (adsl-66-136-196-67.dsl.austtx.swbell.net [66.136.196.67])
	by pimout5-ext.prodigy.net (8.12.10 milter /8.12.10) with ESMTP id j46LocT0303888
	for <java-user@lucene.apache.org>; Fri, 6 May 2005 17:50:41 -0400
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <427BE4B0.6060709@colaborativa.net>
References: <427BE4B0.6060709@colaborativa.net>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <26443C8E-F327-46A8-8661-50122E675F95@otherwise.com>
Content-Transfer-Encoding: quoted-printable
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Max Field Length
Date: Fri, 6 May 2005 16:50:36 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On May 6, 2005, at 4:42 PM, Ernesto De Santis wrote:

> Hi
>
> Exist a max length for a Field value?
> I have problems indexing large body files.
> The bottom isn't indexed.
>
> Bye,
> Ernesto.
>
> -- =20
> Ernesto De Santis - Colaborativa.net
> C=F3rdoba 1147 Piso 6 Oficinas 3 y 4
> (S2000AWO) Rosario, SF, Argentina.
>

After you create your IndexWriter, do the following:

     writer.maxFieldLength =3D Integer.MAX_VALUE;

Substitute you own limit if you don't want it (effectively) =20
unlimited.  The default value is 10,000 terms.


--=20
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 07 00:17:55 2005
Return-Path: <java-user-return-14386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26313 invoked from network); 7 May 2005 00:17:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2005 00:17:55 -0000
Received: (qmail 18710 invoked by uid 500); 7 May 2005 00:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17842 invoked by uid 500); 7 May 2005 00:20:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17828 invoked by uid 99); 7 May 2005 00:20:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 17:20:39 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 77C1913E2008; Fri,  6 May 2005 20:17:46 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0755B13E2007
	for <java-user@lucene.apache.org>; Fri,  6 May 2005 20:15:28 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <E3AD9C3F9EC34949855CDFC6FB5A6C11755168@NYHWWEX001.hwwilson.local>
References: <E3AD9C3F9EC34949855CDFC6FB5A6C11755168@NYHWWEX001.hwwilson.local>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <62DD7263-230A-478F-B676-4A5A1E79BE41@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: alpha numeric searching or highlighting problem.
Date: Fri, 6 May 2005 20:15:23 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On May 6, 2005, at 5:43 PM, Yagnesh Shah wrote:
> Hi folks,
>     I am playing with HighlighIt.java of "Luceneinaction" code. I  
> have modified the text string so that "45 BC" will now "45BC" and  
> another "45 BC" to "Z3950". I have also modified this line and my  
> output file do not creates and highlighting.
>
> Works:
>     TermQuery query = new TermQuery(new Term("f", "ipsum"));
>     TermQuery query = new TermQuery(new Term("f", "2000"));
>
> Do not work:
>
>     TermQuery query = new TermQuery(new Term("f", "45BC"));
>     TermQuery query = new TermQuery(new Term("f", "Z3950"));

This is a classic "analysis paralysis" issue.  The HighlightIt code  
uses the StandardAnalyzer.  Analyzing 45BC and Z3950 yields the  
following (from the Lucene In Action code, run "ant AnalyzerDemo"):

AnalyzerDemo:
      [echo]
      [echo]       Demonstrates analysis of sample text.
      [echo]
      [echo]       Refer to the "Analysis" chapter for much more on this
      [echo]       extremely crucial topic.
      [echo]
     [input] Press return to continue...
     [input] String to analyze: [This string will be analyzed.]
45BC Z3950
      [echo] Running lia.analysis.AnalyzerDemo...
      [java] Analyzing "45BC Z3950"
...
      [java]   StandardAnalyzer:
      [java]     [45bc] [z3950]

Notice that it has been lowercased.  A TermQuery must match the case  
exactly as the tokens returned from the analysis process.

Change to "45bc" in your TermQuery and you'll see highlighting.

     Erik


>
> Modified text string from:
>
>   private static final String text =
>       "Contrary to popular belief, Lorem Ipsum is" +
>       " not simply random text. It has roots in a piece of" +
>       " classical Latin literature from 45 BC, making it over" +
>       " 2000 years old. Richard McClintock, a Latin professor" +
>       " at Hampden-Sydney College in Virginia, looked up one" +
>       " of the more obscure Latin words, consectetur, from" +
>       " a Lorem Ipsum passage, and going through the cites" +
>       " of the word in classical literature, discovered the" +
>       " undoubtable source. Lorem Ipsum comes from sections" +
>       " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
>       " Malorum\" (The Extremes of Good and Evil) by Cicero," +
>       " written in 45 BC. This book is a treatise on the" +
>       " theory of ethics, very popular during the" +
>       " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
>       " ipsum dolor sit amet..\", comes from a line in" +
>       " section 1.10.32.";
> to
>
>   private static final String text =
>       "Contrary to popular belief, Lorem Ipsum is" +
>       " not simply random text. It has roots in a piece of" +
>       " classical Latin literature from 45BC, making it over" +
>       " 2000 years old. Richard McClintock, a Latin professor" +
>       " at Hampden-Sydney College in Virginia, looked up one" +
>       " of the more obscure Latin words, consectetur, from" +
>       " a Lorem Ipsum passage, and going through the cites" +
>       " of the word in classical literature, discovered the" +
>       " undoubtable source. Lorem Ipsum comes from sections" +
>       " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
>       " Malorum\" (The Extremes of Good and Evil) by Cicero," +
>       " written in Z3950. This book is a treatise on the" +
>       " theory of ethics, very popular during the" +
>       " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
>       " ipsum dolor sit amet..\", comes from a line in" +
>       " section 1.10.32.";
>
>
> Yagnesh N. Shah
> Senior Technology Engineer
> CS Dept., 4th Floor
> H. W. Wilson
> 950 University Avenue,
> Bronx NY 10452
> (718) 588 8400 x2721
> http://www.hwwilson.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 07 01:44:00 2005
Return-Path: <java-user-return-14387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70647 invoked from network); 7 May 2005 01:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2005 01:44:00 -0000
Received: (qmail 15827 invoked by uid 500); 7 May 2005 01:46:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14930 invoked by uid 500); 7 May 2005 01:46:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14913 invoked by uid 99); 7 May 2005 01:46:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth01.mail.atl.earthlink.net (HELO smtpauth01.mail.atl.earthlink.net) (209.86.89.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 06 May 2005 18:46:47 -0700
Received: from [68.164.191.94] (helo=x1000.msqr.us)
	by smtpauth01.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DUEMD-00054Q-Do
	for java-user@lucene.apache.org; Fri, 06 May 2005 21:43:53 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j471hpcL003199
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Fri, 6 May 2005 18:43:51 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j471hpsM003198;
	Fri, 6 May 2005 18:43:51 -0700
Received: from 12.35.64.42
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Fri, 6 May 2005 18:43:51 -0700 (PDT)
Message-ID: <28113.12.35.64.42.1115430231.squirrel@msqr.us>
Date: Fri, 6 May 2005 18:43:51 -0700 (PDT)
Subject: Intermittent exception on optimize(): IOException: Cannot delete 
     _5.cfs
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4dab0aaf3cf9e8f8fc413285a476538ee0350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.191.94
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm getting a strange exception with Lucene 1.4.3 that occurs when I run a
unit test from Ant, but not when I run the same unit test inside Eclipse.
The exception is

Caused by: java.io.IOException: Cannot delete _5.cfs
 at org.apache.lucene.store.FSDirectory.renameFile(FSDirectory.java:232)
 at org.apache.lucene.index.IndexWriter$5.doBody(IndexWriter.java:651)
 at org.apache.lucene.store.Lock$With.run(Lock.java:109)
 at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:648)
 at
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:575)
 at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:468)
 ...

This occurs within a block of code that has exclusive access to the index
at the time of the exception, and right after re-creating the index (via
opening a new IndexWriter with the create parameter set to 'true').

I can't get the error to happen every time, but if I run the unit test
enough times the exception will happen eventually. If I re-run the unit
test after the error occurs, then a different exception gets thrown when
trying to open an IndexReader on this index:

java.lang.ArrayIndexOutOfBoundsException: -1
 at java.util.ArrayList.get(ArrayList.java:324)
 at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
 at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
 at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:149)
 at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
 at
org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:86)
 at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:45)
 at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:112)
 at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
 at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
 at org.apache.lucene.store.Lock$With.run(Lock.java:109)
 at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
 at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
 ...

which I'm assuming occurs because the index has become corrupted somehow,
possibly during the .optimize() call?

Any ideas are greatly appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 07 09:39:18 2005
Return-Path: <java-user-return-14388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55537 invoked from network); 7 May 2005 09:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2005 09:39:18 -0000
Received: (qmail 89901 invoked by uid 500); 7 May 2005 09:42:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89879 invoked by uid 500); 7 May 2005 09:42:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89849 invoked by uid 99); 7 May 2005 09:42:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr2.xs4all.nl (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 07 May 2005 02:42:00 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.12.11/8.12.11) with ESMTP id j479d3ex031647
	for <java-user@lucene.apache.org>; Sat, 7 May 2005 11:39:03 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
Date: Sat, 7 May 2005 11:39:03 +0200
User-Agent: KMail/1.5.4
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
In-Reply-To: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505071139.03300.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Matt,

On Thursday 05 May 2005 21:26, Matt Magoffin wrote:
> Hello, I'm having a tough time trying to get to the root of an exception I
> see sometimes on my Lucene 1.4.3 index. The exception is:
> 
> java.lang.ArrayIndexOutOfBoundsException: 4
>  at org.apache.lucene.search.BooleanScorer.score(BooleanScorer.java:126)
>  at org.apache.lucene.search.Scorer.score(Scorer.java:38)
>  at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:92)
>  at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
>  at org.apache.lucene.search.Hits.<init>(Hits.java:43)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:33)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:27)
>  ...
> 
> and occurs when current.coord is set to 4 but coordFactors is of length 4.
>  The maxCoord is value is 4 at this time, too. I can't get this to happen
> every time I run the unit test that this error occurs in... which is very
> frustrating, sorry.
> 
> I was wondering if anyone had an idea of what might cause this exception
> (I'm assuming something is wrong on my use of Lucene, but I can't find
> what).

It took some sleep to realize this:
This exception can happen when a scorer is add()'ed to the BooleanScorer after
the query search has begun. Given that it is difficult to reproduce, the odds
are that there two threads not properly synchronized: one add()ing
to the BooleanScorer and one searching the query too soon and
producing the above exception.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 02:25:09 2005
Return-Path: <java-user-return-14389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35619 invoked from network); 8 May 2005 02:25:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 02:25:09 -0000
Received: (qmail 17375 invoked by uid 500); 8 May 2005 02:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17336 invoked by uid 500); 8 May 2005 02:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17323 invoked by uid 99); 8 May 2005 02:27:59 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME,TO_ADDRESS_EQ_REAL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shim2.irt.drexel.edu (HELO shim2.irt.drexel.edu) (144.118.29.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 07 May 2005 19:27:59 -0700
Received: from conversion-daemon.shim2.irt.drexel.edu by shim2.irt.drexel.edu
 (iPlanet Messaging Server 5.2 HotFix 1.17 (built Jun 23 2003))
 id <0IG500401EQMUG@shim2.irt.drexel.edu> for java-user@lucene.apache.org; Sat,
 07 May 2005 22:24:57 -0400 (EDT)
Received: from drexel.edu ([192.168.5.136])
 by shim2.irt.drexel.edu (iPlanet Messaging Server 5.2 HotFix 1.17 (built Jun
 23 2003)) with ESMTP id <0IG500JVRG1L7E@shim2.irt.drexel.edu> for
 java-user@lucene.apache.org; Sat, 07 May 2005 22:24:57 -0400 (EDT)
Received: from [144.118.29.48] by mail1.prvt.drexel.edu (mshttpd); Sat,
 07 May 2005 22:24:57 -0400
Date: Sat, 07 May 2005 22:24:57 -0400
From: xx28@drexel.edu
Subject: indexing TREC
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Message-id: <25cc5a925cd047.25cd04725cc5a9@drexel.edu>
MIME-version: 1.0
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.17 (built Jun 23 2003)
Content-type: text/plain; charset=us-ascii
Content-language: en
Content-transfer-encoding: 7BIT
Content-disposition: inline
X-Accept-Language: en
Priority: normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi -

Is there any TREC parser (indexing many documents that are in the same file)for Lucene avaiable?

Thanks,

George


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 10:04:08 2005
Return-Path: <java-user-return-14390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19884 invoked from network); 8 May 2005 10:04:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 10:04:08 -0000
Received: (qmail 3127 invoked by uid 500); 8 May 2005 10:06:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2935 invoked by uid 500); 8 May 2005 10:06:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2920 invoked by uid 99); 8 May 2005 10:06:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 03:06:56 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0947513E200A; Sun,  8 May 2005 06:03:49 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 2DCAB13E2007
	for <java-user@lucene.apache.org>; Sun,  8 May 2005 06:03:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <25cc5a925cd047.25cd04725cc5a9@drexel.edu>
References: <25cc5a925cd047.25cd04725cc5a9@drexel.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <05660758-711F-4026-B7B5-DCFAE97D145D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexing TREC
Date: Sun, 8 May 2005 06:03:29 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 7, 2005, at 10:24 PM, xx28@drexel.edu wrote:

> Hi -
>
> Is there any TREC parser (indexing many documents that are in the  
> same file)for Lucene avaiable?

Not to my knowledge.  I've been working on indexing some TREC data  
myself, with some (not written by me) code to do simplistic grabbing  
of a couple of fields from the SGML.

If there is something handy to parse these files, I'd love to give it  
a spin though.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 10:33:22 2005
Return-Path: <java-user-return-14391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23555 invoked from network); 8 May 2005 10:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 10:33:21 -0000
Received: (qmail 35015 invoked by uid 500); 8 May 2005 10:36:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34777 invoked by uid 500); 8 May 2005 10:36:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34758 invoked by uid 99); 8 May 2005 10:36:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp08.web.de (HELO smtp08.web.de) (217.72.192.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 03:36:15 -0700
Received: from [80.134.146.218] (helo=[192.168.1.3])
	by smtp08.web.de with asmtp (WEB.DE 4.105 #282)
	id 1DUj61-00089z-00
	for java-user@lucene.apache.org; Sun, 08 May 2005 12:33:13 +0200
Message-ID: <427DEAE8.1080309@web.de>
Date: Sun, 08 May 2005 12:33:12 +0200
From: Barbara Krausz <bkrausz@web.de>
Reply-To:  java-user@lucene.apache.org
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8a3) Gecko/20040817
X-Accept-Language: de, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Difference between minMergeDocs and mergeFactor
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Sender: bkrausz@web.de
X-Sender: bkrausz@web.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

can anybody tell me the difference between minMergeDocs and mergeFactor 
(perhaps an example?)?

Thanks
Barbara

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 16:26:38 2005
Return-Path: <java-user-return-14392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97361 invoked from network); 8 May 2005 16:26:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 16:26:38 -0000
Received: (qmail 46604 invoked by uid 500); 8 May 2005 16:29:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46569 invoked by uid 500); 8 May 2005 16:29:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46448 invoked by uid 99); 8 May 2005 16:29:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop06.mail.atl.earthlink.net (HELO pop06.mail.atl.earthlink.net) (207.69.200.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 09:29:17 -0700
Received: from wamui08.slb.atl.earthlink.net ([192.168.167.46])
	by pop06.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DUobf-0006nl-00
	for java-user@lucene.apache.org; Sun, 08 May 2005 12:26:15 -0400
Message-ID: <31249205.1115569575006.JavaMail.root@wamui08.slb.atl.earthlink.net>
Date: Sun, 8 May 2005 12:26:14 -0400 (EDT)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Latitude/Longitude and Lexigraphical search
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
  I'm wanting to do some range queries using latitude and longitude.

I have numbers like so:

long           lat     
-84.65532   32.74212

What would be the best way to store this in lucene so I can do a range query?

Also for all you smart people out there do you know the distance between the decimal places?
What I mean is if the long is constant what is the distance (miles, kilometers, feet etc) between

32.74213 - 32.74212   = .00001 = ?distance?
32.74222 - 32.74212   = .00010 = ?distance?

Thanks,

Andrew

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 17:10:09 2005
Return-Path: <java-user-return-14393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5421 invoked from network); 8 May 2005 17:10:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 17:10:09 -0000
Received: (qmail 3721 invoked by uid 500); 8 May 2005 17:13:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3688 invoked by uid 500); 8 May 2005 17:13:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3675 invoked by uid 99); 8 May 2005 17:13:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm01-ext.prodigy.net (HELO ylpvm01.prodigy.net) (207.115.57.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 10:13:00 -0700
Received: from [192.168.1.10] (adsl-66-141-40-229.dsl.austtx.swbell.net [66.141.40.229])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j48H9DXw002713
	for <java-user@lucene.apache.org>; Sun, 8 May 2005 13:09:14 -0400
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <31249205.1115569575006.JavaMail.root@wamui08.slb.atl.earthlink.net>
References: <31249205.1115569575006.JavaMail.root@wamui08.slb.atl.earthlink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <007DE6DE-9DD4-4C36-B69A-3E0DC041E0B2@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Latitude/Longitude and Lexigraphical search
Date: Sun, 8 May 2005 12:09:52 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 8, 2005, at 11:26 AM, Andrew Boyd wrote:

> Hi All,
>   I'm wanting to do some range queries using latitude and longitude.
>
> I have numbers like so:
>
> long           lat
> -84.65532   32.74212
>
> What would be the best way to store this in lucene so I can do a  
> range query?
>
> Also for all you smart people out there do you know the distance  
> between the decimal places?
> What I mean is if the long is constant what is the distance (miles,  
> kilometers, feet etc) between
>
> 32.74213 - 32.74212   = .00001 = ?distance?
> 32.74222 - 32.74212   = .00010 = ?distance?
>
> Thanks,
>
> Andrew
>

If longitude is held constant, then each degree of latitude is  
111.3171 kilometers.

The distance between degrees of longitude is more complicated and  
depends upon what latitude you are at.

There are a lot of sites on the web that will do the calculations for  
you.  This one:

<http://jan.ucc.nau.edu/~cvm/latlongdist.html>

will accept a format of either decimal degrees or degrees, minutes,  
seconds.  It is easy to convert between the two knowing that there  
are 60 minutes in a degree and 60 seconds in a minute.

The above URL also gives the equations for calculating distance  
assuming you want to write some code to do this.

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 17:29:38 2005
Return-Path: <java-user-return-14394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8308 invoked from network); 8 May 2005 17:29:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 17:29:38 -0000
Received: (qmail 30482 invoked by uid 500); 8 May 2005 17:32:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30455 invoked by uid 500); 8 May 2005 17:32:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30437 invoked by uid 99); 8 May 2005 17:32:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx.laposte.net (HELO mx.laposte.net) (81.255.54.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 10:32:28 -0700
Received: from zaripha (82.225.66.75) by mx.laposte.net (7.0.028) (authenticated as sven.duzont)
        id 425309D3014556CB for java-user@lucene.apache.org; Sun, 8 May 2005 19:29:22 +0200
Date: Sun, 8 May 2005 19:29:30 +0200
From: Sven Duzont <sven.duzont@laposte.net>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Sven Duzont <sven.duzont@laposte.net>
X-Priority: 3 (Normal)
Message-ID: <1462848720.20050508192930@laposte.net>
To: Andrew Boyd <java-user@lucene.apache.org>
Subject: Re: Latitude/Longitude and Lexigraphical search
In-Reply-To: <31249205.1115569575006.JavaMail.root@wamui08.slb.atl.earthlink.net>
References: <31249205.1115569575006.JavaMail.root@wamui08.slb.atl.earthlink.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Andrew,

There already is a plugin available for Nutch :
http://wiki.apache.org/nutch/GeoPosition
I think that one can easily integrate it into a lucene app (i'll make
some experimentations with it soon)

----
 Sven

Le dimanche 8 mai 2005 เ 18:26:14, vous ้criviez :

AB> Hi All,
AB>   I'm wanting to do some range queries using latitude and longitude.

AB> I have numbers like so:

AB> long           lat     
AB> -84.65532   32.74212

AB> What would be the best way to store this in lucene so I can do a range query?

AB> Also for all you smart people out there do you know the
AB> distance between the decimal places?
AB> What I mean is if the long is constant what is the distance
AB> (miles, kilometers, feet etc) between

AB> 32.74213 - 32.74212   = .00001 = ?distance?
AB> 32.74222 - 32.74212   = .00010 = ?distance?

AB> Thanks,

AB> Andrew

AB> ---------------------------------------------------------------------
AB> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
AB> For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 17:49:06 2005
Return-Path: <java-user-return-14395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10988 invoked from network); 8 May 2005 17:49:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 17:49:06 -0000
Received: (qmail 58093 invoked by uid 500); 8 May 2005 17:51:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57846 invoked by uid 500); 8 May 2005 17:51:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57824 invoked by uid 99); 8 May 2005 17:51:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop06.mail.atl.earthlink.net (HELO pop06.mail.atl.earthlink.net) (207.69.200.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 10:51:57 -0700
Received: from wamui08.slb.atl.earthlink.net ([192.168.167.46])
	by pop06.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DUpte-00076U-00
	for java-user@lucene.apache.org; Sun, 08 May 2005 13:48:54 -0400
Message-ID: <29393480.1115574534064.JavaMail.root@wamui08.slb.atl.earthlink.net>
Date: Sun, 8 May 2005 13:48:54 -0400 (EDT)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Re: Latitude/Longitude and Lexigraphical search
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the pointers

I'm going to store the long as E086.656530 or W086.656530=20

and the lat as N34.74212 or S34.74212

that should at least keep the lexographic search happy.

I'm still reading the math pointer.

thanks!

Andrew

-----Original Message-----
From: Sven Duzont <sven.duzont@laposte.net>
Sent: May 8, 2005 1:29 PM
To: Andrew Boyd <java-user@lucene.apache.org>
Subject: Re: Latitude/Longitude and Lexigraphical search

Hello Andrew,

There already is a plugin available for Nutch :
http://wiki.apache.org/nutch/GeoPosition
I think that one can easily integrate it into a lucene app (i'll make
some experimentations with it soon)

----
 Sven

Le dimanche 8 mai 2005 =EF=BF=BD 18:26:14, vous =EF=BF=BDcriviez :

AB> Hi All,
AB>   I'm wanting to do some range queries using latitude and longitude.

AB> I have numbers like so:

AB> long           lat    =20
AB> -84.65532   32.74212

AB> What would be the best way to store this in lucene so I can do a range =
query?

AB> Also for all you smart people out there do you know the
AB> distance between the decimal places?
AB> What I mean is if the long is constant what is the distance
AB> (miles, kilometers, feet etc) between

AB> 32.74213 - 32.74212   =3D .00001 =3D ?distance?
AB> 32.74222 - 32.74212   =3D .00010 =3D ?distance?

AB> Thanks,

AB> Andrew

AB> ---------------------------------------------------------------------
AB> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
AB> For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 08 20:07:57 2005
Return-Path: <java-user-return-14396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50573 invoked from network); 8 May 2005 20:07:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2005 20:07:57 -0000
Received: (qmail 32886 invoked by uid 500); 8 May 2005 20:10:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32856 invoked by uid 500); 8 May 2005 20:10:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32841 invoked by uid 99); 8 May 2005 20:10:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth07.mail.atl.earthlink.net (HELO smtpauth07.mail.atl.earthlink.net) (209.86.89.67)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 13:10:47 -0700
Received: from [68.164.191.94] (helo=x1000.msqr.us)
	by smtpauth07.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DUs40-0005n6-4t
	for java-user@lucene.apache.org; Sun, 08 May 2005 16:07:44 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j48K7exi027621
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 8 May 2005 13:07:40 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j48K7e5X027619;
	Sun, 8 May 2005 13:07:40 -0700
Received: from 192.168.1.1
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Sun, 8 May 2005 13:07:40 -0700 (PDT)
Message-ID: <50422.192.168.1.1.1115582860.squirrel@msqr.us>
In-Reply-To: <200505071139.03300.paul.elschot@xs4all.nl>
References: <4042.192.168.1.1.1115321161.squirrel@msqr.us>
    <200505071139.03300.paul.elschot@xs4all.nl>
Date: Sun, 8 May 2005 13:07:40 -0700 (PDT)
Subject: Re: ArrayIndexOutOfBoundsException on BooleanScorer.score()
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4d91be4e8bd0b2e07054de4fa043458529350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.191.94
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> It took some sleep to realize this:
> This exception can happen when a scorer is add()'ed to the BooleanScorer
> after
> the query search has begun. Given that it is difficult to reproduce, the
> odds
> are that there two threads not properly synchronized: one add()ing
> to the BooleanScorer and one searching the query too soon and
> producing the above exception.

Thanks for the tips. When you say "add()ing to the BooleanScorer" where do
you mean this is occurring? The query is constructed via QueryParser, and
I don't modify it in any way after it has been parsed.

-- m@


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 02:39:53 2005
Return-Path: <java-user-return-14397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48975 invoked from network); 9 May 2005 02:39:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 02:39:52 -0000
Received: (qmail 13485 invoked by uid 500); 9 May 2005 02:42:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13453 invoked by uid 500); 9 May 2005 02:42:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13437 invoked by uid 99); 9 May 2005 02:42:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rimp1.nist.gov (HELO smtp.nist.gov) (129.6.16.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 08 May 2005 19:42:43 -0700
Received: from real1.localdomain ([192.168.2.10])
	by smtp.nist.gov (8.12.10/8.12.10) with ESMTP id j492dXD1021100;
	Sun, 8 May 2005 22:39:33 -0400
Received: from real1.localdomain (real1.localdomain [127.0.0.1])
	by real1.localdomain (8.12.8/8.12.8) with ESMTP id j492dXmX005431;
	Sun, 8 May 2005 22:39:33 -0400
Received: (from apache@localhost)
	by real1.localdomain (8.12.8/8.12.8/Submit) id j492dVPm005429;
	Sun, 8 May 2005 22:39:31 -0400
Received: from 216-49-77-242-ntkk.cavtel.net (216-49-77-242-ntkk.cavtel.net [216.49.77.242]) 
	by webmail.nist.gov (IMP) with HTTP 
	for <soboroff@localhost>; Sun,  8 May 2005 22:39:30 -0400
Message-ID: <1115606370.427ecd62e245b@webmail.nist.gov>
Date: Sun,  8 May 2005 22:39:30 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org, Erik Hatcher <erik@ehatchersolutions.com>
Cc: java-user@lucene.apache.org
Subject: Re: indexing TREC
References: <25cc5a925cd047.25cd04725cc5a9@drexel.edu> <05660758-711F-4026-B7B5-DCFAE97D145D@ehatchersolutions.com>
In-Reply-To: <05660758-711F-4026-B7B5-DCFAE97D145D@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 216.49.77.242
X-NIST-MailScanner: Found to be clean
X-MailScanner-From: ian.soboroff@nist.gov
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Quoting Erik Hatcher <erik@ehatchersolutions.com>:

> 
> On May 7, 2005, at 10:24 PM, xx28@drexel.edu wrote:
> 
> > Hi -
> >
> > Is there any TREC parser (indexing many documents that are in the  
> > same file)for Lucene avaiable?
> 
> Not to my knowledge.  I've been working on indexing some TREC data  
> myself, with some (not written by me) code to do simplistic grabbing  
> of a couple of fields from the SGML.
> 
> If there is something handy to parse these files, I'd love to give it  
> a spin though.

We at NIST have code to do this, integrated with Lucene.  We have a simple
SGML/XML parser and a simple reader which walks the documents... that's most of
what you need.  You could probably hack it together with NekoHTML in a day or
two, actually.  It can index TREC newswire corpora in a couple hours on a pretty
stock Dell workstation, and the TREC "Terabyte" collection (actually 480GB, 25
million web pages) in a weekend on a handful of workstations indexing in parallel.

It's not quite ready for prime-time release yet, though.  I hope to have some
time this summer to clean it up enough that we're not embarrassed to give it out
;-).  If your need is desperate, drop me an email and I'll see what I can do.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 11:57:52 2005
Return-Path: <java-user-return-14398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74556 invoked from network); 9 May 2005 11:57:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 11:57:52 -0000
Received: (qmail 85683 invoked by uid 500); 9 May 2005 12:00:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85598 invoked by uid 500); 9 May 2005 12:00:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85551 invoked by uid 99); 9 May 2005 12:00:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 05:00:37 -0700
Received: from [192.168.128.211] (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with ESMTP id j49BvEsK015650
	for <java-user@lucene.apache.org>; Mon, 9 May 2005 14:57:14 +0300
Message-ID: <427F5019.7000405@sirma.bg>
Date: Mon, 09 May 2005 14:57:13 +0300
From: Stanislav Jordanov <stenly@sirma.bg>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: a *match all* query
Content-Type: text/plain; charset=windows-1251; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I need a query that will hit all documents in the index.
How do I get one?

10x
StJ

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 12:11:57 2005
Return-Path: <java-user-return-14399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80120 invoked from network); 9 May 2005 12:11:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 12:11:57 -0000
Received: (qmail 11713 invoked by uid 500); 9 May 2005 12:14:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11685 invoked by uid 500); 9 May 2005 12:14:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11672 invoked by uid 99); 9 May 2005 12:14:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 05:14:13 -0700
Received: from [81.168.89.246] (helo=[192.168.1.4])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1DV766-0008MV-00
	for <java-user@lucene.apache.org>; Mon, 09 May 2005 13:10:54 +0100
Subject: Re: a *match all* query
From: Miles Barr <miles@runtime-collective.com>
To: Lucene User <java-user@lucene.apache.org>
In-Reply-To: <427F5019.7000405@sirma.bg>
References: <427F5019.7000405@sirma.bg>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Mon, 09 May 2005 13:08:29 +0100
Message-Id: <1115640509.29861.29.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.4 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2005-05-09 at 14:57 +0300, Stanislav Jordanov wrote:
> I need a query that will hit all documents in the index.
> How do I get one?

The semi-official technique is to create an additional field in the
index and store the same value in it for all the documents. Then do a
query on that field to get back all the documents.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 15:12:26 2005
Return-Path: <java-user-return-14400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92198 invoked from network); 9 May 2005 15:12:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 15:12:26 -0000
Received: (qmail 50547 invoked by uid 500); 9 May 2005 15:10:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50457 invoked by uid 500); 9 May 2005 15:10:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50443 invoked by uid 99); 9 May 2005 15:10:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 08:10:09 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: FileNotFound Exception
Date: Mon, 9 May 2005 10:06:16 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B21568E6F4@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: FileNotFound Exception
Thread-Index: AcVUkEWSEwVpC1BoSAClkiDw9ZLcRwAF42TQ
From: "Ravi" <ravi@htinc.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm getting the following exception when I try to update my searcher
object. When I checked the index folder it does not have the .fnm file.
I have .cfs files, a deletable and a segments file. Has anybody had
similar problem?=20

Thanks in advance,
Ravi. =20

The class java.io.FileNotFoundException's message
follows:/a/newsindex/20050502173800/_6i2f.fnm (No such file or
directory)The Stack trace follows:java.io.FileNotFoundException:
/a/index/20050502173800/_6i2f.fnm (No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at
java.io.RandomAccessFile.<init>(RandomAccessFile.java(Compiled Code))
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
(Inlined Compiled Code))
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java(Inlined
Compiled Code))
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java(Compiled
Code))
        at
org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java(Compiled
Code))
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java(Comp
iled Code))
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java(Inlined
Compiled Code))
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java(Compiled
Code))
        at org.apache.lucene.store.Lock$With.run(Lock.java(Compiled
Code))
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java(Inlined
Compiled Code))
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java(Inlined
Compiled Code))
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java(Inlined
Compiled Code))




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 16:25:27 2005
Return-Path: <java-user-return-14401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39126 invoked from network); 9 May 2005 16:25:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 16:25:26 -0000
Received: (qmail 61004 invoked by uid 500); 9 May 2005 16:26:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60706 invoked by uid 500); 9 May 2005 16:26:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60661 invoked by uid 99); 9 May 2005 16:26:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lorenzo.viscanti@gmail.com designates 64.233.162.200 as permitted sender)
Received: from zproxy.gmail.com (HELO zproxy.gmail.com) (64.233.162.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 09:26:49 -0700
Received: by zproxy.gmail.com with SMTP id 12so1402702nzp
        for <java-user@lucene.apache.org>; Mon, 09 May 2005 09:23:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=DeOutXvoptWFBZdQflrkVyheG1V0RBBdLMI0sGMv7/hwp9xQybEuUOqWf1VoOuS7Qxdf3Mp7TLmxGfqQ3L/V07Uvw54CHXg4oZFbRmQVeFbs0UZLCz3zIITqtU4H6CTRpLmApfEU5xLRu7tsUfjAlMOeSdgY8ShAURh4YRGZDwg=
Received: by 10.36.2.12 with SMTP id 12mr1176449nzb;
        Mon, 09 May 2005 09:23:26 -0700 (PDT)
Received: by 10.36.8.13 with HTTP; Mon, 9 May 2005 09:23:26 -0700 (PDT)
Message-ID: <e72c67f705050909235637c619@mail.gmail.com>
Date: Mon, 9 May 2005 18:23:26 +0200
From: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
Reply-To: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Difference between minMergeDocs and mergeFactor
In-Reply-To: <427DEAE8.1080309@web.de>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10434_27711892.1115655806475"
References: <427DEAE8.1080309@web.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10434_27711892.1115655806475
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Barbara, while mergeFactor deals with the size of new segments and the=
=20
number of segments in the index, minMergeDocs deals only with the size of=
=20
new segments.
minMergeDocs sets the number of documents a new segment must contain before=
=20
it is written from RAM to the index. So does mergeFactor; in addition to=20
that mergeFactor sets at the same time the maximum number of segments that=
=20
will be present in the index. When the number is equal to mergeFactor Lucen=
e=20
tries to merge all the segments into a new one.
Ciao,
Lorenzo


On 5/8/05, Barbara Krausz <bkrausz@web.de> wrote:
>=20
> Hi,
>=20
> can anybody tell me the difference between minMergeDocs and mergeFactor
> (perhaps an example?)?
>=20
> Thanks
> Barbara
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20

Lorenzo Viscanti

------=_Part_10434_27711892.1115655806475--

From java-user-return-14402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 18:28:25 2005
Return-Path: <java-user-return-14402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90934 invoked from network); 9 May 2005 18:28:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 18:28:24 -0000
Received: (qmail 65550 invoked by uid 500); 9 May 2005 18:31:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65454 invoked by uid 500); 9 May 2005 18:31:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65351 invoked by uid 99); 9 May 2005 18:31:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.crcpress.com (HELO flexbe01.crcpress.com) (65.244.170.27)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 11:31:15 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C554C4.CFBACDD0"
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: QueryParser and Special Characters
Date: Mon, 9 May 2005 14:27:52 -0400
Message-ID: <78A2AFE317F5AD48B823BE740D4A815224072C@flexbe01.crcpress.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QueryParser and Special Characters
Thread-Index: AcVUxM+VcQCL/T/ERM+3Ytv4s8+OCQ==
From: "Kipping, Peter" <Peter.Kipping@taylorandfrancis.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C554C4.CFBACDD0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

The documentation tells us to escape special characters by using the \

Example:

\(1\+1\)

However if we put this in a string

String query =3D "\(1\+1\)";

Then the java compiler throws an Invalid Escape Sequence error.
QueryParser doesn't seem to recognize the double backslash.  Is there a
workaround for this?

Thanks,
Peter

------_=_NextPart_001_01C554C4.CFBACDD0--

From java-user-return-14403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 18:56:20 2005
Return-Path: <java-user-return-14403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2061 invoked from network); 9 May 2005 18:56:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 18:56:19 -0000
Received: (qmail 25046 invoked by uid 500); 9 May 2005 18:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25001 invoked by uid 500); 9 May 2005 18:58:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24848 invoked by uid 99); 9 May 2005 18:58:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.199 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 11:58:55 -0700
Received: by rproxy.gmail.com with SMTP id i8so798449rne
        for <java-user@lucene.apache.org>; Mon, 09 May 2005 11:55:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=UE+b7bRPnoW2bFQtV4YukQxMnlc3z7EqoeWdgzcYupQbYFtEGxvjpV2WGJnysb1G/kl1MtXU5wjDDhs7DmEXWZhfr1UUJAinidKizkGXTCQpruokcjj6UND+j0hY87e9sHQEtIZixI2Lo7V2HjeXvo4eZlCJx1KbPZOgTJAkrD8=
Received: by 10.38.97.22 with SMTP id u22mr1619995rnb;
        Mon, 09 May 2005 11:55:33 -0700 (PDT)
Received: by 10.38.104.11 with HTTP; Mon, 9 May 2005 11:55:33 -0700 (PDT)
Message-ID: <88c6a67205050911556ca418ea@mail.gmail.com>
Date: Mon, 9 May 2005 13:55:33 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: QueryParser and Special Characters
In-Reply-To: <78A2AFE317F5AD48B823BE740D4A815224072C@flexbe01.crcpress.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <78A2AFE317F5AD48B823BE740D4A815224072C@flexbe01.crcpress.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You might need a double backslash, since the string \(1\+1\)
represented in Java is "\\(1\\+1\\)" (see the javadocs for
java.util.regex.Pattern for a better explanation).


On 5/9/05, Kipping, Peter <Peter.Kipping@taylorandfrancis.com> wrote:
> The documentation tells us to escape special characters by using the \
>=20
> Example:
>=20
> \(1\+1\)
>=20
> However if we put this in a string
>=20
> String query =3D "\(1\+1\)";
>=20
> Then the java compiler throws an Invalid Escape Sequence error.
> QueryParser doesn't seem to recognize the double backslash.  Is there a
> workaround for this?
>=20
> Thanks,
> Peter
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 19:54:35 2005
Return-Path: <java-user-return-14404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52737 invoked from network); 9 May 2005 19:54:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 19:54:35 -0000
Received: (qmail 46840 invoked by uid 500); 9 May 2005 19:57:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46817 invoked by uid 500); 9 May 2005 19:57:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46800 invoked by uid 99); 9 May 2005 19:57:40 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.73)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 12:57:40 -0700
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/8.12.11/smtpout16/MantshX 4.0) with ESMTP id j49JsH0v005105
	for <java-user@lucene.apache.org>; Mon, 9 May 2005 12:54:17 -0700 (PDT)
Received: from [192.168.53.253] (i-195-137-67-86.freedom2surf.net [195.137.67.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id j49JsDdJ008027
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Mon, 9 May 2005 12:54:16 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <1115640509.29861.29.camel@localhost.localdomain>
References: <427F5019.7000405@sirma.bg> <1115640509.29861.29.camel@localhost.localdomain>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <00F75DA7-5E62-45E5-BB94-D700D31B2E94@mac.com>
Content-Transfer-Encoding: 7bit
From: kimchy.compass@mac.com
Subject: Re: a *match all* query
Date: Mon, 9 May 2005 20:54:02 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

   You can use Compass, since it does it for you by default. If you  
don't care about OSEM (mapping your domain objects to search engine),  
you can use the Compass::Core search engine abstraction to do that  
(just define the resource mapping...), and work with Resource  
(Document) and Property (Field) and work only with them.

On 9 May 2005, at 13:08, Miles Barr wrote:

> On Mon, 2005-05-09 at 14:57 +0300, Stanislav Jordanov wrote:
>
>> I need a query that will hit all documents in the index.
>> How do I get one?
>>
>
> The semi-official technique is to create an additional field in the
> index and store the same value in it for all the documents. Then do a
> query on that field to get back all the documents.
>
>
> -- 
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 20:09:27 2005
Return-Path: <java-user-return-14405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58095 invoked from network); 9 May 2005 20:09:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 20:09:26 -0000
Received: (qmail 85630 invoked by uid 500); 9 May 2005 20:12:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85388 invoked by uid 500); 9 May 2005 20:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85217 invoked by uid 99); 9 May 2005 20:12:12 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nyhwwex001a.hwwilson.com (HELO NYHWWEX001.hwwilson.local) (208.238.105.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 13:12:10 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: alpha numeric searching or highlighting problem.
Date: Mon, 9 May 2005 16:08:47 -0400
Message-ID: <E3AD9C3F9EC34949855CDFC6FB5A6C1175516D@NYHWWEX001.hwwilson.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: alpha numeric searching or highlighting problem.
Thread-Index: AcVSmjv9rWwokW6nRNWV60PU0f2XqACOc5bA
From: "Yagnesh Shah" <yshah@hwwilson.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks! for pointing this out.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, May 06, 2005 8:15 PM
To: java-user@lucene.apache.org
Subject: Re: alpha numeric searching or highlighting problem.


On May 6, 2005, at 5:43 PM, Yagnesh Shah wrote:
> Hi folks,
>     I am playing with HighlighIt.java of "Luceneinaction" code. I =20
> have modified the text string so that "45 BC" will now "45BC" and =20
> another "45 BC" to "Z3950". I have also modified this line and my =20
> output file do not creates and highlighting.
>
> Works:
>     TermQuery query =3D new TermQuery(new Term("f", "ipsum"));
>     TermQuery query =3D new TermQuery(new Term("f", "2000"));
>
> Do not work:
>
>     TermQuery query =3D new TermQuery(new Term("f", "45BC"));
>     TermQuery query =3D new TermQuery(new Term("f", "Z3950"));

This is a classic "analysis paralysis" issue.  The HighlightIt code =20
uses the StandardAnalyzer.  Analyzing 45BC and Z3950 yields the =20
following (from the Lucene In Action code, run "ant AnalyzerDemo"):

AnalyzerDemo:
      [echo]
      [echo]       Demonstrates analysis of sample text.
      [echo]
      [echo]       Refer to the "Analysis" chapter for much more on this
      [echo]       extremely crucial topic.
      [echo]
     [input] Press return to continue...
     [input] String to analyze: [This string will be analyzed.]
45BC Z3950
      [echo] Running lia.analysis.AnalyzerDemo...
      [java] Analyzing "45BC Z3950"
...
      [java]   StandardAnalyzer:
      [java]     [45bc] [z3950]

Notice that it has been lowercased.  A TermQuery must match the case =20
exactly as the tokens returned from the analysis process.

Change to "45bc" in your TermQuery and you'll see highlighting.

     Erik


>
> Modified text string from:
>
>   private static final String text =3D
>       "Contrary to popular belief, Lorem Ipsum is" +
>       " not simply random text. It has roots in a piece of" +
>       " classical Latin literature from 45 BC, making it over" +
>       " 2000 years old. Richard McClintock, a Latin professor" +
>       " at Hampden-Sydney College in Virginia, looked up one" +
>       " of the more obscure Latin words, consectetur, from" +
>       " a Lorem Ipsum passage, and going through the cites" +
>       " of the word in classical literature, discovered the" +
>       " undoubtable source. Lorem Ipsum comes from sections" +
>       " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
>       " Malorum\" (The Extremes of Good and Evil) by Cicero," +
>       " written in 45 BC. This book is a treatise on the" +
>       " theory of ethics, very popular during the" +
>       " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
>       " ipsum dolor sit amet..\", comes from a line in" +
>       " section 1.10.32.";
> to
>
>   private static final String text =3D
>       "Contrary to popular belief, Lorem Ipsum is" +
>       " not simply random text. It has roots in a piece of" +
>       " classical Latin literature from 45BC, making it over" +
>       " 2000 years old. Richard McClintock, a Latin professor" +
>       " at Hampden-Sydney College in Virginia, looked up one" +
>       " of the more obscure Latin words, consectetur, from" +
>       " a Lorem Ipsum passage, and going through the cites" +
>       " of the word in classical literature, discovered the" +
>       " undoubtable source. Lorem Ipsum comes from sections" +
>       " 1.10.32 and 1.10.33 of \"de Finibus Bonorum et" +
>       " Malorum\" (The Extremes of Good and Evil) by Cicero," +
>       " written in Z3950. This book is a treatise on the" +
>       " theory of ethics, very popular during the" +
>       " Renaissance. The first line of Lorem Ipsum, \"Lorem" +
>       " ipsum dolor sit amet..\", comes from a line in" +
>       " section 1.10.32.";
>
>
> Yagnesh N. Shah
> Senior Technology Engineer
> CS Dept., 4th Floor
> H. W. Wilson
> 950 University Avenue,
> Bronx NY 10452
> (718) 588 8400 x2721
> http://www.hwwilson.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 20:33:14 2005
Return-Path: <java-user-return-14406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66566 invoked from network); 9 May 2005 20:33:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 20:33:14 -0000
Received: (qmail 30123 invoked by uid 500); 9 May 2005 20:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30084 invoked by uid 500); 9 May 2005 20:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30069 invoked by uid 99); 9 May 2005 20:36:20 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=NO_REAL_NAME,UPPERCASE_50_75
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from julesburg.uits.indiana.edu (HELO julesburg.uits.indiana.edu) (129.79.1.75)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 13:36:20 -0700
Received: from spaz.uits.indiana.edu (spaz.uits.indiana.edu [129.79.1.94])
	by julesburg.uits.indiana.edu (8.12.10/8.12.10/IUPO) with ESMTP id j49KWuaN028792
	for <java-user@lucene.apache.org>; Mon, 9 May 2005 15:32:56 -0500 (EST)
Received: (from nobody@localhost)
	by spaz.uits.indiana.edu (8.12.10/8.12.10/IUPO) id j49KWvOV004822
	for java-user@lucene.apache.org; Mon, 9 May 2005 15:32:57 -0500 (EST)
Received: from 129-79-38-154.dhcp-bl.indiana.edu (129-79-38-154.dhcp-bl.indiana.edu [129.79.38.154]) 
	by webmail.iu.edu (IMP) with HTTP 
	for <yinjin@localhost>; Mon,  9 May 2005 15:32:57 -0500
Message-ID: <1115670777.427fc8f92d84d@webmail.iu.edu>
Date: Mon,  9 May 2005 15:32:57 -0500
From: yinjin@indiana.edu
To: java-user@lucene.apache.org
Subject: Spacing problem in highlight
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 129.79.38.154
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Hi, All,

I use lucene highlight package to generate KWIC contents. When part of the 
paper with text like this,
==================================================================
PARTICIPATORY NATURAL RESOURCES MANAGEMENT IN MOZAMBIQUE
AN ASSESSMENT OF LEGAL AND INSTITUTIONAL ARRANGEMENTS FOR COMUNITY-BASED 
NATURAL RESOURCES MANAGEMENT
by

Alda I. A. Salomao
==================================================================
The highlight will generate a fragment without spacing among MANAGEMENT by 
Alda:

==================================================================
 OF LEGAL AND <B>INSTITUTIONAL</B> ARRANGEMENTS FOR COMUNITY-BASED NATURAL 
RESOURCES MANAGEMENTbyAlda
==================================================================

Does anyone know how to fix it?

Thanks for any help,
Ying 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 09 21:28:03 2005
Return-Path: <java-user-return-14407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91004 invoked from network); 9 May 2005 21:28:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2005 21:28:03 -0000
Received: (qmail 57237 invoked by uid 500); 9 May 2005 21:31:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57197 invoked by uid 500); 9 May 2005 21:31:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57178 invoked by uid 99); 9 May 2005 21:31:10 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FORGED_RCVD_HELO,SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com) (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 09 May 2005 14:31:10 -0700
Received: from chicago [64.7.7.99] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id A7EA22860154; Mon, 09 May 2005 17:36:42 -0400
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: Intermittent exception on optimize(): IOException: Cannot delete      _5.cfs
Date: Mon, 9 May 2005 17:27:42 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcVSp32XEfV7WTlRSFajOvHqQQJ88ACNdWuw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <28113.12.35.64.42.1115430231.squirrel@msqr.us>
Message-Id: <200505091736859.SM01836@chicago>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I'm using Lucene.NET, but I had a similar issue with Visual Studio.  With
Visual Studio open, my application would randomly crash with the same error
when I tried to run it from the command line.  I'd recommend shutting down
all running apps and then see if the error happens in Ant.  You could also
try writing to a different index directory, outside of your application
folder.

Monsur



> -----Original Message-----
> From: Matt Magoffin [mailto:apache.org@msqr.us] 
> Sent: Friday, May 06, 2005 9:44 PM
> To: java-user@lucene.apache.org
> Subject: Intermittent exception on optimize(): IOException: 
> Cannot delete _5.cfs
> 
> I'm getting a strange exception with Lucene 1.4.3 that occurs 
> when I run a
> unit test from Ant, but not when I run the same unit test 
> inside Eclipse.
> The exception is
> 
> Caused by: java.io.IOException: Cannot delete _5.cfs
>  at 
> org.apache.lucene.store.FSDirectory.renameFile(FSDirectory.java:232)
>  at org.apache.lucene.index.IndexWriter$5.doBody(IndexWriter.java:651)
>  at org.apache.lucene.store.Lock$With.run(Lock.java:109)
>  at 
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.
> java:648)
>  at
> org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWrit
> er.java:575)
>  at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:468)
>  ...
> 
> This occurs within a block of code that has exclusive access 
> to the index
> at the time of the exception, and right after re-creating the 
> index (via
> opening a new IndexWriter with the create parameter set to 'true').
> 
> I can't get the error to happen every time, but if I run the unit test
> enough times the exception will happen eventually. If I 
> re-run the unit
> test after the error occurs, then a different exception gets 
> thrown when
> trying to open an IndexReader on this index:
> 
> java.lang.ArrayIndexOutOfBoundsException: -1
>  at java.util.ArrayList.get(ArrayList.java:324)
>  at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
>  at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
>  at
> org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEn
> um.java:149)
>  at 
> org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
>  at
> org.apache.lucene.index.TermInfosReader.readIndex(TermInfosRea
> der.java:86)
>  at 
> org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader
> .java:45)
>  at 
> org.apache.lucene.index.SegmentReader.initialize(SegmentReader
> .java:112)
>  at 
> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
>  at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
>  at org.apache.lucene.store.Lock$With.run(Lock.java:109)
>  at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
>  at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
>  ...
> 
> which I'm assuming occurs because the index has become 
> corrupted somehow,
> possibly during the .optimize() call?
> 
> Any ideas are greatly appreciated.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 13:36:51 2005
Return-Path: <java-user-return-14408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35823 invoked from network); 10 May 2005 13:36:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 13:36:51 -0000
Received: (qmail 4424 invoked by uid 500); 10 May 2005 13:40:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4292 invoked by uid 500); 10 May 2005 13:40:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4265 invoked by uid 99); 10 May 2005 13:40:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtp1.clb.oleane.net (HELO smtp1.clb.oleane.net) (213.56.31.17)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 06:40:04 -0700
Received: from smtp1.clb.oleane.net (localhost [127.0.0.1]) 
	by smtp1.clb.oleane.net (antivirus) with ESMTP id j4ADaWh1017331
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 15:36:32 +0200
Received: from [172.16.0.117] ([217.167.130.37]) (authenticated)
	by smtp1.clb.oleane.net with ESMTP id j4ADaSd0017161
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 15:36:31 +0200
Message-ID: <4280B915.40105@lingway.com>
Date: Tue, 10 May 2005 15:37:25 +0200
From: Vincent Le Maout <vincent.lemaout@lingway.com>
Reply-To: vincent.lemaout@lingway.com
Organization: Lingway
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: term boosting has no effect with span queries ?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to boost the score of documents containing some specific 
terms using the setBoost()
method of the class SpanTermQuery (actually inherited from the class 
Query) but this seems
to have no effect on the hits scores. Checking the way the scores are 
computed (by calling the
explain method or even digging in the source code), I found no reference 
to any boost value.
Is boosting a SpanTermQuery simply not possible ? Does it make sense to 
do so or did I
misunderstand the use of the SpanQuery ?

Thanks.

Vince

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 14:02:39 2005
Return-Path: <java-user-return-14409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48067 invoked from network); 10 May 2005 14:02:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 14:02:39 -0000
Received: (qmail 64236 invoked by uid 500); 10 May 2005 14:04:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64180 invoked by uid 500); 10 May 2005 14:04:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64142 invoked by uid 500); 10 May 2005 14:04:31 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 64134 invoked by uid 99); 10 May 2005 14:04:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from diamond.opin.com (HELO MUSCOVITE.igneous.opin.com) (206.8.60.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 07:04:29 -0700
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C55567.C165E3A4"
Subject: How to get values that produced hits
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Tue, 10 May 2005 08:54:16 -0500
Message-ID: <44C71DE68669B045B760F2EE833AEF30059995@muscovite.igneous.opin.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to get values that produced hits
Thread-Index: AcVVZ7+43Ksh/a7bRdK1Dh6uabDBsQ==
From: "Steve Rajavuori" <SteveR@opin.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55567.C165E3A4
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have some cases where a user submits a Boolean query that could have =
many terms -- e.g. "A=3D1 OR B=3D2 OR C=3D3", etc. When I retrieve the =
hits I want to be able to retrieve the value the produced the hit. In =
other words, I want to know if it was "A=3D1" that produced this hit, or =
was it "B=3D2". How can I get this information for my Hits?
=20
Steve Rajavuori
O'Pin Systems
2600 Eagan Woods Dr., Suite 400
Eagan, MN  55121
651-994-6556
stever@opin.com=20


------_=_NextPart_001_01C55567.C165E3A4--

From java-user-return-14410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 14:48:48 2005
Return-Path: <java-user-return-14410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74394 invoked from network); 10 May 2005 14:48:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 14:48:48 -0000
Received: (qmail 2442 invoked by uid 500); 10 May 2005 14:51:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2410 invoked by uid 500); 10 May 2005 14:51:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2377 invoked by uid 99); 10 May 2005 14:51:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from owa.mm.fr.atosorigin.com (HELO srv-grp-s01.axime.com) (160.92.103.161)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 07:51:24 -0700
Received: from srv-grp-s06.dev.atos.fr ([172.18.100.67]) by srv-grp-s01.axime.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 10 May 2005 16:46:01 +0200
content-class: urn:content-classes:message
Subject: Real time indexing with RAMDirectory
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 10 May 2005 16:47:42 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Message-ID: <66C1CC04412C4A4785E49FE965C9456E8CFC45@srv-grp-s06.dev.atos.fr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Real time indexing with RAMDirectory
Thread-Index: AcVVZ9WCxqV3uxbFRQ6dg7Qbb6jQXwABz2TA
From: =?iso-8859-1?Q?Rifflard_Micka=EBl?= <Mickael.Rifflard@atosorigin.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 10 May 2005 14:46:02.0046 (UTC) FILETIME=[FC78B5E0:01C5556E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

Is it possible, with the RAMDirectory (or another Directory), to "flush" =
informations after each Document indexing ?
I tried this but this "flush" appears to be able to be made after 2 =
indexing at best.

What do you think about it ? I forgot a configuration ?

Thanks,
=20
	Micka=EBl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 15:06:27 2005
Return-Path: <java-user-return-14411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91790 invoked from network); 10 May 2005 15:06:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 15:06:27 -0000
Received: (qmail 46546 invoked by uid 500); 10 May 2005 15:08:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46496 invoked by uid 500); 10 May 2005 15:08:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46466 invoked by uid 99); 10 May 2005 15:08:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of bjorn.lilja@capgemini.com designates 198.184.232.82 as permitted sender)
Received: from mxeorb01.capgemini.com (HELO mxeorb01.capgemini.com) (198.184.232.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 08:08:31 -0700
Received: from mxiorb01.capgemini.com (crayfish [205.223.236.82])
	by mxeorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4AF4wiO026776
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 17:04:59 +0200 (MEST)
Received: from mxiorb01.capgemini.com (localhost [127.0.0.1])
	by mxiorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4AF4wlf007201
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 17:04:58 +0200 (MEST)
Received: from mailsweeper2.capgemini.se ([193.234.248.12])
	by mxiorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4AF4wgS007196
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 17:04:58 +0200 (MEST)
Received: from ore-mail1.ne.ad.ner.capgemini.com (unverified) by mailsweeper2.capgemini.se
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T70d3f63cfac1eaf80cfd0@mailsweeper2.capgemini.se> for <java-user@lucene.apache.org>;
 Tue, 10 May 2005 17:01:07 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Strange results using QueryParser (?)
Date: Tue, 10 May 2005 17:04:58 +0200
Message-ID: <3C02C973EF7D4045A1BD714205286A7C01096EF9@ore-mail1.ne.ad.ner.capgemini.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Strange results using QueryParser (?)
Thread-Index: AcVVcaG5O4IA+J8ITbeizFFsMcIe/A==
From: "Lilja, Bjorn" <bjorn.lilja@capgemini.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

We have implemented a lucene search like this:

registry =3D LocateRegistry=2EgetRegistry(RMIAddress, RMIPort);
searchables =3D new Searchable[] { (Searchable) registry=
=2Elookup(RMIIndexName)};
queryParser =3D new QueryParser(defaultField, new StandardAnalyzer());
Query query =3D queryParser=2Eparse(queryString); // queryString is=
 something the user specified, like hello*
Searcher searcher =3D new MultiSearcher(searchables);
hits =3D searcher=2Esearch(query);

There is furthermore a field in the index called documenttype=2E

The problem is this, when searching for "documenttype:Specifikation" I get=
 the expected results, but when searching for "documenttype:blankett/mall"=
 I get none=2E I can show, using a class simply displaying the index=
 contents, that there is actually a field called documenttype containing=
 the value "blankett/mall" in several cases=2E

I first suspected the "/"-sign to be the cause of the problem, but=
 searching for "documenttype:blankett/ma*" actually returns the expected=
 result=2E

I understand that there are several different query types, but should not=
 the queryParser create a correct query for me? I am quite stuck here and=
 would truly appreciate any help possible!=0D

Best regards,
Bj=F6rn Lilja
_____________________________________________________________
Bj=F6rn Lilja | Technology Services | Consultant
Tel: +46 8 5368 5000
Mob: +46 702 651 027

Capgemini
www=2Ese=2Ecapgemini=2Ecom | We help companies and their employees to=
 achieve more=2E
=0D

This message contains information that may be privileged or confidential=
 and is the property of the Capgemini Group=2E It is intended only for the=
 person to whom it is addressed=2E If you are not the intended recipient, =
 you are not authorized to read, print, retain, copy, disseminate, =
 distribute, or use this message or any part thereof=2E If you receive this=
  message in error, please notify the sender immediately and delete all =
 copies of this message=2E


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 15:09:30 2005
Return-Path: <java-user-return-14412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93807 invoked from network); 10 May 2005 15:09:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 15:09:30 -0000
Received: (qmail 57604 invoked by uid 500); 10 May 2005 15:12:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57556 invoked by uid 500); 10 May 2005 15:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57517 invoked by uid 99); 10 May 2005 15:12:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 08:12:45 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j4AF99Dn018676
	for <java-user@lucene.apache.org>; Tue, 10 May 2005 17:09:09 +0200
From: =?iso-8859-1?Q?Kai_G=FClzau?= <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: only getting Hits with score >= threshold
Date: Tue, 10 May 2005 17:10:17 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDGEOEGDAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

i'm trying to collect Documents whose (normalized) score
is greater than a given threshold.
But i don't know what is the smartest way to do so :)

Do i have to subclass (Index)Searcher and override

  search(Query query, Filter filter, final int nDocs)

to achieve this?



Kai Glzau


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 15:41:15 2005
Return-Path: <java-user-return-14413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10799 invoked from network); 10 May 2005 15:41:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 15:41:14 -0000
Received: (qmail 40084 invoked by uid 500); 10 May 2005 15:43:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40031 invoked by uid 500); 10 May 2005 15:43:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40006 invoked by uid 99); 10 May 2005 15:43:23 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31105.mail.mud.yahoo.com (HELO web31105.mail.mud.yahoo.com) (68.142.200.38)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 10 May 2005 08:43:23 -0700
Received: (qmail 28167 invoked by uid 60001); 10 May 2005 15:39:28 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ACtEAy+Y4dGu8OwM7h4WFa85yKTD9ZhGdOPyfom4YBNFRl9RHQHuX6B82PwX2Sq/sB36ewj3XBV+nlVNbR/jNkLy2eDyoik0804UIbjIZl6yhuBhmbn3GkXXoZdBdu31cq0YHgvcFMOLPhdEhe8MGXmx25tD5BloVr7Z14KlOTM=  ;
Message-ID: <20050510153928.28164.qmail@web31105.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31105.mail.mud.yahoo.com via HTTP; Tue, 10 May 2005 08:39:27 PDT
Date: Tue, 10 May 2005 08:39:27 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Real time indexing with RAMDirectory
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Micka๋l,

Have you tried using minMergeDocs=1 ?  Will that do what you want?

Otis

--- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:
> Hi all,
> 
> Is it possible, with the RAMDirectory (or another Directory), to
> "flush" informations after each Document indexing ?
> I tried this but this "flush" appears to be able to be made after 2
> indexing at best.
> 
> What do you think about it ? I forgot a configuration ?
> 
> Thanks,
>  
> 	Micka๋l
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 15:44:55 2005
Return-Path: <java-user-return-14414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13085 invoked from network); 10 May 2005 15:44:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 15:44:55 -0000
Received: (qmail 54095 invoked by uid 500); 10 May 2005 15:47:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54025 invoked by uid 500); 10 May 2005 15:47:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53996 invoked by uid 99); 10 May 2005 15:47:46 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31114.mail.mud.yahoo.com (HELO web31114.mail.mud.yahoo.com) (68.142.201.76)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 10 May 2005 08:47:46 -0700
Received: (qmail 32189 invoked by uid 60001); 10 May 2005 15:44:05 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=IuFa2svFflsltPgvIMD86hvnFV4rULYjkAsk4ugZv+CFfAsSBPEIVEqjJk3SjVsNPdd5XueI2bzgqYQSUhR5+som9qZbtGI0aqa8wrzgA/LLqa28wQ+FGg79HRaEqsH1+dIALECY+WdwiTsEF4tN3WOCY7/1t9vH47guOT6mCnE=  ;
Message-ID: <20050510154405.32186.qmail@web31114.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31114.mail.mud.yahoo.com via HTTP; Tue, 10 May 2005 08:44:05 PDT
Date: Tue, 10 May 2005 08:44:05 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Strange results using QueryParser (?)
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

My guess is that the analyzer you use for indexing keeps the / (or
perhaps documenttype is a Keyword field, while the StandardAnalyzer and
QueryParser combination remove the / from the query string.  Wildcards
work because they are not analyzed:
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-133cf44dd3dff3680c96c1316a663e881eeac35a

Otis

--- "Lilja, Bjorn" <bjorn.lilja@capgemini.com> wrote:
> 
> Hi,
> 
> We have implemented a lucene search like this:
> 
> registry = LocateRegistry.getRegistry(RMIAddress, RMIPort);
> searchables = new Searchable[] { (Searchable)
> registry.lookup(RMIIndexName)};
> queryParser = new QueryParser(defaultField, new StandardAnalyzer());
> Query query = queryParser.parse(queryString); // queryString is
> something the user specified, like hello*
> Searcher searcher = new MultiSearcher(searchables);
> hits = searcher.search(query);
> 
> There is furthermore a field in the index called documenttype.
> 
> The problem is this, when searching for "documenttype:Specifikation"
> I get the expected results, but when searching for
> "documenttype:blankett/mall" I get none. I can show, using a class
> simply displaying the index contents, that there is actually a field
> called documenttype containing the value "blankett/mall" in several
> cases.
> 
> I first suspected the "/"-sign to be the cause of the problem, but
> searching for "documenttype:blankett/ma*" actually returns the
> expected result.
> 
> I understand that there are several different query types, but should
> not the queryParser create a correct query for me? I am quite stuck
> here and would truly appreciate any help possible!
> 
> Best regards,
> Bj๖rn Lilja
> _____________________________________________________________
> Bj๖rn Lilja | Technology Services | Consultant
> Tel: +46 8 5368 5000
> Mob: +46 702 651 027
> 
> Capgemini
> www.se.capgemini.com | We help companies and their employees to
> achieve more.
> 
> 
> This message contains information that may be privileged or
> confidential and is the property of the Capgemini Group. It is
> intended only for the person to whom it is addressed. If you are not
> the intended recipient,  you are not authorized to read, print,
> retain, copy, disseminate,  distribute, or use this message or any
> part thereof. If you receive this  message in error, please notify
> the sender immediately and delete all  copies of this message.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 15:57:10 2005
Return-Path: <java-user-return-14415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17983 invoked from network); 10 May 2005 15:57:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 15:57:10 -0000
Received: (qmail 92178 invoked by uid 500); 10 May 2005 16:00:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92142 invoked by uid 500); 10 May 2005 16:00:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92110 invoked by uid 99); 10 May 2005 16:00:29 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31111.mail.mud.yahoo.com (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 10 May 2005 09:00:29 -0700
Received: (qmail 81332 invoked by uid 60001); 10 May 2005 15:56:49 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=usBZDKXWzeuVlVW3QKkm6l8uxHmuVZ+AnJ8w+hVvm49ZiKZor0sV+GrwJYRSvyTLdO50UcsbIaxtbpCoiGTcVB/n6ZK7WDjWDlPCpN83lqe/RiuPV6EgY40BsLexx5ztblRCOOLrnzxt2cv2TdhuyTC4e3naukRH8mDnkZwZxC0=  ;
Message-ID: <20050510155649.81330.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31111.mail.mud.yahoo.com via HTTP; Tue, 10 May 2005 08:56:49 PDT
Date: Tue, 10 May 2005 08:56:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: only getting Hits with score >= threshold
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Kai,

You could use HitCollector for this:
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/HitCollector.html

Here are some bits about HitCollector:
http://www.lucenebook.com/search?query=hitcollector+score
A custom HitCollector comes with the book, and you can download the
sources from the site, so help yourself. :)

Otis


--- Kai Glzau <kguelzau@novomind.com> wrote:
> Hi,
> 
> i'm trying to collect Documents whose (normalized) score
> is greater than a given threshold.
> But i don't know what is the smartest way to do so :)
> 
> Do i have to subclass (Index)Searcher and override
> 
>   search(Query query, Filter filter, final int nDocs)
> 
> to achieve this?
> 
> 
> 
> Kai Glzau
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 19:45:56 2005
Return-Path: <java-user-return-14416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23490 invoked from network); 10 May 2005 19:45:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 19:45:56 -0000
Received: (qmail 96258 invoked by uid 500); 10 May 2005 19:49:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96155 invoked by uid 500); 10 May 2005 19:49:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96104 invoked by uid 99); 10 May 2005 19:49:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 12:49:10 -0700
Received: from [192.168.168.81] (c-24-5-160-217.hsd1.ca.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005051019453401500pk8aqe>; Tue, 10 May 2005 19:45:34 +0000
Message-ID: <42810F5D.500@apache.org>
Date: Tue, 10 May 2005 12:45:33 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.2-1.3.2 (X11/20050324)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Distribution Strategies?
References: <20050505052943.GD11888@darksleep.com>
In-Reply-To: <20050505052943.GD11888@darksleep.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Steven J. Owens wrote:
>      A friend just asked me for advice about synchronizing lucene
> indexes across a very large number of servers.  I haven't really
> delved that deeply into this sort of stuff, but I've seen a variety of
> comments here about similar topics.  Are there are any well-known
> approaches?

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg12709.html

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 19:50:43 2005
Return-Path: <java-user-return-14417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27118 invoked from network); 10 May 2005 19:50:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 19:50:43 -0000
Received: (qmail 7914 invoked by uid 500); 10 May 2005 19:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7887 invoked by uid 500); 10 May 2005 19:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7867 invoked by uid 99); 10 May 2005 19:54:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 12:54:05 -0700
Received: from [192.168.168.81] (c-24-5-160-217.hsd1.ca.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005051019503001500pdadce>; Tue, 10 May 2005 19:50:30 +0000
Message-ID: <42811085.3050603@apache.org>
Date: Tue, 10 May 2005 12:50:29 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.2-1.3.2 (X11/20050324)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Indexing in multi-threaded environment
References: <20050503191130.pi8kwcwkskc88kgo@webmail2.manchester.ac.uk> <88c6a67205050321285a980abb@mail.gmail.com>
In-Reply-To: <88c6a67205050321285a980abb@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Lamprecht wrote:
> I've done exactly what you describe, using N threads where N is the
> number of processors on the machine, plus one more thread that writes
> to the file system index (since that is I/O-bound anyway).  Since most
> of the CPU time is tokenizing/stemming/etc, the method works well. 
> The main drawback is IndexWriter.addIndexes(Directory[]) always calls
> optimize, which takes a lot of time as the index grows.

IndexWriter.addDocument() is thread-safe.  So you can simply have 
multiple threads which all add documents to a single IndexWriter. 
Tokenization is not synchronized, so multiple threads will operate in 
parallel.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 10 20:45:52 2005
Return-Path: <java-user-return-14418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49489 invoked from network); 10 May 2005 20:45:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2005 20:45:52 -0000
Received: (qmail 35027 invoked by uid 500); 10 May 2005 20:49:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34197 invoked by uid 500); 10 May 2005 20:49:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34182 invoked by uid 99); 10 May 2005 20:49:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from exchfe2.cs.cornell.edu (HELO exchfe2.cs.cornell.edu) (128.84.97.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 13:49:19 -0700
Received: from EXCHVS2.cs.cornell.edu ([128.84.97.24]) by exchfe2.cs.cornell.edu with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 10 May 2005 16:45:32 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C555A1.346CBEFC"
Subject: sanity check - large, long running index updates and concurrent read-only service
Date: Tue, 10 May 2005 16:45:30 -0400
Message-ID: <EE246BDD7B90354D807602B3A1411778682520@EXCHVS2.cs.cornell.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: sanity check - large, long running index updates and concurrent read-only service
Thread-Index: AcVVoCCPu8J4HduBRNOMlvOway3xBw==
From: "Naomi Dushay" <Naomi@cs.cornell.edu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 10 May 2005 20:45:32.0941 (UTC) FILETIME=[35BA13D0:01C555A1]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C555A1.346CBEFC
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Context:  our index is currently around 6 gig and takes about an hour =
just to
optimize.  Updating it, even in batches, can involve active updating for =
15
or more minutes.

=20

Index updates are done with two different batch processes as there are
currently two different workflows to update the index.  No obvious =
indexing
partitioning is suggested by our workflows.** The index is used in a =
read
only fashion by our REST search service, which runs under tomcat.

=20

Issues:  we don't want our REST service to have slow or strange results =
while
the index is being updated.

=20

=20

Proposed solution:

=20

The world starts with REST service pointing to index A .   Our REST =
service
is read only, so the index file(s) themselves can be read only.

=20

To update the index, the following sequence occurs:

=20

1.	lock index for update (via a lock/flag file)
2.	copy index A into another directory, and make it writable.  This new
index will become A'
3.	update index A', including optimization=20
4.	set index A' to read only
5.	gracefully change REST service to point use index A';  verify that
REST service is working properly with A'.
6.	optional, but likely:  remove old, out-of-date index A.
7.	unlock index for update (remove lock/flag file)

=20

The index updates could keep re-using the same two index directories, or =
they
could create new directories.

=20

Does anyone see any problems or have any suggestions for how to improve =
this?


=20

- Naomi Dushay

National Science Digital Library - Core Integration

Cornell University

=20

** workflow 1:  we get bibliographic metadata that needs to go in the =
index.
This metadata may be new, or it may be an update to existing metadata.  =
The
metadata records refer to resource URLs.   Workflow 2:  we fetch the =
content
for the resource URLs, using Nutch as our crawler and content database.
Fetched content may be for a new URL or updated content for a known URL. =
 The
Lucene Documents are a combination of bibliographic metadata and fetched
content.=20


------_=_NextPart_001_01C555A1.346CBEFC--

From java-user-return-14419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 01:54:59 2005
Return-Path: <java-user-return-14419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56568 invoked from network); 11 May 2005 01:54:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 01:54:59 -0000
Received: (qmail 98167 invoked by uid 500); 11 May 2005 01:58:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98119 invoked by uid 500); 11 May 2005 01:58:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98105 invoked by uid 99); 11 May 2005 01:58:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 18:58:26 -0700
Received: by rproxy.gmail.com with SMTP id b11so1091996rne
        for <java-user@lucene.apache.org>; Tue, 10 May 2005 18:54:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Va9Vof3BduPBbF2JKG2xI1PO9K1s6VR6iUxw3vWRFRAQvNQcFwgFJICfWLJMjaLITAPEYcEmW2asobGsRSIX2/oQGYstER5LxatRSxdmU8ePrgiv3vTVKXB3Aou3OOtdB8Vrd9jl9JIAH+tVfQwpn5SMkLW9EX481Tm640WsdAc=
Received: by 10.38.90.57 with SMTP id n57mr2417865rnb;
        Tue, 10 May 2005 18:54:48 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Tue, 10 May 2005 18:54:48 -0700 (PDT)
Message-ID: <c68e391705051018548cd88a2@mail.gmail.com>
Date: Tue, 10 May 2005 21:54:48 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sanity check - large, long running index updates and concurrent read-only service
In-Reply-To: <EE246BDD7B90354D807602B3A1411778682520@EXCHVS2.cs.cornell.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <EE246BDD7B90354D807602B3A1411778682520@EXCHVS2.cs.cornell.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Could you explain why you need to copy the index?  It doesn't seem
like that buys you anything (except maybe if the copy is to a
physically separate disk)

-Yonik


On 5/10/05, Naomi Dushay <Naomi@cs.cornell.edu> wrote:
> Context:  our index is currently around 6 gig and takes about an hour jus=
t to
> optimize.  Updating it, even in batches, can involve active updating for =
15
> or more minutes.
>=20
> Index updates are done with two different batch processes as there are
> currently two different workflows to update the index.  No obvious indexi=
ng
> partitioning is suggested by our workflows.** The index is used in a read
> only fashion by our REST search service, which runs under tomcat.
>=20
> Issues:  we don't want our REST service to have slow or strange results w=
hile
> the index is being updated.
>=20
> Proposed solution:
>=20
> The world starts with REST service pointing to index A .   Our REST servi=
ce
> is read only, so the index file(s) themselves can be read only.
>=20
> To update the index, the following sequence occurs:
>=20
> 1.      lock index for update (via a lock/flag file)
> 2.      copy index A into another directory, and make it writable.  This =
new
> index will become A'
> 3.      update index A', including optimization
> 4.      set index A' to read only
> 5.      gracefully change REST service to point use index A';  verify tha=
t
> REST service is working properly with A'.
> 6.      optional, but likely:  remove old, out-of-date index A.
> 7.      unlock index for update (remove lock/flag file)
>=20
> The index updates could keep re-using the same two index directories, or =
they
> could create new directories.
>=20
> Does anyone see any problems or have any suggestions for how to improve t=
his?
>=20
> - Naomi Dushay
>=20
> National Science Digital Library - Core Integration
>=20
> Cornell University
>=20
> ** workflow 1:  we get bibliographic metadata that needs to go in the ind=
ex.
> This metadata may be new, or it may be an update to existing metadata.  T=
he
> metadata records refer to resource URLs.   Workflow 2:  we fetch the cont=
ent
> for the resource URLs, using Nutch as our crawler and content database.
> Fetched content may be for a new URL or updated content for a known URL. =
 The
> Lucene Documents are a combination of bibliographic metadata and fetched
> content.
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 02:02:18 2005
Return-Path: <java-user-return-14420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57960 invoked from network); 11 May 2005 02:02:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 02:02:18 -0000
Received: (qmail 7768 invoked by uid 500); 11 May 2005 02:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7745 invoked by uid 500); 11 May 2005 02:05:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7730 invoked by uid 99); 11 May 2005 02:05:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.200 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 19:05:42 -0700
Received: by rproxy.gmail.com with SMTP id c16so1207756rne
        for <java-user@lucene.apache.org>; Tue, 10 May 2005 19:02:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=l/o00rlV5ETjsqiIPjxN8SfF5R6/UPq423Xkc/KQD+AklC1PYZiIz2Kqx56FvHg3ayAo95LfvXQjpVimr0HZU+zuZRBHa9ui8LgyL+aVoyrRpRFGR1L8vWxIC3CnlHscq69Cp9lQ+x4GAIevaw+kZm8onJFIv3X3+mlGm75aHJw=
Received: by 10.38.74.31 with SMTP id w31mr2417530rna;
        Tue, 10 May 2005 19:02:03 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Tue, 10 May 2005 19:02:03 -0700 (PDT)
Message-ID: <c68e391705051019022b092b28@mail.gmail.com>
Date: Tue, 10 May 2005 22:02:03 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: only getting Hits with score >= threshold
In-Reply-To: <20050510155649.81330.qmail@web31111.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20050510155649.81330.qmail@web31111.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But only Hits normalizes scores AFAIK, so going the route of using a
HitCollector means doing your own score normalization.

The easiest, If you don't need sorting, is to use Hits and iterate
over the docs until hits.score() is less than the threshold.

Note that it may not make sense filtering by an arbitrary score
(normalized or not).

-Yonik

On 5/10/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Hi Kai,
>=20
> You could use HitCollector for this:
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/HitCollec=
tor.html
>=20
> Here are some bits about HitCollector:
> http://www.lucenebook.com/search?query=3Dhitcollector+score
> A custom HitCollector comes with the book, and you can download the
> sources from the site, so help yourself. :)
>=20
> Otis
>=20
>=20
> --- Kai G=FClzau <kguelzau@novomind.com> wrote:
> > Hi,
> >
> > i'm trying to collect Documents whose (normalized) score
> > is greater than a given threshold.
> > But i don't know what is the smartest way to do so :)
> >
> > Do i have to subclass (Index)Searcher and override
> >
> >   search(Query query, Filter filter, final int nDocs)
> >
> > to achieve this?
> >
> >
> >
> > Kai G=FClzau
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 02:13:38 2005
Return-Path: <java-user-return-14421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62740 invoked from network); 11 May 2005 02:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 02:13:38 -0000
Received: (qmail 29461 invoked by uid 500); 11 May 2005 02:17:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29441 invoked by uid 500); 11 May 2005 02:17:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29422 invoked by uid 99); 11 May 2005 02:17:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.199 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 19:17:03 -0700
Received: by rproxy.gmail.com with SMTP id f1so91743rne
        for <java-user@lucene.apache.org>; Tue, 10 May 2005 19:13:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=RXu+KwCLEsGwxquh+fwtTM4h9y5YAfryGje+KT/GW5ywpm9Dc4D0TYOJRz5OELeSZ5iKi1CIetjnSG9KJBD+dJJcr+mYL1jIW/s0/1Is2ge5IJaXsg+HyY+WqMcVRjckhSbdl1YXjjI+AOHhIWlS7EO0SX91crdiXtG7KLq5dD0=
Received: by 10.38.207.37 with SMTP id e37mr243576rng;
        Tue, 10 May 2005 19:13:25 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Tue, 10 May 2005 19:13:25 -0700 (PDT)
Message-ID: <c68e3917050510191356514e54@mail.gmail.com>
Date: Tue, 10 May 2005 22:13:25 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to get values that produced hits
In-Reply-To: <44C71DE68669B045B760F2EE833AEF30059995@muscovite.igneous.opin.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <44C71DE68669B045B760F2EE833AEF30059995@muscovite.igneous.opin.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

a) if you don't care about scoring, split up the boolean query into
term queries and do them individually.

b) do term queries after the fact (or use a termdoc enumerator for a
faster check).

-Yonik


On 5/10/05, Steve Rajavuori <SteveR@opin.com> wrote:
> I have some cases where a user submits a Boolean query that could have ma=
ny terms -- e.g. "A=3D1 OR B=3D2 OR C=3D3", etc. When I retrieve the hits I=
 want to be able to retrieve the value the produced the hit. In other words=
, I want to know if it was "A=3D1" that produced this hit, or was it "B=3D2=
". How can I get this information for my Hits?
>=20
> Steve Rajavuori
> O'Pin Systems
> 2600 Eagan Woods Dr., Suite 400
> Eagan, MN  55121
> 651-994-6556
> stever@opin.com
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 02:50:26 2005
Return-Path: <java-user-return-14422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78695 invoked from network); 11 May 2005 02:50:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 02:50:25 -0000
Received: (qmail 91068 invoked by uid 500); 11 May 2005 02:53:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90984 invoked by uid 500); 11 May 2005 02:53:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90716 invoked by uid 99); 11 May 2005 02:53:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 19:53:45 -0700
Received: by rproxy.gmail.com with SMTP id b11so1097278rne
        for <java-user@lucene.apache.org>; Tue, 10 May 2005 19:50:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aLHFA/KZYNHFeviFpcwdJXhtBbi7qPPc8tLPa6n0iV06BreZ8k5ajtrLQrcz7JWaAMZpYBmSyMRz0mht0wNgVPD6zCM0Wh1wn3V/2xKc0mLESPuSPxZ9ItdG+etad5V1zjRuKp4eWsQKbdMRts7IChCVObANBQhkuup72pbYbjY=
Received: by 10.38.76.80 with SMTP id y80mr2444190rna;
        Tue, 10 May 2005 19:50:07 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Tue, 10 May 2005 19:50:07 -0700 (PDT)
Message-ID: <c68e391705051019501fefc94@mail.gmail.com>
Date: Tue, 10 May 2005 22:50:07 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: expert question: concurrent, asynchronous batch updates and real-time reads on very large, heavily used index
In-Reply-To: <EE246BDD7B90354D807602B3A1411778682511@EXCHVS2.cs.cornell.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <EE246BDD7B90354D807602B3A1411778682511@EXCHVS2.cs.cornell.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Once an IndexReader is opened on an index, it's view of that index
never changes.  Reuse the same IndexReader for all query requests and
ony reopen it after you do your optimize.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 06:00:31 2005
Return-Path: <java-user-return-14423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61921 invoked from network); 11 May 2005 06:00:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 06:00:31 -0000
Received: (qmail 78429 invoked by uid 500); 11 May 2005 06:03:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78372 invoked by uid 500); 11 May 2005 06:03:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78310 invoked by uid 99); 11 May 2005 06:03:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com) (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 23:03:53 -0700
Received: from woodbridge [68.174.11.117] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id A18529C4014C; Wed, 11 May 2005 02:09:09 -0400
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>,
	"'Chris Lamprecht'" <clamprecht@gmail.com>
Subject: RE: Splitting index into indexed fields and stored fields for performance
Date: Wed, 11 May 2005 02:00:09 -0400
Message-ID: <030401c555ee$b0074110$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <88c6a67205042816533325e65d@mail.gmail.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



> -----Original Message-----
> From: Chris Lamprecht [mailto:clamprecht@gmail.com] 
> Sent: Thursday, April 28, 2005 7:53 PM
>
> Since the "stored fields" index would basically just be a 
> database, perhaps this is better served using a traditional 
> relational database (or even use the OS's file system).  
> However, a traditional database doesn't know what the docids 
> are (and docids change over time), -- may be one could store 
> a single stored field in the "search index", containing a 
> permanent identifier for the DB lookup.


Is it too late to revisit this?  I just ran across it today and
conicidentally have been thinking about the same issue.  I think you've
hit on a great point.

Lucene is optimized for searching, while a relational database is
optimized for ID lookups, so we're trying the scheme you've described
above.  We are doing this to strike a right balance between Lucene index
size (keeping it small) and performance (keeping db hits to a minimum).

We are developing a web paging application, which only displays 10
results at a time.  Suppose in Lucene we have WeblogID indexed as a
keyword and WeblogContent indexed as UnStored.  We completely ignore
Lucene's internal docid.  The searching process would look like this:

1) Search and get back a Hits collection

2) Loop through the current page of results, grabbing the WeblogIDs for
the 10 results to be displayed.

3) Incorporate those WeblogIDs into an sql query like so: SELECT
WeblogContent, OtherFields FROM Weblogs, OtherTables WHERE WeblogID IN
(ID1, ID2, ID3...).  

4) Use the results of this sql query to format the output.

An IN query with 10 parameters will be fast, especially if there's an
index on those IDs.  This works will since I'm paging 10 results at a
time; a sql query with 1000 parameters wouldn't be as friendly.  You'll
also notice the query above does a join; when the data is decoupled from
the Lucene index, you're free to grab it from various sources (which may
or may not be available at index time).  This method gives you that
flexibility.

Monsur


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 06:34:28 2005
Return-Path: <java-user-return-14424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78388 invoked from network); 11 May 2005 06:34:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 06:34:27 -0000
Received: (qmail 50703 invoked by uid 500); 11 May 2005 06:37:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50656 invoked by uid 500); 11 May 2005 06:37:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50635 invoked by uid 99); 11 May 2005 06:37:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from owa.mm.fr.atosorigin.com (HELO srv-grp-s01.axime.com) (160.92.103.161)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 10 May 2005 23:37:47 -0700
Received: from srv-grp-s06.dev.atos.fr ([172.18.100.67]) by srv-grp-s01.axime.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 11 May 2005 08:32:25 +0200
content-class: urn:content-classes:message
Subject: RE: Real time indexing with RAMDirectory
Date: Wed, 11 May 2005 08:34:05 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <66C1CC04412C4A4785E49FE965C9456E093F46@srv-grp-s06.dev.atos.fr>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Real time indexing with RAMDirectory
Thread-Index: AcVVdqRw0BqmTPANQ/m8s5ngIDvjHAAeSIlg
From: =?iso-8859-1?Q?Rifflard_Micka=EBl?= <Mickael.Rifflard@atosorigin.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 11 May 2005 06:32:25.0437 (UTC) FILETIME=[320290D0:01C555F3]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

My question was too much short cut.=20

Here is a sample :=20

import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import java.io.IOException;

public class MySample {
	public static void main(String[] args) {
		try {
			RAMDirectory ramd =3D new RAMDirectory();
			IndexWriter iw =3D new IndexWriter(ramd,new StandardAnalyzer(),true);
			iw.minMergeDocs =3D 1;
			iw.addDocument(new org.apache.lucene.document.Document());
  =20
			IndexReader ir =3D IndexReader.open(ramd);
			System.out.println("Docs number : " + ir.numDocs());
			ir.close();
			iw.close();
		}
		catch (IOException ioe) { ioe.printStackTrace(); }
	}
}

If I execute this sample, the result is :=20

Docs number : 0

If a call close() method or optimize() method after added my document, =
the result is :

Docs number : 1

So, my question is : How to get the second result without close() or =
optimize() index=20
(expensive methods I think) ?

Thanks,

	Micka=EBl



-----Message d'origine-----
De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Envoy=E9 : mardi 10 mai 2005 17:39
=C0 : java-user@lucene.apache.org
Objet : Re: Real time indexing with RAMDirectory


Hi Micka=EBl,

Have you tried using minMergeDocs=3D1 ?  Will that do what you want?

Otis

--- Rifflard Micka=EBl <Mickael.Rifflard@atosorigin.com> wrote:
> Hi all,
>=20
> Is it possible, with the RAMDirectory (or another Directory), to
> "flush" informations after each Document indexing ?
> I tried this but this "flush" appears to be able to be made after 2
> indexing at best.
>=20
> What do you think about it ? I forgot a configuration ?
>=20
> Thanks,
> =20
> 	Micka=EBl
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 08:03:45 2005
Return-Path: <java-user-return-14425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46807 invoked from network); 11 May 2005 08:03:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 08:03:45 -0000
Received: (qmail 74036 invoked by uid 500); 11 May 2005 08:06:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73995 invoked by uid 500); 11 May 2005 08:06:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73970 invoked by uid 99); 11 May 2005 08:06:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 01:06:17 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j4B82QDn011523
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 10:02:26 +0200
From: =?iso-8859-1?Q?Kai_G=FClzau?= <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: AW: only getting Hits with score >= threshold
Date: Wed, 11 May 2005 10:03:33 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDGEPHGDAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <c68e391705051019022b092b28@mail.gmail.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>Note that it may not make sense filtering by an arbitrary score
>(normalized or not).

I don't like the gooooooooooooooooooooooooooogle effect
with an endless amount of paging links. ;)
The user should get only the top percentage of docs/products
he can handle reasonable.

Regards,

	Kai Glzau


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 09:53:39 2005
Return-Path: <java-user-return-14426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95560 invoked from network); 11 May 2005 09:53:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 09:53:39 -0000
Received: (qmail 44922 invoked by uid 500); 11 May 2005 09:56:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44832 invoked by uid 500); 11 May 2005 09:56:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44786 invoked by uid 99); 11 May 2005 09:56:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gsdas@cse.iitb.ac.in designates 203.197.74.149 as permitted sender)
Received: from smtp2.iitb.ac.in (HELO smtp1.iitb.ac.in) (203.197.74.149)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 02:56:52 -0700
Received: (qmail 19048 invoked from network); 11 May 2005 15:23:06 +0530
Received: from unknown (HELO ldns1.iitb.ac.in) (10.200.12.1)
  by smtp1.iitb.ac.in with SMTP; 11 May 2005 15:23:06 +0530
Received: (qmail 31351 invoked by uid 509); 11 May 2005 09:51:34 -0000
Received: from 10.105.1.1 by ldns1 (envelope-from <gsdas@cse.iitb.ac.in>, uid 501) with qmail-scanner-1.25 
 (clamdscan: 0.83/875. spamassassin: 3.0.2.  
 Clear:RC:1(10.105.1.1):. 
 Processed in 0.017546 secs); 11 May 2005 09:51:34 -0000
Received: from unknown (HELO cse.iitb.ac.in) (10.105.1.1)
  by ldns1.iitb.ac.in with SMTP; 11 May 2005 09:51:34 -0000
Received: (qmail 24139 invoked by uid 509); 11 May 2005 10:04:27 -0000
Received: from gsdas@cse.iitb.ac.in by jeeves.cse.iitb.ac.in by uid 507 with qmail-scanner-1.22-st-qms 
 (clamdscan: 0.73. spamassassin: 2.63.  Clear:RC:1(10.105.1.11):. 
 Processed in 0.014085 secs); 11 May 2005 10:04:27 -0000
X-Antivirus-cse.iitb.ac.in-Mail-From: gsdas@cse.iitb.ac.in via jeeves.cse.iitb.ac.in
X-Antivirus-cse.iitb.ac.in: 1.22-st-qms (Clear:RC:1(10.105.1.11):. Processed in 0.014085 secs Process 24134)
Received: from mars.cse.iitb.ac.in (10.105.1.11)
  by cse.iitb.ac.in with SMTP; 11 May 2005 10:04:27 -0000
Date: Wed, 11 May 2005 15:23:26 +0530 (IST)
From: Sujatha Das <gsdas@cse.iitb.ac.in>
To: java-user@lucene.apache.org
Subject: a few basic questions
Message-ID: <Pine.LNX.4.61.0505111515380.10877@mars.cse.iitb.ac.in>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,
I couldn't find documentation on these issues,
so a url as response should be just fine.

The inverted index must look like
FIELD-1
term -> (doc,offset)pairs

Is this correct?

Say I am trying to index the documents in a corpus under two
different fields. For instance, I want to store with
every word, the term text and its stem, what does the inverted index look
like now?

FIELD1	  FIELD2 
term_text [term_stem] -> (doc,offset)pairs


Or somehow a mapping between term_text and term_stem is stored 
separately is it w/o changing much in the inverted index?

This is probably a very basic question, but any explanation would be
of much use to me. Thanks.

Sujatha Das

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 10:08:28 2005
Return-Path: <java-user-return-14427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3035 invoked from network); 11 May 2005 10:08:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 10:08:28 -0000
Received: (qmail 79222 invoked by uid 500); 11 May 2005 10:11:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79174 invoked by uid 500); 11 May 2005 10:11:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79157 invoked by uid 99); 11 May 2005 10:11:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gsdas@cse.iitb.ac.in designates 203.199.81.149 as permitted sender)
Received: from smtp1.iitb.ac.in (HELO smtp1.iitb.ac.in) (203.199.81.149)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 03:11:46 -0700
Received: (qmail 23819 invoked from network); 11 May 2005 15:37:59 +0530
Received: from unknown (HELO ldns1.iitb.ac.in) (10.200.12.1)
  by smtp1.iitb.ac.in with SMTP; 11 May 2005 15:37:59 +0530
Received: (qmail 4246 invoked by uid 509); 11 May 2005 10:06:27 -0000
Received: from 10.105.1.1 by ldns1 (envelope-from <gsdas@cse.iitb.ac.in>, uid 501) with qmail-scanner-1.25 
 (clamdscan: 0.83/875. spamassassin: 3.0.2.  
 Clear:RC:1(10.105.1.1):. 
 Processed in 0.018456 secs); 11 May 2005 10:06:27 -0000
Received: from unknown (HELO cse.iitb.ac.in) (10.105.1.1)
  by ldns1.iitb.ac.in with SMTP; 11 May 2005 10:06:27 -0000
Received: (qmail 28476 invoked by uid 509); 11 May 2005 10:19:20 -0000
Received: from gsdas@cse.iitb.ac.in by jeeves.cse.iitb.ac.in by uid 507 with qmail-scanner-1.22-st-qms 
 (clamdscan: 0.73. spamassassin: 2.63.  Clear:RC:1(10.105.1.11):. 
 Processed in 0.018706 secs); 11 May 2005 10:19:20 -0000
X-Antivirus-cse.iitb.ac.in-Mail-From: gsdas@cse.iitb.ac.in via jeeves.cse.iitb.ac.in
X-Antivirus-cse.iitb.ac.in: 1.22-st-qms (Clear:RC:1(10.105.1.11):. Processed in 0.018706 secs Process 28466)
Received: from mars.cse.iitb.ac.in (10.105.1.11)
  by cse.iitb.ac.in with SMTP; 11 May 2005 10:19:20 -0000
Date: Wed, 11 May 2005 15:38:19 +0530 (IST)
From: Sujatha Das <gsdas@cse.iitb.ac.in>
To: java-user@lucene.apache.org
Subject: Re: proximity search in lucene (fwd)
In-Reply-To: <Pine.LNX.4.61.0504020211500.21441@mars.cse.iitb.ac.in>
Message-ID: <Pine.LNX.4.61.0505111527340.24760@mars.cse.iitb.ac.in>
References: <Pine.LNX.4.61.0504020211500.21441@mars.cse.iitb.ac.in>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



> ---------- Forwarded message ----------
> Date: Fri, 1 Apr 2005 15:34:10 -0500
> From: Erik Hatcher <erik@ehatchersolutions.com>
> Reply-To: java-user@lucene.apache.org
> To: java-user@lucene.apache.org
> Subject: Re: proximity search in lucene
>
>
> On Apr 1, 2005, at 2:29 PM, Sujatha Das wrote:
>
>>> Hi,
>>> Does Lucene support "SpanNear" or phrase queries where the clauses or 
>>> terms are not of the same field?
>>> If not, could someone let me know which is the way to support proximity 
>>> searches with terms belonging to different fields.
>
> No, it does not support cross-field proximity.  I'm not even remotely 
> understanding what that would even mean.  Could you provide an example of 
> what you're after?
>
> 	Erik
>
Hi,
Sorry abt the extremely delayed response.
Consider a situation in which i have indexed the terms under two different
fields (say FIELD_TEXT and FIELD_SYNONYM).
What if I wanted to support queries like
"jaguar NEAR london", when i have indexed a document with
"panthers in zoos around London". So given that Lucene doesn't support 
cross-field proximity, this can't be done easily?

Thanks much.
Sujatha Das




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 10:16:22 2005
Return-Path: <java-user-return-14428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6082 invoked from network); 11 May 2005 10:16:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 10:16:22 -0000
Received: (qmail 99526 invoked by uid 500); 11 May 2005 10:19:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99493 invoked by uid 500); 11 May 2005 10:19:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99474 invoked by uid 99); 11 May 2005 10:19:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gsdas@cse.iitb.ac.in designates 203.199.81.149 as permitted sender)
Received: from smtp1.iitb.ac.in (HELO smtp1.iitb.ac.in) (203.199.81.149)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 03:19:49 -0700
Received: (qmail 25732 invoked from network); 11 May 2005 15:46:01 +0530
Received: from unknown (HELO ldns2.iitb.ac.in) (10.200.12.2)
  by smtp1.iitb.ac.in with SMTP; 11 May 2005 15:46:01 +0530
Received: (qmail 22104 invoked by uid 780); 11 May 2005 10:16:01 -0000
Received: from 10.105.1.1 by ldns2 (envelope-from <gsdas@cse.iitb.ac.in>, uid 502) with qmail-scanner-1.23 
 (spamassassin: 2.64.  
 Clear:RC:1(10.105.1.1):. 
 Processed in 0.043093 secs); 11 May 2005 10:16:01 -0000
Received: from unknown (HELO cse.iitb.ac.in) (10.105.1.1)
  by ldns2.iitb.ac.in with SMTP; 11 May 2005 10:16:01 -0000
Received: (qmail 30735 invoked by uid 509); 11 May 2005 10:27:23 -0000
Received: from gsdas@cse.iitb.ac.in by jeeves.cse.iitb.ac.in by uid 507 with qmail-scanner-1.22-st-qms 
 (clamdscan: 0.73. spamassassin: 2.63.  Clear:RC:1(10.105.1.11):. 
 Processed in 0.014126 secs); 11 May 2005 10:27:23 -0000
X-Antivirus-cse.iitb.ac.in-Mail-From: gsdas@cse.iitb.ac.in via jeeves.cse.iitb.ac.in
X-Antivirus-cse.iitb.ac.in: 1.22-st-qms (Clear:RC:1(10.105.1.11):. Processed in 0.014126 secs Process 30730)
Received: from mars.cse.iitb.ac.in (10.105.1.11)
  by cse.iitb.ac.in with SMTP; 11 May 2005 10:27:23 -0000
Date: Wed, 11 May 2005 15:46:21 +0530 (IST)
From: Sujatha Das <gsdas@cse.iitb.ac.in>
To: java-user@lucene.apache.org
Subject: Re: proximity search in lucene (fwd)
In-Reply-To: <Pine.LNX.4.61.0505111527340.24760@mars.cse.iitb.ac.in>
Message-ID: <Pine.LNX.4.61.0505111544110.31417@mars.cse.iitb.ac.in>
References: <Pine.LNX.4.61.0504020211500.21441@mars.cse.iitb.ac.in>
 <Pine.LNX.4.61.0505111527340.24760@mars.cse.iitb.ac.in>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> Consider a situation in which i have indexed the terms under two different
> fields (say FIELD_TEXT and FIELD_SYNONYM).
> What if I wanted to support queries like
> "jaguar NEAR london", when i have indexed a document with
> "panthers in zoos around London". So given that Lucene doesn't support 
> cross-field proximity, this can't be done easily?
>

PS- Constraint: I can't do query expansion to go from
'jaguar' to 'panther' and issue more than one query.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 10:21:02 2005
Return-Path: <java-user-return-14429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8247 invoked from network); 11 May 2005 10:21:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 10:21:02 -0000
Received: (qmail 8967 invoked by uid 500); 11 May 2005 10:24:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8941 invoked by uid 500); 11 May 2005 10:24:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8925 invoked by uid 99); 11 May 2005 10:24:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from jsp101.midphase.com (HELO jsp101.midphase.com) (66.225.254.160)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 03:24:29 -0700
Received: from [202.54.194.125] (helo=psc017)
	by jsp101.midphase.com with smtp (Exim 4.50)
	id 1DVoK6-0001z1-B6
	for java-user@lucene.apache.org; Wed, 11 May 2005 05:20:15 -0500
Message-ID: <032701c55613$0f9fb7a0$0902a8c0@PSCINDIA.COM>
From: "Seema Jain" <seema.jain@pscindia.com>
To: <java-user@lucene.apache.org>
Subject: Getting subpart of Lucene Query
Date: Wed, 11 May 2005 15:50:16 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0324_01C55641.202B78B0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - jsp101.midphase.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - pscindia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0324_01C55641.202B78B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi ,=20

I am using Lucene API for Text indexing , searching and highlighting .I =
am using Lucene SANDBOX API for highlighting of keywords .=20
My requirement is to get the subpart of a lucene query . Lucene query , =
which is made up of Field-value pair. How can i get the value of a =
particular field ?
Can anybody tell me how to achieve this ?

Thanks and Regards=20
Seema Jain

~~~~~~~~~~~~~~~~~~~~~~~~~~~
Pratham Software [ P S ]=20
Work: (91) 141 2294991/92 ext 26
Cell: (91) 9414456700
Fax : (91) 2292599
Email:- seema.jain@pscindia.com
URL:- www.pscindia.com
Add:- S-23 Krishna Marg, Shyamnagar
Jaipur:-302019=20
~~~~~~~~~~~~~~~~~~~~~~~~~~~

------=_NextPart_000_0324_01C55641.202B78B0--



From java-user-return-14430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 13:06:26 2005
Return-Path: <java-user-return-14430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78434 invoked from network); 11 May 2005 13:06:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 13:06:26 -0000
Received: (qmail 80439 invoked by uid 500); 11 May 2005 13:09:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80381 invoked by uid 500); 11 May 2005 13:09:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80313 invoked by uid 99); 11 May 2005 13:09:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of bjorn.lilja@capgemini.com designates 198.184.232.82 as permitted sender)
Received: from mxeorb01.capgemini.com (HELO mxeorb01.capgemini.com) (198.184.232.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 06:09:10 -0700
Received: from mxiorb01.capgemini.com (crayfish [205.223.236.82])
	by mxeorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4BD5MBF026101
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 15:05:22 +0200 (MEST)
Received: from mxiorb01.capgemini.com (localhost [127.0.0.1])
	by mxiorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4BD5LfJ011325
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 15:05:21 +0200 (MEST)
Received: from mailsweeper1.capgemini.se ([193.234.248.11])
	by mxiorb01.capgemini.com (8.13.3/8.13.3) with ESMTP id j4BD5LSF011320
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 15:05:21 +0200 (MEST)
Received: from ore-mail1.ne.ad.ner.capgemini.com (unverified) by mailsweeper1.capgemini.se
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T70d8b59493c1eaf80bf5c@mailsweeper1.capgemini.se> for <java-user@lucene.apache.org>;
 Wed, 11 May 2005 15:08:35 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Strange results using QueryParser (?)
Date: Wed, 11 May 2005 15:05:21 +0200
Message-ID: <3C02C973EF7D4045A1BD714205286A7C01096F07@ore-mail1.ne.ad.ner.capgemini.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Strange results using QueryParser (?)
Thread-Index: AcVVc0R/z4+rxRTZThOBgU/ornc0zwAtlNuw
From: "Lilja, Bjorn" <bjorn.lilja@capgemini.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

Daniel's suggestions was quite correct=2E Is the "/" suposed to be turned=
 into a whitespace? In that case, how do I stop it? I do wish to search for=
 the entire exact word "Blankett/Mall"=2E

Regards,
Bj=F6rn

_____________________________________________________________
Bj=F6rn Lilja | Technology Services | Consultant
Tel: +46 8 5368 5000
Mob: +46 702 651 027

Capgemini
www=2Ese=2Ecapgemini=2Ecom | We help companies and their employees to=
 achieve more=2E
=0D
-----Original Message-----
From: Daniel Naber [mailto:daniel=2Enaber@intrafind=2Ede]=0D
Sent: Tuesday, May 10, 2005 5:17 PM
To: Lilja, Bjorn
Subject: Re: Strange results using QueryParser (?)

On Tuesday 10 May 2005 17:04, Lilja, Bjorn wrote:

> I first suspected the "/"-sign to be the cause of the problem, but=0D
> searching for "documenttype:blankett/ma*" actually returns the=0D
> expected result=2E

I suggest you use toString() on the parsed query=2E The "/" is probably=
 interpreted like a whitespace and you may end up with a query=
 "documenttype:blankett mall", i=2Ee=2E "mall" searched in the default=
 field, not in documenttype=2E

If that doesn't help you could create a small test case (index and search=
 just one document) and post that to the list=2E

Regards
 Daniel

--
Daniel Naber, IntraFind Software AG, Tel=2E 089-8906 9700



This message contains information that may be privileged or confidential=
 and is the property of the Capgemini Group=2E It is intended only for the=
 person to whom it is addressed=2E If you are not the intended recipient, =
 you are not authorized to read, print, retain, copy, disseminate, =
 distribute, or use this message or any part thereof=2E If you receive this=
  message in error, please notify the sender immediately and delete all =
 copies of this message=2E


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 13:38:27 2005
Return-Path: <java-user-return-14431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12700 invoked from network); 11 May 2005 13:38:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 13:38:27 -0000
Received: (qmail 49676 invoked by uid 500); 11 May 2005 13:41:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49612 invoked by uid 500); 11 May 2005 13:41:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49580 invoked by uid 99); 11 May 2005 13:41:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from exchfe2.cs.cornell.edu (HELO exchfe2.cs.cornell.edu) (128.84.97.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 06:41:54 -0700
Received: from EXCHVS2.cs.cornell.edu ([128.84.97.24]) by exchfe2.cs.cornell.edu with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 11 May 2005 09:37:59 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: sanity check - large, long running index updates and concurrent read-only service
Date: Wed, 11 May 2005 09:37:58 -0400
Message-ID: <EE246BDD7B90354D807602B3A1411778682524@EXCHVS2.cs.cornell.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: sanity check - large, long running index updates and concurrent read-only service
Thread-Index: AcVVzGwTSNfeUu9FRgK67NS+YqWq8QAYYmeg
From: "Naomi Dushay" <Naomi@cs.cornell.edu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 11 May 2005 13:37:59.0694 (UTC) FILETIME=[A59CFAE0:01C5562E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's my impression that with optimize running so long, there will be a
significant period of time (many minutes) when the old IndexReader will =
not
be able to find the segment/documents it needs.  Am I wrong about that?  =


- Naomi

> Could you explain why you need to copy the index?  It doesn't seem
> like that buys you anything (except maybe if the copy is to a
> physically separate disk)
>=20
> -Yonik
>=20
>=20
> On 5/10/05, Naomi Dushay <Naomi@cs.cornell.edu> wrote:
> > Context:  our index is currently around 6 gig and takes about an =
hour
> just to
> > optimize.  Updating it, even in batches, can involve active updating =
for
> 15
> > or more minutes.
> >
> > Index updates are done with two different batch processes as there =
are
> > currently two different workflows to update the index.  No obvious
> indexing
> > partitioning is suggested by our workflows.** The index is used in a
> read
> > only fashion by our REST search service, which runs under tomcat.
> >
> > Issues:  we don't want our REST service to have slow or strange =
results
> while
> > the index is being updated.
> >
> > Proposed solution:
> >
> > The world starts with REST service pointing to index A .   Our REST
> service
> > is read only, so the index file(s) themselves can be read only.
> >
> > To update the index, the following sequence occurs:
> >
> > 1.      lock index for update (via a lock/flag file)
> > 2.      copy index A into another directory, and make it writable.  =
This
> new
> > index will become A'
> > 3.      update index A', including optimization
> > 4.      set index A' to read only
> > 5.      gracefully change REST service to point use index A';  =
verify
> that
> > REST service is working properly with A'.
> > 6.      optional, but likely:  remove old, out-of-date index A.
> > 7.      unlock index for update (remove lock/flag file)
> >
> > The index updates could keep re-using the same two index =
directories, or
> they
> > could create new directories.
> >
> > Does anyone see any problems or have any suggestions for how to =
improve
> this?
> >
> > - Naomi Dushay
> >
> > National Science Digital Library - Core Integration
> >
> > Cornell University
> >
> > ** workflow 1:  we get bibliographic metadata that needs to go in =
the
> index.
> > This metadata may be new, or it may be an update to existing =
metadata.
> The
> > metadata records refer to resource URLs.   Workflow 2:  we fetch the
> content
> > for the resource URLs, using Nutch as our crawler and content =
database.
> > Fetched content may be for a new URL or updated content for a known =
URL.
> The
> > Lucene Documents are a combination of bibliographic metadata and =
fetched
> > content.
> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 15:00:53 2005
Return-Path: <java-user-return-14432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56500 invoked from network); 11 May 2005 15:00:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 15:00:53 -0000
Received: (qmail 91181 invoked by uid 500); 11 May 2005 15:03:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91079 invoked by uid 500); 11 May 2005 15:03:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90949 invoked by uid 99); 11 May 2005 15:03:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 08:03:06 -0700
Received: by rproxy.gmail.com with SMTP id b11so69506rne
        for <java-user@lucene.apache.org>; Wed, 11 May 2005 07:59:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aOzRq56yfqcH0xe6+hPrN4/OvbSb/fpiIg/HmHMi+DSe8JykkIySTtIzpJUPaCYL6/uClcfffgzZsZiIs3n9ej/d7/DNkclS5Lrlbr6whUcmt4qujsvQLkl6f9HWWvQxdYIaRXoiMpqrTShT2VgdZ/7vtBIQz7OjS1NWmtFPPeU=
Received: by 10.38.71.27 with SMTP id t27mr288763rna;
        Wed, 11 May 2005 07:59:17 -0700 (PDT)
Received: by 10.38.12.53 with HTTP; Wed, 11 May 2005 07:59:16 -0700 (PDT)
Message-ID: <c68e39170505110759a3562c4@mail.gmail.com>
Date: Wed, 11 May 2005 10:59:16 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sanity check - large, long running index updates and concurrent read-only service
In-Reply-To: <EE246BDD7B90354D807602B3A1411778682524@EXCHVS2.cs.cornell.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <EE246BDD7B90354D807602B3A1411778682524@EXCHVS2.cs.cornell.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When created, an IndexReader opens all the segment files and hangs
onto them. Any updates to the index through an IndexWriter (including
commit and optimize) will not affect already open IndexReaders.

-Yonik

On 5/11/05, Naomi Dushay <Naomi@cs.cornell.edu> wrote:
> It's my impression that with optimize running so long, there will be a
> significant period of time (many minutes) when the old IndexReader will n=
ot
> be able to find the segment/documents it needs.  Am I wrong about that?
>=20
> - Naomi
>=20
> > Could you explain why you need to copy the index?  It doesn't seem
> > like that buys you anything (except maybe if the copy is to a
> > physically separate disk)
> >
> > -Yonik
> >
> >
> > On 5/10/05, Naomi Dushay <Naomi@cs.cornell.edu> wrote:
> > > Context:  our index is currently around 6 gig and takes about an hour
> > just to
> > > optimize.  Updating it, even in batches, can involve active updating =
for
> > 15
> > > or more minutes.
> > >
> > > Index updates are done with two different batch processes as there ar=
e
> > > currently two different workflows to update the index.  No obvious
> > indexing
> > > partitioning is suggested by our workflows.** The index is used in a
> > read
> > > only fashion by our REST search service, which runs under tomcat.
> > >
> > > Issues:  we don't want our REST service to have slow or strange resul=
ts
> > while
> > > the index is being updated.
> > >
> > > Proposed solution:
> > >
> > > The world starts with REST service pointing to index A .   Our REST
> > service
> > > is read only, so the index file(s) themselves can be read only.
> > >
> > > To update the index, the following sequence occurs:
> > >
> > > 1.      lock index for update (via a lock/flag file)
> > > 2.      copy index A into another directory, and make it writable.  T=
his
> > new
> > > index will become A'
> > > 3.      update index A', including optimization
> > > 4.      set index A' to read only
> > > 5.      gracefully change REST service to point use index A';  verify
> > that
> > > REST service is working properly with A'.
> > > 6.      optional, but likely:  remove old, out-of-date index A.
> > > 7.      unlock index for update (remove lock/flag file)
> > >
> > > The index updates could keep re-using the same two index directories,=
 or
> > they
> > > could create new directories.
> > >
> > > Does anyone see any problems or have any suggestions for how to impro=
ve
> > this?
> > >
> > > - Naomi Dushay
> > >
> > > National Science Digital Library - Core Integration
> > >
> > > Cornell University
> > >
> > > ** workflow 1:  we get bibliographic metadata that needs to go in the
> > index.
> > > This metadata may be new, or it may be an update to existing metadata=
.
> > The
> > > metadata records refer to resource URLs.   Workflow 2:  we fetch the
> > content
> > > for the resource URLs, using Nutch as our crawler and content databas=
e.
> > > Fetched content may be for a new URL or updated content for a known U=
RL.
> > The
> > > Lucene Documents are a combination of bibliographic metadata and fetc=
hed
> > > content.
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 15:50:04 2005
Return-Path: <java-user-return-14433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80890 invoked from network); 11 May 2005 15:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 15:50:03 -0000
Received: (qmail 23309 invoked by uid 500); 11 May 2005 15:53:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23140 invoked by uid 500); 11 May 2005 15:53:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23114 invoked by uid 500); 11 May 2005 15:53:24 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 23097 invoked by uid 99); 11 May 2005 15:53:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@hotmail.com designates 64.4.54.113 as permitted sender)
Received: from bay20-f24.bay20.hotmail.com (HELO hotmail.com) (64.4.54.113)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 08:53:23 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 11 May 2005 08:49:35 -0700
Message-ID: <BAY20-F24C6E43DC48C790105E59ECA100@phx.gbl>
Received: from 211.144.105.3 by by20fd.bay20.hotmail.msn.com with HTTP;
	Wed, 11 May 2005 15:49:34 GMT
X-Originating-IP: [211.144.105.3]
X-Originating-Email: [louluqun@hotmail.com]
X-Sender: louluqun@hotmail.com
From: "luqun lou" <louluqun@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: MultiFieldQueryParser Problems about how to give the fields weight
Date: Wed, 11 May 2005 15:49:34 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 11 May 2005 15:49:35.0316 (UTC) FILETIME=[07C54940:01C55641]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

    Now Suppose,There are two fields,"content","summary",but i think the 
query in content field may have highter weight than the summary field. how 
can i do it?
   I overload the parse function,and add weights which store every fields 
weights.
    public static Query parse(String query,String[] fields,float [] 
weights,Analyzer analyzer)
    throws ParseException
	{
    	BooleanQuery bQuery  = new BooleanQuery();
    	for(int i=0;i<fields.length;i++){
    		Query q = parse(query,fields[i],analyzer);
    		q.setBoost(weights[i]);
    		bQuery.add(q,false,false);
    	}
    	return bQuery;
    }
is it right?

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar - get it now! 
http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 16:40:59 2005
Return-Path: <java-user-return-14434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8194 invoked from network); 11 May 2005 16:40:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 16:40:59 -0000
Received: (qmail 60381 invoked by uid 500); 11 May 2005 16:44:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60362 invoked by uid 500); 11 May 2005 16:44:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 43447 invoked by uid 99); 11 May 2005 16:39:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Date: Wed, 11 May 2005 11:35:26 -0500
From: Dick Hollenbeck <dick@softplc.com>
Subject: indexing relational table(s)
To: java-user@lucene.apache.org
Message-id: <4282344E.1050102@softplc.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.7) Gecko/20050414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As sources of indexable text we always see HTML, XML, PDF, etc. but I 
have not seen much mention of relational tables as a source.  Anybody 
know why?

We have a database with 60,000 records in 6 tables and aproximately 15 
*text* fields per table.  Can we use lucene to index this with JDBC 
being used in an index gathering for loop?

Is there a better way?


Thanks,

Dick Hollenbeck

-- 
Please help fix the U.S. software industry before it is too late.
Contact your U.S. representatives with this information:
http://lpf.ai.mit.edu/Patents/industry-at-risk.html
http://www.groklaw.net/article.php?story=20041003041632172


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 16:42:04 2005
Return-Path: <java-user-return-14435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8961 invoked from network); 11 May 2005 16:42:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 16:42:04 -0000
Received: (qmail 63138 invoked by uid 500); 11 May 2005 16:45:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63115 invoked by uid 500); 11 May 2005 16:45:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63100 invoked by uid 99); 11 May 2005 16:45:41 -0000
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,HTML_SHORT_COMMENT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.mcdonaldbradley.com (HELO mail.mcdonaldbradley.com) (12.165.216.4)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 09:45:41 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C55648.55B6D10B"
Subject: end of line in queries
Date: Wed, 11 May 2005 12:41:52 -0400
Message-ID: <7543E4D41F4D2244B8FC369049A78697117EE7@hqmsg01.mcdonaldbradley.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: end of line in queries
Thread-Index: AcVWSFW2slCqyWexQheCMRHLjERsow==
From: "Govoni, Darren" <DGovoni@mcdonaldbradley.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55648.55B6D10B
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
  I'm trying to perform a query and ened to specify a string pattern =
occurring at the end of a line.
Is this possible? Thanks.

Darren

------_=_NextPart_001_01C55648.55B6D10B--

From java-user-return-14436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 16:51:12 2005
Return-Path: <java-user-return-14436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17737 invoked from network); 11 May 2005 16:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 16:51:12 -0000
Received: (qmail 91986 invoked by uid 500); 11 May 2005 16:54:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91942 invoked by uid 500); 11 May 2005 16:54:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91880 invoked by uid 99); 11 May 2005 16:54:44 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 09:54:44 -0700
Received: from [192.168.101.252] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j4BGp5721567
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 11:51:05 -0500
Message-ID: <428237EC.2000403@getopt.org>
Date: Wed, 11 May 2005 18:50:52 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: indexing relational table(s)
References: <4282344E.1050102@softplc.com>
In-Reply-To: <4282344E.1050102@softplc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dick Hollenbeck wrote:
> As sources of indexable text we always see HTML, XML, PDF, etc. but I 
> have not seen much mention of relational tables as a source.  Anybody 
> know why?
> 

I think no specific reason - Lucene is able to index just pure text, 
anything else must go through format converters first. So, the "plain 
text from a db" case is relatively simple...

> We have a database with 60,000 records in 6 tables and aproximately 15 
> *text* fields per table.  Can we use lucene to index this with JDBC 
> being used in an index gathering for loop?

Yes.

> 
> Is there a better way?

This is the simplest way for creating an infrequently-updated index. If 
you need to do freqeuent updates, then depending on the size of your 
index you may want to play some tricks with RAMDirectory, temporary 
indexes or somesuch, but for the scenario that you described so far it 
is not needed.


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 16:55:46 2005
Return-Path: <java-user-return-14437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19794 invoked from network); 11 May 2005 16:55:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 16:55:46 -0000
Received: (qmail 99289 invoked by uid 500); 11 May 2005 16:59:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99265 invoked by uid 500); 11 May 2005 16:59:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99230 invoked by uid 99); 11 May 2005 16:59:22 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.mcdonaldbradley.com (HELO mail.mcdonaldbradley.com) (12.165.216.4)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 09:59:22 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5564A.3F0C6A5F"
Subject: RE: indexing relational table(s)
Date: Wed, 11 May 2005 12:55:00 -0400
Message-ID: <7543E4D41F4D2244B8FC369049A78697117EE8@hqmsg01.mcdonaldbradley.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing relational table(s)
Thread-Index: AcVWSaJt2DOsuCuXQ5+240o27a0/9QAAIjHG
From: "Govoni, Darren" <DGovoni@mcdonaldbradley.com>
To: <java-user@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5564A.3F0C6A5F
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

You can also leverage the 'fields' capability in lucene and perhaps =
match them against columns to do field-based searching.


-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]
Sent: Wed 5/11/2005 12:50 PM
To: java-user@lucene.apache.org
Subject: Re: indexing relational table(s)
=20
Dick Hollenbeck wrote:
> As sources of indexable text we always see HTML, XML, PDF, etc. but I=20
> have not seen much mention of relational tables as a source.  Anybody=20
> know why?
>=20

I think no specific reason - Lucene is able to index just pure text,=20
anything else must go through format converters first. So, the "plain=20
text from a db" case is relatively simple...

> We have a database with 60,000 records in 6 tables and aproximately 15 =

> *text* fields per table.  Can we use lucene to index this with JDBC=20
> being used in an index gathering for loop?

Yes.

>=20
> Is there a better way?

This is the simplest way for creating an infrequently-updated index. If=20
you need to do freqeuent updates, then depending on the size of your=20
index you may want to play some tricks with RAMDirectory, temporary=20
indexes or somesuch, but for the scenario that you described so far it=20
is not needed.


--=20
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



------_=_NextPart_001_01C5564A.3F0C6A5F--

From java-user-return-14438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 17:05:01 2005
Return-Path: <java-user-return-14438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23210 invoked from network); 11 May 2005 17:05:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 17:05:01 -0000
Received: (qmail 23022 invoked by uid 500); 11 May 2005 17:08:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22999 invoked by uid 500); 11 May 2005 17:08:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22979 invoked by uid 99); 11 May 2005 17:08:38 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nyhwwex001a.hwwilson.com (HELO NYHWWEX001.hwwilson.local) (208.238.105.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 10:08:38 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Getting subpart of Lucene Query
Date: Wed, 11 May 2005 13:04:48 -0400
Message-ID: <E3AD9C3F9EC34949855CDFC6FB5A6C11755170@NYHWWEX001.hwwilson.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Getting subpart of Lucene Query
Thread-Index: AcVWEyD5Nc3NxHcHT2+mw5j8lMcYgAAOJCRw
From: "Yagnesh Shah" <yshah@hwwilson.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi! Seema,
 Change your document.java so that content field is added for example:

doc.add(Field.Text("contents", "some dummy text"));

-----Original Message-----
From: Seema Jain [mailto:seema.jain@pscindia.com]
Sent: Wednesday, May 11, 2005 6:20 AM
To: java-user@lucene.apache.org
Subject: Getting subpart of Lucene Query


Hi ,=20

I am using Lucene API for Text indexing , searching and highlighting .I =
am using Lucene SANDBOX API for highlighting of keywords .=20
My requirement is to get the subpart of a lucene query . Lucene query , =
which is made up of Field-value pair. How can i get the value of a =
particular field ?
Can anybody tell me how to achieve this ?

Thanks and Regards=20
Seema Jain

~~~~~~~~~~~~~~~~~~~~~~~~~~~
Pratham Software [ P S ]=20
Work: (91) 141 2294991/92 ext 26
Cell: (91) 9414456700
Fax : (91) 2292599
Email:- seema.jain@pscindia.com
URL:- www.pscindia.com
Add:- S-23 Krishna Marg, Shyamnagar
Jaipur:-302019=20
~~~~~~~~~~~~~~~~~~~~~~~~~~~

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 19:35:57 2005
Return-Path: <java-user-return-14439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19483 invoked from network); 11 May 2005 19:35:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 19:35:57 -0000
Received: (qmail 87969 invoked by uid 500); 11 May 2005 19:39:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87947 invoked by uid 500); 11 May 2005 19:39:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87934 invoked by uid 99); 11 May 2005 19:39:33 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31115.mail.mud.yahoo.com (HELO web31115.mail.mud.yahoo.com) (68.142.201.77)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 12:39:33 -0700
Received: (qmail 88993 invoked by uid 60001); 11 May 2005 19:35:41 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=u31bk6XzH5Heg+tXxzCJOo0h/LK12Zh9FUTjwtrJaV/2HvEPR63z2shTyjopl9H5Qm7mSPaU9vZVPuxYFoat+SJ+xDKiWqqqZIibzSO3q8xgDIiDCUZOqVaPUhiUzPIsCtICfjeUGNuS8Qi2egJtxDinjPByfXh4LNAYKcgZyjY=  ;
Message-ID: <20050511193541.88991.qmail@web31115.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31115.mail.mud.yahoo.com via HTTP; Wed, 11 May 2005 12:35:41 PDT
Date: Wed, 11 May 2005 12:35:41 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: a few basic questions
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

It sounds like you missed the Index Format page:
  http://lucene.apache.org/java/docs/fileformats.html

That's the best index format documentation currently available.

Otis


--- Sujatha Das <gsdas@cse.iitb.ac.in> wrote:
> 
> Hi,
> I couldn't find documentation on these issues,
> so a url as response should be just fine.
> 
> The inverted index must look like
> FIELD-1
> term -> (doc,offset)pairs
> 
> Is this correct?
> 
> Say I am trying to index the documents in a corpus under two
> different fields. For instance, I want to store with
> every word, the term text and its stem, what does the inverted index
> look
> like now?
> 
> FIELD1	  FIELD2 
> term_text [term_stem] -> (doc,offset)pairs
> 
> 
> Or somehow a mapping between term_text and term_stem is stored 
> separately is it w/o changing much in the inverted index?
> 
> This is probably a very basic question, but any explanation would be
> of much use to me. Thanks.
> 
> Sujatha Das
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 19:38:12 2005
Return-Path: <java-user-return-14440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21684 invoked from network); 11 May 2005 19:38:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 19:38:12 -0000
Received: (qmail 92765 invoked by uid 500); 11 May 2005 19:41:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92735 invoked by uid 500); 11 May 2005 19:41:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92721 invoked by uid 99); 11 May 2005 19:41:53 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31105.mail.mud.yahoo.com (HELO web31105.mail.mud.yahoo.com) (68.142.200.38)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 12:41:53 -0700
Received: (qmail 85685 invoked by uid 60001); 11 May 2005 19:38:02 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ZO8/Y4danr7D5L46cA4Xy+IqPmx9PqcJMjKpz5KfaYIoD1ub5pcQ6iO/scl+7wVLWMkZ892+Wujo10dcvSC5xzXmgexGWl/rWHkN6hHOhdJp4MK+xqlkS9nVe/0FE/2SWBQ7CUzSUIdoAgOOFfZXL4cpZePnUAzddGgrZxqnnfE=  ;
Message-ID: <20050511193802.85680.qmail@web31105.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31105.mail.mud.yahoo.com via HTTP; Wed, 11 May 2005 12:38:02 PDT
Date: Wed, 11 May 2005 12:38:02 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Real time indexing with RAMDirectory
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What happens if you swap these 2 lines?

		System.out.println("Docs number : " + ir.numDocs());
		ir.close();

If I were you, I'd try using minMergeDocs instead of RAMDirectory.  It
makes things much simpler.  You shouldn't need to optimize the index.


Otis

--- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:
> Hi Otis,
> 
> My question was too much short cut. 
> 
> Here is a sample : 
> 
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.store.RAMDirectory;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import java.io.IOException;
> 
> public class MySample {
> 	public static void main(String[] args) {
> 		try {
> 			RAMDirectory ramd = new RAMDirectory();
> 			IndexWriter iw = new IndexWriter(ramd,new
> StandardAnalyzer(),true);
> 			iw.minMergeDocs = 1;
> 			iw.addDocument(new org.apache.lucene.document.Document());
>    
> 			IndexReader ir = IndexReader.open(ramd);
> 			System.out.println("Docs number : " + ir.numDocs());
> 			ir.close();
> 			iw.close();
> 		}
> 		catch (IOException ioe) { ioe.printStackTrace(); }
> 	}
> }
> 
> If I execute this sample, the result is : 
> 
> Docs number : 0
> 
> If a call close() method or optimize() method after added my
> document, the result is :
> 
> Docs number : 1
> 
> So, my question is : How to get the second result without close() or
> optimize() index 
> (expensive methods I think) ?
> 
> Thanks,
> 
> 	Micka๋l
> 
> 
> 
> -----Message d'origine-----
> De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Envoy้ : mardi 10 mai 2005 17:39
> ภ : java-user@lucene.apache.org
> Objet : Re: Real time indexing with RAMDirectory
> 
> 
> Hi Micka๋l,
> 
> Have you tried using minMergeDocs=1 ?  Will that do what you want?
> 
> Otis
> 
> --- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:
> > Hi all,
> > 
> > Is it possible, with the RAMDirectory (or another Directory), to
> > "flush" informations after each Document indexing ?
> > I tried this but this "flush" appears to be able to be made after 2
> > indexing at best.
> > 
> > What do you think about it ? I forgot a configuration ?
> > 
> > Thanks,
> >  
> > 	Micka๋l
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 19:39:11 2005
Return-Path: <java-user-return-14441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22176 invoked from network); 11 May 2005 19:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 19:39:10 -0000
Received: (qmail 94834 invoked by uid 500); 11 May 2005 19:42:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94808 invoked by uid 500); 11 May 2005 19:42:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94788 invoked by uid 99); 11 May 2005 19:42:51 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31112.mail.mud.yahoo.com (HELO web31112.mail.mud.yahoo.com) (68.142.201.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 12:42:50 -0700
Received: (qmail 73614 invoked by uid 60001); 11 May 2005 19:39:00 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=TrJjuBa57SM708K9cl9C+BqJ5PCTEmDkIlBSObeuCdp7jctWx+ohn+bPOSzfAC3RdywmlQ+3B46jUyvteUHAJai7vIJ6qC1+0lWxJ6fJNSW63Qlacfmy2hZEMEE9PPc3RQ25FxdgeG3G9qU1RNDsIW/PCQCKtO/WmgtGAUKvsQ4=  ;
Message-ID: <20050511193900.73612.qmail@web31112.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31112.mail.mud.yahoo.com via HTTP; Wed, 11 May 2005 12:38:59 PDT
Date: Wed, 11 May 2005 12:38:59 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: AW: only getting Hits with score >= threshold
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In that case just look at the first N hits and don't even mention the
rest.

Otis


--- Kai Glzau <kguelzau@novomind.com> wrote:
> >Note that it may not make sense filtering by an arbitrary score
> >(normalized or not).
> 
> I don't like the gooooooooooooooooooooooooooogle effect
> with an endless amount of paging links. ;)
> The user should get only the top percentage of docs/products
> he can handle reasonable.
> 
> Regards,
> 
> 	Kai Glzau
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 19:44:25 2005
Return-Path: <java-user-return-14442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25495 invoked from network); 11 May 2005 19:44:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 19:44:24 -0000
Received: (qmail 6384 invoked by uid 500); 11 May 2005 19:48:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6153 invoked by uid 500); 11 May 2005 19:48:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6138 invoked by uid 99); 11 May 2005 19:48:04 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31109.mail.mud.yahoo.com (HELO web31109.mail.mud.yahoo.com) (68.142.200.42)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 12:48:04 -0700
Received: (qmail 50179 invoked by uid 60001); 11 May 2005 19:44:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=pGEWzlI3yGyKq5RmGYHMHzwq4HhCpesbozOwm8bS7fQa8IslOpKAyd+MVlTbzo4XdwZNUqGXsCDKwjVrcoyIeJA5YqsuMnjlImWKFE7DOcXhX3A0wMzdChPxYms1txQnmBnIi+JsIzPX1gDfvI+jFgt8piqI7jjuJCX6O4DVOAo=  ;
Message-ID: <20050511194412.50177.qmail@web31109.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31109.mail.mud.yahoo.com via HTTP; Wed, 11 May 2005 12:44:12 PDT
Date: Wed, 11 May 2005 12:44:12 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: MultiFieldQueryParser Problems about how to give the fields weight
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you think content field is more important, you could boost it at
indexing time.  If you want to boost at search time, and you are using
QueryParser, you could just use the term^float syntax.  I think what
you have down there is ok, too, but I suppose you'd need an if/else so
you boost only the content field.

Otis

--- luqun lou <louluqun@hotmail.com> wrote:
>     Now Suppose,There are two fields,"content","summary",but i think
> the 
> query in content field may have highter weight than the summary
> field. how 
> can i do it?
>    I overload the parse function,and add weights which store every
> fields 
> weights.
>     public static Query parse(String query,String[] fields,float [] 
> weights,Analyzer analyzer)
>     throws ParseException
> 	{
>     	BooleanQuery bQuery  = new BooleanQuery();
>     	for(int i=0;i<fields.length;i++){
>     		Query q = parse(query,fields[i],analyzer);
>     		q.setBoost(weights[i]);
>     		bQuery.add(q,false,false);
>     	}
>     	return bQuery;
>     }
> is it right?
> 
> _________________________________________________________________
> FREE pop-up blocking with the new MSN Toolbar - get it now! 
> http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 21:03:15 2005
Return-Path: <java-user-return-14443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55140 invoked from network); 11 May 2005 21:03:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 21:03:14 -0000
Received: (qmail 52121 invoked by uid 500); 11 May 2005 21:06:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51993 invoked by uid 500); 11 May 2005 21:06:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51975 invoked by uid 99); 11 May 2005 21:06:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 14:06:55 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 96D795B85F; Wed, 11 May 2005 14:03:03 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 93DA97F477; Wed, 11 May 2005 14:03:03 -0700 (PDT)
Date: Wed, 11 May 2005 14:03:03 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org,
	Pablo Gomes Ludermir <gomesp@gmail.com>
Subject: Re: categorized search
In-Reply-To: <4f05ec8e05050511372f5fa734@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0505111358460.9671@hal.rescomp.berkeley.edu>
References: <4f05ec8e05042407053cbc2031@mail.gmail.com> 
 <426BD1F9.9070008@allthingslocal.com>  <Pine.LNX.4.58.0504241155230.19799@hal.rescomp.berkeley.edu>
 <4f05ec8e05050511372f5fa734@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


well ... once you have the list of all "category" names that are in docs
which match your orriginal query, you can either redo the orriginal query
with "and category:XXXX" to get the counts, or you can pre-compute (and
save) a BitSet for each category in your index (esay to build using a
HitCollector or a Filter), and find the cardinality of the intersection of
each of those BitSets with a BitSet from your search (again: using a
HitCollector on your orriginal query)

for the record: this is not a trivial task.  i've describe the bare basics
of the issue ... but there's a lot of processing going on to get these
kinds of numbers.

if you search the list for "category" and "count" you'll find this has
come up at least one other time in the last few months.


: Date: Thu, 5 May 2005 20:37:19 +0200
: From: Pablo Gomes Ludermir <gomesp@gmail.com>
: Reply-To: java-user@lucene.apache.org,
:      Pablo Gomes Ludermir <gomesp@gmail.com>
: To: java-user@lucene.apache.org
: Subject: Re: categorized search
:
: Chris,
:
: That was partially what I needed. You got it right when I said I
: needed the number of categories that I particular term appears (and it
: works).
: But, I also would like to know in how many documents in each category
: that term appears.
:
: For instance: title:lucene appears in the category "search engines"
: and "open source software", and it appears in the documents 1, 2 and 3
: in the category "search engines" and in documents 4 and 7 in the
: categoy "open source". I could not get it to work yet (maybe because
: of my lack of experience with Lucene).
: Someone could give me a hand???
: Thanks
: Pablo
:
: On 4/24/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
: >
: > : >I have indexed a field that describes the "category" of the document.
: > : >Thus, I want to know how many categories have a specific term. Could
: > : >someone help me to get this with good performance?
: >
: > I think I'm reading this question different than Chuck, so I'll toss out
: > somethign totally different...
: >
: > as I understand it, you've indexed a bunch of documents, with a variety of
: > fields, one of which is "category" (for example, maybe you are indexing
: > news articles, that each have a "title", "description", "url", and
: > "category").  Now you have a term like "title:lucene" (or
: > "description:pope") and you want to know the number of unique terms in the
: > category field that exist in articles that contain your input term.
: >
: > If that's what you're looking for, then you can problem achieve this by:
: >   1) make a TermQuery for your input term (ie: "title:lucene")
: >   2) put that TermQuery in a QueryFilter, and call bits(reader)
: >   3) call FieldCache.DEFAULT.getStrings(reader,"category")
: >   3) loop over the true bits in the BitSet from #3, and for each one, add
: >      the corrisponding entry from the String[] in #4 to a Set.
: >
: > when you're all done, the Set will be the list of categories, and the size
: > of that Set is the number (i think) you wanted.
: >
: > (DISCLAIMER: I've never acctaully used FieldCache, i'm just giving you my
: > advice based on reading the javadocs)
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:
:
: --
: Pablo Gomes Ludermir
: gomesp@gmail.com
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 21:25:56 2005
Return-Path: <java-user-return-14444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65765 invoked from network); 11 May 2005 21:25:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 21:25:56 -0000
Received: (qmail 97219 invoked by uid 500); 11 May 2005 21:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97061 invoked by uid 500); 11 May 2005 21:29:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97040 invoked by uid 99); 11 May 2005 21:29:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 14:29:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 032B65B7C8; Wed, 11 May 2005 14:25:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C77FF7F478
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 14:25:33 -0700 (PDT)
Date: Wed, 11 May 2005 14:25:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Strange results using QueryParser (?)
In-Reply-To: <3C02C973EF7D4045A1BD714205286A7C01096F07@ore-mail1.ne.ad.ner.capgemini.com>
Message-ID: <Pine.LNX.4.58.0505111422410.9671@hal.rescomp.berkeley.edu>
References: <3C02C973EF7D4045A1BD714205286A7C01096F07@ore-mail1.ne.ad.ner.capgemini.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


in your query parser, you'll need to use an Analyzer that knows that
"documenttype" should not be tokenized, and the raw user string entered by
the user should be treated as the query Term value.

you can make you own analyzer that subclass StandardAnalyzer and only does
the special behavior for that specific field very easily.  if you have
complex rules that require very differnet analyzers for lots of differnet
fields, you'll probably want to look at PerFieldAnalyzerWrapper.


: Date: Wed, 11 May 2005 15:05:21 +0200
: From: "Lilja, Bjorn" <bjorn.lilja@capgemini.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: Strange results using QueryParser (?)
:
:
: Hi,
:
: Daniel's suggestions was quite correct. Is the "/" suposed to be turned i=
nto a whitespace? In that case, how do I stop it? I do wish to search for t=
he entire exact word "Blankett/Mall".
:
: Regards,
: Bj=F6rn
:
: _____________________________________________________________
: Bj=F6rn Lilja | Technology Services | Consultant
: Tel: +46 8 5368 5000
: Mob: +46 702 651 027
:
: Capgemini
: www.se.capgemini.com | We help companies and their employees to achieve m=
ore.
:
: -----Original Message-----
: From: Daniel Naber [mailto:daniel.naber@intrafind.de]
: Sent: Tuesday, May 10, 2005 5:17 PM
: To: Lilja, Bjorn
: Subject: Re: Strange results using QueryParser (?)
:
: On Tuesday 10 May 2005 17:04, Lilja, Bjorn wrote:
:
: > I first suspected the "/"-sign to be the cause of the problem, but
: > searching for "documenttype:blankett/ma*" actually returns the
: > expected result.
:
: I suggest you use toString() on the parsed query. The "/" is probably int=
erpreted like a whitespace and you may end up with a query "documenttype:bl=
ankett mall", i.e. "mall" searched in the default field, not in documenttyp=
e.
:
: If that doesn't help you could create a small test case (index and search=
 just one document) and post that to the list.
:
: Regards
:  Daniel
:
: --
: Daniel Naber, IntraFind Software AG, Tel. 089-8906 9700
:
:
:
: This message contains information that may be privileged or confidential =
and is the property of the Capgemini Group. It is intended only for the per=
son to whom it is addressed. If you are not the intended recipient,  you ar=
e not authorized to read, print, retain, copy, disseminate,  distribute, or=
 use this message or any part thereof. If you receive this  message in erro=
r, please notify the sender immediately and delete all  copies of this mess=
age.
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 21:58:30 2005
Return-Path: <java-user-return-14445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79861 invoked from network); 11 May 2005 21:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 21:58:30 -0000
Received: (qmail 84300 invoked by uid 500); 11 May 2005 22:02:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84252 invoked by uid 500); 11 May 2005 22:02:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 72217 invoked by uid 500); 11 May 2005 21:58:18 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-ID: <42827F13.4030400@zilverline.org>
Date: Wed, 11 May 2005 23:54:27 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Zilverline Search Engine version 1.3.0 released
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 11 May 2005 21:54:39.0906 (UTC) FILETIME=[07EC7820:01C55674]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

All,

I've just released Zilverline version 1.3.0.

This version has a webservice for indexing,
and is localized for the chinese language.

This version is fully webbased, all settings, collections, preferences
can be set via the web interface. You don't need to edit any config
files anymore. Also I'm adding Powerpoint and Excel Extractors.

The source will be made available as well very soon.

Zilverline is protected by a Collaborative Source License. You can read
more on this type of licensing at http://www.zilverline.org

Zilverline is a fully webbased search engine based on lucene that's 
ready to roll, and can be simply dropped in a Servlet Engine. It runs 
out of the box, and supports PDF, WORD, HTM, TXT, RTF, Excel, Powerpoint 
and CHM, and can  index zip, rar, and many other formats. Both on 
Windows and Linux.

Zilverline supports plugins. You can create your own extractors
for various file formats. I've provided Extractors for RTF, Text, PDF,
Word, Excel, Powerpoint and HTML.

Zilverline supports collections. A collection is a set of files and
directories in a directory. A collection can be indexed, and searched.
The results of the search can be retrieved from local disk or remotely,
if you run a webserver on your machine. Files inside zip, rar and chm
files are extracted, indexed and can be cached. The cache can be mapped
to sit behind your webserver as well.

It's also possible to specify your own handlers for archives. Say you
have a RAR archive, and you have a program on your system that can
extract the content from it, then you can specify that Zilverline should
use this program.


Please take look at http://www.zilverline.org, and have a swing at it.

cheers,

   Michael Franken






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 22:01:28 2005
Return-Path: <java-user-return-14446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80902 invoked from network); 11 May 2005 22:01:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 22:01:28 -0000
Received: (qmail 92457 invoked by uid 500); 11 May 2005 22:05:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92427 invoked by uid 500); 11 May 2005 22:05:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92414 invoked by uid 99); 11 May 2005 22:05:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 20.70-84-109.reverse.theplanet.com (HELO box4.just-hosting.com) (70.84.109.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 15:05:08 -0700
Received: from [81.214.33.201] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1DVzGb-00077Q-4x
	for java-user@lucene.apache.org; Wed, 11 May 2005 22:01:22 +0000
Message-ID: <4282809F.6050403@axtelsoft.com>
Date: Thu, 12 May 2005 01:01:03 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: I need 100 most frequently used words in different languages.
Content-Type: text/plain; charset=ISO-8859-9; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I have a project which will be used in order to supply automatic 
dictionary helps in different languages.
I'm using Lucene for indexing, and searching the words in it.
It is an open source project in java at address 
http://belletmen.dev.java.net
Now, I will prepare a function to find the natural language used in the 
documentations.
For this purpose, I'll use the 100 most frequently used words in 
different languages.
Now I have only Turkish, English, German, and Finnish lists.
If you can help me, I'll be very glad.
Regards.
Ahmet Aksoy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 22:07:53 2005
Return-Path: <java-user-return-14447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83105 invoked from network); 11 May 2005 22:07:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 22:07:53 -0000
Received: (qmail 15197 invoked by uid 500); 11 May 2005 22:11:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15171 invoked by uid 500); 11 May 2005 22:11:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15156 invoked by uid 99); 11 May 2005 22:11:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 15:11:34 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: problem while  merging two indexes
Date: Wed, 11 May 2005 18:07:47 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01082A81@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Strange results using QueryParser (?)
thread-index: AcVWcAeZFRsiviXwQj6KBYq13ZJMcAABA9RQ
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hey guys,

my application died while I was merging two indexes. acoording to my =
undestanding, if I just delete the new files that have been created =
while I started merging, the index won't be affected. is this true?. =
what will happen if i just restart the merging from where the =
application died?.
thanks,

omar

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 22:31:34 2005
Return-Path: <java-user-return-14448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88834 invoked from network); 11 May 2005 22:31:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 22:31:34 -0000
Received: (qmail 68723 invoked by uid 500); 11 May 2005 22:35:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68519 invoked by uid 500); 11 May 2005 22:35:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68505 invoked by uid 99); 11 May 2005 22:35:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 15:35:16 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id F2BF75B778; Wed, 11 May 2005 15:31:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F17537F476
	for <java-user@lucene.apache.org>; Wed, 11 May 2005 15:31:17 -0700 (PDT)
Date: Wed, 11 May 2005 15:31:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: end of line in queries
In-Reply-To: <7543E4D41F4D2244B8FC369049A78697117EE7@hqmsg01.mcdonaldbradley.local>
Message-ID: <Pine.LNX.4.58.0505111529460.32231@hal.rescomp.berkeley.edu>
References: <7543E4D41F4D2244B8FC369049A78697117EE7@hqmsg01.mcdonaldbradley.local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


it is as long as you use an Analyzer (when indexing, and when parsing your
query strings) that doesn't strip/convert whatever characters you consider
an "end of line" (newline?  linefeed?) durring tokenization.

: Date: Wed, 11 May 2005 12:41:52 -0400
: From: "Govoni, Darren" <DGovoni@mcdonaldbradley.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: end of line in queries
:
: Hi,
:   I'm trying to perform a query and ened to specify a string pattern occurring at the end of a line.
: Is this possible? Thanks.
:
: Darren
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 22:45:11 2005
Return-Path: <java-user-return-14449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92999 invoked from network); 11 May 2005 22:45:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 22:45:11 -0000
Received: (qmail 87528 invoked by uid 500); 11 May 2005 22:48:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87506 invoked by uid 500); 11 May 2005 22:48:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87493 invoked by uid 99); 11 May 2005 22:48:55 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31102.mail.mud.yahoo.com (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 11 May 2005 15:48:55 -0700
Received: (qmail 91213 invoked by uid 60001); 11 May 2005 22:45:00 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=VUeJAiFS+1Zub/Us8A76TmvUpCMekOglqrJ0cqZEq1/PBCtSjHTycW9eZp/niy5LyV3/qQ8j17Talpz64O0273HBDUL6LNhGhfcskceb2jJdpU1cZiymZ0EWWhVKw5aQS1eBILA8SU1denH8toxCkwlrzS7Rj3+JInMKVXhn9Kk=  ;
Message-ID: <20050511224500.91210.qmail@web31102.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31102.mail.mud.yahoo.com via HTTP; Wed, 11 May 2005 15:45:00 PDT
Date: Wed, 11 May 2005 15:45:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: problem while  merging two indexes
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should be able to re-try the merge (from the beginning - there is
no way to restart it at any point other than the beginning).  The merge
and the new index is "finalized" at the very end of the merge, so if it
failed before that, your Lucene index (the segments file) still doesn't
know about the newly created segments that you see in you index
directory.

My suggestion: copy your indices, play with copies and see what
happens.

Otis


--- Omar Didi <odidi@Cyveillance.com> wrote:
> hey guys,
> 
> my application died while I was merging two indexes. acoording to my
> undestanding, if I just delete the new files that have been created
> while I started merging, the index won't be affected. is this true?.
> what will happen if i just restart the merging from where the
> application died?.
> thanks,
> 
> omar
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 11 22:49:25 2005
Return-Path: <java-user-return-14450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94385 invoked from network); 11 May 2005 22:49:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2005 22:49:25 -0000
Received: (qmail 98607 invoked by uid 500); 11 May 2005 22:53:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98576 invoked by uid 500); 11 May 2005 22:53:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98534 invoked by uid 99); 11 May 2005 22:53:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 15:53:07 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: problem while  merging two indexes
Date: Wed, 11 May 2005 18:49:19 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01082A84@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: problem while  merging two indexes
thread-index: AcVWexrYNEiR8aFARvCg4JZAvsV2CAAADnAg
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks otis,

I copied the index and I am playing around with the copy. I first had to =
change the code to force the unlock of the directory. and from what you =
just said all the new segments that are in my directory the index =
doesn't know about them so deleting them shouldn't hurt.


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Wednesday, May 11, 2005 6:45 PM
To: java-user@lucene.apache.org
Subject: Re: problem while merging two indexes


You should be able to re-try the merge (from the beginning - there is
no way to restart it at any point other than the beginning).  The merge
and the new index is "finalized" at the very end of the merge, so if it
failed before that, your Lucene index (the segments file) still doesn't
know about the newly created segments that you see in you index
directory.

My suggestion: copy your indices, play with copies and see what
happens.

Otis


--- Omar Didi <odidi@Cyveillance.com> wrote:
> hey guys,
>=20
> my application died while I was merging two indexes. acoording to my
> undestanding, if I just delete the new files that have been created
> while I started merging, the index won't be affected. is this true?.
> what will happen if i just restart the merging from where the
> application died?.
> thanks,
>=20
> omar
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 04:49:11 2005
Return-Path: <java-user-return-14451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2312 invoked from network); 12 May 2005 04:49:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 04:49:11 -0000
Received: (qmail 72595 invoked by uid 500); 12 May 2005 04:52:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72533 invoked by uid 500); 12 May 2005 04:52:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72498 invoked by uid 99); 12 May 2005 04:52:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 21:52:50 -0700
Received: (qmail 12973 invoked by uid 532); 12 May 2005 04:46:16 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.2.  Clear:. 
 Processed in 0.154027 secs); 12 May 2005 04:46:16 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 12 May 2005 04:46:16 -0000
Message-ID: <4282E033.3020101@tropo.com>
Date: Wed, 11 May 2005 21:48:51 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: I need 100 most frequently used words in different languages.
References: <4282809F.6050403@axtelsoft.com>
In-Reply-To: <4282809F.6050403@axtelsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could try downloading a copy of the wikipedia and processing the 
entries yourself. I don't know how well represented other languages are 
but there's lot of English.

Ahmet Aksoy wrote:

> Hi,
> I have a project which will be used in order to supply automatic 
> dictionary helps in different languages.
> I'm using Lucene for indexing, and searching the words in it.
> It is an open source project in java at address 
> http://belletmen.dev.java.net
> Now, I will prepare a function to find the natural language used in the 
> documentations.
> For this purpose, I'll use the 100 most frequently used words in 
> different languages.
> Now I have only Turkish, English, German, and Finnish lists.
> If you can help me, I'll be very glad.
> Regards.
> Ahmet Aksoy
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 05:49:26 2005
Return-Path: <java-user-return-14452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16198 invoked from network); 12 May 2005 05:49:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 05:49:26 -0000
Received: (qmail 64798 invoked by uid 500); 12 May 2005 05:53:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64772 invoked by uid 500); 12 May 2005 05:53:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64756 invoked by uid 99); 12 May 2005 05:53:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 20.70-84-109.reverse.theplanet.com (HELO box4.just-hosting.com) (70.84.109.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 11 May 2005 22:53:05 -0700
Received: from mail.yardimci.gen.tr ([195.33.204.85] helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1DW6ZI-0005P2-1T
	for java-user@lucene.apache.org; Thu, 12 May 2005 05:49:09 +0000
Message-ID: <4282EE40.1080705@axtelsoft.com>
Date: Thu, 12 May 2005 08:48:48 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: I need 100 most frequently used words in different languages.
References: <4282809F.6050403@axtelsoft.com> <4282E033.3020101@tropo.com>
In-Reply-To: <4282E033.3020101@tropo.com>
Content-Type: text/plain; charset=windows-1254; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi David,
Thanks for your suggestion.
I'll give a try.

David Spencer wrote:

> You could try downloading a copy of the wikipedia and processing the 
> entries yourself. I don't know how well represented other languages 
> are but there's lot of English.
>
> Ahmet Aksoy wrote:
>
>> Hi,
>> I have a project which will be used in order to supply automatic 
>> dictionary helps in different languages.
>> I'm using Lucene for indexing, and searching the words in it.
>> It is an open source project in java at address 
>> http://belletmen.dev.java.net
>> Now, I will prepare a function to find the natural language used in 
>> the documentations.
>> For this purpose, I'll use the 100 most frequently used words in 
>> different languages.
>> Now I have only Turkish, English, German, and Finnish lists.
>> If you can help me, I'll be very glad.
>> Regards.
>> Ahmet Aksoy
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> .
>


-- 
        Ahmet Aksoy
axtelsoft.com - armalink.com
    ahmetax.blogspot.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 07:14:01 2005
Return-Path: <java-user-return-14453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40388 invoked from network); 12 May 2005 07:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 07:14:01 -0000
Received: (qmail 22131 invoked by uid 500); 12 May 2005 07:17:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22113 invoked by uid 500); 12 May 2005 07:17:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22095 invoked by uid 99); 12 May 2005 07:17:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from owa.mm.fr.atosorigin.com (HELO srv-grp-s01.axime.com) (160.92.103.161)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 00:17:20 -0700
Received: from srv-grp-s06.dev.atos.fr ([172.18.100.67]) by srv-grp-s01.axime.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 12 May 2005 09:11:40 +0200
content-class: urn:content-classes:message
Subject: RE: Real time indexing with RAMDirectory
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 12 May 2005 09:13:20 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Message-ID: <66C1CC04412C4A4785E49FE965C9456E093F47@srv-grp-s06.dev.atos.fr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Real time indexing with RAMDirectory
Thread-Index: AcVWYPT2mAx/5VspQUWcFpR8Nt+BQwAWK/kQ
From: =?iso-8859-1?Q?Rifflard_Micka=EBl?= <Mickael.Rifflard@atosorigin.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 May 2005 07:11:40.0312 (UTC) FILETIME=[D809B980:01C556C1]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,=20

If I swap these two lines, the result is the same.

I want to build an indexing process as fast as possible and I can't use=20
a greater minMergeDocs because my need is to know all documents of my=20
index in real time.

Do you think that a FSDirectory with minMergeDocs equals to 1 can
be the solution ?

Thanks,

	Micka=EBl

-----Message d'origine-----
De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Envoy=E9 : mercredi 11 mai 2005 21:38
=C0 : java-user@lucene.apache.org
Objet : RE: Real time indexing with RAMDirectory


What happens if you swap these 2 lines?

		System.out.println("Docs number : " + ir.numDocs());
		ir.close();

If I were you, I'd try using minMergeDocs instead of RAMDirectory.  It
makes things much simpler.  You shouldn't need to optimize the index.


Otis

--- Rifflard Micka=EBl <Mickael.Rifflard@atosorigin.com> wrote:
> Hi Otis,
>=20
> My question was too much short cut.=20
>=20
> Here is a sample :=20
>=20
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.store.RAMDirectory;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import java.io.IOException;
>=20
> public class MySample {
> 	public static void main(String[] args) {
> 		try {
> 			RAMDirectory ramd =3D new RAMDirectory();
> 			IndexWriter iw =3D new IndexWriter(ramd,new
> StandardAnalyzer(),true);
> 			iw.minMergeDocs =3D 1;
> 			iw.addDocument(new org.apache.lucene.document.Document());
>   =20
> 			IndexReader ir =3D IndexReader.open(ramd);
> 			System.out.println("Docs number : " + ir.numDocs());
> 			ir.close();
> 			iw.close();
> 		}
> 		catch (IOException ioe) { ioe.printStackTrace(); }
> 	}
> }
>=20
> If I execute this sample, the result is :=20
>=20
> Docs number : 0
>=20
> If a call close() method or optimize() method after added my
> document, the result is :
>=20
> Docs number : 1
>=20
> So, my question is : How to get the second result without close() or
> optimize() index=20
> (expensive methods I think) ?
>=20
> Thanks,
>=20
> 	Micka=EBl
>=20
>=20
>=20
> -----Message d'origine-----
> De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Envoy=E9 : mardi 10 mai 2005 17:39
> =C0 : java-user@lucene.apache.org
> Objet : Re: Real time indexing with RAMDirectory
>=20
>=20
> Hi Micka=EBl,
>=20
> Have you tried using minMergeDocs=3D1 ?  Will that do what you want?
>=20
> Otis
>=20
> --- Rifflard Micka=EBl <Mickael.Rifflard@atosorigin.com> wrote:
> > Hi all,
> >=20
> > Is it possible, with the RAMDirectory (or another Directory), to
> > "flush" informations after each Document indexing ?
> > I tried this but this "flush" appears to be able to be made after 2
> > indexing at best.
> >=20
> > What do you think about it ? I forgot a configuration ?
> >=20
> > Thanks,
> > =20
> > 	Micka=EBl
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >=20
> >=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 07:37:48 2005
Return-Path: <java-user-return-14454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76182 invoked from network); 12 May 2005 07:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 07:37:48 -0000
Received: (qmail 71638 invoked by uid 500); 12 May 2005 07:41:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71464 invoked by uid 500); 12 May 2005 07:41:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71401 invoked by uid 99); 12 May 2005 07:41:05 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31106.mail.mud.yahoo.com (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 12 May 2005 00:41:00 -0700
Received: (qmail 18266 invoked by uid 60001); 12 May 2005 07:37:02 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=CEsLPtlF2bo27+39sQ3YRLKlIIarDuuUiq0Vk8196LKN2wDqxvIaKeWh/AowYhYeYpMOkfo5t1CBFwuNkSsKceztYCRhFHwzVIU8+Pm08oWV9TxOAYn6DIzrBXsxVchKiPsuksESk4P0QErt7m8WIPE/O/lauGqgI7FwuAjeZGc=  ;
Message-ID: <20050512073702.18264.qmail@web31106.mail.mud.yahoo.com>
Received: from [69.201.130.192] by web31106.mail.mud.yahoo.com via HTTP; Thu, 12 May 2005 00:37:02 PDT
Date: Thu, 12 May 2005 00:37:02 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Real time indexing with RAMDirectory
To: java-user@lucene.apache.org
In-Reply-To: <66C1CC04412C4A4785E49FE965C9456E093F47@srv-grp-s06.dev.atos.fr>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, try minMergeDocs = 1.... but keep in mind that you'll have to be
re-opening a new IndexReader every time your index changes, and it
sounds like this will be very frequent/constant.  This may cost you...

Otis

--- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:

> Hi Otis, 
> 
> If I swap these two lines, the result is the same.
> 
> I want to build an indexing process as fast as possible and I can't
> use 
> a greater minMergeDocs because my need is to know all documents of my
> 
> index in real time.
> 
> Do you think that a FSDirectory with minMergeDocs equals to 1 can
> be the solution ?
> 
> Thanks,
> 
> 	Micka๋l
> 
> -----Message d'origine-----
> De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Envoy้ : mercredi 11 mai 2005 21:38
> ภ : java-user@lucene.apache.org
> Objet : RE: Real time indexing with RAMDirectory
> 
> 
> What happens if you swap these 2 lines?
> 
> 		System.out.println("Docs number : " + ir.numDocs());
> 		ir.close();
> 
> If I were you, I'd try using minMergeDocs instead of RAMDirectory. 
> It
> makes things much simpler.  You shouldn't need to optimize the index.
> 
> 
> Otis
> 
> --- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:
> > Hi Otis,
> > 
> > My question was too much short cut. 
> > 
> > Here is a sample : 
> > 
> > import org.apache.lucene.index.IndexWriter;
> > import org.apache.lucene.index.IndexReader;
> > import org.apache.lucene.store.RAMDirectory;
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import java.io.IOException;
> > 
> > public class MySample {
> > 	public static void main(String[] args) {
> > 		try {
> > 			RAMDirectory ramd = new RAMDirectory();
> > 			IndexWriter iw = new IndexWriter(ramd,new
> > StandardAnalyzer(),true);
> > 			iw.minMergeDocs = 1;
> > 			iw.addDocument(new org.apache.lucene.document.Document());
> >    
> > 			IndexReader ir = IndexReader.open(ramd);
> > 			System.out.println("Docs number : " + ir.numDocs());
> > 			ir.close();
> > 			iw.close();
> > 		}
> > 		catch (IOException ioe) { ioe.printStackTrace(); }
> > 	}
> > }
> > 
> > If I execute this sample, the result is : 
> > 
> > Docs number : 0
> > 
> > If a call close() method or optimize() method after added my
> > document, the result is :
> > 
> > Docs number : 1
> > 
> > So, my question is : How to get the second result without close()
> or
> > optimize() index 
> > (expensive methods I think) ?
> > 
> > Thanks,
> > 
> > 	Micka๋l
> > 
> > 
> > 
> > -----Message d'origine-----
> > De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Envoy้ : mardi 10 mai 2005 17:39
> > ภ : java-user@lucene.apache.org
> > Objet : Re: Real time indexing with RAMDirectory
> > 
> > 
> > Hi Micka๋l,
> > 
> > Have you tried using minMergeDocs=1 ?  Will that do what you want?
> > 
> > Otis
> > 
> > --- Rifflard Micka๋l <Mickael.Rifflard@atosorigin.com> wrote:
> > > Hi all,
> > > 
> > > Is it possible, with the RAMDirectory (or another Directory), to
> > > "flush" informations after each Document indexing ?
> > > I tried this but this "flush" appears to be able to be made after
> 2
> > > indexing at best.
> > > 
> > > What do you think about it ? I forgot a configuration ?
> > > 
> > > Thanks,
> > >  
> > > 	Micka๋l
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > 
> > > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 07:38:09 2005
Return-Path: <java-user-return-14455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76418 invoked from network); 12 May 2005 07:38:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 07:38:09 -0000
Received: (qmail 73496 invoked by uid 500); 12 May 2005 07:41:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73432 invoked by uid 500); 12 May 2005 07:41:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73299 invoked by uid 99); 12 May 2005 07:41:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rene.a.hackl@gmx.de designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 12 May 2005 00:41:34 -0700
Received: (qmail 18060 invoked by uid 0); 12 May 2005 07:37:35 -0000
Received: from 141.66.16.25 by www12.gmx.net with HTTP;
	Thu, 12 May 2005 09:37:35 +0200 (MEST)
Date: Thu, 12 May 2005 09:37:35 +0200 (MEST)
From: =?ISO-8859-1?Q?=22Ren=E9_Hackl=22?= <rene.a.hackl@gmx.de>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <31941.1115883312@www12.gmx.net>
Subject: Re: I need 100 most frequently used words in different languages.
X-Priority: 3 (Normal)
X-Authenticated: #24166002
Message-ID: <9350.1115883455@www12.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ahmet,

> Now I have only Turkish, English, German, and Finnish lists.

At http://www.unine.ch/info/clef/ you can find some more lists you might
find useful.

Best regards,
Ren้

Sorry Ahmet for the double post, I meant to address the mailing list...

-- 
+++ Neu: Echte DSL-Flatrates von GMX - Surfen ohne Limits +++
Always online ab 4,99 Euro/Monat: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 07:57:24 2005
Return-Path: <java-user-return-14456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84869 invoked from network); 12 May 2005 07:57:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 07:57:24 -0000
Received: (qmail 12443 invoked by uid 500); 12 May 2005 08:00:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12417 invoked by uid 500); 12 May 2005 08:00:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12387 invoked by uid 99); 12 May 2005 08:00:57 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:00:57 -0700
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j4C7nKue002963
        for <java-user@lucene.apache.org>; Thu, 12 May 2005 09:49:20 +0200
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j4C7nKoR002960
        for <java-user@lucene.apache.org>; Thu, 12 May 2005 09:49:20 +0200
To: java-user@lucene.apache.org
Subject: How does Lucene to compute score ?
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF9A7C02A3.02A1466A-ONC1256FFF.002B13AF-C1256FFF.002BAADC@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Thu, 12 May 2005 09:55:15 +0200
Content-Type: multipart/alternative; boundary="=_alternative 002BAAD3C1256FFF_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_alternative 002BAAD3C1256FFF_=
Content-Type: text/plain; charset="US-ASCII"

Hi,

I suppose this question has been asking before but there is no way to 
search such a thing in the archive.

Anyway, I need to merge to different type of search but I am not really 
sure that the calculus of the score is the same. So if someone can 
indicate me how does Lucene to compute it or an address that explain all 
this ....


thanks
Bertrand

--=_alternative 002BAAD3C1256FFF_=--

From java-user-return-14457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 07:59:36 2005
Return-Path: <java-user-return-14457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85565 invoked from network); 12 May 2005 07:59:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 07:59:35 -0000
Received: (qmail 17081 invoked by uid 500); 12 May 2005 08:03:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17055 invoked by uid 500); 12 May 2005 08:03:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17041 invoked by uid 99); 12 May 2005 08:03:16 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31106.mail.mud.yahoo.com (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 12 May 2005 01:03:16 -0700
Received: (qmail 21258 invoked by uid 60001); 12 May 2005 07:59:18 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=FtBiedg1cEomO95Y4UtG9ubIy7K6pZ0j3x45zJlbeEApip8ZD2EpI9QSKwyhf/YSe8Q2a6O8YWwaor9LU5fdk/KjXluEEvsg7ybSra7Pi5HQN3P44qTgVffv64iYeGzanYdNcy5U6Ldr2hASXtf785VXh+7xF2DK3GWY7kV4M44=  ;
Message-ID: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
Received: from [69.201.130.192] by web31106.mail.mud.yahoo.com via HTTP; Thu, 12 May 2005 00:59:18 PDT
Date: Thu, 12 May 2005 00:59:18 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Top most frequent words
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Somebody asked about this today, and I just found this through Simpy:
  http://www.unine.ch/info/clef/

Scroll half-way through the page, look on the right side:  1,000 most
frequent words for several languages.

Otis

____________________________________________________________________
Simpy -- simpy.com -- tags, social bookmarks, personal search engine

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:17:33 2005
Return-Path: <java-user-return-14458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92747 invoked from network); 12 May 2005 08:17:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:17:33 -0000
Received: (qmail 64447 invoked by uid 500); 12 May 2005 08:20:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64435 invoked by uid 500); 12 May 2005 08:20:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64405 invoked by uid 99); 12 May 2005 08:20:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-233-83.scalix.com (HELO hagrid.scalix.local) (66.7.233.83)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:20:54 -0700
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j4C8IhEt027744
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 01:18:43 -0700
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j4C8Ihv8027742
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 01:18:43 -0700
Received: from [10.11.108.17] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.1.24)
    via ESMTP; Thu, 12 May 2005 09:16:51 +0100 (BST)
Date: Thu, 12 May 2005 09:16:48 +0100
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <428310F0.7090802@scalix.com>
In-Reply-To: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
References: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
Subject: Re: Top most frequent words
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird  (X11/20050322)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>Somebody asked about this today, and I just found this through Simpy:
>  http://www.unine.ch/info/clef/
>
>Scroll half-way through the page, look on the right side:  1,000 most
>frequent words for several languages.
>  
>
Hmm.  I'm not sure how valuable that is.   For English "los" and 
"angeles" are ranked 99 and 101 respectively and "officials" comes in at 
125.   Obviously I'm guessing, but those middle ranking words have come 
from a slightly skewed source -- newspapers in a fixed interval 
perhaps.  (I don't think "Los Angeles" makes it into every day parlance 
in the UK, and "officials" suggests that we're obsessed with beauracracy 
:-))

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:19:42 2005
Return-Path: <java-user-return-14459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93254 invoked from network); 12 May 2005 08:19:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:19:42 -0000
Received: (qmail 69622 invoked by uid 500); 12 May 2005 08:23:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69548 invoked by uid 500); 12 May 2005 08:23:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69488 invoked by uid 99); 12 May 2005 08:23:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 20.70-84-109.reverse.theplanet.com (HELO box4.just-hosting.com) (70.84.109.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:23:07 -0700
Received: from mail.yardimci.gen.tr ([195.33.204.85] helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1DW8uR-00041f-I1
	for java-user@lucene.apache.org; Thu, 12 May 2005 08:19:09 +0000
Message-ID: <42831169.9040103@axtelsoft.com>
Date: Thu, 12 May 2005 11:18:49 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: I need 100 most frequently used words in different languages.
References: <31941.1115883312@www12.gmx.net> <9350.1115883455@www12.gmx.net>
In-Reply-To: <9350.1115883455@www12.gmx.net>
Content-Type: text/plain; charset=windows-1254; format=flowed
Content-Transfer-Encoding: 8bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ren้,
That is an excellent source! There exist, more than I wanted.
Thanks a lot.
Best regards,
Ahmet
Ren้ Hackl wrote:

>Hi Ahmet,
>
>  
>
>>Now I have only Turkish, English, German, and Finnish lists.
>>    
>>
>
>At http://www.unine.ch/info/clef/ you can find some more lists you might
>find useful.
>
>Best regards,
>Ren้
>
>Sorry Ahmet for the double post, I meant to address the mailing list...
>
>  
>


-- 
        Ahmet Aksoy
axtelsoft.com - armalink.com
    ahmetax.blogspot.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:22:10 2005
Return-Path: <java-user-return-14460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93994 invoked from network); 12 May 2005 08:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:22:09 -0000
Received: (qmail 76314 invoked by uid 500); 12 May 2005 08:25:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76239 invoked by uid 500); 12 May 2005 08:25:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76216 invoked by uid 99); 12 May 2005 08:25:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 20.70-84-109.reverse.theplanet.com (HELO box4.just-hosting.com) (70.84.109.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:25:09 -0700
Received: from mail.yardimci.gen.tr ([195.33.204.85] helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1DW8wK-00049m-3E
	for java-user@lucene.apache.org; Thu, 12 May 2005 08:21:05 +0000
Message-ID: <428311E1.7020302@axtelsoft.com>
Date: Thu, 12 May 2005 11:20:49 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Top most frequent words
References: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
In-Reply-To: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
Content-Type: text/plain; charset=windows-1254; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,
Thank you for the source address.
Best regards,
Ahmet
Otis Gospodnetic wrote:

>Somebody asked about this today, and I just found this through Simpy:
>  http://www.unine.ch/info/clef/
>
>Scroll half-way through the page, look on the right side:  1,000 most
>frequent words for several languages.
>
>Otis
>
>____________________________________________________________________
>Simpy -- simpy.com -- tags, social bookmarks, personal search engine
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>.
>
>  
>


-- 
        Ahmet Aksoy
axtelsoft.com - armalink.com
    ahmetax.blogspot.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:25:18 2005
Return-Path: <java-user-return-14461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95719 invoked from network); 12 May 2005 08:25:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:25:18 -0000
Received: (qmail 83899 invoked by uid 500); 12 May 2005 08:27:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83868 invoked by uid 500); 12 May 2005 08:27:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83849 invoked by uid 99); 12 May 2005 08:27:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:27:39 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j4C8NUDn022364
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 10:23:30 +0200
From: =?us-ascii?Q?Kai_Gulzau?= <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: AW: How does Lucene to compute score ?
Date: Thu, 12 May 2005 10:24:35 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDEEBJGEAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <OF9A7C02A3.02A1466A-ONC1256FFF.002B13AF-C1256FFF.002BAADC@urssaf.fr>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>I suppose this question has been asking before but there is no way to 
>search such a thing in the archive.


You can search the lists on:

http://www.mail-archive.com/java-user%40lucene.apache.org/
http://www.mail-archive.com/java-dev%40lucene.apache.org/


...but a lucene search on the mailing list would be nice ;)

Regards,

	Kai Gulzau

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:36:01 2005
Return-Path: <java-user-return-14462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1781 invoked from network); 12 May 2005 08:36:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:36:01 -0000
Received: (qmail 14914 invoked by uid 500); 12 May 2005 08:39:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14863 invoked by uid 500); 12 May 2005 08:39:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14849 invoked by uid 99); 12 May 2005 08:39:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 20.70-84-109.reverse.theplanet.com (HELO box4.just-hosting.com) (70.84.109.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 01:39:39 -0700
Received: from mail.yardimci.gen.tr ([195.33.204.85] helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1DW9AT-0004hs-0f
	for java-user@lucene.apache.org; Thu, 12 May 2005 08:35:42 +0000
Message-ID: <4283154E.1060404@axtelsoft.com>
Date: Thu, 12 May 2005 11:35:26 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Top most frequent words
References: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com> <428310F0.7090802@scalix.com>
In-Reply-To: <428310F0.7090802@scalix.com>
Content-Type: text/plain; charset=windows-1254; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi John,
I haven't investigated the sources yet, but you might be right.
However, as you stated, those type of lists directly depend on the 
subject, and the source.
Anyway, it is not very important for my study, and I'm sure it will help 
me very much.
I will prepare optimized lists if I can obtain some different sets.
Best regards.
Ahmet
John Haxby wrote:

> Otis Gospodnetic wrote:
>
>> Somebody asked about this today, and I just found this through Simpy:
>>  http://www.unine.ch/info/clef/
>>
>> Scroll half-way through the page, look on the right side:  1,000 most
>> frequent words for several languages.
>>  
>>
> Hmm.  I'm not sure how valuable that is.   For English "los" and 
> "angeles" are ranked 99 and 101 respectively and "officials" comes in 
> at 125.   Obviously I'm guessing, but those middle ranking words have 
> come from a slightly skewed source -- newspapers in a fixed interval 
> perhaps.  (I don't think "Los Angeles" makes it into every day 
> parlance in the UK, and "officials" suggests that we're obsessed with 
> beauracracy :-))
>
> jch
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> .
>


-- 
        Ahmet Aksoy
axtelsoft.com - armalink.com
    ahmetax.blogspot.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 08:56:31 2005
Return-Path: <java-user-return-14463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11017 invoked from network); 12 May 2005 08:56:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 08:56:31 -0000
Received: (qmail 63061 invoked by uid 500); 12 May 2005 08:59:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63026 invoked by uid 500); 12 May 2005 08:59:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63002 invoked by uid 99); 12 May 2005 08:59:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rene.a.hackl@gmx.de designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 12 May 2005 01:59:07 -0700
Received: (qmail 29507 invoked by uid 0); 12 May 2005 08:54:57 -0000
Received: from 141.66.16.25 by www38.gmx.net with HTTP;
	Thu, 12 May 2005 10:54:57 +0200 (MEST)
Date: Thu, 12 May 2005 10:54:57 +0200 (MEST)
From: =?ISO-8859-1?Q?=22Ren=E9_Hackl=22?= <rene.a.hackl@gmx.de>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <428310F0.7090802@scalix.com>
Subject: Re: Top most frequent words
X-Priority: 3 (Normal)
X-Authenticated: #24166002
Message-ID: <8286.1115888097@www38.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi John,

> >from a slightly skewed source -- newspapers in a fixed interval 
> perhaps.  (I don't think "Los Angeles" makes it into every day parlance 

You're right there. Most possibly the frequencies in that list are based on
a volume of the Los Angeles Times, that's one of the standard
CLEF-Collections. The Glasgow Herald is the second standard collection, here
"Scotland" and "scottish" are among the most frequent terms :-)

Maybe the "officials" come from sports articles --> LA --> LA Lakers?!

Cheers,
Ren้

-- 
+++ Neu: Echte DSL-Flatrates von GMX - Surfen ohne Limits +++
Always online ab 4,99 Euro/Monat: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 10:36:10 2005
Return-Path: <java-user-return-14464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48078 invoked from network); 12 May 2005 10:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 10:36:09 -0000
Received: (qmail 19632 invoked by uid 500); 12 May 2005 10:39:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19604 invoked by uid 500); 12 May 2005 10:39:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19588 invoked by uid 99); 12 May 2005 10:39:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of annabing@gmail.com designates 64.233.184.194 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 03:39:56 -0700
Received: by wproxy.gmail.com with SMTP id 36so466065wra
        for <java-user@lucene.apache.org>; Thu, 12 May 2005 03:35:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=p348+HcIYZ7KIQAz81XlyJbaE/uNfw8xtQIzAkCyksXfm4HjsTZcwMMF3+F69HJtQqW4P3RZfVzHISfGC09NA80rryQkuF9050Ds2b4Cwoi+fu+jm0d4jM9S6D9UNrmvd/5OYaxD5bcH/oAWiXeuX0b8LlAmhLiyINHq/d11vRk=
Received: by 10.54.157.16 with SMTP id f16mr900493wre;
        Thu, 12 May 2005 03:35:56 -0700 (PDT)
Received: by 10.54.146.3 with HTTP; Thu, 12 May 2005 03:35:56 -0700 (PDT)
Message-ID: <57492cd1050512033563f271b5@mail.gmail.com>
Date: Thu, 12 May 2005 11:35:56 +0100
From: Anna Bing <annabing@gmail.com>
Reply-To: Anna Bing <annabing@gmail.com>
To: java-user@lucene.apache.org
Subject: Search Theory Book
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Firstly the Lucene in Action Book is great.  It really helped me with
implementing search for a project.

Sorry if this is the wrong forum but as you are all search people.  I
wondered if you could recommend any good books about search
theory/algorithms, readable if that is possible in an algorithm book =3D).
Is there a key text like GOF book with Design Patterns for search?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 11:29:47 2005
Return-Path: <java-user-return-14465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68292 invoked from network); 12 May 2005 11:29:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 11:29:47 -0000
Received: (qmail 19322 invoked by uid 500); 12 May 2005 11:33:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19270 invoked by uid 500); 12 May 2005 11:33:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19247 invoked by uid 99); 12 May 2005 11:33:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mx.laposte.net (HELO mx.laposte.net) (81.255.54.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 04:33:32 -0700
Received: from zaripha (82.225.66.75) by mx.laposte.net (7.0.028) (authenticated as sven.duzont)
        id 425309B801741009 for java-user@lucene.apache.org; Thu, 12 May 2005 13:27:51 +0200
Date: Thu, 12 May 2005 13:28:02 +0200
From: Sven Duzont <sven.duzont@laposte.net>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Sven Duzont <sven.duzont@laposte.net>
X-Priority: 3 (Normal)
Message-ID: <1087123378.20050512132802@laposte.net>
To: Otis Gospodnetic <java-user@lucene.apache.org>
Subject: Re: Top most frequent words
In-Reply-To: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
References: <20050512075918.21256.qmail@web31106.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

yeah, i just added it into simpy when i read Ren้ post ;)
congrats for simpy

Sven

Le jeudi 12 mai 2005 เ 09:59:18, vous ้criviez :

OG> Somebody asked about this today, and I just found this through Simpy:
OG>   http://www.unine.ch/info/clef/

OG> Scroll half-way through the page, look on the right side:  1,000 most
OG> frequent words for several languages.

OG> Otis

OG> ____________________________________________________________________
OG> Simpy -- simpy.com -- tags, social bookmarks, personal search engine

OG> ---------------------------------------------------------------------
OG> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
OG> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 11:41:15 2005
Return-Path: <java-user-return-14466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71441 invoked from network); 12 May 2005 11:41:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 11:41:15 -0000
Received: (qmail 56809 invoked by uid 500); 12 May 2005 11:45:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56784 invoked by uid 500); 12 May 2005 11:44:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56763 invoked by uid 99); 12 May 2005 11:44:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from host.khimaira.com (HELO host.khimaira.com) (209.239.36.247)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 04:44:58 -0700
Received: from littlebunch.com (69-174-143-102.frdrmd.adelphia.net [69.174.143.102])
	by host.khimaira.com (8.12.10/8.12.10) with ESMTP id j4CBeveF031785
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 07:40:57 -0400
Message-ID: <4283403B.9070007@littlebunch.com>
Date: Thu, 12 May 2005 07:38:35 -0400
From: Gary Moore <gary@littlebunch.com>
Organization: Little-Bunch Dairy Goats
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search Theory Book
References: <57492cd1050512033563f271b5@mail.gmail.com>
In-Reply-To: <57492cd1050512033563f271b5@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Salton, Gerald and McGill, Michael J. /Introduction to Modern 
Information Retrieval/. McGraw-Hill, 1983.  

-Gary

Anna Bing wrote:

>Firstly the Lucene in Action Book is great.  It really helped me with
>implementing search for a project.
>
>Sorry if this is the wrong forum but as you are all search people.  I
>wondered if you could recommend any good books about search
>theory/algorithms, readable if that is possible in an algorithm book =).
>Is there a key text like GOF book with Design Patterns for search?
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 11:50:00 2005
Return-Path: <java-user-return-14467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73503 invoked from network); 12 May 2005 11:50:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 11:50:00 -0000
Received: (qmail 72671 invoked by uid 500); 12 May 2005 11:53:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72630 invoked by uid 500); 12 May 2005 11:53:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72550 invoked by uid 99); 12 May 2005 11:53:10 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates 195.2.83.166 as permitted sender)
Received: from mail1.zmail.ru (HELO aha.ru) (195.2.83.166)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 04:53:10 -0700
Received: from [195.98.167.2] (account fckdp@ok.ru HELO WRKPASHA)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.2.8)
  with ESMTP id 180857508; Thu, 12 May 2005 15:49:06 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: <java-user@lucene.apache.org>,
	"'Anna Bing'" <annabing@gmail.com>
Subject: RE: Search Theory Book
Date: Thu, 12 May 2005 16:04:46 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <57492cd1050512033563f271b5@mail.gmail.com>
Thread-Index: AcVW4iChtiMtqSPqSVC7maJNrUR+0AACHEjg
Message-ID: <auto-000180857508@frontend1.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Managing Gigabytes
http://www.amazon.com/exec/obidos/tg/detail/-/1558605703/qid=1115898416/sr=8
-1/ref=pd_csp_1/104-0210366-8377506?v=glance&s=books&n=507846

Pasha Bizhan
http://lucenedotnet.com

> -----Original Message-----
> From: Anna Bing [mailto:annabing@gmail.com] 
> Sent: Thursday, May 12, 2005 14:36
> To: java-user@lucene.apache.org
> Subject: Search Theory Book
> 
> Firstly the Lucene in Action Book is great.  It really helped me with
> implementing search for a project.
> 
> Sorry if this is the wrong forum but as you are all search people.  I
> wondered if you could recommend any good books about search
> theory/algorithms, readable if that is possible in an 
> algorithm book =).
> Is there a key text like GOF book with Design Patterns for search?
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 12:26:02 2005
Return-Path: <java-user-return-14468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88687 invoked from network); 12 May 2005 12:26:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 12:26:01 -0000
Received: (qmail 71233 invoked by uid 500); 12 May 2005 12:29:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71208 invoked by uid 500); 12 May 2005 12:29:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 36832 invoked by uid 99); 12 May 2005 10:07:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of annabing@gmail.com designates 64.233.184.199 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=Cqx9Wkh5Hvwx7hSl5EQiKH/4CLsuKpsotI1iq/qg2qeYfguOkD/S0U5Gq070IJXOnKGlCRepJiCSTWXVxHhnPOU2ydWWjYIIAnHP37TpSQl50sDfzBB8W/pxMpwPCSf2ktD8z2UtZiEted/dBstqUdtToPLXkayavIRG71zvz+s=
Message-ID: <57492cd1050512030316dad8ab@mail.gmail.com>
Date: Thu, 12 May 2005 11:03:04 +0100
From: Anna Bing <annabing@gmail.com>
Reply-To: Anna Bing <annabing@gmail.com>
To: java-user@lucene.apache.org
Subject: Search Theory Book
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Firstly the Lucene in Action Book is great.  It really helped me with
implementing search for a project.

Sorry if this is the wrong forum but as you are all search people.  I
wondered if you could recommend any good books about search
theory/algorithms (readable if that is possible in an algorithm book).
 Is there a key text like GOF book with Design Patterns?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 13:43:02 2005
Return-Path: <java-user-return-14469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44137 invoked from network); 12 May 2005 13:43:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 13:43:02 -0000
Received: (qmail 967 invoked by uid 500); 12 May 2005 13:45:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 800 invoked by uid 500); 12 May 2005 13:45:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 745 invoked by uid 99); 12 May 2005 13:45:50 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31109.mail.mud.yahoo.com (HELO web31109.mail.mud.yahoo.com) (68.142.200.42)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 12 May 2005 06:45:50 -0700
Received: (qmail 37422 invoked by uid 60001); 12 May 2005 13:41:38 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=XP2IYaNRoIFYMvhxo7KvivzRGbmuOSiHkLwgcZwzLmAIraxgp0aYHciuin62dO+X13h8Mj8OAW3PSbM2X33cHle346YIEs83MEfgkeK0LtRjo/qLSksC9OnmFax9WZHsXqjj031IkVcNI5k3EEM5aIF2NbafsGKN7uOaKeuQEps=  ;
Message-ID: <20050512134138.37420.qmail@web31109.mail.mud.yahoo.com>
Received: from [69.201.130.192] by web31109.mail.mud.yahoo.com via HTTP; Thu, 12 May 2005 06:41:38 PDT
Date: Thu, 12 May 2005 06:41:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search Theory Book
To: java-user@lucene.apache.org, Anna Bing <annabing@gmail.com>
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe there are links to everal Information Retrieval books on
Lucene's Wiki.

Otis

--- Anna Bing <annabing@gmail.com> wrote:
> Firstly the Lucene in Action Book is great.  It really helped me with
> implementing search for a project.
> 
> Sorry if this is the wrong forum but as you are all search people.  I
> wondered if you could recommend any good books about search
> theory/algorithms (readable if that is possible in an algorithm
> book).
>  Is there a key text like GOF book with Design Patterns?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 13:59:09 2005
Return-Path: <java-user-return-14470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56067 invoked from network); 12 May 2005 13:59:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 13:59:09 -0000
Received: (qmail 50701 invoked by uid 500); 12 May 2005 14:01:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50659 invoked by uid 500); 12 May 2005 14:01:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50576 invoked by uid 99); 12 May 2005 14:01:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from corp-206.dfki.uni-sb.de (HELO mail.dfki.de) (134.96.188.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 07:01:13 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 564F2E481A
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 15:57:06 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 46702E47D6
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 15:57:06 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <auto-000180857508@frontend1.aha.ru>
References: <auto-000180857508@frontend1.aha.ru>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <fd9de64db23d5d87ded37ecf7baf52fe@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Search Theory Book
Date: Thu, 12 May 2005 15:57:02 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How about:
	http://www.dcs.gla.ac.uk/Keith/Preface.html

quite an old one but a recognized one, I think.
Also, browse http://www.lt-world.org/ I think.

paul


Le 12 mai 05, =E0 14:04, Pasha Bizhan a =E9crit :

> Hi,
>
> Managing Gigabytes
> http://www.amazon.com/exec/obidos/tg/detail/-/1558605703/=20
> qid=3D1115898416/sr=3D8
> -1/ref=3Dpd_csp_1/104-0210366-8377506?v=3Dglance&s=3Dbooks&n=3D507846
>
> Pasha Bizhan
> http://lucenedotnet.com
>
>> -----Original Message-----
>> From: Anna Bing [mailto:annabing@gmail.com]
>> Sent: Thursday, May 12, 2005 14:36
>> To: java-user@lucene.apache.org
>> Subject: Search Theory Book
>>
>> Firstly the Lucene in Action Book is great.  It really helped me with
>> implementing search for a project.
>>
>> Sorry if this is the wrong forum but as you are all search people.  I
>> wondered if you could recommend any good books about search
>> theory/algorithms, readable if that is possible in an
>> algorithm book =3D).
>> Is there a key text like GOF book with Design Patterns for search?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 14:20:00 2005
Return-Path: <java-user-return-14471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68466 invoked from network); 12 May 2005 14:20:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 14:20:00 -0000
Received: (qmail 15428 invoked by uid 500); 12 May 2005 14:23:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15291 invoked by uid 500); 12 May 2005 14:23:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15276 invoked by uid 99); 12 May 2005 14:23:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ramya_krishnan@sifycorp.com designates 202.144.77.55 as permitted sender)
Received: from smtp.sifycorp.com (HELO sifycorp.com) (202.144.77.55)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 07:23:00 -0700
Received: (sifymail 2347 invoked from 10.1.8.85 by host sifycorpmail by uid 508); 12 May 2005 19:48:53 +0530
Received: from 10.1.8.85 (HELO sifycorp.com) (10.1.8.85)
  by 10.1.8.85 with SMTP; 12 May 2005 19:48:53 +0530
Received: (sifymail 2334 invoked from 210.210.123.108 by host sifycorpmail by uid 508); 12 May 2005 19:48:52 +0530
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=corporate; d=sifycorp.com;
  b=T41L/fjUeuupeZl/HIAjzmsLo/i5Y6mviqAnagvR0+/QqQ/CsxixMQvPCboQEvm6  ;
Received: from 210.210.123.108 (HELO ?210.210.123.108?) (ramya?krishnan@sifycorp.com@210.210.123.108)by 10.1.8.85 with SMTP; 12 May 2005 19:48:52 +0530
Message-ID: <42836927.7030104@sifycorp.com>
Date: Thu, 12 May 2005 20:03:12 +0530
From: Ramya <ramya_krishnan@sifycorp.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: indexdir/segments (No such file or directory) lock file present..
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

1. I am trying to pump in large number of documents( to the tune of 
50000) ... I use muliple threads and i depend on the internal locks of 
lucene to synchronize the write access to the index.

try
            {
                index = new IndexWriter(d, new StandardAnalyzer(), false);
            }
            catch(IOException e)
            {
                index = new IndexWriter("indexdir", new 
StandardAnalyzer(), true);
            }
            index.addDocument(x.doc);
            index.close();

<then i add a docu

I have the following problem.
1. Somehow one lock file remains in the tmp directory. When this 
happens  i get the error
FileNotFoundException: /root/mails/mailindex/indexdir/segments (No such 
file or directory)
2. I thought when the index is closed the lock is released internally. 
If it had been the case y would the lock file remain in the tm dir??

2. The size of the index file is too large(Almost 50% of the original 
document). I use the standard analyzer. Will using a different analyzer 
help. What would i loose if i use a different one.



I use the version lucene-1.4.3


Any hellp would be appreciated.




-- 
Thanks and regards
Ramya Krishnan

********** DISCLAIMER **********
Information contained and transmitted by this E-MAIL is proprietary to 
Sify Limited and is intended for use only by the individual or entity to 
which it is addressed, and may contain information that is privileged, 
confidential or exempt from disclosure under applicable law. If this is a 
forwarded message, the content of this E-MAIL may not have been sent with 
the authority of the Company. If you are not the intended recipient, an 
agent of the intended recipient or a  person responsible for delivering the 
information to the named recipient,  you are notified that any use, 
distribution, transmission, printing, copying or dissemination of this 
information in any way or in any manner is strictly prohibited. If you have 
received this communication in error, please delete this mail & notify us 
immediately at admin@sifycorp.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 14:47:37 2005
Return-Path: <java-user-return-14472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80806 invoked from network); 12 May 2005 14:47:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 14:47:37 -0000
Received: (qmail 95710 invoked by uid 500); 12 May 2005 14:51:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95531 invoked by uid 500); 12 May 2005 14:51:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95511 invoked by uid 99); 12 May 2005 14:51:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com) (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 07:51:24 -0700
Received: from woodbridge [68.174.11.117] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id AE971E1900C2; Thu, 12 May 2005 10:56:23 -0400
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: indexdir/segments (No such file or directory) lock file present..
Date: Thu, 12 May 2005 10:47:18 -0400
Message-ID: <039801c55701$7f6b00f0$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <42836927.7030104@sifycorp.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ramya.  I don't have an answer to your specific lock file question, but
a couple thoughts.

You say you're using multiple threads to index 50,000 documents.  Have
you tried a single thread version first?  I'd try that, and then scale
out to multiple threads as needed.  We index over ten times that many
documents, and the entire application finishes in under an hour (this
includes loading the data from a relational database.  However this is
on a fast server, your results may vary).

Also, you're using a try/catch block to dictate programming logic, which
could be causing issues.  Instead, try something like:

boolean create = !DirectoryExists(d);
index = new IndexWriter(d, new StandardAnalyzer(), create);

The DirectoryExists() function just indicates whether your index exists
(you could also check if the segments file exists). 

Monsur




> -----Original Message-----
> From: Ramya [mailto:ramya_krishnan@sifycorp.com] 
> Sent: Thursday, May 12, 2005 10:33 AM
> To: java-user@lucene.apache.org
> Subject: indexdir/segments (No such file or directory) lock 
> file present..
> 
> 
> 1. I am trying to pump in large number of documents( to the tune of 
> 50000) ... I use muliple threads and i depend on the internal 
> locks of 
> lucene to synchronize the write access to the index.
> 
> try
>             {
>                 index = new IndexWriter(d, new 
> StandardAnalyzer(), false);
>             }
>             catch(IOException e)
>             {
>                 index = new IndexWriter("indexdir", new 
> StandardAnalyzer(), true);
>             }
>             index.addDocument(x.doc);
>             index.close();
> 
> <then i add a docu
> 
> I have the following problem.
> 1. Somehow one lock file remains in the tmp directory. When this 
> happens  i get the error
> FileNotFoundException: 
> /root/mails/mailindex/indexdir/segments (No such 
> file or directory)
> 2. I thought when the index is closed the lock is released 
> internally. 
> If it had been the case y would the lock file remain in the tm dir??
> 
> 2. The size of the index file is too large(Almost 50% of the original 
> document). I use the standard analyzer. Will using a 
> different analyzer 
> help. What would i loose if i use a different one.
> 
> 
> 
> I use the version lucene-1.4.3
> 
> 
> Any hellp would be appreciated.
> 
> 
> 
> 
> -- 
> Thanks and regards
> Ramya Krishnan
> 
> ********** DISCLAIMER **********
> Information contained and transmitted by this E-MAIL is 
> proprietary to 
> Sify Limited and is intended for use only by the individual 
> or entity to 
> which it is addressed, and may contain information that is 
> privileged, 
> confidential or exempt from disclosure under applicable law. 
> If this is a 
> forwarded message, the content of this E-MAIL may not have 
> been sent with 
> the authority of the Company. If you are not the intended 
> recipient, an 
> agent of the intended recipient or a  person responsible for 
> delivering the 
> information to the named recipient,  you are notified that any use, 
> distribution, transmission, printing, copying or 
> dissemination of this 
> information in any way or in any manner is strictly 
> prohibited. If you have 
> received this communication in error, please delete this mail 
> & notify us 
> immediately at admin@sifycorp.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 12 14:49:19 2005
Return-Path: <java-user-return-14473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81623 invoked from network); 12 May 2005 14:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2005 14:49:19 -0000
Received: (qmail 1459 invoked by uid 500); 12 May 2005 14:52:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1437 invoked by uid 500); 12 May 2005 14:52:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 51826 invoked by uid 99); 12 May 2005 14:35:57 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
X-Server-Uuid: 19D292D1-71A4-486E-A2B1-BD56777388A4
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: Lucene Search Capabilities.
Date: Thu, 12 May 2005 09:24:31 -0500
Message-ID: <ED0BEE447609A74DA6D119E82F5B8E34011CE377@USTXDFWH13.its.verizon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Search Capabilities.
Thread-Index: AcVW/lAbt6R4ruUKSWK3TBY2NKKSGQ==
From: "Goel, Nikhil" <nikhil.goel@verizon.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 12 May 2005 14:24:31.0899 (UTC)
 FILETIME=[504F66B0:01C556FE]
X-WSS-ID: 6E9DB8AA2AW941725-01-01
Content-Type: multipart/alternative;
 boundary="----_=_NextPart_001_01C556FE.501E5023"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C556FE.501E5023
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi,=20

I have two questions regarding the search capability of Lucene.=20

1) Lucene does the inverted indexing by which we mean it keeps how many
times a particular token is used. Is there a way to find out the list of
most frequently used words in the descending order.=20

For example:- Suppose I have two docs in my index. One doc has "Lucence"
6 times in it(and thats the maximum out of all). Second doc has "Lucene"
once and "index" 6 times.=20

So that means most frequently used word is "lucence" - used 7 times and
"index" is used 6 times.=20

Is there a way to find out this information?=20

2) I have a number of documents with BTN(10 digit numeric charater) in
their content. I want to do the following things:-
a) What query can I write to find the documents that have BTN included
in it. I think wildcard search will help but I am not able to find the
exact query.=20
b) More importantly, will it tell us what exact BTN is there in the
document? For example lets say I search with java* and say 2 documents
matched. One of the document has "javaspace" in it and second has
"javaworld" in it.=20
Is it possible to get these matched phrases through some API?


Thanks a lot.
Nikhil


------_=_NextPart_001_01C556FE.501E5023--


From java-user-return-14474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 01:07:00 2005
Return-Path: <java-user-return-14474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45146 invoked from network); 13 May 2005 01:07:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 01:07:00 -0000
Received: (qmail 24459 invoked by uid 500); 13 May 2005 01:11:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24431 invoked by uid 500); 13 May 2005 01:11:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24416 invoked by uid 99); 13 May 2005 01:11:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 18:11:02 -0700
Received: (qmail 12903 invoked by uid 532); 13 May 2005 01:04:07 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.2.  Clear:. 
 Processed in 0.122228 secs); 13 May 2005 01:04:07 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 13 May 2005 01:04:07 -0000
Message-ID: <4283FDA5.7070306@tropo.com>
Date: Thu, 12 May 2005 18:06:45 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search Theory Book
References: <57492cd1050512033563f271b5@mail.gmail.com>
In-Reply-To: <57492cd1050512033563f271b5@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anna Bing wrote:

> Firstly the Lucene in Action Book is great.  It really helped me with
> implementing search for a project.
> 
> Sorry if this is the wrong forum but as you are all search people.  I
> wondered if you could recommend any good books about search
> theory/algorithms, readable if that is possible in an algorithm book =).
> Is there a key text like GOF book with Design Patterns for search?

I found Managing Gigabytes (MG) excellent, and am currently reading
Foundations of Statistical Natural Language Processing which is good.
To me MG is like one of Date's good on RDBMS's - nice, thorough and 
complete, textbook style, coverage of an area in Computer Science. 
These are not fluffy Dummy books!
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 01:35:51 2005
Return-Path: <java-user-return-14475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67106 invoked from network); 13 May 2005 01:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 01:35:51 -0000
Received: (qmail 59459 invoked by uid 500); 13 May 2005 01:39:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59432 invoked by uid 500); 13 May 2005 01:39:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59416 invoked by uid 99); 13 May 2005 01:39:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth03.mail.atl.earthlink.net (HELO smtpauth03.mail.atl.earthlink.net) (209.86.89.63)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 18:39:54 -0700
Received: from [67.101.220.99] (helo=x1000.msqr.us)
	by smtpauth03.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DWP5X-00007L-NW
	for java-user@lucene.apache.org; Thu, 12 May 2005 21:35:39 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j4D1ZbJh008521
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 12 May 2005 18:35:37 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j4D1ZaNq008520;
	Thu, 12 May 2005 18:35:36 -0700
Received: from 12.35.64.42
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 12 May 2005 18:35:36 -0700 (PDT)
Message-ID: <13536.12.35.64.42.1115948136.squirrel@msqr.us>
Date: Thu, 12 May 2005 18:35:36 -0700 (PDT)
Subject: java.io.IOException: read past EOF
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4d6f25a1a53b80fa89d4cdc54d1d1a41c5350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 67.101.220.99
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I ran into the following exception during an index update process (1.4.3
on Windows)... and was wondering if any one had an idea what might cause
this. It occured after a new IndexWriter was opened, a document added, and
then IndexWriter.close() was called. This occurs after many successful
updates following the same steps. I'm curious as what might cause this so
I can fix any problems in my indexing code.

May-12 18:20:34 WARN !!! Unable to close Lucene index writer
java.io.IOException: read past EOF
 at org.apache.lucene.store.InputStream.refill(InputStream.java:154)
 at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
 at org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
 at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)
 at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)
 at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java:422)
 at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:94)
 at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
 at
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:440)
 at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:242)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 04:49:50 2005
Return-Path: <java-user-return-14476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20353 invoked from network); 13 May 2005 04:49:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 04:49:50 -0000
Received: (qmail 30945 invoked by uid 500); 13 May 2005 04:53:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30920 invoked by uid 500); 13 May 2005 04:53:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30906 invoked by uid 99); 13 May 2005 04:53:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ramya_krishnan@sifycorp.com designates 202.144.77.55 as permitted sender)
Received: from smtp.sifycorp.com (HELO sifycorp.com) (202.144.77.55)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 12 May 2005 21:53:53 -0700
Received: (sifymail 31047 invoked from 10.1.8.85 by host sifycorpmail by uid 508); 13 May 2005 10:19:34 +0530
Received: from 10.1.8.85 (HELO sifycorp.com) (10.1.8.85)
  by 10.1.8.85 with SMTP; 13 May 2005 10:19:34 +0530
Received: (sifymail 31032 invoked from 210.210.123.108 by host sifycorpmail by uid 508); 13 May 2005 10:19:33 +0530
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=corporate; d=sifycorp.com;
  b=DakIo4glJJtFRDMp+vMO1/aiisJa1XxV+NfbqdqOBwdVJQuMY657S5up95EKFXn7  ;
Received: from 210.210.123.108 (HELO ?210.210.123.108?) (ramya?krishnan@sifycorp.com@210.210.123.108)by 10.1.8.85 with SMTP; 13 May 2005 10:19:33 +0530
Message-ID: <42843537.4090403@sifycorp.com>
Date: Fri, 13 May 2005 10:33:51 +0530
From: Ramya <ramya_krishnan@sifycorp.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: indexdir/segments (No such file or directory) lock file present..
References: <039801c55701$7f6b00f0$0200a8c0@woodbridge>
In-Reply-To: <039801c55701$7f6b00f0$0200a8c0@woodbridge>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have chenged my logic as suggested..
boolean create = !(new File("indexdir/segments").exists());
System.out.println("Number of objects writing to index=" + count);
index = new IndexWriter(d, new StandardAnalyzer(), create);

But still one problem persists..When i do a huge number of documents, 
the files except the segment files get removed..
and the segment file is just 8K

1. How does the locking work.. When another process/thread is writing 
the index, will the current process block or exit with an exception. 
This information is crucial because there might be number of users 
updating the same index.
2. Wat would happen when a document has variable number of fields each 
time i update the index
Example
First doc

Heading                    Part1
Heading                    Part1               Part2
Heading                    Part1               Part2             Part3


Could this be the reason why i loose my index data when i try to update 
it???


-- 
Thanks and regards
Ramya Krishnan

********** DISCLAIMER **********
Information contained and transmitted by this E-MAIL is proprietary to 
Sify Limited and is intended for use only by the individual or entity to 
which it is addressed, and may contain information that is privileged, 
confidential or exempt from disclosure under applicable law. If this is a 
forwarded message, the content of this E-MAIL may not have been sent with 
the authority of the Company. If you are not the intended recipient, an 
agent of the intended recipient or a  person responsible for delivering the 
information to the named recipient,  you are notified that any use, 
distribution, transmission, printing, copying or dissemination of this 
information in any way or in any manner is strictly prohibited. If you have 
received this communication in error, please delete this mail & notify us 
immediately at admin@sifycorp.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 07:05:51 2005
Return-Path: <java-user-return-14477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54982 invoked from network); 13 May 2005 07:05:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 07:05:51 -0000
Received: (qmail 50344 invoked by uid 500); 13 May 2005 07:09:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50316 invoked by uid 500); 13 May 2005 07:09:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50300 invoked by uid 99); 13 May 2005 07:09:49 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=INVALID_DATE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpq1.home.nl (HELO smtpq1.home.nl) (213.51.128.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 00:09:49 -0700
Received: from [213.51.128.135] (port=46309 helo=smtp4.home.nl)
	by smtpq1.home.nl with esmtp (Exim 4.30)
	id 1DWUEm-0004Wk-PW
	for java-user@lucene.apache.org; Fri, 13 May 2005 09:05:32 +0200
Received: from [10.100.3.14] (port=48232 helo=mail.home.nl)
	by smtp4.home.nl with smtp (Exim 4.30)
	id 1DWUEl-0004Eh-Lz
	for java-user@lucene.apache.org; Fri, 13 May 2005 09:05:31 +0200
X-Mailer: Openwave WebEngine, version 2.8.12 (webedge20-101-197-20030912)
X-Originating-IP: [213.136.0.71]
From: Marco Dissel <mdissel@home.nl>
To: <java-user@lucene.apache.org>
Subject: finding potential duplicate documents
Date: Fri, 13 May 2005 9:05:03 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-AtHome-MailScanner-Information: Neem contact op met support@home.nl voor meer informatie
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello

I've got many documents that are potentially duplicate (merging several external systems). Any tips how to find documents that are potentially duplicate (using a variable ranking like >0.5 match).. 

I can use the similarity (MoreLikeThis) method from Sandbox, but that's always comparing one document with the index. Is there a way to give back all the potential duplicate documents in the index without interating every document in the index and compare it with the other documents in the index.

Thanks
Marco


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 09:47:37 2005
Return-Path: <java-user-return-14478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32445 invoked from network); 13 May 2005 09:47:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 09:47:37 -0000
Received: (qmail 15049 invoked by uid 500); 13 May 2005 09:51:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15015 invoked by uid 500); 13 May 2005 09:51:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14998 invoked by uid 99); 13 May 2005 09:51:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 02:51:32 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 22F2E13E211D; Fri, 13 May 2005 05:47:11 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 324AE13E210E
	for <java-user@lucene.apache.org>; Fri, 13 May 2005 05:46:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <ED0BEE447609A74DA6D119E82F5B8E34011CE377@USTXDFWH13.its.verizon.com>
References: <ED0BEE447609A74DA6D119E82F5B8E34011CE377@USTXDFWH13.its.verizon.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3536E4F4-B5B3-4B3A-884A-A299372C7CA9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Search Capabilities.
Date: Fri, 13 May 2005 05:46:45 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 12, 2005, at 10:24 AM, Goel, Nikhil wrote:
> 1) Lucene does the inverted indexing by which we mean it keeps how  
> many
> times a particular token is used. Is there a way to find out the  
> list of
> most frequently used words in the descending order.

Have a look at Luke's code to see how it does this - it has a view of  
the most frequent terms.  http://www.getopt.org/luke/

> 2) I have a number of documents with BTN(10 digit numeric charater) in
> their content. I want to do the following things:-
> a) What query can I write to find the documents that have BTN included
> in it. I think wildcard search will help but I am not able to find the
> exact query.
> b) More importantly, will it tell us what exact BTN is there in the
> document? For example lets say I search with java* and say 2 documents
> matched. One of the document has "javaspace" in it and second has
> "javaworld" in it.
> Is it possible to get these matched phrases through some API?

One option to consider is extracting these BTN values from the  
original documents and indexing them into a separate field.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 11:11:39 2005
Return-Path: <java-user-return-14479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60421 invoked from network); 13 May 2005 11:11:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 11:11:39 -0000
Received: (qmail 21490 invoked by uid 500); 13 May 2005 11:15:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21458 invoked by uid 500); 13 May 2005 11:15:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21441 invoked by uid 99); 13 May 2005 11:15:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop04.mail.atl.earthlink.net (HELO pop04.mail.atl.earthlink.net) (207.69.200.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 04:15:45 -0700
Received: from wamui05.slb.atl.earthlink.net ([192.168.167.43])
	by pop04.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DWY4k-0000pN-00
	for java-user@lucene.apache.org; Fri, 13 May 2005 07:11:26 -0400
Message-ID: <1485324.1115982686353.JavaMail.root@wamui05.slb.atl.earthlink.net>
Date: Fri, 13 May 2005 06:11:26 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: No HighLights for Phrase Query
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  When I do a Phrase Query I do not get any highlights.  Here is my call

highlighter = new Highlighter(new QuerySocorer(query.rewrite(indexReader)))

highlighter.getBestFragments(tokenStream, body, numPreviews, ELIPSE);

I tried it with out the rewite but that didn't help.

Thanks,

Andrew

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 12:11:23 2005
Return-Path: <java-user-return-14480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82018 invoked from network); 13 May 2005 12:11:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 12:11:23 -0000
Received: (qmail 27992 invoked by uid 500); 13 May 2005 12:15:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27956 invoked by uid 500); 13 May 2005 12:15:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27935 invoked by uid 99); 13 May 2005 12:15:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26010.mail.ukl.yahoo.com (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 13 May 2005 05:15:30 -0700
Received: (qmail 54094 invoked by uid 60001); 13 May 2005 12:11:06 -0000
Message-ID: <20050513121106.54092.qmail@web26010.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Fri, 13 May 2005 13:11:06 BST
Date: Fri, 13 May 2005 13:11:06 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: No HighLights for Phrase Query
To: java-user@lucene.apache.org, Andrew Boyd <Andrew.Boyd@bbtech.net>
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you sure that
1) Your tokenStream emits terms identical to those
produced by the query - a difference in choice of
analyzer will emit tokens which dont correspond for
the same text eg "dog"!="Dog"
2) Your "body" string represents the same text of the
field in the exact document which matched.

I'm not sure where you're getting "body" or
"tokenStream" from but as long as the above 2
conditions are true all should be well.

Cheers
Mark

Send instant messages to your online friends http://uk.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 17:22:02 2005
Return-Path: <java-user-return-14481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21273 invoked from network); 13 May 2005 17:22:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 17:22:02 -0000
Received: (qmail 7968 invoked by uid 500); 13 May 2005 17:26:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7885 invoked by uid 500); 13 May 2005 17:26:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7861 invoked by uid 99); 13 May 2005 17:26:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 10:26:10 -0700
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j4DHLZve010618
	for <java-user@lucene.apache.org>; Fri, 13 May 2005 13:21:36 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Search Theory Book
References: <57492cd1050512033563f271b5@mail.gmail.com>
	<4283403B.9070007@littlebunch.com>
Date: Fri, 13 May 2005 13:21:35 -0400
In-Reply-To: <4283403B.9070007@littlebunch.com> (Gary Moore's message of "Thu,
	12 May 2005 07:38:35 -0400")
Message-ID: <9cfbr7fqbxc.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gary Moore <gary@littlebunch.com> writes:

> Salton, Gerald and McGill, Michael J. /Introduction to Modern 
> Information Retrieval/. McGraw-Hill, 1983.  

Not only hard to get ahold of these days, but really really really out
of date.  This book should be of historical interest only.

Frakes and Baeza-Yates book "Modern Information Retrieval" isn't bad,
but is a bit sparse on particular algorithms.  It has nice references,
so you'll know where to go for details.

Managing Gigabytes is also a bit outdated, but has wonderful
implementation details.  No theory whatsoever, except regarding
compression.

Grossman and Frieder's book, "Information Retrieval, Algorithms and
Heuristics", is out in a second (and much cheaper, too!) edition,
probably the most up-to-date textbook.

The proceedings of ACM SIGIR is where the most cutting-edge stuff in
text retrieval is done.  Available online via ACM's digital library if
you're an ACM member.

The TREC proceedings are free online at http://trec.nist.gov/.  Some
classic theory papers that appeared in SIGIR have the implementation
details in the TREC paper (for example, Robertson's OKAPI paper in
TREC-3).  For straight "Lucene-style" text search, look for the ad
hoc, robust, web, and genomics tracks.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 18:48:20 2005
Return-Path: <java-user-return-14482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51936 invoked from network); 13 May 2005 18:48:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 18:48:20 -0000
Received: (qmail 94456 invoked by uid 500); 13 May 2005 18:52:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94421 invoked by uid 500); 13 May 2005 18:52:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94406 invoked by uid 99); 13 May 2005 18:52:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com) (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 11:52:30 -0700
Received: from chicago [64.7.7.99] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id A8861DF9012A; Fri, 13 May 2005 14:57:10 -0400
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: Search Theory Book
Date: Fri, 13 May 2005 14:48:00 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <9cfbr7fqbxc.fsf@rogue.ncsl.nist.gov>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVX4YrtlKhxSMMWQzG1vhrB+QkOtwACicIg
Message-Id: <200505131457671.SM01836@chicago>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 

> -----Original Message-----
> From: Ian Soboroff [mailto:ian.soboroff@nist.gov] 
>
> Grossman and Frieder's book, "Information Retrieval, Algorithms and
> Heuristics", is out in a second (and much cheaper, too!) edition,
> probably the most up-to-date textbook.


Much along the same lines, I'm curious if "Information Retrieval: Data
Structures and Algorithms" (by William B. Frakes, Ricardo Baeza-Yates) is a
good resource?  Its referenced a lot in "Modern Information Retrieval", but
I imagine because its written by the same guys.

Monsur



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 21:04:35 2005
Return-Path: <java-user-return-14483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7750 invoked from network); 13 May 2005 21:04:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 21:04:35 -0000
Received: (qmail 12253 invoked by uid 500); 13 May 2005 21:08:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12226 invoked by uid 500); 13 May 2005 21:08:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12209 invoked by uid 99); 13 May 2005 21:08:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail5.stellent.com (HELO mspmail5.intranetsolutions.com) (12.40.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 14:08:51 -0700
Received: from [10.10.20.20] ([10.10.20.20]) by mspmail5.intranetsolutions.com with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 13 May 2005 16:04:24 -0500
Subject: Re: Best Practices for Distributing Lucene Indexing and Searching
From: Luke Francl <luke.francl@stellent.com>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0503011658100.25803@hal.rescomp.berkeley.edu>
References: <1109713160.18862.109.camel@localhost>
	 <Pine.LNX.4.58.0503011658100.25803@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Message-Id: <1116018255.4465.21.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Fri, 13 May 2005 16:04:15 -0500
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 13 May 2005 21:04:24.0165 (UTC) FILETIME=[573A6950:01C557FF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2005-03-01 at 19:23, Chris Hostetter wrote:

> I don't really consider reading/writing to an NFS mounted FSDirectory to
> be viable for the very reasons you listed; but I haven't really found any
> evidence of problems if you take they approach that a single "writer"
> node indexes to local disk, which is NFS mounted by all of your other
> nodes for doing queries.  concurent updates/queries may still not be safe
> (i'm not sure) but you could have the writer node "clone" the entire index
> into a new directory, apply the updates and then signal the other nodes to
> stop using the old FSDirectory and start using the new one.

Thanks to everyone who contributed advice to my question about how to
distribute a Lucene index across a cluster.

I'm about to start on the implementation and I wanted to clarify
something about using NFS that Chris wrote about above.

There are many warnings about indexing on an NFS file system, but is it
safe to have a single node index, while the other nodes use the file
system in read-only mode? 

On a related note, our software is cross-platform and needs to work on
Windows as well. Are there any problems known problems having a
read-only index shared over SMB?

Using a shared file system is preferable to me because it's easier, but
if it's necessary I will write the code to copy the index to each node.

Thanks,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 22:31:10 2005
Return-Path: <java-user-return-14484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33707 invoked from network); 13 May 2005 22:31:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 22:31:09 -0000
Received: (qmail 16789 invoked by uid 500); 13 May 2005 22:35:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16754 invoked by uid 500); 13 May 2005 22:35:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16741 invoked by uid 99); 13 May 2005 22:35:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of richard.krenek@gmail.com designates 64.233.184.194 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 13 May 2005 15:35:29 -0700
Received: by wproxy.gmail.com with SMTP id 50so1198942wri
        for <java-user@lucene.apache.org>; Fri, 13 May 2005 15:31:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=l5TaGKWGg/Pq0B22q1+pydABKC+okm9Is+oKoPkAfDULUIM6V9Gjaz6T9fQu9gz6i5Bxfo2t3DorTRPX4I8oWUyKks3jFgnEHNJTwbyK47/SF7k7A6tgU/MR+PAIo/ZMS+iQU/Bz99tzzQDyNBEhI8HHD19FzTU1XaulGj5up2s=
Received: by 10.54.24.48 with SMTP id 48mr2063384wrx;
        Fri, 13 May 2005 15:31:02 -0700 (PDT)
Received: by 10.54.72.5 with HTTP; Fri, 13 May 2005 15:31:02 -0700 (PDT)
Message-ID: <4ef6647e05051315312f536ce0@mail.gmail.com>
Date: Fri, 13 May 2005 16:31:02 -0600
From: Richard Krenek <richard.krenek@gmail.com>
Reply-To: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Index Sizes
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hypothetically I have 100 million records. Each record has 100+
fields. Only 20 of those fields need to be searched on, the rest
(including the 20) are just for display purposes.
Would it be best to just add the 20 fields to the index and keep the
rest in a relational database? What affect does all that fluff data
have on the index size and search speeds? Does it matter that some of
the fluff data is repeated a lot. (certain fields might just contain
state a person lives, the color of their hair, number of fingers,
etc).
Our indexes are going to be very big, 100 million+ is not an
exageration. Will Lucene handle this ok? I have created indexes in the
8-30 million range, but never this big in the number of documents and
also the number of fields.

Thanks for any info you can provide.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 13 23:37:57 2005
Return-Path: <java-user-return-14485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46672 invoked from network); 13 May 2005 23:37:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2005 23:37:57 -0000
Received: (qmail 95775 invoked by uid 500); 13 May 2005 23:42:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95713 invoked by uid 500); 13 May 2005 23:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 56478 invoked by uid 99); 13 May 2005 23:03:47 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of vgtaluskie@gmail.com designates 64.233.170.198 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Y6Nz9V487DE53+FdEQNW1x3UcLRNtutbpXPEOXSv4itVu6pjcPJk2cjlKSOpvLBTF1B/woIvBHqUafNQ9f3H1d4ECLG/Gr7HiEbAVZh+ug5fpaiOrBuPAKMyFksRjV4nAiUH75By/pV1pfOdb/Pjh2qQlwhhmTTN/pxtpX9Bqxw=
Message-ID: <2822350c05051315591c4cefaf@mail.gmail.com>
Date: Fri, 13 May 2005 16:59:20 -0600
From: Vince Taluskie <vgtaluskie@gmail.com>
Reply-To: vince@taluskie.com
To: java-user@lucene.apache.org, Richard Krenek <richard.krenek@gmail.com>
Subject: Re: Index Sizes
In-Reply-To: <4ef6647e05051315312f536ce0@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2029_19998954.1116025160570"
References: <4ef6647e05051315312f536ce0@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2029_19998954.1116025160570
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Yes, you'll be fine with 100 million, I've got a couple of non-performance=
=20
sensitive indexes that are more than double that (280M) with about 20=20
seachable fields as well. We get results back in the 10-20 second range=20
which is fine for our end users.

Vince

On 5/13/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>=20
> Hypothetically I have 100 million records. Each record has 100+
> fields. Only 20 of those fields need to be searched on, the rest
> (including the 20) are just for display purposes.
> Would it be best to just add the 20 fields to the index and keep the
> rest in a relational database? What affect does all that fluff data
> have on the index size and search speeds? Does it matter that some of
> the fluff data is repeated a lot. (certain fields might just contain
> state a person lives, the color of their hair, number of fingers,
> etc).
> Our indexes are going to be very big, 100 million+ is not an
> exageration. Will Lucene handle this ok? I have created indexes in the
> 8-30 million range, but never this big in the number of documents and
> also the number of fields.
>=20
> Thanks for any info you can provide.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20

@work @home

vince.taluskie (at) cexp.com <http://cexp.com> vince (at)
taluskie.com<http://taluskie.com>
Corporate Express; Technical Architect Louisville, CO
Phone: 303 664 2660 http://www.taluskie.com

------=_Part_2029_19998954.1116025160570--

From java-user-return-14486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 14 20:18:06 2005
Return-Path: <java-user-return-14486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36383 invoked from network); 14 May 2005 20:18:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2005 20:18:06 -0000
Received: (qmail 95506 invoked by uid 500); 14 May 2005 20:22:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95468 invoked by uid 500); 14 May 2005 20:22:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95453 invoked by uid 99); 14 May 2005 20:22:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of nikhil.goel@gmail.com designates 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 14 May 2005 13:22:29 -0700
Received: by wproxy.gmail.com with SMTP id 50so1458610wri
        for <java-user@lucene.apache.org>; Sat, 14 May 2005 13:17:59 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=DCC4NA7eQamJjaBIReHBUAX451Ad6BUwG2MKq3lgZPkMuFFYwYXUJpbJPHiRMXNG1+bYhJoEkz2gETqRUJwgwkDMHEjmClY82KY+xa2ka4u+Siu/bTRotCaxgN7EDeqp/cMoMVWNIuP8nmqH+mEkjPBg4MWDoXF8L0QFAtxUSYQ=
Received: by 10.54.24.46 with SMTP id 46mr2615946wrx;
        Sat, 14 May 2005 13:17:59 -0700 (PDT)
Received: by 10.54.10.45 with HTTP; Sat, 14 May 2005 13:17:59 -0700 (PDT)
Message-ID: <7f0c299305051413171bc4ae49@mail.gmail.com>
Date: Sat, 14 May 2005 15:17:59 -0500
From: Nikhil Goel <nikhil.goel@gmail.com>
Reply-To: Nikhil Goel <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: TermQuery And PhraseQuery Case Sensitive Values
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=20
  =20
While indexing my documents I add a Keyword "initiatorFN" to each
document. I have a search page which uses QueryParser, so when I try
to give some query such as initiatorFN:Nikhil, and i see what query is
being passed it seems the value is changed to lowercase(i.e.
querystring becomes initiatorFN:nikhill) and hence i dont get any
result back whereas if I use TokenQuery it works well(i.e queryString
remainsinitiatorFN:Nikhil) .

This is the code I am using for search:-

IndexSearcher searcher =3D new IndexSearcher("directory");
Analyzer analyzer =3D new StandardAnalyzer();
Query query =3D QueryParser.parse(queryString, "contents", analyzer);
Hits hits =3D searcher.search(query);
System.out.println("Query::-" + query.toString());


I want to handle everything generically and hence I am using
QueryParser. Can someone please tell me how to disable this behavior
of QueryParser so that it doesnt make the value lowercase.

thanks.
Nikhil

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 16 01:35:34 2005
Return-Path: <java-user-return-14487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87157 invoked from network); 16 May 2005 01:35:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2005 01:35:33 -0000
Received: (qmail 15748 invoked by uid 500); 16 May 2005 01:40:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15610 invoked by uid 500); 16 May 2005 01:40:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15540 invoked by uid 99); 16 May 2005 01:40:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@hotmail.com designates 64.4.54.119 as permitted sender)
Received: from bay20-f30.bay20.hotmail.com (HELO hotmail.com) (64.4.54.119)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 15 May 2005 18:40:02 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 15 May 2005 18:35:08 -0700
Message-ID: <BAY20-F3092F6741873704C2A79BDCA150@phx.gbl>
Received: from 211.144.105.3 by by20fd.bay20.hotmail.msn.com with HTTP;
	Mon, 16 May 2005 01:35:08 GMT
X-Originating-IP: [211.144.105.3]
X-Originating-Email: [louluqun@hotmail.com]
X-Sender: louluqun@hotmail.com
In-Reply-To: <20050511194412.50177.qmail@web31109.mail.mud.yahoo.com>
From: "luqun lou" <louluqun@hotmail.com>
To: java-user@lucene.apache.org
Bcc: 
Subject: Re: MultiFieldQueryParser Problems about how to give the fields weight
Date: Mon, 16 May 2005 01:35:08 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 16 May 2005 01:35:08.0711 (UTC) FILETIME=[7E8EEB70:01C559B7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How to boost it at indexing time?

>From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: MultiFieldQueryParser Problems about how to give the fields 
>weight
>Date: Wed, 11 May 2005 12:44:12 -0700 (PDT)
>
>If you think content field is more important, you could boost it at
>indexing time.  If you want to boost at search time, and you are using
>QueryParser, you could just use the term^float syntax.  I think what
>you have down there is ok, too, but I suppose you'd need an if/else so
>you boost only the content field.
>
>Otis
>
>--- luqun lou <louluqun@hotmail.com> wrote:
> >     Now Suppose,There are two fields,"content","summary",but i think
> > the
> > query in content field may have highter weight than the summary
> > field. how
> > can i do it?
> >    I overload the parse function,and add weights which store every
> > fields
> > weights.
> >     public static Query parse(String query,String[] fields,float []
> > weights,Analyzer analyzer)
> >     throws ParseException
> > 	{
> >     	BooleanQuery bQuery  = new BooleanQuery();
> >     	for(int i=0;i<fields.length;i++){
> >     		Query q = parse(query,fields[i],analyzer);
> >     		q.setBoost(weights[i]);
> >     		bQuery.add(q,false,false);
> >     	}
> >     	return bQuery;
> >     }
> > is it right?
> >
> > _________________________________________________________________
> > FREE pop-up blocking with the new MSN Toolbar - get it now!
> > http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar - get it now! 
http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 16 01:40:18 2005
Return-Path: <java-user-return-14488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90153 invoked from network); 16 May 2005 01:40:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2005 01:40:18 -0000
Received: (qmail 29663 invoked by uid 500); 16 May 2005 01:44:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29522 invoked by uid 500); 16 May 2005 01:44:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29508 invoked by uid 99); 16 May 2005 01:44:39 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DEAR_SOMETHING,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@hotmail.com designates 64.4.54.91 as permitted sender)
Received: from bay20-f2.bay20.hotmail.com (HELO hotmail.com) (64.4.54.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 15 May 2005 18:44:39 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 15 May 2005 18:39:48 -0700
Message-ID: <BAY20-F21AE200A74CB4E8E92A22CA150@phx.gbl>
Received: from 211.144.105.3 by by20fd.bay20.hotmail.msn.com with HTTP;
	Mon, 16 May 2005 01:39:47 GMT
X-Originating-IP: [211.144.105.3]
X-Originating-Email: [louluqun@hotmail.com]
X-Sender: louluqun@hotmail.com
From: "luqun lou" <louluqun@hotmail.com>
To: java-user@lucene.apache.org
Bcc: 
Subject: how to change lucene sort algorithm?
Date: Mon, 16 May 2005 01:39:47 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 16 May 2005 01:39:48.0190 (UTC) FILETIME=[252407E0:01C559B8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Sir/Madam:
       According to the source code of Lucene,I think it just use the simply 
tf*idf algorithm.But i want to use complicate algorithm,such as 
BM25,BM2500,how can i do it?

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar - get it now! 
http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 16 15:23:11 2005
Return-Path: <java-user-return-14489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5538 invoked from network); 16 May 2005 15:23:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2005 15:23:10 -0000
Received: (qmail 33642 invoked by uid 500); 16 May 2005 13:35:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33475 invoked by uid 500); 16 May 2005 13:35:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33348 invoked by uid 99); 16 May 2005 13:35:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO anjalrelay) (194.170.154.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 16 May 2005 06:35:48 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051617253058-28918 ;
          Mon, 16 May 2005 17:25:30 +0400 
Received: from jayakumar ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051617152145-9038 ;
          Mon, 16 May 2005 17:15:21 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Cc: <chuck@allthingslocal.com>
Subject: RE: lucene indexing performance
Date: Mon, 16 May 2005 17:17:42 +0400
Organization: UAE Xchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcVIUDX4gIArJ/aUSAWpYJXfsT5WAwRyEUtw
In-Reply-To: <426AC501.2070606@allthingslocal.com>
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/16/2005 05:15:21 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/16/2005 05:15:23 PM,
	Serialize complete at 05/16/2005 05:15:23 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/16/2005 05:25:30 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/16/2005 05:41:03 PM,
	Serialize complete at 05/16/2005 05:41:03 PM
Message-ID: <OFC5828E45.7096B39F-ON44257003.0048D134@xpressmoney.com>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chuck,
Sorry for the delayed response & thanks for the input. As suggested, I've
batched my addition / deletion process & there is a reasonably better
performance gain. 

Jayakumar.V

-----Original Message-----
From: Chuck Williams [mailto:chuck@allthingslocal.com] 
Sent: Sunday, April 24, 2005 1:58 AM
To: java-user@lucene.apache.org
Subject: Re: lucene indexing performance

One immediate optimization would be to only close the writer and open 
the reader if the document is present.  You can have a reader open and 
do searches while indexing (and optimization) are underway.  It's just 
the delete operation that requires you to close the writer (so you don't 
have two different objects trying the update the same index).

However, that is rendered moot by the much bigger optimization.  Open 
the reader once, do all your deletes, close the reader, and then do all 
your adds.  I.e., batch your updates as much as possible.

If you have to them one at a time, then the first optimization should 
help some.

Chuck

Jayakumar.V wrote:

>Hi,
>
>Maybe this query has been answered before. My first email to this user
group
>did not generate any response. I had forwarded it to the following email
ids
>:  
>
>java-user-info@lucene.apache.org
>
>java-user@lucene.apache.org
>
> 
>
>This is my second email to this mail id. Hope I've reached the right place.
>
> 
>
>We are indexing documents on a scheduled basis. A document which was
indexed
>at time T1 will be available again for indexing at time T2 with certain
>additional fields. Now, I need to ensure that only the document received at
>time T2 is present in the index, for which I need to first identify if the
>record is present in the index & then delete it before indexing the same.
>I've taken the cue from a code snippet available in the TSS case study in
>the book Lucene In Action. 
>
> 
>
>The steps I've followed is as below :
>
>-          prepare the Document for indexing
>
>-          close the existing  IndexWriter instance
>
>-          get an IndexReader instance to the index
>
>-          check if the record going to be indexed is already available in
>the index 
>
>-          if YES, delete it & close the IndexReader instance
>
>-          open the IndexWriter instance again
>
>-          add the Document to the index
>
> 
>
>Now, this is an iterative process for each record being indexed. Is it the
>right way to go about doing this? It took nearly 3 hours to index 250,000
>records.
>
> 
>
>I'm attaching the code snippet used in my app. for deleting & adding the
>record :
>
> 
>
>    private void addIndex(Document doc, Map dataMap) {
>
>        IndexReader indexReader = null;
>
>        
>
>        // check if the doc. is already indexed.
>
>        // if YES, first remove it b4 adding the document
>
>        try {
>
>            // first, close the undelying IndexWriter instance
>
>            // v can't have 2 index modifying instances open at the same
>time
>
>            closeWriterIndex();
>
>            
>
>            // get an IndexReader instance
>
>            indexReader = IndexReader.open(fsDir);
>
>            // get a Term obj. for deletion
>
>            Term term = new Term("xpin",(String)dataMap.get("xpin"));
>
>            // now, remove the already added doc.
>
>            indexReader.delete(term);
>
>      } catch (IOException e) {
>
>            e.printStackTrace();
>
>      } finally {
>
>          try {
>
>              // close the reader instance after deleting the doc.
>
>              indexReader.close();
>
>          } catch (IOException e) {
>
>            e.printStackTrace();
>
>          }
>
>      }
>
>         
>
>      try {
>
>            // now, reopen the index writer object
>
>            openWriterIndex();
>
> 
>
>            // index the document
>
>            fsWriter.addDocument(doc);
>
>        } catch (IOException e) {
>
>            e.printStackTrace();
>
>        }
>
>    }
>
> 
>
>    private void closeWriterIndex() {
>
>      try {
>
>            fsWriter.close();
>
>      } catch (IOException e) {
>
>            e.printStackTrace();
>
>      }
>
>    }
>
> 
>
>    private void openWriterIndex() {
>
>      try {
>
>            fsWriter = new IndexWriter(fsDir, new StandardAnalyzer(),
>false);
>
>            fsWriter.mergeFactor = 100;
>
>      } catch (IOException e) {
>
>            e.printStackTrace();
>
>      }  
>
>    }
>
> 
>
>I'm at the final stages of deploying this module. Any suggestions / ideas
>will be helpful in completing it fast. 
>
> 
>
> 
>
>TIA 
>
>Jayakumar.V
>
> 
>
>
>  
>


-- 
*Chuck Williams*
All Things Local
Founder and CEO
V: (415)464-1889
C: (415)846-9018
chuck@AllThingsLocal.com <mailto:chuck@AllThingsLocal.com>
AIM: hawimanawiz

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 16 20:05:31 2005
Return-Path: <java-user-return-14490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5492 invoked from network); 16 May 2005 20:05:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2005 20:05:31 -0000
Received: (qmail 7634 invoked by uid 500); 16 May 2005 15:59:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7533 invoked by uid 500); 16 May 2005 15:59:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7488 invoked by uid 99); 16 May 2005 15:59:32 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of richard.krenek@gmail.com designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 16 May 2005 08:59:30 -0700
Received: by wproxy.gmail.com with SMTP id 50so2013057wri
        for <java-user@lucene.apache.org>; Mon, 16 May 2005 08:59:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=iwcTCJpFyI9w2afy7nC6h12X1sleoptNMWWEVI/jxACL88eyn3+Xe2tanotrsUskg+kFfu46J2LVEqfipv6gWJ8gnX17n5520qCThHBIyZK/hbV1T4C3RnO8z0ZeWw3B0eAeNm1NM+GmJKBV1NQTR7EM9cQPG/gNurDJBubNT7U=
Received: by 10.54.23.51 with SMTP id 51mr3760133wrw;
        Mon, 16 May 2005 08:59:13 -0700 (PDT)
Received: by 10.54.72.5 with HTTP; Mon, 16 May 2005 08:59:13 -0700 (PDT)
Message-ID: <4ef6647e050516085960eb366c@mail.gmail.com>
Date: Mon, 16 May 2005 09:59:13 -0600
From: Richard Krenek <richard.krenek@gmail.com>
Reply-To: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Index Sizes
Cc: vince@taluskie.com
In-Reply-To: <2822350c05051315591c4cefaf@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4ef6647e05051315312f536ce0@mail.gmail.com>
	 <2822350c05051315591c4cefaf@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Unfortunately our indexes will be performance sensitive. Is Lucene
still a good choice?  What kind of hardware are you using?

Also what are the performance implications for having the additional
80 records in the index for just display purposes?

Thanks,
Richard Krenek



On 5/13/05, Vince Taluskie <vgtaluskie@gmail.com> wrote:
> Yes, you'll be fine with 100 million, I've got a couple of non-performanc=
e
> sensitive indexes that are more than double that (280M) with about 20
> seachable fields as well.  We get results back in the 10-20 second range
> which is fine for our end users.
> =20
>  Vince
>=20
>=20
> On 5/13/05, Richard Krenek <richard.krenek@gmail.com> wrote:
> >=20
> > Hypothetically I have 100 million records. Each record has 100+
> > fields. Only 20 of those fields need to be searched on, the rest
> > (including the 20) are just for display purposes.
> > Would it be best to just add the 20 fields to the index and keep the=20
> > rest in a relational database? What affect does all that fluff data
> > have on the index size and search speeds? Does it matter that some of
> > the fluff data is repeated a lot. (certain fields might just contain
> > state a person lives, the color of their hair, number of fingers,=20
> > etc).
> > Our indexes are going to be very big, 100 million+ is not an
> > exageration. Will Lucene handle this ok? I have created indexes in the
> > 8-30 million range, but never this big in the number of documents and
> > also the number of fields.
> >=20
> > Thanks for any info you can provide.
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >=20
> >=20
>=20
>=20
>=20
> --=20
>=20
> @work                                                  =20
> @home=20
>=20
>   vince.taluskie (at) cexp.com                     vince (at) taluskie.co=
m
>   Corporate Express; Technical Architect     Louisville, CO
>   Phone:   303 664 2660                           =20
> http://www.taluskie.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 07:30:27 2005
Return-Path: <java-user-return-14491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94492 invoked from network); 17 May 2005 07:30:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 07:30:26 -0000
Received: (qmail 79141 invoked by uid 500); 16 May 2005 21:01:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79024 invoked by uid 500); 16 May 2005 21:01:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78981 invoked by uid 99); 16 May 2005 21:01:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp.battelle.org (HELO ws-bco-smtp1.IM.BATTELLE.ORG) (131.167.253.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 16 May 2005 14:01:24 -0700
Received: from [131.167.170.26] by smtp.BATTELLE.ORG (PMDF V6.2-X26 #30874)
 with ESMTP id <R4MJ08Q5K7MW4903Z4@smtp.BATTELLE.ORG> for
 java-user@lucene.apache.org; Mon,
 16 May 2005 16:47:45 -0400 (Eastern Daylight Time)
Date: Mon, 16 May 2005 16:48:22 -0400
From: Dan Funk <funkd@BATTELLE.ORG>
Subject: Re: Index Sizes
In-reply-to: <4ef6647e050516085960eb366c@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id: <42890716.6000700@battelle.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
References: <4ef6647e05051315312f536ce0@mail.gmail.com>
 <"2822350c05051315591c 4cefaf"@mail.gmail.com>
 <4ef6647e050516085960eb366c@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene is an excellent choice. 

If I were you I would not store the un-searched fields in the index.  
There's no clear benefit. Where you store the data depends on your needs 
- I use flat files for what I'm doing - as I need them just for 
display.  If you need the functionality of a relational database, then 
that's a perfectly acceptable solution as well.

I have roughly 100,000 records currently - where each "record" is a full 
text page from a book.  I use a dual processor Pentium 4.  I get large 
result sets (10,000 hits) back in under 1/10 of a second.  I've given no 
thought what-so-ever to keeping my code tight or controlled or efficient 
- and I'm still getting great results.

Richard Krenek wrote:

>Unfortunately our indexes will be performance sensitive. Is Lucene
>still a good choice?  What kind of hardware are you using?
>
>Also what are the performance implications for having the additional
>80 records in the index for just display purposes?
>
>Thanks,
>Richard Krenek
>
>
>
>On 5/13/05, Vince Taluskie <vgtaluskie@gmail.com> wrote:
>  
>
>>Yes, you'll be fine with 100 million, I've got a couple of non-performance
>>sensitive indexes that are more than double that (280M) with about 20
>>seachable fields as well.  We get results back in the 10-20 second range
>>which is fine for our end users.
>> 
>> Vince
>>
>>
>>On 5/13/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>>    
>>
>>>Hypothetically I have 100 million records. Each record has 100+
>>>fields. Only 20 of those fields need to be searched on, the rest
>>>(including the 20) are just for display purposes.
>>>Would it be best to just add the 20 fields to the index and keep the 
>>>rest in a relational database? What affect does all that fluff data
>>>have on the index size and search speeds? Does it matter that some of
>>>the fluff data is repeated a lot. (certain fields might just contain
>>>state a person lives, the color of their hair, number of fingers, 
>>>etc).
>>>Our indexes are going to be very big, 100 million+ is not an
>>>exageration. Will Lucene handle this ok? I have created indexes in the
>>>8-30 million range, but never this big in the number of documents and
>>>also the number of fields.
>>>
>>>Thanks for any info you can provide.
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail:
>>>      
>>>
>>java-user-unsubscribe@lucene.apache.org
>>    
>>
>>>For additional commands, e-mail:
>>>      
>>>
>>java-user-help@lucene.apache.org
>>    
>>
>>>      
>>>
>>
>>-- 
>>
>>@work                                                   
>>@home 
>>
>>  vince.taluskie (at) cexp.com                     vince (at) taluskie.com
>>  Corporate Express; Technical Architect     Louisville, CO
>>  Phone:   303 664 2660                            
>>http://www.taluskie.com
>>
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
Dan Funk
Software Engineer

Information Technology Solutions
Battelle Charlottesville Operations
1000 Research Park Boulevard, Suite 105
Charlottesville, Virginia 22911

434.984.0951 x244
434.984.0947 (fax)
FunkD@Battelle.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 12:01:35 2005
Return-Path: <java-user-return-14492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90998 invoked from network); 17 May 2005 12:01:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 12:01:35 -0000
Received: (qmail 82094 invoked by uid 500); 17 May 2005 03:56:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82051 invoked by uid 500); 17 May 2005 03:56:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81879 invoked by uid 99); 17 May 2005 03:55:45 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_30_40,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paladin3@club-internet.fr designates 194.158.96.107 as permitted sender)
Received: from relay-av.club-internet.fr (HELO relay-av.club-internet.fr) (194.158.96.107)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 16 May 2005 20:55:30 -0700
Received: from strongho78bbzo (l04m-14-248.d4.club-internet.fr [212.195.54.248])
	by relay-av.club-internet.fr (Postfix) with SMTP id 1836D2560A
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 05:55:23 +0200 (CEST)
Message-ID: <003a01c55a94$404b3f20$f836c3d4@strongho78bbzo>
Reply-To: "Paladin  " <paladin3@club-internet.fr>
From: "Paladin  " <paladin3@club-internet.fr>
To: <java-user@lucene.apache.org>
Subject: sort and updating indexes
Date: Tue, 17 May 2005 05:55:22 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C55AA5.03A31410"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C55AA5.03A31410
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.
i use lucene to index a base with 3 millions of articles and i have a =
problem with the sort and to update my indexes.=20
for exemple i have 4 articles :
a,b,c,d>=20
and i want to update the b and put an article =3D22e=3D22 i delete the b =
and i put in my indexes the update b and the e=20
so the order in my index is :
a,c,d,b,e.

when i search my articles i want them to be sort by their number and to =
avoid a large mount of memory i use the fonction sortfield with the type =
at 1 to have my result in the index order (document number).
Of course after an updating my index order means nothing...
=20
so this is my question : is it possible to do a sort on the index after =
an updating to have a correct order ?
=20
i hope i was clear (forgive my poor english..)

thanks in advance
------=_NextPart_000_0037_01C55AA5.03A31410--


From java-user-return-14493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 17:55:44 2005
Return-Path: <java-user-return-14493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33855 invoked from network); 17 May 2005 17:55:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 17:55:43 -0000
Received: (qmail 27217 invoked by uid 500); 17 May 2005 07:09:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27070 invoked by uid 500); 17 May 2005 07:08:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27012 invoked by uid 99); 17 May 2005 07:08:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from keys.webasto.de (HELO keys2.webasto.de) (194.59.2.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 00:08:54 -0700
Received: from sdestopgp2out.svc.de.web-int.net by keys2.webasto.de
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 17 May 2005 09:08:53 +0200
Received: from keys2.webasto.de (loopback [127.0.0.1])
	by keys.webasto.de (Postfix) with ESMTP id E504012B6D4
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 08:41:32 +0200 (CEST)
Received: from sdestoex2.svc.de.web-int.net ([192.168.205.22])
  by keys2.webasto.de (PGP Universal service);
  Tue, 17 May 2005 08:41:32 +0200
Received: from mailhub.wan.de.web-int.net by sdestoex2.svc.de.web-int.net
          via smtpd (for sdestopgp2int.svc.de.web-int.net [192.168.205.103]) with ESMTP; Tue, 17 May 2005 08:41:32 +0200
Received: from SDESTOCEX1.sto.de.web-int.net ([172.16.254.160]) by sdestoex2.de.web-int.net with Microsoft SMTPSVC(6.0.3790.0);
	 Tue, 17 May 2005 08:41:28 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching an NTFS File Server
Date: Tue, 17 May 2005 08:41:28 +0200
Message-ID: <EAF09DC4D4C9FE4C812A0633D290406301F0A00C@SDESTOCEX1.sto.de.web-int.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching an NTFS File Server
Thread-Index: AcVA0jTelrhvYlTQTT6Ks2qI1CMXiwZ1ttEg
From: "Maher Martin" <MMaher@Webasto.de>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 May 2005 06:41:29.0008 (UTC) FILETIME=[747B6B00:01C55AAB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Mark for the tip. I've tried out JCIFS and it's just what the
doctor ordered. I've used NTLM SSO to authenticate the User against the
NTFS file server and then I can filter out the search results returned
based on the user's access rights.

I've completed the authentication and authorization components and now I
have to concentrate on the Lucene side of things (indexing & searching).
I should have a better idea of the performance impact after completing
these.=20

If anyone is interested in my solution I'd be glad to share it with the
list once it's complete.


>From: mark harwood <markharw00d@yahoo.co.uk>
>Subject: Re: Searching an NTFS File Server
>Date: Wed, 13 Apr 2005 10:56:22 GMT

>I have used JCIFS before (http://jcifs.samba.org/) to handle
single-sign-on >of Windows clients to my web apps and it works very
well. There is a whole >bunch of file-access stuff in this package too
which could possibly help >with identifying who can see what.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 19:07:23 2005
Return-Path: <java-user-return-14495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57339 invoked from network); 17 May 2005 19:07:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 19:07:22 -0000
Received: (qmail 73327 invoked by uid 500); 17 May 2005 15:38:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73091 invoked by uid 500); 17 May 2005 15:38:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73001 invoked by uid 99); 17 May 2005 15:38:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 08:38:29 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j4HFcBDn025264
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 17:38:11 +0200
From: "Kai Gulzau" <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: RE: only getting Hits with score >= threshold
Date: Tue, 17 May 2005 17:39:10 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDKEGJGEAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <20050510155649.81330.qmail@web31111.mail.mud.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> 
> You could use HitCollector for this:
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/HitCollector.html
> 

After playing around i'm a bit stuck :-\

I use lucene as client server application with the help of
RemoteSearchable and MultiSearcher.


My first approach was to use a wrapper on client side for Hits which only
delivers Hits with a "good" score.

+ easy to implemt
+ works on normalized scores
- poor performance

Testquery was:
  (NAME:peter AUTHOR:peter^0.9 NAME_AUTHOR:peter^0.6 SUBTITLE:peter^0.2)
  LANG_PRIO:100^0.0010

Due to "LANG_PRIO:100^0.0010" lucene got ~200.000 Hits (~85% of the documents
have LANG_PRIO=100).


In the wrapper class i determine the real length() of Hits (without the docs
beneath myThresh with a kind of quicksort(?))

  private int getLength(int nFrom, int nTo) {
    int nHalf = (nFrom+(nTo-nFrom)/2);
    if (nFrom == nTo) return nFrom;
    if (score(nHalf)*100 < myThresh) {
      return getLength(nFrom, nHalf);
    }
    return getLength(nHalf+1, nTo);
  }


On server side this results to 2 IndexSearcher Calls:

  search(org.apache.lucene.search.BooleanQuery$BooleanWeight2@4a6cbf, null, 100)
  search: 391ms
  search(org.apache.lucene.search.BooleanQuery$BooleanWeight2@2c1e6b, null, 220420)
  search: 813ms


I think "getMoreDocs(int min)" doesn't work well with my queries, because it
prefetches to many TopDocs:

  int n = min * 2;  // double # retrieved

Additionally "getMoreDocs()" does score all docs on every call. So some work
is done which has already done in the first call.
It's a bit tricky to know how many docs are needed in advance :-\



Second try was to use a ThresholdHitCollector.

When calling

  searcher.search(query, filter, new ThresholdHitCollector(...));

i got the following exception:

java.io.NotSerializableException: org.apache.lucene.search.MultiSearcher$1
java.rmi.MarshalException: error marshalling arguments; nested exception is: 
	java.io.NotSerializableException: org.apache.lucene.search.MultiSearcher$1
	at sun.rmi.server.UnicastRef.invoke(Unknown Source)
	at org.apache.lucene.search.RemoteSearchable_Stub.search(Unknown Source)
	at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:245)
	at org.apache.lucene.search.Searcher.search(Searcher.java:110)
      ...



My current approach is to call

     searcher.search(query, filter);

on client side and subclassing IndexSearcher on server side.
The class MyIndexSearcher uses the ThresholdHitCollector:

  public TopDocs search(Weight weight, Filter filter, final int nDocs)
   throws IOException {
    // nDocs is ignored. return all TopDocs instead
    Scorer scorer = weight.scorer(getIndexReader());
    if (scorer == null) return new TopDocs(0, new ScoreDoc[0]);

    ThresholdHitCollector hc = new ThresholdHitCollector();
    hc.setScoreThreshold(0.0025f);
    hc.setFilter(filter);

    scorer.score(hc);

    return new TopDocs(hc.getTotalHits(), hc.getScoreDocs());
  }


  search(org.apache.lucene.search.BooleanQuery$BooleanWeight2@1d3c6fd, null, 50)
  search: 234ms


Unfortunately this solution has 2 disadvantages:

- threshold works on raw scores
- lucene has to be patched (access privileges, making Hits an Interface, ...)
+ but: good performance (for me)



1.)
Is it possible to get normalized scores in HitCollector?
(e.g. via custom Similarity?)

2.)
Is it a good idea to patch Lucene for subclassing?



Oh oh, i hope somebody does understand my weird mail ;)


Thanks,

	Kai Gulzau

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 19:13:57 2005
Return-Path: <java-user-return-14496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61932 invoked from network); 17 May 2005 19:13:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 19:13:57 -0000
Received: (qmail 19507 invoked by uid 500); 17 May 2005 15:55:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19476 invoked by uid 500); 17 May 2005 15:55:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19456 invoked by uid 99); 17 May 2005 15:55:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from keys.webasto.de (HELO keys1.webasto.de) (194.59.2.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 08:55:43 -0700
Received: from sdestopgp1out.svc.de.web-int.net by keys1.webasto.de
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 17 May 2005 17:55:42 +0200
Received: from keys1.webasto.de (loopback [127.0.0.1])
	by keys.webasto.de (Postfix) with ESMTP id 6618C256D8B
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 17:55:22 +0200 (CEST)
Received: from sdestoex4.svc.de.web-int.net ([192.168.205.32])
  by keys1.webasto.de (PGP Universal service);
  Tue, 17 May 2005 17:55:22 +0200
Received: from sdestoex4.sto.de.web-int.net by sdestoex4.svc.de.web-int.net
          via smtpd (for sdestopgp1int.svc.de.web-int.net [192.168.205.101]) with ESMTP; Tue, 17 May 2005 17:55:22 +0200
Received: from SDESTOCEX1.sto.de.web-int.net ([172.16.254.160]) by sdestoex4.de.web-int.net with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 17 May 2005 17:55:18 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching an NTFS File Server
Date: Tue, 17 May 2005 17:55:18 +0200
Message-ID: <EAF09DC4D4C9FE4C812A0633D290406301F9BF4C@SDESTOCEX1.sto.de.web-int.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching an NTFS File Server
Thread-Index: AcVA0jTelrhvYlTQTT6Ks2qI1CMXiwaJmFCg
From: "Maher Martin" <MMaher@Webasto.de>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 May 2005 15:55:18.0373 (UTC) FILETIME=[D2BA2150:01C55AF8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Mark for the tip. I've tried out JCIFS and it's just what the
doctor ordered. I've used NTLM SSO to authenticate the User against the
NTFS file server and then I can filter out the search results returned
based on the user's access rights.

I've completed the authentication and authorization components and now I
have to concentrate on the Lucene side of things (indexing & searching).
I should have a better idea of the performance impact after completing
these.=20

If anyone is interested in my solution I'd be glad to share it with the
list once it's complete.

>From: mark harwood <markharw00d@yahoo.co.uk>
>Subject: Re: Searching an NTFS File Server
>Date: Wed, 13 Apr 2005 10:56:22 GMT

>I have used JCIFS before (http://jcifs.samba.org/) to handle
single-sign-on >of Windows clients to my web apps and it works very
well. There is a whole >bunch of file-access stuff in this package too
which could possibly help >with identifying who can see what.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 20:15:07 2005
Return-Path: <java-user-return-14498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9043 invoked from network); 17 May 2005 20:15:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 20:15:06 -0000
Received: (qmail 55261 invoked by uid 500); 17 May 2005 17:26:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55216 invoked by uid 500); 17 May 2005 17:26:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55197 invoked by uid 99); 17 May 2005 17:26:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 10:26:27 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8F98913E2007; Tue, 17 May 2005 13:26:15 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id D1ECB13E2007
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 13:25:30 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <4f05ec8e05051702333692f9d0@mail.gmail.com>
References: <4f05ec8e05051702333692f9d0@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4BD42E90-DC3C-42A6-8123-3487C1B3E926@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: question about IndexWriter.maxFieldLength
Date: Tue, 17 May 2005 13:25:28 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 17, 2005, at 5:33 AM, Pablo Gomes Ludermir wrote:

> Dear all,
>
> I would like to know about the maxFieldLength. It says on the Javadocs
> that it limits "The maximum number of terms that will be indexed for a
> single field in a document." So, for instance, in my "contents" field,
> I would have it limited by default to 10.000 terms. But which terms
> are those? The first 10.000 to be indexed?
> Or is there any feature selection approach? Like, the most frequent
> 10.000 terms are indexed and the rest are discarded? Anyone knows
> that? If this is not the case, Is it possible to implement?

It's the first 10,000 terms.  You could implement an analyzer that  
buffered tokens and only emitted the most frequent ones as one  
possible way to pick which ones are indexed - there may be other ways  
to accomplish this by hacking Lucene itself.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 21:35:13 2005
Return-Path: <java-user-return-14494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49611 invoked from network); 17 May 2005 21:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 21:35:13 -0000
Received: (qmail 21921 invoked by uid 500); 17 May 2005 09:33:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21828 invoked by uid 500); 17 May 2005 09:33:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21641 invoked by uid 99); 17 May 2005 09:33:28 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gomesp@gmail.com designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 02:33:26 -0700
Received: by wproxy.gmail.com with SMTP id 36so2495078wra
        for <java-user@lucene.apache.org>; Tue, 17 May 2005 02:33:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=uhUv1zGH+0LhFaZbRzYL++vkSNXGAhlnVaJVLQZdxvbJweYnuhE7w1UggPD5wXpS1NnRgaLGQtgnOGbnw9e7GF8o7bQcZs9fs4A9EgvkFKgLzmd3s1odwz65b8320Vsxw3/vstq5Dok37XQNa1P2zBLAPrGapfReL7Onq16s+CE=
Received: by 10.54.21.54 with SMTP id 54mr4224313wru;
        Tue, 17 May 2005 02:33:13 -0700 (PDT)
Received: by 10.54.104.18 with HTTP; Tue, 17 May 2005 02:33:13 -0700 (PDT)
Message-ID: <4f05ec8e05051702333692f9d0@mail.gmail.com>
Date: Tue, 17 May 2005 11:33:13 +0200
From: Pablo Gomes Ludermir <gomesp@gmail.com>
Reply-To: Pablo Gomes Ludermir <gomesp@gmail.com>
To: Lucene user list <java-user@lucene.apache.org>
Subject: question about IndexWriter.maxFieldLength
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I would like to know about the maxFieldLength. It says on the Javadocs
that it limits "The maximum number of terms that will be indexed for a
single field in a document." So, for instance, in my "contents" field,
I would have it limited by default to 10.000 terms. But which terms
are those? The first 10.000 to be indexed?
Or is there any feature selection approach? Like, the most frequent
10.000 terms are indexed and the rest are discarded? Anyone knows
that? If this is not the case, Is it possible to implement?


Regards
Pablo

--=20
Pablo Gomes Ludermir
gomesp@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 17 22:42:38 2005
Return-Path: <java-user-return-14497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90532 invoked from network); 17 May 2005 22:42:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2005 22:42:38 -0000
Received: (qmail 26422 invoked by uid 500); 17 May 2005 15:58:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26388 invoked by uid 500); 17 May 2005 15:58:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26313 invoked by uid 99); 17 May 2005 15:58:18 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from subshell.com (HELO subshell.com) (212.79.22.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 08:58:09 -0700
Received: (qmail 21370 invoked from network); 17 May 2005 17:57:54 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 17 May 2005 17:57:54 +0200
Message-ID: <428A14C4.6020504@blizzy.de>
Date: Tue, 17 May 2005 17:59:00 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Fwd: Contribution: LuceneIndexAccessor
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

-------- Original Message --------
Subject: Contribution: LuceneIndexAccessor
Date: Mon, 16 May 2005 18:11:23 +0200
From: Maik Schreiber <blizzy-keyword-lucene_dev.6564c8@blizzy.de>
Reply-To: java-dev@lucene.apache.org
To: java-dev@lucene.apache.org

Hi,

My company would like to make the following contribution to Lucene (in
sandbox?) licensed under the Apache License, Version 2.0.

Background: While doing project work on a web-based search engine we have
developed a component called LuceneIndexAccessor. This component provides a
high-level index access interface, that is, it synchronizes read/write
access to a Lucene index. You no longer need to worry about concurrently
opening readers/writers/searchers. The component also does caching where
applicable. Further, it makes sure that all Searchers get closed whenever
you have added a document to the index.


You can download the source here:

http://www.blizzy.de/lucene/lucene-indexaccess-0.1.0.zip


Using LuceneIndexAccessor is incredibly simple:


Directory directory = ...
Analyzer analyzer = ...

// somewhere near program start
IIndexAccessProvider accessProvider =
	new IndexAccessProvider(directory, analyzer);
ILuceneIndexAccessor accessor = new LuceneIndexAccessor(accessProvider);
accessor.open();


IndexWriter writer = null;
try {
	writer = accessor.getWriter();

	// use writer...
} catch (IOException e) {
	// ...
} finally {
	accessor.release(write);
}


// somewhere near program exit
accessor.close();


(Opening IndexReaders or Searchers follows the same use pattern.)



Right now, the source compiles against a CVS version of Lucene. Also, it
uses Log4J for logging. We're happy with changing that if need arises.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 00:49:57 2005
Return-Path: <java-user-return-14499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76835 invoked from network); 18 May 2005 00:49:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 00:49:57 -0000
Received: (qmail 73560 invoked by uid 500); 17 May 2005 18:53:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73401 invoked by uid 500); 17 May 2005 18:53:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73369 invoked by uid 99); 17 May 2005 18:53:47 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr9.xs4all.nl (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 11:53:45 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4HIrV9i035857
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 20:53:31 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: question about IndexWriter.maxFieldLength
Date: Tue, 17 May 2005 20:53:31 +0200
User-Agent: KMail/1.5.4
References: <4f05ec8e05051702333692f9d0@mail.gmail.com>
In-Reply-To: <4f05ec8e05051702333692f9d0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505172053.31282.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 17 May 2005 11:33, Pablo Gomes Ludermir wrote:
> Dear all,
> 
> I would like to know about the maxFieldLength. It says on the Javadocs
> that it limits "The maximum number of terms that will be indexed for a
> single field in a document." So, for instance, in my "contents" field,
> I would have it limited by default to 10.000 terms. But which terms
> are those? The first 10.000 to be indexed?

For every field in the document, the first 10.000 tokens returned
from the analyzer are indexed.

> Or is there any feature selection approach? Like, the most frequent
> 10.000 terms are indexed and the rest are discarded? Anyone knows
> that? If this is not the case, Is it possible to implement?

There is no feature selection, except for stopword removal by
some of the analyzers.
Other feature selection mechanisms are up to you.
The reason for the 10.000 terms limitation is to have an upperbound
the memory used for indexing a single document.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 01:50:14 2005
Return-Path: <java-user-return-14500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22669 invoked from network); 18 May 2005 01:50:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 01:50:12 -0000
Received: (qmail 80842 invoked by uid 500); 17 May 2005 19:59:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80732 invoked by uid 500); 17 May 2005 19:59:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80657 invoked by uid 99); 17 May 2005 19:59:23 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of richard.krenek@gmail.com designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 12:59:22 -0700
Received: by wproxy.gmail.com with SMTP id 50so2675249wri
        for <java-user@lucene.apache.org>; Tue, 17 May 2005 12:59:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=gT7hxFS6fokkli41+Z6P12eOs7m+uc9Hj0vDVSnm7ehq0qrmW37OPge8rTSGIZAZFbEJxEGm6ys7Xk9RhjqBUeutyRC/9bZyMvRhGxRrLnQU13QCXti+Sv1/6zpDKhtS1NKgjocapWKiF3CwRr/ZKds36EjX1AnXdOQNS8Zisqc=
Received: by 10.54.23.51 with SMTP id 51mr4560702wrw;
        Tue, 17 May 2005 12:59:14 -0700 (PDT)
Received: by 10.54.72.5 with HTTP; Tue, 17 May 2005 12:59:14 -0700 (PDT)
Message-ID: <4ef6647e050517125970f09ca9@mail.gmail.com>
Date: Tue, 17 May 2005 13:59:14 -0600
From: Richard Krenek <richard.krenek@gmail.com>
Reply-To: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: NFS
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was wondering about Lucene and NFS. The issue is with locking
correct? In Lucene in Action it mentions.
... issues with lock files and NFS, choose a directory that doesn't
reside on an NFS volume. If you have the book, flip to page 62. Does
it mean, don't use NFS or just ensure you point your lock file
directory to a common non-NFS directory? I'd really like to use an NFS
filesystem since this is the only place I have space. Will I only have
issues when updating an index etc..

Thanks for any pointers.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 02:16:37 2005
Return-Path: <java-user-return-14501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41332 invoked from network); 18 May 2005 02:16:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 02:16:37 -0000
Received: (qmail 95023 invoked by uid 500); 17 May 2005 20:34:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94909 invoked by uid 500); 17 May 2005 20:34:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94836 invoked by uid 99); 17 May 2005 20:34:10 -0000
X-ASF-Spam-Status: No, hits=-13.6 required=10.0
	tests=DNS_FROM_RFC_POST,SPF_HELO_PASS,SPF_PASS,USER_IN_DEF_WHITELIST
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of denisb@amazon.com designates 207.171.180.182 as permitted sender)
Received: from smtp-out-0101.amazon.com (HELO smtp-out-0101.amazon.com) (207.171.180.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 13:34:09 -0700
X-Amazon-Corporate-Relay: smtp-out-0101.sea3.amazon.com
X-AMAZON-TRACK: <java-user@lucene.apache.org>
Received: from smtp-in-1003.vdc.amazon.com by smtp-out-0101.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-1003.vdc.amazon.com)
Received: from ex-mail-sea-02.ant.amazon.com (ex-mail-sea-02.sea3.amazon.com [172.20.6.100])
	by smtp-in-1003.vdc.amazon.com (8.12.10/8.12.10) with ESMTP id j4HKXrbT003257
	for <java-user@lucene.apache.org>; Tue, 17 May 2005 20:33:54 GMT
x-mimeole: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Javadocs for lucene-1.9-rc1-dev
Date: Tue, 17 May 2005 13:33:53 -0700
Message-ID: <897DED128797EC46906FF8EDDBFB5DD05D473F@ex-mail-sea-02.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Javadocs for lucene-1.9-rc1-dev
Thread-Index: AcVbHU91VDmmXpIDR9aSaTS5S+ZGYgAAZF/Q
From: "Batalov, Denis" <denisb@amazon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Seems like a simple question, but I could not find it in recent =
archives.

Are the javadocs for 1.9 available on-line anywhere?

Or, if not, where can I get the source of 1.9 in a single tarball so I =
can generate the javadocs locally?

I got the lucene-1.9-rc1-dev.jar off the page for Luke, but it seems =
like this should rather be made available on the lucene page.

Thanks!
--
Denis V. Batalov

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 03:18:17 2005
Return-Path: <java-user-return-14502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90516 invoked from network); 18 May 2005 03:18:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 03:18:17 -0000
Received: (qmail 19193 invoked by uid 500); 17 May 2005 22:05:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19078 invoked by uid 500); 17 May 2005 22:05:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19041 invoked by uid 99); 17 May 2005 22:05:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from post-22.mail.nl.demon.net (HELO post-22.mail.nl.demon.net) (194.159.73.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 15:05:07 -0700
Received: from tunaworks-3.demon.nl ([212.238.154.43]:35130 helo=[192.168.12.7])
	by post-22.mail.nl.demon.net with esmtp (Exim 4.43)
	id 1DYABP-000DET-Lj
	for java-user@lucene.apache.org; Tue, 17 May 2005 22:04:59 +0000
Message-ID: <428A6B9E.2020004@goene.nl>
Date: Wed, 18 May 2005 00:09:34 +0200
From: Robert Goene <robert@goene.nl>
User-Agent: Debian Thunderbird 1.0.2 (X11/20050331)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: ConfigurableIndexer
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I seem to have some problems with the ConfigurableIndexer. The xpath 
expressions seem to have a problem with selecting an attribute. Also, i 
am not able to select any elements that are not part of the xhtml 
namespace. Does anyone has a clue?

Thanx, Robert

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 03:18:49 2005
Return-Path: <java-user-return-14503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91918 invoked from network); 18 May 2005 03:18:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 03:18:48 -0000
Received: (qmail 24069 invoked by uid 500); 17 May 2005 22:06:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23994 invoked by uid 500); 17 May 2005 22:06:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23867 invoked by uid 99); 17 May 2005 22:06:42 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=BLANK_LINES_70_80
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from post-24.mail.nl.demon.net (HELO post-24.mail.nl.demon.net) (194.159.73.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 17 May 2005 15:06:41 -0700
Received: from tunaworks-3.demon.nl ([212.238.154.43]:35135 helo=[192.168.12.7])
	by post-24.mail.nl.demon.net with esmtp (Exim 4.43)
	id 1DYACt-000PVP-Pf
	for java-user@lucene.apache.org; Tue, 17 May 2005 22:06:31 +0000
Message-ID: <428A6BFA.8010600@goene.nl>
Date: Wed, 18 May 2005 00:11:06 +0200
From: Robert Goene <robert@goene.nl>
User-Agent: Debian Thunderbird 1.0.2 (X11/20050331)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: ConfigurableIndexer
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am very sorry. Wrong list...



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 03:59:39 2005
Return-Path: <java-user-return-14504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27522 invoked from network); 18 May 2005 03:59:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 03:59:39 -0000
Received: (qmail 56678 invoked by uid 500); 17 May 2005 23:35:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56522 invoked by uid 500); 17 May 2005 23:35:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 29018 invoked by uid 99); 17 May 2005 16:36:22 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of vgtaluskie@gmail.com designates 64.233.170.197 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=NkCxGQxxjlBVhRoFnoLxTmYWDUNvhDeFhsam32WgTzKHPa7h/KtRnj8b1X41o5X+pO19MR5neAk2kcR7DzrS3micHL+wKHochH1GxuAGq9GjiPoe3MDFlyjHv02zHv6KvcxBNlhVypYF45CmyrJIcFZJud/8VGbZSTY3baImhJE=
Message-ID: <2822350c05051709292e4e90c9@mail.gmail.com>
Date: Tue, 17 May 2005 10:29:20 -0600
From: Vince Taluskie <vgtaluskie@gmail.com>
Reply-To: vince@taluskie.com
To: Richard Krenek <richard.krenek@gmail.com>
Subject: Re: Index Sizes
Cc: java-user@lucene.apache.org
In-Reply-To: <4ef6647e050516085960eb366c@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_851_29783802.1116347360122"
References: <4ef6647e05051315312f536ce0@mail.gmail.com>
	 <2822350c05051315591c4cefaf@mail.gmail.com>
	 <4ef6647e050516085960eb366c@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_851_29783802.1116347360122
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

We're using a single dual-3Ghz Xeon box, Sun vx65 - indexes stored on Netap=
p=20
nearstore R100. I think you can either try to investigate if there's a way=
=20
your users will naturally group their searches and build indexes around tha=
t=20
to minimize individual index size or prototype a distributed index search=
=20
across enough processors to meet your service times.=20

Hope that datapoint helps....=20

Vince

On 5/16/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>=20
> Unfortunately our indexes will be performance sensitive. Is Lucene
> still a good choice? What kind of hardware are you using?
>=20
> Also what are the performance implications for having the additional
> 80 records in the index for just display purposes?
>=20
> Thanks,
> Richard Krenek
>=20
>=20
> On 5/13/05, Vince Taluskie <vgtaluskie@gmail.com> wrote:
> > Yes, you'll be fine with 100 million, I've got a couple of=20
> non-performance
> > sensitive indexes that are more than double that (280M) with about 20
> > seachable fields as well. We get results back in the 10-20 second range
> > which is fine for our end users.
> >
> > Vince
> >
> >
> > On 5/13/05, Richard Krenek <richard.krenek@gmail.com> wrote:
> > >
> > > Hypothetically I have 100 million records. Each record has 100+
> > > fields. Only 20 of those fields need to be searched on, the rest
> > > (including the 20) are just for display purposes.
> > > Would it be best to just add the 20 fields to the index and keep the
> > > rest in a relational database? What affect does all that fluff data
> > > have on the index size and search speeds? Does it matter that some of
> > > the fluff data is repeated a lot. (certain fields might just contain
> > > state a person lives, the color of their hair, number of fingers,
> > > etc).
> > > Our indexes are going to be very big, 100 million+ is not an
> > > exageration. Will Lucene handle this ok? I have created indexes in th=
e
> > > 8-30 million range, but never this big in the number of documents and
> > > also the number of fields.
> > >
> > > Thanks for any info you can provide.
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> >
> > --
> >
> > @work
> > @home
> >
> > vince.taluskie (at) cexp.com <http://cexp.com> vince (at) taluskie.com<=
http://taluskie.com>
> > Corporate Express; Technical Architect Louisville, CO
> > Phone: 303 664 2660
> > http://www.taluskie.com
> >
>=20



--=20

@work @home

vince.taluskie (at) cexp.com <http://cexp.com> vince (at)
taluskie.com<http://taluskie.com>
Corporate Express; Technical Architect Louisville, CO
Phone: 303 664 2660 http://www.taluskie.com

------=_Part_851_29783802.1116347360122--

From java-user-return-14505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 05:19:47 2005
Return-Path: <java-user-return-14505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3686 invoked from network); 18 May 2005 05:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 05:19:47 -0000
Received: (qmail 77402 invoked by uid 500); 18 May 2005 03:04:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77177 invoked by uid 500); 18 May 2005 03:04:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77085 invoked by uid 99); 18 May 2005 03:04:16 -0000
X-ASF-Spam-Status: No, hits=3.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31110.mail.mud.yahoo.com (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 17 May 2005 20:04:13 -0700
Received: (qmail 86270 invoked by uid 60001); 18 May 2005 03:04:00 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=erEKljoZMBmVzP1yX4UHOXm8EOi65KvsPM+mUXJMUJi9vFxYrvMM6T4Q/7zBGWv1Yq4RlmOUbN8/rqEUx5kbiPN0uKio6qBvewFFh0zckKHbdNWMYB9ogG+VCeNtexXgtpXaHHfCLotMnvsGL1B0g7VSUST1MUI0ZrDZVmKtT+c=  ;
Message-ID: <20050518030400.86268.qmail@web31110.mail.mud.yahoo.com>
Received: from [69.201.130.192] by web31110.mail.mud.yahoo.com via HTTP; Tue, 17 May 2005 20:04:00 PDT
Date: Tue, 17 May 2005 20:04:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: NFS
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I haven't used Lucene with NFS.  My understanding is that the problem
is with lock files when they reside on the NFS server.  Yes, you can
change the location of lock files with a system property, but if you
are using NFS to make the index accessible from multiple machines, then
changing the lock file directory to a local directory doesn't make
sense.  However, it sounds like you are using a NFS-mounted partition
simply because that's where you have sufficient space, not because you
need to access the index from multiple machines, so you should be OK
with changing the lock file directory to a local dir.

Otis


--- Richard Krenek <richard.krenek@gmail.com> wrote:
> I was wondering about Lucene and NFS. The issue is with locking
> correct? In Lucene in Action it mentions.
> ... issues with lock files and NFS, choose a directory that doesn't
> reside on an NFS volume. If you have the book, flip to page 62. Does
> it mean, don't use NFS or just ensure you point your lock file
> directory to a common non-NFS directory? I'd really like to use an
> NFS
> filesystem since this is the only place I have space. Will I only
> have
> issues when updating an index etc..
> 
> Thanks for any pointers.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 07:50:17 2005
Return-Path: <java-user-return-14506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17519 invoked from network); 18 May 2005 07:50:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 07:50:17 -0000
Received: (qmail 54911 invoked by uid 500); 18 May 2005 07:49:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54876 invoked by uid 500); 18 May 2005 07:49:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54856 invoked by uid 99); 18 May 2005 07:49:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from h-213.61.137.129.host.de.colt.net (HELO houston.novomind.com) (213.61.137.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 00:49:54 -0700
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.12.8/8.12.8) with SMTP id j4I7nUDn002437
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 09:49:31 +0200
From: "Kai Glzau" <kguelzau@novomind.com>
To: <java-user@lucene.apache.org>
Subject: handling related words
Date: Wed, 18 May 2005 09:50:28 +0200
Message-ID: <FGEOLCMJNPHDGDBDEILDKEHLGEAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi *,

i know how to handle stop words and synonyms, but how to handle related words?

red <-> orange (70% sim)
red <-> pink (60% sim)
red <-> yellow (20% sim)

When i got things right it's not possible to store this information at index time.
Do i have to expand related words at query time?

  query     : red skirt
  new query : (red orange^0.7 pink^0.6 yellow^0.2) skirt



Thanks,

	Kai Glzau


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 08:31:27 2005
Return-Path: <java-user-return-14507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38505 invoked from network); 18 May 2005 08:31:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 08:31:26 -0000
Received: (qmail 65762 invoked by uid 500); 18 May 2005 08:28:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65706 invoked by uid 500); 18 May 2005 08:28:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65691 invoked by uid 99); 18 May 2005 08:28:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 01:28:19 -0700
Content-class: urn:content-classes:message
Subject: RE: Contribution: LuceneIndexAccessor
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 18 May 2005 10:27:52 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA071175@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contribution: LuceneIndexAccessor
Thread-Index: AcVbMb7rS0FDU3vhSFSFCBTx7Hiy4QAUUrLA
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

=20

My company would like to make the following contribution to Lucene (in
sandbox?) licensed under the Apache License, Version 2.0.

Background: While doing project work on a web-based search engine we
have developed a component called LuceneIndexAccessor. This component
provides a high-level index access interface, that is, it synchronizes
read/write access to a Lucene index. You no longer need to worry about
concurrently opening readers/writers/searchers. The component also does
caching where applicable. Further, it makes sure that all Searchers get
closed whenever you have added a document to the index.

>>Did you use a readwrite lock? If you did, do you know how the
performance of new readers is effected if a single write is processed?
??Every request for a reader has to wait untill the writer is finished..


I used this solution in the beginning but at the moment I use one that
doesn`t block at all.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 09:52:11 2005
Return-Path: <java-user-return-14508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85908 invoked from network); 18 May 2005 09:52:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 09:52:11 -0000
Received: (qmail 7769 invoked by uid 500); 18 May 2005 09:51:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7710 invoked by uid 500); 18 May 2005 09:51:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7645 invoked by uid 99); 18 May 2005 09:51:41 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-233-83.scalix.com (HELO hagrid.scalix.local) (66.7.233.83)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 02:51:39 -0700
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j4I9qoqv015545
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 02:52:51 -0700
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j4I9qokg015543
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 02:52:50 -0700
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.1.25)
    via ESMTP; Wed, 18 May 2005 10:51:23 +0100 (BST)
Date: Wed, 18 May 2005 10:51:17 +0100
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <428B1015.90402@scalix.com>
In-Reply-To: <20050518030400.86268.qmail@web31110.mail.mud.yahoo.com>
References: <20050518030400.86268.qmail@web31110.mail.mud.yahoo.com>
Subject: Re: NFS
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird  (X11/20050322)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>I haven't used Lucene with NFS.  My understanding is that the problem
>is with lock files when they reside on the NFS server.  Yes, you can
>change the location of lock files with a system property, but if you
>are using NFS to make the index accessible from multiple machines, then
>changing the lock file directory to a local directory doesn't make
>sense.  However, it sounds like you are using a NFS-mounted partition
>simply because that's where you have sufficient space, not because you
>need to access the index from multiple machines, so you should be OK
>with changing the lock file directory to a local dir.
>  
>
I haven't tried this, but under Linux (at least), you can specify the 
"nolock" parameter to make file locking appen locally.   Of course, this 
will make it impossible to use NFS to share the index among several 
machines, but, as Otis said, that doesn't seem to be the requirement here.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 10:16:17 2005
Return-Path: <java-user-return-14509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95347 invoked from network); 18 May 2005 10:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 10:16:17 -0000
Received: (qmail 65478 invoked by uid 500); 18 May 2005 10:13:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65340 invoked by uid 500); 18 May 2005 10:13:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65302 invoked by uid 99); 18 May 2005 10:13:55 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from subshell.com (HELO subshell.com) (212.79.22.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 03:13:52 -0700
Received: (qmail 9622 invoked from network); 18 May 2005 12:13:35 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 18 May 2005 12:13:35 +0200
Message-ID: <428B1592.7010704@blizzy.de>
Date: Wed, 18 May 2005 12:14:42 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Contribution: LuceneIndexAccessor
References: <24CFCE44DCB015489FB96D38BDF4FCAA071175@gerard.anchormen.nl>
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA071175@gerard.anchormen.nl>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>>Did you use a readwrite lock? If you did, do you know how the
> 
> performance of new readers is effected if a single write is processed?
> ??Every request for a reader has to wait untill the writer is finished..

No, I'm not using that kind of read/write lock. In fact, you can open multiple
readers and searchers while concurrently having opened a writer. Closing the
writer will block until all readers and searchers have been released by client
code (so they can be closed).

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 10:50:38 2005
Return-Path: <java-user-return-14510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12540 invoked from network); 18 May 2005 10:50:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 10:50:38 -0000
Received: (qmail 57989 invoked by uid 500); 18 May 2005 10:48:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57765 invoked by uid 500); 18 May 2005 10:48:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57661 invoked by uid 99); 18 May 2005 10:48:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from corp-206.dfki.uni-sb.de (HELO mail.dfki.de) (134.96.188.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 03:48:33 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 16C96E482C
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 12:48:21 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id ECAF4E482A
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 12:48:20 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <428B1015.90402@scalix.com>
References: <20050518030400.86268.qmail@web31110.mail.mud.yahoo.com> <428B1015.90402@scalix.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <8990e32d5ab78e49c5ddcc14412c87ee@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: NFS
Date: Wed, 18 May 2005 12:48:19 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Le 18 mai 05, =E0 11:51, John Haxby a =E9crit :
> Otis Gospodnetic wrote:
>> I haven't used Lucene with NFS.  My understanding is that the problem
>> is with lock files when they reside on the NFS server.  Yes, you can
>> change the location of lock files with a system property, but if you
>> are using NFS to make the index accessible from multiple machines,=20
>> then
>> changing the lock file directory to a local directory doesn't make
>> sense.  However, it sounds like you are using a NFS-mounted partition
>> simply because that's where you have sufficient space, not because =
you
>> need to access the index from multiple machines, so you should be OK
>> with changing the lock file directory to a local dir.
>>
> I haven't tried this, but under Linux (at least), you can specify the=20=

> "nolock" parameter to make file locking appen locally.   Of course,=20
> this will make it impossible to use NFS to share the index among=20
> several machines, but, as Otis said, that doesn't seem to be the=20
> requirement here.

Just a hint that we have experienced using Lucene Indexes on NFS=20
partitions to be much much slower than local partitions... aside of the=20=

little lock issues.

paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 10:53:54 2005
Return-Path: <java-user-return-14511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14407 invoked from network); 18 May 2005 10:53:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 10:53:53 -0000
Received: (qmail 70391 invoked by uid 500); 18 May 2005 10:52:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70376 invoked by uid 500); 18 May 2005 10:52:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 827 invoked by uid 99); 18 May 2005 04:10:29 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of vgtaluskie@gmail.com designates 64.233.170.194 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=faRSPDGjfHjpSAv3j3Ew1kqPRncJeleBA/8Fpx5IUZD5aowKVyYbr7tZDvz1i3XUe2tOkKMDvACSvfZTC3RoJR/20GllWo0n8UXTTlCCt8r5CvmuoLOoiRc6mk1n78ltBkxlhh6eYLPbFmpN0Yr3Cvkse9ZsM1vutyaOB0UbqQo=
Message-ID: <2822350c050517211016bb253c@mail.gmail.com>
Date: Tue, 17 May 2005 22:10:11 -0600
From: Vince Taluskie <vgtaluskie@gmail.com>
Reply-To: vince@taluskie.com
To: java-user@lucene.apache.org, Richard Krenek <richard.krenek@gmail.com>
Subject: Re: NFS
In-Reply-To: <4ef6647e050517125970f09ca9@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1644_14488014.1116389411784"
References: <4ef6647e050517125970f09ca9@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1644_14488014.1116389411784
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Richard,

In an earlier note, I mentioned using an Netapp R100 for storage of our=20
indexes and content - so I can say that Lucene definitely works accessing=
=20
over NFS. I think this is more for updating/merging the same indexes across=
=20
multiple systems simultaneously and once the indexes are there - I wouldn't=
=20
think you'd have any issues with NFS per se. Just having them open for read=
s=20
doesn't create any lockfiles...

I guess I would be curious if lucene itself creates filesystem lock files,=
=20
where is the chance that other systems couldn't see them - the lockfile is=
=20
after all a file in a network filesystem so I don't quite see the whole=20
issue here.

Vince

On 5/17/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>=20
> I was wondering about Lucene and NFS. The issue is with locking
> correct? In Lucene in Action it mentions.
> ... issues with lock files and NFS, choose a directory that doesn't
> reside on an NFS volume. If you have the book, flip to page 62. Does
> it mean, don't use NFS or just ensure you point your lock file
> directory to a common non-NFS directory? I'd really like to use an NFS
> filesystem since this is the only place I have space. Will I only have
> issues when updating an index etc..
>=20
> Thanks for any pointers.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20

@work @home

vince.taluskie (at) cexp.com <http://cexp.com> vince (at)
taluskie.com<http://taluskie.com>
Corporate Express; Technical Architect Louisville, CO
Phone: 303 664 2660 http://www.taluskie.com

------=_Part_1644_14488014.1116389411784--

From java-user-return-14512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 11:16:26 2005
Return-Path: <java-user-return-14512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24005 invoked from network); 18 May 2005 11:16:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 11:16:25 -0000
Received: (qmail 34265 invoked by uid 500); 18 May 2005 11:15:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34227 invoked by uid 500); 18 May 2005 11:15:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34116 invoked by uid 99); 18 May 2005 11:15:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-233-83.scalix.com (HELO hagrid.scalix.local) (66.7.233.83)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 04:15:21 -0700
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j4IBGKvW017544
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 04:16:20 -0700
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j4IBGKxx017542
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 04:16:20 -0700
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.1.25)
    via ESMTP; Wed, 18 May 2005 12:14:53 +0100 (BST)
Date: Wed, 18 May 2005 12:14:53 +0100
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <428B23AD.7090906@scalix.com>
In-Reply-To: <8990e32d5ab78e49c5ddcc14412c87ee@activemath.org>
References: <20050518030400.86268.qmail@web31110.mail.mud.yahoo.com>
References: <428B1015.90402@scalix.com>
References: <8990e32d5ab78e49c5ddcc14412c87ee@activemath.org>
Subject: Re: NFS
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird  (X11/20050322)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Libbrecht wrote:

> Le 18 mai 05, เ 11:51, John Haxby a ้crit :
>
>> I haven't tried this, but under Linux (at least), you can specify the 
>> "nolock" parameter to make file locking appen locally.   Of course, 
>> this will make it impossible to use NFS to share the index among 
>> several machines, but, as Otis said, that doesn't seem to be the 
>> requirement here.
>
> Just a hint that we have experienced using Lucene Indexes on NFS 
> partitions to be much much slower than local partitions... aside of 
> the little lock issues.

I had forgotten that Lucene uses lock files rather than file locks so 
the "nolock" parameter wouldn't help.    If (on Linux, don't know if 
this is possibe on an R100) if the file system is exported "async" then 
writing files is going to be rather quicker.   However, frequently 
creating lock files is still likely to be slow -- I don't know the exact 
(OS level) mechanism that lucene uses, but the common mechanisms that I 
can think of are going to be slow regardless of the NFS settings.

If you move the lock files into a local file system then you're just 
left with "normal" NFS performance issues.   If you've got a gigabit 
network then chances are you'll be able to achieve NFS speeds roughly 
comparable with local IDE disks (50MB/s, ish).   If you're restricted to 
a "normal" 100MB network then you're not going to get that kind of 
performance.   Using "async" will greatly help when writing an index, 
as, probably will large buffer sizes.   You'd need to experiment to find 
out what makes a big difference.   The main thing, though, is that the 
default parameters for NFS aren't going to give sparkling performance 
for Lucene.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 11:38:52 2005
Return-Path: <java-user-return-14513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38508 invoked from network); 18 May 2005 11:38:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 11:38:52 -0000
Received: (qmail 99588 invoked by uid 500); 18 May 2005 11:38:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99534 invoked by uid 500); 18 May 2005 11:38:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99498 invoked by uid 99); 18 May 2005 11:38:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 04:38:25 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP
	id 3C59D23BF5; Wed, 18 May 2005 13:38:11 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 16774-07; Wed, 18 May 2005 13:38:11 +0200 (CEST)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP
	id 1B71323BDC; Wed, 18 May 2005 13:38:11 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j4IBgJH2018258;
	Wed, 18 May 2005 13:42:19 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j4IBgJaN018254;
	Wed, 18 May 2005 13:42:19 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <17035.10779.170632.725532@tanto-xipolis.de>
Date: Wed, 18 May 2005 13:42:19 +0200
To: java-user@lucene.apache.org, vince@taluskie.com
Subject: Re: NFS
In-Reply-To: <2822350c050517211016bb253c@mail.gmail.com>
References: <4ef6647e050517125970f09ca9@mail.gmail.com>
	<2822350c050517211016bb253c@mail.gmail.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Vince Taluskie writes:
> Richard,
> 
> In an earlier note, I mentioned using an Netapp R100 for storage of our 
> indexes and content - so I can say that Lucene definitely works accessing 
> over NFS. I think this is more for updating/merging the same indexes across 
> multiple systems simultaneously and once the indexes are there - I wouldn't 
> think you'd have any issues with NFS per se. Just having them open for reads 
> doesn't create any lockfiles...
> 
AFAIK opening an index requires a lock.
If the index is modified during the process of accessing all index files,
opening might fail.
I'm not sure if that problem can show up when you're using the compact 
index format (the default since 1.4 (or so)), but I had that problem
in earlier version using the noncompact index format.

Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 15:19:06 2005
Return-Path: <java-user-return-14514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71656 invoked from network); 18 May 2005 15:19:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 15:19:06 -0000
Received: (qmail 3848 invoked by uid 500); 18 May 2005 15:00:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3806 invoked by uid 500); 18 May 2005 15:00:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3594 invoked by uid 99); 18 May 2005 15:00:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from peggy.imente.com (HELO mail.imente.com) (62.97.113.150)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 08:00:18 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.imente.com (Postfix) with ESMTP id 25ADB59D
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 16:59:46 +0200 (CEST)
Received: from mail.imente.com ([127.0.0.1])
	by localhost (peggy [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 00508-01 for <java-user@lucene.apache.org>;
	Wed, 18 May 2005 16:59:45 +0200 (CEST)
Received: from [192.168.0.213] (grn.imente.com [212.145.99.45])
	by mail.imente.com (Postfix) with ESMTP id ABEEA59B
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 16:59:45 +0200 (CEST)
Message-ID: <428B5741.4010004@imente.com>
Date: Wed, 18 May 2005 16:54:57 +0200
From: Albert Vila <avp@imente.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Retrieve all terms
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at imente.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

 I need to retrieve all terms from an specified field filtered for 
another field. For example,

  Document 1 -> <contents, " document 1 content">
                          <language, en>

  Document 2 -> <contents, " document 2 content">
                          <language, fr>

  Document 3 -> <contents, " document 3 content">
                          <language, fr>

  Document 4 -> <contents, " document 4 content">
                          <language, en>

 Then, I want to retrieve all terms from the contents field, but only 
the ones from the documents matching the language=en.

Is it possible with lucene?
 
Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 16:04:38 2005
Return-Path: <java-user-return-14515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89377 invoked from network); 18 May 2005 16:04:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 16:04:38 -0000
Received: (qmail 97743 invoked by uid 500); 18 May 2005 15:30:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97626 invoked by uid 500); 18 May 2005 15:30:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97537 invoked by uid 99); 18 May 2005 15:30:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cme-212-89-8-178.telecable.es (HELO ayalga.fundacionctic.org) (212.89.8.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 08:30:19 -0700
Received: from 192.168.2.154 ([192.168.2.154]) by ayalga.fundacionctic.org ([192.168.4.10]) with Microsoft Exchange Server HTTP-DAV ;
 Wed, 18 May 2005 15:29:27 +0000
Received: from morse by ayalga.fundacionctic.org; 18 May 2005 17:30:33 +0200
Subject: Using jdbcdirectory
From: Ivan Frade <ivan.frade@fundacionctic.org>
To: java-user@lucene.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Fundacion CTIC
Date: Wed, 18 May 2005 17:30:33 +0200
Message-Id: <1116430233.4604.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

 I'm trying to use JDBCDirectory in my project. Now (the project) is
working fine with FSDirectory, but if i simple replace FSDirectory with
JDBCDirectory the things don't go well: I can create the index, but when
try to connect (to insert a document) i find a corrupted index. Looking
database content, i found "segmets" file with 0 bytes length.

 My questions are:

* Is this a problem of JDBCDirectory or i'm using it in wrong way (I use
the _same_ code i run with FSDirectory)
* Exists other alternatives to JDBCDirectory to store the index in a
database? (mysql or oracle)

 Thank you, excuse me my english

Frade

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 16:24:07 2005
Return-Path: <java-user-return-14516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98568 invoked from network); 18 May 2005 16:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 16:24:07 -0000
Received: (qmail 64069 invoked by uid 500); 18 May 2005 15:52:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64046 invoked by uid 500); 18 May 2005 15:52:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63974 invoked by uid 99); 18 May 2005 15:52:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from smtp201.mail.sc5.yahoo.com (HELO smtp201.mail.sc5.yahoo.com) (216.136.129.91)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 18 May 2005 08:52:05 -0700
Received: from unknown (HELO ernesto) (desantisernesto@24.232.184.152 with login)
  by smtp201.mail.sc5.yahoo.com with SMTP; 18 May 2005 15:51:52 -0000
Received: from 127.0.0.1 (AVG SMTP 7.0.308 [266.11.10]); Wed, 18 May 2005 12:54:40 -0300
Message-ID: <428B6540.6030406@colaborativa.net>
Date: Wed, 18 May 2005 12:54:40 -0300
From: Ernesto De Santis <ernesto.desantis@colaborativa.net>
Organization: Colaborativa.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
MIME-Version: 1.0
To: Lucene Users List <java-user@lucene.apache.org>
Subject: BooleanQuery$TooManyClauses::getMessage() == null
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I catch the TooManyClauses Exception in my application, and when I show 
the exception message get null value. This behavior is bad I think, 
don't help to found cause of errors. Now I use e.getClass() + ": " + 
e.getMessage() in my catch statement.
result: org.apache.lucene.search.BooleanQuery$TooManyClauses: null

Now I fix the TooManyClauses issue in my application.
The e.getMessage() == null is a lucene bug?

Bye
Ernesto.

-- 
Ernesto De Santis - Colaborativa.net
La Plata, Argentina.
http://www.colaborativa.net/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 17:41:27 2005
Return-Path: <java-user-return-14517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30075 invoked from network); 18 May 2005 17:41:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 17:41:26 -0000
Received: (qmail 60094 invoked by uid 500); 18 May 2005 16:53:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59968 invoked by uid 500); 18 May 2005 16:53:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59897 invoked by uid 99); 18 May 2005 16:53:41 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm01-ext.prodigy.net (HELO ylpvm01.prodigy.net) (207.115.57.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 09:53:33 -0700
Received: from [192.168.1.10] (adsl-66-141-55-80.dsl.austtx.swbell.net [66.141.55.80])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j4IGqGXw019619
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 12:52:16 -0400
Mime-Version: 1.0 (Apple Message framework v728)
In-Reply-To: <428B5741.4010004@imente.com>
References: <428B5741.4010004@imente.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <330E9AC5-C180-4151-B4AD-22B8610285A2@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Retrieve all terms
Date: Wed, 18 May 2005 11:52:58 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.728)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2005, at 9:54 AM, Albert Vila wrote:

> Hi all,
>
> I need to retrieve all terms from an specified field filtered for  
> another field. For example,
>
>  Document 1 -> <contents, " document 1 content">
>                          <language, en>
>
>  Document 2 -> <contents, " document 2 content">
>                          <language, fr>
>
>  Document 3 -> <contents, " document 3 content">
>                          <language, fr>
>
>  Document 4 -> <contents, " document 4 content">
>                          <language, en>
>
> Then, I want to retrieve all terms from the contents field, but  
> only the ones from the documents matching the language=en.
>
> Is it possible with lucene?
> Thanks

Unless I'm misunderstanding your request, not only is it possible,  
this is what Lucene is designed for.  Just search for all documents  
with language=en and then iterate over the hits extracting the  
contents of the desired field.

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 18:35:07 2005
Return-Path: <java-user-return-14518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60051 invoked from network); 18 May 2005 18:35:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 18:35:07 -0000
Received: (qmail 41572 invoked by uid 500); 18 May 2005 17:53:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41488 invoked by uid 500); 18 May 2005 17:53:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41452 invoked by uid 99); 18 May 2005 17:53:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 10:53:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 329E513E2118; Wed, 18 May 2005 13:52:54 -0400 (EDT)
Received: from [192.168.0.15] (216-12-13-89.cv.mvl.ntelos.net [216.12.13.89])
	by ehatchersolutions.com (Postfix) with ESMTP id 84D3213E2118
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 13:52:36 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <897DED128797EC46906FF8EDDBFB5DD05D473F@ex-mail-sea-02.ant.amazon.com>
References: <897DED128797EC46906FF8EDDBFB5DD05D473F@ex-mail-sea-02.ant.amazon.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <86324C1C-8174-45EB-A423-73E0EB50D928@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Javadocs for lucene-1.9-rc1-dev
Date: Wed, 18 May 2005 13:52:32 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 17, 2005, at 4:33 PM, Batalov, Denis wrote:

> Seems like a simple question, but I could not find it in recent  
> archives.
>
> Are the javadocs for 1.9 available on-line anywhere?

Not currently, at least not on the official Lucene site.

> Or, if not, where can I get the source of 1.9 in a single tarball  
> so I can generate the javadocs locally?

Right now you'll have to check the source tree out from the Apache  
Subversion repository and you can use the included Ant build file to  
produce the javadocs.

> I got the lucene-1.9-rc1-dev.jar off the page for Luke, but it  
> seems like this should rather be made available on the lucene page.

We haven't made an official release of it yet... that is probably  
coming soon though.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 19:19:59 2005
Return-Path: <java-user-return-14519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95558 invoked from network); 18 May 2005 19:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 19:19:59 -0000
Received: (qmail 68975 invoked by uid 500); 18 May 2005 18:34:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68892 invoked by uid 500); 18 May 2005 18:34:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68864 invoked by uid 99); 18 May 2005 18:34:05 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from grassmarket.ucs.ed.ac.uk (HELO grassmarket.ucs.ed.ac.uk) (129.215.166.64)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 11:33:41 -0700
Received: from grassmarket.ucs.ed.ac.uk (localhost [127.0.0.1])
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.10) with ESMTP id j4IIX1KC025680
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 19:33:01 +0100 (BST)
Received: (from nobody@localhost)
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.9/Submit) id j4IIX1l0025675
	for java-user@lucene.apache.org; Wed, 18 May 2005 19:33:01 +0100 (BST)
From: KW Kor <s0454888@sms.ed.ac.uk>
X-Authentication-Warning: grassmarket.ucs.ed.ac.uk: nobody set sender to s0454888@sms.ed.ac.uk using -f
Received: from beans.cache.ed.ac.uk (beans.cache.ed.ac.uk [129.215.16.12]) 
	by sms.ed.ac.uk (IMP) with HTTP 
	for <s0454888@sms.ed.ac.uk>; Wed, 18 May 2005 19:33:01 +0100
Message-ID: <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
Date: Wed, 18 May 2005 19:33:01 +0100
To: java-user@lucene.apache.org
Subject: MultiSearcher GUI? Before/After query?
References: <428B6540.6030406@colaborativa.net>
In-Reply-To: <428B6540.6030406@colaborativa.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.3
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi folks,

Just wondering, is there a Lucene graphical user interface that supports
searching over multiple indexes? Normally I'ld use Luke, but it does not
support MultiSearcher and it looks difficult to hack Luke.

On another note, is there any support for before/after phrase queries? I need to
construct a query that is able to search for documents where specific phrases
must appear in a fixed order in a document. For example, "Nobel Prize" must
occurr before "Roger Penrose" which must occurr before "Superstring Theory". So
the query would match "Nobel Prize winner, Roger Penrose, today published a
paper on Superstring Theory", but would not match "Roger Penrose today
published a paper on Superstring Theory. A Nobel Prize winner, ..."

Btw, its great to see Lucene grow from its old SourceForge roots to a top level
project at apache.org. Thanks for keeping my name on the "Who we are" page even
though I have not contributed in years. Hello Doug, Otis, et al.


Regards,
Dave Kor.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 21:26:48 2005
Return-Path: <java-user-return-14520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44851 invoked from network); 18 May 2005 21:26:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 21:26:48 -0000
Received: (qmail 38004 invoked by uid 500); 18 May 2005 20:05:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37871 invoked by uid 500); 18 May 2005 20:05:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37847 invoked by uid 99); 18 May 2005 20:05:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 13:05:46 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B7C1C13E2119; Wed, 18 May 2005 15:46:17 -0400 (EDT)
Received: from [192.168.0.15] (216-12-13-89.cv.mvl.ntelos.net [216.12.13.89])
	by ehatchersolutions.com (Postfix) with ESMTP id 21D9813E2118
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 15:45:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
References: <428B6540.6030406@colaborativa.net> <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F28F69A1-B636-407E-9581-93CC11701017@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MultiSearcher GUI? Before/After query?
Date: Wed, 18 May 2005 15:34:20 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2005, at 2:33 PM, KW Kor wrote:
> On another note, is there any support for before/after phrase  
> queries? I need to
> construct a query that is able to search for documents where  
> specific phrases
> must appear in a fixed order in a document. For example, "Nobel  
> Prize" must
> occurr before "Roger Penrose" which must occurr before "Superstring  
> Theory". So
> the query would match "Nobel Prize winner, Roger Penrose, today  
> published a
> paper on Superstring Theory", but would not match "Roger Penrose today
> published a paper on Superstring Theory. A Nobel Prize winner, ..."

The SpanQuery family of queries will do exactly this.  Each term  
becomes a SpanTermQuery (rather than using a PhraseQuery) and then  
each phrase is a SpanNearQuery, and then nest those in another  
ordered SpanNearQuery with whatever distance you want to allow and  
whether it should be ordered or not ordered.

> Btw, its great to see Lucene grow from its old SourceForge roots to  
> a top level
> project at apache.org. Thanks for keeping my name on the "Who we  
> are" page even
> though I have not contributed in years. Hello Doug, Otis, et al.

Welcome back!!!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 21:28:04 2005
Return-Path: <java-user-return-14521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44971 invoked from network); 18 May 2005 21:28:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 21:28:04 -0000
Received: (qmail 38222 invoked by uid 500); 18 May 2005 20:05:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38183 invoked by uid 500); 18 May 2005 20:05:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38117 invoked by uid 99); 18 May 2005 20:05:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 13:05:51 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5AA6B13E2006; Wed, 18 May 2005 15:34:31 -0400 (EDT)
Received: from [192.168.0.15] (216-12-13-89.cv.mvl.ntelos.net [216.12.13.89])
	by ehatchersolutions.com (Postfix) with ESMTP id 8D19113E2006
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 15:34:27 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
References: <428B6540.6030406@colaborativa.net> <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F28F69A1-B636-407E-9581-93CC11701017@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MultiSearcher GUI? Before/After query?
Date: Wed, 18 May 2005 15:34:20 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2005, at 2:33 PM, KW Kor wrote:
> On another note, is there any support for before/after phrase  
> queries? I need to
> construct a query that is able to search for documents where  
> specific phrases
> must appear in a fixed order in a document. For example, "Nobel  
> Prize" must
> occurr before "Roger Penrose" which must occurr before "Superstring  
> Theory". So
> the query would match "Nobel Prize winner, Roger Penrose, today  
> published a
> paper on Superstring Theory", but would not match "Roger Penrose today
> published a paper on Superstring Theory. A Nobel Prize winner, ..."

The SpanQuery family of queries will do exactly this.  Each term  
becomes a SpanTermQuery (rather than using a PhraseQuery) and then  
each phrase is a SpanNearQuery, and then nest those in another  
ordered SpanNearQuery with whatever distance you want to allow and  
whether it should be ordered or not ordered.

> Btw, its great to see Lucene grow from its old SourceForge roots to  
> a top level
> project at apache.org. Thanks for keeping my name on the "Who we  
> are" page even
> though I have not contributed in years. Hello Doug, Otis, et al.

Welcome back!!!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 21:39:14 2005
Return-Path: <java-user-return-14522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48830 invoked from network); 18 May 2005 21:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 21:39:14 -0000
Received: (qmail 57327 invoked by uid 500); 18 May 2005 20:14:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57262 invoked by uid 500); 18 May 2005 20:14:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57229 invoked by uid 99); 18 May 2005 20:13:59 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of richard.krenek@gmail.com designates 64.233.184.197 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 13:13:57 -0700
Received: by wproxy.gmail.com with SMTP id 50so380190wri
        for <java-user@lucene.apache.org>; Wed, 18 May 2005 13:13:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=VV90amXf4LLGH9MT40P0ZDPvu5e6+p38rKua9PoVU9BQNp2halijaeFycT+XPLQVH6Hx37ey8tbHOZd5v5wwoIcqDZnFA7T2wXz2NaoHXoQkwzI4KuNWqQlDxXfwKzMbwkh4PiUF4nSUQyjctuMQnefVZFPJSAWsVKI8WMb7VP0=
Received: by 10.54.107.4 with SMTP id f4mr514436wrc;
        Wed, 18 May 2005 13:07:08 -0700 (PDT)
Received: by 10.54.72.5 with HTTP; Wed, 18 May 2005 13:07:08 -0700 (PDT)
Message-ID: <4ef6647e05051813077bfaa0f4@mail.gmail.com>
Date: Wed, 18 May 2005 14:07:08 -0600
From: Richard Krenek <richard.krenek@gmail.com>
Reply-To: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: NFS
In-Reply-To: <4ef6647e050517125970f09ca9@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4ef6647e050517125970f09ca9@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

  Thanks all for the info. Otis was correct, I'm just using NFS for
the space, not for multiple machines having access. If we ever have to
have multiple machines, we now know what problems we will need to deal
with.
  As for performance of the NFS vs Local we will need to do some tests
and decide which route is acceptable for our needs.

Thanks again

On 5/17/05, Richard Krenek <richard.krenek@gmail.com> wrote:
> I was wondering about Lucene and NFS. The issue is with locking
> correct? In Lucene in Action it mentions.
> ... issues with lock files and NFS, choose a directory that doesn't
> reside on an NFS volume. If you have the book, flip to page 62. Does
> it mean, don't use NFS or just ensure you point your lock file
> directory to a common non-NFS directory? I'd really like to use an NFS
> filesystem since this is the only place I have space. Will I only have
> issues when updating an index etc..
>=20
> Thanks for any pointers.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 22:21:51 2005
Return-Path: <java-user-return-14523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62980 invoked from network); 18 May 2005 22:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 22:21:51 -0000
Received: (qmail 34477 invoked by uid 500); 18 May 2005 20:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34432 invoked by uid 500); 18 May 2005 20:43:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34400 invoked by uid 99); 18 May 2005 20:43:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 13:43:48 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j4IKhnm10326
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 15:43:49 -0500
Message-ID: <428BA8F3.7070501@getopt.org>
Date: Wed, 18 May 2005 22:43:31 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher GUI? Before/After query?
References: <428B6540.6030406@colaborativa.net> <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
In-Reply-To: <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

KW Kor wrote:
> Hi folks,
> 
> Just wondering, is there a Lucene graphical user interface that supports
> searching over multiple indexes? Normally I'ld use Luke, but it does not
> support MultiSearcher and it looks difficult to hack Luke.
> 

Hi,

Regarding Luke - actually, it would not be so difficult to implement 
this (at least for me ;-) ). Save for some minor exceptions, Luke opens 
an IndexReader once, and I could add another version of the Open dialog 
to use open multiple indexes.

(I can't promise, however, to do it quickly - I'm finalizing a couple of 
projects now, so this has to wait a bit...)

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 18 22:58:51 2005
Return-Path: <java-user-return-14524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83935 invoked from network); 18 May 2005 22:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2005 22:58:51 -0000
Received: (qmail 38752 invoked by uid 500); 18 May 2005 21:23:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38705 invoked by uid 500); 18 May 2005 21:23:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38575 invoked by uid 99); 18 May 2005 21:23:18 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 14:23:16 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CBCEC5B7FB; Wed, 18 May 2005 14:23:07 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C941C7F45E
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 14:23:07 -0700 (PDT)
Date: Wed, 18 May 2005 14:23:07 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher GUI? Before/After query?
In-Reply-To: <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
Message-ID: <Pine.LNX.4.58.0505181419320.2530@hal.rescomp.berkeley.edu>
References: <428B6540.6030406@colaborativa.net> <1116441181.428b8a5d9d7e4@sms.ed.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: On another note, is there any support for before/after phrase queries? I need to
: construct a query that is able to search for documents where specific phrases
: must appear in a fixed order in a document. For example, "Nobel Prize" must
: occurr before "Roger Penrose" which must occurr before "Superstring Theory". So

SpanNearQuery should do what you want, something like this in psuedo
code...

  Query q = new SpanNearQuery(
             new SpanNearQuery(new SpanTermQuery(Nobel),
                               new SpanTermQuery(Prize),
                               new SpanTermQuery(Winer),
                               slop=1, inOrder=true),
             new SpanNearQuery(new SpanTermQuery(Roger),
                               new SpanTermQuery(Penrose),
                               slop=1, inOrder=true),
             new SpanNearQuery(new SpanTermQuery(Superstring),
                               new SpanTermQuery(Theor),
                               slop=1, inOrder=true),
             slop=1000000000, inOrder=true);



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 00:25:38 2005
Return-Path: <java-user-return-14525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44453 invoked from network); 19 May 2005 00:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 00:25:37 -0000
Received: (qmail 41078 invoked by uid 500); 18 May 2005 23:09:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41049 invoked by uid 500); 18 May 2005 23:09:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41036 invoked by uid 99); 18 May 2005 23:09:50 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from grassmarket.ucs.ed.ac.uk (HELO grassmarket.ucs.ed.ac.uk) (129.215.166.64)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 16:09:48 -0700
Received: from grassmarket.ucs.ed.ac.uk (localhost [127.0.0.1])
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.10) with ESMTP id j4IN9gKC017224
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 00:09:42 +0100 (BST)
Received: (from nobody@localhost)
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.9/Submit) id j4IN9gPW017222
	for java-user@lucene.apache.org; Thu, 19 May 2005 00:09:42 +0100 (BST)
X-Authentication-Warning: grassmarket.ucs.ed.ac.uk: nobody set sender to s0454888@sms.ed.ac.uk using -f
Received: from neeps.cache.ed.ac.uk (neeps.cache.ed.ac.uk [129.215.13.84]) 
	by sms.ed.ac.uk (IMP) with HTTP 
	for <s0454888@sms.ed.ac.uk>; Thu, 19 May 2005 00:09:42 +0100
Message-ID: <1116457782.428bcb36c6573@sms.ed.ac.uk>
Date: Thu, 19 May 2005 00:09:42 +0100
From: Dave Kor <s0454888@sms.ed.ac.uk>
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher GUI? Before/After query?
References: <428B6540.6030406@colaborativa.net> <1116441181.428b8a5d9d7e4@sms.ed.ac.uk> <428BA8F3.7070501@getopt.org>
In-Reply-To: <428BA8F3.7070501@getopt.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.3
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Quoting Andrzej Bialecki <ab@getopt.org>:

> Regarding Luke - actually, it would not be so difficult to implement
> this (at least for me ;-) ). Save for some minor exceptions, Luke opens
> an IndexReader once, and I could add another version of the Open dialog
> to use open multiple indexes.
>
> (I can't promise, however, to do it quickly - I'm finalizing a couple of
> projects now, so this has to wait a bit...)

No worries, I figured it out. You see, I have already written the following two
methods that would recursively search a base directory for lucene indexes, and
then automatically return either an IndexSearcher or MultiSearcher depending on
how many indexes were found. I just need to make a pair of similar methods for
creating Readers and I'm done.

public Searcher getSearcher(String path) throws IOException {
  ArrayList searchers = getSearcherImpl(new File(path), new ArrayList());

  if (searchers.size() == 0) return null;
  else if (searchers.size() == 1) return (Searcher)searchers.get(0);
  else {
    Searcher array[] = new Searcher[searchers.size()];
    System.out.println("Creating MultiSearcher (" + array.length + ")");
    array = (Searcher[])searchers.toArray(array);
    return new MultiSearcher(array);
  }
}

protected ArrayList getSearcherImpl(File file, ArrayList searchers) throws
IOException {
  if (file.isDirectory()) {
    File files[] = file.listFiles();

    for (int i = 0; i < files.length; i++) {
      if (files[i].isDirectory()) {
        searchers = getSearcherImpl(files[i], searchers);
      }
      else if (files[i].getName().equalsIgnoreCase("segments")) {
        System.out.println("Index Found: " + file.getPath());
        searchers.add(new IndexSearcher(file.getPath()));
      }
    }

  }
  return searchers;
}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 05:36:47 2005
Return-Path: <java-user-return-14526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71821 invoked from network); 19 May 2005 05:36:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 05:36:43 -0000
Received: (qmail 33722 invoked by uid 500); 19 May 2005 05:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33643 invoked by uid 500); 19 May 2005 05:35:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33523 invoked by uid 99); 19 May 2005 05:35:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpauth01.mail.atl.earthlink.net (HELO smtpauth01.mail.atl.earthlink.net) (209.86.89.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 18 May 2005 22:35:30 -0700
Received: from [67.101.220.99] (helo=x1000.msqr.us)
	by smtpauth01.mail.atl.earthlink.net with asmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.34)
	id 1DYdgq-0003CO-2G
	for java-user@lucene.apache.org; Thu, 19 May 2005 01:35:24 -0400
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j4J5ZLB5019112
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 18 May 2005 22:35:22 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j4J5ZLqw019111;
	Wed, 18 May 2005 22:35:21 -0700
Received: from 204.56.115.22
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Wed, 18 May 2005 22:35:21 -0700 (PDT)
Message-ID: <3111.204.56.115.22.1116480921.squirrel@msqr.us>
Date: Wed, 18 May 2005 22:35:21 -0700 (PDT)
Subject: Re: "docs out of order exception" in Lucene. Please help.
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-9.EL4
X-Mailer: SquirrelMail/1.4.3a-9.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-ELNK-Trace: c92cb0066eb52c129c7f779228e2f6aeda0071232e20db4df147998cda43d703b66eebc0f00c3e7a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 67.101.220.99
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In Re: to a post from 24-Mar-2005 by Matt Quail, in reference ... I'm
seeing this same exception (Windows, Lucene 1.4.3, Sun JDK 1.5.0_03) that
occurs repeatedly for me, but only during the course of running all my
application's unit tests in Ant. When I run the individual unit test I
can't get the error to occur. For me this is occuring via
IndexWriter.close(), however:

java.lang.IllegalStateException: docs out of order
 at
org.apache.lucene.index.SegmentMerger.appendPostings(SegmentMerger.java:353)
 at
org.apache.lucene.index.SegmentMerger.mergeTermInfo(SegmentMerger.java:316)
 at
org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java:290)
 at org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java:254)
 at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:93)
 at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
 at
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:440)
 at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:242)
 ...

Did anyone find a solution to this problem?

-- m@

On 24 Mar 2005 Matt Quail wrote:

I have also just seen this exception in a production system (lucene
1.4.3).

Any tips on what might be causing it? I'll be attempting to reproduce
it later, but I'm quite confident that while I'm using that
IndexWriter, no other readers are open, and no other Writers, either.

java.lang.IllegalStateException: docs out of order
 at org.apache.lucene.index.SegmentMerger.appendPostings(SegmentMerger.java:
353)
 at org.apache.lucene.index.SegmentMerger.mergeTermInfo(SegmentMerger.java:
316)
 at org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java:
290)
 at org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java:
254)
 at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:93)
 at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
 at org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:
458)
 at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
 at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)
 ...


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 07:11:58 2005
Return-Path: <java-user-return-14527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 764 invoked from network); 19 May 2005 07:11:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 07:11:58 -0000
Received: (qmail 22311 invoked by uid 500); 19 May 2005 07:10:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22200 invoked by uid 500); 19 May 2005 07:10:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22155 invoked by uid 99); 19 May 2005 07:10:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 00:10:47 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id E611823CF8
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 08:49:06 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 08852-06 for <java-user@lucene.apache.org>;
 Thu, 19 May 2005 08:49:06 +0200 (CEST)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id C7AD823CEC
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 08:49:06 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j4J6rHH2023728
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 08:53:17 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j4J6rHtY023724;
	Thu, 19 May 2005 08:53:17 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <17036.14301.109532.731332@tanto-xipolis.de>
Date: Thu, 19 May 2005 08:53:17 +0200
To: java-user@lucene.apache.org
Subject: Re: Retrieve all terms
In-Reply-To: <330E9AC5-C180-4151-B4AD-22B8610285A2@otherwise.com>
References: <428B5741.4010004@imente.com>
	<330E9AC5-C180-4151-B4AD-22B8610285A2@otherwise.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bill Tschumy writes:
> 
> On May 18, 2005, at 9:54 AM, Albert Vila wrote:
> 
> > Hi all,
> >
> > I need to retrieve all terms from an specified field filtered for  
> > another field. For example,
> >
> >  Document 1 -> <contents, " document 1 content">
> >                          <language, en>
> >
> >  Document 2 -> <contents, " document 2 content">
> >                          <language, fr>
> >
> >  Document 3 -> <contents, " document 3 content">
> >                          <language, fr>
> >
> >  Document 4 -> <contents, " document 4 content">
> >                          <language, en>
> >
> > Then, I want to retrieve all terms from the contents field, but  
> > only the ones from the documents matching the language=en.
> >
> > Is it possible with lucene?
> > Thanks
> 
> Unless I'm misunderstanding your request, not only is it possible,  
> this is what Lucene is designed for.  Just search for all documents  
> with language=en and then iterate over the hits extracting the  
> contents of the desired field.
> 
I think he doesn't want the contents but a term list for these contents.
Something like
1	  1
4	  1
content	  2
document  2
for his sample, where the number is the fequency of the term.

I don't think that you can easily get that from one lucene index.
The easiest way to get a term listing for one field of one document is
to use the term vector support. But for a document collection that would
still mean to join all term vectors of all matched documents.

I would suggest to index the different collections in separated indexes.
Then you can simply loop over all terms.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 09:16:18 2005
Return-Path: <java-user-return-14528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68672 invoked from network); 19 May 2005 09:16:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 09:16:18 -0000
Received: (qmail 70965 invoked by uid 500); 19 May 2005 09:04:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70924 invoked by uid 500); 19 May 2005 09:04:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70792 invoked by uid 99); 19 May 2005 09:04:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from csunb0.leeds.ac.uk (HELO csunb0.leeds.ac.uk) (129.11.144.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 02:04:34 -0700
Received: from csunix.leeds.ac.uk (cserv1.leeds.ac.uk [129.11.144.20])
	by csunb0.leeds.ac.uk (8.12.11/8.12.11) with ESMTP id j4J93YxT012530
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 10:03:34 +0100
Received: from cslin119.csunix.comp.leeds.ac.uk (cslin119.csunix.comp [129.11.146.119]) by csunix.leeds.ac.uk (8.12.2/) with ESMTP id j4J93YND002921 for <java-user@lucene.apache.org>; Thu, 19 May 2005 10:03:34 +0100 (BST)
From: Andy Roberts <mail@andy-roberts.net>
To: java-user@lucene.apache.org
Subject: Re: Retrieve all terms
Date: Thu, 19 May 2005 10:11:00 +0000
User-Agent: KMail/1.8
References: <428B5741.4010004@imente.com> <330E9AC5-C180-4151-B4AD-22B8610285A2@otherwise.com> <17036.14301.109532.731332@tanto-xipolis.de>
In-Reply-To: <17036.14301.109532.731332@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505191011.00420.mail@andy-roberts.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 19 May 2005 06:53, Morus Walter wrote:

> I think he doesn't want the contents but a term list for these contents.
> Something like
> 1	  1
> 4	  1
> content	  2
> document  2
> for his sample, where the number is the fequency of the term.
>
> I don't think that you can easily get that from one lucene index.
> The easiest way to get a term listing for one field of one document is
> to use the term vector support. But for a document collection that would
> still mean to join all term vectors of all matched documents.

I'm not sure if this helps. I have a method that I used when experimenting 
with Lucene. It takes in a String which contains the path for an index, opens 
a reader, enumerates each term in that index. For each term, it prints out 
the term itself its frequency, and the number of documents that term appeared 
in.

public static void viewTerms(String indexPath) throws IOException {
	
		IndexReader reader = IndexReader.open(indexPath);

		TermEnum te = reader.terms();

		while (te.next()) {
			Term currentTerm = te.term();
			
			TermPositions tp = reader.termPositions(currentTerm);
			
			int termFreq = 0;
			
			while (tp.next()) {
				termFreq += tp.freq();
			}
			
			System.out.println(currentTerm.text() + "(" + termFreq + "|" + te.docFreq() 
+ ")");
		
		}

		reader.close();
	}

HTH,
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 19:53:28 2005
Return-Path: <java-user-return-14529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47098 invoked from network); 19 May 2005 19:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 19:53:28 -0000
Received: (qmail 65422 invoked by uid 500); 19 May 2005 14:00:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65311 invoked by uid 500); 19 May 2005 14:00:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65286 invoked by uid 99); 19 May 2005 14:00:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jm.tinghir@gmail.com designates 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 07:00:15 -0700
Received: by wproxy.gmail.com with SMTP id 36so787945wra
        for <java-user@lucene.apache.org>; Thu, 19 May 2005 06:59:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=mfmjWnOfU2EUo4C/X95wHQjQRHDpi1ZwNAsj/vIV3iua9IW+LtWqim907sUeVWXMRcNvj3ZZBwczLnJ8GouVjLh421sFc0roLTRB+p+uFkrsY9T0d9rdo2DUquAgclgelg7HXNvlXFJNFk4JX1zoyR4VHhVOFr/nYSHxIXbjT3s=
Received: by 10.54.21.39 with SMTP id 39mr1016163wru;
        Thu, 19 May 2005 06:59:02 -0700 (PDT)
Received: by 10.54.63.6 with HTTP; Thu, 19 May 2005 06:59:02 -0700 (PDT)
Message-ID: <6f3b24290505190659569e5d39@mail.gmail.com>
Date: Thu, 19 May 2005 15:59:02 +0200
From: JM Tinghir <jm.tinghir@gmail.com>
Reply-To: JM Tinghir <jm.tinghir@gmail.com>
To: java-user@lucene.apache.org
Subject: Problem on query syntax
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Lucene community,
I'm facing a strange problem, that you'll probably understand as I'm
only a newbie to Lucene.

When I search "hotliner:such" I get a 0 result. ("such" gets the same)
But when I search "hotliner:such*", I get the 277 expected results!

Why is the first query not working?

Thanks,
Jean-Marie Tinghir

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 20:50:43 2005
Return-Path: <java-user-return-14530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82064 invoked from network); 19 May 2005 20:50:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 20:50:40 -0000
Received: (qmail 31887 invoked by uid 500); 19 May 2005 19:34:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31829 invoked by uid 500); 19 May 2005 19:34:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31256 invoked by uid 99); 19 May 2005 19:33:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO anjalrelay) (194.170.154.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 12:33:20 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051916475480-44538 ;
          Thu, 19 May 2005 16:47:54 +0400 
Received: from jayakumar ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051916373927-2782 ;
          Thu, 19 May 2005 16:37:39 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: Boolean Query - TooManyClauses Exception
Date: Thu, 19 May 2005 16:39:58 +0400
Organization: UAE Xchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcVcb90dnGtZumj5QwWHNZc9Ip4udg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 04:37:39 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 04:37:41 PM,
	Serialize complete at 05/19/2005 04:37:41 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 04:47:54 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 11:38:38 PM,
	Serialize complete at 05/19/2005 11:38:38 PM
Message-ID: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0012_01C55C91.6535B8C0"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C55C91.6535B8C0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="US-ASCII"

Hi,

I'm getting a TooManyClauses Exception when I try to query for a particular
date range. 

I've around 4 million documents with 21 fields each. 

The fields to search into are determined by the user - it can be field F1 or
F2 or both. 

Also there is a date range within which the results need to be restricted.

The date is indexed as a KEYWORD & the fields F1 & F2 are indexed as TEXT.

 

Following is the code I've used :

 

Term from = new Term("txnDate", format.format(dateFrom));      --> format
gives the date in yyymmdd format

Term to = new Term("txnDate", format.format(dateTo));

 

Query rangeQuery = new RangeQuery(from,to,true);

 

BooleanQuery mainQuery = new BooleanQuery();

 

// searchIn is an string array containing the fields to look into

for (int i=0; i<searchIn.length; i++) {                                

          TermQuery query = new TermQuery(new
Term(searchIn[i],searchString));

          mainQuery.add(query,false,false);

}

 

Filter queryFilter = new QueryFilter(mainQuery);

 

Sort sort = new Sort("txnDate",true);

Hits hits = searcher.search(rangeQuery,queryFilter,sort);

 

I'm not sure of the way I've constructed the Query. I had used the
BooleanQuery to enable searching in multiple fields.

I'm able to get results to a max. date range of 2 years beyond which it
throws the subject exception.

Any better way to construct the query? 

 

tia

Jayakumar.V


------=_NextPart_000_0012_01C55C91.6535B8C0--


From java-user-return-14531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 20:50:48 2005
Return-Path: <java-user-return-14531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82969 invoked from network); 19 May 2005 20:50:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 20:50:47 -0000
Received: (qmail 32046 invoked by uid 500); 19 May 2005 19:34:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31909 invoked by uid 500); 19 May 2005 19:34:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31737 invoked by uid 99); 19 May 2005 19:34:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jayakumar.v@uaeexchange.com designates 194.170.154.6 as permitted sender)
Received: from Unknown (HELO anjalrelay) (194.170.154.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 12:33:46 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051918020111-44884 ;
          Thu, 19 May 2005 18:02:01 +0400 
Received: from jayakumar ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005051917514592-3099 ;
          Thu, 19 May 2005 17:51:45 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: FW: Boolean Query - TooManyClauses Exception
Date: Thu, 19 May 2005 17:54:05 +0400
Organization: UAE Xchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcVcb90dnGtZumj5QwWHNZc9Ip4udgACablw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 05:51:46 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 05:51:47 PM,
	Serialize complete at 05/19/2005 05:51:47 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 06:02:01 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/19/2005 11:39:01 PM,
	Serialize complete at 05/19/2005 11:39:01 PM
Message-ID: <OF47221B48.F0482324-ON44257006.004C268E@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003A_01C55C9B.BF7BE020"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003A_01C55C9B.BF7BE020
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="US-ASCII"

Hi,

Further to the below, if I remove the RangeQuery, it works beautifully.  :-(


Any pointers to where the issue is ?

 

jayakumar.v

 

  _____  

From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com] 
Sent: Thursday, May 19, 2005 16:40 PM
To: 'java-user@lucene.apache.org'
Subject: Boolean Query - TooManyClauses Exception

 

Hi,

I'm getting a TooManyClauses Exception when I try to query for a particular
date range. 

I've around 4 million documents with 21 fields each. 

The fields to search into are determined by the user - it can be field F1 or
F2 or both. 

Also there is a date range within which the results need to be restricted.

The date is indexed as a KEYWORD & the fields F1 & F2 are indexed as TEXT.

 

Following is the code I've used :

 

Term from = new Term("txnDate", format.format(dateFrom));      --> format
gives the date in yyymmdd format

Term to = new Term("txnDate", format.format(dateTo));

 

Query rangeQuery = new RangeQuery(from,to,true);

 

BooleanQuery mainQuery = new BooleanQuery();

 

// searchIn is an string array containing the fields to look into

for (int i=0; i<searchIn.length; i++) {                                

          TermQuery query = new TermQuery(new
Term(searchIn[i],searchString));

          mainQuery.add(query,false,false);

}

 

Filter queryFilter = new QueryFilter(mainQuery);

 

Sort sort = new Sort("txnDate",true);

Hits hits = searcher.search(rangeQuery,queryFilter,sort);

 

I'm not sure of the way I've constructed the Query. I had used the
BooleanQuery to enable searching in multiple fields.

I'm able to get results to a max. date range of 2 years beyond which it
throws the subject exception.

Any better way to construct the query? 

 

tia

Jayakumar.V


------=_NextPart_000_003A_01C55C9B.BF7BE020--


From java-user-return-14532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 21:06:51 2005
Return-Path: <java-user-return-14532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5084 invoked from network); 19 May 2005 21:06:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 21:06:50 -0000
Received: (qmail 55108 invoked by uid 500); 19 May 2005 20:26:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55052 invoked by uid 500); 19 May 2005 20:26:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55020 invoked by uid 99); 19 May 2005 20:26:02 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 13:24:54 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2614D5B7DD; Thu, 19 May 2005 10:12:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id BA9C87F45C
	for <java-user@lucene.apache.org>; Thu, 19 May 2005 10:12:06 -0700 (PDT)
Date: Thu, 19 May 2005 10:12:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Retrieve all terms
In-Reply-To: <17036.14301.109532.731332@tanto-xipolis.de>
Message-ID: <Pine.LNX.4.58.0505191007190.14882@hal.rescomp.berkeley.edu>
References: <428B5741.4010004@imente.com> <330E9AC5-C180-4151-B4AD-22B8610285A2@otherwise.com>
 <17036.14301.109532.731332@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > > Then, I want to retrieve all terms from the contents field, but
: > > only the ones from the documents matching the language=en.

I think what you want is to...

1) open an IndexReader r.
2) create a QueryFilter q wrapping a TermQuery for language:en
3) BitSet en = q.bits(r);
4) open a TermEnum using r.terms()
5) for each term, get a TermDocs positioned at that term.
5) for each doc in the TermDocs, if the corrisponding bit is set in "en"
   then print the term, and advance your TermEnum; if not, then advance
   your TermDoc.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 21:48:36 2005
Return-Path: <java-user-return-14533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44479 invoked from network); 19 May 2005 21:48:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 21:48:36 -0000
Received: (qmail 52152 invoked by uid 500); 19 May 2005 21:43:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52086 invoked by uid 500); 19 May 2005 21:43:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52048 invoked by uid 99); 19 May 2005 21:43:32 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from smtprelay04.ispgateway.de (HELO smtprelay04.ispgateway.de) (80.67.18.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 14:43:24 -0700
Received: (qmail 15886 invoked from network); 19 May 2005 21:36:31 -0000
Received: from unknown (HELO p54964BA0.dip.t-dialin.net) ([pbs]937788@[84.150.75.160])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 19 May 2005 21:36:31 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Boolean Query - TooManyClauses Exception
Date: Thu, 19 May 2005 23:37:10 +0200
User-Agent: KMail/1.8
References: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
In-Reply-To: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505192337.10905@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 19 May 2005 14:39, Jayakumar.V wrote:

> I'm getting a TooManyClauses Exception when I try to query for a
> particular date range.

See
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-06fafb5d19e786a50fb3dfb8821a6af9f37aa831

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 19 22:26:08 2005
Return-Path: <java-user-return-14534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62374 invoked from network); 19 May 2005 22:26:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2005 22:26:07 -0000
Received: (qmail 25155 invoked by uid 500); 19 May 2005 22:26:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25093 invoked by uid 500); 19 May 2005 22:26:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25038 invoked by uid 99); 19 May 2005 22:25:58 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 19 May 2005 15:25:57 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B2D1B5B787; Thu, 19 May 2005 15:25:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id B1B777F45E; Thu, 19 May 2005 15:25:40 -0700 (PDT)
Date: Thu, 19 May 2005 15:25:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, JM Tinghir <jm.tinghir@gmail.com>
Subject: Re: Problem on query syntax
In-Reply-To: <6f3b24290505190659569e5d39@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0505191521340.404@hal.rescomp.berkeley.edu>
References: <6f3b24290505190659569e5d39@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: When I search "hotliner:such" I get a 0 result. ("such" gets the same)
: But when I search "hotliner:such*", I get the 277 expected results!

Check your analyzer.  Wildcard queries are not analized by the query
parser, but term queries are ... so maybe the analyzer you are using at
query time is modifying the term somehow (or treating it as a stop word)

see also ...

http://wiki.apache.org/jakarta-lucene/AnalysisParalysis



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 07:31:02 2005
Return-Path: <java-user-return-14535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53836 invoked from network); 20 May 2005 07:31:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 07:31:02 -0000
Received: (qmail 26028 invoked by uid 500); 20 May 2005 07:30:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25981 invoked by uid 500); 20 May 2005 07:30:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25956 invoked by uid 99); 20 May 2005 07:30:52 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jm.tinghir@gmail.com designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 00:30:51 -0700
Received: by wproxy.gmail.com with SMTP id 36so1132675wra
        for <java-user@lucene.apache.org>; Fri, 20 May 2005 00:30:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=j9lGJZ99D+DWqBrLisELy/mNiLc+ImbzBeV1k+tr1IzmEQx2NLgPuRx+vVuhrFNg+gC9X1t2hVjZ75DH5QCcf7d8VzJ6UiQ0xk2/JAdA+l4HweKMAkjt2Q8xa+Y3pMOdN6VUTeVk7Mz9nRvGkOVfQNyKedUtlP2C9gVO6QFszJo=
Received: by 10.54.47.1 with SMTP id u1mr431229wru;
        Fri, 20 May 2005 00:30:41 -0700 (PDT)
Received: by 10.54.63.6 with HTTP; Fri, 20 May 2005 00:30:41 -0700 (PDT)
Message-ID: <6f3b242905052000302ee4f3ab@mail.gmail.com>
Date: Fri, 20 May 2005 09:30:41 +0200
From: JM Tinghir <jm.tinghir@gmail.com>
Reply-To: JM Tinghir <jm.tinghir@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Problem on query syntax
In-Reply-To: <Pine.LNX.4.58.0505191521340.404@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6f3b24290505190659569e5d39@mail.gmail.com>
	 <Pine.LNX.4.58.0505191521340.404@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> : When I search "hotliner:such" I get a 0 result. ("such" gets the same)
> : But when I search "hotliner:such*", I get the 277 expected results!
>=20
> (or treating it as a stop word)

You're right!
Unfortunately someone's name in my company is 'such' and you made me
realize that it's also a common english word. It's in the
StopAnalyzer.ENGLISH_STOP_WORDS.
I'll try to handle that...

Thanks,
Jean-Marie Tinghir

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 07:40:59 2005
Return-Path: <java-user-return-14536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57164 invoked from network); 20 May 2005 07:40:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 07:40:59 -0000
Received: (qmail 49702 invoked by uid 500); 20 May 2005 07:40:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49675 invoked by uid 500); 20 May 2005 07:40:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49652 invoked by uid 99); 20 May 2005 07:40:48 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 00:40:46 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 46D385B797; Fri, 20 May 2005 00:40:28 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 3F1577F45E; Fri, 20 May 2005 00:40:28 -0700 (PDT)
Date: Fri, 20 May 2005 00:40:28 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, JM Tinghir <jm.tinghir@gmail.com>
Subject: Re: Problem on query syntax
In-Reply-To: <6f3b242905052000302ee4f3ab@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0505200039140.8902@hal.rescomp.berkeley.edu>
References: <6f3b24290505190659569e5d39@mail.gmail.com> 
 <Pine.LNX.4.58.0505191521340.404@hal.rescomp.berkeley.edu>
 <6f3b242905052000302ee4f3ab@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: You're right!
: Unfortunately someone's name in my company is 'such' and you made me
: realize that it's also a common english word. It's in the
: StopAnalyzer.ENGLISH_STOP_WORDS.
: I'll try to handle that...

if you have a field that is used exclusively for names of people, you may
want to use a different analyzer for that field -- there is a
"PerFieldAnalyzer" class that should make that easy (if i remember the
name correctly)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 09:04:11 2005
Return-Path: <java-user-return-14537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89114 invoked from network); 20 May 2005 09:04:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 09:04:11 -0000
Received: (qmail 60611 invoked by uid 500); 20 May 2005 09:04:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60563 invoked by uid 500); 20 May 2005 09:04:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 82835 invoked by uid 500); 20 May 2005 07:55:35 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Susanne.Moeckl@cursor.de designates 80.146.211.186 as permitted sender)
Subject: Problem with query and wildcard
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C55D11.47963C7B"
Date: Fri, 20 May 2005 09:55:24 +0200
Message-ID: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de>
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problem with query and wildcard
Thread-Index: AcVdEUd2ISC7/W9QTbKEvciBim4mfA==
From: =?iso-8859-1?Q?M=F6ckl_Susanne?= <Susanne.Moeckl@cursor.de>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C55D11.47963C7B
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I=B4m using lucene for 2 month and now I have a big problem.

=20

In my index are (for example) 4 documents which contains the word =
simone.

The problem is that lucene does not find all documents by some inputs.

=20

To explain here some examples and what they return:

=20

            input: simone    returns: 4 hits

            input: simon      returns: 4 hits

            input: simo        returns: 4 hits

            input: sim         returns: 0 hits

=20

            input: sim*        returns: 4 hits

            input: simo*      returns: 4 hits

            input: simon*     returns: 0 hits

            input: simon?    returns: 0 hits

=20

The returns are not correct. Why does lucene find all results when =
writing simo without wildcard but no result when writing simon with =
wildcard.=20

What is lucene doing with the input? (I=B4m using GermanAnalyzer)

=20

Have I made something wrong or is this a problem from lucene?

=20

Thanks for any kind of help!

=20

Susanne

=20

P.S.: sorry for my bad english=20

=20


------_=_NextPart_001_01C55D11.47963C7B--

From java-user-return-14538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 09:29:44 2005
Return-Path: <java-user-return-14538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98927 invoked from network); 20 May 2005 09:29:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 09:29:44 -0000
Received: (qmail 35486 invoked by uid 500); 20 May 2005 09:29:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35327 invoked by uid 500); 20 May 2005 09:29:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35313 invoked by uid 99); 20 May 2005 09:29:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 02:29:32 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 385B513E2006; Fri, 20 May 2005 05:28:26 -0400 (EDT)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id D273C13E2006
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 05:28:06 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de>
References: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <7D17C02D-501A-4A23-96DF-938C515B6C8E@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem with query and wildcard
Date: Fri, 20 May 2005 05:28:05 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 20, 2005, at 3:55 AM, M=F6ckl Susanne wrote:
> In my index are (for example) 4 documents which contains the word =20
> simone.
>
> The problem is that lucene does not find all documents by some inputs.
>
> To explain here some examples and what they return:
>
>
>             input: simone    returns: 4 hits
>             input: simon      returns: 4 hits
>             input: simo        returns: 4 hits
>             input: sim         returns: 0 hits
>             input: sim*        returns: 4 hits
>             input: simo*      returns: 4 hits
>             input: simon*     returns: 0 hits
>             input: simon?    returns: 0 hits
>
> The returns are not correct. Why does lucene find all results when =20
> writing simo without wildcard but no result when writing simon with =20=

> wildcard.
>
> What is lucene doing with the input? (I=B4m using GermanAnalyzer)
>
> Have I made something wrong or is this a problem from lucene?

Thanks for specifying which Analyzer you're using.  That is the key =20
to this issue.  GermanAnalyzer analyzes "simone", "simon", and "simo" =20=

to "simo", and "sim" is unchanged.  So the first four queries you =20
provided are explained in this manner (you're using GermanAnalyzer =20
with QueryParser also, I presume).

QueryParser does not analyze wildcard queries and remember that =20
"simo" is what was indexed, so "sim*" and "simo*" work.  "simon*" and =20=

"simon?" do not because nothing was indexed with the prefix "simon".

Make sense?

So what's the solution?  You'll need to tinker with the analyzer =20
decision until you find one that works for you.  The AnalyzerDemo =20
program that comes with the source code to Lucene in Action will =20
help.  Download the source code from www.lucenebook.com, unzip it, =20
and run "ant AnalyzerDemo".  To help in my reply, I adjusted the =20
AnalyzerDemo code locally adding the last items in each of the arrays =20=

like this:

   private static final String[] examples =3D {
     "The quick brown fox jumped over the lazy dogs",
     "XY&Z Corporation - xyz@example.com",
     "simone simon simo sim"
   };

   private static final Analyzer[] analyzers =3D new Analyzer[]{
     new WhitespaceAnalyzer(),
     new SimpleAnalyzer(),
     new StopAnalyzer(),
     new StandardAnalyzer(),
     new GermanAnalyzer()
   };

and got this relevant output:

Analyzing "simone simon simo sim"
   WhitespaceAnalyzer:
     [simone] [simon] [simo] [sim]

   SimpleAnalyzer:
     [simone] [simon] [simo] [sim]

   StopAnalyzer:
     [simone] [simon] [simo] [sim]

   StandardAnalyzer:
     [simone] [simon] [simo] [sim]

   GermanAnalyzer:
     [simo] [simo] [simo] [sim]



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 10:15:19 2005
Return-Path: <java-user-return-14539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15669 invoked from network); 20 May 2005 10:15:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 10:15:19 -0000
Received: (qmail 67816 invoked by uid 500); 20 May 2005 10:15:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67728 invoked by uid 500); 20 May 2005 10:15:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67680 invoked by uid 99); 20 May 2005 10:15:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 03:15:03 -0700
Received: from [192.168.128.211] (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with ESMTP id j4K9UXsK010441
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 12:30:33 +0300
Message-ID: <428DAE38.7080905@sirma.bg>
Date: Fri, 20 May 2005 12:30:32 +0300
From: Stanislav Jordanov <stenly@sirma.bg>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: a "real" PhrasePrefixQuery
References: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de>
In-Reply-To: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a Lucene Query (or something that will do a job) like:
"Star Wars tri*"

that will match all docs containing a 3 word phrase: 'Star' followed by 
'Wars' followed by a word starting with 'tri'.

I.e. the above query will match both "Star Wars trilogy" and "Star Wars 
triumph".

(I know about PhrasePrefixQuery and I know it is does something totally 
different, that's why I've named my post this way ;)


Regards,
Stanislav

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 11:51:21 2005
Return-Path: <java-user-return-14540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57026 invoked from network); 20 May 2005 11:51:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 11:51:21 -0000
Received: (qmail 29740 invoked by uid 500); 20 May 2005 11:51:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29652 invoked by uid 500); 20 May 2005 11:51:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29632 invoked by uid 99); 20 May 2005 11:51:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 04:51:06 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4KBod79031603
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 13:50:40 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: a "real" PhrasePrefixQuery
Date: Fri, 20 May 2005 13:50:39 +0200
User-Agent: KMail/1.5.4
References: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de> <428DAE38.7080905@sirma.bg>
In-Reply-To: <428DAE38.7080905@sirma.bg>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505201350.39707.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 20 May 2005 11:30, Stanislav Jordanov wrote:
> Is there a Lucene Query (or something that will do a job) like:
> "Star Wars tri*"
> 
> that will match all docs containing a 3 word phrase: 'Star' followed by 
> 'Wars' followed by a word starting with 'tri'.
> 
> I.e. the above query will match both "Star Wars trilogy" and "Star Wars 
> triumph".

You'll need an ordered SpanNearQuery over the following:
- SpanTermQuery for "Star"
- SpanTermQuery for "Wars"
- SpanOrQuery over all SpanTermQuery's for terms matching tri*.

The last one should be a SpanPrefixQuery, but that one is not
available. Have a look in PrefixQuery.rewrite() on how to find all
terms matching tri*, it's fairly straightforward.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 11:58:51 2005
Return-Path: <java-user-return-14541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59622 invoked from network); 20 May 2005 11:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 11:58:51 -0000
Received: (qmail 48986 invoked by uid 500); 20 May 2005 11:58:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48961 invoked by uid 500); 20 May 2005 11:58:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48948 invoked by uid 99); 20 May 2005 11:58:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from panacea.is.nl (HELO panacea.is.nl) (213.133.34.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 04:58:39 -0700
Received: from hai01.hippo.local ([213.133.51.241]) by panacea.is.nl with Microsoft SMTPSVC(5.0.2195.4905);
	 Fri, 20 May 2005 13:57:30 +0200
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: mutiple index question
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Date: Fri, 20 May 2005 13:58:33 +0200
Message-ID: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: mutiple index question
Thread-Index: AcVdMz75uss44gouTI6WURzV3rW/mA==
From: "Max Pfingsthorn" <m.pfingsthorn@hippo.nl>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 20 May 2005 11:57:30.0360 (UTC) FILETIME=[19915F80:01C55D33]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I was wondering if Lucene has any sort of functionality to distribute =
indices so that different fields are stored in separate indices but they =
still refer to the same document. This would be great for a situation =
where there are many large documents which have frequently changing =
properties. Content and properties could be indexed separately. Even =
different sets of properties could be combined in maybe different =
MultiSearcher instances to speed up querying...

Any ideas on this?

Best regards,

Max Pfingsthorn

Hippo =20

Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
m.pfingsthorn@hippo.nl / www.hippo.nl
--------------------------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 12:11:32 2005
Return-Path: <java-user-return-14542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65057 invoked from network); 20 May 2005 12:11:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 12:11:32 -0000
Received: (qmail 78621 invoked by uid 500); 20 May 2005 12:11:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78563 invoked by uid 500); 20 May 2005 12:11:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78550 invoked by uid 99); 20 May 2005 12:11:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr2.xs4all.nl (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 05:11:25 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4KCBAB5090911
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 14:11:11 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: mutiple index question
Date: Fri, 20 May 2005 14:11:10 +0200
User-Agent: KMail/1.5.4
References: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local>
In-Reply-To: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505201411.10554.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 20 May 2005 13:58, Max Pfingsthorn wrote:
> Hi!
> 
> I was wondering if Lucene has any sort of functionality to distribute 
indices so that different fields are stored in separate indices but they 
still refer to the same document. This would be great for a situation where 
there are many large documents which have frequently changing properties. 
Content and properties could be indexed separately. Even different sets of 
properties could be combined in maybe different MultiSearcher instances to 
speed up querying...
> 
> Any ideas on this?

Lucene doesn't have this, so you'll have to split your docs over two different
Lucene indexes and adapt the search accordingly. Cached filtering helps a
lot, but setting up a filter can still be costly.

Regards,
Paul Elschot




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 14:26:42 2005
Return-Path: <java-user-return-14543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75948 invoked from network); 20 May 2005 14:26:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 14:26:42 -0000
Received: (qmail 91037 invoked by uid 500); 20 May 2005 14:26:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90967 invoked by uid 500); 20 May 2005 14:26:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90953 invoked by uid 99); 20 May 2005 14:26:22 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP,RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 07:26:20 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1DZ8Of-0008LP-1i
	for java-user@lucene.apache.org; Fri, 20 May 2005 16:22:41 +0200
Received: from 12.148.251.114 ([12.148.251.114])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 20 May 2005 16:22:41 +0200
Received: from rnewson by 12.148.251.114 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 20 May 2005 16:22:41 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Robert Newson <rnewson@connected.com>
Subject:  Re: mutiple index question
Date:  Fri, 20 May 2005 10:21:45 -0400
Lines: 27
Message-ID: <d6krnq$96t$1@sea.gmane.org>
References:  <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local> <200505201411.10554.paul.elschot@xs4all.nl>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 12.148.251.114
User-Agent: Debian Thunderbird 1.0.2 (X11/20050331)
X-Accept-Language: en-us, en
In-Reply-To: <200505201411.10554.paul.elschot@xs4all.nl>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:
> On Friday 20 May 2005 13:58, Max Pfingsthorn wrote:
> 
>>Hi!
>>
>>I was wondering if Lucene has any sort of functionality to distribute 
> 
> indices so that different fields are stored in separate indices but they 
> still refer to the same document. This would be great for a situation where 
> there are many large documents which have frequently changing properties. 
> Content and properties could be indexed separately. Even different sets of 
> properties could be combined in maybe different MultiSearcher instances to 
> speed up querying...
> 
>>Any ideas on this?
> 
> 
> Lucene doesn't have this, so you'll have to split your docs over two different
> Lucene indexes and adapt the search accordingly. Cached filtering helps a
> lot, but setting up a filter can still be costly.
> 
> Regards,
> Paul Elschot

Isn't this achieved by the new ParallelReader in CVS?

B.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 15:21:13 2005
Return-Path: <java-user-return-14544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98084 invoked from network); 20 May 2005 15:21:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 15:21:13 -0000
Received: (qmail 98507 invoked by uid 500); 20 May 2005 15:21:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98442 invoked by uid 500); 20 May 2005 15:21:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98416 invoked by uid 99); 20 May 2005 15:21:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lakermmtao09.cox.net (HELO lakermmtao09.cox.net) (68.230.240.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 08:21:00 -0700
Received: from [192.168.2.85] (really [70.187.212.165])
          by lakermmtao09.cox.net
          (InterMail vM.6.01.04.00 201-2131-118-20041027) with ESMTP
          id <20050520152045.OGEV6804.lakermmtao09.cox.net@[192.168.2.85]>
          for <java-user@lucene.apache.org>;
          Fri, 20 May 2005 11:20:45 -0400
Message-ID: <428E0054.1060603@net-frame.com>
Date: Fri, 20 May 2005 11:20:52 -0400
From: Terry Steichen <terry@net-frame.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: a "real" PhrasePrefixQuery
References: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de> <428DAE38.7080905@sirma.bg> <200505201350.39707.paul.elschot@xs4all.nl>
In-Reply-To: <200505201350.39707.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul,

Could you flesh out the implementation you describe below with some code 
or pseudocode?

Regards,

Terry


Paul Elschot wrote:

>On Friday 20 May 2005 11:30, Stanislav Jordanov wrote:
>  
>
>>Is there a Lucene Query (or something that will do a job) like:
>>"Star Wars tri*"
>>
>>that will match all docs containing a 3 word phrase: 'Star' followed by 
>>'Wars' followed by a word starting with 'tri'.
>>
>>I.e. the above query will match both "Star Wars trilogy" and "Star Wars 
>>triumph".
>>    
>>
>
>You'll need an ordered SpanNearQuery over the following:
>- SpanTermQuery for "Star"
>- SpanTermQuery for "Wars"
>- SpanOrQuery over all SpanTermQuery's for terms matching tri*.
>
>The last one should be a SpanPrefixQuery, but that one is not
>available. Have a look in PrefixQuery.rewrite() on how to find all
>terms matching tri*, it's fairly straightforward.
>
>Regards,
>Paul Elschot
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 19:00:30 2005
Return-Path: <java-user-return-14545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11556 invoked from network); 20 May 2005 19:00:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 19:00:29 -0000
Received: (qmail 36464 invoked by uid 500); 20 May 2005 19:00:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36425 invoked by uid 500); 20 May 2005 19:00:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36410 invoked by uid 99); 20 May 2005 19:00:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr9.xs4all.nl (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 12:00:18 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4KIxvMx011537
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 20:59:57 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: mutiple index question
Date: Fri, 20 May 2005 20:59:57 +0200
User-Agent: KMail/1.5.4
References: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local> <200505201411.10554.paul.elschot@xs4all.nl> <d6krnq$96t$1@sea.gmane.org>
In-Reply-To: <d6krnq$96t$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505202059.57179.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 20 May 2005 16:21, Robert Newson wrote:
> Paul Elschot wrote:
> > On Friday 20 May 2005 13:58, Max Pfingsthorn wrote:
> > 
> >>Hi!
> >>
> >>I was wondering if Lucene has any sort of functionality to distribute 
> > 
> > indices so that different fields are stored in separate indices but they 
> > still refer to the same document. This would be great for a situation 
where 
> > there are many large documents which have frequently changing properties. 
> > Content and properties could be indexed separately. Even different sets of 
> > properties could be combined in maybe different MultiSearcher instances to 
> > speed up querying...
> > 
> >>Any ideas on this?
> > 
> > 
> > Lucene doesn't have this, so you'll have to split your docs over two 
different
> > Lucene indexes and adapt the search accordingly. Cached filtering helps a
> > lot, but setting up a filter can still be costly.
> > 
> > Regards,
> > Paul Elschot
> 
> Isn't this achieved by the new ParallelReader in CVS?

Without having had a look at that code: probably not, because
a reader does not know which field is the primary key.

The problem with the two indexes above is that a single document has
different fields in both of them.  Usually a search would start in the
"properties" index, retrieve the found primary keys from there, 
then use these primary keys to set up a filter in the "content" index,
and then repeatedly search in the content text limiting to this filter.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 19:25:43 2005
Return-Path: <java-user-return-14546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51064 invoked from network); 20 May 2005 19:25:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 19:25:43 -0000
Received: (qmail 3499 invoked by uid 500); 20 May 2005 19:25:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3447 invoked by uid 500); 20 May 2005 19:25:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3422 invoked by uid 99); 20 May 2005 19:25:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr2.xs4all.nl (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 12:25:02 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4KIo7rT007242
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 20:50:07 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: a "real" PhrasePrefixQuery
Date: Fri, 20 May 2005 20:50:07 +0200
User-Agent: KMail/1.5.4
References: <C78DBB2E0F37A945B201432A61F1FF0C110FEA@elektra.cursor.de> <200505201350.39707.paul.elschot@xs4all.nl> <428E0054.1060603@net-frame.com>
In-Reply-To: <428E0054.1060603@net-frame.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505202050.07625.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 20 May 2005 17:20, Terry Steichen wrote:
> Paul,
> 
> Could you flesh out the implementation you describe below with some code 
> or pseudocode?

You can start from this:
http://issues.apache.org/bugzilla/show_bug.cgi?id=34331
and use code from the method in src/java
org.surround.search.SpanNearClauseFactory.makeSpanNearClause()
and from the classes SrndPrefixQuery and SimpleTerm.

But it's probably easier to start from the javadocs of the 
org.apache.lucene.search.span package and the java code
from the 1.4.3 PrefixQuery.

Have a nice weekend,
Paul Elschot

> Regards,
> 
> Terry
> 
> 
> Paul Elschot wrote:
> 
> >On Friday 20 May 2005 11:30, Stanislav Jordanov wrote:
> >  
> >
> >>Is there a Lucene Query (or something that will do a job) like:
> >>"Star Wars tri*"
> >>
> >>that will match all docs containing a 3 word phrase: 'Star' followed by 
> >>'Wars' followed by a word starting with 'tri'.
> >>
> >>I.e. the above query will match both "Star Wars trilogy" and "Star Wars 
> >>triumph".
> >>    
> >>
> >
> >You'll need an ordered SpanNearQuery over the following:
> >- SpanTermQuery for "Star"
> >- SpanTermQuery for "Wars"
> >- SpanOrQuery over all SpanTermQuery's for terms matching tri*.
> >
> >The last one should be a SpanPrefixQuery, but that one is not
> >available. Have a look in PrefixQuery.rewrite() on how to find all
> >terms matching tri*, it's fairly straightforward.
> >
> >Regards,
> >Paul Elschot
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >  
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 19:30:19 2005
Return-Path: <java-user-return-14547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53073 invoked from network); 20 May 2005 19:30:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 19:30:19 -0000
Received: (qmail 15057 invoked by uid 500); 20 May 2005 19:30:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15027 invoked by uid 500); 20 May 2005 19:30:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15006 invoked by uid 99); 20 May 2005 19:30:10 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from grassmarket.ucs.ed.ac.uk (HELO grassmarket.ucs.ed.ac.uk) (129.215.166.64)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 12:30:08 -0700
Received: from grassmarket.ucs.ed.ac.uk (localhost [127.0.0.1])
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.10) with ESMTP id j4KJTtKC020151
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 20:29:55 +0100 (BST)
Received: (from nobody@localhost)
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.9/Submit) id j4KJTtpJ020150
	for java-user@lucene.apache.org; Fri, 20 May 2005 20:29:55 +0100 (BST)
X-Authentication-Warning: grassmarket.ucs.ed.ac.uk: nobody set sender to s0454888@sms.ed.ac.uk using -f
Received: from beans.cache.ed.ac.uk (beans.cache.ed.ac.uk [129.215.16.12]) 
	by sms.ed.ac.uk (IMP) with HTTP 
	for <s0454888@sms.ed.ac.uk>; Fri, 20 May 2005 20:29:54 +0100
Message-ID: <1116617394.428e3ab2e285b@sms.ed.ac.uk>
Date: Fri, 20 May 2005 20:29:54 +0100
From: Dave Kor <s0454888@sms.ed.ac.uk>
To: java-user@lucene.apache.org
Subject: A special PhraseQuery
References: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local> <200505201411.10554.paul.elschot@xs4all.nl>
In-Reply-To: <200505201411.10554.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.3
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all, its me again.

I'm in need of a special version of the phrase query. For example, given a
search phrase "alpha beta gamma", I'ld like a to score documents something like
the following manner.

If document contains exactly "alpha beta gamma", score = 1
If document contains "alpha gamma beta" score = 0.9
If document contains "gamma alpha beta" score = 0.8
If document contains "gamma beta alpha" score = 0.7
If document contains "alpha beta" score = 0.666
If document contains "beta gamma" score = 0.666
If document contains "alpha gamma" score = 0.666
If document contains "alpha" score = 0.333
If document contains "beta"  score = 0.333
If document contains "gamma" score = 0.333


Has anyone done something like this? Or do I have to take apart and rewrite
PhraseScorer or SloppyPhraseScorer to achieve this?


Regards,
Dave Kor.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 19:45:29 2005
Return-Path: <java-user-return-14548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 143 invoked from network); 20 May 2005 19:45:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 19:45:29 -0000
Received: (qmail 47522 invoked by uid 500); 20 May 2005 19:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47424 invoked by uid 500); 20 May 2005 19:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47409 invoked by uid 99); 20 May 2005 19:45:19 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 12:45:18 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AE4E25B7E2; Fri, 20 May 2005 12:45:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A900B7F45E
	for <java-user@lucene.apache.org>; Fri, 20 May 2005 12:45:04 -0700 (PDT)
Date: Fri, 20 May 2005 12:45:04 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: A special PhraseQuery
In-Reply-To: <1116617394.428e3ab2e285b@sms.ed.ac.uk>
Message-ID: <Pine.LNX.4.58.0505201242460.19402@hal.rescomp.berkeley.edu>
References: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local>
 <200505201411.10554.paul.elschot@xs4all.nl> <1116617394.428e3ab2e285b@sms.ed.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: I'm in need of a special version of the phrase query. For example, given a
: search phrase "alpha beta gamma", I'ld like a to score documents something like
: the following manner.

it sounds like what you want isn't really a special type of query, it's a
special type of query parser.

all of hte individual cases you describe can be handled using Span
queries, and Term queries, you just need to wrap them all up in a
BooleanQuery with the various weights that you want.

: If document contains exactly "alpha beta gamma", score = 1
: If document contains "alpha gamma beta" score = 0.9
: If document contains "gamma alpha beta" score = 0.8
: If document contains "gamma beta alpha" score = 0.7
: If document contains "alpha beta" score = 0.666
: If document contains "beta gamma" score = 0.666
: If document contains "alpha gamma" score = 0.666
: If document contains "alpha" score = 0.333
: If document contains "beta"  score = 0.333
: If document contains "gamma" score = 0.333


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 22:09:43 2005
Return-Path: <java-user-return-14549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67768 invoked from network); 20 May 2005 22:09:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 22:09:43 -0000
Received: (qmail 61072 invoked by uid 500); 20 May 2005 22:09:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61054 invoked by uid 500); 20 May 2005 22:09:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61034 invoked by uid 99); 20 May 2005 22:09:32 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.162.200 as permitted sender)
Received: from zproxy.gmail.com (HELO zproxy.gmail.com) (64.233.162.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 15:09:30 -0700
Received: by zproxy.gmail.com with SMTP id 12so1185376nzp
        for <java-user@lucene.apache.org>; Fri, 20 May 2005 15:09:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=RNN9xaxPHXTXCLIvC7u3SaPCDR5IqzMot1/8wyIFIkh0afO31xjSGVw8YFHqaAEpfvZonoAShLhwvTGkrufYaEFgl/38AG9/V0qDHDKwh3rRuS93U+jxoZzK05pgH8UYgtwcS0BWCJcesPC/Kw3VgxHwSn7gEPJj9LCQ3ZHQn80=
Received: by 10.36.157.1 with SMTP id f1mr1064228nze;
        Fri, 20 May 2005 15:09:13 -0700 (PDT)
Received: by 10.36.10.19 with HTTP; Fri, 20 May 2005 15:09:13 -0700 (PDT)
Message-ID: <8837fb77050520150915326609@mail.gmail.com>
Date: Fri, 20 May 2005 15:09:13 -0700
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: java-user@lucene.apache.org, jayakumar.v@uaeexchange.com
Subject: Re: Boolean Query - TooManyClauses Exception
In-Reply-To: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Any reason why Range query doesn't just iterate over the terms of the
field instead of creating a large BooleanQuery with term queries?

Are there any specific difficultites in doing so or any other impacts?

Thanks

-John

On 5/19/05, Jayakumar.V <jayakumar.v@uaeexchange.com> wrote:
> Hi,
>=20
> I'm getting a TooManyClauses Exception when I try to query for a particul=
ar
> date range.
>=20
> I've around 4 million documents with 21 fields each.
>=20
> The fields to search into are determined by the user - it can be field F1=
 or
> F2 or both.
>=20
> Also there is a date range within which the results need to be restricted=
.
>=20
> The date is indexed as a KEYWORD & the fields F1 & F2 are indexed as TEXT=
.
>=20
>=20
>=20
> Following is the code I've used :
>=20
>=20
>=20
> Term from =3D new Term("txnDate", format.format(dateFrom));      --> form=
at
> gives the date in yyymmdd format
>=20
> Term to =3D new Term("txnDate", format.format(dateTo));
>=20
>=20
>=20
> Query rangeQuery =3D new RangeQuery(from,to,true);
>=20
>=20
>=20
> BooleanQuery mainQuery =3D new BooleanQuery();
>=20
>=20
>=20
> // searchIn is an string array containing the fields to look into
>=20
> for (int i=3D0; i<searchIn.length; i++) {
>=20
>           TermQuery query =3D new TermQuery(new
> Term(searchIn[i],searchString));
>=20
>           mainQuery.add(query,false,false);
>=20
> }
>=20
>=20
>=20
> Filter queryFilter =3D new QueryFilter(mainQuery);
>=20
>=20
>=20
> Sort sort =3D new Sort("txnDate",true);
>=20
> Hits hits =3D searcher.search(rangeQuery,queryFilter,sort);
>=20
>=20
>=20
> I'm not sure of the way I've constructed the Query. I had used the
> BooleanQuery to enable searching in multiple fields.
>=20
> I'm able to get results to a max. date range of 2 years beyond which it
> throws the subject exception.
>=20
> Any better way to construct the query?
>=20
>=20
>=20
> tia
>=20
> Jayakumar.V
>=20
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 22:18:56 2005
Return-Path: <java-user-return-14550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72068 invoked from network); 20 May 2005 22:18:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 22:18:56 -0000
Received: (qmail 74624 invoked by uid 500); 20 May 2005 22:18:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74206 invoked by uid 500); 20 May 2005 22:18:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74179 invoked by uid 99); 20 May 2005 22:18:35 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 15:18:33 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 573E95B7BA; Fri, 20 May 2005 15:18:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 55D8B7F45E; Fri, 20 May 2005 15:18:23 -0700 (PDT)
Date: Fri, 20 May 2005 15:18:23 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, John Wang <john.wang@gmail.com>
Cc: jayakumar.v@uaeexchange.com
Subject: Re: Boolean Query - TooManyClauses Exception
In-Reply-To: <8837fb77050520150915326609@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0505201516430.8356@hal.rescomp.berkeley.edu>
References: <OFEB1650B8.2AC11E6D-ON44257006.00455DB1@xpressmoney.com>
 <8837fb77050520150915326609@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Any reason why Range query doesn't just iterate over the terms of the
: field instead of creating a large BooleanQuery with term queries?

Because Queries inherently have score.  The implimentation of RangeQuery
allows documents with many terms in the range to score higher then
documents with only a single term.

If you don't care about the scoring implications, you can use a
RangeFilter.



:
: Are there any specific difficultites in doing so or any other impacts?
:
: Thanks
:
: -John
:
: On 5/19/05, Jayakumar.V <jayakumar.v@uaeexchange.com> wrote:
: > Hi,
: >
: > I'm getting a TooManyClauses Exception when I try to query for a particular
: > date range.
: >
: > I've around 4 million documents with 21 fields each.
: >
: > The fields to search into are determined by the user - it can be field F1 or
: > F2 or both.
: >
: > Also there is a date range within which the results need to be restricted.
: >
: > The date is indexed as a KEYWORD & the fields F1 & F2 are indexed as TEXT.
: >
: >
: >
: > Following is the code I've used :
: >
: >
: >
: > Term from = new Term("txnDate", format.format(dateFrom));      --> format
: > gives the date in yyymmdd format
: >
: > Term to = new Term("txnDate", format.format(dateTo));
: >
: >
: >
: > Query rangeQuery = new RangeQuery(from,to,true);
: >
: >
: >
: > BooleanQuery mainQuery = new BooleanQuery();
: >
: >
: >
: > // searchIn is an string array containing the fields to look into
: >
: > for (int i=0; i<searchIn.length; i++) {
: >
: >           TermQuery query = new TermQuery(new
: > Term(searchIn[i],searchString));
: >
: >           mainQuery.add(query,false,false);
: >
: > }
: >
: >
: >
: > Filter queryFilter = new QueryFilter(mainQuery);
: >
: >
: >
: > Sort sort = new Sort("txnDate",true);
: >
: > Hits hits = searcher.search(rangeQuery,queryFilter,sort);
: >
: >
: >
: > I'm not sure of the way I've constructed the Query. I had used the
: > BooleanQuery to enable searching in multiple fields.
: >
: > I'm able to get results to a max. date range of 2 years beyond which it
: > throws the subject exception.
: >
: > Any better way to construct the query?
: >
: >
: >
: > tia
: >
: > Jayakumar.V
: >
: >
: >
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 20 22:37:36 2005
Return-Path: <java-user-return-14551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83228 invoked from network); 20 May 2005 22:37:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2005 22:37:36 -0000
Received: (qmail 10605 invoked by uid 500); 20 May 2005 22:37:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10583 invoked by uid 500); 20 May 2005 22:37:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10540 invoked by uid 99); 20 May 2005 22:37:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-238-9-116.dia.xo.com (HELO exch01.allegro.med) (66.238.9.116)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 15:37:23 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
Subject: Question regarding boosting
Date: Fri, 20 May 2005 15:34:29 -0700
Message-ID: <B5ADCC4EA669BF4697F6AF63FF328674011CCB2E@exch01.allegro.med>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question regarding boosting
thread-index: AcVddHflFQdzTPaCRleIMj2rs1uFwwAErRhQ
From: "Mufaddal Khumri" <MKhumri@allegromedical.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I wanted to know what method would be the best way to do something that
I am describing below.

I am creating an index of all my products and categories. While
indexing, I am creating the following documents for my products and
categories:

Product:
		doc.add(Field.UnIndexed("id", (String)obj[0]));
		doc.add(Field.Keyword("entity","product"));
		doc.add(Field.Text("name", name));
		doc.add(Field.Text("content", content));

Category:
		doc.add(Field.UnIndexed("id", (String)obj[0]));
		doc.add(Field.Keyword("entity","category"));
		doc.add(Field.Text("name", name));
		doc.add(Field.Text("content", content));

As you can see above the id is stored to retrieve the objects from the
database. The entity field distinguishes whether I want to carry out my
search on products or categories. The content field is a combination of
the name and description of the product and category. The name field is
the name of the product or the name of the category.

My searches and indexing works great.

This is how I am searching:

	Query query1 =3D
QueryParser.parse(queryString,"content",analyzer);
	=09
	Term term =3D null;
	if(entity.equals("product"))
	  term =3D new Term("entity","product");
	else
	if(entity.equals("category"))
	  term =3D new Term("entity","category");
		 =20
	TermQuery query2 =3D new TermQuery(term);=20
	BooleanQuery bq =3D new BooleanQuery();
	bq.add(query1, true, false);
	bq.add(query2, true, false);
	=09
	return indexSearcher.search(bq);

As you can see above I am using the content and entity fields to do my
search and everything works fine. What I want to do now is that I want
to boost the results such that if the query matches the name field it
gives a higher rank. How do I do this?

For example adding something like this:
	...
	Query query3 =3D QueryParser.parse(queryString,"name",analyzer);
	query3.setBoost(2);
	...
	...
	bq.add(query3, true, false);

When I do the above, I print a toString on my final Boolean query which
is:

	+content:radio +entity:category +name:radio^2.0

When I am doing my search for "products", lets say, how do I tell lucene
that - "Show me all products such that the results are ordered in such a
way that if a product's name matches the querystring more it gets a
higher relevance"

So the relevance should be in the following order:

1. Product name matches more - more relevance.
2. Product content matches - relevance is more but less than the
relevance given to product name in 1.

Any ideas?

Thanks.

-------------------------------------------------------------------------=
-----------------
This email and any files transmitted with it are confidential=20
and intended solely for the use of the individual or entity=20
to whom they are addressed. If you have received this=20
email in error please notify the system manager. Please
note that any views or opinions presented in this email=20
are solely those of the author and do not necessarily
represent those of the company. Finally, the recipient
should check this email and any attachments for the=20
presence of viruses. The company accepts no liability for
any damage caused by any virus transmitted by this email.
Consult your physician prior to the use of any medical
supplies or product.
-------------------------------------------------------------------------=
-----------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 00:05:35 2005
Return-Path: <java-user-return-14552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31748 invoked from network); 21 May 2005 00:05:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 00:05:35 -0000
Received: (qmail 77731 invoked by uid 500); 21 May 2005 00:05:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77686 invoked by uid 500); 21 May 2005 00:05:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77673 invoked by uid 99); 21 May 2005 00:05:28 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-238-9-116.dia.xo.com (HELO exch01.allegro.med) (66.238.9.116)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 17:05:26 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Question regarding boosting
Date: Fri, 20 May 2005 17:05:23 -0700
Message-ID: <B5ADCC4EA669BF4697F6AF63FF328674011CCB66@exch01.allegro.med>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question regarding boosting
Thread-Index: AcVddHflFQdzTPaCRleIMj2rs1uFwwAErRhQAAQl51A=
From: "Mufaddal Khumri" <MKhumri@allegromedical.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

After a little probing and trying I formulated this query:

....
....
queryString =3D "entity:\"" + en + "\" AND (name:\"" + queryString + =
"\"^2
OR content:\"" + queryString + "\")";
Query q =3D QueryParser.parse(queryString, "content", analyzer);
....
....

When I execute the above query, the following query gets executed in
lucene:

+entity:product +(name:"audio cable"^2.0 content:"audio cable")

Note: "audio cable" is the contents of the search box. Also I saw that
my OR gets represented as a blank in the query. Is that fine?

The results from executing this query seem alright, but is this a good
way of achieving the results I was trying to achieve? (NOTE: My original
post explains what I am trying to do).

Any insight would be appreciated.

Mufaddal.


-----Original Message-----
From: Mufaddal Khumri [mailto:MKhumri@allegromedical.com]=20
Sent: Friday, May 20, 2005 3:34 PM
To: java-user@lucene.apache.org
Subject: Question regarding boosting

Hi,

I wanted to know what method would be the best way to do something that
I am describing below.

I am creating an index of all my products and categories. While
indexing, I am creating the following documents for my products and
categories:

Product:
		doc.add(Field.UnIndexed("id", (String)obj[0]));
		doc.add(Field.Keyword("entity","product"));
		doc.add(Field.Text("name", name));
		doc.add(Field.Text("content", content));

Category:
		doc.add(Field.UnIndexed("id", (String)obj[0]));
		doc.add(Field.Keyword("entity","category"));
		doc.add(Field.Text("name", name));
		doc.add(Field.Text("content", content));

As you can see above the id is stored to retrieve the objects from the
database. The entity field distinguishes whether I want to carry out my
search on products or categories. The content field is a combination of
the name and description of the product and category. The name field is
the name of the product or the name of the category.

My searches and indexing works great.

This is how I am searching:

	Query query1 =3D
QueryParser.parse(queryString,"content",analyzer);
	=09
	Term term =3D null;
	if(entity.equals("product"))
	  term =3D new Term("entity","product");
	else
	if(entity.equals("category"))
	  term =3D new Term("entity","category");
		 =20
	TermQuery query2 =3D new TermQuery(term);=20
	BooleanQuery bq =3D new BooleanQuery();
	bq.add(query1, true, false);
	bq.add(query2, true, false);
	=09
	return indexSearcher.search(bq);

As you can see above I am using the content and entity fields to do my
search and everything works fine. What I want to do now is that I want
to boost the results such that if the query matches the name field it
gives a higher rank. How do I do this?

For example adding something like this:
	...
	Query query3 =3D QueryParser.parse(queryString,"name",analyzer);
	query3.setBoost(2);
	...
	...
	bq.add(query3, true, false);

When I do the above, I print a toString on my final Boolean query which
is:

	+content:radio +entity:category +name:radio^2.0

When I am doing my search for "products", lets say, how do I tell lucene
that - "Show me all products such that the results are ordered in such a
way that if a product's name matches the querystring more it gets a
higher relevance"

So the relevance should be in the following order:

1. Product name matches more - more relevance.
2. Product content matches - relevance is more but less than the
relevance given to product name in 1.

Any ideas?

Thanks.

------------------------------------------------------------------------
------------------
This email and any files transmitted with it are confidential=20
and intended solely for the use of the individual or entity=20
to whom they are addressed. If you have received this=20
email in error please notify the system manager. Please
note that any views or opinions presented in this email=20
are solely those of the author and do not necessarily
represent those of the company. Finally, the recipient
should check this email and any attachments for the=20
presence of viruses. The company accepts no liability for
any damage caused by any virus transmitted by this email.
Consult your physician prior to the use of any medical
supplies or product.
------------------------------------------------------------------------
------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 00:25:55 2005
Return-Path: <java-user-return-14553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40949 invoked from network); 21 May 2005 00:25:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 00:25:54 -0000
Received: (qmail 26095 invoked by uid 500); 21 May 2005 00:25:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26040 invoked by uid 500); 21 May 2005 00:25:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26027 invoked by uid 99); 21 May 2005 00:25:47 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_RCVD_HELO,SEE_FOR_YOURSELF,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 17:25:44 -0700
Received: (qmail 10075 invoked from network); 21 May 2005 02:25:39 +0200
Received: from d130115.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@80.171.130.115)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 21 May 2005 02:25:39 +0200
Received: (qmail 16851 invoked from network); 21 May 2005 02:28:59 +0200
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 21 May 2005 02:28:59 +0200
Message-ID: <428E80CB.2080501@blizzy.de>
Date: Sat, 21 May 2005 02:28:59 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050325)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Question regarding boosting
References: <B5ADCC4EA669BF4697F6AF63FF328674011CCB66@exch01.allegro.med>
In-Reply-To: <B5ADCC4EA669BF4697F6AF63FF328674011CCB66@exch01.allegro.med>
X-Enigmail-Version: 0.90.2.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> +entity:product +(name:"audio cable"^2.0 content:"audio cable")

Looks good to me. This query would only return products where either name or
content matches "audio cable" (or both), and name matches get a higher score.

> Also I saw that
> my OR gets represented as a blank in the query. Is that fine?

Yes. Actually each BooleanClause can have a required (+) or prohibited (-)
mode. That's why the following expansions take place:

- x AND y -> +x +y
- x OR y -> x y
- x AND NOT y -> +x -y (off the top of my head)

I for one prefer to use +/- syntax instead of AND/OR because those I find
misleading.

> The results from executing this query seem alright, but is this a good
> way of achieving the results I was trying to achieve? (NOTE: My original
> post explains what I am trying to do).

I have tried to explain your query with my own words. See for yourself if
they match :)


Aside from all that, did you really want to query for the _phrase_ "audio
cable"? Perhaps you wanted the words "audio" and "cable" to appear anywhere
in the fields, but not necessarily as a phrase.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 06:07:58 2005
Return-Path: <java-user-return-14554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70954 invoked from network); 21 May 2005 06:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 06:07:58 -0000
Received: (qmail 58935 invoked by uid 500); 21 May 2005 06:07:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58896 invoked by uid 500); 21 May 2005 06:07:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58876 invoked by uid 99); 21 May 2005 06:07:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO anjalrelay) (194.170.154.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 20 May 2005 23:07:46 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005052110130049-50951 ;
          Sat, 21 May 2005 10:13:00 +0400 
Received: from jayakumar ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005052110024137-4241 ;
          Sat, 21 May 2005 10:02:41 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: RE: Boolean Query - TooManyClauses Exception
Date: Sat, 21 May 2005 10:04:58 +0400
Organization: UAE Xchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcVcvT9FoRVlh+QzQvmQUqZ1LxuQZwBDDPYw
In-Reply-To: <200505192337.10905@danielnaber.de>
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/21/2005 10:02:41 AM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/21/2005 10:02:43 AM,
	Serialize complete at 05/21/2005 10:02:43 AM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/21/2005 10:13:00 AM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 05/21/2005 10:13:07 AM,
	Serialize complete at 05/21/2005 10:13:07 AM
Message-ID: <OF62E37702.23346FF5-ON44257008.0021348A@xpressmoney.com>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the link. 
I had overlooked the fact that RangeQuery expands to a sequence of term
queries and throws an exception when 1024 is reached. 

By setting the BooleanQuery.setMaxClauseCount() to the required value, I was
able to avoid the TooManyClauses exception. But, as mentioned in the FAQ
link, there is a memory overhead attached to this. An alternative,
suggested, was to use a DateFilter replacing the RangeQuery. Will try that.

thanks again for the link.
 
Jayakumar.V

-----Original Message-----
From: Daniel Naber [mailto:lucenelist@danielnaber.de] 
Sent: Friday, May 20, 2005 1:37 AM
To: java-user@lucene.apache.org
Subject: Re: Boolean Query - TooManyClauses Exception

On Thursday 19 May 2005 14:39, Jayakumar.V wrote:

> I'm getting a TooManyClauses Exception when I try to query for a
> particular date range.

See
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-06fafb5d19e786a50fb3dfb
8821a6af9f37aa831

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 08:01:34 2005
Return-Path: <java-user-return-14555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23253 invoked from network); 21 May 2005 08:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 08:01:34 -0000
Received: (qmail 59639 invoked by uid 500); 21 May 2005 08:01:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59605 invoked by uid 500); 21 May 2005 08:01:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59590 invoked by uid 99); 21 May 2005 08:01:25 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from grassmarket.ucs.ed.ac.uk (HELO grassmarket.ucs.ed.ac.uk) (129.215.166.64)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 21 May 2005 01:01:22 -0700
Received: from grassmarket.ucs.ed.ac.uk (localhost [127.0.0.1])
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.10) with ESMTP id j4L81IKC021073
	for <java-user@lucene.apache.org>; Sat, 21 May 2005 09:01:18 +0100 (BST)
Received: (from nobody@localhost)
	by grassmarket.ucs.ed.ac.uk (8.12.10/8.12.9/Submit) id j4L81IUO021070
	for java-user@lucene.apache.org; Sat, 21 May 2005 09:01:18 +0100 (BST)
X-Authentication-Warning: grassmarket.ucs.ed.ac.uk: nobody set sender to s0454888@sms.ed.ac.uk using -f
Received: from sausages.cache.ed.ac.uk (sausages.cache.ed.ac.uk [129.215.16.39]) 
	by sms.ed.ac.uk (IMP) with HTTP 
	for <s0454888@sms.ed.ac.uk>; Sat, 21 May 2005 09:01:18 +0100
Message-ID: <1116662478.428eeace8c39a@sms.ed.ac.uk>
Date: Sat, 21 May 2005 09:01:18 +0100
From: Dave Kor <s0454888@sms.ed.ac.uk>
To: java-user@lucene.apache.org
Subject: Re: A special PhraseQuery
References: <A955EA1F8FE31749AEC8C998082F6C7C41A79F@hai01.hippo.local> <200505201411.10554.paul.elschot@xs4all.nl> <1116617394.428e3ab2e285b@sms.ed.ac.uk> <Pine.LNX.4.58.0505201242460.19402@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0505201242460.19402@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.3
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Quoting Chris Hostetter <hossman_lucene@fucit.org>:

> : I'm in need of a special version of the phrase query. For example, given a
> : search phrase "alpha beta gamma", I'ld like a to score documents something
> like
> : the following manner.
>
> it sounds like what you want isn't really a special type of query, it's a
> special type of query parser.
>
> all of hte individual cases you describe can be handled using Span
> queries, and Term queries, you just need to wrap them all up in a
> BooleanQuery with the various weights that you want.

I assume you refer to using BooleanQuery to OR them together? Would it achieve
what I want: an ordered ranking with the best matching phrases at the top and
least matching phrases at the bottom.


>
> : If document contains exactly "alpha beta gamma", score = 1
> : If document contains "alpha gamma beta" score = 0.9
> : If document contains "gamma alpha beta" score = 0.8
> : If document contains "gamma beta alpha" score = 0.7
> : If document contains "alpha beta" score = 0.666
> : If document contains "beta gamma" score = 0.666
> : If document contains "alpha gamma" score = 0.666
> : If document contains "alpha" score = 0.333
> : If document contains "beta"  score = 0.333
> : If document contains "gamma" score = 0.333
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 08:46:04 2005
Return-Path: <java-user-return-14556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34497 invoked from network); 21 May 2005 08:46:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 08:46:04 -0000
Received: (qmail 42081 invoked by uid 500); 21 May 2005 08:45:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42036 invoked by uid 500); 21 May 2005 08:45:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42023 invoked by uid 99); 21 May 2005 08:45:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr2.xs4all.nl (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 21 May 2005 01:45:55 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.12.11/8.12.11) with ESMTP id j4L8jnId028614
	for <java-user@lucene.apache.org>; Sat, 21 May 2005 10:45:49 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Question regarding boosting
Date: Sat, 21 May 2005 10:45:48 +0200
User-Agent: KMail/1.5.4
References: <B5ADCC4EA669BF4697F6AF63FF328674011CCB66@exch01.allegro.med> <428E80CB.2080501@blizzy.de>
In-Reply-To: <428E80CB.2080501@blizzy.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505211045.49048.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Saturday 21 May 2005 02:28, Maik Schreiber wrote:
> > +entity:product +(name:"audio cable"^2.0 content:"audio cable")
> 
> Looks good to me. This query would only return products where either name or
> content matches "audio cable" (or both), and name matches get a higher 
score.
> 
> > Also I saw that
> > my OR gets represented as a blank in the query. Is that fine?
> 
> Yes. Actually each BooleanClause can have a required (+) or prohibited (-)
> mode. That's why the following expansions take place:
> 
> - x AND y -> +x +y
> - x OR y -> x y
> - x AND NOT y -> +x -y (off the top of my head)
> 
> I for one prefer to use +/- syntax instead of AND/OR because those I find
> misleading.

In case the structure of the boolean query is known beforehand it is normally
better not to rely on the query parser and to construct the (nested) boolean
query in the program code by adding optional and required clauses to the
boolean queries.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 21 10:05:00 2005
Return-Path: <java-user-return-14557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67045 invoked from network); 21 May 2005 10:05:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2005 10:05:00 -0000
Received: (qmail 98502 invoked by uid 500); 21 May 2005 10:04:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98426 invoked by uid 500); 21 May 2005 10:04:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98392 invoked by uid 99); 21 May 2005 10:04:49 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mail.to.falko@gmx.de designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 21 May 2005 03:04:48 -0700
Received: (qmail invoked by alias); 21 May 2005 10:04:44 -0000
Received: from p54B3F5D0.dip.t-dialin.net (EHLO [192.168.0.104]) [84.179.245.208]
  by mail.gmx.net (mp018) with SMTP; 21 May 2005 12:04:44 +0200
X-Authenticated: #3816566
Message-ID: <428F07B7.6030606@gmx.de>
Date: Sat, 21 May 2005 12:04:39 +0200
From: Falko Guderian <mail.to.falko@gmx.de>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Problem during evaluation of indexed documents
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dir members,

I indexed 20 text documents and want to get information which keywords
are in which documents.
I done it with similar code as followed:

<code>
Terms terms = indexReader.terms(new Term("content", ""));
TermDocs termDocs = indexReader.termDocs();
while ("content".equals(terms.term().field())) {
        termDocs.seek(terms);
                    for(int i = 0; i < numDocs; i++) {
                        if(i == termDocs.doc()){
                            termDocs.next();
                        }
                    }
                    if (!terms.next()) break;
                } // end if
                else {
                    if (!terms.next()) break;
                }
            }
</code>

There are no problem during indexing time.
After writing the results to an text file the first document contains
all indexed keywords and the other  19 docs contain the correct number
of keywords in each case.
I can't find my fault.

Is there an explanation?
I would be pleased if someone could help me.

Best regards
Falko Guderian




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 13:30:47 2005
Return-Path: <java-user-return-14558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22722 invoked from network); 23 May 2005 13:30:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 13:30:47 -0000
Received: (qmail 12858 invoked by uid 500); 23 May 2005 13:30:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12805 invoked by uid 500); 23 May 2005 13:30:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12788 invoked by uid 500); 23 May 2005 13:30:39 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 12782 invoked by uid 99); 23 May 2005 13:30:39 -0000
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DEAR_SOMETHING,DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@hotmail.com designates 64.4.54.100 as permitted sender)
Received: from bay20-f11.bay20.hotmail.com (HELO hotmail.com) (64.4.54.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 06:30:35 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 23 May 2005 06:30:33 -0700
Message-ID: <BAY20-F11C674C9C295938DBC1B9DCA0C0@phx.gbl>
Received: from 211.144.105.3 by by20fd.bay20.hotmail.msn.com with HTTP;
	Mon, 23 May 2005 13:30:32 GMT
X-Originating-IP: [211.144.105.3]
X-Originating-Email: [louluqun@hotmail.com]
X-Sender: louluqun@hotmail.com
From: "luqun lou" <louluqun@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: how to chang lucene's default sort algorithm?
Date: Mon, 23 May 2005 13:30:32 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 23 May 2005 13:30:33.0213 (UTC) FILETIME=[987262D0:01C55F9B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Sir/Madam:
        I am a beginner of IR.I want to use Lucene with BM25 algorithm,but i 
dont know how to change its default sort algorithm?
          Can you give me some advice?

          Thanks!

_________________________________________________________________
Don't just search. Find. Check out the new MSN Search! 
http://search.msn.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 17:33:17 2005
Return-Path: <java-user-return-14560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17256 invoked from network); 23 May 2005 17:33:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 17:33:16 -0000
Received: (qmail 48390 invoked by uid 500); 23 May 2005 17:33:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48254 invoked by uid 500); 23 May 2005 17:33:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48218 invoked by uid 99); 23 May 2005 17:33:02 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from smtprelay02.ispgateway.de (HELO smtprelay02.ispgateway.de) (80.67.18.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 10:32:59 -0700
Received: (qmail 7176 invoked from network); 23 May 2005 17:32:53 -0000
Received: from unknown (HELO p5496627A.dip.t-dialin.net) ([pbs]695637@[84.150.98.122])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 23 May 2005 17:32:53 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: how to chang lucene's default sort algorithm?
Date: Mon, 23 May 2005 19:33:40 +0200
User-Agent: KMail/1.8
References: <BAY20-F11C674C9C295938DBC1B9DCA0C0@phx.gbl>
In-Reply-To: <BAY20-F11C674C9C295938DBC1B9DCA0C0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200505231933.40031@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 23 May 2005 15:30, luqun lou wrote:

> =C2=A0 =C2=A0 =C2=A0 =C2=A0 I am a beginner of IR.I want to use Lucene wi=
th BM25
> algorithm,but i dont know how to change its default sort algorithm?

Implement your own Similarity class derived from Similarity and activate it=
=20
using setSimilarity(mySmilarity).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 17:41:41 2005
Return-Path: <java-user-return-14559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30373 invoked from network); 23 May 2005 17:41:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 17:41:41 -0000
Received: (qmail 47509 invoked by uid 500); 23 May 2005 14:48:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47466 invoked by uid 500); 23 May 2005 14:48:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47442 invoked by uid 99); 23 May 2005 14:48:16 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,INFO_TLD,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 178509.ds.nac.net (HELO 178509.ds.nac.net) (216.118.117.49)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 23 May 2005 07:48:13 -0700
Received: (qmail 3717 invoked from network); 23 May 2005 14:51:29 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by 178509.ds.nac.net with SMTP; 23 May 2005 14:51:29 -0000
From: <mickey@buy-links-now.com>
To: <java-user@lucene.apache.org>
Subject: customizing the termFrequency
Date: Mon, 23 May 2005 17:45:39 +0200
Message-ID: <006401c55fae$798eb130$0700000a@mickey>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0065_01C55FBF.3D178130"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0065_01C55FBF.3D178130
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi fellows,
=20
I'm trying to customize lucene to meet my needs.
In my domain, I need that whenever a term appears more than once in a =
field,
I want to count it as one occurrence (e.g. tf =3D signum(frequency) ).
=20
I was trying to inherit DefaultSimilarity and override tf, but it didn't
work.
More over, I added a printing of the freq tf() receives as an argument, =
and
no matter what I'm searching for, it is called exactly 32(??) times with =
the
values of 0...31.
=20
class MySimilarity extends DefaultSimilarity {
 public float tf(float freq)  {
  System.out.println( "freq=3D"+freq );
  return NumberUtils.sign( freq ) ;
 }
}
=20
Of course I'm using at the beging of my code  =20
Similarity.setDefault( new MySimilarity() );
=20
Any idea?
=20
--=20
 <http://www.fetchbook.info/> www.FetchBook.Info
Find the lowest price - Compare more then a hundred book stores in a =
click.
=20

------=_NextPart_000_0065_01C55FBF.3D178130--


From java-user-return-14561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 19:27:04 2005
Return-Path: <java-user-return-14561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24251 invoked from network); 23 May 2005 19:27:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 19:27:04 -0000
Received: (qmail 98149 invoked by uid 500); 23 May 2005 19:26:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98094 invoked by uid 500); 23 May 2005 19:26:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97815 invoked by uid 99); 23 May 2005 19:26:57 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop06.mail.atl.earthlink.net (HELO pop06.mail.atl.earthlink.net) (207.69.200.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 12:26:54 -0700
Received: from wamui-cedar.atl.sa.earthlink.net ([209.86.224.29])
	by pop06.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DaIZf-0005ZV-00
	for java-user@lucene.apache.org; Mon, 23 May 2005 15:26:51 -0400
Message-ID: <23221142.1116876411857.JavaMail.root@wamui-cedar.atl.sa.earthlink.net>
Date: Mon, 23 May 2005 14:26:51 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: URL search causes BooleanQuery TooManyClauses Excp
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
  I have an index with 4811 documents each of which have a field called
url.  When I try to search such as:

url:http*C02MS00800* I get a BooleanQuery$TooManyClauses.

I've seen other posting with this exception but they normally are caused by doing a range
query.  Any Ideas?  I would ultimatly like to search the url with wildcard search so as to search
on enbedded info within the url such as state 

url:http*NY*  = state of new york
url:http*NJ* = new jersey  etc.

Thanks,

Andrew

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 19:35:12 2005
Return-Path: <java-user-return-14562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29604 invoked from network); 23 May 2005 19:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 19:35:12 -0000
Received: (qmail 23667 invoked by uid 500); 23 May 2005 19:35:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23638 invoked by uid 500); 23 May 2005 19:35:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23618 invoked by uid 99); 23 May 2005 19:35:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mslinux.media-style.com) (212.122.60.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 12:35:02 -0700
Received: from localhost (localhost [127.0.0.1])
	by mslinux.media-style.com (Postfix) with ESMTP id 8FA911440AE
	for <java-user@lucene.apache.org>; Mon, 23 May 2005 21:26:33 +0200 (CEST)
Received: from mslinux.media-style.com ([127.0.0.1])
	by localhost (mslinux.media-style.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 00935-05 for <java-user@lucene.apache.org>;
	Mon, 23 May 2005 21:26:33 +0200 (CEST)
Received: from [192.168.8.2] (dsl-084-059-228-082.arcor-ip.net [84.59.228.82])
	by mslinux.media-style.com (Postfix) with ESMTP id 7BB701440AC
	for <java-user@lucene.apache.org>; Mon, 23 May 2005 21:26:32 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <23221142.1116876411857.JavaMail.root@wamui-cedar.atl.sa.earthlink.net>
References: <23221142.1116876411857.JavaMail.root@wamui-cedar.atl.sa.earthlink.net>
Content-Type: multipart/alternative; boundary=Apple-Mail-4--1016753596
Message-Id: <82675A30-CC33-4B1D-8486-EEE6CF9F3CF9@media-style.com>
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: URL search causes BooleanQuery TooManyClauses Excp
Date: Mon, 23 May 2005 21:34:43 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at media-style.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-4--1016753596
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Andrew,
the solution for RangeQueries will work for WildcardQueries as well.
see:
http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ#head-06fafb5d19e786a50fb3dfb8821a6af9f37aa831

HTH
Stefan

Am 23.05.2005 um 21:26 schrieb Andrew Boyd:

> Hi All,
>   I have an index with 4811 documents each of which have a field  
> called
> url.  When I try to search such as:
>
> url:http*C02MS00800* I get a BooleanQuery$TooManyClauses.
>
> I've seen other posting with this exception but they normally are  
> caused by doing a range
> query.  Any Ideas?  I would ultimatly like to search the url with  
> wildcard search so as to search
> on enbedded info within the url such as state
>
> url:http*NY*  = state of new york
> url:http*NJ* = new jersey  etc.
>
> Thanks,
>
> Andrew
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>

---------------------------------------------------------------
company:        http://www.media-style.com
forum:        http://www.text-mining.org
blog:            http://www.find23.net



--Apple-Mail-4--1016753596--

From java-user-return-14563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 23 20:08:05 2005
Return-Path: <java-user-return-14563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42199 invoked from network); 23 May 2005 20:08:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2005 20:08:05 -0000
Received: (qmail 90417 invoked by uid 500); 23 May 2005 20:07:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90387 invoked by uid 500); 23 May 2005 20:07:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90371 invoked by uid 99); 23 May 2005 20:07:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 13:07:53 -0700
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j4NK7iE1003117
	for <java-user@lucene.apache.org>; Mon, 23 May 2005 16:07:48 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Search Theory Book
References: <200505131457671.SM01836@chicago>
Date: Mon, 23 May 2005 16:07:44 -0400
In-Reply-To: <200505131457671.SM01836@chicago> (Monsur Hossain's message of
	"Fri, 13 May 2005 14:48:00 -0400")
Message-ID: <9cfis19n1tb.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Monsur Hossain" <monsur@monsur.com> writes:

> Much along the same lines, I'm curious if "Information Retrieval: Data
> Structures and Algorithms" (by William B. Frakes, Ricardo Baeza-Yates) is a
> good resource?  Its referenced a lot in "Modern Information Retrieval", but
> I imagine because its written by the same guys.

It's out of print, and is rather out of date... for example, the
chapter in indexing is neat for the early 90s but not necessarily
relevant when disk is fast and cheap.

There's a web page at
http://www.dcc.uchile.cl/~rbaeza/iradsbook/irbook.html with a table of
contents and some code from the book.

Ian


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 01:32:20 2005
Return-Path: <java-user-return-14564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83175 invoked from network); 24 May 2005 01:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 01:32:20 -0000
Received: (qmail 3464 invoked by uid 500); 24 May 2005 01:32:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3428 invoked by uid 500); 24 May 2005 01:32:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3414 invoked by uid 99); 24 May 2005 01:32:13 -0000
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@hotmail.com designates 64.4.54.103 as permitted sender)
Received: from bay20-f14.bay20.hotmail.com (HELO hotmail.com) (64.4.54.103)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 18:32:09 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 23 May 2005 18:32:06 -0700
Message-ID: <BAY20-F145D393D65F8F8BDB6521CCA0D0@phx.gbl>
Received: from 211.144.105.3 by by20fd.bay20.hotmail.msn.com with HTTP;
	Tue, 24 May 2005 01:32:05 GMT
X-Originating-IP: [211.144.105.3]
X-Originating-Email: [louluqun@hotmail.com]
X-Sender: louluqun@hotmail.com
In-Reply-To: <200505231933.40031@danielnaber.de>
From: "luqun lou" <louluqun@hotmail.com>
To: java-user@lucene.apache.org
Bcc: 
Subject: Re: how to chang lucene's default sort algorithm?
Date: Tue, 24 May 2005 01:32:05 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 24 May 2005 01:32:06.0106 (UTC) FILETIME=[65059BA0:01C56000]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



>From: Daniel Naber <lucenelist@danielnaber.de>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: how to chang lucene's default sort algorithm?
>Date: Mon, 23 May 2005 19:33:40 +0200
>
>On Monday 23 May 2005 15:30, luqun lou wrote:
>
> > ย ย ย ย I am a beginner of IR.I want to use Lucene with BM25
> > algorithm,but i dont know how to change its default sort algorithm?
>
>Implement your own Similarity class derived from Similarity and activate it
>using setSimilarity(mySmilarity).
But the BM25 algorithm needs  each document length and average document 
length,how can i get this numbers. i look at the indexreader class,it dont 
provide this number or interface?

_________________________________________________________________
Don't just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 02:06:14 2005
Return-Path: <java-user-return-14565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90170 invoked from network); 24 May 2005 02:06:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 02:06:14 -0000
Received: (qmail 59736 invoked by uid 500); 24 May 2005 02:06:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59715 invoked by uid 500); 24 May 2005 02:06:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 37652 invoked by uid 500); 24 May 2005 01:48:17 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DEAR_SOMETHING,DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of louluqun@gmail.com designates 64.233.162.196 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=o53CWd1GnFgRPgpXs+kLTFdGEMORSiRmkoP18prQJsi7pAthZXpJfw4ZRv+xdnQGXhdJcos6I6Rere3EwX0Qq92V1apWubrnovHenpHTGQC/CZhf0E/ehjpkT+vgU2sVGHfTaO5FmhkyHvMIIQ7nMUog2odos7UsFgA2y1MeaMs=
Message-ID: <a14cf7c00505231846301553b8@mail.gmail.com>
Date: Mon, 23 May 2005 18:46:55 -0700
From: Lou Luqun <louluqun@gmail.com>
Reply-To: Lou Luqun <louluqun@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: how can i give each words in the query a different weight?
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Sir/Madm:
         I want to give each words in the query a different weight?but
in the definition of query,it's not support this forms.how can i do
it?can you give me some suggestion?
       For example,There is a query "lucene similarity".i want to give
"lucene" a weight of 0.8,and "similiarity" a weight of 0.2.how can i
give the weight to the query?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 02:10:17 2005
Return-Path: <java-user-return-14566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91736 invoked from network); 24 May 2005 02:10:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 02:10:17 -0000
Received: (qmail 66369 invoked by uid 500); 24 May 2005 02:10:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66344 invoked by uid 500); 24 May 2005 02:10:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66327 invoked by uid 99); 24 May 2005 02:10:09 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DEAR_SOMETHING,SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 23 May 2005 19:10:07 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 18D185B78D; Mon, 23 May 2005 19:10:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 0F6117F460; Mon, 23 May 2005 19:10:06 -0700 (PDT)
Date: Mon, 23 May 2005 19:10:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, Lou Luqun <louluqun@gmail.com>
Subject: Re: how can i give each words in the query a different weight?
In-Reply-To: <a14cf7c00505231846301553b8@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0505231907470.16337@hal.rescomp.berkeley.edu>
References: <a14cf7c00505231846301553b8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


the concept you are looking for is called a "boost" look for the
"setBoost" method in the java docs, or look for the word "boost" in the
documetnation of the QueryParser syntax...

http://lucene.apache.org/java/docs/queryparsersyntax.html

: Date: Mon, 23 May 2005 18:46:55 -0700
: From: Lou Luqun <louluqun@gmail.com>
: Reply-To: java-user@lucene.apache.org, Lou Luqun <louluqun@gmail.com>
: To: lucene-user@jakarta.apache.org
: Subject: how can i give each words in the query a different weight?
:
: Dear Sir/Madm:
:          I want to give each words in the query a different weight?but
: in the definition of query,it's not support this forms.how can i do
: it?can you give me some suggestion?
:        For example,There is a query "lucene similarity".i want to give
: "lucene" a weight of 0.8,and "similiarity" a weight of 0.2.how can i
: give the weight to the query?
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 05:35:04 2005
Return-Path: <java-user-return-14567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53055 invoked from network); 24 May 2005 05:35:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 05:35:04 -0000
Received: (qmail 15256 invoked by uid 500); 24 May 2005 05:34:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15226 invoked by uid 500); 24 May 2005 05:34:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15211 invoked by uid 99); 24 May 2005 05:34:56 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=INFO_TLD,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 178509.ds.nac.net (HELO 178509.ds.nac.net) (216.118.117.49)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 23 May 2005 22:34:54 -0700
Received: (qmail 6712 invoked from network); 24 May 2005 05:39:06 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by 178509.ds.nac.net with SMTP; 24 May 2005 05:39:06 -0000
From: <mickey@buy-links-now.com>
To: <java-user@lucene.apache.org>
Subject: RE: Search Theory Book
Date: Tue, 24 May 2005 08:33:10 +0200
Message-ID: <008501c5602a$753297b0$0700000a@mickey>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <9cfis19n1tb.fsf@rogue.ncsl.nist.gov>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would go with "Information Retrieval: Algorithms and Heuristics" by
Grossman (a bit expensive, but worth the money
http://www.fetchbook.info/compare.do?search=3D0134638379).

--=20
www.FetchBook.Info
Find the lowest price - Compare more then a hundred book stores in a =
click.


-----Original Message-----
From: Ian Soboroff [mailto:ian.soboroff@nist.gov]=20
Sent: Monday, May 23, 2005 10:08 PM
To: java-user@lucene.apache.org
Subject: Re: Search Theory Book


"Monsur Hossain" <monsur@monsur.com> writes:

> Much along the same lines, I'm curious if "Information Retrieval: Data =

> Structures and Algorithms" (by William B. Frakes, Ricardo Baeza-Yates) =

> is a good resource?  Its referenced a lot in "Modern Information=20
> Retrieval", but I imagine because its written by the same guys.

It's out of print, and is rather out of date... for example, the chapter =
in
indexing is neat for the early 90s but not necessarily relevant when =
disk is
fast and cheap.

There's a web page at =
http://www.dcc.uchile.cl/~rbaeza/iradsbook/irbook.html
with a table of contents and some code from the book.

Ian


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 09:19:05 2005
Return-Path: <java-user-return-14568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67302 invoked from network); 24 May 2005 09:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 09:19:04 -0000
Received: (qmail 25747 invoked by uid 500); 24 May 2005 09:18:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25727 invoked by uid 500); 24 May 2005 09:18:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25714 invoked by uid 99); 24 May 2005 09:18:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rivette.uk.mediasurface.com (HELO rivette.int.mediasurface.com) (193.123.241.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 02:18:53 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j4O9IWL04054
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 10:18:32 +0100 (BST)
Received: from ntexchange.int.mediasurface.com (ntexchange.int.mediasurface.com [10.0.5.69])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j4O9IVj04050
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 10:18:32 +0100 (BST)
Received: by ntexchange.int.mediasurface.com with Internet Mail Service (5.5.2657.72)
	id <JTSZ4C48>; Tue, 24 May 2005 10:17:05 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A652EA2@neptune.int.mediasurface.com>
From: Peter Gelderbloem <Peter.Gelderbloem@mediasurface.com>
To: java-user@lucene.apache.org
Subject: Query.toString(0 does not escape special characters
Date: Tue, 24 May 2005 10:18:27 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am building queries using the query api and when I use } in my fieldname
and then call toString on the query, QueryParser throws a ParseException
when trying to parse it. How do I fix this?

Regards
Peter Gelderbloem 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 13:37:42 2005
Return-Path: <java-user-return-14569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2099 invoked from network); 24 May 2005 13:37:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 13:37:42 -0000
Received: (qmail 74949 invoked by uid 500); 24 May 2005 13:37:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74926 invoked by uid 500); 24 May 2005 13:37:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74913 invoked by uid 99); 24 May 2005 13:37:31 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 06:37:29 -0700
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j4ODbHdX018807
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 09:37:18 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Search Theory Book
References: <008501c5602a$753297b0$0700000a@mickey>
Date: Tue, 24 May 2005 09:37:17 -0400
In-Reply-To: <008501c5602a$753297b0$0700000a@mickey>
	(mickey@buy-links-now.com's message of "Tue, 24 May 2005 08:33:10
	+0200")
Message-ID: <9cf64x8g2ya.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

<mickey@buy-links-now.com> writes:

> I would go with "Information Retrieval: Algorithms and Heuristics" by
> Grossman (a bit expensive, but worth the money
> http://www.fetchbook.info/compare.do?search=0134638379).

The second edition is about $38 in paperback.

http://www.springeronline.com/sgw/cda/frontpage/0,11855,4-40109-22-35393326-0,00.html

Ian


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 13:51:02 2005
Return-Path: <java-user-return-14570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7126 invoked from network); 24 May 2005 13:51:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 13:51:01 -0000
Received: (qmail 2411 invoked by uid 500); 24 May 2005 13:50:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2390 invoked by uid 500); 24 May 2005 13:50:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 98567 invoked by uid 99); 24 May 2005 13:48:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: tf=0 while lucene is finding matches?
Date: Tue, 24 May 2005 16:46:12 +0200
Message-ID: <00b501c5606f$555ece00$0700000a@mickey>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00B6_01C56080.18E79E00"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00B6_01C56080.18E79E00
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
 
Anyone knows what is exactly Similarity.tf()?
I understood it's term frequency on a document.
Still, when I'm searching for a string a document contains, and the
Explain().toString() shows tf=0.
 
 
search string: "SubTitle:(Without)"
matching documents: 3
 
0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming Somebody
Without School
0.0 = fieldWeight(SubTitle:without in 0), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  0.5 = fieldNorm(field=SubTitle, doc=0)
 

1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've Always
Wanted--without Losing Your Mind
0.0 = fieldWeight(SubTitle:without in 1), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
 

2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
Monopoly Without Breaking Windows
0.0 = fieldWeight(SubTitle:without in 2), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
 

------=_NextPart_000_00B6_01C56080.18E79E00--


From java-user-return-14571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 14:08:21 2005
Return-Path: <java-user-return-14571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13695 invoked from network); 24 May 2005 14:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 14:08:21 -0000
Received: (qmail 62961 invoked by uid 500); 24 May 2005 14:08:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62905 invoked by uid 500); 24 May 2005 14:08:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62876 invoked by uid 99); 24 May 2005 14:08:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from envoy.cybage.com (HELO envoy.cybage.com) (203.199.150.190)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 07:07:59 -0700
Received: from santanud ([192.168.11.214]) by envoy.cybage.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 24 May 2005 19:37:33 +0530
From: "Santanu Dutta" <santanud@cybage.com>
To: <java-user@lucene.apache.org>
Cc: <stever@opin.com>
Subject: RE: tf=0 while lucene is finding matches?
Date: Tue, 24 May 2005 19:37:34 +0530
Message-ID: <FBEBKIMOEGPCGHBICEHPIEHJCDAA.santanud@cybage.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <00b501c5606f$555ece00$0700000a@mickey>
X-OriginalArrivalTime: 24 May 2005 14:07:33.0841 (UTC) FILETIME=[EE751410:01C56069]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All

java.io.IOException: Lock obtain timed out:
Lock@C:\WINNT\TEMP\lucene-4bf302dec76f27bff81fc3dd3118abbb-write.lock
	at org.apache.lucene.store.Lock.obtain(Lock.java:58)

Sometimes it happens and it again start working if I remove the lock file
from the temp directory. I didn't get any permanent solution. Sometimes it
corrupts the index itself. So can anybody provide some solution for this?

Santanu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 14:11:46 2005
Return-Path: <java-user-return-14572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14793 invoked from network); 24 May 2005 14:11:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 14:11:46 -0000
Received: (qmail 72585 invoked by uid 500); 24 May 2005 14:11:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72555 invoked by uid 500); 24 May 2005 14:11:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72541 invoked by uid 99); 24 May 2005 14:11:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from corp-206.dfki.uni-sb.de (HELO mail.dfki.de) (134.96.188.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 07:11:33 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 32752E4840
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 16:11:25 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 0F327E4837
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 16:11:25 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
Content-Transfer-Encoding: 7bit
Message-Id: <5970a443de630db5b7c6025d34553585@activemath.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: Paul Libbrecht <paul@activemath.org>
Subject: work on joins ?
Date: Tue, 24 May 2005 16:10:35 +0200
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

from time to time it really looks like it would be useful to be 
searching for something that has, say, term-x, which is the same as the 
term matched in another part of the query...i.e. joins.

Has there been work done on this in Lucene ?

thanks

paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 14:15:08 2005
Return-Path: <java-user-return-14573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16937 invoked from network); 24 May 2005 14:15:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 14:15:07 -0000
Received: (qmail 81089 invoked by uid 500); 24 May 2005 14:15:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81058 invoked by uid 500); 24 May 2005 14:15:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81045 invoked by uid 99); 24 May 2005 14:15:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fetchbook.info (HELO gc.fetchbook.info) (69.61.19.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 24 May 2005 07:14:59 -0700
Received: (qmail 7261 invoked from network); 24 May 2005 14:13:50 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by gc.fetchbook.info with SMTP; 24 May 2005 14:13:50 -0000
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: RE: tf=0 while lucene is finding matches?
Date: Tue, 24 May 2005 17:13:13 +0200
Message-ID: <00cc01c56073$1bf7d720$0700000a@mickey>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <FBEBKIMOEGPCGHBICEHPIEHJCDAA.santanud@cybage.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Wrap the writing code in a 
try{ 
 ...
}finally{
...
} 
and on the finally close the writer (and maybe even optimize).

-----Original Message-----
From: Santanu Dutta [mailto:santanud@cybage.com] 
Sent: Tuesday, May 24, 2005 4:08 PM
To: java-user@lucene.apache.org
Cc: stever@opin.com
Subject: RE: tf=0 while lucene is finding matches?


Hi All

java.io.IOException: Lock obtain timed out:
Lock@C:\WINNT\TEMP\lucene-4bf302dec76f27bff81fc3dd3118abbb-write.lock
	at org.apache.lucene.store.Lock.obtain(Lock.java:58)

Sometimes it happens and it again start working if I remove the lock file
from the temp directory. I didn't get any permanent solution. Sometimes it
corrupts the index itself. So can anybody provide some solution for this?

Santanu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 14:15:47 2005
Return-Path: <java-user-return-14574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17245 invoked from network); 24 May 2005 14:15:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 14:15:47 -0000
Received: (qmail 83494 invoked by uid 500); 24 May 2005 14:15:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83470 invoked by uid 500); 24 May 2005 14:15:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83456 invoked by uid 99); 24 May 2005 14:15:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fetchbook.info (HELO gc.fetchbook.info) (69.61.19.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 24 May 2005 07:15:36 -0700
Received: (qmail 7450 invoked from network); 24 May 2005 14:14:21 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by gc.fetchbook.info with SMTP; 24 May 2005 14:14:21 -0000
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: RE: tf=0 while lucene is finding matches?
Date: Tue, 24 May 2005 17:13:45 +0200
Message-ID: <00cd01c56073$2e8cc490$0700000a@mickey>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00CE_01C56083.F2159490"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: 
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00CE_01C56083.F2159490
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

OK, I think I'm missing something big time...
Can someone point me to the documentation of the explain?
 
Thanks a lot,
M

-----Original Message-----
From: M. Mokotov [mailto:mk@mokotov.org] 
Sent: Tuesday, May 24, 2005 4:46 PM
To: 'java-user@lucene.apache.org'
Subject: tf=0 while lucene is finding matches?


Hi,
 
Anyone knows what is exactly Similarity.tf()?
I understood it's term frequency on a document.
Still, when I'm searching for a string a document contains, and the
Explain().toString() shows tf=0.
 
 
search string: "SubTitle:(Without)"
matching documents: 3
 
0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming Somebody
Without School
0.0 = fieldWeight(SubTitle:without in 0), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  0.5 = fieldNorm(field=SubTitle, doc=0)
 


1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've Always
Wanted--without Losing Your Mind
0.0 = fieldWeight(SubTitle:without in 1), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
 

2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
Monopoly Without Breaking Windows
0.0 = fieldWeight(SubTitle:without in 2), product of:
  0.0 = tf(termFreq(SubTitle:without)=0)
  7.214108 = idf(docFreq=3)
  7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
 


------=_NextPart_000_00CE_01C56083.F2159490--


From java-user-return-14575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 15:30:22 2005
Return-Path: <java-user-return-14575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63273 invoked from network); 24 May 2005 15:30:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 15:30:21 -0000
Received: (qmail 12464 invoked by uid 500); 24 May 2005 15:29:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12385 invoked by uid 500); 24 May 2005 15:29:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12344 invoked by uid 99); 24 May 2005 15:29:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 08:29:45 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EEDB913E211B; Tue, 24 May 2005 11:29:24 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B3C1C13E2005
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 11:28:28 -0400 (EDT)
In-Reply-To: <00cd01c56073$2e8cc490$0700000a@mickey>
References: <00cd01c56073$2e8cc490$0700000a@mickey>
Mime-Version: 1.0 (Apple Message framework v730)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FD0F621B-2ACB-4CEE-87C7-04B5693F8FD1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: tf=0 while lucene is finding matches?
Date: Tue, 24 May 2005 11:28:25 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

My hunch is that you're not using the document id in your calls to  
IndexSearcher.explain().  You don't pass the hit index number.

     Erik


On May 24, 2005, at 11:13 AM, M. Mokotov wrote:

> OK, I think I'm missing something big time...
> Can someone point me to the documentation of the explain?
>
> Thanks a lot,
> M
>
> -----Original Message-----
> From: M. Mokotov [mailto:mk@mokotov.org]
> Sent: Tuesday, May 24, 2005 4:46 PM
> To: 'java-user@lucene.apache.org'
> Subject: tf=0 while lucene is finding matches?
>
>
> Hi,
>
> Anyone knows what is exactly Similarity.tf()?
> I understood it's term frequency on a document.
> Still, when I'm searching for a string a document contains, and the
> Explain().toString() shows tf=0.
>
>
> search string: "SubTitle:(Without)"
> matching documents: 3
>
> 0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming  
> Somebody
> Without School
> 0.0 = fieldWeight(SubTitle:without in 0), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   0.5 = fieldNorm(field=SubTitle, doc=0)
>
>
>
> 1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've  
> Always
> Wanted--without Losing Your Mind
> 0.0 = fieldWeight(SubTitle:without in 1), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
>
>
> 2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
> Monopoly Without Breaking Windows
> 0.0 = fieldWeight(SubTitle:without in 2), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 17:16:05 2005
Return-Path: <java-user-return-14576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20196 invoked from network); 24 May 2005 17:16:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 17:16:05 -0000
Received: (qmail 33852 invoked by uid 500); 24 May 2005 17:15:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33821 invoked by uid 500); 24 May 2005 17:15:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33804 invoked by uid 99); 24 May 2005 17:15:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 10:15:54 -0700
Received: by rproxy.gmail.com with SMTP id c51so1144066rne
        for <java-user@lucene.apache.org>; Tue, 24 May 2005 10:15:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=r5ve9Au7mtaXQQi2p76nSQqPH4VBe5ihZmky39qWUTQMEkHflDjbSAdnsC+lQFNtmAWk1TUSHnFxmiIU9g/Iwq/gMS07rCFxPvv7+MWWGhRgM5Cy4b367pagVoxCEzbtUZlPNV15urwbF+wQZ/mjx0ItgWCU6PWh0gSqd/2wyY4=
Received: by 10.38.97.14 with SMTP id u14mr243715rnb;
        Tue, 24 May 2005 10:15:51 -0700 (PDT)
Received: by 10.38.104.10 with HTTP; Tue, 24 May 2005 10:15:51 -0700 (PDT)
Message-ID: <88c6a672050524101510304f66@mail.gmail.com>
Date: Tue, 24 May 2005 12:15:51 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query.toString(0 does not escape special characters
In-Reply-To: <BE3E7BC7F7553B4A9362D4192ECD308A652EA2@neptune.int.mediasurface.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <BE3E7BC7F7553B4A9362D4192ECD308A652EA2@neptune.int.mediasurface.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Peter,

See the method escape(String s) of QueryParser, it may do what you want.


On 5/24/05, Peter Gelderbloem <Peter.Gelderbloem@mediasurface.com> wrote:
> Hi,
> I am building queries using the query api and when I use } in my fieldnam=
e
> and then call toString on the query, QueryParser throws a ParseException
> when trying to parse it. How do I fix this?
>=20
> Regards
> Peter Gelderbloem
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 19:47:09 2005
Return-Path: <java-user-return-14577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33411 invoked from network); 24 May 2005 19:47:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 19:47:09 -0000
Received: (qmail 88333 invoked by uid 500); 24 May 2005 19:47:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88146 invoked by uid 500); 24 May 2005 19:47:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88128 invoked by uid 99); 24 May 2005 19:47:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from imf20aec.mail.bellsouth.net (HELO imf20aec.mail.bellsouth.net) (205.152.59.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 12:47:02 -0700
Received: from ibm62aec.bellsouth.net ([65.12.150.225])
          by imf20aec.mail.bellsouth.net
          (InterMail vM.5.01.06.11 201-253-122-130-111-20040605) with ESMTP
          id <20050524194659.JECZ2010.imf20aec.mail.bellsouth.net@ibm62aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 24 May 2005 15:46:59 -0400
Received: from w2ks.synernet.com ([65.12.150.225])
          by ibm62aec.bellsouth.net
          (InterMail vG.1.02.00.01 201-2136-104-101-20040929) with ESMTP
          id <20050524194659.JHDL8439.ibm62aec.bellsouth.net@w2ks.synernet.com>
          for <java-user@lucene.apache.org>;
          Tue, 24 May 2005 15:46:59 -0400
Message-Id: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2
Date: Tue, 24 May 2005 15:47:15 -0400
To: java-user@lucene.apache.org
From: Fred Toth <ftoth@synernet.com>
Subject: Using Highlighter to highlight entire HTML documents?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

We have a need to present HTML documents with all search
terms highlighted. Everything I've seen regarding the Highlighter
code seems to point to the typical case of extracting relevant
fragments from the text for presentation of hit lists.

Is it possible to use the core highlighting code to process an
entire document? Instead of extracting fragments, we would want
the entire document back. Has anyone done this?

Or is this the wrong approach? Even if the Highlighter is not an
exact fit for this, it seems that the term positions could still be
useful?

Any suggestions would be appreciated.

Thanks,

Fred Toth


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 20:00:50 2005
Return-Path: <java-user-return-14578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51590 invoked from network); 24 May 2005 20:00:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 20:00:50 -0000
Received: (qmail 14224 invoked by uid 500); 24 May 2005 20:00:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14194 invoked by uid 500); 24 May 2005 20:00:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14180 invoked by uid 99); 24 May 2005 20:00:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 13:00:43 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Using Highlighter to highlight entire HTML documents?
Date: Tue, 24 May 2005 16:00:26 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA018B4DF5@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using Highlighter to highlight entire HTML documents?
thread-index: AcVgmVS62yFQU7CDQ8+j8sBy3j4LYgAAeB5w
From: "Will Allen" <wallen@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The challenge with this is always not breaking the HTML page itself.

-----Original Message-----
From: Fred Toth [mailto:ftoth@synernet.com]
Sent: Tuesday, May 24, 2005 3:47 PM
To: java-user@lucene.apache.org
Subject: Using Highlighter to highlight entire HTML documents?


Hi,

We have a need to present HTML documents with all search
terms highlighted. Everything I've seen regarding the Highlighter
code seems to point to the typical case of extracting relevant
fragments from the text for presentation of hit lists.

Is it possible to use the core highlighting code to process an
entire document? Instead of extracting fragments, we would want
the entire document back. Has anyone done this?

Or is this the wrong approach? Even if the Highlighter is not an
exact fit for this, it seems that the term positions could still be
useful?

Any suggestions would be appreciated.

Thanks,

Fred Toth


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 24 21:49:41 2005
Return-Path: <java-user-return-14579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41547 invoked from network); 24 May 2005 21:49:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2005 21:49:41 -0000
Received: (qmail 69098 invoked by uid 500); 24 May 2005 21:49:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69011 invoked by uid 500); 24 May 2005 21:49:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68996 invoked by uid 99); 24 May 2005 21:49:35 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp004.mail.ukl.yahoo.com (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 24 May 2005 14:49:33 -0700
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp004.mail.ukl.yahoo.com with SMTP; 24 May 2005 21:49:30 -0000
Message-ID: <4293A16A.3010106@yahoo.co.uk>
Date: Tue, 24 May 2005 22:49:30 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using Highlighter to highlight entire HTML documents?
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com>
In-Reply-To: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Fred Toth wrote:

> Hi,
>
> We have a need to present HTML documents with all search
> terms highlighted. Everything I've seen regarding the Highlighter
> code seems to point to the typical case of extracting relevant
> fragments from the text for presentation of hit lists.

If you dont want to fragment your docs either pass  the highlighter an 
instance of the default fragmenter with it's "fragment size in bytes" 
property set to a very large number or pass a custom fragmenter 
implementation which always returns false when asked if the next token 
starts a new fragment.

Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 00:01:09 2005
Return-Path: <java-user-return-14580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13880 invoked from network); 25 May 2005 00:01:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 00:01:08 -0000
Received: (qmail 66900 invoked by uid 500); 25 May 2005 00:01:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66865 invoked by uid 500); 25 May 2005 00:01:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66852 invoked by uid 99); 25 May 2005 00:01:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from imf18aec.mail.bellsouth.net (HELO imf18aec.mail.bellsouth.net) (205.152.59.66)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 17:01:00 -0700
Received: from ibm59aec.bellsouth.net ([65.12.150.225])
          by imf18aec.mail.bellsouth.net
          (InterMail vM.5.01.06.11 201-253-122-130-111-20040605) with ESMTP
          id <20050525000058.JBGM16444.imf18aec.mail.bellsouth.net@ibm59aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 24 May 2005 20:00:58 -0400
Received: from w2ks.synernet.com ([65.12.150.225])
          by ibm59aec.bellsouth.net
          (InterMail vG.1.02.00.01 201-2136-104-101-20040929) with ESMTP
          id <20050525000057.ESUS8760.ibm59aec.bellsouth.net@w2ks.synernet.com>
          for <java-user@lucene.apache.org>;
          Tue, 24 May 2005 20:00:57 -0400
Message-Id: <6.2.1.2.2.20050524195931.063677c8@fast.synernet.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2
Date: Tue, 24 May 2005 20:01:12 -0400
To: java-user@lucene.apache.org
From: Fred Toth <ftoth@synernet.com>
Subject: Term offset support not in current release?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Just checking, but it appears that the support for storing
term offsets is available only in the current svn version, yes?
Is there any reasonable way to patch this stuff into the current
release? I suspect not, since the API for Field appears to have
changed considerably to support this.

Just making sure I'm not missing anything.

Thanks,

Fred Toth


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 01:07:26 2005
Return-Path: <java-user-return-14581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65747 invoked from network); 25 May 2005 01:07:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 01:07:26 -0000
Received: (qmail 57660 invoked by uid 500); 25 May 2005 01:07:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57637 invoked by uid 500); 25 May 2005 01:07:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57621 invoked by uid 99); 25 May 2005 01:07:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 18:07:19 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8CDD213E2007; Tue, 24 May 2005 21:07:17 -0400 (EDT)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 080C713E2007
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 21:07:12 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <6.2.1.2.2.20050524195931.063677c8@fast.synernet.com>
References: <6.2.1.2.2.20050524195931.063677c8@fast.synernet.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D7BB6EE0-147C-4003-9E0E-4CF0CFE1961E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Term offset support not in current release?
Date: Tue, 24 May 2005 21:07:10 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 24, 2005, at 8:01 PM, Fred Toth wrote:

> Hi,
>
> Just checking, but it appears that the support for storing
> term offsets is available only in the current svn version, yes?
> Is there any reasonable way to patch this stuff into the current
> release? I suspect not, since the API for Field appears to have
> changed considerably to support this.
>
> Just making sure I'm not missing anything.

You're not missing anything.

I recommend you go ahead and upgrade to the latest svn version to get  
this support.  I run svn trunk for my projects with no problems.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 06:29:58 2005
Return-Path: <java-user-return-14582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84822 invoked from network); 25 May 2005 06:29:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 06:29:58 -0000
Received: (qmail 12536 invoked by uid 500); 25 May 2005 06:29:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12491 invoked by uid 500); 25 May 2005 06:29:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12478 invoked by uid 99); 25 May 2005 06:29:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fetchbook.info (HELO gc.fetchbook.info) (69.61.19.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 24 May 2005 23:29:50 -0700
Received: (qmail 1556 invoked from network); 25 May 2005 06:28:37 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by gc.fetchbook.info with SMTP; 25 May 2005 06:28:37 -0000
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: RE: tf=0 while lucene is finding matches?
Date: Wed, 25 May 2005 09:27:57 +0200
Message-ID: <00e301c560fb$46c52470$0700000a@mickey>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <FD0F621B-2ACB-4CEE-87C7-04B5693F8FD1@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik
Thanks for the response.

I believe I do use the index number for the explain(), here is the code:


for (int i = 0; i < hits.length() && i<200; i++) {
	System.out.println();
	System.out.println( i+": "+hits.score(i)+":
"+hits.doc(i).get("Title")+ ": "+hits.doc(i).get("SubTitle") );
	System.out.println( searcher.explain(query, i));
}
I would be very thankful for an explanation since I'm feeling quite lost.


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Tuesday, May 24, 2005 5:28 PM
To: java-user@lucene.apache.org
Subject: Re: tf=0 while lucene is finding matches?


My hunch is that you're not using the document id in your calls to  
IndexSearcher.explain().  You don't pass the hit index number.

     Erik


On May 24, 2005, at 11:13 AM, M. Mokotov wrote:

> OK, I think I'm missing something big time...
> Can someone point me to the documentation of the explain?
>
> Thanks a lot,
> M
>
> -----Original Message-----
> From: M. Mokotov [mailto:mk@mokotov.org]
> Sent: Tuesday, May 24, 2005 4:46 PM
> To: 'java-user@lucene.apache.org'
> Subject: tf=0 while lucene is finding matches?
>
>
> Hi,
>
> Anyone knows what is exactly Similarity.tf()?
> I understood it's term frequency on a document.
> Still, when I'm searching for a string a document contains, and the
> Explain().toString() shows tf=0.
>
>
> search string: "SubTitle:(Without)"
> matching documents: 3
>
> 0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming
> Somebody
> Without School
> 0.0 = fieldWeight(SubTitle:without in 0), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   0.5 = fieldNorm(field=SubTitle, doc=0)
>
>
>
> 1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've  
> Always
> Wanted--without Losing Your Mind
> 0.0 = fieldWeight(SubTitle:without in 1), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
>
>
> 2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
> Monopoly Without Breaking Windows
> 0.0 = fieldWeight(SubTitle:without in 2), product of:
>   0.0 = tf(termFreq(SubTitle:without)=0)
>   7.214108 = idf(docFreq=3)
>   7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 06:48:21 2005
Return-Path: <java-user-return-14583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89802 invoked from network); 25 May 2005 06:48:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 06:48:21 -0000
Received: (qmail 42584 invoked by uid 500); 25 May 2005 06:48:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42560 invoked by uid 500); 25 May 2005 06:48:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42546 invoked by uid 99); 25 May 2005 06:48:14 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 24 May 2005 23:48:12 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9072C5B84D; Tue, 24 May 2005 23:48:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7EB427F466
	for <java-user@lucene.apache.org>; Tue, 24 May 2005 23:48:08 -0700 (PDT)
Date: Tue, 24 May 2005 23:48:08 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: tf=0 while lucene is finding matches?
In-Reply-To: <00e301c560fb$46c52470$0700000a@mickey>
Message-ID: <Pine.LNX.4.58.0505242343420.993@hal.rescomp.berkeley.edu>
References: <00e301c560fb$46c52470$0700000a@mickey>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I believe I do use the index number for the explain(), here is the code:

You are missing Erik's point, he's telling you "do NOT pass the index" ...
passing the doc id is the correct way to use explain.  try...

    System.out.println( searcher.explain(query, hits.id(i)));



: for (int i = 0; i < hits.length() && i<200; i++) {
: 	System.out.println();
: 	System.out.println( i+": "+hits.score(i)+":
: "+hits.doc(i).get("Title")+ ": "+hits.doc(i).get("SubTitle") );
: 	System.out.println( searcher.explain(query, i));
: }
: I would be very thankful for an explanation since I'm feeling quite lost.
:
:
: -----Original Message-----
: From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
: Sent: Tuesday, May 24, 2005 5:28 PM
: To: java-user@lucene.apache.org
: Subject: Re: tf=0 while lucene is finding matches?
:
:
: My hunch is that you're not using the document id in your calls to
: IndexSearcher.explain().  You don't pass the hit index number.
:
:      Erik
:
:
: On May 24, 2005, at 11:13 AM, M. Mokotov wrote:
:
: > OK, I think I'm missing something big time...
: > Can someone point me to the documentation of the explain?
: >
: > Thanks a lot,
: > M
: >
: > -----Original Message-----
: > From: M. Mokotov [mailto:mk@mokotov.org]
: > Sent: Tuesday, May 24, 2005 4:46 PM
: > To: 'java-user@lucene.apache.org'
: > Subject: tf=0 while lucene is finding matches?
: >
: >
: > Hi,
: >
: > Anyone knows what is exactly Similarity.tf()?
: > I understood it's term frequency on a document.
: > Still, when I'm searching for a string a document contains, and the
: > Explain().toString() shows tf=0.
: >
: >
: > search string: "SubTitle:(Without)"
: > matching documents: 3
: >
: > 0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming
: > Somebody
: > Without School
: > 0.0 = fieldWeight(SubTitle:without in 0), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   0.5 = fieldNorm(field=SubTitle, doc=0)
: >
: >
: >
: > 1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've
: > Always
: > Wanted--without Losing Your Mind
: > 0.0 = fieldWeight(SubTitle:without in 1), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
: >
: >
: > 2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
: > Monopoly Without Breaking Windows
: > 0.0 = fieldWeight(SubTitle:without in 2), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
: >
: >
: >
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 08:05:30 2005
Return-Path: <java-user-return-14584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38977 invoked from network); 25 May 2005 08:05:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 08:05:30 -0000
Received: (qmail 72556 invoked by uid 500); 25 May 2005 08:05:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72539 invoked by uid 500); 25 May 2005 08:05:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72482 invoked by uid 99); 25 May 2005 08:05:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-out.completel.net (HELO smtp-out.completel.net) (83.145.110.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 01:05:21 -0700
Received: from [192.168.1.195] (unknown [213.30.157.202])
	by smtp-out.completel.net (Postfix) with ESMTP id 3AA0025C05F
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 10:05:11 +0200 (CEST)
Message-ID: <429430C4.605@opsys.fr>
Date: Wed, 25 May 2005 10:01:08 +0200
From: Antoine Brun <abrun@opsys.fr>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: How to navigate through indexed terms
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am currently looking for a way to navigate forward and backward among 
the indexed terms.
For example, given a Term t, I would like to be able to get the next 10 
terms or the previous 10 ones.

Getting the next terms is quite straitforward, using the terms(Term t) 
method from IndexReader. The problem arises when I try to get the 
previous terms. Since the TermEnum returned by IndexReader.terms(t) only 
has a next() method, I had to get all the terms from the index and 
iterate through them up to the given term. It it not a good method and 
it will probably be very slow whith big indexes...

Has anyone ran through this problem yet?

Thanks,

           
                Antoine  Brun

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 08:21:24 2005
Return-Path: <java-user-return-14585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44282 invoked from network); 25 May 2005 08:21:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 08:21:24 -0000
Received: (qmail 9454 invoked by uid 500); 25 May 2005 08:21:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9402 invoked by uid 500); 25 May 2005 08:21:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9386 invoked by uid 99); 25 May 2005 08:21:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fetchbook.info (HELO gc.fetchbook.info) (69.61.19.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 25 May 2005 01:21:12 -0700
Received: (qmail 23380 invoked from network); 25 May 2005 08:19:51 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by gc.fetchbook.info with SMTP; 25 May 2005 08:19:51 -0000
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: RE: tf=0 while lucene is finding matches?
Date: Wed, 25 May 2005 11:19:10 +0200
Message-ID: <00ed01c5610a$d0c229c0$0700000a@mickey>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <Pine.LNX.4.58.0505242343420.993@hal.rescomp.berkeley.edu>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Got you :-)

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Wednesday, May 25, 2005 8:48 AM
To: java-user@lucene.apache.org
Subject: RE: tf=0 while lucene is finding matches?



: I believe I do use the index number for the explain(), here is the code:

You are missing Erik's point, he's telling you "do NOT pass the index" ...
passing the doc id is the correct way to use explain.  try...

    System.out.println( searcher.explain(query, hits.id(i)));



: for (int i = 0; i < hits.length() && i<200; i++) {
: 	System.out.println();
: 	System.out.println( i+": "+hits.score(i)+":
: "+hits.doc(i).get("Title")+ ": "+hits.doc(i).get("SubTitle") );
: 	System.out.println( searcher.explain(query, i));
: }
: I would be very thankful for an explanation since I'm feeling quite lost.
:
:
: -----Original Message-----
: From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
: Sent: Tuesday, May 24, 2005 5:28 PM
: To: java-user@lucene.apache.org
: Subject: Re: tf=0 while lucene is finding matches?
:
:
: My hunch is that you're not using the document id in your calls to
: IndexSearcher.explain().  You don't pass the hit index number.
:
:      Erik
:
:
: On May 24, 2005, at 11:13 AM, M. Mokotov wrote:
:
: > OK, I think I'm missing something big time...
: > Can someone point me to the documentation of the explain?
: >
: > Thanks a lot,
: > M
: >
: > -----Original Message-----
: > From: M. Mokotov [mailto:mk@mokotov.org]
: > Sent: Tuesday, May 24, 2005 4:46 PM
: > To: 'java-user@lucene.apache.org'
: > Subject: tf=0 while lucene is finding matches?
: >
: >
: > Hi,
: >
: > Anyone knows what is exactly Similarity.tf()?
: > I understood it's term frequency on a document.
: > Still, when I'm searching for a string a document contains, and the
: > Explain().toString() shows tf=0.
: >
: >
: > search string: "SubTitle:(Without)"
: > matching documents: 3
: >
: > 0: 1.0: "Dropping Out," Drifting Off, Being Excluded: Becoming
: > Somebody
: > Without School
: > 0.0 = fieldWeight(SubTitle:without in 0), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   0.5 = fieldNorm(field=SubTitle, doc=0)
: >
: >
: >
: > 1: 0.625: "I Have A Life" Bride's Guide: Plan The Wedding You've
: > Always
: > Wanted--without Losing Your Mind
: > 0.0 = fieldWeight(SubTitle:without in 1), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   7.5161928E9 = fieldNorm(field=SubTitle, doc=1)
: >
: >
: > 2: 0.625: 1 Microsoft Way: A Cookbook to Breaking Bill Gates Windows
: > Monopoly Without Breaking Windows
: > 0.0 = fieldWeight(SubTitle:without in 2), product of:
: >   0.0 = tf(termFreq(SubTitle:without)=0)
: >   7.214108 = idf(docFreq=3)
: >   7.5161928E9 = fieldNorm(field=SubTitle, doc=2)
: >
: >
: >
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 09:23:46 2005
Return-Path: <java-user-return-14586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68189 invoked from network); 25 May 2005 09:23:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 09:23:46 -0000
Received: (qmail 34477 invoked by uid 500); 25 May 2005 09:23:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34415 invoked by uid 500); 25 May 2005 09:23:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34378 invoked by uid 99); 25 May 2005 09:23:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.naukri.com) (198.65.102.93)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 02:23:32 -0700
Received: from [192.168.2.215] ([210.7.75.235])
          by mail.naukri.com (Lotus Domino Release 6.5.2FP1)
          with ESMTP id 2005052505231602-245120 ;
          Wed, 25 May 2005 05:23:16 -0400 
Subject: search optimization - help
From: Kapil Chhabra <kapil.chhabra@naukri.com>
To: LUCENE USERS <java-user@lucene.apache.org>
Organization: naukri.com
Message-Id: <1117012482.3838.8.camel@kapil>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 (1.4.6-2) 
Date: Wed, 25 May 2005 14:51:59 +0530
X-MIMETrack: Itemize by SMTP Server on mail/naukri(Release 6.5.2FP1 | November 29, 2004) at
 05/25/2005 05:23:17 AM,
	Serialize by Router on mail/naukri(Release 6.5.2FP1 | November 29, 2004) at
 05/25/2005 05:23:32 AM,
	Serialize complete at 05/25/2005 05:23:32 AM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

1. My application requires documents to be sorted on one of my indexed
fields everytime.
I use the hits.setSort() method to specify the field.
In short my application will never use the scores generated by lucene
search.
Is calculating scores a overhead? Can I skip the process somehow?



2. let C = A or B

In a normal scenario, if A is true the value of B is not checked and C
is set to true. The value of B is checked only if A is false.
I guess this is not what lucene does as it has to calculate the score
for the document. Am i right?
If yes, I there any way I can do it using the normal scenario?

Thanks in anticipation.
Regards,
kC


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 09:43:32 2005
Return-Path: <java-user-return-14587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79573 invoked from network); 25 May 2005 09:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 09:43:32 -0000
Received: (qmail 77202 invoked by uid 500); 25 May 2005 09:43:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77177 invoked by uid 500); 25 May 2005 09:43:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77146 invoked by uid 99); 25 May 2005 09:43:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rivette.uk.mediasurface.com (HELO rivette.int.mediasurface.com) (193.123.241.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 02:43:22 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j4P9gpL05197;
	Wed, 25 May 2005 10:42:51 +0100 (BST)
Received: from ntexchange.int.mediasurface.com (ntexchange.int.mediasurface.com [10.0.5.69])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j4P9goj05193;
	Wed, 25 May 2005 10:42:50 +0100 (BST)
Received: by ntexchange.int.mediasurface.com with Internet Mail Service (5.5.2657.72)
	id <JTSZ4C0H>; Wed, 25 May 2005 10:41:24 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A652FD6@neptune.int.mediasurface.com>
From: Peter Gelderbloem <Peter.Gelderbloem@mediasurface.com>
To: java-user@lucene.apache.org, Chris Lamprecht <clamprecht@gmail.com>
Subject: RE: Query.toString(0 does not escape special characters
Date: Wed, 25 May 2005 10:42:44 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah,
That works

Thanks
Peter Gelderbloem
-----Original Message-----
From: Chris Lamprecht [mailto:clamprecht@gmail.com] 
Sent: 24 May 2005 18:16
To: java-user@lucene.apache.org
Subject: Re: Query.toString(0 does not escape special characters

Hi Peter,

See the method escape(String s) of QueryParser, it may do what you want.


On 5/24/05, Peter Gelderbloem <Peter.Gelderbloem@mediasurface.com> wrote:
> Hi,
> I am building queries using the query api and when I use } in my fieldname
> and then call toString on the query, QueryParser throws a ParseException
> when trying to parse it. How do I fix this?
> 
> Regards
> Peter Gelderbloem
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 10:58:17 2005
Return-Path: <java-user-return-14588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28561 invoked from network); 25 May 2005 10:58:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 10:58:17 -0000
Received: (qmail 22845 invoked by uid 500); 25 May 2005 10:58:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22813 invoked by uid 500); 25 May 2005 10:58:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22798 invoked by uid 99); 25 May 2005 10:58:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mailgw1.fraunhofer.de (HELO mailgw1.fraunhofer.de) (153.96.1.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 03:58:08 -0700
Received: from mailgw1.fraunhofer.de (localhost [127.0.0.1])
	by mailgw1.fraunhofer.de (8.13.3+/8.13.3) with ESMTP id j4PAw41O005158
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 12:58:04 +0200 (CEST)
Received: from kso.imk.fhg.de (kso.imk.fhg.de [193.175.166.3])
	by mailgw1.fraunhofer.de (8.13.3+/8.13.3) with ESMTP id j4PAw4CF005146
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 12:58:04 +0200 (CEST)
Received: from mail.imk.fraunhofer.de (mail.imk.fhg.de [129.26.176.7])
	by kso.imk.fhg.de (8.12.10/8.12.10) with ESMTP id j4PAw3xQ002875
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 12:58:03 +0200 (MEST)
Received: from [129.26.186.34] (localhost [127.0.0.1])
	by mail.imk.fraunhofer.de (8.12.10/8.12.10) with ESMTP id j4PAw3nD008800
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 12:58:03 +0200 (MEST)
X-Authentication-Warning: mail.imk.fraunhofer.de: iscan owned process doing -bs
Message-ID: <42945AD2.30404@web.de>
Date: Wed, 25 May 2005 13:00:34 +0200
From: Barbara Krausz <bkrausz@web.de>
Reply-To: java-user@lucene.apache.org
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Finding docs which contain at least x of the queryterms
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com> <4293A16A.3010106@yahoo.co.uk>
In-Reply-To: <4293A16A.3010106@yahoo.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Fraunhofer-Email-Policy: accepted
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>
Hi,

Consider a Query with e.g. 4 terms (t1,t2,t3,t4). I want to retrieve all 
documents which contain at least e.g. 3 of the queryterms. How can I 
implement this?
The first idea is to use BooleanQueries such as
(t1 and t2 and t3 and t4) or (t1 and t2 and t3) or(t1 and t2 and t4) or 
(t1 and t3 and t4).....

But the perfomance is not very good when I have 20 queryterms and I want 
to retrieve all docs which contain at least 15 of the terms.
Can I modify the skipto-algorithm in ConjunctionScorer in order to 
achieve this?

Thanks
Barbara

PS: Has anybody written a Statistics-class which says how many term and 
different terms are  in  the index.  And perhaps computes the mean 
length of the documents in the index with the standard deviation?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 12:29:15 2005
Return-Path: <java-user-return-14589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64621 invoked from network); 25 May 2005 12:29:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 12:29:15 -0000
Received: (qmail 81255 invoked by uid 500); 25 May 2005 12:29:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81223 invoked by uid 500); 25 May 2005 12:29:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81207 invoked by uid 99); 25 May 2005 12:29:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 05:29:07 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A6D1813E2119; Wed, 25 May 2005 08:29:04 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id CB16613E210D
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 08:28:39 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <42945AD2.30404@web.de>
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com> <4293A16A.3010106@yahoo.co.uk> <42945AD2.30404@web.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F1DD8858-F9F2-4BDD-9A6C-259C43DEB5CB@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Finding docs which contain at least x of the queryterms
Date: Wed, 25 May 2005 08:28:34 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 25, 2005, at 7:00 AM, Barbara Krausz wrote:
> Hi,
>
> Consider a Query with e.g. 4 terms (t1,t2,t3,t4). I want to  
> retrieve all documents which contain at least e.g. 3 of the  
> queryterms. How can I implement this?
> The first idea is to use BooleanQueries such as
> (t1 and t2 and t3 and t4) or (t1 and t2 and t3) or(t1 and t2 and  
> t4) or (t1 and t3 and t4).....
>
> But the perfomance is not very good when I have 20 queryterms and I  
> want to retrieve all docs which contain at least 15 of the terms.
> Can I modify the skipto-algorithm in ConjunctionScorer in order to  
> achieve this?
>
> Thanks
> Barbara
>
> PS: Has anybody written a Statistics-class which says how many term  
> and different terms are  in  the index.  And perhaps computes the  
> mean length of the documents in the index with the standard deviation?

There is an interesting trick you can play with a custom Similarity  
class on a BooleanQuery - check out the coord method.  This could be  
used to ensure that an "overlap" of 3 is mandatory for a match, for  
example.

I'll leave the details of this as an exercise to the reader for the  
moment.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 12:32:17 2005
Return-Path: <java-user-return-14590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65803 invoked from network); 25 May 2005 12:32:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 12:32:17 -0000
Received: (qmail 91089 invoked by uid 500); 25 May 2005 12:32:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91051 invoked by uid 500); 25 May 2005 12:32:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91037 invoked by uid 99); 25 May 2005 12:32:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp.battelle.org (HELO ws-bco-smtp1.IM.BATTELLE.ORG) (131.167.253.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 05:32:06 -0700
Received: from [131.167.170.26] by smtp.BATTELLE.ORG (PMDF V6.2-X26 #30874)
 with ESMTP id <M0XD08QJFF5G4X023O@smtp.BATTELLE.ORG> for
 java-user@lucene.apache.org; Wed,
 25 May 2005 08:31:58 -0400 (Eastern Daylight Time)
Date: Wed, 25 May 2005 08:31:50 -0400
From: Dan Funk <funkd@BATTELLE.ORG>
Subject: Re: Using Highlighter to highlight entire HTML documents?
In-reply-to: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com>
To: java-user@lucene.apache.org
Message-id: <42947036.2070902@battelle.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


 I wrote a very simple sax parser for our xml content -  I check for the 
search tokens (analyzer.tokenStream)  in the text and place a span tag 
around each found token.  This process could work well with xhtml  as well.

In other words, I could never get the highlighter to do what I wanted to 
do, but there's a lot to be learned from the highlighter source.

Fred Toth wrote:

> Hi,
>
> We have a need to present HTML documents with all search
> terms highlighted. Everything I've seen regarding the Highlighter
> code seems to point to the typical case of extracting relevant
> fragments from the text for presentation of hit lists.
>
> Is it possible to use the core highlighting code to process an
> entire document? Instead of extracting fragments, we would want
> the entire document back. Has anyone done this?
>
> Or is this the wrong approach? Even if the Highlighter is not an
> exact fit for this, it seems that the term positions could still be
> useful?
>
> Any suggestions would be appreciated.
>
> Thanks,
>
> Fred Toth
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
Dan Funk
Software Engineer

Information Technology Solutions
Battelle Charlottesville Operations
1000 Research Park Boulevard, Suite 105
Charlottesville, Virginia 22911

434.984.0951 x244
434.984.0947 (fax)
FunkD@Battelle.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 12:52:31 2005
Return-Path: <java-user-return-14591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74147 invoked from network); 25 May 2005 12:52:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 12:52:30 -0000
Received: (qmail 44677 invoked by uid 500); 25 May 2005 12:52:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44654 invoked by uid 500); 25 May 2005 12:52:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44631 invoked by uid 99); 25 May 2005 12:52:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gwia201.syr.edu (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 05:52:23 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Wed, 25 May 2005 08:52:19 -0400
Message-Id: <s2943cc3.020@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Wed, 25 May 2005 08:51:51 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: How to navigate through indexed terms
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This isn't totally what you want, but is a intermediate step between
going through all terms is something like what is in Luke.  

In Luke on the Documents tab, you can put in a single letter in the
Browse by term field and then hit "next term" and it will give you the
next term, which you could then use to get at your term range much more
quickly.

So, you could build your iterator by seeking to the first term that
starts with the letter of your central term, and then iterate from there
to find your central term, keeping a stack of the last ten items.

Not sure on the functionality required, but you could look in the Luke
code (or maybe Luke's author could share).  I am guessing it has to do
with the seek functionality.

Of course, you could also add a previous() method into the source and
submit the patch, as the code would be very similar to the next()
functionality, I think.

>>> abrun@opsys.fr 5/25/2005 4:01:08 AM >>>
Hello,

I am currently looking for a way to navigate forward and backward among

the indexed terms.
For example, given a Term t, I would like to be able to get the next 10

terms or the previous 10 ones.

Getting the next terms is quite straitforward, using the terms(Term t)

method from IndexReader. The problem arises when I try to get the 
previous terms. Since the TermEnum returned by IndexReader.terms(t)
only 
has a next() method, I had to get all the terms from the index and 
iterate through them up to the given term. It it not a good method and

it will probably be very slow whith big indexes...

Has anyone ran through this problem yet?

Thanks,

           
                Antoine  Brun

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 13:30:26 2005
Return-Path: <java-user-return-14592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22238 invoked from network); 25 May 2005 13:30:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 13:30:26 -0000
Received: (qmail 38262 invoked by uid 500); 25 May 2005 13:30:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38233 invoked by uid 500); 25 May 2005 13:30:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38195 invoked by uid 500); 25 May 2005 13:30:17 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 38158 invoked by uid 99); 25 May 2005 13:30:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 06:30:16 -0700
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 25 May 2005 15:30:02 +0200
Message-ID: <42947DD9.3080600@ifit.uni-klu.ac.at>
Date: Wed, 25 May 2005 15:30:01 +0200
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: *term (SuffixQeuries)
References: <D9DB9769052FAC458635F1B52A097A670DAD97@upk.de> <4200DDEC.1060506@ifit.uni-klu.ac.at>
In-Reply-To: <4200DDEC.1060506@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 25 May 2005 13:30:02.0944 (UTC) FILETIME=[DB3B3400:01C5612D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


   Hi all,

I send this email to make a correction to the solution that enables 
SuffixQeuries

 The definition of the WILDTERM was a buggy one, it splitted a term in 
two terms
e.g   "term:te*st"     was parsed to "term:te* term:st", of course this 
was wrong.

HERE is the right way to do it ...

<DEFAULT> TOKEN : {
.......
| <WILDTERM:   (([ "*", "?" ])* <_TERM_START_CHAR> (<_TERM_CHAR> | ( [ 
"*", "?" ] ) )* ) >
.......

Erik (or other lucene developer), can you please update the Comments in 
the QueryParser.jj to include this correction?
The existing suggestion allows doesn't throw parse exception if the user 
tries to use "*-" or this kind of combinations
and throws some OutOfBoundsException or NPE ..., my definition throws 
ParseException
that can be catched and displayed that the given string is an invalid 
search string ...

What needs to be done is to change :

// OG: to support prefix queries:
// http://nagoya.apache.org/bugzilla/show_bug.cgi?id=12137
// Change from:
// | <WILDTERM:  <_TERM_START_CHAR>
//              (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
// To:
//
// | <WILDTERM:  (<_TERM_CHAR> | ( [ "*", "?" ] ))* >

// OG: to support prefix queries:
// http://nagoya.apache.org/bugzilla/show_bug.cgi?id=12137
// Change from:
// | <WILDTERM:  <_TERM_START_CHAR>
//              (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
// To:
//
// | <WILDTERM:  (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
//
//SG: or better, this definition
//| <WILDTERM:   (([ "*", "?" ])* <_TERM_START_CHAR> (<_TERM_CHAR> | ( [ 
"*", "?" ] ) )* ) >

sergiu gordea wrote:

> Tim Lebedkov (UPK) wrote:
>
>> Hi,
>>
>> is there a way to make QueryParser accept *term?
>>  
>>
> yes, if you apply a patch the lucene sources.
> Search for "*term search" in lucene archive.
>
> Best,
>
>  Sergiu
>
>> thank you
>> --Tim
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>  
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 16:30:01 2005
Return-Path: <java-user-return-14593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30032 invoked from network); 25 May 2005 16:30:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 16:30:01 -0000
Received: (qmail 19941 invoked by uid 500); 25 May 2005 16:29:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19899 invoked by uid 500); 25 May 2005 16:29:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19874 invoked by uid 99); 25 May 2005 16:29:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr9.xs4all.nl (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 09:29:53 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.3/8.13.3) with ESMTP id j4PGTkm5033884
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 18:29:46 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Finding docs which contain at least x of the queryterms
Date: Wed, 25 May 2005 18:29:46 +0200
User-Agent: KMail/1.5.4
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com> <4293A16A.3010106@yahoo.co.uk> <42945AD2.30404@web.de>
In-Reply-To: <42945AD2.30404@web.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505251829.46378.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 25 May 2005 13:00, Barbara Krausz wrote:
> 
> >
> Hi,
> 
> Consider a Query with e.g. 4 terms (t1,t2,t3,t4). I want to retrieve all 
> documents which contain at least e.g. 3 of the queryterms. How can I 
> implement this?
> The first idea is to use BooleanQueries such as
> (t1 and t2 and t3 and t4) or (t1 and t2 and t3) or(t1 and t2 and t4) or 
> (t1 and t3 and t4).....
> 
> But the perfomance is not very good when I have 20 queryterms and I want 
> to retrieve all docs which contain at least 15 of the terms.
> Can I modify the skipto-algorithm in ConjunctionScorer in order to 
> achieve this?

I don't think so, but in case you can describe a method to do this,
please share it.

In the svn trunk there is a DisjunctionSumScorer that has the
minimum number of subquery matchers as a constructor parameter:

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/search/

It has this javadoc comment in the advanceAfterCurrent method:
* @todo Investigate whether it is possible to use skipTo() when
* the minimum number of matchers is bigger than one, ie. try and use the
* character of ConjunctionScorer for the minimum number of matchers.

The constructor parameter is not used (even in the trunk), so you'll have
to write the code to use it yourself. I'd recommend to start from the trunk
and extend BooleanQuery for this.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 17:28:31 2005
Return-Path: <java-user-return-14594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74678 invoked from network); 25 May 2005 17:28:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 17:28:30 -0000
Received: (qmail 49507 invoked by uid 500); 25 May 2005 17:28:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49469 invoked by uid 500); 25 May 2005 17:28:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49453 invoked by uid 99); 25 May 2005 17:28:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr13.xs4all.nl (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 10:28:23 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.3/8.13.3) with ESMTP id j4PHSKIL075166
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 19:28:20 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: search optimization - help
Date: Wed, 25 May 2005 19:28:20 +0200
User-Agent: KMail/1.5.4
References: <1117012482.3838.8.camel@kapil>
In-Reply-To: <1117012482.3838.8.camel@kapil>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505251928.20007.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 25 May 2005 11:21, Kapil Chhabra wrote:
> 1. My application requires documents to be sorted on one of my indexed
> fields everytime.
> I use the hits.setSort() method to specify the field.
> In short my application will never use the scores generated by lucene
> search.
> Is calculating scores a overhead? Can I skip the process somehow?

It's an overhead in theory, but hardly so in practice.
One would need to write a special Scorer to skip calculating scores.

> 
> 
> 
> 2. let C = A or B
> 
> In a normal scenario, if A is true the value of B is not checked and C
> is set to true. The value of B is checked only if A is false.
> I guess this is not what lucene does as it has to calculate the score
> for the document. Am i right?

Yes.

> If yes, I there any way I can do it using the normal scenario?

One would also need to write a special Scorer to do this.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 19:41:00 2005
Return-Path: <java-user-return-14595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97476 invoked from network); 25 May 2005 19:40:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 19:40:59 -0000
Received: (qmail 21121 invoked by uid 500); 25 May 2005 19:40:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20202 invoked by uid 500); 25 May 2005 19:40:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20185 invoked by uid 99); 25 May 2005 19:40:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from internalmx2.vasoftware.com (HELO lists.vasoftware.com) (12.152.184.150)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 12:40:54 -0700
Received: from netblock-66-159-223-11.dslextreme.com ([66.159.223.11]:50079 helo=[192.168.1.74])
	by lists.vasoftware.com with asmtp 
	(Cipher TLSv1:RC4-SHA:128) (Exim 4.20 #1 (Debian))
	id 1Db1jp-0007yR-E3 by VAauthid <cconrad> with fixed_plain
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 12:40:21 -0700
Mime-Version: 1.0 (Apple Message framework v730)
Content-Transfer-Encoding: 7bit
Message-Id: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Chris Conrad <cconrad@vasoftware.com>
Subject: SourceForge.net Lucene based search announcement
Date: Wed, 25 May 2005 12:40:15 -0700
X-Mailer: Apple Mail (2.730)
X-EA-Verified: lists.vasoftware.com 1Db1jp-0007yR-E3 62d75e3fb6ad1d5c14898c2cac9038bb
X-Spam-Score: -100.0 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I just wanted to let everyone know that we've officially announced  
that the new SourceForge.net search system is based on Lucene.  It's  
been in operation for over a month now and we're very happy with it.   
I'd also like to personally thank Erik Hatcher for helping me out  
during development.

You can find Lucene listed in the Site Software section of our  
support guide here: http://sourceforge.net/docman/display_doc.php? 
docid=11230&group_id=1#site_software

Thanks,
Chris Conrad
SourceForge.net Engineer


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 20:59:22 2005
Return-Path: <java-user-return-14596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22170 invoked from network); 25 May 2005 20:59:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 20:59:22 -0000
Received: (qmail 68381 invoked by uid 500); 25 May 2005 20:59:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68354 invoked by uid 500); 25 May 2005 20:59:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68338 invoked by uid 99); 25 May 2005 20:59:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from adsl-69-211-117-122.dsl.chcgil.ameritech.net (HELO caseknowledge.com) (69.211.117.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 13:59:15 -0700
Received: from [172.20.21.3] (helo=thoban01a)
	by caseknowledge.com with smtp (Exim 4.30)
	id 1Db2y4-0002cN-0x
	for java-user@lucene.apache.org; Wed, 25 May 2005 15:59:08 -0500
Message-ID: <001201c5616c$99c4f030$031514ac@thoban01a>
From: "Thomas X Hoban" <thoban@caseknowledge.com>
To: <java-user@lucene.apache.org>
Subject: Lucene - PDFBox
Date: Wed, 25 May 2005 15:58:41 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000F_01C56142.9F03A840"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C56142.9F03A840
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

   =20

First, I am new to Lucene.

Is there anyone out there who has had trouble getting hits when running =
phrase queries against an index that contains content from PDF files.  =
For PDF documents, I create the document using =
LucenePDFDocument.getDocument(file) and then add it to the index.  For =
non-pdf documents, I create the document using =
FileDocument.Document(file).

For instance, I add documents with the following text:

pdf1.pdf -- "Dave has good taste"
pdf2.pdf -- "Tom has good taste"
word1.doc -- "Liz has bad taste"
word2.doc -- "Troy has bad taste"

When I search content for the following strings:

    has good taste
      get expected results with hits on pdf1.doc, pdf2.doc, word1.doc =
and word2.doc

    "has good taste"
       get unexpected result: 0 hits

    "has bad taste"
       get expected results with hits on word1.doc and word2.doc
=20
It seems that searching for individual words work fine for both PDF and =
non-pdf files.  However, searching on a phrase (enclosed in quotes) =
works on non-pdf files but not on files parsed with the =
LucenePDFDocument class.

Can anyone offer advise?

Below is code for index creation.  It is the demo IndexFiles class =
provided with Lucene along with some changes...

import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.Field;
import org.apache.lucene.document.Document;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Date;

//import javax.activation.MimetypesFileTypeMap;

import org.pdfbox.searchengine.lucene.LucenePDFDocument;


class IndexFiles {
  public static void main(String[] args) throws IOException {
    String usage =3D "java " + IndexFiles.class + " <root_directory>";
    if (args.length =3D=3D 0) {
      System.err.println("Usage: " + usage);
      System.exit(1);
    }

    Date start =3D new Date();
    try {
      IndexWriter writer =3D new IndexWriter("index", new =
StandardAnalyzer(), true);
      indexDocs(writer, new File(args[0]));

      writer.optimize();
      writer.close();

      Date end =3D new Date();

      System.out.print(end.getTime() - start.getTime());
      System.out.println(" total milliseconds");

    } catch (IOException e) {
      System.out.println(" caught a " + e.getClass() +
       "\n with message: " + e.getMessage());
    }
  }

  public static void indexDocs(IndexWriter writer, File file)
    throws IOException {
    // do not try to index files that cannot be read

    if (file.canRead()) {
      if (file.isDirectory()) {
        String[] files =3D file.list();
        // an IO error could occur
        if (files !=3D null) {
          for (int i =3D 0; i < files.length; i++) {
            indexDocs(writer, new File(file, files[i]));
          }
        }
      } else {
        System.out.println("adding " + file);
        try {

          Document doc =3D null;
          if (file.getName().indexOf(".pdf") >=3D 0)
              // =
writer.addDocument(LucenePDFDocument.getDocument(file));
              doc =3D LucenePDFDocument.getDocument(file);
          else
              doc =3D FileDocument.Document(file);

          Field field =3D null;=20
          if (file.getPath().indexOf("case1") >=3D0)
              field =3D new Field("caseid", "1", false, true, false);
          else if (file.getPath().indexOf("case2") >=3D0)
              field =3D new Field("caseid", "2", false, true, false);
          else if (file.getPath().indexOf("case3") >=3D0)
              field =3D new Field("caseid", "3", false, true, false);
          else=20
              field =3D new Field("caseid", "0", false, true, false);

          doc.add(field);

          writer.addDocument(doc);
        }
        // at least on windows, some temporary files raise this =
exception with an "access denied" message
        // checking if the file can be read doesn't help
        catch (FileNotFoundException fnfe) {
          ;
        }
      }
    }
  }
}


Here is the SearchFiles class with some minor modifications...

import java.io.IOException;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.search.Searcher;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.BooleanQuery;
import org.apache.lucene.search.PhraseQuery;
import org.apache.lucene.search.Hits;
import org.apache.lucene.index.Term;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.queryParser.ParseException;

class SearchFiles {

  private static Query getCaseQuery(String line, Analyzer analyzer)
  throws ParseException {
      BooleanQuery bq =3D new BooleanQuery();
      StringTokenizer st =3D new StringTokenizer(line);
      Query query =3D QueryParser.parse(line, "contents", analyzer);
      String caseId =3D null;
      while (st.hasMoreTokens()) {
          caseId =3D st.nextToken();
          System.out.println("build case query for " + caseId);
         =20
          query =3D QueryParser.parse(caseId, "caseid", analyzer);
          bq.add(query, false, false);
      }

      return bq;
  }
  public static void main(String[] args) {
    try {
      Searcher searcher =3D new IndexSearcher("index");
      Analyzer analyzer =3D new StandardAnalyzer();

      BufferedReader in =3D new BufferedReader(new =
InputStreamReader(System.in));
      while (true) {
        System.out.print("Query: ");
        String line =3D in.readLine();
        System.out.print("Cases: ");
        String caseLine =3D in.readLine();
        Query caseQuery =3D getCaseQuery(caseLine, analyzer);

        if (line.length() =3D=3D -1)
          break;

       =20
        Query query =3D QueryParser.parse(line, "contents", analyzer);
        // PhraseQuery query =3D new PhraseQuery();
        // query.add(new Term("contents",line));
        System.out.println("Searching for: " + =
query.toString("contents"));
        /*
        BooleanQuery wholeQuery =3D new BooleanQuery();
        wholeQuery.add(caseQuery, true, false);
        wholeQuery.add(query,     true, false);
        Hits hits =3D searcher.search(wholeQuery);
        */
        Hits hits =3D searcher.search(query);
        System.out.println(hits.length() + " total matching documents");

        final int HITS_PER_PAGE =3D 10;
        for (int start =3D 0; start < hits.length(); start +=3D =
HITS_PER_PAGE) {
          int end =3D Math.min(hits.length(), start + HITS_PER_PAGE);
          for (int i =3D start; i < end; i++) {
            Document doc =3D hits.doc(i);
            String path =3D doc.get("path");
            if (path !=3D null) {
              System.out.println(i + ". " + path);
            } else {
              String url =3D doc.get("url");
              if (url !=3D null) {
                System.out.println(i + ". " + url);
                System.out.println("   - " + doc.get("title"));
              } else {
                System.out.println(i + ". " + "No path nor URL for this =
document");
              }
            }
          }

          if (hits.length() > end) {
            System.out.print("more (y/n) ? ");
            line =3D in.readLine();
            if (line.length() =3D=3D 0 || line.charAt(0) =3D=3D 'n')
              break;
          }
        }
      }
      searcher.close();

    } catch (Exception e) {
      System.out.println(" caught a " + e.getClass() +
                         "\n with message: " + e.getMessage());
    }
  }
}

------=_NextPart_000_000F_01C56142.9F03A840--


From java-user-return-14597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 21:38:39 2005
Return-Path: <java-user-return-14597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48008 invoked from network); 25 May 2005 21:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 21:38:39 -0000
Received: (qmail 60391 invoked by uid 500); 25 May 2005 21:38:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60338 invoked by uid 500); 25 May 2005 21:38:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60286 invoked by uid 99); 25 May 2005 21:38:22 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 14:38:19 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id CED9F91DE
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 17:38:16 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 7523814E7; Wed, 25 May 2005 17:38:16 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 4F70911C1
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 17:38:16 -0400 (EDT)
Date: Wed, 25 May 2005 17:38:16 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: java-user@lucene.apache.org
Subject: Re: Lucene - PDFBox
In-Reply-To: <001201c5616c$99c4f030$031514ac@thoban01a>
Message-ID: <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu>
References: <001201c5616c$99c4f030$031514ac@thoban01a>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Can you run the following command line application on the PDF to verify
that the extracted text is correct

java org.pdfbox.ExtractText <pdf-file>

Ben



On Wed, 25 May 2005, Thomas X Hoban wrote:

>
>
> First, I am new to Lucene.
>
> Is there anyone out there who has had trouble getting hits when running phrase queries against an index that contains content from PDF files.  For PDF documents, I create the document using LucenePDFDocument.getDocument(file) and then add it to the index.  For non-pdf documents, I create the document using FileDocument.Document(file).
>
> For instance, I add documents with the following text:
>
> pdf1.pdf -- "Dave has good taste"
> pdf2.pdf -- "Tom has good taste"
> word1.doc -- "Liz has bad taste"
> word2.doc -- "Troy has bad taste"
>
> When I search content for the following strings:
>
>     has good taste
>       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc and word2.doc
>
>     "has good taste"
>        get unexpected result: 0 hits
>
>     "has bad taste"
>        get expected results with hits on word1.doc and word2.doc
>
> It seems that searching for individual words work fine for both PDF and non-pdf files.  However, searching on a phrase (enclosed in quotes) works on non-pdf files but not on files parsed with the LucenePDFDocument class.
>
> Can anyone offer advise?
>
> Below is code for index creation.  It is the demo IndexFiles class provided with Lucene along with some changes...
>
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.document.Document;
>
> import java.io.File;
> import java.io.FileNotFoundException;
> import java.io.IOException;
> import java.util.Date;
>
> //import javax.activation.MimetypesFileTypeMap;
>
> import org.pdfbox.searchengine.lucene.LucenePDFDocument;
>
>
> class IndexFiles {
>   public static void main(String[] args) throws IOException {
>     String usage = "java " + IndexFiles.class + " <root_directory>";
>     if (args.length == 0) {
>       System.err.println("Usage: " + usage);
>       System.exit(1);
>     }
>
>     Date start = new Date();
>     try {
>       IndexWriter writer = new IndexWriter("index", new StandardAnalyzer(), true);
>       indexDocs(writer, new File(args[0]));
>
>       writer.optimize();
>       writer.close();
>
>       Date end = new Date();
>
>       System.out.print(end.getTime() - start.getTime());
>       System.out.println(" total milliseconds");
>
>     } catch (IOException e) {
>       System.out.println(" caught a " + e.getClass() +
>        "\n with message: " + e.getMessage());
>     }
>   }
>
>   public static void indexDocs(IndexWriter writer, File file)
>     throws IOException {
>     // do not try to index files that cannot be read
>
>     if (file.canRead()) {
>       if (file.isDirectory()) {
>         String[] files = file.list();
>         // an IO error could occur
>         if (files != null) {
>           for (int i = 0; i < files.length; i++) {
>             indexDocs(writer, new File(file, files[i]));
>           }
>         }
>       } else {
>         System.out.println("adding " + file);
>         try {
>
>           Document doc = null;
>           if (file.getName().indexOf(".pdf") >= 0)
>               // writer.addDocument(LucenePDFDocument.getDocument(file));
>               doc = LucenePDFDocument.getDocument(file);
>           else
>               doc = FileDocument.Document(file);
>
>           Field field = null;
>           if (file.getPath().indexOf("case1") >=0)
>               field = new Field("caseid", "1", false, true, false);
>           else if (file.getPath().indexOf("case2") >=0)
>               field = new Field("caseid", "2", false, true, false);
>           else if (file.getPath().indexOf("case3") >=0)
>               field = new Field("caseid", "3", false, true, false);
>           else
>               field = new Field("caseid", "0", false, true, false);
>
>           doc.add(field);
>
>           writer.addDocument(doc);
>         }
>         // at least on windows, some temporary files raise this exception with an "access denied" message
>         // checking if the file can be read doesn't help
>         catch (FileNotFoundException fnfe) {
>           ;
>         }
>       }
>     }
>   }
> }
>
>
> Here is the SearchFiles class with some minor modifications...
>
> import java.io.IOException;
> import java.io.BufferedReader;
> import java.io.InputStreamReader;
> import java.util.StringTokenizer;
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.BooleanQuery;
> import org.apache.lucene.search.PhraseQuery;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.queryParser.ParseException;
>
> class SearchFiles {
>
>   private static Query getCaseQuery(String line, Analyzer analyzer)
>   throws ParseException {
>       BooleanQuery bq = new BooleanQuery();
>       StringTokenizer st = new StringTokenizer(line);
>       Query query = QueryParser.parse(line, "contents", analyzer);
>       String caseId = null;
>       while (st.hasMoreTokens()) {
>           caseId = st.nextToken();
>           System.out.println("build case query for " + caseId);
>
>           query = QueryParser.parse(caseId, "caseid", analyzer);
>           bq.add(query, false, false);
>       }
>
>       return bq;
>   }
>   public static void main(String[] args) {
>     try {
>       Searcher searcher = new IndexSearcher("index");
>       Analyzer analyzer = new StandardAnalyzer();
>
>       BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
>       while (true) {
>         System.out.print("Query: ");
>         String line = in.readLine();
>         System.out.print("Cases: ");
>         String caseLine = in.readLine();
>         Query caseQuery = getCaseQuery(caseLine, analyzer);
>
>         if (line.length() == -1)
>           break;
>
>
>         Query query = QueryParser.parse(line, "contents", analyzer);
>         // PhraseQuery query = new PhraseQuery();
>         // query.add(new Term("contents",line));
>         System.out.println("Searching for: " + query.toString("contents"));
>         /*
>         BooleanQuery wholeQuery = new BooleanQuery();
>         wholeQuery.add(caseQuery, true, false);
>         wholeQuery.add(query,     true, false);
>         Hits hits = searcher.search(wholeQuery);
>         */
>         Hits hits = searcher.search(query);
>         System.out.println(hits.length() + " total matching documents");
>
>         final int HITS_PER_PAGE = 10;
>         for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) {
>           int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>           for (int i = start; i < end; i++) {
>             Document doc = hits.doc(i);
>             String path = doc.get("path");
>             if (path != null) {
>               System.out.println(i + ". " + path);
>             } else {
>               String url = doc.get("url");
>               if (url != null) {
>                 System.out.println(i + ". " + url);
>                 System.out.println("   - " + doc.get("title"));
>               } else {
>                 System.out.println(i + ". " + "No path nor URL for this document");
>               }
>             }
>           }
>
>           if (hits.length() > end) {
>             System.out.print("more (y/n) ? ");
>             line = in.readLine();
>             if (line.length() == 0 || line.charAt(0) == 'n')
>               break;
>           }
>         }
>       }
>       searcher.close();
>
>     } catch (Exception e) {
>       System.out.println(" caught a " + e.getClass() +
>                          "\n with message: " + e.getMessage());
>     }
>   }
> }
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 21:53:54 2005
Return-Path: <java-user-return-14598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60575 invoked from network); 25 May 2005 21:53:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 21:53:54 -0000
Received: (qmail 92887 invoked by uid 500); 25 May 2005 21:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92860 invoked by uid 500); 25 May 2005 21:53:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92845 invoked by uid 99); 25 May 2005 21:53:46 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com designates 64.233.162.198 as permitted sender)
Received: from zproxy.gmail.com (HELO zproxy.gmail.com) (64.233.162.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 14:53:44 -0700
Received: by zproxy.gmail.com with SMTP id 8so294650nzo
        for <java-user@lucene.apache.org>; Wed, 25 May 2005 14:53:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SKR+FBdeAo5Dc35/ferSJHD0SptnIdCqd9ZfsHMxTV0U7cPE84e6FqyLT6/oisLw74R9mh0K37mMaxbEcjJm5+A8XOYpnJfU5zclmFkMsf5L21Lp2dZCrQNamC/6aW9SsLZsLJIOQOpB8o+i4vLpIWmVqRAQ2LunX4fb1dX7FHA=
Received: by 10.36.147.5 with SMTP id u5mr382700nzd;
        Wed, 25 May 2005 14:53:42 -0700 (PDT)
Received: by 10.36.56.4 with HTTP; Wed, 25 May 2005 14:53:42 -0700 (PDT)
Message-ID: <cbdebdf805052514532232a711@mail.gmail.com>
Date: Wed, 25 May 2005 14:53:42 -0700
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene - PDFBox
In-Reply-To: <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <001201c5616c$99c4f030$031514ac@thoban01a>
	 <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Also, which analyzer are you using when indexing your documents?

On 5/25/05, Ben Litchfield <ben@csh.rit.edu> wrote:
>=20
> Can you run the following command line application on the PDF to verify
> that the extracted text is correct
>=20
> java org.pdfbox.ExtractText <pdf-file>
>=20
> Ben
>=20
>=20
>=20
> On Wed, 25 May 2005, Thomas X Hoban wrote:
>=20
> >
> >
> > First, I am new to Lucene.
> >
> > Is there anyone out there who has had trouble getting hits when running=
 phrase queries against an index that contains content from PDF files.  For=
 PDF documents, I create the document using LucenePDFDocument.getDocument(f=
ile) and then add it to the index.  For non-pdf documents, I create the doc=
ument using FileDocument.Document(file).
> >
> > For instance, I add documents with the following text:
> >
> > pdf1.pdf -- "Dave has good taste"
> > pdf2.pdf -- "Tom has good taste"
> > word1.doc -- "Liz has bad taste"
> > word2.doc -- "Troy has bad taste"
> >
> > When I search content for the following strings:
> >
> >     has good taste
> >       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc a=
nd word2.doc
> >
> >     "has good taste"
> >        get unexpected result: 0 hits
> >
> >     "has bad taste"
> >        get expected results with hits on word1.doc and word2.doc
> >
> > It seems that searching for individual words work fine for both PDF and=
 non-pdf files.  However, searching on a phrase (enclosed in quotes) works =
on non-pdf files but not on files parsed with the LucenePDFDocument class.
> >
> > Can anyone offer advise?
> >
> > Below is code for index creation.  It is the demo IndexFiles class prov=
ided with Lucene along with some changes...
> >
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.index.IndexWriter;
> > import org.apache.lucene.document.Field;
> > import org.apache.lucene.document.Document;
> >
> > import java.io.File;
> > import java.io.FileNotFoundException;
> > import java.io.IOException;
> > import java.util.Date;
> >
> > //import javax.activation.MimetypesFileTypeMap;
> >
> > import org.pdfbox.searchengine.lucene.LucenePDFDocument;
> >
> >
> > class IndexFiles {
> >   public static void main(String[] args) throws IOException {
> >     String usage =3D "java " + IndexFiles.class + " <root_directory>";
> >     if (args.length =3D=3D 0) {
> >       System.err.println("Usage: " + usage);
> >       System.exit(1);
> >     }
> >
> >     Date start =3D new Date();
> >     try {
> >       IndexWriter writer =3D new IndexWriter("index", new StandardAnaly=
zer(), true);
> >       indexDocs(writer, new File(args[0]));
> >
> >       writer.optimize();
> >       writer.close();
> >
> >       Date end =3D new Date();
> >
> >       System.out.print(end.getTime() - start.getTime());
> >       System.out.println(" total milliseconds");
> >
> >     } catch (IOException e) {
> >       System.out.println(" caught a " + e.getClass() +
> >        "\n with message: " + e.getMessage());
> >     }
> >   }
> >
> >   public static void indexDocs(IndexWriter writer, File file)
> >     throws IOException {
> >     // do not try to index files that cannot be read
> >
> >     if (file.canRead()) {
> >       if (file.isDirectory()) {
> >         String[] files =3D file.list();
> >         // an IO error could occur
> >         if (files !=3D null) {
> >           for (int i =3D 0; i < files.length; i++) {
> >             indexDocs(writer, new File(file, files[i]));
> >           }
> >         }
> >       } else {
> >         System.out.println("adding " + file);
> >         try {
> >
> >           Document doc =3D null;
> >           if (file.getName().indexOf(".pdf") >=3D 0)
> >               // writer.addDocument(LucenePDFDocument.getDocument(file)=
);
> >               doc =3D LucenePDFDocument.getDocument(file);
> >           else
> >               doc =3D FileDocument.Document(file);
> >
> >           Field field =3D null;
> >           if (file.getPath().indexOf("case1") >=3D0)
> >               field =3D new Field("caseid", "1", false, true, false);
> >           else if (file.getPath().indexOf("case2") >=3D0)
> >               field =3D new Field("caseid", "2", false, true, false);
> >           else if (file.getPath().indexOf("case3") >=3D0)
> >               field =3D new Field("caseid", "3", false, true, false);
> >           else
> >               field =3D new Field("caseid", "0", false, true, false);
> >
> >           doc.add(field);
> >
> >           writer.addDocument(doc);
> >         }
> >         // at least on windows, some temporary files raise this excepti=
on with an "access denied" message
> >         // checking if the file can be read doesn't help
> >         catch (FileNotFoundException fnfe) {
> >           ;
> >         }
> >       }
> >     }
> >   }
> > }
> >
> >
> > Here is the SearchFiles class with some minor modifications...
> >
> > import java.io.IOException;
> > import java.io.BufferedReader;
> > import java.io.InputStreamReader;
> > import java.util.StringTokenizer;
> >
> > import org.apache.lucene.analysis.Analyzer;
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.document.Document;
> > import org.apache.lucene.search.Searcher;
> > import org.apache.lucene.search.IndexSearcher;
> > import org.apache.lucene.search.Query;
> > import org.apache.lucene.search.BooleanQuery;
> > import org.apache.lucene.search.PhraseQuery;
> > import org.apache.lucene.search.Hits;
> > import org.apache.lucene.index.Term;
> > import org.apache.lucene.queryParser.QueryParser;
> > import org.apache.lucene.queryParser.ParseException;
> >
> > class SearchFiles {
> >
> >   private static Query getCaseQuery(String line, Analyzer analyzer)
> >   throws ParseException {
> >       BooleanQuery bq =3D new BooleanQuery();
> >       StringTokenizer st =3D new StringTokenizer(line);
> >       Query query =3D QueryParser.parse(line, "contents", analyzer);
> >       String caseId =3D null;
> >       while (st.hasMoreTokens()) {
> >           caseId =3D st.nextToken();
> >           System.out.println("build case query for " + caseId);
> >
> >           query =3D QueryParser.parse(caseId, "caseid", analyzer);
> >           bq.add(query, false, false);
> >       }
> >
> >       return bq;
> >   }
> >   public static void main(String[] args) {
> >     try {
> >       Searcher searcher =3D new IndexSearcher("index");
> >       Analyzer analyzer =3D new StandardAnalyzer();
> >
> >       BufferedReader in =3D new BufferedReader(new InputStreamReader(Sy=
stem.in));
> >       while (true) {
> >         System.out.print("Query: ");
> >         String line =3D in.readLine();
> >         System.out.print("Cases: ");
> >         String caseLine =3D in.readLine();
> >         Query caseQuery =3D getCaseQuery(caseLine, analyzer);
> >
> >         if (line.length() =3D=3D -1)
> >           break;
> >
> >
> >         Query query =3D QueryParser.parse(line, "contents", analyzer);
> >         // PhraseQuery query =3D new PhraseQuery();
> >         // query.add(new Term("contents",line));
> >         System.out.println("Searching for: " + query.toString("contents=
"));
> >         /*
> >         BooleanQuery wholeQuery =3D new BooleanQuery();
> >         wholeQuery.add(caseQuery, true, false);
> >         wholeQuery.add(query,     true, false);
> >         Hits hits =3D searcher.search(wholeQuery);
> >         */
> >         Hits hits =3D searcher.search(query);
> >         System.out.println(hits.length() + " total matching documents")=
;
> >
> >         final int HITS_PER_PAGE =3D 10;
> >         for (int start =3D 0; start < hits.length(); start +=3D HITS_PE=
R_PAGE) {
> >           int end =3D Math.min(hits.length(), start + HITS_PER_PAGE);
> >           for (int i =3D start; i < end; i++) {
> >             Document doc =3D hits.doc(i);
> >             String path =3D doc.get("path");
> >             if (path !=3D null) {
> >               System.out.println(i + ". " + path);
> >             } else {
> >               String url =3D doc.get("url");
> >               if (url !=3D null) {
> >                 System.out.println(i + ". " + url);
> >                 System.out.println("   - " + doc.get("title"));
> >               } else {
> >                 System.out.println(i + ". " + "No path nor URL for this=
 document");
> >               }
> >             }
> >           }
> >
> >           if (hits.length() > end) {
> >             System.out.print("more (y/n) ? ");
> >             line =3D in.readLine();
> >             if (line.length() =3D=3D 0 || line.charAt(0) =3D=3D 'n')
> >               break;
> >           }
> >         }
> >       }
> >       searcher.close();
> >
> >     } catch (Exception e) {
> >       System.out.println(" caught a " + e.getClass() +
> >                          "\n with message: " + e.getMessage());
> >     }
> >   }
> > }
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 21:59:25 2005
Return-Path: <java-user-return-14599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62437 invoked from network); 25 May 2005 21:59:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 21:59:25 -0000
Received: (qmail 6319 invoked by uid 500); 25 May 2005 21:59:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6300 invoked by uid 500); 25 May 2005 21:59:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6286 invoked by uid 99); 25 May 2005 21:59:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from adsl-69-211-117-122.dsl.chcgil.ameritech.net (HELO caseknowledge.com) (69.211.117.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 14:59:19 -0700
Received: from [172.20.21.3] (helo=thoban01a)
	by caseknowledge.com with smtp (Exim 4.30)
	id 1Db3uD-0002fY-Od
	for java-user@lucene.apache.org; Wed, 25 May 2005 16:59:13 -0500
Message-ID: <000d01c56174$ff0efc80$031514ac@thoban01a>
From: "Thomas X Hoban" <thoban@caseknowledge.com>
To: <java-user@lucene.apache.org>
References: <001201c5616c$99c4f030$031514ac@thoban01a> <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu>
Subject: Re: Lucene - PDFBox
Date: Wed, 25 May 2005 16:58:47 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for replying.

When I run the command, it generates a file with a "txt" extension.  The 
text in this file has spaces interspersed in odd spots.  Here is output from 
a file I ran the command on...

Marc h 29, 2005

Hello t here m y good friend.

HELLO

Legal Soft w are is GOOD.




I would have expected this...

GoOD

March 29, 2005

Hello there my good friend.

HELLO

Legal Software is GOOD.

GoOD



----- Original Message ----- 
From: "Ben Litchfield" <ben@csh.rit.edu>
To: <java-user@lucene.apache.org>
Sent: Wednesday, May 25, 2005 4:38 PM
Subject: Re: Lucene - PDFBox


>
> Can you run the following command line application on the PDF to verify
> that the extracted text is correct
>
> java org.pdfbox.ExtractText <pdf-file>
>
> Ben
>
>
>
> On Wed, 25 May 2005, Thomas X Hoban wrote:
>
>>
>>
>> First, I am new to Lucene.
>>
>> Is there anyone out there who has had trouble getting hits when running 
>> phrase queries against an index that contains content from PDF files. 
>> For PDF documents, I create the document using 
>> LucenePDFDocument.getDocument(file) and then add it to the index.  For 
>> non-pdf documents, I create the document using 
>> FileDocument.Document(file).
>>
>> For instance, I add documents with the following text:
>>
>> pdf1.pdf -- "Dave has good taste"
>> pdf2.pdf -- "Tom has good taste"
>> word1.doc -- "Liz has bad taste"
>> word2.doc -- "Troy has bad taste"
>>
>> When I search content for the following strings:
>>
>>     has good taste
>>       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc and 
>> word2.doc
>>
>>     "has good taste"
>>        get unexpected result: 0 hits
>>
>>     "has bad taste"
>>        get expected results with hits on word1.doc and word2.doc
>>
>> It seems that searching for individual words work fine for both PDF and 
>> non-pdf files.  However, searching on a phrase (enclosed in quotes) works 
>> on non-pdf files but not on files parsed with the LucenePDFDocument 
>> class.
>>
>> Can anyone offer advise?
>>
>> Below is code for index creation.  It is the demo IndexFiles class 
>> provided with Lucene along with some changes...
>>
>> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>> import org.apache.lucene.index.IndexWriter;
>> import org.apache.lucene.document.Field;
>> import org.apache.lucene.document.Document;
>>
>> import java.io.File;
>> import java.io.FileNotFoundException;
>> import java.io.IOException;
>> import java.util.Date;
>>
>> //import javax.activation.MimetypesFileTypeMap;
>>
>> import org.pdfbox.searchengine.lucene.LucenePDFDocument;
>>
>>
>> class IndexFiles {
>>   public static void main(String[] args) throws IOException {
>>     String usage = "java " + IndexFiles.class + " <root_directory>";
>>     if (args.length == 0) {
>>       System.err.println("Usage: " + usage);
>>       System.exit(1);
>>     }
>>
>>     Date start = new Date();
>>     try {
>>       IndexWriter writer = new IndexWriter("index", new 
>> StandardAnalyzer(), true);
>>       indexDocs(writer, new File(args[0]));
>>
>>       writer.optimize();
>>       writer.close();
>>
>>       Date end = new Date();
>>
>>       System.out.print(end.getTime() - start.getTime());
>>       System.out.println(" total milliseconds");
>>
>>     } catch (IOException e) {
>>       System.out.println(" caught a " + e.getClass() +
>>        "\n with message: " + e.getMessage());
>>     }
>>   }
>>
>>   public static void indexDocs(IndexWriter writer, File file)
>>     throws IOException {
>>     // do not try to index files that cannot be read
>>
>>     if (file.canRead()) {
>>       if (file.isDirectory()) {
>>         String[] files = file.list();
>>         // an IO error could occur
>>         if (files != null) {
>>           for (int i = 0; i < files.length; i++) {
>>             indexDocs(writer, new File(file, files[i]));
>>           }
>>         }
>>       } else {
>>         System.out.println("adding " + file);
>>         try {
>>
>>           Document doc = null;
>>           if (file.getName().indexOf(".pdf") >= 0)
>>               // writer.addDocument(LucenePDFDocument.getDocument(file));
>>               doc = LucenePDFDocument.getDocument(file);
>>           else
>>               doc = FileDocument.Document(file);
>>
>>           Field field = null;
>>           if (file.getPath().indexOf("case1") >=0)
>>               field = new Field("caseid", "1", false, true, false);
>>           else if (file.getPath().indexOf("case2") >=0)
>>               field = new Field("caseid", "2", false, true, false);
>>           else if (file.getPath().indexOf("case3") >=0)
>>               field = new Field("caseid", "3", false, true, false);
>>           else
>>               field = new Field("caseid", "0", false, true, false);
>>
>>           doc.add(field);
>>
>>           writer.addDocument(doc);
>>         }
>>         // at least on windows, some temporary files raise this exception 
>> with an "access denied" message
>>         // checking if the file can be read doesn't help
>>         catch (FileNotFoundException fnfe) {
>>           ;
>>         }
>>       }
>>     }
>>   }
>> }
>>
>>
>> Here is the SearchFiles class with some minor modifications...
>>
>> import java.io.IOException;
>> import java.io.BufferedReader;
>> import java.io.InputStreamReader;
>> import java.util.StringTokenizer;
>>
>> import org.apache.lucene.analysis.Analyzer;
>> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>> import org.apache.lucene.document.Document;
>> import org.apache.lucene.search.Searcher;
>> import org.apache.lucene.search.IndexSearcher;
>> import org.apache.lucene.search.Query;
>> import org.apache.lucene.search.BooleanQuery;
>> import org.apache.lucene.search.PhraseQuery;
>> import org.apache.lucene.search.Hits;
>> import org.apache.lucene.index.Term;
>> import org.apache.lucene.queryParser.QueryParser;
>> import org.apache.lucene.queryParser.ParseException;
>>
>> class SearchFiles {
>>
>>   private static Query getCaseQuery(String line, Analyzer analyzer)
>>   throws ParseException {
>>       BooleanQuery bq = new BooleanQuery();
>>       StringTokenizer st = new StringTokenizer(line);
>>       Query query = QueryParser.parse(line, "contents", analyzer);
>>       String caseId = null;
>>       while (st.hasMoreTokens()) {
>>           caseId = st.nextToken();
>>           System.out.println("build case query for " + caseId);
>>
>>           query = QueryParser.parse(caseId, "caseid", analyzer);
>>           bq.add(query, false, false);
>>       }
>>
>>       return bq;
>>   }
>>   public static void main(String[] args) {
>>     try {
>>       Searcher searcher = new IndexSearcher("index");
>>       Analyzer analyzer = new StandardAnalyzer();
>>
>>       BufferedReader in = new BufferedReader(new 
>> InputStreamReader(System.in));
>>       while (true) {
>>         System.out.print("Query: ");
>>         String line = in.readLine();
>>         System.out.print("Cases: ");
>>         String caseLine = in.readLine();
>>         Query caseQuery = getCaseQuery(caseLine, analyzer);
>>
>>         if (line.length() == -1)
>>           break;
>>
>>
>>         Query query = QueryParser.parse(line, "contents", analyzer);
>>         // PhraseQuery query = new PhraseQuery();
>>         // query.add(new Term("contents",line));
>>         System.out.println("Searching for: " + 
>> query.toString("contents"));
>>         /*
>>         BooleanQuery wholeQuery = new BooleanQuery();
>>         wholeQuery.add(caseQuery, true, false);
>>         wholeQuery.add(query,     true, false);
>>         Hits hits = searcher.search(wholeQuery);
>>         */
>>         Hits hits = searcher.search(query);
>>         System.out.println(hits.length() + " total matching documents");
>>
>>         final int HITS_PER_PAGE = 10;
>>         for (int start = 0; start < hits.length(); start += 
>> HITS_PER_PAGE) {
>>           int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>>           for (int i = start; i < end; i++) {
>>             Document doc = hits.doc(i);
>>             String path = doc.get("path");
>>             if (path != null) {
>>               System.out.println(i + ". " + path);
>>             } else {
>>               String url = doc.get("url");
>>               if (url != null) {
>>                 System.out.println(i + ". " + url);
>>                 System.out.println("   - " + doc.get("title"));
>>               } else {
>>                 System.out.println(i + ". " + "No path nor URL for this 
>> document");
>>               }
>>             }
>>           }
>>
>>           if (hits.length() > end) {
>>             System.out.print("more (y/n) ? ");
>>             line = in.readLine();
>>             if (line.length() == 0 || line.charAt(0) == 'n')
>>               break;
>>           }
>>         }
>>       }
>>       searcher.close();
>>
>>     } catch (Exception e) {
>>       System.out.println(" caught a " + e.getClass() +
>>                          "\n with message: " + e.getMessage());
>>     }
>>   }
>> }
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 22:00:47 2005
Return-Path: <java-user-return-14600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63169 invoked from network); 25 May 2005 22:00:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 22:00:46 -0000
Received: (qmail 10293 invoked by uid 500); 25 May 2005 22:00:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10269 invoked by uid 500); 25 May 2005 22:00:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10255 invoked by uid 99); 25 May 2005 22:00:41 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from adsl-69-211-117-122.dsl.chcgil.ameritech.net (HELO caseknowledge.com) (69.211.117.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 15:00:40 -0700
Received: from [172.20.21.3] (helo=thoban01a)
	by caseknowledge.com with smtp (Exim 4.30)
	id 1Db3vW-0002fv-PJ; Wed, 25 May 2005 17:00:34 -0500
Message-ID: <000e01c56175$2f5b7d00$031514ac@thoban01a>
From: "Thomas X Hoban" <thoban@caseknowledge.com>
To: <java-user@lucene.apache.org>,
	"Chris Fraschetti" <fraschetti@gmail.com>
References: <001201c5616c$99c4f030$031514ac@thoban01a> <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu> <cbdebdf805052514532232a711@mail.gmail.com>
Subject: Re: Lucene - PDFBox
Date: Wed, 25 May 2005 17:00:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In creating the index, the code passes StandardAnalyzer to the IndexWriter 
constructor.

----- Original Message ----- 
From: "Chris Fraschetti" <fraschetti@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, May 25, 2005 4:53 PM
Subject: Re: Lucene - PDFBox


Also, which analyzer are you using when indexing your documents?

On 5/25/05, Ben Litchfield <ben@csh.rit.edu> wrote:
>
> Can you run the following command line application on the PDF to verify
> that the extracted text is correct
>
> java org.pdfbox.ExtractText <pdf-file>
>
> Ben
>
>
>
> On Wed, 25 May 2005, Thomas X Hoban wrote:
>
> >
> >
> > First, I am new to Lucene.
> >
> > Is there anyone out there who has had trouble getting hits when running 
> > phrase queries against an index that contains content from PDF files. 
> > For PDF documents, I create the document using 
> > LucenePDFDocument.getDocument(file) and then add it to the index.  For 
> > non-pdf documents, I create the document using 
> > FileDocument.Document(file).
> >
> > For instance, I add documents with the following text:
> >
> > pdf1.pdf -- "Dave has good taste"
> > pdf2.pdf -- "Tom has good taste"
> > word1.doc -- "Liz has bad taste"
> > word2.doc -- "Troy has bad taste"
> >
> > When I search content for the following strings:
> >
> >     has good taste
> >       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc 
> > and word2.doc
> >
> >     "has good taste"
> >        get unexpected result: 0 hits
> >
> >     "has bad taste"
> >        get expected results with hits on word1.doc and word2.doc
> >
> > It seems that searching for individual words work fine for both PDF and 
> > non-pdf files.  However, searching on a phrase (enclosed in quotes) 
> > works on non-pdf files but not on files parsed with the 
> > LucenePDFDocument class.
> >
> > Can anyone offer advise?
> >
> > Below is code for index creation.  It is the demo IndexFiles class 
> > provided with Lucene along with some changes...
> >
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.index.IndexWriter;
> > import org.apache.lucene.document.Field;
> > import org.apache.lucene.document.Document;
> >
> > import java.io.File;
> > import java.io.FileNotFoundException;
> > import java.io.IOException;
> > import java.util.Date;
> >
> > //import javax.activation.MimetypesFileTypeMap;
> >
> > import org.pdfbox.searchengine.lucene.LucenePDFDocument;
> >
> >
> > class IndexFiles {
> >   public static void main(String[] args) throws IOException {
> >     String usage = "java " + IndexFiles.class + " <root_directory>";
> >     if (args.length == 0) {
> >       System.err.println("Usage: " + usage);
> >       System.exit(1);
> >     }
> >
> >     Date start = new Date();
> >     try {
> >       IndexWriter writer = new IndexWriter("index", new 
> > StandardAnalyzer(), true);
> >       indexDocs(writer, new File(args[0]));
> >
> >       writer.optimize();
> >       writer.close();
> >
> >       Date end = new Date();
> >
> >       System.out.print(end.getTime() - start.getTime());
> >       System.out.println(" total milliseconds");
> >
> >     } catch (IOException e) {
> >       System.out.println(" caught a " + e.getClass() +
> >        "\n with message: " + e.getMessage());
> >     }
> >   }
> >
> >   public static void indexDocs(IndexWriter writer, File file)
> >     throws IOException {
> >     // do not try to index files that cannot be read
> >
> >     if (file.canRead()) {
> >       if (file.isDirectory()) {
> >         String[] files = file.list();
> >         // an IO error could occur
> >         if (files != null) {
> >           for (int i = 0; i < files.length; i++) {
> >             indexDocs(writer, new File(file, files[i]));
> >           }
> >         }
> >       } else {
> >         System.out.println("adding " + file);
> >         try {
> >
> >           Document doc = null;
> >           if (file.getName().indexOf(".pdf") >= 0)
> >               // 
> > writer.addDocument(LucenePDFDocument.getDocument(file));
> >               doc = LucenePDFDocument.getDocument(file);
> >           else
> >               doc = FileDocument.Document(file);
> >
> >           Field field = null;
> >           if (file.getPath().indexOf("case1") >=0)
> >               field = new Field("caseid", "1", false, true, false);
> >           else if (file.getPath().indexOf("case2") >=0)
> >               field = new Field("caseid", "2", false, true, false);
> >           else if (file.getPath().indexOf("case3") >=0)
> >               field = new Field("caseid", "3", false, true, false);
> >           else
> >               field = new Field("caseid", "0", false, true, false);
> >
> >           doc.add(field);
> >
> >           writer.addDocument(doc);
> >         }
> >         // at least on windows, some temporary files raise this 
> > exception with an "access denied" message
> >         // checking if the file can be read doesn't help
> >         catch (FileNotFoundException fnfe) {
> >           ;
> >         }
> >       }
> >     }
> >   }
> > }
> >
> >
> > Here is the SearchFiles class with some minor modifications...
> >
> > import java.io.IOException;
> > import java.io.BufferedReader;
> > import java.io.InputStreamReader;
> > import java.util.StringTokenizer;
> >
> > import org.apache.lucene.analysis.Analyzer;
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.document.Document;
> > import org.apache.lucene.search.Searcher;
> > import org.apache.lucene.search.IndexSearcher;
> > import org.apache.lucene.search.Query;
> > import org.apache.lucene.search.BooleanQuery;
> > import org.apache.lucene.search.PhraseQuery;
> > import org.apache.lucene.search.Hits;
> > import org.apache.lucene.index.Term;
> > import org.apache.lucene.queryParser.QueryParser;
> > import org.apache.lucene.queryParser.ParseException;
> >
> > class SearchFiles {
> >
> >   private static Query getCaseQuery(String line, Analyzer analyzer)
> >   throws ParseException {
> >       BooleanQuery bq = new BooleanQuery();
> >       StringTokenizer st = new StringTokenizer(line);
> >       Query query = QueryParser.parse(line, "contents", analyzer);
> >       String caseId = null;
> >       while (st.hasMoreTokens()) {
> >           caseId = st.nextToken();
> >           System.out.println("build case query for " + caseId);
> >
> >           query = QueryParser.parse(caseId, "caseid", analyzer);
> >           bq.add(query, false, false);
> >       }
> >
> >       return bq;
> >   }
> >   public static void main(String[] args) {
> >     try {
> >       Searcher searcher = new IndexSearcher("index");
> >       Analyzer analyzer = new StandardAnalyzer();
> >
> >       BufferedReader in = new BufferedReader(new 
> > InputStreamReader(System.in));
> >       while (true) {
> >         System.out.print("Query: ");
> >         String line = in.readLine();
> >         System.out.print("Cases: ");
> >         String caseLine = in.readLine();
> >         Query caseQuery = getCaseQuery(caseLine, analyzer);
> >
> >         if (line.length() == -1)
> >           break;
> >
> >
> >         Query query = QueryParser.parse(line, "contents", analyzer);
> >         // PhraseQuery query = new PhraseQuery();
> >         // query.add(new Term("contents",line));
> >         System.out.println("Searching for: " + 
> > query.toString("contents"));
> >         /*
> >         BooleanQuery wholeQuery = new BooleanQuery();
> >         wholeQuery.add(caseQuery, true, false);
> >         wholeQuery.add(query,     true, false);
> >         Hits hits = searcher.search(wholeQuery);
> >         */
> >         Hits hits = searcher.search(query);
> >         System.out.println(hits.length() + " total matching documents");
> >
> >         final int HITS_PER_PAGE = 10;
> >         for (int start = 0; start < hits.length(); start += 
> > HITS_PER_PAGE) {
> >           int end = Math.min(hits.length(), start + HITS_PER_PAGE);
> >           for (int i = start; i < end; i++) {
> >             Document doc = hits.doc(i);
> >             String path = doc.get("path");
> >             if (path != null) {
> >               System.out.println(i + ". " + path);
> >             } else {
> >               String url = doc.get("url");
> >               if (url != null) {
> >                 System.out.println(i + ". " + url);
> >                 System.out.println("   - " + doc.get("title"));
> >               } else {
> >                 System.out.println(i + ". " + "No path nor URL for this 
> > document");
> >               }
> >             }
> >           }
> >
> >           if (hits.length() > end) {
> >             System.out.print("more (y/n) ? ");
> >             line = in.readLine();
> >             if (line.length() == 0 || line.charAt(0) == 'n')
> >               break;
> >           }
> >         }
> >       }
> >       searcher.close();
> >
> >     } catch (Exception e) {
> >       System.out.println(" caught a " + e.getClass() +
> >                          "\n with message: " + e.getMessage());
> >     }
> >   }
> > }
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 22:19:05 2005
Return-Path: <java-user-return-14601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74017 invoked from network); 25 May 2005 22:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 22:19:04 -0000
Received: (qmail 49527 invoked by uid 500); 25 May 2005 22:18:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49471 invoked by uid 500); 25 May 2005 22:18:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49312 invoked by uid 99); 25 May 2005 22:18:56 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 15:18:53 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 30CB391DE
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 18:18:49 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id D162714E7; Wed, 25 May 2005 18:18:48 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id A9A8611C1
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 18:18:48 -0400 (EDT)
Date: Wed, 25 May 2005 18:18:48 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: java-user@lucene.apache.org
Subject: Re: Lucene - PDFBox
In-Reply-To: <000d01c56174$ff0efc80$031514ac@thoban01a>
Message-ID: <Pine.GSO.4.53.0505251815230.28986@fury.csh.rit.edu>
References: <001201c5616c$99c4f030$031514ac@thoban01a>
 <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu> <000d01c56174$ff0efc80$031514ac@thoban01a>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


There were some fixes around extra spaces in the 0.7.1 version of PDFBox,
if you are not using that version please try it, otherwise post an issue
on the PDFBox sourceforge site.

http://sourceforge.net/tracker/?group_id=78314&atid=552832

Thanks,
Ben



On Wed, 25 May 2005, Thomas X Hoban wrote:

> Thanks for replying.
>
> When I run the command, it generates a file with a "txt" extension.  The
> text in this file has spaces interspersed in odd spots.  Here is output from
> a file I ran the command on...
>
> Marc h 29, 2005
>
> Hello t here m y good friend.
>
> HELLO
>
> Legal Soft w are is GOOD.
>
>
>
>
> I would have expected this...
>
> GoOD
>
> March 29, 2005
>
> Hello there my good friend.
>
> HELLO
>
> Legal Software is GOOD.
>
> GoOD
>
>
>
> ----- Original Message -----
> From: "Ben Litchfield" <ben@csh.rit.edu>
> To: <java-user@lucene.apache.org>
> Sent: Wednesday, May 25, 2005 4:38 PM
> Subject: Re: Lucene - PDFBox
>
>
> >
> > Can you run the following command line application on the PDF to verify
> > that the extracted text is correct
> >
> > java org.pdfbox.ExtractText <pdf-file>
> >
> > Ben
> >
> >
> >
> > On Wed, 25 May 2005, Thomas X Hoban wrote:
> >
> >>
> >>
> >> First, I am new to Lucene.
> >>
> >> Is there anyone out there who has had trouble getting hits when running
> >> phrase queries against an index that contains content from PDF files.
> >> For PDF documents, I create the document using
> >> LucenePDFDocument.getDocument(file) and then add it to the index.  For
> >> non-pdf documents, I create the document using
> >> FileDocument.Document(file).
> >>
> >> For instance, I add documents with the following text:
> >>
> >> pdf1.pdf -- "Dave has good taste"
> >> pdf2.pdf -- "Tom has good taste"
> >> word1.doc -- "Liz has bad taste"
> >> word2.doc -- "Troy has bad taste"
> >>
> >> When I search content for the following strings:
> >>
> >>     has good taste
> >>       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc and
> >> word2.doc
> >>
> >>     "has good taste"
> >>        get unexpected result: 0 hits
> >>
> >>     "has bad taste"
> >>        get expected results with hits on word1.doc and word2.doc
> >>
> >> It seems that searching for individual words work fine for both PDF and
> >> non-pdf files.  However, searching on a phrase (enclosed in quotes) works
> >> on non-pdf files but not on files parsed with the LucenePDFDocument
> >> class.
> >>
> >> Can anyone offer advise?
> >>
> >> Below is code for index creation.  It is the demo IndexFiles class
> >> provided with Lucene along with some changes...
> >>
> >> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> >> import org.apache.lucene.index.IndexWriter;
> >> import org.apache.lucene.document.Field;
> >> import org.apache.lucene.document.Document;
> >>
> >> import java.io.File;
> >> import java.io.FileNotFoundException;
> >> import java.io.IOException;
> >> import java.util.Date;
> >>
> >> //import javax.activation.MimetypesFileTypeMap;
> >>
> >> import org.pdfbox.searchengine.lucene.LucenePDFDocument;
> >>
> >>
> >> class IndexFiles {
> >>   public static void main(String[] args) throws IOException {
> >>     String usage = "java " + IndexFiles.class + " <root_directory>";
> >>     if (args.length == 0) {
> >>       System.err.println("Usage: " + usage);
> >>       System.exit(1);
> >>     }
> >>
> >>     Date start = new Date();
> >>     try {
> >>       IndexWriter writer = new IndexWriter("index", new
> >> StandardAnalyzer(), true);
> >>       indexDocs(writer, new File(args[0]));
> >>
> >>       writer.optimize();
> >>       writer.close();
> >>
> >>       Date end = new Date();
> >>
> >>       System.out.print(end.getTime() - start.getTime());
> >>       System.out.println(" total milliseconds");
> >>
> >>     } catch (IOException e) {
> >>       System.out.println(" caught a " + e.getClass() +
> >>        "\n with message: " + e.getMessage());
> >>     }
> >>   }
> >>
> >>   public static void indexDocs(IndexWriter writer, File file)
> >>     throws IOException {
> >>     // do not try to index files that cannot be read
> >>
> >>     if (file.canRead()) {
> >>       if (file.isDirectory()) {
> >>         String[] files = file.list();
> >>         // an IO error could occur
> >>         if (files != null) {
> >>           for (int i = 0; i < files.length; i++) {
> >>             indexDocs(writer, new File(file, files[i]));
> >>           }
> >>         }
> >>       } else {
> >>         System.out.println("adding " + file);
> >>         try {
> >>
> >>           Document doc = null;
> >>           if (file.getName().indexOf(".pdf") >= 0)
> >>               // writer.addDocument(LucenePDFDocument.getDocument(file));
> >>               doc = LucenePDFDocument.getDocument(file);
> >>           else
> >>               doc = FileDocument.Document(file);
> >>
> >>           Field field = null;
> >>           if (file.getPath().indexOf("case1") >=0)
> >>               field = new Field("caseid", "1", false, true, false);
> >>           else if (file.getPath().indexOf("case2") >=0)
> >>               field = new Field("caseid", "2", false, true, false);
> >>           else if (file.getPath().indexOf("case3") >=0)
> >>               field = new Field("caseid", "3", false, true, false);
> >>           else
> >>               field = new Field("caseid", "0", false, true, false);
> >>
> >>           doc.add(field);
> >>
> >>           writer.addDocument(doc);
> >>         }
> >>         // at least on windows, some temporary files raise this exception
> >> with an "access denied" message
> >>         // checking if the file can be read doesn't help
> >>         catch (FileNotFoundException fnfe) {
> >>           ;
> >>         }
> >>       }
> >>     }
> >>   }
> >> }
> >>
> >>
> >> Here is the SearchFiles class with some minor modifications...
> >>
> >> import java.io.IOException;
> >> import java.io.BufferedReader;
> >> import java.io.InputStreamReader;
> >> import java.util.StringTokenizer;
> >>
> >> import org.apache.lucene.analysis.Analyzer;
> >> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> >> import org.apache.lucene.document.Document;
> >> import org.apache.lucene.search.Searcher;
> >> import org.apache.lucene.search.IndexSearcher;
> >> import org.apache.lucene.search.Query;
> >> import org.apache.lucene.search.BooleanQuery;
> >> import org.apache.lucene.search.PhraseQuery;
> >> import org.apache.lucene.search.Hits;
> >> import org.apache.lucene.index.Term;
> >> import org.apache.lucene.queryParser.QueryParser;
> >> import org.apache.lucene.queryParser.ParseException;
> >>
> >> class SearchFiles {
> >>
> >>   private static Query getCaseQuery(String line, Analyzer analyzer)
> >>   throws ParseException {
> >>       BooleanQuery bq = new BooleanQuery();
> >>       StringTokenizer st = new StringTokenizer(line);
> >>       Query query = QueryParser.parse(line, "contents", analyzer);
> >>       String caseId = null;
> >>       while (st.hasMoreTokens()) {
> >>           caseId = st.nextToken();
> >>           System.out.println("build case query for " + caseId);
> >>
> >>           query = QueryParser.parse(caseId, "caseid", analyzer);
> >>           bq.add(query, false, false);
> >>       }
> >>
> >>       return bq;
> >>   }
> >>   public static void main(String[] args) {
> >>     try {
> >>       Searcher searcher = new IndexSearcher("index");
> >>       Analyzer analyzer = new StandardAnalyzer();
> >>
> >>       BufferedReader in = new BufferedReader(new
> >> InputStreamReader(System.in));
> >>       while (true) {
> >>         System.out.print("Query: ");
> >>         String line = in.readLine();
> >>         System.out.print("Cases: ");
> >>         String caseLine = in.readLine();
> >>         Query caseQuery = getCaseQuery(caseLine, analyzer);
> >>
> >>         if (line.length() == -1)
> >>           break;
> >>
> >>
> >>         Query query = QueryParser.parse(line, "contents", analyzer);
> >>         // PhraseQuery query = new PhraseQuery();
> >>         // query.add(new Term("contents",line));
> >>         System.out.println("Searching for: " +
> >> query.toString("contents"));
> >>         /*
> >>         BooleanQuery wholeQuery = new BooleanQuery();
> >>         wholeQuery.add(caseQuery, true, false);
> >>         wholeQuery.add(query,     true, false);
> >>         Hits hits = searcher.search(wholeQuery);
> >>         */
> >>         Hits hits = searcher.search(query);
> >>         System.out.println(hits.length() + " total matching documents");
> >>
> >>         final int HITS_PER_PAGE = 10;
> >>         for (int start = 0; start < hits.length(); start +=
> >> HITS_PER_PAGE) {
> >>           int end = Math.min(hits.length(), start + HITS_PER_PAGE);
> >>           for (int i = start; i < end; i++) {
> >>             Document doc = hits.doc(i);
> >>             String path = doc.get("path");
> >>             if (path != null) {
> >>               System.out.println(i + ". " + path);
> >>             } else {
> >>               String url = doc.get("url");
> >>               if (url != null) {
> >>                 System.out.println(i + ". " + url);
> >>                 System.out.println("   - " + doc.get("title"));
> >>               } else {
> >>                 System.out.println(i + ". " + "No path nor URL for this
> >> document");
> >>               }
> >>             }
> >>           }
> >>
> >>           if (hits.length() > end) {
> >>             System.out.print("more (y/n) ? ");
> >>             line = in.readLine();
> >>             if (line.length() == 0 || line.charAt(0) == 'n')
> >>               break;
> >>           }
> >>         }
> >>       }
> >>       searcher.close();
> >>
> >>     } catch (Exception e) {
> >>       System.out.println(" caught a " + e.getClass() +
> >>                          "\n with message: " + e.getMessage());
> >>     }
> >>   }
> >> }
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 22:29:50 2005
Return-Path: <java-user-return-14602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78359 invoked from network); 25 May 2005 22:29:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 22:29:50 -0000
Received: (qmail 63907 invoked by uid 500); 25 May 2005 22:29:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63884 invoked by uid 500); 25 May 2005 22:29:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63870 invoked by uid 99); 25 May 2005 22:29:43 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15802.mail.cnb.yahoo.com (HELO web15802.mail.cnb.yahoo.com) (202.165.102.82)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 25 May 2005 15:29:40 -0700
Message-ID: <20050525222936.19993.qmail@web15802.mail.cnb.yahoo.com>
Received: from [211.143.101.52] by web15802.mail.cnb.yahoo.com via HTTP; Thu, 26 May 2005 06:29:36 CST
Date: Thu, 26 May 2005 06:29:36 +0800 (CST)
From: =?gb2312?q?=CC=EF=B4=BA=B7=E5?= <tcf960@yahoo.com.cn>
Reply-To: tcf960@yahoo.com.cn
Subject: Re: Lucene - PDFBox
To: java-user@lucene.apache.org
In-Reply-To: <001201c5616c$99c4f030$031514ac@thoban01a>
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi,
   I agree with Ben Litchfield, 
   Before feed extracted text into lucene indexer ,
should ched the extracted text ,and for me , now using

java org.pdfbox.ExtractText <pdf-file> to get the text
 in pdf .

[quote]   

"Ben Litchfield" <ben@csh.rit.edu>  

Can you run the following command line application on
the PDF to verify
that the extracted text is correct

java org.pdfbox.ExtractText <pdf-file>

Ben
[/quote]


On Wed, 



--- Thomas X Hoban <thoban@caseknowledge.com>ะดตภ:

>     
> 
> First, I am new to Lucene.
> 
> Is there anyone out there who has had trouble
> getting hits when running phrase queries against an
> index that contains content from PDF files.  For PDF
> documents, I create the document using
> LucenePDFDocument.getDocument(file) and then add it
> to the index.  For non-pdf documents, I create the
> document using FileDocument.Document(file).
> 
> For instance, I add documents with the following
> text:
> 
> pdf1.pdf -- "Dave has good taste"
> pdf2.pdf -- "Tom has good taste"
> word1.doc -- "Liz has bad taste"
> word2.doc -- "Troy has bad taste"
> 
> When I search content for the following strings:
> 
>     has good taste
>       get expected results with hits on pdf1.doc,
> pdf2.doc, word1.doc and word2.doc
> 
>     "has good taste"
>        get unexpected result: 0 hits
> 
>     "has bad taste"
>        get expected results with hits on word1.doc
> and word2.doc
>  
> It seems that searching for individual words work
> fine for both PDF and non-pdf files.  However,
> searching on a phrase (enclosed in quotes) works on
> non-pdf files but not on files parsed with the
> LucenePDFDocument class.
> 
> Can anyone offer advise?
> 
> Below is code for index creation.  It is the demo
> IndexFiles class provided with Lucene along with
> some changes...
> 
> import
>
org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.document.Document;
> 
> import java.io.File;
> import java.io.FileNotFoundException;
> import java.io.IOException;
> import java.util.Date;
> 
> //import javax.activation.MimetypesFileTypeMap;
> 
> import
> org.pdfbox.searchengine.lucene.LucenePDFDocument;
> 
> 
> class IndexFiles {
>   public static void main(String[] args) throws
> IOException {
>     String usage = "java " + IndexFiles.class + "
> <root_directory>";
>     if (args.length == 0) {
>       System.err.println("Usage: " + usage);
>       System.exit(1);
>     }
> 
>     Date start = new Date();
>     try {
>       IndexWriter writer = new IndexWriter("index",
> new StandardAnalyzer(), true);
>       indexDocs(writer, new File(args[0]));
> 
>       writer.optimize();
>       writer.close();
> 
>       Date end = new Date();
> 
>       System.out.print(end.getTime() -
> start.getTime());
>       System.out.println(" total milliseconds");
> 
>     } catch (IOException e) {
>       System.out.println(" caught a " + e.getClass()
> +
>        "\n with message: " + e.getMessage());
>     }
>   }
> 
>   public static void indexDocs(IndexWriter writer,
> File file)
>     throws IOException {
>     // do not try to index files that cannot be read
> 
>     if (file.canRead()) {
>       if (file.isDirectory()) {
>         String[] files = file.list();
>         // an IO error could occur
>         if (files != null) {
>           for (int i = 0; i < files.length; i++) {
>             indexDocs(writer, new File(file,
> files[i]));
>           }
>         }
>       } else {
>         System.out.println("adding " + file);
>         try {
> 
>           Document doc = null;
>           if (file.getName().indexOf(".pdf") >= 0)
>               //
>
writer.addDocument(LucenePDFDocument.getDocument(file));
>               doc =
> LucenePDFDocument.getDocument(file);
>           else
>               doc = FileDocument.Document(file);
> 
>           Field field = null; 
>           if (file.getPath().indexOf("case1") >=0)
>               field = new Field("caseid", "1",
> false, true, false);
>           else if (file.getPath().indexOf("case2")
> >=0)
>               field = new Field("caseid", "2",
> false, true, false);
>           else if (file.getPath().indexOf("case3")
> >=0)
>               field = new Field("caseid", "3",
> false, true, false);
>           else 
>               field = new Field("caseid", "0",
> false, true, false);
> 
>           doc.add(field);
> 
>           writer.addDocument(doc);
>         }
>         // at least on windows, some temporary files
> raise this exception with an "access denied" message
>         // checking if the file can be read doesn't
> help
>         catch (FileNotFoundException fnfe) {
>           ;
>         }
>       }
>     }
>   }
> }
> 
> 
> Here is the SearchFiles class with some minor
> modifications...
> 
> import java.io.IOException;
> import java.io.BufferedReader;
> import java.io.InputStreamReader;
> import java.util.StringTokenizer;
> 
> import org.apache.lucene.analysis.Analyzer;
> import
>
org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.BooleanQuery;
> import org.apache.lucene.search.PhraseQuery;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.queryParser.ParseException;
> 
> class SearchFiles {
> 
>   private static Query getCaseQuery(String line,
> Analyzer analyzer)
>   throws ParseException {
>       BooleanQuery bq = new BooleanQuery();
>       StringTokenizer st = new
> StringTokenizer(line);
>       Query query = QueryParser.parse(line,
> "contents", analyzer);
>       String caseId = null;
>       while (st.hasMoreTokens()) {
>           caseId = st.nextToken();
>           System.out.println("build case query for "
> + caseId);
>           
>           query = QueryParser.parse(caseId,
> "caseid", analyzer);
>           bq.add(query, false, false);
>       }
> 
>       return bq;
>   }
>   public static void main(String[] args) {
> 
=== message truncated ===



ืิถฏวฉร๛ฃบ
ว๋สนำรป๚ฦ๗ศหทฮ๑:
msnป๚ฦ๗ศห: xiaodingdong21@hotmail.com
qqป๚ฦ๗ศห: 443803193
blog: http://blog.csdn.net/accesine960
ถเรดภึึ๗าณฃบhomepage: http://www.domolo.com
 










_________________________________________________________
Do You Yahoo!?
150อ๒ว๚MP3ท่ฟ๑หัฃฌด๘ฤ๚ดณศ๋า๔ภึต๎ฬร
http://music.yisou.com/
รภลฎร๗ะวำฆำะพกำะฃฌหัฑ้รภอผกขัอผบอฟแอผ
http://image.yisou.com
1Gพอสว1000ีืฃฌัลปขต็ำสืิึ๚ภฉศฃก
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 25 23:29:52 2005
Return-Path: <java-user-return-14603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2313 invoked from network); 25 May 2005 23:29:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2005 23:29:51 -0000
Received: (qmail 64152 invoked by uid 500); 25 May 2005 23:29:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63880 invoked by uid 500); 25 May 2005 23:29:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63856 invoked by uid 99); 25 May 2005 23:29:41 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from adsl-69-211-117-122.dsl.chcgil.ameritech.net (HELO caseknowledge.com) (69.211.117.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 16:29:39 -0700
Received: from [172.20.21.3] (helo=thoban01a)
	by caseknowledge.com with smtp (Exim 4.30)
	id 1Db5Jd-0002km-EH
	for java-user@lucene.apache.org; Wed, 25 May 2005 18:29:33 -0500
Message-ID: <001901c56181$9d9cc6a0$031514ac@thoban01a>
From: "Thomas X Hoban" <thoban@caseknowledge.com>
To: <java-user@lucene.apache.org>
References: <001201c5616c$99c4f030$031514ac@thoban01a> <Pine.GSO.4.53.0505251734210.22730@fury.csh.rit.edu> <000d01c56174$ff0efc80$031514ac@thoban01a> <Pine.GSO.4.53.0505251815230.28986@fury.csh.rit.edu>
Subject: Re: Lucene - PDFBox
Date: Wed, 25 May 2005 18:29:07 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your help.  I was using 0.7.0.  However, I installed 0.7.1 and 
get the same result with the ExtractText utility.  I will post an issue with 
the PDFBox sourceforge site.

Tom
----- Original Message ----- 
From: "Ben Litchfield" <ben@csh.rit.edu>
To: <java-user@lucene.apache.org>
Sent: Wednesday, May 25, 2005 5:18 PM
Subject: Re: Lucene - PDFBox


>
> There were some fixes around extra spaces in the 0.7.1 version of PDFBox,
> if you are not using that version please try it, otherwise post an issue
> on the PDFBox sourceforge site.
>
> http://sourceforge.net/tracker/?group_id=78314&atid=552832
>
> Thanks,
> Ben
>
>
>
> On Wed, 25 May 2005, Thomas X Hoban wrote:
>
>> Thanks for replying.
>>
>> When I run the command, it generates a file with a "txt" extension.  The
>> text in this file has spaces interspersed in odd spots.  Here is output 
>> from
>> a file I ran the command on...
>>
>> Marc h 29, 2005
>>
>> Hello t here m y good friend.
>>
>> HELLO
>>
>> Legal Soft w are is GOOD.
>>
>>
>>
>>
>> I would have expected this...
>>
>> GoOD
>>
>> March 29, 2005
>>
>> Hello there my good friend.
>>
>> HELLO
>>
>> Legal Software is GOOD.
>>
>> GoOD
>>
>>
>>
>> ----- Original Message -----
>> From: "Ben Litchfield" <ben@csh.rit.edu>
>> To: <java-user@lucene.apache.org>
>> Sent: Wednesday, May 25, 2005 4:38 PM
>> Subject: Re: Lucene - PDFBox
>>
>>
>> >
>> > Can you run the following command line application on the PDF to verify
>> > that the extracted text is correct
>> >
>> > java org.pdfbox.ExtractText <pdf-file>
>> >
>> > Ben
>> >
>> >
>> >
>> > On Wed, 25 May 2005, Thomas X Hoban wrote:
>> >
>> >>
>> >>
>> >> First, I am new to Lucene.
>> >>
>> >> Is there anyone out there who has had trouble getting hits when 
>> >> running
>> >> phrase queries against an index that contains content from PDF files.
>> >> For PDF documents, I create the document using
>> >> LucenePDFDocument.getDocument(file) and then add it to the index.  For
>> >> non-pdf documents, I create the document using
>> >> FileDocument.Document(file).
>> >>
>> >> For instance, I add documents with the following text:
>> >>
>> >> pdf1.pdf -- "Dave has good taste"
>> >> pdf2.pdf -- "Tom has good taste"
>> >> word1.doc -- "Liz has bad taste"
>> >> word2.doc -- "Troy has bad taste"
>> >>
>> >> When I search content for the following strings:
>> >>
>> >>     has good taste
>> >>       get expected results with hits on pdf1.doc, pdf2.doc, word1.doc 
>> >> and
>> >> word2.doc
>> >>
>> >>     "has good taste"
>> >>        get unexpected result: 0 hits
>> >>
>> >>     "has bad taste"
>> >>        get expected results with hits on word1.doc and word2.doc
>> >>
>> >> It seems that searching for individual words work fine for both PDF 
>> >> and
>> >> non-pdf files.  However, searching on a phrase (enclosed in quotes) 
>> >> works
>> >> on non-pdf files but not on files parsed with the LucenePDFDocument
>> >> class.
>> >>
>> >> Can anyone offer advise?
>> >>
>> >> Below is code for index creation.  It is the demo IndexFiles class
>> >> provided with Lucene along with some changes...
>> >>
>> >> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>> >> import org.apache.lucene.index.IndexWriter;
>> >> import org.apache.lucene.document.Field;
>> >> import org.apache.lucene.document.Document;
>> >>
>> >> import java.io.File;
>> >> import java.io.FileNotFoundException;
>> >> import java.io.IOException;
>> >> import java.util.Date;
>> >>
>> >> //import javax.activation.MimetypesFileTypeMap;
>> >>
>> >> import org.pdfbox.searchengine.lucene.LucenePDFDocument;
>> >>
>> >>
>> >> class IndexFiles {
>> >>   public static void main(String[] args) throws IOException {
>> >>     String usage = "java " + IndexFiles.class + " <root_directory>";
>> >>     if (args.length == 0) {
>> >>       System.err.println("Usage: " + usage);
>> >>       System.exit(1);
>> >>     }
>> >>
>> >>     Date start = new Date();
>> >>     try {
>> >>       IndexWriter writer = new IndexWriter("index", new
>> >> StandardAnalyzer(), true);
>> >>       indexDocs(writer, new File(args[0]));
>> >>
>> >>       writer.optimize();
>> >>       writer.close();
>> >>
>> >>       Date end = new Date();
>> >>
>> >>       System.out.print(end.getTime() - start.getTime());
>> >>       System.out.println(" total milliseconds");
>> >>
>> >>     } catch (IOException e) {
>> >>       System.out.println(" caught a " + e.getClass() +
>> >>        "\n with message: " + e.getMessage());
>> >>     }
>> >>   }
>> >>
>> >>   public static void indexDocs(IndexWriter writer, File file)
>> >>     throws IOException {
>> >>     // do not try to index files that cannot be read
>> >>
>> >>     if (file.canRead()) {
>> >>       if (file.isDirectory()) {
>> >>         String[] files = file.list();
>> >>         // an IO error could occur
>> >>         if (files != null) {
>> >>           for (int i = 0; i < files.length; i++) {
>> >>             indexDocs(writer, new File(file, files[i]));
>> >>           }
>> >>         }
>> >>       } else {
>> >>         System.out.println("adding " + file);
>> >>         try {
>> >>
>> >>           Document doc = null;
>> >>           if (file.getName().indexOf(".pdf") >= 0)
>> >>               // 
>> >> writer.addDocument(LucenePDFDocument.getDocument(file));
>> >>               doc = LucenePDFDocument.getDocument(file);
>> >>           else
>> >>               doc = FileDocument.Document(file);
>> >>
>> >>           Field field = null;
>> >>           if (file.getPath().indexOf("case1") >=0)
>> >>               field = new Field("caseid", "1", false, true, false);
>> >>           else if (file.getPath().indexOf("case2") >=0)
>> >>               field = new Field("caseid", "2", false, true, false);
>> >>           else if (file.getPath().indexOf("case3") >=0)
>> >>               field = new Field("caseid", "3", false, true, false);
>> >>           else
>> >>               field = new Field("caseid", "0", false, true, false);
>> >>
>> >>           doc.add(field);
>> >>
>> >>           writer.addDocument(doc);
>> >>         }
>> >>         // at least on windows, some temporary files raise this 
>> >> exception
>> >> with an "access denied" message
>> >>         // checking if the file can be read doesn't help
>> >>         catch (FileNotFoundException fnfe) {
>> >>           ;
>> >>         }
>> >>       }
>> >>     }
>> >>   }
>> >> }
>> >>
>> >>
>> >> Here is the SearchFiles class with some minor modifications...
>> >>
>> >> import java.io.IOException;
>> >> import java.io.BufferedReader;
>> >> import java.io.InputStreamReader;
>> >> import java.util.StringTokenizer;
>> >>
>> >> import org.apache.lucene.analysis.Analyzer;
>> >> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>> >> import org.apache.lucene.document.Document;
>> >> import org.apache.lucene.search.Searcher;
>> >> import org.apache.lucene.search.IndexSearcher;
>> >> import org.apache.lucene.search.Query;
>> >> import org.apache.lucene.search.BooleanQuery;
>> >> import org.apache.lucene.search.PhraseQuery;
>> >> import org.apache.lucene.search.Hits;
>> >> import org.apache.lucene.index.Term;
>> >> import org.apache.lucene.queryParser.QueryParser;
>> >> import org.apache.lucene.queryParser.ParseException;
>> >>
>> >> class SearchFiles {
>> >>
>> >>   private static Query getCaseQuery(String line, Analyzer analyzer)
>> >>   throws ParseException {
>> >>       BooleanQuery bq = new BooleanQuery();
>> >>       StringTokenizer st = new StringTokenizer(line);
>> >>       Query query = QueryParser.parse(line, "contents", analyzer);
>> >>       String caseId = null;
>> >>       while (st.hasMoreTokens()) {
>> >>           caseId = st.nextToken();
>> >>           System.out.println("build case query for " + caseId);
>> >>
>> >>           query = QueryParser.parse(caseId, "caseid", analyzer);
>> >>           bq.add(query, false, false);
>> >>       }
>> >>
>> >>       return bq;
>> >>   }
>> >>   public static void main(String[] args) {
>> >>     try {
>> >>       Searcher searcher = new IndexSearcher("index");
>> >>       Analyzer analyzer = new StandardAnalyzer();
>> >>
>> >>       BufferedReader in = new BufferedReader(new
>> >> InputStreamReader(System.in));
>> >>       while (true) {
>> >>         System.out.print("Query: ");
>> >>         String line = in.readLine();
>> >>         System.out.print("Cases: ");
>> >>         String caseLine = in.readLine();
>> >>         Query caseQuery = getCaseQuery(caseLine, analyzer);
>> >>
>> >>         if (line.length() == -1)
>> >>           break;
>> >>
>> >>
>> >>         Query query = QueryParser.parse(line, "contents", analyzer);
>> >>         // PhraseQuery query = new PhraseQuery();
>> >>         // query.add(new Term("contents",line));
>> >>         System.out.println("Searching for: " +
>> >> query.toString("contents"));
>> >>         /*
>> >>         BooleanQuery wholeQuery = new BooleanQuery();
>> >>         wholeQuery.add(caseQuery, true, false);
>> >>         wholeQuery.add(query,     true, false);
>> >>         Hits hits = searcher.search(wholeQuery);
>> >>         */
>> >>         Hits hits = searcher.search(query);
>> >>         System.out.println(hits.length() + " total matching 
>> >> documents");
>> >>
>> >>         final int HITS_PER_PAGE = 10;
>> >>         for (int start = 0; start < hits.length(); start +=
>> >> HITS_PER_PAGE) {
>> >>           int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>> >>           for (int i = start; i < end; i++) {
>> >>             Document doc = hits.doc(i);
>> >>             String path = doc.get("path");
>> >>             if (path != null) {
>> >>               System.out.println(i + ". " + path);
>> >>             } else {
>> >>               String url = doc.get("url");
>> >>               if (url != null) {
>> >>                 System.out.println(i + ". " + url);
>> >>                 System.out.println("   - " + doc.get("title"));
>> >>               } else {
>> >>                 System.out.println(i + ". " + "No path nor URL for 
>> >> this
>> >> document");
>> >>               }
>> >>             }
>> >>           }
>> >>
>> >>           if (hits.length() > end) {
>> >>             System.out.print("more (y/n) ? ");
>> >>             line = in.readLine();
>> >>             if (line.length() == 0 || line.charAt(0) == 'n')
>> >>               break;
>> >>           }
>> >>         }
>> >>       }
>> >>       searcher.close();
>> >>
>> >>     } catch (Exception e) {
>> >>       System.out.println(" caught a " + e.getClass() +
>> >>                          "\n with message: " + e.getMessage());
>> >>     }
>> >>   }
>> >> }
>> >>
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 01:16:27 2005
Return-Path: <java-user-return-14604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63311 invoked from network); 26 May 2005 01:16:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 01:16:27 -0000
Received: (qmail 48708 invoked by uid 500); 26 May 2005 01:16:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48675 invoked by uid 500); 26 May 2005 01:16:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48659 invoked by uid 99); 26 May 2005 01:16:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 25 May 2005 18:16:19 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1FC7113E210D; Wed, 25 May 2005 21:16:18 -0400 (EDT)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0423513E210D
	for <java-user@lucene.apache.org>; Wed, 25 May 2005 21:16:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com>
References: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BC7A75D0-F36E-4DFA-A422-1613052FC9C2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SourceForge.net Lucene based search announcement
Date: Wed, 25 May 2005 21:16:09 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Congrats, Chris!   This was no doubt a big effort.  I didn't do much  
but lend some moral support.  There was an odd issue you had with  
certain types of queries at one point - did you get that resolved?

     Erik

On May 25, 2005, at 3:40 PM, Chris Conrad wrote:

> Hello,
>
> I just wanted to let everyone know that we've officially announced  
> that the new SourceForge.net search system is based on Lucene.   
> It's been in operation for over a month now and we're very happy  
> with it.  I'd also like to personally thank Erik Hatcher for  
> helping me out during development.
>
> You can find Lucene listed in the Site Software section of our  
> support guide here: http://sourceforge.net/docman/display_doc.php? 
> docid=11230&group_id=1#site_software
>
> Thanks,
> Chris Conrad
> SourceForge.net Engineer
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 08:04:28 2005
Return-Path: <java-user-return-14605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72538 invoked from network); 26 May 2005 08:04:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 08:04:28 -0000
Received: (qmail 26401 invoked by uid 500); 26 May 2005 08:04:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26375 invoked by uid 500); 26 May 2005 08:04:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26361 invoked by uid 99); 26 May 2005 08:04:21 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_MESSAGE,INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fetchbook.info (HELO gc.fetchbook.info) (69.61.19.221)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 26 May 2005 01:04:19 -0700
Received: (qmail 5840 invoked from network); 26 May 2005 08:03:04 -0000
Received: from aeli.bb.netvision.net.il (HELO mickey) (212.143.80.6)
  by gc.fetchbook.info with SMTP; 26 May 2005 08:03:04 -0000
From: "M. Mokotov" <mk@mokotov.org>
To: <java-user@lucene.apache.org>
Subject: using the CachingWrapperFilter
Date: Thu, 26 May 2005 11:02:19 +0200
Message-ID: <012601c561d1$a00b9560$0700000a@mickey>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0127_01C561E2.63946560"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0127_01C561E2.63946560
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
Can someone please explain me how do I use the CachingWrapperFilter?
I see that it's built in a decorator way (getting on the constructor =
another
filter and decorate it with caching), still I don't see any basic filter =
to
be the 'root'.
=20
On the tests I saw there is a MockFilter, but I couldn't find it on the
jars.
Do I need to create such a filter myself? Does anyone using the cache =
needs
to create his own dummy class?
=20
Thanks,
Mickey.
=20
--=20
 <http://www.fetchbook.info/> www.FetchBook.Info
Find the lowest price - Compare more then a hundred book stores in a =
click.
=20

------=_NextPart_000_0127_01C561E2.63946560--


From java-user-return-14606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 12:53:05 2005
Return-Path: <java-user-return-14606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91210 invoked from network); 26 May 2005 12:53:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 12:53:05 -0000
Received: (qmail 17608 invoked by uid 500); 26 May 2005 12:52:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17561 invoked by uid 500); 26 May 2005 12:52:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17546 invoked by uid 99); 26 May 2005 12:52:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 05:52:57 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A438213E210D; Thu, 26 May 2005 08:52:53 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id BB04913E200A
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 08:52:26 -0400 (EDT)
In-Reply-To: <012601c561d1$a00b9560$0700000a@mickey>
References: <012601c561d1$a00b9560$0700000a@mickey>
Mime-Version: 1.0 (Apple Message framework v730)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E7728B0B-1F4E-4E40-B327-4D54031056FB@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: using the CachingWrapperFilter
Date: Thu, 26 May 2005 08:52:24 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 26, 2005, at 5:02 AM, M. Mokotov wrote:
> Can someone please explain me how do I use the CachingWrapperFilter?

There is a bit of it demonstrated in Lucene in Action.  Here are some  
snippets that (sort of) describe it:

     http://www.lucenebook.com/search?query=CachingWrapperFilter

You can grab the LIA source code from that site also.

> I see that it's built in a decorator way (getting on the  
> constructor another
> filter and decorate it with caching), still I don't see any basic  
> filter to
> be the 'root'.

There are two concrete Filters built in to Lucene - QueryFilter and  
DateFilter.  QueryFilter already has built-in caching, but DateFilter  
does not.  CachingWrapperFilter was created to separate caching from  
the filtering aspects, allowing filters to free themselves from  
having to cache themselves.

> On the tests I saw there is a MockFilter, but I couldn't find it on  
> the
> jars.

We don't package up the test code as a JAR file - but if you check  
out Lucene's code from Subversion you'll find it under src/test

> Do I need to create such a filter myself? Does anyone using the  
> cache needs
> to create his own dummy class?

This all depends on what you're trying to do.  A Filter is used for  
long standing constraints of the document search space.  You would  
not use a "dummy" class, but rather a real filter such as the ones  
just mentioned.  And whether you use the CachingWrapperFilter depends  
on which filter you choose or if you create a custom one.  The Lucene  
in Action source code has an example of a custom Filter.

     Erik




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 15:59:34 2005
Return-Path: <java-user-return-14607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57331 invoked from network); 26 May 2005 15:59:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 15:59:33 -0000
Received: (qmail 19137 invoked by uid 500); 26 May 2005 15:59:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19104 invoked by uid 500); 26 May 2005 15:59:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19078 invoked by uid 99); 26 May 2005 15:59:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.fastgt.com (HELO sol.fastgt.com) (65.103.179.233)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 08:59:17 -0700
Received: from mail.skow.org (12-216-64-83.client.mchsi.com [12.216.64.83])
	by sol.fastgt.com (8.12.11/8.12.8) with SMTP id j4QFx3dI004063
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 10:59:06 -0500
Received: from xavier.skow.org (localhost [127.0.0.1])
	by mail.skow.org (8.12.11/8.12.11) with ESMTP id j4QFx3Bs018785
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 10:59:03 -0500
Received: (from apache@localhost)
	by xavier.skow.org (8.12.11/8.12.11/Submit) id j4QFx0rV018784;
	Thu, 26 May 2005 10:59:00 -0500
X-Authentication-Warning: xavier.skow.org: apache set sender to ryan@skow.org using -f
Received: from 192.168.1.2 (proxying for 12.152.207.5)
        (SquirrelMail authenticated user skow)
        by 192.168.1.29 with HTTP;
        Thu, 26 May 2005 10:59:00 -0500 (CDT)
Message-ID: <47221.192.168.1.2.1117123140.squirrel@192.168.1.29>
Date: Thu, 26 May 2005 10:59:00 -0500 (CDT)
Subject: Negative Field Boost
From: "Ryan Skow" <ryan@skow.org>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here is the logical structure of the document I'm working with:
  The 'Document' has two fields:
    'includes' - List of terms that provide positive boost
    'excludes' - List of terms that provide negative boost

Here is a usage scenario:
    DocumentA
      includes: red green blue
      excludes: frogs birds snails

    DocumentB
      includes: red green blue
      excludes: <empty>

Here is the desired effect for a couple query strings:
    Query: red
    Result: both documents would be returned with equal score

    Query: red frogs
    Result: only DocumentB would be returned because DocumentA excludes frogs

My question is: can Lucene do this with a single query?  One option is to
do separate queries searching first the 'includes' and then on the
'excludes' field, then removing documents from the 'includes' Hits that
exist in the 'excludes' Hits.  This solution to works, but is somewhat
cumbersome and inefficient.

I've tried calling excludesField.setBoost((float)-1) as well as passing
small decimals in the setBoost method, but that still adds a smaller value
to the score instead of subtracting from it.

Has anyone solved this problem in better/different ways?

Thanks!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 16:07:10 2005
Return-Path: <java-user-return-14608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59483 invoked from network); 26 May 2005 16:07:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 16:07:10 -0000
Received: (qmail 42880 invoked by uid 500); 26 May 2005 16:07:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42853 invoked by uid 500); 26 May 2005 16:06:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42839 invoked by uid 99); 26 May 2005 16:06:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from uar.spline-software.com (HELO uar.i-hypergrid.com) (194.44.193.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 09:06:43 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id F0D5667F3B
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 19:06:14 +0300 (EEST)
Message-ID: <4295F3F7.2060408@i-hypergrid.com>
Date: Thu, 26 May 2005 19:06:15 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Negative Field Boost
References: <47221.192.168.1.2.1117123140.squirrel@192.168.1.29>
In-Reply-To: <47221.192.168.1.2.1117123140.squirrel@192.168.1.29>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

string query should look like: "+includes:(red frogs) -excludes:(red frogs)"

You can play with MultiFieldQueryParser a bit.

regards,
Volodymyr Bychkoviak

Ryan Skow wrote:

>Here is the logical structure of the document I'm working with:
>  The 'Document' has two fields:
>    'includes' - List of terms that provide positive boost
>    'excludes' - List of terms that provide negative boost
>
>Here is a usage scenario:
>    DocumentA
>      includes: red green blue
>      excludes: frogs birds snails
>
>    DocumentB
>      includes: red green blue
>      excludes: <empty>
>
>Here is the desired effect for a couple query strings:
>    Query: red
>    Result: both documents would be returned with equal score
>
>    Query: red frogs
>    Result: only DocumentB would be returned because DocumentA excludes frogs
>
>My question is: can Lucene do this with a single query?  One option is to
>do separate queries searching first the 'includes' and then on the
>'excludes' field, then removing documents from the 'includes' Hits that
>exist in the 'excludes' Hits.  This solution to works, but is somewhat
>cumbersome and inefficient.
>
>I've tried calling excludesField.setBoost((float)-1) as well as passing
>small decimals in the setBoost method, but that still adds a smaller value
>to the score instead of subtracting from it.
>
>Has anyone solved this problem in better/different ways?
>
>Thanks!
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 16:28:34 2005
Return-Path: <java-user-return-14609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66624 invoked from network); 26 May 2005 16:28:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 16:28:34 -0000
Received: (qmail 97648 invoked by uid 500); 26 May 2005 16:28:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97612 invoked by uid 500); 26 May 2005 16:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97597 invoked by uid 99); 26 May 2005 16:28:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.fastgt.com (HELO sol.fastgt.com) (65.103.179.233)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 09:28:25 -0700
Received: from mail.skow.org (12-216-64-83.client.mchsi.com [12.216.64.83])
	by sol.fastgt.com (8.12.11/8.12.8) with SMTP id j4QGSHQE004131
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 11:28:20 -0500
Received: from xavier.skow.org (localhost [127.0.0.1])
	by mail.skow.org (8.12.11/8.12.11) with ESMTP id j4QGSHNc018870
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 11:28:17 -0500
Received: (from apache@localhost)
	by xavier.skow.org (8.12.11/8.12.11/Submit) id j4QGSFmQ018869;
	Thu, 26 May 2005 11:28:15 -0500
X-Authentication-Warning: xavier.skow.org: apache set sender to ryan@skow.org using -f
Received: from 192.168.1.2 (proxying for 12.152.207.5)
        (SquirrelMail authenticated user skow)
        by 192.168.1.29 with HTTP;
        Thu, 26 May 2005 11:28:15 -0500 (CDT)
Message-ID: <47246.192.168.1.2.1117124895.squirrel@192.168.1.29>
In-Reply-To: <4295F3F7.2060408@i-hypergrid.com>
References: <47221.192.168.1.2.1117123140.squirrel@192.168.1.29>
    <4295F3F7.2060408@i-hypergrid.com>
Date: Thu, 26 May 2005 11:28:15 -0500 (CDT)
Subject: Re: Negative Field Boost
From: "Ryan Skow" <ryan@skow.org>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That works very well - thank you for your quick reply.  As a followup
question, what if the desired effect was to force hits containing terms in
the 'excludes' field to appear below other hits?

Example using the same setup as before:
  Query: red frogs
  Result: both documents would be returned, but DocumentB would appear
before DocumentA since it doesn't have any matching terms in the
excludes field

Again, thanks for your reply - it definitely satisfied my initial request.

Ryan

> string query should look like: "+includes:(red frogs) -excludes:(red
> frogs)"
>
> You can play with MultiFieldQueryParser a bit.
>
> regards,
> Volodymyr Bychkoviak
>
> Ryan Skow wrote:
>
>>Here is the logical structure of the document I'm working with:
>>  The 'Document' has two fields:
>>    'includes' - List of terms that provide positive boost
>>    'excludes' - List of terms that provide negative boost
>>
>>Here is a usage scenario:
>>    DocumentA
>>      includes: red green blue
>>      excludes: frogs birds snails
>>
>>    DocumentB
>>      includes: red green blue
>>      excludes: <empty>
>>
>>Here is the desired effect for a couple query strings:
>>    Query: red
>>    Result: both documents would be returned with equal score
>>
>>    Query: red frogs
>>    Result: only DocumentB would be returned because DocumentA excludes
>> frogs
>>
>>My question is: can Lucene do this with a single query?  One option is to
>>do separate queries searching first the 'includes' and then on the
>>'excludes' field, then removing documents from the 'includes' Hits that
>>exist in the 'excludes' Hits.  This solution to works, but is somewhat
>>cumbersome and inefficient.
>>
>>I've tried calling excludesField.setBoost((float)-1) as well as passing
>>small decimals in the setBoost method, but that still adds a smaller
>> value
>>to the score instead of subtracting from it.
>>
>>Has anyone solved this problem in better/different ways?
>>
>>Thanks!
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 17:17:16 2005
Return-Path: <java-user-return-14610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10692 invoked from network); 26 May 2005 17:17:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 17:17:16 -0000
Received: (qmail 36181 invoked by uid 500); 26 May 2005 17:17:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36129 invoked by uid 500); 26 May 2005 17:17:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36113 invoked by uid 99); 26 May 2005 17:17:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from uar.spline-software.com (HELO uar.i-hypergrid.com) (194.44.193.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 10:17:07 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id F40A367F40
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 20:16:57 +0300 (EEST)
Message-ID: <42960489.1080703@i-hypergrid.com>
Date: Thu, 26 May 2005 20:16:57 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Negative Field Boost
References: <47221.192.168.1.2.1117123140.squirrel@192.168.1.29>    <4295F3F7.2060408@i-hypergrid.com> <47246.192.168.1.2.1117124895.squirrel@192.168.1.29>
In-Reply-To: <47246.192.168.1.2.1117124895.squirrel@192.168.1.29>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

here you can play with boost

(+includes:(red frogs) -excludes:(red frogs))^2.0 excludes:(red frogs)^0.5

you can also play with numbers to achieve best results.

this is first solution I've thought about(I mean there may be more efficient solutions)


regards,

Volodymyr Bychkoviak


Ryan Skow wrote:

>That works very well - thank you for your quick reply.  As a followup
>question, what if the desired effect was to force hits containing terms in
>the 'excludes' field to appear below other hits?
>
>Example using the same setup as before:
>  Query: red frogs
>  Result: both documents would be returned, but DocumentB would appear
>before DocumentA since it doesn't have any matching terms in the
>excludes field
>
>Again, thanks for your reply - it definitely satisfied my initial request.
>
>Ryan
>
>  
>
>>string query should look like: "+includes:(red frogs) -excludes:(red
>>frogs)"
>>
>>You can play with MultiFieldQueryParser a bit.
>>
>>regards,
>>Volodymyr Bychkoviak
>>
>>Ryan Skow wrote:
>>
>>    
>>
>>>Here is the logical structure of the document I'm working with:
>>> The 'Document' has two fields:
>>>   'includes' - List of terms that provide positive boost
>>>   'excludes' - List of terms that provide negative boost
>>>
>>>Here is a usage scenario:
>>>   DocumentA
>>>     includes: red green blue
>>>     excludes: frogs birds snails
>>>
>>>   DocumentB
>>>     includes: red green blue
>>>     excludes: <empty>
>>>
>>>Here is the desired effect for a couple query strings:
>>>   Query: red
>>>   Result: both documents would be returned with equal score
>>>
>>>   Query: red frogs
>>>   Result: only DocumentB would be returned because DocumentA excludes
>>>frogs
>>>
>>>My question is: can Lucene do this with a single query?  One option is to
>>>do separate queries searching first the 'includes' and then on the
>>>'excludes' field, then removing documents from the 'includes' Hits that
>>>exist in the 'excludes' Hits.  This solution to works, but is somewhat
>>>cumbersome and inefficient.
>>>
>>>I've tried calling excludesField.setBoost((float)-1) as well as passing
>>>small decimals in the setBoost method, but that still adds a smaller
>>>value
>>>to the score instead of subtracting from it.
>>>
>>>Has anyone solved this problem in better/different ways?
>>>
>>>Thanks!
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 26 18:51:14 2005
Return-Path: <java-user-return-14611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66272 invoked from network); 26 May 2005 18:51:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2005 18:51:14 -0000
Received: (qmail 50896 invoked by uid 500); 26 May 2005 18:50:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50708 invoked by uid 500); 26 May 2005 18:50:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50644 invoked by uid 99); 26 May 2005 18:50:39 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of dcliman@keepmedia.com designates 63.82.1.162 as permitted sender)
Received: from corp-nat.keepmedia.com (HELO mx1.keepmedia.com) (63.82.1.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 11:50:36 -0700
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mx1.keepmedia.com (Postfix) with ESMTP id 20DC523325F
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 11:50:24 -0700 (PDT)
Received: from mx1.keepmedia.com ([127.0.0.1])
 by localhost (lucky.corp.keepmedia.int [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 07970-05 for <java-user@lucene.apache.org>;
 Thu, 26 May 2005 11:50:24 -0700 (PDT)
Received: from sgm26 (unknown [192.168.1.114])
	by mx1.keepmedia.com (Postfix) with ESMTP id 93F41233231
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 11:50:23 -0700 (PDT)
From: "Dan Climan" <dcliman@keepmedia.com>
To: <java-user@lucene.apache.org>
Subject: Deleting duplicates from a Lucene index
Date: Thu, 26 May 2005 11:50:33 -0700
Organization: KeepMedia, Inc.
Message-ID: <003401c56223$cc2fcfb0$7001a8c0@corp.keepmedia.int>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Scanned: by amavisd-new at keepmedia.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I noticed in my lucene index that I had mistakenly indexed some =
documents
multiple times. I wrote the following piece of code to find and =
eliminate
the duplicates, but it did not behave as expected.

Background:
Every document has an ItemId field that was indexed as a keyword. Two or
more documents with the same ItemId term are considered duplicates.

I tried to write this so that the document with the greatest doc id =
would be
preserved on the assumption that it's likely the newest version of the
document.

I ran this on an optimized index using Lucene 1.4.2 which should be the =
same
as 1.4.3 given that I don't use the QueryParser for this code nor the =
demo
jsp.=20

The two symptoms of this not behaving as expected are
1) ir.docFreq(t) does not always equal the value returned by
ir.termDocs(t).read(docs, freqs) (see below for actual syntax used).
2) Even after optimizing, I still have the same dupes in my index.

Am I misusing these classes?

Is there a better way to detect and delete duplicates?

Thanks,
Dan

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
import org.apache.lucene.index.*;

public class LuceneDupeItemKiller {
   public static void main(String[] args) {
       String indexName =3D "/usr/local/cserver/search/lucene/";
       if (args.length > 0)=20
           indexName =3D args[0];
       IndexReader ir =3D null;
      =20
       try {
           ir =3DIndexReader.open(indexName);
           System.out.println("Using index in : " + ir.directory());
           System.out.println("Number of Lucene Documents in index: " +
ir.numDocs());
           TermEnum te =3D ir.terms();
           te.skipTo(new Term("ItemId", ""));
           int numTerms =3D 0;
           for (Term t =3D te.term(); te.next(); t =3D te.term() ) {
               if (t !=3D null && t.field().equals("ItemId")) {
                   int dCount =3D ir.docFreq(t);=20
                   if ( dCount> 1) {
                       TermDocs td =3D ir.termDocs(t);
                       int[] docs =3D new int[dCount];
                       int[] freqs =3D new int[dCount];
                       int rdCount =3D td.read(docs, freqs);
                       if (rdCount =3D=3D dCount) {
                           for (int i=3D0; i< dCount-1;i++) {
                               ir.delete(docs[i]);
                               System.out.println("Deleted doc id =
"+docs[i]+
"for term "+t.text());
                           }
                       } else {
                           System.err.println("rdCount <> dCount for =
ItemId
"+t.text());
                       }
                       td.close();
                   }
               } else {
                   break;
               }
           }
           te.close();
           ir.close();
           //System.out.println("Number of ItemId Terms: " + numTerms);
      } catch(Exception e) {
         System.err.print("Exception: ");=20
         System.err.println(e.getMessage());
         e.printStackTrace();
      }
    }
}
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


=A0
Dan Climan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 01:18:24 2005
Return-Path: <java-user-return-14612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18149 invoked from network); 27 May 2005 01:18:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 01:18:23 -0000
Received: (qmail 2439 invoked by uid 500); 27 May 2005 01:18:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2397 invoked by uid 500); 27 May 2005 01:18:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2379 invoked by uid 99); 27 May 2005 01:18:16 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 18:18:14 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6A92C5B7EE; Thu, 26 May 2005 18:18:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 613A57F466
	for <java-user@lucene.apache.org>; Thu, 26 May 2005 18:18:00 -0700 (PDT)
Date: Thu, 26 May 2005 18:18:00 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Deleting duplicates from a Lucene index
In-Reply-To: <003401c56223$cc2fcfb0$7001a8c0@corp.keepmedia.int>
Message-ID: <Pine.LNX.4.58.0505261810190.26302@hal.rescomp.berkeley.edu>
References: <003401c56223$cc2fcfb0$7001a8c0@corp.keepmedia.int>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The two symptoms of this not behaving as expected are
: 1) ir.docFreq(t) does not always equal the value returned by
: ir.termDocs(t).read(docs, freqs) (see below for actual syntax used).
: 2) Even after optimizing, I still have the same dupes in my index.

As far as #1, i don't know much about the implimenation of TermDocs, but
the documenation for TermDocs.read doesn't say it's garunteed to
read/return the same number as the size of hte array you pass oit, or the
number returned by IndexReader.docFreq ... just that it will read *up to*
the length of the array, and reutrn the number read.  perhaps there are
reasosn why it might be convinent for hte method to only read so many at a
time -- stopping at buffer bounderies perhaps.  you shouldn't assume that
just becuase it didnt' read as many, that something is wrong -- instead
try to keep reading.  if it returns 0, and you still haven't gotten the
cumulative amount that you expect, then i would assume soemthing is wrong.

but honestly, since you need to iterate over each doc id to delete it
anyway, you might as well just use TermDocs.next and TermDocs.doc

as for your #2 .. i'm assuming you mean you did have a few casees where
you program logged "Deleted doc id XXX for term YYY" and yet those docs
were still in your index afterwards? ... not sure why that would happen
unless you didn't re-open the reader you used to run that query after the
reader used to delete them was closed.


: =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
: import org.apache.lucene.index.*;
:
: public class LuceneDupeItemKiller {
:    public static void main(String[] args) {
:        String indexName =3D "/usr/local/cserver/search/lucene/";
:        if (args.length > 0)
:            indexName =3D args[0];
:        IndexReader ir =3D null;
:
:        try {
:            ir =3DIndexReader.open(indexName);
:            System.out.println("Using index in : " + ir.directory());
:            System.out.println("Number of Lucene Documents in index: " +
: ir.numDocs());
:            TermEnum te =3D ir.terms();
:            te.skipTo(new Term("ItemId", ""));
:            int numTerms =3D 0;
:            for (Term t =3D te.term(); te.next(); t =3D te.term() ) {
:                if (t !=3D null && t.field().equals("ItemId")) {
:                    int dCount =3D ir.docFreq(t);
:                    if ( dCount> 1) {
:                        TermDocs td =3D ir.termDocs(t);
:                        int[] docs =3D new int[dCount];
:                        int[] freqs =3D new int[dCount];
:                        int rdCount =3D td.read(docs, freqs);
:                        if (rdCount =3D=3D dCount) {
:                            for (int i=3D0; i< dCount-1;i++) {
:                                ir.delete(docs[i]);
:                                System.out.println("Deleted doc id "+docs[=
i]+
: "for term "+t.text());
:                            }
:                        } else {
:                            System.err.println("rdCount <> dCount for Item=
Id
: "+t.text());
:                        }
:                        td.close();
:                    }
:                } else {
:                    break;
:                }
:            }
:            te.close();
:            ir.close();
:            //System.out.println("Number of ItemId Terms: " + numTerms);
:       } catch(Exception e) {
:          System.err.print("Exception: ");
:          System.err.println(e.getMessage());
:          e.printStackTrace();
:       }
:     }
: }
: =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
:
:
: =A0
: Dan Climan
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 05:15:15 2005
Return-Path: <java-user-return-14613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6889 invoked from network); 27 May 2005 05:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 05:15:15 -0000
Received: (qmail 72117 invoked by uid 500); 27 May 2005 05:15:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72091 invoked by uid 500); 27 May 2005 05:15:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72070 invoked by uid 99); 27 May 2005 05:15:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ext-ch1gw-6.online-age.net (HELO ext-ch1gw-6.online-age.net) (64.37.194.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 22:15:06 -0700
Received: from int-ch1gw-3.online-age.net (int-ch1gw-3 [3.159.232.67])
	by ext-ch1gw-6.online-age.net (8.12.11/8.12.11/20050527-JWF) with ESMTP id j4R5F40M014983
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 01:15:04 -0400
Received: from cinmlef07.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-3.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id j4R5F3vC012394
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 01:15:04 -0400 (EDT)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.30]) by cinmlef07.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 27 May 2005 01:14:25 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Code search
Date: Fri, 27 May 2005 10:43:04 +0530
Message-ID: <DD9E117A8BE9F34FA4130376EC9C1F6A161C8921@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Code search
Thread-Index: AcVienFUdjW0ApwBQGChEK8VTmsevw==
From: "Singh, Anurag \(Research\)" <Anurag.Singh@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 May 2005 05:14:26.0266 (UTC) FILETIME=[F39DBBA0:01C5627A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I am new to Lucene project, would like to get some information

1) Can we use Lucene project as a search engine for code repository
2) If yes, how should the code component cataloging should be done so as =
to have effective and quick search.

-regards
   anurag


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 05:18:21 2005
Return-Path: <java-user-return-14614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11752 invoked from network); 27 May 2005 05:18:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 05:18:20 -0000
Received: (qmail 77584 invoked by uid 500); 27 May 2005 05:18:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77541 invoked by uid 500); 27 May 2005 05:18:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77528 invoked by uid 99); 27 May 2005 05:18:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from envoy.cybage.com (HELO envoy.cybage.com) (203.199.150.190)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 26 May 2005 22:18:09 -0700
Received: from santanud ([192.168.11.214]) by envoy.cybage.com with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 27 May 2005 10:48:02 +0530
From: "Santanu Dutta" <santanud@cybage.com>
To: <java-user@lucene.apache.org>
Subject: RE: Code search
Date: Fri, 27 May 2005 10:48:02 +0530
Message-ID: <FBEBKIMOEGPCGHBICEHPEEIKCDAA.santanud@cybage.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <DD9E117A8BE9F34FA4130376EC9C1F6A161C8921@BANMLVEM01.e2k.ad.ge.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 27 May 2005 05:18:02.0227 (UTC) FILETIME=[7456C430:01C5627B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Anurag

You can go through the link

http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

-----Original Message-----
From: Singh, Anurag (Research) [mailto:Anurag.Singh@ge.com]
Sent: Friday, May 27, 2005 10:43 AM
To: java-user@lucene.apache.org
Subject: Code search


Hi all,

I am new to Lucene project, would like to get some information

1) Can we use Lucene project as a search engine for code repository
2) If yes, how should the code component cataloging should be done so as to
have effective and quick search.

-regards
   anurag


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 07:00:51 2005
Return-Path: <java-user-return-14615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76312 invoked from network); 27 May 2005 07:00:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 07:00:51 -0000
Received: (qmail 44215 invoked by uid 500); 27 May 2005 07:00:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44189 invoked by uid 500); 27 May 2005 07:00:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44165 invoked by uid 99); 27 May 2005 07:00:44 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15803.mail.cnb.yahoo.com (HELO web15803.mail.cnb.yahoo.com) (202.165.102.83)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 27 May 2005 00:00:41 -0700
Message-ID: <20050527070034.90075.qmail@web15803.mail.cnb.yahoo.com>
Received: from [219.238.185.157] by web15803.mail.cnb.yahoo.com via HTTP; Fri, 27 May 2005 15:00:34 CST
Date: Fri, 27 May 2005 15:00:34 +0800 (CST)
From: =?gb2312?q?=CC=EF=B4=BA=B7=E5?= <tcf960@yahoo.com.cn>
Reply-To: tcf960@yahoo.com.cn
Subject: Re: Code search
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi,
    Lucene is greate project to serve as a source code
search engine.
    I had made a source code search engine based on
lucene , it perfermance very well.
    unforturnately , my version is chinese version.
    the url is ;
http://www.domolo.com/domolo/ctrlc/index.aspx
     it search 101732 java files .

     good luck.

    Transbuerg Tian

    http://www.domolo.com 


--- "Singh, Anurag (Research)" <Anurag.Singh@ge.com>
ะดตภ:
> Hi all,
> 
> I am new to Lucene project, would like to get some
> information
> 
> 1) Can we use Lucene project as a search engine for
> code repository
> 2) If yes, how should the code component cataloging
> should be done so as to have effective and quick
> search.
> 
> -regards
>    anurag
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


ืิถฏวฉร๛ฃบ
ว๋สนำรป๚ฦ๗ศหทฮ๑:
msnป๚ฦ๗ศห: xiaodingdong21@hotmail.com
qqป๚ฦ๗ศห: 443803193
blog: http://blog.csdn.net/accesine960
ถเรดภึึ๗าณฃบhomepage: http://www.domolo.com
 










_________________________________________________________
Do You Yahoo!?
150อ๒ว๚MP3ท่ฟ๑หัฃฌด๘ฤ๚ดณศ๋า๔ภึต๎ฬร
http://music.yisou.com/
รภลฎร๗ะวำฆำะพกำะฃฌหัฑ้รภอผกขัอผบอฟแอผ
http://image.yisou.com
1Gพอสว1000ีืฃฌัลปขต็ำสืิึ๚ภฉศฃก
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 08:49:32 2005
Return-Path: <java-user-return-14616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40623 invoked from network); 27 May 2005 08:49:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 08:49:32 -0000
Received: (qmail 57727 invoked by uid 500); 27 May 2005 08:49:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57700 invoked by uid 500); 27 May 2005 08:49:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57686 invoked by uid 99); 27 May 2005 08:49:17 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.193 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 01:49:14 -0700
Received: by wproxy.gmail.com with SMTP id 50so917445wri
        for <java-user@lucene.apache.org>; Fri, 27 May 2005 01:49:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=EsQuhnrfza230hf3/GnYCEWO+1v/aN2hUk4no/nCzyKY+DNEghymC1Q+WLhGofRod2FZmh/FSmZ4B8leZGCLIv14bDuFBEi94ZWvgI23gGhmV3h8TT91pAVFGfT8AaGu3OHHW/oXep7cm1stqD/p+iV+ZpfEHhvqPl23jO+U9DQ=
Received: by 10.54.40.78 with SMTP id n78mr1474936wrn;
        Fri, 27 May 2005 01:49:03 -0700 (PDT)
Received: from ?192.168.1.100? ([24.6.189.152])
        by mx.gmail.com with ESMTP id g7sm93062wra.2005.05.27.01.49.02;
        Fri, 27 May 2005 01:49:03 -0700 (PDT)
Message-ID: <4296DEE2.5080405@gmail.com>
Date: Fri, 27 May 2005 01:48:34 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: SourceForge.net Lucene based search announcement
References: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com>
In-Reply-To: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I found Sourceforge's search is still "results by YAHOO! search". What 
does that mean?
And currently, seems the search condition for the keywords is still OR, 
not AND.
This makes search for "lucene java" returns a long list, yet without the 
one I wanted in the first several rows.

Chris Lu

Chris Conrad wrote:

> Hello,
>
> I just wanted to let everyone know that we've officially announced  
> that the new SourceForge.net search system is based on Lucene.  It's  
> been in operation for over a month now and we're very happy with it.   
> I'd also like to personally thank Erik Hatcher for helping me out  
> during development.
>
> You can find Lucene listed in the Site Software section of our  
> support guide here: http://sourceforge.net/docman/display_doc.php? 
> docid=11230&group_id=1#site_software
>
> Thanks,
> Chris Conrad
> SourceForge.net Engineer
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 15:23:16 2005
Return-Path: <java-user-return-14617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19703 invoked from network); 27 May 2005 15:23:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 15:23:16 -0000
Received: (qmail 47827 invoked by uid 500); 27 May 2005 15:23:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47797 invoked by uid 500); 27 May 2005 15:23:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47432 invoked by uid 99); 27 May 2005 15:23:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from panacea.is.nl (HELO panacea.is.nl) (213.133.34.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 08:22:59 -0700
Received: from hai01.hippo.local ([213.133.51.241]) by panacea.is.nl with Microsoft SMTPSVC(5.0.2195.4905);
	 Fri, 27 May 2005 17:21:45 +0200
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: Confused about non-tokenized fields
Date: Fri, 27 May 2005 17:22:46 +0200
Message-ID: <A955EA1F8FE31749AEC8C998082F6C7C4189C1@hai01.hippo.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Confused about non-tokenized fields
Thread-Index: AcViz++ex+zFq7mVT9CFA94Vd6haVw==
From: "Max Pfingsthorn" <m.pfingsthorn@hippo.nl>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 May 2005 15:21:45.0742 (UTC) FILETIME=[CB3C82E0:01C562CF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

In my application, I index some strings (like filenames) untokenized, =
meaning via

doc.add(new Field(FIELD,VALUE,false,true,false));

When I later take a look at it with Luke, I still get tokens of the =
filenames (like "news" instead of "news-item.xml") in the list of most =
frequent terms. Shouldn't I get only the complete filenames there??

Also, how do I search case-insensitive over this kind of field?

Thanks!

Best regards,

Max Pfingsthorn

Hippo =20

Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
m.pfingsthorn@hippo.nl / www.hippo.nl
--------------------------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 15:27:40 2005
Return-Path: <java-user-return-14618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21388 invoked from network); 27 May 2005 15:27:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 15:27:40 -0000
Received: (qmail 61867 invoked by uid 500); 27 May 2005 15:27:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61848 invoked by uid 500); 27 May 2005 15:27:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61835 invoked by uid 99); 27 May 2005 15:27:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 08:27:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Deleting duplicates from a Lucene index
Date: Fri, 27 May 2005 11:25:27 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01082A9C@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Deleting duplicates from a Lucene index
thread-index: AcViWfqtZhBaoNchTzGR9wkMbKqSvwAdKjBg
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

what you can do is open the index and loop through all the documents in =
decending order.=20
the code below will explain more.

Directory dir =3D FSDirectory.getDirectory( args[ 0 ], false );
IndexReader reader =3D IndexReader.open( dir );
int numDocs =3D reader.numDocs();
HashSet items =3D new HashSet( size );
int cnt =3D 0;
for ( int i =3D numDocs - 1; i >=3D 0; i-- )
{
	String itemId =3D reader.document( i ).get( "ItemId" );
	TermEnum terms =3D reader.terms( new Term( "ItemId", itemId ) );
	if ( terms.docFreq() > 1 )
	{
		if ( urls.contains( url ) )
		{
			reader.delete( i );
			System.out.println( " marked document : " + i + " for deletion" );
			cnt++;
		}
		else
		{
			items.add( url );
		}
	}
	itemId =3D null;
	terms =3D null;

}
	System.out.println( " The number of documents marked for deletion is : =
" + cnt );
	reader.close();
	dir.close();
		=09
	IndexWriter writer =3D new IndexWriter(dir,new =
CyExpressAnalyzer(),false);
	writer.optimize();
	writer.close();

run this code and check using luke to make sure that the documents are =
deleted.

omar.
-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu]On Behalf Of Chris Hostetter
Sent: Thursday, May 26, 2005 9:18 PM
To: java-user@lucene.apache.org
Subject: Re: Deleting duplicates from a Lucene index



: The two symptoms of this not behaving as expected are
: 1) ir.docFreq(t) does not always equal the value returned by
: ir.termDocs(t).read(docs, freqs) (see below for actual syntax used).
: 2) Even after optimizing, I still have the same dupes in my index.

As far as #1, i don't know much about the implimenation of TermDocs, but
the documenation for TermDocs.read doesn't say it's garunteed to
read/return the same number as the size of hte array you pass oit, or =
the
number returned by IndexReader.docFreq ... just that it will read *up =
to*
the length of the array, and reutrn the number read.  perhaps there are
reasosn why it might be convinent for hte method to only read so many at =
a
time -- stopping at buffer bounderies perhaps.  you shouldn't assume =
that
just becuase it didnt' read as many, that something is wrong -- instead
try to keep reading.  if it returns 0, and you still haven't gotten the
cumulative amount that you expect, then i would assume soemthing is =
wrong.

but honestly, since you need to iterate over each doc id to delete it
anyway, you might as well just use TermDocs.next and TermDocs.doc

as for your #2 .. i'm assuming you mean you did have a few casees where
you program logged "Deleted doc id XXX for term YYY" and yet those docs
were still in your index afterwards? ... not sure why that would happen
unless you didn't re-open the reader you used to run that query after =
the
reader used to delete them was closed.


: =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
: import org.apache.lucene.index.*;
:
: public class LuceneDupeItemKiller {
:    public static void main(String[] args) {
:        String indexName =3D "/usr/local/cserver/search/lucene/";
:        if (args.length > 0)
:            indexName =3D args[0];
:        IndexReader ir =3D null;
:
:        try {
:            ir =3DIndexReader.open(indexName);
:            System.out.println("Using index in : " + ir.directory());
:            System.out.println("Number of Lucene Documents in index: " =
+
: ir.numDocs());
:            TermEnum te =3D ir.terms();
:            te.skipTo(new Term("ItemId", ""));
:            int numTerms =3D 0;
:            for (Term t =3D te.term(); te.next(); t =3D te.term() ) {
:                if (t !=3D null && t.field().equals("ItemId")) {
:                    int dCount =3D ir.docFreq(t);
:                    if ( dCount> 1) {
:                        TermDocs td =3D ir.termDocs(t);
:                        int[] docs =3D new int[dCount];
:                        int[] freqs =3D new int[dCount];
:                        int rdCount =3D td.read(docs, freqs);
:                        if (rdCount =3D=3D dCount) {
:                            for (int i=3D0; i< dCount-1;i++) {
:                                ir.delete(docs[i]);
:                                System.out.println("Deleted doc id =
"+docs[i]+
: "for term "+t.text());
:                            }
:                        } else {
:                            System.err.println("rdCount <> dCount for =
ItemId
: "+t.text());
:                        }
:                        td.close();
:                    }
:                } else {
:                    break;
:                }
:            }
:            te.close();
:            ir.close();
:            //System.out.println("Number of ItemId Terms: " + =
numTerms);
:       } catch(Exception e) {
:          System.err.print("Exception: ");
:          System.err.println(e.getMessage());
:          e.printStackTrace();
:       }
:     }
: }
: =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
:
:
: =A0
: Dan Climan
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 15:42:49 2005
Return-Path: <java-user-return-14619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33419 invoked from network); 27 May 2005 15:42:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 15:42:49 -0000
Received: (qmail 8443 invoked by uid 500); 27 May 2005 15:42:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8425 invoked by uid 500); 27 May 2005 15:42:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8403 invoked by uid 99); 27 May 2005 15:42:42 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Rossen.Angelov@sourcemedia.com designates 207.241.10.61 as permitted sender)
Received: from mta.thomsonmedia.com (HELO mta.thomsonmedia.com) (207.241.10.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 08:42:41 -0700
Received: from tmskoex01.tm.thomsonmedia.com (ip-33.bankinfo.com [207.241.10.33])
	by mta.thomsonmedia.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j4RFgNQu013628
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 10:42:23 -0500 (CDT)
Received: by tmskoex01.thomsonmedia.com with Internet Mail Service (5.5.2657.72)
	id <LDKF1L6V>; Fri, 27 May 2005 10:42:23 -0500
Message-ID: <4F8DDDFDAC9A864AAED5BB875129DF4B0690CCD9@tmskoex01.thomsonmedia.com>
From: "Angelov, Rossen" <Rossen.Angelov@SourceMedia.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: how long should optimizing take
Date: Fri, 27 May 2005 10:42:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C562D2.AB46380E"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C562D2.AB46380E
Content-Type: text/plain;
	charset="iso-8859-1"

Hi,

I'm having problems with the Lucene optimization. Two of the indexes are
about 2BG big and every day about 30 documents are added to each of these
indexes. At the end of the indexing the IndexWriter optimize() method is
executed and it takes about 30 minutes to finish the optimization for each
index.

The indexing happens through a web service. A servlet takes an http request
and executes methods to index the new documents and optimize the indexes.

The problem is that the request takes too long to finish because of the
optimization and the web server doesn't return a response. The browser will
keep waiting forever.

Has anybody else experienced similar behavior with the optimization process?

Thanks,
Ross

"This communication is intended solely for the addressee and is
confidential and not for third party unauthorized distribution."


------_=_NextPart_001_01C562D2.AB46380E--

From java-user-return-14620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 15:57:55 2005
Return-Path: <java-user-return-14620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39663 invoked from network); 27 May 2005 15:57:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 15:57:55 -0000
Received: (qmail 47904 invoked by uid 500); 27 May 2005 15:57:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47875 invoked by uid 500); 27 May 2005 15:57:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47861 invoked by uid 99); 27 May 2005 15:57:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from david.hcuge.ch (HELO sim.hcuge.ch) (129.195.254.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 08:57:48 -0700
Received: from [129.195.142.40] ([129.195.142.40])
	by sim.hcuge.ch (Switch-2.2.8/Switch-2.2.8) with ESMTP id j4RFuw908437
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 17:56:58 +0200 (MEST)
Message-ID: <4297436C.1000400@healthonnet.org>
Date: Fri, 27 May 2005 17:57:32 +0200
From: gaudinat <arnaud.gaudinat@healthonnet.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: utf-8 & Lucene 1.4.3 & Solaris &windows 
References: <6.2.1.2.2.20050524154707.069b2e70@fast.synernet.com> <4293A16A.3010106@yahoo.co.uk> <42945AD2.30404@web.de>
In-Reply-To: <42945AD2.30404@web.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I haven't got no utf-8 index when I use Lucene with Solaris while my 
characters are OK under windows. My indexing program is the same and it 
uses lucene 1.4.3.

Is someone have an Idea to help me?

Regards,

Arnaud.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 16:00:22 2005
Return-Path: <java-user-return-14621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40757 invoked from network); 27 May 2005 16:00:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 16:00:22 -0000
Received: (qmail 53519 invoked by uid 500); 27 May 2005 16:00:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53498 invoked by uid 500); 27 May 2005 16:00:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53485 invoked by uid 99); 27 May 2005 16:00:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailgate2.eduhi.at (HELO mailgate2.eduhi.at) (193.170.67.94)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 09:00:13 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate2.eduhi.at (Postfix) with ESMTP id 1B167535F0
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 18:00:00 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate2.eduhi.at (Postfix) with ESMTP id F0F5B5350C
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 17:59:59 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.7.168]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Fri, 27 May 2005 17:59:59 +0200
Message-ID: <429743FF.4000005@eduhi.at>
Date: Fri, 27 May 2005 17:59:59 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Confused about non-tokenized fields
References: <A955EA1F8FE31749AEC8C998082F6C7C4189C1@hai01.hippo.local>
In-Reply-To: <A955EA1F8FE31749AEC8C998082F6C7C4189C1@hai01.hippo.local>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 May 2005 15:59:59.0771 (UTC) FILETIME=[22958EB0:01C562D5]
X-Spam-Checker-Version: SpamAssassin 3.0.2 (2004-11-16) on mailgate2.eduhi.at
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.8 tests=ALL_TRUSTED,BAYES_00,
	EH_b_llwords,EH_b_lwords,EH_f_whitelist5,EH_u_spam_lllow,
	UNWANTED_LANGUAGE_BODY autolearn=ham version=3.0.2
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Max Pfingsthorn wrote:

>Hi!
>
>In my application, I index some strings (like filenames) untokenized, meaning via
>
>doc.add(new Field(FIELD,VALUE,false,true,false));
>
>When I later take a look at it with Luke, I still get tokens of the filenames (like "news" instead of "news-item.xml") in the list of most frequent terms. Shouldn't I get only the complete filenames there??
>
>Also, how do I search case-insensitive over this kind of field?
>
>Thanks!
>
>Best regards,
>
>Max Pfingsthorn
>
>Hippo  
>
>Oosteinde 11
>1017WT Amsterdam
>The Netherlands
>Tel  +31 (0)20 5224466
>-------------------------------------------------------------
>m.pfingsthorn@hippo.nl / www.hippo.nl
>--------------------------------------------------------------
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>
For indexing untokenized fields try the static method
Field.Keyword(String fieldname,String value) then the string is really
not tokenized. But i think new Field with your params should make the
same. Have you tried to make a search for the filename this should only
return a result when you write out the whole filename.

Case insensitive search is standard when you use the standardanalyzer i
think:
the code should look like this
Searcher.search(QueryParser.parse("the query string","the fieldname",new
StandardAnalyzer());


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 16:07:06 2005
Return-Path: <java-user-return-14622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43895 invoked from network); 27 May 2005 16:07:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 16:07:06 -0000
Received: (qmail 74018 invoked by uid 500); 27 May 2005 16:06:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73956 invoked by uid 500); 27 May 2005 16:06:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73941 invoked by uid 99); 27 May 2005 16:06:47 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from panacea.is.nl (HELO panacea.is.nl) (213.133.34.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 09:06:43 -0700
Received: from hai01.hippo.local ([213.133.51.241]) by panacea.is.nl with Microsoft SMTPSVC(5.0.2195.4905);
	 Fri, 27 May 2005 18:04:42 +0200
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: RE: Confused about non-tokenized fields
Date: Fri, 27 May 2005 18:05:43 +0200
Message-ID: <A955EA1F8FE31749AEC8C998082F6C7C4189C2@hai01.hippo.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Confused about non-tokenized fields
Thread-Index: AcVi1S6A27tR0/DQT6mRPfTb9KNk4wAADwng
From: "Max Pfingsthorn" <m.pfingsthorn@hippo.nl>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 May 2005 16:04:42.0558 (UTC) FILETIME=[CB236DE0:01C562D5]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

Thanks for the reply. I figured already that fields are actually not =
tokenized... I lost track of the filenames/dirnames and there were some =
duplicates...

About case-insensitivity: Okay, I can make my query lower case, but my =
strings in the field are not... I guess I have to do that manually =
during indexing? Or is there some nicer way?

Thanks!
Max Pfingsthorn

-----Original Message-----
From: Gusenbauer Stefan [mailto:gusenbauer@eduhi.at]
Sent: Friday, May 27, 2005 18:00
To: java-user@lucene.apache.org
Subject: Re: Confused about non-tokenized fields


Max Pfingsthorn wrote:

>Hi!
>
>In my application, I index some strings (like filenames) untokenized, =
meaning via
>
>doc.add(new Field(FIELD,VALUE,false,true,false));
>
>When I later take a look at it with Luke, I still get tokens of the =
filenames (like "news" instead of "news-item.xml") in the list of most =
frequent terms. Shouldn't I get only the complete filenames there??
>
>Also, how do I search case-insensitive over this kind of field?
>
>Thanks!
>
>Best regards,
>
>Max Pfingsthorn
>
>Hippo =20
>
>Oosteinde 11
>1017WT Amsterdam
>The Netherlands
>Tel  +31 (0)20 5224466
>-------------------------------------------------------------
>m.pfingsthorn@hippo.nl / www.hippo.nl
>--------------------------------------------------------------
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> =20
>
For indexing untokenized fields try the static method
Field.Keyword(String fieldname,String value) then the string is really
not tokenized. But i think new Field with your params should make the
same. Have you tried to make a search for the filename this should only
return a result when you write out the whole filename.

Case insensitive search is standard when you use the standardanalyzer i
think:
the code should look like this
Searcher.search(QueryParser.parse("the query string","the fieldname",new
StandardAnalyzer());


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 16:09:58 2005
Return-Path: <java-user-return-14623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46100 invoked from network); 27 May 2005 16:09:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 16:09:58 -0000
Received: (qmail 85031 invoked by uid 500); 27 May 2005 16:09:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85009 invoked by uid 500); 27 May 2005 16:09:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84996 invoked by uid 99); 27 May 2005 16:09:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Rossen.Angelov@sourcemedia.com designates 207.241.10.34 as permitted sender)
Received: from tmgate2.thomsonmedia.com (HELO tmgate2.thomsonmedia.com) (207.241.10.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 09:09:48 -0700
Received: from tmskoex01.tm.thomsonmedia.com (ip-33.bankinfo.com [207.241.10.33])
	by tmgate2.thomsonmedia.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j4RG9gvd005402
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 11:09:42 -0500 (CDT)
Received: by tmskoex01.thomsonmedia.com with Internet Mail Service (5.5.2657.72)
	id <LDKF1MXT>; Fri, 27 May 2005 11:09:42 -0500
Message-ID: <4F8DDDFDAC9A864AAED5BB875129DF4B0690CCDA@tmskoex01.thomsonmedia.com>
From: "Angelov, Rossen" <Rossen.Angelov@SourceMedia.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: RE: utf-8 & Lucene 1.4.3 & Solaris &windows 
Date: Fri, 27 May 2005 11:09:32 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C562D5.E7B24276"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C562D5.E7B24276
Content-Type: text/plain;
	charset="iso-8859-1"

Probably your Unix system has a different default encoding than your Windows
machine.
You have to make sure you give the IndexWriter a string that has the correct
encoding.

Do you specifically set the encoding in you code before you index it with
Lucene?

Ross

-----Original Message-----
From: gaudinat [mailto:arnaud.gaudinat@healthonnet.org]
Sent: Friday, May 27, 2005 10:58 AM
To: java-user@lucene.apache.org
Subject: utf-8 & Lucene 1.4.3 & Solaris &windows 


Hi,

I haven't got no utf-8 index when I use Lucene with Solaris while my 
characters are OK under windows. My indexing program is the same and it 
uses lucene 1.4.3.

Is someone have an Idea to help me?

Regards,

Arnaud.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

"This communication is intended solely for the addressee and is
confidential and not for third party unauthorized distribution."


------_=_NextPart_001_01C562D5.E7B24276--

From java-user-return-14624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 16:15:00 2005
Return-Path: <java-user-return-14624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47942 invoked from network); 27 May 2005 16:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 16:15:00 -0000
Received: (qmail 96477 invoked by uid 500); 27 May 2005 16:14:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96426 invoked by uid 500); 27 May 2005 16:14:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96395 invoked by uid 99); 27 May 2005 16:14:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailgate3.eduhi.at (HELO mailgate3.eduhi.at) (193.170.67.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 09:14:50 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate3.eduhi.at (Postfix) with ESMTP id 9C38F2B3C3
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 18:14:36 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate3.eduhi.at (Postfix) with ESMTP id 8896E2B3B8
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 18:14:36 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.7.168]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Fri, 27 May 2005 18:14:33 +0200
Message-ID: <42974769.1020504@eduhi.at>
Date: Fri, 27 May 2005 18:14:33 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Confused about non-tokenized fields
References: <A955EA1F8FE31749AEC8C998082F6C7C4189C2@hai01.hippo.local>
In-Reply-To: <A955EA1F8FE31749AEC8C998082F6C7C4189C2@hai01.hippo.local>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 May 2005 16:14:33.0943 (UTC) FILETIME=[2BA19E70:01C562D7]
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on mailgate3.eduhi.at
X-Spam-Level: **
X-Spam-Status: No, hits=2.7 required=5.8 tests=EH_b_llwords,EH_b_lwords,
	EH_f_whitelist5,EH_u_spam_lllow,UNWANTED_LANGUAGE_BODY autolearn=no 
	version=2.64
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Max Pfingsthorn wrote:

>Hi!
>
>Thanks for the reply. I figured already that fields are actually not tokenized... I lost track of the filenames/dirnames and there were some duplicates...
>
>About case-insensitivity: Okay, I can make my query lower case, but my strings in the field are not... I guess I have to do that manually during indexing? Or is there some nicer way?
>  
>
I think this is not a problem. This should be done automatically when
you make a case insensitiv search so that you don't have to think about
it. If it should become a problem write another email *g*
Stefan

>Thanks!
>Max Pfingsthorn
>
>-----Original Message-----
>From: Gusenbauer Stefan [mailto:gusenbauer@eduhi.at]
>Sent: Friday, May 27, 2005 18:00
>To: java-user@lucene.apache.org
>Subject: Re: Confused about non-tokenized fields
>
>
>Max Pfingsthorn wrote:
>
>  
>
>>Hi!
>>
>>In my application, I index some strings (like filenames) untokenized, meaning via
>>
>>doc.add(new Field(FIELD,VALUE,false,true,false));
>>
>>When I later take a look at it with Luke, I still get tokens of the filenames (like "news" instead of "news-item.xml") in the list of most frequent terms. Shouldn't I get only the complete filenames there??
>>
>>Also, how do I search case-insensitive over this kind of field?
>>
>>Thanks!
>>
>>Best regards,
>>
>>Max Pfingsthorn
>>
>>Hippo  
>>
>>Oosteinde 11
>>1017WT Amsterdam
>>The Netherlands
>>Tel  +31 (0)20 5224466
>>-------------------------------------------------------------
>>m.pfingsthorn@hippo.nl / www.hippo.nl
>>--------------------------------------------------------------
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> 
>>
>>    
>>
>For indexing untokenized fields try the static method
>Field.Keyword(String fieldname,String value) then the string is really
>not tokenized. But i think new Field with your params should make the
>same. Have you tried to make a search for the filename this should only
>return a result when you write out the whole filename.
>
>Case insensitive search is standard when you use the standardanalyzer i
>think:
>the code should look like this
>Searcher.search(QueryParser.parse("the query string","the fieldname",new
>StandardAnalyzer());
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 17:20:07 2005
Return-Path: <java-user-return-14625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74253 invoked from network); 27 May 2005 17:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 17:20:07 -0000
Received: (qmail 76690 invoked by uid 500); 27 May 2005 17:19:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76608 invoked by uid 500); 27 May 2005 17:19:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76580 invoked by uid 99); 27 May 2005 17:19:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gwia201.syr.edu (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 10:19:25 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Fri, 27 May 2005 13:19:11 -0400
Message-Id: <s2971e4f.086@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Fri, 27 May 2005 13:18:47 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: RE: utf-8 & Lucene 1.4.3 & Solaris &windows
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Also, see if
http://wiki.apache.org/jakarta-lucene/IndexingOtherLanguages  helps
at all.


>>> Rossen.Angelov@SourceMedia.com 5/27/2005 12:09:32 PM >>>
Probably your Unix system has a different default encoding than your
Windows
machine.
You have to make sure you give the IndexWriter a string that has the
correct
encoding.

Do you specifically set the encoding in you code before you index it
with
Lucene?

Ross

-----Original Message-----
From: gaudinat [mailto:arnaud.gaudinat@healthonnet.org] 
Sent: Friday, May 27, 2005 10:58 AM
To: java-user@lucene.apache.org 
Subject: utf-8 & Lucene 1.4.3 & Solaris &windows 


Hi,

I haven't got no utf-8 index when I use Lucene with Solaris while my 
characters are OK under windows. My indexing program is the same and it

uses lucene 1.4.3.

Is someone have an Idea to help me?

Regards,

Arnaud.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 

"This communication is intended solely for the addressee and is
confidential and not for third party unauthorized distribution."


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 17:47:41 2005
Return-Path: <java-user-return-14626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82470 invoked from network); 27 May 2005 17:47:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 17:47:41 -0000
Received: (qmail 58019 invoked by uid 500); 27 May 2005 17:47:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57976 invoked by uid 500); 27 May 2005 17:47:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57963 invoked by uid 99); 27 May 2005 17:47:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 10:47:21 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 30E7F13E210D; Fri, 27 May 2005 13:47:18 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id C204D13E2006
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 13:47:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <A955EA1F8FE31749AEC8C998082F6C7C4189C1@hai01.hippo.local>
References: <A955EA1F8FE31749AEC8C998082F6C7C4189C1@hai01.hippo.local>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E4955AB4-444D-4002-B7F9-EA88BB3A52D7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Confused about non-tokenized fields
Date: Fri, 27 May 2005 13:47:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 27, 2005, at 11:22 AM, Max Pfingsthorn wrote:

> Hi!
>
> In my application, I index some strings (like filenames)  
> untokenized, meaning via
>
> doc.add(new Field(FIELD,VALUE,false,true,false));
>
> When I later take a look at it with Luke, I still get tokens of the  
> filenames (like "news" instead of "news-item.xml") in the list of  
> most frequent terms. Shouldn't I get only the
> complete filenames there??

Perhaps that "news" term is coming from a different field?  Are you  
sure that you're seeing the filename field tokenized?  Your usage of  
the field constructor looks fine to me and should not tokenize.

> Also, how do I search case-insensitive over this kind of field?

Lucene is case-sensitive.  I suggest lowercasing the field before  
indexing, and search using lowercase.  This is the simplest  
suggestion, but you may need to use some other technique such as  
having different fields (or different indexes) to deal with case- 
sensitivity issues.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 18:00:51 2005
Return-Path: <java-user-return-14627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85741 invoked from network); 27 May 2005 18:00:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 18:00:51 -0000
Received: (qmail 83137 invoked by uid 500); 27 May 2005 18:00:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83110 invoked by uid 500); 27 May 2005 18:00:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83097 invoked by uid 99); 27 May 2005 18:00:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from internalmx2.vasoftware.com (HELO lists.vasoftware.com) (12.152.184.150)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 11:00:41 -0700
Received: from netblock-66-159-223-11.dslextreme.com ([66.159.223.11]:52896 helo=[192.168.1.74])
	by lists.vasoftware.com with asmtp 
	(Cipher TLSv1:RC4-SHA:128) (Exim 4.20 #1 (Debian))
	id 1DbiYC-0001Ep-MN by VAauthid <cconrad> with fixed_plain
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 10:23:14 -0700
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <4296DEE2.5080405@gmail.com>
References: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com> <4296DEE2.5080405@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BF083C38-5820-4BD2-A838-2F90B25CE6E4@vasoftware.com>
Content-Transfer-Encoding: 7bit
From: Chris Conrad <cconrad@vasoftware.com>
Subject: Re: SourceForge.net Lucene based search announcement
Date: Fri, 27 May 2005 10:23:08 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-EA-Verified: lists.vasoftware.com 1DbiYC-0001Ep-MN e7d84fda8e035d4545ae8f883fd6d0ac
X-Spam-Score: -102.5 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

The "results by YAHOO! search" is a marketing thing that we have no  
real control over.  I promise that the actual project search engine  
is using Lucene.

As for defaulting to OR, it was decided that the new search should  
function as similarly as possible to the old search system by  
default.  The new search engine, however, will happily handle boolean  
queries in the search box, so feel free to search for "lucene and  
java".  We're working on a comprehensive search guide which will  
explain the features in more details but some of the new things you  
can do include phrase searches and prefix searches.

And I have to admit, we haven't stomped out all of the bugs yet.  If  
you do find something that seems genuinely broken, please submit a  
support request.

--Chris Conrad
SourceForge.net Engineer

On May 27, 2005, at 1:48 AM, Chris Lu wrote:

> Hi,
>
> I found Sourceforge's search is still "results by YAHOO! search".  
> What does that mean?
> And currently, seems the search condition for the keywords is still  
> OR, not AND.
> This makes search for "lucene java" returns a long list, yet  
> without the one I wanted in the first several rows.
>
> Chris Lu
>
> Chris Conrad wrote:
>
>
>> Hello,
>>
>> I just wanted to let everyone know that we've officially  
>> announced  that the new SourceForge.net search system is based on  
>> Lucene.  It's  been in operation for over a month now and we're  
>> very happy with it.   I'd also like to personally thank Erik  
>> Hatcher for helping me out  during development.
>>
>> You can find Lucene listed in the Site Software section of our   
>> support guide here: http://sourceforge.net/docman/display_doc.php?  
>> docid=11230&group_id=1#site_software
>>
>> Thanks,
>> Chris Conrad
>> SourceForge.net Engineer
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 20:03:52 2005
Return-Path: <java-user-return-14628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50843 invoked from network); 27 May 2005 20:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 20:03:52 -0000
Received: (qmail 91181 invoked by uid 500); 27 May 2005 20:03:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91154 invoked by uid 500); 27 May 2005 20:03:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91135 invoked by uid 99); 27 May 2005 20:03:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 13:03:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1DB4D13E2006; Fri, 27 May 2005 16:03:41 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DC6BD13E2006
	for <java-user@lucene.apache.org>; Fri, 27 May 2005 16:03:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <42974769.1020504@eduhi.at>
References: <A955EA1F8FE31749AEC8C998082F6C7C4189C2@hai01.hippo.local> <42974769.1020504@eduhi.at>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E12EB33E-3E40-40F6-94E8-9AF53D2CE3FD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Confused about non-tokenized fields
Date: Fri, 27 May 2005 16:03:22 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 27, 2005, at 12:14 PM, Gusenbauer Stefan wrote:

> Max Pfingsthorn wrote:
>
>
>> Hi!
>>
>> Thanks for the reply. I figured already that fields are actually  
>> not tokenized... I lost track of the filenames/dirnames and there  
>> were some duplicates...
>>
>> About case-insensitivity: Okay, I can make my query lower case,  
>> but my strings in the field are not... I guess I have to do that  
>> manually during indexing? Or is there some nicer way?
>>
>>
>>
> I think this is not a problem. This should be done automatically when
> you make a case insensitiv search so that you don't have to think  
> about
> it. If it should become a problem write another email *g*

If you index but do not tokenize, then case is preserved from the  
original text.  It's the tokenization process, via the specified  
Analyzer, that typically lowercases.

So, yes, you would need to do that manually on the text you hand to a  
Field for untokenized fields.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 27 21:20:17 2005
Return-Path: <java-user-return-14629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71962 invoked from network); 27 May 2005 21:20:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2005 21:20:17 -0000
Received: (qmail 26131 invoked by uid 500); 27 May 2005 21:20:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26102 invoked by uid 500); 27 May 2005 21:20:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26070 invoked by uid 99); 27 May 2005 21:20:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 14:20:08 -0700
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.15) id A185CA140072; Fri, 27 May 2005 17:30:45 -0400
Message-ID: <42978EEE.6070309@bayt.net>
Date: Sat, 28 May 2005 01:19:42 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org, Rasha <amirrasha@gmail.com>
Subject: Re: Lucene Arabic Internationalization Question
References: <29f166d905052407566d980d8@mail.gmail.com>
In-Reply-To: <29f166d905052407566d980d8@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Declude-Sender: nsh@bayt.net [192.168.1.24]
X-Declude-Spoolname: D9184CA140072E318.SMD
X-Declude-Note: Scanned by Declude 2.0.6 (http://www.declude.com/x-note.htm) for spam.
X-Declude-Scan: Score [0] at 17:30:46 on 27 May 2005
X-Declude-Tests: Whitelisted
X-Country-Chain: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Rasha,

Sorry for the delay, I've indexed Arabic and English seamlessly on 
Lucene, the only thing you have to watch out for is stemming, as for 
indexing PDFs, I have not used that part of the API, but from 
experience, this comes down to using or in some cases forcing the 
correct encoding, debug this by bringing down your development to the 
lowest denominator, for example if you're doing this from a webservice, 
try it first from the prompt, so you have to contend only with the OS 
encoding (UTF-8 is highly recommended) and not the browser / server  
encodings.

A more detailed example of the problem you're facing would help me 
understand the problem more.

Nader

Rasha wrote:

>Dear Nader,
>
>I Have a big problem during indexing pdfs containing Persian Word
>
>lucenePDFIndexer cannot index it , and indexed words of pdf are unuseable
>
>
>is there a way to perform it to index good?
>
>
>regards,
>rasha malek
>
>
>
>
>
>
>  
>

-- 

Nader S. Henein
Senior Applications Architect

Bayt.com





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 28 02:11:07 2005
Return-Path: <java-user-return-14630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40459 invoked from network); 28 May 2005 02:11:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2005 02:11:07 -0000
Received: (qmail 94016 invoked by uid 500); 28 May 2005 02:10:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93978 invoked by uid 500); 28 May 2005 02:10:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93964 invoked by uid 99); 28 May 2005 02:10:58 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailgate2.eduhi.at (HELO mailgate2.eduhi.at) (193.170.67.94)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 27 May 2005 19:10:57 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate2.eduhi.at (Postfix) with ESMTP id 23F465280D
	for <java-user@lucene.apache.org>; Sat, 28 May 2005 04:10:53 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate2.eduhi.at (Postfix) with ESMTP id D69F553179
	for <java-user@lucene.apache.org>; Sat, 28 May 2005 04:10:52 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.3.198]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Sat, 28 May 2005 04:10:52 +0200
Message-ID: <4297D32C.4040004@eduhi.at>
Date: Sat, 28 May 2005 04:10:52 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Confused about non-tokenized fields
References: <A955EA1F8FE31749AEC8C998082F6C7C4189C2@hai01.hippo.local> <42974769.1020504@eduhi.at> <E12EB33E-3E40-40F6-94E8-9AF53D2CE3FD@ehatchersolutions.com>
In-Reply-To: <E12EB33E-3E40-40F6-94E8-9AF53D2CE3FD@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 May 2005 02:10:52.0675 (UTC) FILETIME=[796ADD30:01C5632A]
X-Spam-Checker-Version: SpamAssassin 3.0.2 (2004-11-16) on mailgate2.eduhi.at
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.8 tests=ALL_TRUSTED,BAYES_00,
	EH_b_lwords,EH_f_whitelist5,EH_u_spam_lllow,UNWANTED_LANGUAGE_BODY 
	autolearn=ham version=3.0.2
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On May 27, 2005, at 12:14 PM, Gusenbauer Stefan wrote:
>
>> Max Pfingsthorn wrote:
>>
>>
>>> Hi!
>>>
>>> Thanks for the reply. I figured already that fields are actually 
>>> not tokenized... I lost track of the filenames/dirnames and there 
>>> were some duplicates...
>>>
>>> About case-insensitivity: Okay, I can make my query lower case,  but
>>> my strings in the field are not... I guess I have to do that 
>>> manually during indexing? Or is there some nicer way?
>>>
>>>
>>>
>> I think this is not a problem. This should be done automatically when
>> you make a case insensitiv search so that you don't have to think  about
>> it. If it should become a problem write another email *g*
>
>
> If you index but do not tokenize, then case is preserved from the 
> original text.  It's the tokenization process, via the specified 
> Analyzer, that typically lowercases.
>
> So, yes, you would need to do that manually on the text you hand to a 
> Field for untokenized fields.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
thanks that was new to me i will be more carefull before i give out some
suggestions
stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 28 09:11:45 2005
Return-Path: <java-user-return-14631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18935 invoked from network); 28 May 2005 09:11:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2005 09:11:45 -0000
Received: (qmail 19497 invoked by uid 500); 28 May 2005 09:11:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19470 invoked by uid 500); 28 May 2005 09:11:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 38928 invoked by uid 99); 28 May 2005 06:50:14 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of burton@rojo.com designates 12.43.53.196 as permitted sender)
Message-ID: <4298102F.60205@rojo.com>
Date: Fri, 27 May 2005 23:31:11 -0700
From: Kevin Burton <burton@rojo.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Macintosh/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Ability to load a document with ONLY a few fields for performance?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a Document with about 15 fields.  I only need two of them.

How much faster would lucene be if I only fetched the two fields?  Each 
field is a separate file and this would almost certainly slow down just 
the basic IO.

I think I looked at this a long time ago and there was no high level API 
for doing this and that I'd have to dive into SegmentReader stuff.

Any idea?

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 28 13:05:44 2005
Return-Path: <java-user-return-14632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73650 invoked from network); 28 May 2005 13:05:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2005 13:05:44 -0000
Received: (qmail 12140 invoked by uid 500); 28 May 2005 13:05:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12114 invoked by uid 500); 28 May 2005 13:05:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12100 invoked by uid 99); 28 May 2005 13:05:38 -0000
X-ASF-Spam-Status: No, hits=3.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31107.mail.mud.yahoo.com (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 28 May 2005 06:05:37 -0700
Received: (qmail 24429 invoked by uid 60001); 28 May 2005 13:05:35 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=GStmo5AyVmqFLkUQoKgikqOSMiRGwirP4fn4tUVt8E6NS0UKu4/EZ3MMwfNCJRDArqU9okDdm9Hj+7bvOhQic9HHiwu4j6SiB1rnD1stNDS/611L2S8doQhDy6i0U60tjNRjEX/c9U48SrMxL/lo+U0nCVo79eT9k9HD+LOPGvg=  ;
Message-ID: <20050528130535.24427.qmail@web31107.mail.mud.yahoo.com>
Received: from [69.201.140.229] by web31107.mail.mud.yahoo.com via HTTP; Sat, 28 May 2005 06:05:35 PDT
Date: Sat, 28 May 2005 06:05:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Ability to load a document with ONLY a few fields for performance?
To: java-user@lucene.apache.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Kevin,

It would be faster, and actually there was a patch somebody submitted
... look at this: http://www.jguru.com/forums/view.jsp?EID=1232770

It even includes performance improvement numbers :)

Otis


--- Kevin Burton <burton@rojo.com> wrote:
> I have a Document with about 15 fields.  I only need two of them.
> 
> How much faster would lucene be if I only fetched the two fields? 
> Each 
> field is a separate file and this would almost certainly slow down
> just 
> the basic IO.
> 
> I think I looked at this a long time ago and there was no high level
> API 
> for doing this and that I'd have to dive into SegmentReader stuff.
> 
> Any idea?
> 
> -- 
> 
> 
> Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
> See irc.freenode.net #rojo if you want to chat.
> 
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
> 
>    Kevin A. Burton, Location - San Francisco, CA
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 29 10:32:50 2005
Return-Path: <java-user-return-14633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95365 invoked from network); 29 May 2005 10:32:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2005 10:32:50 -0000
Received: (qmail 75278 invoked by uid 500); 29 May 2005 10:32:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75246 invoked by uid 500); 29 May 2005 10:32:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75221 invoked by uid 99); 29 May 2005 10:32:44 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 03:32:43 -0700
Received: by wproxy.gmail.com with SMTP id 36so3207965wra
        for <java-user@lucene.apache.org>; Sun, 29 May 2005 03:32:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=pzeDQDVP3hhmcQBXjRvoI2zonjef7bzV8JKK7NklpuexaaawHcbYjd1/CqeSX8F/VqNLmJw4gqUUt9tjBiKfC7hXeg3HgFgF9Ott2T9iNLSvimn6h80Zv+KhqwQVvF6qBYCrOMYSpzO40F04ArGhO5fVu/SOoiXnB79W1Sc9VOY=
Received: by 10.54.21.22 with SMTP id 22mr4275052wru;
        Sun, 29 May 2005 03:32:41 -0700 (PDT)
Received: from ?192.168.0.3? ([24.6.189.152])
        by mx.gmail.com with ESMTP id 15sm2103631wrl.2005.05.29.03.32.40;
        Sun, 29 May 2005 03:32:41 -0700 (PDT)
Message-ID: <42999A27.9040303@gmail.com>
Date: Sun, 29 May 2005 03:32:07 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: SourceForge.net Lucene based search announcement
References: <78BB27F2-5742-476D-9970-0CDBC0121173@vasoftware.com> <4296DEE2.5080405@gmail.com> <BF083C38-5820-4BD2-A838-2F90B25CE6E4@vasoftware.com>
In-Reply-To: <BF083C38-5820-4BD2-A838-2F90B25CE6E4@vasoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Chris Conrad, thanks for your reply.

I guess it'll be very interesting for us to hear the story of how 
sourceforge built the search by lucene.
Like what's the structure, how the indexes are synchronized/updated, and 
how it can perform under your current load.
Any tips will also be very interesting.

Chris Lu

Chris Conrad wrote:

> Hello,
>
> The "results by YAHOO! search" is a marketing thing that we have no  
> real control over.  I promise that the actual project search engine  
> is using Lucene.
>
> As for defaulting to OR, it was decided that the new search should  
> function as similarly as possible to the old search system by  
> default.  The new search engine, however, will happily handle boolean  
> queries in the search box, so feel free to search for "lucene and  
> java".  We're working on a comprehensive search guide which will  
> explain the features in more details but some of the new things you  
> can do include phrase searches and prefix searches.
>
> And I have to admit, we haven't stomped out all of the bugs yet.  If  
> you do find something that seems genuinely broken, please submit a  
> support request.
>
> --Chris Conrad
> SourceForge.net Engineer
>
> On May 27, 2005, at 1:48 AM, Chris Lu wrote:
>
>> Hi,
>>
>> I found Sourceforge's search is still "results by YAHOO! search".  
>> What does that mean?
>> And currently, seems the search condition for the keywords is still  
>> OR, not AND.
>> This makes search for "lucene java" returns a long list, yet  without 
>> the one I wanted in the first several rows.
>>
>> Chris Lu
>>
>> Chris Conrad wrote:
>>
>>
>>> Hello,
>>>
>>> I just wanted to let everyone know that we've officially  announced  
>>> that the new SourceForge.net search system is based on  Lucene.  
>>> It's  been in operation for over a month now and we're  very happy 
>>> with it.   I'd also like to personally thank Erik  Hatcher for 
>>> helping me out  during development.
>>>
>>> You can find Lucene listed in the Site Software section of our   
>>> support guide here: http://sourceforge.net/docman/display_doc.php?  
>>> docid=11230&group_id=1#site_software
>>>
>>> Thanks,
>>> Chris Conrad
>>> SourceForge.net Engineer
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 29 11:06:52 2005
Return-Path: <java-user-return-14634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4171 invoked from network); 29 May 2005 11:06:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2005 11:06:52 -0000
Received: (qmail 16037 invoked by uid 500); 29 May 2005 11:06:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16010 invoked by uid 500); 29 May 2005 11:06:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15993 invoked by uid 99); 29 May 2005 11:06:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpq1.home.nl (HELO smtpq1.home.nl) (213.51.128.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 04:06:46 -0700
Received: from [213.51.128.135] (port=50238 helo=smtp4.home.nl)
	by smtpq1.home.nl with esmtp (Exim 4.30)
	id 1DcLcx-0007qs-CA
	for java-user@lucene.apache.org; Sun, 29 May 2005 13:06:43 +0200
Received: from cc540376-a.assen1.dr.home.nl ([82.74.36.156]:60241 helo=thuis)
	by smtp4.home.nl with smtp (Exim 4.30)
	id 1DcLcu-0002ON-U7
	for java-user@lucene.apache.org; Sun, 29 May 2005 13:06:40 +0200
Received: from thuis ([127.0.0.1])
	by [127.0.0.1] with SMTP (SpamPal v1.704)
	sender <mdissel@home.nl>; 29 May 2005 13:06:53 +0200
Message-ID: <000601c5643e$8563d730$6600a8c0@thuis>
From: "Marco Dissel" <mdissel@home.nl>
To: <java-user@lucene.apache.org>
References: <20050513070551.OKLP9012.mail8-sh.home.nl@mx7.home.nl>
Subject: Re: finding potential duplicate documents
Date: Sun, 29 May 2005 13:06:53 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0003_01C5644F.48CDAD80"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.1830
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
X-AtHome-MailScanner-Information: Neem contact op met support@home.nl voor meer informatie
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0003_01C5644F.48CDAD80
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Any tips on this issue?

Thanks

Marco
  ----- Original Message -----=20
  From: Marco Dissel=20
  To: java-user@lucene.apache.org=20
  Sent: Friday, May 13, 2005 9:05 AM
  Subject: finding potential duplicate documents


  Hello

  I've got many documents that are potentially duplicate (merging =
several external systems). Any tips how to find documents that are =
potentially duplicate (using a variable ranking like >0.5 match)..=20

  I can use the similarity (MoreLikeThis) method from Sandbox, but =
that's always comparing one document with the index. Is there a way to =
give back all the potential duplicate documents in the index without =
interating every document in the index and compare it with the other =
documents in the index.

  Thanks
  Marco


  ---------------------------------------------------------------------
  To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
  For additional commands, e-mail: java-user-help@lucene.apache.org

------=_NextPart_000_0003_01C5644F.48CDAD80--


From java-user-return-14635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 29 12:30:27 2005
Return-Path: <java-user-return-14635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14185 invoked from network); 29 May 2005 12:30:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2005 12:30:27 -0000
Received: (qmail 10525 invoked by uid 500); 29 May 2005 12:30:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10326 invoked by uid 500); 29 May 2005 12:30:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10305 invoked by uid 99); 29 May 2005 12:30:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.alagad.com (HELO alagad.com) (69.45.152.8)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 05:30:20 -0700
Received: from doug ([67.22.212.241]) by alagad.com with MailEnable ESMTP; Sun, 29 May 2005 08:32:20 -0400
From: "Doug Hughes" <dhughes@alagad.com>
To: <java-user@lucene.apache.org>
Subject: Indexing multiple keywords in one field?
Date: Sun, 29 May 2005 08:29:20 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0064_01C56428.83216340"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVkSgnHeQF7fGn+T+OXez3mFytHUg==
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0064_01C56428.83216340
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
 
I'm working on a pretty typical web page search system based on lucene.
Pretty much everything works great.  However, I'm having one problem.  I
want to have a feature in this system where I can find all pages which link
to another page.  So, for instance, I might search for all the pages linked
to http://www.foobar.com/index.html.  The search term does not need to be
fuzzy in any way.  http://www.foobar.com would not match
http://www.foobar.com/.  The thing is that any for any given document I
could have any number of associated links.
 
I think that each page's links could be treated as an array of keywords.
However, I don't know the best practice for indexing this data or how to
find matches for specific links.  
 
I tried creating a LinebreakAnalyzer which (I think) tokenized phrases based
on CRs and LFs. I converted the array of links to a list of links delimited
by LFs.  When indexing I used the PerFieldAnalyzerWrapper and set the links
field to use the LinebreakAnalyzer.  My understanding is that the lucene
index should now have each of the links indexed as separate terms or
keywords (sorry if my vocabulary is wrong!)
 
Now, all that seems to work fine.  However, when I search I build I query
using this code:
 
QueryParser.parse(link, "links", new LinebreakAnalyzer())
 
The link is the link I'm searching for, "links" is the field I'm searching.
I'm using the same analyzer I used to index the links.  The problem is I
don't get any matches at all when I execute the search.
 
Does anyone know of any better techniques for this?  Or does anyone see
anything I'm doing wrong?
 
Thanks in advance for the help.
 
Doug Hughes
dhughes@alagad.com

------=_NextPart_000_0064_01C56428.83216340--



From java-user-return-14636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 29 23:01:05 2005
Return-Path: <java-user-return-14636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28407 invoked from network); 29 May 2005 23:01:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2005 23:01:05 -0000
Received: (qmail 44654 invoked by uid 500); 29 May 2005 23:00:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44613 invoked by uid 500); 29 May 2005 23:00:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44597 invoked by uid 99); 29 May 2005 23:00:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop03.mail.atl.earthlink.net (HELO pop03.mail.atl.earthlink.net) (207.69.200.48)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 16:00:54 -0700
Received: from wamui-blood.atl.sa.earthlink.net ([209.86.224.28])
	by pop03.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DcWm4-0007l4-00
	for java-user@lucene.apache.org; Sun, 29 May 2005 19:00:52 -0400
Message-ID: <9392937.1117407652629.JavaMail.root@wamui-blood.atl.sa.earthlink.net>
Date: Sun, 29 May 2005 19:00:52 -0400 (EDT)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Re: Ability to load a document with ONLY a few fields for
 performance?
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The numbers look impressive.  If I build from the 1.9 trunck will I get the patch?

Andrew

-----Original Message-----
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Sent: May 28, 2005 9:05 AM
To: java-user@lucene.apache.org
Subject: Re: Ability to load a document with ONLY a few fields for performance?

Kevin,

It would be faster, and actually there was a patch somebody submitted
... look at this: http://www.jguru.com/forums/view.jsp?EID=1232770

It even includes performance improvement numbers :)

Otis


--- Kevin Burton <burton@rojo.com> wrote:
> I have a Document with about 15 fields.  I only need two of them.
> 
> How much faster would lucene be if I only fetched the two fields? 
> Each 
> field is a separate file and this would almost certainly slow down
> just 
> the basic IO.
> 
> I think I looked at this a long time ago and there was no high level
> API 
> for doing this and that I'd have to dive into SegmentReader stuff.
> 
> Any idea?
> 
> -- 
> 
> 
> Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
> See irc.freenode.net #rojo if you want to chat.
> 
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
> 
>    Kevin A. Burton, Location - San Francisco, CA
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 29 23:39:09 2005
Return-Path: <java-user-return-14637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31295 invoked from network); 29 May 2005 23:39:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2005 23:39:09 -0000
Received: (qmail 79691 invoked by uid 500); 29 May 2005 23:39:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78760 invoked by uid 500); 29 May 2005 23:39:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78742 invoked by uid 99); 29 May 2005 23:39:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ehatchersolutions.com (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 16:39:04 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 60EEC13E2007; Sun, 29 May 2005 19:39:00 -0400 (EDT)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 34A2013E2005
	for <java-user@lucene.apache.org>; Sun, 29 May 2005 19:38:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <20050529123026.4E2CF13E2006@ehatchersolutions.com>
References: <20050529123026.4E2CF13E2006@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <98EC7E42-02A8-4C5C-9A61-54419DD44476@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing multiple keywords in one field?
Date: Sun, 29 May 2005 19:38:32 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 29, 2005, at 8:29 AM, Doug Hughes wrote:

> Hi,
>
> I'm working on a pretty typical web page search system based on  
> lucene.
> Pretty much everything works great.  However, I'm having one  
> problem.  I
> want to have a feature in this system where I can find all pages  
> which link
> to another page.  So, for instance, I might search for all the  
> pages linked
> to http://www.foobar.com/index.html.  The search term does not need  
> to be
> fuzzy in any way.  http://www.foobar.com would not match
> http://www.foobar.com/.  The thing is that any for any given  
> document I
> could have any number of associated links.
>
> I think that each page's links could be treated as an array of  
> keywords.
> However, I don't know the best practice for indexing this data or  
> how to
> find matches for specific links.

One possibility is to extract the links (XPath could do this with a  
"//a" pattern) during a parsing phase, not during an analyzer.  Build  
a list of links and index each one as a separate Field.Keyword()  
field for a single document.

> I tried creating a LinebreakAnalyzer which (I think) tokenized  
> phrases based
> on CRs and LFs. I converted the array of links to a list of links  
> delimited
> by LFs.  When indexing I used the PerFieldAnalyzerWrapper and set  
> the links
> field to use the LinebreakAnalyzer.  My understanding is that the  
> lucene
> index should now have each of the links indexed as separate terms or
> keywords (sorry if my vocabulary is wrong!)

Links are broken per line?  For general HTML parsing you certainly  
cannot assume that, but maybe in your documents you can?  I'd be  
surprised at that though.

> Now, all that seems to work fine.  However, when I search I build I  
> query
> using this code:
>
> QueryParser.parse(link, "links", new LinebreakAnalyzer())
>
> The link is the link I'm searching for, "links" is the field I'm  
> searching.
> I'm using the same analyzer I used to index the links.  The problem  
> is I
> don't get any matches at all when I execute the search.
>
> Does anyone know of any better techniques for this?  Or does anyone  
> see
> anything I'm doing wrong

The first thing to do is ensure what you think was indexed really  
was.  I highly recommend you get Luke - http://www.getopt.org/luke/ -  
and explore the index you've built and see what terms were indexed in  
your links field.  Then experiment using the TermQuery API for the  
_exact_ terms indexed.  Only then move up to QueryParser if you need  
that kind of thing, using Query.toString() to dump the generated  
query instance and see what it is made of.  QueryParser introduces a  
level of complexity that can be confusing because there is query  
expression operators, parsing, and analysis all mixed together - and  
some characters in a URL within a QueryParser expression will need to  
escaped to be interpreted properly (like the ":" in "http://").

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 00:27:53 2005
Return-Path: <java-user-return-14638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45612 invoked from network); 30 May 2005 00:27:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 00:27:53 -0000
Received: (qmail 25747 invoked by uid 500); 30 May 2005 00:27:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25714 invoked by uid 500); 30 May 2005 00:27:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25699 invoked by uid 99); 30 May 2005 00:27:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.alagad.com (HELO alagad.com) (69.45.152.8)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 17:27:45 -0700
Received: from doug ([67.22.212.241]) by alagad.com with MailEnable ESMTP; Sun, 29 May 2005 20:29:49 -0400
From: "Doug Hughes" <dhughes@alagad.com>
To: <java-user@lucene.apache.org>
Subject: RE: Indexing multiple keywords in one field?
Date: Sun, 29 May 2005 20:26:46 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <98EC7E42-02A8-4C5C-9A61-54419DD44476@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVkp+q1E869XJyJS6yQJxjMd2ddCwABOADw
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eric,

Thanks for your reply.  I guess I didn't describe the problem very well.  I
had already parsed the html and extracted links.  I had the links easily
available in an arraylist.  I wanted to place the data from that array
(which happened to be links) into the index so that I could match documents
according to where they link.  

However, that's rather irrelevant.  I took the day off today which allowed
my mind to think about this a bit. And, as a result, I realized had had my
logic in my LinebreakAnalyzer backwards.  Rather than tokenizing the string
based on line breaks, I was tokenizing it on everything EXCEPT line
breaks... Which explains why nothing matched.  Oops.  

So, it works now.  This might be somewhat presumptuous of me, but it might
be useful for Lucene to include a DelimitedTextAnalyzer and Tokenizer.  The
constructor for them might accept an array of characters which could be used
as delimiters between terms which should be indexed into a particular field.
I've all but written this, if anyone's interested.

Doug

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Sunday, May 29, 2005 7:39 PM
To: java-user@lucene.apache.org
Subject: Re: Indexing multiple keywords in one field?


On May 29, 2005, at 8:29 AM, Doug Hughes wrote:

> Hi,
>
> I'm working on a pretty typical web page search system based on 
> lucene.
> Pretty much everything works great.  However, I'm having one problem.  
> I want to have a feature in this system where I can find all pages 
> which link to another page.  So, for instance, I might search for all 
> the pages linked to http://www.foobar.com/index.html.  The search term 
> does not need to be fuzzy in any way.  http://www.foobar.com would not 
> match http://www.foobar.com/.  The thing is that any for any given 
> document I could have any number of associated links.
>
> I think that each page's links could be treated as an array of 
> keywords.
> However, I don't know the best practice for indexing this data or how 
> to find matches for specific links.

One possibility is to extract the links (XPath could do this with a "//a"
pattern) during a parsing phase, not during an analyzer.  Build a list of
links and index each one as a separate Field.Keyword() field for a single
document.

> I tried creating a LinebreakAnalyzer which (I think) tokenized phrases 
> based on CRs and LFs. I converted the array of links to a list of 
> links delimited by LFs.  When indexing I used the 
> PerFieldAnalyzerWrapper and set the links field to use the 
> LinebreakAnalyzer.  My understanding is that the lucene index should 
> now have each of the links indexed as separate terms or keywords 
> (sorry if my vocabulary is wrong!)

Links are broken per line?  For general HTML parsing you certainly cannot
assume that, but maybe in your documents you can?  I'd be surprised at that
though.

> Now, all that seems to work fine.  However, when I search I build I 
> query using this code:
>
> QueryParser.parse(link, "links", new LinebreakAnalyzer())
>
> The link is the link I'm searching for, "links" is the field I'm 
> searching.
> I'm using the same analyzer I used to index the links.  The problem is 
> I don't get any matches at all when I execute the search.
>
> Does anyone know of any better techniques for this?  Or does anyone 
> see anything I'm doing wrong

The first thing to do is ensure what you think was indexed really was.  I
highly recommend you get Luke - http://www.getopt.org/luke/ - and explore
the index you've built and see what terms were indexed in your links field.
Then experiment using the TermQuery API for the _exact_ terms indexed.  Only
then move up to QueryParser if you need that kind of thing, using
Query.toString() to dump the generated query instance and see what it is
made of.  QueryParser introduces a level of complexity that can be confusing
because there is query expression operators, parsing, and analysis all mixed
together - and some characters in a URL within a QueryParser expression will
need to escaped to be interpreted properly (like the ":" in "http://").

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 00:28:54 2005
Return-Path: <java-user-return-14639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45800 invoked from network); 30 May 2005 00:28:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 00:28:53 -0000
Received: (qmail 27604 invoked by uid 500); 30 May 2005 00:28:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27577 invoked by uid 500); 30 May 2005 00:28:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27563 invoked by uid 99); 30 May 2005 00:28:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.alagad.com (HELO alagad.com) (69.45.152.8)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 17:28:48 -0700
Received: from doug ([67.22.212.241]) by alagad.com with MailEnable ESMTP; Sun, 29 May 2005 20:30:53 -0400
From: "Doug Hughes" <dhughes@alagad.com>
To: <java-user@lucene.apache.org>
Subject: RE: Indexing multiple keywords in one field?
Date: Sun, 29 May 2005 20:27:50 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <98EC7E42-02A8-4C5C-9A61-54419DD44476@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVkp+q1E869XJyJS6yQJxjMd2ddCwABnEZw
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oh, and thanks for the suggestion to use Luke.

Doug 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Sunday, May 29, 2005 7:39 PM
To: java-user@lucene.apache.org
Subject: Re: Indexing multiple keywords in one field?


On May 29, 2005, at 8:29 AM, Doug Hughes wrote:

> Hi,
>
> I'm working on a pretty typical web page search system based on 
> lucene.
> Pretty much everything works great.  However, I'm having one problem.  
> I want to have a feature in this system where I can find all pages 
> which link to another page.  So, for instance, I might search for all 
> the pages linked to http://www.foobar.com/index.html.  The search term 
> does not need to be fuzzy in any way.  http://www.foobar.com would not 
> match http://www.foobar.com/.  The thing is that any for any given 
> document I could have any number of associated links.
>
> I think that each page's links could be treated as an array of 
> keywords.
> However, I don't know the best practice for indexing this data or how 
> to find matches for specific links.

One possibility is to extract the links (XPath could do this with a "//a"
pattern) during a parsing phase, not during an analyzer.  Build a list of
links and index each one as a separate Field.Keyword() field for a single
document.

> I tried creating a LinebreakAnalyzer which (I think) tokenized phrases 
> based on CRs and LFs. I converted the array of links to a list of 
> links delimited by LFs.  When indexing I used the 
> PerFieldAnalyzerWrapper and set the links field to use the 
> LinebreakAnalyzer.  My understanding is that the lucene index should 
> now have each of the links indexed as separate terms or keywords 
> (sorry if my vocabulary is wrong!)

Links are broken per line?  For general HTML parsing you certainly cannot
assume that, but maybe in your documents you can?  I'd be surprised at that
though.

> Now, all that seems to work fine.  However, when I search I build I 
> query using this code:
>
> QueryParser.parse(link, "links", new LinebreakAnalyzer())
>
> The link is the link I'm searching for, "links" is the field I'm 
> searching.
> I'm using the same analyzer I used to index the links.  The problem is 
> I don't get any matches at all when I execute the search.
>
> Does anyone know of any better techniques for this?  Or does anyone 
> see anything I'm doing wrong

The first thing to do is ensure what you think was indexed really was.  I
highly recommend you get Luke - http://www.getopt.org/luke/ - and explore
the index you've built and see what terms were indexed in your links field.
Then experiment using the TermQuery API for the _exact_ terms indexed.  Only
then move up to QueryParser if you need that kind of thing, using
Query.toString() to dump the generated query instance and see what it is
made of.  QueryParser introduces a level of complexity that can be confusing
because there is query expression operators, parsing, and analysis all mixed
together - and some characters in a URL within a QueryParser expression will
need to escaped to be interpreted properly (like the ":" in "http://").

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 00:39:58 2005
Return-Path: <java-user-return-14640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46946 invoked from network); 30 May 2005 00:39:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 00:39:58 -0000
Received: (qmail 41306 invoked by uid 500); 30 May 2005 00:39:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41210 invoked by uid 500); 30 May 2005 00:39:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41194 invoked by uid 99); 30 May 2005 00:39:50 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 29 May 2005 17:39:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8DB9F5B810; Sun, 29 May 2005 17:39:02 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8ACB37F45C
	for <java-user@lucene.apache.org>; Sun, 29 May 2005 17:39:02 -0700 (PDT)
Date: Sun, 29 May 2005 17:39:02 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Indexing multiple keywords in one field?
In-Reply-To: <20050530002751.0EE1B30400E@radix.cryptio.net>
Message-ID: <Pine.LNX.4.58.0505291735210.25913@hal.rescomp.berkeley.edu>
References: <20050530002751.0EE1B30400E@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: So, it works now.  This might be somewhat presumptuous of me, but it might
: be useful for Lucene to include a DelimitedTextAnalyzer and Tokenizer.  The
: constructor for them might accept an array of characters which could be used
: as delimiters between terms which should be indexed into a particular field.
: I've all but written this, if anyone's interested.

in general, if you've got data in an easily delimited format, it probably
makes more sense to parse the data youreslf (as you said, you already had
an array of URLs) and skip analysis altogether -- just add the individual
items as Field.Keywords (or otherwise un-tokenized Fields)

analysis is primarily usefull when you need to find terms in free text.
if your data is already structured, take advantage of the structure.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 07:47:03 2005
Return-Path: <java-user-return-14641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4059 invoked from network); 30 May 2005 07:47:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 07:47:03 -0000
Received: (qmail 61491 invoked by uid 500); 30 May 2005 07:46:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61458 invoked by uid 500); 30 May 2005 07:46:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61442 invoked by uid 99); 30 May 2005 07:46:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of markus.wiederkehr@gmail.com designates 64.233.184.203 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 00:46:53 -0700
Received: by wproxy.gmail.com with SMTP id 50so1496134wri
        for <java-user@lucene.apache.org>; Mon, 30 May 2005 00:46:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=eBfumQ5WUHK+ozVFbJvedCKKpjija/dprMJrXBOIfV+xgvuSDBUqlH1IwO07QztAO6FtdZA9D/laJxbLeYn8aGeJl3lfN3ZPy5eIWkA9yjAmZasl2tZu8Fof8BWL41fI3mE8I+BpBlWk9zhRIDIYPrxWqCnXj1YJ6HUZQreXuOs=
Received: by 10.54.145.15 with SMTP id s15mr2184310wrd;
        Mon, 30 May 2005 00:46:37 -0700 (PDT)
Received: by 10.54.51.73 with HTTP; Mon, 30 May 2005 00:46:37 -0700 (PDT)
Message-ID: <a9257396050530004654572e86@mail.gmail.com>
Date: Mon, 30 May 2005 09:46:37 +0200
From: Markus Wiederkehr <markus.wiederkehr@gmail.com>
Reply-To: Markus Wiederkehr <markus.wiederkehr@gmail.com>
To: Lucene users <java-user@lucene.apache.org>
Subject: ACLs and Lucene
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am working on a Document Management System where every document has
an Access Control List attached to it. Obviously a search result
should only consist of documents that may be viewed by the currently
logged in user.

I can think of three strategies to accomplish this goal:

1) using Filter and FilteredQuery
2) filtering the search result
3) somehow storing the ACL elements as Lucene fields

But each approach has serious drawbacks.

The first one degrades rapidly as the number of documents increases.
Think of determining the viewability of 10,000 documents where you
need several SQL queries per document.

The second approach also degrades badly when a user has access to a
very small subset of all documents. There could be thousands of false
hits before the first viewable document is reached.

The third approach looks most promising to me but would require to
update Lucene documents whenever an ACL changes. Unfortunately it is
not possible to update Lucene documents without losing fields that are
indexed but not stored, right?

So my question is: is there another approach or a "standard solution"
I did not think of? Or how did others solve this problem?

Thanks in advance,

Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 08:40:57 2005
Return-Path: <java-user-return-14642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22791 invoked from network); 30 May 2005 08:40:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 08:40:57 -0000
Received: (qmail 61733 invoked by uid 500); 30 May 2005 08:40:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61678 invoked by uid 500); 30 May 2005 08:40:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61653 invoked by uid 99); 30 May 2005 08:40:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from panacea.is.nl (HELO panacea.is.nl) (213.133.34.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 01:40:47 -0700
Received: from hai01.hippo.local ([213.133.51.241]) by panacea.is.nl with Microsoft SMTPSVC(5.0.2195.4905);
	 Mon, 30 May 2005 10:39:28 +0200
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: RE: ACLs and Lucene
Date: Mon, 30 May 2005 10:40:28 +0200
Message-ID: <A955EA1F8FE31749AEC8C998082F6C7C41A7A4@hai01.hippo.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ACLs and Lucene
Thread-Index: AcVk68K/rbFtSTbOQbCiKit8TfMO3gAAvmpA
From: "Max Pfingsthorn" <m.pfingsthorn@hippo.nl>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 May 2005 08:39:28.0145 (UTC) FILETIME=[1758C010:01C564F3]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I've got exactly the same problem. Maybe it is possible to extend the =
previously discussed patch to fragment the fields of one document into =
separate files to actually allow updating only one fragment? Then, =
updating frequently changing fields (like ACLs or other meta data, maybe =
even a PageRank value for Nutch?), would be cheaper. This would also =
allow to easily 'render' ACLs on the documents they influence while =
changing the ACLs. After all, you don't change ACLs as often as you =
access documents. I guess this would be hard, as the lexicon is stored =
elsewhere... Any ideas?
It would of course be even better to properly separate these in =
different indices and be able to map document id's across them. Updating =
would be rather simple, and retrieval may be done in parallel. Maybe a =
custom RelationalMultiSearcher would be in order?

I've also thought about combining document and field based fragmentation =
strategies. Since we need subsecond search and update performance of a =
multi-million document index in the near future, this seems the way to =
go. Hardware would not really be an issue here, but of course we want to =
be efficient, especially in a multi-processor environment. Have there =
been any thoughts about this?

Best regards,

Max Pfingsthorn

Hippo =20

Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
m.pfingsthorn@hippo.nl / www.hippo.nl
--------------------------------------------------------------



-----Original Message-----
From: Markus Wiederkehr [mailto:markus.wiederkehr@gmail.com]
Sent: Monday, May 30, 2005 09:47
To: Lucene users
Subject: ACLs and Lucene


I am working on a Document Management System where every document has
an Access Control List attached to it. Obviously a search result
should only consist of documents that may be viewed by the currently
logged in user.

I can think of three strategies to accomplish this goal:

1) using Filter and FilteredQuery
2) filtering the search result
3) somehow storing the ACL elements as Lucene fields

But each approach has serious drawbacks.

The first one degrades rapidly as the number of documents increases.
Think of determining the viewability of 10,000 documents where you
need several SQL queries per document.

The second approach also degrades badly when a user has access to a
very small subset of all documents. There could be thousands of false
hits before the first viewable document is reached.

The third approach looks most promising to me but would require to
update Lucene documents whenever an ACL changes. Unfortunately it is
not possible to update Lucene documents without losing fields that are
indexed but not stored, right?

So my question is: is there another approach or a "standard solution"
I did not think of? Or how did others solve this problem?

Thanks in advance,

Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 15:08:03 2005
Return-Path: <java-user-return-14643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11399 invoked from network); 30 May 2005 15:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 15:08:03 -0000
Received: (qmail 40277 invoked by uid 500); 30 May 2005 15:07:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40248 invoked by uid 500); 30 May 2005 15:07:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40198 invoked by uid 99); 30 May 2005 15:07:54 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop05.mail.atl.earthlink.net (HELO pop05.mail.atl.earthlink.net) (207.69.200.58)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 08:07:50 -0700
Received: from wamui-andean.atl.sa.earthlink.net ([209.86.224.24])
	by pop05.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1Dclrd-0001S7-00
	for java-user@lucene.apache.org; Mon, 30 May 2005 11:07:37 -0400
Message-ID: <26330038.1117465657707.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Date: Mon, 30 May 2005 11:07:37 -0400 (EDT)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Clustering Carrot2 vs TermVector Analysis
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
  By using the carrot demo:
http://www.newsarch.com/archive/mailinglist/jakarta/lucene/user/msg03928.html

 I was able to easliy cluster search results based on the fields used by carrot( url, title, and summary).  
However I was wondering if there was a way to do something similar using term vector analysis and the built in TermVector / Similarity api.

Please bear with me as I'm just learning about term vector analysis mostly from:
http://www.miislita.com/term-vector/term-vector-1.html

Where it discusses wi = tfi * IDFi

I've ordered the book Information Retrieval: Algorithms and Heuristics but it has not shown up yet.

Any way here is my question:

After doing a typical lucene search how can I get the  top 5 "key terms" for each of the top ten documents.  I was thinking that I sum these and then have a type of cluster.

When we do a search we have the query vector that we use to get the similarity used for ranking. So when we do a query the query terms are the "key terms".  If we dont have a query vector is there a way to get the "key terms" from a document?  Of course there if tf but every thing I'm reading says that tf is not ideal.  So I guess my question boils down to 

     how using the lucene api can I get the top 5 wi= tfi * IDFi of a given document.

If you have any suggestions or if I'm off base I'd really appreciate the help.

Thanks,

Andrew

 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 15:26:37 2005
Return-Path: <java-user-return-14644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17662 invoked from network); 30 May 2005 15:26:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 15:26:36 -0000
Received: (qmail 81670 invoked by uid 500); 30 May 2005 15:26:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81624 invoked by uid 500); 30 May 2005 15:26:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81605 invoked by uid 99); 30 May 2005 15:26:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mailspool.conxion.net (HELO mailspool.conxion.net) (206.204.4.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 08:26:27 -0700
Received: from iss05.interliant.com (iss05.interliant.com [207.113.241.150])
	by mailspool.conxion.net (8.12.10+Sun/8.12.10) with ESMTP id j4UFQNiv028495
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 08:26:23 -0700 (PDT)
Received: from EX-008.mail.navisite.com (ex-008.interliant.com [207.113.240.188])
	by iss05.interliant.com (8.10.2/8.10.2) with ESMTP id j4UFROt14607
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 10:27:24 -0500 (CDT)
Received: from EX-101.mail.navisite.com ([172.16.1.24]) by EX-008.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 30 May 2005 10:26:18 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: ACLs and Lucene
Date: Mon, 30 May 2005 10:26:19 -0500
Message-ID: <E1F190DAC247C64FAA46B38316FA151D013FC458@EX-101.mail.navisite.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ACLs and Lucene
Thread-Index: AcVk68RaBkGHkWAISZW9Z7KjqZi5/gAPkdxQ
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 May 2005 15:26:18.0734 (UTC) FILETIME=[ED3108E0:01C5652B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Markus,

> I am working on a Document Management System where every=20
> document has an Access Control List attached to it. Obviously=20
> a search result should only consist of documents that may be=20
> viewed by the currently logged in user.
>=20
> I can think of three strategies to accomplish this goal:
>=20
> 1) using Filter and FilteredQuery
> 2) filtering the search result
> 3) somehow storing the ACL elements as Lucene fields
>=20
> But each approach has serious drawbacks.
>=20
> The first one degrades rapidly as the number of documents increases.
> Think of determining the viewability of 10,000 documents=20
> where you need several SQL queries per document.
>=20
> The second approach also degrades badly when a user has=20
> access to a very small subset of all documents. There could=20
> be thousands of false hits before the first viewable document=20
> is reached.
>=20
> The third approach looks most promising to me but would=20
> require to update Lucene documents whenever an ACL changes.=20
> Unfortunately it is not possible to update Lucene documents=20
> without losing fields that are indexed but not stored, right?
>=20
> So my question is: is there another approach or a "standard solution"
> I did not think of? Or how did others solve this problem?

We took a combination of the first and the second approach in our =
applications. We filter by content area that the user is allowed to view =
 and then filter the search results that are retrieved. It's actually =
very fast for us because we don't have to load the document to check the =
permissions - just query an API which caches all the permissions. SQL is =
only required for loading the documents that are visible for any given =
result page (assumming that the document isn't already loaded into =
cache).

The third approach was deemed unusable for the exact reason you =
outlined.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 15:32:27 2005
Return-Path: <java-user-return-14645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20350 invoked from network); 30 May 2005 15:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 15:32:27 -0000
Received: (qmail 90633 invoked by uid 500); 30 May 2005 15:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90608 invoked by uid 500); 30 May 2005 15:32:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90587 invoked by uid 99); 30 May 2005 15:32:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pb-exchcon2.scansoft.com (HELO pb-exchcon2.scansoft.com) (198.71.67.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 08:32:20 -0700
Received: by pb-exchcon2.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <LBSJJ0R2>; Mon, 30 May 2005 11:32:14 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: RE: ACLs and Lucene
Date: Mon, 30 May 2005 11:32:13 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What about:
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/luce
ne/index/ParallelReader.java?rev=169859&view=markup

Jp
-----Original Message-----
From: Bruce Ritchie [mailto:bruce@jivesoftware.com] 
Sent: Monday, May 30, 2005 11:26 AM
To: java-user@lucene.apache.org
Subject: RE: ACLs and Lucene

Markus,

> I am working on a Document Management System where every 
> document has an Access Control List attached to it. Obviously 
> a search result should only consist of documents that may be 
> viewed by the currently logged in user.
> 
> I can think of three strategies to accomplish this goal:
> 
> 1) using Filter and FilteredQuery
> 2) filtering the search result
> 3) somehow storing the ACL elements as Lucene fields
> 
> But each approach has serious drawbacks.
> 
> The first one degrades rapidly as the number of documents increases.
> Think of determining the viewability of 10,000 documents 
> where you need several SQL queries per document.
> 
> The second approach also degrades badly when a user has 
> access to a very small subset of all documents. There could 
> be thousands of false hits before the first viewable document 
> is reached.
> 
> The third approach looks most promising to me but would 
> require to update Lucene documents whenever an ACL changes. 
> Unfortunately it is not possible to update Lucene documents 
> without losing fields that are indexed but not stored, right?
> 
> So my question is: is there another approach or a "standard solution"
> I did not think of? Or how did others solve this problem?

We took a combination of the first and the second approach in our
applications. We filter by content area that the user is allowed to view
and then filter the search results that are retrieved. It's actually very
fast for us because we don't have to load the document to check the
permissions - just query an API which caches all the permissions. SQL is
only required for loading the documents that are visible for any given
result page (assumming that the document isn't already loaded into cache).

The third approach was deemed unusable for the exact reason you outlined.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 16:22:23 2005
Return-Path: <java-user-return-14646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43832 invoked from network); 30 May 2005 16:22:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 16:22:23 -0000
Received: (qmail 86002 invoked by uid 500); 30 May 2005 16:22:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85975 invoked by uid 500); 30 May 2005 16:22:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85961 invoked by uid 99); 30 May 2005 16:22:17 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of markus.wiederkehr@gmail.com designates 64.233.184.197 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 09:22:15 -0700
Received: by wproxy.gmail.com with SMTP id 50so1595764wri
        for <java-user@lucene.apache.org>; Mon, 30 May 2005 09:22:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=S0k4IS1X9mNBzdfnuLqN1EMCaKnQnANVY/Id+lzLVmdYFjZWiVPlQuvXQjHOiLnzYLOTEKepQDLW1ez23qQFIHSqauRBnLZcaM2bzwGxL9HOvgLoeVYAa2YX03MkTXdOdH8EkXLoJ2EhA1THBNO9FwkeHA0UDgO+W8Ku/4qoR1E=
Received: by 10.54.40.38 with SMTP id n38mr2685446wrn;
        Mon, 30 May 2005 09:22:12 -0700 (PDT)
Received: by 10.54.51.73 with HTTP; Mon, 30 May 2005 09:22:12 -0700 (PDT)
Message-ID: <a92573960505300922767b4801@mail.gmail.com>
Date: Mon, 30 May 2005 18:22:12 +0200
From: Markus Wiederkehr <markus.wiederkehr@gmail.com>
Reply-To: Markus Wiederkehr <markus.wiederkehr@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ACLs and Lucene
In-Reply-To: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/30/05, Robichaud, Jean-Philippe
<Jean-Philippe.Robichaud@scansoft.com> wrote:
> What about:
> http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/l=
uce
> ne/index/ParallelReader.java?rev=3D169859&view=3Dmarkup

Thank you, this seems to be exactly what I am looking for.

One thing I don't quiet understand is how to ensure that the document
numbers in the different indexes always correspond? AFAIK the only way
to update a Lucene document is to delete and re-add it, right? And
doing so is likely to change the document number. So when I update a
document in one index but not in the other(s) the link between them
gets lost. How do I prevent this?

Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 16:38:16 2005
Return-Path: <java-user-return-14647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62326 invoked from network); 30 May 2005 16:38:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 16:38:16 -0000
Received: (qmail 11426 invoked by uid 500); 30 May 2005 16:38:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11406 invoked by uid 500); 30 May 2005 16:38:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11392 invoked by uid 99); 30 May 2005 16:38:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.fastgt.com (HELO sol.fastgt.com) (65.103.179.233)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 09:38:08 -0700
Received: from mail.skow.org (12-216-64-83.client.mchsi.com [12.216.64.83])
	by sol.fastgt.com (8.12.11/8.12.8) with SMTP id j4UGc0wc010276
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 11:38:01 -0500
Received: from [192.168.1.5] (xarius [192.168.1.5])
	(authenticated bits=0)
	by mail.skow.org (8.12.11/8.12.11) with ESMTP id j4UGbswK027097
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 11:37:55 -0500
Message-ID: <429B4162.5030707@skow.org>
Date: Mon, 30 May 2005 11:37:54 -0500
From: Ryan Skow <ryan@skow.org>
User-Agent: Mozilla Thunderbird 1.0.2-1.3.3 (X11/20050513)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Adding to the termFreqVector
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


How would one go about adding additional terms to a field which is not 
stored literally, but instead has a termFreqVector?  For example:

If DocumentA was indexed originally with:
    myTermField: red green blue

termFreqVector would look like:
   freq {myTermField: red/1, green/1, blue/1}

Now, I'd like to add some more terms (red, yellow) and desire the 
termFreqVector to look like this:
   freq {myTermField: red/2, green/1, blue/1, yellow/1}

It would seem like there would be a covenant way of accomplishing this, 
but I must be missing something.

Any advice would be greatly appreciated!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 16:54:26 2005
Return-Path: <java-user-return-14648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84164 invoked from network); 30 May 2005 16:54:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 16:54:26 -0000
Received: (qmail 40359 invoked by uid 500); 30 May 2005 16:54:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40328 invoked by uid 500); 30 May 2005 16:54:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40168 invoked by uid 99); 30 May 2005 16:54:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop05.mail.atl.earthlink.net (HELO pop05.mail.atl.earthlink.net) (207.69.200.58)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 09:54:16 -0700
Received: from wamui-andean.atl.sa.earthlink.net ([209.86.224.24])
	by pop05.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DcnWm-00038F-00
	for java-user@lucene.apache.org; Mon, 30 May 2005 12:54:12 -0400
Message-ID: <7551521.1117472052379.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Date: Mon, 30 May 2005 12:54:12 -0400 (EDT)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Stemming at Query time
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
  Now that the QueryParser knows about position increments has anyone used this to do stemming at query time
and not at indexing time?  I suppose one would need a reverse stemmer.  Given the query breath it would need to inject breathe, breathes, breathing etc.

One benifit is that if you ever wanted to change your stemming algorithm you would not have to re-index.
Also your index would be closer to the actual documents.

Comments?

Andrew 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 18:03:01 2005
Return-Path: <java-user-return-14649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73365 invoked from network); 30 May 2005 18:03:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 18:03:01 -0000
Received: (qmail 60493 invoked by uid 500); 30 May 2005 18:02:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60366 invoked by uid 500); 30 May 2005 18:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60350 invoked by uid 99); 30 May 2005 18:02:53 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=FORGED_RCVD_HELO,HTML_10_20,HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from imf25aec.mail.bellsouth.net (HELO imf25aec.mail.bellsouth.net) (205.152.59.73)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 11:02:52 -0700
Received: from ibm69aec.bellsouth.net ([65.12.150.225])
          by imf25aec.mail.bellsouth.net with ESMTP
          id <20050530180249.VRGL22513.imf25aec.mail.bellsouth.net@ibm69aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Mon, 30 May 2005 14:02:49 -0400
Received: from w2ks.synernet.com ([65.12.150.225])
          by ibm69aec.bellsouth.net with ESMTP
          id <20050530180248.YPBS13045.ibm69aec.bellsouth.net@w2ks.synernet.com>
          for <java-user@lucene.apache.org>;
          Mon, 30 May 2005 14:02:48 -0400
Message-Id: <6.2.1.2.2.20050530134630.063ae978@fast.synernet.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2
Date: Mon, 30 May 2005 14:03:11 -0400
To: java-user@lucene.apache.org
From: Fred Toth <ftoth@synernet.com>
Subject: Preserving original HTML file offsets for highlighting, need
  HTMLTokenizer?
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_580677570==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=====================_580677570==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Hi all,

Those of you who have read and responded to my recent posts know
that we are working on highlighting the entire document after a search.
(Not fragments in a results list.)

It appears that one of the key tools to assist with this is the ability of
Lucene to store file offsets of terms as part of the TermVector 
(TermVectorOffsetInfo).
However, this is not simple to do when indexing HTML files.Here's why:

If you pass HTML to the StandardAnalyzer, you will get file offsets that are
exactly correct. However, the StandardAnalyzer doesn't know anything
about HTML, so you get tokens like "html", "head", "title", "body", etc.
This may or may not be what you want. In our case, it's not what we want.
If we search for "body", we don't want to get a hit on every single HTML file
in the index because we've indexed the <body> tag.

The traditional solution to this is to employ an HTML parser in the indexing
phase. Depending on the parser used (such as the demo parser supplied
with Lucene or NekoHTML or HTMLParser, etc.), you have methods to
obtain the text from the HTML, minus the tags. You hand this text stream to
Lucene and all is well.

Except for the offsets. The offsets are now relative to this new stream and
no longer match the original file.

I'm hoping others have confronted this issue and have some good ideas.

I'm thinking we need something like "HTMLTokenizer" which bridges the
gap between StandardAnalyzer and an external HTML parser. Since so
many of us are dealing with HTML, I would think this would be generally
useful for many problems. It could work this way:

Given this input:

<html><head><title>Howdy there</title></head><body>Hello world</body></html>

An HTMLTokenizer would deliver something like this sort of token stream
(the numbers represent the start/end offsets for the token):

TAG, <html>, 0, 6
TAG, <head>, 6, 12
TAG, <title>, 12, 18
WORD, Howdy, 18, 22
WORD, there, 23, 28
TAG, </title>, 28, 36
etc.

Given the above, a filter could then strip out the HTML, but pass the WORDs on
to Lucene, preserving the offsets in the source file. These would be used later
during highlighting. Clever filters could be selective about what gets 
stripped and
what gets passed on.

Has anyone else hit this problem (and hopefully solved it)? Any suggestions
appreciated, as always.

Thanks,

Fred Toth


--=====================_580677570==.ALT--


From java-user-return-14650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 18:08:03 2005
Return-Path: <java-user-return-14650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80344 invoked from network); 30 May 2005 18:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 18:08:03 -0000
Received: (qmail 69557 invoked by uid 500); 30 May 2005 18:07:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69507 invoked by uid 500); 30 May 2005 18:07:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69437 invoked by uid 99); 30 May 2005 18:07:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.alagad.com (HELO alagad.com) (69.45.152.8)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 11:07:52 -0700
Received: from doug ([67.22.212.241]) by alagad.com with MailEnable ESMTP; Mon, 30 May 2005 14:05:58 -0400
From: "Doug Hughes" <dhughes@alagad.com>
To: <java-user@lucene.apache.org>
Subject: RE: Indexing multiple keywords in one field?
Date: Mon, 30 May 2005 14:06:51 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <Pine.LNX.4.58.0505291735210.25913@hal.rescomp.berkeley.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVksGO4Cclvw3LYSwOiY6E23tP5kwAkTqMw
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 
Hoss,

I see what you're saying, but that seems primarily beneficial when you know
the structure and size of your data ahead of time.  For instance, any of the
HTML documents I'm indexing can have any number of links, from 0 to 100,
realistically.  If I place each of those links in separate keywords field,
how would I know which field(s) to search to find documents with links to a
specific articles?

Thanks,

Doug

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Sunday, May 29, 2005 8:39 PM
To: java-user@lucene.apache.org
Subject: RE: Indexing multiple keywords in one field?


in general, if you've got data in an easily delimited format, it probably
makes more sense to parse the data youreslf (as you said, you already had an
array of URLs) and skip analysis altogether -- just add the individual items
as Field.Keywords (or otherwise un-tokenized Fields)

analysis is primarily usefull when you need to find terms in free text.
if your data is already structured, take advantage of the structure.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 18:24:09 2005
Return-Path: <java-user-return-14651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3145 invoked from network); 30 May 2005 18:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 18:24:09 -0000
Received: (qmail 1706 invoked by uid 500); 30 May 2005 18:24:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 977 invoked by uid 500); 30 May 2005 18:24:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 960 invoked by uid 99); 30 May 2005 18:24:02 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mail.to.falko@gmx.de designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 30 May 2005 11:24:01 -0700
Received: (qmail invoked by alias); 30 May 2005 18:23:58 -0000
Received: from p54B3F727.dip.t-dialin.net (EHLO [192.168.0.104]) [84.179.247.39]
  by mail.gmx.net (mp015) with SMTP; 30 May 2005 20:23:58 +0200
X-Authenticated: #3816566
Message-ID: <429B5A2C.5020903@gmx.de>
Date: Mon, 30 May 2005 20:23:40 +0200
From: Falko Guderian <mail.to.falko@gmx.de>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Indexing problem
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I indexed 20 documents. I want to evaluate my lucene index. That's why I 
extract all term with their frequencies in each document.
This code has helped a lot.
-------------------------------------------------------------
try
{
    TermEnum terms = indexReader.terms(new Term("content", ""));
    while ("content".equals(terms.term().field()))
    {
        TermDocs termDocs = indexReader.termDocs();
	termDocs.seek(terms);
	// ... collect term.term().text() ...
	int frequency = 0;
	for(int i = 0; i< indexWriter.numDocs(); i++) {
	...
	freqency = termDocs.freq();
	...
	termDocs.next();
	}
	if (!terms.next())
            break;
    }
}
finally
{
    terms.close();
}
-------------------------------------------------------------

But there is an anomaly. In the first document(termDocs.doc() = 0) all 
term frequencies are greater than 0.
But it isn't correct. The first doc doesn't contain all terms.

Do you now this problem? How can I get the correct term frequencies in 
all docs?


Best regards
Falko Guderian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 19:27:16 2005
Return-Path: <java-user-return-14652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18380 invoked from network); 30 May 2005 19:27:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 19:27:16 -0000
Received: (qmail 24511 invoked by uid 500); 30 May 2005 19:27:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24487 invoked by uid 500); 30 May 2005 19:27:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 87189 invoked by uid 99); 30 May 2005 14:46:26 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of falko.guderian@gmx.de designates 213.165.64.20 as permitted sender)
X-Authenticated: #9521745
Message-ID: <429B2736.4070601@gmx.de>
Date: Mon, 30 May 2005 16:46:14 +0200
From: Falko Guderian <falko.guderian@gmx.de>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Indexing problem
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I indexed 20 documents. I want to evaluate my lucene index. That's why I extract all term with their frequencies in each document.
This code has helped a lot.
-------------------------------------------------------------
try
{
    TermEnum terms = indexReader.terms(new Term("content", ""));
    while ("content".equals(terms.term().field()))
    {
        TermDocs termDocs = indexReader.termDocs();
	termDocs.seek(terms);
	// ... collect term.term().text() ...
	int frequency = 0;
	for(int i = 0; i< indexWriter.numDocs(); i++) {
	... 
	freqency = termDocs.freq(); 
	...
	termDocs.next();        
	}
	if (!terms.next())
            break;
    }
}
finally
{
    terms.close();
}
-------------------------------------------------------------

But there is an anomaly. In the first document(termDocs.doc() = 0) all term frequencies are greater than 0. 
But it isn't correct. The first doc doesn't contain all terms.

Do you now this problem? How can I get the correct term frequencies in all docs?


Best regards
Falko Guderian


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 19:39:22 2005
Return-Path: <java-user-return-14653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23864 invoked from network); 30 May 2005 19:39:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 19:39:22 -0000
Received: (qmail 51057 invoked by uid 500); 30 May 2005 19:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50771 invoked by uid 500); 30 May 2005 19:39:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50756 invoked by uid 99); 30 May 2005 19:39:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ehatchersolutions.com (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 12:39:14 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0654D13E2007; Mon, 30 May 2005 15:39:12 -0400 (EDT)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 22DEB13E2006
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 15:39:06 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <20050530180801.6D54113E2006@ehatchersolutions.com>
References: <20050530180801.6D54113E2006@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DEC86E90-5FE8-4242-8A94-6953341488E4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing multiple keywords in one field?
Date: Mon, 30 May 2005 15:39:08 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 30, 2005, at 2:06 PM, Doug Hughes wrote:

>
> Hoss,
>
> I see what you're saying, but that seems primarily beneficial when  
> you know
> the structure and size of your data ahead of time.  For instance,  
> any of the
> HTML documents I'm indexing can have any number of links, from 0 to  
> 100,
> realistically.  If I place each of those links in separate keywords  
> field,
> how would I know which field(s) to search to find documents with  
> links to a
> specific articles?

The idea is to use Field.Keyword multiple times, but use the same  
field name each time (but different values).

     Erik



>
> Thanks,
>
> Doug
>
> -----Original Message-----
> From: hossman@hal.rescomp.berkeley.edu
> [mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
> Sent: Sunday, May 29, 2005 8:39 PM
> To: java-user@lucene.apache.org
> Subject: RE: Indexing multiple keywords in one field?
>
>
> in general, if you've got data in an easily delimited format, it  
> probably
> makes more sense to parse the data youreslf (as you said, you  
> already had an
> array of URLs) and skip analysis altogether -- just add the  
> individual items
> as Field.Keywords (or otherwise un-tokenized Fields)
>
> analysis is primarily usefull when you need to find terms in free  
> text.
> if your data is already structured, take advantage of the structure.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 20:14:24 2005
Return-Path: <java-user-return-14654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36307 invoked from network); 30 May 2005 20:14:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 20:14:24 -0000
Received: (qmail 1406 invoked by uid 500); 30 May 2005 20:14:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1366 invoked by uid 500); 30 May 2005 20:14:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1350 invoked by uid 99); 30 May 2005 20:14:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.alagad.com (HELO alagad.com) (69.45.152.8)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 13:14:15 -0700
Received: from doug ([67.22.212.241]) by alagad.com with MailEnable ESMTP; Mon, 30 May 2005 16:12:08 -0400
From: "Doug Hughes" <dhughes@alagad.com>
To: <java-user@lucene.apache.org>
Subject: RE: Indexing multiple keywords in one field?
Date: Mon, 30 May 2005 16:13:16 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <DEC86E90-5FE8-4242-8A94-6953341488E4@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcVlTv02FSUyE84ETbyTgAmecPOgMAABPakg
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok, so more than one keyword can be stored in a keyword field.  Interesting!

Thanks, 

Doug 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Monday, May 30, 2005 3:39 PM
To: java-user@lucene.apache.org
Subject: Re: Indexing multiple keywords in one field?


On May 30, 2005, at 2:06 PM, Doug Hughes wrote:

>
> Hoss,
>
> I see what you're saying, but that seems primarily beneficial when you 
> know the structure and size of your data ahead of time.  For instance, 
> any of the HTML documents I'm indexing can have any number of links, 
> from 0 to 100, realistically.  If I place each of those links in 
> separate keywords field, how would I know which field(s) to search to 
> find documents with links to a specific articles?

The idea is to use Field.Keyword multiple times, but use the same field name
each time (but different values).

     Erik



>
> Thanks,
>
> Doug
>
> -----Original Message-----
> From: hossman@hal.rescomp.berkeley.edu 
> [mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
> Sent: Sunday, May 29, 2005 8:39 PM
> To: java-user@lucene.apache.org
> Subject: RE: Indexing multiple keywords in one field?
>
>
> in general, if you've got data in an easily delimited format, it 
> probably makes more sense to parse the data youreslf (as you said, you 
> already had an array of URLs) and skip analysis altogether -- just add 
> the individual items as Field.Keywords (or otherwise un-tokenized 
> Fields)
>
> analysis is primarily usefull when you need to find terms in free 
> text.
> if your data is already structured, take advantage of the structure.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 20:20:50 2005
Return-Path: <java-user-return-14655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39432 invoked from network); 30 May 2005 20:20:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 20:20:50 -0000
Received: (qmail 13222 invoked by uid 500); 30 May 2005 20:20:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13199 invoked by uid 500); 30 May 2005 20:20:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13181 invoked by uid 99); 30 May 2005 20:20:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.aurisp.de (HELO mail.aurisp.de) (81.169.158.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 13:20:43 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id 0B1BEB809
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 22:20:40 +0200 (CEST)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 10930-04 for <java-user@lucene.apache.org>;
	Mon, 30 May 2005 22:20:35 +0200 (CEST)
Received: from localhost (p50883F5F.dip.t-dialin.net [80.136.63.95])
	by mail.aurisp.de (Postfix) with ESMTP id 37695B808
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 22:20:33 +0200 (CEST)
Date: Mon, 30 May 2005 22:20:52 +0200
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Augmenting an existing index (was: ACLs and Lucene)
Message-ID: <20050530202052.GN915@amok.local>
References: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
User-Agent: Mutt/1.4i
X-Virus-Scanned: by amavisd-maia-1.0.0-rc5 (Debian) at aurisp.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I have a similar problem, for which ParallelReader looks like a good
solution -- except for the problem of creating a set of indices with
matching document numbers.

I want to augment the documents in an existing index with information
that can be extracted from the same index. (Basically, I am indexing a
mailing list archive, and want to add keyword fields to documents that
contain the message ids of followup messages. That way, I could
quickly link to the followup messages from original
message. Unfortunately, I don't know the ids of all followup messages
until after I indexed the whole archive.)

I tried to implement a FilterIndexReader that would add the required
information, but couldn't get that to work. (I guess there's more to
extending FilterIndexReader than just overriding the document() method
and tacking a few more keyword fields on to the document before
returning it.) When I add my FilterIndexReader to a new IndexWriter
with the .addIndexes() method, it seems to work, but when I try to
optimize the new index, I get the following error:

merging segments _0 (1900 docs)Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 100203040
	at java.util.ArrayList.get(ArrayList.java:326)
	at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
	at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
	at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
	at org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185)
	at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
	at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
	at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)
	at org.sebastiankirsch.thesis.util.MailFilterIndexReader.main(MailFilterIndexReader.java:210)

If I don't optimize the index, I don't get an error, but Luke cannot
read the new index properly. I guess this has something to do with me
messing with the documents without properly adjusting the index terms
etc.

At the moment, I index the whole archive twice, and use the info from
the first index to add missing fields to the second index. However, it
would save me a lot of work (and processing power, of course) if I
could just postprocess the index from the first pass without
re-indexing the messages. Furthermore, it would open up the
possibility to apply even more passes to the postprocessing. (I'm
probably going to need that soon.)

I presume that a ParallelIndexReader could be merged into a single
index using addIndexes()? So if the problem of keeping the doc numbers
in sync can be solved ...

Alternatively, I would welcome hints as to how to implement a
FilterIndexReader properly.

Thanks very much for your time, Sebastian

On Mon, May 30, 2005 at 11:32:13AM -0400, Robichaud, Jean-Philippe wrote:
> What about:
> http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/luce
> ne/index/ParallelReader.java?rev=169859&view=markup

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 20:58:08 2005
Return-Path: <java-user-return-14656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52145 invoked from network); 30 May 2005 20:58:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 20:58:08 -0000
Received: (qmail 81513 invoked by uid 500); 30 May 2005 20:58:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81491 invoked by uid 500); 30 May 2005 20:58:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81466 invoked by uid 99); 30 May 2005 20:58:02 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop05.mail.atl.earthlink.net (HELO pop05.mail.atl.earthlink.net) (207.69.200.58)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 13:58:01 -0700
Received: from wamui-andean.atl.sa.earthlink.net ([209.86.224.24])
	by pop05.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1DcrKh-00018i-00
	for java-user@lucene.apache.org; Mon, 30 May 2005 16:57:59 -0400
Message-ID: <1763529.1117486679008.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Date: Mon, 30 May 2005 15:57:59 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: How to build 1.9-rc1 sandbox?
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In trunck/java I've built ant compile-core

changing to trunck/java/contrib the only target is build-tree

but I get a lot of compiler errors such as package org.apache.lucene.analysis does not exist.

Anyone know what I'm doing wrong?

Thanks,

Andrew 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 21:31:40 2005
Return-Path: <java-user-return-14657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63512 invoked from network); 30 May 2005 21:31:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 21:31:39 -0000
Received: (qmail 35334 invoked by uid 500); 30 May 2005 21:31:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35305 invoked by uid 500); 30 May 2005 21:31:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35290 invoked by uid 99); 30 May 2005 21:31:34 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from smtprelay02.ispgateway.de (HELO smtprelay02.ispgateway.de) (80.67.18.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 14:31:32 -0700
Received: (qmail 23963 invoked from network); 30 May 2005 21:31:27 -0000
Received: from unknown (HELO p5496785C.dip.t-dialin.net) ([pbs]695637@[84.150.120.92])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 30 May 2005 21:31:27 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: How to build 1.9-rc1 sandbox?
Date: Mon, 30 May 2005 23:32:23 +0200
User-Agent: KMail/1.8
References: <1763529.1117486679008.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
In-Reply-To: <1763529.1117486679008.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200505302332.23791@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 30 May 2005 22:57, Andrew Boyd wrote:

> In trunck/java I've built ant compile-core

Just calling "ant" (in the top-level directory) without any options should 
build this file:
build/lucene-core-1.9-rc1-dev.jar

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 30 23:45:45 2005
Return-Path: <java-user-return-14658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94835 invoked from network); 30 May 2005 23:45:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2005 23:45:45 -0000
Received: (qmail 3991 invoked by uid 500); 30 May 2005 23:45:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3085 invoked by uid 500); 30 May 2005 23:45:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3070 invoked by uid 99); 30 May 2005 23:45:40 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rs15.luxsci.com (HELO rs15.luxsci.com) (65.61.166.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 16:45:39 -0700
Received: from [192.168.70.100] (ppp115-120.static.internode.on.net [150.101.115.120])
	(authenticated bits=0)
	by rs15.luxsci.com (8.12.11/8.12.11) with ESMTP id j4UNjYas001991
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 18:45:35 -0500
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <20050530202052.GN915@amok.local>
References: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com> <20050530202052.GN915@amok.local>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <10D0C917-EB85-4C06-A450-EE28786F454C@cenqua.com>
Content-Transfer-Encoding: 7bit
From: Matt Quail <matt@cenqua.com>
Subject: managing docids for ParallelReader (was Augmenting an existing index)
Date: Tue, 31 May 2005 09:45:30 +1000
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I have a similar problem, for which ParallelReader looks like a good
> solution -- except for the problem of creating a set of indices with
> matching document numbers.

I have wondered about this as well. Are there any *sure fire* ways of  
creating (and updating) two indices so that doc numbers in one index  
deliberately correspond to doc numbers in the other index?

=Matt

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 00:39:39 2005
Return-Path: <java-user-return-14659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5232 invoked from network); 31 May 2005 00:39:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 00:39:39 -0000
Received: (qmail 73394 invoked by uid 500); 31 May 2005 00:39:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73360 invoked by uid 500); 31 May 2005 00:39:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 33131 invoked by uid 99); 31 May 2005 00:08:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: unknown (hermes.apache.org: error in processing during lookup of burton@rojo.com)
Message-ID: <429BAB00.3080502@rojo.com>
Date: Mon, 30 May 2005 17:08:32 -0700
From: Kevin Burton <burton@rojo.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Macintosh/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Possible to find min and max values for a Date field?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it possible to find the minimum and maximum values for a date field 
with a given reader?

I guess I could use TermEnum to do a binary search until I get a hit but 
this seems a bit kludgy.

Thoughts?

I don't see any APIs for doing this and a google/grep of the source 
doesn't help

Kevin

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 05:29:54 2005
Return-Path: <java-user-return-14660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78486 invoked from network); 31 May 2005 05:29:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 05:29:53 -0000
Received: (qmail 73002 invoked by uid 500); 31 May 2005 05:29:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72977 invoked by uid 500); 31 May 2005 05:29:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72943 invoked by uid 99); 31 May 2005 05:29:45 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 30 May 2005 22:29:43 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9D69F5B794; Mon, 30 May 2005 22:29:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 918B17F460
	for <java-user@lucene.apache.org>; Mon, 30 May 2005 22:29:36 -0700 (PDT)
Date: Mon, 30 May 2005 22:29:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Possible to find min and max values for a Date field?
In-Reply-To: <429BAB00.3080502@rojo.com>
Message-ID: <Pine.LNX.4.58.0505302221330.28735@hal.rescomp.berkeley.edu>
References: <429BAB00.3080502@rojo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I guess I could use TermEnum to do a binary search until I get a hit but
: this seems a bit kludgy.

min is easy, it's the first term in the enum.

max ... well, the simplest way i can think of to find the max of a string
field is to use a StringIndex, something like...

  String[] s = FieldCache.getStringIndex().lookup;
  String max = s[s.length-1];

...but if you've got millions of field values, it may be more efficient to
do a binary search of the TermEnum.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 07:07:09 2005
Return-Path: <java-user-return-14661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7963 invoked from network); 31 May 2005 07:07:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 07:07:09 -0000
Received: (qmail 37020 invoked by uid 500); 31 May 2005 07:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36965 invoked by uid 500); 31 May 2005 07:07:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36948 invoked by uid 99); 31 May 2005 07:07:01 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of burton@rojo.com designates 12.43.53.196 as permitted sender)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 00:07:00 -0700
Received: from [192.168.1.100] (dsl081-071-021.sfo1.dsl.speakeasy.net [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j4V76oQL010677
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 00:06:51 -0700
Message-ID: <429C0D0A.8040409@rojo.com>
Date: Tue, 31 May 2005 00:06:50 -0700
From: Kevin Burton <burton@rojo.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Macintosh/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Finding minimum and maximum value of a field?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have an index with a date field.  I want to quickly find the minimum 
and maximum values in the index.

Is there a quick way to do this?  I looked at using TermInfos and 
finding the first one but how to I find the last?

I also tried the new sort API and the performance was horrible :-/

Any ideas?

Kevin

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 07:57:14 2005
Return-Path: <java-user-return-14662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45397 invoked from network); 31 May 2005 07:57:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 07:57:14 -0000
Received: (qmail 24807 invoked by uid 500); 31 May 2005 07:57:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24784 invoked by uid 500); 31 May 2005 07:57:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24743 invoked by uid 99); 31 May 2005 07:57:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from corp-206.dfki.uni-sb.de (HELO mail.dfki.de) (134.96.188.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 00:57:04 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 06493E481D
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 09:56:44 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id E753CE4817
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 09:56:43 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <7551521.1117472052379.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
References: <7551521.1117472052379.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <d88a00399d9c1580ed1f78722a791d45@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Stemming at Query time
Date: Tue, 31 May 2005 09:55:53 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You'd only need position-increment if using phrase-query...=20
otherwise... positions are quite much ignored and you can expand the=20
query with an or.
Eg, I'd do expand the query for breath to:

Term(breath)^2 or (Term(breathes) or Term(breathe) or Term(breathing))

I am not sure you can make a phrase-query with possible synonyms for=20
phrase-constituents, you'd need to OR the queries with each set of=20
possible variations (that grows quick! but do you know many people that=20=

put large phrase queries?)

paul

Le 30 mai 05, =E0 18:54, Andrew Boyd a =E9crit :

> Hi All,
>   Now that the QueryParser knows about position increments has anyone=20=

> used this to do stemming at query time
> and not at indexing time?  I suppose one would need a reverse stemmer.=20=

>  Given the query breath it would need to inject breathe, breathes,=20
> breathing etc.
>
> One benifit is that if you ever wanted to change your stemming=20
> algorithm you would not have to re-index.
> Also your index would be closer to the actual documents.
>
> Comments?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 08:07:32 2005
Return-Path: <java-user-return-14663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49439 invoked from network); 31 May 2005 08:07:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 08:07:31 -0000
Received: (qmail 47982 invoked by uid 500); 31 May 2005 08:07:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47951 invoked by uid 500); 31 May 2005 08:07:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47934 invoked by uid 99); 31 May 2005 08:07:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from corp-206.dfki.uni-sb.de (HELO mail.dfki.de) (134.96.188.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 01:07:23 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 881A8E47D7
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 10:07:05 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 733BDE47CA
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 10:07:05 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <200505302021.j4UKLe0N000724@uni-sb.de>
References: <200505302021.j4UKLe0N000724@uni-sb.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <0ea0d43d40cec6c902dcec68e5e02bb4@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Indexing multiple keywords in one field?
Date: Tue, 31 May 2005 10:06:15 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Le 30 mai 05, =E0 22:13, Doug Hughes a =E9crit :
> Ok, so more than one keyword can be stored in a keyword field. =20
> Interesting!

Yes, yes, yes!! You can do:

doc.add("link","xx");
doc.add("link","yy");

and matches will match any of them!
I found this in the book and not in the javadoc and I'd recommed adding=20=

it in the javadoc of the add method, it's a non-obvious goodness which=20=

suits all forms of scalability!

paul




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 09:24:21 2005
Return-Path: <java-user-return-14664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75934 invoked from network); 31 May 2005 09:24:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 09:24:20 -0000
Received: (qmail 17843 invoked by uid 500); 31 May 2005 09:24:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17822 invoked by uid 500); 31 May 2005 09:24:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17808 invoked by uid 99); 31 May 2005 09:24:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ehatchersolutions.com (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 02:24:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D56C313E2006; Tue, 31 May 2005 05:23:55 -0400 (EDT)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 27BF313E2007
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 05:22:55 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <0ea0d43d40cec6c902dcec68e5e02bb4@activemath.org>
References: <200505302021.j4UKLe0N000724@uni-sb.de> <0ea0d43d40cec6c902dcec68e5e02bb4@activemath.org>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <5676D972-9899-4A73-B4E7-75EB5FD8AF69@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing multiple keywords in one field?
Date: Tue, 31 May 2005 05:22:58 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 31, 2005, at 4:06 AM, Paul Libbrecht wrote:

>
> Le 30 mai 05, =E0 22:13, Doug Hughes a =E9crit :
>
>> Ok, so more than one keyword can be stored in a keyword field.  =20
>> Interesting!
>>
>
> Yes, yes, yes!! You can do:
>
> doc.add("link","xx");
> doc.add("link","yy");

Well, that's not quite correct API, but your point is accurate :)

> and matches will match any of them!
> I found this in the book and not in the javadoc and I'd recommed =20
> adding it in the javadoc of the add method, it's a non-obvious =20
> goodness which suits all forms of scalability!

Fields are made up of terms.  A Field.Keyword makes a single term for =20=

a field.  Adding multiple fields with the same name works even if its =20=

not Field.Keyword - it simply adds the term(s) to the field.

Good point about documentation - it would be worth noting this =20
explicitly.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 11:54:46 2005
Return-Path: <java-user-return-14665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27862 invoked from network); 31 May 2005 11:54:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 11:54:46 -0000
Received: (qmail 75121 invoked by uid 500); 31 May 2005 11:54:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75099 invoked by uid 500); 31 May 2005 11:54:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75047 invoked by uid 99); 31 May 2005 11:54:38 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from pop05.mail.atl.earthlink.net (HELO pop05.mail.atl.earthlink.net) (207.69.200.58)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 04:54:33 -0700
Received: from wamui-andean.atl.sa.earthlink.net ([209.86.224.24])
	by pop05.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1Dd5KA-0002qX-00
	for java-user@lucene.apache.org; Tue, 31 May 2005 07:54:22 -0400
Message-ID: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Date: Tue, 31 May 2005 06:54:22 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Re: Finding minimum and maximum value of a field?
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How about using range query?

private Term begin, end;

begin = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"backInTimeStringDate">)));
end = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"farFutureStringDate">)));

RangeQuery query = new RangeQuery(begin, end, true);

IndexSearcher searcher = new IndexSearcher(directory);

Hits hits = searcher.search(query);

Document minDoc = hits.doc(0);
Document maxDoc = hits.doc(hits.length()-1);

String minDateString = minDoc.get("dateField");
String maxDateString = maxDoc.get("dateField");

That sould give you the min and max date fields.

Andrew

-----Original Message-----
From: Kevin Burton <burton@rojo.com>
Sent: May 31, 2005 2:06 AM
To: java-user@lucene.apache.org
Subject: Finding minimum and maximum value of a field?

I have an index with a date field.  I want to quickly find the minimum 
and maximum values in the index.

Is there a quick way to do this?  I looked at using TermInfos and 
finding the first one but how to I find the last?

I also tried the new sort API and the performance was horrible :-/

Any ideas?

Kevin

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 12:11:16 2005
Return-Path: <java-user-return-14666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33793 invoked from network); 31 May 2005 12:11:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 12:11:16 -0000
Received: (qmail 16882 invoked by uid 500); 31 May 2005 12:11:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16857 invoked by uid 500); 31 May 2005 12:11:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16844 invoked by uid 99); 31 May 2005 12:11:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from svr.ftp1.com (HELO svr.ftp1.com) (64.74.127.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 05:11:06 -0700
Received: from graphite by svr.ftp1.com with local (Exim 4.44)
	id 1Dd5Zq-0000Kf-Ar
	for java-user@lucene.apache.org; Tue, 31 May 2005 07:10:34 -0500
Received: from 192.223.163.5 ([192.223.163.5])
        (SquirrelMail authenticated user tony@simpleobjects.com);
        by www.simpleobjects.com with HTTP;
        Tue, 31 May 2005 08:10:34 -0400 (EDT)
Message-ID: <24477.192.223.163.5.1117541434.squirrel@192.223.163.5>
In-Reply-To: <429C0D0A.8040409@rojo.com>
References: <429C0D0A.8040409@rojo.com>
Date: Tue, 31 May 2005 08:10:34 -0400 (EDT)
Subject: Re: Finding minimum and maximum value of a field?
From: "Tony Schwartz" <tony@simpleobjects.com>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a
X-Mailer: SquirrelMail/1.4.3a
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - svr.ftp1.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [32036 808] / [47 12]
X-AntiAbuse: Sender Address Domain - simpleobjects.com
X-Source: /usr/local/cpanel/3rdparty/bin/php
X-Source-Args: /usr/local/cpanel/3rdparty/bin/php /usr/local/cpanel/base/3rdparty/squirrelmail/src/compose.php 
X-Source-Dir: :/base/3rdparty/squirrelmail/src
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Only way I see to do this is to get a TermEnum for that field, and grab the first.  Then
iterate until you find the last one.  This is similar behavior to the TermEnum.skipTo
method.  A better solution would be to record the minimum and maximum dates in the index
as you index them.  Each time you insert a new date, update the min/max if needed.  This
data would reside outside the index of course.


Tony Schwartz
tony@simpleobjects.com
"What we need is more cowbell."

> I have an index with a date field.  I want to quickly find the minimum
> and maximum values in the index.
>
> Is there a quick way to do this?  I looked at using TermInfos and
> finding the first one but how to I find the last?
>
> I also tried the new sort API and the performance was horrible :-/
>
> Any ideas?
>
> Kevin
>
> --
>
>
> Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com.
> See irc.freenode.net #rojo if you want to chat.
>
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
>
>    Kevin A. Burton, Location - San Francisco, CA
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 17:45:01 2005
Return-Path: <java-user-return-14667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91421 invoked from network); 31 May 2005 17:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 17:45:01 -0000
Received: (qmail 31832 invoked by uid 500); 31 May 2005 17:44:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31785 invoked by uid 500); 31 May 2005 17:44:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31765 invoked by uid 99); 31 May 2005 17:44:52 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of burton@rojo.com designates 12.43.53.196 as permitted sender)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 10:44:46 -0700
Received: from [192.168.1.146] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j4VHiVZR024795
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 10:44:31 -0700
Message-ID: <429CA27A.6030309@rojo.com>
Date: Tue, 31 May 2005 10:44:26 -0700
From: Kevin Burton <burton@rojo.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Macintosh/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Finding minimum and maximum value of a field?
References: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
In-Reply-To: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Andrew Boyd wrote:

>How about using range query?
>
>private Term begin, end;
>
>begin = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"backInTimeStringDate">)));
>end = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"farFutureStringDate">)));
>
>RangeQuery query = new RangeQuery(begin, end, true);
>
>IndexSearcher searcher = new IndexSearcher(directory);
>
>Hits hits = searcher.search(query);
>
>Document minDoc = hits.doc(0);
>Document maxDoc = hits.doc(hits.length()-1);
>
>String minDateString = minDoc.get("dateField");
>String maxDateString = maxDoc.get("dateField");
>
>  
>
This certainly is an interesting solution.  How would lucene score this 
result set?  The first and last will depend on the score...

I  guess I can build up a quick test........

Kevin

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 17:58:32 2005
Return-Path: <java-user-return-14668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99636 invoked from network); 31 May 2005 17:58:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 17:58:32 -0000
Received: (qmail 70234 invoked by uid 500); 31 May 2005 17:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70213 invoked by uid 500); 31 May 2005 17:58:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70200 invoked by uid 99); 31 May 2005 17:58:23 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from smtprelay04.ispgateway.de (HELO smtprelay04.ispgateway.de) (80.67.18.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 10:58:20 -0700
Received: (qmail 25854 invoked from network); 31 May 2005 17:58:13 -0000
Received: from unknown (HELO p54967F6D.dip.t-dialin.net) ([pbs]695637@[84.150.127.109])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 31 May 2005 17:58:13 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Stemming at Query time
Date: Tue, 31 May 2005 19:59:11 +0200
User-Agent: KMail/1.8
References: <7551521.1117472052379.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
In-Reply-To: <7551521.1117472052379.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200505311959.11038@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 30 May 2005 18:54, Andrew Boyd wrote:

> =C2=A0 Now that the QueryParser knows about position increments has anyone
> used this to do stemming at query time and not at indexing time? =C2=A0I
> suppose one would need a reverse stemmer. =C2=A0Given the query breath it
> would need to inject breathe, breathes, breathing etc.

There are two things to consider: queries will get more complicated and=20
thus slower and the implementation isn't that easy:  while stemming can be=
=20
done with a simple algorithm (for English), you'll need a dictionary with=20
at least part-of-speech information for adding suffixes. That's because=20
you cannot just add "ing" to any word, otherwise you'd end up with car +=20
ing  =3D caring. (But once you have this dictionary the quality of your=20
solution can be better than that of a stemmer, as stemmers also suffer=20
form over-stemming, i.e. mapping two non-related words to the same form).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 18:20:58 2005
Return-Path: <java-user-return-14669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10088 invoked from network); 31 May 2005 18:20:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 18:20:58 -0000
Received: (qmail 32412 invoked by uid 500); 31 May 2005 18:20:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32342 invoked by uid 500); 31 May 2005 18:20:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32323 invoked by uid 99); 31 May 2005 18:20:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 11:20:47 -0700
Received: from [192.168.168.81] (c-24-5-160-217.hsd1.ca.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20050531182032014003idm0e>; Tue, 31 May 2005 18:20:32 +0000
Message-ID: <429CAAEF.4090306@apache.org>
Date: Tue, 31 May 2005 11:20:31 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.2-1.3.3 (X11/20050513)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: managing docids for ParallelReader (was Augmenting an existing
 index)
References: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com> <20050530202052.GN915@amok.local> <10D0C917-EB85-4C06-A450-EE28786F454C@cenqua.com>
In-Reply-To: <10D0C917-EB85-4C06-A450-EE28786F454C@cenqua.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Matt Quail wrote:
>> I have a similar problem, for which ParallelReader looks like a good
>> solution -- except for the problem of creating a set of indices with
>> matching document numbers.
> 
> 
> I have wondered about this as well. Are there any *sure fire* ways of  
> creating (and updating) two indices so that doc numbers in one index  
> deliberately correspond to doc numbers in the other index?

If you add the documents in the same order to both indexes and perform 
the same deletions on both indexes then they'll have the same numbers.

If this is not convenient, then you could add an id field to all 
documents in the primary index.  Then create (or re-create) the 
secondary index by iterating through the values in a FieldCache of this 
id field.

ParallelReader was not really designed to support incremental updates of 
fields, but rather to accellerate batch updates.  For incremental 
updates you're probably better served by updating a single index.

One could define an "acl" IndexReader subclass that generates termDoc 
lists on the fly by looking in an external database.  This would require 
a mapping between Lucene document ids and external document IDs.  A 
FieldCache, as described above, could serve that purpose.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 18:42:30 2005
Return-Path: <java-user-return-14670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16479 invoked from network); 31 May 2005 18:42:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 18:42:30 -0000
Received: (qmail 76297 invoked by uid 500); 31 May 2005 18:42:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76251 invoked by uid 500); 31 May 2005 18:42:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76204 invoked by uid 99); 31 May 2005 18:42:23 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 11:42:21 -0700
Received: by rproxy.gmail.com with SMTP id c51so617112rne
        for <java-user@lucene.apache.org>; Tue, 31 May 2005 11:42:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=uaU77oHAxxKAgmIKj38HyqrAhCeUy7ioKvLHCzA6BI3MnbiM143+q0oE3wD2x6a2ru+qfnCRGGaoYtqswGGkAwxEaAVy53kNiCrkfFItAG24ZNSvOTiLzp7j3N1pRVUIsmuafjtJEbIMSRO+LA2y0ushMox32zMY02dTfzWNH6c=
Received: by 10.38.150.9 with SMTP id x9mr1971328rnd;
        Tue, 31 May 2005 11:42:12 -0700 (PDT)
Received: by 10.38.104.77 with HTTP; Tue, 31 May 2005 11:42:12 -0700 (PDT)
Message-ID: <88c6a672050531114232061ee9@mail.gmail.com>
Date: Tue, 31 May 2005 13:42:12 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Finding minimum and maximum value of a field?
In-Reply-To: <429CA27A.6030309@rojo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
	 <429CA27A.6030309@rojo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene rewrites RangeQueries into a BooleanQuery containing a bunch of
OR'd terms.  If you have too many terms (dates in your case), you will
run into a TooManyClauses exception.  I think the default is about
1024; you can set it with BooleanQuery.setMaxClauseCount().

On 5/31/05, Kevin Burton <burton@rojo.com> wrote:
> Andrew Boyd wrote:
>=20
> >How about using range query?
> >
> >private Term begin, end;
> >
> >begin =3D new Term("dateField",  DateTools.dateToString(Date.valueOf(<"b=
ackInTimeStringDate">)));
> >end =3D new Term("dateField",  DateTools.dateToString(Date.valueOf(<"far=
FutureStringDate">)));
> >
> >RangeQuery query =3D new RangeQuery(begin, end, true);
> >
> >IndexSearcher searcher =3D new IndexSearcher(directory);
> >
> >Hits hits =3D searcher.search(query);
> >
> >Document minDoc =3D hits.doc(0);
> >Document maxDoc =3D hits.doc(hits.length()-1);
> >
> >String minDateString =3D minDoc.get("dateField");
> >String maxDateString =3D maxDoc.get("dateField");
> >
> >
> >
> This certainly is an interesting solution.  How would lucene score this
> result set?  The first and last will depend on the score...
>=20
> I  guess I can build up a quick test........
>=20
> Kevin
>=20
> --
>=20
>=20
> Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com.
> See irc.freenode.net #rojo if you want to chat.
>=20
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
>=20
>   Kevin A. Burton, Location - San Francisco, CA
>      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 18:43:14 2005
Return-Path: <java-user-return-14671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16685 invoked from network); 31 May 2005 18:43:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 18:43:14 -0000
Received: (qmail 78550 invoked by uid 500); 31 May 2005 18:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78501 invoked by uid 500); 31 May 2005 18:43:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78436 invoked by uid 99); 31 May 2005 18:43:08 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of burton@rojo.com designates 12.43.53.196 as permitted sender)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 11:43:05 -0700
Received: from [192.168.1.146] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j4VIgpkJ026276
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 11:42:56 -0700
Message-ID: <429CB026.6070905@rojo.com>
Date: Tue, 31 May 2005 11:42:46 -0700
From: Kevin Burton <burton@rojo.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Macintosh/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Finding minimum and maximum value of a field?
References: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
In-Reply-To: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Andrew Boyd wrote:

>How about using range query?
>
>private Term begin, end;
>
>begin = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"backInTimeStringDate">)));
>end = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"farFutureStringDate">)));
>
>  
>
Ha.. crap.  That won't work either.  We have too many values and I get 
the dreaded:

Exception in thread "main" 
org.apache.lucene.search.BooleanQuery$TooManyClauses

Fun.

-- 


Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com. 
See irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

   Kevin A. Burton, Location - San Francisco, CA
      AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 18:47:52 2005
Return-Path: <java-user-return-14672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17990 invoked from network); 31 May 2005 18:47:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 18:47:52 -0000
Received: (qmail 95322 invoked by uid 500); 31 May 2005 18:47:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95294 invoked by uid 500); 31 May 2005 18:47:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95277 invoked by uid 99); 31 May 2005 18:47:46 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 11:47:44 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EA7BA5B77F; Tue, 31 May 2005 11:47:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E16C07F466
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 11:47:42 -0700 (PDT)
Date: Tue, 31 May 2005 11:47:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Finding minimum and maximum value of a field?
In-Reply-To: <429CB026.6070905@rojo.com>
Message-ID: <Pine.LNX.4.58.0505311145460.29003@hal.rescomp.berkeley.edu>
References: <17124207.1117540462125.JavaMail.root@wamui-andean.atl.sa.earthlink.net>
 <429CB026.6070905@rojo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


have you tried the suggestion i made regarding FieldCache from the first
thread in which you asked this question?

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200505.mbox/%3cPine.LNX.4.58.0505302221330.28735@hal.rescomp.berkeley.edu%3e




: Date: Tue, 31 May 2005 11:42:46 -0700
: From: Kevin Burton <burton@rojo.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: Finding minimum and maximum value of a field?
:
: Andrew Boyd wrote:
:
: >How about using range query?
: >
: >private Term begin, end;
: >
: >begin = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"backInTimeStringDate">)));
: >end = new Term("dateField",  DateTools.dateToString(Date.valueOf(<"farFutureStringDate">)));
: >
: >
: >
: Ha.. crap.  That won't work either.  We have too many values and I get
: the dreaded:
:
: Exception in thread "main"
: org.apache.lucene.search.BooleanQuery$TooManyClauses
:
: Fun.
:
: --
:
:
: Use Rojo (RSS/Atom aggregator)! - visit http://rojo.com.
: See irc.freenode.net #rojo if you want to chat.
:
: Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
:
:    Kevin A. Burton, Location - San Francisco, CA
:       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
: GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 18:54:48 2005
Return-Path: <java-user-return-14673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22232 invoked from network); 31 May 2005 18:54:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 18:54:48 -0000
Received: (qmail 17060 invoked by uid 500); 31 May 2005 18:54:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17036 invoked by uid 500); 31 May 2005 18:54:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17022 invoked by uid 99); 31 May 2005 18:54:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gwia201.syr.edu (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 11:54:39 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 31 May 2005 14:54:33 -0400
Message-Id: <s29c7aa9.098@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Tue, 31 May 2005 14:54:13 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: Adding to the termFreqVector
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is your intent to persist the changed vector somehow or just use it in
your application for the immediate search?

TermFreqVector is an interface, so if you aren't persisting, I would
write a wrapper class around the one that is returned by Lucene that has
add/set methods on it for manipulating the underlying vector and pass
that around in your application.  Other option, is to get the source and
modify the TermFreqVector for your needs.

Persistance is a bit harder, but would probably involve manipulating
the document and then re-indexing it so that it's new vector has the
updated frequencies by adding some dummy terms onto the document.

Is that what you are looking for?

>>> ryan@skow.org 5/30/2005 12:37:54 PM >>>

How would one go about adding additional terms to a field which is not

stored literally, but instead has a termFreqVector?  For example:

If DocumentA was indexed originally with:
    myTermField: red green blue

termFreqVector would look like:
   freq {myTermField: red/1, green/1, blue/1}

Now, I'd like to add some more terms (red, yellow) and desire the 
termFreqVector to look like this:
   freq {myTermField: red/2, green/1, blue/1, yellow/1}

It would seem like there would be a covenant way of accomplishing this,

but I must be missing something.

Any advice would be greatly appreciated!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 21:09:03 2005
Return-Path: <java-user-return-14674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88842 invoked from network); 31 May 2005 21:09:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 21:09:03 -0000
Received: (qmail 16594 invoked by uid 500); 31 May 2005 21:08:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16550 invoked by uid 500); 31 May 2005 21:08:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16531 invoked by uid 99); 31 May 2005 21:08:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from tayrelbas04.tay.hp.com (HELO tayrelbas04.tay.hp.com) (161.114.80.247)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 14:08:51 -0700
Received: from tayexg12.americas.cpqcorp.net (tayexg12.americas.cpqcorp.net [16.103.130.127])
	by tayrelbas04.tay.hp.com (Postfix) with ESMTP id E8AA020000FF
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 17:08:40 -0400 (EDT)
Received: from tayexc13.americas.cpqcorp.net ([16.103.130.26]) by tayexg12.americas.cpqcorp.net with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 31 May 2005 17:08:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Indexing multiple languages
Date: Tue, 31 May 2005 17:08:39 -0400
Message-ID: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing multiple languages
Thread-Index: AcVmJOq1uktTV8WVTbuvY1qdijdD1w==
From: "Tansley, Robert" <robert.tansley@hp.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 31 May 2005 21:08:40.0792 (UTC) FILETIME=[EBA01580:01C56624]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

The DSpace (www.dspace.org) currently uses Lucene to index metadata
(Dublin Core standard) and extracted full-text content of documents
stored in it.  Now the system is being used globally, it needs to
support multi-language indexing.

I've looked through the mailing list archives etc. and it seems it's
easy to plug in analyzers for different languages.

What if we're trying to index multiple languages in the same site?  Is
it best to have:

1/ one index for all languages
2/ one index for all languages, with an extra language field so searches
can be constrained to a particular language
3/ separate indices for each language?

I don't fully understand the consequences in terms of performance for
1/, but I can see that false hits could turn up where one word appears
in different languages (stemming could increase the changes of this).
Also some languages' analyzers are quite dramatically different (e.g.
the Chinese one which just treats every character as a separate
token/word).

On the other hand, if people are searching for proper nouns in metadata
(e.g. "DSpace") it may be advantageous to search all languages at once.


I'm also not sure of the storage and performance consequences of 2/.

Approach 3/ seems like it might be the most complex from an
implementation/code point of view. =20

Does anyone have any thoughts or recommendations on this?

Many thanks,

 Robert Tansley / Digital Media Systems Programme / HP Labs
  http://www.hpl.hp.com/personal/Robert_Tansley/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 21:49:39 2005
Return-Path: <java-user-return-14675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5098 invoked from network); 31 May 2005 21:49:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 21:49:39 -0000
Received: (qmail 97596 invoked by uid 500); 31 May 2005 21:49:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97567 invoked by uid 500); 31 May 2005 21:49:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97553 invoked by uid 99); 31 May 2005 21:49:32 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 14:49:28 -0700
Received: by rproxy.gmail.com with SMTP id 1so146rny
        for <java-user@lucene.apache.org>; Tue, 31 May 2005 14:49:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JdKljvrnYLfeOgRCaC4bIDrTJHAEUhEAR6gZ2vnASPUvs6/YykN1QjHTEq7nfdITjIr6wXeoH/wbep0g/CoH83iKaNrkj0PKaQI6ePQpWxohFqOGSSs0rKcPeS6eeXpP4TKEPNflAJtEC+QnO4Ke3iOBr+nG+aHOUlW7BisKmyI=
Received: by 10.38.6.14 with SMTP id 14mr141rnf;
        Tue, 31 May 2005 14:49:23 -0700 (PDT)
Received: by 10.38.8.79 with HTTP; Tue, 31 May 2005 14:49:23 -0700 (PDT)
Message-ID: <7ca1239105053114496551c48c@mail.gmail.com>
Date: Tue, 31 May 2005 14:49:23 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing multiple languages
In-Reply-To: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Interesting topic. I thought about this as well. I wanted to index
Chinese text with English, i.e., I want to treat the English text
inside Chinese text as English tokens rather than Chinese text tokens.

Right now I think maybe I have to write a special analyzer that takes
the text input, and detect if the character is an ASCII char, if it
is, assembly them together and make it as a token, if not, then, make
it as a Chinese word token.

So, bottom line is, just one analyzer for all the text and do the
if/else statement inside the analyzer.

I would like to learn more thoughts about this!

Thanks,

Jian

On 5/31/05, Tansley, Robert <robert.tansley@hp.com> wrote:
> Hi all,
>=20
> The DSpace (www.dspace.org) currently uses Lucene to index metadata
> (Dublin Core standard) and extracted full-text content of documents
> stored in it.  Now the system is being used globally, it needs to
> support multi-language indexing.
>=20
> I've looked through the mailing list archives etc. and it seems it's
> easy to plug in analyzers for different languages.
>=20
> What if we're trying to index multiple languages in the same site?  Is
> it best to have:
>=20
> 1/ one index for all languages
> 2/ one index for all languages, with an extra language field so searches
> can be constrained to a particular language
> 3/ separate indices for each language?
>=20
> I don't fully understand the consequences in terms of performance for
> 1/, but I can see that false hits could turn up where one word appears
> in different languages (stemming could increase the changes of this).
> Also some languages' analyzers are quite dramatically different (e.g.
> the Chinese one which just treats every character as a separate
> token/word).
>=20
> On the other hand, if people are searching for proper nouns in metadata
> (e.g. "DSpace") it may be advantageous to search all languages at once.
>=20
>=20
> I'm also not sure of the storage and performance consequences of 2/.
>=20
> Approach 3/ seems like it might be the most complex from an
> implementation/code point of view.
>=20
> Does anyone have any thoughts or recommendations on this?
>=20
> Many thanks,
>=20
>  Robert Tansley / Digital Media Systems Programme / HP Labs
>   http://www.hpl.hp.com/personal/Robert_Tansley/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 22:03:12 2005
Return-Path: <java-user-return-14676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10301 invoked from network); 31 May 2005 22:03:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 22:03:12 -0000
Received: (qmail 26690 invoked by uid 500); 31 May 2005 22:03:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26662 invoked by uid 500); 31 May 2005 22:03:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26646 invoked by uid 99); 31 May 2005 22:03:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_BY_IP,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.fastgt.com (HELO sol.fastgt.com) (65.103.179.233)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 15:03:04 -0700
Received: from mail.skow.org (12-216-64-83.client.mchsi.com [12.216.64.83])
	by sol.fastgt.com (8.12.11/8.12.8) with SMTP id j4VM2sIo013469
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 17:02:57 -0500
Received: from xavier.skow.org (localhost [127.0.0.1])
	by mail.skow.org (8.12.11/8.12.11) with ESMTP id j4VM2rGX030323
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 17:02:53 -0500
Received: (from apache@localhost)
	by xavier.skow.org (8.12.11/8.12.11/Submit) id j4VM2rdg030322;
	Tue, 31 May 2005 17:02:53 -0500
X-Authentication-Warning: xavier.skow.org: apache set sender to ryan@skow.org using -f
Received: from 192.168.1.2 (proxying for 12.22.132.5)
        (SquirrelMail authenticated user skow)
        by 192.168.1.29 with HTTP;
        Tue, 31 May 2005 17:02:53 -0500 (CDT)
Message-ID: <47859.192.168.1.2.1117576973.squirrel@192.168.1.29>
In-Reply-To: <s29c7aa9.098@gwia201.syr.edu>
References: <s29c7aa9.098@gwia201.syr.edu>
Date: Tue, 31 May 2005 17:02:53 -0500 (CDT)
Subject: Re: Adding to the termFreqVector
From: "Ryan Skow" <ryan@skow.org>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Adding new terms and re-indexing the document is the desired behavior.

One (non-scalable) solution would be to parse the toString of the
termFreqVector (freq {myTermField: red/2, green/1, blue/1}) and create a
new string representation of the expanded terms:  (red red green blue)

This obviously isn't a good solution.  Finding a way to simply do a
document.addTerm("red"); and then re-indexing would be ideal.



> Is your intent to persist the changed vector somehow or just use it in
> your application for the immediate search?
>
> TermFreqVector is an interface, so if you aren't persisting, I would
> write a wrapper class around the one that is returned by Lucene that has
> add/set methods on it for manipulating the underlying vector and pass
> that around in your application.  Other option, is to get the source and
> modify the TermFreqVector for your needs.
>
> Persistance is a bit harder, but would probably involve manipulating
> the document and then re-indexing it so that it's new vector has the
> updated frequencies by adding some dummy terms onto the document.
>
> Is that what you are looking for?
>
>>>> ryan@skow.org 5/30/2005 12:37:54 PM >>>
>
> How would one go about adding additional terms to a field which is not
>
> stored literally, but instead has a termFreqVector?  For example:
>
> If DocumentA was indexed originally with:
>     myTermField: red green blue
>
> termFreqVector would look like:
>    freq {myTermField: red/1, green/1, blue/1}
>
> Now, I'd like to add some more terms (red, yellow) and desire the
> termFreqVector to look like this:
>    freq {myTermField: red/2, green/1, blue/1, yellow/1}
>
> It would seem like there would be a covenant way of accomplishing this,
>
> but I must be missing something.
>
> Any advice would be greatly appreciated!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 23:09:04 2005
Return-Path: <java-user-return-14677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32602 invoked from network); 31 May 2005 23:09:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 23:09:04 -0000
Received: (qmail 65319 invoked by uid 500); 31 May 2005 23:08:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65293 invoked by uid 500); 31 May 2005 23:08:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65273 invoked by uid 99); 31 May 2005 23:08:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ehatchersolutions.com (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 16:08:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8524913E2008; Tue, 31 May 2005 19:08:52 -0400 (EDT)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0FEB713E2007
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 19:08:40 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <7ca1239105053114496551c48c@mail.gmail.com>
References: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net> <7ca1239105053114496551c48c@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <273B4831-7679-4024-BD28-221A82E1A2A0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing multiple languages
Date: Tue, 31 May 2005 19:08:37 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jian - have you tried Lucene's StandardAnalyzer with Chinese?  It  
will keep English as-is (removing stop words, lowercasing, and such)  
and separate CJK characters into separate tokens also.

     Erik


On May 31, 2005, at 5:49 PM, jian chen wrote:

> Hi,
>
> Interesting topic. I thought about this as well. I wanted to index
> Chinese text with English, i.e., I want to treat the English text
> inside Chinese text as English tokens rather than Chinese text tokens.
>
> Right now I think maybe I have to write a special analyzer that takes
> the text input, and detect if the character is an ASCII char, if it
> is, assembly them together and make it as a token, if not, then, make
> it as a Chinese word token.
>
> So, bottom line is, just one analyzer for all the text and do the
> if/else statement inside the analyzer.
>
> I would like to learn more thoughts about this!
>
> Thanks,
>
> Jian
>
> On 5/31/05, Tansley, Robert <robert.tansley@hp.com> wrote:
>
>> Hi all,
>>
>> The DSpace (www.dspace.org) currently uses Lucene to index metadata
>> (Dublin Core standard) and extracted full-text content of documents
>> stored in it.  Now the system is being used globally, it needs to
>> support multi-language indexing.
>>
>> I've looked through the mailing list archives etc. and it seems it's
>> easy to plug in analyzers for different languages.
>>
>> What if we're trying to index multiple languages in the same  
>> site?  Is
>> it best to have:
>>
>> 1/ one index for all languages
>> 2/ one index for all languages, with an extra language field so  
>> searches
>> can be constrained to a particular language
>> 3/ separate indices for each language?
>>
>> I don't fully understand the consequences in terms of performance for
>> 1/, but I can see that false hits could turn up where one word  
>> appears
>> in different languages (stemming could increase the changes of this).
>> Also some languages' analyzers are quite dramatically different (e.g.
>> the Chinese one which just treats every character as a separate
>> token/word).
>>
>> On the other hand, if people are searching for proper nouns in  
>> metadata
>> (e.g. "DSpace") it may be advantageous to search all languages at  
>> once.
>>
>>
>> I'm also not sure of the storage and performance consequences of 2/.
>>
>> Approach 3/ seems like it might be the most complex from an
>> implementation/code point of view.
>>
>> Does anyone have any thoughts or recommendations on this?
>>
>> Many thanks,
>>
>>  Robert Tansley / Digital Media Systems Programme / HP Labs
>>   http://www.hpl.hp.com/personal/Robert_Tansley/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 23:13:52 2005
Return-Path: <java-user-return-14678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33521 invoked from network); 31 May 2005 23:13:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 23:13:52 -0000
Received: (qmail 74130 invoked by uid 500); 31 May 2005 23:13:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74101 invoked by uid 500); 31 May 2005 23:13:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74086 invoked by uid 99); 31 May 2005 23:13:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ehatchersolutions.com (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 16:13:46 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BE2EE13E2008; Tue, 31 May 2005 19:13:41 -0400 (EDT)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 97F2013E2007
	for <java-user@lucene.apache.org>; Tue, 31 May 2005 19:12:53 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v730)
In-Reply-To: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
References: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <72161B22-4400-4697-A77E-BCBA89323D92@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing multiple languages
Date: Tue, 31 May 2005 19:12:50 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Robert,

I'm very likely going to be using DSpace and some related  
technologies from the SIMILE project very soon :)


On May 31, 2005, at 5:08 PM, Tansley, Robert wrote:
> Hi all,
>
> The DSpace (www.dspace.org) currently uses Lucene to index metadata
> (Dublin Core standard) and extracted full-text content of documents
> stored in it.  Now the system is being used globally, it needs to
> support multi-language indexing.
>
> I've looked through the mailing list archives etc. and it seems it's
> easy to plug in analyzers for different languages.
>
> What if we're trying to index multiple languages in the same site?  Is
> it best to have:
>
> 1/ one index for all languages
> 2/ one index for all languages, with an extra language field so  
> searches
> can be constrained to a particular language
> 3/ separate indices for each language?

I would vote for option #2 as it gives the most flexibilty - you can  
query with or without concern for language.

> I'm also not sure of the storage and performance consequences of 2/.

Adding an additional field will be of little consequence.

> Approach 3/ seems like it might be the most complex from an
> implementation/code point of view.

I don't think #3 is all that complex to implement beyond the other  
options, except if you want to search across all languages - but the  
MultiSearcher can handle that.

> Does anyone have any thoughts or recommendations on this?

It's tough to give a general recommendation - it really depends on  
how each of these solutions fit into the architecture and what needs  
you have in terms of querying across multiple languages and such.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 31 23:17:08 2005
Return-Path: <java-user-return-14679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34402 invoked from network); 31 May 2005 23:17:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2005 23:17:08 -0000
Received: (qmail 79542 invoked by uid 500); 31 May 2005 23:17:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79512 invoked by uid 500); 31 May 2005 23:17:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79499 invoked by uid 99); 31 May 2005 23:17:02 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 16:17:00 -0700
Received: by rproxy.gmail.com with SMTP id 1so1683rny
        for <java-user@lucene.apache.org>; Tue, 31 May 2005 16:16:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EKLWBr4gaIveg/iq7/rCkHvHANURjlH6FVlhgsPV5aEtQqa4tHPbUltgjMq/liiU+RNxdCp7vS7f0UnToCQ9274CT7wZ5NjdXSLzFDgKdBOLT37zhVioGUiqBQRYXykGiPPNZpF1PbpxI3ECCWQH0w/xpvJRl8DAu0sqlqQoXhI=
Received: by 10.38.8.41 with SMTP id 41mr1671rnh;
        Tue, 31 May 2005 16:16:58 -0700 (PDT)
Received: by 10.38.8.79 with HTTP; Tue, 31 May 2005 16:16:58 -0700 (PDT)
Message-ID: <7ca1239105053116161706fb9c@mail.gmail.com>
Date: Tue, 31 May 2005 16:16:58 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing multiple languages
In-Reply-To: <273B4831-7679-4024-BD28-221A82E1A2A0@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net>
	 <7ca1239105053114496551c48c@mail.gmail.com>
	 <273B4831-7679-4024-BD28-221A82E1A2A0@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Erik,

Thanks for your info.=20

No, I haven't tried it yet. I will give it a try and maybe produce
some Chinese/English text search demo online.

Currently I used Lucene as the indexing engine for Velocity mailing
list search. I have a demo at www.jhsystems.net.

It is yet another mailing list search for Velocity, but I combined
date as well as full text search together.

I only used lucene for indexing the textual content, and combined
database search with lucene search in returning the results.

The other interesting thought I have is: maybe it is possible to use
Lucene's merge segments mechanism to write a java based simple file
system. Which of course, does not require constant compact operation.
The file system could be based on one file only, where segments are
just part of the big file. It might be really efficient in terms of
adding/deleting the objects all the time.

Lastly, any comments welcome for www.jhsystems.net Velocity search.

Thanks,

Jian
www.jhsystems.net

On 5/31/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> Jian - have you tried Lucene's StandardAnalyzer with Chinese?  It
> will keep English as-is (removing stop words, lowercasing, and such)
> and separate CJK characters into separate tokens also.
>=20
>      Erik
>=20
>=20
> On May 31, 2005, at 5:49 PM, jian chen wrote:
>=20
> > Hi,
> >
> > Interesting topic. I thought about this as well. I wanted to index
> > Chinese text with English, i.e., I want to treat the English text
> > inside Chinese text as English tokens rather than Chinese text tokens.
> >
> > Right now I think maybe I have to write a special analyzer that takes
> > the text input, and detect if the character is an ASCII char, if it
> > is, assembly them together and make it as a token, if not, then, make
> > it as a Chinese word token.
> >
> > So, bottom line is, just one analyzer for all the text and do the
> > if/else statement inside the analyzer.
> >
> > I would like to learn more thoughts about this!
> >
> > Thanks,
> >
> > Jian
> >
> > On 5/31/05, Tansley, Robert <robert.tansley@hp.com> wrote:
> >
> >> Hi all,
> >>
> >> The DSpace (www.dspace.org) currently uses Lucene to index metadata
> >> (Dublin Core standard) and extracted full-text content of documents
> >> stored in it.  Now the system is being used globally, it needs to
> >> support multi-language indexing.
> >>
> >> I've looked through the mailing list archives etc. and it seems it's
> >> easy to plug in analyzers for different languages.
> >>
> >> What if we're trying to index multiple languages in the same
> >> site?  Is
> >> it best to have:
> >>
> >> 1/ one index for all languages
> >> 2/ one index for all languages, with an extra language field so
> >> searches
> >> can be constrained to a particular language
> >> 3/ separate indices for each language?
> >>
> >> I don't fully understand the consequences in terms of performance for
> >> 1/, but I can see that false hits could turn up where one word
> >> appears
> >> in different languages (stemming could increase the changes of this).
> >> Also some languages' analyzers are quite dramatically different (e.g.
> >> the Chinese one which just treats every character as a separate
> >> token/word).
> >>
> >> On the other hand, if people are searching for proper nouns in
> >> metadata
> >> (e.g. "DSpace") it may be advantageous to search all languages at
> >> once.
> >>
> >>
> >> I'm also not sure of the storage and performance consequences of 2/.
> >>
> >> Approach 3/ seems like it might be the most complex from an
> >> implementation/code point of view.
> >>
> >> Does anyone have any thoughts or recommendations on this?
> >>
> >> Many thanks,
> >>
> >>  Robert Tansley / Digital Media Systems Programme / HP Labs
> >>   http://www.hpl.hp.com/personal/Robert_Tansley/
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-14680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 01 04:35:57 2005
Return-Path: <java-user-return-14680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35408 invoked from network); 1 Jun 2005 04:35:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2005 04:35:57 -0000
Received: (qmail 654 invoked by uid 500); 1 Jun 2005 04:35:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 618 invoked by uid 500); 1 Jun 2005 04:35:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 605 invoked by uid 99); 1 Jun 2005 04:35:48 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of markus.wiederkehr@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 31 May 2005 21:35:48 -0700
Received: by wproxy.gmail.com with SMTP id 50so2288810wri
        for <java-user@lucene.apache.org>; Tue, 31 May 2005 21:35:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G0pbjO9k6xabqPeRUUOcfmHiS1pjRSJTXgW/xHFxJC2orK8743p/sRIz3ytjpzTnpPChoIczarbNtEnIo5ZZg1CcT90LZrDVpIUyRhE24az8INAsnXi2Ghph9R2w/cleVodEPFtE9g2QFitoRO9JD0GTABBU9iZbNuavOfZTpyQ=
Received: by 10.54.37.8 with SMTP id k8mr3379457wrk;
        Tue, 31 May 2005 21:35:45 -0700 (PDT)
Received: by 10.54.51.73 with HTTP; Tue, 31 May 2005 21:35:45 -0700 (PDT)
Message-ID: <a925739605053121351b2b013a@mail.gmail.com>
Date: Wed, 1 Jun 2005 06:35:45 +0200
From: Markus Wiederkehr <markus.wiederkehr@gmail.com>
Reply-To: Markus Wiederkehr <markus.wiederkehr@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: managing docids for ParallelReader (was Augmenting an existing index)
In-Reply-To: <429CAAEF.4090306@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <FBA9F803D33470489B9B4676A6B09F0B014AE879@mt-exch1.montreal.speechworks.com>
	 <20050530202052.GN915@amok.local>
	 <10D0C917-EB85-4C06-A450-EE28786F454C@cenqua.com>
	 <429CAAEF.4090306@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/31/05, Doug Cutting <cutting@apache.org> wrote:
> Matt Quail wrote:
> > I have wondered about this as well. Are there any *sure fire* ways of
> > creating (and updating) two indices so that doc numbers in one index
> > deliberately correspond to doc numbers in the other index?
>=20
> If you add the documents in the same order to both indexes and perform
> the same deletions on both indexes then they'll have the same numbers.

The Javadoc says that ParallelReader is useful with collections that
have large fields which change rarely and small fields that change
more frequently. IMO that implies that you do *not* always apply the
same operations on both indexes.

> If this is not convenient, then you could add an id field to all
> documents in the primary index.  Then create (or re-create) the
> secondary index by iterating through the values in a FieldCache of this
> id field.

I guess I am too new to Lucene to understand how that is supposed to
work. What exactely is the purpose of a FieldCache and how is it
created and used? Could you elaborate on that, please?

> ParallelReader was not really designed to support incremental updates of
> fields, but rather to accellerate batch updates.  For incremental
> updates you're probably better served by updating a single index.

I would be happy with a single index if it were possible to change
fields of a document without affecting other fields. When I lookup a
document using an IndexSearcher, manipulate some fields and save that
instance using an IndexWriter I lose all fields that were indexed but
not stored. Recreating that fields whenever the ACL of a document
changes is too expensive and is not an option therefore.

> One could define an "acl" IndexReader subclass that generates termDoc
> lists on the fly by looking in an external database.  This would require
> a mapping between Lucene document ids and external document IDs.  A
> FieldCache, as described above, could serve that purpose.

Again, could you elaborate a little more on the FieldCache, please?

Thanks,

Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


