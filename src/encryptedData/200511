From java-user-return-17246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 10:36:33 2005
Return-Path: <java-user-return-17246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90225 invoked from network); 1 Nov 2005 10:36:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 10:36:33 -0000
Received: (qmail 22823 invoked by uid 500); 1 Nov 2005 10:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22425 invoked by uid 500); 1 Nov 2005 10:36:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 72853 invoked by uid 99); 1 Nov 2005 06:42:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=dk20050327; d=ix.netcom.com;
  b=A1ZlML0u2R6R3/ytKB4fFnWSRCrO9ra/1k5hhZQivN6eQ3sD5dxamH87lL8H3D7x;
  h=Received:Message-ID:Reply-To:From:To:Subject:Date:MIME-Version:Content-Type:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE:X-ELNK-Trace:X-Originating-IP;
Message-ID: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com>
Reply-To: "tcorbet" <tcorbet@ix.netcom.com>
From: "tcorbet" <tcorbet@ix.netcom.com>
To: <java-user@lucene.apache.org>
Subject: BooleanQuery
Date: Mon, 31 Oct 2005 22:43:32 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0012_01C5DE6C.8521B460"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1506
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
X-ELNK-Trace: 83b09a7f0580a067776432462e451d7bd15d05d9470ff710375f4553db8ddba0fd499a6eff7de2f8350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.95.31
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C5DE6C.8521B460
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have an index over the titles to .mp3 songs.
It is not unreasonable for the user to want to
see the results from:  "Show me Everything".

I understand that title:* is not a valid wildcard query.
I understand that title:[a* TO z*] is a valid wildcard query.

What I cannot understand is this behavior which
throws no exceptions:

title:[a* TO z*] returns 0 hits.

title [a* TO m*] OR [n* TO z*] returns *almost* the
correct answer -- one title [of approximately 1200] is missing.

title:[a* TO m*] OR [m* TO z*] correctly returns
all the available titles.

I arrived at  this 'bifurcation' solution because trial
and error indicated that the problem was somehow
related to the number of terms involved.

In addition to doing the bifurcation, I also setMaxClauseCount
up to 4096 from 1024, but that did not change
the observed behavior; it is still necessary to
present the Search engine with two smaller Ranges
in lieu of a single large Range to get correct
results.  [Note, just for completeness, I have
tested and confirmed that almost any bifurcation
works.  I can go from a-k and from k-z, just
as well as the example shown.  If, however, I
try some very small range coupled with some
longer range, such as a-t and t-z, it will
revert to returning 0 hits.]  [Another note, you
can safely assume that the distribution of words in=20
the titles of the music is not dramatically different
from the distribution of words you would find
in domains like email subjects, html page titles
or books from Amazon lists.]

There is obviously something *interesting* about the
behavior of the Search engine that I have failed to
grasp.  I would appreciate any instruction.

Thank you.

------=_NextPart_000_0012_01C5DE6C.8521B460--


From java-user-return-17247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 11:04:29 2005
Return-Path: <java-user-return-17247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4402 invoked from network); 1 Nov 2005 11:04:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 11:04:25 -0000
Received: (qmail 43060 invoked by uid 500); 1 Nov 2005 11:04:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42092 invoked by uid 500); 1 Nov 2005 11:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42080 invoked by uid 99); 1 Nov 2005 11:04:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:04:10 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:04:06 -0800
Received: by xproxy.gmail.com with SMTP id t11so253659wxc
        for <java-user@lucene.apache.org>; Tue, 01 Nov 2005 03:03:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=pR6PebjXlYdMu2zbyAtFhYi0BpBK1nDq6eh3iz/rppSMzGaGDs5xtuB4DsKz6qMY1m6520kWlUKDKKj1ymjOKKGfMpOpDemHipwWzTJK8sDTri4DaxVIHlxTa9GDPreOEBD7AKvYWlWyl7RlNpDZTaUdidMQDeK3vszRm3dV/fU=
Received: by 10.65.73.6 with SMTP id a6mr977440qbl;
        Tue, 01 Nov 2005 03:03:49 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Tue, 1 Nov 2005 03:03:19 -0800 (PST)
Message-ID: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
Date: Tue, 1 Nov 2005 13:03:19 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: what is the best way to sort by document ids
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14846_22470927.1130842999105"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14846_22470927.1130842999105
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

My documents contain a field called SORT_ID, which contains an int that
increases with every document added to the index. I want my results to be
sorted by it.

Which approach will prove the best performance:

1) Zero pad SORT_ID field and sort by it as plain text.
2) Sort using SortField for an INT.
3) Trust that using INDEXORDER will always return the same order as SORT_ID=
,
and use that.


Thanks,
Oren Shir

------=_Part_14846_22470927.1130842999105--

From java-user-return-17248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 11:05:20 2005
Return-Path: <java-user-return-17248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5006 invoked from network); 1 Nov 2005 11:05:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 11:05:20 -0000
Received: (qmail 45261 invoked by uid 500); 1 Nov 2005 11:05:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45239 invoked by uid 500); 1 Nov 2005 11:05:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45228 invoked by uid 99); 1 Nov 2005 11:05:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:05:12 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:05:07 -0800
Received: by zproxy.gmail.com with SMTP id q3so979614nzb
        for <java-user@lucene.apache.org>; Tue, 01 Nov 2005 03:04:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=afmoMJF0QnVQIYuKvzMUBMj5e4M+Cx0z7uxcn79LSg1Ouoqo5fQmGjrQ6KuwJ1d/UPy6bQeTQRHxBxv/IkYecmwC9uaovNFwmeT4jdDGHcQMMg6yD3dpmYmObBFCrw6oXLfP9/sg/7YTvrYmNaG81MRMr0HO7spVichjMRd9zjE=
Received: by 10.37.18.44 with SMTP id v44mr4314750nzi;
        Tue, 01 Nov 2005 03:04:47 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Tue, 1 Nov 2005 03:03:19 -0800 (PST)
Message-ID: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
Date: Tue, 1 Nov 2005 13:03:19 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: what is the best way to sort by document ids
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14846_22470927.1130842999105"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14846_22470927.1130842999105
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

My documents contain a field called SORT_ID, which contains an int that
increases with every document added to the index. I want my results to be
sorted by it.

Which approach will prove the best performance:

1) Zero pad SORT_ID field and sort by it as plain text.
2) Sort using SortField for an INT.
3) Trust that using INDEXORDER will always return the same order as SORT_ID=
,
and use that.


Thanks,
Oren Shir

------=_Part_14846_22470927.1130842999105--

From java-user-return-17249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 11:12:20 2005
Return-Path: <java-user-return-17249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9216 invoked from network); 1 Nov 2005 11:12:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 11:12:20 -0000
Received: (qmail 53608 invoked by uid 500); 1 Nov 2005 11:12:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53581 invoked by uid 500); 1 Nov 2005 11:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53570 invoked by uid 99); 1 Nov 2005 11:12:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:12:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:12:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6911B13E2006; Tue,  1 Nov 2005 06:11:51 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 4AA8913E2006
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 06:11:49 -0500 (EST)
In-Reply-To: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com>
References: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <634E4747-F468-4BB3-8933-BA2C767CCEE6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: BooleanQuery
Date: Tue, 1 Nov 2005 06:11:46 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1 Nov 2005, at 01:43, tcorbet wrote:
> I have an index over the titles to .mp3 songs.
> It is not unreasonable for the user to want to
> see the results from:  "Show me Everything".
>
> I understand that title:* is not a valid wildcard query.
> I understand that title:[a* TO z*] is a valid wildcard query.

That last one is NOT a valid wildcard query.  RangeQuery does not  
also do wildcards.

> What I cannot understand is this behavior which
> throws no exceptions:
>
> title:[a* TO z*] returns 0 hits.

This is literally searching for "a*" through "z*", with the asterisk  
being literal, not a wildcard.

> title [a* TO m*] OR [n* TO z*] returns *almost* the
> correct answer -- one title [of approximately 1200] is missing.

Is that your exact query?  Maybe you're finding "title"?

> title:[a* TO m*] OR [m* TO z*] correctly returns
> all the available titles.

Maybe this has to do with your default field, if that is your exact  
query.  [m* TO z*] is going to the default field for QueryParser, not  
the title field.

> There is obviously something *interesting* about the
> behavior of the Search engine that I have failed to
> grasp.  I would appreciate any instruction.

To get a range from a* TO z* you don't need a wildcard character at  
all.... title:[a TO z] is close, but it would miss zebra, etc.  You'd  
need to leave the end of the range open.   You could use title:[a TO  
zzzzzzzz] or something like that.  But again, RangeQuery does not  
deal with wildcard characters at all, and treats them literally.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 11:16:04 2005
Return-Path: <java-user-return-17250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10820 invoked from network); 1 Nov 2005 11:16:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 11:16:04 -0000
Received: (qmail 58758 invoked by uid 500); 1 Nov 2005 11:15:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58722 invoked by uid 500); 1 Nov 2005 11:15:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58707 invoked by uid 99); 1 Nov 2005 11:15:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:15:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 03:15:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EF03F13E2007; Tue,  1 Nov 2005 06:15:33 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 236EA13E2006
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 06:15:27 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
References: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9B0DEBC3-E225-4902-A145-0DA8B8AC36AA@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: what is the best way to sort by document ids
Date: Tue, 1 Nov 2005 06:15:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 1 Nov 2005, at 06:03, Oren Shir wrote:

> Hi,
>
> My documents contain a field called SORT_ID, which contains an int  
> that
> increases with every document added to the index. I want my results  
> to be
> sorted by it.
>
> Which approach will prove the best performance:
>
> 1) Zero pad SORT_ID field and sort by it as plain text.
> 2) Sort using SortField for an INT.
> 3) Trust that using INDEXORDER will always return the same order as  
> SORT_ID,
> and use that.

#3 - to sort by order indexed, there is no need to have a custom  
incrementing field.  I'd recommend dropping SORT_ID unless you need  
it for some other purpose.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 13:15:38 2005
Return-Path: <java-user-return-17251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61830 invoked from network); 1 Nov 2005 13:15:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 13:15:38 -0000
Received: (qmail 77966 invoked by uid 500); 1 Nov 2005 13:15:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77845 invoked by uid 500); 1 Nov 2005 13:15:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77834 invoked by uid 99); 1 Nov 2005 13:15:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:15:30 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 05:15:25 -0800
Received: (qmail 18163 invoked from network); 1 Nov 2005 13:15:08 -0000
Received: from unknown (HELO ?10.1.1.3?) (mike@curtin.com@24.247.92.83)
  by ws6-4.us4.outblaze.com with SMTP; 1 Nov 2005 13:15:08 -0000
Message-ID: <43676A5B.3020600@curtin.com>
Date: Tue, 01 Nov 2005 08:15:07 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: what is the best way to sort by document ids
References: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
In-Reply-To: <b7bee2520511010303o10090b6dyab34b9415ac0f614@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oren Shir wrote:

> My documents contain a field called SORT_ID, which contains an int that
> increases with every document added to the index. I want my results to be
> sorted by it.
> 
> Which approach will prove the best performance:
> 
> 1) Zero pad SORT_ID field and sort by it as plain text.
> 2) Sort using SortField for an INT.
> 3) Trust that using INDEXORDER will always return the same order as SORT_ID,
> and use that.

My experience is that #3 works very well in terms of performance, much 
better than sorting on any arbitrary field.  I haven't ever noticed a 
problem with it not working.  Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 13:18:11 2005
Return-Path: <java-user-return-17252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67214 invoked from network); 1 Nov 2005 13:18:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 13:18:10 -0000
Received: (qmail 79414 invoked by uid 500); 1 Nov 2005 13:18:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79389 invoked by uid 500); 1 Nov 2005 13:18:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79378 invoked by uid 99); 1 Nov 2005 13:18:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:18:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 05:18:00 -0800
Received: (qmail 28990 invoked from network); 1 Nov 2005 13:17:43 -0000
Received: from unknown (HELO ?10.1.1.3?) (mike@curtin.com@24.247.92.83)
  by ws6-4.us4.outblaze.com with SMTP; 1 Nov 2005 13:17:43 -0000
Message-ID: <43676AF7.90504@curtin.com>
Date: Tue, 01 Nov 2005 08:17:43 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: BooleanQuery
References: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com>
In-Reply-To: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

tcorbet wrote:

> I have an index over the titles to .mp3 songs.
> It is not unreasonable for the user to want to
> see the results from:  "Show me Everything".
> 
> I understand that title:* is not a valid wildcard query.
> I understand that title:[a* TO z*] is a valid wildcard query.
> 
> What I cannot understand is this behavior which
> throws no exceptions:
> 
> title:[a* TO z*] returns 0 hits.
> 
> title [a* TO m*] OR [n* TO z*] returns *almost* the
> correct answer -- one title [of approximately 1200] is missing.
> 
> title:[a* TO m*] OR [m* TO z*] correctly returns
> all the available titles.

What I have done in a case like this is short-circuit the search for an 
empty query and just read the documents out of the index, in order. 
That is, I don't really run a search in this case.  It's only a few 
lines of extra code, and you don't have to retrieve every document in 
the index until you need them.  Using a workaround query as in your 
example causes Lucene to examine every document in the index before 
returning you any.  Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 13:34:50 2005
Return-Path: <java-user-return-17253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75577 invoked from network); 1 Nov 2005 13:34:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 13:34:50 -0000
Received: (qmail 3415 invoked by uid 500); 1 Nov 2005 13:34:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3379 invoked by uid 500); 1 Nov 2005 13:34:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3356 invoked by uid 99); 1 Nov 2005 13:34:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:34:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:34:36 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2D3F513E2007; Tue,  1 Nov 2005 08:34:17 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id D3F3513E2006
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 08:34:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <43676AF7.90504@curtin.com>
References: <001501c5deaf$93c6ce90$0200a8c0@hq.sss.com> <43676AF7.90504@curtin.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <633C457F-94DB-4A12-A4E2-6EC587B77CC7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: BooleanQuery
Date: Tue, 1 Nov 2005 08:34:11 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 1 Nov 2005, at 08:17, Michael D. Curtin wrote:
> tcorbet wrote:
>
>
>> I have an index over the titles to .mp3 songs.
>> It is not unreasonable for the user to want to
>> see the results from:  "Show me Everything".
>> I understand that title:* is not a valid wildcard query.
>> I understand that title:[a* TO z*] is a valid wildcard query.
>> What I cannot understand is this behavior which
>> throws no exceptions:
>> title:[a* TO z*] returns 0 hits.
>> title [a* TO m*] OR [n* TO z*] returns *almost* the
>> correct answer -- one title [of approximately 1200] is missing.
>> title:[a* TO m*] OR [m* TO z*] correctly returns
>> all the available titles.
>>
>
> What I have done in a case like this is short-circuit the search  
> for an empty query and just read the documents out of the index, in  
> order. That is, I don't really run a search in this case.  It's  
> only a few lines of extra code, and you don't have to retrieve  
> every document in the index until you need them.  Using a  
> workaround query as in your example causes Lucene to examine every  
> document in the index before returning you any.  Good luck!

In the trunk of Lucene's codebase (and in the upcoming 1.9/2.0  
releases), there is a new MatchAllDocsQuery.  Just FYI.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 13:58:26 2005
Return-Path: <java-user-return-17254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87542 invoked from network); 1 Nov 2005 13:58:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 13:58:26 -0000
Received: (qmail 40948 invoked by uid 500); 1 Nov 2005 13:58:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40921 invoked by uid 500); 1 Nov 2005 13:58:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40909 invoked by uid 99); 1 Nov 2005 13:58:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:58:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.42.171.82] (HELO mail.runtime-collective.com) (212.42.171.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 05:58:14 -0800
Received: from [82.153.237.45] (helo=[192.168.1.132])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1EWwdy-0005Xh-00; Tue, 01 Nov 2005 13:57:43 +0000
Subject: Re: Search problems
From: Miles Barr <miles@runtime-collective.com>
To: java-user@lucene.apache.org
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com>
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Tue, 01 Nov 2005 13:56:07 +0000
Message-Id: <1130853367.22840.72.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.2 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2005-10-27 at 16:35 -0400, Sharma, Siddharth wrote:
> My index has 4 keyword fields and one unindexed field.
> I want to search by the 4 keyword fields and return the one unindexed field.
> 
> I can iterate over the documents via Luke.
> But when I search for the same values that I see via Luke, it does not find
> the document.
> Out of the 4 fields, 2 are alphanumeric and searching on just these two
> fields does succeed and I can find the document in question.
> 
> The other 2 fields can have numeric values. When I include these two fields
> in the search, the same document cannot be found.
> 
> I thought that the fact that these fields had numeric values might be the
> reason for the search to be unsuccessful. So I browsed for another document
> via Luke where these fields had alphanumeric values, but again could not
> find the document? Returns no result.
> 
> What could the problem be? Any ideas?
> I have added all the 4 fields with 'Field.Keyword'.

Field.Keyword requires an exact match, i.e. you should manually create a
TermQuery. Luke will analyze your query and hence tokenise it. Almost
certainly the tokens it creates won't match the values in your field,
because they have to be an exact match.

The StandardAnalyzer is the analyzer Luke uses by default. It will make
the search terms lower case, and AFAIK it almost removes numbers from
the query.


--
Miles Barr


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 15:09:49 2005
Return-Path: <java-user-return-17255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39776 invoked from network); 1 Nov 2005 15:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 15:09:49 -0000
Received: (qmail 67358 invoked by uid 500); 1 Nov 2005 15:09:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67265 invoked by uid 500); 1 Nov 2005 15:09:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67228 invoked by uid 99); 1 Nov 2005 15:09:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:09:33 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.4 as permitted sender)
Received: from [64.12.137.4] (HELO imo-m23.mail.aol.com) (64.12.137.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:09:28 -0800
Received: from Msftblows@aol.com
	by imo-m23.mx.aol.com (mail_out_v38_r6.3.) id h.24.7c643167 (15877)
	 for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 10:09:06 -0500 (EST)
Received: from  FWM-R39 (fwm-r39.webmail.aol.com [152.163.181.143]) by air-id07.mx.aol.com (v107.13) with ESMTP id MAILINID74-3e05436785122ff; Tue, 01 Nov 2005 10:09:06 -0500
Date: Tue, 01 Nov 2005 10:09:05 -0500
Message-Id: <8C7AD0D56145B16-1274-18049@FWM-R39.sysops.aol.com>
From: msftblows@aol.com
References: <41989D7DF8323B4CB0F7A58F5BA0101905BF0C@sydney.extremesoftware.ca>
Received: from 38.117.191.162 by FWM-R39.sysops.aol.com (152.163.181.143) with HTTP (WebMailUI); Tue, 01 Nov 2005 10:09:05 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <41989D7DF8323B4CB0F7A58F5BA0101905BF0C@sydney.extremesoftware.ca>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Java Indexer + DotLucene + IIS question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AD0D56145B16_1274_181FB_FWM-R39.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.143
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AD0D56145B16_1274_181FB_FWM-R39.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

One more question...if I do use a tool for replication and I only have the indexer running on one machine...say it creates 10 file *.cfs...the tool replicates all the files...then the machine with the indexer compresses those files and then are now all gone...how will they be removed from the slave machines? 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 20:40:55 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

I think it would. 

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com] 
Sent: October 31, 2005 4:06 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

My mistake...he sent this: http://www.nsisoftware.com/ 
 
-----Original Message-----
From: msftblows@aol.com
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:59:27 -0500
Subject: Re: Java Indexer + DotLucene + IIS question


My webmaster sent me this:
http://www.lyonware.co.uk/DoubleTake/DoubleTake.htm
 
He has used this...can I assume this would work just as well? 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:50:46 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

Replistor makes a byte to byte copy to the slave machines from the Main
PC.  We use it to replicate a SQLServer Database to a standby PC (it
does a byte to byte copy), it also sync's our web application changes
across the web farm. 

http://www.legato.com/products/replistor/

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 3:36 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

Never seen this product...but in my case I would have the indexer
running on one webserver and the second it creates a file, Replistor
will take care of getting to all the other machines...but will there be
any issues with compressing etc.? I have come across where .cfs files
were missing etc. 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only have
one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
 
I have the following situation, and I am looking for any suggestions...
 
First, here is my current configuration:
 
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
 
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
 
3. The index location(s) are read from a config file
 
4. I am currently running this site on one webserver (not a farm)
 
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s). 
 
Possible Solutions: 
 
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
 
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
 
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
 
4. I don't want to store the indexes in a database
 
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
 
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
 
 
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
 
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7AD0D56145B16_1274_181FB_FWM-R39.sysops.aol.com--

From java-user-return-17256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 15:15:57 2005
Return-Path: <java-user-return-17256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44494 invoked from network); 1 Nov 2005 15:15:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 15:15:57 -0000
Received: (qmail 91215 invoked by uid 500); 1 Nov 2005 15:15:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91190 invoked by uid 500); 1 Nov 2005 15:15:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91179 invoked by uid 99); 1 Nov 2005 15:15:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:15:49 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.55 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.55] (HELO imf07aec.mail.bellsouth.net) (205.152.59.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:15:44 -0800
Received: from ibm65aec.bellsouth.net ([68.209.119.157])
          by imf22aec.mail.bellsouth.net with ESMTP
          id <20051101151229.NKEY19457.imf22aec.mail.bellsouth.net@ibm65aec.bellsouth.net>
          for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 10:12:29 -0500
Received: from jimwormold ([68.209.119.157]) by ibm65aec.bellsouth.net
          with ESMTP
          id <20051101151226.VLAY28071.ibm65aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 10:12:26 -0500
Date: Tue, 1 Nov 2005 10:12:08 -0500 (EST)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: Search problems
In-Reply-To: <1130853367.22840.72.camel@localhost.localdomain>
Message-ID: <Pine.LNX.4.63.0511011004510.8860@jimwormold>
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com>
 <1130853367.22840.72.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One approach for matching your queries with Luke would be to write a
custom Analyzer that does absolutely nothing to the terms. Then, if you
put this Analyzer in your classpath when running Luke you can select it
as the Analyzer you want Luke to use to tokenize your query. This is
not, of course, the approach you would want to take in your application,
but at least it will allow you to use Luke as you have specified.

-- Robert Watkins

On Tue, 1 Nov 2005, Miles Barr wrote:

> On Thu, 2005-10-27 at 16:35 -0400, Sharma, Siddharth wrote:
>> My index has 4 keyword fields and one unindexed field.
>> I want to search by the 4 keyword fields and return the one unindexed field.
>>
>> I can iterate over the documents via Luke.
>> But when I search for the same values that I see via Luke, it does not find
>> the document.
>>
>> [ snipped ]
>>
>> What could the problem be? Any ideas?
>> I have added all the 4 fields with 'Field.Keyword'.
>
> Field.Keyword requires an exact match, i.e. you should manually create a
> TermQuery. Luke will analyze your query and hence tokenise it. Almost
> certainly the tokens it creates won't match the values in your field,
> because they have to be an exact match.
>
> [ snipped ]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 15:19:46 2005
Return-Path: <java-user-return-17257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46850 invoked from network); 1 Nov 2005 15:19:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 15:19:45 -0000
Received: (qmail 4297 invoked by uid 500); 1 Nov 2005 15:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4273 invoked by uid 500); 1 Nov 2005 15:19:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4262 invoked by uid 99); 1 Nov 2005 15:19:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:19:38 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.70 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.70] (HELO imf22aec.mail.bellsouth.net) (205.152.59.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:19:34 -0800
Received: from ibm65aec.bellsouth.net ([68.209.119.157])
          by imf22aec.mail.bellsouth.net with ESMTP
          id <20051101151646.NZVJ19457.imf22aec.mail.bellsouth.net@ibm65aec.bellsouth.net>
          for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 10:16:46 -0500
Received: from jimwormold ([68.209.119.157]) by ibm65aec.bellsouth.net
          with ESMTP
          id <20051101151645.VNCI28071.ibm65aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 10:16:45 -0500
Date: Tue, 1 Nov 2005 10:16:16 -0500 (EST)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: Search problems
In-Reply-To: <1130853367.22840.72.camel@localhost.localdomain>
Message-ID: <Pine.LNX.4.63.0511011012260.8860@jimwormold>
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com>
 <1130853367.22840.72.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One approach for matching your queries with Luke would be to write a
custom Analyzer that does absolutely nothing to the terms. Then, if you
put this Analyzer in your classpath when running Luke you can select it
as the Analyzer you want Luke to use to tokenize your query. This is
not, of course, the approach you would want to take in your application,
but at least it will allow you to use Luke as you have specified.

-- Robert Watkins

On Tue, 1 Nov 2005, Miles Barr wrote:

> On Thu, 2005-10-27 at 16:35 -0400, Sharma, Siddharth wrote:
>> My index has 4 keyword fields and one unindexed field.
>> I want to search by the 4 keyword fields and return the one unindexed field.
>>
>> I can iterate over the documents via Luke.
>> But when I search for the same values that I see via Luke, it does not find
>> the document.
>>
>> [ snipped ]
>>
>> What could the problem be? Any ideas?
>> I have added all the 4 fields with 'Field.Keyword'.
>
> Field.Keyword requires an exact match, i.e. you should manually create a
> TermQuery. Luke will analyze your query and hence tokenise it. Almost
> certainly the tokens it creates won't match the values in your field,
> because they have to be an exact match.
>
> [ snipped ]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 15:27:59 2005
Return-Path: <java-user-return-17258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51935 invoked from network); 1 Nov 2005 15:27:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 15:27:59 -0000
Received: (qmail 17043 invoked by uid 500); 1 Nov 2005 15:27:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17022 invoked by uid 500); 1 Nov 2005 15:27:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17009 invoked by uid 99); 1 Nov 2005 15:27:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:27:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:27:48 -0800
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14A19C8D@mailer.syr.edu>; Tue, 1 Nov 2005 10:27:30 -0500
Message-ID: <43678961.1050506@syr.edu>
Date: Tue, 01 Nov 2005 10:27:29 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050411)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search problems
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com> <1130853367.22840.72.camel@localhost.localdomain> <Pine.LNX.4.63.0511011004510.8860@jimwormold>
In-Reply-To: <Pine.LNX.4.63.0511011004510.8860@jimwormold>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Such an analyzer already exists, in Lucene's Subversion repository, 
under contrib/analyzers/: KeywordAnalyzer.

Robert Watkins wrote:
> One approach for matching your queries with Luke would be to write a
> custom Analyzer that does absolutely nothing to the terms. Then, if you
> put this Analyzer in your classpath when running Luke you can select it
> as the Analyzer you want Luke to use to tokenize your query. This is
> not, of course, the approach you would want to take in your application,
> but at least it will allow you to use Luke as you have specified.
> 
> -- Robert Watkins
> 
> On Tue, 1 Nov 2005, Miles Barr wrote:
> 
>> On Thu, 2005-10-27 at 16:35 -0400, Sharma, Siddharth wrote:
>>
>>> My index has 4 keyword fields and one unindexed field.
>>> I want to search by the 4 keyword fields and return the one unindexed 
>>> field.
>>>
>>> I can iterate over the documents via Luke.
>>> But when I search for the same values that I see via Luke, it does 
>>> not find
>>> the document.
>>>
>>> [ snipped ]
>>>
>>> What could the problem be? Any ideas?
>>> I have added all the 4 fields with 'Field.Keyword'.
>>
>>
>> Field.Keyword requires an exact match, i.e. you should manually create a
>> TermQuery. Luke will analyze your query and hence tokenise it. Almost
>> certainly the tokens it creates won't match the values in your field,
>> because they have to be an exact match.
>>
>> [ snipped ]


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 15:46:17 2005
Return-Path: <java-user-return-17259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62294 invoked from network); 1 Nov 2005 15:46:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 15:46:17 -0000
Received: (qmail 56018 invoked by uid 500); 1 Nov 2005 15:46:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55997 invoked by uid 500); 1 Nov 2005 15:46:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55986 invoked by uid 99); 1 Nov 2005 15:46:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:46:11 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 07:46:06 -0800
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ee2360>; Tue, 01 Nov 2005 10:45:45 -0500
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <VT7XF171>; Tue, 1 Nov 2005 10:45:45 -0500
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B9EDEDD@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: StandardAnalyzer and thread safety
Date: Tue, 1 Nov 2005 10:45:38 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is using a QueryParser to parse a query using the same, single instance of
Analyzer thread-safe?
Or should I create a new Analyzer each time?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:02:39 2005
Return-Path: <java-user-return-17260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69215 invoked from network); 1 Nov 2005 16:02:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:02:38 -0000
Received: (qmail 88202 invoked by uid 500); 1 Nov 2005 16:02:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88084 invoked by uid 500); 1 Nov 2005 16:02:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88073 invoked by uid 99); 1 Nov 2005 16:02:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:02:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.202] (HELO smtp812.mail.ukl.yahoo.com) (217.12.12.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 08:02:27 -0800
Received: (qmail 44715 invoked from network); 1 Nov 2005 16:02:09 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.49 with login)
  by smtp812.mail.ukl.yahoo.com with SMTP; 1 Nov 2005 16:02:08 -0000
Message-ID: <003901c5defd$9c943d20$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDEDD@fraexmb2.staples.com>
Subject: Analysis
Date: Tue, 1 Nov 2005 16:02:08 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I've been reading my new project bible 'Lucene in Action' about Analysis in 
Chapter 4 and wondered what others are doing for indexing XML(if anyone else 
is, that is!).
Are you folks just writing your own or utilising the current Lucene analysis 
libraries?
thanks,
Malcolm Clark 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:10:40 2005
Return-Path: <java-user-return-17261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72962 invoked from network); 1 Nov 2005 16:10:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:10:39 -0000
Received: (qmail 3001 invoked by uid 500); 1 Nov 2005 16:10:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2982 invoked by uid 500); 1 Nov 2005 16:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2971 invoked by uid 99); 1 Nov 2005 16:10:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:10:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:10:27 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analysis
Date: Tue, 1 Nov 2005 11:07:40 -0500
Message-ID: <13F36D2926AD444697093282F20041B703A65E2D@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analysis
Thread-Index: AcXe/a4qXzUVVI9JR2mlj4UsXKUdSgAAEWYw
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not exactly sure what you're asking with regards to Analyzers and
parsing XML...

But for parsing and indexing XML documents with Lucene, you can find a
lot of material out there by searching the list archives and using
google. However, the document I found most helpful was this piece
written by Otis:

http://www-128.ibm.com/developerworks/java/library/j-lucene/

I primarily used that to get me started with using Digester and Lucene
together to index XML documents. You can download Apache Commons
Digester from here:

http://jakarta.apache.org/commons/digester/

Peter

> -----Original Message-----
> From: Malcolm [mailto:malcyclark@btinternet.com]=20
> Sent: Tuesday, November 01, 2005 11:02 AM
> To: java-user@lucene.apache.org
> Subject: Analysis
>=20
> Hi,
> I've been reading my new project bible 'Lucene in Action'=20
> about Analysis in Chapter 4 and wondered what others are=20
> doing for indexing XML(if anyone else is, that is!).
> Are you folks just writing your own or utilising the current=20
> Lucene analysis libraries?
> thanks,
> Malcolm Clark=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:19:37 2005
Return-Path: <java-user-return-17262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78162 invoked from network); 1 Nov 2005 16:19:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:19:37 -0000
Received: (qmail 14273 invoked by uid 500); 1 Nov 2005 16:19:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14254 invoked by uid 500); 1 Nov 2005 16:19:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14233 invoked by uid 99); 1 Nov 2005 16:19:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:19:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.201] (HELO smtp811.mail.ukl.yahoo.com) (217.12.12.201)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 08:19:27 -0800
Received: (qmail 57071 invoked from network); 1 Nov 2005 16:19:09 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.49 with login)
  by smtp811.mail.ukl.yahoo.com with SMTP; 1 Nov 2005 16:19:08 -0000
Message-ID: <005c01c5deff$fc855370$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <13F36D2926AD444697093282F20041B703A65E2D@buf-ex01.cymfony.com>
Subject: Re: Analysis
Date: Tue, 1 Nov 2005 16:19:08 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I'm just asking for opinions on Analyzer's for the indexing. For example 
Otis in his article uses the WhitespaceAnalyzer and the Sandbox program uses 
the StandardAnalyzer.I am just gauging opinions on the subject with regard 
to XML.
I'm using a mix of the Sandbox XMLDocumentHandlerSAX and a bit extra. I 
originally started using Digester but found that I preferred the Sandbox 
implementation.
Thanks,
Malcolm Clark 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:33:36 2005
Return-Path: <java-user-return-17263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85781 invoked from network); 1 Nov 2005 16:33:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:33:36 -0000
Received: (qmail 39935 invoked by uid 500); 1 Nov 2005 16:33:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39908 invoked by uid 500); 1 Nov 2005 16:33:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39897 invoked by uid 99); 1 Nov 2005 16:33:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:33:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:33:25 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analysis
Date: Tue, 1 Nov 2005 11:30:42 -0500
Message-ID: <13F36D2926AD444697093282F20041B703A65E5D@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analysis
Thread-Index: AcXfAAwb6anrHhttSCuix9Iy3eeYEgAABJKg
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok... just got confused because you mentioned XML. Unless you're
actually indexing the raw XML in some of your fields, the fact that
you're indexing XML documents as your source content is irrelevant to
your choice of Analyzer.

Choice of indexer really depends on your specific project requirements
and what level of querying functionality your client needs. For example,
I started off using the StandardAnalyzer because it incorporates some
very useful and sophisticated functionality. But I found that it was
removing many stop words that my client requested the ability to query
with, so I will end up using my own custom analyzer class primarily
based on the StandardAnalyzer but modifying the stop word list.



> -----Original Message-----
> From: Malcolm [mailto:malcyclark@btinternet.com]=20
> Sent: Tuesday, November 01, 2005 11:19 AM
> To: java-user@lucene.apache.org
> Subject: Re: Analysis
>=20
> Hi,
> I'm just asking for opinions on Analyzer's for the indexing.=20
> For example Otis in his article uses the WhitespaceAnalyzer=20
> and the Sandbox program uses the StandardAnalyzer.I am just=20
> gauging opinions on the subject with regard to XML.
> I'm using a mix of the Sandbox XMLDocumentHandlerSAX and a=20
> bit extra. I originally started using Digester but found that=20
> I preferred the Sandbox implementation.
> Thanks,
> Malcolm Clark=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:39:18 2005
Return-Path: <java-user-return-17264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88838 invoked from network); 1 Nov 2005 16:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:39:18 -0000
Received: (qmail 56463 invoked by uid 500); 1 Nov 2005 16:39:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56445 invoked by uid 500); 1 Nov 2005 16:39:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56434 invoked by uid 99); 1 Nov 2005 16:39:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:39:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:39:06 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jA1Gcjq0023346
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 11:38:46 -0500 (EST)
Message-ID: <43679A15.9000403@syr.edu>
Date: Tue, 01 Nov 2005 11:38:45 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Analysis
References: <13F36D2926AD444697093282F20041B703A65E2D@buf-ex01.cymfony.com> <005c01c5deff$fc855370$0201a8c0@MALCOLM>
In-Reply-To: <005c01c5deff$fc855370$0201a8c0@MALCOLM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not sure I am understanding your question correctly, but I think you 
want to pick your Analyzer based on what is in your content (i.e. 
language, usage of special symbols, etc.), not based on what the format 
of your content is (i.e. XML).

Malcolm wrote:

> Hi,
> I'm just asking for opinions on Analyzer's for the indexing. For 
> example Otis in his article uses the WhitespaceAnalyzer and the 
> Sandbox program uses the StandardAnalyzer.I am just gauging opinions 
> on the subject with regard to XML.
> I'm using a mix of the Sandbox XMLDocumentHandlerSAX and a bit extra. 
> I originally started using Digester but found that I preferred the 
> Sandbox implementation.
> Thanks,
> Malcolm Clark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 16:44:00 2005
Return-Path: <java-user-return-17265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91430 invoked from network); 1 Nov 2005 16:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 16:44:00 -0000
Received: (qmail 69043 invoked by uid 500); 1 Nov 2005 16:43:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69018 invoked by uid 500); 1 Nov 2005 16:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69007 invoked by uid 99); 1 Nov 2005 16:43:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 08:43:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.196] (HELO smtp806.mail.ukl.yahoo.com) (217.12.12.196)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 08:43:49 -0800
Received: (qmail 17969 invoked from network); 1 Nov 2005 16:43:31 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.49 with login)
  by smtp806.mail.ukl.yahoo.com with SMTP; 1 Nov 2005 16:43:30 -0000
Message-ID: <006f01c5df03$640062d0$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <13F36D2926AD444697093282F20041B703A65E5D@buf-ex01.cymfony.com>
Subject: Re: Analysis
Date: Tue, 1 Nov 2005 16:43:29 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm currently indexing the INEX collection and then performing queries on 
the Format features within the text. I am using a wide range of the XML 
features. The reason I asked about the XML Analysis is I am interesting in 
opinions and reasons for adding a wide range of discussion to my 
dissertation regarding Lucene.
Thanks,
Malcolm 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 19:35:36 2005
Return-Path: <java-user-return-17266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75915 invoked from network); 1 Nov 2005 19:35:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 19:35:36 -0000
Received: (qmail 50016 invoked by uid 500); 1 Nov 2005 19:35:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49986 invoked by uid 500); 1 Nov 2005 19:35:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49975 invoked by uid 99); 1 Nov 2005 19:35:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 11:35:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.236.111.6] (HELO paris.ifactory.com) (68.236.111.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 11:35:25 -0800
Received: from bender.ifactory.com (bender.ifactory.com [192.168.10.80])
	by paris.ifactory.com (8.13.4/8.13.4) with ESMTP id jA1JZ7uY005802
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 14:35:07 -0500
Subject: lock file race conditions
From: Dan Adams <dan@ifactory.com>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: Interactive Factory
Date: Tue, 01 Nov 2005 14:39:09 -0500
Message-Id: <1130873949.3139.17.camel@bender.ifactory.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 (2.2.3-2.1.fc4.nr) 
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.53 on 192.168.10.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have 2 junit tests. The first opens on index writer and then simulates
have an IOException get throw when trying to add a document. The test
that runs after than is just a normal test of the search. After the
first test completes a lock file is left in /tmp. Now, if I run the test
suite normally I get a "couldnt delete the lock file" exception from the
second test. If I run it again and set a breakpoint at the beginning of
the second test, wait a second, and then let it continue it runs fine.
What is causing this?

-- 
Dan Adams
Software Engineer
Interactive Factory


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 19:43:17 2005
Return-Path: <java-user-return-17267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78412 invoked from network); 1 Nov 2005 19:43:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 19:43:17 -0000
Received: (qmail 60135 invoked by uid 500); 1 Nov 2005 19:43:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60107 invoked by uid 500); 1 Nov 2005 19:43:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60090 invoked by uid 99); 1 Nov 2005 19:43:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 11:43:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 11:43:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5A1095B79C; Tue,  1 Nov 2005 11:42:49 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 525B57F467
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 11:42:49 -0800 (PST)
Date: Tue, 1 Nov 2005 11:42:49 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: lock file race conditions
In-Reply-To: <1130873949.3139.17.camel@bender.ifactory.com>
Message-ID: <Pine.LNX.4.58.0511011136550.32326@hal.rescomp.berkeley.edu>
References: <1130873949.3139.17.camel@bender.ifactory.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) how do you simulate the exception?
2) you didn't say you got a lock timeout error, you said you got a
   "couldnt delete the lock file" exception ... is your second test
   forcably trying to unlock the index?
3) are you running this test on a windows machine?
4) can you post your unit test?


If i had to guess...

You probably aren't closing the writer in your first
test (as a result of the exception) so the write lock it has open isn't
being released untill the GC calls the finalize() method on that object.

When the tests run normally, the lag for GC is great enough that the lock
file cannot be removed becuase windows won't let you remove a file that is
open.   When you run in the debugger, the pause because of the breakpoint
gives the JVM a chance to call the finalize method.



: Date: Tue, 01 Nov 2005 14:39:09 -0500
: From: Dan Adams <dan@ifactory.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: lock file race conditions
:
: I have 2 junit tests. The first opens on index writer and then simulates
: have an IOException get throw when trying to add a document. The test
: that runs after than is just a normal test of the search. After the
: first test completes a lock file is left in /tmp. Now, if I run the test
: suite normally I get a "couldnt delete the lock file" exception from the
: second test. If I run it again and set a breakpoint at the beginning of
: the second test, wait a second, and then let it continue it runs fine.
: What is causing this?
:
: --
: Dan Adams
: Software Engineer
: Interactive Factory
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 20:05:30 2005
Return-Path: <java-user-return-17268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88447 invoked from network); 1 Nov 2005 20:05:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 20:05:30 -0000
Received: (qmail 92127 invoked by uid 500); 1 Nov 2005 20:05:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92092 invoked by uid 500); 1 Nov 2005 20:05:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92081 invoked by uid 99); 1 Nov 2005 20:05:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:05:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.236.111.6] (HELO paris.ifactory.com) (68.236.111.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:05:20 -0800
Received: from bender.ifactory.com (bender.ifactory.com [192.168.10.80])
	by paris.ifactory.com (8.13.4/8.13.4) with ESMTP id jA1K52Sf006706
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 15:05:02 -0500
Subject: Re: lock file race conditions
From: Dan Adams <dan@ifactory.com>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0511011136550.32326@hal.rescomp.berkeley.edu>
References: <1130873949.3139.17.camel@bender.ifactory.com>
	 <Pine.LNX.4.58.0511011136550.32326@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Organization: Interactive Factory
Date: Tue, 01 Nov 2005 15:09:04 -0500
Message-Id: <1130875744.3139.21.camel@bender.ifactory.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 (2.2.3-2.1.fc4.nr) 
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.53 on 192.168.10.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well, I'm running on linux and I thought the problem was that the writer
was not being closed but the ioexception is thrown at:

IndexWriter writer = new IndexWriter(directory, new StandardAnalyzer(),
true);

so if I try to close() it in a finally or something it throws a null
pointer exception since the exception was throw in the constructor.

I'm simulating the exception by hand-creating the index directory and
then setting it to read only. that way when the above tries to create
the index it throws an exception.

I was guessing the delay was is because something else is holding onto
the file but I wasn't sure in terms of lucene how to make sure the lock
file is deleted if an exception like the above is thrown.

On Tue, 2005-11-01 at 11:42 -0800, Chris Hostetter wrote:
> 1) how do you simulate the exception?
> 2) you didn't say you got a lock timeout error, you said you got a
>    "couldnt delete the lock file" exception ... is your second test
>    forcably trying to unlock the index?
> 3) are you running this test on a windows machine?
> 4) can you post your unit test?
> 
> 
> If i had to guess...
> 
> You probably aren't closing the writer in your first
> test (as a result of the exception) so the write lock it has open isn't
> being released untill the GC calls the finalize() method on that object.
> 
> When the tests run normally, the lag for GC is great enough that the lock
> file cannot be removed becuase windows won't let you remove a file that is
> open.   When you run in the debugger, the pause because of the breakpoint
> gives the JVM a chance to call the finalize method.
> 
> 
> 
> : Date: Tue, 01 Nov 2005 14:39:09 -0500
> : From: Dan Adams <dan@ifactory.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: lock file race conditions
> :
> : I have 2 junit tests. The first opens on index writer and then simulates
> : have an IOException get throw when trying to add a document. The test
> : that runs after than is just a normal test of the search. After the
> : first test completes a lock file is left in /tmp. Now, if I run the test
> : suite normally I get a "couldnt delete the lock file" exception from the
> : second test. If I run it again and set a breakpoint at the beginning of
> : the second test, wait a second, and then let it continue it runs fine.
> : What is causing this?
> :
> : --
> : Dan Adams
> : Software Engineer
> : Interactive Factory
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
-- 
Dan Adams
Software Engineer
Interactive Factory


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 20:21:05 2005
Return-Path: <java-user-return-17269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 656 invoked from network); 1 Nov 2005 20:21:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 20:21:05 -0000
Received: (qmail 14166 invoked by uid 500); 1 Nov 2005 20:21:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14146 invoked by uid 500); 1 Nov 2005 20:20:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14123 invoked by uid 99); 1 Nov 2005 20:20:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:20:59 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.6 as permitted sender)
Received: from [64.12.137.6] (HELO imo-m25.mx.aol.com) (64.12.137.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:20:55 -0800
Received: from Msftblows@aol.com
	by imo-m25.mx.aol.com (mail_out_v38_r6.3.) id h.210.d0c3b20 (16087)
	 for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 15:20:30 -0500 (EST)
Received: from  mblk-d36 (mblk-d36.mblk.aol.com [205.188.212.220]) by air-id10.mx.aol.com (v107.13) with ESMTP id MAILINID104-3ed74367ce0e2aa; Tue, 01 Nov 2005 15:20:30 -0400
Date: Tue, 01 Nov 2005 15:20:30 -0500
From: msftblows@aol.com
Message-Id: <8C7AD38D6BE18E8-87C-2F7@mblk-d36.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.162 by mblk-d36.sysops.aol.com (205.188.212.220) with HTTP (WebMailUI); Tue, 01 Nov 2005 15:20:30 -0500
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Indexing Help
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AD38D6BE18E8_87C_2FE_mblk-d36.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.220
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AD38D6BE18E8_87C_2FE_mblk-d36.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hey-
 
I currently have an index with user information...one of the fields that I have in a document is CurrentJob...I was asked to add in past jobs as well....but the rules are that I can configure the weighting (mainly boosting) for absolute jobs (that this is a current job or a not current job) as well as configure boosting for a time basis (user was at job from 2002-2005). 
 
If I add a field called OldJobs and a field called JobDates I can add to the index like so:
 
Job1;Job2;Job3
Date1;Date2;Date3
 
My question is that boosting is done at a field level...using the above approach I won't be able to boost or negate based off location within field...or could I? Perhaps there is a better way of doing this?
 
Thanks!
-Joe

----------MailBlocks_8C7AD38D6BE18E8_87C_2FE_mblk-d36.sysops.aol.com--

From java-user-return-17270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 20:46:10 2005
Return-Path: <java-user-return-17270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15229 invoked from network); 1 Nov 2005 20:46:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 20:46:10 -0000
Received: (qmail 56705 invoked by uid 500); 1 Nov 2005 20:46:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56676 invoked by uid 500); 1 Nov 2005 20:46:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56664 invoked by uid 99); 1 Nov 2005 20:46:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:46:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:46:00 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EFBE85B7B4; Tue,  1 Nov 2005 12:45:42 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id EBBEA7F471
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 12:45:42 -0800 (PST)
Date: Tue, 1 Nov 2005 12:45:42 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: lock file race conditions
In-Reply-To: <1130875744.3139.21.camel@bender.ifactory.com>
Message-ID: <Pine.LNX.4.58.0511011243230.503@hal.rescomp.berkeley.edu>
References: <1130873949.3139.17.camel@bender.ifactory.com> 
 <Pine.LNX.4.58.0511011136550.32326@hal.rescomp.berkeley.edu>
 <1130875744.3139.21.camel@bender.ifactory.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: IndexWriter writer = new IndexWriter(directory, new StandardAnalyzer(),
: true);
:
: so if I try to close() it in a finally or something it throws a null
: pointer exception since the exception was throw in the constructor.
:
: I'm simulating the exception by hand-creating the index directory and
: then setting it to read only. that way when the above tries to create
: the index it throws an exception.
:
: I was guessing the delay was is because something else is holding onto
: the file but I wasn't sure in terms of lucene how to make sure the lock
: file is deleted if an exception like the above is thrown.

Hmmm... that's a really interesting situation, can you post the unit test
-- it might help people understand what's going on.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 20:54:26 2005
Return-Path: <java-user-return-17271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19555 invoked from network); 1 Nov 2005 20:54:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 20:54:25 -0000
Received: (qmail 75640 invoked by uid 500); 1 Nov 2005 20:54:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75618 invoked by uid 500); 1 Nov 2005 20:54:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75599 invoked by uid 99); 1 Nov 2005 20:54:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:54:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 12:54:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 99BAF13E2007; Tue,  1 Nov 2005 15:53:56 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6D82E13E2006
	for <java-user@lucene.apache.org>; Tue,  1 Nov 2005 15:53:46 -0500 (EST)
In-Reply-To: <003901c5defd$9c943d20$0201a8c0@MALCOLM>
References: <A9D9F16EC5955244A7B760CB3B8258480B9EDEDD@fraexmb2.staples.com> <003901c5defd$9c943d20$0201a8c0@MALCOLM>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <62C38552-A66C-4434-8B44-76C3B6B87CF6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Analysis
Date: Tue, 1 Nov 2005 15:53:42 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 1 Nov 2005, at 11:02, Malcolm wrote:

> Hi,
> I've been reading my new project bible 'Lucene in Action'

Amen!   ;)

> about Analysis in Chapter 4 and wondered what others are doing for  
> indexing XML(if anyone else is, that is!).
> Are you folks just writing your own or utilising the current Lucene  
> analysis libraries?

Analyzers are at a per-field granularity, and more than likely your  
XML data contains what you would want treated as multiple fields.  So  
while an analyzer _could_ directly deal with XML, it really is  
unlikely to be the appropriate layer to do so.   The majority of  
scenarios would have XML parsed separately and then the individual  
separated text fed to Lucene fields for analysis.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 23:46:06 2005
Return-Path: <java-user-return-17272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 520 invoked from network); 1 Nov 2005 23:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 23:46:06 -0000
Received: (qmail 13275 invoked by uid 500); 1 Nov 2005 23:46:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13253 invoked by uid 500); 1 Nov 2005 23:45:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13237 invoked by uid 99); 1 Nov 2005 23:45:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 15:45:59 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 15:45:55 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id jA1Njc309218
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 15:45:38 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id PAA01905
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 15:45:37 -0800 (PST)
In-Reply-To: <13F36D2926AD444697093282F20041B703A65B3B@buf-ex01.cymfony.com>
Subject: RE: Help requested
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFD4CE634C.FBCC3ABB-ON882570AC.00825414-852570AC.008283C6@sybase.com>
From: Daniel.Clark@sybase.com
Date: Tue, 1 Nov 2005 18:45:34 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/01/2005
 03:45:37 PM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You're right, Peter.  I did some thorough testing today and I was very
wrong.  I'm now using MultiFieldQueryParser as Erik suggested.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             "Peter Kim"                                                   
             <pkim@cymfony.com                                             
             >                                                          To 
                                       <java-user@lucene.apache.org>       
             10/31/2005 10:22                                           cc 
             AM                                                            
                                                                   Subject 
                                       RE: Help requested                  
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           




I just wanted to clarify... I don't believe the following statement is
accurate:

>
> The "contents" field searches on the entire document,
> including all indexes.


There is no default field named "contents" that automatically combines
the contents of all your fields. As Erik mentioned, you need to create
this field yourself and assign it a string value that is a concatenation
of all the fields you want to have indexed.

Please correct me if I'm wrong.

Thanks,
Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 03:22:28 2005
Return-Path: <java-user-return-17273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87200 invoked from network); 2 Nov 2005 03:22:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 03:22:28 -0000
Received: (qmail 2314 invoked by uid 500); 2 Nov 2005 03:22:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2283 invoked by uid 500); 2 Nov 2005 03:22:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2272 invoked by uid 99); 2 Nov 2005 03:22:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 19:22:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.220] (HELO nemausa.cc.emory.edu) (170.140.8.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 19:22:18 -0800
Received: from localhost (localhost [127.0.0.1])
	by nemausa.cc.emory.edu (8.13.4/8.13.4) with ESMTP id jA23M0We007244
	for <java-user@lucene.apache.org>; Tue, 1 Nov 2005 22:22:00 -0500 (EST)
Received: from 
	adsl-211-28-136.asm.bellsouth.net(adsl-211-28-136.asm.bellsouth.net 
	[68.211.28.136]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Tue, 01 Nov 200522:22:00 -0500
Message-ID: <20051101222200.3et5hmmt6sg00gsk@webmail.service.emory.edu>
Date: Tue, 01 Nov 2005 22:22:00 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: indexing records in hierachy
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.3)
X-imss-version: 2.033
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there a way to link indexed records in Lucene?

I am working with collections and a record might be a part of a
collection and this collection can again be a part of super collection.
So if the search result has the record, is there a way to find out all
the collections under which the record falls without associating
all the information with the record?

Thanks,
Urvashi


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 05:31:54 2005
Return-Path: <java-user-return-17274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43653 invoked from network); 2 Nov 2005 05:31:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 05:31:53 -0000
Received: (qmail 75815 invoked by uid 500); 2 Nov 2005 05:31:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75796 invoked by uid 500); 2 Nov 2005 05:31:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75785 invoked by uid 99); 2 Nov 2005 05:31:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Nov 2005 21:31:46 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Nov 2005 21:31:42 -0800
Received: (qmail 4279 invoked by uid 60001); 2 Nov 2005 05:31:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=k2sTCnwL57QaS4/s+J5VjajpLCUeVJ7G7XXkeacMHhRWnrkmsHrRjd4CmcWRavIMxvDpPnibU46HNfiycFXgJKu7GVAtjAts7pMgnJS7/XWcHEXjjN+X6IV5Wu+njG9JALgbYGVwDAaVwaGyE8CldPK+SkFirUnv3MuVYVu/vd8=  ;
Message-ID: <20051102053124.4277.qmail@web50314.mail.yahoo.com>
Received: from [63.192.54.224] by web50314.mail.yahoo.com via HTTP; Tue, 01 Nov 2005 21:31:24 PST
Date: Tue, 1 Nov 2005 21:31:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: indexing records in hierachy
To: java-user@lucene.apache.org
In-Reply-To: <20051101222200.3et5hmmt6sg00gsk@webmail.service.emory.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

In Lucene individual documents stand alone and can't be related to
other Lucene documents in the index automatically.  In other words,
this is something you have to do through clever document/field design.

Otis


--- Urvashi Gadi <ugadi@emory.edu> wrote:

> Hi,
> 
> Is there a way to link indexed records in Lucene?
> 
> I am working with collections and a record might be a part of a
> collection and this collection can again be a part of super
> collection.
> So if the search result has the record, is there a way to find out
> all
> the collections under which the record falls without associating
> all the information with the record?
> 
> Thanks,
> Urvashi
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 09:57:26 2005
Return-Path: <java-user-return-17275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71393 invoked from network); 2 Nov 2005 09:57:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 09:57:26 -0000
Received: (qmail 88215 invoked by uid 500); 2 Nov 2005 09:57:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88192 invoked by uid 500); 2 Nov 2005 09:57:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88181 invoked by uid 99); 2 Nov 2005 09:57:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 01:57:19 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 01:57:14 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id JAA12959
	for <java-user@lucene.apache.org>; Wed, 2 Nov 2005 09:56:05 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma012955; Wed, 2 Nov 05 09:56:02 GMT
In-Reply-To: <20051101222200.3et5hmmt6sg00gsk@webmail.service.emory.edu>
Subject: Re: indexing records in hierachy
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF494E6578.43FEF076-ON802570AD.003677DB-802570AD.0036B221@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 2 Nov 2005 09:56:47 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 02/11/2005 09:56:47
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Hello,

You could try looking at

http://www.nabble.com/Hierarchical-Documents-t242604.html#a677841

where this has been discussed a little before.

Regards

Paul I.



                                                                           
             Urvashi Gadi                                                  
             <ugadi@emory.edu>                                             
                                                                        To 
             02/11/2005 03:22          java-user@lucene.apache.org         
                                                                        cc 
                                                                           
             Please respond to                                     Subject 
             java-user@lucene.         indexing records in hierachy        
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           




Hi,

Is there a way to link indexed records in Lucene?

I am working with collections and a record might be a part of a
collection and this collection can again be a part of super collection.
So if the search result has the record, is there a way to find out all
the collections under which the record falls without associating
all the information with the record?

Thanks,
Urvashi


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 13:11:11 2005
Return-Path: <java-user-return-17276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68583 invoked from network); 2 Nov 2005 13:11:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 13:11:09 -0000
Received: (qmail 9375 invoked by uid 500); 2 Nov 2005 13:11:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9345 invoked by uid 500); 2 Nov 2005 13:11:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9325 invoked by uid 99); 2 Nov 2005 13:11:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 05:11:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.241.162.31] (HELO galaxy.systems.pipex.net) (62.241.162.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 05:10:55 -0800
Received: from [192.168.0.28] (81-178-139-134.dsl.pipex.com [81.178.139.134])
	by galaxy.systems.pipex.net (Postfix) with ESMTP id 4CEB3E00022A
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 13:10:34 +0000 (GMT)
From: Richard Jones <rj@last.fm>
Organization: Last.fm
To: java-user@lucene.apache.org
Subject: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 13:10:18 +0000
User-Agent: KMail/1.8
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511021310.18686.rj@last.fm>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I'm using lucene (which rocks, btw ;) behind the scenes at www.last.fm for 
various things, and i've run into a situation that seems somewhat inelegant 
regarding populating fields which i already know the termvector for.

I'm creating a document for each user (last.fm tracks music taste for people), 
with a field that depicts a users favourite 500 artists. Each artist is 
represented by an integer, here's a simple example with 3 artists:

If i've listened to Radiohead (id 1) 10 times, Coldplay (id 2) 5 times and 
Beck (id 3) 2 times, the field would look like this "1 1 1 1 1 1 1 1 1 1 2 2 
2 2 2 3 3"

I use this index for quickly finding "top fans" of an artist or combination of 
artists, comparing peoples music taste and other things on the fly. 

The issue is that i already have the termvecor (radiohead=10, coldplay=5, 
beck=2) handy as a hashtable, and i've found myself building up a string of 
numbers separated by spaces as shown above, then feeding this into lucene (i 
store the termvec of the field in lucene).  Is there a way i could pass a 
termvector directly to lucene to cut out the ugly "turn it into a string and 
let lucene parse it" step? basically i want to provide the termvector for a 
field when inserting a new document, rather than let lucene build it by 
analyzing a string.

This does feel like a rather perverted use of lucene i suppose.. It's faster 
and less hassle than other methods i've tried to date though.

Regards,
RJ







---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 13:37:40 2005
Return-Path: <java-user-return-17277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82842 invoked from network); 2 Nov 2005 13:37:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 13:37:40 -0000
Received: (qmail 46401 invoked by uid 500); 2 Nov 2005 13:37:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46380 invoked by uid 500); 2 Nov 2005 13:37:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46369 invoked by uid 99); 2 Nov 2005 13:37:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 05:37:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.133.33.30] (HELO mailrelay.is.nl) (213.133.33.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 05:37:29 -0800
Received: from [213.133.51.241] (HELO hai01.hippo.local)
  by mailrelay.is.nl (CommuniGate Pro SMTP 4.3.5)
  with ESMTP id 6844725 for java-user@lucene.apache.org; Wed, 02 Nov 2005 14:37:11 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Indexing derived data
Date: Wed, 2 Nov 2005 14:37:11 +0100
Message-ID: <A955EA1F8FE31749AEC8C998082F6C7C41A869@hai01.hippo.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing derived data
Thread-Index: AcXfsoccVQD6PGsQT1CuI9udIrmndg==
From: "Max Pfingsthorn" <m.pfingsthorn@hippo.nl>
To: "Lucene User \(E-mail\)" <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear fellow users,

I was wondering if anyone is using Lucene right now to index data =
derived from business object models. My general problem is to index data =
which may be the result of an expensive computation involving a graph of =
objects (for example computing which customer has which items in their =
shopping cart or computing access privileges for objects).
I would like to index this so that (for example) displaying a customers =
shopping cart is fast and so we can also see who is currently shopping =
for some certain items, etc. Of course, data would be more complex than =
this.
Basically, it is the kind of thing you would do with a "view" in SQL =
DBs.

The main problem is updating this indexed view in a timely fashion when =
the business data changes. Ideally, updates should be instant, but of =
course that will not happen as potentially intensive computation is =
required and business objects are a bit more intelligent (and thus =
harder to deal with) than SQL table rows.

I've found some research papers on the topic, but I was wondering if =
anyone does this right now and if they could explain their approach. I =
would be especially curious about update optimizations and the question =
if this can be done in a generic way or if this has to be built in to =
the business objects (e.g. to notice that the derived data has to be =
updated).

Thanks in advance and best regards,

Max Pfingsthorn

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 13:54:57 2005
Return-Path: <java-user-return-17278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93024 invoked from network); 2 Nov 2005 13:54:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 13:54:56 -0000
Received: (qmail 75101 invoked by uid 500); 2 Nov 2005 13:54:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75082 invoked by uid 500); 2 Nov 2005 13:54:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75071 invoked by uid 99); 2 Nov 2005 13:54:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 05:54:49 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 05:54:44 -0800
Received: (qmail 5360 invoked from network); 2 Nov 2005 13:54:27 -0000
Received: from unknown (HELO ?10.1.1.3?) (mike@curtin.com@24.247.92.83)
  by ws6-4.us4.outblaze.com with SMTP; 2 Nov 2005 13:54:27 -0000
Message-ID: <4368C513.3010600@curtin.com>
Date: Wed, 02 Nov 2005 08:54:27 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing
 the analyzing/tokenizing stage)
References: <200511021310.18686.rj@last.fm>
In-Reply-To: <200511021310.18686.rj@last.fm>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Richard Jones wrote:
> Hi,
> I'm using lucene (which rocks, btw ;) behind the scenes at www.last.fm for 
> various things, and i've run into a situation that seems somewhat inelegant 
> regarding populating fields which i already know the termvector for.
> 
> I'm creating a document for each user (last.fm tracks music taste for people), 
> with a field that depicts a users favourite 500 artists. Each artist is 
> represented by an integer, here's a simple example with 3 artists:
> 
> If i've listened to Radiohead (id 1) 10 times, Coldplay (id 2) 5 times and 
> Beck (id 3) 2 times, the field would look like this "1 1 1 1 1 1 1 1 1 1 2 2 
> 2 2 2 3 3"
> 
> I use this index for quickly finding "top fans" of an artist or combination of 
> artists, comparing peoples music taste and other things on the fly. 
> 
> The issue is that i already have the termvecor (radiohead=10, coldplay=5, 
> beck=2) handy as a hashtable, and i've found myself building up a string of 
> numbers separated by spaces as shown above, then feeding this into lucene (i 
> store the termvec of the field in lucene).  Is there a way i could pass a 
> termvector directly to lucene to cut out the ugly "turn it into a string and 
> let lucene parse it" step? basically i want to provide the termvector for a 
> field when inserting a new document, rather than let lucene build it by 
> analyzing a string.

I can think of a few ways.  If elegance is your goal, then a little 
relational database theory might help.  Specifically, instead of having 
one record per listener, have one record per listener-artist 
combination, with three fields:  listenerid, artistid, and count.  Your 
example above would then look like
listenerid  artistid  count
----------  --------  -----
          X         1  00010
          X         2  00005
          X         3  00002

You could compose queries to get all artists somebody every listened to 
(listenerid:X), all Radiohead listeners (artistid:1), anybody who 
listened to Coldplay 5 or more times (artistid:2 and count:[00005 to 
99999]) or what-have-you.  This approach would require two-stage 
processing for queries of the form "find everybody who listened to 
Radiohead three times and Coldplay twice", though.

Really, though, your problem sounds more like a relational db problem 
than a text search problem.  A simple MySQL database with a few tables 
might be a better fit ...

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 14:11:14 2005
Return-Path: <java-user-return-17279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1608 invoked from network); 2 Nov 2005 14:11:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 14:11:13 -0000
Received: (qmail 96406 invoked by uid 500); 2 Nov 2005 14:11:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96385 invoked by uid 500); 2 Nov 2005 14:11:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96374 invoked by uid 99); 2 Nov 2005 14:11:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 06:11:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 06:11:00 -0800
Received: from [10.127.100.253] ([10.127.100.253]) by ad1.ad.kbse.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 2 Nov 2005 15:10:10 +0100
Message-ID: <4368C8E4.8080303@kbse.net>
Date: Wed, 02 Nov 2005 15:10:44 +0100
From: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
Reply-To:  java-user@lucene.apache.org
Organization: KBSE
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Vector Model and Relevance Feedback
References: <200511021310.18686.rj@last.fm> <4368C513.3010600@curtin.com>
In-Reply-To: <4368C513.3010600@curtin.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 02 Nov 2005 14:10:10.0703 (UTC) FILETIME=[22DFD1F0:01C5DFB7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've some thoughts about Lucene and Relevance Feedback. I want to 
implement some variation of the Roccio Formula and there is the problem.
The formula is like this:

Query(new) = alpha * Query(old) + beta * Sum(Relevant Documents) - gamma 
* Sum(Non Relevant Documents)

The relevant documents in this formula should be in a vector 
representation. This is the problem If I work with TermFreqVectors then 
the vectors are not equally long and contains different terms. My 
solution now is to take the TermFreqVectors and minimize them to the 
least common multiple and perform then the computation.
So my questions are:
Is this the only way to do so? ( I hope so not)
Is there an add on for lucene to get a real vector representation?
Does anyone has experiences with this issue?
Thanks
Stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 14:28:53 2005
Return-Path: <java-user-return-17280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13127 invoked from network); 2 Nov 2005 14:27:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 14:27:48 -0000
Received: (qmail 31532 invoked by uid 500); 2 Nov 2005 14:27:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31510 invoked by uid 500); 2 Nov 2005 14:27:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31494 invoked by uid 99); 2 Nov 2005 14:27:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 06:27:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.6.101.41] (HELO rogue.ncsl.nist.gov) (129.6.101.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 06:27:17 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id jA2EQxTC021660
	for <java-user@lucene.apache.org>; Wed, 2 Nov 2005 09:27:00 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Vector Model and Relevance Feedback
References: <200511021310.18686.rj@last.fm> <4368C513.3010600@curtin.com>
	<4368C8E4.8080303@kbse.net>
Date: Wed, 02 Nov 2005 09:26:59 -0500
In-Reply-To: <4368C8E4.8080303@kbse.net> (Stefan Gusenbauer's message of "Wed,
	02 Nov 2005 15:10:44 +0100")
Message-ID: <9cfvezb9lcc.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110004 (No Gnus v0.4) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Stefan Gusenbauer <stefan.gusenbauer@kbse.net> writes:

> Is there an add on for lucene to get a real vector representation?
> Does anyone has experiences with this issue?

No code, but some small thinking.  You can do hacks with boosts and
whatnot, but I think in the end you really want a new Query subclass
(and the other machinery to make that work).

I've seen some of the boost hacks, and, ok, Rocchio is something of a
hack (at least the way it's usually done), but adding a hack to a hack
is just too much.  Next, some joker is going to come along and want to
to probabilistic LSI or language models and then you're up the creek
;-)

I have a code infrastructure to handle nearly any VSM-style retrieval
function (including Okapi BM25), but it's waiting for the low-level
VSM query structure to make it worthwhile.  If someone starts work in
this area, I'd love to help out to the extent I can.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 15:08:52 2005
Return-Path: <java-user-return-17281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44400 invoked from network); 2 Nov 2005 15:08:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 15:08:47 -0000
Received: (qmail 6507 invoked by uid 500); 2 Nov 2005 15:08:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6475 invoked by uid 500); 2 Nov 2005 15:08:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6464 invoked by uid 99); 2 Nov 2005 15:08:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:08:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:08:33 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 674A513E2008; Wed,  2 Nov 2005 10:08:14 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 8538713E2007
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 10:07:02 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <200511021310.18686.rj@last.fm>
References: <200511021310.18686.rj@last.fm>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DC4A1E31-C3FB-4DD5-88FE-097B28B48BA3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 10:07:02 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 2 Nov 2005, at 08:10, Richard Jones wrote:
> If i've listened to Radiohead (id 1) 10 times, Coldplay (id 2) 5  
> times and
> Beck (id 3) 2 times, the field would look like this "1 1 1 1 1 1 1  
> 1 1 1 2 2
> 2 2 2 3 3"
>
> I use this index for quickly finding "top fans" of an artist or  
> combination of
> artists, comparing peoples music taste and other things on the fly.
>
> The issue is that i already have the termvecor (radiohead=10,  
> coldplay=5,
> beck=2) handy as a hashtable, and i've found myself building up a  
> string of
> numbers separated by spaces as shown above, then feeding this into  
> lucene (i
> store the termvec of the field in lucene).  Is there a way i could  
> pass a
> termvector directly to lucene to cut out the ugly "turn it into a  
> string and
> let lucene parse it" step? basically i want to provide the  
> termvector for a
> field when inserting a new document, rather than let lucene build  
> it by
> analyzing a string.
>
> This does feel like a rather perverted use of lucene i suppose..  
> It's faster
> and less hassle than other methods i've tried to date though.

last.fm using Lucene, sweet!   It has caught on with quite a number  
of friends, so I tried it just yesterday and my first query for music  
like "Michael Hedges" turned up nothing, so I was bummed.   - but it  
is a very cool service.

Rather than building a string to index in this manner, perhaps adding  
each integer as an individual Field with the same name, with the term  
vector enabled, and using something like the WhitespaceAnalyzer.  To  
be honest, though, I'm not sure without digging deeper whether adding  
same-named fields in this manner messes with the term vector  
capabilities.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 15:41:59 2005
Return-Path: <java-user-return-17282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65757 invoked from network); 2 Nov 2005 15:41:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 15:41:58 -0000
Received: (qmail 69554 invoked by uid 500); 2 Nov 2005 15:41:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69382 invoked by uid 500); 2 Nov 2005 15:41:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69371 invoked by uid 99); 2 Nov 2005 15:41:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:41:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.241.162.32] (HELO ranger.systems.pipex.net) (62.241.162.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:41:47 -0800
Received: from [192.168.0.28] (81-178-139-134.dsl.pipex.com [81.178.139.134])
	by ranger.systems.pipex.net (Postfix) with ESMTP id 48F11E000429
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 15:41:27 +0000 (GMT)
From: Richard Jones <rj@last.fm>
Organization: Last.fm
To: java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 15:41:10 +0000
User-Agent: KMail/1.8
References: <200511021310.18686.rj@last.fm> <4368C513.3010600@curtin.com>
In-Reply-To: <4368C513.3010600@curtin.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511021541.10873.rj@last.fm>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I can think of a few ways.  If elegance is your goal, then a little
> relational database theory might help.  Specifically, instead of having
> one record per listener, have one record per listener-artist
> combination, with three fields:  listenerid, artistid, and count.  Your
> example above would then look like
> listenerid  artistid  count
> ----------  --------  -----
>           X         1  00010
>           X         2  00005
>           X         3  00002
>
> You could compose queries to get all artists somebody every listened to
> (listenerid:X), all Radiohead listeners (artistid:1), anybody who
> listened to Coldplay 5 or more times (artistid:2 and count:[00005 to
> 99999]) or what-have-you.  This approach would require two-stage
> processing for queries of the form "find everybody who listened to
> Radiohead three times and Coldplay twice", though.
>
> Really, though, your problem sounds more like a relational db problem
> than a text search problem.  A simple MySQL database with a few tables
> might be a better fit ...

Hi, thanks for the feedback.
The data i'm dealing with is stored over a few mysql dbs on different 
machines, horizontally partitioned so each user is assigned to a single db. 
The queries i'm doing can be done in SQL in parallel over all machines then 
combined, which i've tested - it's unacceptably slow :(

There is rather a lot of data; each profile can contain in excess of 1000 
artists, and there are almost 1million profiles created. I'm only adding the 
top N artists for each user to a lucene index, which is fast and still yields 
good results (even with just the top 100 artists each).

I think this could be done reasonably well with SQL in a DBMS like Oracle RAC 
or something like mysql cluster.. sadly the former doesnt scale financially, 
and the latter requires everything to be held in RAM .. which is why i'm 
using lucene.

Regards,
RJ




>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 15:45:01 2005
Return-Path: <java-user-return-17283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67946 invoked from network); 2 Nov 2005 15:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 15:45:01 -0000
Received: (qmail 75820 invoked by uid 500); 2 Nov 2005 15:44:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75536 invoked by uid 500); 2 Nov 2005 15:44:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75525 invoked by uid 99); 2 Nov 2005 15:44:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:44:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:44:49 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jA2FiSYv002635
	for <java-user@lucene.apache.org>; Wed, 2 Nov 2005 10:44:29 -0500 (EST)
Message-ID: <4368DEDC.2040608@syr.edu>
Date: Wed, 02 Nov 2005 10:44:28 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Vector Model and Relevance Feedback
References: <200511021310.18686.rj@last.fm> <4368C513.3010600@curtin.com> <4368C8E4.8080303@kbse.net>
In-Reply-To: <4368C8E4.8080303@kbse.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Others can correct me if I am wrong, but I don't think a "pure" Rochio 
feedback loop is possible in the current state, since Lucene doesn't 
currently support negative boosts 
(http://lucene.apache.org/java/docs/queryparsersyntax.html).  Having 
said that, what we do, in a nutshell is similar to what you describe:
For the positive examples, store the terms and a boost factor.  The 
boost factor is the frequency of the term across all the positive 
examples multiplied by beta.
Then for the negative examples, decrement the boost factor by gamma 
times the frequency of the term in all the negative examples.  Remove 
any terms that have a boost of zero or less.

In the end, you construct a new query out of the terms and boosts that 
you can submit.  I think it is more of an approximation of Rochio, but 
have had good results from it.  You also probably want to limit the 
number of terms per document you add, at least if you are concerned 
about performance.
    
-Grant

Stefan Gusenbauer wrote:

> I've some thoughts about Lucene and Relevance Feedback. I want to 
> implement some variation of the Roccio Formula and there is the problem.
> The formula is like this:
>
> Query(new) = alpha * Query(old) + beta * Sum(Relevant Documents) - 
> gamma * Sum(Non Relevant Documents)
>
> The relevant documents in this formula should be in a vector 
> representation. This is the problem If I work with TermFreqVectors 
> then the vectors are not equally long and contains different terms. My 
> solution now is to take the TermFreqVectors and minimize them to the 
> least common multiple and perform then the computation.
> So my questions are:
> Is this the only way to do so? ( I hope so not)
> Is there an add on for lucene to get a real vector representation?
> Does anyone has experiences with this issue?
> Thanks
> Stefan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 15:51:45 2005
Return-Path: <java-user-return-17284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71949 invoked from network); 2 Nov 2005 15:51:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 15:51:35 -0000
Received: (qmail 93593 invoked by uid 500); 2 Nov 2005 15:51:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93566 invoked by uid 500); 2 Nov 2005 15:51:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93555 invoked by uid 99); 2 Nov 2005 15:51:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:51:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.241.163.6] (HELO astro.systems.pipex.net) (62.241.163.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 07:51:12 -0800
Received: from [192.168.0.28] (81-178-139-134.dsl.pipex.com [81.178.139.134])
	by astro.systems.pipex.net (Postfix) with ESMTP id EF5CAE0000EA
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 15:50:50 +0000 (GMT)
From: Richard Jones <rj@last.fm>
Organization: Last.fm
To: java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 15:50:33 +0000
User-Agent: KMail/1.8
References: <200511021310.18686.rj@last.fm> <DC4A1E31-C3FB-4DD5-88FE-097B28B48BA3@ehatchersolutions.com>
In-Reply-To: <DC4A1E31-C3FB-4DD5-88FE-097B28B48BA3@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511021550.33906.rj@last.fm>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik
Our lucene-powered music search went live this week, so your search should 
work now: http://www.last.fm/explore/search.php?q=Michael+Hedges
Before we discovered lucene our search sucked *really* badly ;)

Adding multiple fields like this is similar to what i'm doing now (i am using 
whitespace analyzer), although it may remove some of the work, i'd still have 
to add in the extra steps of building strings instead of handing over a 
termvector durectly.

I guess i need to delve into the lucene code see what's going on.

Cheers,
RJ


> last.fm using Lucene, sweet!   It has caught on with quite a number
> of friends, so I tried it just yesterday and my first query for music
> like "Michael Hedges" turned up nothing, so I was bummed.   - but it
> is a very cool service.
>
> Rather than building a string to index in this manner, perhaps adding
> each integer as an individual Field with the same name, with the term
> vector enabled, and using something like the WhitespaceAnalyzer.  To
> be honest, though, I'm not sure without digging deeper whether adding
> same-named fields in this manner messes with the term vector
> capabilities.
>
>      Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 16:04:42 2005
Return-Path: <java-user-return-17285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81677 invoked from network); 2 Nov 2005 16:04:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 16:04:37 -0000
Received: (qmail 18747 invoked by uid 500); 2 Nov 2005 16:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18714 invoked by uid 500); 2 Nov 2005 16:04:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18703 invoked by uid 99); 2 Nov 2005 16:04:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:04:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:04:25 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jA2G45Yv001602
	for <java-user@lucene.apache.org>; Wed, 2 Nov 2005 11:04:06 -0500 (EST)
Message-ID: <4368E375.2070105@syr.edu>
Date: Wed, 02 Nov 2005 11:04:05 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing
 the analyzing/tokenizing stage)
References: <200511021310.18686.rj@last.fm>
In-Reply-To: <200511021310.18686.rj@last.fm>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not sure if this is feasible, but is there someway you could use a 
"fake" analyzer that you constructed using your hashtable/termvector and 
then have it output the tokens directly from the hashtable via the 
TokenStream?  Maybe you would have to pass in an empty/dummy string to 
the field constructor.   At least you wouldn't have to create the string 
of your term vectors

Just a thought,
Grant

Richard Jones wrote:

>Hi,
>I'm using lucene (which rocks, btw ;) behind the scenes at www.last.fm for 
>various things, and i've run into a situation that seems somewhat inelegant 
>regarding populating fields which i already know the termvector for.
>
>I'm creating a document for each user (last.fm tracks music taste for people), 
>with a field that depicts a users favourite 500 artists. Each artist is 
>represented by an integer, here's a simple example with 3 artists:
>
>If i've listened to Radiohead (id 1) 10 times, Coldplay (id 2) 5 times and 
>Beck (id 3) 2 times, the field would look like this "1 1 1 1 1 1 1 1 1 1 2 2 
>2 2 2 3 3"
>
>I use this index for quickly finding "top fans" of an artist or combination of 
>artists, comparing peoples music taste and other things on the fly. 
>
>The issue is that i already have the termvecor (radiohead=10, coldplay=5, 
>beck=2) handy as a hashtable, and i've found myself building up a string of 
>numbers separated by spaces as shown above, then feeding this into lucene (i 
>store the termvec of the field in lucene).  Is there a way i could pass a 
>termvector directly to lucene to cut out the ugly "turn it into a string and 
>let lucene parse it" step? basically i want to provide the termvector for a 
>field when inserting a new document, rather than let lucene build it by 
>analyzing a string.
>
>This does feel like a rather perverted use of lucene i suppose.. It's faster 
>and less hassle than other methods i've tried to date though.
>
>Regards,
>RJ
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 16:07:36 2005
Return-Path: <java-user-return-17286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84366 invoked from network); 2 Nov 2005 16:07:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 16:07:31 -0000
Received: (qmail 24245 invoked by uid 500); 2 Nov 2005 16:07:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24225 invoked by uid 500); 2 Nov 2005 16:07:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24210 invoked by uid 99); 2 Nov 2005 16:07:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:07:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 08:07:17 -0800
Received: (qmail 23998 invoked from network); 2 Nov 2005 16:07:00 -0000
Received: from unknown (HELO ?10.1.1.3?) (mike@curtin.com@24.247.92.83)
  by ws6-4.us4.outblaze.com with SMTP; 2 Nov 2005 16:07:00 -0000
Message-ID: <4368E424.90203@curtin.com>
Date: Wed, 02 Nov 2005 11:07:00 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing
 the analyzing/tokenizing stage)
References: <200511021310.18686.rj@last.fm> <4368C513.3010600@curtin.com> <200511021541.10873.rj@last.fm>
In-Reply-To: <200511021541.10873.rj@last.fm>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Richard Jones wrote:

> The data i'm dealing with is stored over a few mysql dbs on different 
> machines, horizontally partitioned so each user is assigned to a single db. 
> The queries i'm doing can be done in SQL in parallel over all machines then 
> combined, which i've tested - it's unacceptably slow :(
> 
> There is rather a lot of data; each profile can contain in excess of 1000 
> artists, and there are almost 1million profiles created. I'm only adding the 
> top N artists for each user to a lucene index, which is fast and still yields 
> good results (even with just the top 100 artists each).
> 
> I think this could be done reasonably well with SQL in a DBMS like Oracle RAC 
> or something like mysql cluster.. sadly the former doesnt scale financially, 
> and the latter requires everything to be held in RAM .. which is why i'm 
> using lucene.

If you're willing to continue subsetting / summarizing the data out into 
Lucene, how about subsetting it out into a dedicated MySQL instance for 
this purpose?  100 artists * 1M profiles * 2 ints * 4 bytes/int = 
roughly 1 GB of data, which would easily fit into RAM.  Queries should 
be pretty fast off of that.  Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 16:31:01 2005
Return-Path: <java-user-return-17287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96966 invoked from network); 2 Nov 2005 16:31:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 16:31:01 -0000
Received: (qmail 70826 invoked by uid 500); 2 Nov 2005 16:30:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70797 invoked by uid 500); 2 Nov 2005 16:30:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70786 invoked by uid 99); 2 Nov 2005 16:30:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:30:55 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.214] (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 08:30:51 -0800
Received: (qmail 98602 invoked by uid 60001); 2 Nov 2005 16:30:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=w9SlC4060FFyA5ohcLPyJHmY608+8gF1Uk+hhwOYGPuXg6Tfr/rTdwA587dPjCK+Z3OUtIwioAx7MCp+K4ciTJY6RrrSmipqrydTJUmlPvHln9BEOCI0LtZq2nCbZSzv1c+YwcQphdLnHcC4kOaDU6zisBeuAlpirES0Piz2HO8=  ;
Message-ID: <20051102163033.98600.qmail@web26003.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Wed, 02 Nov 2005 16:30:32 GMT
Date: Wed, 2 Nov 2005 16:30:32 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Vector Model and Relevance Feedback
To: java-user@lucene.apache.org
In-Reply-To: <4368DEDC.2040608@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> since Lucene doesn't 
> currently support negative boosts 

See here for an approach to negative boosts:

http://wiki.apache.org/jakarta-lucene/CommunityContributions


Cheers
Mark




	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 16:37:04 2005
Return-Path: <java-user-return-17288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 984 invoked from network); 2 Nov 2005 16:37:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 16:37:04 -0000
Received: (qmail 82602 invoked by uid 500); 2 Nov 2005 16:36:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82582 invoked by uid 500); 2 Nov 2005 16:36:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82570 invoked by uid 99); 2 Nov 2005 16:36:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:36:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.241.163.7] (HELO blaster.systems.pipex.net) (62.241.163.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 08:36:53 -0800
Received: from [192.168.0.28] (81-178-139-134.dsl.pipex.com [81.178.139.134])
	by blaster.systems.pipex.net (Postfix) with ESMTP id C3AF6E00012B
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 16:36:34 +0000 (GMT)
From: Richard Jones <rj@last.fm>
Organization: Last.fm
To: java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 16:36:16 +0000
User-Agent: KMail/1.8
References: <200511021310.18686.rj@last.fm> <200511021541.10873.rj@last.fm> <4368E424.90203@curtin.com>
In-Reply-To: <4368E424.90203@curtin.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511021636.17017.rj@last.fm>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> If you're willing to continue subsetting / summarizing the data out into
> Lucene, how about subsetting it out into a dedicated MySQL instance for
> this purpose?  100 artists * 1M profiles * 2 ints * 4 bytes/int =
> roughly 1 GB of data, which would easily fit into RAM.  Queries should
> be pretty fast off of that.  Good luck!


We used to do this, but there is a lot of overhead involved in 
updating/deleting/inserting all those rows / db indexes More wasted cycles 
and disk activity than we see with lucene. Even ignoring the fancy ACID stuff 
with MyISAM (no ref. integrity) it's still slower.

Furthermore, with lucene i can query "artists:1" and it returns what lucene 
deems to be the "best" matches for artist 1 (radiohead). This is far easier 
that with an SQL database, because the person whose listen counter for 
radiohead is highest isnt necessarily the "biggest fan". it depends on the 
size of the profile.  This gets even more complicated when trying to find the 
"best" fan of a combination of a few artists. Lucene is more useful for this 
than a database query.

Regards,
RJ


>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 17:01:06 2005
Return-Path: <java-user-return-17289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16862 invoked from network); 2 Nov 2005 17:01:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 17:01:06 -0000
Received: (qmail 25837 invoked by uid 500); 2 Nov 2005 17:00:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25797 invoked by uid 500); 2 Nov 2005 17:00:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25781 invoked by uid 99); 2 Nov 2005 17:00:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 09:00:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 09:00:54 -0800
Received: (qmail 10962 invoked from network); 2 Nov 2005 17:00:38 -0000
Received: from unknown (HELO ?10.1.1.3?) (mike@curtin.com@24.247.92.83)
  by ws6-4.us4.outblaze.com with SMTP; 2 Nov 2005 17:00:38 -0000
Message-ID: <4368F0B3.9040304@curtin.com>
Date: Wed, 02 Nov 2005 12:00:35 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing
 the analyzing/tokenizing stage)
References: <200511021310.18686.rj@last.fm> <200511021541.10873.rj@last.fm> <4368E424.90203@curtin.com> <200511021636.17017.rj@last.fm>
In-Reply-To: <200511021636.17017.rj@last.fm>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Richard Jones wrote:

>>If you're willing to continue subsetting / summarizing the data out into
>>Lucene, how about subsetting it out into a dedicated MySQL instance for
>>this purpose?  100 artists * 1M profiles * 2 ints * 4 bytes/int =
>>roughly 1 GB of data, which would easily fit into RAM.  Queries should
>>be pretty fast off of that.  Good luck!
> 
> We used to do this, but there is a lot of overhead involved in 
> updating/deleting/inserting all those rows / db indexes More wasted cycles 
> and disk activity than we see with lucene. Even ignoring the fancy ACID stuff 
> with MyISAM (no ref. integrity) it's still slower.
> 
> Furthermore, with lucene i can query "artists:1" and it returns what lucene 
> deems to be the "best" matches for artist 1 (radiohead). This is far easier 
> that with an SQL database, because the person whose listen counter for 
> radiohead is highest isnt necessarily the "biggest fan". it depends on the 
> size of the profile.  This gets even more complicated when trying to find the 
> "best" fan of a combination of a few artists. Lucene is more useful for this 
> than a database query.

Ah, so the fact that "1" actually appears many times in the string you 
give Lucene is important.  Neat application!

Sounds like the custom Analyzer (really a custom TokenStream) approach 
suggested by others may be the way for you to go.  If the information 
you get from the MySQL profiles is an artistid and count, you could code 
up an Analyzer to emit N "1" tokens in a row, rather than concatenate N 
"1"s together into a single string and then let QueryParser, et. al., 
parse them back apart again.  Even if you get all N of the "1"s from 
MySQL, a custom Analyzer could emit them, one at a time, rather than the 
concatenate, parse-apart cycle.

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 17:21:14 2005
Return-Path: <java-user-return-17290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37409 invoked from network); 2 Nov 2005 17:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 17:21:14 -0000
Received: (qmail 64824 invoked by uid 500); 2 Nov 2005 17:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64786 invoked by uid 500); 2 Nov 2005 17:21:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64774 invoked by uid 99); 2 Nov 2005 17:21:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 09:21:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.241.163.6] (HELO astro.systems.pipex.net) (62.241.163.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 09:20:59 -0800
Received: from [192.168.0.28] (81-178-139-134.dsl.pipex.com [81.178.139.134])
	by astro.systems.pipex.net (Postfix) with ESMTP id 3E2EEE000262
	for <java-user@lucene.apache.org>; Wed,  2 Nov 2005 17:20:41 +0000 (GMT)
From: Richard Jones <rj@last.fm>
Organization: Last.fm
To: java-user@lucene.apache.org
Subject: Re: Creating document fields by providing termvector directly (bypassing the analyzing/tokenizing stage)
Date: Wed, 2 Nov 2005 17:20:23 +0000
User-Agent: KMail/1.8
References: <200511021310.18686.rj@last.fm> <200511021636.17017.rj@last.fm> <4368F0B3.9040304@curtin.com>
In-Reply-To: <4368F0B3.9040304@curtin.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511021720.23351.rj@last.fm>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Ah, so the fact that "1" actually appears many times in the string you
> give Lucene is important.  Neat application!
>
> Sounds like the custom Analyzer (really a custom TokenStream) approach
> suggested by others may be the way for you to go.  If the information
> you get from the MySQL profiles is an artistid and count, you could code
> up an Analyzer to emit N "1" tokens in a row, rather than concatenate N
> "1"s together into a single string and then let QueryParser, et. al.,
> parse them back apart again.  Even if you get all N of the "1"s from
> MySQL, a custom Analyzer could emit them, one at a time, rather than the
> concatenate, parse-apart cycle.

Okay, this sounds like a good lead :) I'm going to delve a little deeper into 
the steps lucene takes to build the index and give this a try. 

Will post to this thread again when i've had a chance to give it a try!

Thanks for all the pointers
RJ

>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 20:48:33 2005
Return-Path: <java-user-return-17291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61626 invoked from network); 2 Nov 2005 20:48:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 20:48:33 -0000
Received: (qmail 51555 invoked by uid 500); 2 Nov 2005 20:48:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51535 invoked by uid 500); 2 Nov 2005 20:48:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51519 invoked by uid 99); 2 Nov 2005 20:48:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 12:48:27 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 12:48:22 -0800
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ef5816>; Wed, 02 Nov 2005 15:48:04 -0500
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <W1A7DLW9>; Wed, 2 Nov 2005 15:48:04 -0500
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480BF4C00E@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: JDK version with lucene 1.4.3
Date: Wed, 2 Nov 2005 15:48:03 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have downloaded Lucene 1.4.3
I am trying to narrow down on the JRE version to use.
We have the flexibility to use 1.3.1 up.
Which JVM will be the best for running Lucene?
I saw a note on the FAQ that said that Lucene will run on 1.3.1 but will
require 1.4 to compile. 
Why would anyone want to compile the source on one version and run on
another?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 21:58:31 2005
Return-Path: <java-user-return-17292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96200 invoked from network); 2 Nov 2005 21:58:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 21:58:31 -0000
Received: (qmail 54685 invoked by uid 500); 2 Nov 2005 21:58:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54657 invoked by uid 500); 2 Nov 2005 21:58:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54645 invoked by uid 99); 2 Nov 2005 21:58:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 13:58:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 13:58:20 -0800
Received: from Dd50e.d.pppool.de [80.184.213.14] (helo=[192.168.2.2])
	by mrelayeu.kundenserver.de (node=mrelayeu3) with ESMTP (Nemesis),
	id 0MKxQS-1EXQcL2aLy-0004BF; Wed, 02 Nov 2005 22:58:01 +0100
Message-ID: <43693646.6080805@artentis.com>
Date: Wed, 02 Nov 2005 22:57:26 +0100
From: Gaston <gasi@artentis.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: lucene jar and war
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

My provider only allows to upload war files. My problem is I make a war 
archive out of the lucene-1.4.3.jar file and my jsp webpages based on 
lucene. And this does not work. I hava one solution to solve my problem: 
I have to unpack the lucene-1.4.3.jar file and pack it again with my 
.jsp webpages in a war file. My question is: Is there any better solution?

Thank you in advance

Gaston

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 22:14:02 2005
Return-Path: <java-user-return-17293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3619 invoked from network); 2 Nov 2005 22:14:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 22:14:00 -0000
Received: (qmail 79966 invoked by uid 500); 2 Nov 2005 22:13:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79932 invoked by uid 500); 2 Nov 2005 22:13:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79908 invoked by uid 99); 2 Nov 2005 22:13:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:13:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.155.252.112] (HELO leander.cnchost.com) (207.155.252.112)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:13:48 -0800
Received: from eagle (68-255-223-190.suntimes.com [68.255.223.190] (may be forged))
	by leander.cnchost.com
	id RAA11262; Wed, 2 Nov 2005 17:13:31 -0500 (EST)
	[ConcentricHost SMTP Relay 1.17]
Message-ID: <200511022213.RAA11262@leander.cnchost.com>
Errors-To: <xinwu@pathf.com>
From: "Xin Herbert Wu" <xinwu@pathf.com>
To: <java-user@lucene.apache.org>
Subject: Use spell checker in lucene?
Date: Wed, 2 Nov 2005 16:13:26 -0600
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000D_01C5DFC8.5B323F00"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXf+qWCxNpvLon3RXy2cb/SEM7Lkg==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000D_01C5DFC8.5B323F00
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Anyone plug-in a spell checker into lucene to implement google-like function
"do you mean .?" for wrong spelled word or phrase? 

Also, which spell checker product is good?

Thanks!

-Xin


------=_NextPart_000_000D_01C5DFC8.5B323F00--



From java-user-return-17294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 22:23:13 2005
Return-Path: <java-user-return-17294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7228 invoked from network); 2 Nov 2005 22:23:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 22:23:13 -0000
Received: (qmail 105 invoked by uid 500); 2 Nov 2005 22:23:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99149 invoked by uid 500); 2 Nov 2005 22:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99134 invoked by uid 99); 2 Nov 2005 22:23:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:23:07 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:23:02 -0800
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ef70b7>; Wed, 02 Nov 2005 17:22:45 -0500
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <W1A7DVYK>; Wed, 2 Nov 2005 17:22:45 -0500
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480BF4C08C@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RE: lucene jar and war
Date: Wed, 2 Nov 2005 17:22:38 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Place the lucene jar file in the WEB-INF/lib directory of your web
application prior to creating its war.

If your ISP inspects the war and removes all jar files within it, then I
suppose you might just have to place all the lucene classes under
WEB-INF/classes of your web application as 'loose classes'.

But this is not a lucene related problem. You might be better served to ask
this question in a Java/J2EE forum.




-----Original Message-----
From: Gaston [mailto:gasi@artentis.com] 
Sent: Wednesday, November 02, 2005 4:57 PM
To: java-user@lucene.apache.org
Subject: lucene jar and war

Hello,

My provider only allows to upload war files. My problem is I make a war 
archive out of the lucene-1.4.3.jar file and my jsp webpages based on 
lucene. And this does not work. I hava one solution to solve my problem: 
I have to unpack the lucene-1.4.3.jar file and pack it again with my 
.jsp webpages in a war file. My question is: Is there any better solution?

Thank you in advance

Gaston

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 22:33:22 2005
Return-Path: <java-user-return-17295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12803 invoked from network); 2 Nov 2005 22:33:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 22:33:22 -0000
Received: (qmail 24464 invoked by uid 500); 2 Nov 2005 22:33:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24445 invoked by uid 500); 2 Nov 2005 22:33:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24434 invoked by uid 99); 2 Nov 2005 22:33:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:33:16 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.68.233] (HELO web36207.mail.mud.yahoo.com) (209.191.68.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 14:33:11 -0800
Received: (qmail 78062 invoked by uid 60001); 2 Nov 2005 22:32:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=DTobj68lMHIWgTrgxOtLUFb6RjoMztrFNK/HskI091lH82S7XAvpomgNUpzilzwBZnFdj2anIu4ZZFD7BU62XbbX/AbtsoiP3WL7W628azbM1AGtCBBmTAHPN8u3x2EC45IXWWQGw5RaJlvo8UqUbK17xQBr8CGITWb+sYN4mN0=  ;
Message-ID: <20051102223254.78060.qmail@web36207.mail.mud.yahoo.com>
Received: from [216.240.30.14] by web36207.mail.mud.yahoo.com via HTTP; Wed, 02 Nov 2005 14:32:54 PST
Date: Wed, 2 Nov 2005 14:32:54 -0800 (PST)
From: <lmuxer-mailinglists@yahoo.com>
Reply-To: lmuxer-mailinglists@yahoo.com
Subject: Lucene or DB?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am looking at Lucene to index and search file metadata - filename,
size, permissions, mtime, ctime, atime, etc.

I do not need to index and search the contents of the file. I was
wondering if Lucene is the right choice for such an application. This
will be at enterprise level so there could be millions of files. 

What are the pros and cons of using Lucene vs a DB like MySQL and
creating  indexes on it?

Any comments/suggestions will be appreciated.

Thanks,

Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 02 22:49:53 2005
Return-Path: <java-user-return-17296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17299 invoked from network); 2 Nov 2005 22:48:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Nov 2005 22:48:59 -0000
Received: (qmail 44818 invoked by uid 500); 2 Nov 2005 22:48:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44794 invoked by uid 500); 2 Nov 2005 22:48:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44782 invoked by uid 99); 2 Nov 2005 22:48:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:48:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 14:48:16 -0800
Received: from [195.96.81.145] (helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1EXROb-00045V-3X; Wed, 02 Nov 2005 16:47:53 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>,
	<lmuxer-mailinglists@yahoo.com>
Subject: RE: Lucene or DB?
Date: Thu, 3 Nov 2005 01:54:13 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcXf/WhUQOnwL+20Qom41XMOCzYvwgAAiJIA
In-Reply-To: <20051102223254.78060.qmail@web36207.mail.mud.yahoo.com>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20051102224817.0462E10FB2D1@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: lmuxer-mailinglists@yahoo.com 
> 
> I am looking at Lucene to index and search file metadata - 
> filename, size, permissions, mtime, ctime, atime, etc.
> 
> I do not need to index and search the contents of the file. I 
> was wondering if Lucene is the right choice for such an 
> application. This will be at enterprise level so there could 
> be millions of files. 

Try to start from indexFiles and searchFiles samples to test Lucene 
for your needs. 
 
> What are the pros and cons of using Lucene vs a DB like MySQL 
> and creating  indexes on it?

Do you need a search? What is your typical search query?
What are you going to do with the results of the search?
How are you going to use it? Also, what is your hardware 
requirements? Do you already have a db administrator? 
And etc..

Pasha Bizhan
 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 02:29:10 2005
Return-Path: <java-user-return-17297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10468 invoked from network); 3 Nov 2005 02:29:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 02:29:10 -0000
Received: (qmail 92225 invoked by uid 500); 3 Nov 2005 02:29:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92204 invoked by uid 500); 3 Nov 2005 02:29:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92193 invoked by uid 99); 3 Nov 2005 02:29:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 18:29:03 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.68.236] (HELO web36210.mail.mud.yahoo.com) (209.191.68.236)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 18:28:58 -0800
Received: (qmail 65495 invoked by uid 60001); 3 Nov 2005 02:28:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PstZ3w3jAAjkvZ1GuxUQ5xslEIDwcA1o872kH8qkbcbZTGYhJdvdDcpFPTjZPQwJr80FRoikJ+kvCRv7On2opA7rqpTCVhq8uq63lZJhIPVXTPfmMMR/ZiKTDBMcYscXkJL/q/5b+BOihAJ5DNome51Hxb9nLvHsPQwk9r/RmRU=  ;
Message-ID: <20051103022841.65493.qmail@web36210.mail.mud.yahoo.com>
Received: from [216.240.30.14] by web36210.mail.mud.yahoo.com via HTTP; Wed, 02 Nov 2005 18:28:41 PST
Date: Wed, 2 Nov 2005 18:28:41 -0800 (PST)
From: <lmuxer-mailinglists@yahoo.com>
Reply-To: lmuxer-mailinglists@yahoo.com
Subject: RE: Lucene or DB?
To: java-user@lucene.apache.org, lucene-list@lucenedotnet.com
In-Reply-To: <20051102224817.0462E10FB2D1@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks. I will take a look at those classes.
I do need to support search queries like:
- Find all files that are named foo.doc.
- Find all the files that have not been accessed in last 6
months(atime).
- Find all PDF files with size > 2 MB

The HW requirements are flexible in terms of memory and CPUs. But there
will be no DBA to babysit the DB, so it has to be an embedded DB.


--- Pasha Bizhan <lucene-list@lucenedotnet.com> wrote:

> Hi, 
> 
> > From: lmuxer-mailinglists@yahoo.com 
> > 
> > I am looking at Lucene to index and search file metadata - 
> > filename, size, permissions, mtime, ctime, atime, etc.
> > 
> > I do not need to index and search the contents of the file. I 
> > was wondering if Lucene is the right choice for such an 
> > application. This will be at enterprise level so there could 
> > be millions of files. 
> 
> Try to start from indexFiles and searchFiles samples to test Lucene 
> for your needs. 
>  
> > What are the pros and cons of using Lucene vs a DB like MySQL 
> > and creating  indexes on it?
> 
> Do you need a search? What is your typical search query?
> What are you going to do with the results of the search?
> How are you going to use it? Also, what is your hardware 
> requirements? Do you already have a db administrator? 
> And etc..
> 
> Pasha Bizhan
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 05:21:49 2005
Return-Path: <java-user-return-17298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70646 invoked from network); 3 Nov 2005 05:21:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 05:21:49 -0000
Received: (qmail 24048 invoked by uid 500); 3 Nov 2005 05:21:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24017 invoked by uid 500); 3 Nov 2005 05:21:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24005 invoked by uid 99); 3 Nov 2005 05:21:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 21:21:42 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 21:21:38 -0800
Received: (qmail 37535 invoked by uid 60001); 3 Nov 2005 05:21:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zGCLzKUlIJMzAko+0RGMRgS55yiyhQraRpABmFY4vYp4htm4T2zIeMAnjhwTPHuN4qDpbgbucrrcLARJ1Eyjb3HVer8qwz8hj0sCRfpKIazVNCQPZbYGPE4Z5lrs39bCl54t9SxDR6bwskKJVl+ylWNiVr+8K+znHBrZ8AqcTTI=  ;
Message-ID: <20051103052120.37533.qmail@web50306.mail.yahoo.com>
Received: from [63.192.54.224] by web50306.mail.yahoo.com via HTTP; Wed, 02 Nov 2005 21:21:20 PST
Date: Wed, 2 Nov 2005 21:21:20 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Use spell checker in lucene?
To: java-user@lucene.apache.org
In-Reply-To: <200511022213.RAA11262@leander.cnchost.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Xin,

Look for a Lucene-based spell checked in Lucene's contrib directory (in
SVN).

Otis


--- Xin Herbert Wu <xinwu@pathf.com> wrote:

> Anyone plug-in a spell checker into lucene to implement google-like
> function
> "do you mean .?" for wrong spelled word or phrase? 
> 
> Also, which spell checker product is good?
> 
> Thanks!
> 
> -Xin
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 05:23:49 2005
Return-Path: <java-user-return-17299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71650 invoked from network); 3 Nov 2005 05:23:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 05:23:49 -0000
Received: (qmail 25825 invoked by uid 500); 3 Nov 2005 05:23:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25788 invoked by uid 500); 3 Nov 2005 05:23:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25777 invoked by uid 99); 3 Nov 2005 05:23:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Nov 2005 21:23:44 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Nov 2005 21:23:40 -0800
Received: (qmail 21055 invoked by uid 60001); 3 Nov 2005 05:23:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=s1osXbpeGQMLo+pSCgaZF29VfVz7nsV0czOy710iDUlJ39e1/neHLZVXij9/wK2sMyeiluvS/cd40I/1WHJRzymxCGdCLDyhnSU4gTh+ZezfUoehCzGkvSibliwd2Jihxg8lb0duvC8pcuAWbj3vydNGgowWWMQycO9OCVG565Q=  ;
Message-ID: <20051103052322.21053.qmail@web50305.mail.yahoo.com>
Received: from [63.192.54.224] by web50305.mail.yahoo.com via HTTP; Wed, 02 Nov 2005 21:23:22 PST
Date: Wed, 2 Nov 2005 21:23:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: JDK version with lucene 1.4.3
To: java-user@lucene.apache.org
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480BF4C00E@fraexmb2.staples.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just use 1.5 if you can.  I've been using it for months on simpy.com
along with Lucene 1.9 and haven't had any problems so far.

Otis

--- "Sharma, Siddharth" <Siddharth.Sharma@Staples.com> wrote:

> I have downloaded Lucene 1.4.3
> I am trying to narrow down on the JRE version to use.
> We have the flexibility to use 1.3.1 up.
> Which JVM will be the best for running Lucene?
> I saw a note on the FAQ that said that Lucene will run on 1.3.1 but
> will
> require 1.4 to compile. 
> Why would anyone want to compile the source on one version and run on
> another?
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 09:16:05 2005
Return-Path: <java-user-return-17300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58321 invoked from network); 3 Nov 2005 09:16:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 09:16:04 -0000
Received: (qmail 83087 invoked by uid 500); 3 Nov 2005 09:15:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83055 invoked by uid 500); 3 Nov 2005 09:15:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83043 invoked by uid 99); 3 Nov 2005 09:15:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 01:15:58 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.218] (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Nov 2005 01:15:53 -0800
Received: (qmail 56663 invoked by uid 60001); 3 Nov 2005 09:15:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=LHHYJQzubNkFx5MbHgu+UeDKwclJKDlnWpuexxZxxao/XPEYOdghEHV0mTWYo8d1fnJcZqW4Z4Mulovy7dhZBTnei7qW5XZJM+mvtP1OnlSPze5dhWnhkpbzZ8BYmMn3q2ZeqGtCqd7Be2bAHfkGc8PHUqzq627Gv+DDdsFnRqw=  ;
Message-ID: <20051103091536.56661.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Thu, 03 Nov 2005 09:15:35 GMT
Date: Thu, 3 Nov 2005 09:15:35 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Lucene or DB?
To: java-user@lucene.apache.org, lmuxer-mailinglists@yahoo.com
In-Reply-To: <20051103022841.65493.qmail@web36210.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doesn
--- lmuxer-mailinglists@yahoo.com wrote:

> Thanks. I will take a look at those classes.
> I do need to support search queries like:
> - Find all files that are named foo.doc.
> - Find all the files that have not been accessed in
> last 6
> months(atime).
> - Find all PDF files with size > 2 MB
> 
> The HW requirements are flexible in terms of memory
> and CPUs. But there
> will be no DBA to babysit the DB, so it has to be an
> embedded DB.
> 
> 
> --- Pasha Bizhan <lucene-list@lucenedotnet.com>
> wrote:
> 
> > Hi, 
> > 
> > > From: lmuxer-mailinglists@yahoo.com 
> > > 
> > > I am looking at Lucene to index and search file
> metadata - 
> > > filename, size, permissions, mtime, ctime,
> atime, etc.
> > > 
> > > I do not need to index and search the contents
> of the file. I 
> > > was wondering if Lucene is the right choice for
> such an 
> > > application. This will be at enterprise level so
> there could 
> > > be millions of files. 
> > 
> > Try to start from indexFiles and searchFiles
> samples to test Lucene 
> > for your needs. 
> >  
> > > What are the pros and cons of using Lucene vs a
> DB like MySQL 
> > > and creating  indexes on it?
> > 
> > Do you need a search? What is your typical search
> query?
> > What are you going to do with the results of the
> search?
> > How are you going to use it? Also, what is your
> hardware 
> > requirements? Do you already have a db
> administrator? 
> > And etc..
> > 
> > Pasha Bizhan
> >  
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 09:23:00 2005
Return-Path: <java-user-return-17301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61539 invoked from network); 3 Nov 2005 09:22:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 09:22:59 -0000
Received: (qmail 85881 invoked by uid 500); 3 Nov 2005 09:22:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85852 invoked by uid 500); 3 Nov 2005 09:22:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85839 invoked by uid 99); 3 Nov 2005 09:22:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 01:22:53 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.216] (HELO web26005.mail.ukl.yahoo.com) (217.12.10.216)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Nov 2005 01:22:48 -0800
Received: (qmail 4057 invoked by uid 60001); 3 Nov 2005 09:22:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2p3kpRS+iwlx9+3cKcBK8h0QP5hyi3wpl6ub1KHH2ITQC35Ftirqz9lU0MnAhRDZMfmJu/qkOrIgbgeOy+5J1Sp4f1HUiIcrr0jjJTHv1V+p+SOgkrKA4IQzWZpOW31Y10DNv5MiveYTRFsmlpkAZ28elOvmMZd+3k1p6QkTD1E=  ;
Message-ID: <20051103092230.4055.qmail@web26005.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26005.mail.ukl.yahoo.com via HTTP; Thu, 03 Nov 2005 09:22:30 GMT
Date: Thu, 3 Nov 2005 09:22:30 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Lucene or DB?
To: java-user@lucene.apache.org, lmuxer-mailinglists@yahoo.com
In-Reply-To: <20051103022841.65493.qmail@web36210.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

[ignore last message - result of a caffeine-starved
keyboard slip]

Doesn't sound like you have much in the way of
Lucene-related criteria here other than the
possibility of a fuzzy match on filename. The other
stuff you mention isn't "relevance ranked" criteria
like most text searches so it sounds to me like a
database is more suited. If you want to search the
*content* of files then Lucene may be more relevant.
HSQLDB or Derby can be embedded in your Java app. You
may want to look at the example Lucene file-based
indexer however for a starting point in crawling a
file system and storing only changed content and
removing deleted files from your file metadata store.

Cheers,
Mark
(waking up slowly)






--- lmuxer-mailinglists@yahoo.com wrote:

> Thanks. I will take a look at those classes.
> I do need to support search queries like:
> - Find all files that are named foo.doc.
> - Find all the files that have not been accessed in
> last 6
> months(atime).
> - Find all PDF files with size > 2 MB
> 
> The HW requirements are flexible in terms of memory
> and CPUs. But there
> will be no DBA to babysit the DB, so it has to be an
> embedded DB.
> 
> 
> --- Pasha Bizhan <lucene-list@lucenedotnet.com>
> wrote:
> 
> > Hi, 
> > 
> > > From: lmuxer-mailinglists@yahoo.com 
> > > 
> > > I am looking at Lucene to index and search file
> metadata - 
> > > filename, size, permissions, mtime, ctime,
> atime, etc.
> > > 
> > > I do not need to index and search the contents
> of the file. I 
> > > was wondering if Lucene is the right choice for
> such an 
> > > application. This will be at enterprise level so
> there could 
> > > be millions of files. 
> > 
> > Try to start from indexFiles and searchFiles
> samples to test Lucene 
> > for your needs. 
> >  
> > > What are the pros and cons of using Lucene vs a
> DB like MySQL 
> > > and creating  indexes on it?
> > 
> > Do you need a search? What is your typical search
> query?
> > What are you going to do with the results of the
> search?
> > How are you going to use it? Also, what is your
> hardware 
> > requirements? Do you already have a db
> administrator? 
> > And etc..
> > 
> > Pasha Bizhan
> >  
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 14:47:36 2005
Return-Path: <java-user-return-17302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27696 invoked from network); 3 Nov 2005 14:46:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 14:46:37 -0000
Received: (qmail 42759 invoked by uid 500); 3 Nov 2005 14:40:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31740 invoked by uid 500); 3 Nov 2005 14:38:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28723 invoked by uid 99); 3 Nov 2005 14:37:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 06:37:46 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 06:37:21 -0800
Received: by zproxy.gmail.com with SMTP id c3so185211nze
        for <java-user@lucene.apache.org>; Thu, 03 Nov 2005 06:37:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=pUiD2fWCR9ltgBlJR3jsD9zbiy9/x2dtzcJHQTk04ZISZGjXuERe1xNtSJJwHjMa4/kp6p0VRuFm0AkWoj53NyIPyOXGZcthJoYtRuKtcxigTQrdufZiyS8p1TNrgqGcA1yuNtlX1pyTcaPnmRdvnDXeDNpbiRBmuVMKcvSez0U=
Received: by 10.36.41.2 with SMTP id o2mr376213nzo;
        Thu, 03 Nov 2005 06:37:05 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Thu, 3 Nov 2005 06:37:05 -0800 (PST)
Message-ID: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
Date: Thu, 3 Nov 2005 16:37:05 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Reverse sorting by index order
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12336_12391438.1131028625182"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12336_12391438.1131028625182
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

If I understand correctly, when sorting by Sort.INDEXORDER the oldest
documents that were added to the index will be returned first. I want the
reverse, because I'm more interested in newer documents.

1) Is there a simple way?

2) Will going over the Hits object in reverse order be much more consuming?

Thanks,
Oren Shir

------=_Part_12336_12391438.1131028625182--

From java-user-return-17303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 14:56:07 2005
Return-Path: <java-user-return-17303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37816 invoked from network); 3 Nov 2005 14:56:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 14:56:06 -0000
Received: (qmail 92145 invoked by uid 500); 3 Nov 2005 14:56:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92118 invoked by uid 500); 3 Nov 2005 14:56:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92098 invoked by uid 99); 3 Nov 2005 14:56:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 06:56:00 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.5] (HELO ms-smtp-01.rdc-nyc.rr.com) (24.29.109.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 06:55:55 -0800
Received: from [192.168.1.102] (cpe-66-108-0-16.nyc.res.rr.com [66.108.0.16])
	by ms-smtp-01.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id jA3Ess1g009280
	for <java-user@lucene.apache.org>; Thu, 3 Nov 2005 09:54:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
References: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net>
Content-Transfer-Encoding: 7bit
From: Andy Lee <aglee@earthlink.net>
Subject: Re: Reverse sorting by index order
Date: Thu, 3 Nov 2005 09:55:37 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Nov 3, 2005, at 9:37 AM, Oren Shir wrote:
> If I understand correctly, when sorting by Sort.INDEXORDER the oldest
> documents that were added to the index will be returned first. I  
> want the
> reverse, because I'm more interested in newer documents.

Looking at the source, I see that Sort.INDEXORDER is simply an  
instance of Sort:

   public static final Sort INDEXORDER = new Sort(SortField.FIELD_DOC);

Haven't tried this myself, but you could create your own instance  
that uses a reverse sort:

   Sort reverseIndexOrder = new Sort(SortField.FIELD_DOC, true);

And use that wherever you were using Sort.INDEXORDER.

--Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 15:22:39 2005
Return-Path: <java-user-return-17304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59729 invoked from network); 3 Nov 2005 15:22:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 15:22:37 -0000
Received: (qmail 50129 invoked by uid 500); 3 Nov 2005 15:22:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50099 invoked by uid 500); 3 Nov 2005 15:22:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50088 invoked by uid 99); 3 Nov 2005 15:22:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:22:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:22:23 -0800
Received: by zproxy.gmail.com with SMTP id q3so112589nzb
        for <java-user@lucene.apache.org>; Thu, 03 Nov 2005 07:22:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=NTNebnpa7V2UTvzufctUmOvnvkTQdD6clD2XudaSISOX/QQDTPp1Jg8aUBYLMPv9ZkQ91v9TDri+inZUnXGGOUM2h7sMogP1Hqf7ZRZvBWzZ625nlVNiclpyPPm+NluohL5t0psTvJBVEWY3lFwcU409gwWgVFpcq2BdCbhJFIk=
Received: by 10.36.43.2 with SMTP id q2mr288507nzq;
        Thu, 03 Nov 2005 07:22:06 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Thu, 3 Nov 2005 07:22:06 -0800 (PST)
Message-ID: <b7bee2520511030722o254dc80bxd4de34517811e59f@mail.gmail.com>
Date: Thu, 3 Nov 2005 17:22:06 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Reverse sorting by index order
In-Reply-To: <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12660_12908514.1131031326494"
References: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
	 <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12660_12908514.1131031326494
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

There is no constructor for Sort(SortField, boolean) in Lucene API. Which
version are you using?

Thanks,
Oren Shir

On 11/3/05, Andy Lee <aglee@earthlink.net> wrote:
>
> On Nov 3, 2005, at 9:37 AM, Oren Shir wrote:
> > If I understand correctly, when sorting by Sort.INDEXORDER the oldest
> > documents that were added to the index will be returned first. I
> > want the
> > reverse, because I'm more interested in newer documents.
>
> Looking at the source, I see that Sort.INDEXORDER is simply an
> instance of Sort:
>
> public static final Sort INDEXORDER =3D new Sort(SortField.FIELD_DOC);
>
> Haven't tried this myself, but you could create your own instance
> that uses a reverse sort:
>
> Sort reverseIndexOrder =3D new Sort(SortField.FIELD_DOC, true);
>
> And use that wherever you were using Sort.INDEXORDER.
>
> --Andy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_12660_12908514.1131031326494--

From java-user-return-17305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 15:27:15 2005
Return-Path: <java-user-return-17305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62719 invoked from network); 3 Nov 2005 15:27:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 15:27:15 -0000
Received: (qmail 58354 invoked by uid 500); 3 Nov 2005 15:27:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58333 invoked by uid 500); 3 Nov 2005 15:27:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58322 invoked by uid 99); 3 Nov 2005 15:27:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:27:08 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.5] (HELO ms-smtp-01.rdc-nyc.rr.com) (24.29.109.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:27:04 -0800
Received: from [192.168.1.102] (cpe-66-108-0-16.nyc.res.rr.com [66.108.0.16])
	by ms-smtp-01.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id jA3FQ31g010646
	for <java-user@lucene.apache.org>; Thu, 3 Nov 2005 10:26:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <b7bee2520511030722o254dc80bxd4de34517811e59f@mail.gmail.com>
References: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com> <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net> <b7bee2520511030722o254dc80bxd4de34517811e59f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7B112529-AAC8-4AB0-92EE-E1DE8FDE48E0@earthlink.net>
Content-Transfer-Encoding: 7bit
From: Andy Lee <aglee@earthlink.net>
Subject: Re: Reverse sorting by index order
Date: Thu, 3 Nov 2005 10:26:46 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Nov 3, 2005, at 10:22 AM, Oren Shir wrote:
> There is no constructor for Sort(SortField, boolean) in Lucene API.  
> Which
> version are you using?

I think 1.9rc1.  I have a pretty recent svn checkout -- maybe this  
constructor is new.

--Andy



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 15:58:05 2005
Return-Path: <java-user-return-17306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83665 invoked from network); 3 Nov 2005 15:58:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 15:58:04 -0000
Received: (qmail 20034 invoked by uid 500); 3 Nov 2005 15:57:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19936 invoked by uid 500); 3 Nov 2005 15:57:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19886 invoked by uid 99); 3 Nov 2005 15:57:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:57:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 07:57:47 -0800
Received: by zproxy.gmail.com with SMTP id q3so120456nzb
        for <java-user@lucene.apache.org>; Thu, 03 Nov 2005 07:57:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=JroUnJ6zyoXsFR4aI4MuCUIvF1pucGSUTtmSyi4Y+J6MWtb/7w4cSOioFOvFkxxtlnzLn5W6mqfcb4u0m/JtHPVg1Rz21XvOPPc3Nqzxk/I4aM8cQSiVirgc126UQLz+P2FQrQLCSiRqe8LaELBJTfTOc2jRdmdndPEKSs2VbuU=
Received: by 10.36.96.11 with SMTP id t11mr251060nzb;
        Thu, 03 Nov 2005 07:57:31 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Thu, 3 Nov 2005 07:57:31 -0800 (PST)
Message-ID: <b7bee2520511030757n7696c584nf3717d6d256ceecc@mail.gmail.com>
Date: Thu, 3 Nov 2005 17:57:31 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Reverse sorting by index order
In-Reply-To: <7B112529-AAC8-4AB0-92EE-E1DE8FDE48E0@earthlink.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12976_15354107.1131033451371"
References: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
	 <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net>
	 <b7bee2520511030722o254dc80bxd4de34517811e59f@mail.gmail.com>
	 <7B112529-AAC8-4AB0-92EE-E1DE8FDE48E0@earthlink.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12976_15354107.1131033451371
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I use 1.4.3 . Any other options?

On 11/3/05, Andy Lee <aglee@earthlink.net> wrote:
>
> On Nov 3, 2005, at 10:22 AM, Oren Shir wrote:
> > There is no constructor for Sort(SortField, boolean) in Lucene API.
> > Which
> > version are you using?
>
> I think 1.9rc1. I have a pretty recent svn checkout -- maybe this
> constructor is new.
>
> --Andy
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_12976_15354107.1131033451371--

From java-user-return-17307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 03 16:31:26 2005
Return-Path: <java-user-return-17307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 717 invoked from network); 3 Nov 2005 16:31:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Nov 2005 16:31:23 -0000
Received: (qmail 76455 invoked by uid 500); 3 Nov 2005 16:31:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76433 invoked by uid 500); 3 Nov 2005 16:31:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76420 invoked by uid 99); 3 Nov 2005 16:31:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 08:31:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 08:31:11 -0800
Received: by zproxy.gmail.com with SMTP id k1so205868nzf
        for <java-user@lucene.apache.org>; Thu, 03 Nov 2005 08:30:55 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=MrSg1PSlpSDE4QHNkc4W69IP09ROlfG7C3i58GHQXt+WkzvdXdQVmkaEIwNSFiquguehiLbDuhcVHCXI9D99bXxQiTZRvNcUjP6nM2FlmZ/peVnNLDHWds5rrjESRaThEHw2LhIFnbIary1Kz+NJQiGHipI3RM9II3gTki1kqsw=
Received: by 10.37.21.76 with SMTP id y76mr431922nzi;
        Thu, 03 Nov 2005 08:30:55 -0800 (PST)
Received: by 10.36.89.12 with HTTP; Thu, 3 Nov 2005 08:30:54 -0800 (PST)
Message-ID: <b7bee2520511030830h423003e8m2de884105a20015a@mail.gmail.com>
Date: Thu, 3 Nov 2005 18:30:55 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Reverse sorting by index order
In-Reply-To: <b7bee2520511030757n7696c584nf3717d6d256ceecc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13308_16829394.1131035455044"
References: <b7bee2520511030637v7f46eafcw99acd6e3d16512fc@mail.gmail.com>
	 <3CF4B3C3-8E1D-4CD9-A463-E3F767578598@earthlink.net>
	 <b7bee2520511030722o254dc80bxd4de34517811e59f@mail.gmail.com>
	 <7B112529-AAC8-4AB0-92EE-E1DE8FDE48E0@earthlink.net>
	 <b7bee2520511030757n7696c584nf3717d6d256ceecc@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13308_16829394.1131035455044
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I've found the answer. Thanks to Andy Lee for giving me the idea to look
inside Lucene's code. The line is

new Sort(new SortField(null, SortField.DOC, true))

What got me confused is the null in the constructor, but I see that's the
way it is used in SortField.

Oren Shir

On 11/3/05, Oren Shir <shoren@gmail.com> wrote:
>
> I use 1.4.3 . Any other options?
>
> On 11/3/05, Andy Lee <aglee@earthlink.net> wrote:
> >
> > On Nov 3, 2005, at 10:22 AM, Oren Shir wrote:
> > > There is no constructor for Sort(SortField, boolean) in Lucene API.
> > > Which
> > > version are you using?
> >
> > I think 1.9rc1. I have a pretty recent svn checkout -- maybe this
> > constructor is new.
> >
> > --Andy
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_13308_16829394.1131035455044--

From java-user-return-17308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 06:07:46 2005
Return-Path: <java-user-return-17308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54317 invoked from network); 4 Nov 2005 06:07:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 06:07:46 -0000
Received: (qmail 31856 invoked by uid 500); 4 Nov 2005 06:07:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30951 invoked by uid 500); 4 Nov 2005 06:07:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30940 invoked by uid 99); 4 Nov 2005 06:07:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 22:07:41 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 22:07:36 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA45vjxI021542
	for <java-user@lucene.apache.org>; Fri, 4 Nov 2005 05:57:50 GMT
Message-ID: <016501c5e106$74aa0500$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Subject: Searching the contents
Date: Fri, 4 Nov 2005 11:40:21 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0159_01C5E134.89F80910"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0159_01C5E134.89F80910
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I am having 1,00,000 documents in a index but in near future it will be =
3 million and more.  I am somewhat concerned about  the searhing process =
with this much number of document.  I am giving order on some fields of =
documents. Could anybody tell be the expected result from lucene engine =
with 3 million results and order/sorted on 4 column.=20

Thanks,
Manoj=20

------=_NextPart_000_0159_01C5E134.89F80910--


From java-user-return-17309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 07:01:14 2005
Return-Path: <java-user-return-17309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81217 invoked from network); 4 Nov 2005 07:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 07:01:14 -0000
Received: (qmail 75117 invoked by uid 500); 4 Nov 2005 07:01:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75067 invoked by uid 500); 4 Nov 2005 07:01:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75056 invoked by uid 99); 4 Nov 2005 07:01:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:01:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:01:03 -0800
Received: by zproxy.gmail.com with SMTP id 13so127835nzp
        for <java-user@lucene.apache.org>; Thu, 03 Nov 2005 23:00:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=bwZChHLB2wu2sdl3+FWgENd9gA4DBRCFeI4Sf4crFOubbqkRbXexsrsTHTCcd6YSIfx8VkZFe3wkD1dqC4aurjYhHLU3Iwqu4HNxXl78crjwSBC95tPNlT8toMhTIgH8JLdvadkiX4vkwvEOUc5G3WhHPuFTQ2iD2M6Hx86NJ0A=
Received: by 10.65.239.13 with SMTP id q13mr1741816qbr;
        Thu, 03 Nov 2005 23:00:47 -0800 (PST)
Received: by 10.65.93.10 with HTTP; Thu, 3 Nov 2005 23:00:47 -0800 (PST)
Message-ID: <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com>
Date: Thu, 3 Nov 2005 23:00:47 -0800
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching the contents
In-Reply-To: <016501c5e106$74aa0500$1000a8c0@manoj>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <016501c5e106$74aa0500$1000a8c0@manoj>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One of my case is using PIII 450MHz 256M RAM, with 1million records,
the search is around 3~4 seconds for the very first search, and
sub-second, usually under 0.5 second.

Sorting on one column will be longer, like 7~8 seconds for the first
sort. And subseconds with cache.

Chris Lu
---------------------------
Full-Text Search on Any Database
http://www.dbsight.net

On 11/3/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
> Hi,
> I am having 1,00,000 documents in a index but in near future it will be 3=
 million and more.  I am somewhat concerned about  the searhing process wit=
h this much number of document.  I am giving order on some fields of docume=
nts. Could anybody tell be the expected result from lucene engine with 3 mi=
llion results and order/sorted on 4 column.
>
> Thanks,
> Manoj
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 07:33:01 2005
Return-Path: <java-user-return-17310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93955 invoked from network); 4 Nov 2005 07:33:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 07:33:01 -0000
Received: (qmail 96638 invoked by uid 500); 4 Nov 2005 07:32:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96618 invoked by uid 500); 4 Nov 2005 07:32:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96606 invoked by uid 99); 4 Nov 2005 07:32:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:32:55 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:32:49 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA47MxxI024243;
	Fri, 4 Nov 2005 07:23:02 GMT
Message-ID: <01dd01c5e112$5bac0bf0$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Cc: <chris.lu@gmail.com>
References: <016501c5e106$74aa0500$1000a8c0@manoj> <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com>
Subject: Re: Searching the contents
Date: Fri, 4 Nov 2005 13:05:37 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,
Thanks for sharing your views with us. Is  sorting works properly. Is there
any idea regarding time estimation for sort on 4-5 columns with 1 million
records?

Regards,
Manoj
----- Original Message -----
From: "Chris Lu" <chris.lu@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Friday, November 04, 2005 12:30 PM
Subject: Re: Searching the contents


> One of my case is using PIII 450MHz 256M RAM, with 1million records,
> the search is around 3~4 seconds for the very first search, and
> sub-second, usually under 0.5 second.
>
> Sorting on one column will be longer, like 7~8 seconds for the first
> sort. And subseconds with cache.
>
> Chris Lu
> ---------------------------
> Full-Text Search on Any Database
> http://www.dbsight.net
>
> On 11/3/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
> > Hi,
> > I am having 1,00,000 documents in a index but in near future it will be
3 million and more.  I am somewhat concerned about  the searhing process
with this much number of document.  I am giving order on some fields of
documents. Could anybody tell be the expected result from lucene engine with
3 million results and order/sorted on 4 column.
> >
> > Thanks,
> > Manoj
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 07:42:32 2005
Return-Path: <java-user-return-17311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97076 invoked from network); 4 Nov 2005 07:42:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 07:42:31 -0000
Received: (qmail 2492 invoked by uid 500); 4 Nov 2005 07:42:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2471 invoked by uid 500); 4 Nov 2005 07:42:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2460 invoked by uid 99); 4 Nov 2005 07:42:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:42:25 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Nov 2005 23:42:20 -0800
Received: (qmail 72359 invoked by uid 60001); 4 Nov 2005 07:42:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mSxAq5uDVzZg/wCI5BCLhIwN/IATZHJTBp07aHZF7P1g5MlGXJ6SXmVhecWME/mReYoLFJXjDuOMkL5Vf0PnKflFg59MOVEEK1MIW6j5EbvYbL2PG1QuMXTaBS8KyRqqERMStoU9Tbh4MBbOjBZdngs9qleiZPjTYi20bT/pies=  ;
Message-ID: <20051104074203.72357.qmail@web50308.mail.yahoo.com>
Received: from [63.192.54.224] by web50308.mail.yahoo.com via HTTP; Thu, 03 Nov 2005 23:42:03 PST
Date: Thu, 3 Nov 2005 23:42:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searching + Sorting in 3 milion documents
To: java-user@lucene.apache.org
Cc: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
In-Reply-To: <018201c5e106$9a1ccfc0$1000a8c0@manoj>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Redirecting to java-user (-dev is for developers of Lucene).
@daffodildb.com, interesting :)

It really depends on a number of factors:
- types of Fields in your Documents
- number of indexed Fields
- types of queries
- state of the index (optimized vs. unoptimized)
- amount of RAM (can your index fit into RAM?) and speed of disk
- desired response time
- etc.

So, the best way is to create a fake index with 3M documents on your
server and see what happens.


Otis


--- "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com> wrote:

> Hi,
> I am having 1,00,000 documents in a index but in near future it will
> be 3 million and more.  I am somewhat concerned about  the searhing
> process with this much number of document.  I am giving order on some
> fields of documents. Could anybody tell be the expected result from
> lucene engine with 3 million results and order/sorted on 4 column. 
> 
> Thanks,
> Manoj 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 07:48:19 2005
Return-Path: <java-user-return-17312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99504 invoked from network); 4 Nov 2005 07:48:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 07:48:18 -0000
Received: (qmail 8917 invoked by uid 500); 4 Nov 2005 07:48:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8892 invoked by uid 500); 4 Nov 2005 07:48:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8881 invoked by uid 99); 4 Nov 2005 07:48:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:48:13 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Nov 2005 23:48:08 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA47cJxI024595;
	Fri, 4 Nov 2005 07:38:22 GMT
Message-ID: <01f201c5e114$800b58f0$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>,
        <java-user@lucene.apache.org>
References: <20051104074203.72357.qmail@web50308.mail.yahoo.com>
Subject: Re: Searching + Sorting in 3 milion documents
Date: Fri, 4 Nov 2005 13:20:57 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Otis,
Thanks for prompt reply.

> - state of the index (optimized vs. unoptimized)
Which one will be best for these sort of scenario? Optimized?

> - amount of RAM (can your index fit into RAM?) and speed of disk
> - desired response time
Is there any OutOfMemory issue in case if  RAM amout is not enough or it's
simple take help of o/s specific pages?


Regards,
Manoj

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: <java-user@lucene.apache.org>
Cc: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
Sent: Friday, November 04, 2005 1:12 PM
Subject: Re: Searching + Sorting in 3 milion documents


> Redirecting to java-user (-dev is for developers of Lucene).
> @daffodildb.com, interesting :)
>
> It really depends on a number of factors:
> - types of Fields in your Documents
> - number of indexed Fields
> - types of queries
> - state of the index (optimized vs. unoptimized)
> - amount of RAM (can your index fit into RAM?) and speed of disk
> - desired response time
> - etc.
>
> So, the best way is to create a fake index with 3M documents on your
> server and see what happens.
>
>
> Otis
>
>
> --- "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com> wrote:
>
> > Hi,
> > I am having 1,00,000 documents in a index but in near future it will
> > be 3 million and more.  I am somewhat concerned about  the searhing
> > process with this much number of document.  I am giving order on some
> > fields of documents. Could anybody tell be the expected result from
> > lucene engine with 3 million results and order/sorted on 4 column.
> >
> > Thanks,
> > Manoj


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 08:46:06 2005
Return-Path: <java-user-return-17313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31320 invoked from network); 4 Nov 2005 08:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 08:46:06 -0000
Received: (qmail 79255 invoked by uid 500); 4 Nov 2005 08:46:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78344 invoked by uid 500); 4 Nov 2005 08:46:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78333 invoked by uid 99); 4 Nov 2005 08:46:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 00:46:00 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aseldawy@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 00:45:55 -0800
Received: by xproxy.gmail.com with SMTP id s8so239825wxc
        for <java-user@lucene.apache.org>; Fri, 04 Nov 2005 00:45:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rL3XbXRgiACLFfjNDgq6/cas2OHpuqaIFArtD1cHRalC70Qqkjc3dJnCwBAtUYrs0M+HlsmH7c3fHvhlBIRcIcfUvd+Css1C1/iexMJ9Qa5k/ph3bjodtAMp5Ay0zmiYpdIA4HfOGn+IFgHhFVN4BB+HdxQMTSnqt6/90XSE/xs=
Received: by 10.70.24.6 with SMTP id 6mr1738470wxx;
        Fri, 04 Nov 2005 00:45:39 -0800 (PST)
Received: by 10.70.23.14 with HTTP; Fri, 4 Nov 2005 00:45:39 -0800 (PST)
Message-ID: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
Date: Fri, 4 Nov 2005 10:45:39 +0200
From: Ahmed El-dawy <aseldawy@gmail.com>
Reply-To: aseldawy@yahoo.com
To: java-user@lucene.apache.org
Subject: Multiple terms with the same position in PhraseQuery
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
  My analyzer sometimes gives multiple terms for the same word. This
makes them generated at the same position. When I use PhraseQuery to
search for this term, it matches documents with all these terms at the
same position (as if it is an AND). I want it to match documents with
at least ONE term of the generated terms (OR).
For example, a field containing the word (misuse) gives the terms
(misuse, use). When I search for the PhraseQuery "uses" it gives the
terms (uses, use), so it doesn't match the given document. I want it
to match (for the term 'use').
This is an example with one word, the same case happens with a phrase
query with multiple words.

Thanks in advance.
--
regards,
Ahmed Saad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 08:53:37 2005
Return-Path: <java-user-return-17314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34800 invoked from network); 4 Nov 2005 08:53:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 08:53:36 -0000
Received: (qmail 93289 invoked by uid 500); 4 Nov 2005 08:53:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93269 invoked by uid 500); 4 Nov 2005 08:53:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93258 invoked by uid 99); 4 Nov 2005 08:53:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 00:53:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [143.126.201.210] (HELO hermes.culture.fr) (143.126.201.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 00:53:25 -0800
Received: by mta.culture.fr with id jA48r6Fg029638
 for <java-user@lucene.apache.org>; Fri, 4 Nov 2005 09:53:07 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T74671a5ae58f7ec9dc7d0@pasteur.culture.fr> for <java-user@lucene.apache.org>;
 Fri, 4 Nov 2005 09:53:06 +0100
Received: by bretagne.culture.fr with ESMTP id jA48r6Gf027796
  for <java-user@lucene.apache.org>; Fri, 4 Nov 2005 09:53:06 +0100
Message-ID: <436B2181.9060708@culture.gouv.fr>
Date: Fri, 04 Nov 2005 09:53:21 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Thunderbird 1.4 (Windows/20050908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
In-Reply-To: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ahmed and all,

Ahmed El-dawy wrote:

> Hello,
>   My analyzer sometimes gives multiple terms for the same word. This
> makes them generated at the same position. When I use PhraseQuery to
> search for this term, it matches documents with all these terms at the
> same position (as if it is an AND). I want it to match documents with
> at least ONE term of the generated terms (OR).
> For example, a field containing the word (misuse) gives the terms
> (misuse, use). When I search for the PhraseQuery "uses" it gives the
> terms (uses, use), so it doesn't match the given document. I want it
> to match (for the term 'use').
> This is an example with one word, the same case happens with a phrase
> query with multiple words.

This should have been fixed one year ago with Daniel and myself.

See : http://issues.apache.org/bugzilla/show_bug.cgi?id=23307

Please upgrade and report any problem.

Cheers,

p.b.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 10:12:17 2005
Return-Path: <java-user-return-17315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71066 invoked from network); 4 Nov 2005 10:12:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 10:12:17 -0000
Received: (qmail 85252 invoked by uid 500); 4 Nov 2005 10:12:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85226 invoked by uid 500); 4 Nov 2005 10:12:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85213 invoked by uid 99); 4 Nov 2005 10:12:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:12:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:12:06 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1E41013E200A; Fri,  4 Nov 2005 05:11:47 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id ECB3913E2006
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 05:11:39 -0500 (EST)
In-Reply-To: <01dd01c5e112$5bac0bf0$1000a8c0@manoj>
References: <016501c5e106$74aa0500$1000a8c0@manoj> <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com> <01dd01c5e112$5bac0bf0$1000a8c0@manoj>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching the contents
Date: Fri, 4 Nov 2005 05:11:38 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I certainly recommend testing this to see what kind of response times  
you get for the first and successive searches after the caches are  
built - be sure to use the same IndexReader for all searches to  
benefit from caching :)

Sorting on 4-5 columns seems kind of extreme.  Sorting uses up RAM  
with the caches, so it would surely be much more efficient to  
collapse the fields you need to sort by into a single field if  
possible, and try to do so numerically rather than as Strings.

     Erik



On 4 Nov 2005, at 02:35, Manoj Kr. Sheoran wrote:

> Hi Chris,
> Thanks for sharing your views with us. Is  sorting works properly.  
> Is there
> any idea regarding time estimation for sort on 4-5 columns with 1  
> million
> records?
>
> Regards,
> Manoj
> ----- Original Message -----
> From: "Chris Lu" <chris.lu@gmail.com>
> To: <java-user@lucene.apache.org>
> Sent: Friday, November 04, 2005 12:30 PM
> Subject: Re: Searching the contents
>
>
>
>> One of my case is using PIII 450MHz 256M RAM, with 1million records,
>> the search is around 3~4 seconds for the very first search, and
>> sub-second, usually under 0.5 second.
>>
>> Sorting on one column will be longer, like 7~8 seconds for the first
>> sort. And subseconds with cache.
>>
>> Chris Lu
>> ---------------------------
>> Full-Text Search on Any Database
>> http://www.dbsight.net
>>
>> On 11/3/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
>>
>>> Hi,
>>> I am having 1,00,000 documents in a index but in near future it  
>>> will be
>>>
> 3 million and more.  I am somewhat concerned about  the searhing  
> process
> with this much number of document.  I am giving order on some  
> fields of
> documents. Could anybody tell be the expected result from lucene  
> engine with
> 3 million results and order/sorted on 4 column.
>
>>>
>>> Thanks,
>>> Manoj
>>>
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 10:20:51 2005
Return-Path: <java-user-return-17316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75822 invoked from network); 4 Nov 2005 10:20:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 10:20:50 -0000
Received: (qmail 96824 invoked by uid 500); 4 Nov 2005 10:20:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96654 invoked by uid 500); 4 Nov 2005 10:20:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96601 invoked by uid 99); 4 Nov 2005 10:20:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:20:32 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:20:24 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA4AAWxI029093;
	Fri, 4 Nov 2005 10:10:35 GMT
Message-ID: <023f01c5e129$c414bf90$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Cc: <erik@ehatchersolutions.com>
References: <016501c5e106$74aa0500$1000a8c0@manoj> <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com> <01dd01c5e112$5bac0bf0$1000a8c0@manoj> <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com>
Subject: Re: Searching the contents
Date: Fri, 4 Nov 2005 15:53:10 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik and all,
Thanks for the concern.  We will test and let you know it also. We would
really appreciate if any of you can tell some more about the architecture of
Lucene searching system. How do you manages the iterator and what is the
method callback at query execution time(a broader view).

Regards,
Manoj

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <java-user@lucene.apache.org>
Sent: Friday, November 04, 2005 3:41 PM
Subject: Re: Searching the contents


> I certainly recommend testing this to see what kind of response times
> you get for the first and successive searches after the caches are
> built - be sure to use the same IndexReader for all searches to
> benefit from caching :)
>
> Sorting on 4-5 columns seems kind of extreme.  Sorting uses up RAM
> with the caches, so it would surely be much more efficient to
> collapse the fields you need to sort by into a single field if
> possible, and try to do so numerically rather than as Strings.
>
>      Erik
>
>
>
> On 4 Nov 2005, at 02:35, Manoj Kr. Sheoran wrote:
>
> > Hi Chris,
> > Thanks for sharing your views with us. Is  sorting works properly.
> > Is there
> > any idea regarding time estimation for sort on 4-5 columns with 1
> > million
> > records?
> >
> > Regards,
> > Manoj
> > ----- Original Message -----
> > From: "Chris Lu" <chris.lu@gmail.com>
> > To: <java-user@lucene.apache.org>
> > Sent: Friday, November 04, 2005 12:30 PM
> > Subject: Re: Searching the contents
> >
> >
> >
> >> One of my case is using PIII 450MHz 256M RAM, with 1million records,
> >> the search is around 3~4 seconds for the very first search, and
> >> sub-second, usually under 0.5 second.
> >>
> >> Sorting on one column will be longer, like 7~8 seconds for the first
> >> sort. And subseconds with cache.
> >>
> >> Chris Lu
> >> ---------------------------
> >> Full-Text Search on Any Database
> >> http://www.dbsight.net
> >>
> >> On 11/3/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
> >>
> >>> Hi,
> >>> I am having 1,00,000 documents in a index but in near future it
> >>> will be
> >>>
> > 3 million and more.  I am somewhat concerned about  the searhing
> > process
> > with this much number of document.  I am giving order on some
> > fields of
> > documents. Could anybody tell be the expected result from lucene
> > engine with
> > 3 million results and order/sorted on 4 column.
> >
> >>>
> >>> Thanks,
> >>> Manoj
> >>>
> >>>
> >>>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 10:31:20 2005
Return-Path: <java-user-return-17317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81740 invoked from network); 4 Nov 2005 10:30:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 10:30:26 -0000
Received: (qmail 11710 invoked by uid 500); 4 Nov 2005 10:30:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11687 invoked by uid 500); 4 Nov 2005 10:30:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11676 invoked by uid 99); 4 Nov 2005 10:30:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:30:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:30:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AF81C13E200A; Fri,  4 Nov 2005 05:29:48 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 3117213E2008
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 05:29:20 -0500 (EST)
In-Reply-To: <023f01c5e129$c414bf90$1000a8c0@manoj>
References: <016501c5e106$74aa0500$1000a8c0@manoj> <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com> <01dd01c5e112$5bac0bf0$1000a8c0@manoj> <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com> <023f01c5e129$c414bf90$1000a8c0@manoj>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <169C0F09-60F6-4E79-B7FB-BC100C923470@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching the contents
Date: Fri, 4 Nov 2005 05:29:18 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 4 Nov 2005, at 05:23, Manoj Kr. Sheoran wrote:
> Hi Erik and all,
> Thanks for the concern.  We will test and let you know it also. We  
> would
> really appreciate if any of you can tell some more about the  
> architecture of
> Lucene searching system. How do you manages the iterator and what  
> is the
> method callback at query execution time(a broader view).

There really isn't any method callback, at least not in the way I'm  
thinking of it.  When  you search you get back Hits.  Hits is an  
efficient data structure that caches up to the next 200 documents, re- 
searches to get successive documents when requested.  A priority  
queue is the key to keeping only the top scoring (or sorted) document  
pointers around.

     Erik


>
> Regards,
> Manoj
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: <java-user@lucene.apache.org>
> Sent: Friday, November 04, 2005 3:41 PM
> Subject: Re: Searching the contents
>
>
>
>> I certainly recommend testing this to see what kind of response times
>> you get for the first and successive searches after the caches are
>> built - be sure to use the same IndexReader for all searches to
>> benefit from caching :)
>>
>> Sorting on 4-5 columns seems kind of extreme.  Sorting uses up RAM
>> with the caches, so it would surely be much more efficient to
>> collapse the fields you need to sort by into a single field if
>> possible, and try to do so numerically rather than as Strings.
>>
>>      Erik
>>
>>
>>
>> On 4 Nov 2005, at 02:35, Manoj Kr. Sheoran wrote:
>>
>>
>>> Hi Chris,
>>> Thanks for sharing your views with us. Is  sorting works properly.
>>> Is there
>>> any idea regarding time estimation for sort on 4-5 columns with 1
>>> million
>>> records?
>>>
>>> Regards,
>>> Manoj
>>> ----- Original Message -----
>>> From: "Chris Lu" <chris.lu@gmail.com>
>>> To: <java-user@lucene.apache.org>
>>> Sent: Friday, November 04, 2005 12:30 PM
>>> Subject: Re: Searching the contents
>>>
>>>
>>>
>>>
>>>> One of my case is using PIII 450MHz 256M RAM, with 1million  
>>>> records,
>>>> the search is around 3~4 seconds for the very first search, and
>>>> sub-second, usually under 0.5 second.
>>>>
>>>> Sorting on one column will be longer, like 7~8 seconds for the  
>>>> first
>>>> sort. And subseconds with cache.
>>>>
>>>> Chris Lu
>>>> ---------------------------
>>>> Full-Text Search on Any Database
>>>> http://www.dbsight.net
>>>>
>>>> On 11/3/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
>>>>
>>>>
>>>>> Hi,
>>>>> I am having 1,00,000 documents in a index but in near future it
>>>>> will be
>>>>>
>>>>>
>>> 3 million and more.  I am somewhat concerned about  the searhing
>>> process
>>> with this much number of document.  I am giving order on some
>>> fields of
>>> documents. Could anybody tell be the expected result from lucene
>>> engine with
>>> 3 million results and order/sorted on 4 column.
>>>
>>>
>>>>>
>>>>> Thanks,
>>>>> Manoj
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>> ------------------------------------------------------------------- 
>>>> --
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 10:34:03 2005
Return-Path: <java-user-return-17318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83307 invoked from network); 4 Nov 2005 10:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 10:33:33 -0000
Received: (qmail 17147 invoked by uid 500); 4 Nov 2005 10:32:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17126 invoked by uid 500); 4 Nov 2005 10:32:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17115 invoked by uid 99); 4 Nov 2005 10:32:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:32:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:32:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F1FE613E2008; Fri,  4 Nov 2005 05:32:30 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 8FE2113E2006
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 05:32:26 -0500 (EST)
In-Reply-To: <01f201c5e114$800b58f0$1000a8c0@manoj>
References: <20051104074203.72357.qmail@web50308.mail.yahoo.com> <01f201c5e114$800b58f0$1000a8c0@manoj>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A9C2C609-5DD6-467E-8A43-9FA68FF650A6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching + Sorting in 3 milion documents
Date: Fri, 4 Nov 2005 05:32:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 4 Nov 2005, at 02:50, Manoj Kr. Sheoran wrote:
>> - state of the index (optimized vs. unoptimized)
>>
> Which one will be best for these sort of scenario? Optimized?

Optimized is always best for better search efficiency.

But practically speaking, how optimized an index is depends on how  
you need to update it.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 10:35:50 2005
Return-Path: <java-user-return-17319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83650 invoked from network); 4 Nov 2005 10:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 10:34:22 -0000
Received: (qmail 21200 invoked by uid 500); 4 Nov 2005 10:34:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20942 invoked by uid 500); 4 Nov 2005 10:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20931 invoked by uid 99); 4 Nov 2005 10:34:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:34:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 02:34:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4F17713E2008; Fri,  4 Nov 2005 05:33:48 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 008F513E2006
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 05:33:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <436B2181.9060708@culture.gouv.fr>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> <436B2181.9060708@culture.gouv.fr>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple terms with the same position in PhraseQuery
Date: Fri, 4 Nov 2005 05:33:45 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 4 Nov 2005, at 03:53, Pierrick Brihaye wrote:

> Hi Ahmed and all,
>
> Ahmed El-dawy wrote:
>
>
>> Hello,
>>   My analyzer sometimes gives multiple terms for the same word. This
>> makes them generated at the same position. When I use PhraseQuery to
>> search for this term, it matches documents with all these terms at  
>> the
>> same position (as if it is an AND). I want it to match documents with
>> at least ONE term of the generated terms (OR).
>> For example, a field containing the word (misuse) gives the terms
>> (misuse, use). When I search for the PhraseQuery "uses" it gives the
>> terms (uses, use), so it doesn't match the given document. I want it
>> to match (for the term 'use').
>> This is an example with one word, the same case happens with a phrase
>> query with multiple words.
>>
>
> This should have been fixed one year ago with Daniel and myself.

Really?  It works in this OR kind of fashion with tokens in 0- 
incremented positions?

     Erik



>
> See : http://issues.apache.org/bugzilla/show_bug.cgi?id=23307
>
> Please upgrade and report any problem.
>
> Cheers,
>
> p.b.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 17:36:43 2005
Return-Path: <java-user-return-17320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 997 invoked from network); 4 Nov 2005 17:36:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 17:36:42 -0000
Received: (qmail 51221 invoked by uid 500); 4 Nov 2005 17:36:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51196 invoked by uid 500); 4 Nov 2005 17:36:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51184 invoked by uid 99); 4 Nov 2005 17:36:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 09:36:34 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.220.6.229] (HELO mail.roomity.com) (66.220.6.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 09:36:29 -0800
Received: from slave1.roomity.com (slave1.roomity.com [66.220.6.229])
	by mail.roomity.com (Postfix) with ESMTP id BB60CA7611
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 09:36:27 -0800 (PST)
Message-ID: <2815805.101131125787658.JavaMail.tomcat5@slave1.roomity.com>
From: netsql <maillist@roomity.com>
To: java-user@lucene.apache.org
Subject:  [OT ANN] Roomity v 1.5 w/ video, social networking and html editor
 + JDNC article
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10_19776786.1131125787655"
Date: Fri,  4 Nov 2005 09:36:27 -0800 (PST)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10_19776786.1131125787655
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Roomity.com v 1.5 is a web 2.01/RiA poster child community webapp. This new version ads broadcast video, social networking such as favorite authors and html editor.
It likely already has groups and content you are already using but aggregated and safer, including technology, Java, etc., but it only works on broadband.

It uses lucene in the backtroung, for example http://roomity.com/launch.jsp?search=luc in RiA.
or... you can get to this mail list via http://lucene.roomity.com.
 
.V



----------------------------------------------------------------------------------------
<a href="http://Lucene_Java_User_List.roomity.com">Lucene_Java_User_List.roomity.com</a>
Your Roomity Broadband Webapp ~~1131125787652~~
----------------------------------------------------------------------------------------

------=_Part_10_19776786.1131125787655--


From java-user-return-17321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 18:25:05 2005
Return-Path: <java-user-return-17321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21275 invoked from network); 4 Nov 2005 18:25:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 18:25:05 -0000
Received: (qmail 17147 invoked by uid 500); 4 Nov 2005 18:24:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17121 invoked by uid 500); 4 Nov 2005 18:24:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17088 invoked by uid 99); 4 Nov 2005 18:24:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 10:24:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 10:24:51 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BB3D25B7A0; Fri,  4 Nov 2005 10:24:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B897C7F459
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 10:24:32 -0800 (PST)
Date: Fri, 4 Nov 2005 10:24:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Searching the contents
In-Reply-To: <169C0F09-60F6-4E79-B7FB-BC100C923470@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0511041023090.3783@hal.rescomp.berkeley.edu>
References: <016501c5e106$74aa0500$1000a8c0@manoj>
 <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com>
 <01dd01c5e112$5bac0bf0$1000a8c0@manoj> <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com>
 <023f01c5e129$c414bf90$1000a8c0@manoj> <169C0F09-60F6-4E79-B7FB-BC100C923470@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > Lucene searching system. How do you manages the iterator and what
: > is the
: > method callback at query execution time(a broader view).
:
: There really isn't any method callback, at least not in the way I'm
: thinking of it.  When  you search you get back Hits.  Hits is an

If you want a lower leve3l API, look at the methods that use a
HitCollector ... it's basically a callback for every document that
matches, but they are in document order -- you are responsible for doing
any sorting yourself.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 18:44:43 2005
Return-Path: <java-user-return-17322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28566 invoked from network); 4 Nov 2005 18:44:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 18:44:42 -0000
Received: (qmail 41630 invoked by uid 500); 4 Nov 2005 18:44:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41601 invoked by uid 500); 4 Nov 2005 18:44:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41590 invoked by uid 99); 4 Nov 2005 18:44:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 10:44:36 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 10:44:31 -0800
Received: (qmail 15844 invoked from network); 4 Nov 2005 18:44:12 -0000
Received: from unknown (HELO p5496e5a6.dip.t-dialin.net) ([pbs]695637@[84.150.229.166])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 4 Nov 2005 18:44:12 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
Date: Fri, 4 Nov 2005 19:45:02 +0100
User-Agent: KMail/1.8.2
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> <436B2181.9060708@culture.gouv.fr> <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
In-Reply-To: <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200511041945.02428@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 04 November 2005 11:33, Erik Hatcher wrote:

> > This should have been fixed one year ago with Daniel and myself.
>
> Really? =C2=A0It works in this OR kind of fashion with tokens in 0-
> incremented positions?

Yes, this test case shows it (multi will be turned into multi and multi2,=20
both at the same position by the analyzer used here):

assertEquals("+(multi multi2) +foo", qp.parse("multi foo").toString());

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 19:52:52 2005
Return-Path: <java-user-return-17323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62965 invoked from network); 4 Nov 2005 19:52:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 19:52:52 -0000
Received: (qmail 41381 invoked by uid 500); 4 Nov 2005 19:52:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41353 invoked by uid 500); 4 Nov 2005 19:52:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41338 invoked by uid 99); 4 Nov 2005 19:52:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 11:52:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Nov 2005 11:52:40 -0800
Received: (qmail 24045 invoked by uid 0); 4 Nov 2005 19:52:23 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Fri, 4 Nov 2005 20:52:23 +0100 (MET)
Date: Fri, 4 Nov 2005 20:52:23 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: Scoring formula
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <2034.1131133943@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello group,

the scoring formula for Lucene is well explained in "Lucene in Action".
However, is this formula also valid for Lucene 1.2 (which I am using). I
need to know that for documentation purposes. If not, where can I find the
currect formula since I do not want to interpret if from the code...

Best Regards to all of you,
Karl

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 20:13:21 2005
Return-Path: <java-user-return-17324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70689 invoked from network); 4 Nov 2005 20:13:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 20:13:21 -0000
Received: (qmail 76583 invoked by uid 500); 4 Nov 2005 20:13:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76555 invoked by uid 500); 4 Nov 2005 20:13:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76544 invoked by uid 99); 4 Nov 2005 20:13:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 12:13:15 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Nov 2005 12:13:10 -0800
Received: (qmail 90780 invoked by uid 60001); 4 Nov 2005 20:12:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=xNHh0B+YIuD6PGH+QLNLNMxDnfDtHmhfoZduoYbKsIB4rzR37lFLiOCrw5IrGoptd2gnJq+XrY0TYdn6OGVBvtlzsMmvF9ryorp7agKfrW5j8zGw5ToAiJJ6yk9ol9uQPSoM6IVlS3LnrGdNMIHqffMDcm2pBP3xKWElzSyFkoM=  ;
Message-ID: <20051104201253.90778.qmail@web50310.mail.yahoo.com>
Received: from [66.92.187.246] by web50310.mail.yahoo.com via HTTP; Fri, 04 Nov 2005 12:12:52 PST
Date: Fri, 4 Nov 2005 12:12:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring formula
To: java-user@lucene.apache.org
In-Reply-To: <2034.1131133943@www5.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The formula should also be in the javadoc for Similarity class, if it
was there in 1.2.

Otis


--- Karl Koch <TheRanger@gmx.net> wrote:

> Hello group,
> 
> the scoring formula for Lucene is well explained in "Lucene in
> Action".
> However, is this formula also valid for Lucene 1.2 (which I am
> using). I
> need to know that for documentation purposes. If not, where can I
> find the
> currect formula since I do not want to interpret if from the code...
> 
> Best Regards to all of you,
> Karl
> 
> -- 
> Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
> Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 20:22:46 2005
Return-Path: <java-user-return-17325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82076 invoked from network); 4 Nov 2005 20:22:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 20:22:45 -0000
Received: (qmail 89054 invoked by uid 500); 4 Nov 2005 20:22:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89030 invoked by uid 500); 4 Nov 2005 20:22:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89019 invoked by uid 99); 4 Nov 2005 20:22:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 12:22:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 12:22:33 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0965013E2006; Fri,  4 Nov 2005 15:22:13 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4E99413E200A
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 15:22:07 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <200511041945.02428@danielnaber.de>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> <436B2181.9060708@culture.gouv.fr> <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com> <200511041945.02428@danielnaber.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple terms with the same position in PhraseQuery
Date: Fri, 4 Nov 2005 15:21:20 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 4 Nov 2005, at 13:45, Daniel Naber wrote:

> On Freitag 04 November 2005 11:33, Erik Hatcher wrote:
>
>
>>> This should have been fixed one year ago with Daniel and myself.
>>>
>>
>> Really?  It works in this OR kind of fashion with tokens in 0-
>> incremented positions?
>>
>
> Yes, this test case shows it (multi will be turned into multi and  
> multi2,
> both at the same position by the analyzer used here):
>
> assertEquals("+(multi multi2) +foo", qp.parse("multi foo").toString 
> ());

Thanks.  Sorry, I meant to send an immediate follow-up to my own  
silly question.  I knew better as soon as I hit send.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 21:36:24 2005
Return-Path: <java-user-return-17326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12994 invoked from network); 4 Nov 2005 21:36:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 21:36:24 -0000
Received: (qmail 69202 invoked by uid 500); 4 Nov 2005 21:36:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69182 invoked by uid 500); 4 Nov 2005 21:36:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69171 invoked by uid 99); 4 Nov 2005 21:36:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 13:36:17 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aseldawy@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 13:36:11 -0800
Received: by xproxy.gmail.com with SMTP id s8so424864wxc
        for <java-user@lucene.apache.org>; Fri, 04 Nov 2005 13:35:55 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DL6dqd2Kh++jPoE8yqyBnQ+RmmTqSGkhPiDlR7TDZOO+GzGgiAPZvdmEOoCVYr9DiBiBHtTLdI3j7fMkKa1RfqjD8D/RpHzRyaFpDqOyd32UUALMPPxNCc03U/SkDDFovK5V4jN+h7nqQdQ96DhbSBkMqDUuCVxpuahXh73hOao=
Received: by 10.70.46.12 with SMTP id t12mr2429561wxt;
        Fri, 04 Nov 2005 13:35:55 -0800 (PST)
Received: by 10.70.23.14 with HTTP; Fri, 4 Nov 2005 13:35:55 -0800 (PST)
Message-ID: <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
Date: Fri, 4 Nov 2005 23:35:55 +0200
From: Ahmed El-dawy <aseldawy@gmail.com>
Reply-To: aseldawy@yahoo.com
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
	 <436B2181.9060708@culture.gouv.fr>
	 <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
	 <200511041945.02428@danielnaber.de>
	 <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is a source code that shows the problem I am talking about.
In this example a new analyzer is made that outputs all words to the
same position (all but the first one are positionIncrement=3D0).
To get the problem I am talking about uncomment the only commented line.
//----------------------------------------------------------------
public class TestPhraseQuery {

=09public static void main(String[] args) {
=09=09try {
=09=09=09Directory ramDirectory =3D new RAMDirectory();
=09=09=09IndexWriter indexWriter =3D new IndexWriter(ramDirectory, new
TestAnalyzer(),true);
=09=09=09Document testDocument =3D new Document();
=09=09=09testDocument.add(Field.Text("line","hello all of you"));
=09=09=09indexWriter.addDocument(testDocument);
=09=09=09indexWriter.close();
=09=09=09
=09=09=09IndexSearcher indexSearcher =3D new IndexSearcher(ramDirectory);
=09=09=09PhraseQuery query =3D new PhraseQuery();
=09=09=09query.add(new Term("line","hello"),1);
=09=09=09query.add(new Term("line","all"),1);
//=09=09=09query.add(new Term("line","huullo"),1);
=09=09=09
=09=09=09Hits hits =3D indexSearcher.search(query);
=09=09=09System.out.println(hits.length());
=09=09} catch (IOException e) {
=09=09=09e.printStackTrace();
=09=09}
=09=09
=09}

}

class TestAnalyzer extends StandardAnalyzer {
=09@Override
=09public TokenStream tokenStream(String fieldName, Reader reader) {
=09=09TokenStream result =3D super.tokenStream(fieldName, reader);
=09=09result =3D new TestFilter(result);
=09=09return result;
=09}
}

class TestFilter extends TokenFilter {
=09boolean first =3D true;
=09public TestFilter(TokenStream input) {
=09=09super(input);
=09}
=09@Override
=09public Token next() throws IOException {
=09=09Token token =3D input.next();
=09=09if (token =3D=3D null)
=09=09=09return null;
=09=09if (!first) {
=09=09=09token.setPositionIncrement(0);
=09=09}
=09=09first =3D false;
=09=09return token;
=09}
}
//-------------------------------------------------------------------------=
-

On 11/4/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> On 4 Nov 2005, at 13:45, Daniel Naber wrote:
>
> > On Freitag 04 November 2005 11:33, Erik Hatcher wrote:
> >
> >
> >>> This should have been fixed one year ago with Daniel and myself.
> >>>
> >>
> >> Really?  It works in this OR kind of fashion with tokens in 0-
> >> incremented positions?
> >>
> >
> > Yes, this test case shows it (multi will be turned into multi and
> > multi2,
> > both at the same position by the analyzer used here):
> >
> > assertEquals("+(multi multi2) +foo", qp.parse("multi foo").toString
> > ());
>
> Thanks.  Sorry, I meant to send an immediate follow-up to my own
> silly question.  I knew better as soon as I hit send.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
regards,
Ahmed Saad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 23:09:49 2005
Return-Path: <java-user-return-17327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45240 invoked from network); 4 Nov 2005 23:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 23:09:49 -0000
Received: (qmail 87135 invoked by uid 500); 4 Nov 2005 23:09:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87110 invoked by uid 500); 4 Nov 2005 23:09:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87099 invoked by uid 99); 4 Nov 2005 23:09:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 15:09:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 15:09:37 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 90FB35B7E1; Fri,  4 Nov 2005 15:09:14 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 8E14E7F459; Fri,  4 Nov 2005 15:09:14 -0800 (PST)
Date: Fri, 4 Nov 2005 15:09:14 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, aseldawy@yahoo.com
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> 
 <436B2181.9060708@culture.gouv.fr>  <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
  <200511041945.02428@danielnaber.de>  <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I must admit, I have not tried running your test, but based on reading it,
I think you are missunderstanding what's happening here.  (or perhaps I
am.)

You initialy stated that you were having a problem because your Analyzer
outputs multiple tokens at the same position, and your phrase queries were
only working if it matched all terms (instead of any terms)

I (and i suspect most people) assumed you were refering to the phrase
queries you got back from a QueryParser that was using your analyzer --
because that's the only time an analyzer will be involved in a phrase
query.

In your test below, the analyzer is used only at index time; the
PhraseQuery knows nothing about it.  when you say...

		PhraseQuery query = new PhraseQuery();
		query.add(new Term("line","hello"),1);
		query.add(new Term("line","all"),1);
		query.add(new Term("line","huullo"),1);

...you are constructing a Phrase query that *MUST* match all three of
those Terms -- since your index doesn't contain the word "huullo", that
query will never match anything, regardless of what positionIncriments you
use in your analyzer, or what positionIncriments you use in your
PhraseQuery, or how much slop you use.

I believe what you want is a "MultiPhraseQuery" which as Pierrick
pointed out, is what QueryParser will use when it's analyzer tells it
there are multiple tokens at the same position inside of a phrase.


BTW: when posting test code, it's a good idea to have the code generate
an explanation of what you expect the output to be ... the ideal way to do
this of course, is to write the code as a JUNit test that uses assertions
to demonstrate how your expected outcome differes from outcome you
observe.
This has the added bonus of serving as a easy to commit test case if there
truely is a bug that needs fixed.


: Date: Fri, 4 Nov 2005 23:35:55 +0200
: From: Ahmed El-dawy <aseldawy@gmail.com>
: Reply-To: java-user@lucene.apache.org, aseldawy@yahoo.com
: To: java-user@lucene.apache.org
: Subject: Re: Multiple terms with the same position in PhraseQuery
:
: This is a source code that shows the problem I am talking about.
: In this example a new analyzer is made that outputs all words to the
: same position (all but the first one are positionIncrement=0).
: To get the problem I am talking about uncomment the only commented line.
: //----------------------------------------------------------------
: public class TestPhraseQuery {
:
: 	public static void main(String[] args) {
: 		try {
: 			Directory ramDirectory = new RAMDirectory();
: 			IndexWriter indexWriter = new IndexWriter(ramDirectory, new
: TestAnalyzer(),true);
: 			Document testDocument = new Document();
: 			testDocument.add(Field.Text("line","hello all of you"));
: 			indexWriter.addDocument(testDocument);
: 			indexWriter.close();
:
: 			IndexSearcher indexSearcher = new IndexSearcher(ramDirectory);
: 			PhraseQuery query = new PhraseQuery();
: 			query.add(new Term("line","hello"),1);
: 			query.add(new Term("line","all"),1);
: //			query.add(new Term("line","huullo"),1);
:
: 			Hits hits = indexSearcher.search(query);
: 			System.out.println(hits.length());
: 		} catch (IOException e) {
: 			e.printStackTrace();
: 		}
:
: 	}
:
: }
:
: class TestAnalyzer extends StandardAnalyzer {
: 	@Override
: 	public TokenStream tokenStream(String fieldName, Reader reader) {
: 		TokenStream result = super.tokenStream(fieldName, reader);
: 		result = new TestFilter(result);
: 		return result;
: 	}
: }
:
: class TestFilter extends TokenFilter {
: 	boolean first = true;
: 	public TestFilter(TokenStream input) {
: 		super(input);
: 	}
: 	@Override
: 	public Token next() throws IOException {
: 		Token token = input.next();
: 		if (token == null)
: 			return null;
: 		if (!first) {
: 			token.setPositionIncrement(0);
: 		}
: 		first = false;
: 		return token;
: 	}
: }
: //--------------------------------------------------------------------------
:
: On 11/4/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
: >
: > On 4 Nov 2005, at 13:45, Daniel Naber wrote:
: >
: > > On Freitag 04 November 2005 11:33, Erik Hatcher wrote:
: > >
: > >
: > >>> This should have been fixed one year ago with Daniel and myself.
: > >>>
: > >>
: > >> Really?  It works in this OR kind of fashion with tokens in 0-
: > >> incremented positions?
: > >>
: > >
: > > Yes, this test case shows it (multi will be turned into multi and
: > > multi2,
: > > both at the same position by the analyzer used here):
: > >
: > > assertEquals("+(multi multi2) +foo", qp.parse("multi foo").toString
: > > ());
: >
: > Thanks.  Sorry, I meant to send an immediate follow-up to my own
: > silly question.  I knew better as soon as I hit send.
: >
: >     Erik
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:
:
: --
: regards,
: Ahmed Saad
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 04 23:31:39 2005
Return-Path: <java-user-return-17328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51774 invoked from network); 4 Nov 2005 23:31:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Nov 2005 23:31:39 -0000
Received: (qmail 11509 invoked by uid 500); 4 Nov 2005 23:31:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11448 invoked by uid 500); 4 Nov 2005 23:31:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11405 invoked by uid 99); 4 Nov 2005 23:31:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 15:31:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 15:31:25 -0800
Received: from [127.0.0.1] (va-71-48-139-67.dhcp.sprint-hsd.net [71.48.139.67])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 919BA200689D
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 15:31:08 -0800 (PST)
Message-ID: <436BEF79.3000303@oconeco.com>
Date: Fri, 04 Nov 2005 18:32:09 -0500
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
References: <4356CB59.2040409@oconeco.com> <200510200109.21473.paul.elschot@xs4all.nl>
In-Reply-To: <200510200109.21473.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm posting this primarily hoping to give back a tiny bit to a very 
helpful community. More likely however, someone else will open my eyes 
to an easier approach than what I outline below...

I've come up with a very ugly conversion approach from regular Query 
objects into SpanQuery objects. I then use the converted SpanQuery to 
get span positions (currently both token #, and start/end position). In 
effect, I have highlighting for simple queries with a very inefficient 
approach (yea for me!).

The goal(s) I am trying to accomplish is rather specific I think, so I 
imagine the use of my hacking is rather limited (i.e. just to me).

At the moment my code:

    * parses the search text (i.e. user entered query)
    * rewrites the resulting query to expand wildcards and such against
      index
    * calls a recursive conversion function with very basic conversion
      understanding
          o TermQuery -> SpanTerm
          o PhraseQuery -> SpanNear
          o others in progress as time permits

Currently, I only process simple query strings like:
"blue green yellow" => SpanOrQuery
"luce* acti*" => SpanOrQuery with wild cards expanded
    e.g.: lucene lucent action acting ... all or'ed together in a 
braindead fashion
"luce* acti* \"book rocks\"" => SpanOrQuery combining SpanTerms and 
SpanNear (no slop)
    er, hopefully you get the picture, I'm not up to showing a vector of 
this one... :-)

I would be happy to discuss my approach if there is anyone interested. I 
assume I am pretty much alone in finding this ineffecient approach 
useful. For me, it is the functionality that overrides perfomance 
issues. I have something which can take user search strings and do hit 
highlighting for the exact hit found. This is really only useful for 
"termA near 'some phrase'" at the moment, but might become more advanced 
in the next 2-3 months.

Sean


Paul Elschot wrote:

>On Thursday 20 October 2005 00:40, Sean O'Connor wrote:
>  
>
>>Hello,
>>    I have user entered search commands which I want to convert to 
>>SpanQueries. I have seen in the book "Lucene in Action" that no parser 
>>existed at time of publication, but there was someone working on a 
>>SpanQuery parser. Can anyone point me to that code, or provide any 
>>suggestions?
>>
>>    I want to use SpanQueries for their detail on the number of hits 
>>from a query, and more importantly, the location (position start and 
>>end) of each hit. My application requires me to do precise hit 
>>highlighting.  I also need to perform calculations on the number of hits 
>>per document, as well as per query (sum of document hits).
>>    
>>
>
>You may want to use the getSpans() method of SpanQuery and operate
>on the result directly.
>
>  
>
>>    It is fairly critical I highlight the hits, and only the hits. From 
>>what I've read SpanQueries (with dumpSpans) is a better approach than 
>>using 'regular' queries. I _think_ regular queries currently use a 
>>highlighter which shows all terms highlighted. This can give more 
>>highlighting than actual hits (i.e false positives).
>>
>>    So, that being said, should I stick with SpanQueries? Is there any 
>>current work on a parser to convert a string, or regular (Token, 
>>Boolean, Phrase, Prefix,...) query into a SpanQuery?
>>
>>    I have written some very duct tape-ish code which will convert basic 
>>booleanOR and prefix queries into SpanQueries. I just realized I'm in 
>>deeper water than I expected when I tried converting my first query 
>>string containing several boolean queries, AND a phrase query. So now I 
>>am looking to either help an existing effort, or just continue with my 
>>own hacking.
>>    
>>
>
>:)
>
>Have a look at the surround query parser in the svn trunk:
>http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/surround/
>
>There is also some code that does highlighting based on Spans,
>but I don't know where that is. Hopefully someone else can point you at that.
>
>Regards,
>Paul Elschot
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 00:30:39 2005
Return-Path: <java-user-return-17329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67542 invoked from network); 5 Nov 2005 00:30:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 00:30:39 -0000
Received: (qmail 61500 invoked by uid 500); 5 Nov 2005 00:30:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61471 invoked by uid 500); 5 Nov 2005 00:30:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61460 invoked by uid 99); 5 Nov 2005 00:30:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 16:30:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 16:30:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B88A213E2006; Fri,  4 Nov 2005 19:30:09 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 6F47713E2006
	for <java-user@lucene.apache.org>; Fri,  4 Nov 2005 19:29:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <436BEF79.3000303@oconeco.com>
References: <4356CB59.2040409@oconeco.com> <200510200109.21473.paul.elschot@xs4all.nl> <436BEF79.3000303@oconeco.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
Date: Fri, 4 Nov 2005 19:29:48 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 4 Nov 2005, at 18:32, Sean O'Connor wrote:
> I'm posting this primarily hoping to give back a tiny bit to a very  
> helpful community. More likely however, someone else will open my  
> eyes to an easier approach than what I outline below...
>
> I've come up with a very ugly conversion approach from regular  
> Query objects into SpanQuery objects. I then use the converted  
> SpanQuery to get span positions (currently both token #, and start/ 
> end position). In effect, I have highlighting for simple queries  
> with a very inefficient approach (yea for me!).

As you and I have talked about on a couple of face to face occasions,  
this is the approach I am taking on a current consulting project.  My  
conversion code is slightly different than yours in that I don't  
rewrite the query, but translate it as-is into comparable SpanQuery  
subclasses - and this is because I have a RegexQuery and  
SpanRegexQuery that are comparable.  But rewriting is a good  
pragmatic way to go for general query types that don't have a  
comparable SpanQuery subclass.

> The goal(s) I am trying to accomplish is rather specific I think,  
> so I imagine the use of my hacking is rather limited (i.e. just to  
> me).
>
> At the moment my code:
>
>    * parses the search text (i.e. user entered query)

Are you using QueryParser?  If so, you'll also want to account for  
BooleanQuery, recursively.

>    * rewrites the resulting query to expand wildcards and such against
>      index
>    * calls a recursive conversion function with very basic conversion
>      understanding
>          o TermQuery -> SpanTerm
>          o PhraseQuery -> SpanNear
>          o others in progress as time permits
>
> Currently, I only process simple query strings like:
> "blue green yellow" => SpanOrQuery
> "luce* acti*" => SpanOrQuery with wild cards expanded
>    e.g.: lucene lucent action acting ... all or'ed together in a  
> braindead fashion
> "luce* acti* \"book rocks\"" => SpanOrQuery combining SpanTerms and  
> SpanNear (no slop)
>    er, hopefully you get the picture, I'm not up to showing a  
> vector of this one... :-)
>
> I would be happy to discuss my approach if there is anyone  
> interested. I assume I am pretty much alone in finding this  
> ineffecient approach useful. For me, it is the functionality that  
> overrides perfomance issues.

What is inefficient about it?   The rewrite stuff is the main  
difference, and perhaps that is the issue you're encountering.  Where  
do you see the performance issues?

Converting a query, for me at least, is fast - perhaps because there  
is no rewriting involved.

> I have something which can take user search strings and do hit  
> highlighting for the exact hit found. This is really only useful  
> for "termA near 'some phrase'" at the moment, but might become more  
> advanced in the next 2-3 months.

I'm basically implementing this very thing.  I will likely be  
enhancing the contrib/highlighter code in the next month to use  
SpanQuery for highlighting, as well as adding field-aware highlighting.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 04:04:51 2005
Return-Path: <java-user-return-17330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85287 invoked from network); 5 Nov 2005 04:04:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 04:04:50 -0000
Received: (qmail 73839 invoked by uid 500); 5 Nov 2005 04:04:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73802 invoked by uid 500); 5 Nov 2005 04:04:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73791 invoked by uid 99); 5 Nov 2005 04:04:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:04:44 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:04:39 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA53sgxI014358;
	Sat, 5 Nov 2005 03:54:45 GMT
Message-ID: <002601c5e1be$7077ea70$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Cc: <hossman_lucene@fucit.org>
References: <016501c5e106$74aa0500$1000a8c0@manoj> <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com> <01dd01c5e112$5bac0bf0$1000a8c0@manoj> <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com> <023f01c5e129$c414bf90$1000a8c0@manoj> <169C0F09-60F6-4E79-B7FB-BC100C923470@ehatchersolutions.com> <Pine.LNX.4.58.0511041023090.3783@hal.rescomp.berkeley.edu>
Subject: Re: Searching the contents
Date: Sat, 5 Nov 2005 09:37:22 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Hoss and All,
I am happy with your suggestion.

Does it possible to retrive the data order/sort by they were inserted in the
index but without putting any extra column in the document?

Regards,
Manoj
----- Original Message -----
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: <java-user@lucene.apache.org>
Sent: Friday, November 04, 2005 11:54 PM
Subject: Re: Searching the contents


>
> : > Lucene searching system. How do you manages the iterator and what
> : > is the
> : > method callback at query execution time(a broader view).
> :
> : There really isn't any method callback, at least not in the way I'm
> : thinking of it.  When  you search you get back Hits.  Hits is an
>
> If you want a lower leve3l API, look at the methods that use a
> HitCollector ... it's basically a callback for every document that
> matches, but they are in document order -- you are responsible for doing
> any sorting yourself.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 04:08:56 2005
Return-Path: <java-user-return-17331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86016 invoked from network); 5 Nov 2005 04:08:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 04:08:56 -0000
Received: (qmail 76214 invoked by uid 500); 5 Nov 2005 04:08:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76189 invoked by uid 500); 5 Nov 2005 04:08:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76176 invoked by uid 99); 5 Nov 2005 04:08:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:08:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aseldawy@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:08:45 -0800
Received: by xproxy.gmail.com with SMTP id s8so34337wxc
        for <java-user@lucene.apache.org>; Fri, 04 Nov 2005 20:08:29 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=VNnWUzARX+MKfoAdnQzxusNX9eyWF8PQxr6R9N74j2cf8Oy/wSTbJ8ECjQWPIXYYbKOEW4Srm3qFSOyguZKAgW9AgHFw+DUVSJ0uFlfqXpzPXlFrBEZeIX5pOtUuAkO6tAWwEqOsWK3Z0wgKPJzv6EZKDGKWLeoM1nadIJrn3iw=
Received: by 10.70.44.6 with SMTP id r6mr2737920wxr;
        Fri, 04 Nov 2005 20:08:29 -0800 (PST)
Received: by 10.70.23.14 with HTTP; Fri, 4 Nov 2005 20:08:29 -0800 (PST)
Message-ID: <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
Date: Sat, 5 Nov 2005 06:08:29 +0200
From: Ahmed El-dawy <aseldawy@gmail.com>
Reply-To: aseldawy@yahoo.com
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
	 <436B2181.9060708@culture.gouv.fr>
	 <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
	 <200511041945.02428@danielnaber.de>
	 <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
	 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
	 <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your reply.
Yes, the problem is not with the QueryParser, I build the query with
code. Of course the analyzer is involved in building the query, but I
didn't mention it in the code for simplicity.
I saw the MultiPhraseQuery. Its name in my version is
PhrasePrefixQuery. Why don't we use the PhrasePrefixQuery all the
time? Is it slower or something?
BTW, I think there's a newer version of Lucene that I can't get, my
version is 1.4.3 and I didn't find any newer version at the site. For
example, the QueryParser in my version doesn't care with term position
and I had to override it by myself to support this.
You may be referring to the CVS version, but I want to release my app.
with a stable version.

and thanks again

On 11/5/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> I must admit, I have not tried running your test, but based on reading it=
,
> I think you are missunderstanding what's happening here.  (or perhaps I
> am.)
>
> You initialy stated that you were having a problem because your Analyzer
> outputs multiple tokens at the same position, and your phrase queries wer=
e
> only working if it matched all terms (instead of any terms)
>
> I (and i suspect most people) assumed you were refering to the phrase
> queries you got back from a QueryParser that was using your analyzer --
> because that's the only time an analyzer will be involved in a phrase
> query.
>
> In your test below, the analyzer is used only at index time; the
> PhraseQuery knows nothing about it.  when you say...
>
>                PhraseQuery query =3D new PhraseQuery();
>                query.add(new Term("line","hello"),1);
>                query.add(new Term("line","all"),1);
>                query.add(new Term("line","huullo"),1);
>
> ...you are constructing a Phrase query that *MUST* match all three of
> those Terms -- since your index doesn't contain the word "huullo", that
> query will never match anything, regardless of what positionIncriments yo=
u
> use in your analyzer, or what positionIncriments you use in your
> PhraseQuery, or how much slop you use.
>
> I believe what you want is a "MultiPhraseQuery" which as Pierrick
> pointed out, is what QueryParser will use when it's analyzer tells it
> there are multiple tokens at the same position inside of a phrase.
>
>
> BTW: when posting test code, it's a good idea to have the code generate
> an explanation of what you expect the output to be ... the ideal way to d=
o
> this of course, is to write the code as a JUNit test that uses assertions
> to demonstrate how your expected outcome differes from outcome you
> observe.
> This has the added bonus of serving as a easy to commit test case if ther=
e
> truely is a bug that needs fixed.
>
>
> : Date: Fri, 4 Nov 2005 23:35:55 +0200
> : From: Ahmed El-dawy <aseldawy@gmail.com>
> : Reply-To: java-user@lucene.apache.org, aseldawy@yahoo.com
> : To: java-user@lucene.apache.org
> : Subject: Re: Multiple terms with the same position in PhraseQuery
> :
> : This is a source code that shows the problem I am talking about.
> : In this example a new analyzer is made that outputs all words to the
> : same position (all but the first one are positionIncrement=3D0).
> : To get the problem I am talking about uncomment the only commented line=
.
> : //----------------------------------------------------------------
> : public class TestPhraseQuery {
> :
> :       public static void main(String[] args) {
> :               try {
> :                       Directory ramDirectory =3D new RAMDirectory();
> :                       IndexWriter indexWriter =3D new IndexWriter(ramDi=
rectory, new
> : TestAnalyzer(),true);
> :                       Document testDocument =3D new Document();
> :                       testDocument.add(Field.Text("line","hello all of =
you"));
> :                       indexWriter.addDocument(testDocument);
> :                       indexWriter.close();
> :
> :                       IndexSearcher indexSearcher =3D new IndexSearcher=
(ramDirectory);
> :                       PhraseQuery query =3D new PhraseQuery();
> :                       query.add(new Term("line","hello"),1);
> :                       query.add(new Term("line","all"),1);
> : //                    query.add(new Term("line","huullo"),1);
> :
> :                       Hits hits =3D indexSearcher.search(query);
> :                       System.out.println(hits.length());
> :               } catch (IOException e) {
> :                       e.printStackTrace();
> :               }
> :
> :       }
> :
> : }
> :
> : class TestAnalyzer extends StandardAnalyzer {
> :       @Override
> :       public TokenStream tokenStream(String fieldName, Reader reader) {
> :               TokenStream result =3D super.tokenStream(fieldName, reade=
r);
> :               result =3D new TestFilter(result);
> :               return result;
> :       }
> : }
> :
> : class TestFilter extends TokenFilter {
> :       boolean first =3D true;
> :       public TestFilter(TokenStream input) {
> :               super(input);
> :       }
> :       @Override
> :       public Token next() throws IOException {
> :               Token token =3D input.next();
> :               if (token =3D=3D null)
> :                       return null;
> :               if (!first) {
> :                       token.setPositionIncrement(0);
> :               }
> :               first =3D false;
> :               return token;
> :       }
> : }
> : //---------------------------------------------------------------------=
-----
> :
> : On 11/4/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> : >
> : > On 4 Nov 2005, at 13:45, Daniel Naber wrote:
> : >
> : > > On Freitag 04 November 2005 11:33, Erik Hatcher wrote:
> : > >
> : > >
> : > >>> This should have been fixed one year ago with Daniel and myself.
> : > >>>
> : > >>
> : > >> Really?  It works in this OR kind of fashion with tokens in 0-
> : > >> incremented positions?
> : > >>
> : > >
> : > > Yes, this test case shows it (multi will be turned into multi and
> : > > multi2,
> : > > both at the same position by the analyzer used here):
> : > >
> : > > assertEquals("+(multi multi2) +foo", qp.parse("multi foo").toString
> : > > ());
> : >
> : > Thanks.  Sorry, I meant to send an immediate follow-up to my own
> : > silly question.  I knew better as soon as I hit send.
> : >
> : >     Erik
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> :
> :
> : --
> : regards,
> : Ahmed Saad
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
regards,
Ahmed Saad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 04:10:16 2005
Return-Path: <java-user-return-17332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86983 invoked from network); 5 Nov 2005 04:10:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 04:10:16 -0000
Received: (qmail 77462 invoked by uid 500); 5 Nov 2005 04:10:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77435 invoked by uid 500); 5 Nov 2005 04:10:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77424 invoked by uid 99); 5 Nov 2005 04:10:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:10:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 20:10:02 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 515095B793; Fri,  4 Nov 2005 20:09:45 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 4EA927F459; Fri,  4 Nov 2005 20:09:45 -0800 (PST)
Date: Fri, 4 Nov 2005 20:09:45 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
Cc: java-user@lucene.apache.org
Subject: Re: Searching the contents
In-Reply-To: <002601c5e1be$7077ea70$1000a8c0@manoj>
Message-ID: <Pine.LNX.4.58.0511042007110.2562@hal.rescomp.berkeley.edu>
References: <016501c5e106$74aa0500$1000a8c0@manoj>
 <6e3ae6310511032300w3ac1b486i4d1787d147c07955@mail.gmail.com>
 <01dd01c5e112$5bac0bf0$1000a8c0@manoj> <B1BC5CD2-71A3-4F29-84DC-90E34C1EF7AC@ehatchersolutions.com>
 <023f01c5e129$c414bf90$1000a8c0@manoj> <169C0F09-60F6-4E79-B7FB-BC100C923470@ehatchersolutions.com>
 <Pine.LNX.4.58.0511041023090.3783@hal.rescomp.berkeley.edu>
 <002601c5e1be$7077ea70$1000a8c0@manoj>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Does it possible to retrive the data order/sort by they were inserted in the
: index but without putting any extra column in the document?

The first step anyone should take in understanding Lucene, is to start by
spending a lot of time reading over the javadocs.  If you look at the Sort
class, you'll find a static instace called Sort.INDEXORDER.

	http://lucene.apache.org/java/docs/api/index.html


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 07:53:00 2005
Return-Path: <java-user-return-17333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45367 invoked from network); 5 Nov 2005 07:53:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 07:53:00 -0000
Received: (qmail 50316 invoked by uid 500); 5 Nov 2005 07:52:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50287 invoked by uid 500); 5 Nov 2005 07:52:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50275 invoked by uid 99); 5 Nov 2005 07:52:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Nov 2005 23:52:55 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.245] (HELO web36315.mail.mud.yahoo.com) (209.191.84.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Nov 2005 23:52:49 -0800
Received: (qmail 5932 invoked by uid 60001); 5 Nov 2005 07:52:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=iHpjXblAJh/HXt+aj/v6aXUP5zyhlK9L/CfKqazw4wMVoV6V9Dj24S0iv7Yk79E5FQfxvgNm5p7rCTMuRyx7oHWI5SArnpymtJlMQMBp/UJm54t1CTZ83vh97f7S1J2WdwviDMJm/M2K1M+rVWKteFmcAPrGPWy9QF4LQlMhF30=  ;
Message-ID: <20051105075233.5930.qmail@web36315.mail.mud.yahoo.com>
Received: from [70.231.158.34] by web36315.mail.mud.yahoo.com via HTTP; Fri, 04 Nov 2005 23:52:33 PST
Date: Fri, 4 Nov 2005 23:52:33 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: I Need System Design Suggestion. Please.
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am going to use mysql db to store some data, use
lucene(java) to index these data, and use Hibernate to
map them. I was originally thinking of using PHP to
input the data the visitors enter into the mysql db.
But if I use PHP and use mysql statement directly, it
may defeat the part of the purpose of Hibernate which
is to make the system db portable. But I don't want to
use PEAR. And I don't want to learn Java Servlet.

So I am thinking of using PHP, then PHP-Java-Bridge,
then Hibernate to map the data into mysql db. But it
sounds kinda of stupid because it seems that I added a
layer of complexity without a reason. Using Servlet
and Hibernate, or PHP and mysql seems to be faster,
but I can't use Hibernate to cover the whole mysql db
anymore.

What do you think? Any suggestion?  I am also looking
for performance and how well the system scales.

Many thanks.


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 10:41:19 2005
Return-Path: <java-user-return-17334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83931 invoked from network); 5 Nov 2005 10:41:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 10:41:18 -0000
Received: (qmail 10917 invoked by uid 500); 5 Nov 2005 10:41:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10882 invoked by uid 500); 5 Nov 2005 10:41:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10871 invoked by uid 99); 5 Nov 2005 10:41:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 02:41:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 02:41:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6C5A413E2033; Sat,  5 Nov 2005 05:40:50 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 6731013E2008
	for <java-user@lucene.apache.org>; Sat,  5 Nov 2005 05:40:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> <436B2181.9060708@culture.gouv.fr> <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com> <200511041945.02428@danielnaber.de> <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com> <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com> <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu> <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple terms with the same position in PhraseQuery
Date: Sat, 5 Nov 2005 05:40:30 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 4 Nov 2005, at 23:08, Ahmed El-dawy wrote:
> BTW, I think there's a newer version of Lucene that I can't get, my
> version is 1.4.3 and I didn't find any newer version at the site. For
> example, the QueryParser in my version doesn't care with term position
> and I had to override it by myself to support this.
> You may be referring to the CVS version, but I want to release my app.
> with a stable version.

For the record, Subversion trunk (no longer CVS) is stable and being  
used in many production projects already.

The only difference between Subversion trunk and a released version  
is the time and effort someone has taken to build it, package it,  
sign it, and upload it (and of course a consensus vote authorizing  
it).  While I know that many environments demand that such blessing  
has occurred, I cannot say that I altogether understand it.  I much  
prefer, personally, to be on the trunk and know that any issues I do  
happen to encounter can be easily reported, likely fixed if  
identified specifically enough, fixed, and integrated back into my  
projects right away.

I certainly do feel a bit bad that I'm not personally being  
aggressive about pushing a new release, but please don't let my  
insane schedule hold you back from using the latest and best version  
of Lucene.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 15:50:50 2005
Return-Path: <java-user-return-17335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63727 invoked from network); 5 Nov 2005 15:50:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 15:50:49 -0000
Received: (qmail 50459 invoked by uid 500); 5 Nov 2005 15:50:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50411 invoked by uid 500); 5 Nov 2005 15:50:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50397 invoked by uid 99); 5 Nov 2005 15:50:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 07:50:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 07:50:38 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.3/8.13.3) with ESMTP id jA5FoMEB001023
	for <java-user@lucene.apache.org>; Sat, 5 Nov 2005 16:50:22 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
Date: Sat, 5 Nov 2005 16:50:21 +0100
User-Agent: KMail/1.5.4
References: <4356CB59.2040409@oconeco.com> <436BEF79.3000303@oconeco.com> <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com>
In-Reply-To: <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511051650.21855.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Saturday 05 November 2005 01:29, Erik Hatcher wrote:
> 
> On 4 Nov 2005, at 18:32, Sean O'Connor wrote:
> > I'm posting this primarily hoping to give back a tiny bit to a very  
> > helpful community. More likely however, someone else will open my  
> > eyes to an easier approach than what I outline below...
> >
> > I've come up with a very ugly conversion approach from regular  
> > Query objects into SpanQuery objects. I then use the converted  
> > SpanQuery to get span positions (currently both token #, and start/ 
> > end position). In effect, I have highlighting for simple queries  
> > with a very inefficient approach (yea for me!).
> 
> As you and I have talked about on a couple of face to face occasions,  
> this is the approach I am taking on a current consulting project.  My  
> conversion code is slightly different than yours in that I don't  
> rewrite the query, but translate it as-is into comparable SpanQuery  
> subclasses - and this is because I have a RegexQuery and  
> SpanRegexQuery that are comparable.  But rewriting is a good  
> pragmatic way to go for general query types that don't have a  
> comparable SpanQuery subclass.
> 
> > The goal(s) I am trying to accomplish is rather specific I think,  
> > so I imagine the use of my hacking is rather limited (i.e. just to  
> > me).
> >
> > At the moment my code:
> >
> >    * parses the search text (i.e. user entered query)
> 
> Are you using QueryParser?  If so, you'll also want to account for  
> BooleanQuery, recursively.

The surround parser can create both boolean queries and span queries.

Sean, as you seem to prefer not to use the surround syntax, do you think
this syntax could be improved somehow? I recall trying to make it simpler,
but when I made it I was not able to do so.

Also, PhraseQuery is more efficient than a combination of SpanTermQuery,
SpanOrQuery and SpanNearQuery, so perhaps PhraseQuery should have
a getSpans() method so it could be used as a SpanQuery, too.

Regards,
Paul Elschot

> 
> >    * rewrites the resulting query to expand wildcards and such against
> >      index
> >    * calls a recursive conversion function with very basic conversion
> >      understanding
> >          o TermQuery -> SpanTerm
> >          o PhraseQuery -> SpanNear
> >          o others in progress as time permits
> >
> > Currently, I only process simple query strings like:
> > "blue green yellow" => SpanOrQuery
> > "luce* acti*" => SpanOrQuery with wild cards expanded
> >    e.g.: lucene lucent action acting ... all or'ed together in a  
> > braindead fashion
> > "luce* acti* \"book rocks\"" => SpanOrQuery combining SpanTerms and  
> > SpanNear (no slop)
> >    er, hopefully you get the picture, I'm not up to showing a  
> > vector of this one... :-)
> >
> > I would be happy to discuss my approach if there is anyone  
> > interested. I assume I am pretty much alone in finding this  
> > ineffecient approach useful. For me, it is the functionality that  
> > overrides perfomance issues.
> 
> What is inefficient about it?   The rewrite stuff is the main  
> difference, and perhaps that is the issue you're encountering.  Where  
> do you see the performance issues?
> 
> Converting a query, for me at least, is fast - perhaps because there  
> is no rewriting involved.
> 
> > I have something which can take user search strings and do hit  
> > highlighting for the exact hit found. This is really only useful  
> > for "termA near 'some phrase'" at the moment, but might become more  
> > advanced in the next 2-3 months.
> 
> I'm basically implementing this very thing.  I will likely be  
> enhancing the contrib/highlighter code in the next month to use  
> SpanQuery for highlighting, as well as adding field-aware highlighting.
> 
>      Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 17:24:28 2005
Return-Path: <java-user-return-17336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87561 invoked from network); 5 Nov 2005 17:24:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 17:24:27 -0000
Received: (qmail 1543 invoked by uid 500); 5 Nov 2005 17:24:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1516 invoked by uid 500); 5 Nov 2005 17:24:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1504 invoked by uid 99); 5 Nov 2005 17:24:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 09:24:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.177] (HELO moutng.kundenserver.de) (212.227.126.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 09:24:16 -0800
Received: from Dc6ac.d.pppool.de [80.184.198.172] (helo=[192.168.2.2])
	by mrelayeu.kundenserver.de (node=mrelayeu5) with ESMTP (Nemesis),
	id 0ML25U-1EYRln0F6l-0003LC; Sat, 05 Nov 2005 18:23:59 +0100
Message-ID: <436CEA37.7090000@artentis.com>
Date: Sat, 05 Nov 2005 18:21:59 +0100
From: Gaston <gasi@artentis.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: lucene and jsp
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hallo,

I know my topic is a little bit out of topic. but I am trying and trying 
to do something without no effort. I have a very simple application.I 
tested this application on my homepc with tomcat 3.3.2 and it worked. 
But on the the server off my webhosting agency it does not work. I 
putted the jar in the right directory and so on and so I have no idea 
why it doesn't work. Perhaps somebody out of you had the same problem 
and has a hint for my, what the reason for my failure can be.

My code:
<%@ page import="java.io.*,javax.servlet.*, 
javax.servlet.http.*,org.apache.lucene.analysis.Analyzer,org.apache.lucene.analysis.standard.StandardAnalyzer,org.apache.lucene.document.Document,org.apache.lucene.document.Field,org.apache.lucene.index.IndexWriter" 
%>
<%



        try
        {
        String[] text = { "Indexierung mit Lucene", "Suche mit Lucene" };
        String indexDir = application.getRealPath("/")+"myindex";
        Analyzer analyzer = new StandardAnalyzer();
        boolean create = true;
       
        IndexWriter writer = new IndexWriter(indexDir, analyzer, create);
        out.println(indexDir);
        for (int i = 0; i < text.length; i++)
        {
            Document document = new Document();
            document.add(Field.Text("textfeld", text[i]));
            writer.addDocument(document);
            out.println("Es klappt");
        }
        writer.close();
        out.println("hallozwei");
        }
        catch(IOException e)
        {
        e.printStackTrace();
        }
        catch(Exception e)
        {
        e.printStackTrace();
        }

%>

Error:

http://gasizwei.meintestaccount.de:9080/gagamodi/indexaufserver.jsp


Thank you in advance.

Greetings

Gaston

P.S. I asked this in j2ee forums but the answers I get didn't help me.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 20:20:07 2005
Return-Path: <java-user-return-17337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33611 invoked from network); 5 Nov 2005 20:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 20:20:07 -0000
Received: (qmail 3324 invoked by uid 500); 5 Nov 2005 20:20:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3295 invoked by uid 500); 5 Nov 2005 20:20:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3284 invoked by uid 99); 5 Nov 2005 20:20:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 12:20:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 12:19:55 -0800
Received: (qmail 2190 invoked by uid 0); 5 Nov 2005 20:19:39 -0000
Received: from 193.63.235.44 by www25.gmx.net with HTTP;
	Sat, 5 Nov 2005 21:19:39 +0100 (MET)
Date: Sat, 5 Nov 2005 21:19:39 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <20051104201253.90778.qmail@web50310.mail.yahoo.com>
Subject: Re: Scoring formula
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <31913.1131221979@www25.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, the Similarity class existed in version 1.2, but no description is
included in its JavaDoc. After somebody could point me to the formular I
would also like to know if the formula ensures the score is always between
0.0 and 1.0 (without any boosting)... Is this the case?

Karl

> --- Ursprngliche Nachricht ---
> Von: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> An: java-user@lucene.apache.org
> Betreff: Re: Scoring formula
> Datum: Fri, 4 Nov 2005 12:12:52 -0800 (PST)
> 
> The formula should also be in the javadoc for Similarity class, if it
> was there in 1.2.
> 
> Otis
> 
> 
> --- Karl Koch <TheRanger@gmx.net> wrote:
> 
> > Hello group,
> > 
> > the scoring formula for Lucene is well explained in "Lucene in
> > Action".
> > However, is this formula also valid for Lucene 1.2 (which I am
> > using). I
> > need to know that for documentation purposes. If not, where can I
> > find the
> > currect formula since I do not want to interpret if from the code...
> > 
> > Best Regards to all of you,
> > Karl
> > 
> > -- 
> > Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
> > Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 20:26:12 2005
Return-Path: <java-user-return-17338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34790 invoked from network); 5 Nov 2005 20:26:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 20:26:12 -0000
Received: (qmail 6484 invoked by uid 500); 5 Nov 2005 20:26:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6455 invoked by uid 500); 5 Nov 2005 20:26:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6444 invoked by uid 99); 5 Nov 2005 20:26:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 12:26:07 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 12:26:01 -0800
Received: (qmail 21022 invoked by uid 0); 5 Nov 2005 20:25:45 -0000
Received: from 193.63.235.44 by www25.gmx.net with HTTP;
	Sat, 5 Nov 2005 21:25:45 +0100 (MET)
Date: Sat, 5 Nov 2005 21:25:45 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: Question about scoring normalisation
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <9747.1131222345@www25.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

I am wondering how many of you actually work with own scoring mechanism
(overwriting Lucenes standard scoring) and how many of you do work on how to
normalise this score. 

I would like to add a second score on top of Lucenes TF/IDF score. The
resulting score is most likely higher then 1.0. However, the score should be
between 0.0 and 1.0. What is the best way to do that? If Lucene is
normalising its score (if no boosting is applied) to a maximium of 1.0, how
is this done (in Lucene 1.2 and/or beyond) ?

Regards,
Karl


-- 
Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 22:50:06 2005
Return-Path: <java-user-return-17339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61877 invoked from network); 5 Nov 2005 22:50:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 22:50:06 -0000
Received: (qmail 66791 invoked by uid 500); 5 Nov 2005 22:50:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66759 invoked by uid 500); 5 Nov 2005 22:50:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66747 invoked by uid 99); 5 Nov 2005 22:50:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 14:50:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 14:49:56 -0800
Received: by xproxy.gmail.com with SMTP id r21so364667wxc
        for <java-user@lucene.apache.org>; Sat, 05 Nov 2005 14:49:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EPMDNW6AZ2IW0eATzBCWPz06ESTFw2e7Ved+nyE/8LM/XKifKgsCqNVxDbiq0acEzGzM/teJuSw8TouYAnTwjSGgqQfR1Kzmh+qovKZS5PkXAOGn7+MPb2pwISrYuz4+VrF3WJwgROSR2qDamYixmGRmOCOHYONGPJyueYmbWbM=
Received: by 10.65.75.11 with SMTP id c11mr3746869qbl;
        Sat, 05 Nov 2005 14:49:40 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Sat, 5 Nov 2005 14:49:40 -0800 (PST)
Message-ID: <c68e39170511051449u22bb3351ga088e40c1fada26f@mail.gmail.com>
Date: Sat, 5 Nov 2005 17:49:40 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Scoring formula
In-Reply-To: <31913.1131221979@www25.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20051104201253.90778.qmail@web50310.mail.yahoo.com>
	 <31913.1131221979@www25.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene 1.2 is before my time, but check if the functions are
implemented the same as the current version (they probably are).

Scores are not naturally <=3D 1, but for most search methods (including
all that return Hits) they are normalized to be between 1 and 0 if the
highest score is greater than 1.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 11/5/05, Karl Koch <TheRanger@gmx.net> wrote:
> Yes, the Similarity class existed in version 1.2, but no description is
> included in its JavaDoc. After somebody could point me to the formular I
> would also like to know if the formula ensures the score is always betwee=
n
> 0.0 and 1.0 (without any boosting)... Is this the case?
>
> Karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 05 23:36:39 2005
Return-Path: <java-user-return-17340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70772 invoked from network); 5 Nov 2005 23:36:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Nov 2005 23:36:39 -0000
Received: (qmail 89769 invoked by uid 500); 5 Nov 2005 23:36:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89739 invoked by uid 500); 5 Nov 2005 23:36:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89723 invoked by uid 99); 5 Nov 2005 23:36:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 15:36:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 15:36:27 -0800
Received: (qmail 11930 invoked by uid 0); 5 Nov 2005 23:36:11 -0000
Received: from 193.63.235.44 by www25.gmx.net with HTTP;
	Sun, 6 Nov 2005 00:36:11 +0100 (MET)
Date: Sun, 6 Nov 2005 00:36:11 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <c68e39170511051449u22bb3351ga088e40c1fada26f@mail.gmail.com>
Subject: Re: Scoring formula
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <16483.1131233771@www25.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I always thought that Lucene search is always returning a Hits object. In
what occation would this not be the case?

Karl

> --- Ursprngliche Nachricht ---
> Von: Yonik Seeley <yseeley@gmail.com>
> An: java-user@lucene.apache.org
> Betreff: Re: Scoring formula
> Datum: Sat, 5 Nov 2005 17:49:40 -0500
> 
> Lucene 1.2 is before my time, but check if the functions are
> implemented the same as the current version (they probably are).
> 
> Scores are not naturally <= 1, but for most search methods (including
> all that return Hits) they are normalized to be between 1 and 0 if the
> highest score is greater than 1.
> 
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
> 
> 
> On 11/5/05, Karl Koch <TheRanger@gmx.net> wrote:
> > Yes, the Similarity class existed in version 1.2, but no description is
> > included in its JavaDoc. After somebody could point me to the formular I
> > would also like to know if the formula ensures the score is always
> between
> > 0.0 and 1.0 (without any boosting)... Is this the case?
> >
> > Karl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 01:33:09 2005
Return-Path: <java-user-return-17341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91597 invoked from network); 6 Nov 2005 01:33:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 01:33:08 -0000
Received: (qmail 28709 invoked by uid 500); 6 Nov 2005 01:33:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28680 invoked by uid 500); 6 Nov 2005 01:33:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28669 invoked by uid 99); 6 Nov 2005 01:33:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 17:33:03 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.215] (HELO web50313.mail.yahoo.com) (206.190.39.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 17:32:57 -0800
Received: (qmail 4390 invoked by uid 60001); 6 Nov 2005 01:32:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3rGwv4Rj644JQ29ZoMl1uHHZfyUn8XEnR6nNH29QmHTPwHCYA/hERmQMZnFPg1bt3dPK3wKrPpikG0aVEtk3ULg7rE7sBXbZoGaEdKpQszQe6XOeMInMuMps2oy0CX3O51yt/z4vqLBoI7KhfZd2CrHG/kqWmNDChkCICeryXuM=  ;
Message-ID: <20051106013241.4388.qmail@web50313.mail.yahoo.com>
Received: from [69.201.142.21] by web50313.mail.yahoo.com via HTTP; Sat, 05 Nov 2005 17:32:41 PST
Date: Sat, 5 Nov 2005 17:32:41 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring formula
To: java-user@lucene.apache.org
In-Reply-To: <31913.1131221979@www25.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

0.0 - 1.0 score - yes.

Otis

--- Karl Koch <TheRanger@gmx.net> wrote:

> Yes, the Similarity class existed in version 1.2, but no description
> is
> included in its JavaDoc. After somebody could point me to the
> formular I
> would also like to know if the formula ensures the score is always
> between
> 0.0 and 1.0 (without any boosting)... Is this the case?
> 
> Karl
> 
> > --- Ursprngliche Nachricht ---
> > Von: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> > An: java-user@lucene.apache.org
> > Betreff: Re: Scoring formula
> > Datum: Fri, 4 Nov 2005 12:12:52 -0800 (PST)
> > 
> > The formula should also be in the javadoc for Similarity class, if
> it
> > was there in 1.2.
> > 
> > Otis
> > 
> > 
> > --- Karl Koch <TheRanger@gmx.net> wrote:
> > 
> > > Hello group,
> > > 
> > > the scoring formula for Lucene is well explained in "Lucene in
> > > Action".
> > > However, is this formula also valid for Lucene 1.2 (which I am
> > > using). I
> > > need to know that for documentation purposes. If not, where can I
> > > find the
> > > currect formula since I do not want to interpret if from the
> code...
> > > 
> > > Best Regards to all of you,
> > > Karl
> > > 
> > > -- 
> > > Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne
> Risiko!
> > > Satte Provisionen fr GMX Partner:
> http://www.gmx.net/de/go/partner
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > 
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> 
> -- 
> Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
> Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 01:35:57 2005
Return-Path: <java-user-return-17342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92023 invoked from network); 6 Nov 2005 01:35:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 01:35:57 -0000
Received: (qmail 30985 invoked by uid 500); 6 Nov 2005 01:35:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30960 invoked by uid 500); 6 Nov 2005 01:35:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30949 invoked by uid 99); 6 Nov 2005 01:35:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 17:35:53 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.214] (HELO web50312.mail.yahoo.com) (206.190.39.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 17:35:47 -0800
Received: (qmail 71182 invoked by uid 60001); 6 Nov 2005 01:35:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=CmbJjaGvSVimkRnYzOit5FOgyuGMZuAXAOaLy2IsX65/C/V372pQW9UbK3s9/CTSaPZnvlmWelyt71bHknpWRKcoQSxqlbYjIKO7wOIJcFha/hdXlzl+IYtnpkAiC7DJf2WwsLJTd0CcX7+mlCqSe7QdaVfO9KF0fcIaNBPhtNk=  ;
Message-ID: <20051106013531.71180.qmail@web50312.mail.yahoo.com>
Received: from [69.201.142.21] by web50312.mail.yahoo.com via HTTP; Sat, 05 Nov 2005 17:35:31 PST
Date: Sat, 5 Nov 2005 17:35:31 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring formula
To: java-user@lucene.apache.org
In-Reply-To: <16483.1131233771@www25.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

TopDocs search(....)
TopFieldDocs search(...)
...

Just peek at the IndexSearcher.java source.

Otis


--- Karl Koch <TheRanger@gmx.net> wrote:

> I always thought that Lucene search is always returning a Hits
> object. In
> what occation would this not be the case?
> 
> Karl
> 
> > --- Ursprngliche Nachricht ---
> > Von: Yonik Seeley <yseeley@gmail.com>
> > An: java-user@lucene.apache.org
> > Betreff: Re: Scoring formula
> > Datum: Sat, 5 Nov 2005 17:49:40 -0500
> > 
> > Lucene 1.2 is before my time, but check if the functions are
> > implemented the same as the current version (they probably are).
> > 
> > Scores are not naturally <= 1, but for most search methods
> (including
> > all that return Hits) they are normalized to be between 1 and 0 if
> the
> > highest score is greater than 1.
> > 
> > -Yonik
> > Now hiring -- http://forms.cnet.com/slink?231706
> > 
> > 
> > On 11/5/05, Karl Koch <TheRanger@gmx.net> wrote:
> > > Yes, the Similarity class existed in version 1.2, but no
> description is
> > > included in its JavaDoc. After somebody could point me to the
> formular I
> > > would also like to know if the formula ensures the score is
> always
> > between
> > > 0.0 and 1.0 (without any boosting)... Is this the case?
> > >
> > > Karl
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> 
> -- 
> Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
> Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 03:30:06 2005
Return-Path: <java-user-return-17343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15398 invoked from network); 6 Nov 2005 03:30:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 03:30:05 -0000
Received: (qmail 69157 invoked by uid 500); 6 Nov 2005 03:30:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69117 invoked by uid 500); 6 Nov 2005 03:30:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69091 invoked by uid 99); 6 Nov 2005 03:30:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 19:30:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.82.193 as permitted sender)
Received: from [66.249.82.193] (HELO xproxy.gmail.com) (66.249.82.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 19:29:55 -0800
Received: by xproxy.gmail.com with SMTP id h32so37208wxd
        for <java-user@lucene.apache.org>; Sat, 05 Nov 2005 19:29:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=WOzLkBfMlWGIEltMjx9wdMssyj1v8xqyzJcnbaReli2QdYfORo64R9uAIpkOQNULmsxQ9OSVq4Xo9zOGsuMEtw34+qTCWbg27NObAQOE/tiHuqcJkM/w+wcRi35K5sF6Sr9rWC2nWcygeKswGA6sQnu0kT3s0FkFk2PafJDoI+4=
Received: by 10.70.57.8 with SMTP id f8mr105466wxa;
        Sat, 05 Nov 2005 19:29:39 -0800 (PST)
Received: by 10.70.58.8 with HTTP; Sat, 5 Nov 2005 19:29:39 -0800 (PST)
Message-ID: <88c6a6720511051929s9838d54h3b0680f7dfa05df8@mail.gmail.com>
Date: Sat, 5 Nov 2005 21:29:39 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about scoring normalisation
In-Reply-To: <9747.1131222345@www25.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9747.1131222345@www25.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene just takes the highest score returned, and divides all scores
by this max_score.  So max_score / max_score =3D 1.0, and voila.

On 11/5/05, Karl Koch <TheRanger@gmx.net> wrote:
> Hello all,
>
> I am wondering how many of you actually work with own scoring mechanism
> (overwriting Lucenes standard scoring) and how many of you do work on how=
 to
> normalise this score.
>
> I would like to add a second score on top of Lucenes TF/IDF score. The
> resulting score is most likely higher then 1.0. However, the score should=
 be
> between 0.0 and 1.0. What is the best way to do that? If Lucene is
> normalising its score (if no boosting is applied) to a maximium of 1.0, h=
ow
> is this done (in Lucene 1.2 and/or beyond) ?
>
> Regards,
> Karl
>
>
> --
> Highspeed-Freiheit. Bei GMX superg=FCnstig, z.B. GMX DSL_Cityflat,
> DSL-Flatrate f=FCr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 03:36:52 2005
Return-Path: <java-user-return-17344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18330 invoked from network); 6 Nov 2005 03:36:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 03:36:52 -0000
Received: (qmail 73672 invoked by uid 500); 6 Nov 2005 03:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73649 invoked by uid 500); 6 Nov 2005 03:36:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73638 invoked by uid 99); 6 Nov 2005 03:36:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 19:36:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of get.sameer@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 19:36:41 -0800
Received: by xproxy.gmail.com with SMTP id s8so163060wxc
        for <java-user@lucene.apache.org>; Sat, 05 Nov 2005 19:36:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=QJmm5gEVT22v68cxfkTtTc1m8Xr1SVjcU8ceeHNjNGV4IpcZROS8bAECMGDpajZbtoeTpQAVz3jvMU0DmsQtx7t8EAVuaepc3zdYAamG3ydf5eB3mZ7homT17oGt3OaYw5FvZKjAwtpOcKYFWw9lhqbh/9ve8bm2V2bMs5YTJmE=
Received: by 10.70.83.8 with SMTP id g8mr3598154wxb;
        Sat, 05 Nov 2005 19:36:25 -0800 (PST)
Received: by 10.70.42.14 with HTTP; Sat, 5 Nov 2005 19:36:25 -0800 (PST)
Message-ID: <9ce5095c0511051936r1933df21i789cfcbf08aabfbd@mail.gmail.com>
Date: Sun, 6 Nov 2005 09:06:25 +0530
From: Sameer Shisodia <get.sameer@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about scoring normalisation
In-Reply-To: <88c6a6720511051929s9838d54h3b0680f7dfa05df8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9747.1131222345@www25.gmx.net>
	 <88c6a6720511051929s9838d54h3b0680f7dfa05df8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

if so the top score should always be 1.0. Isn't so.
Or does boosting multiple individual fields wreck that ?
sameer

On 11/6/05, Chris Lamprecht <clamprecht@gmail.com> wrote:
> Lucene just takes the highest score returned, and divides all scores
> by this max_score.  So max_score / max_score =3D 1.0, and voila.
>
>
--
Sameer Shisodia  Bangalore

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 06:22:55 2005
Return-Path: <java-user-return-17345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58891 invoked from network); 6 Nov 2005 06:22:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 06:22:54 -0000
Received: (qmail 50621 invoked by uid 500); 6 Nov 2005 06:22:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50576 invoked by uid 500); 6 Nov 2005 06:22:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50558 invoked by uid 99); 6 Nov 2005 06:22:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 22:22:45 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.233] (HELO web36303.mail.mud.yahoo.com) (209.191.84.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 22:22:39 -0800
Received: (qmail 14580 invoked by uid 60001); 6 Nov 2005 06:22:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=HOUZXq3te1UWNwa4ulR3zMdVOfpEhc6WChxG83sTjHzCLEegNegdiNXNVrf6SGmrMw9MR7C7+FwbISOk9tXCAkSbk9bDHWOJsICrPWL14Q78znHd7l+LC7JuNxxuDxBhucFnjp7sZJT+5CDeXHsnuOyBegMjHreC3UmqkTpo+8Y=  ;
Message-ID: <20051106062224.14578.qmail@web36303.mail.mud.yahoo.com>
Received: from [70.231.158.34] by web36303.mail.mud.yahoo.com via HTTP; Sat, 05 Nov 2005 22:22:23 PST
Date: Sat, 5 Nov 2005 22:22:23 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Is There Other Ports of Nutch?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  I know that there are several ports of Lucene, like
cLucene, pLucene, etc.  Are there other ports of Nutch
besides java?

Many thanks.


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 07:29:04 2005
Return-Path: <java-user-return-17346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71711 invoked from network); 6 Nov 2005 07:29:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 07:29:04 -0000
Received: (qmail 77441 invoked by uid 500); 6 Nov 2005 07:29:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76527 invoked by uid 500); 6 Nov 2005 07:28:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76516 invoked by uid 99); 6 Nov 2005 07:28:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Nov 2005 23:28:59 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.32] (HELO web53002.mail.yahoo.com) (206.190.49.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Nov 2005 23:28:54 -0800
Received: (qmail 6786 invoked by uid 60001); 6 Nov 2005 07:28:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mVNMlhnuPP2IH53Ua3M4Sz8qaJnmw4QYbZktSVZRIisQ8vBXV0yz6NKpu9nULtGC79flhKT3+3QE7KVKcW3tBeVBIAER2W6gFPNq3MExlfPewLhHpTSPZdFgHpqMgV/9Y0jtl9HjXDyJzsgCh2eTe1lmnoTcbd66PWYlhQ4+KEE=  ;
Message-ID: <20051106072837.6784.qmail@web53002.mail.yahoo.com>
Received: from [219.238.185.157] by web53002.mail.yahoo.com via HTTP; Sat, 05 Nov 2005 23:28:37 PST
Date: Sat, 5 Nov 2005 23:28:37 -0800 (PST)
From: Kerang Lv <lvkrnewer@yahoo.com>
Subject: require new comment for IndexWriter.mergeFactor
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Does the IndexWriter.mergeFactor remain the same
effect on the RAM use after the introduce of
IndexWriter.minMergeDocs?

The minMergeDocs was introduced into
IndexWriter(Revision 1.21 in cvs) in order to control
the number of
Documents merged in RAMDirectory independently of the
mergeFactor (see
http://issues.apache.org/bugzilla/show_bug.cgi?id=23754).
And the IndexWriter.maybeMergeSegments changed from
then on:

@@ -375,7 +385,7 @@
 
   /** Incremental segment merger.  */
   private final void maybeMergeSegments() throws
IOException {
-    long targetMergeDocs = mergeFactor;
+    long targetMergeDocs = minMergeDocs;

But the comment of mergeFactor remains:

The following is the comment of
IndexWriter.mergeFactor in the 1.2 RC6:
  /** Determines how often segment indexes are merged
by addDocument().  With
   * smaller values, less RAM is used while indexing,
and searches on
   * unoptimized indexes are faster, but indexing
speed is slower.  With larger
   * values more RAM is used while indexing and
searches on unoptimized indexes
   * are slower, but indexing is faster.  Thus larger
values (> 10) are best
   * for batched index creation, and smaller values (<
10) for indexes that are
   * interactively maintained.
   *
   * <p>This must never be less than 2.  The default
value is 10.*/
  public int mergeFactor = 10;


and now, it's in 1.4.3:
  /** Determines how often segment indices are merged
by addDocument().  With
   * smaller values, less RAM is used while indexing,
and searches on
   * unoptimized indices are faster, but indexing
speed is slower.  With larger
   * values, more RAM is used during indexing, and
while searches on unoptimized
   * indices are slower, indexing is faster.  Thus
larger values (> 10) are best
   * for batch index creation, and smaller values (<
10) for indices that are
   * interactively maintained.
   *
   * <p>This must never be less than 2.  The default
value is 10.*/
  public int mergeFactor = DEFAULT_MERGE_FACTOR;

Does the IndexWriter.mergeFactor remain the same
effect on the RAM use?


		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 08:29:08 2005
Return-Path: <java-user-return-17347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90695 invoked from network); 6 Nov 2005 08:29:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 08:29:08 -0000
Received: (qmail 95351 invoked by uid 500); 6 Nov 2005 08:29:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95317 invoked by uid 500); 6 Nov 2005 08:29:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95306 invoked by uid 99); 6 Nov 2005 08:29:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 00:29:02 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 00:28:56 -0800
Received: (qmail 56032 invoked by uid 60001); 6 Nov 2005 08:28:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3Uhy7Nw1UlVS3HmdwgKt0jcd6dplM8hawH0OJ0maGjVyjJDUYecuq8cDEBBXIBzArsGIa+HUl8NESmCaQMnYPu14NzoEuPOuYgMkfLFLVqhih7wqog185GVFEsQVTDgA+X5pFQdI0m5IAPXKe4qV+8qoja9cN/HE0RQ4Ap8nVqA=  ;
Message-ID: <20051106082840.56030.qmail@web50310.mail.yahoo.com>
Received: from [69.201.142.21] by web50310.mail.yahoo.com via HTTP; Sun, 06 Nov 2005 00:28:40 PST
Date: Sun, 6 Nov 2005 00:28:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Question about scoring normalisation
To: java-user@lucene.apache.org
In-Reply-To: <9ce5095c0511051936r1933df21i789cfcbf08aabfbd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> if so the top score should always be 1.0. Isn't so.

Perhaps you are right.  Can you send some code that shows this,
preferably writen as a JUnit test and attached to a JIRA issues?

> Or does boosting multiple individual fields wreck that ?

I didn't think so, but I could be wrong.

Otis

> sameer
> 
> On 11/6/05, Chris Lamprecht <clamprecht@gmail.com> wrote:
> > Lucene just takes the highest score returned, and divides all
> scores
> > by this max_score.  So max_score / max_score = 1.0, and voila.
> >
> >
> --
> Sameer Shisodia  Bangalore
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 08:33:12 2005
Return-Path: <java-user-return-17348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91528 invoked from network); 6 Nov 2005 08:33:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 08:33:09 -0000
Received: (qmail 97757 invoked by uid 500); 6 Nov 2005 08:33:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96739 invoked by uid 500); 6 Nov 2005 08:33:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96725 invoked by uid 99); 6 Nov 2005 08:33:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 00:33:02 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 00:32:56 -0800
Received: (qmail 89609 invoked by uid 60001); 6 Nov 2005 08:32:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YJj/rxwY2bXgMV61mj5ypt8z7xXXU442oHZViEDXwbkV67qjP6sUzYQJF37HE52Sy/UvI52DQzDbZJNXYJ73Y3FssiK3bqfk895lRzoOPyIXIWCs1p/8Jb/fs6qWTvuSq9WgH3wKQupKmtWuJ6T0S89dmCDKLAcIR0aF000GqRk=  ;
Message-ID: <20051106083240.89607.qmail@web50308.mail.yahoo.com>
Received: from [69.201.142.21] by web50308.mail.yahoo.com via HTTP; Sun, 06 Nov 2005 00:32:40 PST
Date: Sun, 6 Nov 2005 00:32:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: require new comment for IndexWriter.mergeFactor
To: java-user@lucene.apache.org
In-Reply-To: <20051106072837.6784.qmail@web53002.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think the best description of various IndexWriter parameters is in
Lucene in Action (sorry if this sounds like a plug, but it's not the
intention) in section 2.7.1., page 42 (
http://www.lucenebook.com/search?query=mergeFactor )

mergeFactor controls how often Lucene merges segments while indexing.
minMergeDocs (I think it's renamed now) controls how many documents to
buffer in RAM before writing them to disk.

Only the later affects RAM usage.  Both affect speed (check out free
code from Lucene in Action at http://lucenebook.com/ to see how
changing various parameters changes indexing performance).

Otis


--- Kerang Lv <lvkrnewer@yahoo.com> wrote:

> Does the IndexWriter.mergeFactor remain the same
> effect on the RAM use after the introduce of
> IndexWriter.minMergeDocs?
> 
> The minMergeDocs was introduced into
> IndexWriter(Revision 1.21 in cvs) in order to control
> the number of
> Documents merged in RAMDirectory independently of the
> mergeFactor (see
> http://issues.apache.org/bugzilla/show_bug.cgi?id=23754).
> And the IndexWriter.maybeMergeSegments changed from
> then on:
> 
> @@ -375,7 +385,7 @@
>  
>    /** Incremental segment merger.  */
>    private final void maybeMergeSegments() throws
> IOException {
> -    long targetMergeDocs = mergeFactor;
> +    long targetMergeDocs = minMergeDocs;
> 
> But the comment of mergeFactor remains:
> 
> The following is the comment of
> IndexWriter.mergeFactor in the 1.2 RC6:
>   /** Determines how often segment indexes are merged
> by addDocument().  With
>    * smaller values, less RAM is used while indexing,
> and searches on
>    * unoptimized indexes are faster, but indexing
> speed is slower.  With larger
>    * values more RAM is used while indexing and
> searches on unoptimized indexes
>    * are slower, but indexing is faster.  Thus larger
> values (> 10) are best
>    * for batched index creation, and smaller values (<
> 10) for indexes that are
>    * interactively maintained.
>    *
>    * <p>This must never be less than 2.  The default
> value is 10.*/
>   public int mergeFactor = 10;
> 
> 
> and now, it's in 1.4.3:
>   /** Determines how often segment indices are merged
> by addDocument().  With
>    * smaller values, less RAM is used while indexing,
> and searches on
>    * unoptimized indices are faster, but indexing
> speed is slower.  With larger
>    * values, more RAM is used during indexing, and
> while searches on unoptimized
>    * indices are slower, indexing is faster.  Thus
> larger values (> 10) are best
>    * for batch index creation, and smaller values (<
> 10) for indices that are
>    * interactively maintained.
>    *
>    * <p>This must never be less than 2.  The default
> value is 10.*/
>   public int mergeFactor = DEFAULT_MERGE_FACTOR;
> 
> Does the IndexWriter.mergeFactor remain the same
> effect on the RAM use?
> 
> 
> 		
> __________________________________ 
> Start your day with Yahoo! - Make it your home page! 
> http://www.yahoo.com/r/hs
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 12:31:29 2005
Return-Path: <java-user-return-17349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34678 invoked from network); 6 Nov 2005 12:31:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 12:31:29 -0000
Received: (qmail 65775 invoked by uid 500); 6 Nov 2005 12:31:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65750 invoked by uid 500); 6 Nov 2005 12:31:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65739 invoked by uid 99); 6 Nov 2005 12:31:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 04:31:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of valerio.schiavoni@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 04:31:17 -0800
Received: by wproxy.gmail.com with SMTP id i31so163036wra
        for <java-user@lucene.apache.org>; Sun, 06 Nov 2005 04:31:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=t56XMeIQVsIuU7MQ6tKMGIG20mI6ohQkhM/8mBaTRNF5ue+x8oY/j80KwcCE1NuSS+uGgZvbdP2fgpW6dKCsEXx1F7guQfaSkssjMzyBXMJANRAIqPBFrjjJ90YMbVPWmg7ydDIJiPzWKwQFh/t5ws+fRi0/GFbH0OUnc/9deuw=
Received: by 10.64.143.12 with SMTP id q12mr4202323qbd;
        Sun, 06 Nov 2005 04:31:01 -0800 (PST)
Received: by 10.65.196.19 with HTTP; Sun, 6 Nov 2005 04:31:01 -0800 (PST)
Message-ID: <fa5c729b0511060431g209ae6cby@mail.gmail.com>
Date: Sun, 6 Nov 2005 13:31:01 +0100
From: Valerio Schiavoni <valerio.schiavoni@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene and jsp
In-Reply-To: <436CEA37.7090000@artentis.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16996_32594888.1131280261758"
References: <436CEA37.7090000@artentis.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16996_32594888.1131280261758
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

it seems like the problem is from here:

java.security.AccessControlException: access denied
(java.util.PropertyPermission org.apache.lucene.writeLockTimeout read)

try to use this properly:
System.setProperty("disableLuceneLocks", "true");



2005/11/5, Gaston <gasi@artentis.com>:
>
> Hallo,
>
> I know my topic is a little bit out of topic. but I am trying and trying
> to do something without no effort. I have a very simple application.I
> tested this application on my homepc with tomcat 3.3.2 and it worked.
> But on the the server off my webhosting agency it does not work. I
> putted the jar in the right directory and so on and so I have no idea
> why it doesn't work. Perhaps somebody out of you had the same problem
> and has a hint for my, what the reason for my failure can be.
>
> My code:
> <%@ page import=3D"java.io.*,javax.servlet.*,
> javax.servlet.http.*,org.apache.lucene.analysis.Analyzer,
> org.apache.lucene.analysis.standard.StandardAnalyzer,
> org.apache.lucene.document.Document,org.apache.lucene.document.Field,
> org.apache.lucene.index.IndexWriter"
> %>
> <%
>
>
>
> try
> {
> String[] text =3D { "Indexierung mit Lucene", "Suche mit Lucene" };
> String indexDir =3D application.getRealPath("/")+"myindex";
> Analyzer analyzer =3D new StandardAnalyzer();
> boolean create =3D true;
>
> IndexWriter writer =3D new IndexWriter(indexDir, analyzer, create);
> out.println(indexDir);
> for (int i =3D 0; i < text.length; i++)
> {
> Document document =3D new Document();
> document.add(Field.Text("textfeld", text[i]));
> writer.addDocument(document);
> out.println("Es klappt");
> }
> writer.close();
> out.println("hallozwei");
> }
> catch(IOException e)
> {
> e.printStackTrace();
> }
> catch(Exception e)
> {
> e.printStackTrace();
> }
>
> %>
>
> Error:
>
> http://gasizwei.meintestaccount.de:9080/gagamodi/indexaufserver.jsp
>
>
> Thank you in advance.
>
> Greetings
>
> Gaston
>
> P.S. I asked this in j2ee forums but the answers I get didn't help me.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_16996_32594888.1131280261758--

From java-user-return-17350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 13:57:29 2005
Return-Path: <java-user-return-17350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53317 invoked from network); 6 Nov 2005 13:57:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 13:57:29 -0000
Received: (qmail 2771 invoked by uid 500); 6 Nov 2005 13:57:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2750 invoked by uid 500); 6 Nov 2005 13:57:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2739 invoked by uid 99); 6 Nov 2005 13:57:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 05:57:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.122.43.147] (HELO sioux.media-style.com) (212.122.43.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 05:57:16 -0800
Received: from [192.168.200.38] (unknown [212.122.60.63])
	by sioux.media-style.com (Postfix) with ESMTP id CAFCA103CE
	for <java-user@lucene.apache.org>; Sun,  6 Nov 2005 14:56:59 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051106062224.14578.qmail@web36303.mail.mud.yahoo.com>
References: <20051106062224.14578.qmail@web36303.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F5D2E47E-FF38-49CD-9DF8-2CBDE9CF1ECC@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Is There Other Ports of Nutch?
Date: Sun, 6 Nov 2005 14:59:11 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

No! Porting nutch in general makes no sense.
Since nutch is not a library as lucene but a complete ready to use  
application you can download and start.
There is a kind of  'webservice' (open search rss) to be able to  
integrate nutch search results in third party applications.

Stefan
... and no from the performance point of view it is also senseless to  
port nutch :-)




Am 06.11.2005 um 07:22 schrieb Victor Lee:

> Hi,
>   I know that there are several ports of Lucene, like
> cLucene, pLucene, etc.  Are there other ports of Nutch
> besides java?
>
> Many thanks.
>
>
> 	
> 		
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 14:38:40 2005
Return-Path: <java-user-return-17351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68477 invoked from network); 6 Nov 2005 14:38:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 14:38:31 -0000
Received: (qmail 22722 invoked by uid 500); 6 Nov 2005 14:38:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22684 invoked by uid 500); 6 Nov 2005 14:38:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22673 invoked by uid 99); 6 Nov 2005 14:38:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 06:38:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 06:38:19 -0800
Received: by wproxy.gmail.com with SMTP id i14so362441wra
        for <java-user@lucene.apache.org>; Sun, 06 Nov 2005 06:38:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=e9i4wB1jQDONTcKSS/lleWwkD4Qk5bi61N5MmiMhOMyrwSJcrXy2/N/szkeW8ExfuCbI5q/lMlZ9y7tT2LKDVwtHG5iI8ZFK5xDXdwZSot8awqG+h+bwfKuzZPzWzfxXT4VpQqEHXcfTXp8hOOOYt+AK0eKUZfoP61S+mVihxh8=
Received: by 10.65.107.11 with SMTP id j11mr3651492qbm;
        Sun, 06 Nov 2005 06:38:03 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Sun, 6 Nov 2005 06:38:03 -0800 (PST)
Message-ID: <c68e39170511060638x7a2f58faxf7d0f3f3eaef911e@mail.gmail.com>
Date: Sun, 6 Nov 2005 09:38:03 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about scoring normalisation
In-Reply-To: <9ce5095c0511051936r1933df21i789cfcbf08aabfbd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9747.1131222345@www25.gmx.net>
	 <88c6a6720511051929s9838d54h3b0680f7dfa05df8@mail.gmail.com>
	 <9ce5095c0511051936r1933df21i789cfcbf08aabfbd@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 11/5/05, Sameer Shisodia <get.sameer@gmail.com> wrote:
> if so the top score should always be 1.0. Isn't so.
> Or does boosting multiple individual fields wreck that ?
> sameer

The top score is scaled back to 1.0 *only* if it's greater than 1.0

So hits with scores of 4.0,2.0 will be normalized to 1.0,0.5
while hits of 0.4,0.2 will be normalized to 0.4,0.2

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 19:43:46 2005
Return-Path: <java-user-return-17352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52667 invoked from network); 6 Nov 2005 19:43:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 19:43:45 -0000
Received: (qmail 92231 invoked by uid 500); 6 Nov 2005 19:43:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92201 invoked by uid 500); 6 Nov 2005 19:43:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92190 invoked by uid 99); 6 Nov 2005 19:43:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 11:43:39 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 11:43:33 -0800
Received: (qmail 17418 invoked by uid 0); 6 Nov 2005 19:43:17 -0000
Received: from 193.63.235.44 by www54.gmx.net with HTTP;
	Sun, 6 Nov 2005 20:43:17 +0100 (MET)
Date: Sun, 6 Nov 2005 20:43:17 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: Ira Goldstein <iragoldstein@usa.net>,"User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: Re: Question about scoring normalisation
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <1404.1131306197@www54.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Ira,

I am not sure if I know exactly what pivoted normalisation is. I can tell
you what I do, in the meantime I will have a look to your paper and I hope
that we can discuss this issue further.

I work in personalised searching where a second model - a user model - 
expresses extra relevance of a document; however from a different
prespective. I also value the use of TF/IDF to represent the content sided
view on content relevance. Therefore, I would like to combine both scores
(the one from Lucene and the one from my model) into a combined score.
Furthermore, I need to normalise this score so it cannot get higher than
1.0. At the moment, I have a visulisation scheme that works on this premise.

In Lucene, scores seem to be normalised only if they exceed the 1.0 maximum
border. If they do not exceed this max value, they are left where they are. 

Based on that I have now solved my problem to combine my two scores (Lucene
and mine) and if they exceed, I normalise the scores like Lucene does. I
think this is the most accurate think I could do in this case where I do not
violoate the overall meaning of scoring for the user. 

I realise that if I always normalise (to a 0.0 to 1.0 range) I will
introduce a dangerous feature that basically boosts a bunch of low scored
documents (e.g. all between 0.1 and 0.2) unnecessarily high (in this case
right up to between 0.5 and 1.0).

What would you say about that? Does is make sense?

Kind Regards,
Karl


> --- Ursprngliche Nachricht ---
> Von: Ira Goldstein <iragoldstein@usa.net>
> An: "Karl Koch" <TheRanger@gmx.net>
> Betreff: Re: Question about scoring normalisation
> Datum: Sun, 06 Nov 2005 08:08:59 -0500
> 
> Karl --
>   Hi.  I've been thinking about adding a pivoted normalization to Lucene
> (see
> attached paper).  I've just started to look at the current code to see how
> the
> tf-idf (sum of squares?) has been implemented.  I wanted to do that before
> begining any coding?  
>   Is pivoted normalization the sort of thing you were asking about?
>   Take care
> --Ira
> 
> ------ Original Message ------
> Received: Sat, 05 Nov 2005 03:26:12 PM EST
> From: "Karl Koch" <TheRanger@gmx.net>
> To: "User " <java-user@lucene.apache.org>
> Subject: Question about scoring normalisation
> 
> > Hello all,
> > 
> > I am wondering how many of you actually work with own scoring mechanism
> > (overwriting Lucenes standard scoring) and how many of you do work on
> how
> to
> > normalise this score. 
> > 
> > I would like to add a second score on top of Lucenes TF/IDF score. The
> > resulting score is most likely higher then 1.0. However, the score
> should
> be
> > between 0.0 and 1.0. What is the best way to do that? If Lucene is
> > normalising its score (if no boosting is applied) to a maximium of 1.0,
> how
> > is this done (in Lucene 1.2 and/or beyond) ?
> > 
> > Regards,
> > Karl
> > 
> > 
> > -- 
> > Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
> > DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> 

-- 
Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 21:13:41 2005
Return-Path: <java-user-return-17353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85931 invoked from network); 6 Nov 2005 21:13:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 21:13:40 -0000
Received: (qmail 55321 invoked by uid 500); 6 Nov 2005 21:13:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54431 invoked by uid 500); 6 Nov 2005 21:13:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54420 invoked by uid 99); 6 Nov 2005 21:13:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 13:13:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aseldawy@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 13:13:29 -0800
Received: by xproxy.gmail.com with SMTP id s8so257009wxc
        for <java-user@lucene.apache.org>; Sun, 06 Nov 2005 13:13:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=L0sQlV2SehEc+MxCnG7GDCf3lFUhZ6HElrNVXBCvR5q6rGqwZyOVxO8+/oh9s0faAOtz9inT1AL4QEdgKWNvJgN0cWGuGfiGGBF9TOxvKbgkcfh141KyGkQw88ddWA2FxKgTRP+4JYB1hDceJG4wMtimpiXwzPYm6mr2pGHkw7w=
Received: by 10.70.24.6 with SMTP id 6mr4232673wxx;
        Sun, 06 Nov 2005 13:13:14 -0800 (PST)
Received: by 10.70.23.14 with HTTP; Sun, 6 Nov 2005 13:13:13 -0800 (PST)
Message-ID: <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
Date: Sun, 6 Nov 2005 23:13:13 +0200
From: Ahmed El-dawy <aseldawy@gmail.com>
Reply-To: aseldawy@yahoo.com
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
	 <436B2181.9060708@culture.gouv.fr>
	 <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
	 <200511041945.02428@danielnaber.de>
	 <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
	 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
	 <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
	 <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
	 <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have used the PhrasePrefixQuery but it has some problems. It
sometimes throw an exception (OperationNotAllowed) when it is added to
a boolean query with required flag set. Also it sometimes throws a
null pointer exception and I don't know why.
  I am trying to get the latest version (from SVN) but I can't do it.
I need your help. How can I checkout the project?
  I use eclipse and it asks me for these information
Host: -----
Repository Path: -----
User: -----
Password: ------
Connection type: (pserver | ext | extssh)
port: (default | custom)

Thanks very much

On 11/5/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On 4 Nov 2005, at 23:08, Ahmed El-dawy wrote:
> > BTW, I think there's a newer version of Lucene that I can't get, my
> > version is 1.4.3 and I didn't find any newer version at the site. For
> > example, the QueryParser in my version doesn't care with term position
> > and I had to override it by myself to support this.
> > You may be referring to the CVS version, but I want to release my app.
> > with a stable version.
>
> For the record, Subversion trunk (no longer CVS) is stable and being
> used in many production projects already.
>
> The only difference between Subversion trunk and a released version
> is the time and effort someone has taken to build it, package it,
> sign it, and upload it (and of course a consensus vote authorizing
> it).  While I know that many environments demand that such blessing
> has occurred, I cannot say that I altogether understand it.  I much
> prefer, personally, to be on the trunk and know that any issues I do
> happen to encounter can be easily reported, likely fixed if
> identified specifically enough, fixed, and integrated back into my
> projects right away.
>
> I certainly do feel a bit bad that I'm not personally being
> aggressive about pushing a new release, but please don't let my
> insane schedule hold you back from using the latest and best version
> of Lucene.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
regards,
Ahmed Saad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 23:24:11 2005
Return-Path: <java-user-return-17354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38520 invoked from network); 6 Nov 2005 23:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 23:24:09 -0000
Received: (qmail 60975 invoked by uid 500); 6 Nov 2005 23:24:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60920 invoked by uid 500); 6 Nov 2005 23:24:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60909 invoked by uid 99); 6 Nov 2005 23:24:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 15:24:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 15:23:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2C6B413E2005; Sun,  6 Nov 2005 18:23:42 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 9F57313E2008
	for <java-user@lucene.apache.org>; Sun,  6 Nov 2005 18:23:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com> <436B2181.9060708@culture.gouv.fr> <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com> <200511041945.02428@danielnaber.de> <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com> <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com> <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu> <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com> <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com> <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <41696480-2F75-4D97-BCAB-6E6F4BBCDB2B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple terms with the same position in PhraseQuery
Date: Sun, 6 Nov 2005 18:23:37 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 6 Nov 2005, at 16:13, Ahmed El-dawy wrote:

> I have used the PhrasePrefixQuery but it has some problems. It
> sometimes throw an exception (OperationNotAllowed) when it is added to
> a boolean query with required flag set. Also it sometimes throws a
> null pointer exception and I don't know why.
>   I am trying to get the latest version (from SVN) but I can't do it.
> I need your help. How can I checkout the project?
>   I use eclipse and it asks me for these information
> Host: -----
> Repository Path: -----
> User: -----
> Password: ------
> Connection type: (pserver | ext | extssh)
> port: (default | custom)

It looks like this is a CVS dialog as none of those connection types  
apply.  Subversion is over HTTP(S).

There are lots of details about accessing the Subversion repository  
at Apache here:

     <http://www.apache.org/dev/version-control.html>

Nothing Eclipse-specific that I've found, but this is the command- 
line used in a shell:

     svn co http://svn.apache.org/repos/asf/lucene/java/trunk/ lucene

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 06 23:40:19 2005
Return-Path: <java-user-return-17355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42237 invoked from network); 6 Nov 2005 23:40:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Nov 2005 23:40:19 -0000
Received: (qmail 75186 invoked by uid 500); 6 Nov 2005 23:40:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75166 invoked by uid 500); 6 Nov 2005 23:40:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75155 invoked by uid 99); 6 Nov 2005 23:40:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 15:40:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 15:40:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D60F35B7C3; Sun,  6 Nov 2005 15:39:49 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D4C417F45E
	for <java-user@lucene.apache.org>; Sun,  6 Nov 2005 15:39:49 -0800 (PST)
Date: Sun, 6 Nov 2005 15:39:49 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <41696480-2F75-4D97-BCAB-6E6F4BBCDB2B@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0511061537230.18616@hal.rescomp.berkeley.edu>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
 <436B2181.9060708@culture.gouv.fr> <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
 <200511041945.02428@danielnaber.de> <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
 <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
 <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
 <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
 <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
 <41696480-2F75-4D97-BCAB-6E6F4BBCDB2B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

:      <http://www.apache.org/dev/version-control.html>
:
: Nothing Eclipse-specific that I've found, but this is the command-
: line used in a shell:
:
:      svn co http://svn.apache.org/repos/asf/lucene/java/trunk/ lucene

I've never used eclipse, but a google search for "subversion eclipse"
lists many promising options.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 01:23:37 2005
Return-Path: <java-user-return-17356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77033 invoked from network); 7 Nov 2005 01:23:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 01:23:37 -0000
Received: (qmail 39265 invoked by uid 500); 7 Nov 2005 01:23:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38255 invoked by uid 500); 7 Nov 2005 01:23:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38243 invoked by uid 99); 7 Nov 2005 01:23:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 17:23:30 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.239] (HELO web36309.mail.mud.yahoo.com) (209.191.84.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 17:23:23 -0800
Received: (qmail 91759 invoked by uid 60001); 7 Nov 2005 01:23:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Lrnd/ws8V/MG0h6Hc27xrp8lyV3rduLF+evKnHV5nohzOd/40C6KrLYFxdfCbIMerKzxYdWf7p/EYOEC2/EHKHEhc3MTH3gq7UsvxH5zVqLaqyuY7tBYiOO+WR94mruV5telpuUJOEMcBuGgdc//flo1RJvuMnn4ptOJoeRMbPI=  ;
Message-ID: <20051107012307.91756.qmail@web36309.mail.mud.yahoo.com>
Received: from [70.231.158.34] by web36309.mail.mud.yahoo.com via HTTP; Sun, 06 Nov 2005 17:23:07 PST
Date: Sun, 6 Nov 2005 17:23:07 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Best Way To Index Database Using Lucene?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  I use php and mysql.  The visitors enters data
through the web and the data is stored in the
database.  I want to make portions of that data to be
searchable using Lucene.  

I am thinking of giving that data to Lucene for
indexing at the same time of inputing that same data
into the database.  Is it a good idea?  or should I
just make php to input all the data into the mysql db
without indexing, and then just periodally update the
index?  

What's your suggestion?   Many thanks.


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 01:52:10 2005
Return-Path: <java-user-return-17357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84918 invoked from network); 7 Nov 2005 01:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 01:52:10 -0000
Received: (qmail 55484 invoked by uid 500); 7 Nov 2005 01:52:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55457 invoked by uid 500); 7 Nov 2005 01:52:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55446 invoked by uid 99); 7 Nov 2005 01:52:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 17:52:05 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.245] (HELO web36315.mail.mud.yahoo.com) (209.191.84.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 17:51:59 -0800
Received: (qmail 91066 invoked by uid 60001); 7 Nov 2005 01:51:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Th9oCXWVM6/AU6pM1vIor8/jxhF5HSHZYWPEMenPH0TOC3Bqvig4lHj0BpoVTWtJ2Vx4wuvFQMnZXo0GEGhn68XXFpsBa22WjgVg9taHcynQOD60CFZc1G2m6hy7LoggysUB2vNoCy/B3YK0lSCTddUb3OTiQlDoFApkckux4XI=  ;
Message-ID: <20051107015143.91064.qmail@web36315.mail.mud.yahoo.com>
Received: from [70.231.158.34] by web36315.mail.mud.yahoo.com via HTTP; Sun, 06 Nov 2005 17:51:43 PST
Date: Sun, 6 Nov 2005 17:51:43 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Re: Best Way To Index Database Using Lucene?
To: java-user@lucene.apache.org
In-Reply-To: <20051107012307.91756.qmail@web36309.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I forgot to mention that if I use php-java-bridge to
use Lucene to index at the same time I input the data
into the mysql db, I don't even need to use JDBC.  If
I  index inside the business logic layer which is
java, then I will have to use JDBC.

--- Victor Lee <victor_emailbox@yahoo.com> wrote:

> Hi,
>   I use php and mysql.  The visitors enters data
> through the web and the data is stored in the
> database.  I want to make portions of that data to
> be
> searchable using Lucene.  
> 
> I am thinking of giving that data to Lucene for
> indexing at the same time of inputing that same data
> into the database.  Is it a good idea?  or should I
> just make php to input all the data into the mysql
> db
> without indexing, and then just periodally update
> the
> index?  
> 
> What's your suggestion?   Many thanks.
> 
> 
> 	
> 		
> __________________________________ 
> Yahoo! Mail - PC Magazine Editors' Choice 2005 
> http://mail.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 03:37:51 2005
Return-Path: <java-user-return-17358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21903 invoked from network); 7 Nov 2005 03:37:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 03:37:51 -0000
Received: (qmail 14491 invoked by uid 500); 7 Nov 2005 03:37:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14388 invoked by uid 500); 7 Nov 2005 03:37:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14357 invoked by uid 99); 7 Nov 2005 03:37:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 19:37:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.207] (HELO smtp108.sbc.mail.mud.yahoo.com) (68.142.198.207)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Nov 2005 19:37:33 -0800
Received: (qmail 26971 invoked from network); 7 Nov 2005 03:37:16 -0000
Received: from unknown (HELO ?192.168.1.42?) (kkrugler@pacbell.net@63.200.72.125 with plain)
  by smtp108.sbc.mail.mud.yahoo.com with SMTP; 7 Nov 2005 03:37:16 -0000
Mime-Version: 1.0
Message-Id: <p06230918bf945d186fdf@[192.168.1.42]>
In-Reply-To: <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>	
 <436B2181.9060708@culture.gouv.fr>	
 <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>	
 <200511041945.02428@danielnaber.de>	
 <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>	
 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>	
 <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>	
 <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>	
 <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
 <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
Date: Sun, 6 Nov 2005 17:25:20 -0800
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: Multiple terms with the same position in PhraseQuery
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>I have used the PhrasePrefixQuery but it has some problems. It
>sometimes throw an exception (OperationNotAllowed) when it is added to
>a boolean query with required flag set. Also it sometimes throws a
>null pointer exception and I don't know why.
>   I am trying to get the latest version (from SVN) but I can't do it.
>I need your help. How can I checkout the project?
>   I use eclipse and it asks me for these information

Subclipse is the Eclipse plug-in for Subversion. Though I've found 
that things work best if I:

a. Use the command line or a client like SmartSVN to get the project 
files - and I don't put them into the Eclipse Workspace directory.

b. Then launch Eclipse and create a new Java project, importing the 
files from the external (SVN-controlled) location.

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-470-9200

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 04:00:16 2005
Return-Path: <java-user-return-17359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27193 invoked from network); 7 Nov 2005 04:00:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 04:00:16 -0000
Received: (qmail 32881 invoked by uid 500); 7 Nov 2005 04:00:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31957 invoked by uid 500); 7 Nov 2005 04:00:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31944 invoked by uid 99); 7 Nov 2005 04:00:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 20:00:10 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 20:00:04 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA73o8xI030122;
	Mon, 7 Nov 2005 03:50:11 GMT
Message-ID: <002001c5e350$2482d510$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Cc: <victor_emailbox@yahoo.com>
References: <20051107015143.91064.qmail@web36315.mail.mud.yahoo.com>
Subject: Re: Best Way To Index Database Using Lucene?
Date: Mon, 7 Nov 2005 09:32:55 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It depends on your requirement. If you want the realtime searching then you
should go to your first approach otherwiser second is fine.

--Manoj


----- Original Message ----- 
From: "Victor Lee" <victor_emailbox@yahoo.com>
To: <java-user@lucene.apache.org>
Sent: Monday, November 07, 2005 7:21 AM
Subject: Re: Best Way To Index Database Using Lucene?


> I forgot to mention that if I use php-java-bridge to
> use Lucene to index at the same time I input the data
> into the mysql db, I don't even need to use JDBC.  If
> I  index inside the business logic layer which is
> java, then I will have to use JDBC.
>
> --- Victor Lee <victor_emailbox@yahoo.com> wrote:
>
> > Hi,
> >   I use php and mysql.  The visitors enters data
> > through the web and the data is stored in the
> > database.  I want to make portions of that data to
> > be
> > searchable using Lucene.
> >
> > I am thinking of giving that data to Lucene for
> > indexing at the same time of inputing that same data
> > into the database.  Is it a good idea?  or should I
> > just make php to input all the data into the mysql
> > db
> > without indexing, and then just periodally update
> > the
> > index?
> >
> > What's your suggestion?   Many thanks.
> >
> >
> >
> >
> > __________________________________
> > Yahoo! Mail - PC Magazine Editors' Choice 2005
> > http://mail.yahoo.com
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> >
> >
>
>
>
>
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 04:07:30 2005
Return-Path: <java-user-return-17360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29209 invoked from network); 7 Nov 2005 04:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 04:07:29 -0000
Received: (qmail 37129 invoked by uid 500); 7 Nov 2005 04:07:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36217 invoked by uid 500); 7 Nov 2005 04:07:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36204 invoked by uid 99); 7 Nov 2005 04:07:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 20:07:24 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Nov 2005 20:07:17 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jA73vJxI030224;
	Mon, 7 Nov 2005 03:57:22 GMT
Message-ID: <008501c5e351$2589a140$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
Cc: <gasi@artentis.com>
References: <436CEA37.7090000@artentis.com>
Subject: Re: lucene and jsp
Date: Mon, 7 Nov 2005 09:40:06 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should check your logs on server side(on tomcat). I am sure some
exception is generated over there.


--Manoj

----- Original Message ----- 
From: "Gaston" <gasi@artentis.com>
To: <java-user@lucene.apache.org>
Sent: Saturday, November 05, 2005 10:51 PM
Subject: lucene and jsp


> Hallo,
>
> I know my topic is a little bit out of topic. but I am trying and trying
> to do something without no effort. I have a very simple application.I
> tested this application on my homepc with tomcat 3.3.2 and it worked.
> But on the the server off my webhosting agency it does not work. I
> putted the jar in the right directory and so on and so I have no idea
> why it doesn't work. Perhaps somebody out of you had the same problem
> and has a hint for my, what the reason for my failure can be.
>
> My code:
> <%@ page import="java.io.*,javax.servlet.*,
>
javax.servlet.http.*,org.apache.lucene.analysis.Analyzer,org.apache.lucene.a
nalysis.standard.StandardAnalyzer,org.apache.lucene.document.Document,org.ap
ache.lucene.document.Field,org.apache.lucene.index.IndexWriter"
> %>
> <%
>
>
>
>         try
>         {
>         String[] text = { "Indexierung mit Lucene", "Suche mit Lucene" };
>         String indexDir = application.getRealPath("/")+"myindex";
>         Analyzer analyzer = new StandardAnalyzer();
>         boolean create = true;
>
>         IndexWriter writer = new IndexWriter(indexDir, analyzer, create);
>         out.println(indexDir);
>         for (int i = 0; i < text.length; i++)
>         {
>             Document document = new Document();
>             document.add(Field.Text("textfeld", text[i]));
>             writer.addDocument(document);
>             out.println("Es klappt");
>         }
>         writer.close();
>         out.println("hallozwei");
>         }
>         catch(IOException e)
>         {
>         e.printStackTrace();
>         }
>         catch(Exception e)
>         {
>         e.printStackTrace();
>         }
>
> %>
>
> Error:
>
> http://gasizwei.meintestaccount.de:9080/gagamodi/indexaufserver.jsp
>
>
> Thank you in advance.
>
> Greetings
>
> Gaston
>
> P.S. I asked this in j2ee forums but the answers I get didn't help me.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 18:43:09 2005
Return-Path: <java-user-return-17361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52473 invoked from network); 7 Nov 2005 18:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 18:43:09 -0000
Received: (qmail 86705 invoked by uid 500); 7 Nov 2005 18:43:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86448 invoked by uid 500); 7 Nov 2005 18:43:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86430 invoked by uid 99); 7 Nov 2005 18:43:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 10:43:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.6.101.41] (HELO rogue.ncsl.nist.gov) (129.6.101.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 10:42:56 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id jA7IgeSs003219
	for <java-user@lucene.apache.org>; Mon, 7 Nov 2005 13:42:40 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Question about scoring normalisation
References: <1404.1131306197@www54.gmx.net>
Date: Mon, 07 Nov 2005 13:42:40 -0500
In-Reply-To: <1404.1131306197@www54.gmx.net> (Karl Koch's message of "Sun, 6
	Nov 2005 20:43:17 +0100 (MET)")
Message-ID: <9cf3bm8e1un.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110004 (No Gnus v0.4) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Karl Koch" <TheRanger@gmx.net> writes:

> I am not sure if I know exactly what pivoted normalisation is. I can tell
> you what I do, in the meantime I will have a look to your paper and I hope
> that we can discuss this issue further.

Sort answer on pivoted document length normalization.  You'll notice
that the Lucene scoring function includes a normalization for document
length.  This is because, in general, just using tf and idf will
result in a bias towards long documents, which contain more terms.

The standard cosine normalization controls for this, but too
much... if you plot the probability of retrieval against the
probability of relevance (using a test collection), you can see that
cosine is too biased towards short documents.

Pivoted normalization learns a scaling factor to correct for this.  In
the original formulation (Sighal et al, SIGIR '96) the length was
based on words in the document, but later the byte length was used.

Occasionally, you will see people blindly using pdl constants from
some paper in their own collection without actually trying to measure
what they should be.  This is likely to screw things up.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 21:08:24 2005
Return-Path: <java-user-return-17362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28519 invoked from network); 7 Nov 2005 21:08:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 21:08:23 -0000
Received: (qmail 84417 invoked by uid 500); 7 Nov 2005 21:08:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84225 invoked by uid 500); 7 Nov 2005 21:08:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84214 invoked by uid 99); 7 Nov 2005 21:08:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:08:16 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aseldawy@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:08:09 -0800
Received: by xproxy.gmail.com with SMTP id s8so497964wxc
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 13:07:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=bjXgtrDNGIq5DPnWtRw3HV/HxJHLwYPh6+IqTDeEx0TJaZ85hmFGBcti5pFU6222tBIL840DtGxAmUZujFv51yhPP1vHE+j80HL2XMpT/qE4y2phH5h5/3thOBJivw8lDdUiJKnlMv98SE83j54k+fVSQfURG1PRCjQ3sEb7iao=
Received: by 10.70.97.13 with SMTP id u13mr4964601wxb;
        Mon, 07 Nov 2005 13:07:54 -0800 (PST)
Received: by 10.70.23.14 with HTTP; Mon, 7 Nov 2005 13:07:54 -0800 (PST)
Message-ID: <e5de07e90511071307t21fabdacn8adc4426f8359cab@mail.gmail.com>
Date: Mon, 7 Nov 2005 23:07:54 +0200
From: Ahmed El-dawy <aseldawy@gmail.com>
Reply-To: aseldawy@yahoo.com
To: java-user@lucene.apache.org
Subject: Re: Multiple terms with the same position in PhraseQuery
In-Reply-To: <p06230918bf945d186fdf@192.168.1.42>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <e5de07e90511040045l63a54de7v491ad6168d7ae65f@mail.gmail.com>
	 <36F88F1E-7449-4DD5-B9C7-D06011CCADAF@ehatchersolutions.com>
	 <200511041945.02428@danielnaber.de>
	 <35CFDB73-73D1-4088-9278-A74186C9A059@ehatchersolutions.com>
	 <e5de07e90511041335m7cdfc552v2786fa21090ac01a@mail.gmail.com>
	 <Pine.LNX.4.58.0511041459220.19516@hal.rescomp.berkeley.edu>
	 <e5de07e90511042008x5a96585et1968ed1d51da6fdf@mail.gmail.com>
	 <F8369D16-87A1-44BB-90AF-49657E2DC2BC@ehatchersolutions.com>
	 <e5de07e90511061313l2f637b4fk5190da55d97d64f7@mail.gmail.com>
	 <p06230918bf945d186fdf@192.168.1.42>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks very much all of you
I have just checked out the SVN version using SmartSVN and it worked
very fine. I will investigate it more carefully as I can use new
features in it.
I see that PhrasePrefixQuery is becoming @deprecated. Good! It made
many problems when I tried to use it. I have switched to
MultiPhraseQuery.

Thanks again

On 11/7/05, Ken Krugler <kkrugler_lists@transpac.com> wrote:
> >I have used the PhrasePrefixQuery but it has some problems. It
> >sometimes throw an exception (OperationNotAllowed) when it is added to
> >a boolean query with required flag set. Also it sometimes throws a
> >null pointer exception and I don't know why.
> >   I am trying to get the latest version (from SVN) but I can't do it.
> >I need your help. How can I checkout the project?
> >   I use eclipse and it asks me for these information
>
> Subclipse is the Eclipse plug-in for Subversion. Though I've found
> that things work best if I:
>
> a. Use the command line or a client like SmartSVN to get the project
> files - and I don't put them into the Eclipse Workspace directory.
>
> b. Then launch Eclipse and create a new Java project, importing the
> files from the external (SVN-controlled) location.
>
> -- Ken
> --
> Ken Krugler
> Krugle, Inc.
> +1 530-470-9200
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
regards,
Ahmed Saad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 21:09:41 2005
Return-Path: <java-user-return-17363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29307 invoked from network); 7 Nov 2005 21:09:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 21:09:40 -0000
Received: (qmail 86426 invoked by uid 500); 7 Nov 2005 21:09:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86375 invoked by uid 500); 7 Nov 2005 21:09:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86353 invoked by uid 99); 7 Nov 2005 21:09:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:09:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.h.funk@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:09:27 -0800
Received: by wproxy.gmail.com with SMTP id i21so416265wra
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 13:09:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references;
        b=sBLxsC3FjEa1hYX0wqatWaAW82GZMu40sww2sNurSpNgiCqeVP2bJD4yg2eqUaXYXeaQY6YcVQI9dd/bv7Y7TxAqXlfONwCi50KAOm2XxKRdFy3IuFxnEB3J+eWlYQrPVzWw5MWflXmwyB30xXU45n4XOqCjvLIB86beE39Od44=
Received: by 10.54.126.10 with SMTP id y10mr1638619wrc;
        Mon, 07 Nov 2005 13:09:12 -0800 (PST)
Received: by 10.54.145.12 with HTTP; Mon, 7 Nov 2005 13:09:12 -0800 (PST)
Message-ID: <fb81d4720511071309x3d042d0aw60becbcf434775f4@mail.gmail.com>
Date: Mon, 7 Nov 2005 16:09:12 -0500
From: Dan Funk <dan@danandtamara.com>
Sender: daniel.h.funk@gmail.com
To: java-user@lucene.apache.org
Subject: Re: I Need System Design Suggestion. Please.
In-Reply-To: <20051105075233.5930.qmail@web36315.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8337_17389466.1131397752931"
References: <20051105075233.5930.qmail@web36315.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8337_17389466.1131397752931
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I've run through exactly the same train of thought. Php is an efficient and
effective web development language - Java provides excellent libraries for
developing powerful business logic layer. Wouldn't it be nice to couple the
two together? The answer is no, it would suck. You end up with some cluster
of PHP, Java, XML configuration files, and then on top of it JavaScript and
css and whatizit. It's a long dark road that ends in a big pile of deserted
projects no one wants to lay claim to.

Doing the right thing requires that you learn to use the right tools. I'd
say if you are committed to using Lucene and Hibernate, you should say the
course and learn how to develop servlets. If you want to develop in a LAMP
framework, then find tools that will allow for object/relational mappings
and full text indexing within that framework. If you suddenly look up from
your code to discover no one else seem to be trying what your trying, you
better be working on a shockingly brilliant idea, otherwise your doing
something wrong.

On 11/5/05, Victor Lee <victor_emailbox@yahoo.com> wrote:
>
> Hi,
> I am going to use mysql db to store some data, use
> lucene(java) to index these data, and use Hibernate to
> map them. I was originally thinking of using PHP to
> input the data the visitors enter into the mysql db.
> But if I use PHP and use mysql statement directly, it
> may defeat the part of the purpose of Hibernate which
> is to make the system db portable. But I don't want to
> use PEAR. And I don't want to learn Java Servlet.
>
> So I am thinking of using PHP, then PHP-Java-Bridge,
> then Hibernate to map the data into mysql db. But it
> sounds kinda of stupid because it seems that I added a
> layer of complexity without a reason. Using Servlet
> and Hibernate, or PHP and mysql seems to be faster,
> but I can't use Hibernate to cover the whole mysql db
> anymore.
>
> What do you think? Any suggestion? I am also looking
> for performance and how well the system scales.
>
> Many thanks.
>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8337_17389466.1131397752931--

From java-user-return-17364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 21:39:07 2005
Return-Path: <java-user-return-17364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44797 invoked from network); 7 Nov 2005 21:39:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 21:39:06 -0000
Received: (qmail 36653 invoked by uid 500); 7 Nov 2005 21:39:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36632 invoked by uid 500); 7 Nov 2005 21:39:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36620 invoked by uid 99); 7 Nov 2005 21:39:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:39:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 13:38:54 -0800
Received: by xproxy.gmail.com with SMTP id s7so547056wxc
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 13:38:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=eW7qUnD1KyyukV+GX+h8lINuTYzP7nSnICb9H9g8qt2CdxCNmkS1ipZW7hchnfw+HSUk2jIzo9Rx+qmyiWhv60NHL6Q9LB+Yfwn8us3FtKVxR6JuZpQ+O2A3kaQqtQe/zL4NuzRU439cCfiej2feAL53Aoc+JP5NusURwd59Aa4=
Received: by 10.65.51.6 with SMTP id d6mr5745240qbk;
        Mon, 07 Nov 2005 13:38:39 -0800 (PST)
Received: by 10.65.93.10 with HTTP; Mon, 7 Nov 2005 13:38:39 -0800 (PST)
Message-ID: <6e3ae6310511071338p5cbf8678jc19d471cea949bdb@mail.gmail.com>
Date: Mon, 7 Nov 2005 13:38:39 -0800
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: I Need System Design Suggestion. Please.
In-Reply-To: <fb81d4720511071309x3d042d0aw60becbcf434775f4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20051105075233.5930.qmail@web36315.mail.mud.yahoo.com>
	 <fb81d4720511071309x3d042d0aw60becbcf434775f4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think DBSight can help.
It doesn't need you to know a lot of Java, although it does require
you setup an application server, like Tomcat, and deploy the
application. But then everything can be done by web UI.

Chris

On 11/7/05, Dan Funk <dan@danandtamara.com> wrote:
> I've run through exactly the same train of thought. Php is an efficient a=
nd
> effective web development language - Java provides excellent libraries fo=
r
> developing powerful business logic layer. Wouldn't it be nice to couple t=
he
> two together? The answer is no, it would suck. You end up with some clust=
er
> of PHP, Java, XML configuration files, and then on top of it JavaScript a=
nd
> css and whatizit. It's a long dark road that ends in a big pile of desert=
ed
> projects no one wants to lay claim to.
>
> Doing the right thing requires that you learn to use the right tools. I'd
> say if you are committed to using Lucene and Hibernate, you should say th=
e
> course and learn how to develop servlets. If you want to develop in a LAM=
P
> framework, then find tools that will allow for object/relational mappings
> and full text indexing within that framework. If you suddenly look up fro=
m
> your code to discover no one else seem to be trying what your trying, you
> better be working on a shockingly brilliant idea, otherwise your doing
> something wrong.
>
> On 11/5/05, Victor Lee <victor_emailbox@yahoo.com> wrote:
> >
> > Hi,
> > I am going to use mysql db to store some data, use
> > lucene(java) to index these data, and use Hibernate to
> > map them. I was originally thinking of using PHP to
> > input the data the visitors enter into the mysql db.
> > But if I use PHP and use mysql statement directly, it
> > may defeat the part of the purpose of Hibernate which
> > is to make the system db portable. But I don't want to
> > use PEAR. And I don't want to learn Java Servlet.
> >
> > So I am thinking of using PHP, then PHP-Java-Bridge,
> > then Hibernate to map the data into mysql db. But it
> > sounds kinda of stupid because it seems that I added a
> > layer of complexity without a reason. Using Servlet
> > and Hibernate, or PHP and mysql seems to be faster,
> > but I can't use Hibernate to cover the whole mysql db
> > anymore.
> >
> > What do you think? Any suggestion? I am also looking
> > for performance and how well the system scales.
> >
> > Many thanks.
> >
> >
> >
> >
> > __________________________________
> > Yahoo! Mail - PC Magazine Editors' Choice 2005
> > http://mail.yahoo.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 22:42:49 2005
Return-Path: <java-user-return-17365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73487 invoked from network); 7 Nov 2005 22:42:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 22:42:49 -0000
Received: (qmail 14808 invoked by uid 500); 7 Nov 2005 22:42:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14452 invoked by uid 500); 7 Nov 2005 22:42:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14440 invoked by uid 99); 7 Nov 2005 22:42:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 14:42:43 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 14:42:36 -0800
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 543ED20068A5
	for <java-user@lucene.apache.org>; Mon,  7 Nov 2005 14:42:20 -0800 (PST)
Message-ID: <436FD88C.6060703@oconeco.com>
Date: Mon, 07 Nov 2005 17:43:24 -0500
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
References: <4356CB59.2040409@oconeco.com> <200510200109.21473.paul.elschot@xs4all.nl> <436BEF79.3000303@oconeco.com> <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com>
In-Reply-To: <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On 4 Nov 2005, at 18:32, Sean O'Connor wrote:
>
>> I'm posting this primarily hoping to give back a tiny bit to a very  
>> helpful community. More likely however, someone else will open my  
>> eyes to an easier approach than what I outline below...
>>
>> I've come up with a very ugly conversion approach from regular  Query 
>> objects into SpanQuery objects. I then use the converted  SpanQuery 
>> to get span positions (currently both token #, and start/ end 
>> position). In effect, I have highlighting for simple queries  with a 
>> very inefficient approach (yea for me!).
>
>
> As you and I have talked about on a couple of face to face occasions,  
> this is the approach I am taking on a current consulting project.  My  
> conversion code is slightly different than yours in that I don't  
> rewrite the query, but translate it as-is into comparable SpanQuery  
> subclasses - and this is because I have a RegexQuery and  
> SpanRegexQuery that are comparable.  But rewriting is a good  
> pragmatic way to go for general query types that don't have a  
> comparable SpanQuery subclass.
>
>> The goal(s) I am trying to accomplish is rather specific I think,  so 
>> I imagine the use of my hacking is rather limited (i.e. just to  me).
>>
>> At the moment my code:
>>
>>    * parses the search text (i.e. user entered query)
>
>
> Are you using QueryParser?  If so, you'll also want to account for  
> BooleanQuery, recursively.


I am using QueryParser. So far I have taken the easy route, and just 
deal with 'Or' BooleanQueries. The additional aspects of Boolean query 
(required and prohibited) should not be much of a stretch.

>
>
>>    * rewrites the resulting query to expand wildcards and such against
>>      index
>>    * calls a recursive conversion function with very basic conversion
>>      understanding
>>          o TermQuery -> SpanTerm
>>          o PhraseQuery -> SpanNear
>>          o others in progress as time permits
>>
>> Currently, I only process simple query strings like:
>> "blue green yellow" => SpanOrQuery
>> "luce* acti*" => SpanOrQuery with wild cards expanded
>>    e.g.: lucene lucent action acting ... all or'ed together in a  
>> braindead fashion
>> "luce* acti* \"book rocks\"" => SpanOrQuery combining SpanTerms and  
>> SpanNear (no slop)
>>    er, hopefully you get the picture, I'm not up to showing a  vector 
>> of this one... :-)
>>
>> I would be happy to discuss my approach if there is anyone  
>> interested. I assume I am pretty much alone in finding this  
>> ineffecient approach useful. For me, it is the functionality that  
>> overrides perfomance issues.
>
>
> What is inefficient about it?   The rewrite stuff is the main  
> difference, and perhaps that is the issue you're encountering.  Where  
> do you see the performance issues?
> Converting a query, for me at least, is fast - perhaps because there  
> is no rewriting involved.


Good question. I haven't done any performance testing, nor am I seeing 
any performance problems with lucene. I just assumed that my approach 
was adding an extra (unoptimized) layer. So for now, forgot I mentioned 
that :-).

>> I have something which can take user search strings and do hit  
>> highlighting for the exact hit found. This is really only useful  for 
>> "termA near 'some phrase'" at the moment, but might become more  
>> advanced in the next 2-3 months.
>
>
> I'm basically implementing this very thing.  I will likely be  
> enhancing the contrib/highlighter code in the next month to use  
> SpanQuery for highlighting, as well as adding field-aware highlighting.
>
Excellent. I will keep an eye out for it. Thanks for the heads up.

>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


Sean



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 07 23:04:35 2005
Return-Path: <java-user-return-17366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84607 invoked from network); 7 Nov 2005 23:04:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Nov 2005 23:04:35 -0000
Received: (qmail 48062 invoked by uid 500); 7 Nov 2005 23:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48043 invoked by uid 500); 7 Nov 2005 23:04:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48032 invoked by uid 99); 7 Nov 2005 23:04:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 15:04:30 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 15:04:24 -0800
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 3263420068AF
	for <java-user@lucene.apache.org>; Mon,  7 Nov 2005 15:04:09 -0800 (PST)
Message-ID: <436FDDA9.4080802@oconeco.com>
Date: Mon, 07 Nov 2005 18:05:13 -0500
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
References: <4356CB59.2040409@oconeco.com> <436BEF79.3000303@oconeco.com> <0696B17F-B90A-4B67-AF58-E9A0150FC14B@ehatchersolutions.com> <200511051650.21855.paul.elschot@xs4all.nl>
In-Reply-To: <200511051650.21855.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:

                  <snip>

>>>The goal(s) I am trying to accomplish is rather specific I think,  
>>>so I imagine the use of my hacking is rather limited (i.e. just to  
>>>me).
>>>
>>>At the moment my code:
>>>
>>>   * parses the search text (i.e. user entered query)
>>>      
>>>
>>Are you using QueryParser?  If so, you'll also want to account for  
>>BooleanQuery, recursively.
>>    
>>
>
>The surround parser can create both boolean queries and span queries.
>
>Sean, as you seem to prefer not to use the surround syntax, do you think
>this syntax could be improved somehow? I recall trying to make it simpler,
>but when I made it I was not able to do so.
>  
>
Paul, I think the surround syntax is very logical, and looks quite 
powerful. From my perspective, it is the right fit syntax for the job. 
My main issue was probably lack of understanding. I decided to stick 
with the tool I've gained a little understanding over now.

When I looked at using surround queries, I believe I got stuck finding 
access to the spans information. I was pressed for time, and only looked 
it over for a couple of hours. A good portion of that was setup time. I 
probably missed some of the more obvious points, so I will go back and 
look over the surround code to see how unencumbered by the thought 
process I was when I decided to reinvent my wheel.

>Also, PhraseQuery is more efficient than a combination of SpanTermQuery,
>SpanOrQuery and SpanNearQuery, so perhaps PhraseQuery should have
>a getSpans() method so it could be used as a SpanQuery, too.
>  
>
This intrigues me. I know I don't understand Lucene past the basics, so 
I'm a little lost on the implications of your suggestion.
My impression was (and still is) that PhraseQuery is a significantly 
different implementation from the SpanQuery family. Is it rather 
straightforward to implement getSpans() for a PhraseQuery? Granted, I 
seem to have missed that Surround is based on SpanQueries, so it looks 
like I need to spend some more time getting my head straight on these 
topics.

>Regards,
>Paul Elschot
>  
>
Thanks for your comments,

Sean



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 05:03:20 2005
Return-Path: <java-user-return-17367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19538 invoked from network); 8 Nov 2005 05:03:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 05:03:19 -0000
Received: (qmail 35709 invoked by uid 500); 8 Nov 2005 05:03:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35457 invoked by uid 500); 8 Nov 2005 05:03:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35408 invoked by uid 99); 8 Nov 2005 05:03:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 21:03:12 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Nov 2005 21:03:06 -0800
Received: (qmail 7102 invoked by uid 60001); 8 Nov 2005 05:02:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=aseqrJ7A+cz2X6B1tkLneEBPG5wo5I4IdOSuME1dVnzYdtdrI6zwE1bFu0zmjXhycKFhdrHq+/2g3ShvUlxRTKtqJp7iRg6b6jPBQzCfMCaCOMQIrKGrjgffUEr4mouDs8QFtUBNor9XNcQ2T7vNdP58D4Nf/GCyhzFDUDtaD5E=  ;
Message-ID: <20051108050251.7100.qmail@web50311.mail.yahoo.com>
Received: from [69.201.142.21] by web50311.mail.yahoo.com via HTTP; Mon, 07 Nov 2005 21:02:50 PST
Date: Mon, 7 Nov 2005 21:02:50 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Lucene in Action in Korean
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

If there are any Koreans (or others dying to read a book about Lucene
in Korean), there is now a Korean version of Lucene in Action -
http://www.lucenebook.com/blog/announcements/2005/11/07/Lucene_in_Action_Korean_translation.html

Thanks Cheolgoo, Seongjin, and Moonha + the publisher!

Over and out.

Otis

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/ -- Find it. Tag it. Share it.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 05:17:44 2005
Return-Path: <java-user-return-17368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26919 invoked from network); 8 Nov 2005 05:17:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 05:17:44 -0000
Received: (qmail 44612 invoked by uid 500); 8 Nov 2005 05:17:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44586 invoked by uid 500); 8 Nov 2005 05:17:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44575 invoked by uid 99); 8 Nov 2005 05:17:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 21:17:37 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 21:17:30 -0800
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id jA85HB8V022678
	for <java-user@lucene.apache.org>; Tue, 8 Nov 2005 14:17:12 +0900
Message-ID: <000701c5e424$a630d1a0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <20051108050251.7100.qmail@web50311.mail.yahoo.com>
Subject: Re: Lucene in Action in Korean
Date: Tue, 8 Nov 2005 14:24:09 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

DQoNCkNvbmdyYXR1bGF0aW9uICEgDQoNCg0KWW91bmdobw0KDQotLS0tLSBPcmlnaW5hbCBNZXNz
YWdlIC0tLS0tIA0KRnJvbTogIk90aXMgR29zcG9kbmV0aWMiIDxvdGlzX2dvc3BvZG5ldGljQHlh
aG9vLmNvbT4NClRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KU2VudDogVHVlc2Rh
eSwgTm92ZW1iZXIgMDgsIDIwMDUgMjowMiBQTQ0KU3ViamVjdDogTHVjZW5lIGluIEFjdGlvbiBp
biBLb3JlYW4NCg0KDQo+IEhlbGxvLA0KPiANCj4gSWYgdGhlcmUgYXJlIGFueSBLb3JlYW5zIChv
ciBvdGhlcnMgZHlpbmcgdG8gcmVhZCBhIGJvb2sgYWJvdXQgTHVjZW5lDQo+IGluIEtvcmVhbiks
IHRoZXJlIGlzIG5vdyBhIEtvcmVhbiB2ZXJzaW9uIG9mIEx1Y2VuZSBpbiBBY3Rpb24gLQ0KPiBo
dHRwOi8vd3d3Lmx1Y2VuZWJvb2suY29tL2Jsb2cvYW5ub3VuY2VtZW50cy8yMDA1LzExLzA3L0x1
Y2VuZV9pbl9BY3Rpb25fS29yZWFuX3RyYW5zbGF0aW9uLmh0bWwNCj4gDQo+IFRoYW5rcyBDaGVv
bGdvbywgU2VvbmdqaW4sIGFuZCBNb29uaGEgKyB0aGUgcHVibGlzaGVyIQ0KPiANCj4gT3ZlciBh
bmQgb3V0Lg0KPiANCj4gT3Rpcw0KPiANCj4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4g
LiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4NCj4gU2ltcHkgLS0gaHR0cDovL3d3dy5zaW1w
eS5jb20vIC0tIEZpbmQgaXQuIFRhZyBpdC4gU2hhcmUgaXQuDQo+IA0KPiAtLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0N
Cj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5h
cGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1o
ZWxwQGx1Y2VuZS5hcGFjaGUub3Jn




From java-user-return-17369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 05:49:51 2005
Return-Path: <java-user-return-17369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40970 invoked from network); 8 Nov 2005 05:49:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 05:49:51 -0000
Received: (qmail 77600 invoked by uid 500); 8 Nov 2005 05:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77580 invoked by uid 500); 8 Nov 2005 05:49:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77569 invoked by uid 99); 8 Nov 2005 05:49:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 21:49:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 21:49:39 -0800
Received: by zproxy.gmail.com with SMTP id m7so478336nzf
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 21:49:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DGD54twSI5tTPkd+UTUreAtuuZrNK6KqTenbqObGrEzKNWOB6yLZSktXtrelv7812b2xfXtBGcsGKUlvnDhnByzFyXPVextGcd6Kv2dhr0kIxNDyl/YwteTOwn+12QE8Kky0kL2J7xH0jnpbrzXGsrksvtdmgvXm8SB8+B8sirE=
Received: by 10.65.215.4 with SMTP id s4mr6243401qbq;
        Mon, 07 Nov 2005 21:49:24 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Mon, 7 Nov 2005 21:49:24 -0800 (PST)
Message-ID: <48b708490511072149j4803f263p6a8650d01425fef9@mail.gmail.com>
Date: Tue, 8 Nov 2005 14:49:24 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene in Action in Korean
In-Reply-To: <20051108050251.7100.qmail@web50311.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20051108050251.7100.qmail@web50311.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Thanks for your announcement in lucenebook.com and java-user list!

But the name of our translator Moonho Lee's name is misspelled :) 'ha'
should be corrected to 'ho'.

Thanks again!

On 11/8/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Hello,
>
> If there are any Koreans (or others dying to read a book about Lucene
> in Korean), there is now a Korean version of Lucene in Action -
> http://www.lucenebook.com/blog/announcements/2005/11/07/Lucene_in_Action_=
Korean_translation.html
>
> Thanks Cheolgoo, Seongjin, and Moonha + the publisher!
>
> Over and out.
>
> Otis
>
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/ -- Find it. Tag it. Share it.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 07:06:48 2005
Return-Path: <java-user-return-17370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74490 invoked from network); 8 Nov 2005 07:06:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 07:06:47 -0000
Received: (qmail 36020 invoked by uid 500); 8 Nov 2005 07:06:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35993 invoked by uid 500); 8 Nov 2005 07:06:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35979 invoked by uid 99); 8 Nov 2005 07:06:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:06:40 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:06:33 -0800
Received: by zproxy.gmail.com with SMTP id z3so470394nzf
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 23:06:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=eWSx92u5vTGetKHQEhOVhl5o7EEynE9TTphei1egFEIwYfRdUmD5lWb6YKJGg7S9rYnGCcckTNUVGn4KTo/Sv0kxKBlqvLspmz2STrcK8nrA3C+yyMJHi48wMeFhRnebglbVYYPdqdzF41/3KVhWr83SPQHb1w0zqyLN8v2DGI4=
Received: by 10.65.193.17 with SMTP id v17mr6196886qbp;
        Mon, 07 Nov 2005 23:06:18 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Mon, 7 Nov 2005 23:06:18 -0800 (PST)
Message-ID: <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
Date: Tue, 8 Nov 2005 16:06:18 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org, Youngho Cho <youngho@nannet.co.kr>
Subject: Re: korean and lucene
In-Reply-To: <001401c5dab0$dd942520$0201a8c0@local>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <000501c5daa6$80abdba0$0201a8c0@local>
	 <000801c5daa9$33403020$0201a8c0@local>
	 <001401c5dab0$dd942520$0201a8c0@local>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sCgpJJ3ZlIGNyZWF0ZWQgYSBuZXcgSklSQSBpc3N1ZSB3aXRoIEtvcmVhbiBhbmFseXNp
cyB0aGF0ClN0YW5kYXJkQW5hbHl6ZXIgc3BsaXRzIG9uZSB3b3JkIGludG8gc2V2ZXJhbCB0b2tl
bnMgZWFjaCB3aXRoIG9uZQpjaGFyYWN0ZXIuIENhdXNlIEtvcmVhbiBpcyBub3QgYSBwaG9ub2dy
YW0sIG9uZSBjaGFyYWN0ZXIgaW4gS29yZWFuCmhhcyBhbG1vc3Qgbm8gbWVhbmluZyBhdCBhbGwu
IFNvIHdvcmQgaW4gS29yZWFuIHNob3VsZCBiZSBwcmVzZXJ2ZWQKbm90IGxpa2UgQ2hpbmVzZSBv
ciBKYXBhbmVzZS4KCkkndmUgYXR0YWNoZWQgYSBwYXRjaCB0byBTdGFuZGFyZFRva2VuaXplciB0
byBkbyB0aGlzIGFuZCBwYXNzZWQgdGhlCnRlc3QgY2FzZSBUZXN0U3RhbmRhcmRBbmFseXplcihh
bHNvIHBhdGNoZWQgdG8gdGVzdCBLb3JlYW4gd29yZHMpLgoKVGhhbmtzIQoKT24gMTAvMjcvMDUs
IFlvdW5naG8gQ2hvIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4gd3JvdGU6Cj4gSGVsbG8sCj4KPiBP
ayAsIEkndmUgYXR0YWNoZWQgbXkgdGVzdCBjb2RlIGZvciBLb3JlYW4gd2hpY2ggaXMgc2xpdGVs
eSBtb2RpZmllZCBLb2ppJ3MgY29kZS4KPgo+IEp1c3QgcHV0IGludG8gdGhlIGxpYS5hbmFseXNp
cy5pMThuIHBhY2thZ2UgYXQgTHVjZW5lSW5BY3Rpb24KPiBhbmQgcnVuIGFudC4KPgo+IEhvcGVs
eSBzb21lb25lIGlzIGhlbHBlZC4KPgo+IC0tLS0tLS0tIGJ1aWxkLnhtbCAgLS0tLS0tLS0tCj4K
PiAgIDx0YXJnZXQgbmFtZT0iSmFwYW5lc2VEZW1vIiBkZXBlbmRzPSJwcmVwYXJlIgo+ICAgICAg
ICAgICBkZXNjcmlwdGlvbj0iRXhhbXBsZXMgb2YgSmFuYW5lc2UgYW5hbHlzaXMiPgo+ICAgICA8
aW5mbz4KPgo+ICAgICAgIEphcGFuZXNlIFRlc3QuLi4KPgo+ICAgICA8L2luZm8+Cj4KPiAgICAg
PHJ1bi1tYWluIGNsYXNzPSJsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVzZURlbW8iLz4KPiAgIDwv
dGFyZ2V0Pgo+Cj4gICA8dGFyZ2V0IG5hbWU9IktvcmVhbkRlbW8iIGRlcGVuZHM9InByZXBhcmUi
Cj4gICAgICAgICAgIGRlc2NyaXB0aW9uPSJFeGFtcGxlcyBvZiBLb3JlYW4gYW5hbHlzaXMiPgo+
ICAgICA8aW5mbz4KPgo+ICAgICAgIEtvcmVhbiBUZXN0Li4uCj4KPiAgICAgPC9pbmZvPgo+Cj4g
ICAgIDxydW4tbWFpbiBjbGFzcz0ibGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtbyIvPgo+ICAg
PC90YXJnZXQ+Cj4KPgo+IFRoYW5rcywKPgo+IFlvdW5naG8KPgo+Cj4gLS0tLS0gT3JpZ2luYWwg
TWVzc2FnZSAtLS0tLQo+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmty
Pgo+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8eW91
bmdob0BuYW5uZXQuY28ua3I+Cj4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTI6
NDcgUE0KPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUKPgo+Cj4gPiBIZWxsbyBhbGwK
PiA+IFBsZXNlIGZvcmdpdmUgbWUgcGVydmlvdXMgbXkgc3R1cGlkIG1lc3NhZ2UKPiA+Cj4gPiAg
ICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4KPiA+ICAg
ICAgW2phdmFdIFvqsr1dIFvquLBdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5
c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXIKPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqy
veq4sAo+ID4gICAgICBbamF2YV0gcXVlcnkgPSAi6rK9IOq4sCIKPiA+Cj4gPiBJIGdvdCB0aGUg
Z29vZCByZXN1bHQuCj4gPgo+ID4gV2hlbiBJIGNvbXBpbGUgSSBqdXN0IHJlbmFtZSBvbGQgdmVy
c2lvbiBsdWNlbmUtMS40LjMuamFyIHRvIGx1Y2VuZS0xLjQuMy5qYXJfYmFrCj4gPiBhbmQgYWxs
IG5ldyAxLjkgbHVjZW5lLiBhbmQgYnVpbGQgdGhlIHRlc3QgcGFja2FnZS4KPiA+IEFmdGVyIEkg
cmVtb3ZlIGx1Y2VuZS0xLjQuMy5qYXJfYmFrIGluIGxpYiBkaXJlY3RvcnkgY29tcGxldGVseQo+
ID4gSSBnb3QgdGhlIGV4cGVjdGVkIHJlc3VsdCAhISEuCj4gPgo+ID4gSSBkb24ndCBrbm93IHRo
ZSByZWFzb24uLi4gKCBsb29rcyBsaWtlIG15IGZpbmdlciBtYWtlIHNvbWUgdHJvdWJsZS4uLiAp
Cj4gPgo+ID4gQW55d2F5IHRoYW5rcyBLb2ppIGFuZCBDaGVvbGdvbwo+ID4gSSB3aWxsIGZ1cnRo
ZXIgdGVzdCBub3cuLi4KPiA+Cj4gPiBZb3VuZ2hvCj4gPgo+ID4KPiA+Cj4gPgo+ID4gLS0tLS0g
T3JpZ2luYWwgTWVzc2FnZSAtLS0tLQo+ID4gRnJvbTogIllvdW5naG8gQ2hvIiA8eW91bmdob0Bu
YW5uZXQuY28ua3I+Cj4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4KPiA+IFNl
bnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDEyOjI4IFBNCj4gPiBTdWJqZWN0OiBSZTog
a29yZWFuIGFuZCBsdWNlbmUKPiA+Cj4gPgo+ID4gPiBIZWxsbyBLb2ppCj4gPiA+Cj4gPiA+IEhl
cmUgaXMgdGVzdCByZXN1bHQuCj4gPiA+IEphcGFuZXNlIGlzIE9LICEuCj4gPiA+IG1heWJlIGFu
dCBjbGVhbiAgZGlkIHNvbWUgZWZmZWN0Lgo+ID4gPgo+ID4gPiBBbnl3YXkgcGxlYXNlIHJlZmVy
IHRvIHRoZSByZXN1bHQgdXNpbmcgMS45Cj4gPiA+Cj4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcg
bGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vLi4uCj4gPiA+ICAgICAgW2phdmFdIFvjg6ld
IFvjg6FdIFvjg7NdIFvlsYtdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lz
LnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXIKPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g44Op
P+ODoeODs+Wxiwo+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wx
iwo+ID4gPgo+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFu
RGVtby4uLgo+ID4gPiAgICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5h
bmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyCj4gPiA+ICAgICAgW2phdmFdIHBocmFz
ZSA9IOqyvQo+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9Cj4gPiA+Cj4gPiA+ICAgICAgW2VjaG9d
IFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vLi4uCj4gPiA+ICAgICAgW2ph
dmFdIFvjg6ldIFvjg6Hjg7NdIFvjg7PlsYtdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5l
LmFuYWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDjg6k/
44Oh44Oz5bGLCj4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGL
Cj4gPiA+Cj4gPiA+ICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5E
ZW1vLi4uCj4gPiA+ICAgICAgW2phdmFdIFvqsr1dICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVj
ZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDq
sr0KPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSDqsr0KPiA+ID4KPiA+ID4gICAgICBbZWNob10g
UnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uCj4gPiA+ICAgICAgW2phdmFd
ICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJk
QW5hbHl6ZXIKPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK96riwCj4gPiA+ICAgICAgW2ph
dmFdIHF1ZXJ5ID0KPiA+ID4KPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMu
aTE4bi5Lb3JlYW5EZW1vLi4uCj4gPiA+ICAgICAgW2phdmFdIFvqsr3quLBdICBhbmFseXplciA9
IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiAgICAgIFtq
YXZhXSBwaHJhc2UgPSDqsr3quLAKPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSDqsr3quLAKPiA+
ID4KPiA+ID4KPiA+ID4gU3RhbmRhcmQgYW5hbHl6ZXIgZGlkbid0IHRva2VuaXplZCB0aGUgS29y
ZWFuIENoYXJhY3RlciBhdCBhbGwuLi4uCj4gPiA+Cj4gPiA+IFVnLi4uLiAgbG9vayBsaWtlCj4g
PiA+ICBodHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NAo+ID4g
PiAgZGlkbid0IGVmZmVjdCBhdCBhbGwgZm9yIEtvcmVhbi4KPiA+ID4KPiA+ID4KPiA+ID4gVGhh
bmtzCj4gPiA+Cj4gPiA+IFlvdW5naG8KPiA+ID4KPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2Fn
ZSAtLS0tLQo+ID4gPiBGcm9tOiAiS29qaSBTZWtpZ3VjaGkiIDxrb2ppLnNla2lndWNoaUBtNC5k
aW9uLm5lLmpwPgo+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3Vu
Z2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0
b2JlciAyNywgMjAwNSAxMTo0NyBBTQo+ID4gPiBTdWJqZWN0OiBSRToga29yZWFuIGFuZCBsdWNl
bmUKPiA+ID4KPiA+ID4KPiA+ID4gPiBIZWxsbyBZb3VuZ2hvLAo+ID4gPiA+Cj4gPiA+ID4gSSBk
b24ndCB1bmRlcnN0YW5kIHdoeSB5b3UgY291bGRuJ3QgZ2V0IGhpdHMgcmVzdWx0IGluIEphcGFu
ZXNlLAo+ID4gPiA+IHRob3VnaCwgeW91IGhhZCBiZXR0ZXIgY2hlY2sgd2h5IHRoZSBxdWVyeSB3
YXMgZW1wdHkgd2l0aCBLb3JlYW4gZGF0YToKPiA+ID4gPgo+ID4gPiA+ID4gRm9yIEtvcmVhbgo+
ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1v
Li4uCj4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0KPiA+ID4gPiA+ICAgICAgW2ph
dmFdIHF1ZXJ5ID0KPiA+ID4gPgo+ID4gPiA+IFRoZSBsYXN0IGxpbmUgc2hvdWxkIGJlIHF1ZXJ5
ID0g6rK9Cj4gPiA+ID4gdG8gZ2V0IGhpdHMgcmVzdWx0LiBDYW4geW91IGNoZWNrIHdoeSBTdGFu
ZGFyZEFuYWx5emVyCj4gPiA+ID4gcmVtb3ZlcyAi6rK9IiBkdXJpbmcgdG9rZW5pemluZz8KPiA+
ID4gPgo+ID4gPiA+IEtvamkKPiA+ID4gPgo+ID4gPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdl
LS0tLS0KPiA+ID4gPiA+IEZyb206IFlvdW5naG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5uZXQu
Y28ua3JdCj4gPiA+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSAxMTozNyBB
TQo+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiA+ID4gU3Vi
amVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+
IEhlbGxvIEtvamksCj4gPiA+ID4gPgo+ID4gPiA+ID4gVGhhbmtzIGZvciB5b3VyIGtpbmQgcmVw
bHkuCj4gPiA+ID4gPgo+ID4gPiA+ID4gWWVzLCBJIHVzZWQgUXVlcnlQYXJzZXIuIG5vcm1hbHkg
SSB1c2VkCj4gPiA+ID4gPiBRdWVyeSA9IFF1ZXJ5UGFyc2VyLnBhcnNlKCApIG1ldGhvZC4KPiA+
ID4gPiA+Cj4gPiA+ID4gPiBJIHB1dCB5b3VyIHNhbXBsZSBjb2RlIGludG8gbGlhLmFuYWx5c2lz
LmkxOG4gcGFja2FnZSBpbiBMdWNlbmVBY3Rpb24KPiA+ID4gPiA+IGFuZCBydW4gSmFwYW5lc2VE
ZW1vIHVzaW5nIDEuNCBhbmQgMS45Cj4gPiA+ID4gPgo+ID4gPiA+ID4gcmVzdWx0cyBhcmUKPiA+
ID4gPiA+Cj4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkph
cGFuZXNlRGVtby4uLgo+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/j
g6Hjg7PlsYsKPiA+ID4gPiA+Cj4gPiA+ID4gPiBJIGNhbid0IGdldCBoaXRzIHJlc3VsdC4KPiA+
ID4gPiA+Cj4gPiA+ID4gPiBGb3IgS29yZWFuCj4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5n
IGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4KPiA+ID4gPiA+ICAgICAgW2phdmFdIHBo
cmFzZSA9IOqyvQo+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQo+ID4gPiA+ID4KPiA+ID4g
PiA+IEkgY2FuJ3QgZ2V0IHF1ZXJ5IHBhcnNlIHJlc3VsdC4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBU
aGFua3MsCj4gPiA+ID4gPgo+ID4gPiA+ID4gWW91bmdobwo+ID4gPiA+ID4KPiA+ID4gPiA+Cj4g
PiA+ID4gPgo+ID4gPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLQo+ID4gPiA+ID4g
RnJvbTogIktvamkgU2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4KPiA+
ID4gPiA+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8
eW91bmdob0BuYW5uZXQuY28ua3I+Cj4gPiA+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAy
NywgMjAwNSA5OjQ4IEFNCj4gPiA+ID4gPiBTdWJqZWN0OiBSRToga29yZWFuIGFuZCBsdWNlbmUK
PiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gPiBIaSBZb3VuZ2hvLAo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiBXaXRoIHJlZ2FyZCB0byBKYXBhbmVzZSwgdXNpbmcgU3RhbmRhcmRBbmFseXpl
ciwKPiA+ID4gPiA+ID4gSSBjYW4gc2VhcmNoIGEgd29yZC9waGFzZS4KPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gRGlkIHlvdSB1c2UgUXVlcnlQYXJzZXI/IFN0YW5kYXJkQW5hbHl6ZXIgdG9rZW5p
emVzCj4gPiA+ID4gPiA+IENKSyBjaGFyYWN0ZXJzIGludG8gYSBzdHJlYW0gb2Ygc2luZ2xlIGNo
YXJhY3Rlci4KPiA+ID4gPiA+ID4gVXNlIFF1ZXJ5UGFyc2VyIHRvIGdldCBhIFBocmFzZVF1ZXJ5
IGFuZCBzZWFyY2ggdGhlIHF1ZXJ5Lgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBQbGVhc2Ugc2Vl
IHRoZSBmb2xsb3dpbmcgc2FtcGxlIGNvZGUuIFJlcGxhY2UgSmFwYW5lc2UKPiA+ID4gPiA+ID4g
ImNvbnRlbnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJwaHJhc2UiIHdpdGggS29yZWFuIGluIHRo
ZQo+ID4gPiA+ID4gcHJvZ3JhbSBhbmQgcnVuLgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiByZWdh
cmRzLAo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBLb2ppCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQo+ID4gPiA+ID4g
PiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFj
aGUubHVjZW5lLmFuYWx5c2lzLkFuYWx5emVyOwo+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcjsKPiA+ID4gPiA+ID4g
aW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcjsKPiA+ID4g
PiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnN0b3JlLkRpcmVjdG9yeTsKPiA+ID4gPiA+
ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnN0b3JlLlJBTURpcmVjdG9yeTsKPiA+ID4gPiA+
ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4V3JpdGVyOwo+ID4gPiA+ID4g
PiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRG9jdW1lbnQ7Cj4gPiA+ID4gPiA+
IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5kb2N1bWVudC5GaWVsZDsKPiA+ID4gPiA+ID4gaW1w
b3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5JbmRleFNlYXJjaGVyOwo+ID4gPiA+ID4gPiBp
bXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkhpdHM7Cj4gPiA+ID4gPiA+IGltcG9ydCBv
cmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guUXVlcnk7Cj4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBh
Y2hlLmx1Y2VuZS5xdWVyeVBhcnNlci5RdWVyeVBhcnNlcjsKPiA+ID4gPiA+ID4gaW1wb3J0IG9y
Zy5hcGFjaGUubHVjZW5lLnF1ZXJ5UGFyc2VyLlBhcnNlRXhjZXB0aW9uOwo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiBwdWJsaWMgY2xhc3MgSmFwYW5lc2VCeVN0YW5kYXJkQW5hbHl6ZXIgewo+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEZJRUxE
X0NPTlRFTlQgPSAiY29udGVudCI7Cj4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5h
bCBTdHJpbmdbXSBjb250ZW50cyA9IHsKPiA+ID4gPiA+ID4gIuadseS6rOOBq+OBr+OBiuOBhOOB
l+OBhOODqeODvOODoeODs+Wxi+OBjOOBn+OBj+OBleOCk+OBguOCiuOBvuOBmeOAgiIsCj4gPiA+
ID4gPiA+ICLljJfmtbfpgZPjgavjgoLjgYrjgYTjgZfjgYTjg6njg7zjg6Hjg7PlsYvjgYzjgYLj
gorjgb7jgZnjgIIiCj4gPiA+ID4gPiA+ICAgICB9Owo+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBz
dGF0aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLjg6njg7zjg6Hjg7PlsYsiOwo+ID4gPiA+ID4g
PiAgICAgLy9wcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgcGhyYXNlID0gIuWxiyI7Cj4gPiA+
ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBBbmFseXplciBhbmFseXplciA9IG51bGw7Cj4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ICAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbiggU3RyaW5nW10g
YXJncyApIHRocm93cwo+ID4gPiA+ID4gSU9FeGNlcHRpb24sIFBhcnNlRXhjZXB0aW9uIHsKPiA+
ID4gPiA+ID4gRGlyZWN0b3J5IGRpcmVjdG9yeSA9IG1ha2VJbmRleCgpOwo+ID4gPiA+ID4gPiBz
ZWFyY2goIGRpcmVjdG9yeSApOwo+ID4gPiA+ID4gPiBkaXJlY3RvcnkuY2xvc2UoKTsKPiA+ID4g
PiA+ID4gICAgIH0KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIEFu
YWx5emVyIGdldEFuYWx5emVyKCl7Cj4gPiA+ID4gPiA+IGlmKCBhbmFseXplciA9PSBudWxsICl7
Cj4gPiA+ID4gPiA+ICAgICBhbmFseXplciA9IG5ldyBTdGFuZGFyZEFuYWx5emVyKCk7Cj4gPiA+
ID4gPiA+ICAgICAvL2FuYWx5emVyID0gbmV3IENKS0FuYWx5emVyKCk7Cj4gPiA+ID4gPiA+IH0K
PiA+ID4gPiA+ID4gcmV0dXJuIGFuYWx5emVyOwo+ID4gPiA+ID4gPiAgICAgfQo+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgRGlyZWN0b3J5IG1ha2VJbmRleCgpIHRo
cm93cyBJT0V4Y2VwdGlvbiB7Cj4gPiA+ID4gPiA+IERpcmVjdG9yeSBkaXJlY3RvcnkgPSBuZXcg
UkFNRGlyZWN0b3J5KCk7Cj4gPiA+ID4gPiA+IEluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRl
eFdyaXRlciggZGlyZWN0b3J5LCBnZXRBbmFseXplcigpLCB0cnVlICk7Cj4gPiA+ID4gPiA+IGZv
ciggaW50IGkgPSAwOyBpIDwgY29udGVudHMubGVuZ3RoOyBpKysgKXsKPiA+ID4gPiA+ID4gICAg
IERvY3VtZW50IGRvYyA9IG5ldyBEb2N1bWVudCgpOwo+ID4gPiA+ID4gPiAgICAgZG9jLmFkZCgg
bmV3IEZpZWxkKCBGSUVMRF9DT05URU5ULCBjb250ZW50c1tpXSwKPiA+ID4gPiA+IEZpZWxkLlN0
b3JlLllFUywgRmllbGQuSW5kZXguVE9LRU5JWkVEICkgKTsKPiA+ID4gPiA+ID4gICAgIHdyaXRl
ci5hZGREb2N1bWVudCggZG9jICk7Cj4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gd3JpdGVyLmNs
b3NlKCk7Cj4gPiA+ID4gPiA+IHJldHVybiBkaXJlY3Rvcnk7Cj4gPiA+ID4gPiA+ICAgICB9Cj4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHNlYXJjaCggRGly
ZWN0b3J5IGRpcmVjdG9yeSApIHRocm93cwo+ID4gPiA+ID4gSU9FeGNlcHRpb24sIFBhcnNlRXhj
ZXB0aW9uIHsKPiA+ID4gPiA+ID4gSW5kZXhTZWFyY2hlciBzZWFyY2hlciA9IG5ldyBJbmRleFNl
YXJjaGVyKCBkaXJlY3RvcnkgKTsKPiA+ID4gPiA+ID4gUXVlcnlQYXJzZXIgcGFyc2VyID0gbmV3
IFF1ZXJ5UGFyc2VyKCBGSUVMRF9DT05URU5ULCBnZXRBbmFseXplcigpICk7Cj4gPiA+ID4gPiA+
IFF1ZXJ5IHF1ZXJ5ID0gcGFyc2VyLnBhcnNlKCBwaHJhc2UgKTsKPiA+ID4gPiA+ID4gU3lzdGVt
Lm91dC5wcmludGxuKCAicXVlcnkgPSAiICsgcXVlcnkgKTsKPiA+ID4gPiA+ID4gSGl0cyBoaXRz
ID0gc2VhcmNoZXIuc2VhcmNoKCBxdWVyeSApOwo+ID4gPiA+ID4gPiBmb3IoIGludCBpID0gMDsg
aSA8IGhpdHMubGVuZ3RoKCk7IGkrKyApCj4gPiA+ID4gPiA+ICAgICBTeXN0ZW0ub3V0LnByaW50
bG4oICJkb2MgPSAiICsgaGl0cy5kb2MoIGkgKS5nZXQoIEZJRUxEX0NPTlRFTlQgKSApOwo+ID4g
PiA+ID4gPiBzZWFyY2hlci5jbG9zZSgpOwo+ID4gPiA+ID4gPiAgICAgfQo+ID4gPiA+ID4gPiB9
Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0KPiA+ID4gPiA+ID4gPiBGcm9tOiBZb3VuZ2hvIENobyBbbWFpbHRvOnlvdW5naG9A
bmFubmV0LmNvLmtyXQo+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAy
MDA1IDg6MTggQU0KPiA+ID4gPiA+ID4gPiBUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3Jn
OyBDaGVvbGdvbyBLYW5nCj4gPiA+ID4gPiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVj
ZW5lCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEhlbGxvIENoZW9s
Z29vLAo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gTm93IEkgdXBkYXRlZCBteSBsdWNlbmUg
dmVyc2lvbiB0byAxLjkgZm9yIHVzaW5nIFN0YW5kYXJkQW5hbHl6ZXIKPiA+ID4gPiA+ID4gPiBm
b3IgS29yZWFuLgo+ID4gPiA+ID4gPiA+IEFuZCB0ZXN0ZWQgeW91ciBwYXRjaCB3aGljaCBpcyBh
bHJlYWR5IGFkb3B0ZWQgaW4gMS45Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBodHRwOi8v
aXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NAo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gQnV0IFN0aWxsIEkgaGF2ZSBubyBnb29kICByZXN1bHRzIHdpdGggS29yZWFu
IGNvbXBhcmUgd2l0aAo+ID4gPiA+ID4gQ0pLQW5hbHl6ZXIuCj4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiBTaW5nbGUgY2hhcmFjdGVyIGlzIGdvb2QgbWF0Y2ggYnV0IG1vcmUgdHdvIGNoYXJh
Y3RlciB3b3JkCj4gPiA+ID4gPiA+ID4gZG9lc24ndCBtYXRjaCBhdCBhbGwuCj4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiBBbSBJIHNvbWV0aGluZyBtaXNzaW5nIG9yIHN0aWxsIHRoZXJlIG5l
ZWQgc29tZSBtb3JlIHdvcmtzID8KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gVGhhbmtzLAo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gWW91bmdoby4KPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2Fn
ZSAtLS0tLQo+ID4gPiA+ID4gPiA+IEZyb206ICJDaGVvbGdvbyBLYW5nIiA8YXBwbGVyQGdtYWls
LmNvbT4KPiA+ID4gPiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJK
b2huIFdhbmciIDxqb2huLndhbmdAZ21haWwuY29tPgo+ID4gPiA+ID4gPiA+IFNlbnQ6IFR1ZXNk
YXksIE9jdG9iZXIgMDQsIDIwMDUgMTA6MTEgQU0KPiA+ID4gPiA+ID4gPiBTdWJqZWN0OiBSZTog
a29yZWFuIGFuZCBsdWNlbmUKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gPiBTdGFuZGFyZEFuYWx5emVyJ3MgSmF2YUNDIGJhc2VkIFN0YW5kYXJkVG9rZW5pemVyLmpq
IGNhbm5vdCByZWFkCj4gPiA+ID4gPiA+ID4gPiBLb3JlYW4gcGFydCBvZiBVbmljb2RlIGNoYXJh
Y3RlciBibG9ja3MuCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gWW91IHNob3VsZCAx
KSB1c2UgQ0pLQW5hbHl6ZXIgb3IgMikgYWRkIEtvcmVhbiBjaGFyYWN0ZXIKPiA+ID4gPiA+ID4g
PiA+IGJsb2NrKDB4QUMwMH4weEQ3QUYpIHRvIHRoZSBDSksgdG9rZW4gZGVmaW5pdGlvbiBvbiB0
aGUKPiA+ID4gPiA+ID4gPiA+IFN0YW5kYXJkVG9rZW5pemVyLmpqIGZpbGUuCj4gPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+ID4gSG9wZSBpdCBoZWxwcy4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gT24gMTAvNC8wNSwgSm9obiBXYW5nIDxqb2huLndh
bmdAZ21haWwuY29tPiB3cm90ZToKPiA+ID4gPiA+ID4gPiA+ID4gSGk6Cj4gPiA+ID4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+ID4gPiA+IFdlIGFyZSBydW5uaW5nIGludG8gcHJvYmxlbXMgd2l0aCBz
ZWFyY2hpbmcgb24ga29yZWFuCj4gPiA+ID4gPiA+ID4gZG9jdW1lbnRzLiBXZSBhcmUKPiA+ID4g
PiA+ID4gPiA+ID4gdXNpbmcgdGhlIFN0YW5kYXJkQW5hbHl6ZXIgYW5kIGV2ZXJ5dGhpbmcgd29y
a3Mgd2l0aCBDaGluZXNlCj4gPiA+ID4gPiA+ID4gYW5kIEphcGFuZXNlLgo+ID4gPiA+ID4gPiA+
ID4gPiBBcmUgdGhlcmUga25vd24gcHJvYmxlbXMgd2l0aCBLb3JlYW4gd2l0aCBMdWNlbmU/Cj4g
PiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IFRoYW5rcwo+ID4gPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ID4gPiAtSm9obgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAtLQo+
ID4gPiA+ID4gPiA+ID4gQ2hlb2xnb28KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+ID4gPiA+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+ID4g
PiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2Vu
ZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQo+ID4gPiA+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZh
LXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+ID4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcK
PiA+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+Cj4gPiA+ID4gLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4g
PiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2Vu
ZS5hcGFjaGUub3JnCj4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2
YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBG
b3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBh
Y2hlLm9yZwo+Cj4KPgoKCi0tCkNoZW9sZ29vCg==


From java-user-return-17371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 07:11:23 2005
Return-Path: <java-user-return-17371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76100 invoked from network); 8 Nov 2005 07:11:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 07:11:23 -0000
Received: (qmail 40326 invoked by uid 500); 8 Nov 2005 07:11:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39655 invoked by uid 500); 8 Nov 2005 07:11:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39644 invoked by uid 99); 8 Nov 2005 07:11:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:11:13 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:11:07 -0800
Received: by zproxy.gmail.com with SMTP id v1so475445nzb
        for <java-user@lucene.apache.org>; Mon, 07 Nov 2005 23:10:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=a7S+wUC2Dcbirp2UM8YyATtLidLoCJpQtz12gT8UVnTBMNND1L89tkObtMEzoQE0Azk5Pdk8ivszKTE5+oDmDS+KQ50EIDT5eQnFd6/c1JvccuAY3871sJ/n1jWPOXpNzYKT+lHNkMGhnZHuK3urXP7rGMGn5s8JvIj5JPcAyqs=
Received: by 10.65.20.5 with SMTP id x5mr6334861qbi;
        Mon, 07 Nov 2005 23:10:52 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Mon, 7 Nov 2005 23:10:51 -0800 (PST)
Message-ID: <48b708490511072310p150aa832k7042dde51dc4d8de@mail.gmail.com>
Date: Tue, 8 Nov 2005 16:10:51 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: korean and lucene
In-Reply-To: <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <000501c5daa6$80abdba0$0201a8c0@local>
	 <000801c5daa9$33403020$0201a8c0@local>
	 <001401c5dab0$dd942520$0201a8c0@local>
	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

T24gMTEvOC8wNSwgQ2hlb2xnb28gS2FuZyA8YXBwbGVyQGdtYWlsLmNvbT4gd3JvdGU6Cj4gSGVs
bG8sCj4KPiBJJ3ZlIGNyZWF0ZWQgYSBuZXcgSklSQSBpc3N1ZSB3aXRoIEtvcmVhbiBhbmFseXNp
cyB0aGF0Cj4gU3RhbmRhcmRBbmFseXplciBzcGxpdHMgb25lIHdvcmQgaW50byBzZXZlcmFsIHRv
a2VucyBlYWNoIHdpdGggb25lCj4gY2hhcmFjdGVyLiBDYXVzZSBLb3JlYW4gaXMgbm90IGEgcGhv
bm9ncmFtLCBvbmUgY2hhcmFjdGVyIGluIEtvcmVhbgoKU29ycnkgZm9yIGNvbmZ1c2lvbnMuIEkg
bWVhbiAnaWRlb2dyYXBoaWMgY2hhcmFjdGVycycgbm90ICdwaG9ub2dyYW0nLiA6KQoKPiBoYXMg
YWxtb3N0IG5vIG1lYW5pbmcgYXQgYWxsLiBTbyB3b3JkIGluIEtvcmVhbiBzaG91bGQgYmUgcHJl
c2VydmVkCj4gbm90IGxpa2UgQ2hpbmVzZSBvciBKYXBhbmVzZS4KPgo+IEkndmUgYXR0YWNoZWQg
YSBwYXRjaCB0byBTdGFuZGFyZFRva2VuaXplciB0byBkbyB0aGlzIGFuZCBwYXNzZWQgdGhlCj4g
dGVzdCBjYXNlIFRlc3RTdGFuZGFyZEFuYWx5emVyKGFsc28gcGF0Y2hlZCB0byB0ZXN0IEtvcmVh
biB3b3JkcykuCj4KPiBUaGFua3MhCj4KPiBPbiAxMC8yNy8wNSwgWW91bmdobyBDaG8gPHlvdW5n
aG9AbmFubmV0LmNvLmtyPiB3cm90ZToKPiA+IEhlbGxvLAo+ID4KPiA+IE9rICwgSSd2ZSBhdHRh
Y2hlZCBteSB0ZXN0IGNvZGUgZm9yIEtvcmVhbiB3aGljaCBpcyBzbGl0ZWx5IG1vZGlmaWVkIEtv
amkncyBjb2RlLgo+ID4KPiA+IEp1c3QgcHV0IGludG8gdGhlIGxpYS5hbmFseXNpcy5pMThuIHBh
Y2thZ2UgYXQgTHVjZW5lSW5BY3Rpb24KPiA+IGFuZCBydW4gYW50Lgo+ID4KPiA+IEhvcGVseSBz
b21lb25lIGlzIGhlbHBlZC4KPiA+Cj4gPiAtLS0tLS0tLSBidWlsZC54bWwgIC0tLS0tLS0tLQo+
ID4KPiA+ICAgPHRhcmdldCBuYW1lPSJKYXBhbmVzZURlbW8iIGRlcGVuZHM9InByZXBhcmUiCj4g
PiAgICAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGVzIG9mIEphbmFuZXNlIGFuYWx5c2lzIj4K
PiA+ICAgICA8aW5mbz4KPiA+Cj4gPiAgICAgICBKYXBhbmVzZSBUZXN0Li4uCj4gPgo+ID4gICAg
IDwvaW5mbz4KPiA+Cj4gPiAgICAgPHJ1bi1tYWluIGNsYXNzPSJsaWEuYW5hbHlzaXMuaTE4bi5K
YXBhbmVzZURlbW8iLz4KPiA+ICAgPC90YXJnZXQ+Cj4gPgo+ID4gICA8dGFyZ2V0IG5hbWU9Iktv
cmVhbkRlbW8iIGRlcGVuZHM9InByZXBhcmUiCj4gPiAgICAgICAgICAgZGVzY3JpcHRpb249IkV4
YW1wbGVzIG9mIEtvcmVhbiBhbmFseXNpcyI+Cj4gPiAgICAgPGluZm8+Cj4gPgo+ID4gICAgICAg
S29yZWFuIFRlc3QuLi4KPiA+Cj4gPiAgICAgPC9pbmZvPgo+ID4KPiA+ICAgICA8cnVuLW1haW4g
Y2xhc3M9ImxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8iLz4KPiA+ICAgPC90YXJnZXQ+Cj4g
Pgo+ID4KPiA+IFRoYW5rcywKPiA+Cj4gPiBZb3VuZ2hvCj4gPgo+ID4KPiA+IC0tLS0tIE9yaWdp
bmFsIE1lc3NhZ2UgLS0tLS0KPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0
LmNvLmtyPgo+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBD
aG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3
LCAyMDA1IDEyOjQ3IFBNCj4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUKPiA+Cj4g
Pgo+ID4gPiBIZWxsbyBhbGwKPiA+ID4gUGxlc2UgZm9yZ2l2ZSBtZSBwZXJ2aW91cyBteSBzdHVw
aWQgbWVzc2FnZQo+ID4gPgo+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5p
MThuLktvcmVhbkRlbW8uLi4KPiA+ID4gICAgICBbamF2YV0gW+qyvV0gW+q4sF0gIGFuYWx5emVy
ID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcgo+
ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLAKPiA+ID4gICAgICBbamF2YV0gcXVlcnkg
PSAi6rK9IOq4sCIKPiA+ID4KPiA+ID4gSSBnb3QgdGhlIGdvb2QgcmVzdWx0Lgo+ID4gPgo+ID4g
PiBXaGVuIEkgY29tcGlsZSBJIGp1c3QgcmVuYW1lIG9sZCB2ZXJzaW9uIGx1Y2VuZS0xLjQuMy5q
YXIgdG8gbHVjZW5lLTEuNC4zLmphcl9iYWsKPiA+ID4gYW5kIGFsbCBuZXcgMS45IGx1Y2VuZS4g
YW5kIGJ1aWxkIHRoZSB0ZXN0IHBhY2thZ2UuCj4gPiA+IEFmdGVyIEkgcmVtb3ZlIGx1Y2VuZS0x
LjQuMy5qYXJfYmFrIGluIGxpYiBkaXJlY3RvcnkgY29tcGxldGVseQo+ID4gPiBJIGdvdCB0aGUg
ZXhwZWN0ZWQgcmVzdWx0ICEhIS4KPiA+ID4KPiA+ID4gSSBkb24ndCBrbm93IHRoZSByZWFzb24u
Li4gKCBsb29rcyBsaWtlIG15IGZpbmdlciBtYWtlIHNvbWUgdHJvdWJsZS4uLiApCj4gPiA+Cj4g
PiA+IEFueXdheSB0aGFua3MgS29qaSBhbmQgQ2hlb2xnb28KPiA+ID4gSSB3aWxsIGZ1cnRoZXIg
dGVzdCBub3cuLi4KPiA+ID4KPiA+ID4gWW91bmdobwo+ID4gPgo+ID4gPgo+ID4gPgo+ID4gPgo+
ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tCj4gPiA+IEZyb206ICJZb3VuZ2hvIENo
byIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBh
Y2hlLm9yZz4KPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTI6MjggUE0K
PiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+Cj4gPiA+Cj4gPiA+ID4g
SGVsbG8gS29qaQo+ID4gPiA+Cj4gPiA+ID4gSGVyZSBpcyB0ZXN0IHJlc3VsdC4KPiA+ID4gPiBK
YXBhbmVzZSBpcyBPSyAhLgo+ID4gPiA+IG1heWJlIGFudCBjbGVhbiAgZGlkIHNvbWUgZWZmZWN0
Lgo+ID4gPiA+Cj4gPiA+ID4gQW55d2F5IHBsZWFzZSByZWZlciB0byB0aGUgcmVzdWx0IHVzaW5n
IDEuOQo+ID4gPiA+Cj4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4
bi5KYXBhbmVzZURlbW8uLi4KPiA+ID4gPiAgICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44OzXSBb
5bGLXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFu
ZGFyZEFuYWx5emVyCj4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wxiwo+
ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLCj4gPiA+ID4K
PiA+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4u
Lgo+ID4gPiA+ICAgICAgW2phdmFdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5
c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXIKPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2Ug
PSDqsr0KPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9Cj4gPiA+ID4KPiA+ID4gPiAgICAgIFtl
Y2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLgo+ID4gPiA+ICAg
ICAgW2phdmFdIFvjg6ldIFvjg6Hjg7NdIFvjg7PlsYtdICBhbmFseXplciA9IG9yZy5hcGFjaGUu
bHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiA+ICAgICAgW2phdmFdIHBocmFz
ZSA9IOODqT/jg6Hjg7PlsYsKPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644Op
P+ODoeODs+Wxiwo+ID4gPiA+Cj4gPiA+ID4gICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNp
cy5pMThuLktvcmVhbkRlbW8uLi4KPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSAgYW5hbHl6ZXIg
PSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXIKPiA+ID4gPiAgICAg
IFtqYXZhXSBwaHJhc2UgPSDqsr0KPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IOqyvQo+ID4g
PiA+Cj4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5E
ZW1vLi4uCj4gPiA+ID4gICAgICBbamF2YV0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUu
YW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcgo+ID4gPiA+ICAgICAgW2phdmFdIHBo
cmFzZSA9IOqyveq4sAo+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0KPiA+ID4gPgo+ID4gPiA+
ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4g
PiA+ICAgICAgW2phdmFdIFvqsr3quLBdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFu
YWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyveq4
sAo+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK96riwCj4gPiA+ID4KPiA+ID4gPgo+ID4g
PiA+IFN0YW5kYXJkIGFuYWx5emVyIGRpZG4ndCB0b2tlbml6ZWQgdGhlIEtvcmVhbiBDaGFyYWN0
ZXIgYXQgYWxsLi4uLgo+ID4gPiA+Cj4gPiA+ID4gVWcuLi4uICBsb29rIGxpa2UKPiA+ID4gPiAg
aHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+ID4gPiAg
ZGlkbid0IGVmZmVjdCBhdCBhbGwgZm9yIEtvcmVhbi4KPiA+ID4gPgo+ID4gPiA+Cj4gPiA+ID4g
VGhhbmtzCj4gPiA+ID4KPiA+ID4gPiBZb3VuZ2hvCj4gPiA+ID4KPiA+ID4gPiAtLS0tLSBPcmln
aW5hbCBNZXNzYWdlIC0tLS0tCj4gPiA+ID4gRnJvbTogIktvamkgU2VraWd1Y2hpIiA8a29qaS5z
ZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4KPiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBh
Y2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiA+IFNl
bnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDExOjQ3IEFNCj4gPiA+ID4gU3ViamVjdDog
UkU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+ID4gSGVsbG8gWW91
bmdobywKPiA+ID4gPiA+Cj4gPiA+ID4gPiBJIGRvbid0IHVuZGVyc3RhbmQgd2h5IHlvdSBjb3Vs
ZG4ndCBnZXQgaGl0cyByZXN1bHQgaW4gSmFwYW5lc2UsCj4gPiA+ID4gPiB0aG91Z2gsIHlvdSBo
YWQgYmV0dGVyIGNoZWNrIHdoeSB0aGUgcXVlcnkgd2FzIGVtcHR5IHdpdGggS29yZWFuIGRhdGE6
Cj4gPiA+ID4gPgo+ID4gPiA+ID4gPiBGb3IgS29yZWFuCj4gPiA+ID4gPiA+ICAgICAgW2VjaG9d
IFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiAgICAg
IFtqYXZhXSBwaHJhc2UgPSDqsr0KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQo+ID4g
PiA+ID4KPiA+ID4gPiA+IFRoZSBsYXN0IGxpbmUgc2hvdWxkIGJlIHF1ZXJ5ID0g6rK9Cj4gPiA+
ID4gPiB0byBnZXQgaGl0cyByZXN1bHQuIENhbiB5b3UgY2hlY2sgd2h5IFN0YW5kYXJkQW5hbHl6
ZXIKPiA+ID4gPiA+IHJlbW92ZXMgIuqyvSIgZHVyaW5nIHRva2VuaXppbmc/Cj4gPiA+ID4gPgo+
ID4gPiA+ID4gS29qaQo+ID4gPiA+ID4KPiA+ID4gPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdl
LS0tLS0KPiA+ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5hbm5l
dC5jby5rcl0KPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6
MzcgQU0KPiA+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiA+
ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUKPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gSGVsbG8gS29qaSwKPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gVGhhbmtz
IGZvciB5b3VyIGtpbmQgcmVwbHkuCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IFllcywgSSB1c2Vk
IFF1ZXJ5UGFyc2VyLiBub3JtYWx5IEkgdXNlZAo+ID4gPiA+ID4gPiBRdWVyeSA9IFF1ZXJ5UGFy
c2VyLnBhcnNlKCApIG1ldGhvZC4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gSSBwdXQgeW91ciBz
YW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBhY2thZ2UgaW4gTHVjZW5lQWN0aW9u
Cj4gPiA+ID4gPiA+IGFuZCBydW4gSmFwYW5lc2VEZW1vIHVzaW5nIDEuNCBhbmQgMS45Cj4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+IHJlc3VsdHMgYXJlCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ICAg
ICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vLi4uCj4gPiA+
ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLCj4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+IEkgY2FuJ3QgZ2V0IGhpdHMgcmVzdWx0Lgo+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiBGb3IgS29yZWFuCj4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFu
YWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2Ug
PSDqsr0KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQo+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiBJIGNhbid0IGdldCBxdWVyeSBwYXJzZSByZXN1bHQuCj4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+IFRoYW5rcywKPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gWW91bmdobwo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdl
IC0tLS0tCj4gPiA+ID4gPiA+IEZyb206ICJLb2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1Y2hp
QG00LmRpb24ubmUuanA+Cj4gPiA+ID4gPiA+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUu
b3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+Cj4gPiA+ID4gPiA+IFNl
bnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDk6NDggQU0KPiA+ID4gPiA+ID4gU3ViamVj
dDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gSGkgWW91bmdobywKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IFdpdGggcmVnYXJk
IHRvIEphcGFuZXNlLCB1c2luZyBTdGFuZGFyZEFuYWx5emVyLAo+ID4gPiA+ID4gPiA+IEkgY2Fu
IHNlYXJjaCBhIHdvcmQvcGhhc2UuCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBEaWQgeW91
IHVzZSBRdWVyeVBhcnNlcj8gU3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMKPiA+ID4gPiA+ID4g
PiBDSksgY2hhcmFjdGVycyBpbnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuCj4gPiA+
ID4gPiA+ID4gVXNlIFF1ZXJ5UGFyc2VyIHRvIGdldCBhIFBocmFzZVF1ZXJ5IGFuZCBzZWFyY2gg
dGhlIHF1ZXJ5Lgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gUGxlYXNlIHNlZSB0aGUgZm9s
bG93aW5nIHNhbXBsZSBjb2RlLiBSZXBsYWNlIEphcGFuZXNlCj4gPiA+ID4gPiA+ID4gImNvbnRl
bnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJwaHJhc2UiIHdpdGggS29yZWFuIGluIHRoZQo+ID4g
PiA+ID4gPiBwcm9ncmFtIGFuZCBydW4uCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiByZWdh
cmRzLAo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gS29qaQo+ID4gPiA+ID4gPiA+Cj4gPiA+
ID4gPiA+ID4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cj4g
PiA+ID4gPiA+ID4gaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247Cj4gPiA+ID4gPiA+ID4gaW1w
b3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLkFuYWx5emVyOwo+ID4gPiA+ID4gPiA+IGlt
cG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVy
Owo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pL
QW5hbHl6ZXI7Cj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnN0b3JlLkRp
cmVjdG9yeTsKPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuUkFN
RGlyZWN0b3J5Owo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5J
bmRleFdyaXRlcjsKPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1l
bnQuRG9jdW1lbnQ7Cj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3Vt
ZW50LkZpZWxkOwo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2gu
SW5kZXhTZWFyY2hlcjsKPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2Vh
cmNoLkhpdHM7Cj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5R
dWVyeTsKPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUucXVlcnlQYXJzZXIu
UXVlcnlQYXJzZXI7Cj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnF1ZXJ5
UGFyc2VyLlBhcnNlRXhjZXB0aW9uOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gcHVibGlj
IGNsYXNzIEphcGFuZXNlQnlTdGFuZGFyZEFuYWx5emVyIHsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgRklFTERfQ09OVEVOVCA9ICJj
b250ZW50IjsKPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nW10g
Y29udGVudHMgPSB7Cj4gPiA+ID4gPiA+ID4gIuadseS6rOOBq+OBr+OBiuOBhOOBl+OBhOODqeOD
vOODoeODs+Wxi+OBjOOBn+OBj+OBleOCk+OBguOCiuOBvuOBmeOAgiIsCj4gPiA+ID4gPiA+ID4g
IuWMl+a1t+mBk+OBq+OCguOBiuOBhOOBl+OBhOODqeODvOODoeODs+Wxi+OBjOOBguOCiuOBvuOB
meOAgiIKPiA+ID4gPiA+ID4gPiAgICAgfTsKPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0
aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLjg6njg7zjg6Hjg7PlsYsiOwo+ID4gPiA+ID4gPiA+
ICAgICAvL3ByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi5bGLIjsKPiA+ID4g
PiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIgYW5hbHl6ZXIgPSBudWxsOwo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKCBTdHJp
bmdbXSBhcmdzICkgdGhyb3dzCj4gPiA+ID4gPiA+IElPRXhjZXB0aW9uLCBQYXJzZUV4Y2VwdGlv
biB7Cj4gPiA+ID4gPiA+ID4gRGlyZWN0b3J5IGRpcmVjdG9yeSA9IG1ha2VJbmRleCgpOwo+ID4g
PiA+ID4gPiA+IHNlYXJjaCggZGlyZWN0b3J5ICk7Cj4gPiA+ID4gPiA+ID4gZGlyZWN0b3J5LmNs
b3NlKCk7Cj4gPiA+ID4gPiA+ID4gICAgIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAg
ICBwcml2YXRlIHN0YXRpYyBBbmFseXplciBnZXRBbmFseXplcigpewo+ID4gPiA+ID4gPiA+IGlm
KCBhbmFseXplciA9PSBudWxsICl7Cj4gPiA+ID4gPiA+ID4gICAgIGFuYWx5emVyID0gbmV3IFN0
YW5kYXJkQW5hbHl6ZXIoKTsKPiA+ID4gPiA+ID4gPiAgICAgLy9hbmFseXplciA9IG5ldyBDSktB
bmFseXplcigpOwo+ID4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gPiByZXR1cm4gYW5hbHl6ZXI7
Cj4gPiA+ID4gPiA+ID4gICAgIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICBwcml2
YXRlIHN0YXRpYyBEaXJlY3RvcnkgbWFrZUluZGV4KCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKPiA+
ID4gPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbmV3IFJBTURpcmVjdG9yeSgpOwo+ID4g
PiA+ID4gPiA+IEluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRleFdyaXRlciggZGlyZWN0b3J5
LCBnZXRBbmFseXplcigpLCB0cnVlICk7Cj4gPiA+ID4gPiA+ID4gZm9yKCBpbnQgaSA9IDA7IGkg
PCBjb250ZW50cy5sZW5ndGg7IGkrKyApewo+ID4gPiA+ID4gPiA+ICAgICBEb2N1bWVudCBkb2Mg
PSBuZXcgRG9jdW1lbnQoKTsKPiA+ID4gPiA+ID4gPiAgICAgZG9jLmFkZCggbmV3IEZpZWxkKCBG
SUVMRF9DT05URU5ULCBjb250ZW50c1tpXSwKPiA+ID4gPiA+ID4gRmllbGQuU3RvcmUuWUVTLCBG
aWVsZC5JbmRleC5UT0tFTklaRUQgKSApOwo+ID4gPiA+ID4gPiA+ICAgICB3cml0ZXIuYWRkRG9j
dW1lbnQoIGRvYyApOwo+ID4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gPiB3cml0ZXIuY2xvc2Uo
KTsKPiA+ID4gPiA+ID4gPiByZXR1cm4gZGlyZWN0b3J5Owo+ID4gPiA+ID4gPiA+ICAgICB9Cj4g
PiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBzZWFyY2go
IERpcmVjdG9yeSBkaXJlY3RvcnkgKSB0aHJvd3MKPiA+ID4gPiA+ID4gSU9FeGNlcHRpb24sIFBh
cnNlRXhjZXB0aW9uIHsKPiA+ID4gPiA+ID4gPiBJbmRleFNlYXJjaGVyIHNlYXJjaGVyID0gbmV3
IEluZGV4U2VhcmNoZXIoIGRpcmVjdG9yeSApOwo+ID4gPiA+ID4gPiA+IFF1ZXJ5UGFyc2VyIHBh
cnNlciA9IG5ldyBRdWVyeVBhcnNlciggRklFTERfQ09OVEVOVCwgZ2V0QW5hbHl6ZXIoKSApOwo+
ID4gPiA+ID4gPiA+IFF1ZXJ5IHF1ZXJ5ID0gcGFyc2VyLnBhcnNlKCBwaHJhc2UgKTsKPiA+ID4g
PiA+ID4gPiBTeXN0ZW0ub3V0LnByaW50bG4oICJxdWVyeSA9ICIgKyBxdWVyeSApOwo+ID4gPiA+
ID4gPiA+IEhpdHMgaGl0cyA9IHNlYXJjaGVyLnNlYXJjaCggcXVlcnkgKTsKPiA+ID4gPiA+ID4g
PiBmb3IoIGludCBpID0gMDsgaSA8IGhpdHMubGVuZ3RoKCk7IGkrKyApCj4gPiA+ID4gPiA+ID4g
ICAgIFN5c3RlbS5vdXQucHJpbnRsbiggImRvYyA9ICIgKyBoaXRzLmRvYyggaSApLmdldCggRklF
TERfQ09OVEVOVCApICk7Cj4gPiA+ID4gPiA+ID4gc2VhcmNoZXIuY2xvc2UoKTsKPiA+ID4gPiA+
ID4gPiAgICAgfQo+ID4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+ID4gPiA+ID4gPiA+ID4g
RnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5hbm5ldC5jby5rcl0KPiA+ID4gPiA+
ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDg6MTggQU0KPiA+ID4gPiA+
ID4gPiA+IFRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc7IENoZW9sZ29vIEthbmcKPiA+
ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQo+ID4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBIZWxsbyBDaGVvbGdvbywKPiA+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBOb3cgSSB1cGRhdGVkIG15IGx1Y2VuZSB2ZXJzaW9u
IHRvIDEuOSBmb3IgdXNpbmcgU3RhbmRhcmRBbmFseXplcgo+ID4gPiA+ID4gPiA+ID4gZm9yIEtv
cmVhbi4KPiA+ID4gPiA+ID4gPiA+IEFuZCB0ZXN0ZWQgeW91ciBwYXRjaCB3aGljaCBpcyBhbHJl
YWR5IGFkb3B0ZWQgaW4gMS45Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gaHR0cDov
L2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiBCdXQgU3RpbGwgSSBoYXZlIG5vIGdvb2QgIHJlc3VsdHMgd2l0aCBL
b3JlYW4gY29tcGFyZSB3aXRoCj4gPiA+ID4gPiA+IENKS0FuYWx5emVyLgo+ID4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiA+IFNpbmdsZSBjaGFyYWN0ZXIgaXMgZ29vZCBtYXRjaCBidXQgbW9y
ZSB0d28gY2hhcmFjdGVyIHdvcmQKPiA+ID4gPiA+ID4gPiA+IGRvZXNuJ3QgbWF0Y2ggYXQgYWxs
Lgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IEFtIEkgc29tZXRoaW5nIG1pc3Npbmcg
b3Igc3RpbGwgdGhlcmUgbmVlZCBzb21lIG1vcmUgd29ya3MgPwo+ID4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBUaGFua3MsCj4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID4gWW91bmdoby4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLQo+ID4gPiA+ID4gPiA+ID4g
RnJvbTogIkNoZW9sZ29vIEthbmciIDxhcHBsZXJAZ21haWwuY29tPgo+ID4gPiA+ID4gPiA+ID4g
VG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5n
QGdtYWlsLmNvbT4KPiA+ID4gPiA+ID4gPiA+IFNlbnQ6IFR1ZXNkYXksIE9jdG9iZXIgMDQsIDIw
MDUgMTA6MTEgQU0KPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2Vu
ZQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IFN0YW5k
YXJkQW5hbHl6ZXIncyBKYXZhQ0MgYmFzZWQgU3RhbmRhcmRUb2tlbml6ZXIuamogY2Fubm90IHJl
YWQKPiA+ID4gPiA+ID4gPiA+ID4gS29yZWFuIHBhcnQgb2YgVW5pY29kZSBjaGFyYWN0ZXIgYmxv
Y2tzLgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiBZb3Ugc2hvdWxkIDEpIHVz
ZSBDSktBbmFseXplciBvciAyKSBhZGQgS29yZWFuIGNoYXJhY3Rlcgo+ID4gPiA+ID4gPiA+ID4g
PiBibG9jaygweEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24gb24gdGhl
Cj4gPiA+ID4gPiA+ID4gPiA+IFN0YW5kYXJkVG9rZW5pemVyLmpqIGZpbGUuCj4gPiA+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IEhvcGUgaXQgaGVscHMuCj4gPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IE9uIDEwLzQvMDUsIEpvaG4gV2Fu
ZyA8am9obi53YW5nQGdtYWlsLmNvbT4gd3JvdGU6Cj4gPiA+ID4gPiA+ID4gPiA+ID4gSGk6Cj4g
PiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRv
IHByb2JsZW1zIHdpdGggc2VhcmNoaW5nIG9uIGtvcmVhbgo+ID4gPiA+ID4gPiA+ID4gZG9jdW1l
bnRzLiBXZSBhcmUKPiA+ID4gPiA+ID4gPiA+ID4gPiB1c2luZyB0aGUgU3RhbmRhcmRBbmFseXpl
ciBhbmQgZXZlcnl0aGluZyB3b3JrcyB3aXRoIENoaW5lc2UKPiA+ID4gPiA+ID4gPiA+IGFuZCBK
YXBhbmVzZS4KPiA+ID4gPiA+ID4gPiA+ID4gPiBBcmUgdGhlcmUga25vd24gcHJvYmxlbXMgd2l0
aCBLb3JlYW4gd2l0aCBMdWNlbmU/Cj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
ID4gPiBUaGFua3MKPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IC1Kb2hu
Cj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiAtLQo+ID4gPiA+ID4gPiA+ID4g
PiBDaGVvbGdvbwo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0KPiA+ID4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDog
amF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPiA+
IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5h
cGFjaGUub3JnCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+
ID4gPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFp
bDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4g
Rm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFw
YWNoZS5vcmcKPiA+ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4g
PiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQo+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11
c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiBGb3IgYWRkaXRpb25h
bCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+ID4g
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCj4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJz
Y3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4gPgo+ID4KPiA+Cj4KPgo+IC0t
Cj4gQ2hlb2xnb28KPgoKCi0tCkNoZW9sZ29vCg==


From java-user-return-17372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 07:38:20 2005
Return-Path: <java-user-return-17372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85818 invoked from network); 8 Nov 2005 07:38:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 07:38:20 -0000
Received: (qmail 62734 invoked by uid 500); 8 Nov 2005 07:38:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62534 invoked by uid 500); 8 Nov 2005 07:38:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62523 invoked by uid 99); 8 Nov 2005 07:38:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:38:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Nov 2005 23:38:05 -0800
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id jA87bkcl023119
	for <java-user@lucene.apache.org>; Tue, 8 Nov 2005 16:37:47 +0900
Message-ID: <003601c5e438$4a596040$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp> <000501c5daa6$80abdba0$0201a8c0@local> <000801c5daa9$33403020$0201a8c0@local> <001401c5dab0$dd942520$0201a8c0@local> <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
Subject: Re: korean and lucene
Date: Tue, 8 Nov 2005 16:44:46 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gQ2hlb2xnb28sDQoNCkkgd2lsbCB0ZXN0IHRoZSBwYXRjaC4NCg0KDQpUaGFua3MsDQoN
CllvdW5naG8NCg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJDaGVvbGdv
byBLYW5nIiA8YXBwbGVyQGdtYWlsLmNvbT4NClRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUu
b3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQpTZW50OiBUdWVzZGF5
LCBOb3ZlbWJlciAwOCwgMjAwNSA0OjA2IFBNDQpTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNl
bmUNCg0KDQo+IEhlbGxvLA0KPiANCj4gSSd2ZSBjcmVhdGVkIGEgbmV3IEpJUkEgaXNzdWUgd2l0
aCBLb3JlYW4gYW5hbHlzaXMgdGhhdA0KPiBTdGFuZGFyZEFuYWx5emVyIHNwbGl0cyBvbmUgd29y
ZCBpbnRvIHNldmVyYWwgdG9rZW5zIGVhY2ggd2l0aCBvbmUNCj4gY2hhcmFjdGVyLiBDYXVzZSBL
b3JlYW4gaXMgbm90IGEgcGhvbm9ncmFtLCBvbmUgY2hhcmFjdGVyIGluIEtvcmVhbg0KPiBoYXMg
YWxtb3N0IG5vIG1lYW5pbmcgYXQgYWxsLiBTbyB3b3JkIGluIEtvcmVhbiBzaG91bGQgYmUgcHJl
c2VydmVkDQo+IG5vdCBsaWtlIENoaW5lc2Ugb3IgSmFwYW5lc2UuDQo+IA0KPiBJJ3ZlIGF0dGFj
aGVkIGEgcGF0Y2ggdG8gU3RhbmRhcmRUb2tlbml6ZXIgdG8gZG8gdGhpcyBhbmQgcGFzc2VkIHRo
ZQ0KPiB0ZXN0IGNhc2UgVGVzdFN0YW5kYXJkQW5hbHl6ZXIoYWxzbyBwYXRjaGVkIHRvIHRlc3Qg
S29yZWFuIHdvcmRzKS4NCj4gDQo+IFRoYW5rcyENCj4gDQo+IE9uIDEwLzI3LzA1LCBZb3VuZ2hv
IENobyA8eW91bmdob0BuYW5uZXQuY28ua3I+IHdyb3RlOg0KPiA+IEhlbGxvLA0KPiA+DQo+ID4g
T2sgLCBJJ3ZlIGF0dGFjaGVkIG15IHRlc3QgY29kZSBmb3IgS29yZWFuIHdoaWNoIGlzIHNsaXRl
bHkgbW9kaWZpZWQgS29qaSdzIGNvZGUuDQo+ID4NCj4gPiBKdXN0IHB1dCBpbnRvIHRoZSBsaWEu
YW5hbHlzaXMuaTE4biBwYWNrYWdlIGF0IEx1Y2VuZUluQWN0aW9uDQo+ID4gYW5kIHJ1biBhbnQu
DQo+ID4NCj4gPiBIb3BlbHkgc29tZW9uZSBpcyBoZWxwZWQuDQo+ID4NCj4gPiAtLS0tLS0tLSBi
dWlsZC54bWwgIC0tLS0tLS0tLQ0KPiA+DQo+ID4gICA8dGFyZ2V0IG5hbWU9IkphcGFuZXNlRGVt
byIgZGVwZW5kcz0icHJlcGFyZSINCj4gPiAgICAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGVz
IG9mIEphbmFuZXNlIGFuYWx5c2lzIj4NCj4gPiAgICAgPGluZm8+DQo+ID4NCj4gPiAgICAgICBK
YXBhbmVzZSBUZXN0Li4uDQo+ID4NCj4gPiAgICAgPC9pbmZvPg0KPiA+DQo+ID4gICAgIDxydW4t
bWFpbiBjbGFzcz0ibGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vIi8+DQo+ID4gICA8L3Rh
cmdldD4NCj4gPg0KPiA+ICAgPHRhcmdldCBuYW1lPSJLb3JlYW5EZW1vIiBkZXBlbmRzPSJwcmVw
YXJlIg0KPiA+ICAgICAgICAgICBkZXNjcmlwdGlvbj0iRXhhbXBsZXMgb2YgS29yZWFuIGFuYWx5
c2lzIj4NCj4gPiAgICAgPGluZm8+DQo+ID4NCj4gPiAgICAgICBLb3JlYW4gVGVzdC4uLg0KPiA+
DQo+ID4gICAgIDwvaW5mbz4NCj4gPg0KPiA+ICAgICA8cnVuLW1haW4gY2xhc3M9ImxpYS5hbmFs
eXNpcy5pMThuLktvcmVhbkRlbW8iLz4NCj4gPiAgIDwvdGFyZ2V0Pg0KPiA+DQo+ID4NCj4gPiBU
aGFua3MsDQo+ID4NCj4gPiBZb3VuZ2hvDQo+ID4NCj4gPg0KPiA+IC0tLS0tIE9yaWdpbmFsIE1l
c3NhZ2UgLS0tLS0NCj4gPiBGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5r
cj4NCj4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIg
PHlvdW5naG9AbmFubmV0LmNvLmtyPg0KPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAy
MDA1IDEyOjQ3IFBNDQo+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4NCj4g
Pg0KPiA+ID4gSGVsbG8gYWxsDQo+ID4gPiBQbGVzZSBmb3JnaXZlIG1lIHBlcnZpb3VzIG15IHN0
dXBpZCBtZXNzYWdlDQo+ID4gPg0KPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlz
aXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSBb6riwXSAgYW5h
bHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5
emVyDQo+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLANCj4gPiA+ICAgICAgW2phdmFd
IHF1ZXJ5ID0gIuqyvSDquLAiDQo+ID4gPg0KPiA+ID4gSSBnb3QgdGhlIGdvb2QgcmVzdWx0Lg0K
PiA+ID4NCj4gPiA+IFdoZW4gSSBjb21waWxlIEkganVzdCByZW5hbWUgb2xkIHZlcnNpb24gbHVj
ZW5lLTEuNC4zLmphciB0byBsdWNlbmUtMS40LjMuamFyX2Jhaw0KPiA+ID4gYW5kIGFsbCBuZXcg
MS45IGx1Y2VuZS4gYW5kIGJ1aWxkIHRoZSB0ZXN0IHBhY2thZ2UuDQo+ID4gPiBBZnRlciBJIHJl
bW92ZSBsdWNlbmUtMS40LjMuamFyX2JhayBpbiBsaWIgZGlyZWN0b3J5IGNvbXBsZXRlbHkNCj4g
PiA+IEkgZ290IHRoZSBleHBlY3RlZCByZXN1bHQgISEhLg0KPiA+ID4NCj4gPiA+IEkgZG9uJ3Qg
a25vdyB0aGUgcmVhc29uLi4uICggbG9va3MgbGlrZSBteSBmaW5nZXIgbWFrZSBzb21lIHRyb3Vi
bGUuLi4gKQ0KPiA+ID4NCj4gPiA+IEFueXdheSB0aGFua3MgS29qaSBhbmQgQ2hlb2xnb28NCj4g
PiA+IEkgd2lsbCBmdXJ0aGVyIHRlc3Qgbm93Li4uDQo+ID4gPg0KPiA+ID4gWW91bmdobw0KPiA+
ID4NCj4gPiA+DQo+ID4gPg0KPiA+ID4NCj4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0t
LS0NCj4gPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPg0KPiA+
ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQo+ID4gPiBTZW50OiBUaHVyc2Rh
eSwgT2N0b2JlciAyNywgMjAwNSAxMjoyOCBQTQ0KPiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBh
bmQgbHVjZW5lDQo+ID4gPg0KPiA+ID4NCj4gPiA+ID4gSGVsbG8gS29qaQ0KPiA+ID4gPg0KPiA+
ID4gPiBIZXJlIGlzIHRlc3QgcmVzdWx0Lg0KPiA+ID4gPiBKYXBhbmVzZSBpcyBPSyAhLg0KPiA+
ID4gPiBtYXliZSBhbnQgY2xlYW4gIGRpZCBzb21lIGVmZmVjdC4NCj4gPiA+ID4NCj4gPiA+ID4g
QW55d2F5IHBsZWFzZSByZWZlciB0byB0aGUgcmVzdWx0IHVzaW5nIDEuOQ0KPiA+ID4gPg0KPiA+
ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4u
Lg0KPiA+ID4gPiAgICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44OzXSBb5bGLXSAgYW5hbHl6ZXIg
PSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyDQo+
ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOODqT/jg6Hjg7PlsYsNCj4gPiA+ID4gICAgICBb
amF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/jg6Hjg7PlsYsNCj4gPiA+ID4NCj4gPiA+ID4gICAg
IFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCj4gPiA+ID4g
ICAgICBbamF2YV0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRh
cmQuU3RhbmRhcmRBbmFseXplcg0KPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4g
PiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQ0KPiA+ID4gPg0KPiA+ID4gPiAgICAgIFtlY2hvXSBS
dW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLg0KPiA+ID4gPiAgICAgIFtq
YXZhXSBb44OpXSBb44Oh44OzXSBb44Oz5bGLXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2Vu
ZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXINCj4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g
44OpP+ODoeODs+Wxiw0KPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644OpP+OD
oeODs+Wxiw0KPiA+ID4gPg0KPiA+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lz
LmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSAgYW5hbHl6ZXIg
PSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXINCj4gPiA+ID4gICAg
ICBbamF2YV0gcGhyYXNlID0g6rK9DQo+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK9DQo+
ID4gPiA+DQo+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29y
ZWFuRGVtby4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1
Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyDQo+ID4gPiA+ICAgICAgW2ph
dmFdIHBocmFzZSA9IOqyveq4sA0KPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9DQo+ID4gPiA+
DQo+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVt
by4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK96riwXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hl
Lmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXINCj4gPiA+ID4gICAgICBbamF2YV0gcGhy
YXNlID0g6rK96riwDQo+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK96riwDQo+ID4gPiA+
DQo+ID4gPiA+DQo+ID4gPiA+IFN0YW5kYXJkIGFuYWx5emVyIGRpZG4ndCB0b2tlbml6ZWQgdGhl
IEtvcmVhbiBDaGFyYWN0ZXIgYXQgYWxsLi4uLg0KPiA+ID4gPg0KPiA+ID4gPiBVZy4uLi4gIGxv
b2sgbGlrZQ0KPiA+ID4gPiAgaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xV
Q0VORS00NDQNCj4gPiA+ID4gIGRpZG4ndCBlZmZlY3QgYXQgYWxsIGZvciBLb3JlYW4uDQo+ID4g
PiA+DQo+ID4gPiA+DQo+ID4gPiA+IFRoYW5rcw0KPiA+ID4gPg0KPiA+ID4gPiBZb3VuZ2hvDQo+
ID4gPiA+DQo+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4gRnJv
bTogIktvamkgU2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4NCj4gPiA+
ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3Vu
Z2hvQG5hbm5ldC5jby5rcj4NCj4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIw
MDUgMTE6NDcgQU0NCj4gPiA+ID4gU3ViamVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4g
PiA+DQo+ID4gPiA+DQo+ID4gPiA+ID4gSGVsbG8gWW91bmdobywNCj4gPiA+ID4gPg0KPiA+ID4g
PiA+IEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgeW91IGNvdWxkbid0IGdldCBoaXRzIHJlc3VsdCBp
biBKYXBhbmVzZSwNCj4gPiA+ID4gPiB0aG91Z2gsIHlvdSBoYWQgYmV0dGVyIGNoZWNrIHdoeSB0
aGUgcXVlcnkgd2FzIGVtcHR5IHdpdGggS29yZWFuIGRhdGE6DQo+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+IEZvciBLb3JlYW4NCj4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5
c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g
6rK9DQo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9DQo+ID4gPiA+ID4NCj4gPiA+ID4g
PiBUaGUgbGFzdCBsaW5lIHNob3VsZCBiZSBxdWVyeSA9IOqyvQ0KPiA+ID4gPiA+IHRvIGdldCBo
aXRzIHJlc3VsdC4gQ2FuIHlvdSBjaGVjayB3aHkgU3RhbmRhcmRBbmFseXplcg0KPiA+ID4gPiA+
IHJlbW92ZXMgIuqyvSIgZHVyaW5nIHRva2VuaXppbmc/DQo+ID4gPiA+ID4NCj4gPiA+ID4gPiBL
b2ppDQo+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+
ID4gPiA+ID4gPiBGcm9tOiBZb3VuZ2hvIENobyBbbWFpbHRvOnlvdW5naG9AbmFubmV0LmNvLmty
XQ0KPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6MzcgQU0N
Cj4gPiA+ID4gPiA+IFRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gPiA+
IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+
DQo+ID4gPiA+ID4gPiBIZWxsbyBLb2ppLA0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IFRoYW5r
cyBmb3IgeW91ciBraW5kIHJlcGx5Lg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IFllcywgSSB1
c2VkIFF1ZXJ5UGFyc2VyLiBub3JtYWx5IEkgdXNlZA0KPiA+ID4gPiA+ID4gUXVlcnkgPSBRdWVy
eVBhcnNlci5wYXJzZSggKSBtZXRob2QuDQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gSSBwdXQg
eW91ciBzYW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBhY2thZ2UgaW4gTHVjZW5l
QWN0aW9uDQo+ID4gPiA+ID4gPiBhbmQgcnVuIEphcGFuZXNlRGVtbyB1c2luZyAxLjQgYW5kIDEu
OQ0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IHJlc3VsdHMgYXJlDQo+ID4gPiA+ID4gPg0KPiA+
ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVzZURl
bW8uLi4NCj4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz
5bGLDQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gSSBjYW4ndCBnZXQgaGl0cyByZXN1bHQuDQo+
ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gRm9yIEtvcmVhbg0KPiA+ID4gPiA+ID4gICAgICBbZWNo
b10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gPiAg
ICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0N
Cj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiBJIGNhbid0IGdldCBxdWVyeSBwYXJzZSByZXN1bHQu
DQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gVGhhbmtzLA0KPiA+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+IFlvdW5naG8NCj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4gPiA+IEZyb206ICJL
b2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1Y2hpQG00LmRpb24ubmUuanA+DQo+ID4gPiA+ID4g
PiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5n
aG9AbmFubmV0LmNvLmtyPg0KPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcs
IDIwMDUgOTo0OCBBTQ0KPiA+ID4gPiA+ID4gU3ViamVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5l
DQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gSGkgWW91bmdobywNCj4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gV2l0aCByZWdhcmQgdG8gSmFwYW5lc2UsIHVzaW5n
IFN0YW5kYXJkQW5hbHl6ZXIsDQo+ID4gPiA+ID4gPiA+IEkgY2FuIHNlYXJjaCBhIHdvcmQvcGhh
c2UuDQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+IERpZCB5b3UgdXNlIFF1ZXJ5UGFyc2Vy
PyBTdGFuZGFyZEFuYWx5emVyIHRva2VuaXplcw0KPiA+ID4gPiA+ID4gPiBDSksgY2hhcmFjdGVy
cyBpbnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuDQo+ID4gPiA+ID4gPiA+IFVzZSBR
dWVyeVBhcnNlciB0byBnZXQgYSBQaHJhc2VRdWVyeSBhbmQgc2VhcmNoIHRoZSBxdWVyeS4NCj4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gUGxlYXNlIHNlZSB0aGUgZm9sbG93aW5nIHNhbXBs
ZSBjb2RlLiBSZXBsYWNlIEphcGFuZXNlDQo+ID4gPiA+ID4gPiA+ICJjb250ZW50cyIgYW5kIChz
ZWFyY2ggdGFyZ2V0KSAicGhyYXNlIiB3aXRoIEtvcmVhbiBpbiB0aGUNCj4gPiA+ID4gPiA+IHBy
b2dyYW0gYW5kIHJ1bi4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gcmVnYXJkcywNCj4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gS29qaQ0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
ID4gPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4gPiA+
ID4gPiA+ID4gaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247DQo+ID4gPiA+ID4gPiA+IGltcG9y
dCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5BbmFseXplcjsNCj4gPiA+ID4gPiA+ID4gaW1w
b3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXI7
DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pL
QW5hbHl6ZXI7DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5E
aXJlY3Rvcnk7DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5S
QU1EaXJlY3Rvcnk7DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRl
eC5JbmRleFdyaXRlcjsNCj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRv
Y3VtZW50LkRvY3VtZW50Ow0KPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUu
ZG9jdW1lbnQuRmllbGQ7DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5z
ZWFyY2guSW5kZXhTZWFyY2hlcjsNCj4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLnNlYXJjaC5IaXRzOw0KPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUu
c2VhcmNoLlF1ZXJ5Ow0KPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUucXVl
cnlQYXJzZXIuUXVlcnlQYXJzZXI7DQo+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1
Y2VuZS5xdWVyeVBhcnNlci5QYXJzZUV4Y2VwdGlvbjsNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+ID4gcHVibGljIGNsYXNzIEphcGFuZXNlQnlTdGFuZGFyZEFuYWx5emVyIHsNCj4gPiA+ID4g
PiA+ID4NCj4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBGSUVM
RF9DT05URU5UID0gImNvbnRlbnQiOw0KPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgU3RyaW5nW10gY29udGVudHMgPSB7DQo+ID4gPiA+ID4gPiA+ICLmnbHkuqzjgavjga/j
gYrjgYTjgZfjgYTjg6njg7zjg6Hjg7PlsYvjgYzjgZ/jgY/jgZXjgpPjgYLjgorjgb7jgZnjgIIi
LA0KPiA+ID4gPiA+ID4gPiAi5YyX5rW36YGT44Gr44KC44GK44GE44GX44GE44Op44O844Oh44Oz
5bGL44GM44GC44KK44G+44GZ44CCIg0KPiA+ID4gPiA+ID4gPiAgICAgfTsNCj4gPiA+ID4gPiA+
ID4gICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi44Op44O844Oh44Oz
5bGLIjsNCj4gPiA+ID4gPiA+ID4gICAgIC8vcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBo
cmFzZSA9ICLlsYsiOw0KPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIg
YW5hbHl6ZXIgPSBudWxsOw0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiAgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oIFN0cmluZ1tdIGFyZ3MgKSB0aHJvd3MNCj4gPiA+ID4gPiA+IElP
RXhjZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7DQo+ID4gPiA+ID4gPiA+IERpcmVjdG9yeSBkaXJl
Y3RvcnkgPSBtYWtlSW5kZXgoKTsNCj4gPiA+ID4gPiA+ID4gc2VhcmNoKCBkaXJlY3RvcnkgKTsN
Cj4gPiA+ID4gPiA+ID4gZGlyZWN0b3J5LmNsb3NlKCk7DQo+ID4gPiA+ID4gPiA+ICAgICB9DQo+
ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBBbmFseXplciBn
ZXRBbmFseXplcigpew0KPiA+ID4gPiA+ID4gPiBpZiggYW5hbHl6ZXIgPT0gbnVsbCApew0KPiA+
ID4gPiA+ID4gPiAgICAgYW5hbHl6ZXIgPSBuZXcgU3RhbmRhcmRBbmFseXplcigpOw0KPiA+ID4g
PiA+ID4gPiAgICAgLy9hbmFseXplciA9IG5ldyBDSktBbmFseXplcigpOw0KPiA+ID4gPiA+ID4g
PiB9DQo+ID4gPiA+ID4gPiA+IHJldHVybiBhbmFseXplcjsNCj4gPiA+ID4gPiA+ID4gICAgIH0N
Cj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIERpcmVjdG9y
eSBtYWtlSW5kZXgoKSB0aHJvd3MgSU9FeGNlcHRpb24gew0KPiA+ID4gPiA+ID4gPiBEaXJlY3Rv
cnkgZGlyZWN0b3J5ID0gbmV3IFJBTURpcmVjdG9yeSgpOw0KPiA+ID4gPiA+ID4gPiBJbmRleFdy
aXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIoIGRpcmVjdG9yeSwgZ2V0QW5hbHl6ZXIoKSwg
dHJ1ZSApOw0KPiA+ID4gPiA+ID4gPiBmb3IoIGludCBpID0gMDsgaSA8IGNvbnRlbnRzLmxlbmd0
aDsgaSsrICl7DQo+ID4gPiA+ID4gPiA+ICAgICBEb2N1bWVudCBkb2MgPSBuZXcgRG9jdW1lbnQo
KTsNCj4gPiA+ID4gPiA+ID4gICAgIGRvYy5hZGQoIG5ldyBGaWVsZCggRklFTERfQ09OVEVOVCwg
Y29udGVudHNbaV0sDQo+ID4gPiA+ID4gPiBGaWVsZC5TdG9yZS5ZRVMsIEZpZWxkLkluZGV4LlRP
S0VOSVpFRCApICk7DQo+ID4gPiA+ID4gPiA+ICAgICB3cml0ZXIuYWRkRG9jdW1lbnQoIGRvYyAp
Ow0KPiA+ID4gPiA+ID4gPiB9DQo+ID4gPiA+ID4gPiA+IHdyaXRlci5jbG9zZSgpOw0KPiA+ID4g
PiA+ID4gPiByZXR1cm4gZGlyZWN0b3J5Ow0KPiA+ID4gPiA+ID4gPiAgICAgfQ0KPiA+ID4gPiA+
ID4gPg0KPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBzZWFyY2goIERpcmVj
dG9yeSBkaXJlY3RvcnkgKSB0aHJvd3MNCj4gPiA+ID4gPiA+IElPRXhjZXB0aW9uLCBQYXJzZUV4
Y2VwdGlvbiB7DQo+ID4gPiA+ID4gPiA+IEluZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5k
ZXhTZWFyY2hlciggZGlyZWN0b3J5ICk7DQo+ID4gPiA+ID4gPiA+IFF1ZXJ5UGFyc2VyIHBhcnNl
ciA9IG5ldyBRdWVyeVBhcnNlciggRklFTERfQ09OVEVOVCwgZ2V0QW5hbHl6ZXIoKSApOw0KPiA+
ID4gPiA+ID4gPiBRdWVyeSBxdWVyeSA9IHBhcnNlci5wYXJzZSggcGhyYXNlICk7DQo+ID4gPiA+
ID4gPiA+IFN5c3RlbS5vdXQucHJpbnRsbiggInF1ZXJ5ID0gIiArIHF1ZXJ5ICk7DQo+ID4gPiA+
ID4gPiA+IEhpdHMgaGl0cyA9IHNlYXJjaGVyLnNlYXJjaCggcXVlcnkgKTsNCj4gPiA+ID4gPiA+
ID4gZm9yKCBpbnQgaSA9IDA7IGkgPCBoaXRzLmxlbmd0aCgpOyBpKysgKQ0KPiA+ID4gPiA+ID4g
PiAgICAgU3lzdGVtLm91dC5wcmludGxuKCAiZG9jID0gIiArIGhpdHMuZG9jKCBpICkuZ2V0KCBG
SUVMRF9DT05URU5UICkgKTsNCj4gPiA+ID4gPiA+ID4gc2VhcmNoZXIuY2xvc2UoKTsNCj4gPiA+
ID4gPiA+ID4gICAgIH0NCj4gPiA+ID4gPiA+ID4gfQ0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
ID4gPg0KPiA+ID4gPiA+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+ID4gPiA+
ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5hbm5ldC5jby5rcl0N
Cj4gPiA+ID4gPiA+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSA4OjE4IEFN
DQo+ID4gPiA+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZzsgQ2hlb2xn
b28gS2FuZw0KPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0K
PiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiBIZWxsbyBD
aGVvbGdvbywNCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IE5vdyBJIHVwZGF0ZWQg
bXkgbHVjZW5lIHZlcnNpb24gdG8gMS45IGZvciB1c2luZyBTdGFuZGFyZEFuYWx5emVyDQo+ID4g
PiA+ID4gPiA+ID4gZm9yIEtvcmVhbi4NCj4gPiA+ID4gPiA+ID4gPiBBbmQgdGVzdGVkIHlvdXIg
cGF0Y2ggd2hpY2ggaXMgYWxyZWFkeSBhZG9wdGVkIGluIDEuOQ0KPiA+ID4gPiA+ID4gPiA+DQo+
ID4gPiA+ID4gPiA+ID4gaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VO
RS00NDQNCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IEJ1dCBTdGlsbCBJIGhhdmUg
bm8gZ29vZCAgcmVzdWx0cyB3aXRoIEtvcmVhbiBjb21wYXJlIHdpdGgNCj4gPiA+ID4gPiA+IENK
S0FuYWx5emVyLg0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gU2luZ2xlIGNoYXJh
Y3RlciBpcyBnb29kIG1hdGNoIGJ1dCBtb3JlIHR3byBjaGFyYWN0ZXIgd29yZA0KPiA+ID4gPiA+
ID4gPiA+IGRvZXNuJ3QgbWF0Y2ggYXQgYWxsLg0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4g
PiA+ID4gQW0gSSBzb21ldGhpbmcgbWlzc2luZyBvciBzdGlsbCB0aGVyZSBuZWVkIHNvbWUgbW9y
ZSB3b3JrcyA/DQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4g
PiA+IFRoYW5rcywNCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IFlvdW5naG8uDQo+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IC0tLS0tIE9y
aWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4gPiA+ID4gPiBGcm9tOiAiQ2hlb2xnb28gS2Fu
ZyIgPGFwcGxlckBnbWFpbC5jb20+DQo+ID4gPiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVj
ZW5lLmFwYWNoZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdtYWlsLmNvbT4NCj4gPiA+
ID4gPiA+ID4gPiBTZW50OiBUdWVzZGF5LCBPY3RvYmVyIDA0LCAyMDA1IDEwOjExIEFNDQo+ID4g
PiA+ID4gPiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gPiA+ID4gPiA+
ID4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gU3RhbmRhcmRBbmFseXplcidz
IEphdmFDQyBiYXNlZCBTdGFuZGFyZFRva2VuaXplci5qaiBjYW5ub3QgcmVhZA0KPiA+ID4gPiA+
ID4gPiA+ID4gS29yZWFuIHBhcnQgb2YgVW5pY29kZSBjaGFyYWN0ZXIgYmxvY2tzLg0KPiA+ID4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IFlvdSBzaG91bGQgMSkgdXNlIENKS0FuYWx5
emVyIG9yIDIpIGFkZCBLb3JlYW4gY2hhcmFjdGVyDQo+ID4gPiA+ID4gPiA+ID4gPiBibG9jaygw
eEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24gb24gdGhlDQo+ID4gPiA+
ID4gPiA+ID4gPiBTdGFuZGFyZFRva2VuaXplci5qaiBmaWxlLg0KPiA+ID4gPiA+ID4gPiA+ID4N
Cj4gPiA+ID4gPiA+ID4gPiA+IEhvcGUgaXQgaGVscHMuDQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IE9uIDEwLzQvMDUsIEpvaG4gV2FuZyA8
am9obi53YW5nQGdtYWlsLmNvbT4gd3JvdGU6DQo+ID4gPiA+ID4gPiA+ID4gPiA+IEhpOg0KPiA+
ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRv
IHByb2JsZW1zIHdpdGggc2VhcmNoaW5nIG9uIGtvcmVhbg0KPiA+ID4gPiA+ID4gPiA+IGRvY3Vt
ZW50cy4gV2UgYXJlDQo+ID4gPiA+ID4gPiA+ID4gPiA+IHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5
emVyIGFuZCBldmVyeXRoaW5nIHdvcmtzIHdpdGggQ2hpbmVzZQ0KPiA+ID4gPiA+ID4gPiA+IGFu
ZCBKYXBhbmVzZS4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gQXJlIHRoZXJlIGtub3duIHByb2JsZW1z
IHdpdGggS29yZWFuIHdpdGggTHVjZW5lPw0KPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
ID4gPiA+ID4gPiBUaGFua3MNCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+
ID4gLUpvaG4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gLS0NCj4g
PiA+ID4gPiA+ID4gPiA+IENoZW9sZ29vDQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4g
PiA+ID4NCj4gPiA+ID4gPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+ID4gPiA+ID4gPiA+ID4gVG8gdW5z
dWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3Jn
DQo+ID4gPiA+ID4gPiA+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZh
LXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4g
Pg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+ID4gPiA+
ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5h
cGFjaGUub3JnDQo+ID4gPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6
IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
DQo+ID4gPiA+ID4NCj4gPiA+ID4gPg0KPiA+ID4gPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+ID4gPiA+
IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBh
Y2hlLm9yZw0KPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEt
dXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gVG8gdW5z
dWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3Jn
DQo+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVj
ZW5lLmFwYWNoZS5vcmcNCj4gPg0KPiA+DQo+ID4NCj4gDQo+IA0KPiAtLQ0KPiBDaGVvbGdvbw==




From java-user-return-17373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 08:29:08 2005
Return-Path: <java-user-return-17373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13533 invoked from network); 8 Nov 2005 08:29:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 08:29:07 -0000
Received: (qmail 26921 invoked by uid 500); 8 Nov 2005 08:29:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26900 invoked by uid 500); 8 Nov 2005 08:29:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26888 invoked by uid 99); 8 Nov 2005 08:29:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:29:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.29] (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:28:54 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.3/8.13.3) with ESMTP id jA88SciO045474
	for <java-user@lucene.apache.org>; Tue, 8 Nov 2005 09:28:39 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser? Update (ugly hack inside...)
Date: Tue, 8 Nov 2005 09:28:38 +0100
User-Agent: KMail/1.5.4
References: <4356CB59.2040409@oconeco.com> <200511051650.21855.paul.elschot@xs4all.nl> <436FDDA9.4080802@oconeco.com>
In-Reply-To: <436FDDA9.4080802@oconeco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511080928.38357.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 08 November 2005 00:05, Sean O'Connor wrote:
...
> When I looked at using surround queries, I believe I got stuck finding 
> access to the spans information. I was pressed for time, and only looked 

They are in the org.apache.lucene.search.spans package, not in the surround
language.

> it over for a couple of hours. A good portion of that was setup time. I 
> probably missed some of the more obvious points, so I will go back and 
> look over the surround code to see how unencumbered by the thought 
> process I was when I decided to reinvent my wheel.
> 
> >Also, PhraseQuery is more efficient than a combination of SpanTermQuery,
> >SpanOrQuery and SpanNearQuery, so perhaps PhraseQuery should have
> >a getSpans() method so it could be used as a SpanQuery, too.
> >  
> >
> This intrigues me. I know I don't understand Lucene past the basics, so 
> I'm a little lost on the implications of your suggestion.
> My impression was (and still is) that PhraseQuery is a significantly 
> different implementation from the SpanQuery family. Is it rather 
> straightforward to implement getSpans() for a PhraseQuery? Granted, I 
> seem to have missed that Surround is based on SpanQueries, so it looks 
> like I need to spend some more time getting my head straight on these 
> topics.

This is mainly a performance issue, so when SpanNearQuery works
for you, and you can live with the slower performance of SpanNearQuery
over PhraseQuery, you can use the surround parser as it is.
The surround parser does not generate PhraseQueries,
but it will generate SpanNearQueries, and it can also nest
SpanNearQueries.

Implementing getSpans() on PhraseQuery may not be straightforward,
because of the differences in the meanings of the slop for PhraseQueries
and SpanNearQueries.

PhraseQuery is built directly on TermPositions as returned from
an IndexReader. In the SpanQuery family, there is a Spans
between the TermPositions of the terms and a SpanNearQuery.
This allows SpanNearQueries to be nested, unlike PhraseQueries.

The current implementation of SpanNearQuery is slower than
PhraseQuery, but the implementation of SpanNearQuery here may 
narrow the gap:
http://issues.apache.org/jira/browse/LUCENE-413
Another way to improve performance might be to implement
a getTermSpans() method directly on the IndexReader.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 08:43:01 2005
Return-Path: <java-user-return-17374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19749 invoked from network); 8 Nov 2005 08:43:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 08:43:01 -0000
Received: (qmail 42818 invoked by uid 500); 8 Nov 2005 08:42:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42788 invoked by uid 500); 8 Nov 2005 08:42:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42774 invoked by uid 99); 8 Nov 2005 08:42:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:42:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.124.29] (HELO dev.nannet.co.kr) (221.146.124.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:42:47 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id jA88fW9T021254;
	Tue, 8 Nov 2005 17:41:34 +0900
Message-ID: <008001c5e441$520cb9a0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>, "Cheolgoo Kang" <appler@gmail.com>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp> <000501c5daa6$80abdba0$0201a8c0@local> <000801c5daa9$33403020$0201a8c0@local> <001401c5dab0$dd942520$0201a8c0@local> <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com> <003601c5e438$4a596040$0201a8c0@local>
Subject: Re: korean and lucene
Date: Tue, 8 Nov 2005 17:49:23 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCmp1c3Qgc2ltcGxlIHRlc3QgLi4uDQpJZiBJIGNvbXBpbGUgdGhlIGphdmFjYyBj
b3JyZWN0bHkuLg0KdGhlIHBhdGNoZWQgdmVyc2lvbiBkb2Vzbid0IG1hdGNoIHNvbWUgc2l0dWF0
aW9uIA0KZm9yIGV4YW1wbGUgDQppbiB0ZXh0DQon7JeU7KeE67CV7KeA7ISxKOunqOyytOyKpO2E
sCDsnKDrgpjsnbTti7Drk5wp7J20IOyjvOunkCDtlITrpqzrr7jslrTrpqzqt7jrpbwg7JyE7ZW0
IOuypOy5mOulvCDsp4DtgqTrqbAg7J6s7Lap7KCE7J2YIOyLnOqwhOydhCDqsIDsoYzri6QuJw0K
aWYgcXVlcnkgd29yZCBpcyAn7Iuc6rCEJyAgIHRoYW4gbm90aGluZyBtYXRjaA0KYnV0IGlmIHF1
ZXJ5IHdvcmQgaXMgJ+yLnOqwhOydhCcgIHRoYW4gZ29vZCBtYXRjaC4NCg0KSSB0aGluayB0aGVy
ZSBpcyBzb21lIHRyYWRlb2ZmIGhlcmUuDQoNCk1heWJlIG5lZWQgc29tZSBnb29kIHN0b3AgZmls
dGVyIGZvciBrb3JlYW4gZXRjLi4uLi4uLg0KDQoNClRoYW5rcw0KDQpZb3VuZ2hvDQoNCi0tLS0t
IE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5h
bm5ldC5jby5rcj4NClRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KU2VudDogVHVl
c2RheSwgTm92ZW1iZXIgMDgsIDIwMDUgNDo0NCBQTQ0KU3ViamVjdDogUmU6IGtvcmVhbiBhbmQg
bHVjZW5lDQoNCg0KPiBIZWxsbyBDaGVvbGdvbywNCj4gDQo+IEkgd2lsbCB0ZXN0IHRoZSBwYXRj
aC4NCj4gDQo+IA0KPiBUaGFua3MsDQo+IA0KPiBZb3VuZ2hvDQo+IA0KPiAtLS0tLSBPcmlnaW5h
bCBNZXNzYWdlIC0tLS0tIA0KPiBGcm9tOiAiQ2hlb2xnb28gS2FuZyIgPGFwcGxlckBnbWFpbC5j
b20+DQo+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8
eW91bmdob0BuYW5uZXQuY28ua3I+DQo+IFNlbnQ6IFR1ZXNkYXksIE5vdmVtYmVyIDA4LCAyMDA1
IDQ6MDYgUE0NCj4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+IA0KPiANCj4gPiBI
ZWxsbywNCj4gPiANCj4gPiBJJ3ZlIGNyZWF0ZWQgYSBuZXcgSklSQSBpc3N1ZSB3aXRoIEtvcmVh
biBhbmFseXNpcyB0aGF0DQo+ID4gU3RhbmRhcmRBbmFseXplciBzcGxpdHMgb25lIHdvcmQgaW50
byBzZXZlcmFsIHRva2VucyBlYWNoIHdpdGggb25lDQo+ID4gY2hhcmFjdGVyLiBDYXVzZSBLb3Jl
YW4gaXMgbm90IGEgcGhvbm9ncmFtLCBvbmUgY2hhcmFjdGVyIGluIEtvcmVhbg0KPiA+IGhhcyBh
bG1vc3Qgbm8gbWVhbmluZyBhdCBhbGwuIFNvIHdvcmQgaW4gS29yZWFuIHNob3VsZCBiZSBwcmVz
ZXJ2ZWQNCj4gPiBub3QgbGlrZSBDaGluZXNlIG9yIEphcGFuZXNlLg0KPiA+IA0KPiA+IEkndmUg
YXR0YWNoZWQgYSBwYXRjaCB0byBTdGFuZGFyZFRva2VuaXplciB0byBkbyB0aGlzIGFuZCBwYXNz
ZWQgdGhlDQo+ID4gdGVzdCBjYXNlIFRlc3RTdGFuZGFyZEFuYWx5emVyKGFsc28gcGF0Y2hlZCB0
byB0ZXN0IEtvcmVhbiB3b3JkcykuDQo+ID4gDQo+ID4gVGhhbmtzIQ0KPiA+IA0KPiA+IE9uIDEw
LzI3LzA1LCBZb3VuZ2hvIENobyA8eW91bmdob0BuYW5uZXQuY28ua3I+IHdyb3RlOg0KPiA+ID4g
SGVsbG8sDQo+ID4gPg0KPiA+ID4gT2sgLCBJJ3ZlIGF0dGFjaGVkIG15IHRlc3QgY29kZSBmb3Ig
S29yZWFuIHdoaWNoIGlzIHNsaXRlbHkgbW9kaWZpZWQgS29qaSdzIGNvZGUuDQo+ID4gPg0KPiA+
ID4gSnVzdCBwdXQgaW50byB0aGUgbGlhLmFuYWx5c2lzLmkxOG4gcGFja2FnZSBhdCBMdWNlbmVJ
bkFjdGlvbg0KPiA+ID4gYW5kIHJ1biBhbnQuDQo+ID4gPg0KPiA+ID4gSG9wZWx5IHNvbWVvbmUg
aXMgaGVscGVkLg0KPiA+ID4NCj4gPiA+IC0tLS0tLS0tIGJ1aWxkLnhtbCAgLS0tLS0tLS0tDQo+
ID4gPg0KPiA+ID4gICA8dGFyZ2V0IG5hbWU9IkphcGFuZXNlRGVtbyIgZGVwZW5kcz0icHJlcGFy
ZSINCj4gPiA+ICAgICAgICAgICBkZXNjcmlwdGlvbj0iRXhhbXBsZXMgb2YgSmFuYW5lc2UgYW5h
bHlzaXMiPg0KPiA+ID4gICAgIDxpbmZvPg0KPiA+ID4NCj4gPiA+ICAgICAgIEphcGFuZXNlIFRl
c3QuLi4NCj4gPiA+DQo+ID4gPiAgICAgPC9pbmZvPg0KPiA+ID4NCj4gPiA+ICAgICA8cnVuLW1h
aW4gY2xhc3M9ImxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtbyIvPg0KPiA+ID4gICA8L3Rh
cmdldD4NCj4gPiA+DQo+ID4gPiAgIDx0YXJnZXQgbmFtZT0iS29yZWFuRGVtbyIgZGVwZW5kcz0i
cHJlcGFyZSINCj4gPiA+ICAgICAgICAgICBkZXNjcmlwdGlvbj0iRXhhbXBsZXMgb2YgS29yZWFu
IGFuYWx5c2lzIj4NCj4gPiA+ICAgICA8aW5mbz4NCj4gPiA+DQo+ID4gPiAgICAgICBLb3JlYW4g
VGVzdC4uLg0KPiA+ID4NCj4gPiA+ICAgICA8L2luZm8+DQo+ID4gPg0KPiA+ID4gICAgIDxydW4t
bWFpbiBjbGFzcz0ibGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtbyIvPg0KPiA+ID4gICA8L3Rh
cmdldD4NCj4gPiA+DQo+ID4gPg0KPiA+ID4gVGhhbmtzLA0KPiA+ID4NCj4gPiA+IFlvdW5naG8N
Cj4gPiA+DQo+ID4gPg0KPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLQ0KPiA+ID4g
RnJvbTogIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQo+ID4gPiBUbzogPGph
dmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0
LmNvLmtyPg0KPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTI6NDcgUE0N
Cj4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4NCj4gPiA+DQo+ID4g
PiA+IEhlbGxvIGFsbA0KPiA+ID4gPiBQbGVzZSBmb3JnaXZlIG1lIHBlcnZpb3VzIG15IHN0dXBp
ZCBtZXNzYWdlDQo+ID4gPiA+DQo+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5
c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSBb6riwXSAg
YW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFu
YWx5emVyDQo+ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyveq4sA0KPiA+ID4gPiAgICAg
IFtqYXZhXSBxdWVyeSA9ICLqsr0g6riwIg0KPiA+ID4gPg0KPiA+ID4gPiBJIGdvdCB0aGUgZ29v
ZCByZXN1bHQuDQo+ID4gPiA+DQo+ID4gPiA+IFdoZW4gSSBjb21waWxlIEkganVzdCByZW5hbWUg
b2xkIHZlcnNpb24gbHVjZW5lLTEuNC4zLmphciB0byBsdWNlbmUtMS40LjMuamFyX2Jhaw0KPiA+
ID4gPiBhbmQgYWxsIG5ldyAxLjkgbHVjZW5lLiBhbmQgYnVpbGQgdGhlIHRlc3QgcGFja2FnZS4N
Cj4gPiA+ID4gQWZ0ZXIgSSByZW1vdmUgbHVjZW5lLTEuNC4zLmphcl9iYWsgaW4gbGliIGRpcmVj
dG9yeSBjb21wbGV0ZWx5DQo+ID4gPiA+IEkgZ290IHRoZSBleHBlY3RlZCByZXN1bHQgISEhLg0K
PiA+ID4gPg0KPiA+ID4gPiBJIGRvbid0IGtub3cgdGhlIHJlYXNvbi4uLiAoIGxvb2tzIGxpa2Ug
bXkgZmluZ2VyIG1ha2Ugc29tZSB0cm91YmxlLi4uICkNCj4gPiA+ID4NCj4gPiA+ID4gQW55d2F5
IHRoYW5rcyBLb2ppIGFuZCBDaGVvbGdvbw0KPiA+ID4gPiBJIHdpbGwgZnVydGhlciB0ZXN0IG5v
dy4uLg0KPiA+ID4gPg0KPiA+ID4gPiBZb3VuZ2hvDQo+ID4gPiA+DQo+ID4gPiA+DQo+ID4gPiA+
DQo+ID4gPiA+DQo+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4g
RnJvbTogIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQo+ID4gPiA+IFRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KPiA+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0
b2JlciAyNywgMjAwNSAxMjoyOCBQTQ0KPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBs
dWNlbmUNCj4gPiA+ID4NCj4gPiA+ID4NCj4gPiA+ID4gPiBIZWxsbyBLb2ppDQo+ID4gPiA+ID4N
Cj4gPiA+ID4gPiBIZXJlIGlzIHRlc3QgcmVzdWx0Lg0KPiA+ID4gPiA+IEphcGFuZXNlIGlzIE9L
ICEuDQo+ID4gPiA+ID4gbWF5YmUgYW50IGNsZWFuICBkaWQgc29tZSBlZmZlY3QuDQo+ID4gPiA+
ID4NCj4gPiA+ID4gPiBBbnl3YXkgcGxlYXNlIHJlZmVyIHRvIHRoZSByZXN1bHQgdXNpbmcgMS45
DQo+ID4gPiA+ID4NCj4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5p
MThuLkphcGFuZXNlRGVtby4uLg0KPiA+ID4gPiA+ICAgICAgW2phdmFdIFvjg6ldIFvjg6FdIFvj
g7NdIFvlsYtdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJk
LlN0YW5kYXJkQW5hbHl6ZXINCj4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDjg6k/44Oh
44Oz5bGLDQo+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/jg6Hjg7Pl
sYsNCj4gPiA+ID4gPg0KPiA+ID4gPiA+ICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMu
aTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gICAgICBbamF2YV0gIGFuYWx5emVyID0gb3Jn
LmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcg0KPiA+ID4g
PiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5
ID0NCj4gPiA+ID4gPg0KPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lz
LmkxOG4uSmFwYW5lc2VEZW1vLi4uDQo+ID4gPiA+ID4gICAgICBbamF2YV0gW+ODqV0gW+ODoeOD
s10gW+ODs+Wxi10gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNK
S0FuYWx5emVyDQo+ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wxiw0K
PiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLDQo+ID4g
PiA+ID4NCj4gPiA+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29y
ZWFuRGVtby4uLg0KPiA+ID4gPiA+ICAgICAgW2phdmFdIFvqsr1dICBhbmFseXplciA9IG9yZy5h
cGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcg0KPiA+ID4gPiA+ICAgICAgW2ph
dmFdIHBocmFzZSA9IOqyvQ0KPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK9DQo+ID4g
PiA+ID4NCj4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktv
cmVhbkRlbW8uLi4NCj4gPiA+ID4gPiAgICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hl
Lmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyDQo+ID4gPiA+ID4gICAg
ICBbamF2YV0gcGhyYXNlID0g6rK96riwDQo+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQ0K
PiA+ID4gPiA+DQo+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4
bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gICAgICBbamF2YV0gW+qyveq4sF0gIGFuYWx5emVy
ID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5emVyDQo+ID4gPiA+ID4g
ICAgICBbamF2YV0gcGhyYXNlID0g6rK96riwDQo+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkg
PSDqsr3quLANCj4gPiA+ID4gPg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gU3RhbmRhcmQgYW5hbHl6
ZXIgZGlkbid0IHRva2VuaXplZCB0aGUgS29yZWFuIENoYXJhY3RlciBhdCBhbGwuLi4uDQo+ID4g
PiA+ID4NCj4gPiA+ID4gPiBVZy4uLi4gIGxvb2sgbGlrZQ0KPiA+ID4gPiA+ICBodHRwOi8vaXNz
dWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NA0KPiA+ID4gPiA+ICBkaWRuJ3Qg
ZWZmZWN0IGF0IGFsbCBmb3IgS29yZWFuLg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4NCj4gPiA+ID4g
PiBUaGFua3MNCj4gPiA+ID4gPg0KPiA+ID4gPiA+IFlvdW5naG8NCj4gPiA+ID4gPg0KPiA+ID4g
PiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4gPiBGcm9tOiAiS29qaSBT
ZWtpZ3VjaGkiIDxrb2ppLnNla2lndWNoaUBtNC5kaW9uLm5lLmpwPg0KPiA+ID4gPiA+IFRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5u
ZXQuY28ua3I+DQo+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6
NDcgQU0NCj4gPiA+ID4gPiBTdWJqZWN0OiBSRToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiA+ID4g
Pg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiBIZWxsbyBZb3VuZ2hvLA0KPiA+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+IEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgeW91IGNvdWxkbid0IGdldCBoaXRzIHJl
c3VsdCBpbiBKYXBhbmVzZSwNCj4gPiA+ID4gPiA+IHRob3VnaCwgeW91IGhhZCBiZXR0ZXIgY2hl
Y2sgd2h5IHRoZSBxdWVyeSB3YXMgZW1wdHkgd2l0aCBLb3JlYW4gZGF0YToNCj4gPiA+ID4gPiA+
DQo+ID4gPiA+ID4gPiA+IEZvciBLb3JlYW4NCj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVu
bmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gPiA+ICAgICAg
W2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9DQo+
ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gVGhlIGxhc3QgbGluZSBzaG91bGQgYmUgcXVlcnkgPSDq
sr0NCj4gPiA+ID4gPiA+IHRvIGdldCBoaXRzIHJlc3VsdC4gQ2FuIHlvdSBjaGVjayB3aHkgU3Rh
bmRhcmRBbmFseXplcg0KPiA+ID4gPiA+ID4gcmVtb3ZlcyAi6rK9IiBkdXJpbmcgdG9rZW5pemlu
Zz8NCj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiBLb2ppDQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
ID4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+ID4gPiA+ID4gPiBGcm9tOiBZb3Vu
Z2hvIENobyBbbWFpbHRvOnlvdW5naG9AbmFubmV0LmNvLmtyXQ0KPiA+ID4gPiA+ID4gPiBTZW50
OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSAxMTozNyBBTQ0KPiA+ID4gPiA+ID4gPiBUbzog
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBr
b3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+
ID4gPiBIZWxsbyBLb2ppLA0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBUaGFua3MgZm9y
IHlvdXIga2luZCByZXBseS4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gWWVzLCBJIHVz
ZWQgUXVlcnlQYXJzZXIuIG5vcm1hbHkgSSB1c2VkDQo+ID4gPiA+ID4gPiA+IFF1ZXJ5ID0gUXVl
cnlQYXJzZXIucGFyc2UoICkgbWV0aG9kLg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBJ
IHB1dCB5b3VyIHNhbXBsZSBjb2RlIGludG8gbGlhLmFuYWx5c2lzLmkxOG4gcGFja2FnZSBpbiBM
dWNlbmVBY3Rpb24NCj4gPiA+ID4gPiA+ID4gYW5kIHJ1biBKYXBhbmVzZURlbW8gdXNpbmcgMS40
IGFuZCAxLjkNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gcmVzdWx0cyBhcmUNCj4gPiA+
ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMu
aTE4bi5KYXBhbmVzZURlbW8uLi4NCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSBj
b250ZW50OuODqT/jg6Hjg7PlsYsNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gSSBjYW4n
dCBnZXQgaGl0cyByZXN1bHQuDQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+IEZvciBLb3Jl
YW4NCj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5L
b3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+
ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9DQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4g
PiA+IEkgY2FuJ3QgZ2V0IHF1ZXJ5IHBhcnNlIHJlc3VsdC4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+ID4gVGhhbmtzLA0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBZb3VuZ2hvDQo+
ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0NCj4gPiA+ID4gPiA+ID4gRnJvbTogIktvamkg
U2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4NCj4gPiA+ID4gPiA+ID4g
VG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hv
QG5hbm5ldC5jby5rcj4NCj4gPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcs
IDIwMDUgOTo0OCBBTQ0KPiA+ID4gPiA+ID4gPiBTdWJqZWN0OiBSRToga29yZWFuIGFuZCBsdWNl
bmUNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiBIaSBZb3Vu
Z2hvLA0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gV2l0aCByZWdhcmQgdG8gSmFw
YW5lc2UsIHVzaW5nIFN0YW5kYXJkQW5hbHl6ZXIsDQo+ID4gPiA+ID4gPiA+ID4gSSBjYW4gc2Vh
cmNoIGEgd29yZC9waGFzZS4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IERpZCB5
b3UgdXNlIFF1ZXJ5UGFyc2VyPyBTdGFuZGFyZEFuYWx5emVyIHRva2VuaXplcw0KPiA+ID4gPiA+
ID4gPiA+IENKSyBjaGFyYWN0ZXJzIGludG8gYSBzdHJlYW0gb2Ygc2luZ2xlIGNoYXJhY3Rlci4N
Cj4gPiA+ID4gPiA+ID4gPiBVc2UgUXVlcnlQYXJzZXIgdG8gZ2V0IGEgUGhyYXNlUXVlcnkgYW5k
IHNlYXJjaCB0aGUgcXVlcnkuDQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiBQbGVh
c2Ugc2VlIHRoZSBmb2xsb3dpbmcgc2FtcGxlIGNvZGUuIFJlcGxhY2UgSmFwYW5lc2UNCj4gPiA+
ID4gPiA+ID4gPiAiY29udGVudHMiIGFuZCAoc2VhcmNoIHRhcmdldCkgInBocmFzZSIgd2l0aCBL
b3JlYW4gaW4gdGhlDQo+ID4gPiA+ID4gPiA+IHByb2dyYW0gYW5kIHJ1bi4NCj4gPiA+ID4gPiA+
ID4gPg0KPiA+ID4gPiA+ID4gPiA+IHJlZ2FyZHMsDQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+ID4gPiBLb2ppDQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4gPiA+ID4gPiA+ID4gPiBpbXBv
cnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCj4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuYW5hbHlzaXMuQW5hbHl6ZXI7DQo+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5h
cGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXI7DQo+ID4gPiA+
ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXpl
cjsNCj4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuRGlyZWN0
b3J5Ow0KPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5SQU1E
aXJlY3Rvcnk7DQo+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4
LkluZGV4V3JpdGVyOw0KPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5k
b2N1bWVudC5Eb2N1bWVudDsNCj4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNl
bmUuZG9jdW1lbnQuRmllbGQ7DQo+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLnNlYXJjaC5JbmRleFNlYXJjaGVyOw0KPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBh
Y2hlLmx1Y2VuZS5zZWFyY2guSGl0czsNCj4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuc2VhcmNoLlF1ZXJ5Ow0KPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hl
Lmx1Y2VuZS5xdWVyeVBhcnNlci5RdWVyeVBhcnNlcjsNCj4gPiA+ID4gPiA+ID4gPiBpbXBvcnQg
b3JnLmFwYWNoZS5sdWNlbmUucXVlcnlQYXJzZXIuUGFyc2VFeGNlcHRpb247DQo+ID4gPiA+ID4g
PiA+ID4NCj4gPiA+ID4gPiA+ID4gPiBwdWJsaWMgY2xhc3MgSmFwYW5lc2VCeVN0YW5kYXJkQW5h
bHl6ZXIgew0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3Rh
dGljIGZpbmFsIFN0cmluZyBGSUVMRF9DT05URU5UID0gImNvbnRlbnQiOw0KPiA+ID4gPiA+ID4g
PiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBjb250ZW50cyA9IHsNCj4gPiA+
ID4gPiA+ID4gPiAi5p2x5Lqs44Gr44Gv44GK44GE44GX44GE44Op44O844Oh44Oz5bGL44GM44Gf
44GP44GV44KT44GC44KK44G+44GZ44CCIiwNCj4gPiA+ID4gPiA+ID4gPiAi5YyX5rW36YGT44Gr
44KC44GK44GE44GX44GE44Op44O844Oh44Oz5bGL44GM44GC44KK44G+44GZ44CCIg0KPiA+ID4g
PiA+ID4gPiA+ICAgICB9Ow0KPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5h
bCBTdHJpbmcgcGhyYXNlID0gIuODqeODvOODoeODs+WxiyI7DQo+ID4gPiA+ID4gPiA+ID4gICAg
IC8vcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLlsYsiOw0KPiA+ID4gPiA+
ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBBbmFseXplciBhbmFseXplciA9IG51bGw7DQo+ID4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiAgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o
IFN0cmluZ1tdIGFyZ3MgKSB0aHJvd3MNCj4gPiA+ID4gPiA+ID4gSU9FeGNlcHRpb24sIFBhcnNl
RXhjZXB0aW9uIHsNCj4gPiA+ID4gPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbWFrZUlu
ZGV4KCk7DQo+ID4gPiA+ID4gPiA+ID4gc2VhcmNoKCBkaXJlY3RvcnkgKTsNCj4gPiA+ID4gPiA+
ID4gPiBkaXJlY3RvcnkuY2xvc2UoKTsNCj4gPiA+ID4gPiA+ID4gPiAgICAgfQ0KPiA+ID4gPiA+
ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIEFuYWx5emVyIGdldEFu
YWx5emVyKCl7DQo+ID4gPiA+ID4gPiA+ID4gaWYoIGFuYWx5emVyID09IG51bGwgKXsNCj4gPiA+
ID4gPiA+ID4gPiAgICAgYW5hbHl6ZXIgPSBuZXcgU3RhbmRhcmRBbmFseXplcigpOw0KPiA+ID4g
PiA+ID4gPiA+ICAgICAvL2FuYWx5emVyID0gbmV3IENKS0FuYWx5emVyKCk7DQo+ID4gPiA+ID4g
PiA+ID4gfQ0KPiA+ID4gPiA+ID4gPiA+IHJldHVybiBhbmFseXplcjsNCj4gPiA+ID4gPiA+ID4g
PiAgICAgfQ0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3Rh
dGljIERpcmVjdG9yeSBtYWtlSW5kZXgoKSB0aHJvd3MgSU9FeGNlcHRpb24gew0KPiA+ID4gPiA+
ID4gPiA+IERpcmVjdG9yeSBkaXJlY3RvcnkgPSBuZXcgUkFNRGlyZWN0b3J5KCk7DQo+ID4gPiA+
ID4gPiA+ID4gSW5kZXhXcml0ZXIgd3JpdGVyID0gbmV3IEluZGV4V3JpdGVyKCBkaXJlY3Rvcnks
IGdldEFuYWx5emVyKCksIHRydWUgKTsNCj4gPiA+ID4gPiA+ID4gPiBmb3IoIGludCBpID0gMDsg
aSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsrICl7DQo+ID4gPiA+ID4gPiA+ID4gICAgIERvY3VtZW50
IGRvYyA9IG5ldyBEb2N1bWVudCgpOw0KPiA+ID4gPiA+ID4gPiA+ICAgICBkb2MuYWRkKCBuZXcg
RmllbGQoIEZJRUxEX0NPTlRFTlQsIGNvbnRlbnRzW2ldLA0KPiA+ID4gPiA+ID4gPiBGaWVsZC5T
dG9yZS5ZRVMsIEZpZWxkLkluZGV4LlRPS0VOSVpFRCApICk7DQo+ID4gPiA+ID4gPiA+ID4gICAg
IHdyaXRlci5hZGREb2N1bWVudCggZG9jICk7DQo+ID4gPiA+ID4gPiA+ID4gfQ0KPiA+ID4gPiA+
ID4gPiA+IHdyaXRlci5jbG9zZSgpOw0KPiA+ID4gPiA+ID4gPiA+IHJldHVybiBkaXJlY3Rvcnk7
DQo+ID4gPiA+ID4gPiA+ID4gICAgIH0NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+
ICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHNlYXJjaCggRGlyZWN0b3J5IGRpcmVjdG9yeSApIHRo
cm93cw0KPiA+ID4gPiA+ID4gPiBJT0V4Y2VwdGlvbiwgUGFyc2VFeGNlcHRpb24gew0KPiA+ID4g
PiA+ID4gPiA+IEluZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hlciggZGly
ZWN0b3J5ICk7DQo+ID4gPiA+ID4gPiA+ID4gUXVlcnlQYXJzZXIgcGFyc2VyID0gbmV3IFF1ZXJ5
UGFyc2VyKCBGSUVMRF9DT05URU5ULCBnZXRBbmFseXplcigpICk7DQo+ID4gPiA+ID4gPiA+ID4g
UXVlcnkgcXVlcnkgPSBwYXJzZXIucGFyc2UoIHBocmFzZSApOw0KPiA+ID4gPiA+ID4gPiA+IFN5
c3RlbS5vdXQucHJpbnRsbiggInF1ZXJ5ID0gIiArIHF1ZXJ5ICk7DQo+ID4gPiA+ID4gPiA+ID4g
SGl0cyBoaXRzID0gc2VhcmNoZXIuc2VhcmNoKCBxdWVyeSApOw0KPiA+ID4gPiA+ID4gPiA+IGZv
ciggaW50IGkgPSAwOyBpIDwgaGl0cy5sZW5ndGgoKTsgaSsrICkNCj4gPiA+ID4gPiA+ID4gPiAg
ICAgU3lzdGVtLm91dC5wcmludGxuKCAiZG9jID0gIiArIGhpdHMuZG9jKCBpICkuZ2V0KCBGSUVM
RF9DT05URU5UICkgKTsNCj4gPiA+ID4gPiA+ID4gPiBzZWFyY2hlci5jbG9zZSgpOw0KPiA+ID4g
PiA+ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gPiA+ID4gfQ0KPiA+ID4gPiA+ID4gPiA+DQo+ID4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t
DQo+ID4gPiA+ID4gPiA+ID4gPiBGcm9tOiBZb3VuZ2hvIENobyBbbWFpbHRvOnlvdW5naG9AbmFu
bmV0LmNvLmtyXQ0KPiA+ID4gPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcs
IDIwMDUgODoxOCBBTQ0KPiA+ID4gPiA+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBh
Y2hlLm9yZzsgQ2hlb2xnb28gS2FuZw0KPiA+ID4gPiA+ID4gPiA+ID4gU3ViamVjdDogUmU6IGtv
cmVhbiBhbmQgbHVjZW5lDQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+ID4gPiA+IEhlbGxvIENoZW9sZ29vLA0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+ID4gPiA+IE5vdyBJIHVwZGF0ZWQgbXkgbHVjZW5lIHZlcnNpb24gdG8gMS45IGZvciB1
c2luZyBTdGFuZGFyZEFuYWx5emVyDQo+ID4gPiA+ID4gPiA+ID4gPiBmb3IgS29yZWFuLg0KPiA+
ID4gPiA+ID4gPiA+ID4gQW5kIHRlc3RlZCB5b3VyIHBhdGNoIHdoaWNoIGlzIGFscmVhZHkgYWRv
cHRlZCBpbiAxLjkNCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiBodHRwOi8v
aXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NA0KPiA+ID4gPiA+ID4gPiA+
ID4NCj4gPiA+ID4gPiA+ID4gPiA+IEJ1dCBTdGlsbCBJIGhhdmUgbm8gZ29vZCAgcmVzdWx0cyB3
aXRoIEtvcmVhbiBjb21wYXJlIHdpdGgNCj4gPiA+ID4gPiA+ID4gQ0pLQW5hbHl6ZXIuDQo+ID4g
PiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gU2luZ2xlIGNoYXJhY3RlciBpcyBnb29k
IG1hdGNoIGJ1dCBtb3JlIHR3byBjaGFyYWN0ZXIgd29yZA0KPiA+ID4gPiA+ID4gPiA+ID4gZG9l
c24ndCBtYXRjaCBhdCBhbGwuDQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4g
QW0gSSBzb21ldGhpbmcgbWlzc2luZyBvciBzdGlsbCB0aGVyZSBuZWVkIHNvbWUgbW9yZSB3b3Jr
cyA/DQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4g
PiA+IFRoYW5rcywNCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiBZb3VuZ2hv
Lg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4g
PiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiA+ID4gPiA+ID4gPiBGcm9tOiAi
Q2hlb2xnb28gS2FuZyIgPGFwcGxlckBnbWFpbC5jb20+DQo+ID4gPiA+ID4gPiA+ID4gPiBUbzog
PGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJKb2huIFdhbmciIDxqb2huLndhbmdAZ21h
aWwuY29tPg0KPiA+ID4gPiA+ID4gPiA+ID4gU2VudDogVHVlc2RheSwgT2N0b2JlciAwNCwgMjAw
NSAxMDoxMSBBTQ0KPiA+ID4gPiA+ID4gPiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVj
ZW5lDQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4g
PiA+ID4gU3RhbmRhcmRBbmFseXplcidzIEphdmFDQyBiYXNlZCBTdGFuZGFyZFRva2VuaXplci5q
aiBjYW5ub3QgcmVhZA0KPiA+ID4gPiA+ID4gPiA+ID4gPiBLb3JlYW4gcGFydCBvZiBVbmljb2Rl
IGNoYXJhY3RlciBibG9ja3MuDQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4g
PiA+IFlvdSBzaG91bGQgMSkgdXNlIENKS0FuYWx5emVyIG9yIDIpIGFkZCBLb3JlYW4gY2hhcmFj
dGVyDQo+ID4gPiA+ID4gPiA+ID4gPiA+IGJsb2NrKDB4QUMwMH4weEQ3QUYpIHRvIHRoZSBDSksg
dG9rZW4gZGVmaW5pdGlvbiBvbiB0aGUNCj4gPiA+ID4gPiA+ID4gPiA+ID4gU3RhbmRhcmRUb2tl
bml6ZXIuamogZmlsZS4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4g
SG9wZSBpdCBoZWxwcy4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4N
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gT24gMTAvNC8wNSwgSm9obiBXYW5nIDxqb2huLndhbmdAZ21h
aWwuY29tPiB3cm90ZToNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBIaToNCj4gPiA+ID4gPiA+ID4g
PiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFdlIGFyZSBydW5uaW5nIGludG8gcHJvYmxl
bXMgd2l0aCBzZWFyY2hpbmcgb24ga29yZWFuDQo+ID4gPiA+ID4gPiA+ID4gPiBkb2N1bWVudHMu
IFdlIGFyZQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5emVy
IGFuZCBldmVyeXRoaW5nIHdvcmtzIHdpdGggQ2hpbmVzZQ0KPiA+ID4gPiA+ID4gPiA+ID4gYW5k
IEphcGFuZXNlLg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEFyZSB0aGVyZSBrbm93biBwcm9ibGVt
cyB3aXRoIEtvcmVhbiB3aXRoIEx1Y2VuZT8NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4g
PiA+ID4gPiA+ID4gPiA+IFRoYW5rcw0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4g
PiA+ID4gPiA+ID4gLUpvaG4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+
ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+
ID4gPiA+ID4gPiA+IC0tDQo+ID4gPiA+ID4gPiA+ID4gPiA+IENoZW9sZ29vDQo+ID4gPiA+ID4g
PiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+IC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXIt
dW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gPiA+ID4gPiA+ID4gRm9yIGFk
ZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5v
cmcNCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+ID4gPiA+ID4gPiBUbyB1bnN1YnNjcmli
ZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+
ID4gPiA+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVs
cEBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+DQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gPiA+ID4gPiBU
byB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNo
ZS5vcmcNCj4gPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEt
dXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+IFRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hl
Lm9yZw0KPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhl
bHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+DQo+ID4gPg0KPiA+ID4NCj4gPiANCj4gPiANCj4g
PiAtLQ0KPiA+IENoZW9sZ29v




From java-user-return-17375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 08:53:41 2005
Return-Path: <java-user-return-17375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25064 invoked from network); 8 Nov 2005 08:53:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 08:53:40 -0000
Received: (qmail 57821 invoked by uid 500); 8 Nov 2005 08:53:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57802 invoked by uid 500); 8 Nov 2005 08:53:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57791 invoked by uid 99); 8 Nov 2005 08:53:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:53:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 00:53:25 -0800
Received: by zproxy.gmail.com with SMTP id v1so487382nzb
        for <java-user@lucene.apache.org>; Tue, 08 Nov 2005 00:53:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=FXbeWFrlKElkVqYhUnEyB3abPJd7+/5bx8bwnBvlC99q8vf88vgU3VSJHGi1k4R+CT/e2b6vXUSVS4kP39TSmsb/CP+uAVuQbDu3B7NlpQoWvFkaXu9QMmjmxBRoJFdTNbCSjkB/LQEITb7a3NM4LsJVLQ6W1HiXE2b5dXUP0Co=
Received: by 10.65.20.5 with SMTP id x5mr6395989qbi;
        Tue, 08 Nov 2005 00:53:10 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Tue, 8 Nov 2005 00:53:10 -0800 (PST)
Message-ID: <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>
Date: Tue, 8 Nov 2005 17:53:10 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: Youngho Cho <youngho@nannet.co.kr>
Subject: Re: korean and lucene
Cc: java-user@lucene.apache.org
In-Reply-To: <008001c5e441$520cb9a0$0201a8c0@local>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <000501c5daa6$80abdba0$0201a8c0@local>
	 <000801c5daa9$33403020$0201a8c0@local>
	 <001401c5dab0$dd942520$0201a8c0@local>
	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
	 <003601c5e438$4a596040$0201a8c0@local>
	 <008001c5e441$520cb9a0$0201a8c0@local>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

T24gMTEvOC8wNSwgWW91bmdobyBDaG8gPHlvdW5naG9AbmFubmV0LmNvLmtyPiB3cm90ZToKPiBI
ZWxsbywKPgo+IGp1c3Qgc2ltcGxlIHRlc3QgLi4uCj4gSWYgSSBjb21waWxlIHRoZSBqYXZhY2Mg
Y29ycmVjdGx5Li4KPiB0aGUgcGF0Y2hlZCB2ZXJzaW9uIGRvZXNuJ3QgbWF0Y2ggc29tZSBzaXR1
YXRpb24KPiBmb3IgZXhhbXBsZQo+IGluIHRleHQKPiAn7JeU7KeE67CV7KeA7ISxKOunqOyytOyK
pO2EsCDsnKDrgpjsnbTti7Drk5wp7J20IOyjvOunkCDtlITrpqzrr7jslrTrpqzqt7jrpbwg7JyE
7ZW0IOuypOy5mOulvCDsp4DtgqTrqbAg7J6s7Lap7KCE7J2YIOyLnOqwhOydhCDqsIDsoYzri6Qu
Jwo+IGlmIHF1ZXJ5IHdvcmQgaXMgJ+yLnOqwhCcgICB0aGFuIG5vdGhpbmcgbWF0Y2gKPiBidXQg
aWYgcXVlcnkgd29yZCBpcyAn7Iuc6rCE7J2EJyAgdGhhbiBnb29kIG1hdGNoLgoKVGhhdCdzIGV4
YWN0bHkgd2hhdCBJJ3ZlIHdhbnRlZCB0byBkbyB3aXRoIHRoaXMgcGF0Y2guIFlvdSBuZWVkIG1v
cmUKc29waGlzdGljYXRlZCBtb3JwaG9sb2dpY2FsIGFuYWx5emVyIHRvIHRvIHdoYXQgeW91J3Zl
IHdhbnRlZCB0by4KQUZBSUssIEknbSBhZnJhaWQgdGhlcmUgaXMgbm8gb3BlbiBzb3VyY2VkIHNv
ZnR3YXJlIHRvIGRvIHRoZSBLb3JlYW4KbW9ycGhvbG9naWNhbCBhbmFseXNpcy4KCkFuZCBhbHNv
LCBpZiB5b3UgaGF2ZSBMdWNlbmUgaW4gQWN0aW9uIEtvcmVhbiB0cmFuc2xhdGlvbiwgdGhlcmUg
aXMgYQpzaW1wbGUgaW50cm9kdWN0aW9uIHRvIEtvcmVhbiBzdGVtbWluZyBhbmFseXNpcyBhdCBB
cHBlbmRpeCBELiBUaGF0J3MKanVzdCBzaW1wbGUgZW5vdWdoIHRvIGhvbGQgYSBsaXN0IG9mIEtv
cmVhbiB3b3JkIGVuZGluZ3MsIGFuZCBjaGVjawpmb3IgZWFjaCBUb2tlbiB3aXRoIG1hdGNoaW5n
IHdvcmQgZW5kaW5ncy4gOikKCj4KPiBJIHRoaW5rIHRoZXJlIGlzIHNvbWUgdHJhZGVvZmYgaGVy
ZS4KPgo+IE1heWJlIG5lZWQgc29tZSBnb29kIHN0b3AgZmlsdGVyIGZvciBrb3JlYW4gZXRjLi4u
Li4uLgo+Cj4KPiBUaGFua3MKPgo+IFlvdW5naG8KPgo+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2Ug
LS0tLS0KPiBGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiBUbzog
PGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4KPiBTZW50OiBUdWVzZGF5LCBOb3ZlbWJlciAw
OCwgMjAwNSA0OjQ0IFBNCj4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4KPgo+ID4g
SGVsbG8gQ2hlb2xnb28sCj4gPgo+ID4gSSB3aWxsIHRlc3QgdGhlIHBhdGNoLgo+ID4KPiA+Cj4g
PiBUaGFua3MsCj4gPgo+ID4gWW91bmdobwo+ID4KPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2Ug
LS0tLS0KPiA+IEZyb206ICJDaGVvbGdvbyBLYW5nIiA8YXBwbGVyQGdtYWlsLmNvbT4KPiA+IFRv
OiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0Bu
YW5uZXQuY28ua3I+Cj4gPiBTZW50OiBUdWVzZGF5LCBOb3ZlbWJlciAwOCwgMjAwNSA0OjA2IFBN
Cj4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUKPiA+Cj4gPgo+ID4gPiBIZWxsbywK
PiA+ID4KPiA+ID4gSSd2ZSBjcmVhdGVkIGEgbmV3IEpJUkEgaXNzdWUgd2l0aCBLb3JlYW4gYW5h
bHlzaXMgdGhhdAo+ID4gPiBTdGFuZGFyZEFuYWx5emVyIHNwbGl0cyBvbmUgd29yZCBpbnRvIHNl
dmVyYWwgdG9rZW5zIGVhY2ggd2l0aCBvbmUKPiA+ID4gY2hhcmFjdGVyLiBDYXVzZSBLb3JlYW4g
aXMgbm90IGEgcGhvbm9ncmFtLCBvbmUgY2hhcmFjdGVyIGluIEtvcmVhbgo+ID4gPiBoYXMgYWxt
b3N0IG5vIG1lYW5pbmcgYXQgYWxsLiBTbyB3b3JkIGluIEtvcmVhbiBzaG91bGQgYmUgcHJlc2Vy
dmVkCj4gPiA+IG5vdCBsaWtlIENoaW5lc2Ugb3IgSmFwYW5lc2UuCj4gPiA+Cj4gPiA+IEkndmUg
YXR0YWNoZWQgYSBwYXRjaCB0byBTdGFuZGFyZFRva2VuaXplciB0byBkbyB0aGlzIGFuZCBwYXNz
ZWQgdGhlCj4gPiA+IHRlc3QgY2FzZSBUZXN0U3RhbmRhcmRBbmFseXplcihhbHNvIHBhdGNoZWQg
dG8gdGVzdCBLb3JlYW4gd29yZHMpLgo+ID4gPgo+ID4gPiBUaGFua3MhCj4gPiA+Cj4gPiA+IE9u
IDEwLzI3LzA1LCBZb3VuZ2hvIENobyA8eW91bmdob0BuYW5uZXQuY28ua3I+IHdyb3RlOgo+ID4g
PiA+IEhlbGxvLAo+ID4gPiA+Cj4gPiA+ID4gT2sgLCBJJ3ZlIGF0dGFjaGVkIG15IHRlc3QgY29k
ZSBmb3IgS29yZWFuIHdoaWNoIGlzIHNsaXRlbHkgbW9kaWZpZWQgS29qaSdzIGNvZGUuCj4gPiA+
ID4KPiA+ID4gPiBKdXN0IHB1dCBpbnRvIHRoZSBsaWEuYW5hbHlzaXMuaTE4biBwYWNrYWdlIGF0
IEx1Y2VuZUluQWN0aW9uCj4gPiA+ID4gYW5kIHJ1biBhbnQuCj4gPiA+ID4KPiA+ID4gPiBIb3Bl
bHkgc29tZW9uZSBpcyBoZWxwZWQuCj4gPiA+ID4KPiA+ID4gPiAtLS0tLS0tLSBidWlsZC54bWwg
IC0tLS0tLS0tLQo+ID4gPiA+Cj4gPiA+ID4gICA8dGFyZ2V0IG5hbWU9IkphcGFuZXNlRGVtbyIg
ZGVwZW5kcz0icHJlcGFyZSIKPiA+ID4gPiAgICAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGVz
IG9mIEphbmFuZXNlIGFuYWx5c2lzIj4KPiA+ID4gPiAgICAgPGluZm8+Cj4gPiA+ID4KPiA+ID4g
PiAgICAgICBKYXBhbmVzZSBUZXN0Li4uCj4gPiA+ID4KPiA+ID4gPiAgICAgPC9pbmZvPgo+ID4g
PiA+Cj4gPiA+ID4gICAgIDxydW4tbWFpbiBjbGFzcz0ibGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5l
c2VEZW1vIi8+Cj4gPiA+ID4gICA8L3RhcmdldD4KPiA+ID4gPgo+ID4gPiA+ICAgPHRhcmdldCBu
YW1lPSJLb3JlYW5EZW1vIiBkZXBlbmRzPSJwcmVwYXJlIgo+ID4gPiA+ICAgICAgICAgICBkZXNj
cmlwdGlvbj0iRXhhbXBsZXMgb2YgS29yZWFuIGFuYWx5c2lzIj4KPiA+ID4gPiAgICAgPGluZm8+
Cj4gPiA+ID4KPiA+ID4gPiAgICAgICBLb3JlYW4gVGVzdC4uLgo+ID4gPiA+Cj4gPiA+ID4gICAg
IDwvaW5mbz4KPiA+ID4gPgo+ID4gPiA+ICAgICA8cnVuLW1haW4gY2xhc3M9ImxpYS5hbmFseXNp
cy5pMThuLktvcmVhbkRlbW8iLz4KPiA+ID4gPiAgIDwvdGFyZ2V0Pgo+ID4gPiA+Cj4gPiA+ID4K
PiA+ID4gPiBUaGFua3MsCj4gPiA+ID4KPiA+ID4gPiBZb3VuZ2hvCj4gPiA+ID4KPiA+ID4gPgo+
ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0KPiA+ID4gPiBGcm9tOiAiWW91bmdo
byBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNl
bmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4g
PiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDEyOjQ3IFBNCj4gPiA+ID4gU3Vi
amVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+ID4gSGVs
bG8gYWxsCj4gPiA+ID4gPiBQbGVzZSBmb3JnaXZlIG1lIHBlcnZpb3VzIG15IHN0dXBpZCBtZXNz
YWdlCj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMu
aTE4bi5Lb3JlYW5EZW1vLi4uCj4gPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSBb6riwXSAgYW5h
bHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5
emVyCj4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLAKPiA+ID4gPiA+ICAgICAg
W2phdmFdIHF1ZXJ5ID0gIuqyvSDquLAiCj4gPiA+ID4gPgo+ID4gPiA+ID4gSSBnb3QgdGhlIGdv
b2QgcmVzdWx0Lgo+ID4gPiA+ID4KPiA+ID4gPiA+IFdoZW4gSSBjb21waWxlIEkganVzdCByZW5h
bWUgb2xkIHZlcnNpb24gbHVjZW5lLTEuNC4zLmphciB0byBsdWNlbmUtMS40LjMuamFyX2Jhawo+
ID4gPiA+ID4gYW5kIGFsbCBuZXcgMS45IGx1Y2VuZS4gYW5kIGJ1aWxkIHRoZSB0ZXN0IHBhY2th
Z2UuCj4gPiA+ID4gPiBBZnRlciBJIHJlbW92ZSBsdWNlbmUtMS40LjMuamFyX2JhayBpbiBsaWIg
ZGlyZWN0b3J5IGNvbXBsZXRlbHkKPiA+ID4gPiA+IEkgZ290IHRoZSBleHBlY3RlZCByZXN1bHQg
ISEhLgo+ID4gPiA+ID4KPiA+ID4gPiA+IEkgZG9uJ3Qga25vdyB0aGUgcmVhc29uLi4uICggbG9v
a3MgbGlrZSBteSBmaW5nZXIgbWFrZSBzb21lIHRyb3VibGUuLi4gKQo+ID4gPiA+ID4KPiA+ID4g
PiA+IEFueXdheSB0aGFua3MgS29qaSBhbmQgQ2hlb2xnb28KPiA+ID4gPiA+IEkgd2lsbCBmdXJ0
aGVyIHRlc3Qgbm93Li4uCj4gPiA+ID4gPgo+ID4gPiA+ID4gWW91bmdobwo+ID4gPiA+ID4KPiA+
ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3Nh
Z2UgLS0tLS0KPiA+ID4gPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNv
LmtyPgo+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+Cj4gPiA+ID4g
PiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSAxMjoyOCBQTQo+ID4gPiA+ID4gU3Vi
amVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gSGVsbG8gS29qaQo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBIZXJlIGlzIHRlc3QgcmVzdWx0
Lgo+ID4gPiA+ID4gPiBKYXBhbmVzZSBpcyBPSyAhLgo+ID4gPiA+ID4gPiBtYXliZSBhbnQgY2xl
YW4gIGRpZCBzb21lIGVmZmVjdC4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gQW55d2F5IHBsZWFz
ZSByZWZlciB0byB0aGUgcmVzdWx0IHVzaW5nIDEuOQo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiAg
ICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLgo+ID4g
PiA+ID4gPiAgICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44OzXSBb5bGLXSAgYW5hbHl6ZXIgPSBv
cmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyCj4gPiA+
ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOODqT/jg6Hjg7PlsYsKPiA+ID4gPiA+ID4gICAg
ICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/jg6Hjg7PlsYsKPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4K
PiA+ID4gPiA+ID4gICAgICBbamF2YV0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5h
bHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBw
aHJhc2UgPSDqsr0KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNl
RGVtby4uLgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBb44OpXSBb44Oh44OzXSBb44Oz5bGLXSAg
YW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXIKPiA+
ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wxiwo+ID4gPiA+ID4gPiAg
ICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wxiwo+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4u
Lgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1
Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXIKPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhy
YXNlID0g6rK9Cj4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK9Cj4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFu
RGVtby4uLgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1
Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyCj4gPiA+ID4gPiA+ICAgICAg
W2phdmFdIHBocmFzZSA9IOqyveq4sAo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9Cj4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkx
OG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBb6rK96riwXSAgYW5hbHl6
ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXIKPiA+ID4gPiA+
ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK96riwCj4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1
ZXJ5ID0g6rK96riwCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IFN0YW5kYXJk
IGFuYWx5emVyIGRpZG4ndCB0b2tlbml6ZWQgdGhlIEtvcmVhbiBDaGFyYWN0ZXIgYXQgYWxsLi4u
Lgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBVZy4uLi4gIGxvb2sgbGlrZQo+ID4gPiA+ID4gPiAg
aHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+ID4gPiA+
ID4gIGRpZG4ndCBlZmZlY3QgYXQgYWxsIGZvciBLb3JlYW4uCj4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+IFRoYW5rcwo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBZb3VuZ2hvCj4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0KPiA+ID4g
PiA+ID4gRnJvbTogIktvamkgU2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5q
cD4KPiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdo
byBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXks
IE9jdG9iZXIgMjcsIDIwMDUgMTE6NDcgQU0KPiA+ID4gPiA+ID4gU3ViamVjdDogUkU6IGtvcmVh
biBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gSGVsbG8g
WW91bmdobywKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEkgZG9uJ3QgdW5kZXJzdGFuZCB3
aHkgeW91IGNvdWxkbid0IGdldCBoaXRzIHJlc3VsdCBpbiBKYXBhbmVzZSwKPiA+ID4gPiA+ID4g
PiB0aG91Z2gsIHlvdSBoYWQgYmV0dGVyIGNoZWNrIHdoeSB0aGUgcXVlcnkgd2FzIGVtcHR5IHdp
dGggS29yZWFuIGRhdGE6Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IEZvciBLb3JlYW4K
PiA+ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29y
ZWFuRGVtby4uLgo+ID4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK9Cj4gPiA+
ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiBUaGUgbGFzdCBsaW5lIHNob3VsZCBiZSBxdWVyeSA9IOqyvQo+ID4gPiA+ID4gPiA+IHRvIGdl
dCBoaXRzIHJlc3VsdC4gQ2FuIHlvdSBjaGVjayB3aHkgU3RhbmRhcmRBbmFseXplcgo+ID4gPiA+
ID4gPiA+IHJlbW92ZXMgIuqyvSIgZHVyaW5nIHRva2VuaXppbmc/Cj4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiBLb2ppCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IC0tLS0tT3JpZ2lu
YWwgTWVzc2FnZS0tLS0tCj4gPiA+ID4gPiA+ID4gPiBGcm9tOiBZb3VuZ2hvIENobyBbbWFpbHRv
OnlvdW5naG9AbmFubmV0LmNvLmtyXQo+ID4gPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9j
dG9iZXIgMjcsIDIwMDUgMTE6MzcgQU0KPiA+ID4gPiA+ID4gPiA+IFRvOiBqYXZhLXVzZXJAbHVj
ZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1
Y2VuZQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBIZWxs
byBLb2ppLAo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IFRoYW5rcyBmb3IgeW91ciBr
aW5kIHJlcGx5Lgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IFllcywgSSB1c2VkIFF1
ZXJ5UGFyc2VyLiBub3JtYWx5IEkgdXNlZAo+ID4gPiA+ID4gPiA+ID4gUXVlcnkgPSBRdWVyeVBh
cnNlci5wYXJzZSggKSBtZXRob2QuCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gSSBw
dXQgeW91ciBzYW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBhY2thZ2UgaW4gTHVj
ZW5lQWN0aW9uCj4gPiA+ID4gPiA+ID4gPiBhbmQgcnVuIEphcGFuZXNlRGVtbyB1c2luZyAxLjQg
YW5kIDEuOQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IHJlc3VsdHMgYXJlCj4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlz
aXMuaTE4bi5KYXBhbmVzZURlbW8uLi4KPiA+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5
ID0gY29udGVudDrjg6k/44Oh44Oz5bGLCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
SSBjYW4ndCBnZXQgaGl0cyByZXN1bHQuCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
Rm9yIEtvcmVhbgo+ID4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlz
aXMuaTE4bi5Lb3JlYW5EZW1vLi4uCj4gPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2Ug
PSDqsr0KPiA+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0KPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiBJIGNhbid0IGdldCBxdWVyeSBwYXJzZSByZXN1bHQuCj4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gVGhhbmtzLAo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiA+IFlvdW5naG8KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0KPiA+ID4g
PiA+ID4gPiA+IEZyb206ICJLb2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1Y2hpQG00LmRpb24u
bmUuanA+Cj4gPiA+ID4gPiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47
ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiA+ID4gPiA+ID4gU2Vu
dDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgOTo0OCBBTQo+ID4gPiA+ID4gPiA+ID4gU3Vi
amVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiA+ID4gSGkgWW91bmdobywKPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+ID4gV2l0aCByZWdhcmQgdG8gSmFwYW5lc2UsIHVzaW5nIFN0YW5kYXJkQW5hbHl6
ZXIsCj4gPiA+ID4gPiA+ID4gPiA+IEkgY2FuIHNlYXJjaCBhIHdvcmQvcGhhc2UuCj4gPiA+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IERpZCB5b3UgdXNlIFF1ZXJ5UGFyc2VyPyBTdGFu
ZGFyZEFuYWx5emVyIHRva2VuaXplcwo+ID4gPiA+ID4gPiA+ID4gPiBDSksgY2hhcmFjdGVycyBp
bnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuCj4gPiA+ID4gPiA+ID4gPiA+IFVzZSBR
dWVyeVBhcnNlciB0byBnZXQgYSBQaHJhc2VRdWVyeSBhbmQgc2VhcmNoIHRoZSBxdWVyeS4KPiA+
ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gUGxlYXNlIHNlZSB0aGUgZm9sbG93aW5n
IHNhbXBsZSBjb2RlLiBSZXBsYWNlIEphcGFuZXNlCj4gPiA+ID4gPiA+ID4gPiA+ICJjb250ZW50
cyIgYW5kIChzZWFyY2ggdGFyZ2V0KSAicGhyYXNlIiB3aXRoIEtvcmVhbiBpbiB0aGUKPiA+ID4g
PiA+ID4gPiA+IHByb2dyYW0gYW5kIHJ1bi4KPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiA+ID4gcmVnYXJkcywKPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gS29qaQo+
ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0KPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IGphdmEuaW8u
SU9FeGNlcHRpb247Cj4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5h
bmFseXNpcy5BbmFseXplcjsKPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXI7Cj4gPiA+ID4gPiA+ID4gPiA+
IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXI7Cj4gPiA+
ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5EaXJlY3Rvcnk7Cj4g
PiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5SQU1EaXJlY3Rv
cnk7Cj4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5JbmRl
eFdyaXRlcjsKPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3Vt
ZW50LkRvY3VtZW50Owo+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUu
ZG9jdW1lbnQuRmllbGQ7Cj4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2Vu
ZS5zZWFyY2guSW5kZXhTZWFyY2hlcjsKPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFj
aGUubHVjZW5lLnNlYXJjaC5IaXRzOwo+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuc2VhcmNoLlF1ZXJ5Owo+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUucXVlcnlQYXJzZXIuUXVlcnlQYXJzZXI7Cj4gPiA+ID4gPiA+ID4gPiA+IGltcG9y
dCBvcmcuYXBhY2hlLmx1Y2VuZS5xdWVyeVBhcnNlci5QYXJzZUV4Y2VwdGlvbjsKPiA+ID4gPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gcHVibGljIGNsYXNzIEphcGFuZXNlQnlTdGFuZGFy
ZEFuYWx5emVyIHsKPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZh
dGUgc3RhdGljIGZpbmFsIFN0cmluZyBGSUVMRF9DT05URU5UID0gImNvbnRlbnQiOwo+ID4gPiA+
ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nW10gY29udGVudHMgPSB7
Cj4gPiA+ID4gPiA+ID4gPiA+ICLmnbHkuqzjgavjga/jgYrjgYTjgZfjgYTjg6njg7zjg6Hjg7Pl
sYvjgYzjgZ/jgY/jgZXjgpPjgYLjgorjgb7jgZnjgIIiLAo+ID4gPiA+ID4gPiA+ID4gPiAi5YyX
5rW36YGT44Gr44KC44GK44GE44GX44GE44Op44O844Oh44Oz5bGL44GM44GC44KK44G+44GZ44CC
Igo+ID4gPiA+ID4gPiA+ID4gPiAgICAgfTsKPiA+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUg
c3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi44Op44O844Oh44Oz5bGLIjsKPiA+ID4gPiA+
ID4gPiA+ID4gICAgIC8vcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLlsYsi
Owo+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIgYW5hbHl6ZXIg
PSBudWxsOwo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oIFN0cmluZ1tdIGFyZ3MgKSB0aHJvd3MKPiA+ID4gPiA+ID4gPiA+IElP
RXhjZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7Cj4gPiA+ID4gPiA+ID4gPiA+IERpcmVjdG9yeSBk
aXJlY3RvcnkgPSBtYWtlSW5kZXgoKTsKPiA+ID4gPiA+ID4gPiA+ID4gc2VhcmNoKCBkaXJlY3Rv
cnkgKTsKPiA+ID4gPiA+ID4gPiA+ID4gZGlyZWN0b3J5LmNsb3NlKCk7Cj4gPiA+ID4gPiA+ID4g
PiA+ICAgICB9Cj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRl
IHN0YXRpYyBBbmFseXplciBnZXRBbmFseXplcigpewo+ID4gPiA+ID4gPiA+ID4gPiBpZiggYW5h
bHl6ZXIgPT0gbnVsbCApewo+ID4gPiA+ID4gPiA+ID4gPiAgICAgYW5hbHl6ZXIgPSBuZXcgU3Rh
bmRhcmRBbmFseXplcigpOwo+ID4gPiA+ID4gPiA+ID4gPiAgICAgLy9hbmFseXplciA9IG5ldyBD
SktBbmFseXplcigpOwo+ID4gPiA+ID4gPiA+ID4gPiB9Cj4gPiA+ID4gPiA+ID4gPiA+IHJldHVy
biBhbmFseXplcjsKPiA+ID4gPiA+ID4gPiA+ID4gICAgIH0KPiA+ID4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIERpcmVjdG9yeSBtYWtlSW5kZXgoKSB0
aHJvd3MgSU9FeGNlcHRpb24gewo+ID4gPiA+ID4gPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5
ID0gbmV3IFJBTURpcmVjdG9yeSgpOwo+ID4gPiA+ID4gPiA+ID4gPiBJbmRleFdyaXRlciB3cml0
ZXIgPSBuZXcgSW5kZXhXcml0ZXIoIGRpcmVjdG9yeSwgZ2V0QW5hbHl6ZXIoKSwgdHJ1ZSApOwo+
ID4gPiA+ID4gPiA+ID4gPiBmb3IoIGludCBpID0gMDsgaSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsr
ICl7Cj4gPiA+ID4gPiA+ID4gPiA+ICAgICBEb2N1bWVudCBkb2MgPSBuZXcgRG9jdW1lbnQoKTsK
PiA+ID4gPiA+ID4gPiA+ID4gICAgIGRvYy5hZGQoIG5ldyBGaWVsZCggRklFTERfQ09OVEVOVCwg
Y29udGVudHNbaV0sCj4gPiA+ID4gPiA+ID4gPiBGaWVsZC5TdG9yZS5ZRVMsIEZpZWxkLkluZGV4
LlRPS0VOSVpFRCApICk7Cj4gPiA+ID4gPiA+ID4gPiA+ICAgICB3cml0ZXIuYWRkRG9jdW1lbnQo
IGRvYyApOwo+ID4gPiA+ID4gPiA+ID4gPiB9Cj4gPiA+ID4gPiA+ID4gPiA+IHdyaXRlci5jbG9z
ZSgpOwo+ID4gPiA+ID4gPiA+ID4gPiByZXR1cm4gZGlyZWN0b3J5Owo+ID4gPiA+ID4gPiA+ID4g
PiAgICAgfQo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBz
dGF0aWMgdm9pZCBzZWFyY2goIERpcmVjdG9yeSBkaXJlY3RvcnkgKSB0aHJvd3MKPiA+ID4gPiA+
ID4gPiA+IElPRXhjZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7Cj4gPiA+ID4gPiA+ID4gPiA+IElu
ZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hlciggZGlyZWN0b3J5ICk7Cj4g
PiA+ID4gPiA+ID4gPiA+IFF1ZXJ5UGFyc2VyIHBhcnNlciA9IG5ldyBRdWVyeVBhcnNlciggRklF
TERfQ09OVEVOVCwgZ2V0QW5hbHl6ZXIoKSApOwo+ID4gPiA+ID4gPiA+ID4gPiBRdWVyeSBxdWVy
eSA9IHBhcnNlci5wYXJzZSggcGhyYXNlICk7Cj4gPiA+ID4gPiA+ID4gPiA+IFN5c3RlbS5vdXQu
cHJpbnRsbiggInF1ZXJ5ID0gIiArIHF1ZXJ5ICk7Cj4gPiA+ID4gPiA+ID4gPiA+IEhpdHMgaGl0
cyA9IHNlYXJjaGVyLnNlYXJjaCggcXVlcnkgKTsKPiA+ID4gPiA+ID4gPiA+ID4gZm9yKCBpbnQg
aSA9IDA7IGkgPCBoaXRzLmxlbmd0aCgpOyBpKysgKQo+ID4gPiA+ID4gPiA+ID4gPiAgICAgU3lz
dGVtLm91dC5wcmludGxuKCAiZG9jID0gIiArIGhpdHMuZG9jKCBpICkuZ2V0KCBGSUVMRF9DT05U
RU5UICkgKTsKPiA+ID4gPiA+ID4gPiA+ID4gc2VhcmNoZXIuY2xvc2UoKTsKPiA+ID4gPiA+ID4g
PiA+ID4gICAgIH0KPiA+ID4gPiA+ID4gPiA+ID4gfQo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5h
bm5ldC5jby5rcl0KPiA+ID4gPiA+ID4gPiA+ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAy
NywgMjAwNSA4OjE4IEFNCj4gPiA+ID4gPiA+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUu
YXBhY2hlLm9yZzsgQ2hlb2xnb28gS2FuZwo+ID4gPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJl
OiBrb3JlYW4gYW5kIGx1Y2VuZQo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiBIZWxsbyBDaGVvbGdvbywKPiA+ID4gPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ID4gPiA+IE5vdyBJIHVwZGF0ZWQgbXkgbHVjZW5lIHZlcnNpb24gdG8g
MS45IGZvciB1c2luZyBTdGFuZGFyZEFuYWx5emVyCj4gPiA+ID4gPiA+ID4gPiA+ID4gZm9yIEtv
cmVhbi4KPiA+ID4gPiA+ID4gPiA+ID4gPiBBbmQgdGVzdGVkIHlvdXIgcGF0Y2ggd2hpY2ggaXMg
YWxyZWFkeSBhZG9wdGVkIGluIDEuOQo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
PiA+ID4gaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+
ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IEJ1dCBTdGlsbCBJIGhhdmUgbm8g
Z29vZCAgcmVzdWx0cyB3aXRoIEtvcmVhbiBjb21wYXJlIHdpdGgKPiA+ID4gPiA+ID4gPiA+IENK
S0FuYWx5emVyLgo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gU2luZ2xl
IGNoYXJhY3RlciBpcyBnb29kIG1hdGNoIGJ1dCBtb3JlIHR3byBjaGFyYWN0ZXIgd29yZAo+ID4g
PiA+ID4gPiA+ID4gPiA+IGRvZXNuJ3QgbWF0Y2ggYXQgYWxsLgo+ID4gPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gQW0gSSBzb21ldGhpbmcgbWlzc2luZyBvciBzdGlsbCB0aGVy
ZSBuZWVkIHNvbWUgbW9yZSB3b3JrcyA/Cj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IFRoYW5rcywKPiA+ID4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ID4gPiA+IFlvdW5naG8uCj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0t
LS0KPiA+ID4gPiA+ID4gPiA+ID4gPiBGcm9tOiAiQ2hlb2xnb28gS2FuZyIgPGFwcGxlckBnbWFp
bC5jb20+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5v
cmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdtYWlsLmNvbT4KPiA+ID4gPiA+ID4gPiA+ID4g
PiBTZW50OiBUdWVzZGF5LCBPY3RvYmVyIDA0LCAyMDA1IDEwOjExIEFNCj4gPiA+ID4gPiA+ID4g
PiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gU3RhbmRhcmRBbmFseXpl
cidzIEphdmFDQyBiYXNlZCBTdGFuZGFyZFRva2VuaXplci5qaiBjYW5ub3QgcmVhZAo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gS29yZWFuIHBhcnQgb2YgVW5pY29kZSBjaGFyYWN0ZXIgYmxvY2tzLgo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFlvdSBzaG91bGQgMSkg
dXNlIENKS0FuYWx5emVyIG9yIDIpIGFkZCBLb3JlYW4gY2hhcmFjdGVyCj4gPiA+ID4gPiA+ID4g
PiA+ID4gPiBibG9jaygweEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24g
b24gdGhlCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBTdGFuZGFyZFRva2VuaXplci5qaiBmaWxlLgo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEhvcGUgaXQgaGVscHMu
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiA+ID4gPiA+IE9uIDEwLzQvMDUsIEpvaG4gV2FuZyA8am9obi53YW5nQGdtYWlsLmNvbT4gd3Jv
dGU6Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEhpOgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1zIHdpdGgg
c2VhcmNoaW5nIG9uIGtvcmVhbgo+ID4gPiA+ID4gPiA+ID4gPiA+IGRvY3VtZW50cy4gV2UgYXJl
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5emVyIGFuZCBl
dmVyeXRoaW5nIHdvcmtzIHdpdGggQ2hpbmVzZQo+ID4gPiA+ID4gPiA+ID4gPiA+IGFuZCBKYXBh
bmVzZS4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gQXJlIHRoZXJlIGtub3duIHByb2JsZW1zIHdp
dGggS29yZWFuIHdpdGggTHVjZW5lPwo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiA+ID4gPiA+ID4gPiBUaGFua3MKPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiA+ID4gPiA+ID4gLUpvaG4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gLS0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IENoZW9sZ29vCj4gPiA+
ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDog
amF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPiA+
ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNl
bmUuYXBhY2hlLm9yZwo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+ID4gPiA+ID4gPiA+
ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5h
cGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQo+ID4gPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11
bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFs
IGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+
ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCj4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2Vy
LXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29t
bWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPgo+
ID4gPiA+Cj4gPiA+ID4KPiA+ID4KPiA+ID4KPiA+ID4gLS0KPiA+ID4gQ2hlb2xnb28KCgotLQpD
aGVvbGdvbwo=


From java-user-return-17376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 09:07:57 2005
Return-Path: <java-user-return-17376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34494 invoked from network); 8 Nov 2005 09:07:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 09:07:56 -0000
Received: (qmail 74138 invoked by uid 500); 8 Nov 2005 09:07:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74093 invoked by uid 500); 8 Nov 2005 09:07:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74078 invoked by uid 99); 8 Nov 2005 09:07:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 01:07:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.124.29] (HELO dev.nannet.co.kr) (221.146.124.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 01:07:40 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id jA896V9T021393
	for <java-user@lucene.apache.org>; Tue, 8 Nov 2005 18:06:32 +0900
Message-ID: <001701c5e444$cf476980$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp> <000501c5daa6$80abdba0$0201a8c0@local> <000801c5daa9$33403020$0201a8c0@local> <001401c5dab0$dd942520$0201a8c0@local> <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com> <003601c5e438$4a596040$0201a8c0@local> <008001c5e441$520cb9a0$0201a8c0@local> <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>
Subject: Re: korean and lucene
Date: Tue, 8 Nov 2005 18:14:23 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

DQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIkNoZW9sZ29vIEthbmciIDxh
cHBsZXJAZ21haWwuY29tPg0KVG86ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmty
Pg0KQ2M6IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQpTZW50OiBUdWVzZGF5LCBOb3Zl
bWJlciAwOCwgMjAwNSA1OjUzIFBNDQpTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUNCg0K
DQo+IE9uIDExLzgvMDUsIFlvdW5naG8gQ2hvIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4gd3JvdGU6
DQo+ID4gSGVsbG8sDQo+ID4NCj4gPiBqdXN0IHNpbXBsZSB0ZXN0IC4uLg0KPiA+IElmIEkgY29t
cGlsZSB0aGUgamF2YWNjIGNvcnJlY3RseS4uDQo+ID4gdGhlIHBhdGNoZWQgdmVyc2lvbiBkb2Vz
bid0IG1hdGNoIHNvbWUgc2l0dWF0aW9uDQo+ID4gZm9yIGV4YW1wbGUNCj4gPiBpbiB0ZXh0DQo+
ID4gJ+yXlOynhOuwleyngOyEsSjrp6jssrTsiqTthLAg7Jyg64KY7J207Yuw65OcKeydtCDso7zr
p5Ag7ZSE66as66+47Ja066as6re466W8IOychO2VtCDrsqTsuZjrpbwg7KeA7YKk66mwIOyerOy2
qeyghOydmCDsi5zqsITsnYQg6rCA7KGM64ukLicNCj4gPiBpZiBxdWVyeSB3b3JkIGlzICfsi5zq
sIQnICAgdGhhbiBub3RoaW5nIG1hdGNoDQo+ID4gYnV0IGlmIHF1ZXJ5IHdvcmQgaXMgJ+yLnOqw
hOydhCcgIHRoYW4gZ29vZCBtYXRjaC4NCj4gDQo+IFRoYXQncyBleGFjdGx5IHdoYXQgSSd2ZSB3
YW50ZWQgdG8gZG8gd2l0aCB0aGlzIHBhdGNoLiBZb3UgbmVlZCBtb3JlDQo+IHNvcGhpc3RpY2F0
ZWQgbW9ycGhvbG9naWNhbCBhbmFseXplciB0byB0byB3aGF0IHlvdSd2ZSB3YW50ZWQgdG8uDQo+
IEFGQUlLLCBJJ20gYWZyYWlkIHRoZXJlIGlzIG5vIG9wZW4gc291cmNlZCBzb2Z0d2FyZSB0byBk
byB0aGUgS29yZWFuDQo+IG1vcnBob2xvZ2ljYWwgYW5hbHlzaXMuDQo+IA0KSSBob3BlIEx1Y2Vu
ZSBjb21tdW5pdHkgc3VwcG9ydCBLb3JlYW4gYmV0dGVyLg0KDQo+IEFuZCBhbHNvLCBpZiB5b3Ug
aGF2ZSBMdWNlbmUgaW4gQWN0aW9uIEtvcmVhbiB0cmFuc2xhdGlvbiwgdGhlcmUgaXMgYQ0KPiBz
aW1wbGUgaW50cm9kdWN0aW9uIHRvIEtvcmVhbiBzdGVtbWluZyBhbmFseXNpcyBhdCBBcHBlbmRp
eCBELiBUaGF0J3MNCj4ganVzdCBzaW1wbGUgZW5vdWdoIHRvIGhvbGQgYSBsaXN0IG9mIEtvcmVh
biB3b3JkIGVuZGluZ3MsIGFuZCBjaGVjaw0KPiBmb3IgZWFjaCBUb2tlbiB3aXRoIG1hdGNoaW5n
IHdvcmQgZW5kaW5ncy4gOikNCj4gDQoNCkdyZWF0ICENCllvdSBoYXZlIGF0IGxlYXN0IG9uZSB1
c2VyLg0KDQoNClRoYW5rcy4NCg0KWW91bmdobw0KDQoNCg0KPiA+DQo+ID4gSSB0aGluayB0aGVy
ZSBpcyBzb21lIHRyYWRlb2ZmIGhlcmUuDQo+ID4NCj4gPiBNYXliZSBuZWVkIHNvbWUgZ29vZCBz
dG9wIGZpbHRlciBmb3Iga29yZWFuIGV0Yy4uLi4uLi4NCj4gPg0KPiA+DQo+ID4gVGhhbmtzDQo+
ID4NCj4gPiBZb3VuZ2hvDQo+ID4NCj4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+
ID4gRnJvbTogIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQo+ID4gVG86IDxq
YXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQo+ID4gU2VudDogVHVlc2RheSwgTm92ZW1iZXIg
MDgsIDIwMDUgNDo0NCBQTQ0KPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+
DQo+ID4NCj4gPiA+IEhlbGxvIENoZW9sZ29vLA0KPiA+ID4NCj4gPiA+IEkgd2lsbCB0ZXN0IHRo
ZSBwYXRjaC4NCj4gPiA+DQo+ID4gPg0KPiA+ID4gVGhhbmtzLA0KPiA+ID4NCj4gPiA+IFlvdW5n
aG8NCj4gPiA+DQo+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiBGcm9t
OiAiQ2hlb2xnb28gS2FuZyIgPGFwcGxlckBnbWFpbC5jb20+DQo+ID4gPiBUbzogPGphdmEtdXNl
ckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmty
Pg0KPiA+ID4gU2VudDogVHVlc2RheSwgTm92ZW1iZXIgMDgsIDIwMDUgNDowNiBQTQ0KPiA+ID4g
U3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gPg0KPiA+ID4NCj4gPiA+ID4gSGVs
bG8sDQo+ID4gPiA+DQo+ID4gPiA+IEkndmUgY3JlYXRlZCBhIG5ldyBKSVJBIGlzc3VlIHdpdGgg
S29yZWFuIGFuYWx5c2lzIHRoYXQNCj4gPiA+ID4gU3RhbmRhcmRBbmFseXplciBzcGxpdHMgb25l
IHdvcmQgaW50byBzZXZlcmFsIHRva2VucyBlYWNoIHdpdGggb25lDQo+ID4gPiA+IGNoYXJhY3Rl
ci4gQ2F1c2UgS29yZWFuIGlzIG5vdCBhIHBob25vZ3JhbSwgb25lIGNoYXJhY3RlciBpbiBLb3Jl
YW4NCj4gPiA+ID4gaGFzIGFsbW9zdCBubyBtZWFuaW5nIGF0IGFsbC4gU28gd29yZCBpbiBLb3Jl
YW4gc2hvdWxkIGJlIHByZXNlcnZlZA0KPiA+ID4gPiBub3QgbGlrZSBDaGluZXNlIG9yIEphcGFu
ZXNlLg0KPiA+ID4gPg0KPiA+ID4gPiBJJ3ZlIGF0dGFjaGVkIGEgcGF0Y2ggdG8gU3RhbmRhcmRU
b2tlbml6ZXIgdG8gZG8gdGhpcyBhbmQgcGFzc2VkIHRoZQ0KPiA+ID4gPiB0ZXN0IGNhc2UgVGVz
dFN0YW5kYXJkQW5hbHl6ZXIoYWxzbyBwYXRjaGVkIHRvIHRlc3QgS29yZWFuIHdvcmRzKS4NCj4g
PiA+ID4NCj4gPiA+ID4gVGhhbmtzIQ0KPiA+ID4gPg0KPiA+ID4gPiBPbiAxMC8yNy8wNSwgWW91
bmdobyBDaG8gPHlvdW5naG9AbmFubmV0LmNvLmtyPiB3cm90ZToNCj4gPiA+ID4gPiBIZWxsbywN
Cj4gPiA+ID4gPg0KPiA+ID4gPiA+IE9rICwgSSd2ZSBhdHRhY2hlZCBteSB0ZXN0IGNvZGUgZm9y
IEtvcmVhbiB3aGljaCBpcyBzbGl0ZWx5IG1vZGlmaWVkIEtvamkncyBjb2RlLg0KPiA+ID4gPiA+
DQo+ID4gPiA+ID4gSnVzdCBwdXQgaW50byB0aGUgbGlhLmFuYWx5c2lzLmkxOG4gcGFja2FnZSBh
dCBMdWNlbmVJbkFjdGlvbg0KPiA+ID4gPiA+IGFuZCBydW4gYW50Lg0KPiA+ID4gPiA+DQo+ID4g
PiA+ID4gSG9wZWx5IHNvbWVvbmUgaXMgaGVscGVkLg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gLS0t
LS0tLS0gYnVpbGQueG1sICAtLS0tLS0tLS0NCj4gPiA+ID4gPg0KPiA+ID4gPiA+ICAgPHRhcmdl
dCBuYW1lPSJKYXBhbmVzZURlbW8iIGRlcGVuZHM9InByZXBhcmUiDQo+ID4gPiA+ID4gICAgICAg
ICAgIGRlc2NyaXB0aW9uPSJFeGFtcGxlcyBvZiBKYW5hbmVzZSBhbmFseXNpcyI+DQo+ID4gPiA+
ID4gICAgIDxpbmZvPg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gICAgICAgSmFwYW5lc2UgVGVzdC4u
Lg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gICAgIDwvaW5mbz4NCj4gPiA+ID4gPg0KPiA+ID4gPiA+
ICAgICA8cnVuLW1haW4gY2xhc3M9ImxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtbyIvPg0K
PiA+ID4gPiA+ICAgPC90YXJnZXQ+DQo+ID4gPiA+ID4NCj4gPiA+ID4gPiAgIDx0YXJnZXQgbmFt
ZT0iS29yZWFuRGVtbyIgZGVwZW5kcz0icHJlcGFyZSINCj4gPiA+ID4gPiAgICAgICAgICAgZGVz
Y3JpcHRpb249IkV4YW1wbGVzIG9mIEtvcmVhbiBhbmFseXNpcyI+DQo+ID4gPiA+ID4gICAgIDxp
bmZvPg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gICAgICAgS29yZWFuIFRlc3QuLi4NCj4gPiA+ID4g
Pg0KPiA+ID4gPiA+ICAgICA8L2luZm8+DQo+ID4gPiA+ID4NCj4gPiA+ID4gPiAgICAgPHJ1bi1t
YWluIGNsYXNzPSJsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vIi8+DQo+ID4gPiA+ID4gICA8
L3RhcmdldD4NCj4gPiA+ID4gPg0KPiA+ID4gPiA+DQo+ID4gPiA+ID4gVGhhbmtzLA0KPiA+ID4g
PiA+DQo+ID4gPiA+ID4gWW91bmdobw0KPiA+ID4gPiA+DQo+ID4gPiA+ID4NCj4gPiA+ID4gPiAt
LS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiA+ID4gRnJvbTogIllvdW5naG8gQ2hv
IiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQo+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5l
LmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NCj4gPiA+
ID4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSAxMjo0NyBQTQ0KPiA+ID4gPiA+
IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+DQo+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+IEhlbGxvIGFsbA0KPiA+ID4gPiA+ID4gUGxlc2UgZm9yZ2l2ZSBtZSBwZXJ2aW91
cyBteSBzdHVwaWQgbWVzc2FnZQ0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ICAgICAgW2VjaG9d
IFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiA+ID4gICAg
ICBbamF2YV0gW+qyvV0gW+q4sF0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlz
aXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcg0KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhy
YXNlID0g6rK96riwDQo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9ICLqsr0g6riwIg0K
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IEkgZ290IHRoZSBnb29kIHJlc3VsdC4NCj4gPiA+ID4g
PiA+DQo+ID4gPiA+ID4gPiBXaGVuIEkgY29tcGlsZSBJIGp1c3QgcmVuYW1lIG9sZCB2ZXJzaW9u
IGx1Y2VuZS0xLjQuMy5qYXIgdG8gbHVjZW5lLTEuNC4zLmphcl9iYWsNCj4gPiA+ID4gPiA+IGFu
ZCBhbGwgbmV3IDEuOSBsdWNlbmUuIGFuZCBidWlsZCB0aGUgdGVzdCBwYWNrYWdlLg0KPiA+ID4g
PiA+ID4gQWZ0ZXIgSSByZW1vdmUgbHVjZW5lLTEuNC4zLmphcl9iYWsgaW4gbGliIGRpcmVjdG9y
eSBjb21wbGV0ZWx5DQo+ID4gPiA+ID4gPiBJIGdvdCB0aGUgZXhwZWN0ZWQgcmVzdWx0ICEhIS4N
Cj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiBJIGRvbid0IGtub3cgdGhlIHJlYXNvbi4uLiAoIGxv
b2tzIGxpa2UgbXkgZmluZ2VyIG1ha2Ugc29tZSB0cm91YmxlLi4uICkNCj4gPiA+ID4gPiA+DQo+
ID4gPiA+ID4gPiBBbnl3YXkgdGhhbmtzIEtvamkgYW5kIENoZW9sZ29vDQo+ID4gPiA+ID4gPiBJ
IHdpbGwgZnVydGhlciB0ZXN0IG5vdy4uLg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IFlvdW5n
aG8NCj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+DQo+
ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiA+ID4gPiBGcm9t
OiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NCj4gPiA+ID4gPiA+IFRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXks
IE9jdG9iZXIgMjcsIDIwMDUgMTI6MjggUE0NCj4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3Jl
YW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+IEhl
bGxvIEtvamkNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gSGVyZSBpcyB0ZXN0IHJlc3Vs
dC4NCj4gPiA+ID4gPiA+ID4gSmFwYW5lc2UgaXMgT0sgIS4NCj4gPiA+ID4gPiA+ID4gbWF5YmUg
YW50IGNsZWFuICBkaWQgc29tZSBlZmZlY3QuDQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
IEFueXdheSBwbGVhc2UgcmVmZXIgdG8gdGhlIHJlc3VsdCB1c2luZyAxLjkNCj4gPiA+ID4gPiA+
ID4NCj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5K
YXBhbmVzZURlbW8uLi4NCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gW+ODqV0gW+ODoV0gW+OD
s10gW+Wxi10gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQu
U3RhbmRhcmRBbmFseXplcg0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDjg6k/
44Oh44Oz5bGLDQo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/
44Oh44Oz5bGLDQo+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ICAgICBbZWNob10gUnVubmlu
ZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gPiA+ID4gPiA+ICAgICAgW2ph
dmFdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5k
YXJkQW5hbHl6ZXINCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK9DQo+ID4g
PiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+
ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVzZURlbW8uLi4N
Cj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gW+ODqV0gW+ODoeODs10gW+ODs+Wxi10gIGFuYWx5
emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5emVyDQo+ID4gPiA+
ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOODqT/jg6Hjg7PlsYsNCj4gPiA+ID4gPiA+ID4g
ICAgICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/jg6Hjg7PlsYsNCj4gPiA+ID4gPiA+ID4N
Cj4gPiA+ID4gPiA+ID4gICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVh
bkRlbW8uLi4NCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gW+qyvV0gIGFuYWx5emVyID0gb3Jn
LmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5emVyDQo+ID4gPiA+ID4gPiA+ICAg
ICAgW2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9
IOqyvQ0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxp
YS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0g
IGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRB
bmFseXplcg0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLANCj4gPiA+
ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQ0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4g
PiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCj4g
PiA+ID4gPiA+ID4gICAgICBbamF2YV0gW+qyveq4sF0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5s
dWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5emVyDQo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFd
IHBocmFzZSA9IOqyveq4sA0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IOqyveq4
sA0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBTdGFuZGFyZCBh
bmFseXplciBkaWRuJ3QgdG9rZW5pemVkIHRoZSBLb3JlYW4gQ2hhcmFjdGVyIGF0IGFsbC4uLi4N
Cj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gVWcuLi4uICBsb29rIGxpa2UNCj4gPiA+ID4g
PiA+ID4gIGh0dHA6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9MVUNFTkUtNDQ0DQo+
ID4gPiA+ID4gPiA+ICBkaWRuJ3QgZWZmZWN0IGF0IGFsbCBmb3IgS29yZWFuLg0KPiA+ID4gPiA+
ID4gPg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBUaGFua3MNCj4gPiA+ID4gPiA+ID4N
Cj4gPiA+ID4gPiA+ID4gWW91bmdobw0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiAtLS0t
LSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiA+ID4gPiA+IEZyb206ICJLb2ppIFNla2ln
dWNoaSIgPGtvamkuc2VraWd1Y2hpQG00LmRpb24ubmUuanA+DQo+ID4gPiA+ID4gPiA+IFRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5u
ZXQuY28ua3I+DQo+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1
IDExOjQ3IEFNDQo+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJFOiBrb3JlYW4gYW5kIGx1Y2VuZQ0K
PiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IEhlbGxvIFlvdW5n
aG8sDQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiBJIGRvbid0IHVuZGVyc3RhbmQg
d2h5IHlvdSBjb3VsZG4ndCBnZXQgaGl0cyByZXN1bHQgaW4gSmFwYW5lc2UsDQo+ID4gPiA+ID4g
PiA+ID4gdGhvdWdoLCB5b3UgaGFkIGJldHRlciBjaGVjayB3aHkgdGhlIHF1ZXJ5IHdhcyBlbXB0
eSB3aXRoIEtvcmVhbiBkYXRhOg0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiBG
b3IgS29yZWFuDQo+ID4gPiA+ID4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFs
eXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCj4gPiA+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHBo
cmFzZSA9IOqyvQ0KPiA+ID4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQ0KPiA+ID4g
PiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gVGhlIGxhc3QgbGluZSBzaG91bGQgYmUgcXVlcnkg
PSDqsr0NCj4gPiA+ID4gPiA+ID4gPiB0byBnZXQgaGl0cyByZXN1bHQuIENhbiB5b3UgY2hlY2sg
d2h5IFN0YW5kYXJkQW5hbHl6ZXINCj4gPiA+ID4gPiA+ID4gPiByZW1vdmVzICLqsr0iIGR1cmlu
ZyB0b2tlbml6aW5nPw0KPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gS29qaQ0KPiA+
ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0t
LQ0KPiA+ID4gPiA+ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5h
bm5ldC5jby5rcl0NCj4gPiA+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3
LCAyMDA1IDExOjM3IEFNDQo+ID4gPiA+ID4gPiA+ID4gPiBUbzogamF2YS11c2VyQGx1Y2VuZS5h
cGFjaGUub3JnDQo+ID4gPiA+ID4gPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNl
bmUNCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+
ID4gSGVsbG8gS29qaSwNCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiBUaGFu
a3MgZm9yIHlvdXIga2luZCByZXBseS4NCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
ID4gPiBZZXMsIEkgdXNlZCBRdWVyeVBhcnNlci4gbm9ybWFseSBJIHVzZWQNCj4gPiA+ID4gPiA+
ID4gPiA+IFF1ZXJ5ID0gUXVlcnlQYXJzZXIucGFyc2UoICkgbWV0aG9kLg0KPiA+ID4gPiA+ID4g
PiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IEkgcHV0IHlvdXIgc2FtcGxlIGNvZGUgaW50byBsaWEu
YW5hbHlzaXMuaTE4biBwYWNrYWdlIGluIEx1Y2VuZUFjdGlvbg0KPiA+ID4gPiA+ID4gPiA+ID4g
YW5kIHJ1biBKYXBhbmVzZURlbW8gdXNpbmcgMS40IGFuZCAxLjkNCj4gPiA+ID4gPiA+ID4gPiA+
DQo+ID4gPiA+ID4gPiA+ID4gPiByZXN1bHRzIGFyZQ0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5l
c2VEZW1vLi4uDQo+ID4gPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ6
44OpP+ODoeODs+Wxiw0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IEkgY2Fu
J3QgZ2V0IGhpdHMgcmVzdWx0Lg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+
IEZvciBLb3JlYW4NCj4gPiA+ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFu
YWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0g
cGhyYXNlID0g6rK9DQo+ID4gPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9DQo+ID4g
PiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gSSBjYW4ndCBnZXQgcXVlcnkgcGFyc2Ug
cmVzdWx0Lg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+IFRoYW5rcywNCj4g
PiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiBZb3VuZ2hvDQo+ID4gPiA+ID4gPiA+
ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gPiA+ID4gPiA+ID4gPiBGcm9t
OiAiS29qaSBTZWtpZ3VjaGkiIDxrb2ppLnNla2lndWNoaUBtNC5kaW9uLm5lLmpwPg0KPiA+ID4g
PiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBD
aG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NCj4gPiA+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJz
ZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDk6NDggQU0NCj4gPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6
IFJFOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4g
PiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+IEhpIFlvdW5naG8sDQo+ID4gPiA+ID4gPiA+ID4gPiA+
DQo+ID4gPiA+ID4gPiA+ID4gPiA+IFdpdGggcmVnYXJkIHRvIEphcGFuZXNlLCB1c2luZyBTdGFu
ZGFyZEFuYWx5emVyLA0KPiA+ID4gPiA+ID4gPiA+ID4gPiBJIGNhbiBzZWFyY2ggYSB3b3JkL3Bo
YXNlLg0KPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiBEaWQgeW91IHVz
ZSBRdWVyeVBhcnNlcj8gU3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMNCj4gPiA+ID4gPiA+ID4g
PiA+ID4gQ0pLIGNoYXJhY3RlcnMgaW50byBhIHN0cmVhbSBvZiBzaW5nbGUgY2hhcmFjdGVyLg0K
PiA+ID4gPiA+ID4gPiA+ID4gPiBVc2UgUXVlcnlQYXJzZXIgdG8gZ2V0IGEgUGhyYXNlUXVlcnkg
YW5kIHNlYXJjaCB0aGUgcXVlcnkuDQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
ID4gPiA+IFBsZWFzZSBzZWUgdGhlIGZvbGxvd2luZyBzYW1wbGUgY29kZS4gUmVwbGFjZSBKYXBh
bmVzZQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiAiY29udGVudHMiIGFuZCAoc2VhcmNoIHRhcmdldCkg
InBocmFzZSIgd2l0aCBLb3JlYW4gaW4gdGhlDQo+ID4gPiA+ID4gPiA+ID4gPiBwcm9ncmFtIGFu
ZCBydW4uDQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+IHJlZ2FyZHMs
DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+IEtvamkNCj4gPiA+ID4g
PiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09DQo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBqYXZhLmlv
LklPRXhjZXB0aW9uOw0KPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNl
bmUuYW5hbHlzaXMuQW5hbHl6ZXI7DQo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBh
Y2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyOw0KPiA+ID4gPiA+
ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5
emVyOw0KPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUu
RGlyZWN0b3J5Ow0KPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUu
c3RvcmUuUkFNRGlyZWN0b3J5Ow0KPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuaW5kZXguSW5kZXhXcml0ZXI7DQo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBv
cmcuYXBhY2hlLmx1Y2VuZS5kb2N1bWVudC5Eb2N1bWVudDsNCj4gPiA+ID4gPiA+ID4gPiA+ID4g
aW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50LkZpZWxkOw0KPiA+ID4gPiA+ID4gPiA+
ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkluZGV4U2VhcmNoZXI7DQo+ID4g
PiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSGl0czsNCj4g
PiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5RdWVyeTsN
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnF1ZXJ5UGFyc2Vy
LlF1ZXJ5UGFyc2VyOw0KPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNl
bmUucXVlcnlQYXJzZXIuUGFyc2VFeGNlcHRpb247DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4g
PiA+ID4gPiA+ID4gPiA+IHB1YmxpYyBjbGFzcyBKYXBhbmVzZUJ5U3RhbmRhcmRBbmFseXplciB7
DQo+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0
YXRpYyBmaW5hbCBTdHJpbmcgRklFTERfQ09OVEVOVCA9ICJjb250ZW50IjsNCj4gPiA+ID4gPiA+
ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZ1tdIGNvbnRlbnRzID0gew0K
PiA+ID4gPiA+ID4gPiA+ID4gPiAi5p2x5Lqs44Gr44Gv44GK44GE44GX44GE44Op44O844Oh44Oz
5bGL44GM44Gf44GP44GV44KT44GC44KK44G+44GZ44CCIiwNCj4gPiA+ID4gPiA+ID4gPiA+ID4g
IuWMl+a1t+mBk+OBq+OCguOBiuOBhOOBl+OBhOODqeODvOODoeODs+Wxi+OBjOOBguOCiuOBvuOB
meOAgiINCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIH07DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAg
ICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgcGhyYXNlID0gIuODqeODvOODoeODs+WxiyI7
DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICAvL3ByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBw
aHJhc2UgPSAi5bGLIjsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIEFu
YWx5emVyIGFuYWx5emVyID0gbnVsbDsNCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+
ID4gPiA+ID4gICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKCBTdHJpbmdbXSBhcmdzICkgdGhy
b3dzDQo+ID4gPiA+ID4gPiA+ID4gPiBJT0V4Y2VwdGlvbiwgUGFyc2VFeGNlcHRpb24gew0KPiA+
ID4gPiA+ID4gPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbWFrZUluZGV4KCk7DQo+ID4g
PiA+ID4gPiA+ID4gPiA+IHNlYXJjaCggZGlyZWN0b3J5ICk7DQo+ID4gPiA+ID4gPiA+ID4gPiA+
IGRpcmVjdG9yeS5jbG9zZSgpOw0KPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgfQ0KPiA+ID4gPiA+
ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6
ZXIgZ2V0QW5hbHl6ZXIoKXsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gaWYoIGFuYWx5emVyID09IG51
bGwgKXsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIGFuYWx5emVyID0gbmV3IFN0YW5kYXJkQW5h
bHl6ZXIoKTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIC8vYW5hbHl6ZXIgPSBuZXcgQ0pLQW5h
bHl6ZXIoKTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gfQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiByZXR1
cm4gYW5hbHl6ZXI7DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gPiA+ID4g
PiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBEaXJlY3RvcnkgbWFr
ZUluZGV4KCkgdGhyb3dzIElPRXhjZXB0aW9uIHsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gRGlyZWN0
b3J5IGRpcmVjdG9yeSA9IG5ldyBSQU1EaXJlY3RvcnkoKTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4g
SW5kZXhXcml0ZXIgd3JpdGVyID0gbmV3IEluZGV4V3JpdGVyKCBkaXJlY3RvcnksIGdldEFuYWx5
emVyKCksIHRydWUgKTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gZm9yKCBpbnQgaSA9IDA7IGkgPCBj
b250ZW50cy5sZW5ndGg7IGkrKyApew0KPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgRG9jdW1lbnQg
ZG9jID0gbmV3IERvY3VtZW50KCk7DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBkb2MuYWRkKCBu
ZXcgRmllbGQoIEZJRUxEX0NPTlRFTlQsIGNvbnRlbnRzW2ldLA0KPiA+ID4gPiA+ID4gPiA+ID4g
RmllbGQuU3RvcmUuWUVTLCBGaWVsZC5JbmRleC5UT0tFTklaRUQgKSApOw0KPiA+ID4gPiA+ID4g
PiA+ID4gPiAgICAgd3JpdGVyLmFkZERvY3VtZW50KCBkb2MgKTsNCj4gPiA+ID4gPiA+ID4gPiA+
ID4gfQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiB3cml0ZXIuY2xvc2UoKTsNCj4gPiA+ID4gPiA+ID4g
PiA+ID4gcmV0dXJuIGRpcmVjdG9yeTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIH0NCj4gPiA+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIHZv
aWQgc2VhcmNoKCBEaXJlY3RvcnkgZGlyZWN0b3J5ICkgdGhyb3dzDQo+ID4gPiA+ID4gPiA+ID4g
PiBJT0V4Y2VwdGlvbiwgUGFyc2VFeGNlcHRpb24gew0KPiA+ID4gPiA+ID4gPiA+ID4gPiBJbmRl
eFNlYXJjaGVyIHNlYXJjaGVyID0gbmV3IEluZGV4U2VhcmNoZXIoIGRpcmVjdG9yeSApOw0KPiA+
ID4gPiA+ID4gPiA+ID4gPiBRdWVyeVBhcnNlciBwYXJzZXIgPSBuZXcgUXVlcnlQYXJzZXIoIEZJ
RUxEX0NPTlRFTlQsIGdldEFuYWx5emVyKCkgKTsNCj4gPiA+ID4gPiA+ID4gPiA+ID4gUXVlcnkg
cXVlcnkgPSBwYXJzZXIucGFyc2UoIHBocmFzZSApOw0KPiA+ID4gPiA+ID4gPiA+ID4gPiBTeXN0
ZW0ub3V0LnByaW50bG4oICJxdWVyeSA9ICIgKyBxdWVyeSApOw0KPiA+ID4gPiA+ID4gPiA+ID4g
PiBIaXRzIGhpdHMgPSBzZWFyY2hlci5zZWFyY2goIHF1ZXJ5ICk7DQo+ID4gPiA+ID4gPiA+ID4g
PiA+IGZvciggaW50IGkgPSAwOyBpIDwgaGl0cy5sZW5ndGgoKTsgaSsrICkNCj4gPiA+ID4gPiA+
ID4gPiA+ID4gICAgIFN5c3RlbS5vdXQucHJpbnRsbiggImRvYyA9ICIgKyBoaXRzLmRvYyggaSAp
LmdldCggRklFTERfQ09OVEVOVCApICk7DQo+ID4gPiA+ID4gPiA+ID4gPiA+IHNlYXJjaGVyLmNs
b3NlKCk7DQo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gPiA+ID4gPiA+IH0N
Cj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4g
PiA+ID4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+
IEZyb206IFlvdW5naG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5uZXQuY28ua3JdDQo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgODoxOCBBTQ0K
PiA+ID4gPiA+ID4gPiA+ID4gPiA+IFRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc7IENo
ZW9sZ29vIEthbmcNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFu
ZCBsdWNlbmUNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4gSGVsbG8gQ2hlb2xnb28sDQo+ID4gPiA+ID4gPiA+ID4gPiA+
ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBOb3cgSSB1cGRhdGVkIG15IGx1Y2VuZSB2ZXJzaW9u
IHRvIDEuOSBmb3IgdXNpbmcgU3RhbmRhcmRBbmFseXplcg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+
IGZvciBLb3JlYW4uDQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gQW5kIHRlc3RlZCB5b3VyIHBhdGNo
IHdoaWNoIGlzIGFscmVhZHkgYWRvcHRlZCBpbiAxLjkNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPg0K
PiA+ID4gPiA+ID4gPiA+ID4gPiA+IGh0dHA6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dz
ZS9MVUNFTkUtNDQ0DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4g
PiBCdXQgU3RpbGwgSSBoYXZlIG5vIGdvb2QgIHJlc3VsdHMgd2l0aCBLb3JlYW4gY29tcGFyZSB3
aXRoDQo+ID4gPiA+ID4gPiA+ID4gPiBDSktBbmFseXplci4NCj4gPiA+ID4gPiA+ID4gPiA+ID4g
Pg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFNpbmdsZSBjaGFyYWN0ZXIgaXMgZ29vZCBtYXRjaCBi
dXQgbW9yZSB0d28gY2hhcmFjdGVyIHdvcmQNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBkb2Vzbid0
IG1hdGNoIGF0IGFsbC4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4g
PiA+IEFtIEkgc29tZXRoaW5nIG1pc3Npbmcgb3Igc3RpbGwgdGhlcmUgbmVlZCBzb21lIG1vcmUg
d29ya3MgPw0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+ID4gPiA+ID4gPiBUaGFua3MsDQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+
ID4gPiA+ID4gPiA+ID4gPiBZb3VuZ2hvLg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNz
YWdlIC0tLS0tDQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gRnJvbTogIkNoZW9sZ29vIEthbmciIDxh
cHBsZXJAZ21haWwuY29tPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFRvOiA8amF2YS11c2VyQGx1
Y2VuZS5hcGFjaGUub3JnPjsgIkpvaG4gV2FuZyIgPGpvaG4ud2FuZ0BnbWFpbC5jb20+DQo+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gU2VudDogVHVlc2RheSwgT2N0b2JlciAwNCwgMjAwNSAxMDoxMSBB
TQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0K
PiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+
ID4gPiA+ID4gPiA+IFN0YW5kYXJkQW5hbHl6ZXIncyBKYXZhQ0MgYmFzZWQgU3RhbmRhcmRUb2tl
bml6ZXIuamogY2Fubm90IHJlYWQNCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEtvcmVhbiBwYXJ0
IG9mIFVuaWNvZGUgY2hhcmFjdGVyIGJsb2Nrcy4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBZb3Ugc2hvdWxkIDEpIHVzZSBDSktBbmFseXplciBvciAy
KSBhZGQgS29yZWFuIGNoYXJhY3Rlcg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gYmxvY2soMHhB
QzAwfjB4RDdBRikgdG8gdGhlIENKSyB0b2tlbiBkZWZpbml0aW9uIG9uIHRoZQ0KPiA+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gU3RhbmRhcmRUb2tlbml6ZXIuamogZmlsZS4NCj4gPiA+ID4gPiA+ID4g
PiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBIb3BlIGl0IGhlbHBzLg0KPiA+ID4g
PiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+
ID4gPiA+ID4gPiBPbiAxMC80LzA1LCBKb2huIFdhbmcgPGpvaG4ud2FuZ0BnbWFpbC5jb20+IHdy
b3RlOg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBIaToNCj4gPiA+ID4gPiA+ID4gPiA+ID4g
PiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gV2UgYXJlIHJ1bm5pbmcgaW50byBwcm9i
bGVtcyB3aXRoIHNlYXJjaGluZyBvbiBrb3JlYW4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBkb2N1
bWVudHMuIFdlIGFyZQ0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiB1c2luZyB0aGUgU3RhbmRh
cmRBbmFseXplciBhbmQgZXZlcnl0aGluZyB3b3JrcyB3aXRoIENoaW5lc2UNCj4gPiA+ID4gPiA+
ID4gPiA+ID4gPiBhbmQgSmFwYW5lc2UuDQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEFyZSB0
aGVyZSBrbm93biBwcm9ibGVtcyB3aXRoIEtvcmVhbiB3aXRoIEx1Y2VuZT8NCj4gPiA+ID4gPiA+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gVGhhbmtzDQo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IC1Kb2huDQo+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4g
PiA+ID4gPiA+IC0tDQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBDaGVvbGdvbw0KPiA+ID4gPiA+
ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiA+ID4g
PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0NCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBl
LW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2Vy
LWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+
ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiA+ID4gLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQo+ID4gPiA+ID4gPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEt
dXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+ID4gPiA+ID4gPiBG
b3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBh
Y2hlLm9yZw0KPiA+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4g
PiA+DQo+ID4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+
ID4gPiA+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVA
bHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gPiA+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5k
cywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+IC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQ0KPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11
bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+
ID4NCj4gPiA+ID4gPg0KPiA+ID4gPiA+DQo+ID4gPiA+DQo+ID4gPiA+DQo+ID4gPiA+IC0tDQo+
ID4gPiA+IENoZW9sZ29vDQo+IA0KPiANCj4gLS0NCj4gQ2hlb2xnb28=




From java-user-return-17377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 09:44:45 2005
Return-Path: <java-user-return-17377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53712 invoked from network); 8 Nov 2005 09:44:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 09:44:44 -0000
Received: (qmail 32980 invoked by uid 500); 8 Nov 2005 09:44:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32946 invoked by uid 500); 8 Nov 2005 09:44:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32935 invoked by uid 99); 8 Nov 2005 09:44:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 01:44:36 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of kwon37xi@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 01:44:29 -0800
Received: by wproxy.gmail.com with SMTP id i7so94152wra
        for <java-user@lucene.apache.org>; Tue, 08 Nov 2005 01:44:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=APKwdYsu0gX2rfuZYKalPA1NxTitfwfn8gRUi4eLcHclMNYdFKudwOr8AHAsZmB2hssCZwlsq/5YnvVsN8tQLgP+PEhcwAI3v1Ws+lGIw66TkMGQDIhiJebIBB39Ng5Y9czf4bLYcHLn3z6/0RSUz5Ar9TDa8OZ7+F0d7UYQAr4=
Received: by 10.54.78.7 with SMTP id a7mr446819wrb;
        Tue, 08 Nov 2005 01:44:14 -0800 (PST)
Received: by 10.54.63.14 with HTTP; Tue, 8 Nov 2005 01:44:14 -0800 (PST)
Message-ID: <b615a5110511080144j587af739q@mail.gmail.com>
Date: Tue, 8 Nov 2005 18:44:14 +0900
From: KwonNam Son <kwon37xi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: korean and lucene
In-Reply-To: <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <000501c5daa6$80abdba0$0201a8c0@local>
	 <000801c5daa9$33403020$0201a8c0@local>
	 <001401c5dab0$dd942520$0201a8c0@local>
	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
	 <003601c5e438$4a596040$0201a8c0@local>
	 <008001c5e441$520cb9a0$0201a8c0@local>
	 <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rmlyc3Qgb2YgYWxsLCBJIHJlYWxseSBhcHByZWNpYXRlIHlvdXIgd29yayBvbiBMdWNlbmUgZm9y
IEtvcmVhbiB3b3JkcywKCkJ1dCBJZiB3ZSBjYW5ub3Qgc3VwcG9ydCBzdGVtIGFuYWx5emVyIGZv
ciBLb3JlYW4gd29yZHMsIEkgdGhpbmsgb25lCnRva2VuIGZvciBvbmUgS29yZWFuIGNoYXJhY3Rl
ciBpcyBiZXR0ZXIuCgpXaGVuIHdlIHNlYXJjaCBhIHdvcmQsIHVzdWFsbHkgd2UgdXNlICLqsoDs
g4kiIG5vdCAi6rKA7IOJ7ZWY64ukIi4gKCLtlZjri6QiIGlzIGxpa2UKImVkIiBvZiAic2VhcmNo
ZWQiKS4KSWYgd2UgY2Fubm90IGdldCBhbnkgcmVzdWx0IGZyb20gIuqygOyDiSIsIFN0YW5kYXJk
QW5hbHl6ZXIgaGFzIG5vIG1lYW5pbmcKdG8gS29yZWFuLCBJIG1heSBoYXZlIHRvIGdvIGJhY2sg
dG8gdXNlIENKS0FuYWx5emVyLgoKSG93IGFib3V0IGxldCB0aGUgU3RhbmRhckFuYWx5emVyIGJl
IG5vdCBjaGFuZ2VkLCBhbmQgYWRkIGEgbmV3CkFuYWx5emVyIGZvciBLb3JlYSB3b3Jkcz8KClRo
YW5rcy4KCjIwMDUvMTEvOCwgQ2hlb2xnb28gS2FuZyA8YXBwbGVyQGdtYWlsLmNvbT46Cj4gT24g
MTEvOC8wNSwgWW91bmdobyBDaG8gPHlvdW5naG9AbmFubmV0LmNvLmtyPiB3cm90ZToKPiA+IEhl
bGxvLAo+ID4KPiA+IGp1c3Qgc2ltcGxlIHRlc3QgLi4uCj4gPiBJZiBJIGNvbXBpbGUgdGhlIGph
dmFjYyBjb3JyZWN0bHkuLgo+ID4gdGhlIHBhdGNoZWQgdmVyc2lvbiBkb2Vzbid0IG1hdGNoIHNv
bWUgc2l0dWF0aW9uCj4gPiBmb3IgZXhhbXBsZQo+ID4gaW4gdGV4dAo+ID4gJ+yXlOynhOuwleyn
gOyEsSjrp6jssrTsiqTthLAg7Jyg64KY7J207Yuw65OcKeydtCDso7zrp5Ag7ZSE66as66+47Ja0
66as6re466W8IOychO2VtCDrsqTsuZjrpbwg7KeA7YKk66mwIOyerOy2qeyghOydmCDsi5zqsITs
nYQg6rCA7KGM64ukLicKPiA+IGlmIHF1ZXJ5IHdvcmQgaXMgJ+yLnOqwhCcgICB0aGFuIG5vdGhp
bmcgbWF0Y2gKPiA+IGJ1dCBpZiBxdWVyeSB3b3JkIGlzICfsi5zqsITsnYQnICB0aGFuIGdvb2Qg
bWF0Y2guCj4KPiBUaGF0J3MgZXhhY3RseSB3aGF0IEkndmUgd2FudGVkIHRvIGRvIHdpdGggdGhp
cyBwYXRjaC4gWW91IG5lZWQgbW9yZQo+IHNvcGhpc3RpY2F0ZWQgbW9ycGhvbG9naWNhbCBhbmFs
eXplciB0byB0byB3aGF0IHlvdSd2ZSB3YW50ZWQgdG8uCj4gQUZBSUssIEknbSBhZnJhaWQgdGhl
cmUgaXMgbm8gb3BlbiBzb3VyY2VkIHNvZnR3YXJlIHRvIGRvIHRoZSBLb3JlYW4KPiBtb3JwaG9s
b2dpY2FsIGFuYWx5c2lzLgo+Cj4gQW5kIGFsc28sIGlmIHlvdSBoYXZlIEx1Y2VuZSBpbiBBY3Rp
b24gS29yZWFuIHRyYW5zbGF0aW9uLCB0aGVyZSBpcyBhCj4gc2ltcGxlIGludHJvZHVjdGlvbiB0
byBLb3JlYW4gc3RlbW1pbmcgYW5hbHlzaXMgYXQgQXBwZW5kaXggRC4gVGhhdCdzCj4ganVzdCBz
aW1wbGUgZW5vdWdoIHRvIGhvbGQgYSBsaXN0IG9mIEtvcmVhbiB3b3JkIGVuZGluZ3MsIGFuZCBj
aGVjawo+IGZvciBlYWNoIFRva2VuIHdpdGggbWF0Y2hpbmcgd29yZCBlbmRpbmdzLiA6KQo+Cj4g
Pgo+ID4gSSB0aGluayB0aGVyZSBpcyBzb21lIHRyYWRlb2ZmIGhlcmUuCj4gPgo+ID4gTWF5YmUg
bmVlZCBzb21lIGdvb2Qgc3RvcCBmaWx0ZXIgZm9yIGtvcmVhbiBldGMuLi4uLi4uCj4gPgo+ID4K
PiA+IFRoYW5rcwo+ID4KPiA+IFlvdW5naG8KPiA+Cj4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdl
IC0tLS0tCj4gPiBGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiA+
IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPgo+ID4gU2VudDogVHVlc2RheSwgTm92
ZW1iZXIgMDgsIDIwMDUgNDo0NCBQTQo+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5l
Cj4gPgo+ID4KPiA+ID4gSGVsbG8gQ2hlb2xnb28sCj4gPiA+Cj4gPiA+IEkgd2lsbCB0ZXN0IHRo
ZSBwYXRjaC4KPiA+ID4KPiA+ID4KPiA+ID4gVGhhbmtzLAo+ID4gPgo+ID4gPiBZb3VuZ2hvCj4g
PiA+Cj4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0KPiA+ID4gRnJvbTogIkNoZW9s
Z29vIEthbmciIDxhcHBsZXJAZ21haWwuY29tPgo+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUu
YXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiBT
ZW50OiBUdWVzZGF5LCBOb3ZlbWJlciAwOCwgMjAwNSA0OjA2IFBNCj4gPiA+IFN1YmplY3Q6IFJl
OiBrb3JlYW4gYW5kIGx1Y2VuZQo+ID4gPgo+ID4gPgo+ID4gPiA+IEhlbGxvLAo+ID4gPiA+Cj4g
PiA+ID4gSSd2ZSBjcmVhdGVkIGEgbmV3IEpJUkEgaXNzdWUgd2l0aCBLb3JlYW4gYW5hbHlzaXMg
dGhhdAo+ID4gPiA+IFN0YW5kYXJkQW5hbHl6ZXIgc3BsaXRzIG9uZSB3b3JkIGludG8gc2V2ZXJh
bCB0b2tlbnMgZWFjaCB3aXRoIG9uZQo+ID4gPiA+IGNoYXJhY3Rlci4gQ2F1c2UgS29yZWFuIGlz
IG5vdCBhIHBob25vZ3JhbSwgb25lIGNoYXJhY3RlciBpbiBLb3JlYW4KPiA+ID4gPiBoYXMgYWxt
b3N0IG5vIG1lYW5pbmcgYXQgYWxsLiBTbyB3b3JkIGluIEtvcmVhbiBzaG91bGQgYmUgcHJlc2Vy
dmVkCj4gPiA+ID4gbm90IGxpa2UgQ2hpbmVzZSBvciBKYXBhbmVzZS4KPiA+ID4gPgo+ID4gPiA+
IEkndmUgYXR0YWNoZWQgYSBwYXRjaCB0byBTdGFuZGFyZFRva2VuaXplciB0byBkbyB0aGlzIGFu
ZCBwYXNzZWQgdGhlCj4gPiA+ID4gdGVzdCBjYXNlIFRlc3RTdGFuZGFyZEFuYWx5emVyKGFsc28g
cGF0Y2hlZCB0byB0ZXN0IEtvcmVhbiB3b3JkcykuCj4gPiA+ID4KPiA+ID4gPiBUaGFua3MhCj4g
PiA+ID4KPiA+ID4gPiBPbiAxMC8yNy8wNSwgWW91bmdobyBDaG8gPHlvdW5naG9AbmFubmV0LmNv
LmtyPiB3cm90ZToKPiA+ID4gPiA+IEhlbGxvLAo+ID4gPiA+ID4KPiA+ID4gPiA+IE9rICwgSSd2
ZSBhdHRhY2hlZCBteSB0ZXN0IGNvZGUgZm9yIEtvcmVhbiB3aGljaCBpcyBzbGl0ZWx5IG1vZGlm
aWVkIEtvamkncyBjb2RlLgo+ID4gPiA+ID4KPiA+ID4gPiA+IEp1c3QgcHV0IGludG8gdGhlIGxp
YS5hbmFseXNpcy5pMThuIHBhY2thZ2UgYXQgTHVjZW5lSW5BY3Rpb24KPiA+ID4gPiA+IGFuZCBy
dW4gYW50Lgo+ID4gPiA+ID4KPiA+ID4gPiA+IEhvcGVseSBzb21lb25lIGlzIGhlbHBlZC4KPiA+
ID4gPiA+Cj4gPiA+ID4gPiAtLS0tLS0tLSBidWlsZC54bWwgIC0tLS0tLS0tLQo+ID4gPiA+ID4K
PiA+ID4gPiA+ICAgPHRhcmdldCBuYW1lPSJKYXBhbmVzZURlbW8iIGRlcGVuZHM9InByZXBhcmUi
Cj4gPiA+ID4gPiAgICAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGVzIG9mIEphbmFuZXNlIGFu
YWx5c2lzIj4KPiA+ID4gPiA+ICAgICA8aW5mbz4KPiA+ID4gPiA+Cj4gPiA+ID4gPiAgICAgICBK
YXBhbmVzZSBUZXN0Li4uCj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgIDwvaW5mbz4KPiA+ID4gPiA+
Cj4gPiA+ID4gPiAgICAgPHJ1bi1tYWluIGNsYXNzPSJsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVz
ZURlbW8iLz4KPiA+ID4gPiA+ICAgPC90YXJnZXQ+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICA8dGFy
Z2V0IG5hbWU9IktvcmVhbkRlbW8iIGRlcGVuZHM9InByZXBhcmUiCj4gPiA+ID4gPiAgICAgICAg
ICAgZGVzY3JpcHRpb249IkV4YW1wbGVzIG9mIEtvcmVhbiBhbmFseXNpcyI+Cj4gPiA+ID4gPiAg
ICAgPGluZm8+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgS29yZWFuIFRlc3QuLi4KPiA+ID4g
PiA+Cj4gPiA+ID4gPiAgICAgPC9pbmZvPgo+ID4gPiA+ID4KPiA+ID4gPiA+ICAgICA8cnVuLW1h
aW4gY2xhc3M9ImxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8iLz4KPiA+ID4gPiA+ICAgPC90
YXJnZXQ+Cj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IFRoYW5rcywKPiA+ID4gPiA+Cj4g
PiA+ID4gPiBZb3VuZ2hvCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IC0tLS0tIE9yaWdp
bmFsIE1lc3NhZ2UgLS0tLS0KPiA+ID4gPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9A
bmFubmV0LmNvLmtyPgo+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+
OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4KPiA+ID4gPiA+IFNlbnQ6IFRo
dXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDEyOjQ3IFBNCj4gPiA+ID4gPiBTdWJqZWN0OiBSZTog
a29yZWFuIGFuZCBsdWNlbmUKPiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gPiBIZWxsbyBh
bGwKPiA+ID4gPiA+ID4gUGxlc2UgZm9yZ2l2ZSBtZSBwZXJ2aW91cyBteSBzdHVwaWQgbWVzc2Fn
ZQo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNp
cy5pMThuLktvcmVhbkRlbW8uLi4KPiA+ID4gPiA+ID4gICAgICBbamF2YV0gW+qyvV0gW+q4sF0g
IGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRB
bmFseXplcgo+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLAKPiA+ID4gPiA+
ID4gICAgICBbamF2YV0gcXVlcnkgPSAi6rK9IOq4sCIKPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
SSBnb3QgdGhlIGdvb2QgcmVzdWx0Lgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBXaGVuIEkgY29t
cGlsZSBJIGp1c3QgcmVuYW1lIG9sZCB2ZXJzaW9uIGx1Y2VuZS0xLjQuMy5qYXIgdG8gbHVjZW5l
LTEuNC4zLmphcl9iYWsKPiA+ID4gPiA+ID4gYW5kIGFsbCBuZXcgMS45IGx1Y2VuZS4gYW5kIGJ1
aWxkIHRoZSB0ZXN0IHBhY2thZ2UuCj4gPiA+ID4gPiA+IEFmdGVyIEkgcmVtb3ZlIGx1Y2VuZS0x
LjQuMy5qYXJfYmFrIGluIGxpYiBkaXJlY3RvcnkgY29tcGxldGVseQo+ID4gPiA+ID4gPiBJIGdv
dCB0aGUgZXhwZWN0ZWQgcmVzdWx0ICEhIS4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gSSBkb24n
dCBrbm93IHRoZSByZWFzb24uLi4gKCBsb29rcyBsaWtlIG15IGZpbmdlciBtYWtlIHNvbWUgdHJv
dWJsZS4uLiApCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IEFueXdheSB0aGFua3MgS29qaSBhbmQg
Q2hlb2xnb28KPiA+ID4gPiA+ID4gSSB3aWxsIGZ1cnRoZXIgdGVzdCBub3cuLi4KPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gWW91bmdobwo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tCj4g
PiA+ID4gPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4g
PiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4KPiA+ID4gPiA+ID4gU2Vu
dDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTI6MjggUE0KPiA+ID4gPiA+ID4gU3ViamVj
dDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gSGVsbG8gS29qaQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gSGVyZSBpcyB0ZXN0
IHJlc3VsdC4KPiA+ID4gPiA+ID4gPiBKYXBhbmVzZSBpcyBPSyAhLgo+ID4gPiA+ID4gPiA+IG1h
eWJlIGFudCBjbGVhbiAgZGlkIHNvbWUgZWZmZWN0Lgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gQW55d2F5IHBsZWFzZSByZWZlciB0byB0aGUgcmVzdWx0IHVzaW5nIDEuOQo+ID4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5K
YXBhbmVzZURlbW8uLi4KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44Oz
XSBb5bGLXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5T
dGFuZGFyZEFuYWx5emVyCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+OD
oeODs+Wxiwo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh
44Oz5bGLCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlh
LmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdICBh
bmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5h
bHl6ZXIKPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0KPiA+ID4gPiA+ID4g
PiAgICAgIFtqYXZhXSBxdWVyeSA9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgIFtl
Y2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLgo+ID4gPiA+ID4g
PiA+ICAgICAgW2phdmFdIFvjg6ldIFvjg6Hjg7NdIFvjg7PlsYtdICBhbmFseXplciA9IG9yZy5h
cGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcgo+ID4gPiA+ID4gPiA+ICAgICAg
W2phdmFdIHBocmFzZSA9IOODqT/jg6Hjg7PlsYsKPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBx
dWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wxiwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
ICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4KPiA+ID4g
PiA+ID4gPiAgICAgIFtqYXZhXSBb6rK9XSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5h
bmFseXNpcy5jamsuQ0pLQW5hbHl6ZXIKPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2Ug
PSDqsr0KPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IOqyvQo+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3Jl
YW5EZW1vLi4uCj4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gIGFuYWx5emVyID0gb3JnLmFwYWNo
ZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcgo+ID4gPiA+ID4gPiA+
ICAgICAgW2phdmFdIHBocmFzZSA9IOqyveq4sAo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHF1
ZXJ5ID0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlh
LmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIFvq
sr3quLBdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFs
eXplcgo+ID4gPiA+ID4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyveq4sAo+ID4gPiA+ID4g
PiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK96riwCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+IFN0YW5kYXJkIGFuYWx5emVyIGRpZG4ndCB0b2tlbml6ZWQgdGhlIEtv
cmVhbiBDaGFyYWN0ZXIgYXQgYWxsLi4uLgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gVWcu
Li4uICBsb29rIGxpa2UKPiA+ID4gPiA+ID4gPiAgaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2pp
cmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+ID4gPiA+ID4gPiAgZGlkbid0IGVmZmVjdCBhdCBhbGwg
Zm9yIEtvcmVhbi4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gVGhh
bmtzCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBZb3VuZ2hvCj4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tCj4gPiA+ID4gPiA+ID4gRnJv
bTogIktvamkgU2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4KPiA+ID4g
PiA+ID4gPiBUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIg
PHlvdW5naG9AbmFubmV0LmNvLmtyPgo+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3Rv
YmVyIDI3LCAyMDA1IDExOjQ3IEFNCj4gPiA+ID4gPiA+ID4gU3ViamVjdDogUkU6IGtvcmVhbiBh
bmQgbHVjZW5lCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gSGVs
bG8gWW91bmdobywKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBJIGRvbid0IHVuZGVy
c3RhbmQgd2h5IHlvdSBjb3VsZG4ndCBnZXQgaGl0cyByZXN1bHQgaW4gSmFwYW5lc2UsCj4gPiA+
ID4gPiA+ID4gPiB0aG91Z2gsIHlvdSBoYWQgYmV0dGVyIGNoZWNrIHdoeSB0aGUgcXVlcnkgd2Fz
IGVtcHR5IHdpdGggS29yZWFuIGRhdGE6Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
PiBGb3IgS29yZWFuCj4gPiA+ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFu
YWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBw
aHJhc2UgPSDqsr0KPiA+ID4gPiA+ID4gPiA+ID4gICAgICBbamF2YV0gcXVlcnkgPQo+ID4gPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IFRoZSBsYXN0IGxpbmUgc2hvdWxkIGJlIHF1ZXJ5ID0g
6rK9Cj4gPiA+ID4gPiA+ID4gPiB0byBnZXQgaGl0cyByZXN1bHQuIENhbiB5b3UgY2hlY2sgd2h5
IFN0YW5kYXJkQW5hbHl6ZXIKPiA+ID4gPiA+ID4gPiA+IHJlbW92ZXMgIuqyvSIgZHVyaW5nIHRv
a2VuaXppbmc/Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gS29qaQo+ID4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiA+ID4g
PiA+ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5hbm5ldC5jby5r
cl0KPiA+ID4gPiA+ID4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6
MzcgQU0KPiA+ID4gPiA+ID4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZwo+
ID4gPiA+ID4gPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUKPiA+ID4gPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gSGVsbG8gS29qaSwK
PiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gVGhhbmtzIGZvciB5b3VyIGtpbmQg
cmVwbHkuCj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IFllcywgSSB1c2VkIFF1
ZXJ5UGFyc2VyLiBub3JtYWx5IEkgdXNlZAo+ID4gPiA+ID4gPiA+ID4gPiBRdWVyeSA9IFF1ZXJ5
UGFyc2VyLnBhcnNlKCApIG1ldGhvZC4KPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
ID4gSSBwdXQgeW91ciBzYW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBhY2thZ2Ug
aW4gTHVjZW5lQWN0aW9uCj4gPiA+ID4gPiA+ID4gPiA+IGFuZCBydW4gSmFwYW5lc2VEZW1vIHVz
aW5nIDEuNCBhbmQgMS45Cj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+IHJlc3Vs
dHMgYXJlCj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ICAgICAgW2VjaG9dIFJ1
bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vLi4uCj4gPiA+ID4gPiA+ID4gPiA+
ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLCj4gPiA+ID4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+ID4gPiA+IEkgY2FuJ3QgZ2V0IGhpdHMgcmVzdWx0Lgo+ID4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiBGb3IgS29yZWFuCj4gPiA+ID4gPiA+ID4gPiA+ICAg
ICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLgo+ID4gPiA+
ID4gPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0KPiA+ID4gPiA+ID4gPiA+ID4gICAg
ICBbamF2YV0gcXVlcnkgPQo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiBJIGNh
bid0IGdldCBxdWVyeSBwYXJzZSByZXN1bHQuCj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gPiA+IFRoYW5rcywKPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gWW91bmdo
bwo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tCj4gPiA+ID4gPiA+
ID4gPiA+IEZyb206ICJLb2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1Y2hpQG00LmRpb24ubmUu
anA+Cj4gPiA+ID4gPiA+ID4gPiA+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsg
IllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+Cj4gPiA+ID4gPiA+ID4gPiA+IFNl
bnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDk6NDggQU0KPiA+ID4gPiA+ID4gPiA+ID4g
U3ViamVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lCj4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gSGkgWW91bmdobywKPiA+ID4gPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+IFdpdGggcmVnYXJkIHRvIEphcGFuZXNlLCB1c2luZyBT
dGFuZGFyZEFuYWx5emVyLAo+ID4gPiA+ID4gPiA+ID4gPiA+IEkgY2FuIHNlYXJjaCBhIHdvcmQv
cGhhc2UuCj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiBEaWQgeW91IHVz
ZSBRdWVyeVBhcnNlcj8gU3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMKPiA+ID4gPiA+ID4gPiA+
ID4gPiBDSksgY2hhcmFjdGVycyBpbnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuCj4g
PiA+ID4gPiA+ID4gPiA+ID4gVXNlIFF1ZXJ5UGFyc2VyIHRvIGdldCBhIFBocmFzZVF1ZXJ5IGFu
ZCBzZWFyY2ggdGhlIHF1ZXJ5Lgo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+
ID4gUGxlYXNlIHNlZSB0aGUgZm9sbG93aW5nIHNhbXBsZSBjb2RlLiBSZXBsYWNlIEphcGFuZXNl
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gImNvbnRlbnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJwaHJh
c2UiIHdpdGggS29yZWFuIGluIHRoZQo+ID4gPiA+ID4gPiA+ID4gPiBwcm9ncmFtIGFuZCBydW4u
Cj4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiByZWdhcmRzLAo+ID4gPiA+
ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gS29qaQo+ID4gPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09Cj4gPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLkFu
YWx5emVyOwo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFs
eXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyOwo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9y
dCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXI7Cj4gPiA+ID4gPiA+
ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnN0b3JlLkRpcmVjdG9yeTsKPiA+ID4g
PiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuUkFNRGlyZWN0b3J5
Owo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5JbmRl
eFdyaXRlcjsKPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9j
dW1lbnQuRG9jdW1lbnQ7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLmRvY3VtZW50LkZpZWxkOwo+ID4gPiA+ID4gPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hl
Lmx1Y2VuZS5zZWFyY2guSW5kZXhTZWFyY2hlcjsKPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBvcnQg
b3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkhpdHM7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gaW1wb3J0
IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5RdWVyeTsKPiA+ID4gPiA+ID4gPiA+ID4gPiBpbXBv
cnQgb3JnLmFwYWNoZS5sdWNlbmUucXVlcnlQYXJzZXIuUXVlcnlQYXJzZXI7Cj4gPiA+ID4gPiA+
ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnF1ZXJ5UGFyc2VyLlBhcnNlRXhjZXB0
aW9uOwo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gcHVibGljIGNsYXNz
IEphcGFuZXNlQnlTdGFuZGFyZEFuYWx5emVyIHsKPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgRklFTERfQ09OVEVO
VCA9ICJjb250ZW50IjsKPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmlu
YWwgU3RyaW5nW10gY29udGVudHMgPSB7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gIuadseS6rOOBq+OB
r+OBiuOBhOOBl+OBhOODqeODvOODoeODs+Wxi+OBjOOBn+OBj+OBleOCk+OBguOCiuOBvuOBmeOA
giIsCj4gPiA+ID4gPiA+ID4gPiA+ID4gIuWMl+a1t+mBk+OBq+OCguOBiuOBhOOBl+OBhOODqeOD
vOODoeODs+Wxi+OBjOOBguOCiuOBvuOBmeOAgiIKPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgfTsK
PiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBocmFz
ZSA9ICLjg6njg7zjg6Hjg7PlsYsiOwo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICAvL3ByaXZhdGUg
c3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi5bGLIjsKPiA+ID4gPiA+ID4gPiA+ID4gPiAg
ICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIgYW5hbHl6ZXIgPSBudWxsOwo+ID4gPiA+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKCBT
dHJpbmdbXSBhcmdzICkgdGhyb3dzCj4gPiA+ID4gPiA+ID4gPiA+IElPRXhjZXB0aW9uLCBQYXJz
ZUV4Y2VwdGlvbiB7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gRGlyZWN0b3J5IGRpcmVjdG9yeSA9IG1h
a2VJbmRleCgpOwo+ID4gPiA+ID4gPiA+ID4gPiA+IHNlYXJjaCggZGlyZWN0b3J5ICk7Cj4gPiA+
ID4gPiA+ID4gPiA+ID4gZGlyZWN0b3J5LmNsb3NlKCk7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gICAg
IH0KPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0
YXRpYyBBbmFseXplciBnZXRBbmFseXplcigpewo+ID4gPiA+ID4gPiA+ID4gPiA+IGlmKCBhbmFs
eXplciA9PSBudWxsICl7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIGFuYWx5emVyID0gbmV3IFN0
YW5kYXJkQW5hbHl6ZXIoKTsKPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgLy9hbmFseXplciA9IG5l
dyBDSktBbmFseXplcigpOwo+ID4gPiA+ID4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gPiA+ID4g
PiByZXR1cm4gYW5hbHl6ZXI7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIH0KPiA+ID4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBEaXJlY3Rvcnkg
bWFrZUluZGV4KCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKPiA+ID4gPiA+ID4gPiA+ID4gPiBEaXJl
Y3RvcnkgZGlyZWN0b3J5ID0gbmV3IFJBTURpcmVjdG9yeSgpOwo+ID4gPiA+ID4gPiA+ID4gPiA+
IEluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRleFdyaXRlciggZGlyZWN0b3J5LCBnZXRBbmFs
eXplcigpLCB0cnVlICk7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gZm9yKCBpbnQgaSA9IDA7IGkgPCBj
b250ZW50cy5sZW5ndGg7IGkrKyApewo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICBEb2N1bWVudCBk
b2MgPSBuZXcgRG9jdW1lbnQoKTsKPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgZG9jLmFkZCggbmV3
IEZpZWxkKCBGSUVMRF9DT05URU5ULCBjb250ZW50c1tpXSwKPiA+ID4gPiA+ID4gPiA+ID4gRmll
bGQuU3RvcmUuWUVTLCBGaWVsZC5JbmRleC5UT0tFTklaRUQgKSApOwo+ID4gPiA+ID4gPiA+ID4g
PiA+ICAgICB3cml0ZXIuYWRkRG9jdW1lbnQoIGRvYyApOwo+ID4gPiA+ID4gPiA+ID4gPiA+IH0K
PiA+ID4gPiA+ID4gPiA+ID4gPiB3cml0ZXIuY2xvc2UoKTsKPiA+ID4gPiA+ID4gPiA+ID4gPiBy
ZXR1cm4gZGlyZWN0b3J5Owo+ID4gPiA+ID4gPiA+ID4gPiA+ICAgICB9Cj4gPiA+ID4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBzZWFyY2go
IERpcmVjdG9yeSBkaXJlY3RvcnkgKSB0aHJvd3MKPiA+ID4gPiA+ID4gPiA+ID4gSU9FeGNlcHRp
b24sIFBhcnNlRXhjZXB0aW9uIHsKPiA+ID4gPiA+ID4gPiA+ID4gPiBJbmRleFNlYXJjaGVyIHNl
YXJjaGVyID0gbmV3IEluZGV4U2VhcmNoZXIoIGRpcmVjdG9yeSApOwo+ID4gPiA+ID4gPiA+ID4g
PiA+IFF1ZXJ5UGFyc2VyIHBhcnNlciA9IG5ldyBRdWVyeVBhcnNlciggRklFTERfQ09OVEVOVCwg
Z2V0QW5hbHl6ZXIoKSApOwo+ID4gPiA+ID4gPiA+ID4gPiA+IFF1ZXJ5IHF1ZXJ5ID0gcGFyc2Vy
LnBhcnNlKCBwaHJhc2UgKTsKPiA+ID4gPiA+ID4gPiA+ID4gPiBTeXN0ZW0ub3V0LnByaW50bG4o
ICJxdWVyeSA9ICIgKyBxdWVyeSApOwo+ID4gPiA+ID4gPiA+ID4gPiA+IEhpdHMgaGl0cyA9IHNl
YXJjaGVyLnNlYXJjaCggcXVlcnkgKTsKPiA+ID4gPiA+ID4gPiA+ID4gPiBmb3IoIGludCBpID0g
MDsgaSA8IGhpdHMubGVuZ3RoKCk7IGkrKyApCj4gPiA+ID4gPiA+ID4gPiA+ID4gICAgIFN5c3Rl
bS5vdXQucHJpbnRsbiggImRvYyA9ICIgKyBoaXRzLmRvYyggaSApLmdldCggRklFTERfQ09OVEVO
VCApICk7Cj4gPiA+ID4gPiA+ID4gPiA+ID4gc2VhcmNoZXIuY2xvc2UoKTsKPiA+ID4gPiA+ID4g
PiA+ID4gPiAgICAgfQo+ID4gPiA+ID4gPiA+ID4gPiA+IH0KPiA+ID4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiAtLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0
bzp5b3VuZ2hvQG5hbm5ldC5jby5rcl0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFNlbnQ6IFRodXJz
ZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDg6MTggQU0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFRvOiBq
YXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc7IENoZW9sZ29vIEthbmcKPiA+ID4gPiA+ID4gPiA+
ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQo+ID4gPiA+ID4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBIZWxsbyBDaGVv
bGdvbywKPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBOb3cgSSB1
cGRhdGVkIG15IGx1Y2VuZSB2ZXJzaW9uIHRvIDEuOSBmb3IgdXNpbmcgU3RhbmRhcmRBbmFseXpl
cgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gZm9yIEtvcmVhbi4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+
IEFuZCB0ZXN0ZWQgeW91ciBwYXRjaCB3aGljaCBpcyBhbHJlYWR5IGFkb3B0ZWQgaW4gMS45Cj4g
PiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gaHR0cDovL2lzc3Vlcy5h
cGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQKPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gPiA+ID4gPiBCdXQgU3RpbGwgSSBoYXZlIG5vIGdvb2QgIHJlc3VsdHMgd2l0
aCBLb3JlYW4gY29tcGFyZSB3aXRoCj4gPiA+ID4gPiA+ID4gPiA+IENKS0FuYWx5emVyLgo+ID4g
PiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFNpbmdsZSBjaGFyYWN0ZXIg
aXMgZ29vZCBtYXRjaCBidXQgbW9yZSB0d28gY2hhcmFjdGVyIHdvcmQKPiA+ID4gPiA+ID4gPiA+
ID4gPiA+IGRvZXNuJ3QgbWF0Y2ggYXQgYWxsLgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+ID4gPiA+IEFtIEkgc29tZXRoaW5nIG1pc3Npbmcgb3Igc3RpbGwgdGhlcmUgbmVl
ZCBzb21lIG1vcmUgd29ya3MgPwo+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiBUaGFua3MsCj4gPiA+ID4gPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gWW91bmdoby4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gLS0tLS0gT3JpZ2luYWwg
TWVzc2FnZSAtLS0tLQo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gRnJvbTogIkNoZW9sZ29vIEthbmci
IDxhcHBsZXJAZ21haWwuY29tPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJA
bHVjZW5lLmFwYWNoZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdtYWlsLmNvbT4KPiA+
ID4gPiA+ID4gPiA+ID4gPiA+IFNlbnQ6IFR1ZXNkYXksIE9jdG9iZXIgMDQsIDIwMDUgMTA6MTEg
QU0KPiA+ID4gPiA+ID4gPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQo+
ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
PiA+ID4gPiA+IFN0YW5kYXJkQW5hbHl6ZXIncyBKYXZhQ0MgYmFzZWQgU3RhbmRhcmRUb2tlbml6
ZXIuamogY2Fubm90IHJlYWQKPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gS29yZWFuIHBhcnQgb2Yg
VW5pY29kZSBjaGFyYWN0ZXIgYmxvY2tzLgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gPiBZb3Ugc2hvdWxkIDEpIHVzZSBDSktBbmFseXplciBvciAyKSBhZGQg
S29yZWFuIGNoYXJhY3Rlcgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBibG9jaygweEFDMDB+MHhE
N0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24gb24gdGhlCj4gPiA+ID4gPiA+ID4gPiA+
ID4gPiA+IFN0YW5kYXJkVG9rZW5pemVyLmpqIGZpbGUuCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEhvcGUgaXQgaGVscHMuCj4gPiA+ID4gPiA+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IE9u
IDEwLzQvMDUsIEpvaG4gV2FuZyA8am9obi53YW5nQGdtYWlsLmNvbT4gd3JvdGU6Cj4gPiA+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gSGk6Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiA+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1zIHdpdGggc2VhcmNo
aW5nIG9uIGtvcmVhbgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gZG9jdW1lbnRzLiBXZSBhcmUKPiA+
ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiB1c2luZyB0aGUgU3RhbmRhcmRBbmFseXplciBhbmQgZXZl
cnl0aGluZyB3b3JrcyB3aXRoIENoaW5lc2UKPiA+ID4gPiA+ID4gPiA+ID4gPiA+IGFuZCBKYXBh
bmVzZS4KPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiBBcmUgdGhlcmUga25vd24gcHJvYmxlbXMg
d2l0aCBLb3JlYW4gd2l0aCBMdWNlbmU/Cj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gPiBUaGFua3MKPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID4gPiA+ID4gPiA+IC1Kb2huCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPiAtLQo+ID4gPiA+ID4gPiA+ID4g
PiA+ID4gPiBDaGVvbGdvbwo+ID4gPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+ID4gPiA+ID4gPiA+ID4g
PiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2Vu
ZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPiA+ID4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+ID4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3Jp
YmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+
ID4gPiA+ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2Vy
LWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IC0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLQo+ID4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVu
c3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiA+ID4gPiBGb3IgYWRkaXRpb25h
bCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+ID4g
PiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZh
LXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+IEZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4g
PiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+IC0tCj4g
PiA+ID4gQ2hlb2xnb28KPgo+Cj4gLS0KPiBDaGVvbGdvbwo+Cg==


From java-user-return-17378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 10:31:13 2005
Return-Path: <java-user-return-17378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81250 invoked from network); 8 Nov 2005 10:31:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 10:31:13 -0000
Received: (qmail 6521 invoked by uid 500); 8 Nov 2005 10:31:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6416 invoked by uid 500); 8 Nov 2005 10:31:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6378 invoked by uid 99); 8 Nov 2005 10:31:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 02:31:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 02:30:55 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id jA8AUgw27817
	for <java-user@lucene.apache.org>; Tue, 8 Nov 2005 04:30:42 -0600
Message-ID: <43707E4E.6040301@getopt.org>
Date: Tue, 08 Nov 2005 11:30:38 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: korean and lucene
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>	 <000501c5daa6$80abdba0$0201a8c0@local>	 <000801c5daa9$33403020$0201a8c0@local>	 <001401c5dab0$dd942520$0201a8c0@local>	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>	 <003601c5e438$4a596040$0201a8c0@local>	 <008001c5e441$520cb9a0$0201a8c0@local>	 <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com> <b615a5110511080144j587af739q@mail.gmail.com>
In-Reply-To: <b615a5110511080144j587af739q@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

KwonNam Son wrote:

>First of all, I really appreciate your work on Lucene for Korean words,
>
>But If we cannot support stem analyzer for Korean words, I think one
>token for one Korean character is better.
>
>When we search a word, usually we use "" not "". ("" is like
>"ed" of "searched").
>If we cannot get any result from "", StandardAnalyzer has no meaning
>to Korean, I may have to go back to use CJKAnalyzer.
>
>How about let the StandarAnalyzer be not changed, and add a new
>Analyzer for Korea words?
>  
>

Hello,

My knowledge of Korean is near absolute zero... however, your example 
above looks like a typical stemming process for any Western language. 
The stem is not necessarily a valid dictionary word, just something that 
uniquely "labels" a group of related words created from the same root - 
and the transformation from inflected words to a stem can be expressed 
as a series of "patch commands" (insert/remove substring).

I successfully used a Java package, originally created by Leon Galambos 
from Egothor project, to create an algorithmic stemmer for Polish 
(http://www.getopt.org/stempel). The advantage of this particular 
approach is that you don't have to encode specific grammar rules in the 
stemmer, the stemmer learns rules by itself from a training corpus. Such 
training corpus consists of pairs of inflected and base forms, and the 
library automatically learns these "patch commands", i.e. instructions 
for inserting/removing parts of an inflected word to arrive at the base 
form. This training process results in creating a stemmer table, 
reusable even for previously unseen words (based on the similarity of 
character patterns in input words).

I suggest to try the code from the link above and test how it works, 
even if you only have a moderately-sized training corpus (~500 pairs) 
the results should be positive.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 08 18:03:42 2005
Return-Path: <java-user-return-17379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29029 invoked from network); 8 Nov 2005 18:03:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Nov 2005 18:03:41 -0000
Received: (qmail 84022 invoked by uid 500); 8 Nov 2005 18:03:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83754 invoked by uid 500); 8 Nov 2005 18:03:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83605 invoked by uid 99); 8 Nov 2005 18:03:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 10:03:32 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.220.6.229] (HELO mail.roomity.com) (66.220.6.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 10:03:25 -0800
Received: from slave1.roomity.com (slave1.roomity.com [66.220.6.229])
	by mail.roomity.com (Postfix) with ESMTP id 56F49A7647
	for <java-user@lucene.apache.org>; Tue,  8 Nov 2005 10:04:07 -0800 (PST)
Message-ID: <6056113.2411131473047251.JavaMail.tomcat5@slave1.roomity.com>
From: shenanigans <maillist@roomity.com>
To: java-user@lucene.apache.org
Subject: [OTAnn] Feedback
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_241_27966712.1131473047249"
Date: Tue,  8 Nov 2005 10:04:07 -0800 (PST)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_241_27966712.1131473047249
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I was interested in getting feedback from current mail group users.

We have mirrored your mail list in a new application that provides a more aggregated and safe environment which utilizes the power of broadband.

Roomity.com v 1.5 is a web 2.01 community webapp. Our newest version adds broadcast video and social networking such as favorite authors and an html editor.

It?s free to join and any feedback would be appreciated.

S.



--------------------------------------------------------------------------------------------------------------------------------------
Broadband interface (RIA) + mail box saftey = <a href="http://Lucene_Java_User_List.roomity.com">Lucene_Java_User_List.roomity.com</a>
*Your* clubs, no sign up to read, ad supported; try broadband internet. ~~1131473047248~~
--------------------------------------------------------------------------------------------------------------------------------------

------=_Part_241_27966712.1131473047249--


From java-user-return-17380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 04:00:56 2005
Return-Path: <java-user-return-17380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7245 invoked from network); 9 Nov 2005 04:00:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 04:00:56 -0000
Received: (qmail 66226 invoked by uid 500); 9 Nov 2005 04:00:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66182 invoked by uid 500); 9 Nov 2005 04:00:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66168 invoked by uid 99); 9 Nov 2005 04:00:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Nov 2005 20:00:51 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.204] (HELO web33707.mail.mud.yahoo.com) (68.142.201.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 08 Nov 2005 20:00:44 -0800
Received: (qmail 10731 invoked by uid 60001); 9 Nov 2005 04:00:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=HuObQqfjAW+ZK5SEd2LJPFAKZfqdCjoXbhXneJW9/5AO9zfx3uXSIsiJWQdnJWYFJCUd264cy5YqNDxebTl9P92a0/xoU8u3kXqf0TYrC5KTIrkQjPfh5iEwPf1wn8sUVjtKTZ8V9/Zrg8w4TMMV+oDYBfc+xzv6XF5vPt0qZ1g=  ;
Message-ID: <20051109040029.10729.qmail@web33707.mail.mud.yahoo.com>
Received: from [203.162.44.78] by web33707.mail.mud.yahoo.com via HTTP; Tue, 08 Nov 2005 20:00:29 PST
Date: Tue, 8 Nov 2005 20:00:29 -0800 (PST)
From: Hai Do Thanh <sunflower_2805@yahoo.com>
Subject: Ask about method QueryParser.parser
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I really appreciate your work on Lucene. It is
apparently a helpful API for my project on indexed
Document searching. On the whole, It works properly
and perfectly.

However, there is a problem when I try to query what I
have indexed with the keyword received through
internet using Servlet technology. The specific
problem is the followings:

// This is the method I use to parse my query
Query myQuery = QueryParser.parse(s, "NamedEntity",
analyzer);

with s is the query string received from client,
analyzer is the WhitespaceAnalyzer and the version of
Lucene is lucene-1.4-final.jar

Before this method, the value of s is "Chua_Huong"
with C and H are uppercased letters
After this method myQuery = NamedEntity:chua_huong
with  c and h are lowercased

Yet, if I type the String "Chua_Huong" directly onto
the first argument (the position of s), 

Query myQuery =
QueryParser.parse("Chua_Huong","NamedEntity",analyzer);

After the method, myQuery = NamedEntity:Chua_Huong
with C and H are still uppercased letters.

What happened with this?
Please if you can, reply to my problem as soon as
possible. 
I would be most grateful for your helpfulness!
Thanks in advance

Sincerely yours
Thanh Hai           


		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 12:05:55 2005
Return-Path: <java-user-return-17381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15586 invoked from network); 9 Nov 2005 12:05:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 12:05:55 -0000
Received: (qmail 66890 invoked by uid 500); 9 Nov 2005 12:05:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66828 invoked by uid 500); 9 Nov 2005 12:05:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66797 invoked by uid 99); 9 Nov 2005 12:05:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 04:05:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.159.151.132] (HELO mail.gan.no) (195.159.151.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 04:05:32 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.gan.no (Postfix) with ESMTP id B33D8F0005
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 13:05:13 +0100 (CET)
Received: from [172.16.16.192] (MetaMac.mediehuset.gan.no [172.16.16.192])
	by mail.gan.no (Postfix) with ESMTP id ADF25F0002
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 13:05:12 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051109040029.10729.qmail@web33707.mail.mud.yahoo.com>
References: <20051109040029.10729.qmail@web33707.mail.mud.yahoo.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-1-759373279
Message-Id: <A8EFA740-41C6-4202-8CB4-F92C53515E4F@gan.no>
From: =?ISO-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
Subject: Re: Ask about method QueryParser.parser
Date: Wed, 9 Nov 2005 13:05:12 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at gan.no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-1-759373279
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Sounds very strange, have you debugged the input string s? Where does  
it come from?

Karl

On 9. nov. 2005, at 05.00, Hai Do Thanh wrote:

> Dear all,
>
> I really appreciate your work on Lucene. It is
> apparently a helpful API for my project on indexed
> Document searching. On the whole, It works properly
> and perfectly.
>
> However, there is a problem when I try to query what I
> have indexed with the keyword received through
> internet using Servlet technology. The specific
> problem is the followings:
>
> // This is the method I use to parse my query
> Query myQuery = QueryParser.parse(s, "NamedEntity",
> analyzer);
>
> with s is the query string received from client,
> analyzer is the WhitespaceAnalyzer and the version of
> Lucene is lucene-1.4-final.jar
>
> Before this method, the value of s is "Chua_Huong"
> with C and H are uppercased letters
> After this method myQuery = NamedEntity:chua_huong
> with  c and h are lowercased
>
> Yet, if I type the String "Chua_Huong" directly onto
> the first argument (the position of s),
>
> Query myQuery =
> QueryParser.parse("Chua_Huong","NamedEntity",analyzer);
>
> After the method, myQuery = NamedEntity:Chua_Huong
> with C and H are still uppercased letters.
>
> What happened with this?
> Please if you can, reply to my problem as soon as
> possible.
> I would be most grateful for your helpfulness!
> Thanks in advance
>
> Sincerely yours
> Thanh Hai
>
>
> 		
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

- there is nothing wrong with using linux. if that's the lifestyle  
you want to live, i wont judge you. i just wont support you at the  
parades.


--Apple-Mail-1-759373279--

From java-user-return-17382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 13:43:41 2005
Return-Path: <java-user-return-17382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65864 invoked from network); 9 Nov 2005 13:43:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 13:43:37 -0000
Received: (qmail 39434 invoked by uid 500); 9 Nov 2005 13:43:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39399 invoked by uid 500); 9 Nov 2005 13:43:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39388 invoked by uid 99); 9 Nov 2005 13:43:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 05:43:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.97.50.155] (HELO mout2.freenet.de) (194.97.50.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 05:43:22 -0800
Received: from [194.97.55.147] (helo=mx4.freenet.de)
	by mout2.freenet.de with esmtpa (Exim 4.53-RC2)
	id 1EZqEG-000391-1f
	for java-user@lucene.apache.org; Wed, 09 Nov 2005 14:43:08 +0100
Received: from hybris.freenet-ag.de ([194.97.7.29])
	by mx4.freenet.de with esmtpsa (ID joachim.roesener@freenet-ag.de) (SSLv3:RC4-MD5:128) (Exim 4.54 #12)
	id 1EZqEF-0008Fd-T3
	for java-user@lucene.apache.org; Wed, 09 Nov 2005 14:43:07 +0100
Subject: RangeQuery over many indexed documents seems to be buggy
From: Joachim =?ISO-8859-1?Q?R=F6sener?= <mail@joachim-roesener.de>
To: lucene user <java-user@lucene.apache.org>
Content-Type: text/plain
Date: Wed, 09 Nov 2005 14:43:07 +0100
Message-Id: <1131543787.7372.160.camel@hybris.freenet-ag.de>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am currently developing a singles dating service with
lucene-1.4.3 as search engine.

Due to the limitation that ages < 1970-01-01 cannot be indexed with
Field.Keyword(String name, Date value) (produces a RuntimeException
("time too early")), the age indexing is done via Field.Text(String
name, String value). The value for the name "birthday" is a long
timestamp formatted with SimpleDateFormat("yyyyMMdd").

So if you seek for women born between specific dates, you should be able
to find them by a simple RangeQuery. This works fine so far -
theoretically, but there seems to be a severe bug that occurs when
searching via RangeQuery over many indexed documents
(I do not know exactly the limit).

For example, women born between 1980-01-01 and 1981-01-01 can be found
with the following query:

"sex:female AND birthday:[19800101 TO 19810101]"

This gives the following results:
1980-1981: found 424 women.
1981-1982: found 329 women.
1982-1983: found 237 women.
1983-1984: found 232 women.
1984-1985: found 175 women.

To proof if it works, a search between 1980-01-01 and 1982-01-01 gives
a result of 752 women
(one less than 753 because of range limit inclusion @ 1981-01-01).

BUT: Though you should expect that if you seek for women between 1980
and 1985 should give you 1397 females, the result is: 0! - without any
Exception ...  :-/

This failure can be reproduced if you seek other entities via RangeQuery
(e.g. weights or heights), too.

Can you explain, maybe fix this?

Yours sincerely,
Joachim Roesener.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 13:53:51 2005
Return-Path: <java-user-return-17383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71220 invoked from network); 9 Nov 2005 13:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 13:53:51 -0000
Received: (qmail 59575 invoked by uid 500); 9 Nov 2005 13:53:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59525 invoked by uid 500); 9 Nov 2005 13:53:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59504 invoked by uid 99); 9 Nov 2005 13:53:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 05:53:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 05:53:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 26EC613E2034; Wed,  9 Nov 2005 08:53:11 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6451413E200A
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 08:53:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1131543787.7372.160.camel@hybris.freenet-ag.de>
References: <1131543787.7372.160.camel@hybris.freenet-ag.de>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <CADC34B1-626E-426F-B1E4-25E573CD6426@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: RangeQuery over many indexed documents seems to be buggy
Date: Wed, 9 Nov 2005 08:53:10 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 9 Nov 2005, at 08:43, Joachim R=F6sener wrote:
> "sex:female AND birthday:[19800101 TO 19810101]"
>
> This gives the following results:
> 1980-1981: found 424 women.
> 1981-1982: found 329 women.
> 1982-1983: found 237 women.
> 1983-1984: found 232 women.
> 1984-1985: found 175 women.
>
> To proof if it works, a search between 1980-01-01 and 1982-01-01 gives
> a result of 752 women
> (one less than 753 because of range limit inclusion @ 1981-01-01).
>
> BUT: Though you should expect that if you seek for women between 1980
> and 1985 should give you 1397 females, the result is: 0! - without any
> Exception ...  :-/
>
> This failure can be reproduced if you seek other entities via =20
> RangeQuery
> (e.g. weights or heights), too.
>
> Can you explain, maybe fix this?

ah, the lure of young women.... ;)

Is it perhaps you're getting an exception and eating it somewhere =20
along the way?   How many unique birthdays are there in that range?  =20
You have over the default limit of 1,024 documents, so I suspect you =20
are getting a TooManyClauses exception.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 14:32:37 2005
Return-Path: <java-user-return-17384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97908 invoked from network); 9 Nov 2005 14:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 14:32:37 -0000
Received: (qmail 30249 invoked by uid 500); 9 Nov 2005 14:32:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30217 invoked by uid 500); 9 Nov 2005 14:32:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30206 invoked by uid 99); 9 Nov 2005 14:32:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 06:32:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.97.50.131] (HELO mout0.freenet.de) (194.97.50.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 06:32:24 -0800
Received: from [194.97.55.147] (helo=mx4.freenet.de)
	by mout0.freenet.de with esmtpa (Exim 4.53-RC2)
	id 1EZqzh-0007tu-JS
	for java-user@lucene.apache.org; Wed, 09 Nov 2005 15:32:09 +0100
Received: from hybris.freenet-ag.de ([194.97.7.29])
	by mx4.freenet.de with esmtpsa (ID joachim.roesener@freenet-ag.de) (SSLv3:RC4-MD5:128) (Exim 4.54 #12)
	id 1EZqzh-0003pL-GW
	for java-user@lucene.apache.org; Wed, 09 Nov 2005 15:32:09 +0100
Subject: Re: RangeQuery over many indexed documents seems to be buggy
From: Joachim =?ISO-8859-1?Q?R=F6sener?= <mail@joachim-roesener.de>
To: java-user@lucene.apache.org
In-Reply-To: <CADC34B1-626E-426F-B1E4-25E573CD6426@ehatchersolutions.com>
References: <1131543787.7372.160.camel@hybris.freenet-ag.de>
	 <CADC34B1-626E-426F-B1E4-25E573CD6426@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1
Date: Wed, 09 Nov 2005 15:32:08 +0100
Message-Id: <1131546728.7372.175.camel@hybris.freenet-ag.de>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Am Mittwoch, den 09.11.2005, 08:53 -0500 schrieb Erik Hatcher:
> On 9 Nov 2005, at 08:43, Joachim R=F6sener wrote:
[...]
> > Can you explain, maybe fix this?
>=20
> ah, the lure of young women.... ;)
What else?! :-)

> Is it perhaps you're getting an exception and eating it somewhere =20
> along the way?   How many unique birthdays are there in that range?  =20
> You have over the default limit of 1,024 documents, so I suspect you =20
> are getting a TooManyClauses exception.
Hmm, when I catched Throwable t (instead of IOException e) around
IndexSearcher.search() I realized the stackTrace created by
org.apache.lucene.search.BooleanQuery$TooManyClauses in my log ...
Thanks for your hint, this was really helpful!

Improvement suggestion:
Maybe TooManyClauses should not extend RuntimeException
(so that it has to be catched)?

Yours sincerely,
Joachim Roesener.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 14:53:44 2005
Return-Path: <java-user-return-17385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11103 invoked from network); 9 Nov 2005 14:53:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 14:53:44 -0000
Received: (qmail 70124 invoked by uid 500); 9 Nov 2005 14:53:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70103 invoked by uid 500); 9 Nov 2005 14:53:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70092 invoked by uid 99); 9 Nov 2005 14:53:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 06:53:36 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.204 as permitted sender)
Received: from [66.249.82.204] (HELO xproxy.gmail.com) (66.249.82.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 06:53:29 -0800
Received: by xproxy.gmail.com with SMTP id t16so188783wxc
        for <java-user@lucene.apache.org>; Wed, 09 Nov 2005 06:53:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=tear5r7xgQ0k8W0Bv0TG3wfoZRbTYcFFncuJnsokgVcDzGtVd2t9kkGIBejdzUK1sP+FCq7hdeu7TjjJXG31iZeTc+I6kaKTpWOlz0hceg/IYquTKEKGlV282NyZdshgSovJyWXTEdVhnOMljfIxDiF5Fogj9EJoeGNdNhSe1No=
Received: by 10.65.148.9 with SMTP id a9mr886659qbo;
        Wed, 09 Nov 2005 06:53:14 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Wed, 9 Nov 2005 06:53:14 -0800 (PST)
Message-ID: <c68e39170511090653w380240d9u395499f24614ea3a@mail.gmail.com>
Date: Wed, 9 Nov 2005 09:53:14 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: RangeQuery over many indexed documents seems to be buggy
In-Reply-To: <1131546728.7372.175.camel@hybris.freenet-ag.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1131543787.7372.160.camel@hybris.freenet-ag.de>
	 <CADC34B1-626E-426F-B1E4-25E573CD6426@ehatchersolutions.com>
	 <1131546728.7372.175.camel@hybris.freenet-ag.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The limited number of terms in a range query should hopefully be
addressed before Lucene 1.9 comes out.

I'd give you a reference to the bug, but JIRA seems like it's
currently down.  search for ConstantScoreRangeQuery if interested.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 15:55:47 2005
Return-Path: <java-user-return-17386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44505 invoked from network); 9 Nov 2005 15:55:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 15:55:47 -0000
Received: (qmail 61885 invoked by uid 500); 9 Nov 2005 15:55:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61854 invoked by uid 500); 9 Nov 2005 15:55:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61843 invoked by uid 99); 9 Nov 2005 15:55:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 07:55:40 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.174.124.10] (HELO mail.igb.uiuc.edu) (128.174.124.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 07:55:33 -0800
Received: by mail.igb.uiuc.edu (Postfix, from userid 48)
	id 91B8C114400D; Wed,  9 Nov 2005 09:55:18 -0600 (CST)
Received: from 128.174.124.138
        (SquirrelMail authenticated user tlittell)
        by mail.igb.uiuc.edu with HTTP;
        Wed, 9 Nov 2005 09:55:18 -0600 (CST)
Message-ID: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu>
Date: Wed, 9 Nov 2005 09:55:18 -0600 (CST)
Subject: going from Document -> IndexReader's docid
From: tlittell@igb.uiuc.edu
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-IGB-MailScanner-Information: Please contact the ISP for more information
X-IGB-MailScanner: Found to be clean
X-IGB-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-1.493, required 5, ALL_TRUSTED -0.50,
	BAYES_00 -1.00, NO_REAL_NAME 0.01)
X-MailScanner-From: tlittell@igb.uiuc.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


If I have a Document object (doc), and I also have an IndexReader open,
how can I find out IndexReader's docid corresponding to (doc)?

IndexReader has a map from docid -> Document, but I don't see the reverse.

thanks in advance,
Todd


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 16:13:52 2005
Return-Path: <java-user-return-17387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54076 invoked from network); 9 Nov 2005 16:13:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 16:13:52 -0000
Received: (qmail 86334 invoked by uid 500); 9 Nov 2005 16:13:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86207 invoked by uid 500); 9 Nov 2005 16:13:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86153 invoked by uid 99); 9 Nov 2005 16:13:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 08:13:41 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO xproxy.gmail.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 08:13:34 -0800
Received: by xproxy.gmail.com with SMTP id t16so212636wxc
        for <java-user@lucene.apache.org>; Wed, 09 Nov 2005 08:13:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G8ev5/QcOo44E6lzX2pFJ8G2/snT5r9HH+aLYlXdeLa0Nm6KcjpFnsqyov86Ou1qU2nzUnYLjnM9v339n6ZAkkPx8DalKUaWB6lJaNoxww5r9OIyleD947XSg3JJsYlqtrjXzSq7a7tM1sClUGz/zKQbsvq8NOrxZOXrmE/tWr4=
Received: by 10.65.236.2 with SMTP id n2mr956511qbr;
        Wed, 09 Nov 2005 08:13:19 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Wed, 9 Nov 2005 08:13:18 -0800 (PST)
Message-ID: <c68e39170511090813m5060fde9k31c24e0c998c8417@mail.gmail.com>
Date: Wed, 9 Nov 2005 11:13:19 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: going from Document -> IndexReader's docid
In-Reply-To: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There really isn't a generic way... you have to search for the document.
If you have a unique id field in your document, you can find the
document id quickly via IndexReader.termDocs(term)

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/9/05, tlittell@igb.uiuc.edu <tlittell@igb.uiuc.edu> wrote:
>
> If I have a Document object (doc), and I also have an IndexReader open,
> how can I find out IndexReader's docid corresponding to (doc)?
>
> IndexReader has a map from docid -> Document, but I don't see the reverse=
.
>
> thanks in advance,
> Todd

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 17:34:37 2005
Return-Path: <java-user-return-17388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95645 invoked from network); 9 Nov 2005 17:34:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 17:34:36 -0000
Received: (qmail 31497 invoked by uid 500); 9 Nov 2005 17:34:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31476 invoked by uid 500); 9 Nov 2005 17:34:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31465 invoked by uid 99); 9 Nov 2005 17:34:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 09:34:29 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.204] (HELO web25906.mail.ukl.yahoo.com) (217.12.10.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Nov 2005 09:34:22 -0800
Received: (qmail 80977 invoked by uid 60001); 9 Nov 2005 17:34:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=tj5/wyNAyrR1olLqydOj6TjN+E19YBqJGFwldV2VFf60ZQfAIHeG4KToP/QQYxHbMXGeLnjHDkL3lk+g763J1CP7G3as2pT6ti8e3AXRIlDSeor5IeUv/jsesvoNzDK7bA2sTxWobkUKQpFt7ihX01YwKzZIzqngsHLEsLJjR7A=  ;
Message-ID: <20051109173406.80975.qmail@web25906.mail.ukl.yahoo.com>
Received: from [84.131.243.18] by web25906.mail.ukl.yahoo.com via HTTP; Wed, 09 Nov 2005 17:34:06 GMT
Date: Wed, 9 Nov 2005 17:34:06 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: A lot of short documents, optimal query? 
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

Can somebody please suggest a way/ways on how to
optimize execution times this query below (or to use
some of Trunk BooleanScorers)... Probably I do not see
obvious.

Use Case:
Here I have names of people with query expansion for
individual tokens (not using Fuzzy Query) that should
be found in ceartin zip codes.
The collection contains approx 30Mio rather short
documents with only two fields, name (2-4 tokens) and
ZIP code.

My tougts were to index ony 2 char prefix to get rid
of the prefix part of the query. Sounds plausible?

Also worth of mentioning, I would like to get all hits
(currently using HitCollector) and score is not
needed, any way to avoid scoring (would that help at
all?)

Befor adding ZIPS:12* part of the query, Lucene worked
like a charm, a lot under 1 second on 25Mio
collection! Now it jumped into 10 second range.

Trunk is ok for me.

Thanks a lot! 
eks dev

(
+(
(+raimonds +marschan) 
(+raimonds +marschol) 
(+raimonds +marschel) 
(+raimonds +marschalfr) 
(+raimonds +marschalek) 
(+raimonds +marscha) 
...
) 
+(ZIPS:22* ZIPS:21* ZIPS:20* ZIPS:23* ZIPS:245*
ZIPS:246* ZIPS:247* ZIPS:240* ZIPS:241* ZIPS:242*
ZIPS:243* ZIPS:254* ZIPS:253* ZIPS:255* ZIPS:256*
ZIPS:257* ZIPS:295* ZIPS:296* ZIPS:273* ZIPS:274*
ZIPS:275* ZIPS:276* ZIPS:192* ZIPS:190*)
)


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 18:03:46 2005
Return-Path: <java-user-return-17389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10364 invoked from network); 9 Nov 2005 18:03:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 18:03:45 -0000
Received: (qmail 77319 invoked by uid 500); 9 Nov 2005 18:03:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77299 invoked by uid 500); 9 Nov 2005 18:03:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77288 invoked by uid 99); 9 Nov 2005 18:03:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 10:03:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 10:03:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6BBB213E2034; Wed,  9 Nov 2005 13:03:16 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id C388613E200A
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 13:03:08 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <c68e39170511090813m5060fde9k31c24e0c998c8417@mail.gmail.com>
References: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu> <c68e39170511090813m5060fde9k31c24e0c998c8417@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A4EAF982-4533-4CBE-95E6-7EA1188A8FE9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: going from Document -> IndexReader's docid
Date: Wed, 9 Nov 2005 13:03:11 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The question is, how did you get that Document?   If you got it from  
Hits, you can get the document id from Hits.id(hit_num).

     Erik



On 9 Nov 2005, at 11:13, Yonik Seeley wrote:

> There really isn't a generic way... you have to search for the  
> document.
> If you have a unique id field in your document, you can find the
> document id quickly via IndexReader.termDocs(term)
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 11/9/05, tlittell@igb.uiuc.edu <tlittell@igb.uiuc.edu> wrote:
>
>>
>> If I have a Document object (doc), and I also have an IndexReader  
>> open,
>> how can I find out IndexReader's docid corresponding to (doc)?
>>
>> IndexReader has a map from docid -> Document, but I don't see the  
>> reverse.
>>
>> thanks in advance,
>> Todd
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 19:09:03 2005
Return-Path: <java-user-return-17390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40789 invoked from network); 9 Nov 2005 19:09:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 19:09:02 -0000
Received: (qmail 10475 invoked by uid 500); 9 Nov 2005 19:08:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10448 invoked by uid 500); 9 Nov 2005 19:08:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10437 invoked by uid 99); 9 Nov 2005 19:08:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 11:08:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 11:08:48 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 08A505B77F; Wed,  9 Nov 2005 11:08:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 05F887F45C
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 11:08:32 -0800 (PST)
Date: Wed, 9 Nov 2005 11:08:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: A lot of short documents, optimal query? 
In-Reply-To: <20051109173406.80975.qmail@web25906.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0511091102240.16423@hal.rescomp.berkeley.edu>
References: <20051109173406.80975.qmail@web25906.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: (
: +(
: (+raimonds +marschan)
: (+raimonds +marschol)
: (+raimonds +marschel)
: (+raimonds +marschalfr)
: (+raimonds +marschalek)
: (+raimonds +marscha)
: ...
: )
: +(ZIPS:22* ZIPS:21* ZIPS:20* ZIPS:23* ZIPS:245*
: ZIPS:246* ZIPS:247* ZIPS:240* ZIPS:241* ZIPS:242*
: ZIPS:243* ZIPS:254* ZIPS:253* ZIPS:255* ZIPS:256*
: ZIPS:257* ZIPS:295* ZIPS:296* ZIPS:273* ZIPS:274*
: ZIPS:275* ZIPS:276* ZIPS:192* ZIPS:190*)
: )

independent of how short/long your documents are, using RangeFilters on
your ZIPS field is going to be more efficient then PrevixQueries ... I'd
bet money it will even be more efficient then making a two character
prefix_ZIPS field and doing a TermQuery on it -- and there's no reason not
to use a Filter if you dont' care about the score.

take a look at RangeFilter in SVN, even if you are using 1.4.3 it should
be combatible.  Also take a look at ChainedFilter as a way to compose lots
of individual RangeFilters...

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/ChainedFilter.java

You can probably get additional speed ups by using Filters on whatever
your default name search field is, google for "lucene Hoss SetFilter" to
see a previous discussion where i suggested something similar.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 19:39:27 2005
Return-Path: <java-user-return-17391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55533 invoked from network); 9 Nov 2005 19:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 19:39:27 -0000
Received: (qmail 68861 invoked by uid 500); 9 Nov 2005 19:39:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68832 invoked by uid 500); 9 Nov 2005 19:39:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68795 invoked by uid 99); 9 Nov 2005 19:39:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 11:39:21 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.174.124.10] (HELO mail.igb.uiuc.edu) (128.174.124.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 11:39:14 -0800
Received: by mail.igb.uiuc.edu (Postfix, from userid 48)
	id 9BFCD114400D; Wed,  9 Nov 2005 13:38:57 -0600 (CST)
Received: from 128.174.124.138
        (SquirrelMail authenticated user tlittell)
        by mail.igb.uiuc.edu with HTTP;
        Wed, 9 Nov 2005 13:38:57 -0600 (CST)
Message-ID: <2410.128.174.124.138.1131565137.squirrel@mail.igb.uiuc.edu>
In-Reply-To: <A4EAF982-4533-4CBE-95E6-7EA1188A8FE9@ehatchersolutions.com>
References: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu>
    <c68e39170511090813m5060fde9k31c24e0c998c8417@mail.gmail.com>
    <A4EAF982-4533-4CBE-95E6-7EA1188A8FE9@ehatchersolutions.com>
Date: Wed, 9 Nov 2005 13:38:57 -0600 (CST)
Subject: Re: going from Document -> IndexReader's docid
From: tlittell@igb.uiuc.edu
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-IGB-MailScanner-Information: Please contact the ISP for more information
X-IGB-MailScanner: Found to be clean
X-IGB-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-1.493, required 5, ALL_TRUSTED -0.50,
	BAYES_00 -1.00, NO_REAL_NAME 0.01)
X-MailScanner-From: tlittell@igb.uiuc.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Ahh, thank you very much.  That's exactly what I needed, I just didn't see
that in the API.

cheers,
Todd

> The question is, how did you get that Document?   If you got it from
> Hits, you can get the document id from Hits.id(hit_num).
>
>      Erik
>
>
>
> On 9 Nov 2005, at 11:13, Yonik Seeley wrote:
>
>> There really isn't a generic way... you have to search for the
>> document.
>> If you have a unique id field in your document, you can find the
>> document id quickly via IndexReader.termDocs(term)
>>
>> -Yonik
>> Now hiring -- http://forms.cnet.com/slink?231706
>>
>> On 11/9/05, tlittell@igb.uiuc.edu <tlittell@igb.uiuc.edu> wrote:
>>
>>>
>>> If I have a Document object (doc), and I also have an IndexReader
>>> open,
>>> how can I find out IndexReader's docid corresponding to (doc)?
>>>
>>> IndexReader has a map from docid -> Document, but I don't see the
>>> reverse.
>>>
>>> thanks in advance,
>>> Todd
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 21:15:50 2005
Return-Path: <java-user-return-17392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12157 invoked from network); 9 Nov 2005 21:15:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 21:15:50 -0000
Received: (qmail 75612 invoked by uid 500); 9 Nov 2005 21:15:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74724 invoked by uid 500); 9 Nov 2005 21:15:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74713 invoked by uid 99); 9 Nov 2005 21:15:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 13:15:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 13:15:36 -0800
Received: from rees.math.uwaterloo.ca (rees.math.uwaterloo.ca [129.97.204.28])
	by services04.student.cs.uwaterloo.ca (8.11.7/8.11.7) with ESMTP id jA9LFKg08574
	for <java-user@lucene.apache.org>; Wed, 9 Nov 2005 16:15:20 -0500 (EST)
Received: (from pgwillia@localhost)
	by rees.math.uwaterloo.ca (8.11.7/8.11.7) id jA9LFDd25738;
	Wed, 9 Nov 2005 16:15:13 -0500 (EST)
Date: Wed, 9 Nov 2005 16:15:12 -0500 (EST)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
X-X-Sender: pgwillia@rees.math.uwaterloo.ca
To: java-user@lucene.apache.org
Subject: Encountered "<EOF>" using queryparser in XSP
In-Reply-To: <2410.128.174.124.138.1131565137.squirrel@mail.igb.uiuc.edu>
Message-ID: <Pine.GSO.4.58.0511091603490.21233@rees.math.uwaterloo.ca>
References: <3356.128.174.124.138.1131551718.squirrel@mail.igb.uiuc.edu>   
 <c68e39170511090813m5060fde9k31c24e0c998c8417@mail.gmail.com>   
 <A4EAF982-4533-4CBE-95E6-7EA1188A8FE9@ehatchersolutions.com>
 <2410.128.174.124.138.1131565137.squirrel@mail.igb.uiuc.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Wed, 09 Nov 2005 16:15:20 -0500 (EST)
X-Miltered: at minos with ID 437266E8.000 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on localhost
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

   I'm using an html form to send a query to an xsp which uses lucene to
search and then returns the results as xml.  Perhaps some one has
experienced the problem that I'm currently experiencing.  When the query
is parsed org.apache.lucene.queryParser.ParseException is thrown stating
that "Encountered "<EOF>" at ..."

  The same query string not sent via a form works in a JUnit test so it
seems to me to be some sort of hidden escape character introduced by
the form or the use of request.getParameterValues('query') in the xsp
which is not accounted for.

  Any advice would be much appreciated.

Cheers,
Tricia

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 09 23:50:19 2005
Return-Path: <java-user-return-17393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83178 invoked from network); 9 Nov 2005 23:50:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Nov 2005 23:50:19 -0000
Received: (qmail 81646 invoked by uid 500); 9 Nov 2005 23:50:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81542 invoked by uid 500); 9 Nov 2005 23:50:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81507 invoked by uid 99); 9 Nov 2005 23:50:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 15:50:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Nov 2005 15:50:03 -0800
Received: (qmail 4715 invoked from network); 9 Nov 2005 23:49:38 -0000
Received: from unknown (HELO x1000.msqr.us) (66.245.216.224)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Wed, 09 Nov 2005 15:49:38 -0800
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id jA9NmHbL000522
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 9 Nov 2005 15:48:17 -0800
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id jA9NmF5I000521;
	Wed, 9 Nov 2005 15:48:15 -0800
Received: from 222.152.67.193
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Wed, 9 Nov 2005 15:48:14 -0800 (PST)
Message-ID: <49742.222.152.67.193.1131580094.squirrel@msqr.us>
Date: Wed, 9 Nov 2005 15:48:14 -0800 (PST)
Subject: efficiently finding all terms used on a particular field within 
     Documents matching a query
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've used the example posted at
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-a801793d7479264e29157d92440199b35266dc18
to find all terms used in a complete index, but was wondering if there is
an efficient way to find all terms used within only a set of Documents
matching a query?

For example I would like to find the set of terms used within a particular
date range, where all Documents have a date field on them. What I've done
to date is simply perform a query to find all Documents that match the
date range query, then iterate over each one and construct a Set of all
terms used in the particular field I'm interested in.

I'm wondering if there a more efficient way to accomplish this?

-- m@

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 00:43:17 2005
Return-Path: <java-user-return-17394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5287 invoked from network); 10 Nov 2005 00:43:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 00:43:17 -0000
Received: (qmail 67780 invoked by uid 500); 10 Nov 2005 00:43:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67760 invoked by uid 500); 10 Nov 2005 00:43:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67749 invoked by uid 99); 10 Nov 2005 00:43:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 16:43:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 16:43:02 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 88394B7359
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 11:42:49 +1100 (EST)
Message-ID: <437298F1.40205@nuix.com.au>
Date: Thu, 10 Nov 2005 11:48:49 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: Memory Usage
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.

What is the expected memory usage of Lucene these days?  I dug up an old 
email [1] from 2001 which gave the following summary of memory usage:

An IndexReader requires:
  one byte per field per document in index (norms)
  one open file per file in index
  1/128 of the Terms in the index
    a Term has two pointers (8 bytes)
     and a String (4 pointers = 24 bytes, one to 16-bit chars)

 From this, we determined the norms to be by far the biggest problem, 
and set about removing them based on a patch submitted on the issue 
tracker [2].

However, now we've met the next hurdle: the terms use much more memory 
than suggested above.

Profiling a text index with roughly 32,000,000 terms, we have about:
   * 13MB of char[]
   * 6MB of java.lang.String
   * 6MB of org.apache.lucene.index.Term
   * 8MB of org.apache.lucene.index.TermInfo
   => Total = 33MB

This actually equates to about:
   * 52 bytes (average, depends on the term lengths in the index) per char[]
   * 24 bytes per String
   * 24 bytes per Term
   * 32 bytes per TermInfo
   => 132 bytes per term, for the 1 in 128 terms which are held.

This isn't a problem in the current state, but when loading 30 of these 
text indexes at once, we start running into serious memory usage issues.

My question is: is this 1/128 figure set in stone, or can it be changed 
without major consequences?

I would rather have an application which used less memory and took 
longer, than one which uses all the available RAM just to milk out a bit 
of extra speed.

Daniel


References:
[1]: http://rubyurl.com/uF1
[2]: http://issues.apache.org/jira/browse/LUCENE-448

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 00:55:15 2005
Return-Path: <java-user-return-17395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10261 invoked from network); 10 Nov 2005 00:55:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 00:55:14 -0000
Received: (qmail 83193 invoked by uid 500); 10 Nov 2005 00:55:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82368 invoked by uid 500); 10 Nov 2005 00:55:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82353 invoked by uid 99); 10 Nov 2005 00:55:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 16:55:08 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 16:55:02 -0800
Received: from smtp2.sybase.com (sybgate2 [10.22.97.85])
	by inergen.sybase.com  with ESMTP id jAA0sl322045
	for <java-user@lucene.apache.org>; Wed, 9 Nov 2005 16:54:47 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp2.sybase.com  with ESMTP id QAA10852
	for <java-user@lucene.apache.org>; Wed, 9 Nov 2005 16:54:47 -0800 (PST)
Subject: Search Help
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF892381A8.181F6AE4-ON882570B5.0004ADFE-852570B5.00050242@sybase.com>
From: Daniel.Clark@sybase.com
Date: Wed, 9 Nov 2005 19:54:43 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/09/2005
 04:54:47 PM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is there a way to limit the number of hits I want returned?  Sometimes I
just want one document.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 01:20:23 2005
Return-Path: <java-user-return-17396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20761 invoked from network); 10 Nov 2005 01:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 01:20:23 -0000
Received: (qmail 99439 invoked by uid 500); 10 Nov 2005 01:20:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99412 invoked by uid 500); 10 Nov 2005 01:20:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99390 invoked by uid 99); 10 Nov 2005 01:20:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 17:20:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 17:20:09 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1Ea189-0009Xp-Qo
	for java-user@lucene.apache.org; Wed, 09 Nov 2005 17:21:33 -0800
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <437298F1.40205@nuix.com.au>
References: <437298F1.40205@nuix.com.au>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Wed, 9 Nov 2005 17:19:52 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 9, 2005, at 4:48 PM, Daniel Noll wrote:
> My question is: is this 1/128 figure set in stone, or can it be  
> changed without major consequences?

You want indexInterval.  Here's an excerpt from the docs in  
TermInfosWriter.

   // TODO: the default values for these two parameters
   // should be settable from IndexWriter.  However, once
   // that's done, folks will start setting them to
   // ridiculous values and complaining that things don't
   // work well, as with mergeFactor.  So, let's wait until
   // a number of folks find that alternate values work better.
   // Note that both of these values are stored in the segment,
   // so that it's safe to change these w/o rebuilding all indexes.

   /** Expert: The fraction of terms in the "dictionary" which
    * should be stored in RAM.  Smaller values use more memory,
    * but make searching slightly faster, while larger values
    * use less memory and make searching slightly slower.  Searching
    * is typically not dominated by dictionary lookup, so
    * tweaking this is rarely useful.*/
   int indexInterval = 128;

I believe that it is settable  via setTermIndexInterval() in  
IndexWriter.

> I would rather have an application which used less memory and took  
> longer, than one which uses all the available RAM just to milk out  
> a bit of extra speed.

You have grasped the tradeoff precisely.

Best,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 01:36:43 2005
Return-Path: <java-user-return-17397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28281 invoked from network); 10 Nov 2005 01:36:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 01:36:43 -0000
Received: (qmail 12466 invoked by uid 500); 10 Nov 2005 01:36:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12445 invoked by uid 500); 10 Nov 2005 01:36:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 63711 invoked by uid 99); 9 Nov 2005 21:58:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
From: "Monsur Hossain" <monsur@xanga.net>
To: <java-user@lucene.apache.org>
Subject: Sorting: string vs int
Date: Wed, 9 Nov 2005 16:58:04 -0500
Organization: Xanga.com
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXleKjWPJS9qfe+T9agc9SQfwPL7w==
Message-Id: <200511091701483.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all.  I have a question about sorting.  Lucene in Action says: "For
numeric types, each field being sorted for each document in the index
requires that four bytes be cached.  For String types, each unique term is
also cached for each document."

I want to make sure I'm understanding this correctly.  Lets say I have a
document with some text and a date; a typical document might look like this:

DOCUMENT #1:
text = hello world
date = 20050401

Lets say I index 10,000 of these documents into a single Lucene index.  I
then create two IndexSearchers on this index and do a search.  The first
IndexSearcher sorts by date as an int, the other sorts by date as a string:

IndexSearcher #1 = date sort on INT
IndexSearcher #2 = date sort in STRING

If I understand the quoted sentence correctly, IndexSearcher #1 will have an
int array storing one date per document, while IndexSearcher #2 will have a
string array with only unique dates?  If so, is there a particular reason
why sorting as an int doesn't cache unique dates?

The reason I ask this is consider an index with 10,000 documents, where I
store year, month, and day as separte fields (for simplicity lets assume I
only store the years 2000 - 2005 only).  When searching as an int, if each
field of each document needs to be cached, that's 10,000 documents * 3
fields = 30,000 cached ints.  If terms are uniquely cached, that's just 6
(for each year) + 12 (for each month) + 31 (for each day) = 49 cached ints.
Am I interpreting any of this correctly?

Thanks,
Monsur



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 01:45:24 2005
Return-Path: <java-user-return-17398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32351 invoked from network); 10 Nov 2005 01:45:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 01:45:23 -0000
Received: (qmail 20325 invoked by uid 500); 10 Nov 2005 01:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19406 invoked by uid 500); 10 Nov 2005 01:45:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19394 invoked by uid 99); 10 Nov 2005 01:45:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 17:45:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 17:45:11 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6010213E2039; Wed,  9 Nov 2005 20:44:53 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 5A24513E2035
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 20:44:36 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF892381A8.181F6AE4-ON882570B5.0004ADFE-852570B5.00050242@sybase.com>
References: <OF892381A8.181F6AE4-ON882570B5.0004ADFE-852570B5.00050242@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7EB70180-1E47-4600-AF1E-1BEA4F5AF482@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search Help
Date: Wed, 9 Nov 2005 20:44:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 9 Nov 2005, at 19:54, Daniel.Clark@sybase.com wrote:
> Is there a way to limit the number of hits I want returned?   
> Sometimes I
> just want one document.

Is there an issue with just accessing hits.doc(0) in this case?

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 02:23:55 2005
Return-Path: <java-user-return-17399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57579 invoked from network); 10 Nov 2005 02:23:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 02:23:55 -0000
Received: (qmail 52093 invoked by uid 500); 10 Nov 2005 02:23:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52072 invoked by uid 500); 10 Nov 2005 02:23:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52061 invoked by uid 99); 10 Nov 2005 02:23:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 18:23:48 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 18:23:41 -0800
Received: by xproxy.gmail.com with SMTP id r21so789775wxc
        for <java-user@lucene.apache.org>; Wed, 09 Nov 2005 18:23:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HhwjGHT5gITIEvKms7RwS9m4CEoJqLImUS+H1o/qdviXt0qVXN4B9URzLSwlwxcOjiRgf5j90PMWNiCJuMXlOa+IMaRUYMsELdIOqSUq624DKVcMFmY0h0zix7TZxvcr6Sz4ExhQX8TlmLUpDS0vBL3KaikEBFlv2egaEXsFhx4=
Received: by 10.65.113.20 with SMTP id q20mr257826qbm;
        Wed, 09 Nov 2005 18:23:26 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Wed, 9 Nov 2005 18:23:26 -0800 (PST)
Message-ID: <c68e39170511091823n57472dcdida50aa14c0bee4d6@mail.gmail.com>
Date: Wed, 9 Nov 2005 21:23:26 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting: string vs int
In-Reply-To: <200511091701483.SM01960@chicago>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200511091701483.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The FieldCache (which is used for sorting), uses arrays of size
maxDoc() to cache field values.  String sorting will involve caching a
String[] (or StringIndex) and int sorting will involve caching an
int[].  Unique string values are shared in the array, but the String
values plus the String[] will always take up more room than the int[].

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 11/9/05, Monsur Hossain <monsur@xanga.net> wrote:
> Hi all.  I have a question about sorting.  Lucene in Action says: "For
> numeric types, each field being sorted for each document in the index
> requires that four bytes be cached.  For String types, each unique term i=
s
> also cached for each document."
>
> I want to make sure I'm understanding this correctly.  Lets say I have a
> document with some text and a date; a typical document might look like th=
is:
>
> DOCUMENT #1:
> text =3D hello world
> date =3D 20050401
>
> Lets say I index 10,000 of these documents into a single Lucene index.  I
> then create two IndexSearchers on this index and do a search.  The first
> IndexSearcher sorts by date as an int, the other sorts by date as a strin=
g:
>
> IndexSearcher #1 =3D date sort on INT
> IndexSearcher #2 =3D date sort in STRING
>
> If I understand the quoted sentence correctly, IndexSearcher #1 will have=
 an
> int array storing one date per document, while IndexSearcher #2 will have=
 a
> string array with only unique dates?  If so, is there a particular reason
> why sorting as an int doesn't cache unique dates?
>
> The reason I ask this is consider an index with 10,000 documents, where I
> store year, month, and day as separte fields (for simplicity lets assume =
I
> only store the years 2000 - 2005 only).  When searching as an int, if eac=
h
> field of each document needs to be cached, that's 10,000 documents * 3
> fields =3D 30,000 cached ints.  If terms are uniquely cached, that's just=
 6
> (for each year) + 12 (for each month) + 31 (for each day) =3D 49 cached i=
nts.
> Am I interpreting any of this correctly?
>
> Thanks,
> Monsur

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 03:10:33 2005
Return-Path: <java-user-return-17400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78651 invoked from network); 10 Nov 2005 03:10:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 03:10:33 -0000
Received: (qmail 92453 invoked by uid 500); 10 Nov 2005 03:10:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92427 invoked by uid 500); 10 Nov 2005 03:10:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92416 invoked by uid 99); 10 Nov 2005 03:10:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 19:10:25 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.203] (HELO web33706.mail.mud.yahoo.com) (68.142.201.203)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Nov 2005 19:10:17 -0800
Received: (qmail 29251 invoked by uid 60001); 10 Nov 2005 03:10:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pUnUWD9O8ta0jFC4WgB6dAO60NpqVtuxcXAKwWEQcE4UgBqGrJHpovbmqiq3P2S/QcuGjz5Ta1qmwyccJ6vVFUlrn7GIlPVGKOgBoI7RGcJmH0nUeD53g3/2WHVNJAGaM1kf71aDunfzl73ieTUrrjDSRL1hfjrRC1ufO2v9vXM=  ;
Message-ID: <20051110031002.29249.qmail@web33706.mail.mud.yahoo.com>
Received: from [203.162.44.41] by web33706.mail.mud.yahoo.com via HTTP; Wed, 09 Nov 2005 19:10:02 PST
Date: Wed, 9 Nov 2005 19:10:02 -0800 (PST)
From: Hai Do Thanh <sunflower_2805@yahoo.com>
Subject: Re: Ask about method QueryParser.parser
To: java-user@lucene.apache.org
In-Reply-To: <A8EFA740-41C6-4202-8CB4-F92C53515E4F@gan.no>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your reply :)

I have already debugged the input string s. As I said
before, s is a string which is sent by client through
the "doPost()" method of servlet

At first, I thought that the analyzer is the cause of
the problem and that it lowercase all leters. However,
then, I  have also known that WhitespaceAnalyzer do
not do that. 

Therefore, I changed my mind and I wonder if the
problem is resulted from the servlet technology. Yet,
when I debugged the input string s I saw that before
the method, string s was still indentical to what was
sent from client.


--- Karl ie <karl@gan.no> wrote:

> Sounds very strange, have you debugged the input
> string s? Where does  
> it come from?
> 
> Karl
> 
> On 9. nov. 2005, at 05.00, Hai Do Thanh wrote:
> 
> > Dear all,
> >
> > I really appreciate your work on Lucene. It is
> > apparently a helpful API for my project on indexed
> > Document searching. On the whole, It works
> properly
> > and perfectly.
> >
> > However, there is a problem when I try to query
> what I
> > have indexed with the keyword received through
> > internet using Servlet technology. The specific
> > problem is the followings:
> >
> > // This is the method I use to parse my query
> > Query myQuery = QueryParser.parse(s,
> "NamedEntity",
> > analyzer);
> >
> > with s is the query string received from client,
> > analyzer is the WhitespaceAnalyzer and the version
> of
> > Lucene is lucene-1.4-final.jar
> >
> > Before this method, the value of s is "Chua_Huong"
> > with C and H are uppercased letters
> > After this method myQuery = NamedEntity:chua_huong
> > with  c and h are lowercased
> >
> > Yet, if I type the String "Chua_Huong" directly
> onto
> > the first argument (the position of s),
> >
> > Query myQuery =
> >
>
QueryParser.parse("Chua_Huong","NamedEntity",analyzer);
> >
> > After the method, myQuery = NamedEntity:Chua_Huong
> > with C and H are still uppercased letters.
> >
> > What happened with this?
> > Please if you can, reply to my problem as soon as
> > possible.
> > I would be most grateful for your helpfulness!
> > Thanks in advance
> >
> > Sincerely yours
> > Thanh Hai
> >
> >
> > 		
> > __________________________________
> > Yahoo! FareChase: Search multiple travel sites in
> one click.
> > http://farechase.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> 
> - there is nothing wrong with using linux. if that's
> the lifestyle  
> you want to live, i wont judge you. i just wont
> support you at the  
> parades.
> 
> 



		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 07:12:39 2005
Return-Path: <java-user-return-17401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94045 invoked from network); 10 Nov 2005 07:12:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 07:12:39 -0000
Received: (qmail 20697 invoked by uid 500); 10 Nov 2005 07:12:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19786 invoked by uid 500); 10 Nov 2005 07:12:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19775 invoked by uid 99); 10 Nov 2005 07:12:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 23:12:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Nov 2005 23:12:24 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id F2F695B77D; Wed,  9 Nov 2005 23:12:10 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E9B947F45C
	for <java-user@lucene.apache.org>; Wed,  9 Nov 2005 23:12:10 -0800 (PST)
Date: Wed, 9 Nov 2005 23:12:10 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: efficiently finding all terms used on a particular field within
      Documents matching a query
In-Reply-To: <49742.222.152.67.193.1131580094.squirrel@msqr.us>
Message-ID: <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
References: <49742.222.152.67.193.1131580094.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: For example I would like to find the set of terms used within a particular
: date range, where all Documents have a date field on them. What I've done
: to date is simply perform a query to find all Documents that match the
: date range query, then iterate over each one and construct a Set of all
: terms used in the particular field I'm interested in.
:
: I'm wondering if there a more efficient way to accomplish this?

I believe there is -- provided the terms are index.

1) Get yourself a BitSet representing the Documents you are interested in
(you mentioned having a a date range, you can either use a RangeFilter nad
call the bits method directly, or you can do a search using a
HitCollector)

2) Look at the code that acctually makes RangeFilter work.  It iterates
over a TermEnum between a low and high value.  for each term it finds, it
uses a TermDocs to record the docid.  You could do something very similar,
looping over all terms in the field you want.  but instead of recording
the docid, add the term to your Set object -- if and only if one of the
docids from the TermDocs is in your BitSet from step #1 above.


...that should be faster then the appraoch you have now.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 08:02:08 2005
Return-Path: <java-user-return-17402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19303 invoked from network); 10 Nov 2005 08:02:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 08:02:07 -0000
Received: (qmail 69959 invoked by uid 500); 10 Nov 2005 08:01:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69916 invoked by uid 500); 10 Nov 2005 08:01:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69896 invoked by uid 99); 10 Nov 2005 08:01:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 00:01:56 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.24] (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 00:01:48 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAA81XRH079973
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 09:01:33 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: efficiently finding all terms used on a particular field within      Documents matching a query
Date: Thu, 10 Nov 2005 09:01:33 +0100
User-Agent: KMail/1.5.4
References: <49742.222.152.67.193.1131580094.squirrel@msqr.us> <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511100901.33264.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 10 November 2005 08:12, Chris Hostetter wrote:
> 
> : For example I would like to find the set of terms used within a particular
> : date range, where all Documents have a date field on them. What I've done
> : to date is simply perform a query to find all Documents that match the
> : date range query, then iterate over each one and construct a Set of all
> : terms used in the particular field I'm interested in.
> :
> : I'm wondering if there a more efficient way to accomplish this?
> 
> I believe there is -- provided the terms are index.
> 
> 1) Get yourself a BitSet representing the Documents you are interested in
> (you mentioned having a a date range, you can either use a RangeFilter nad
> call the bits method directly, or you can do a search using a
> HitCollector)
> 
> 2) Look at the code that acctually makes RangeFilter work.  It iterates
> over a TermEnum between a low and high value.  for each term it finds, it
> uses a TermDocs to record the docid.  You could do something very similar,
> looping over all terms in the field you want.  but instead of recording
> the docid, add the term to your Set object -- if and only if one of the
> docids from the TermDocs is in your BitSet from step #1 above.

Once the doc id's are available, an alternative to get the terms used
in a particular field is to get them from the TermVectors of the docs.
The field of interest must be indexed with TermVectors for this to work.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 09:16:38 2005
Return-Path: <java-user-return-17403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63401 invoked from network); 10 Nov 2005 09:16:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 09:16:37 -0000
Received: (qmail 48759 invoked by uid 500); 10 Nov 2005 09:16:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48729 invoked by uid 500); 10 Nov 2005 09:16:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48718 invoked by uid 99); 10 Nov 2005 09:16:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 01:16:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.159.151.132] (HELO mail.gan.no) (195.159.151.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 01:16:23 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.gan.no (Postfix) with ESMTP id 2BA2FF0014
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 10:16:05 +0100 (CET)
Received: from [172.16.16.192] (MetaMac.mediehuset.gan.no [172.16.16.192])
	by mail.gan.no (Postfix) with ESMTP id C2AE2F0005
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 10:16:03 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051110031002.29249.qmail@web33706.mail.mud.yahoo.com>
References: <20051110031002.29249.qmail@web33706.mail.mud.yahoo.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-5-835624247
Message-Id: <B592B2D6-1CE5-48A4-A8FF-169D15EECC04@gan.no>
From: =?ISO-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
Subject: Re: Ask about method QueryParser.parser
Date: Thu, 10 Nov 2005 10:16:03 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at gan.no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-5-835624247
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=ISO-8859-1;
	delsp=yes;
	format=flowed

If you have Tomcat it defaults to iso-8859-1 as character encoding i =20
think, try to recode your input to utf-8 before feeding it to lucene.

s =3D new String(s.getBytes(),"UTF-8");

Karl

On 10. nov. 2005, at 04.10, Hai Do Thanh wrote:

> Thanks for your reply :)
>
> I have already debugged the input string s. As I said
> before, s is a string which is sent by client through
> the "doPost()" method of servlet
>
> At first, I thought that the analyzer is the cause of
> the problem and that it lowercase all leters. However,
> then, I  have also known that WhitespaceAnalyzer do
> not do that.
>
> Therefore, I changed my mind and I wonder if the
> problem is resulted from the servlet technology. Yet,
> when I debugged the input string s I saw that before
> the method, string s was still indentical to what was
> sent from client.
>
>
> --- Karl =D8ie <karl@gan.no> wrote:
>
>> Sounds very strange, have you debugged the input
>> string s? Where does
>> it come from?
>>
>> Karl
>>
>> On 9. nov. 2005, at 05.00, Hai Do Thanh wrote:
>>
>>> Dear all,
>>>
>>> I really appreciate your work on Lucene. It is
>>> apparently a helpful API for my project on indexed
>>> Document searching. On the whole, It works
>> properly
>>> and perfectly.
>>>
>>> However, there is a problem when I try to query
>> what I
>>> have indexed with the keyword received through
>>> internet using Servlet technology. The specific
>>> problem is the followings:
>>>
>>> // This is the method I use to parse my query
>>> Query myQuery =3D QueryParser.parse(s,
>> "NamedEntity",
>>> analyzer);
>>>
>>> with s is the query string received from client,
>>> analyzer is the WhitespaceAnalyzer and the version
>> of
>>> Lucene is lucene-1.4-final.jar
>>>
>>> Before this method, the value of s is "Chua_Huong"
>>> with C and H are uppercased letters
>>> After this method myQuery =3D NamedEntity:chua_huong
>>> with  c and h are lowercased
>>>
>>> Yet, if I type the String "Chua_Huong" directly
>> onto
>>> the first argument (the position of s),
>>>
>>> Query myQuery =3D
>>>
>>
> QueryParser.parse("Chua_Huong","NamedEntity",analyzer);
>>>
>>> After the method, myQuery =3D NamedEntity:Chua_Huong
>>> with C and H are still uppercased letters.
>>>
>>> What happened with this?
>>> Please if you can, reply to my problem as soon as
>>> possible.
>>> I would be most grateful for your helpfulness!
>>> Thanks in advance
>>>
>>> Sincerely yours
>>> Thanh Hai
>>>
>>>
>>> 	=09
>>> __________________________________
>>> Yahoo! FareChase: Search multiple travel sites in
>> one click.
>>> http://farechase.yahoo.com
>>>
>>>
>>
> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>>
>>
>> - there is nothing wrong with using linux. if that's
>> the lifestyle
>> you want to live, i wont judge you. i just wont
>> support you at the
>> parades.
>>
>>
>
>
>
> 	=09
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

- Real life should have a search function. I need my socks.


--Apple-Mail-5-835624247--

From java-user-return-17404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 13:01:54 2005
Return-Path: <java-user-return-17404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97076 invoked from network); 10 Nov 2005 13:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 13:01:54 -0000
Received: (qmail 61066 invoked by uid 500); 10 Nov 2005 13:01:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61043 invoked by uid 500); 10 Nov 2005 13:01:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61032 invoked by uid 99); 10 Nov 2005 13:01:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 05:01:47 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 05:01:40 -0800
Received: from smtp2.sybase.com (sybgate2 [10.22.97.85])
	by inergen.sybase.com  with ESMTP id jAAD1Q304974
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 05:01:26 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp2.sybase.com  with ESMTP id FAA02374
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 05:01:25 -0800 (PST)
In-Reply-To: <7EB70180-1E47-4600-AF1E-1BEA4F5AF482@ehatchersolutions.com>
Subject: Re: Search Help
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFE075CCE3.65137B90-ON882570B5.004768B6-852570B5.0047897D@sybase.com>
From: Daniel.Clark@sybase.com
Date: Thu, 10 Nov 2005 08:01:24 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/10/2005
 05:01:25 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's what I'm doing now, but I was thinking that if I limit the number of
results I get back, I can save query time.  Maybe I'm wrong?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Erik Hatcher                                                  
             <erik@ehatchersol                                             
             utions.com>                                                To 
                                       java-user@lucene.apache.org         
             11/09/2005 08:44                                           cc 
             PM                                                            
                                                                   Subject 
                                       Re: Search Help                     
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           





On 9 Nov 2005, at 19:54, Daniel.Clark@sybase.com wrote:
> Is there a way to limit the number of hits I want returned?
> Sometimes I
> just want one document.

Is there an issue with just accessing hits.doc(0) in this case?

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 13:25:07 2005
Return-Path: <java-user-return-17405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16585 invoked from network); 10 Nov 2005 13:25:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 13:25:07 -0000
Received: (qmail 83998 invoked by uid 500); 10 Nov 2005 13:25:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83959 invoked by uid 500); 10 Nov 2005 13:25:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83948 invoked by uid 99); 10 Nov 2005 13:25:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 05:25:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 05:24:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3084A13E2036; Thu, 10 Nov 2005 08:24:37 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id AD33E13E2036
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 08:24:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OFE075CCE3.65137B90-ON882570B5.004768B6-852570B5.0047897D@sybase.com>
References: <OFE075CCE3.65137B90-ON882570B5.004768B6-852570B5.0047897D@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <250D6466-1730-4DF6-B665-4ECC031526E8@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search Help
Date: Thu, 10 Nov 2005 08:24:30 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 
	autolearn=unavailable version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 10 Nov 2005, at 08:01, Daniel.Clark@sybase.com wrote:
> That's what I'm doing now, but I was thinking that if I limit the  
> number of
> results I get back, I can save query time.  Maybe I'm wrong?

Out of curiosity - what kind of query are you issuing and what kind  
of response times are you seeing?

I don't think you'd see much of a change in query time by having  
Lucene modified to only return the top hit, but I'm only speculating.

     Erik

>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
>              Erik Hatcher
>              <erik@ehatchersol
>               
> utions.com>                                                To
>                                        java-user@lucene.apache.org
>              11/09/2005  
> 08:44                                           cc
>              PM
>                                                                     
> Subject
>                                        Re: Search Help
>              Please respond to
>              java-user@lucene.
>                 apache.org
>
>
>
>
>
>
>
>
> On 9 Nov 2005, at 19:54, Daniel.Clark@sybase.com wrote:
>
>> Is there a way to limit the number of hits I want returned?
>> Sometimes I
>> just want one document.
>>
>
> Is there an issue with just accessing hits.doc(0) in this case?
>
>      Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 17:43:50 2005
Return-Path: <java-user-return-17406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93029 invoked from network); 10 Nov 2005 17:43:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 17:43:49 -0000
Received: (qmail 70430 invoked by uid 500); 10 Nov 2005 17:43:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70406 invoked by uid 500); 10 Nov 2005 17:43:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 64506 invoked by uid 99); 10 Nov 2005 17:39:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Date: Thu, 10 Nov 2005 12:38:36 -0500 (EST)
From: Satyanarayana Ashwin <ashwin@cs.albany.edu>
To: java-user@lucene.apache.org
Subject: Input File Format 
Message-ID: <Pine.GSO.4.58.0511101225220.14633@broomstick>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am new to Lucene. I was trying to use Lucene with TREC-6 Data. The
question is that each input file given by TREC have multiple documents
(some files contain over 200 documents) tagged by DOCID. The result given
by Lucene to a query is a list of files and not documents.

Q1) Is there a way of getting the query results in terms of documents
within the files rather than files ( without modifying the code)?

Q2) If the above is not posssible, what would be the best way to modify
the code?

Thanks and Regards,
Ashwin

Phd Student,
Department of Computer Science,
SUNY,Albany.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 17:44:42 2005
Return-Path: <java-user-return-17407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93433 invoked from network); 10 Nov 2005 17:44:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 17:44:38 -0000
Received: (qmail 72163 invoked by uid 500); 10 Nov 2005 17:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72103 invoked by uid 500); 10 Nov 2005 17:44:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72054 invoked by uid 99); 10 Nov 2005 17:44:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 09:44:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.7.7.100] (HELO mail.monsur.com) (64.7.7.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 09:44:18 -0800
Received: from chicago [64.7.7.99] by mail.monsur.com with ESMTP
  (SMTPD32-8.05) id A7AF70FE0144; Thu, 10 Nov 2005 12:47:27 -0500
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: Sorting: string vs int
Date: Thu, 10 Nov 2005 12:43:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXlnkQYf1WkrDURQF6HkOXjFaROugAfbTQg
In-Reply-To: <c68e39170511091823n57472dcdida50aa14c0bee4d6@mail.gmail.com>
Message-Id: <200511101247936.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks Yonik, it makes sense now.  So getStringIndex indexes every sorted
string field in the retArray (one per document), and then each unique string
term in the mterms array.  What is the purpose of the mterms array?

Thanks,
Monsur




> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com] 
> Sent: Wednesday, November 09, 2005 9:23 PM
> To: java-user@lucene.apache.org
> Subject: Re: Sorting: string vs int
> 
> The FieldCache (which is used for sorting), uses arrays of size
> maxDoc() to cache field values.  String sorting will involve caching a
> String[] (or StringIndex) and int sorting will involve caching an
> int[].  Unique string values are shared in the array, but the String
> values plus the String[] will always take up more room than the int[].
> 
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
> 
> 
> On 11/9/05, Monsur Hossain <monsur@xanga.net> wrote:
> > Hi all.  I have a question about sorting.  Lucene in Action 
> says: "For
> > numeric types, each field being sorted for each document in 
> the index
> > requires that four bytes be cached.  For String types, each 
> unique term is
> > also cached for each document."
> >
> > I want to make sure I'm understanding this correctly.  Lets 
> say I have a
> > document with some text and a date; a typical document 
> might look like this:
> >
> > DOCUMENT #1:
> > text = hello world
> > date = 20050401
> >
> > Lets say I index 10,000 of these documents into a single 
> Lucene index.  I
> > then create two IndexSearchers on this index and do a 
> search.  The first
> > IndexSearcher sorts by date as an int, the other sorts by 
> date as a string:
> >
> > IndexSearcher #1 = date sort on INT
> > IndexSearcher #2 = date sort in STRING
> >
> > If I understand the quoted sentence correctly, 
> IndexSearcher #1 will have an
> > int array storing one date per document, while 
> IndexSearcher #2 will have a
> > string array with only unique dates?  If so, is there a 
> particular reason
> > why sorting as an int doesn't cache unique dates?
> >
> > The reason I ask this is consider an index with 10,000 
> documents, where I
> > store year, month, and day as separte fields (for 
> simplicity lets assume I
> > only store the years 2000 - 2005 only).  When searching as 
> an int, if each
> > field of each document needs to be cached, that's 10,000 
> documents * 3
> > fields = 30,000 cached ints.  If terms are uniquely cached, 
> that's just 6
> > (for each year) + 12 (for each month) + 31 (for each day) = 
> 49 cached ints.
> > Am I interpreting any of this correctly?
> >
> > Thanks,
> > Monsur
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 17:55:21 2005
Return-Path: <java-user-return-17408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99444 invoked from network); 10 Nov 2005 17:55:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 17:55:19 -0000
Received: (qmail 96027 invoked by uid 500); 10 Nov 2005 17:55:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96007 invoked by uid 500); 10 Nov 2005 17:55:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95996 invoked by uid 99); 10 Nov 2005 17:55:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 09:55:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 09:55:05 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A5C9313E203F; Thu, 10 Nov 2005 12:54:50 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id AE88313E203E
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 12:54:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <Pine.GSO.4.58.0511101225220.14633@broomstick>
References: <Pine.GSO.4.58.0511101225220.14633@broomstick>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D61FF0C7-363D-4979-9E06-6F46ECA5651C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Input File Format 
Date: Thu, 10 Nov 2005 12:54:21 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You must be using the demo program that comes with Lucene.  That is  
merely an example, and a barely decent one at that.  Have a look  
under the covers of that code or the code that ships with Lucene in  
Action at http://www.lucenebook.com

You can slice and dice "documents" in whatever granularity you like -  
but you have to write code to parse the TREC files into those pieces,  
making appropriate fields and so on.

     Erik

On 10 Nov 2005, at 12:38, Satyanarayana Ashwin wrote:

> Hello,
>
> I am new to Lucene. I was trying to use Lucene with TREC-6 Data. The
> question is that each input file given by TREC have multiple documents
> (some files contain over 200 documents) tagged by DOCID. The result  
> given
> by Lucene to a query is a list of files and not documents.
>
> Q1) Is there a way of getting the query results in terms of documents
> within the files rather than files ( without modifying the code)?
>
> Q2) If the above is not posssible, what would be the best way to  
> modify
> the code?
>
> Thanks and Regards,
> Ashwin
>
> Phd Student,
> Department of Computer Science,
> SUNY,Albany.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 18:33:09 2005
Return-Path: <java-user-return-17409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22480 invoked from network); 10 Nov 2005 18:33:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 18:33:05 -0000
Received: (qmail 54427 invoked by uid 500); 10 Nov 2005 18:32:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54391 invoked by uid 500); 10 Nov 2005 18:32:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54353 invoked by uid 99); 10 Nov 2005 18:32:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 10:32:57 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 10:32:50 -0800
Received: by zproxy.gmail.com with SMTP id z6so465591nzd
        for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 10:32:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=lSxzJgItzFjose5+SZBpG6dmpHKDQ31C4aqHEVficeNeR4XYi8jcvTSrc7Tel/7wrFl7fJ6jeaPnHm+kgmYoHbhaZc+wF5ad0SGmIn5IN2EQ7VX1YwM9d2otZ3zzlDlvK+sLABu1/cXOFymQuObxhl8mqLvJtxQJbKKjVriQ06Q=
Received: by 10.65.225.15 with SMTP id c15mr1241457qbr;
        Thu, 10 Nov 2005 10:32:35 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Thu, 10 Nov 2005 10:32:35 -0800 (PST)
Message-ID: <c68e39170511101032y568e5301s6ebce0882ade5626@mail.gmail.com>
Date: Thu, 10 Nov 2005 13:32:35 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting: string vs int
In-Reply-To: <200511101247936.SM01960@chicago>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170511091823n57472dcdida50aa14c0bee4d6@mail.gmail.com>
	 <200511101247936.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here is a snippet of the current StringIndex class:

public static class StringIndex {
    /** All the term values, in natural order. */
    public final String[] lookup;

    /** For each document, an index into the lookup array. */
    public final int[] order;
 }

The order field is used for sorting within a single IndexSearcher, but
the lookup field is needed to populate the actual string value so it
may be used by MultiSearchers to order hits from multiple Searchers.

Look at FieldSortedHitQueue.comparatorString() for more info.

I guess it would be nice to have some way of telling the searcher (and
the fieldcache) whether the actual string values are needed or not...
it could save a lot of memory when there are a lot of unique terms.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 11/10/05, Monsur Hossain <monsur@monsur.com> wrote:
>
> Thanks Yonik, it makes sense now.  So getStringIndex indexes every sorted
> string field in the retArray (one per document), and then each unique str=
ing
> term in the mterms array.  What is the purpose of the mterms array?
>
> Thanks,
> Monsur

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 19:13:48 2005
Return-Path: <java-user-return-17410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46876 invoked from network); 10 Nov 2005 19:13:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 19:13:48 -0000
Received: (qmail 25515 invoked by uid 500); 10 Nov 2005 19:13:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25496 invoked by uid 500); 10 Nov 2005 19:13:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25485 invoked by uid 99); 10 Nov 2005 19:13:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 11:13:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.7.7.100] (HELO mail.monsur.com) (64.7.7.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 11:13:34 -0800
Received: from chicago [64.7.7.99] by mail.monsur.com with ESMTP
  (SMTPD32-8.05) id AC9B81940148; Thu, 10 Nov 2005 14:16:43 -0500
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: Sorting: string vs int
Date: Thu, 10 Nov 2005 14:13:15 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXmJajLKvgJZZjsSh2ZV6ZlS2TBfQABNjDg
In-Reply-To: <c68e39170511101032y568e5301s6ebce0882ade5626@mail.gmail.com>
Message-Id: <200511101416842.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Ah, I got it.  retArray is an array of ints; in order to return the string
value, it needs the mterms array to do the mapping.  Thanks, Yonik!

Monsur


 

> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com] 
> Sent: Thursday, November 10, 2005 1:33 PM
> To: java-user@lucene.apache.org
> Subject: Re: Sorting: string vs int
> 
> Here is a snippet of the current StringIndex class:
> 
> public static class StringIndex {
>     /** All the term values, in natural order. */
>     public final String[] lookup;
> 
>     /** For each document, an index into the lookup array. */
>     public final int[] order;
>  }
> 
> The order field is used for sorting within a single IndexSearcher, but
> the lookup field is needed to populate the actual string value so it
> may be used by MultiSearchers to order hits from multiple Searchers.
> 
> Look at FieldSortedHitQueue.comparatorString() for more info.
> 
> I guess it would be nice to have some way of telling the searcher (and
> the fieldcache) whether the actual string values are needed or not...
> it could save a lot of memory when there are a lot of unique terms.
> 
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 10 23:34:28 2005
Return-Path: <java-user-return-17411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94539 invoked from network); 10 Nov 2005 23:34:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Nov 2005 23:34:28 -0000
Received: (qmail 9625 invoked by uid 500); 10 Nov 2005 23:34:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9593 invoked by uid 500); 10 Nov 2005 23:34:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9582 invoked by uid 99); 10 Nov 2005 23:34:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 15:34:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 15:34:13 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 07B8E5B796; Thu, 10 Nov 2005 15:33:55 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F2D297F459
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 15:33:55 -0800 (PST)
Date: Thu, 10 Nov 2005 15:33:55 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Search Help
In-Reply-To: <OFE075CCE3.65137B90-ON882570B5.004768B6-852570B5.0047897D@sybase.com>
Message-ID: <Pine.LNX.4.58.0511101523420.14107@hal.rescomp.berkeley.edu>
References: <OFE075CCE3.65137B90-ON882570B5.004768B6-852570B5.0047897D@sybase.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: That's what I'm doing now, but I was thinking that if I limit the number of
: results I get back, I can save query time.  Maybe I'm wrong?

one thing that does slightly bug me about the way the Hits class works, is
that the constructor (which is called by the Searcher.search(Query) calls
getMoreDocs(50) ... which ensures that the first 100 results are
cached beore the client has ever said how many results they are
interested in.  Each call to Hits.doc(x) calls getMoreDocs(x) if x is
bigger then the largest doc fetched into the cache.

In the past, Another user asked a question regarding the equivilent of
paginated searching, where his "pages" had a large number of results (1000
i think) and he was wondering why on page two, both the call to search,
and the call to Hits.doc(1001) were taking so long -- it's because the
call to search was fetching the first 100 docs, and then the call to
Hits.get(1001) was throwing away that info and getting a bunch more.

Your situation isn't exactly the same, but it is relatd in the sense that
by using Hits, you are getting some under the covers behavior that is
targeted at the "common case" and you are not the common case.

If you acctaully feel like your performance isn't good enough, and you
want to make your code a little more complicated, and start playing
with the "Expert" methods, you might want to take a look at this one...

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searchable.html#search(org.apache.lucene.search.Query,%20org.apache.lucene.search.Filter,%20int)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 00:12:52 2005
Return-Path: <java-user-return-17412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8318 invoked from network); 11 Nov 2005 00:12:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 00:12:52 -0000
Received: (qmail 49690 invoked by uid 500); 11 Nov 2005 00:12:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49657 invoked by uid 500); 11 Nov 2005 00:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49646 invoked by uid 99); 11 Nov 2005 00:12:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 16:12:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 16:12:37 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3067D5B793; Thu, 10 Nov 2005 16:12:19 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C2D9F7F459
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 16:12:19 -0800 (PST)
Date: Thu, 10 Nov 2005 16:12:19 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sorting: string vs int
In-Reply-To: <c68e39170511101032y568e5301s6ebce0882ade5626@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0511101539180.14107@hal.rescomp.berkeley.edu>
References: <c68e39170511091823n57472dcdida50aa14c0bee4d6@mail.gmail.com> 
 <200511101247936.SM01960@chicago> <c68e39170511101032y568e5301s6ebce0882ade5626@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I guess it would be nice to have some way of telling the searcher (and
: the fieldcache) whether the actual string values are needed or not...
: it could save a lot of memory when there are a lot of unique terms.

you're talking about something like LUCENE-457 right? ... but make it
optional so clients who aren't using MultiSearcher can ignore the physical
strings, and clients who are still have them.

three thoughts have occured to me on this...

1) there might be a way to write a FieldCache.IntParser thta could work
... but i can't think of any good way to do it that wouldn't be a total
kludge (given the limited visibility IntParser has to hte rest of hte
world)

2) users could write a new sub class of FiledCacheImpl which consisted
of...

class FieldCacheNoMultiSearcher extends FieldCacheImpl {
  public StringIndex getStringIndex (IndexReader reader, String field)
  throws IOException {
    Object ret = lookup (reader, field, STRING_INDEX);
    if (ret == null) {
      StringIndex all = super.getStringIndex(reader,field);
      StringIndex part = new StringIndex(all.order, null);
      store(reader, field, STRING_INDEX, part);
      return part;
    }
    return (StringIndex) ret;
  }
}

...but that's also kludgy ... applications might use a class like this to
improve the memory footprint, but then they might add functionality latter
that acctually needs the strings (something in the contrib section for
example, or function query that look at the length of the word, etc...)
and they'll get a really ugly null pointer exception.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 00:32:10 2005
Return-Path: <java-user-return-17413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15055 invoked from network); 11 Nov 2005 00:32:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 00:32:09 -0000
Received: (qmail 72240 invoked by uid 500); 11 Nov 2005 00:32:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72219 invoked by uid 500); 11 Nov 2005 00:32:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72207 invoked by uid 99); 11 Nov 2005 00:32:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 16:32:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Nov 2005 16:31:57 -0800
Received: (qmail 21609 invoked from network); 11 Nov 2005 00:31:30 -0000
Received: from unknown (HELO x1000.msqr.us) (66.245.216.224)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Thu, 10 Nov 2005 16:31:30 -0800
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id jAB0U9jJ011471
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 16:30:09 -0800
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id jAB0U9Gi011470;
	Thu, 10 Nov 2005 16:30:09 -0800
Received: from 222.152.67.193
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 10 Nov 2005 16:30:08 -0800 (PST)
Message-ID: <49658.222.152.67.193.1131669008.squirrel@msqr.us>
In-Reply-To: <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
References: <49742.222.152.67.193.1131580094.squirrel@msqr.us>
    <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
Date: Thu, 10 Nov 2005 16:30:08 -0800 (PST)
Subject: Re: efficiently finding all terms used on a particular field 
     withinDocuments matching a query
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> : I'm wondering if there a more efficient way to accomplish this?
>
> I believe there is -- provided the terms are index.
>
> 1) Get yourself a BitSet representing the Documents you are interested in
> (you mentioned having a a date range, you can either use a RangeFilter nad
> call the bits method directly, or you can do a search using a
> HitCollector)
>
> 2) Look at the code that acctually makes RangeFilter work.  It iterates
> over a TermEnum between a low and high value.  for each term it finds, it
> uses a TermDocs to record the docid.  You could do something very similar,
> looping over all terms in the field you want.  but instead of recording
> the docid, add the term to your Set object -- if and only if one of the
> docids from the TermDocs is in your BitSet from step #1 above.
>
>
> ...that should be faster then the appraoch you have now.

Thank you, I had thought a BitSet was appropriate here somehow, I'll work
on this approach.

-- m@


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 00:37:57 2005
Return-Path: <java-user-return-17414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16573 invoked from network); 11 Nov 2005 00:37:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 00:37:56 -0000
Received: (qmail 79747 invoked by uid 500); 11 Nov 2005 00:37:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78861 invoked by uid 500); 11 Nov 2005 00:37:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78843 invoked by uid 99); 11 Nov 2005 00:37:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 16:37:51 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 16:37:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D9C5D5B76C; Thu, 10 Nov 2005 16:37:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D53BE7F459
	for <java-user@lucene.apache.org>; Thu, 10 Nov 2005 16:37:29 -0800 (PST)
Date: Thu, 10 Nov 2005 16:37:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: efficiently finding all terms used on a particular field     
 withinDocuments matching a query
In-Reply-To: <49658.222.152.67.193.1131669008.squirrel@msqr.us>
Message-ID: <Pine.LNX.4.58.0511101635510.23101@hal.rescomp.berkeley.edu>
References: <49742.222.152.67.193.1131580094.squirrel@msqr.us>   
 <Pine.LNX.4.58.0511092304340.10218@hal.rescomp.berkeley.edu>
 <49658.222.152.67.193.1131669008.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thank you, I had thought a BitSet was appropriate here somehow, I'll work
: on this approach.

Paul's suggestion is acctually a lot simpler, and I suspect it might be
faster -- but it does require that you index with TermVectors.  If that's
soemthing you're already doing, then you should definitely try that
appraoch first, if not ... i don't know which one would be best.  adding
TermVectors would definitely increase the size of your index, which would
probably affect the performance of your application in other ways.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 06:23:18 2005
Return-Path: <java-user-return-17415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63375 invoked from network); 11 Nov 2005 06:23:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 06:23:18 -0000
Received: (qmail 71805 invoked by uid 500); 11 Nov 2005 06:23:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70925 invoked by uid 500); 11 Nov 2005 06:23:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70914 invoked by uid 99); 11 Nov 2005 06:23:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 22:23:12 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.222] (HELO web31205.mail.mud.yahoo.com) (68.142.200.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Nov 2005 22:23:04 -0800
Received: (qmail 90094 invoked by uid 60001); 11 Nov 2005 06:22:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=iAwWkCvgIvuDzCwmjtOu9m8WCiVZsVjay0kGGD6iM8B88c9L2h9KOiO4KWSQ/P8vo2sc9iNznS2h7yZxSxEwic+uTUYyAlIJvzjKISRy+YjqPZZuzrfp+seDP+D5/XtmLBc7vGkPCvPpkiSdF7iIbzo8J/Rdy5EZdghk1yd0AA4=  ;
Message-ID: <20051111062250.90092.qmail@web31205.mail.mud.yahoo.com>
Received: from [68.126.199.1] by web31205.mail.mud.yahoo.com via HTTP; Thu, 10 Nov 2005 22:22:50 PST
Date: Thu, 10 Nov 2005 22:22:50 -0800 (PST)
From: bib_lucene bib <bib_lucene@yahoo.com>
Subject: Document as parameter?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-866731883-1131690170=:88960"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-866731883-1131690170=:88960
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi All
 
I use the following code to display search results
 
LuceneHitHighlighter highlighter = new LuceneHitHighlighter(queryStr, "snippet", "body");
                for (int i = 0; i < hits.size(); i++) {
                    Document doc = (Document) hits.get(i);
                    highlighter.doHighlight(doc);
                    out.println("SNIPPET: " + doc.get("snippet"));
 
Issue:
 
I want to give a link for each matched document, so that I can click on the link and show the whole document instead of just the snippet. I got a suggestion from Erik Hatcher to use NullFragmenter.
 
Question is how can I put the information in the link so that I can pass this document to another HitHighLighter which is using NullFragmenter.
 
Any Ideas please...
 
Thanks
bib/-

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-866731883-1131690170=:88960--

From java-user-return-17416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 07:08:24 2005
Return-Path: <java-user-return-17416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82313 invoked from network); 11 Nov 2005 07:08:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 07:08:24 -0000
Received: (qmail 94154 invoked by uid 500); 11 Nov 2005 07:08:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94134 invoked by uid 500); 11 Nov 2005 07:08:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94122 invoked by uid 99); 11 Nov 2005 07:08:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Nov 2005 23:08:17 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.208] (HELO web25910.mail.ukl.yahoo.com) (217.12.10.208)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Nov 2005 23:08:10 -0800
Received: (qmail 59189 invoked by uid 60001); 11 Nov 2005 07:07:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kMJo1s3se4+SBFswRBVQaBVrQT9HXDzTLqAWtD7NR9ux4CCZTE2WYL9QANg0WJgmqZ4ornIh8Tuop63JcpHzOjjH7vaZEwFqFAed1UPfXi1RIEORnfjHUT6y3tsYGctFoBayqewOeXdvWs3iFwEE5DujCw4wHL2uF5MDhC04naA=  ;
Message-ID: <20051111070755.59187.qmail@web25910.mail.ukl.yahoo.com>
Received: from [84.131.204.183] by web25910.mail.ukl.yahoo.com via HTTP; Fri, 11 Nov 2005 07:07:55 GMT
Date: Fri, 11 Nov 2005 07:07:55 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: A lot of short documents, optimal query? 
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0511091102240.16423@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Hoss,

I've looked intio it and you were absolutely right,
could not be simpler.

Two quick ones on the same topic (my personal
education like questions):

- What is the purpose of hasCode and equals methods in
XxxFilter? (this is a question about actual usage in
Lucene, not java elementary :)

- What would be recommended usage of the SetFilter?
a) to use search(Query, SetFilter, HitCollector)
or
b) search(Query, HitCollector) + I do AND inside
hitCollector

Option a) could be faster because inside collect()
method in HitCollector there is no way to skip to the
first set bit of the SetFilter (bitset of the Query is
not visible) 

When we are done with testing (takes a while), I will
post results. Also, If somebody has interests in
SetFilter, I see no problems to post it back.

Agan, many thanks for usefull tip! 



--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> : (
> : +(
> : (+raimonds +marschan)
> : (+raimonds +marschol)
> : (+raimonds +marschel)
> : (+raimonds +marschalfr)
> : (+raimonds +marschalek)
> : (+raimonds +marscha)
> : ...
> : )
> : +(ZIPS:22* ZIPS:21* ZIPS:20* ZIPS:23* ZIPS:245*
> : ZIPS:246* ZIPS:247* ZIPS:240* ZIPS:241* ZIPS:242*
> : ZIPS:243* ZIPS:254* ZIPS:253* ZIPS:255* ZIPS:256*
> : ZIPS:257* ZIPS:295* ZIPS:296* ZIPS:273* ZIPS:274*
> : ZIPS:275* ZIPS:276* ZIPS:192* ZIPS:190*)
> : )
> 
> independent of how short/long your documents are,
> using RangeFilters on
> your ZIPS field is going to be more efficient then
> PrevixQueries ... I'd
> bet money it will even be more efficient then making
> a two character
> prefix_ZIPS field and doing a TermQuery on it -- and
> there's no reason not
> to use a Filter if you dont' care about the score.
> 
> take a look at RangeFilter in SVN, even if you are
> using 1.4.3 it should
> be combatible.  Also take a look at ChainedFilter as
> a way to compose lots
> of individual RangeFilters...
> 
>
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/ChainedFilter.java
> 
> You can probably get additional speed ups by using
> Filters on whatever
> your default name search field is, google for
> "lucene Hoss SetFilter" to
> see a previous discussion where i suggested
> something similar.
> 
> -Hoss
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 08:15:08 2005
Return-Path: <java-user-return-17417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4515 invoked from network); 11 Nov 2005 08:15:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 08:15:08 -0000
Received: (qmail 37641 invoked by uid 500); 11 Nov 2005 08:15:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37606 invoked by uid 500); 11 Nov 2005 08:15:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37595 invoked by uid 99); 11 Nov 2005 08:15:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 00:15:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 00:14:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 38EE45B76C; Fri, 11 Nov 2005 00:14:36 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 13CDC7F45C
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 00:14:36 -0800 (PST)
Date: Fri, 11 Nov 2005 00:14:36 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: A lot of short documents, optimal query? 
In-Reply-To: <20051111070755.59187.qmail@web25910.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0511102341170.5457@hal.rescomp.berkeley.edu>
References: <20051111070755.59187.qmail@web25910.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: - What is the purpose of hasCode and equals methods in
: XxxFilter? (this is a question about actual usage in
: Lucene, not java elementary :)

You mean hashCode right? ... those methods are generally important for
Hashing, which makes then key for effective caching in most cases.
CachingWrapperFilter doesn't need them because each instance only caches
one Filter -- but if you're trying to write a good, reusable Filter,
you'll want to impliment them.  (for the same reasons you want to
impliment them anytime your trying to write a good reusable class)


: - What would be recommended usage of the SetFilter?
: a) to use search(Query, SetFilter, HitCollector)
: or
: b) search(Query, HitCollector) + I do AND inside
: hitCollector

My suggestion about writing a SetFilter was so you could completely bypass
the "search" -- which involves Weighting and Scoring -- instead you can
just call the bits method directly.  If i remember correctly, I suggested
it because you said you didn't care about score at all, so you can do
something like this (off the top of my head, not 100 certain this is
what you want)...

  Set lnames = ...;
  /* you need to write SetFilter */
  Filter l = new SetFilter("name",lnames);
  /* this is a poor mans "TermFilter" unless you want to write one */
  Filter f = new RangeFilter("name","raimonds", "raimonds",true,true);
  Filter zips = new ChainedFilter(new Filter[] {
     new RangeFilter("ZIP","20000","20999",true,true),
     ...
     new RangeFilter("ZIP","24500","24599",true,true),
     ...
  }, ChainedFilter.OR);
  Filter main = new ChainedFilter(new Filter[] { f, l, zips },
                                  ChainedFilter.AND);
  BitSet results = main.bits(r);


Thinking about your use case a little more, those RangeFilters would make
more sense as "PrefixFilters" ...

Hey Yonik, are you ever going to add your PrefixFilter and
ConstantScorePrefixQuery to LUCENE-383 ?

: > : +(
: > : (+raimonds +marschan)
: > : (+raimonds +marschol)
: > : (+raimonds +marschel)
: > : (+raimonds +marschalfr)
: > : (+raimonds +marschalek)
: > : (+raimonds +marscha)
: > : ...
: > : )
: > : +(ZIPS:22* ZIPS:21* ZIPS:20* ZIPS:23* ZIPS:245*
: > : ZIPS:246* ZIPS:247* ZIPS:240* ZIPS:241* ZIPS:242*
: > : ZIPS:243* ZIPS:254* ZIPS:253* ZIPS:255* ZIPS:256*
: > : ZIPS:257* ZIPS:295* ZIPS:296* ZIPS:273* ZIPS:274*
: > : ZIPS:275* ZIPS:276* ZIPS:192* ZIPS:190*)
: > : )
: >
: > independent of how short/long your documents are,
: > using RangeFilters on
: > your ZIPS field is going to be more efficient then
: > PrevixQueries ... I'd
: > bet money it will even be more efficient then making
: > a two character
: > prefix_ZIPS field and doing a TermQuery on it -- and
: > there's no reason not
: > to use a Filter if you dont' care about the score.
: >
: > take a look at RangeFilter in SVN, even if you are
: > using 1.4.3 it should
: > be combatible.  Also take a look at ChainedFilter as
: > a way to compose lots
: > of individual RangeFilters...
: >
: >
: http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/ChainedFilter.java
: >
: > You can probably get additional speed ups by using
: > Filters on whatever
: > your default name search field is, google for
: > "lucene Hoss SetFilter" to
: > see a previous discussion where i suggested
: > something similar.
: >
: > -Hoss
: >
: >
: >
: ---------------------------------------------------------------------
: > To unsubscribe, e-mail:
: > java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail:
: > java-user-help@lucene.apache.org
: >
: >
:
:
:
:
: ___________________________________________________________
: Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 08:49:08 2005
Return-Path: <java-user-return-17418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25973 invoked from network); 11 Nov 2005 08:49:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 08:49:07 -0000
Received: (qmail 75850 invoked by uid 500); 11 Nov 2005 08:49:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75830 invoked by uid 500); 11 Nov 2005 08:49:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75819 invoked by uid 99); 11 Nov 2005 08:49:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 00:49:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 00:48:54 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5E69C.F5669CB3"
Subject: Performance Question
Date: Fri, 11 Nov 2005 08:50:25 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE05A511@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance Question
Thread-Index: AcXmnPTFEaOg6RV0RYC9C1Se1D8w0Q==
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5E69C.F5669CB3
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have several indexes I want to search together. What performs better a
single searcher on a multi reader or a single multi searcher on multiple
searchers (1 per index).

=20

Thanks

=20

Mike


------_=_NextPart_001_01C5E69C.F5669CB3--

From java-user-return-17419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 13:37:04 2005
Return-Path: <java-user-return-17419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58810 invoked from network); 11 Nov 2005 13:37:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 13:37:03 -0000
Received: (qmail 77659 invoked by uid 500); 11 Nov 2005 13:37:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76765 invoked by uid 500); 11 Nov 2005 13:36:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76754 invoked by uid 99); 11 Nov 2005 13:36:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 05:36:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 05:36:50 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jABDaXte016774
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 08:36:34 -0500 (EST)
Message-ID: <43749E61.1010207@syr.edu>
Date: Fri, 11 Nov 2005 08:36:33 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Getting Started with Korean
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Was wondering if someone could help me out with a few things in Korean 
as related to Lucene:
1.  Which Analyzer do you recommend?  From the list, I see that some 
have had success with the StandardAnalyzer.  Are there any caveats I 
should be aware of if I choose to use it?
2.  Could anyone point me to a fairly decent size (doesn't need to be 
huge), freely available collection?

Thanks,
Grant

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 14:08:44 2005
Return-Path: <java-user-return-17420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71970 invoked from network); 11 Nov 2005 14:08:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 14:08:43 -0000
Received: (qmail 19539 invoked by uid 500); 11 Nov 2005 14:08:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19522 invoked by uid 500); 11 Nov 2005 14:08:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19511 invoked by uid 99); 11 Nov 2005 14:08:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:08:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:08:30 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 309CF13E2041; Fri, 11 Nov 2005 09:08:16 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 3647613E2043
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 09:08:02 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051111062250.90092.qmail@web31205.mail.mud.yahoo.com>
References: <20051111062250.90092.qmail@web31205.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DBF62CDC-8793-4CF3-8E23-2326F02121F4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document as parameter?
Date: Fri, 11 Nov 2005 09:08:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 11 Nov 2005, at 01:22, bib_lucene bib wrote:


> Hi All
>
> I use the following code to display search results
>
> LuceneHitHighlighter highlighter = new LuceneHitHighlighter 
> (queryStr, "snippet", "body");
>                 for (int i = 0; i < hits.size(); i++) {
>                     Document doc = (Document) hits.get(i);
>                     highlighter.doHighlight(doc);
>                     out.println("SNIPPET: " + doc.get("snippet"));
>
> Issue:
>
> I want to give a link for each matched document, so that I can  
> click on the link and show the whole document instead of just the  
> snippet. I got a suggestion from Erik Hatcher to use NullFragmenter.
>
> Question is how can I put the information in the link so that I can  
> pass this document to another HitHighLighter which is using  
> NullFragmenter.
>

I don't really understand your question, and your example is using,  
apparently, your own custom classes that I'm not familiar with.  How  
you access the "whole" document found by searches is entirely up to  
your application design.  You can store information in a fields  
within the Document, or you could have the original document  
elsewhere and access it however appropriate, in which case you'll  
want to have some key to the original document stored as a field.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 14:33:08 2005
Return-Path: <java-user-return-17421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90684 invoked from network); 11 Nov 2005 14:33:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 14:33:07 -0000
Received: (qmail 53130 invoked by uid 500); 11 Nov 2005 14:33:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52728 invoked by uid 500); 11 Nov 2005 14:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 63120 invoked by uid 99); 11 Nov 2005 13:24:10 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=DNd0qXxMV4l4CS8AIJtWkwP/X0Q5lzjxVWZf/oQHg2VJEJDo41C0/iD7E24hkO/XDsScBpNX9rHub4TcV2DXmy0mKfyBflvDITjZS8l54VqSjFH3peV8yCUxg5ICatQHd1VI9oT1ws3zn9CGkM1kgEVrEt0q5X+fGED/7oQZrr4=  ;
Message-ID: <20051111132348.8376.qmail@web30010.mail.mud.yahoo.com>
Date: Fri, 11 Nov 2005 05:23:48 -0800 (PST)
From: <marigoldcc@yahoo.com>
Subject: Re: Fwd: Re: Term Vectors
To: java-user@lucene.apache.org
In-Reply-To: <471Jkkm8R0816S14.1131713957@cmsweb14.cms.usa.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I hope that this isn't a newbies question, but let me
ask the more general question.  While IndexReader can
return the documents containing the term t, I need to
do the opposite.  Is there a method, given document d,
that will return all of the terms in that document (I
need to calculate the average tf and the number of
unique terms in each document)? 

After indexing a set of plain text files using
org.apache.lucene.demo.IndexFiles, I looked at
Document.fields, but all that it returned was:

Text<path:C:\text\02\7laft10.txt>
Keyword<modified:0efvmrdgi>

Any insight would be appreciated.

Thanks
-- MG

Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> 
> ------ Original Message ------
> Received: Fri, 28 Oct 2005 08:22:04 PM EDT
> From: Chris Hostetter <hossman_lucene@fucit.org>
> To:  java-user@lucene.apache.org
> Subject: Re: Term Vectors
> 
> :  "Now, you can get these term vectors per
> documents with the Lucene API if
> the
> : index was built with the term vectors option."
> :
> :   How does one invoke the term vectors option when
> building the index and
> : where can one find a list of the various options
> (I really did try looking
> at
> : the docs, but could not find any reference to
> this).
> 
> there are very few generic options that apply when
> "building the index"
> .. most options are specific to the individual
> documents as you add them
> -- you can choose to store the TermVectors for the
> "FOO" field of one
> document, but leave them out of another.
> 
> Options like wether or not a Field is indexed,
> stored, tokenized, or has
> it's TermVector stored are all controlled when you
> construct the Field
> object prior to adding it to the document...
> 
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Document.html
> 
> 
> -Hoss
> 
> 
> 
> 
> 
> 



		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 14:43:36 2005
Return-Path: <java-user-return-17422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95101 invoked from network); 11 Nov 2005 14:43:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 14:43:36 -0000
Received: (qmail 61081 invoked by uid 500); 11 Nov 2005 14:43:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60176 invoked by uid 500); 11 Nov 2005 14:43:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60164 invoked by uid 99); 11 Nov 2005 14:43:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:43:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:43:24 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jABEh6te006772
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 09:43:07 -0500 (EST)
Message-ID: <4374ADFA.4020201@syr.edu>
Date: Fri, 11 Nov 2005 09:43:06 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Fwd: Re: Term Vectors
References: <20051111132348.8376.qmail@web30010.mail.mud.yahoo.com>
In-Reply-To: <20051111132348.8376.qmail@web30010.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you are storing the term vector when you index, then you can ask the 
IndexReader for the vector using the getTermFreqVector() method, which 
will return the TermFreqVector which should have the information you need

marigoldcc@yahoo.com wrote:

>I hope that this isn't a newbies question, but let me
>ask the more general question.  While IndexReader can
>return the documents containing the term t, I need to
>do the opposite.  Is there a method, given document d,
>that will return all of the terms in that document (I
>need to calculate the average tf and the number of
>unique terms in each document)? 
>
>After indexing a set of plain text files using
>org.apache.lucene.demo.IndexFiles, I looked at
>Document.fields, but all that it returned was:
>
>Text<path:C:\text\02\7laft10.txt>
>Keyword<modified:0efvmrdgi>
>
>Any insight would be appreciated.
>
>Thanks
>-- MG
>
>Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>  
>
>>------ Original Message ------
>>Received: Fri, 28 Oct 2005 08:22:04 PM EDT
>>From: Chris Hostetter <hossman_lucene@fucit.org>
>>To:  java-user@lucene.apache.org
>>Subject: Re: Term Vectors
>>
>>:  "Now, you can get these term vectors per
>>documents with the Lucene API if
>>the
>>: index was built with the term vectors option."
>>:
>>:   How does one invoke the term vectors option when
>>building the index and
>>: where can one find a list of the various options
>>(I really did try looking
>>at
>>: the docs, but could not find any reference to
>>this).
>>
>>there are very few generic options that apply when
>>"building the index"
>>.. most options are specific to the individual
>>documents as you add them
>>-- you can choose to store the TermVectors for the
>>"FOO" field of one
>>document, but leave them out of another.
>>
>>Options like wether or not a Field is indexed,
>>stored, tokenized, or has
>>it's TermVector stored are all controlled when you
>>construct the Field
>>object prior to adding it to the document...
>>
>>
>>    
>>
>http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html
>  
>
>http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Document.html
>  
>
>>-Hoss
>>
>>
>>
>>
>>
>>
>>    
>>
>
>
>
>		
>__________________________________ 
>Start your day with Yahoo! - Make it your home page! 
>http://www.yahoo.com/r/hs
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 14:56:22 2005
Return-Path: <java-user-return-17423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 844 invoked from network); 11 Nov 2005 14:56:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 14:56:21 -0000
Received: (qmail 77462 invoked by uid 500); 11 Nov 2005 14:56:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76569 invoked by uid 500); 11 Nov 2005 14:56:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76558 invoked by uid 99); 11 Nov 2005 14:56:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:56:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 06:56:09 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Insert new records into index
Date: Fri, 11 Nov 2005 09:55:54 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131045FFE7E@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Insert new records into index
Thread-Index: AcXmzlpDTgrIEAVeTLaQzFNChbDqAAAAJI8g
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Howdy all,
	I am having a problem with inserting/updating records into my
index.  I have approximately 1.5M records in the index taking about 2.5G
space when optimized. =20

If I want to update 1000 records, I delete the old item and insert the
new one.  This is taking a LONG time to accomplish.  I believe this is
taking time due to the fact that I have to close the writer to delete
from the reader, then open the writer to insert the new record.  I have
to do this 1 time for each item that needs to be inserted. =20

I tried to not optimize the index, thinking that opening the
index/closing it was taking the big time, but the time seems to be the
same when I have many files ( I had to uncrease the ulimit by quite a
few to avoid the too many files error as well).

Snippets of code..
To delete a record, I am:
	//Close the index
	writer.close();
	=09
	//Instantiate the reader object for deletion
	IndexReader reader =3D IndexReader.open(dir);

	reader.delete(new Term("simm",simm));
      reader.close();

      //Get directory again and Create a new writer to open for insert

Then insert the record.. and move to the next record


I can't keep the writer open to delete an item cause I get this error:
	Lock obtain timed out: Lock@

Anyone have any ideas on how to speed this process up? =20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 15:07:58 2005
Return-Path: <java-user-return-17424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6367 invoked from network); 11 Nov 2005 15:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 15:07:58 -0000
Received: (qmail 90293 invoked by uid 500); 11 Nov 2005 15:07:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90261 invoked by uid 500); 11 Nov 2005 15:07:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90245 invoked by uid 99); 11 Nov 2005 15:07:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 07:07:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 07:07:43 -0800
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id jABF7So17140
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 15:07:28 GMT
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id jABF7SM17136
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 15:07:28 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: Re: RAMDirectory and Hibernate
Date: Fri, 11 Nov 2005 15:07:26 -0000
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A0130AC75@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re: RAMDirectory and Hibernate
Thread-Index: AcXcpZb2xoA4XbvsQ7CnJRfmatsYCQKK2b0gAAAhrCA=
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Martijn,

Sorry for the late reply.
I've been on holiday.
I had other more pressing things come up.
The problem I was trying to solve was clustering the indexing and
search.
I am thinking of breaking my application into indexing and search nodes
and keep them coordinated in some fashion. It would be nice to do this
coordination with established rdbms functionality as strategy, but I
could also use JMS. I will keep you updated when I get to that point. It
is still simmering in my mind at the moment.

Regards
Peter  =20
-----Original Message-----
From: Martijn Smit [mailto:Expires-jan06@gangkast.com]=20
Sent: 29 October 2005 17:27
To: Peter Gelderbloem
Cc: java-user@lucene.apache.org
Subject: Re: RAMDirectory and Hibernate

Peter,

Have you had any success yet on this particular approach?

regards,
Martijn

Peter Gelderbloem wrote:

>Hi,
>I want to map RAMDirectory to a database via Hibernate.
>Any ideas on how to do this properly?
>I thought of using JDBCDirectory for this, but I need to support more
>databases than MySQL and PostgreSQL.
>Many thanks,
>Peter=20
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
> =20
>
--=20

31.69 nHz =3D once a year


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 15:34:14 2005
Return-Path: <java-user-return-17425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18869 invoked from network); 11 Nov 2005 15:34:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 15:34:14 -0000
Received: (qmail 29774 invoked by uid 500); 11 Nov 2005 15:34:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29753 invoked by uid 500); 11 Nov 2005 15:34:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29741 invoked by uid 99); 11 Nov 2005 15:34:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 07:34:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.232.0.217] (HELO avas-mr04.fibertel.com.ar) (24.232.0.217)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 07:33:59 -0800
Received: from OL45-27.fibertel.com.ar ([24.232.27.45]:13583 "EHLO
	[24.232.27.45]" smtp-auth: "edesantis") by avas-mr04.fibertel.com.ar
	with ESMTP id S294970AbVKKPde; Fri, 11 Nov 2005 12:33:34 -0300
X-Comment: RFC 2476 MSA function at avas-mr04.fibertel.com.ar logged sender identity as: edesantis
Received: from 127.0.0.1 (AVG SMTP 7.1.362 [267.12.8/166]); Fri, 11 Nov 2005 12:35:33 -0300
Message-ID: <4374BA45.1080309@colaborativa.net>
Date:	Fri, 11 Nov 2005 12:35:33 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
Organization: Colaborativa.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-es, es
MIME-Version: 1.0
To:	Lucene Users List <java-user@lucene.apache.org>
Subject: highlight only one field
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 94fac59ffa0061ee5dd1d9b856258725
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I'm using highlighter and have this problem:

The query is over two or more fields, like:
*body:home AND title:sale*

I want to highlight over body field, but not highlight "sale" if "sale" 
is in body.

How I can do this?

When I create a Highlighter instance, the parameter is the query:
*highlighter = new Highlighter(new QueryScorer(query));*
but I don't say witch is the field to highlight.

The another QueryScorer constructor is:
*QueryScorer(WeightedTerm[] wet);*

But, who I can get the terms from body field in my query?

Regards
Ernesto.

-- 
Ernesto De Santis - Colaborativa.net
La Plata, Argentina.
http://www.colaborativa.net/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:07:02 2005
Return-Path: <java-user-return-17426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35485 invoked from network); 11 Nov 2005 16:07:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:07:02 -0000
Received: (qmail 79075 invoked by uid 500); 11 Nov 2005 16:06:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79053 invoked by uid 500); 11 Nov 2005 16:06:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79042 invoked by uid 99); 11 Nov 2005 16:06:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:06:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:06:48 -0800
Received: by zproxy.gmail.com with SMTP id x3so766878nzd
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 08:06:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=dr7k420vPnFBlWcU0U+GIolcyiBus8lqNuZOCW7h1r59agYxF2lcqNj0A8ehBbN/oKX/N/8grIWAsDfp3WXu9HlKdK1ErB45lizY8m66ptxIpRWbji5F28F/1zuN28tlhYyghps/VqxJOPdaKEvidm2TUewG1ZO/gdcjftFQTNQ=
Received: by 10.65.155.17 with SMTP id h17mr2593387qbo;
        Fri, 11 Nov 2005 08:06:34 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Fri, 11 Nov 2005 08:06:34 -0800 (PST)
Message-ID: <c68e39170511110806k5791bc2ek21589ba3960fb975@mail.gmail.com>
Date: Fri, 11 Nov 2005 11:06:34 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Performance Question
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE05A511@staf-exm-01.ardentia.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <0B1C92228C5C8D45AA7450F78B3FB9DE05A511@staf-exm-01.ardentia.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The IndexSearcher(MultiReader) will be faster (it's what's used for
indicies with multiple segments too).

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/11/05, Mike Streeton <mike.streeton@ardentia.co.uk> wrote:
> I have several indexes I want to search together. What performs better a
> single searcher on a multi reader or a single multi searcher on multiple
> searchers (1 per index).

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:22:47 2005
Return-Path: <java-user-return-17427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43244 invoked from network); 11 Nov 2005 16:22:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:22:46 -0000
Received: (qmail 5049 invoked by uid 500); 11 Nov 2005 16:22:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5028 invoked by uid 500); 11 Nov 2005 16:22:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5017 invoked by uid 99); 11 Nov 2005 16:22:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:22:40 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:22:32 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id QAA02624
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 16:22:10 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma002620; Fri, 11 Nov 05 16:22:00 GMT
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131045FFE7E@MAIL01.wescodist.com>
Subject: Re: Insert new records into index
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF83DECE19.49658C5F-ON802570B6.0058A154-802570B6.0059D9A7@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 11 Nov 2005 16:22:23 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 11/11/2005 16:22:23
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Hello,

You really do need to batch up your deletes and inserts otherwise it will
take a long time. If you can, do all your deletes and then all of your
inserts. I have gone to the trouble of queueing index operations and when a
new operation comes along I reorder the job queue to ensure deletes and
indexing jobs are grouped together.

If your system doesn't allow you to batch together deletes and writes then
something I have found useful is to split the index into two. I have an
"old" index and a "new" index. I add documents to the "new" index and then
periodically merge into the "old" and clear out the "new". To delete I have
to delete from both indexes as I don't know where my documents are. This
means that you only ever have to open the "old" index with an IndexReader
(except when merging of course). The "new" index can be opened with a
writer for writes and swapped to a reader for reads. By keeping this index
small speeds up the constant opening and closing. Searching is
straightforward using the MultiSearcher.

I don't know anything about the lock problem - it's not something I've ever
seen (I'm using 1.4.3).

Regards

Paul I.





                                                                           
             "Aigner, Thomas"                                              
             <TAigner@WescoDis                                             
             t.com>                                                     To 
                                       <java-user@lucene.apache.org>       
             11/11/2005 14:55                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         Insert new records into index       
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Howdy all,
             I am having a problem with inserting/updating records into my
index.  I have approximately 1.5M records in the index taking about 2.5G
space when optimized.

If I want to update 1000 records, I delete the old item and insert the
new one.  This is taking a LONG time to accomplish.  I believe this is
taking time due to the fact that I have to close the writer to delete
from the reader, then open the writer to insert the new record.  I have
to do this 1 time for each item that needs to be inserted.

I tried to not optimize the index, thinking that opening the
index/closing it was taking the big time, but the time seems to be the
same when I have many files ( I had to uncrease the ulimit by quite a
few to avoid the too many files error as well).

Snippets of code..
To delete a record, I am:
             //Close the index
             writer.close();

             //Instantiate the reader object for deletion
             IndexReader reader = IndexReader.open(dir);

             reader.delete(new Term("simm",simm));
      reader.close();

      //Get directory again and Create a new writer to open for insert

Then insert the record.. and move to the next record


I can't keep the writer open to delete an item cause I get this error:
             Lock obtain timed out: Lock@

Anyone have any ideas on how to speed this process up?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:33:11 2005
Return-Path: <java-user-return-17428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49622 invoked from network); 11 Nov 2005 16:33:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:33:10 -0000
Received: (qmail 33867 invoked by uid 500); 11 Nov 2005 16:33:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33842 invoked by uid 500); 11 Nov 2005 16:33:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33831 invoked by uid 99); 11 Nov 2005 16:33:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:33:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:32:56 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Insert new records into index
Date: Fri, 11 Nov 2005 11:32:42 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131045FFEFB@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Insert new records into index
Thread-Index: AcXm3C41OAfKF98iQlSOTf3Os73VPwAAKJlQ
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the advice Paul,
I thought about doing two passes.. Delete all and then insert all, but
the problem with that approach is if my program fails somewhere in
between start and end.. I may end up with many deleted records and none
changed.  The same could happen with a batch build.  How are you
handling that possible scenario?

-----Original Message-----
From: Paul.Illingworth@saaconsultants.com
[mailto:Paul.Illingworth@saaconsultants.com]=20
Sent: Friday, November 11, 2005 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: Insert new records into index






Hello,

You really do need to batch up your deletes and inserts otherwise it
will
take a long time. If you can, do all your deletes and then all of your
inserts. I have gone to the trouble of queueing index operations and
when a
new operation comes along I reorder the job queue to ensure deletes and
indexing jobs are grouped together.

If your system doesn't allow you to batch together deletes and writes
then
something I have found useful is to split the index into two. I have an
"old" index and a "new" index. I add documents to the "new" index and
then
periodically merge into the "old" and clear out the "new". To delete I
have
to delete from both indexes as I don't know where my documents are. This
means that you only ever have to open the "old" index with an
IndexReader
(except when merging of course). The "new" index can be opened with a
writer for writes and swapped to a reader for reads. By keeping this
index
small speeds up the constant opening and closing. Searching is
straightforward using the MultiSearcher.

I don't know anything about the lock problem - it's not something I've
ever
seen (I'm using 1.4.3).

Regards

Paul I.





=20

             "Aigner, Thomas"

             <TAigner@WescoDis

             t.com>
To=20
                                       <java-user@lucene.apache.org>

             11/11/2005 14:55
cc=20
=20

=20
Subject=20
             Please respond to         Insert new records into index

             java-user@lucene.

                apache.org

=20

=20

=20

=20





Howdy all,
             I am having a problem with inserting/updating records into
my
index.  I have approximately 1.5M records in the index taking about 2.5G
space when optimized.

If I want to update 1000 records, I delete the old item and insert the
new one.  This is taking a LONG time to accomplish.  I believe this is
taking time due to the fact that I have to close the writer to delete
from the reader, then open the writer to insert the new record.  I have
to do this 1 time for each item that needs to be inserted.

I tried to not optimize the index, thinking that opening the
index/closing it was taking the big time, but the time seems to be the
same when I have many files ( I had to uncrease the ulimit by quite a
few to avoid the too many files error as well).

Snippets of code..
To delete a record, I am:
             //Close the index
             writer.close();

             //Instantiate the reader object for deletion
             IndexReader reader =3D IndexReader.open(dir);

             reader.delete(new Term("simm",simm));
      reader.close();

      //Get directory again and Create a new writer to open for insert

Then insert the record.. and move to the next record


I can't keep the writer open to delete an item cause I get this error:
             Lock obtain timed out: Lock@

Anyone have any ideas on how to speed this process up?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:42:15 2005
Return-Path: <java-user-return-17429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53671 invoked from network); 11 Nov 2005 16:42:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:42:15 -0000
Received: (qmail 50569 invoked by uid 500); 11 Nov 2005 16:42:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50476 invoked by uid 500); 11 Nov 2005 16:42:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50465 invoked by uid 99); 11 Nov 2005 16:42:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:42:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:42:01 -0800
Received: by zproxy.gmail.com with SMTP id o1so740929nzf
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 08:41:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ETJUNZH9HD+NL24CALBUb1vS9T6nBLbnTBNca/taasQ3AGWXO7hQw01L11gSYsJhngiPYQStbgfZNLjMl6lsPtftp4+cocnan+hicGlFHN4SCT1nOSB68XtVywry0D+oNstwrOq9piTY+EprPiSi7FoI+mb6mkeHo43pOb7M8II=
Received: by 10.64.131.4 with SMTP id e4mr2575352qbd;
        Fri, 11 Nov 2005 08:41:48 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Fri, 11 Nov 2005 08:41:47 -0800 (PST)
Message-ID: <48b708490511110841oc3fc90ybb005ca614ba4c95@mail.gmail.com>
Date: Sat, 12 Nov 2005 01:41:48 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: korean and lucene
In-Reply-To: <43707E4E.6040301@getopt.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=EUC-KR
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <000501c5daa6$80abdba0$0201a8c0@local>
	 <000801c5daa9$33403020$0201a8c0@local>
	 <001401c5dab0$dd942520$0201a8c0@local>
	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>
	 <003601c5e438$4a596040$0201a8c0@local>
	 <008001c5e441$520cb9a0$0201a8c0@local>
	 <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>
	 <b615a5110511080144j587af739q@mail.gmail.com>
	 <43707E4E.6040301@getopt.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

VGhhbmtzIEJpYWxlY2tpLAoKSSdtIHRyeWluZyB0byB0ZXN0IHlvdXIgcHJvZ3JhbSwgdGhhbmtz
IGEgbG90IQoKQW5kIGFsc28sIGNhbiB5b3UgZ2l2ZSBtZSB0aGUgcGFwZXIgeW91J3ZlIGNpdGVk
IFsxXSBhbmQgWzJdPyBJJ3ZlCmdvb2dsZWQoZW50aXJlIHdlYiBhbmQgZ29vZ2xlIHNjaG9sYXIp
IGFib3V0IGl0IGJ1dCBnb3Qgbm90aGluZy4KCk9uIDExLzgvMDUsIEFuZHJ6ZWogQmlhbGVja2kg
PGFiQGdldG9wdC5vcmc+IHdyb3RlOgo+IEt3b25OYW0gU29uIHdyb3RlOgo+Cj4gPkZpcnN0IG9m
IGFsbCwgSSByZWFsbHkgYXBwcmVjaWF0ZSB5b3VyIHdvcmsgb24gTHVjZW5lIGZvciBLb3JlYW4g
d29yZHMsCj4gPgo+ID5CdXQgSWYgd2UgY2Fubm90IHN1cHBvcnQgc3RlbSBhbmFseXplciBmb3Ig
S29yZWFuIHdvcmRzLCBJIHRoaW5rIG9uZQo+ID50b2tlbiBmb3Igb25lIEtvcmVhbiBjaGFyYWN0
ZXIgaXMgYmV0dGVyLgo+ID4KPiA+V2hlbiB3ZSBzZWFyY2ggYSB3b3JkLCB1c3VhbGx5IHdlIHVz
ZSAisMu79iIgbm90ICKwy7v2x8+02SIuICgix8+02SIgaXMgbGlrZQo+ID4iZWQiIG9mICJzZWFy
Y2hlZCIpLgo+ID5JZiB3ZSBjYW5ub3QgZ2V0IGFueSByZXN1bHQgZnJvbSAisMu79iIsIFN0YW5k
YXJkQW5hbHl6ZXIgaGFzIG5vIG1lYW5pbmcKPiA+dG8gS29yZWFuLCBJIG1heSBoYXZlIHRvIGdv
IGJhY2sgdG8gdXNlIENKS0FuYWx5emVyLgo+ID4KPiA+SG93IGFib3V0IGxldCB0aGUgU3RhbmRh
ckFuYWx5emVyIGJlIG5vdCBjaGFuZ2VkLCBhbmQgYWRkIGEgbmV3Cj4gPkFuYWx5emVyIGZvciBL
b3JlYSB3b3Jkcz8KPiA+Cj4gPgo+Cj4gSGVsbG8sCj4KPiBNeSBrbm93bGVkZ2Ugb2YgS29yZWFu
IGlzIG5lYXIgYWJzb2x1dGUgemVyby4uLiBob3dldmVyLCB5b3VyIGV4YW1wbGUKPiBhYm92ZSBs
b29rcyBsaWtlIGEgdHlwaWNhbCBzdGVtbWluZyBwcm9jZXNzIGZvciBhbnkgV2VzdGVybiBsYW5n
dWFnZS4KPiBUaGUgc3RlbSBpcyBub3QgbmVjZXNzYXJpbHkgYSB2YWxpZCBkaWN0aW9uYXJ5IHdv
cmQsIGp1c3Qgc29tZXRoaW5nIHRoYXQKPiB1bmlxdWVseSAibGFiZWxzIiBhIGdyb3VwIG9mIHJl
bGF0ZWQgd29yZHMgY3JlYXRlZCBmcm9tIHRoZSBzYW1lIHJvb3QgLQo+IGFuZCB0aGUgdHJhbnNm
b3JtYXRpb24gZnJvbSBpbmZsZWN0ZWQgd29yZHMgdG8gYSBzdGVtIGNhbiBiZSBleHByZXNzZWQK
PiBhcyBhIHNlcmllcyBvZiAicGF0Y2ggY29tbWFuZHMiIChpbnNlcnQvcmVtb3ZlIHN1YnN0cmlu
ZykuCj4KPiBJIHN1Y2Nlc3NmdWxseSB1c2VkIGEgSmF2YSBwYWNrYWdlLCBvcmlnaW5hbGx5IGNy
ZWF0ZWQgYnkgTGVvbiBHYWxhbWJvcwo+IGZyb20gRWdvdGhvciBwcm9qZWN0LCB0byBjcmVhdGUg
YW4gYWxnb3JpdGhtaWMgc3RlbW1lciBmb3IgUG9saXNoCj4gKGh0dHA6Ly93d3cuZ2V0b3B0Lm9y
Zy9zdGVtcGVsKS4gVGhlIGFkdmFudGFnZSBvZiB0aGlzIHBhcnRpY3VsYXIKPiBhcHByb2FjaCBp
cyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGVuY29kZSBzcGVjaWZpYyBncmFtbWFyIHJ1bGVzIGlu
IHRoZQo+IHN0ZW1tZXIsIHRoZSBzdGVtbWVyIGxlYXJucyBydWxlcyBieSBpdHNlbGYgZnJvbSBh
IHRyYWluaW5nIGNvcnB1cy4gU3VjaAo+IHRyYWluaW5nIGNvcnB1cyBjb25zaXN0cyBvZiBwYWly
cyBvZiBpbmZsZWN0ZWQgYW5kIGJhc2UgZm9ybXMsIGFuZCB0aGUKPiBsaWJyYXJ5IGF1dG9tYXRp
Y2FsbHkgbGVhcm5zIHRoZXNlICJwYXRjaCBjb21tYW5kcyIsIGkuZS4gaW5zdHJ1Y3Rpb25zCj4g
Zm9yIGluc2VydGluZy9yZW1vdmluZyBwYXJ0cyBvZiBhbiBpbmZsZWN0ZWQgd29yZCB0byBhcnJp
dmUgYXQgdGhlIGJhc2UKPiBmb3JtLiBUaGlzIHRyYWluaW5nIHByb2Nlc3MgcmVzdWx0cyBpbiBj
cmVhdGluZyBhIHN0ZW1tZXIgdGFibGUsCj4gcmV1c2FibGUgZXZlbiBmb3IgcHJldmlvdXNseSB1
bnNlZW4gd29yZHMgKGJhc2VkIG9uIHRoZSBzaW1pbGFyaXR5IG9mCj4gY2hhcmFjdGVyIHBhdHRl
cm5zIGluIGlucHV0IHdvcmRzKS4KPgo+IEkgc3VnZ2VzdCB0byB0cnkgdGhlIGNvZGUgZnJvbSB0
aGUgbGluayBhYm92ZSBhbmQgdGVzdCBob3cgaXQgd29ya3MsCj4gZXZlbiBpZiB5b3Ugb25seSBo
YXZlIGEgbW9kZXJhdGVseS1zaXplZCB0cmFpbmluZyBjb3JwdXMgKH41MDAgcGFpcnMpCj4gdGhl
IHJlc3VsdHMgc2hvdWxkIGJlIHBvc2l0aXZlLgo+Cj4gLS0KPiBCZXN0IHJlZ2FyZHMsCj4gQW5k
cnplaiBCaWFsZWNraSAgICAgPD48Cj4gIF9fXy4gX19fIF9fXyBfX18gXyBfICAgX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwo+IFtfXyB8fCBfX3xfXy98X198fFwvfCAgSW5mb3Jt
YXRpb24gUmV0cmlldmFsLCBTZW1hbnRpYyBXZWIKPiBfX198fHxfX3x8ICBcfCAgfHwgIHwgIEVt
YmVkZGVkIFVuaXgsIFN5c3RlbSBJbnRlZ3JhdGlvbgo+IGh0dHA6Ly93d3cuc2lncmFtLmNvbSAg
Q29udGFjdDogaW5mbyBhdCBzaWdyYW0gZG90IGNvbQo+Cj4KPgo+IC0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+IFRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hl
Lm9yZwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1
Y2VuZS5hcGFjaGUub3JnCj4KPgoKCi0tCkNoZW9sZ29vCg==


From java-user-return-17430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:49:20 2005
Return-Path: <java-user-return-17430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57546 invoked from network); 11 Nov 2005 16:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:49:19 -0000
Received: (qmail 67966 invoked by uid 500); 11 Nov 2005 16:49:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67946 invoked by uid 500); 11 Nov 2005 16:49:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67935 invoked by uid 99); 11 Nov 2005 16:49:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:49:13 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:49:05 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id QAA02964
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 16:48:44 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma002961; Fri, 11 Nov 05 16:48:33 GMT
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131045FFEFB@MAIL01.wescodist.com>
Subject: RE: Insert new records into index
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OFDCD6B9BE.86C5CA46-ON802570B6.005B6627-802570B6.005C4816@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 11 Nov 2005 16:48:56 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 11/11/2005 16:48:57
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I queue up all my index operations. If the app stops the queue gets saved
to disk. When the app restarts the queue is loaded and everything carries
on. I haven't looked at the app failing just yet. I know the JVM has hooks
that can be used to ensure clean up code gets called when the JVM exits.
I'm don't think this copes with every exit condition though.

When my app starts I check for the existance of Lucene lock files - if thay
are there then it either means another process is using the index (not
allowed on my system) or they were not removed when the app closed down
last time. In the latter case it probably means the index is suspect. In
this case I can reproduce the index from the source documents - not
something I particularly want to do but it can be.

Hope this helps.

Paul I.


                                                                           
             "Aigner, Thomas"                                              
             <TAigner@WescoDis                                             
             t.com>                                                     To 
                                       <java-user@lucene.apache.org>       
             11/11/2005 16:32                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         RE: Insert new records into index   
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Thanks for the advice Paul,
I thought about doing two passes.. Delete all and then insert all, but
the problem with that approach is if my program fails somewhere in
between start and end.. I may end up with many deleted records and none
changed.  The same could happen with a batch build.  How are you
handling that possible scenario?

-----Original Message-----
From: Paul.Illingworth@saaconsultants.com
[mailto:Paul.Illingworth@saaconsultants.com]
Sent: Friday, November 11, 2005 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: Insert new records into index






Hello,

You really do need to batch up your deletes and inserts otherwise it
will
take a long time. If you can, do all your deletes and then all of your
inserts. I have gone to the trouble of queueing index operations and
when a
new operation comes along I reorder the job queue to ensure deletes and
indexing jobs are grouped together.

If your system doesn't allow you to batch together deletes and writes
then
something I have found useful is to split the index into two. I have an
"old" index and a "new" index. I add documents to the "new" index and
then
periodically merge into the "old" and clear out the "new". To delete I
have
to delete from both indexes as I don't know where my documents are. This
means that you only ever have to open the "old" index with an
IndexReader
(except when merging of course). The "new" index can be opened with a
writer for writes and swapped to a reader for reads. By keeping this
index
small speeds up the constant opening and closing. Searching is
straightforward using the MultiSearcher.

I don't know anything about the lock problem - it's not something I've
ever
seen (I'm using 1.4.3).

Regards

Paul I.







             "Aigner, Thomas"

             <TAigner@WescoDis

             t.com>
To
                                       <java-user@lucene.apache.org>

             11/11/2005 14:55
cc



Subject
             Please respond to         Insert new records into index

             java-user@lucene.

                apache.org













Howdy all,
             I am having a problem with inserting/updating records into
my
index.  I have approximately 1.5M records in the index taking about 2.5G
space when optimized.

If I want to update 1000 records, I delete the old item and insert the
new one.  This is taking a LONG time to accomplish.  I believe this is
taking time due to the fact that I have to close the writer to delete
from the reader, then open the writer to insert the new record.  I have
to do this 1 time for each item that needs to be inserted.

I tried to not optimize the index, thinking that opening the
index/closing it was taking the big time, but the time seems to be the
same when I have many files ( I had to uncrease the ulimit by quite a
few to avoid the too many files error as well).

Snippets of code..
To delete a record, I am:
             //Close the index
             writer.close();

             //Instantiate the reader object for deletion
             IndexReader reader = IndexReader.open(dir);

             reader.delete(new Term("simm",simm));
      reader.close();

      //Get directory again and Create a new writer to open for insert

Then insert the record.. and move to the next record


I can't keep the writer open to delete an item cause I get this error:
             Lock obtain timed out: Lock@

Anyone have any ideas on how to speed this process up?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 16:57:01 2005
Return-Path: <java-user-return-17431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61067 invoked from network); 11 Nov 2005 16:57:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 16:57:01 -0000
Received: (qmail 76706 invoked by uid 500); 11 Nov 2005 16:56:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76679 invoked by uid 500); 11 Nov 2005 16:56:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76668 invoked by uid 99); 11 Nov 2005 16:56:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:56:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.83] (HELO smtpout.mac.com) (17.250.248.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 08:56:48 -0800
Received: from mac.com (smtpin04-en2 [10.13.10.149])
	by smtpout.mac.com (Xserve/8.12.11/smtpout07/MantshX 4.0) with ESMTP id jABGuYE8026881
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 08:56:34 -0800 (PST)
Received: from [17.219.205.196] ([17.219.205.196])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin04/MantshX 4.0) with ESMTP id jABGuXd6014156
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 08:56:34 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <c68e39170511110806k5791bc2ek21589ba3960fb975@mail.gmail.com>
References: <0B1C92228C5C8D45AA7450F78B3FB9DE05A511@staf-exm-01.ardentia.co.uk> <c68e39170511110806k5791bc2ek21589ba3960fb975@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2499f52df2a5d3d90d6985e5c5fade97@mac.com>
Content-Transfer-Encoding: 7bit
From: Charles Lloyd <charlesclloyd@mac.com>
Subject: Re: Performance Question
Date: Fri, 11 Nov 2005 08:56:39 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should run your own tests, but I found the MultiReader to be slower 
than a regular IndexReader.  I was running on a dual-cpu box and two 
separate disk drives.

Charles.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 17:14:08 2005
Return-Path: <java-user-return-17432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69942 invoked from network); 11 Nov 2005 17:14:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 17:14:08 -0000
Received: (qmail 3604 invoked by uid 500); 11 Nov 2005 17:13:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3486 invoked by uid 500); 11 Nov 2005 17:13:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3432 invoked by uid 99); 11 Nov 2005 17:13:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:13:49 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.224] (HELO web36110.mail.mud.yahoo.com) (66.163.179.224)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 09:13:42 -0800
Received: (qmail 67277 invoked by uid 60001); 11 Nov 2005 17:13:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=xv1NqnB3c+e+Ot/A81/gPF9HoariuPJyKrKpPi9/FQ2oAJMWCdtLyNJwd6yWDgLZ42eji5s3uPTIJ8Hf5kTaG8GsKn7nqfGKQYYFkrEnBADxmUgx+CDrhfc3/uqJn6XJZTzAnspy71BS6lCDAYIjAk845p8d51iPC3dIe9kTefQ=  ;
Message-ID: <20051111171328.67275.qmail@web36110.mail.mud.yahoo.com>
Received: from [169.226.2.119] by web36110.mail.mud.yahoo.com via HTTP; Fri, 11 Nov 2005 09:13:28 PST
Date: Fri, 11 Nov 2005 09:13:28 -0800 (PST)
From: Ashwin Satyanarayana <ashwin16108@yahoo.com>
Subject: Basic Question on Lucene Document
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-773250908-1131729208=:66976"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-773250908-1131729208=:66976
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
I am new to Lucene. I was trying to use Lucene with TREC-6 Data. The 
dataset for TREC-6 used in 1997 contains many input files.  Each input 
file has multiple documents (some files contain over 200 documents) tagged by <DOCNO>xxxx </DOCNO> and the text is tagged by <TEXT>xxxx</TEXT>.The result given by Lucene to a query is a list of files and not documents.
 
Q) Is there a way of getting the query results in terms of documents
within the files rather than files?I understand that in lucene a Document object is a unit of search/storage/indexing. To achieve what we want, we think we need to store and/or index each of our documents as a lucene Document. 
My question is how do we do that?
 
Thanks and Regards,
Ashwin

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-773250908-1131729208=:66976--

From java-user-return-17433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 17:26:36 2005
Return-Path: <java-user-return-17433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77800 invoked from network); 11 Nov 2005 17:26:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 17:26:36 -0000
Received: (qmail 36412 invoked by uid 500); 11 Nov 2005 17:26:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36386 invoked by uid 500); 11 Nov 2005 17:26:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36375 invoked by uid 99); 11 Nov 2005 17:26:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:26:30 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.220] (HELO web26009.mail.ukl.yahoo.com) (217.12.10.220)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 09:26:22 -0800
Received: (qmail 3630 invoked by uid 60001); 11 Nov 2005 17:26:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=SyOEjnqnzqNiwDeVSsWJeKb4ekEQqakYvG8DcHWzrNOz2jZ2AC3a98fV4vVhGeA4poG11mnqqQ2nv5TDdiz3OEmQNQ9wrVxciZJyB0va7s7xlQ8Oci7+ntuuk+h426zgmS+uEBQoR9fIY9yAeEMT+uhEOVjiNsswpiJCy+NDHlA=  ;
Message-ID: <20051111172607.3628.qmail@web26009.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Fri, 11 Nov 2005 17:26:07 GMT
Date: Fri, 11 Nov 2005 17:26:07 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: highlight only one field
To: java-user@lucene.apache.org
In-Reply-To: <4374BA45.1080309@colaborativa.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah. You're right. Looks like the current highlighter
api doesn't offer you that degree of control.

The way to fix it is probably to tweak the list of
WeightedTerms you give the highlighter:
[psuedo code follows...]

terms=QueryTermExtractor.getTerms(query);
bodyQueryTerms=new ArrayList();
for all terms
{
  if terms[i].getField().equals("body")
     bodyQueryTerms.add(terms[i]);
}
highlighter=new Highlighter(new
QueryScorer(bodyQueryTerms.toarray))
highlighter.getBestFragments(bodyTokenStream,
bodyText.....
[end psuedo code]

Hope this helps
Mark


		
___________________________________________________________ 
Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 17:54:51 2005
Return-Path: <java-user-return-17434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91327 invoked from network); 11 Nov 2005 17:54:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 17:54:50 -0000
Received: (qmail 4285 invoked by uid 500); 11 Nov 2005 17:54:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4261 invoked by uid 500); 11 Nov 2005 17:54:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4250 invoked by uid 99); 11 Nov 2005 17:54:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:54:45 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.232.0.247] (HELO avas-mr15.fibertel.com.ar) (24.232.0.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:54:37 -0800
Received: from OL45-27.fibertel.com.ar ([24.232.27.45]:13331 "EHLO
	[24.232.27.45]" smtp-auth: "edesantis") by avas-mr15.fibertel.com.ar
	with ESMTPA id S1771665AbVKKRyL; Fri, 11 Nov 2005 14:54:11 -0300
Received: from 127.0.0.1 (AVG SMTP 7.1.362 [267.12.8/166]); Fri, 11 Nov 2005 14:56:17 -0300
Message-ID: <4374DB40.7080301@colaborativa.net>
Date:	Fri, 11 Nov 2005 14:56:16 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
Organization: Colaborativa.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-es, es
MIME-Version: 1.0
To:	java-user@lucene.apache.org
Subject: Re: highlight only one field
References: <20051111172607.3628.qmail@web26009.mail.ukl.yahoo.com>
In-Reply-To: <20051111172607.3628.qmail@web26009.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 370ce3a88a306528290c6d4de94761a4
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mark

This don't work, because

        WeightedTerm[] weightedTerm = QueryTermExtractor.getTerms(query);

return query terms values , not the fields names.
example:
for "body:mark title:highlight"

return [mark, highlight], I can't compare this values with "body" field.

Ernesto.

mark harwood escribi:

>Ah. You're right. Looks like the current highlighter
>api doesn't offer you that degree of control.
>
>The way to fix it is probably to tweak the list of
>WeightedTerms you give the highlighter:
>[psuedo code follows...]
>
>terms=QueryTermExtractor.getTerms(query);
>bodyQueryTerms=new ArrayList();
>for all terms
>{
>  if terms[i].getField().equals("body")
>     bodyQueryTerms.add(terms[i]);
>}
>highlighter=new Highlighter(new
>QueryScorer(bodyQueryTerms.toarray))
>highlighter.getBestFragments(bodyTokenStream,
>bodyText.....
>[end psuedo code]
>
>Hope this helps
>Mark
>
>
>		
>___________________________________________________________ 
>Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
Ernesto De Santis - Colaborativa.net
La Plata, Argentina.
http://www.colaborativa.net/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 17:55:04 2005
Return-Path: <java-user-return-17435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91482 invoked from network); 11 Nov 2005 17:55:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 17:55:04 -0000
Received: (qmail 5435 invoked by uid 500); 11 Nov 2005 17:54:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5406 invoked by uid 500); 11 Nov 2005 17:54:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5390 invoked by uid 99); 11 Nov 2005 17:54:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:54:58 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.225] (HELO web31208.mail.mud.yahoo.com) (68.142.200.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 09:54:50 -0800
Received: (qmail 84523 invoked by uid 60001); 11 Nov 2005 17:54:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=A18Cp/iSA0+MWRomlR9sEaD+1bthmJBMRjC7HJKWqxN747xirDWGykn5NdvYxMqNIS852kxvczB9neKNFpLZYF5YUGAtZZ5IkNjPThAXyBdiJtpMQSsVeMzOkci9ExGgsKwXt/zfScr4Lgl1qNxo1ri36DPrg+6qoDn4zGvmEIY=  ;
Message-ID: <20051111175436.84521.qmail@web31208.mail.mud.yahoo.com>
Received: from [68.126.221.118] by web31208.mail.mud.yahoo.com via HTTP; Fri, 11 Nov 2005 09:54:36 PST
Date: Fri, 11 Nov 2005 09:54:36 -0800 (PST)
From: bib_lucene bib <bib_lucene@yahoo.com>
Subject: Document as Paramter (Rephrased)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-534991299-1131731676=:83167"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-534991299-1131731676=:83167
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi Erik & All
 
My requirement is that I do a search, the results of the search are displayed. I am displaying results by using getbestfragmets and highlighting searched text.
 
So basically the user can search and see what documents matched his search with snippets of text shown in the result of search.
 
Now the user needs to select one of the results and view the document completely.
 
What I did is along with indexing I stored the document in the ROOT webapplication and gave a link to the file. This worked fine.
 
However, now I need to display the full document with search terms highlighted.
 
As I understand now I can do this...
 
1. Read the whole document again and apply some css to highlight terms.
 
2. Create a new Lucene Document -> Read the file -> Add file Content to Document -> Use nullfragmenter -> Apply CSS -> Display result.
 
I have many types of documents as word, pdf etc. I am already extracting text and putting in Index. ( Using your example in chapter7)
 
Question is , is there a way I can just show the content from index rather then parsing the document again, when the user wants to see full document from search results page.
 
I am stuck here...
 
Thanks for your help.
 
bib
 

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-534991299-1131731676=:83167--

From java-user-return-17436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 17:57:15 2005
Return-Path: <java-user-return-17436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92690 invoked from network); 11 Nov 2005 17:57:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 17:57:14 -0000
Received: (qmail 11881 invoked by uid 500); 11 Nov 2005 17:57:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11854 invoked by uid 500); 11 Nov 2005 17:57:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11843 invoked by uid 99); 11 Nov 2005 17:57:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:57:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 09:56:59 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id jABHuuV29097
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 11:56:56 -0600
Message-ID: <4374DB5B.1070307@getopt.org>
Date: Fri, 11 Nov 2005 18:56:43 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: korean and lucene
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>	 <000501c5daa6$80abdba0$0201a8c0@local>	 <000801c5daa9$33403020$0201a8c0@local>	 <001401c5dab0$dd942520$0201a8c0@local>	 <48b708490511072306i35df1111qb5d3ee22fc1e8dca@mail.gmail.com>	 <003601c5e438$4a596040$0201a8c0@local>	 <008001c5e441$520cb9a0$0201a8c0@local>	 <48b708490511080053t1d913beaid3fdd1e6f68e43b@mail.gmail.com>	 <b615a5110511080144j587af739q@mail.gmail.com>	 <43707E4E.6040301@getopt.org> <48b708490511110841oc3fc90ybb005ca614ba4c95@mail.gmail.com>
In-Reply-To: <48b708490511110841oc3fc90ybb005ca614ba4c95@mail.gmail.com>
Content-Type: text/plain; charset=EUC-KR
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cheolgoo Kang wrote:

>Thanks Bialecki,
>  
>

Bialecki is my last name, my first name is Andrzej. No problem, it's
similarly confusing for Europeans to decide between the first and last
name in Asian names... :-) Is your first name Kang?

>I'm trying to test your program, thanks a lot!
>
>And also, can you give me the paper you've cited [1] and [2]? I've
>googled(entire web and google scholar) about it but got nothing.
>  
>

I got these two papers directly from the author, and he asked me not to
re-distribute them - please write him directly: Leo.G@seznam.cz to
obtain a copy.


I would be most interested in results of your testing.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 18:04:56 2005
Return-Path: <java-user-return-17437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97232 invoked from network); 11 Nov 2005 18:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 18:04:55 -0000
Received: (qmail 25356 invoked by uid 500); 11 Nov 2005 18:04:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25329 invoked by uid 500); 11 Nov 2005 18:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25318 invoked by uid 99); 11 Nov 2005 18:04:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 10:04:49 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.33] (HELO web26011.mail.ukl.yahoo.com) (217.146.177.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 10:04:41 -0800
Received: (qmail 59039 invoked by uid 60001); 11 Nov 2005 18:04:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Xpry5v+GqroS5j2eA1fbBl8V/bd+5P5W5q/M/YKoFwYMk2uiv+h76rqhD98RxbM9WN7JI03MgOIp6SPP9dV7lKBlgGirygpN2MK3bhMAvMsHcPN4FOgVEdtLdX5IkfwlMz1JHXVJWBukVhcQ0peH+1VfgCG9ztigxQAsfAZieZk=  ;
Message-ID: <20051111180425.59037.qmail@web26011.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26011.mail.ukl.yahoo.com via HTTP; Fri, 11 Nov 2005 18:04:25 GMT
Date: Fri, 11 Nov 2005 18:04:25 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: highlight only one field
To: java-user@lucene.apache.org
In-Reply-To: <4374DB40.7080301@colaborativa.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>> This don't work, because

Ah, crap. You'll have to drop down another level.
Every line of code in QueryTermsExtractor that calls 
    terms.add(new WeightedTerm(..))
would be the place to test the field name then.
For now you could copy QueryTermsExtractor and put an
"if" around these lines which tests the field name for
your choice of field.

Cheers
Mark




--- Ernesto De Santis
<ernesto.desantis@colaborativa.net> wrote:

> Hi Mark
> 
> This don't work, because
> 
>         WeightedTerm[] weightedTerm =
> QueryTermExtractor.getTerms(query);
> 
> return query terms values , not the fields names.
> example:
> for "body:mark title:highlight"
> 
> return [mark, highlight], I can't compare this
> values with "body" field.
> 
> Ernesto.
> 
> mark harwood escribi:
> 
> >Ah. You're right. Looks like the current
> highlighter
> >api doesn't offer you that degree of control.
> >
> >The way to fix it is probably to tweak the list of
> >WeightedTerms you give the highlighter:
> >[psuedo code follows...]
> >
> >terms=QueryTermExtractor.getTerms(query);
> >bodyQueryTerms=new ArrayList();
> >for all terms
> >{
> >  if terms[i].getField().equals("body")
> >     bodyQueryTerms.add(terms[i]);
> >}
> >highlighter=new Highlighter(new
> >QueryScorer(bodyQueryTerms.toarray))
> >highlighter.getBestFragments(bodyTokenStream,
> >bodyText.....
> >[end psuedo code]
> >
> >Hope this helps
> >Mark
> >
> >
> >		
>
>___________________________________________________________
> 
> >Yahoo! Model Search 2005 - Find the next catwalk
> superstars -
> http://uk.news.yahoo.com/hot/model-search/
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >  
> >
> 
> -- 
> Ernesto De Santis - Colaborativa.net
> La Plata, Argentina.
> http://www.colaborativa.net/
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 18:27:44 2005
Return-Path: <java-user-return-17438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8145 invoked from network); 11 Nov 2005 18:27:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 18:27:43 -0000
Received: (qmail 62933 invoked by uid 500); 11 Nov 2005 18:27:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62726 invoked by uid 500); 11 Nov 2005 18:27:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62715 invoked by uid 99); 11 Nov 2005 18:27:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 10:27:37 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lasse.lindgaard@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 10:27:30 -0800
Received: by wproxy.gmail.com with SMTP id i14so857184wra
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 10:27:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ALA3DxyRJaPDjf5MpP+YYrhnM+MFRFN073qcm4OXToUo5YOBQ5Yp17ADL4Ul+fs0gNVc7NPlJWmxwhyHpv+m/xVIgG/C7Uk/NJ/RoBoERKPg1guhE8Uuj1R/QsNBGMDu5lzd/84TaJz5qhwnJV3Vvxgnhn+o9pat1d6qR338y8g=
Received: by 10.54.109.9 with SMTP id h9mr1116302wrc;
        Fri, 11 Nov 2005 10:27:15 -0800 (PST)
Received: by 10.54.147.17 with HTTP; Fri, 11 Nov 2005 10:27:15 -0800 (PST)
Message-ID: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
Date: Fri, 11 Nov 2005 19:27:15 +0100
From: Lasse L <lasse.lindgaard@gmail.com>
To: java-user@lucene.apache.org
Subject: Max score of two fields
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am indexing persons that has the usual fields name, address etc.
I need to keep track of which name and addresses are active now and
which ones are old.
I do that by having a two sets of fields e.g.: current_name and old_name

When I search for a person and I search in just the current fields
ranking is fine.

When I search for a person in both the current and old fields at the
same time the ranking gets skewed if some of the persons has
registered the same or similar name and address in the past. In the
current_name:Lars OR old_name:Lars the documents that match on both
sides are ranked higher.

I'd like the document to rank like the best/max score of either side
of that subquery.

I tried implementing my own Query, Weight and Scorer but it seemed
like an overly complex way of doing it.

Any suggestions?

TIA

/Lasse

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 18:40:43 2005
Return-Path: <java-user-return-17439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15073 invoked from network); 11 Nov 2005 18:40:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 18:40:42 -0000
Received: (qmail 95913 invoked by uid 500); 11 Nov 2005 18:40:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95888 invoked by uid 500); 11 Nov 2005 18:40:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95871 invoked by uid 99); 11 Nov 2005 18:40:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 10:40:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.232.0.217] (HELO avas-mr04.fibertel.com.ar) (24.232.0.217)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 10:40:28 -0800
Received: from OL45-27.fibertel.com.ar ([24.232.27.45]:5130 "EHLO
	[24.232.27.45]" smtp-auth: "edesantis") by avas-mr04.fibertel.com.ar
	with ESMTP id S81987AbVKKSkB; Fri, 11 Nov 2005 15:40:01 -0300
X-Comment: RFC 2476 MSA function at avas-mr04.fibertel.com.ar logged sender identity as: edesantis
Received: from 127.0.0.1 (AVG SMTP 7.1.362 [267.12.8/166]); Fri, 11 Nov 2005 15:42:02 -0300
Message-ID: <4374E5FA.7080205@colaborativa.net>
Date:	Fri, 11 Nov 2005 15:42:02 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
Organization: Colaborativa.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-es, es
MIME-Version: 1.0
To:	java-user@lucene.apache.org
Subject: Re: highlight only one field
References: <20051111180425.59037.qmail@web26011.mail.ukl.yahoo.com>
In-Reply-To: <20051111180425.59037.qmail@web26011.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: d9ba0905c2487950c41b9cc20126b89d
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, this work.

        .....
        String strQuery = query.toString();
        WeightedTerm[] weightedTerm = QueryTermExtractor.getTerms(query);
        ArrayList bodyQueryTerms = new ArrayList();
        for (int i = 0; i < weightedTerm.length; i++) {
            String term = weightedTerm[i].getTerm();    
            if (strQuery.indexOf(field + ":" + term) != -1)
                bodyQueryTerms.add(weightedTerm[i]);
        }
         ......

Thanks,
Ernesto.

mark harwood escribi:

>>>>This don't work, because
>>>>        
>>>>
>
>Ah, crap. You'll have to drop down another level.
>Every line of code in QueryTermsExtractor that calls 
>    terms.add(new WeightedTerm(..))
>would be the place to test the field name then.
>For now you could copy QueryTermsExtractor and put an
>"if" around these lines which tests the field name for
>your choice of field.
>
>Cheers
>Mark
>
>
>
>
>--- Ernesto De Santis
><ernesto.desantis@colaborativa.net> wrote:
>
>  
>
>>Hi Mark
>>
>>This don't work, because
>>
>>        WeightedTerm[] weightedTerm =
>>QueryTermExtractor.getTerms(query);
>>
>>return query terms values , not the fields names.
>>example:
>>for "body:mark title:highlight"
>>
>>return [mark, highlight], I can't compare this
>>values with "body" field.
>>
>>Ernesto.
>>
>>mark harwood escribi:
>>
>>    
>>
>>>Ah. You're right. Looks like the current
>>>      
>>>
>>highlighter
>>    
>>
>>>api doesn't offer you that degree of control.
>>>
>>>The way to fix it is probably to tweak the list of
>>>WeightedTerms you give the highlighter:
>>>[psuedo code follows...]
>>>
>>>terms=QueryTermExtractor.getTerms(query);
>>>bodyQueryTerms=new ArrayList();
>>>for all terms
>>>{
>>> if terms[i].getField().equals("body")
>>>    bodyQueryTerms.add(terms[i]);
>>>}
>>>highlighter=new Highlighter(new
>>>QueryScorer(bodyQueryTerms.toarray))
>>>highlighter.getBestFragments(bodyTokenStream,
>>>bodyText.....
>>>[end psuedo code]
>>>
>>>Hope this helps
>>>Mark
>>>
>>>
>>>		
>>>      
>>>
>>___________________________________________________________
>>
>>    
>>
>>>Yahoo! Model Search 2005 - Find the next catwalk
>>>      
>>>
>>superstars -
>>http://uk.news.yahoo.com/hot/model-search/
>>    
>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail:
>>>      
>>>
>>java-user-unsubscribe@lucene.apache.org
>>    
>>
>>>For additional commands, e-mail:
>>>      
>>>
>>java-user-help@lucene.apache.org
>>    
>>
>>> 
>>>
>>>      
>>>
>>-- 
>>Ernesto De Santis - Colaborativa.net
>>La Plata, Argentina.
>>http://www.colaborativa.net/
>>
>>
>>
>>    
>>
>---------------------------------------------------------------------
>  
>
>>To unsubscribe, e-mail:
>>java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail:
>>java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>
>		
>___________________________________________________________ 
>To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
Ernesto De Santis - Colaborativa.net
La Plata, Argentina.
http://www.colaborativa.net/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 19:02:23 2005
Return-Path: <java-user-return-17440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23118 invoked from network); 11 Nov 2005 19:02:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 19:02:17 -0000
Received: (qmail 23985 invoked by uid 500); 11 Nov 2005 19:02:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23963 invoked by uid 500); 11 Nov 2005 19:02:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23952 invoked by uid 99); 11 Nov 2005 19:02:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 11:02:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.24] (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 11:02:03 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.13.3/8.13.3) with ESMTP id jABJ1mLu070481
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 20:01:48 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Max score of two fields
Date: Fri, 11 Nov 2005 20:01:48 +0100
User-Agent: KMail/1.5.4
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
In-Reply-To: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511112001.48201.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lasse,

On Friday 11 November 2005 19:27, Lasse L wrote:
> I am indexing persons that has the usual fields name, address etc.
> I need to keep track of which name and addresses are active now and
> which ones are old.
> I do that by having a two sets of fields e.g.: current_name and old_name
> 
> When I search for a person and I search in just the current fields
> ranking is fine.
> 
> When I search for a person in both the current and old fields at the
> same time the ranking gets skewed if some of the persons has
> registered the same or similar name and address in the past. In the
> current_name:Lars OR old_name:Lars the documents that match on both
> sides are ranked higher.
> 
> I'd like the document to rank like the best/max score of either side
> of that subquery.
> 
> I tried implementing my own Query, Weight and Scorer but it seemed
> like an overly complex way of doing it.

There is no way around using a separate Scorer for this.
You can make (could have made) the scorer by starting from
DisjunctionSumScorer.java here:
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/search/
and rewrite it into a DisjunctionMaxScorer.

You can extend QueryParser by subclassing it and override getBooleanQuery()
to use your query when the first clause equals for example '_max' and all other
clauses are optional.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 20:05:11 2005
Return-Path: <java-user-return-17441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45843 invoked from network); 11 Nov 2005 20:05:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 20:05:10 -0000
Received: (qmail 13094 invoked by uid 500); 11 Nov 2005 20:05:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12203 invoked by uid 500); 11 Nov 2005 20:05:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12192 invoked by uid 99); 11 Nov 2005 20:05:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 12:05:04 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.205] (HELO web25907.mail.ukl.yahoo.com) (217.12.10.205)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 12:04:57 -0800
Received: (qmail 90007 invoked by uid 60001); 11 Nov 2005 20:04:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=OWhHKNbSRhhwlSIBWTE30FQGxwzmjIXbGZ3cQNXFgXswHuXhnYR/DUoE00NjXIIh2gQpbhgkL65laBB7QiiFmARBf2bIDOL7yQLeSJnRPsPm8+C2QJv0OYEgMr7Rg39EU8jRK3T0C21Fa8juv1JK7oJozmFh3lvsij00jAgApFg=  ;
Message-ID: <20051111200442.90005.qmail@web25907.mail.ukl.yahoo.com>
Received: from [84.131.197.189] by web25907.mail.ukl.yahoo.com via HTTP; Fri, 11 Nov 2005 20:04:42 GMT
Date: Fri, 11 Nov 2005 20:04:42 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: A lot of short documents, optimal query? 
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0511102341170.5457@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Everything is perfect with your suggestion, scoring is
not needed. I am going to try all also approach with
ChainedFilter, but for this I need to think a bit more
on how to get it right. The Query in the example is
just one variation on the same topic and there are a
few more cases I need to cover (thanks to your
suggestions, I see now clean way to avoid scoring). 

Now a view from 10k miles, pls correct me if I am
wrong .

Filters are somehow "paralel world" to the complete
"normal" Query (PrefixQuery, TermQuery...) world that
evades scoring overhead, and ChainedFilter combines
them together. One could say "kind of BooleanQuery
without scoring"

Wouldn't it make sense to have BooleanFilter,
TermFilter, MultiTermFilter, RangeFilter... fammily to
"mirror"  xxxQuery world with same idioms and
interfaces? Is this the direction allready taken in
Lucene development (an alternative would be to
parametrize existiong Query world). How I see it
functionaly, at a moment filters (and thir
combination) are the only way to use fast "pure
boolean" model.

Does this what I just said makes any sense?



	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 21:52:18 2005
Return-Path: <java-user-return-17442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94230 invoked from network); 11 Nov 2005 21:52:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 21:52:17 -0000
Received: (qmail 52299 invoked by uid 500); 11 Nov 2005 21:52:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52274 invoked by uid 500); 11 Nov 2005 21:52:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52263 invoked by uid 99); 11 Nov 2005 21:52:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 13:52:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 13:52:02 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9D8A25B781; Fri, 11 Nov 2005 13:51:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9B22F7F45C
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 13:51:47 -0800 (PST)
Date: Fri, 11 Nov 2005 13:51:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Max score of two fields
In-Reply-To: <200511112001.48201.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0511111346240.32162@hal.rescomp.berkeley.edu>
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
 <200511112001.48201.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: There is no way around using a separate Scorer for this.
: You can make (could have made) the scorer by starting from
: DisjunctionSumScorer.java here:
: http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/search/
: and rewrite it into a DisjunctionMaxScorer.

Coincidently, this has allready been submited as a patch...

	http://issues.apache.org/jira/browse/LUCENE-323

...if you use a MaxDisjunctionQuery instead of a BooleanQuery, and set the
"tie breaker" to 0.0f, you should get exactly the behavior you described.


(Shameless Plug: I think MaxDisjunctionQuery kicks ass, and I'd love to
see see it commited, so if you find it usefull, please login to the Jira
system and vote for it)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 22:05:27 2005
Return-Path: <java-user-return-17443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99137 invoked from network); 11 Nov 2005 22:05:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 22:05:24 -0000
Received: (qmail 66875 invoked by uid 500); 11 Nov 2005 22:05:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66638 invoked by uid 500); 11 Nov 2005 22:05:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66625 invoked by uid 99); 11 Nov 2005 22:05:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 14:05:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 14:05:09 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2778A5B7A4; Fri, 11 Nov 2005 14:04:56 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2650C7F45C
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 14:04:56 -0800 (PST)
Date: Fri, 11 Nov 2005 14:04:56 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: A lot of short documents, optimal query? 
In-Reply-To: <20051111200442.90005.qmail@web25907.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0511111353060.32162@hal.rescomp.berkeley.edu>
References: <20051111200442.90005.qmail@web25907.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Wouldn't it make sense to have BooleanFilter,
: TermFilter, MultiTermFilter, RangeFilter... fammily to
: "mirror"  xxxQuery world with same idioms and
: interfaces? Is this the direction allready taken in
: Lucene development (an alternative would be to
: parametrize existiong Query world). How I see it
: functionaly, at a moment filters (and thir
: combination) are the only way to use fast "pure
: boolean" model.
:
: Does this what I just said makes any sense?

It makes perfect sense, and you have grasped a ot of the possibilities.
While making a version of Filter varient of every Query class is my gut
instinct, there has in fact been discussion about generalizing Queries so
that they can have "non-scoring" mode.  these issues have all been
mentioned in LUCENE-383 ...

	http://issues.apache.org/jira/browse/LUCENE-383

One of the big reasons why it might make sense to use Queries instead of
Filters even if you don't care about scoring is when you have a large set
of very restrictive conditions.  (ie: A BooleanQuery consisting of many
TermQueries).  the BooleanScorer can make good decisisons to skip over
large sets of documents -- sometimes ignoring sub queries entirely -- when
one sub query only matches a few documents because of hte flexability of
the Scorer API.

The Filter API on the other hand doesn't have this flexability.  There is
not way for a ChainedFilter/BooleanFilter to know that it can skip over
one of it's sub filters, or ask one of it's sub filters to only look at
certain documents.


I suggested the full Filter approach for your situation based on the
following information...
  1) you didn't care about scoring
  2) you were using Range/Prefix queries on teh ZIP field that could
     easily exceed practicle clause limits in BooleanQuery.
  3) your restrictions on the ZIP field looked like they could be cached
     individually so the and the results reused accross many searches



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 22:34:51 2005
Return-Path: <java-user-return-17444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9873 invoked from network); 11 Nov 2005 22:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 22:34:51 -0000
Received: (qmail 98458 invoked by uid 500); 11 Nov 2005 22:34:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98366 invoked by uid 500); 11 Nov 2005 22:34:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98354 invoked by uid 99); 11 Nov 2005 22:34:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 14:34:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 14:34:36 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id jABMYMW2073720
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 23:34:22 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: A lot of short documents, optimal query?
Date: Fri, 11 Nov 2005 23:34:21 +0100
User-Agent: KMail/1.5.4
References: <20051111200442.90005.qmail@web25907.mail.ukl.yahoo.com> <Pine.LNX.4.58.0511111353060.32162@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0511111353060.32162@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511112334.21873.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 11 November 2005 23:04, Chris Hostetter wrote:
> 
> : Wouldn't it make sense to have BooleanFilter,
> : TermFilter, MultiTermFilter, RangeFilter... fammily to
> : "mirror"  xxxQuery world with same idioms and
> : interfaces? Is this the direction allready taken in
> : Lucene development (an alternative would be to
> : parametrize existiong Query world). How I see it
> : functionaly, at a moment filters (and thir
> : combination) are the only way to use fast "pure
> : boolean" model.
> :
> : Does this what I just said makes any sense?
> 
> It makes perfect sense, and you have grasped a ot of the possibilities.
> While making a version of Filter varient of every Query class is my gut
> instinct, there has in fact been discussion about generalizing Queries so
> that they can have "non-scoring" mode.  these issues have all been
> mentioned in LUCENE-383 ...
> 
> 	http://issues.apache.org/jira/browse/LUCENE-383
> 
> One of the big reasons why it might make sense to use Queries instead of
> Filters even if you don't care about scoring is when you have a large set
> of very restrictive conditions.  (ie: A BooleanQuery consisting of many
> TermQueries).  the BooleanScorer can make good decisisons to skip over
> large sets of documents -- sometimes ignoring sub queries entirely -- when
> one sub query only matches a few documents because of hte flexability of
> the Scorer API.
> 
> The Filter API on the other hand doesn't have this flexability.  There is
> not way for a ChainedFilter/BooleanFilter to know that it can skip over
> one of it's sub filters, or ask one of it's sub filters to only look at
> certain documents.

This FilteredQuery will skip over documents that do not pass the filter:
http://issues.apache.org/jira/browse/LUCENE-330
even when it is nested in itself.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 11 23:29:18 2005
Return-Path: <java-user-return-17445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30246 invoked from network); 11 Nov 2005 23:29:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Nov 2005 23:29:18 -0000
Received: (qmail 70616 invoked by uid 500); 11 Nov 2005 23:29:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70589 invoked by uid 500); 11 Nov 2005 23:29:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70575 invoked by uid 99); 11 Nov 2005 23:29:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 15:29:12 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.124.29] (HELO dev.nannet.co.kr) (221.146.124.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 15:29:04 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id jABNRo9T009247
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 08:27:51 +0900
Message-ID: <005601c5e718$a53e92e0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <43749E61.1010207@syr.edu>
Subject: Re: Getting Started with Korean
Date: Sat, 12 Nov 2005 08:35:47 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiR3JhbnQgSW5n
ZXJzb2xsIiA8Z3NpbmdlcnNAc3lyLmVkdT4NClRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUu
b3JnPg0KU2VudDogRnJpZGF5LCBOb3ZlbWJlciAxMSwgMjAwNSAxMDozNiBQTQ0KU3ViamVjdDog
R2V0dGluZyBTdGFydGVkIHdpdGggS29yZWFuDQoNCg0KPiBIaSwNCj4gDQo+IFdhcyB3b25kZXJp
bmcgaWYgc29tZW9uZSBjb3VsZCBoZWxwIG1lIG91dCB3aXRoIGEgZmV3IHRoaW5ncyBpbiBLb3Jl
YW4gDQo+IGFzIHJlbGF0ZWQgdG8gTHVjZW5lOg0KPiAxLiAgV2hpY2ggQW5hbHl6ZXIgZG8geW91
IHJlY29tbWVuZD8gIEZyb20gdGhlIGxpc3QsIEkgc2VlIHRoYXQgc29tZSANCj4gaGF2ZSBoYWQg
c3VjY2VzcyB3aXRoIHRoZSBTdGFuZGFyZEFuYWx5emVyLiAgQXJlIHRoZXJlIGFueSBjYXZlYXRz
IEkgDQo+IHNob3VsZCBiZSBhd2FyZSBvZiBpZiBJIGNob29zZSB0byB1c2UgaXQ/DQoNClN0YW5k
YXJkQW5hbHl6ZXIgaXMgc3VwcG9ydGVkIEtvcmVhbiBmcm9tIDEuOS4NCk9ubHkgd2l0aCBBbmFs
eXplciwgDQpJdCBsb29rcyBsaWtlIHRoZSBTdGFuZGFyZEFuYWx5emVyIGRvZXNuJ3Qgbm90IGdv
b2QgY29tcGFyZSB3aXRoIENKS0FuYWx5emVyLg0KWW91IGNhbiBzZWUgcmVsYXRlZCB0aHJlYWQu
DQoNCg0KaHR0cDovL21haWwtYXJjaGl2ZXMuYXBhY2hlLm9yZy9tb2RfbWJveC9sdWNlbmUtamF2
YS11c2VyLzIwMDUxMS5tYm94L2Jyb3dzZXINCg0KDQpCdXQgSSB0aGluayBTdGFuZGFyZEFuYWx5
emVyIGlzIGEgZ29vZCBzdGFydCBwb2ludCB0byBiZXR0ZXIgc3VwcG9ydCBLb3JlYW4NCg0KDQpU
aGFua3MsDQoNCllvdW5naG8NCg0KPiAyLiAgQ291bGQgYW55b25lIHBvaW50IG1lIHRvIGEgZmFp
cmx5IGRlY2VudCBzaXplIChkb2Vzbid0IG5lZWQgdG8gYmUgDQo+IGh1Z2UpLCBmcmVlbHkgYXZh
aWxhYmxlIGNvbGxlY3Rpb24/DQo+IA0KPiBUaGFua3MsDQo+IEdyYW50DQo+IA0KPiAtLSANCj4g
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLSANCj4gR3JhbnQgSW5nZXJzb2xsIA0KPiBTci4gU29mdHdhcmUgRW5naW5lZXIg
DQo+IENlbnRlciBmb3IgTmF0dXJhbCBMYW5ndWFnZSBQcm9jZXNzaW5nIA0KPiBTeXJhY3VzZSBV
bml2ZXJzaXR5IA0KPiBTY2hvb2wgb2YgSW5mb3JtYXRpb24gU3R1ZGllcyANCj4gMzM3IEhpbmRz
IEhhbGwgDQo+IFN5cmFjdXNlLCBOWSAxMzI0NCANCj4gDQo+IGh0dHA6Ly93d3cuY25scC5vcmcg
DQo+IFZvaWNlOiAgMzE1LTQ0My01NDg0IA0KPiBGYXg6IDMxNS00NDMtNjg4NiANCj4gDQo+IA0K
PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vi
c2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3Jn




From java-user-return-17446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 00:40:33 2005
Return-Path: <java-user-return-17446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54841 invoked from network); 12 Nov 2005 00:40:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 00:40:33 -0000
Received: (qmail 39248 invoked by uid 500); 12 Nov 2005 00:40:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38364 invoked by uid 500); 12 Nov 2005 00:40:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38352 invoked by uid 99); 12 Nov 2005 00:40:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 16:40:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 16:40:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8B01813E2041; Fri, 11 Nov 2005 19:40:03 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id DAFF213E2041
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 19:38:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051111175436.84521.qmail@web31208.mail.mud.yahoo.com>
References: <20051111175436.84521.qmail@web31208.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1E6CEEAC-B893-4284-9652-FF6F8E9B23DF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document as Paramter (Rephrased)
Date: Fri, 11 Nov 2005 19:39:01 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 11 Nov 2005, at 12:54, bib_lucene bib wrote:
> My requirement is that I do a search, the results of the search are  
> displayed. I am displaying results by using getbestfragmets and  
> highlighting searched text.
>
> So basically the user can search and see what documents matched his  
> search with snippets of text shown in the result of search.
>
> Now the user needs to select one of the results and view the  
> document completely.
>
> What I did is along with indexing I stored the document in the ROOT  
> webapplication and gave a link to the file. This worked fine.
>
> However, now I need to display the full document with search terms  
> highlighted.
>
> As I understand now I can do this...
>
> 1. Read the whole document again and apply some css to highlight  
> terms.
>
> 2. Create a new Lucene Document -> Read the file -> Add file  
> Content to Document -> Use nullfragmenter -> Apply CSS -> Display  
> result.

There is no need to create a new Lucene Document just to highlight  
text.  The text you highlight does not have to be the text you  
indexed even.  The Highlighter takes a String to highlight and a  
Query to extract the terms to highlight from.

> Question is , is there a way I can just show the content from index  
> rather then parsing the document again, when the user wants to see  
> full document from search results page.

Well, the question really comes back to you.... where is the text you  
want to highlight?  You can store it in a Lucene index, in a  
database, on the filesystem, wherever.  Neither Lucene nor the  
Highlighter are related to that decision whatsoever.  So using a  
NullFragmenter, which I will commit to contrib/highlighter soon, use  
the Highlighter on the full text.

If you're still having issues, send us a (brief, please!) piece of  
code you're using to highlight.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 00:57:44 2005
Return-Path: <java-user-return-17447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61748 invoked from network); 12 Nov 2005 00:57:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 00:57:44 -0000
Received: (qmail 50126 invoked by uid 500); 12 Nov 2005 00:57:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50092 invoked by uid 500); 12 Nov 2005 00:57:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50081 invoked by uid 99); 12 Nov 2005 00:57:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 16:57:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 16:57:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 899A213E2041; Fri, 11 Nov 2005 19:57:18 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 1B16413E2041
	for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 19:57:16 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BF18D1CC-00E0-4136-986C-BFBCE7F0DD54@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Max score of two fields
Date: Fri, 11 Nov 2005 19:57:21 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 11 Nov 2005, at 13:27, Lasse L wrote:
> I am indexing persons that has the usual fields name, address etc.
> I need to keep track of which name and addresses are active now and
> which ones are old.
> I do that by having a two sets of fields e.g.: current_name and  
> old_name
>
> When I search for a person and I search in just the current fields
> ranking is fine.
>
> When I search for a person in both the current and old fields at the
> same time the ranking gets skewed if some of the persons has
> registered the same or similar name and address in the past. In the
> current_name:Lars OR old_name:Lars the documents that match on both
> sides are ranked higher.
>
> I'd like the document to rank like the best/max score of either side
> of that subquery.
>
> I tried implementing my own Query, Weight and Scorer but it seemed
> like an overly complex way of doing it.
>
> Any suggestions?

I believe if you create a custom Similarity implementation (subclass  
DefaultSimilarity) and override coord() and return 1.0f from it you  
will achieve what you're after.  You'll need to register your custom  
implementation with your IndexSearcher and IndexWriter, but if you  
only change coord() there shouldn't be a need to reindex, but  
changing any other factors you should reindex.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 01:32:48 2005
Return-Path: <java-user-return-17448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76564 invoked from network); 12 Nov 2005 01:32:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 01:32:48 -0000
Received: (qmail 74001 invoked by uid 500); 12 Nov 2005 01:32:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73962 invoked by uid 500); 12 Nov 2005 01:32:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73949 invoked by uid 99); 12 Nov 2005 01:32:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 17:32:42 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.223] (HELO web31206.mail.mud.yahoo.com) (68.142.200.223)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Nov 2005 17:32:34 -0800
Received: (qmail 98813 invoked by uid 60001); 12 Nov 2005 01:32:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=B+SI7U8ly5aC6jm6i51an4HKbalGwHieXNNxAC0yRfQ/K/NuzKsdPnEX9J4uumu7RuBBV4XPfYd3dLmXrl+xwGb1kwSechGOWZs8228cdRLFmXFI3H4OIjysJpUjk1lMPUpvnp2YP/d2cLQIZDygqfxPt4B2pJkHCMvk04pEP5E=  ;
Message-ID: <20051112013220.98811.qmail@web31206.mail.mud.yahoo.com>
Received: from [68.126.216.215] by web31206.mail.mud.yahoo.com via HTTP; Fri, 11 Nov 2005 17:32:20 PST
Date: Fri, 11 Nov 2005 17:32:20 -0800 (PST)
From: bib_lucene bib <bib_lucene@yahoo.com>
Subject: Re: Document as Paramter (Rephrased)
To: java-user@lucene.apache.org
In-Reply-To: <1E6CEEAC-B893-4284-9652-FF6F8E9B23DF@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-5833175-1131759140=:97247"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-5833175-1131759140=:97247
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks for your time.
 
-- Text I want to highlight is stored in the file system and index
-- I can search and highlight the searched terms in results page ( just snippets)
-- I have given a download link next to snippets ( which will  point to file I stored in ROOT webapp of tomcat)
 
I understood the concept of NullFragmenter, sorry for repeating myself...
It is something like a google search. In google if I enter search term "highlight" and click on search, I get back search results with word "highlight" in bold. ( I can do that)
Now when I click on the links (Ex: GNU Source-highlight 2.2) which is http://www.gnu.org/software/src-highlite/source-highlight.html I want the term 'highlight" in bold when the page is displayed (This I do not know how to do)
 
I will index docs like html, pdf, word etc. 
As I have already extracted text using textminer etc, question is when I click on "show full document" link in search results page which I will give below the highlighted search snippet how can i pull out full text of the document from index. As there is no unique identifier for each doc in the index (?)
 
Or do I just have to extract the text from the file stored in file system and pass it to the highlighter. My only concern here would be if like 300 users do this operation it might fail with an error like maximum files open limit exceeded etc.
 
Here is the code snippet.
LuceneHitHighlighter highlighter = new LuceneHitHighlighter(queryStr, "snippet", "body");
                for (int i = 0; i < hits.size(); i++) {
                    Document doc = (Document) hits.get(i);
                    highlighter.doHighlight(doc);
                    out.println("SNIPPET: " + doc.get("snippet"));
                    out.println("<hr>");
 
Using Standard Analyzer
public LuceneHitHighlighter(String queryText, String highlightFieldName, String textFieldName)
        throws ParseException
    {
        Query query = QueryParser.parse(queryText, textFieldName, _analyzer);
        _highlighter = new Highlighter(_formatter, new QueryScorer(query));
        _highlighter.setTextFragmenter(new SimpleFragmenter(100));
        _maxNumFragmentsRequired = 3;
        _textFieldName = textFieldName;
        _highlightFieldName = highlightFieldName;
    }
    public void doHighlight(Document doc)
    {
        String highlightText = "";
        String text = doc.get(_textFieldName);
        if (text != null) {
            TokenStream tokenStream = _analyzer.tokenStream(_textFieldName, new StringReader(text));
            try {
                highlightText = _highlighter.getBestFragments(tokenStream, text, _maxNumFragmentsRequired, "...");
                // just store highlight text into document, nothing else
                doc.add(new Field(_highlightFieldName, highlightText, true, false, false));
            }
                        }
        }

Erik Hatcher <erik@ehatchersolutions.com> wrote:

On 11 Nov 2005, at 12:54, bib_lucene bib wrote:
> My requirement is that I do a search, the results of the search are 
> displayed. I am displaying results by using getbestfragmets and 
> highlighting searched text.
>
> So basically the user can search and see what documents matched his 
> search with snippets of text shown in the result of search.
>
> Now the user needs to select one of the results and view the 
> document completely.
>
> What I did is along with indexing I stored the document in the ROOT 
> webapplication and gave a link to the file. This worked fine.
>
> However, now I need to display the full document with search terms 
> highlighted.
>
> As I understand now I can do this...
>
> 1. Read the whole document again and apply some css to highlight 
> terms.
>
> 2. Create a new Lucene Document -> Read the file -> Add file 
> Content to Document -> Use nullfragmenter -> Apply CSS -> Display 
> result.

There is no need to create a new Lucene Document just to highlight 
text. The text you highlight does not have to be the text you 
indexed even. The Highlighter takes a String to highlight and a 
Query to extract the terms to highlight from.

> Question is , is there a way I can just show the content from index 
> rather then parsing the document again, when the user wants to see 
> full document from search results page.

Well, the question really comes back to you.... where is the text you 
want to highlight? You can store it in a Lucene index, in a 
database, on the filesystem, wherever. Neither Lucene nor the 
Highlighter are related to that decision whatsoever. So using a 
NullFragmenter, which I will commit to contrib/highlighter soon, use 
the Highlighter on the full text.

If you're still having issues, send us a (brief, please!) piece of 
code you're using to highlight.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-5833175-1131759140=:97247--

From java-user-return-17449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 01:33:15 2005
Return-Path: <java-user-return-17449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76788 invoked from network); 12 Nov 2005 01:33:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 01:33:15 -0000
Received: (qmail 75150 invoked by uid 500); 12 Nov 2005 01:33:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75124 invoked by uid 500); 12 Nov 2005 01:33:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75110 invoked by uid 99); 12 Nov 2005 01:33:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 17:33:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 17:33:02 -0800
Received: by xproxy.gmail.com with SMTP id s18so994721wxc
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 17:32:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=tJjWhNHKoF+V2H7yuvSPUPPxMvDNU5ERpVaox2nkTwZAT+ykmEgZI2xKziHFyzSYyItAixGwc+FADV3xD5og+sEKsJCZQ5N91M3krdkyxoJd/yDvre4tUPArnDqi6GfBylOzs29brWFi70lkrTgom9MxH1FPzWrWKemKa7gWsw8=
Received: by 10.65.236.2 with SMTP id n2mr3116415qbr;
        Fri, 11 Nov 2005 17:32:48 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Fri, 11 Nov 2005 17:32:48 -0800 (PST)
Message-ID: <c68e39170511111732o673992bekd9381ed78ac22d96@mail.gmail.com>
Date: Fri, 11 Nov 2005 20:32:48 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Max score of two fields
In-Reply-To: <BF18D1CC-00E0-4136-986C-BFBCE7F0DD54@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
	 <BF18D1CC-00E0-4136-986C-BFBCE7F0DD54@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It doesn't seem like a custom Similarity would work.  Always returning
1.0 for coord would still rank a doc higher if both current_name and
old_name matched.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/11/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> I believe if you create a custom Similarity implementation (subclass
> DefaultSimilarity) and override coord() and return 1.0f from it you
> will achieve what you're after.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 01:39:20 2005
Return-Path: <java-user-return-17450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79510 invoked from network); 12 Nov 2005 01:39:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 01:39:20 -0000
Received: (qmail 81552 invoked by uid 500); 12 Nov 2005 01:39:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81525 invoked by uid 500); 12 Nov 2005 01:39:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81514 invoked by uid 99); 12 Nov 2005 01:39:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 17:39:15 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 17:39:08 -0800
Received: by wproxy.gmail.com with SMTP id i4so892426wra
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 17:38:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=U8bx5oCs3k4hPx6318LZBUSyWt4av66KvlJEBtX3LlI2GPiTBRDmdplLiYWwMppe7OHdS4DqPUwe1Bhl+KYGBdAQQEcHALV0zEdOD2FJ33TUejgccO8oQCMc3Ed6NZ2FfcGd7VOrBaBwoOBsePxwsVt3T8yGRjg9cUT+NF6C3DI=
Received: by 10.65.155.17 with SMTP id h17mr3197198qbo;
        Fri, 11 Nov 2005 17:38:54 -0800 (PST)
Received: by 10.65.211.10 with HTTP; Fri, 11 Nov 2005 17:38:53 -0800 (PST)
Message-ID: <c68e39170511111738v6bbf3714s9eae8e3dfd193c23@mail.gmail.com>
Date: Fri, 11 Nov 2005 20:38:54 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Performance Question
In-Reply-To: <2499f52df2a5d3d90d6985e5c5fade97@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <0B1C92228C5C8D45AA7450F78B3FB9DE05A511@staf-exm-01.ardentia.co.uk>
	 <c68e39170511110806k5791bc2ek21589ba3960fb975@mail.gmail.com>
	 <2499f52df2a5d3d90d6985e5c5fade97@mac.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look at IndexReader.open()
It actually uses a MultiReader if there are multiple segments.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/11/05, Charles Lloyd <charlesclloyd@mac.com> wrote:
> You should run your own tests, but I found the MultiReader to be slower
> than a regular IndexReader.  I was running on a dual-cpu box and two
> separate disk drives.
>
> Charles.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 06:17:07 2005
Return-Path: <java-user-return-17451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65739 invoked from network); 12 Nov 2005 06:17:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 06:17:07 -0000
Received: (qmail 42340 invoked by uid 500); 12 Nov 2005 06:17:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42315 invoked by uid 500); 12 Nov 2005 06:17:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42304 invoked by uid 99); 12 Nov 2005 06:17:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 22:17:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Nov 2005 22:16:53 -0800
Received: by wproxy.gmail.com with SMTP id i22so692819wra
        for <java-user@lucene.apache.org>; Fri, 11 Nov 2005 22:16:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=f3hQSr1ftBjyiCrAXpQgp/V0NvTTe4j7GH1aKU/NVs5cBplYwFEseHHB+srNbTGN2WH9xi9dFPUz4CLrYS5YHvdslNWs+oD3DE3sBoQiLB5gScUZbkgmsDTX18eCPE20wcA23c8NQXY95bXAzbI50Ze/R6my8G3ipwKWHR2+/tM=
Received: by 10.64.201.3 with SMTP id y3mr3279664qbf;
        Fri, 11 Nov 2005 22:16:39 -0800 (PST)
Received: by 10.64.195.4 with HTTP; Fri, 11 Nov 2005 22:16:39 -0800 (PST)
Message-ID: <48b708490511112216m7d02b144q81bf4da704e22cb9@mail.gmail.com>
Date: Sat, 12 Nov 2005 15:16:39 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Getting Started with Korean
In-Reply-To: <43749E61.1010207@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <43749E61.1010207@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

On 11/11/05, Grant Ingersoll <gsingers@syr.edu> wrote:
> Hi,
>
> Was wondering if someone could help me out with a few things in Korean
> as related to Lucene:
> 1.  Which Analyzer do you recommend?  From the list, I see that some
> have had success with the StandardAnalyzer.  Are there any caveats I
> should be aware of if I choose to use it?

StandardAnalyzer currently in svn separates all Korean words into each
characters. As you know, Korean has almost no meaning with 'one'
character, so I've made a patch on JIRA to address this issue. You can
find it http://issues.apache.org/jira/browse/LUCENE-461. But for the
stemming, StandardTokenizer(and StandardAnalyzer) has no ability to do
it, so you need something else like CJKAnalyzer that does a bi-gram
tokenization. There currently is no lucene analyzer freely available
that does the Korean stemming like Porter, Lovins, etc.

> 2.  Could anyone point me to a fairly decent size (doesn't need to be
> huge), freely available collection?

Please check out the Sejong project(http://www.sejong.or.kr/, Sejong
is name of the king who created the Hangul in ancient times), it's
kind of a national linguistics project and has lots of Korean corpus
that is freely available for research purpose only. But those text are
provided in xxx.HWP file format, so it's hard to download-and-use in
one shot. It's very very time consuming :-( You need "Hangul 2005"
word processor to read the xxx.HWP file. (I know Sejong project
shouldn't have used a company proprietary format like HWP instead of
XML or even just TXT.)

>
> Thanks,
> Grant
>
> --
> -------------------------------------------------------------------
> Grant Ingersoll
> Sr. Software Engineer
> Center for Natural Language Processing
> Syracuse University
> School of Information Studies
> 337 Hinds Hall
> Syracuse, NY 13244
>
> http://www.cnlp.org
> Voice:  315-443-5484
> Fax: 315-443-6886
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 08:06:24 2005
Return-Path: <java-user-return-17452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89038 invoked from network); 12 Nov 2005 08:06:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 08:06:23 -0000
Received: (qmail 76244 invoked by uid 500); 12 Nov 2005 08:06:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76224 invoked by uid 500); 12 Nov 2005 08:06:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76206 invoked by uid 99); 12 Nov 2005 08:06:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 00:06:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 00:06:08 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F2F7F13E2042; Sat, 12 Nov 2005 03:05:54 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 82FFC13E2041
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 03:05:35 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051112013220.98811.qmail@web31206.mail.mud.yahoo.com>
References: <20051112013220.98811.qmail@web31206.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FE9F8C5D-351D-4B79-9DE0-A339E04EC31A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document as Paramter (Rephrased)
Date: Sat, 12 Nov 2005 03:05:44 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 11 Nov 2005, at 20:32, bib_lucene bib wrote:
> -- Text I want to highlight is stored in the file system and index
> -- I can search and highlight the searched terms in results page  
> ( just snippets)
> -- I have given a download link next to snippets ( which will   
> point to file I stored in ROOT webapp of tomcat)
>
> I understood the concept of NullFragmenter, sorry for repeating  
> myself...
> It is something like a google search. In google if I enter search  
> term "highlight" and click on search, I get back search results  
> with word "highlight" in bold. ( I can do that)

If you're using NullFragmenter (which I just committed to contrib/ 
highlighter) then you're not getting snippets, you're getting the  
full text.  But this is unrelated to your main question.

> Now when I click on the links (Ex: GNU Source-highlight 2.2) which  
> is http://www.gnu.org/software/src-highlite/source-highlight.html I  
> want the term 'highlight" in bold when the page is displayed (This  
> I do not know how to do)
>
> I will index docs like html, pdf, word etc.
> As I have already extracted text using textminer etc, question is  
> when I click on "show full document" link in search results page  
> which I will give below the highlighted search snippet how can i  
> pull out full text of the document from index. As there is no  
> unique identifier for each doc in the index (?)

Well, as I said, from here on out is really in the domain of your  
application and not Lucene and the Highlighter.  Perhaps your index  
should have a unique identifying key field (Field.Keyword works well  
for this).  And then your links to the full text should be augmented  
to have that key in them, and that link needs to be to something  
dynamic, like a servlet, rather than a static link, that passes in  
the id of the document to be highlighted and the query to use with  
Highlighter.

> Or do I just have to extract the text from the file stored in file  
> system and pass it to the highlighter.

Perhaps.  I cannot decide this for you as it is, again, your  
application business logic that determines where the text of a  
document is.  You already mentioned the text is in the Lucene index  
in your case, so you could pass the document id (or the path, or some  
unique key) to the highlighting servlet, retrieve that document from  
Lucene, highlight the text using the NullFragmenter, and serve up  
that highlighted text.

> Here is the code snippet.
> LuceneHitHighlighter highlighter = new LuceneHitHighlighter 
> (queryStr, "snippet", "body");
>                 for (int i = 0; i < hits.size(); i++) {
>                     Document doc = (Document) hits.get(i);
>                     highlighter.doHighlight(doc);
>                     out.println("SNIPPET: " + doc.get("snippet"));
>                     out.println("<hr>");

You're adding a field to the document in doHighlight - this is not  
something I'd recommend.  It is not persistent, just so you know.  I  
recommend simply returning the highlighted String from that method  
rather than adding a field.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 09:06:17 2005
Return-Path: <java-user-return-17453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9539 invoked from network); 12 Nov 2005 09:06:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 09:06:16 -0000
Received: (qmail 4931 invoked by uid 500); 12 Nov 2005 09:06:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4038 invoked by uid 500); 12 Nov 2005 09:06:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4027 invoked by uid 99); 12 Nov 2005 09:06:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:06:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:06:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 50DA513E2041; Sat, 12 Nov 2005 04:05:46 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 0626413E2041
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 04:05:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <c68e39170511111732o673992bekd9381ed78ac22d96@mail.gmail.com>
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com> <BF18D1CC-00E0-4136-986C-BFBCE7F0DD54@ehatchersolutions.com> <c68e39170511111732o673992bekd9381ed78ac22d96@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4238FDA8-1615-4BB0-B0C7-01BD6B518B59@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Max score of two fields
Date: Sat, 12 Nov 2005 04:05:45 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 11 Nov 2005, at 20:32, Yonik Seeley wrote:

> It doesn't seem like a custom Similarity would work.  Always returning
> 1.0 for coord would still rank a doc higher if both current_name and
> old_name matched.

Oops - you're right.  I was merely considering the coordination  
factor as the issue, neglecting the additive nature of the clauses.   
My bad.

     Erik


>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 11/11/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>> I believe if you create a custom Similarity implementation (subclass
>> DefaultSimilarity) and override coord() and return 1.0f from it you
>> will achieve what you're after.
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 09:28:50 2005
Return-Path: <java-user-return-17454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14896 invoked from network); 12 Nov 2005 09:28:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 09:28:50 -0000
Received: (qmail 20279 invoked by uid 500); 12 Nov 2005 09:28:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20249 invoked by uid 500); 12 Nov 2005 09:28:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20238 invoked by uid 99); 12 Nov 2005 09:28:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:28:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:28:37 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8E7F513E2042; Sat, 12 Nov 2005 04:28:22 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id D1D7513E2041
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 04:27:56 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <52D91229-8907-4F2A-808B-89C791883F44@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: regex queries
Date: Sat, 12 Nov 2005 04:28:07 -0500
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For a consulting engagement, the client needed the ability to query  
using regular expressions.  I was given permission to contribute it  
to Lucene and have just committed it to the trunk.  This is not  
revolutionary at all, and is implemented in the same manner that  
WildcardQuery is implemented except that the matching uses regular  
expressions instead of just basic */? matching.  This implementation  
carries with it the same performance caveats that WildcardQuery has,  
and is possibly even slower than WildcardQuery for the same types of  
expressions (I haven't benchmarked it - it isn't meant to replace  
WildcardQuery as the pattern syntax is different anyway).

Here is a test case showing RegexQuery in action:

public class TestRegexQuery extends TestCase {
   public void testRegex() throws Exception {
     RAMDirectory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new  
SimpleAnalyzer(), true);
     Document doc = new Document();
     doc.add(new Field("field", "the quick brown fox jumps over the  
lazy dog", Field.Store.NO, Field.Index.TOKENIZED));
     writer.addDocument(doc);
     writer.optimize();
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     Query query = new RegexQuery(new Term("field", "q.[aeiou]c.*"));
     Hits hits = searcher.search(query);
     assertEquals(1, hits.length());
   }
}

The standard Java 1.4 built-in regex Pattern matching is used under  
the covers.

Beyond the basic RegexQuery, there is also a SpanRegexQuery allowing  
for sophisticated expressions using spans and regular expression  
matching all together, as shown in this test case:

public class TestSpanRegexQuery extends TestCase {
   public void testSpanRegex() throws Exception {
     RAMDirectory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new  
SimpleAnalyzer(), true);
     Document doc = new Document();
     doc.add(new Field("field", "the quick brown fox jumps over the  
lazy dog", Field.Store.NO, Field.Index.TOKENIZED));
     writer.addDocument(doc);
     writer.optimize();
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     SpanRegexQuery srq = new SpanRegexQuery(new Term("field", "q. 
[aeiou]c.*"));
     SpanTermQuery stq = new SpanTermQuery(new Term("field","dog"));
     SpanNearQuery query = new SpanNearQuery(new SpanQuery[] {srq,  
stq}, 6, true);
     Hits hits = searcher.search(query);
     assertEquals(1, hits.length());
   }
}

There is one fiddlying improvement that is needed under the covers.   
For this type of query, as with WildcardQuery also, it is vastly more  
efficient to find the maximum prefix of the regex expression that  
does not contain any special regex characters in order to narrow down  
the terms enumerated for consideration.  The current logic is a bit  
too simplistic and error prone - it simply looks for first occurrence  
of any of these characters: "*[?.", such that a query for "abc.*"  
would start the term enumeration at "abc" in the term dictionary  
rather than scanning all terms.  A pattern such as "abc\*" currently  
breaks this logic and starts the term enumeration at "abc\" which is,  
of course, incorrect.  If anyone would like to contribute code to  
handle this better, I welcome it!

Further on the use of regular expression searching - while this query  
supports doing this on a standard index, if pattern (wildcard, regex)  
querying is crucial to your application, consider using term rotation  
during indexing and clever query creation to optimize further as it  
can greatly improve query performance.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 09:47:40 2005
Return-Path: <java-user-return-17455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18474 invoked from network); 12 Nov 2005 09:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 09:47:40 -0000
Received: (qmail 29033 invoked by uid 500); 12 Nov 2005 09:47:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29006 invoked by uid 500); 12 Nov 2005 09:47:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28995 invoked by uid 99); 12 Nov 2005 09:47:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:47:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 01:47:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DA09313E2042; Sat, 12 Nov 2005 04:47:14 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id B315E13E2041
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 04:47:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <48b708490511112216m7d02b144q81bf4da704e22cb9@mail.gmail.com>
References: <43749E61.1010207@syr.edu> <48b708490511112216m7d02b144q81bf4da704e22cb9@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C5C170D1-5293-4184-BD7D-B9C4203B0A85@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Getting Started with Korean
Date: Sat, 12 Nov 2005 04:47:18 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 12 Nov 2005, at 01:16, Cheolgoo Kang wrote:
>> Hi,
>>
>> Was wondering if someone could help me out with a few things in  
>> Korean
>> as related to Lucene:
>> 1.  Which Analyzer do you recommend?  From the list, I see that some
>> have had success with the StandardAnalyzer.  Are there any caveats I
>> should be aware of if I choose to use it?
>>
>
> StandardAnalyzer currently in svn separates all Korean words into each
> characters. As you know, Korean has almost no meaning with 'one'
> character, so I've made a patch on JIRA to address this issue. You can
> find it http://issues.apache.org/jira/browse/LUCENE-461.

I have contributed your patches!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 19:21:42 2005
Return-Path: <java-user-return-17456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76157 invoked from network); 12 Nov 2005 19:21:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 19:21:42 -0000
Received: (qmail 89620 invoked by uid 500); 12 Nov 2005 19:21:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89595 invoked by uid 500); 12 Nov 2005 19:21:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89583 invoked by uid 99); 12 Nov 2005 19:21:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 11:21:36 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.204] (HELO web25906.mail.ukl.yahoo.com) (217.12.10.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Nov 2005 11:21:28 -0800
Received: (qmail 97130 invoked by uid 60001); 12 Nov 2005 19:21:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=rri3xCX8oSUhTQBA0c/k8zGeLi2kDwKXAlOih0mz53gNjvzPzx5LG7I4u4N67djd1/0PNz2lSznroyqegeCi39wB2rYxxJu4K5s+/p77dQaEJT55tFhwmU1RkOWnS4iS1b09Rsh2CoEFxSwHtQS5bTneH/0N90+iOsDi+LoSJac=  ;
Message-ID: <20051112192114.97128.qmail@web25906.mail.ukl.yahoo.com>
Received: from [84.131.231.114] by web25906.mail.ukl.yahoo.com via HTTP; Sat, 12 Nov 2005 19:21:14 GMT
Date: Sat, 12 Nov 2005 19:21:14 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: A lot of short documents, optimal query? 
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0511111353060.32162@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Hoss, 
 
Good to hear that, I felt a bit fuzzy trying to grasp
all the possibilities.

I've read discussion from Doug's proposal for
implementing non-scoring Query features,
ConstantScoreQuery, Paul's FilteredQuery patch. 

And in summary options to avoid scoring: 

1. There is a consensus that Doug's proposal would be
the best way to proceed, but requires some time until
we get there. 

2. Filters are perfect for what they do good,
filtering. But using them for reimplementing
BooleanQuery, mirroring everything with filters would
introduce a lot of redundancy. BooleanQuery for exmple
does a lot of cool optimizations, shortcicuting 
expresins... and more or less the same things would
have to be reimplemented using filters. 

3. ConstantScoreQuery: 
I am a bit unsure here, but this looks like a bridge
that enables Filters to enter "regular" Query world. 

4. Paul's patch on FilteredQuery. This is "just" an
optimization to avoid unecessary scoring for doc's
that do not pass Filter (rather smart one tough). 

So, back to my use case:

You are totally right, ZIP codes are done best with
SetFilter (or PrefixFilter), no doubts about this one.
And they were the problem actually, so the solution is
allredy here.

But now when I learned about ConstntScoreQuery I
started thinking abot the following option:

The problem:
The first part of the query (part about thr field
"name" in my example) is combining term queries in
many strange ways using BooleanQuery, so using
ChainedFilter  would make thigs not so easy to read,
generalize and make right.  

So, what would you say about the following:

1. Make a TermFilter for all unique, high frequency
terms in my query (I have fequency info during
construction of the query). Of course, with simple
caching at TermFilter level is really simple. 

2. wrap those TermFilters in ConstantScoreQuery, 

3. combine this inside BooleanQuery as before (Boolean
mix of term queries and ConstantScoreQueries)

ZIPS field goes into SetFilter

Did I allready say "thank you!" for staying with me
while asking dumb questions :) And yes, if you get
close to Hanover, a good german beer on me is sure
thing. 




--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> : Wouldn't it make sense to have BooleanFilter,
> : TermFilter, MultiTermFilter, RangeFilter...
> fammily to
> : "mirror"  xxxQuery world with same idioms and
> : interfaces? Is this the direction allready taken
> in
> : Lucene development (an alternative would be to
> : parametrize existiong Query world). How I see it
> : functionaly, at a moment filters (and thir
> : combination) are the only way to use fast "pure
> : boolean" model.
> :
> : Does this what I just said makes any sense?
> 
> It makes perfect sense, and you have grasped a ot of
> the possibilities.
> While making a version of Filter varient of every
> Query class is my gut
> instinct, there has in fact been discussion about
> generalizing Queries so
> that they can have "non-scoring" mode.  these issues
> have all been
> mentioned in LUCENE-383 ...
> 
> 	http://issues.apache.org/jira/browse/LUCENE-383
> 
> One of the big reasons why it might make sense to
> use Queries instead of
> Filters even if you don't care about scoring is when
> you have a large set
> of very restrictive conditions.  (ie: A BooleanQuery
> consisting of many
> TermQueries).  the BooleanScorer can make good
> decisisons to skip over
> large sets of documents -- sometimes ignoring sub
> queries entirely -- when
> one sub query only matches a few documents because
> of hte flexability of
> the Scorer API.
> 
> The Filter API on the other hand doesn't have this
> flexability.  There is
> not way for a ChainedFilter/BooleanFilter to know
> that it can skip over
> one of it's sub filters, or ask one of it's sub
> filters to only look at
> certain documents.
> 
> 
> I suggested the full Filter approach for your
> situation based on the
> following information...
>   1) you didn't care about scoring
>   2) you were using Range/Prefix queries on teh ZIP
> field that could
>      easily exceed practicle clause limits in
> BooleanQuery.
>   3) your restrictions on the ZIP field looked like
> they could be cached
>      individually so the and the results reused
> accross many searches
> 
> 
> 
> -Hoss
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 22:33:59 2005
Return-Path: <java-user-return-17457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29659 invoked from network); 12 Nov 2005 22:33:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 22:33:59 -0000
Received: (qmail 26063 invoked by uid 500); 12 Nov 2005 22:33:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26035 invoked by uid 500); 12 Nov 2005 22:33:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26024 invoked by uid 99); 12 Nov 2005 22:33:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 14:33:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Nov 2005 14:33:45 -0800
Received: (qmail 13517 invoked by uid 0); 12 Nov 2005 22:33:31 -0000
Received: from 193.63.235.44 by www91.gmx.net with HTTP;
	Sat, 12 Nov 2005 23:33:31 +0100 (MET)
Date: Sat, 12 Nov 2005 23:33:31 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>,
 "Developer " <lucene-dev@jakarta.apache.org>
MIME-Version: 1.0
Subject: Lucene 1.2 Score formula
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <11887.1131834811@www91.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello experts,

sorry for cross posting but this is really important for me. For
documentation purposes I need to know the exact scoring formula that is used
by the Lucene 1.2 release. I have found a scoring formula in the Lucene book
but this is likely oriented on the 1.4 release and might have changed.

Also I could not find anythink in the JavaDoc of the version 1.2 (I checked
in the Similarity class, DefaultSimilarity did not exist in the 1.2
release).

Can somebody help me with this?

Karl

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen fr GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 12 23:05:08 2005
Return-Path: <java-user-return-17458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35763 invoked from network); 12 Nov 2005 23:05:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Nov 2005 23:05:08 -0000
Received: (qmail 50975 invoked by uid 500); 12 Nov 2005 23:05:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50943 invoked by uid 500); 12 Nov 2005 23:05:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50932 invoked by uid 99); 12 Nov 2005 23:05:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 15:05:03 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FUZZY_AMBIEN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Nov 2005 15:04:55 -0800
Received: (qmail 17072 invoked by uid 0); 12 Nov 2005 23:04:41 -0000
Received: from 193.63.235.44 by www91.gmx.net with HTTP;
	Sun, 13 Nov 2005 00:04:41 +0100 (MET)
Date: Sun, 13 Nov 2005 00:04:41 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: About Combining Scores
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <17540.1131836681@www91.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Lucene experts,

I am working on a perhaps interesting problem. I am using Lucene as an IR
engine that allows users to search for documents. Additioanlly I use a user
model that produces a second score. This second score represents a different
aspect of document relevance based on data from a previous experiment. This
score however is based on other data then the content and has nothing to do
with the TF/IDF formula used in the Lucene engine. You may think of it as an
additional model that also produces a score but is based on anther view on
relevance and more statically grounded on user oppinion rather than
deterministic on word counts and distribution of words over the document
collection. 

My aim is to combine this two scores. The Lucenes score is normalisied
between 0.0 and 1.0 (if the score exceeded 1.0 at some point) or less then
1.0 (if it did not). The user model looks the same in this perspective -
although based on different data - a 1.0 means the maximum of relevance and
a 0.0 a minimum or relevance. At the moment I am multiplying the Lucene
score with the score produced by the user model. This means the resulting,
combiend socre is number between 0.0 and 1.0 and represents the merged view
from both models - the IR view and the view of the user model.

Regrading this, I have a question: 

Multiplying both scores seemed obvious to me until recently. Mainly because
I have seen it before and because it seemed to deliver good results  based
on initial testing. But this is a weak assumption and I am nervious when it
comes to the mathematical foundation or at least to a decent justification
about it. Does somebody here know similar work or has worked on similar
issues and can share some ideas or perhaps point me to some papers that
address this issues. I would be interested to discuss the issue of score
combination in general. My particular problem is that I do no stay in the
pure IR field (that is covered by IR literature) but combine with other
models. More generally, I would like to know your oppion about if this is a
good idea or not. The technical fact requiremes me somehow to combine this
two scores that are explicitly independent. I am now looking for a decent
way to do that so that the meaning of the TF/IDF model is not violated.

Mathmatically I have to find the function 

f(L,U) 

where L is the Lucene TF/IDF model and U my user model.


Kind Regards,
Karl

-- 
Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 01:26:59 2005
Return-Path: <java-user-return-17459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68307 invoked from network); 13 Nov 2005 01:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 01:26:59 -0000
Received: (qmail 65175 invoked by uid 500); 13 Nov 2005 01:26:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65153 invoked by uid 500); 13 Nov 2005 01:26:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65142 invoked by uid 99); 13 Nov 2005 01:26:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 17:26:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Nov 2005 17:26:46 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 25D405B785; Sat, 12 Nov 2005 17:26:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1C9DD7F45C
	for <java-user@lucene.apache.org>; Sat, 12 Nov 2005 17:26:32 -0800 (PST)
Date: Sat, 12 Nov 2005 17:26:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: A lot of short documents, optimal query? 
In-Reply-To: <20051112192114.97128.qmail@web25906.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0511121701070.14086@hal.rescomp.berkeley.edu>
References: <20051112192114.97128.qmail@web25906.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: 2. Filters are perfect for what they do good,
: filtering. But using them for reimplementing
: BooleanQuery, mirroring everything with filters would
: introduce a lot of redundancy. BooleanQuery for exmple
: does a lot of cool optimizations, shortcicuting
: expresins... and more or less the same things would
: have to be reimplemented using filters.

More specifically: the Filter API won't let you write code that can
shortcircut.  ChainedFilter has no way of telling any of it's sub-Filters
"you can skip ahead to document #n" the way BooleanQuery can with it's
sub-Queries.  For arbitrary search criteria entered by users, this means
building up a complex hierarchy of Filters can be less efficient then
building up a complex hierarchy of queries -- even if you don't care about
scores.

But for things that you can cache and reuse, Filters kick ass.

: 3. ConstantScoreQuery:
: I am a bit unsure here, but this looks like a bridge
: that enables Filters to enter "regular" Query world.

Correct.  ConstantScoreQuery is just a way to leverage the advantages of a
Filter in situation where need a Query.  ConstantScoreRangeQuery being the
prime example - you can subclass QueryParser to use it.

: 1. Make a TermFilter for all unique, high frequency
	...
: 2. wrap those TermFilters in ConstantScoreQuery,
:
: 3. combine this inside BooleanQuery as before (Boolean
: mix of term queries and ConstantScoreQueries)

Unless those terms are very frequently used to do searches (in various of
combinations) you may be better off just using regular TermQueries.

Even with the BooleanQuery being smart, and knowing when to skip docs
based on it's sub-queries, what I said before about not being able to
shortcircut a Filter still applies if those Filters are inside
ConstantScoreQueries.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 09:09:49 2005
Return-Path: <java-user-return-17460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84209 invoked from network); 13 Nov 2005 09:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 09:09:49 -0000
Received: (qmail 67214 invoked by uid 500); 13 Nov 2005 09:09:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67186 invoked by uid 500); 13 Nov 2005 09:09:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67175 invoked by uid 99); 13 Nov 2005 09:09:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 01:09:43 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FUZZY_AMBIEN
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.169.158.23] (HELO mail.aurisp.de) (81.169.158.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 01:09:35 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id 913FEB814
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 10:09:20 +0100 (CET)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 27623-01-4 for <java-user@lucene.apache.org>;
	Sun, 13 Nov 2005 10:09:15 +0100 (CET)
Received: from localhost (201.80.202.62.cust.bluewin.ch [62.202.80.201])
	by mail.aurisp.de (Postfix) with ESMTP id 22751B807
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 10:09:14 +0100 (CET)
Date: Sun, 13 Nov 2005 10:10:22 +0100
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Re: About Combining Scores
Message-ID: <20051113091022.GS1399@amok.local>
References: <17540.1131836681@www91.gmx.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <17540.1131836681@www91.gmx.net>
User-Agent: Mutt/1.4i
X-Virus-Scanned: amavisd-new at mail.aurisp.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, Nov 13, 2005 at 12:04:41AM +0100, Karl Koch wrote:
> My aim is to combine this two scores. The Lucenes score is normalisied
> between 0.0 and 1.0 (if the score exceeded 1.0 at some point) or less then
> 1.0 (if it did not). The user model looks the same in this perspective -
> although based on different data - a 1.0 means the maximum of relevance and
> a 0.0 a minimum or relevance. At the moment I am multiplying the Lucene
> score with the score produced by the user model. This means the resulting,
> combiend socre is number between 0.0 and 1.0 and represents the merged view
> from both models - the IR view and the view of the user model.

I came across that question too recently; it seems to be a rather
under-researched topic in the literature. I used multiplication in the
end, because it's simple, it produces reasonable results, it's not
tunable, and it's invariant to normalization. (Don't make a model with
tunable parameters if you don't know how to tune them ...)

The most helpful paper I came across was this:

http://trec.nist.gov/pubs/trec13/papers/microsoft-cambridge.web.hard.pdf

It's about combining PageRank with a relevance score, but it contains
a good description of how they arrived at their scoring formula. They
use a linear combination of the two measures and transform them to
have a roughly similar distribution. They then tuned the parameters
using a test corpus (which may be difficult/impossible for your
application.) Their system was one of the best at TREC-13.

Regards, Sebastian

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

NOTE: New email address! Please update your address book.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 18:39:45 2005
Return-Path: <java-user-return-17461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15419 invoked from network); 13 Nov 2005 18:39:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 18:39:44 -0000
Received: (qmail 113 invoked by uid 500); 13 Nov 2005 18:39:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99988 invoked by uid 500); 13 Nov 2005 18:39:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99977 invoked by uid 99); 13 Nov 2005 18:39:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 10:39:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [137.132.14.22] (HELO smtp.nus.edu.sg) (137.132.14.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 10:39:28 -0800
Received: from [192.168.1.100] ([202.156.255.13]) by smtp.nus.edu.sg over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 14 Nov 2005 02:39:14 +0800
Message-ID: <43778851.4030001@nus.edu.sg>
Date: Mon, 14 Nov 2005 02:39:13 +0800
From: Eugene Ezekiel <u0200783@nus.edu.sg>
User-Agent: Thunderbird 1.4 (Windows/20050908)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Question on queryparser code from Lucene
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 13 Nov 2005 18:39:14.0506 (UTC) FILETIME=[8BDFEAA0:01C5E881]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I got this nagging problem that I can't figure out in the source code of 
Lucene.

In the file org/apache/lucene/queryParser/QueryParser.java,
there's a method called parse that returns a Query (see below):

   public Query parse(String query) throws ParseException {
     ReInit(new FastCharStream(new StringReader(query)));
     try {
       return Query(field);
     }

I don't understand the return statement,
(i) how do we return without instantiation?
(ii) the Query class doesn't have a constructor that is Query(String)?


Thanks. Appreciate any pointers you can give.

-- 
Regards,
Eugene

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 18:56:29 2005
Return-Path: <java-user-return-17462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21433 invoked from network); 13 Nov 2005 18:56:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 18:56:29 -0000
Received: (qmail 14789 invoked by uid 500); 13 Nov 2005 18:56:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14750 invoked by uid 500); 13 Nov 2005 18:56:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14736 invoked by uid 99); 13 Nov 2005 18:56:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 10:56:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 10:56:16 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1EA5C13E2033; Sun, 13 Nov 2005 13:56:03 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id A87D713E2008
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 13:55:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <43778851.4030001@nus.edu.sg>
References: <43778851.4030001@nus.edu.sg>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3744D80C-368C-4697-BE85-1225946EA946@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Question on queryparser code from Lucene
Date: Sun, 13 Nov 2005 13:54:43 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 13 Nov 2005, at 13:39, Eugene Ezekiel wrote:

> I got this nagging problem that I can't figure out in the source  
> code of Lucene.
>
> In the file org/apache/lucene/queryParser/QueryParser.java,
> there's a method called parse that returns a Query (see below):
>
>   public Query parse(String query) throws ParseException {
>     ReInit(new FastCharStream(new StringReader(query)));
>     try {
>       return Query(field);
>     }
>
> I don't understand the return statement,
> (i) how do we return without instantiation?
> (ii) the Query class doesn't have a constructor that is Query(String)?

:)

     Query(field) in this case is a method call.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 19:02:46 2005
Return-Path: <java-user-return-17463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23203 invoked from network); 13 Nov 2005 19:02:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 19:02:45 -0000
Received: (qmail 23096 invoked by uid 500); 13 Nov 2005 19:02:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23072 invoked by uid 500); 13 Nov 2005 19:02:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23061 invoked by uid 99); 13 Nov 2005 19:02:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 11:02:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [137.132.14.22] (HELO smtp.nus.edu.sg) (137.132.14.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 11:02:31 -0800
Received: from [192.168.1.100] ([202.156.255.13]) by smtp.nus.edu.sg over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 14 Nov 2005 03:02:17 +0800
Message-ID: <43778DB7.3080108@nus.edu.sg>
Date: Mon, 14 Nov 2005 03:02:15 +0800
From: Eugene Ezekiel <u0200783@nus.edu.sg>
User-Agent: Thunderbird 1.4 (Windows/20050908)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Question on queryparser code from Lucene
References: <43778851.4030001@nus.edu.sg> <3744D80C-368C-4697-BE85-1225946EA946@ehatchersolutions.com>
In-Reply-To: <3744D80C-368C-4697-BE85-1225946EA946@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 13 Nov 2005 19:02:17.0205 (UTC) FILETIME=[C4070A50:01C5E884]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oh...ok. Where is this method created then, I can't seem to find it in 
QueryParser?


Thanks.

--
Regards,
Eugene

Erik Hatcher wrote:

> 
> :)
> 
>     Query(field) in this case is a method call.
> 
> Erik
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 20:45:26 2005
Return-Path: <java-user-return-17465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19859 invoked from network); 13 Nov 2005 20:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 20:45:25 -0000
Received: (qmail 88632 invoked by uid 500); 13 Nov 2005 20:45:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88486 invoked by uid 500); 13 Nov 2005 20:45:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88208 invoked by uid 99); 13 Nov 2005 20:45:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 12:45:13 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FUZZY_AMBIEN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 12:45:03 -0800
Received: (qmail 32167 invoked by uid 0); 13 Nov 2005 20:44:49 -0000
Received: from 193.63.235.44 by www94.gmx.net with HTTP;
	Sun, 13 Nov 2005 21:44:49 +0100 (MET)
Date: Sun, 13 Nov 2005 21:44:49 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
Cc: java-user@lucene.apache.org
MIME-Version: 1.0
References: <20051113091022.GS1399@amok.local>
Subject: Re: About Combining Scores
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <27477.1131914689@www94.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Sebastian,

thank you for sharing your experience. I am happy that I am not the only
person with this problem. 

I have read the previous paper by Robertson et al

http://citeseer.ist.psu.edu/robertson04simple.html

where he wrote about the danger of using combined scores and provided a
solution via linear combination of TFs before inserting it into the BM25
weighting algoritm. However, this does not apply to my/your problem since it
works only with one sort of scoreing function respectively and not like in
my case with two differen sorts of scoring that are generally different. 

I think the paper you suggested might be closer to my need - although I
doubt it is close enough to inspire me or even to provide some mathematical
justification for simple operations between two scores (like
multiplication). 

Are you aware of any mathematical justification for multiplying the two
scores? Did you have any other motivation behind it besides its simplicity?

Thank you advance!

Kind Regards,
Karl




Regrading your solution, do you have a publication or is there a planned
publication about what you did for your solution? 

> --- Ursprngliche Nachricht ---
> Von: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
> An: java-user@lucene.apache.org
> Betreff: Re: About Combining Scores
> Datum: Sun, 13 Nov 2005 10:10:22 +0100
> 
> On Sun, Nov 13, 2005 at 12:04:41AM +0100, Karl Koch wrote:
> > My aim is to combine this two scores. The Lucenes score is normalisied
> > between 0.0 and 1.0 (if the score exceeded 1.0 at some point) or less
> then
> > 1.0 (if it did not). The user model looks the same in this perspective -
> > although based on different data - a 1.0 means the maximum of relevance
> and
> > a 0.0 a minimum or relevance. At the moment I am multiplying the Lucene
> > score with the score produced by the user model. This means the
> resulting,
> > combiend socre is number between 0.0 and 1.0 and represents the merged
> view
> > from both models - the IR view and the view of the user model.
> 
> I came across that question too recently; it seems to be a rather
> under-researched topic in the literature. I used multiplication in the
> end, because it's simple, it produces reasonable results, it's not
> tunable, and it's invariant to normalization. (Don't make a model with
> tunable parameters if you don't know how to tune them ...)
> 
> The most helpful paper I came across was this:
> 
> http://trec.nist.gov/pubs/trec13/papers/microsoft-cambridge.web.hard.pdf
> 
> It's about combining PageRank with a relevance score, but it contains
> a good description of how they arrived at their scoring formula. They
> use a linear combination of the two measures and transform them to
> have a roughly similar distribution. They then tuned the parameters
> using a test corpus (which may be difficult/impossible for your
> application.) Their system was one of the best at TREC-13.
> 
> Regards, Sebastian
> 
> -- 
> Sebastian Kirsch <skirsch@sebastian-kirsch.org>
> [http://www.sebastian-kirsch.org/]
> 
> NOTE: New email address! Please update your address book.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 20:45:26 2005
Return-Path: <java-user-return-17464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19858 invoked from network); 13 Nov 2005 20:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 20:45:25 -0000
Received: (qmail 88234 invoked by uid 500); 13 Nov 2005 20:45:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87767 invoked by uid 500); 13 Nov 2005 20:45:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87754 invoked by uid 99); 13 Nov 2005 20:45:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 12:45:12 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FUZZY_AMBIEN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 12:45:03 -0800
Received: (qmail 32167 invoked by uid 0); 13 Nov 2005 20:44:49 -0000
Received: from 193.63.235.44 by www94.gmx.net with HTTP;
	Sun, 13 Nov 2005 21:44:49 +0100 (MET)
Date: Sun, 13 Nov 2005 21:44:49 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
Cc: java-user@lucene.apache.org
MIME-Version: 1.0
References: <20051113091022.GS1399@amok.local>
Subject: Re: About Combining Scores
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <27477.1131914689@www94.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Sebastian,

thank you for sharing your experience. I am happy that I am not the only
person with this problem. 

I have read the previous paper by Robertson et al

http://citeseer.ist.psu.edu/robertson04simple.html

where he wrote about the danger of using combined scores and provided a
solution via linear combination of TFs before inserting it into the BM25
weighting algoritm. However, this does not apply to my/your problem since it
works only with one sort of scoreing function respectively and not like in
my case with two differen sorts of scoring that are generally different. 

I think the paper you suggested might be closer to my need - although I
doubt it is close enough to inspire me or even to provide some mathematical
justification for simple operations between two scores (like
multiplication). 

Are you aware of any mathematical justification for multiplying the two
scores? Did you have any other motivation behind it besides its simplicity?

Thank you advance!

Kind Regards,
Karl




Regrading your solution, do you have a publication or is there a planned
publication about what you did for your solution? 

> --- Ursprngliche Nachricht ---
> Von: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
> An: java-user@lucene.apache.org
> Betreff: Re: About Combining Scores
> Datum: Sun, 13 Nov 2005 10:10:22 +0100
> 
> On Sun, Nov 13, 2005 at 12:04:41AM +0100, Karl Koch wrote:
> > My aim is to combine this two scores. The Lucenes score is normalisied
> > between 0.0 and 1.0 (if the score exceeded 1.0 at some point) or less
> then
> > 1.0 (if it did not). The user model looks the same in this perspective -
> > although based on different data - a 1.0 means the maximum of relevance
> and
> > a 0.0 a minimum or relevance. At the moment I am multiplying the Lucene
> > score with the score produced by the user model. This means the
> resulting,
> > combiend socre is number between 0.0 and 1.0 and represents the merged
> view
> > from both models - the IR view and the view of the user model.
> 
> I came across that question too recently; it seems to be a rather
> under-researched topic in the literature. I used multiplication in the
> end, because it's simple, it produces reasonable results, it's not
> tunable, and it's invariant to normalization. (Don't make a model with
> tunable parameters if you don't know how to tune them ...)
> 
> The most helpful paper I came across was this:
> 
> http://trec.nist.gov/pubs/trec13/papers/microsoft-cambridge.web.hard.pdf
> 
> It's about combining PageRank with a relevance score, but it contains
> a good description of how they arrived at their scoring formula. They
> use a linear combination of the two measures and transform them to
> have a roughly similar distribution. They then tuned the parameters
> using a test corpus (which may be difficult/impossible for your
> application.) Their system was one of the best at TREC-13.
> 
> Regards, Sebastian
> 
> -- 
> Sebastian Kirsch <skirsch@sebastian-kirsch.org>
> [http://www.sebastian-kirsch.org/]
> 
> NOTE: New email address! Please update your address book.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
Highspeed-Freiheit. Bei GMX supergnstig, z.B. GMX DSL_Cityflat,
DSL-Flatrate fr nur 4,99 Euro/Monat*  http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 21:56:59 2005
Return-Path: <java-user-return-17466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41278 invoked from network); 13 Nov 2005 21:56:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 21:56:59 -0000
Received: (qmail 38511 invoked by uid 500); 13 Nov 2005 21:56:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38453 invoked by uid 500); 13 Nov 2005 21:56:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38442 invoked by uid 99); 13 Nov 2005 21:56:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 13:56:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 13:56:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C22275B779; Sun, 13 Nov 2005 13:56:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C0FC27F45E
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 13:56:29 -0800 (PST)
Date: Sun, 13 Nov 2005 13:56:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Question on queryparser code from Lucene
In-Reply-To: <43778DB7.3080108@nus.edu.sg>
Message-ID: <Pine.LNX.4.58.0511131353090.26477@hal.rescomp.berkeley.edu>
References: <43778851.4030001@nus.edu.sg> <3744D80C-368C-4697-BE85-1225946EA946@ehatchersolutions.com>
 <43778DB7.3080108@nus.edu.sg>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: Oh...ok. Where is this method created then, I can't seem to find it in
: QueryParser?

grep for "Query Query"



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 22:30:04 2005
Return-Path: <java-user-return-17467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52934 invoked from network); 13 Nov 2005 22:30:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 22:30:02 -0000
Received: (qmail 81439 invoked by uid 500); 13 Nov 2005 22:29:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81025 invoked by uid 500); 13 Nov 2005 22:29:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80999 invoked by uid 99); 13 Nov 2005 22:29:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 14:29:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 14:29:38 -0800
Received: (qmail 29867 invoked by uid 0); 13 Nov 2005 22:29:24 -0000
Received: from 193.63.235.44 by www87.gmx.net with HTTP;
	Sun, 13 Nov 2005 23:29:24 +0100 (MET)
Date: Sun, 13 Nov 2005 23:29:24 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: About searching in multiple fields with one query
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <19580.1131920964@www87.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

I have a question about searching within multiple fields. I have the
following code for doing that (searchFields provides two fields in which I
want to search):

IndexSearcher searcher = new IndexSearcher(indexDirectory);
// search over multiple index fields
Query query = MultiFieldQueryParser.parse(queryString, searchFields,
analyser);
hits = searcher.search(query);

I am wondering how this is done internally (I am using Lucene 1.2). Does
Lucene 1.2 merge the terms of the two fields and create a single score from
this? Or does Lucene 1.2 create a score from each field that is involved and
then calculate a combined score from all those?

Karl

-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 13 23:30:22 2005
Return-Path: <java-user-return-17468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71788 invoked from network); 13 Nov 2005 23:30:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Nov 2005 23:30:21 -0000
Received: (qmail 35136 invoked by uid 500); 13 Nov 2005 23:30:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35085 invoked by uid 500); 13 Nov 2005 23:30:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35074 invoked by uid 99); 13 Nov 2005 23:30:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 15:30:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 15:30:06 -0800
Received: by xproxy.gmail.com with SMTP id t16so1162551wxc
        for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 15:29:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=i6Scry0Sac0UKzCdBInXjjisQDKkjxP9UieAtXRVBrSyBPGL681rD6mnhdnnTWhq9im6xSnI6v55qK7GKjpzad7FckNlSGcEXlefk4UIvzEOPmudFtTvRtrXXUJm7RUAkQ89kkDR3E9GPxEkkcmkA11vQaJX9BEYPAOG4SywYVs=
Received: by 10.65.83.18 with SMTP id k18mr2839868qbl;
        Sun, 13 Nov 2005 15:29:53 -0800 (PST)
Received: by 10.65.147.20 with HTTP; Sun, 13 Nov 2005 15:29:53 -0800 (PST)
Message-ID: <7ca123910511131529j201ac384i7289b651e7a0de4b@mail.gmail.com>
Date: Sun, 13 Nov 2005 15:29:53 -0800
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: About searching in multiple fields with one query
In-Reply-To: <19580.1131920964@www87.gmx.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13621_21578937.1131924593215"
References: <19580.1131920964@www87.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13621_21578937.1131924593215
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Karl,

Looking at the Lucene 1.2 source code, looks to me that the
MultiFieldQueryParser generates a BooleanQuery. Each sub-query with the
BooleanQuery is for one field. The actually calculation of the scoring is
with BooleanScorer.java, where the scores from each sub-query is
accumulated.

So, without going into more details of the BooleanScorer.java, it seems to
me that the Lucene 1.2 creates a score from each field that is involved, an=
d
then, calculate a combined score (simple summation of the scores from each
field).

I like the simplicity with Lucene 1.2, and am considering porting the
compound file format back to Lucene 1.2 so it will be more robust.

Cheers,

Jian

On 11/13/05, Karl Koch <TheRanger@gmx.net> wrote:
>
> Hello all,
>
> I have a question about searching within multiple fields. I have the
> following code for doing that (searchFields provides two fields in which =
I
> want to search):
>
> IndexSearcher searcher =3D new IndexSearcher(indexDirectory);
> // search over multiple index fields
> Query query =3D MultiFieldQueryParser.parse(queryString, searchFields,
> analyser);
> hits =3D searcher.search(query);
>
> I am wondering how this is done internally (I am using Lucene 1.2). Does
> Lucene 1.2 merge the terms of the two fields and create a single score
> from
> this? Or does Lucene 1.2 create a score from each field that is involved
> and
> then calculate a combined score from all those?
>
> Karl
>
> --
> Telefonieren Sie schon oder sparen Sie noch?
> NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_13621_21578937.1131924593215--

From java-user-return-17469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 02:05:32 2005
Return-Path: <java-user-return-17469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17547 invoked from network); 14 Nov 2005 02:05:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 02:05:31 -0000
Received: (qmail 53851 invoked by uid 500); 14 Nov 2005 02:05:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53822 invoked by uid 500); 14 Nov 2005 02:05:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53811 invoked by uid 99); 14 Nov 2005 02:05:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:05:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:05:15 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id B6A8AB7124
	for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 13:04:58 +1100 (EST)
Message-ID: <4377F240.4090004@nuix.com.au>
Date: Mon, 14 Nov 2005 13:11:12 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com>
In-Reply-To: <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin Humphrey wrote:

> You want indexInterval.  Here's an excerpt from the docs in  
> TermInfosWriter.

<snip>
Excellent, that looks like exactly what we're after.  Now, to figure out 
how to set it.

There's no setter that I can see... then again it may be in trunk, and 
just not in the version we're stuck on for the time being.  I can always 
add it as we've patched so much other stuff.

I think though, that I will need a setter on the reader, rather than the 
writer.  That is, I don't know what factor we want until I know how 
large the index is.  And I don't know how large the index will be at the 
time of creating the writer, but I can just ask for maxDoc() at the time 
of opening the reader.

I can't see the obvious place to put such things on the reader end, though.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 02:19:07 2005
Return-Path: <java-user-return-17470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20911 invoked from network); 14 Nov 2005 02:19:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 02:19:06 -0000
Received: (qmail 60453 invoked by uid 500); 14 Nov 2005 02:19:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60426 invoked by uid 500); 14 Nov 2005 02:19:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60415 invoked by uid 99); 14 Nov 2005 02:19:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:19:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:18:52 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EbTyY-000JR5-NM
	for java-user@lucene.apache.org; Sun, 13 Nov 2005 18:21:42 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <4377F240.4090004@nuix.com.au>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Sun, 13 Nov 2005 18:18:38 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 13, 2005, at 6:11 PM, Daniel Noll wrote:

> Now, to figure out how to set it.
>
> There's no setter that I can see... then again it may be in trunk,  
> and just not in the version we're stuck on for the time being.

I haven't checked 1.4.3, but yes, I'm looking at the subversion  
trunk.  It's probably a recent addition.

> I can't see the obvious place to put such things on the reader end,  
> though.

You *can't* set it on the reader end.  If you could set it, the  
reader would get out of sync and break.  The value is set per-segment  
at write time, and the reader has to be able to adapt on the fly.

Best,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 02:27:59 2005
Return-Path: <java-user-return-17471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29021 invoked from network); 14 Nov 2005 02:27:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 02:27:58 -0000
Received: (qmail 65146 invoked by uid 500); 14 Nov 2005 02:27:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65121 invoked by uid 500); 14 Nov 2005 02:27:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65110 invoked by uid 99); 14 Nov 2005 02:27:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:27:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 18:27:45 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8FCA65B795; Sun, 13 Nov 2005 18:27:30 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8E9E37F45E
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 18:27:30 -0800 (PST)
Date: Sun, 13 Nov 2005 18:27:30 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
In-Reply-To: <4377F240.4090004@nuix.com.au>
Message-ID: <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com>
 <4377F240.4090004@nuix.com.au>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I think though, that I will need a setter on the reader, rather than the
: writer.  That is, I don't know what factor we want until I know how
: large the index is.  And I don't know how large the index will be at the
: time of creating the writer, but I can just ask for maxDoc() at the time
: of opening the reader.

I believe if you really want to determine settings like this after
building the index, you'll need to do an initial build the index using
best guess values -- then if the calculations you do once the index is
built aren't close enough to your guesses to satisfy you, change the value
and optimize.

>From what i remember about how optimize works, it creates all new segments
regardless of the previous state of the index -- and those new segments
should use the newly set values.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 03:22:18 2005
Return-Path: <java-user-return-17472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43868 invoked from network); 14 Nov 2005 03:22:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 03:22:17 -0000
Received: (qmail 97265 invoked by uid 500); 14 Nov 2005 03:22:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97238 invoked by uid 500); 14 Nov 2005 03:22:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97227 invoked by uid 99); 14 Nov 2005 03:22:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 19:22:10 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.87] (HELO web90203.mail.scd.yahoo.com) (66.218.94.87)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 19:22:02 -0800
Received: (qmail 43623 invoked by uid 60001); 14 Nov 2005 03:21:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=FmDksdNE1RtY2OPHVvzf1Js5R8OSz2PdnvaiIPRycPVaPZLdjTkrtY5IB5/oriXvSpJJ/xn6jFITxHGlJKrKHi+d/6EoHUcRQCjSZots4dyPzSGSc6xCJ8RS1B7ZokkYfgO6dQ42jZwk/wm1tuhO+b+d0wxK/ZWf/eAISGur89w=  ;
Message-ID: <20051114032149.43621.qmail@web90203.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90203.mail.scd.yahoo.com via HTTP; Sun, 13 Nov 2005 19:21:49 PST
Date: Sun, 13 Nov 2005 19:21:49 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject:  Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I'd like to extract each term and its frequency in the
index and each file in order to get the potential
keywords of each file. Does Lucene provide any
built-in method to do that?

Thank you in advance,

Mungkol




		




	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 04:19:43 2005
Return-Path: <java-user-return-17473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58621 invoked from network); 14 Nov 2005 04:19:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 04:19:43 -0000
Received: (qmail 34697 invoked by uid 500); 14 Nov 2005 04:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34664 invoked by uid 500); 14 Nov 2005 04:19:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34652 invoked by uid 99); 14 Nov 2005 04:19:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 20:19:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [199.43.38.101] (HELO mlnya403er.ml.com) (199.43.38.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 20:19:29 -0800
Received: from MLNYB851BH.amrs.win.ml.com (unknown [146.125.94.129])
	by mlnya403er.ml.com (Postfix) with ESMTP id 2F5DF120001F5
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 23:19:15 -0500 (EST)
Received: from mlnyb802bh.amrs.win.ml.com ([146.125.97.61]) by MLNYB851BH.amrs.win.ml.com with Microsoft SMTPSVC(5.0.2195.6713); Sun, 13 Nov 2005 23:19:14 -0500
Received: from mlnyb706mb.amrs.win.ml.com ([146.125.92.6]) by mlnyb802bh.amrs.win.ml.com with Microsoft SMTPSVC(5.0.2195.6713); Sun, 13 Nov 2005 23:19:14 -0500
Importance: normal
Priority: normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Large Indexes
Date: Sun, 13 Nov 2005 23:19:14 -0500
Message-ID: <82D2BB25EFABA3478B75FF11C88148D518D90651@mlnyb706mb.amrs.win.ml.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Large Indexes
thread-index: AcXoyqzZwUc11j+hSjyzBejZMWl7ygAB3K+g
From: "Friedland, Zachary (EDS - Strategy)" <zachary_friedland@ml.com>
To: <java-user@lucene.apache.org>
Cc: "Bautis, Marc (EDS - Production Support)" <marc_bautis@ml.com>
X-OriginalArrivalTime: 14 Nov 2005 04:19:14.0742 (UTC) FILETIME=[926E8560:01C5E8D2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What is the largest lucene index that has been built?  We're looking to
build a sort of data warehouse that will hold transaction log files as
long as possible.  This index would grow at the rate of 10 million
documents per month indefinitely.  Is there a limit where lucene will
fail?  What should we expect to happen as this index grows?

Thank you in advance,
Zach
--------------------------------------------------------

If you are not an intended recipient of this e-mail, please notify the =
sender, delete it and do not read, act upon, print, disclose, copy, =
retain or redistribute it. Click here for important additional terms =
relating to this e-mail.     http://www.ml.com/email_terms/
--------------------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 04:36:49 2005
Return-Path: <java-user-return-17474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63005 invoked from network); 14 Nov 2005 04:36:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 04:36:48 -0000
Received: (qmail 39903 invoked by uid 500); 14 Nov 2005 04:36:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39878 invoked by uid 500); 14 Nov 2005 04:36:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39867 invoked by uid 99); 14 Nov 2005 04:36:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 20:36:42 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 20:36:34 -0800
Received: (qmail 72456 invoked by uid 60001); 14 Nov 2005 04:36:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1/OImIjgeFll69vK6pI6PelfHMJAHNx3iuPu/uIXdfGYFZUL58Tl8JZFcKzHzH1XdO4D631RPVd8aVgW/3aXIsA60R22Ce8vYA9xCQKPhxlH3R6dIyViH4BuHhZctrhAkCMM/DhYQwLAlGxI2oF3JHg65wp5cg0KwST6XK5vXYs=  ;
Message-ID: <20051114043620.72454.qmail@web50314.mail.yahoo.com>
Received: from [69.201.142.21] by web50314.mail.yahoo.com via HTTP; Sun, 13 Nov 2005 20:36:20 PST
Date: Sun, 13 Nov 2005 20:36:20 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org
In-Reply-To: <20051114032149.43621.qmail@web90203.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Check out Lucene from CVS and look in the contrib/ directory:

contrib/miscellaneous/src/java/org/apache/lucene/misc/HighFreqTerms.java

Otis


--- Supheakmungkol SARIN <supheakmungkol@yahoo.com> wrote:

> Dear all,
> 
> I'd like to extract each term and its frequency in the
> index and each file in order to get the potential
> keywords of each file. Does Lucene provide any
> built-in method to do that?
> 
> Thank you in advance,
> 
> Mungkol
> 
> 
> 
> 
> 		
> 
> 
> 
> 
> 	
> 		
> __________________________________ 
> Yahoo! Mail - PC Magazine Editors' Choice 2005 
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 04:41:25 2005
Return-Path: <java-user-return-17475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64453 invoked from network); 14 Nov 2005 04:41:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 04:41:25 -0000
Received: (qmail 42998 invoked by uid 500); 14 Nov 2005 04:41:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42980 invoked by uid 500); 14 Nov 2005 04:41:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42969 invoked by uid 99); 14 Nov 2005 04:41:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 20:41:18 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 20:41:09 -0800
Received: (qmail 76768 invoked by uid 60001); 14 Nov 2005 04:40:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VA5ZOwlvUpFuaIcdDwURAn/AdPxhD8mT4xAstHE2Nq3fnwlau7isRDy9t7UgYKN2oUf0VqEzqqtfOcj90h06Bn7+P+2Z6KPIrwKYpHyyXtyR4JAUqZh90DwUhD2y6vvbTrriJqXh+8oH9krxp9Ukq1M4HVnpdgBLCoKo6f/7p3o=  ;
Message-ID: <20051114044055.76766.qmail@web50303.mail.yahoo.com>
Received: from [69.201.142.21] by web50303.mail.yahoo.com via HTTP; Sun, 13 Nov 2005 20:40:55 PST
Date: Sun, 13 Nov 2005 20:40:55 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Large Indexes
To: java-user@lucene.apache.org
In-Reply-To: <82D2BB25EFABA3478B75FF11C88148D518D90651@mlnyb706mb.amrs.win.ml.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Largest index?  Who knows! :)
Lucene's internal limit is the size of the doc Id (max Integer).

People typically roll their indices when they reach a certain size, but
if you don't need your queries to be fast and always need all the data,
then this may not make sense for you (well, it still may, as you can
distribute such indices over multiple machines and query them in
parallel, aggregating the results).

What to expect?  Slower queries, longer optimization, more disk space,
higher memory usage (larget .tii read in memory), the usual stuff.

Otis

--- "Friedland, Zachary (EDS - Strategy)" <zachary_friedland@ml.com>
wrote:

> What is the largest lucene index that has been built?  We're looking
> to
> build a sort of data warehouse that will hold transaction log files
> as
> long as possible.  This index would grow at the rate of 10 million
> documents per month indefinitely.  Is there a limit where lucene will
> fail?  What should we expect to happen as this index grows?
> 
> Thank you in advance,
> Zach
> --------------------------------------------------------
> 
> If you are not an intended recipient of this e-mail, please notify
> the sender, delete it and do not read, act upon, print, disclose,
> copy, retain or redistribute it. Click here for important additional
> terms relating to this e-mail.     http://www.ml.com/email_terms/
> --------------------------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 05:12:36 2005
Return-Path: <java-user-return-17476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81020 invoked from network); 14 Nov 2005 05:12:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 05:12:34 -0000
Received: (qmail 63277 invoked by uid 500); 14 Nov 2005 05:12:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63242 invoked by uid 500); 14 Nov 2005 05:12:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63220 invoked by uid 99); 14 Nov 2005 05:12:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 21:12:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.84] (HELO smtpout.mac.com) (17.250.248.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 21:12:14 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/8.12.11/smtpout08/MantshX 4.0) with ESMTP id jAE5C1DI001634
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 21:12:01 -0800 (PST)
Received: from [17.219.207.8] ([17.219.207.8])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id jAE5C0vm022866
	for <java-user@lucene.apache.org>; Sun, 13 Nov 2005 21:12:01 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <82D2BB25EFABA3478B75FF11C88148D518D90651@mlnyb706mb.amrs.win.ml.com>
References: <82D2BB25EFABA3478B75FF11C88148D518D90651@mlnyb706mb.amrs.win.ml.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <e358cb1fbffd6f837c60044ffba25c5b@mac.com>
Content-Transfer-Encoding: 7bit
From: Charles Lloyd <charlesclloyd@mac.com>
Subject: Re: Large Indexes
Date: Sun, 13 Nov 2005 21:12:01 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Nov 13, 2005, at 8:19 PM, Friedland, Zachary (EDS - Strategy) wrote:
> What is the largest lucene index that has been built?  We're looking to
> build a sort of data warehouse that will hold transaction log files as
> long as possible.  This index would grow at the rate of 10 million
> documents per month indefinitely.  Is there a limit where lucene will
> fail?  What should we expect to happen as this index grows?

Our index has about 3 million documents and is about 11 Gig in size.  
It has become unwieldy to manage at that size so I have been working to 
reduce the size of our Stored data and it looks like we're going to get 
the index size down below 2 Gig.  The overall performance directly 
seems to correlate the to the size of the index.  Try to keep your 
Stored fields minimal as it would appear that the number of documents 
is far less an issue than the physical size of the index file.  At some 
point, we will probably start to split our index if it gets above 5 Gig 
again.  However, my initial tests with the MultiReader have been 
disappointing.  Hopefully, a faster MultiReader will be available by 
the time we cross that bridge.

Charles.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 05:20:23 2005
Return-Path: <java-user-return-17477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83419 invoked from network); 14 Nov 2005 05:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 05:20:23 -0000
Received: (qmail 66346 invoked by uid 500); 14 Nov 2005 05:20:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66322 invoked by uid 500); 14 Nov 2005 05:20:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66311 invoked by uid 99); 14 Nov 2005 05:20:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 21:20:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 21:20:09 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EbWo2-000JeW-3x
	for java-user@lucene.apache.org; Sun, 13 Nov 2005 21:23:02 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7A461D67-09D9-4751-A80D-48706B410B0B@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Sun, 13 Nov 2005 21:19:56 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 13, 2005, at 6:27 PM, Chris Hostetter wrote:

> I believe if you really want to determine settings like this after
> building the index, you'll need to do an initial build the index using
> best guess values -- then if the calculations you do once the index is
> built aren't close enough to your guesses to satisfy you, change  
> the value
> and optimize.

Good tip.  :)

>> From what i remember about how optimize works, it creates all new  
>> segments
> regardless of the previous state of the index -- and those new  
> segments
> should use the newly set values.

Yes, it will use the new values.  The one caveat is that if the index  
is already optimized, calling optimize() won't do anything.  Adding  
or deleting a single document is enough to trigger a rewrite, though.

Daniel, under the hood, there are two term dictionary files, with  
nearly identical structures: the main .tis file, and the index .tii  
file. (Mnemonic: .tis is TermInfoS, and .tii is TermInfosIndex.) If  
indexInterval is set to the default of 128, then the .tii file  
contains every 128th entry from the main file, plus a pointer to  
where that entry is located in the main file.

When you load up an IndexReader, the entire .tii file gets  
decompressed and loaded into RAM.  The number of entries in the .tii  
file corresponds directly to the RAM footprint.  If you want less RAM  
usage, that file has to get smaller.

Hoss's solution is the fastest way to find the best values for  
indexInterval -- you're rewriting the entire index, but it's faster  
than reindexing from scratch because you don't need to redo the IO or  
the analysis.  Few people will find it useful to tinker with this,  
but you're the exception, and I'll be interested to hear about your  
findings.

Best,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 05:47:14 2005
Return-Path: <java-user-return-17478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92683 invoked from network); 14 Nov 2005 05:47:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 05:47:14 -0000
Received: (qmail 79852 invoked by uid 500); 14 Nov 2005 05:47:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79827 invoked by uid 500); 14 Nov 2005 05:47:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79816 invoked by uid 99); 14 Nov 2005 05:47:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 21:47:08 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.90] (HELO web90206.mail.scd.yahoo.com) (66.218.94.90)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 21:47:00 -0800
Received: (qmail 75199 invoked by uid 60001); 14 Nov 2005 05:46:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=OQeQR0ZaPec6HcpCnZiIqea7RNAJGeB3IDAZtfVWdfv5PagdX5NRK66TOeQ+PND1dKpO2pbYLINChb33xThBo94adeNcGdZlnxv+56jorQ+3vxhNyhDNw1lJtlvRbW8tLyZTSOuui8X0byWx3sGwzutwp/TjbYTsk2ta4ZE8Fko=  ;
Message-ID: <20051114054647.75197.qmail@web90206.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90206.mail.scd.yahoo.com via HTTP; Sun, 13 Nov 2005 21:46:47 PST
Date: Sun, 13 Nov 2005 21:46:47 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: Re: Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org
In-Reply-To: <20051114043620.72454.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your help.

By the way does Lucene provide any API to retrieve the
average frequecy of a term in the index directly? My
goal is to compare the freq. of a term in a doc. with
the average freq. of that term of all the indexed doc.
in order to retrieve the good keywords. 

Regards,

Mungkol

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> Check out Lucene from CVS and look in the contrib/
> directory:
> 
>
contrib/miscellaneous/src/java/org/apache/lucene/misc/HighFreqTerms.java
> 
> Otis
> 
> 
> --- Supheakmungkol SARIN <supheakmungkol@yahoo.com>
> wrote:
> 
> > Dear all,
> > 
> > I'd like to extract each term and its frequency in
> the
> > index and each file in order to get the potential
> > keywords of each file. Does Lucene provide any
> > built-in method to do that?
> > 
> > Thank you in advance,
> > 
> > Mungkol
> > 
> > 
> > 
> > 
> > 		
> > 
> > 
> > 
> > 
> > 	
> > 		
> > __________________________________ 
> > Yahoo! Mail - PC Magazine Editors' Choice 2005 
> > http://mail.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 





	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 06:02:19 2005
Return-Path: <java-user-return-17479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98096 invoked from network); 14 Nov 2005 06:02:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 06:02:19 -0000
Received: (qmail 89128 invoked by uid 500); 14 Nov 2005 06:02:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88221 invoked by uid 500); 14 Nov 2005 06:02:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88210 invoked by uid 99); 14 Nov 2005 06:02:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 22:02:14 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.88] (HELO web90204.mail.scd.yahoo.com) (66.218.94.88)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 22:02:06 -0800
Received: (qmail 41112 invoked by uid 60001); 14 Nov 2005 06:01:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fzpZn+a1Dutxi4X+77zfOmwvPvg/RISkq/zQtzpn8Ekud0BpdowWVemzJzdnaCMwNgXvDMNf68wFzysW+vC1dcAglEqALI91pZnQXCa5kblyT7JBxxwCy+jGWnfphzWB0D+9SEZRoEd8P6O4IFlV1+5yiOkWe1Cx8SeneIFrxZk=  ;
Message-ID: <20051114060152.41110.qmail@web90204.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90204.mail.scd.yahoo.com via HTTP; Sun, 13 Nov 2005 22:01:52 PST
Date: Sun, 13 Nov 2005 22:01:52 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: How to add more stopwords to StandardAnalyzer
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I'd like to add some other stopwords to the
StandardAnalyzer. How do i do this?

Thanks a lot in advance,

Mungkol





		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 06:09:00 2005
Return-Path: <java-user-return-17480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1499 invoked from network); 14 Nov 2005 06:09:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 06:09:00 -0000
Received: (qmail 92785 invoked by uid 500); 14 Nov 2005 06:08:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92085 invoked by uid 500); 14 Nov 2005 06:08:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92070 invoked by uid 99); 14 Nov 2005 06:08:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 22:08:54 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 13 Nov 2005 22:08:45 -0800
Received: (qmail 4122 invoked by uid 60001); 14 Nov 2005 06:08:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=nuVMB69aeh/acyIM/HKA+C5xJ8/PWI7rTsiDPItjQIM27z4NjdSxnbyBAgGij0p4JPb94LoB3GU7MNRNrIlp8vg4oOq2P+JLFCmpA3w1C+Y+QM8BQJmHsPte3v+HQYsUfaQ6LrvkgoI8gqDO6XNq1VAHCt0OWfJssl03FR1bnEY=  ;
Message-ID: <20051114060832.4120.qmail@web50314.mail.yahoo.com>
Received: from [69.201.142.21] by web50314.mail.yahoo.com via HTTP; Sun, 13 Nov 2005 22:08:32 PST
Date: Sun, 13 Nov 2005 22:08:32 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org, supheakmungkol.sarin@gmail.com
In-Reply-To: <20051114054647.75197.qmail@web90206.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Overall avg. freq.?  No, but you should be able to calculate that
yourself.

Otis

--- Supheakmungkol SARIN <supheakmungkol@yahoo.com> wrote:

> Thanks for your help.
> 
> By the way does Lucene provide any API to retrieve the
> average frequecy of a term in the index directly? My
> goal is to compare the freq. of a term in a doc. with
> the average freq. of that term of all the indexed doc.
> in order to retrieve the good keywords. 
> 
> Regards,
> 
> Mungkol
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> 
> > Check out Lucene from CVS and look in the contrib/
> > directory:
> > 
> >
>
contrib/miscellaneous/src/java/org/apache/lucene/misc/HighFreqTerms.java
> > 
> > Otis
> > 
> > 
> > --- Supheakmungkol SARIN <supheakmungkol@yahoo.com>
> > wrote:
> > 
> > > Dear all,
> > > 
> > > I'd like to extract each term and its frequency in
> > the
> > > index and each file in order to get the potential
> > > keywords of each file. Does Lucene provide any
> > > built-in method to do that?
> > > 
> > > Thank you in advance,
> > > 
> > > Mungkol
> > > 
> > > 
> > > 
> > > 
> > > 		
> > > 
> > > 
> > > 
> > > 
> > > 	
> > > 		
> > > __________________________________ 
> > > Yahoo! Mail - PC Magazine Editors' Choice 2005 
> > > http://mail.yahoo.com
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > > 
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> 
> 
> 
> 	
> 		
> __________________________________ 
> Yahoo! Mail - PC Magazine Editors' Choice 2005 
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 06:17:16 2005
Return-Path: <java-user-return-17481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7379 invoked from network); 14 Nov 2005 06:17:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 06:17:16 -0000
Received: (qmail 6533 invoked by uid 500); 14 Nov 2005 06:17:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6257 invoked by uid 500); 14 Nov 2005 06:17:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6246 invoked by uid 99); 14 Nov 2005 06:17:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 22:17:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Nov 2005 22:16:59 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 58CF7B7124
	for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 17:16:42 +1100 (EST)
Message-ID: <43782D40.2070808@nuix.com.au>
Date: Mon, 14 Nov 2005 17:22:56 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:

>: I think though, that I will need a setter on the reader, rather than the
>: writer.  That is, I don't know what factor we want until I know how
>: large the index is.  And I don't know how large the index will be at the
>: time of creating the writer, but I can just ask for maxDoc() at the time
>: of opening the reader.
>
>I believe if you really want to determine settings like this after
>building the index, you'll need to do an initial build the index using
>best guess values -- then if the calculations you do once the index is
>built aren't close enough to your guesses to satisfy you, change the value
>and optimize.
>  
>
Okay, I've gone and revised how things are fitting together in our app.  
It seems that we already call optimize() at the end of all the 
processing, before which I could figure out what kind of value we should 
be using and call this setter method which I'll patch into the version 
we're running.

My logic will probably just say that each index is allowed to store X 
terms, so if the number of terms is greater than some value, I'll double 
the indexInterval until it comes to some amount which _should_ fit under 
that size.

I'm still thinking of some way to recognise text which is clearly not 
useful, which might just end up being based on the length of the word.  
If I truncated all words to 30 characters in the analyser, that should 
drop the average word length and get us some memory savings there.  If I 
can also remove smaller junk words, we'll save even more space due to 
having less terms in total (I figure that tens of millions of terms is 
unrealistic, yet that's the number of terms we're currently indexing.)

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 08:23:27 2005
Return-Path: <java-user-return-17482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71157 invoked from network); 14 Nov 2005 08:23:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 08:23:27 -0000
Received: (qmail 83602 invoked by uid 500); 14 Nov 2005 08:23:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83580 invoked by uid 500); 14 Nov 2005 08:23:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83557 invoked by uid 99); 14 Nov 2005 08:23:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 00:23:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lasse.lindgaard@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 00:23:12 -0800
Received: by wproxy.gmail.com with SMTP id i14so1205524wra
        for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 00:22:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PZPAurJ0TnqBYNio4rsXZhU73kF90wJk4Su7J2GGdsKHP3f4W3dZnTtSRPY3odVY+JRhGDpX5DSOfOcZLGGXxyspN+0OzVztwA1R4kOZNrkpQnRqatRp3bNlupeQ4z44s/H26aOkhG2FDvc0pkt4m9cmlII1PL5nOSg/KAjaPbo=
Received: by 10.54.146.17 with SMTP id t17mr3242541wrd;
        Mon, 14 Nov 2005 00:22:58 -0800 (PST)
Received: by 10.54.147.17 with HTTP; Mon, 14 Nov 2005 00:22:58 -0800 (PST)
Message-ID: <300d7b190511140022x626d7f21l661e4add4a71046b@mail.gmail.com>
Date: Mon, 14 Nov 2005 09:22:58 +0100
From: Lasse L <lasse.lindgaard@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Max score of two fields
In-Reply-To: <Pine.LNX.4.58.0511111346240.32162@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <300d7b190511111027g7c6c98f6j51bb7418b012cea@mail.gmail.com>
	 <200511112001.48201.paul.elschot@xs4all.nl>
	 <Pine.LNX.4.58.0511111346240.32162@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I forgot to mention that I never have to search in the old_name alone.
I either search in current_name alone or current_name OR old_name.

Realizing that, lead me to the simple solution of duplicating whatever
I put into a current field into the old fields too. So the info in the
fields with old_ prefix is actually both old and current. That saves
me the boolean query that skewed the ratings.

Thank you for your time

/Lasse

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 08:54:38 2005
Return-Path: <java-user-return-17483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92000 invoked from network); 14 Nov 2005 08:54:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 08:54:35 -0000
Received: (qmail 19060 invoked by uid 500); 14 Nov 2005 08:54:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18743 invoked by uid 500); 14 Nov 2005 08:54:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18720 invoked by uid 99); 14 Nov 2005 08:54:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 00:54:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (asf.osuosl.org: local policy)
Received: from [195.62.205.250] (HELO staf-exm-01.ardentia.co.uk) (195.62.205.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 00:54:11 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: RE: Performance Question
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 14 Nov 2005 08:55:28 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE05A513@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance Question
Thread-Index: AcXnKidQGMZBQNQuSTyG7yUtgvDyBQBzrpMg
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for this, I did not really explain my self well in the original
question, what I was interested to know is would a single Searcher
constructed from a MultiReader (across several different indexes) work
better than a MultiSearcher constructed from IndexSearchers each
pointing at a single index?

Thanks

Mike

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: 12 November 2005 01:39
To: java-user@lucene.apache.org
Subject: Re: Performance Question

Look at IndexReader.open()
It actually uses a MultiReader if there are multiple segments.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/11/05, Charles Lloyd <charlesclloyd@mac.com> wrote:
> You should run your own tests, but I found the MultiReader to be
slower
> than a regular IndexReader.  I was running on a dual-cpu box and two
> separate disk drives.
>
> Charles.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 09:29:00 2005
Return-Path: <java-user-return-17484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12021 invoked from network); 14 Nov 2005 09:29:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 09:29:00 -0000
Received: (qmail 56556 invoked by uid 500); 14 Nov 2005 09:28:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56509 invoked by uid 500); 14 Nov 2005 09:28:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56493 invoked by uid 99); 14 Nov 2005 09:28:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 01:28:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.56.74] (HELO mail.synechron.com) (69.20.56.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 01:28:44 -0800
Received: from [10.30.2.42] [203.199.143.213] by mail.synechron.com with ESMTP
  (SMTPD32-8.15) id A8B048E300DC; Mon, 14 Nov 2005 04:28:16 -0500
Message-ID: <437858B7.1060203@synechron.com>
Date: Mon, 14 Nov 2005 14:58:23 +0530
From: amolb <amolb@synechron.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (X11/20041209)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: FileNotFoundException while indexing data 
References: <20051114032149.43621.qmail@web90203.mail.scd.yahoo.com>
In-Reply-To: <20051114032149.43621.qmail@web90203.mail.scd.yahoo.com>
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-IMSTrailer: __IMail_7__
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,
I am trying to index arround 10 lacs user records, but my indexing 
application is failing with following exception after around 5 lacs user 
records. If I rerun it fails to the same record. I tried to skip the 
record, but that does not help. I tried to get help from google, but few 
such posts does not have answers ( e.g jguru ) or few answers are not 
helping me. I am going to try running this on linux, will update you on 
the results, but Please give me some pointers to solve this problem.
thanks
Amol

java.io.FileNotFoundException: C:\indexdata\_17ug.fdt (The system cannot 
find the file specified)

      at java.io.RandomAccessFile.open(_Native Method_)

      at java.io.RandomAccessFile.<init>(_RandomAccessFile.java:204_)

      at 
org.apache.lucene.store.FSInputStream$Descriptor.<init>(_FSDirectory.java:376_)

      at 
org.apache.lucene.store.FSInputStream.<init>(_FSDirectory.java:405_)

      at 
org.apache.lucene.store.FSDirectory.openFile(_FSDirectory.java:268_)

      at 
org.apache.lucene.index.CompoundFileWriter.copyFile(_CompoundFileWriter.java:198_)

      at 
org.apache.lucene.index.CompoundFileWriter.close(_CompoundFileWriter.java:163_)


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 11:03:22 2005
Return-Path: <java-user-return-17485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79790 invoked from network); 14 Nov 2005 11:03:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 11:03:20 -0000
Received: (qmail 45106 invoked by uid 500); 14 Nov 2005 11:03:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44892 invoked by uid 500); 14 Nov 2005 11:02:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43697 invoked by uid 99); 14 Nov 2005 11:02:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 03:02:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 03:02:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5BB6D13E2008; Mon, 14 Nov 2005 06:02:25 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 0B17413E2005
	for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 06:02:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051114060152.41110.qmail@web90204.mail.scd.yahoo.com>
References: <20051114060152.41110.qmail@web90204.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E7D249F2-DD43-4587-8406-A61F93FE1367@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to add more stopwords to StandardAnalyzer
Date: Mon, 14 Nov 2005 06:02:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 14 Nov 2005, at 01:01, Supheakmungkol SARIN wrote:
> I'd like to add some other stopwords to the
> StandardAnalyzer. How do i do this?

Have a look at the constructor of StandardAnalyzer that accepts a  
String[] of stop words.  If you use that, you will replace the stop  
word list that is used by default.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 11:21:22 2005
Return-Path: <java-user-return-17486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97054 invoked from network); 14 Nov 2005 11:21:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 11:21:22 -0000
Received: (qmail 77258 invoked by uid 500); 14 Nov 2005 11:21:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77231 invoked by uid 500); 14 Nov 2005 11:21:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77220 invoked by uid 99); 14 Nov 2005 11:21:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 03:21:16 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.87] (HELO web90203.mail.scd.yahoo.com) (66.218.94.87)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Nov 2005 03:21:07 -0800
Received: (qmail 26354 invoked by uid 60001); 14 Nov 2005 11:20:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Cut0gYwNZwE9LfF+EyWlqwXsoQ2k8bEibHqJZyQT2LfSGRP7eTQmjdG0Iwo6KlkXNQLI8jHeZf2Wzao6WldyRVI4+ag7/Hy9UgdwaSKAyYXkolqqoZNVi3M+2NMbcuJFrjw5edqCvXo607+rubb2kHY2MHCdTRn7VnC4yq/fqic=  ;
Message-ID: <20051114112055.26352.qmail@web90203.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90203.mail.scd.yahoo.com via HTTP; Mon, 14 Nov 2005 03:20:54 PST
Date: Mon, 14 Nov 2005 03:20:54 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: Re: How to add more stopwords to StandardAnalyzer
To: java-user@lucene.apache.org
In-Reply-To: <E7D249F2-DD43-4587-8406-A61F93FE1367@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That is the problem as I want to add more stopwords to
the default stopwords of StandardAnalyzer.

Regards,

Mungkol

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> 
> On 14 Nov 2005, at 01:01, Supheakmungkol SARIN
> wrote:
> > I'd like to add some other stopwords to the
> > StandardAnalyzer. How do i do this?
> 
> Have a look at the constructor of StandardAnalyzer
> that accepts a  
> String[] of stop words.  If you use that, you will
> replace the stop  
> word list that is used by default.
> 
>      Erik
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 





		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 12:00:43 2005
Return-Path: <java-user-return-17487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12449 invoked from network); 14 Nov 2005 12:00:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 12:00:42 -0000
Received: (qmail 9527 invoked by uid 500); 14 Nov 2005 12:00:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9502 invoked by uid 500); 14 Nov 2005 12:00:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9491 invoked by uid 99); 14 Nov 2005 12:00:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 04:00:37 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Nov 2005 04:00:28 -0800
Received: (qmail 23609 invoked by uid 0); 14 Nov 2005 12:00:11 -0000
Received: from 193.63.235.44 by www15.gmx.net with HTTP;
	Mon, 14 Nov 2005 13:00:12 +0100 (MET)
Date: Mon, 14 Nov 2005 13:00:12 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <7ca123910511131529j201ac384i7289b651e7a0de4b@mail.gmail.com>
Subject: Re: About searching in multiple fields with one query
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <30847.1131969612@www15.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jian,

Are you sure of that? This would be quite a bad thing to do. I am refering
to the paper by Robertson at al

http://citeseer.ist.psu.edu/robertson04simple.html

in which it is shown that summing up of multiple scores violates a number of
basic assumptions in TF/IDF. Although it is shown on the BM25 algorithm it
is generalisable to a scoring function like the one used in Lucene.

Karl



> --- Ursprngliche Nachricht ---
> Von: jian chen <chenjian1227@gmail.com>
> An: java-user@lucene.apache.org
> Betreff: Re: About searching in multiple fields with one query
> Datum: Sun, 13 Nov 2005 15:29:53 -0800
> 
> Hi, Karl,
> 
> Looking at the Lucene 1.2 source code, looks to me that the
> MultiFieldQueryParser generates a BooleanQuery. Each sub-query with the
> BooleanQuery is for one field. The actually calculation of the scoring is
> with BooleanScorer.java, where the scores from each sub-query is
> accumulated.
> 
> So, without going into more details of the BooleanScorer.java, it seems to
> me that the Lucene 1.2 creates a score from each field that is involved,
> and
> then, calculate a combined score (simple summation of the scores from each
> field).
> 
> I like the simplicity with Lucene 1.2, and am considering porting the
> compound file format back to Lucene 1.2 so it will be more robust.
> 
> Cheers,
> 
> Jian
> 
> On 11/13/05, Karl Koch <TheRanger@gmx.net> wrote:
> >
> > Hello all,
> >
> > I have a question about searching within multiple fields. I have the
> > following code for doing that (searchFields provides two fields in which
> I
> > want to search):
> >
> > IndexSearcher searcher = new IndexSearcher(indexDirectory);
> > // search over multiple index fields
> > Query query = MultiFieldQueryParser.parse(queryString, searchFields,
> > analyser);
> > hits = searcher.search(query);
> >
> > I am wondering how this is done internally (I am using Lucene 1.2). Does
> > Lucene 1.2 merge the terms of the two fields and create a single score
> > from
> > this? Or does Lucene 1.2 create a score from each field that is involved
> > and
> > then calculate a combined score from all those?
> >
> > Karl
> >
> > --
> > Telefonieren Sie schon oder sparen Sie noch?
> > NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 

-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 14:56:30 2005
Return-Path: <java-user-return-17488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 509 invoked from network); 14 Nov 2005 14:45:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 14:45:35 -0000
Received: (qmail 44393 invoked by uid 500); 14 Nov 2005 14:43:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44214 invoked by uid 500); 14 Nov 2005 14:43:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44185 invoked by uid 99); 14 Nov 2005 14:43:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 06:43:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 06:43:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C51D413E203F; Mon, 14 Nov 2005 09:43:21 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6690C13E2033
	for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 09:43:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051114112055.26352.qmail@web90203.mail.scd.yahoo.com>
References: <20051114112055.26352.qmail@web90203.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <14E81898-8A64-4634-9449-ACD8AE53EDC9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to add more stopwords to StandardAnalyzer
Date: Mon, 14 Nov 2005 09:43:16 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 14 Nov 2005, at 06:20, Supheakmungkol SARIN wrote:
> That is the problem as I want to add more stopwords to
> the default stopwords of StandardAnalyzer.

No problem.... get the list, create a larger array and add yours to  
it.   The StandardAnalyzer uses this stop list by default:

      public static final String[] STOP_WORDS =  
StopAnalyzer.ENGLISH_STOP_WORDS;



>
> Regards,
>
> Mungkol
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
>>
>> On 14 Nov 2005, at 01:01, Supheakmungkol SARIN
>> wrote:
>>
>>> I'd like to add some other stopwords to the
>>> StandardAnalyzer. How do i do this?
>>>
>>
>> Have a look at the constructor of StandardAnalyzer
>> that accepts a
>> String[] of stop words.  If you use that, you will
>> replace the stop
>> word list that is used by default.
>>
>>      Erik
>>
>>
>>
>>
>>
> ---------------------------------------------------------------------
>
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
>
>
>
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 17:05:50 2005
Return-Path: <java-user-return-17489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97770 invoked from network); 14 Nov 2005 17:05:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 17:05:49 -0000
Received: (qmail 14967 invoked by uid 500); 14 Nov 2005 17:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14947 invoked by uid 500); 14 Nov 2005 17:05:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14936 invoked by uid 99); 14 Nov 2005 17:05:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 09:05:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 09:05:33 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1Ebhoq-000KZc-Ca
	for java-user@lucene.apache.org; Mon, 14 Nov 2005 09:08:36 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43782D40.2070808@nuix.com.au>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <Pine.LNX.4.58.0511131822240.4431@hal.rescomp.berkeley.edu> <43782D40.2070808@nuix.com.au>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C30957A3-3CF0-4652-8203-5509ADCDCFA4@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Mon, 14 Nov 2005 09:05:18 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 13, 2005, at 10:22 PM, Daniel Noll wrote:
>>
> Okay, I've gone and revised how things are fitting together in our  
> app.  It seems that we already call optimize() at the end of all  
> the processing, before which I could figure out what kind of value  
> we should be using and call this setter method which I'll patch  
> into the version we're running.

That may be a little tricky... indexInterval is set at the  
IndexWriter level, but it has to propagate downwards.  Where it  
actually makes a difference is in TermInfosWriter.  (TermInfosWriter  
creates a doppelganger and adds a term to the doppelganger every loop  
iter modulo indexInterval.)  IIRC, it has to get there via a chain of  
two constructors.  Those constructors might be the same in in 1.4.3,  
but probably not, if indexInterval wasn't settable then.  I think  
this number used to be a constant at one time.  This stuff is all  
implementation details in private classes, so we're talking  
unsupported hackery... if updating to the current trunk isn't  
feasible, it may not be worth it.

> My logic will probably just say that each index is allowed to store  
> X terms, so if the number of terms is greater than some value, I'll  
> double the indexInterval until it comes to some amount which  
> _should_ fit under that size.

Sure.  You're just increasing the number of terms the search app has  
to scan through in the .tis file after it gets in the ballpark by  
consulting the cached .tii information.

> If I can also remove smaller junk words, we'll save even more space  
> due to having less terms in total

Hmm... have you not experimented with stoplists, in StopFilter,  
StopAnalyzer, or StandardAnalyzer?  If you haven't, you almost  
certainly want to do that before asking for trouble by kludging  
setIndexInterval into 1.4.3.  The internals of TermInfosWriter are  
quite complex.

Best,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 17:19:35 2005
Return-Path: <java-user-return-17490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5597 invoked from network); 14 Nov 2005 17:19:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 17:19:35 -0000
Received: (qmail 43674 invoked by uid 500); 14 Nov 2005 17:19:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43654 invoked by uid 500); 14 Nov 2005 17:19:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43643 invoked by uid 99); 14 Nov 2005 17:19:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 09:19:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 09:19:19 -0800
Received: (qmail 66801 invoked by uid 89); 14 Nov 2005 17:19:05 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 14 Nov 2005 17:19:05 -0000
Message-ID: <4378C708.2070909@apache.org>
Date: Mon, 14 Nov 2005 09:19:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com>
In-Reply-To: <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin Humphrey wrote:
> You *can't* set it on the reader end.  If you could set it, the  reader 
> would get out of sync and break.  The value is set per-segment  at write 
> time, and the reader has to be able to adapt on the fly.

It would actually not be too hard to change things so that there was 
such a parameter that could be set on an IndexReader.  It would 
determine the fraction of entries in the .tii file that are kept in RAM. 
  So if the parameter were, e.g., 10, then only every tenth entry in the 
.tii file would be kept in RAM, equivalent to 10x the indexInterval used.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 19:06:07 2005
Return-Path: <java-user-return-17491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57340 invoked from network); 14 Nov 2005 19:06:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 19:06:06 -0000
Received: (qmail 22191 invoked by uid 500); 14 Nov 2005 19:06:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22159 invoked by uid 500); 14 Nov 2005 19:06:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22148 invoked by uid 99); 14 Nov 2005 19:06:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 11:06:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 11:05:51 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EbjhI-000Klm-Aj
	for java-user@lucene.apache.org; Mon, 14 Nov 2005 11:08:56 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <4378C708.2070909@apache.org>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <217FA7D6-EC9B-41B0-9528-2A0D006CE417@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Mon, 14 Nov 2005 11:05:36 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 14, 2005, at 9:19 AM, Doug Cutting wrote:

> It would actually not be too hard to change things so that there  
> was such a parameter that could be set on an IndexReader.  It would  
> determine the fraction of entries in the .tii file that are kept in  
> RAM.  So if the parameter were, e.g., 10, then only every tenth  
> entry in the .tii file would be kept in RAM, equivalent to 10x the  
> indexInterval used.

That has the advantage of providing instant feedback to people like  
Daniel who want to experiment.  It seems to me that the ability to  
setIndexIntervalMult() (?) at search-time would provide all the  
useful benefits of setIndexInterval() at write-time.  There's no  
significant disk-space issue involved.  The startup time to fill the  
cache isn't worth worrying about, either.

Coincidentally, I'm porting this exact section of TermInfosReader  
this morning.

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 19:42:36 2005
Return-Path: <java-user-return-17492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79152 invoked from network); 14 Nov 2005 19:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 19:42:36 -0000
Received: (qmail 84228 invoked by uid 500); 14 Nov 2005 19:42:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84086 invoked by uid 500); 14 Nov 2005 19:42:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84029 invoked by uid 99); 14 Nov 2005 19:42:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 11:42:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.85] (HELO web86210.mail.ukl.yahoo.com) (217.12.12.85)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Nov 2005 11:42:13 -0800
Received: (qmail 83107 invoked by uid 60001); 14 Nov 2005 19:41:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=eo2yIV+7uyJ3XQV6kPbqQ0KpjEDTz7W7uxHvhxGD79XlpPfEWOu/ABMH24Rnvzu+31Bm32/42m+j1jY5YNoPfCBHCo9Z4N4LX4fGNvEbWwLUHN4DDz0pP0Q4JTH6teJffDk3sgP9XA6gS0e3pRsaKoeOtpWTiD5vUobHoeMwyV8=  ;
Message-ID: <20051114194159.83105.qmail@web86210.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86210.mail.ukl.yahoo.com via HTTP; Mon, 14 Nov 2005 19:41:59 GMT
Date: Mon, 14 Nov 2005 19:41:59 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org
In-Reply-To: <20051114043620.72454.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-312406655-1131997319=:82792"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-312406655-1131997319=:82792
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit



Hi,

Could you send me the url for HighFreqTerms.java in cvs?

 

Thanks,

Malcolm


--0-312406655-1131997319=:82792--

From java-user-return-17493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 20:12:38 2005
Return-Path: <java-user-return-17493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 486 invoked from network); 14 Nov 2005 20:12:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 20:12:38 -0000
Received: (qmail 36553 invoked by uid 500); 14 Nov 2005 20:12:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36528 invoked by uid 500); 14 Nov 2005 20:12:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36499 invoked by uid 99); 14 Nov 2005 20:12:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 12:12:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 12:12:23 -0800
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14ADE67D@mailer.syr.edu>; Mon, 14 Nov 2005 15:12:09 -0500
Message-ID: <4378EF98.1060209@syr.edu>
Date: Mon, 14 Nov 2005 15:12:08 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050411)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Extract term and its frequency from the index and file?
References: <20051114194159.83105.qmail@web86210.mail.ukl.yahoo.com>
In-Reply-To: <20051114194159.83105.qmail@web86210.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

MALCOLM CLARK wrote:
> Could you send me the url for HighFreqTerms.java in cvs?

ViewCVS URL:
<http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/HighFreqTerms.java>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 20:16:53 2005
Return-Path: <java-user-return-17494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2546 invoked from network); 14 Nov 2005 20:16:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 20:16:53 -0000
Received: (qmail 43802 invoked by uid 500); 14 Nov 2005 20:16:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43782 invoked by uid 500); 14 Nov 2005 20:16:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43771 invoked by uid 99); 14 Nov 2005 20:16:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 12:16:48 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_IMAGE_ONLY_04,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.84] (HELO web86209.mail.ukl.yahoo.com) (217.12.12.84)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Nov 2005 12:16:39 -0800
Received: (qmail 31239 invoked by uid 60001); 14 Nov 2005 20:16:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=a664M7zkPJoephRLxrMwTFJ2m888TXumz3xO9gf+dcsLoiKz0XTWJoNEd/qGyqakJ0tya+pko804cTrlaEB5Z30KiM/voLRzVbwqE1UBDkzKWR7S3BJ30l5FbvdKiKv+HVjo3TxAximRmY2+0Z8At0+Ouafq/OYR86NLAaLia0g=  ;
Message-ID: <20051114201625.31237.qmail@web86209.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86209.mail.ukl.yahoo.com via HTTP; Mon, 14 Nov 2005 20:16:25 GMT
Date: Mon, 14 Nov 2005 20:16:25 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Extract term and its frequency from the index and file?
To: java-user@lucene.apache.org
In-Reply-To: <4378EF98.1060209@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1018356637-1131999385=:30946"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1018356637-1131999385=:30946
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit



cheers 

--0-1018356637-1131999385=:30946--

From java-user-return-17495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 14 22:52:16 2005
Return-Path: <java-user-return-17495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89018 invoked from network); 14 Nov 2005 22:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Nov 2005 22:52:16 -0000
Received: (qmail 6434 invoked by uid 500); 14 Nov 2005 22:52:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6199 invoked by uid 500); 14 Nov 2005 22:52:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6178 invoked by uid 99); 14 Nov 2005 22:52:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 14:52:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.89] (HELO ivanova.swishmail.com) (209.10.110.89)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 14:52:01 -0800
Received: (qmail 56268 invoked by uid 89); 14 Nov 2005 22:51:46 -0000
Received: from unknown (HELO zeno) (70.168.51.170)
  by ivanova.swishmail.com with SMTP; 14 Nov 2005 22:51:46 -0000
From: Jason Calabrese <mail@jasoncalabrese.com>
To: java-user@lucene.apache.org
Subject: De-duping MultiSearcher results
Date: Mon, 14 Nov 2005 14:53:42 -0800
User-Agent: KMail/1.8
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511141453.42474.mail@jasoncalabrese.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

All,

In the project I'm working on we have a separate index for each database.  
There are 12 databases now. but in the future there may be as many as 20.  
They all have their own release cycle so I don't want to merge the indexes.

The databases all have some overlap between them.  We manage this by creating 
a unique GUID for each entity.  If an entity is in multiple db's it will have 
the same GUID in each db.

Currently I'm using the MultiSearcher to run a users query against each of the 
db's, then I use the brute force approach of looping through all the returned 
docs to removed dups using the guid field in the index.

This work fine when the results are under about 5,000 documents, but when 
there is a large number of results a search take way too long.

Does anyone know of a better and more efficient way to do this?

Thanks,
Jason

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 00:38:16 2005
Return-Path: <java-user-return-17496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32888 invoked from network); 15 Nov 2005 00:38:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 00:38:16 -0000
Received: (qmail 27851 invoked by uid 500); 15 Nov 2005 00:38:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27350 invoked by uid 500); 15 Nov 2005 00:38:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27339 invoked by uid 99); 15 Nov 2005 00:38:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 16:38:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 16:37:59 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id F2B9AB7124
	for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 11:37:40 +1100 (EST)
Message-ID: <43792F4D.2050104@nuix.com.au>
Date: Tue, 15 Nov 2005 11:43:57 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: De-duping MultiSearcher results
References: <200511141453.42474.mail@jasoncalabrese.com>
In-Reply-To: <200511141453.42474.mail@jasoncalabrese.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jason Calabrese wrote:

>All,
>
>In the project I'm working on we have a separate index for each database.  
>There are 12 databases now. but in the future there may be as many as 20.  
>They all have their own release cycle so I don't want to merge the indexes.
>
>The databases all have some overlap between them.  We manage this by creating 
>a unique GUID for each entity.  If an entity is in multiple db's it will have 
>the same GUID in each db.
>
>Currently I'm using the MultiSearcher to run a users query against each of the 
>db's, then I use the brute force approach of looping through all the returned 
>docs to removed dups using the guid field in the index.
>
>This work fine when the results are under about 5,000 documents, but when 
>there is a large number of results a search take way too long.
>
>Does anyone know of a better and more efficient way to do this?
>  
>
You probably want to build a Filter.

I've been planning to do exactly this on our own system, only our 
duplicates are indicated by documents having the same value in an MD5 
digest field, instead of a GUID field.

For a single Reader, such a filter would work something like this:

    public class UniqueFilter extends Filter {
        public BitSet bits(IndexReader reader) throws IOException {
            BitSet result = new BitSet(reader.maxDoc());
            TermDocs termDocs = reader.termDocs();
            TermEnum terms = reader.terms(new Term("guid", ""));
            while (terms.next() && terms.term().field().equals("guid")) {
                termDocs.seek(terms.term());
                if (termDocs.next()) {
                    result.set(termDocs.doc());
                }
            }
            return result;
       }
    }

If you were to wrap this in a CachingWrapperFilter, the hard work would 
only be executed once, and that's the main benefit of using a filter.

However, for multiple indexes it might be more tricky.  If you're not 
willing to switch to MultiReader (we're in the same boat, if that's the 
case) then you'll have to build a different set of bits for each reader, 
and loop through all readers' TermEnums at once.  If you step them all 
through one at a time, you can get fairly good efficiency as you can 
skip calling termDocs on readers where the term didn't occur.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 02:45:01 2005
Return-Path: <java-user-return-17497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82009 invoked from network); 15 Nov 2005 02:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 02:45:01 -0000
Received: (qmail 17520 invoked by uid 500); 15 Nov 2005 02:44:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17494 invoked by uid 500); 15 Nov 2005 02:44:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17483 invoked by uid 99); 15 Nov 2005 02:44:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 18:44:55 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.94] (HELO web90210.mail.scd.yahoo.com) (66.218.94.94)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Nov 2005 18:44:47 -0800
Received: (qmail 23807 invoked by uid 60001); 15 Nov 2005 02:44:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=KmEuWgdjO4AHav0KLTTlC+nR19T8izvzRlfr15T08zIY7gg7hxFV6q+NlFfeUgOFODJqIKV7wtBcwejejPCTyTQqT3KFybXwvCTDk7Jmoa08T2o85MazsBRe6bBlDqwdxzntWAB3UovnmQ2C4N2lyOzV+C7R2eo2mvvMApHveeI=  ;
Message-ID: <20051115024434.23805.qmail@web90210.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90210.mail.scd.yahoo.com via HTTP; Mon, 14 Nov 2005 18:44:34 PST
Date: Mon, 14 Nov 2005 18:44:34 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: Re: How to add more stopwords to StandardAnalyzer
To: java-user@lucene.apache.org
In-Reply-To: <14E81898-8A64-4634-9449-ACD8AE53EDC9@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks a lot Erik!!!

Regards,

Mungkol

--- Erik Hatcher wrote:
On 14 Nov 2005, at 06:20, Supheakmungkol SARIN
wrote:
> That is the problem as I want to add more
stopwords to
> the default stopwords of StandardAnalyzer.

No problem.... get the list, create a larger array
and add yours to
it. The StandardAnalyzer uses this stop list by
default:

public static final String[] STOP_WORDS =
StopAnalyzer.ENGLISH_STOP_WORDS;



>
> Regards,
>
> Mungkol
>
> --- Erik Hatcher
wrote:
>
>
>>
>> On 14 Nov 2005, at 01:01, Supheakmungkol SARIN
>> wrote:
>>
>>> I'd like to add some other stopwords to the
>>> StandardAnalyzer. How do i do this?
>>>
>>
>> Have a look at the constructor of
StandardAnalyzer
>> that accepts a
>> String[] of stop words. If you use that, you
will
>> replace the stop
>> word list that is used by default.
>>
>> Erik
>>
>>
>>
>>
>>
>
---------------------------------------------------------------------
>
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
>
>
>
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in
one click.
> http://farechase.yahoo.com
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail:
java-user-help@lucene.apache.org






		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 04:20:59 2005
Return-Path: <java-user-return-17498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11688 invoked from network); 15 Nov 2005 04:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 04:20:59 -0000
Received: (qmail 82533 invoked by uid 500); 15 Nov 2005 04:20:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82383 invoked by uid 500); 15 Nov 2005 04:20:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82371 invoked by uid 99); 15 Nov 2005 04:20:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 20:20:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.193.231.187] (HELO mail.cbrese.com) (66.193.231.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Nov 2005 20:20:44 -0800
Received: by mail.cbrese.com (Postfix, from userid 1003)
	id 2CC23BC6671; Mon, 14 Nov 2005 20:20:16 -0800 (PST)
Received: from [192.168.2.100] (cpe-66-74-205-252.san.res.rr.com [66.74.205.252])
	by mail.cbrese.com (Postfix) with ESMTP id 79B08BC6044
	for <java-user@lucene.apache.org>; Mon, 14 Nov 2005 20:20:15 -0800 (PST)
From: Jason Calabrese <mail@jasoncalabrese.com>
To: java-user@lucene.apache.org
Subject: Re: De-duping MultiSearcher results
Date: Mon, 14 Nov 2005 20:19:50 -0800
User-Agent: KMail/1.8.1
References: <200511141453.42474.mail@jasoncalabrese.com> <43792F4D.2050104@nuix.com.au>
In-Reply-To: <43792F4D.2050104@nuix.com.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511142019.50233.mail@jasoncalabrese.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2-gr1 (2004-11-16) on newcastle
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-100.1 required=5.0 tests=AWL,BAYES_00,
	USER_IN_WHITELIST autolearn=ham version=3.0.2-gr1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Maybe I'm missing something simple, but I don't see how this will work.

It looks like this filter will just filter out documents that don't have guid 
field, but in my case every document has a guid.  

In a single index there are no duplicates.  Duplicates are only a problem when 
I search multiple indexes.

--Jason

> You probably want to build a Filter.
>
> I've been planning to do exactly this on our own system, only our
> duplicates are indicated by documents having the same value in an MD5
> digest field, instead of a GUID field.
>
> For a single Reader, such a filter would work something like this:
>
>     public class UniqueFilter extends Filter {
>         public BitSet bits(IndexReader reader) throws IOException {
>             BitSet result = new BitSet(reader.maxDoc());
>             TermDocs termDocs = reader.termDocs();
>             TermEnum terms = reader.terms(new Term("guid", ""));
>             while (terms.next() && terms.term().field().equals("guid")) {
>                 termDocs.seek(terms.term());
>                 if (termDocs.next()) {
>                     result.set(termDocs.doc());
>                 }
>             }
>             return result;
>        }
>     }
>
> If you were to wrap this in a CachingWrapperFilter, the hard work would
> only be executed once, and that's the main benefit of using a filter.
>
> However, for multiple indexes it might be more tricky.  If you're not
> willing to switch to MultiReader (we're in the same boat, if that's the
> case) then you'll have to build a different set of bits for each reader,
> and loop through all readers' TermEnums at once.  If you step them all
> through one at a time, you can get fairly good efficiency as you can
> skip calling termDocs on readers where the term didn't occur.
>
> Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 09:56:52 2005
Return-Path: <java-user-return-17499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69300 invoked from network); 15 Nov 2005 09:56:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 09:56:51 -0000
Received: (qmail 71689 invoked by uid 500); 15 Nov 2005 09:56:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71666 invoked by uid 500); 15 Nov 2005 09:56:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71655 invoked by uid 99); 15 Nov 2005 09:56:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 01:56:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 01:56:36 -0800
Received: from exchange-mbx.bvdep.com ([193.194.158.131]) by exchange.bvdep.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 15 Nov 2005 10:56:19 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Memory Usage
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Tue, 15 Nov 2005 10:56:19 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF50904F5@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memory Usage
Thread-Index: AcXpP5XVA3Wcw2CWTFK0NSwA/DrdlQAijA0w
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 15 Nov 2005 09:56:19.0518 (UTC) FILETIME=[D3C02DE0:01C5E9CA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Since an IndexReader can't know what indexInterval was used and that
each segment could have a different indexInterval, wouldn't it be better
too have a parameter that sets an average indexInterval that should be
used?
The fraction you talk about could then be calculated by the IndexReader
per segment.

Or the other way around: the maximum number of index entries that should
be stored.  The IndexReader can check if all indexes will fit, and if
not, calculate how many should be skipped per segment to get a good
coverage.

Luc

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]=20
Sent: maandag 14 november 2005 18:19
To: java-user@lucene.apache.org
Subject: Re: Memory Usage

Marvin Humphrey wrote:
> You *can't* set it on the reader end.  If you could set it, the
reader=20
> would get out of sync and break.  The value is set per-segment  at
write=20
> time, and the reader has to be able to adapt on the fly.

It would actually not be too hard to change things so that there was=20
such a parameter that could be set on an IndexReader.  It would=20
determine the fraction of entries in the .tii file that are kept in RAM.

  So if the parameter were, e.g., 10, then only every tenth entry in the

.tii file would be kept in RAM, equivalent to 10x the indexInterval
used.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 10:24:42 2005
Return-Path: <java-user-return-17500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84715 invoked from network); 15 Nov 2005 10:24:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 10:24:41 -0000
Received: (qmail 18734 invoked by uid 500); 15 Nov 2005 10:24:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18714 invoked by uid 500); 15 Nov 2005 10:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18703 invoked by uid 99); 15 Nov 2005 10:24:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 02:24:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 02:24:26 -0800
Received: by xproxy.gmail.com with SMTP id t16so1468504wxc
        for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 02:24:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=T/JUWmYis1cN3x7032U1jTp83dC2xuGih8P1O1QHWiH1kTMSSe6XFBKYP4Xt5wj4tfCvLDg33a8G9jfipvfxR1RL2iVeosXcRin8E0S4OOh1cONHlaP+0WAfiYIPV0hyxP1NOMr8TBAU7BlEG6dm0Va9IfewRhJqsHBbWCcFTtc=
Received: by 10.65.233.8 with SMTP id k8mr6956230qbr;
        Tue, 15 Nov 2005 02:24:13 -0800 (PST)
Received: by 10.65.205.1 with HTTP; Tue, 15 Nov 2005 02:24:13 -0800 (PST)
Message-ID: <4f9b23800511150224w363e0a8ch@mail.gmail.com>
Date: Tue, 15 Nov 2005 10:24:13 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Deprecated API in BooleanQuery broken in Lucene from CVS?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi
I have checked out the latest version of Lucene from CVS and have
found a change in the results compared to version 1.4.3.
The issue is with the deprecated API in the BooleanQuery class.  The
deprecated function:
"public void add(Query query, boolean required, boolean prohibited)"
is returning different results to version 1.4.3.
Please find attached a sample program which should illustrate the
issue.  (I also have a Maven 1 project.xml if you would like it).
Thanks
Pat

package com.test;

import java.io.IOException;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.PerFieldAnalyzerWrapper;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.analysis.snowball.SnowballAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.search.BooleanClause;
import org.apache.lucene.search.BooleanQuery;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;

import junit.framework.TestCase;

public class testCollectionType extends TestCase {

    private String body =3D "body";
    private String type =3D "type";
    private String [] keyTypes =3D {
        "Media",
        "UserDefined"
        };
    private String [] bodyText =3D {
        "The Queen has conducted a massive international fleet review "
        + "to mark the bicentenary of the Battle of Trafalgar.",
        "1953: Queen Elizabeth takes coronation oath "
        + "Queen Elizabeth II has been crowned at a coronation
ceremony in Westminster Abbey in London. "
        + "In front of over 8,000 guests, including prime ministers
and heads of state from throughout "
        + "the Commonwealth, she took the Coronation Oath and is now
bound to serve her people and to "
        + "maintain the laws of God."
        };

    public void testType() throws IOException, ParseException {

        Directory directory =3D new RAMDirectory();
        IndexWriter writer =3D new IndexWriter(directory, getAnalyzer(), tr=
ue);
        for (int i =3D 0; i < keyTypes.length; i++) {
            Document doc =3D new Document();
            doc.add(Field.Keyword(type, keyTypes[i]));
            doc.add(Field.UnStored(body, bodyText[i]));
            writer.addDocument(doc);
        }
        writer.close();

        IndexSearcher searcher =3D new IndexSearcher(directory);
        Query query =3D getQuery();
        Hits hits =3D searcher.search(query);
        System.out.println("The query is: " + query.toString());
        System.out.println("Found " + hits.length() + " records.");
        for (int i =3D 0; i < hits.length(); i++) {
            Document doc =3D hits.doc(i);
            System.out.println("Type: " + doc.get(type) + ", Score: "
+ hits.score(i));
        }
        int count =3D hits.length();
        searcher.close();

        assertTrue("Should return 1 hit.  Returned " + count, count =3D=3D =
1);
    }

    private Analyzer getAnalyzer() {
        PerFieldAnalyzerWrapper analyzer =3D new
PerFieldAnalyzerWrapper(new SnowballAnalyzer("English"));
        analyzer.addAnalyzer(type, new WhitespaceAnalyzer());
        return analyzer;
    }

    private Query getQuery() throws ParseException {

        BooleanQuery typeQuery =3D new BooleanQuery();
        typeQuery.add(new TermQuery(new Term(type, "Media")),
BooleanClause.Occur.SHOULD);

        BooleanQuery bodyQuery =3D new BooleanQuery();
        bodyQuery.add(new TermQuery(new Term(body, "queen")),
BooleanClause.Occur.SHOULD);

        BooleanQuery query =3D new BooleanQuery();
        // ****************************************************************=
****
        // The new version of Lucene (from CVS) has deprecated the
        // "BooleanQuery, add(Query, boolean, boolean)" function.
        //
        // The JavaDoc suggestion is to replace:
        // add(typeQuery, true, false)
        // with:
        // add(typeQuery, BooleanClause.Occur.MUST)
        //
        // I think the deprecated function is now broken:
        // 1) It returns a different result to Lucene 1.4.3
        // 2) It returns a different result to the new version of the funct=
ion.
        //
        // This section illustrates the issue:
        // If you comment out the deprecated functions and un-comment the n=
ew
        // functions you will get a different result.  You should get the s=
ame
        // result.
        //
//        query.add(typeQuery, BooleanClause.Occur.MUST);
//        query.add(bodyQuery, BooleanClause.Occur.MUST);
        query.add(typeQuery, true, false);
        query.add(bodyQuery, true, false);
        // ****************************************************************=
****

        return query;

    }
}

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 11:18:35 2005
Return-Path: <java-user-return-17501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6081 invoked from network); 15 Nov 2005 11:18:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 11:18:34 -0000
Received: (qmail 75649 invoked by uid 500); 15 Nov 2005 11:18:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75606 invoked by uid 500); 15 Nov 2005 11:18:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75595 invoked by uid 99); 15 Nov 2005 11:18:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:18:26 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:18:17 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jAFB9a9i007664
	for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 11:09:38 GMT
Message-ID: <006701c5e9d6$b1a87e90$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
References: <3287125F0F0CCE4E8F55435208100CF50904F5@exchange-mbx.be.bvd>
Subject: Search on multiple columns
Date: Tue, 15 Nov 2005 16:51:12 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1506
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Is there any way to search on multiple columns.

i.e.
Query qry = QueryParser.parse(line,"contents",anlz);

In above statement I can search on contents field only but I would like to
search data on two Fields at a time. Is there any way to do it ?



Regards,

Manoj





----- Original Message ----- 
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, November 15, 2005 3:26 PM
Subject: RE: Memory Usage


> Since an IndexReader can't know what indexInterval was used and that
> each segment could have a different indexInterval, wouldn't it be better
> too have a parameter that sets an average indexInterval that should be
> used?
> The fraction you talk about could then be calculated by the IndexReader
> per segment.
>
> Or the other way around: the maximum number of index entries that should
> be stored.  The IndexReader can check if all indexes will fit, and if
> not, calculate how many should be skipped per segment to get a good
> coverage.
>
> Luc
>
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@apache.org]
> Sent: maandag 14 november 2005 18:19
> To: java-user@lucene.apache.org
> Subject: Re: Memory Usage
>
> Marvin Humphrey wrote:
> > You *can't* set it on the reader end.  If you could set it, the
> reader
> > would get out of sync and break.  The value is set per-segment  at
> write
> > time, and the reader has to be able to adapt on the fly.
>
> It would actually not be too hard to change things so that there was
> such a parameter that could be set on an IndexReader.  It would
> determine the fraction of entries in the .tii file that are kept in RAM.
>
>   So if the parameter were, e.g., 10, then only every tenth entry in the
>
> .tii file would be kept in RAM, equivalent to 10x the indexInterval
> used.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 11:32:04 2005
Return-Path: <java-user-return-17502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10705 invoked from network); 15 Nov 2005 11:32:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 11:32:02 -0000
Received: (qmail 89436 invoked by uid 500); 15 Nov 2005 11:31:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89416 invoked by uid 500); 15 Nov 2005 11:31:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89364 invoked by uid 99); 15 Nov 2005 11:31:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:31:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tarjeil@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:31:46 -0800
Received: by wproxy.gmail.com with SMTP id i21so1155435wra
        for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 03:31:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=K2d1MoyAU71eiclKt5Pr+at0ENFKiVQ6XVHOWVcZPDKHMO1ZuIUJawluaQAY0Hgxp5cWJrTQW11re2tEL58hBL5rdsMqZdBHTG7ayChUfuy3WISlF1g2vNw3d0VHBmAtGtHXSZhU+3De4vBb8GdYBjDVzugnmpzvil+deCiyKNg=
Received: by 10.54.99.2 with SMTP id w2mr4792064wrb;
        Tue, 15 Nov 2005 03:31:33 -0800 (PST)
Received: by 10.54.66.18 with HTTP; Tue, 15 Nov 2005 03:31:33 -0800 (PST)
Message-ID: <5a08f2f40511150331m2366e815lf0c42fb79273c3bb@mail.gmail.com>
Date: Tue, 15 Nov 2005 12:31:33 +0100
From: =?ISO-8859-1?Q?Tarjei_L=E6greid?= <tarjeil@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search on multiple columns
In-Reply-To: <006701c5e9d6$b1a87e90$1000a8c0@manoj>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3712_27905215.1132054293056"
References: <3287125F0F0CCE4E8F55435208100CF50904F5@exchange-mbx.be.bvd>
	 <006701c5e9d6$b1a87e90$1000a8c0@manoj>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3712_27905215.1132054293056
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
you can use the MultiFieldQueryParser, i.e.

Query query =3D MultiFieldQueryParser.parse(query, fields, analyzer).

Regards,
Tarjei


On 11/15/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
>
> Hi,
> Is there any way to search on multiple columns.
>
> i.e.
> Query qry =3D QueryParser.parse(line,"contents",anlz);
>
> In above statement I can search on contents field only but I would like t=
o
> search data on two Fields at a time. Is there any way to do it ?
>
>
>
> Regards,
>
> Manoj
>
>
>
>
>
> ----- Original Message -----
> From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
> To: <java-user@lucene.apache.org>
> Sent: Tuesday, November 15, 2005 3:26 PM
> Subject: RE: Memory Usage
>
>
> > Since an IndexReader can't know what indexInterval was used and that
> > each segment could have a different indexInterval, wouldn't it be bette=
r
> > too have a parameter that sets an average indexInterval that should be
> > used?
> > The fraction you talk about could then be calculated by the IndexReader
> > per segment.
> >
> > Or the other way around: the maximum number of index entries that shoul=
d
> > be stored. The IndexReader can check if all indexes will fit, and if
> > not, calculate how many should be skipped per segment to get a good
> > coverage.
> >
> > Luc
> >
> > -----Original Message-----
> > From: Doug Cutting [mailto:cutting@apache.org]
> > Sent: maandag 14 november 2005 18:19
> > To: java-user@lucene.apache.org
> > Subject: Re: Memory Usage
> >
> > Marvin Humphrey wrote:
> > > You *can't* set it on the reader end. If you could set it, the
> > reader
> > > would get out of sync and break. The value is set per-segment at
> > write
> > > time, and the reader has to be able to adapt on the fly.
> >
> > It would actually not be too hard to change things so that there was
> > such a parameter that could be set on an IndexReader. It would
> > determine the fraction of entries in the .tii file that are kept in RAM=
.
> >
> > So if the parameter were, e.g., 10, then only every tenth entry in the
> >
> > .tii file would be kept in RAM, equivalent to 10x the indexInterval
> > used.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3712_27905215.1132054293056--

From java-user-return-17503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 11:49:54 2005
Return-Path: <java-user-return-17503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17820 invoked from network); 15 Nov 2005 11:49:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 11:49:53 -0000
Received: (qmail 9133 invoked by uid 500); 15 Nov 2005 11:49:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9110 invoked by uid 500); 15 Nov 2005 11:49:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9085 invoked by uid 99); 15 Nov 2005 11:49:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:49:47 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.234.209.31] (HELO daffodildb.com) (207.234.209.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 03:49:38 -0800
Received: from manoj (dsl-del-static-055.221.95.61.touchtelindia.net [61.95.221.55] (may be forged))
	(authenticated bits=0)
	by daffodildb.com (8.12.10/8.12.10) with ESMTP id jAFBex9i008143
	for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 11:41:01 GMT
Message-ID: <007a01c5e9db$13fc5220$1000a8c0@manoj>
From: "Manoj Kr. Sheoran" <manoj.kumar@daffodildb.com>
To: <java-user@lucene.apache.org>
References: <3287125F0F0CCE4E8F55435208100CF50904F5@exchange-mbx.be.bvd> <006701c5e9d6$b1a87e90$1000a8c0@manoj> <5a08f2f40511150331m2366e815lf0c42fb79273c3bb@mail.gmail.com>
Subject: Re: Search on multiple columns
Date: Tue, 15 Nov 2005 17:22:35 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1506
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

100 Thanks Tarjei
----- Original Message ----- 
From: "Tarjei Lgreid" <tarjeil@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, November 15, 2005 5:01 PM
Subject: Re: Search on multiple columns


Hi,
you can use the MultiFieldQueryParser, i.e.

Query query = MultiFieldQueryParser.parse(query, fields, analyzer).

Regards,
Tarjei


On 11/15/05, Manoj Kr. Sheoran <manoj.kumar@daffodildb.com> wrote:
>
> Hi,
> Is there any way to search on multiple columns.
>
> i.e.
> Query qry = QueryParser.parse(line,"contents",anlz);
>
> In above statement I can search on contents field only but I would like to
> search data on two Fields at a time. Is there any way to do it ?
>
>
>
> Regards,
>
> Manoj
>
>
>
>
>
> ----- Original Message -----
> From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
> To: <java-user@lucene.apache.org>
> Sent: Tuesday, November 15, 2005 3:26 PM
> Subject: RE: Memory Usage
>
>
> > Since an IndexReader can't know what indexInterval was used and that
> > each segment could have a different indexInterval, wouldn't it be better
> > too have a parameter that sets an average indexInterval that should be
> > used?
> > The fraction you talk about could then be calculated by the IndexReader
> > per segment.
> >
> > Or the other way around: the maximum number of index entries that should
> > be stored. The IndexReader can check if all indexes will fit, and if
> > not, calculate how many should be skipped per segment to get a good
> > coverage.
> >
> > Luc
> >
> > -----Original Message-----
> > From: Doug Cutting [mailto:cutting@apache.org]
> > Sent: maandag 14 november 2005 18:19
> > To: java-user@lucene.apache.org
> > Subject: Re: Memory Usage
> >
> > Marvin Humphrey wrote:
> > > You *can't* set it on the reader end. If you could set it, the
> > reader
> > > would get out of sync and break. The value is set per-segment at
> > write
> > > time, and the reader has to be able to adapt on the fly.
> >
> > It would actually not be too hard to change things so that there was
> > such a parameter that could be set on an IndexReader. It would
> > determine the fraction of entries in the .tii file that are kept in RAM.
> >
> > So if the parameter were, e.g., 10, then only every tenth entry in the
> >
> > .tii file would be kept in RAM, equivalent to 10x the indexInterval
> > used.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 13:15:22 2005
Return-Path: <java-user-return-17504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59893 invoked from network); 15 Nov 2005 13:15:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 13:15:21 -0000
Received: (qmail 15828 invoked by uid 500); 15 Nov 2005 13:15:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15520 invoked by uid 500); 15 Nov 2005 13:15:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15385 invoked by uid 99); 15 Nov 2005 13:15:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 05:15:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.83] (HELO web86208.mail.ukl.yahoo.com) (217.12.12.83)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 Nov 2005 05:15:04 -0800
Received: (qmail 85998 invoked by uid 60001); 15 Nov 2005 13:14:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=rHR+Ku2XN4hJovWMveBRamPTYGlDxXc2fsUIY7rvHp8B5g/TSSmvdmpf2AlLUSvJqpoKGucevmU18Pw5YSFQq1tN5JVxYeZjd37PE9633j99uGzAcTR07yFL0fyo3ysej0R2sb1JH0euTAPR8mzV2BlPUELp5nSeE+3lMX2xKbA=  ;
Message-ID: <20051115131451.85996.qmail@web86208.mail.ukl.yahoo.com>
Received: from [193.63.235.40] by web86208.mail.ukl.yahoo.com via HTTP; Tue, 15 Nov 2005 13:14:50 GMT
Date: Tue, 15 Nov 2005 13:14:50 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Memory fault
To: java-user@lucene.apache.org
In-Reply-To: <4f9b23800511150224w363e0a8ch@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2116454738-1132060490=:85503"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2116454738-1132060490=:85503
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


I'm currently trying to index another collection. I am suffering a problem with writer.close.Basically at the end of indexing it only works if I remove the writer.close.It simple can't find the routine despite being able to find writer.optimize.

Has anyone else discovered this problem and what was the solution?

Secondly by removing the writer.close will this cause heap problems(running out!).

I have used the Lucene in Action: mergeFactor, maxMergeDocs and writer.minMergeDocs to try and stop the memory problem.

Thanks in advance,

Malcolm


--0-2116454738-1132060490=:85503--

From java-user-return-17505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 15:46:09 2005
Return-Path: <java-user-return-17505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43375 invoked from network); 15 Nov 2005 15:46:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 15:46:09 -0000
Received: (qmail 72090 invoked by uid 500); 15 Nov 2005 15:46:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72063 invoked by uid 500); 15 Nov 2005 15:46:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72052 invoked by uid 99); 15 Nov 2005 15:46:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 07:46:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 07:45:54 -0800
Received: from [192.168.100.99] ([192.168.100.99]) by bettylou.configureone.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 15 Nov 2005 09:45:06 -0600
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Tue, 15 Nov 2005 09:45:40 -0600
Subject: Items in multiple category: distinct search?
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BF9F5EC4.17CB%jpowers@configureone.com>
Thread-Topic: Items in multiple category: distinct search?
Thread-Index: AcXp+6Er35ukVlXuEdqLLgANk2AiFA==
Mime-version: 1.0
Content-type: text/plain;
	charset="ISO-8859-1"
Content-transfer-encoding: quoted-printable
X-OriginalArrivalTime: 15 Nov 2005 15:45:06.0750 (UTC) FILETIME=[8D5A5DE0:01C5E9FB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, =A0I have done a search for this issue, but I didnt really see an
answer.=20

if i want to store things in a hierarchy, but i want items to be in multipl=
e
categories at any level. =A0 i'd like to be able to search for an item and
only show it once, but maybe (not required) show what categories the result=
s
are in. =A0 =A0but if i look in a category (search on that category) then i wan=
t
to see that item there obviously only the once that it is there. =A0

so i've got the hierarchy part..but its getting items to be in multiple
categories. =A0 i can put them there as duplicate entries of that itemNumber,
however when i search i dont want to get back the 7 times that one item is
used.. =A0i dont mind if its in 7 categories and they each show one usage, bu=
t
i'd like for my total hit count to reflect just that this item exists
once... =A0 i could iterate through the whole Hits list and put them into a
unique result list, but i'd like lucene to do that for me. =A0 =A0any way to do
that? =A0 custom filter? =A0 =A0i've looked at the query language..i didnt see a
"distinct" clause...

any help is greatly appreciated.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 16:00:19 2005
Return-Path: <java-user-return-17506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51826 invoked from network); 15 Nov 2005 16:00:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 16:00:18 -0000
Received: (qmail 93574 invoked by uid 500); 15 Nov 2005 16:00:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92674 invoked by uid 500); 15 Nov 2005 16:00:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92663 invoked by uid 99); 15 Nov 2005 16:00:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:00:12 -0800
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 66.249.82.197 is neither permitted nor denied by domain of lucene.user@googlemail.com)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:00:04 -0800
Received: by xproxy.gmail.com with SMTP id i28so1560408wxd
        for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 07:59:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=KThTIcS1+19in1/1bH3v8/LUaaMRi9Eu9eTTsbAxRNd29HLwiYtA/1rbEkEcw09pC4z8bQQUx9LrCG9cwomAxvlndHI1LOUBdjdD4Fwpokfvr95OhSInCMrOxB+4IjMOySVVbYYkxz3w2QDGRmQD3Mgm0AWdih9rz0Z2fggGLKA=
Received: by 10.70.39.4 with SMTP id m4mr2833603wxm;
        Tue, 15 Nov 2005 07:59:50 -0800 (PST)
Received: by 10.70.23.11 with HTTP; Tue, 15 Nov 2005 07:59:50 -0800 (PST)
Message-ID: <707091cc0511150759s3b7f8fc4o@mail.gmail.com>
Date: Tue, 15 Nov 2005 15:59:50 +0000
From: Lucene User <lucene.user@googlemail.com>
To: java-user@lucene.apache.org
Subject: Searching Special Characters
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

Our index contains articles with special characters. For instance, the
string P&O is indexed as P&#38;O. The correct entity codes are indexed
for all the special characters we use.

My question is that a typical user searching for the above will enter
P&O but that will not match P&#38;O.

I know I could replace & for &#38; but this did not work either and I
don't think it's the best solution even if it did.

The search String looked like
+(headline:&#38;)

I would like to extend any functionality to all special chars, for
example to single quote (&#8217;)

They're indexed using StandardAnalyzer

Any advice?

Cheers

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 16:22:02 2005
Return-Path: <java-user-return-17507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65873 invoked from network); 15 Nov 2005 16:22:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 16:22:01 -0000
Received: (qmail 24503 invoked by uid 500); 15 Nov 2005 16:21:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24467 invoked by uid 500); 15 Nov 2005 16:21:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24456 invoked by uid 99); 15 Nov 2005 16:21:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:21:55 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=SPF_PASS,TRACKER_ID
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nestefan@de.ina.com designates 159.51.231.15 as permitted sender)
Received: from [159.51.231.15] (HELO mail01.de.ina.com) (159.51.231.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:21:46 -0800
Received: from de010245.de.ina.com (de010245.de.ina.com [159.51.231.10])
        by mail01.de.ina.com (SMTP-GW1.2) with SMTP id jAFG72mK019786
        for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 17:07:02 +0100
Received: From de010291.de.ina.com ([10.160.0.41]) by de010245.de.ina.com (WebShield SMTP v4.5 MR1a P0803.345);
	id 1132071691445; Tue, 15 Nov 2005 17:21:31 +0100
Received: from de010367.de.ina.com ([10.160.13.7]) by de010291.de.ina.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 15 Nov 2005 17:21:31 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: IndexOutOfBoundsException
Date: Tue, 15 Nov 2005 17:21:29 +0100
Message-ID: <00ADB1D1C6D9434989D51BA9E55FAE0E05C84DE1@de010367.de.ina.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexOutOfBoundsException
Thread-Index: AcXp/qlm8ZLKQ9RcT9S/jbudov1VTwAATjYw
From: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
To: <java-user@lucene.apache.org>
Cc: "Gast, Thorsten  IZ/HZA-IOL" <gasttor@de.ina.com>, <frank@spieleck.de>
X-OriginalArrivalTime: 15 Nov 2005 16:21:31.0010 (UTC) FILETIME=[A345FE20:01C5EA00]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,=20

we're running into strange Lucene problems here right now: Occassionally
certain lists of hits do not build, but we end with an Exception. See
below. While this error appears often, it is not determinstic, i.e. you
repeat the identical search with the same result, you might get no such
exception. While there is plenty of software from anywhere in the stack,
the lowest non-sun level is lucene.=20

Note this is within a webserver, so much concurrency going on, and that
particular exception can happen once and dealing with the same
Hits-Instance not with the next access!

Could anyone of the gurus help us with the problem, right now we're
stuck, we do not even have a clue, where to search ...

Thank you!
Frank

500 Servlet Exception

java.lang.IndexOutOfBoundsException: Index: 109, Size: 22
	at java.util.ArrayList.RangeCheck(ArrayList.java:507)
	at java.util.ArrayList.get(ArrayList.java:324)
	at
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
	at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
	at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
	at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
	at org.apache.lucene.search.Hits.doc(Hits.java:101)
	at
de.coi.search.spider3.jsp.GenericResultHeaderTag.doStartTag(GenericResul
tHeaderTag.java:191)
	at
_home._de.__0sonderseiten._suchergebnis__jsp._jspService(/home/de/_sonde
rseiten/suchergebnis.jsp:1194)
	at com.caucho.jsp.JavaPage.service(JavaPage.java:75)
	at com.caucho.jsp.Page.subservice(Page.java:506)
	at
com.caucho.server.http.FilterChainPage.doFilter(FilterChainPage.java:182
)
	at
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFi
lter.java:354)
	at
com.caucho.server.http.FilterChainFilter.doFilter(FilterChainFilter.java
:88)
	at
com.jivesoftware.util.SetCharacterEncodingFilter.doFilter(SetCharacterEn
codingFilter.java:34)
	at
com.caucho.server.http.FilterChainFilter.doFilter(FilterChainFilter.java
:88)
	at
com.caucho.server.http.Invocation.service(Invocation.java:315)
	at
com.caucho.server.http.CacheInvocation.service(CacheInvocation.java:135)
	at
com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:246)
	at
com.caucho.server.http.HttpRequest.handleConnection(HttpRequest.java:164
)
	at com.caucho.server.TcpConnection.run(TcpConnection.java:139)
	at java.lang.Thread.run(Thread.java:534)

Resin 2.1.14 (built Thu Jul 1 18:39:55 PDT 2004)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 16:55:28 2005
Return-Path: <java-user-return-17508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85391 invoked from network); 15 Nov 2005 16:55:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 16:55:28 -0000
Received: (qmail 91086 invoked by uid 500); 15 Nov 2005 16:55:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91065 invoked by uid 500); 15 Nov 2005 16:55:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91054 invoked by uid 99); 15 Nov 2005 16:55:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:55:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.56.74] (HELO mail.synechron.com) (69.20.56.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 08:55:13 -0800
Received: from [10.30.2.42] [203.199.143.213] by mail.synechron.com with ESMTP
  (SMTPD32-8.15) id A2DB76AE0098; Tue, 15 Nov 2005 11:54:51 -0500
Message-ID: <437A12E3.1010608@synechron.com>
Date: Tue, 15 Nov 2005 22:24:59 +0530
From: amolb <amolb@synechron.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (X11/20041209)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: FileNotFoundException while indexing data
References: <20051114032149.43621.qmail@web90203.mail.scd.yahoo.com> <437858B7.1060203@synechron.com>
In-Reply-To: <437858B7.1060203@synechron.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-IMSTrailer: __IMail_7__
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,
I ran the same code on linux and it has worked very well. It could be 
related to OS resource issue, but I am not sure as did not try to debug 
on windows. I hope this help others in case of such problems.

thanks
Amol

amolb wrote:

> Hi everybody,
> I am trying to index arround 10 lacs user records, but my indexing 
> application is failing with following exception after around 5 lacs 
> user records. If I rerun it fails to the same record. I tried to skip 
> the record, but that does not help. I tried to get help from google, 
> but few such posts does not have answers ( e.g jguru ) or few answers 
> are not helping me. I am going to try running this on linux, will 
> update you on the results, but Please give me some pointers to solve 
> this problem.
> thanks
> Amol
>
> java.io.FileNotFoundException: C:\indexdata\_17ug.fdt (The system 
> cannot find the file specified)
>
>      at java.io.RandomAccessFile.open(_Native Method_)
>
>      at java.io.RandomAccessFile.<init>(_RandomAccessFile.java:204_)
>
>      at 
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(_FSDirectory.java:376_) 
>
>
>      at 
> org.apache.lucene.store.FSInputStream.<init>(_FSDirectory.java:405_)
>
>      at 
> org.apache.lucene.store.FSDirectory.openFile(_FSDirectory.java:268_)
>
>      at 
> org.apache.lucene.index.CompoundFileWriter.copyFile(_CompoundFileWriter.java:198_) 
>
>
>      at 
> org.apache.lucene.index.CompoundFileWriter.close(_CompoundFileWriter.java:163_) 
>
>
>
> --------------------------------------------------------------------
> Mail Disclaimer: This e-mail and any files transmitted with it are 
> confidential and the views expressed in the same are not necessarily 
> the views of Synechron, and its Directors, Management or Employees. 
> This communication represents the originator's personal views and 
> opinions. If you are not the intended recipient or the person 
> responsible for delivering the e-mail to the intended recipient, be 
> advised that you have received this e-mail by error, and that any use, 
> dissemination, forwarding, printing, or copying of this e-mail is 
> strictly prohibited. You shall be under obligation to keep the 
> contents of this e-mail, strictly confidential and shall not disclose, 
> disseminate or divulge the same to any Person, Company, Firm or 
> Entity. Even though Synechron uses up-to-date virus checking software 
> to scan it's emails please ensure you have adequate virus protection 
> before you open or detach any documents from this transmission. 
> Synechron does not accept any liability for viruses or 
> vulnerabilities. The rights to monitor all e-mail communication 
> through our network are reserved with us.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>



--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 20:38:34 2005
Return-Path: <java-user-return-17509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2564 invoked from network); 15 Nov 2005 20:38:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 20:38:33 -0000
Received: (qmail 33952 invoked by uid 500); 15 Nov 2005 20:38:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33924 invoked by uid 500); 15 Nov 2005 20:38:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33913 invoked by uid 99); 15 Nov 2005 20:38:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 12:38:27 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 12:38:18 -0800
Received: by xproxy.gmail.com with SMTP id s15so1545748wxc
        for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 12:38:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AuOG/Gzs/gVMy2HpOdEKtZ/NloqEHPXUNeQigmNFmdhsad/j+KiLFu1sWfDmy73y1i69bLZM46j9arJuCSo6IHZhUWZe8+iMvcnhMQjqAohh8AmWp6gdKnjcTgB+kJswMJM+z/ALqW6z9c8rZj+6ig0PoVWVTFCVrsfn2MoBZAc=
Received: by 10.64.10.8 with SMTP id 8mr7713455qbj;
        Tue, 15 Nov 2005 12:38:05 -0800 (PST)
Received: by 10.65.35.7 with HTTP; Tue, 15 Nov 2005 12:38:05 -0800 (PST)
Message-ID: <50f433360511151238t101fb332y198f63eab6b324eb@mail.gmail.com>
Date: Tue, 15 Nov 2005 12:38:05 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Items in multiple category: distinct search?
In-Reply-To: <BF9F5EC4.17CB%jpowers@configureone.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22732_7670942.1132087085558"
References: <BF9F5EC4.17CB%jpowers@configureone.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_22732_7670942.1132087085558
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi John -

It sounds like you're thinking of your index in terms of sql constructs --
multiple rows for the same record. We do this very same thing with
categories; if you have a record that lives in multiple categories, just ad=
d
additional category field/value pairs for your original record. It's ok to
use multiple fields with the same name. Once stored, if you want to see
records in category "A", just query lucene for category "A". Thinking of it
in terms of SQL constructs makes it more difficult than it needs to be.

Hope this helps.



On 11/15/05, John Powers <jpowers@configureone.com> wrote:
>
> Hello, I have done a search for this issue, but I didnt really see an
> answer.
>
> if i want to store things in a hierarchy, but i want items to be in
> multiple
> categories at any level. i'd like to be able to search for an item and
> only show it once, but maybe (not required) show what categories the
> results
> are in. but if i look in a category (search on that category) then i want
> to see that item there obviously only the once that it is there.
>
> so i've got the hierarchy part..but its getting items to be in multiple
> categories. i can put them there as duplicate entries of that itemNumber,
> however when i search i dont want to get back the 7 times that one item i=
s
> used.. i dont mind if its in 7 categories and they each show one usage,
> but
> i'd like for my total hit count to reflect just that this item exists
> once... i could iterate through the whole Hits list and put them into a
> unique result list, but i'd like lucene to do that for me. any way to do
> that? custom filter? i've looked at the query language..i didnt see a
> "distinct" clause...
>
> any help is greatly appreciated.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_22732_7670942.1132087085558--

From java-user-return-17510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 20:43:23 2005
Return-Path: <java-user-return-17510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4178 invoked from network); 15 Nov 2005 20:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 20:43:22 -0000
Received: (qmail 38324 invoked by uid 500); 15 Nov 2005 20:43:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37574 invoked by uid 500); 15 Nov 2005 20:43:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37563 invoked by uid 99); 15 Nov 2005 20:43:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 12:43:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 12:43:08 -0800
Received: from 192.168.100.99 ([192.168.100.99]) by bettylou.configureone.net ([192.168.100.7]) with Microsoft Exchange Server HTTP-DAV ;
 Tue, 15 Nov 2005 20:42:20 +0000
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Tue, 15 Nov 2005 14:42:54 -0600
Subject: Re: Items in multiple category: distinct search?
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BF9FA46E.17DA%jpowers@configureone.com>
Thread-Topic: Items in multiple category: distinct search?
Thread-Index: AcXqJScQZV5ITFYYEdqJugANk2AiFA==
In-Reply-To: <50f433360511151238t101fb332y198f63eab6b324eb@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I got the category thing to work.  I'm using a string "category" that looks
like:

Cat1[980455981]{4}|SubCatA[980456122]{1}|

Then I can search by id, name and when I get a result list I can put them in
sequence (the soft bracket number)

However, my problem now is distinct...   I want to put items in multiple
categories..   That works fine.  But if I query lucene, then I get back not
the one thing I want, but the 5 duplicates because as far as lucene is
concerned I guess those are 5 line items in the index.   I could put a flag
in there that says one of them is the primary instance and so then I only
search with that as a query..  But I don't want to do that.   I would like
to just filter out by itemID or something like that any dups...

I could just dump all the items into a List or something that only accepts
new unused items..  But I'd rather use a lucene solution...




On 11/15/05 2:38 PM, "Jeff Rodenburg" <jeff.rodenburg@gmail.com> wrote:

> Hi John -
> 
> It sounds like you're thinking of your index in terms of sql constructs --
> multiple rows for the same record. We do this very same thing with
> categories; if you have a record that lives in multiple categories, just add
> additional category field/value pairs for your original record. It's ok to
> use multiple fields with the same name. Once stored, if you want to see
> records in category "A", just query lucene for category "A". Thinking of it
> in terms of SQL constructs makes it more difficult than it needs to be.
> 
> Hope this helps.
> 
> 
> 
> On 11/15/05, John Powers <jpowers@configureone.com> wrote:
>> 
>> Hello, I have done a search for this issue, but I didnt really see an
>> answer.
>> 
>> if i want to store things in a hierarchy, but i want items to be in
>> multiple
>> categories at any level. i'd like to be able to search for an item and
>> only show it once, but maybe (not required) show what categories the
>> results
>> are in. but if i look in a category (search on that category) then i want
>> to see that item there obviously only the once that it is there.
>> 
>> so i've got the hierarchy part..but its getting items to be in multiple
>> categories. i can put them there as duplicate entries of that itemNumber,
>> however when i search i dont want to get back the 7 times that one item is
>> used.. i dont mind if its in 7 categories and they each show one usage,
>> but
>> i'd like for my total hit count to reflect just that this item exists
>> once... i could iterate through the whole Hits list and put them into a
>> unique result list, but i'd like lucene to do that for me. any way to do
>> that? custom filter? i've looked at the query language..i didnt see a
>> "distinct" clause...
>> 
>> any help is greatly appreciated.
>> 
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> 
>> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 21:34:43 2005
Return-Path: <java-user-return-17511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27811 invoked from network); 15 Nov 2005 21:34:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 21:34:43 -0000
Received: (qmail 5987 invoked by uid 500); 15 Nov 2005 21:34:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5744 invoked by uid 500); 15 Nov 2005 21:34:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5609 invoked by uid 99); 15 Nov 2005 21:34:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 13:34:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 13:34:26 -0800
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id jAFLYDBw010525
	for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 16:34:13 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IQ000501ML1LG@lmco.com> for java-user@lucene.apache.org; Tue, 15 Nov 2005 16:34:13 -0500 (EST)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IQ000KWDML0VM@lmco.com> for java-user@lucene.apache.org; Tue, 15 Nov 2005 16:34:12 -0500 (EST)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 15 Nov 2005 16:34:12 -0500
Date: Tue, 15 Nov 2005 16:34:12 -0500
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Searching Special Characters
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE39E7@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Searching Special Characters
Thread-Index: AcXp/bJcxmaiHK0/RtKZXkxHflIOMwALmwtA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 15 Nov 2005 21:34:12.0883 (UTC) FILETIME=[52389E30:01C5EA2C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can use your own Analyzer to support special characters. Just
process the special characters in your analyzer

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Lucene User [mailto:lucene.user@googlemail.com] 
Sent: Tuesday, November 15, 2005 11:00 AM
To: java-user@lucene.apache.org
Subject: Searching Special Characters

Hi

Our index contains articles with special characters. For instance, the
string P&O is indexed as P&#38;O. The correct entity codes are indexed
for all the special characters we use.

My question is that a typical user searching for the above will enter
P&O but that will not match P&#38;O.

I know I could replace & for &#38; but this did not work either and I
don't think it's the best solution even if it did.

The search String looked like
+(headline:&#38;)

I would like to extend any functionality to all special chars, for
example to single quote (&#8217;)

They're indexed using StandardAnalyzer

Any advice?

Cheers

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 23:14:01 2005
Return-Path: <java-user-return-17512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83231 invoked from network); 15 Nov 2005 23:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 23:14:01 -0000
Received: (qmail 76127 invoked by uid 500); 15 Nov 2005 23:13:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76101 invoked by uid 500); 15 Nov 2005 23:13:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76058 invoked by uid 99); 15 Nov 2005 23:13:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 15:13:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 15:13:45 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id BFD81B7124
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 10:13:29 +1100 (EST)
Message-ID: <437A6D15.2010206@nuix.com.au>
Date: Wed, 16 Nov 2005 10:19:49 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Searching Special Characters
References: <92A278501EF50444AD3EE1FFB51219550BCE39E7@emss10m03.rck.atm.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE39E7@emss10m03.rck.atm.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mordo, Aviran (EXP N-NANNATEK) wrote:

>You can use your own Analyzer to support special characters. Just
>process the special characters in your analyzer
>  
>
That's one option.  The "correct" solution would be, since this is 
presumably HTML or XML, replacing entities with their actual string 
values before analysing the text.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 15 23:16:26 2005
Return-Path: <java-user-return-17513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84601 invoked from network); 15 Nov 2005 23:16:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Nov 2005 23:16:25 -0000
Received: (qmail 81860 invoked by uid 500); 15 Nov 2005 23:16:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81835 invoked by uid 500); 15 Nov 2005 23:16:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81824 invoked by uid 99); 15 Nov 2005 23:16:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 15:16:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 15:16:11 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 61B53B7124
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 10:16:00 +1100 (EST)
Message-ID: <437A6DAC.6030009@nuix.com.au>
Date: Wed, 16 Nov 2005 10:22:20 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: De-duping MultiSearcher results
References: <200511141453.42474.mail@jasoncalabrese.com> <43792F4D.2050104@nuix.com.au> <200511142019.50233.mail@jasoncalabrese.com>
In-Reply-To: <200511142019.50233.mail@jasoncalabrese.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jason Calabrese wrote:

>Maybe I'm missing something simple, but I don't see how this will work.
>
>It looks like this filter will just filter out documents that don't have guid 
>field, but in my case every document has a guid.  
>
>  
>
Actually, it filters out every document except the *first* which has a 
GUID.  Note that I have "if (termDocs.next())", as opposed to "while".

>In a single index there are no duplicates.  Duplicates are only a problem when 
>I search multiple indexes.
>  
>
Indeed.  So you'll definitely need to implement this same logic but 
iterating through multiple TermEnums at once.  Or, is it possible to use 
a MultiReader?  That would bypass the difficulty entirely.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 04:15:57 2005
Return-Path: <java-user-return-17514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26109 invoked from network); 16 Nov 2005 04:15:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 04:15:56 -0000
Received: (qmail 6498 invoked by uid 500); 16 Nov 2005 04:15:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6466 invoked by uid 500); 16 Nov 2005 04:15:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6442 invoked by uid 99); 16 Nov 2005 04:15:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 20:15:51 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=TRACKER_ID
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 20:17:24 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 71F98B7124
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 15:15:28 +1100 (EST)
Message-ID: <437AB3DD.8060704@nuix.com.au>
Date: Wed, 16 Nov 2005 15:21:49 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org>
In-Reply-To: <4378C708.2070909@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Marvin Humphrey wrote:
>
>> You *can't* set it on the reader end.  If you could set it, the  
>> reader would get out of sync and break.  The value is set 
>> per-segment  at write time, and the reader has to be able to adapt on 
>> the fly.
>
>
> It would actually not be too hard to change things so that there was 
> such a parameter that could be set on an IndexReader.  It would 
> determine the fraction of entries in the .tii file that are kept in 
> RAM.  So if the parameter were, e.g., 10, then only every tenth entry 
> in the .tii file would be kept in RAM, equivalent to 10x the 
> indexInterval used.

This turned out to be an incredibly elegant way to do the testing, 
thanks. :-D

It involved:
  - Adding a new "skipPeriod" field to TermInfosReader (set to 1 to get
    the default behaviour.)
  - Modifying readIndex() to store one in every skipPeriod terms
    (total size = (indexSize - 1) / skipPeriod + 1);
  - Changing maths throughout by replacing
        enumerator.indexInterval
    with
        (enumerator.indexInterval * skipPeriod)

After all this, everything worked as it previously did, and tweaking the
skipInterval didn't break anything.  Since then, I've been doing some
timing runs.

Index statistics:
  - Size on disk: ~ 4.4GB (compound index)
  - Term count: ~ 33,000,000
  - Doc count: ~ 970,000

Timings were obtained by performing the same search 1,000 times and
averaging the total time.  This was then performed five times in a row
to get the range that's displayed below.  Memory usage was obtained
using a 20-second sleep after loading the index, and then using the
Windows task manager to see the memory usage 10 seconds into the sleep
(the garbage collector tends to free up some memory during the first
few seconds of the sleep.)

Timings for a simple TermQuery on the term "one" (docFreq = 22):

    skip    time range for query (ms)    approx mem usage of JVM (MB)
      1      28 ~  30                     49.2
      2      28 ~  30                    
      4      28 ~  30                    
      8      29 ~  31                    
     16      29 ~  32                     15.9 (!!)
     32      29 ~  33                    
     64      38 ~  42                    
    128      59 ~  61                    
    256      99 ~ 102                     14.1

Timings for a simple TermQuery on the term "test" (docFreq = 31,356):

    skip    time range for query (ms)
      1       6.8 ~  7.6
     16       9.7 ~ 10.2
    256      69   ~ 72

123456789012345678901234567890123456789012345678901234567890123456789012

So, more frequent terms get a larger penalty due to this modification,
but the time was relatively fast to start with.  Rarer terms get less of
a penalty, perhaps because they already take so much longer to find.
I also tested several kinds of boolean query as well and had approx.
10-15% slower performance when using a skip of 16, compared to using
a skip of 1.

My final conclusion is that memory usage can be significantly reduced by
tweaking this value, without penalising performance too much unless you
go too far.  The sweet spot is an indexInterval somewhere between 2048
and 4096 for indexes of this size.  The optimisation can be done entirely
in the reader, but the index would load faster if we set it for writing
as well, so we may just end up taking a hybrid approach.

Daniel  

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 05:15:19 2005
Return-Path: <java-user-return-17515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50711 invoked from network); 16 Nov 2005 05:15:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 05:15:18 -0000
Received: (qmail 52201 invoked by uid 500); 16 Nov 2005 05:15:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51410 invoked by uid 500); 16 Nov 2005 05:15:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51398 invoked by uid 99); 16 Nov 2005 05:15:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:15:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:16:45 -0800
Received: from aamta09-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20051116051448.WKAM17804.mta08-winn.ispmail.ntl.com@aamta09-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Wed, 16 Nov 2005 05:14:48 +0000
Received: from jhi ([81.98.13.34]) by aamta09-winn.ispmail.ntl.com
          with SMTP
          id <20051116051447.VGJT1233.aamta09-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Wed, 16 Nov 2005 05:14:47 +0000
Message-ID: <001301c5ea6c$aaeb44c0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au>
Subject: how newer documents have a better score
Date: Wed, 16 Nov 2005 05:14:46 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000E_01C5EA6C.A8E5D7D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000E_01C5EA6C.A8E5D7D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi, can anyone give me some pointers on making newer documents have a =
better ranking/score? i.e. documents i indexed today have a higher =
ranking/score in the index than documents that were index yesterday etc


Thanks

_gk
------=_NextPart_000_000E_01C5EA6C.A8E5D7D0--


From java-user-return-17516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 05:15:50 2005
Return-Path: <java-user-return-17516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50903 invoked from network); 16 Nov 2005 05:15:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 05:15:50 -0000
Received: (qmail 52646 invoked by uid 500); 16 Nov 2005 05:15:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52626 invoked by uid 500); 16 Nov 2005 05:15:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52615 invoked by uid 99); 16 Nov 2005 05:15:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:15:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:17:17 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EcFhM-000Nr0-Sw
	for java-user@lucene.apache.org; Tue, 15 Nov 2005 21:19:08 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <437AB3DD.8060704@nuix.com.au>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <06149195-C920-45B0-B48D-284FF47FFF41@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Tue, 15 Nov 2005 21:15:20 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Good stuff, Daniel...

Thanks for taking the time to tabulate the results and present them.   
If your results hold, it may have a significant impact on my  
application.  I'm working on a Perl/XS port, and I think a lot of  
people who want to run it won't be running mod_perl, so startup times  
are quite important to me.  I may end up setting the default  
IndexInterval considerably higher than 128 as a result of this  
discussion.

The formatting of the results turned up a little screwy in my email  
reader, so here's a reformatted version...

> Timings for a simple TermQuery on the term "one" (docFreq = 22):
>
>    skip    time range for query (ms)    approx mem usage of JVM (MB)
>      1      28 ~  30                     49.2
>      2      28 ~  30
>      4      28 ~  30
>      8      29 ~  31
>     16      29 ~  32                     15.9 (!!)
>     32      29 ~  33
>     64      38 ~  42
>    128      59 ~  61
>    256      99 ~ 102                     14.1
>
> Timings for a simple TermQuery on the term "test" (docFreq = 31,356):
>
>    skip    time range for query (ms)
>      1       6.8 ~  7.6
>     16       9.7 ~ 10.2
>    256      69   ~ 72

> So, more frequent terms get a larger penalty due to this modification,
> but the time was relatively fast to start with.  Rarer terms get  
> less of
> a penalty, perhaps because they already take so much longer to find.

This doesn't sound right to me.  The time to locate the term via the  
TermInfosReader shouldn't have anything to do with the doc_freq,  
since that's kept as a single number in .tis and .tii.  Within the  
term dictionary, all terms are more or less created equal.

I'm only passingly familiar with the org.apache.lucene.search  
package, so I'm not sure what could account for this; I would  
normally expect a more common term to take longer, as there are more  
docs to score.  Anybody got a expanation handy?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 05:22:01 2005
Return-Path: <java-user-return-17517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54322 invoked from network); 16 Nov 2005 05:22:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 05:22:01 -0000
Received: (qmail 67487 invoked by uid 500); 16 Nov 2005 05:21:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67467 invoked by uid 500); 16 Nov 2005 05:21:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67456 invoked by uid 99); 16 Nov 2005 05:21:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:21:54 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.218.94.92] (HELO web90208.mail.scd.yahoo.com) (66.218.94.92)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 Nov 2005 21:23:28 -0800
Received: (qmail 72220 invoked by uid 60001); 16 Nov 2005 05:21:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yyI15XBUqfD8WSohOkqk6q3WI5QN3CWHoM8vtR/1CfhVVVkilyPM59lbnXDxFGbkP17LnIgYA4JKCKhND287A7LRF615JrQyYa58q6AO2fhxu4ciZewvZWXVm5zW6zJyGyA60shNktEAI59H+UQ6mxhDn/+dUVLeMzX3HcO/Jzw=  ;
Message-ID: <20051116052133.72218.qmail@web90208.mail.scd.yahoo.com>
Received: from [133.9.4.12] by web90208.mail.scd.yahoo.com via HTTP; Tue, 15 Nov 2005 21:21:32 PST
Date: Tue, 15 Nov 2005 21:21:32 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: How to give weight to document when adding to the index?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-993276375-1132118492=:70029"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-993276375-1132118492=:70029
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

 Dear Luceners,
 
 I'd like to give different weight to each of the documents in the index. Is it possible to do this at the time we add the document to the index?
 
 Regards,
 
 Mungkol
 
 
 



		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-993276375-1132118492=:70029--

From java-user-return-17518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 05:30:43 2005
Return-Path: <java-user-return-17518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57685 invoked from network); 16 Nov 2005 05:30:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 05:30:42 -0000
Received: (qmail 72093 invoked by uid 500); 16 Nov 2005 05:30:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72067 invoked by uid 500); 16 Nov 2005 05:30:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72054 invoked by uid 99); 16 Nov 2005 05:30:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:30:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:32:10 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2A0E3B7124
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 16:30:12 +1100 (EST)
Message-ID: <437AC560.4060308@nuix.com.au>
Date: Wed, 16 Nov 2005 16:36:32 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <06149195-C920-45B0-B48D-284FF47FFF41@rectangular.com>
In-Reply-To: <06149195-C920-45B0-B48D-284FF47FFF41@rectangular.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin Humphrey wrote:

> The formatting of the results turned up a little screwy in my email  
> reader, so here's a reformatted version...

I noticed the same thing on Thunderbird, although viewing the source 
showed that the original was okay, and KMail didn't seem to have the 
same issue.  However, the quoting at the front of the table does appear 
to fix the formatting. :-)

> I'm only passingly familiar with the org.apache.lucene.search  
> package, so I'm not sure what could account for this; I would  
> normally expect a more common term to take longer, as there are more  
> docs to score.  Anybody got a expanation handy? 

I was figuring that a term which exists in more documents would be 
quicker to populate the initial hits for, but a term which has less than 
the number of initial hits would take longer.  But you're right, that 
doesn't sound like the behaviour of an index at all, it should be linear 
until scoring enters into it.

I'm not sure how scoring affects all of this at the moment, though... we 
actually performed the norms-removal hack on our copy of Lucene as well 
(that reduced memory usage even more) before doing all of this testing 
and I'm not sure whether that would affect the scoring also (it doesn't 
have to read the norms in during the search, which must have made 
searching faster overall as a side-effect.)

Daniel


-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 05:34:27 2005
Return-Path: <java-user-return-17519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58884 invoked from network); 16 Nov 2005 05:34:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 05:34:26 -0000
Received: (qmail 75056 invoked by uid 500); 16 Nov 2005 05:34:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74230 invoked by uid 500); 16 Nov 2005 05:34:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74219 invoked by uid 99); 16 Nov 2005 05:34:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:34:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 21:35:55 -0800
Received: from aamta12-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20051116053359.GPOW8609.mta09-winn.ispmail.ntl.com@aamta12-winn.ispmail.ntl.com>;
          Wed, 16 Nov 2005 05:33:59 +0000
Received: from jhi ([81.98.13.34]) by aamta12-winn.ispmail.ntl.com
          with SMTP
          id <20051116053358.ETDY18425.aamta12-winn.ispmail.ntl.com@jhi>;
          Wed, 16 Nov 2005 05:33:58 +0000
Message-ID: <000c01c5ea6f$58d68390$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>,
	<supheakmungkol.sarin@gmail.com>
References: <20051116052133.72218.qmail@web90208.mail.scd.yahoo.com>
Subject: Re: How to give weight to document when adding to the index?
Date: Wed, 16 Nov 2005 05:33:56 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

boosting the document using the method setBoost(double), i think the param 
is a double but not sure, it works on both Document and Field objects


lil'example:
    Document d = new Document();

    d.add(Field.Keyword("name","gekkokid"));
    d.setBoost(1.1); // default is 1.0 i believe
    writer.addDocument(d);

_gk
----- Original Message ----- 
From: "Supheakmungkol SARIN" <supheakmungkol@yahoo.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, November 16, 2005 5:21 AM
Subject: How to give weight to document when adding to the index?


> Dear Luceners,
>
> I'd like to give different weight to each of the documents in the index. 
> Is it possible to do this at the time we add the document to the index?
>
> Regards,
>
> Mungkol
>
>
>
>
>
>
>
> ---------------------------------
> Yahoo! FareChase - Search multiple travel sites in one click. 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 06:10:40 2005
Return-Path: <java-user-return-17520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77011 invoked from network); 16 Nov 2005 06:10:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 06:10:40 -0000
Received: (qmail 12079 invoked by uid 500); 16 Nov 2005 06:10:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12053 invoked by uid 500); 16 Nov 2005 06:10:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12042 invoked by uid 99); 16 Nov 2005 06:10:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 22:10:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 22:12:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 82D9B5B79B; Tue, 15 Nov 2005 22:10:09 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 800337F45E
	for <java-user@lucene.apache.org>; Tue, 15 Nov 2005 22:10:09 -0800 (PST)
Date: Tue, 15 Nov 2005 22:10:09 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: how newer documents have a better score
In-Reply-To: <001301c5ea6c$aaeb44c0$b900a8c0@jhi>
Message-ID: <Pine.LNX.4.58.0511152155230.11940@hal.rescomp.berkeley.edu>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com>
 <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com>
 <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au>
 <001301c5ea6c$aaeb44c0$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Hi, can anyone give me some pointers on making newer documents have a
: better ranking/score? i.e. documents i indexed today have a higher
: ranking/score in the index than documents that were index yesterday etc

This topic has come up more then once in the past, a good starting point
at an approximation can be found here...

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200501.mbox/%3cPine.LNX.4.58.0501101749580.4623@hal.rescomp.berkeley.edu%3e

...but there is new a new "FunctionQuery" class in Jira that will allow
for much better way to do this.  In a nut shell: you create a
FunctionQuery object on your (indexed) date field, and add it as an
optional clause to a Boolean query that contains at least one required
clause, and the function provides a score for every doc based on the value
of it's date field.

the code in Jira right now should work as is -- but I believe Yonik has
allready completely rewriten the API to make more sense, so if you wait a
few days it might be easier to use...

	http://issues.apache.org/jira/browse/LUCENE-446



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 06:15:01 2005
Return-Path: <java-user-return-17521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80200 invoked from network); 16 Nov 2005 06:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 06:15:00 -0000
Received: (qmail 22063 invoked by uid 500); 16 Nov 2005 06:14:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22010 invoked by uid 500); 16 Nov 2005 06:14:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21957 invoked by uid 99); 16 Nov 2005 06:14:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 22:14:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Nov 2005 22:16:25 -0800
Received: from aamta10-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20051116061429.WUIL17804.mta08-winn.ispmail.ntl.com@aamta10-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Wed, 16 Nov 2005 06:14:29 +0000
Received: from jhi ([81.98.13.34]) by aamta10-winn.ispmail.ntl.com
          with SMTP
          id <20051116061429.EWYV11396.aamta10-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Wed, 16 Nov 2005 06:14:29 +0000
Message-ID: <004601c5ea75$018761d0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <001301c5ea6c$aaeb44c0$b900a8c0@jhi> <Pine.LNX.4.58.0511152155230.11940@hal.rescomp.berkeley.edu>
Subject: Re: how newer documents have a better score
Date: Wed, 16 Nov 2005 06:14:23 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanks :)
_gk

----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: <java-user@lucene.apache.org>
Sent: Wednesday, November 16, 2005 6:10 AM
Subject: Re: how newer documents have a better score


>
> : Hi, can anyone give me some pointers on making newer documents have a
> : better ranking/score? i.e. documents i indexed today have a higher
> : ranking/score in the index than documents that were index yesterday etc
>
> This topic has come up more then once in the past, a good starting point
> at an approximation can be found here...
>
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200501.mbox/%3cPine.LNX.4.58.0501101749580.4623@hal.rescomp.berkeley.edu%3e
>
> ...but there is new a new "FunctionQuery" class in Jira that will allow
> for much better way to do this.  In a nut shell: you create a
> FunctionQuery object on your (indexed) date field, and add it as an
> optional clause to a Boolean query that contains at least one required
> clause, and the function provides a score for every doc based on the value
> of it's date field.
>
> the code in Jira right now should work as is -- but I believe Yonik has
> allready completely rewriten the API to make more sense, so if you wait a
> few days it might be easier to use...
>
> http://issues.apache.org/jira/browse/LUCENE-446
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 09:38:14 2005
Return-Path: <java-user-return-17522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67845 invoked from network); 16 Nov 2005 09:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 09:38:14 -0000
Received: (qmail 24435 invoked by uid 500); 16 Nov 2005 09:38:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24395 invoked by uid 500); 16 Nov 2005 09:38:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24384 invoked by uid 99); 16 Nov 2005 09:38:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 01:38:08 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.80.167.228] (HELO correo.telemadrid.org) (212.80.167.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 01:39:37 -0800
Received: from tm1.telemadrid.org ([212.80.167.225])
          by correo.telemadrid.org (Lotus Domino Release 6.5.1)
          with ESMTP id 2005111610372854-11269 ;
          Wed, 16 Nov 2005 10:37:28 +0100 
Importance: Normal
X-Priority: 3 (Normal)
Subject: boosting querys closer to the current date
MIME-Version: 1.0
From: dblanch@telemadrid.es
To: java-user@lucene.apache.org
X-MIMETrack: MIME-CD by Notes Server on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at
 16/11/2005 10:42:03,
	MIME-CD complete at 16/11/2005 10:42:03,
	Serialize by Router on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at 16/11/2005
 10:42:03,
	Itemize by SMTP Server on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 16/11/2005 10:37:28,
	Serialize by Router on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 16/11/2005 10:37:50,
	Serialize complete at 16/11/2005 10:37:50
Date: Wed, 16 Nov 2005 10:42:03 +0100
Message-ID: <OF65DB722B.E2B7C697-ONC12570BB.003549D8-C12570BB.003549E8@telemadrid.es>
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Providing that I have indexed documents with the following fields:

 Keyword:   lastmodifiedDate
 Unstored:  contents

And that I run a simple query only using just the contents field.

Is there anyway to change the way Lucene presents results, so documents
with a high score and lastmodifiedDate closer to today are presented first?
Note that I do not want to reverse sort by lastmodifiedDate, what I want is
to take the date into account in the scoring.

Regards,

Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 09:47:25 2005
Return-Path: <java-user-return-17523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71527 invoked from network); 16 Nov 2005 09:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 09:47:25 -0000
Received: (qmail 37289 invoked by uid 500); 16 Nov 2005 09:47:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37269 invoked by uid 500); 16 Nov 2005 09:47:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37258 invoked by uid 99); 16 Nov 2005 09:47:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 01:47:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [80.76.63.210] (HELO mail.exis.com.gr) (80.76.63.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 01:48:52 -0800
Received: from [192.168.2.32] (helo=clyde.thoukydides.gr)
	by rottweiler.thoukydides.gr with esmtp (Exim 4.43)
	id 1EcJsF-0000lr-H1
	for java-user@lucene.apache.org; Wed, 16 Nov 2005 11:46:52 +0200
Received: from mario.exis.com.gr ([192.168.1.4] helo=MARIO)
	by clyde.thoukydides.gr with esmtpa (Exim 4.43)
	id 1EcJxk-0005UA-E5
	for java-user@lucene.apache.org; Wed, 16 Nov 2005 11:52:20 +0200
Message-ID: <007c01c5ea92$9df48620$0401a8c0@MARIO>
From: "Marios Skounakis" <mscoon@exis.com.gr>
To: <java-user@lucene.apache.org>
Subject: Lucene & Transactional semantics
Date: Wed, 16 Nov 2005 11:46:27 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0079_01C5EAA3.60E5F820"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Score: -2.8 (--)
X-Spam-Report: 	-2.8 ALL_TRUSTED            Did not pass through any untrusted hosts
	 0.1 HTML_30_40             BODY: Message is 30% to 40% HTML
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0079_01C5EAA3.60E5F820
Content-Type: text/plain;
	charset="iso-8859-7"
Content-Transfer-Encoding: quoted-printable

Hi all,

I am interested in developing a system which will use Lucene to =
implement the search functionality. A key characteristic of this system =
is that certain information about the indexed documents will be editable =
by the user administrators. For instance, the user administrators can =
manually create "document collections" and assign some of the indexed =
documents to them. One way to implement document collections would by =
having documents have a dedicated field for storing the document =
collection id, and storing the document collection information in a =
database.

Ideally, such an operation as the above should have transactional =
semantics, i.e. if a user wants to assign documents x, y and z to =
collection C, then either all three documents should be assigned to the =
collection or, in case of error, none of the documents should be =
assigned to the collection. Also, if the operation were to be followed =
by an SQL query to update the database with the number of documents =
assigned to collection C, that should be included in the "transaction" =
as well.

Is there a straightforward way to do this with Lucene? Or are =
"transactions" a no-no for a system like Lucene and I should just go =
ahead without having transactional semantics?

Thanks in advance,

Marios Skounakis
------=_NextPart_000_0079_01C5EAA3.60E5F820--


From java-user-return-17524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 10:35:43 2005
Return-Path: <java-user-return-17524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95978 invoked from network); 16 Nov 2005 10:35:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 10:35:41 -0000
Received: (qmail 17012 invoked by uid 500); 16 Nov 2005 10:35:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16779 invoked by uid 500); 16 Nov 2005 10:35:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16754 invoked by uid 99); 16 Nov 2005 10:35:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 02:35:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 02:37:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0856F13E2005; Wed, 16 Nov 2005 05:35:11 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id A3FD413E2005
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 05:35:00 -0500 (EST)
In-Reply-To: <OF65DB722B.E2B7C697-ONC12570BB.003549D8-C12570BB.003549E8@telemadrid.es>
References: <OF65DB722B.E2B7C697-ONC12570BB.003549D8-C12570BB.003549E8@telemadrid.es>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A4B24E53-46EA-4368-A1F1-ADF5F5EE671B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: boosting querys closer to the current date
Date: Wed, 16 Nov 2005 05:35:08 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 16 Nov 2005, at 04:42, dblanch@telemadrid.es wrote:
> Providing that I have indexed documents with the following fields:
>
>  Keyword:   lastmodifiedDate
>  Unstored:  contents
>
> And that I run a simple query only using just the contents field.
>
> Is there anyway to change the way Lucene presents results, so  
> documents
> with a high score and lastmodifiedDate closer to today are  
> presented first?
> Note that I do not want to reverse sort by lastmodifiedDate, what I  
> want is
> to take the date into account in the scoring.

If you have a copy of "Lucene in Action", check out the TheServerSide  
case study that Dion Almaer contributed.  TSS boosts more recent  
content.

If you're re-indexing (for example nightly, like TSS does) you can  
dynamically adjust boosts on the document based on last modified date.

If you need to boost without reindexing, I'm not quite sure what the  
best solution is - perhaps a custom Query subclass that can do this  
based on the current date?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 11:24:59 2005
Return-Path: <java-user-return-17525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16890 invoked from network); 16 Nov 2005 11:24:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 11:24:58 -0000
Received: (qmail 68952 invoked by uid 500); 16 Nov 2005 11:24:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68927 invoked by uid 500); 16 Nov 2005 11:24:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68916 invoked by uid 99); 16 Nov 2005 11:24:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 03:24:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 03:26:25 -0800
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id jAGBOSo28199
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 11:24:29 GMT
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id jAGBOSM28195
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 11:24:28 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C5EAA0.4E31551B"
Subject: Re: RAMDirectory and Hibernate
Date: Wed, 16 Nov 2005 11:24:27 -0000
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A0130B11E@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re: RAMDirectory and Hibernate
Thread-Index: AcXcpZb2xoA4XbvsQ7CnJRfmatsYCQKK2b0gAAAhrCAA81CaQAAAWgcw
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5EAA0.4E31551B
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable


Hi,
I have drawn up a diagram for the architecture of the index/search
system I am building. It will use JMS Queues to provide SEDA like
capability.
Basically, a document change notification comes into the system, this is
serviced by an indexing node that builds a new index based on it, which
is sent onto a topic that the search nodes are subscribed to. Any
deletes are also published onto this topic. The searchnode takes it's
search functionality offline, updates it's index and then brings it's
search functionality online.=20
I have not implemented this yet, so any comments on this design would be
appreciated.

Kind regards
Peter Gelderbloem=20

-----Original Message-----
From: Peter Gelderbloem [mailto:Peter.Gelderbloem@mediasurface.com]=20
Sent: 11 November 2005 15:07
To: java-user@lucene.apache.org
Subject: Re: RAMDirectory and Hibernate


Martijn,

Sorry for the late reply.
I've been on holiday.
I had other more pressing things come up.
The problem I was trying to solve was clustering the indexing and
search.
I am thinking of breaking my application into indexing and search nodes
and keep them coordinated in some fashion. It would be nice to do this
coordination with established rdbms functionality as strategy, but I
could also use JMS. I will keep you updated when I get to that point. It
is still simmering in my mind at the moment.

Regards
Peter  =20
-----Original Message-----
From: Martijn Smit [mailto:Expires-jan06@gangkast.com]=20
Sent: 29 October 2005 17:27
To: Peter Gelderbloem
Cc: java-user@lucene.apache.org
Subject: Re: RAMDirectory and Hibernate

Peter,

Have you had any success yet on this particular approach?

regards,
Martijn

Peter Gelderbloem wrote:

>Hi,
>I want to map RAMDirectory to a database via Hibernate.
>Any ideas on how to do this properly?
>I thought of using JDBCDirectory for this, but I need to support more
>databases than MySQL and PostgreSQL.
>Many thanks,
>Peter=20
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
> =20
>
--=20

31.69 nHz =3D once a year


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



------_=_NextPart_001_01C5EAA0.4E31551B
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C5EAA0.4E31551B--

From java-user-return-17526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 17:05:40 2005
Return-Path: <java-user-return-17526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28975 invoked from network); 16 Nov 2005 17:05:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 17:05:39 -0000
Received: (qmail 99540 invoked by uid 500); 16 Nov 2005 17:05:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99510 invoked by uid 500); 16 Nov 2005 17:05:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99499 invoked by uid 99); 16 Nov 2005 17:05:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 09:05:31 -0800
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 66.249.82.204 is neither permitted nor denied by domain of lucene.user@googlemail.com)
Received: from [66.249.82.204] (HELO xproxy.gmail.com) (66.249.82.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 09:07:05 -0800
Received: by xproxy.gmail.com with SMTP id i28so1828277wxd
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 09:05:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AuG4PmVOVqe3agDBEckQNE/IJdvZV41oNGf7eDOzh0Mr6/EEWccqSxloq6/G41eHJfQdLUanLd5C/qM0jbGGqpljovrdWezdPElgUBp/oiia5WhncxmUp0GQlDwwcMudzMAWTyR+HhKlyo9b5A0Jp7SuTfL1OaFd18IC03mJ1JQ=
Received: by 10.70.43.4 with SMTP id q4mr3969508wxq;
        Wed, 16 Nov 2005 09:05:08 -0800 (PST)
Received: by 10.70.23.11 with HTTP; Wed, 16 Nov 2005 09:05:08 -0800 (PST)
Message-ID: <707091cc0511160905l1516aba1n@mail.gmail.com>
Date: Wed, 16 Nov 2005 17:05:08 +0000
From: Lucene User <lucene.user@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching Special Characters
In-Reply-To: <437A6D15.2010206@nuix.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=WINDOWS-1252
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <92A278501EF50444AD3EE1FFB51219550BCE39E7@emss10m03.rck.atm.lmco.com>
	 <437A6D15.2010206@nuix.com.au>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

QXMgd2UgaGF2ZSBhIHZlcnkgbGFyZ2UgaW5kZXgsIEknbSBpbnRlcmVzdGVkIGluIGtub3dpbmcg
d2hhdCBvdGhlcnMKZG8sIGJlZm9yZSBJIGNvbW1pdCB0byBkb2luZyB0aGUgYmVsb3cuCgpJZiBJ
IGRvIGdvIGRvd24gdGhhdCByb3V0ZSwgSSBhc3N1bWUgSSB1c2UgYSBTdGFuZGFyZEFuYWx5emVy
IG9uY2UgYWdhaW4/CgpJbiBhIFRlc3QsIEkgZGlkIHRoZSBmb2xsb3dpbmcuLi4KCnB1YmxpYyBj
bGFzcyBUZXN0THVjZW5lSW5kZXhDcmVhdGVBbmRJbmRleCBleHRlbmRzIFRlc3RDYXNlIHsKICAg
IHB1YmxpYyB2b2lkIGluZGV4KCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcg
aW5kZXhOYW1lID0gImM6XFxsdWNlbmVcXHRlc3QiOwogICAgICAgIEFuYWx5emVyIGFuYWx5emVy
ID0gbmV3IFN0YW5kYXJkQW5hbHl6ZXIoKTsKICAgICAgICBJbmRleFdyaXRlciB3cml0ZXIgPSBu
ZXcgSW5kZXhXcml0ZXIoaW5kZXhOYW1lLCBhbmFseXplciwgdHJ1ZSk7CiAgICAgICAgRG9jdW1l
bnQgZCA9IG5ldyBEb2N1bWVudCgpOwogICAgICAgIGQuYWRkKG5ldyBGaWVsZCgiaGVhZGxpbmUi
LCAiJiA+IDwgtCC4IIggryC3IJggqCDBIOEgwiDiIMYg5iDACuAgxSDlIMMg4yDEIOQgxyDnIMkg
6SDKIOogyCDoINAg8CDLIOsgzSDtIM4g7iDMIOwgzyDvINEg8SDTIPMg1CD0IIwgnArSIPIg2CD4
INUg9SDWIPYgiiCaIN8g3iD+INog+iDbIPsg2SD5INwg/CDdIP0g/yCfIiwgdHJ1ZSwgdHJ1ZSwK
dHJ1ZSkpOwogICAgICAgIHdyaXRlci5hZGREb2N1bWVudChkKTsKICAgICAgICB3cml0ZXIuY2xv
c2UoKTsKICAgICAgICBJbmRleFJlYWRlciByZWFkZXIgPSBJbmRleFJlYWRlci5vcGVuKGluZGV4
TmFtZSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShyZWFkZXIubnVtRG9jcygpPjApOwogICAgfQp9CgpV
c2luZyBsdWtlIEkgc2VhcmNoZWQgZm9yIGhlYWRsaW5lOsogd2hpY2ggY29ycmNldGVkIHJldHVy
bmVkIHRoZQphcnRpY2xlLiAgSG93ZXZlciwgd2hlbiBJIGRpZCBoZWFkbGluZTomIGl0IHJldHVy
bmVkIG5vdGhpbmcgd2hpY2ggSQpkaWRuJ3QgZXhwZWN0LgoKVGhhbmtzCgpPbiAxNS8xMS8wNSwg
RGFuaWVsIE5vbGwgPGRhbmllbEBudWl4LmNvbS5hdT4gd3JvdGU6Cj4gTW9yZG8sIEF2aXJhbiAo
RVhQIE4tTkFOTkFURUspIHdyb3RlOgo+Cj4gPllvdSBjYW4gdXNlIHlvdXIgb3duIEFuYWx5emVy
IHRvIHN1cHBvcnQgc3BlY2lhbCBjaGFyYWN0ZXJzLiBKdXN0Cj4gPnByb2Nlc3MgdGhlIHNwZWNp
YWwgY2hhcmFjdGVycyBpbiB5b3VyIGFuYWx5emVyCj4gPgo+ID4KPiBUaGF0J3Mgb25lIG9wdGlv
bi4gIFRoZSAiY29ycmVjdCIgc29sdXRpb24gd291bGQgYmUsIHNpbmNlIHRoaXMgaXMKPiBwcmVz
dW1hYmx5IEhUTUwgb3IgWE1MLCByZXBsYWNpbmcgZW50aXRpZXMgd2l0aCB0aGVpciBhY3R1YWwg
c3RyaW5nCj4gdmFsdWVzIGJlZm9yZSBhbmFseXNpbmcgdGhlIHRleHQuCj4KPiBEYW5pZWwKPgo+
IC0tCj4gRGFuaWVsIE5vbGwKPgo+IE5VSVggUHR5IEx0ZAo+IExldmVsIDgsIDE0MyBZb3JrIFN0
cmVldCwgU3lkbmV5IDIwMDAKPiBQaG9uZTogKDAyKSA5MjgzIDkwMTAKPiBGYXg6ICAgKDAyKSA5
MjgzIDkwMjAKPgo+IFRoaXMgbWVzc2FnZSBpcyBpbnRlbmRlZCBvbmx5IGZvciB0aGUgbmFtZWQg
cmVjaXBpZW50LiBJZiB5b3UgYXJlIG5vdAo+IHRoZSBpbnRlbmRlZCByZWNpcGllbnQgeW91IGFy
ZSBub3RpZmllZCB0aGF0IGRpc2Nsb3NpbmcsIGNvcHlpbmcsCj4gZGlzdHJpYnV0aW5nIG9yIHRh
a2luZyBhbnkgYWN0aW9uIGluIHJlbGlhbmNlIG9uIHRoZSBjb250ZW50cyBvZiB0aGlzCj4gbWVz
c2FnZSBvciBhdHRhY2htZW50IGlzIHN0cmljdGx5IHByb2hpYml0ZWQuCj4KPgo+IC0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNl
bmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNl
ci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4KPgo=


From java-user-return-17527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 19:01:09 2005
Return-Path: <java-user-return-17527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98426 invoked from network); 16 Nov 2005 19:01:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 19:01:08 -0000
Received: (qmail 23289 invoked by uid 500); 16 Nov 2005 19:01:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22501 invoked by uid 500); 16 Nov 2005 19:01:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22490 invoked by uid 99); 16 Nov 2005 19:01:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:01:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:02:37 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2BB485B78A; Wed, 16 Nov 2005 11:00:42 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 294907F45E
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 11:00:42 -0800 (PST)
Date: Wed, 16 Nov 2005 11:00:42 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: boosting querys closer to the current date
In-Reply-To: <A4B24E53-46EA-4368-A1F1-ADF5F5EE671B@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0511161056340.4690@hal.rescomp.berkeley.edu>
References: <OF65DB722B.E2B7C697-ONC12570BB.003549D8-C12570BB.003549E8@telemadrid.es>
 <A4B24E53-46EA-4368-A1F1-ADF5F5EE671B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: If you need to boost without reindexing, I'm not quite sure what the
: best solution is - perhaps a custom Query subclass that can do this
: based on the current date?

Take a look at my response to this exact same question from yesterday...

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200511.mbox/%3cPine.LNX.4.58.0511152155230.11940@hal.rescomp.berkeley.edu%3e



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 19:23:15 2005
Return-Path: <java-user-return-17528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7146 invoked from network); 16 Nov 2005 19:23:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 19:23:15 -0000
Received: (qmail 54690 invoked by uid 500); 16 Nov 2005 19:23:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54670 invoked by uid 500); 16 Nov 2005 19:23:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54659 invoked by uid 99); 16 Nov 2005 19:23:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:23:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:24:43 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Optimize vs non optimized index
Date: Wed, 16 Nov 2005 14:22:45 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13104600B2B@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Optimize vs non optimized index
Thread-Index: AcXq4CSDrhAaM8wdTeOz4PFFki7tGQAAoJVw
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Howdy all, have a quick question for you...

I am seeing quite a difference between optimized index and one that is
not optimized.  I have read a few papers that say that it shouldn't
matter, but I am seeing 7X speed or better when the index is optimized.
Is it possible that I am creating the original index incorrectly? =20

The reason why I am asking it due to the space it takes to optimize an
index.  I have an index that takes up about 2.5G, but when I optimize
it, it will take an additional 5G of space to do this (so 7.5G to
optimize it).  I was wondering if perhaps if this is the norm or not.

Thanks ahead of time,
Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 19:37:00 2005
Return-Path: <java-user-return-17529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13051 invoked from network); 16 Nov 2005 19:37:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 19:37:00 -0000
Received: (qmail 78539 invoked by uid 500); 16 Nov 2005 19:36:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78518 invoked by uid 500); 16 Nov 2005 19:36:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78507 invoked by uid 99); 16 Nov 2005 19:36:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:36:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 11:38:28 -0800
Received: by zproxy.gmail.com with SMTP id 13so1868338nzn
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 11:36:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CaxwXoxWVaj5LmxE2PYMKh9HtNCbcpWrCkN1yTV7lUK5JCHQzoZXK6JOJXqzd9f6VmgxrfJLqBpcO2TjNjKE8tanrnK6Vkfz1yJu00gokLFUHEM0Z25tiaubBDb3VmJl8Jqs1kA9ufriYcrYPAorthAMcoq+vQwC+4PPTgGg+8E=
Received: by 10.65.240.6 with SMTP id s6mr2840100qbr;
        Wed, 16 Nov 2005 11:36:32 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Wed, 16 Nov 2005 11:36:31 -0800 (PST)
Message-ID: <c68e39170511161136j7af698bch178b3eb8bc1d7c26@mail.gmail.com>
Date: Wed, 16 Nov 2005 14:36:31 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Optimize vs non optimized index
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13104600B2B@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <14FBF41EF1411B45B2EC4ADEAC53D13104600B2B@MAIL01.wescodist.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do you have any deletions in the non-optimized version of the index?
If so, a bug was fixed recently that made for some very slow queries:
http://issues.apache.org/jira/browse/LUCENE-454

You could also try a smaller mergeFactor, which would slow indexing,
but decrease the number of segments, and hence speed searching.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/16/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
> Howdy all, have a quick question for you...
>
> I am seeing quite a difference between optimized index and one that is
> not optimized.  I have read a few papers that say that it shouldn't
> matter, but I am seeing 7X speed or better when the index is optimized.
> Is it possible that I am creating the original index incorrectly?
>
> The reason why I am asking it due to the space it takes to optimize an
> index.  I have an index that takes up about 2.5G, but when I optimize
> it, it will take an additional 5G of space to do this (so 7.5G to
> optimize it).  I was wondering if perhaps if this is the norm or not.
>
> Thanks ahead of time,
> Tom

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 20:02:11 2005
Return-Path: <java-user-return-17530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24318 invoked from network); 16 Nov 2005 20:02:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 20:02:10 -0000
Received: (qmail 29678 invoked by uid 500); 16 Nov 2005 20:02:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29644 invoked by uid 500); 16 Nov 2005 20:02:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29622 invoked by uid 99); 16 Nov 2005 20:02:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:02:00 -0800
X-ASF-Spam-Status: No, hits=-15.0 required=10.0
	tests=ENV_AND_HDR_SPF_MATCH,HTML_MESSAGE,SPF_PASS,USER_IN_DEF_SPF_WL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of parikpol@amazon.com designates 207.171.160.38 as permitted sender)
Received: from [207.171.160.38] (HELO smtp-out-2002.amazon.com) (207.171.160.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:03:34 -0800
X-Amazon-Corporate-Relay: smtp-out-2002.iad2.amazon.com
X-AMAZON-TRACK: java-user@lucene.apache.org
Received: from smtp-in-0101.sea3.amazon.com by smtp-out-2002.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-0101.sea3.amazon.com)
Received: from ex-mail-sea-06.ant.amazon.com (ex-mail-sea-06.ant.amazon.com [10.224.13.33])
	by smtp-in-0101.sea3.amazon.com (8.12.10/8.12.10) with ESMTP id jAGK1b18002664;
	Wed, 16 Nov 2005 20:01:37 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5EAE8.8D79425F"
Subject: Issues while doing ant on lucene source
Date: Wed, 16 Nov 2005 12:01:37 -0800
Message-ID: <3DD58C12CC73BF40B5498B065E42071405FD5107@ex-mail-sea-06.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issues while doing ant on lucene source
Thread-Index: AcXq6I1NiPozbQC/RRitwwEFFRA61w==
From: "Pol, Parikshit" <parikpol@amazon.com>
To: <java-user@lucene.apache.org>, <java-dev@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5EAE8.8D79425F
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Folks.
I downloaded the Lucene and tried to do an ant. It initially gave me the =
following error:
BUILD FAILED
file:/home/parikpol/downloads/lucene-1.4.3/build.xml:11: Unexpected =
element "tstamp"

I commented out the tstamp tag from build.xml, and now it gives me the =
following errors:
compile-core:
    [javac] Compiling 160 source files to =
/home/parikpol/downloads/lucene-1.4.3/build/classes/java
    [javac] =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:236: error: Type `StringIndex' not found in the =
declaration of the return type of method `getStringIndex'.
    [javac]      public StringIndex getStringIndex (IndexReader reader, =
String field)
    [javac]             ^
    [javac] =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:291: error: Type `StringIndex' not found in the =
declaration of the local variable `value'.
    [javac]          StringIndex value =3D new StringIndex (retArray, =
mterms);
    [javac]          ^
    [javac] 2 errors, 5 warnings

Any help would be appreciated.
Thanks.
Parik

------_=_NextPart_001_01C5EAE8.8D79425F--

From java-user-return-17531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 20:20:00 2005
Return-Path: <java-user-return-17531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31551 invoked from network); 16 Nov 2005 20:20:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 20:20:00 -0000
Received: (qmail 50636 invoked by uid 500); 16 Nov 2005 20:19:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50604 invoked by uid 500); 16 Nov 2005 20:19:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50593 invoked by uid 99); 16 Nov 2005 20:19:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:19:54 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gregak@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:21:28 -0800
Received: by wproxy.gmail.com with SMTP id i14so1799060wra
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 12:19:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=TMlNDr/14NyShIG+cplR0tEkw8TAYdmegv+Kj/FwtXo2vlma0IbnTZX4zWeCn7LpS6B9XZe87njLjRfTZuSX/1OtNecHAevvfRIwH9M6Dk8unFpPz8GdTNBfrIPnaOSAG2+KiUd+SSwnEVhFniH9H7xLastSIwFzDyMndhIltJQ=
Received: by 10.54.157.8 with SMTP id f8mr4837427wre;
        Wed, 16 Nov 2005 12:19:33 -0800 (PST)
Received: by 10.54.154.5 with HTTP; Wed, 16 Nov 2005 12:19:33 -0800 (PST)
Message-ID: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
Date: Wed, 16 Nov 2005 12:19:33 -0800
From: Greg K <gregak@gmail.com>
To: java-user@lucene.apache.org
Subject: Filtering on a SpanQuery without losing spans
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5991_26102680.1132172373088"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5991_26102680.1132172373088
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All,

I'm using a bunch of SpanNearQueries combined in a SpanOrQuery to do a set
of searches matches a phrase with a prefix search at the end. I.e.

"phrase with prefix s*" kind of thing that matches "phrase with prefix
search" and "phrase with prefix string".

It works great and lets me quickly produce excerpts with the spans that I
get via getSpans.

Now, however, I'd like to be able restrict the search to certain documents
in the index, so I don't have to stream through a couple of thousand spans
to produce the 10 excerpts on a subset of the documents.

I've tried added a term to the SpanNearQueries that targets a keyword field
containing the document ids, but SNQ (understandably) can't handle that.
There isn't a SpanBooleanQuery and if I wrap the SpanOrQuery in a
BooleanQuery I'll lose access to the getSpans() method - same if I use a
Filter - can't get spans out of a Hits object, right?

Am I missing something? Is there a straightforward way to do what I'm tryin=
g
to do that I'm missing?

Thanks,

Greg

------=_Part_5991_26102680.1132172373088--

From java-user-return-17532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 20:43:57 2005
Return-Path: <java-user-return-17532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49783 invoked from network); 16 Nov 2005 20:43:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 20:43:57 -0000
Received: (qmail 89470 invoked by uid 500); 16 Nov 2005 20:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89451 invoked by uid 500); 16 Nov 2005 20:43:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89438 invoked by uid 99); 16 Nov 2005 20:43:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:43:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gregak@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:45:25 -0800
Received: by wproxy.gmail.com with SMTP id 55so208wri
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 12:43:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ILZ97nQZAOiJBy3reEdATRd3Jsh+5AzRdQqnP5QoZ+jCD795Y1RCKrBl1MnZVEpozHDBKMa0jfYU0NNKbMgsty+/gRi7N7E1qAmMbYR7WW06SN4J7VfE7ckBY8C7F6RRpdtnZA5wVy526tmMF0+HB1s3JhoQBKcw0yMydCZsmqU=
Received: by 10.54.89.19 with SMTP id m19mr118459wrb;
        Wed, 16 Nov 2005 12:42:05 -0800 (PST)
Received: by 10.54.154.5 with HTTP; Wed, 16 Nov 2005 12:43:29 -0800 (PST)
Message-ID: <b7bacce80511161243t4dd48011ie6b85a84fcca6df5@mail.gmail.com>
Date: Wed, 16 Nov 2005 12:43:29 -0800
From: Greg K <gregak@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issues while doing ant on lucene source
In-Reply-To: <3DD58C12CC73BF40B5498B065E42071405FD5107@ex-mail-sea-06.ant.amazon.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6283_6782952.1132173809613"
References: <3DD58C12CC73BF40B5498B065E42071405FD5107@ex-mail-sea-06.ant.amazon.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6283_6782952.1132173809613
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Parikshit,

TStamp (timestamp) is a core Ant task - so it should be recognized. What
version of Ant do you have?

Greg

On 11/16/05, Pol, Parikshit <parikpol@amazon.com> wrote:
>
> Hi Folks.
> I downloaded the Lucene and tried to do an ant. It initially gave me the
> following error:
> BUILD FAILED
> file:/home/parikpol/downloads/lucene-1.4.3/build.xml:11: Unexpected
> element "tstamp"
>
> I commented out the tstamp tag from build.xml, and now it gives me the
> following errors:
> compile-core:
> [javac] Compiling 160 source files to /home/parikpol/downloads/lucene-
> 1.4.3/build/classes/java
> [javac] /home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/=
search/FieldCacheImpl.java:236:
> error: Type `StringIndex' not found in the declaration of the return type=
 of
> method `getStringIndex'.
> [javac] public StringIndex getStringIndex (IndexReader reader, String
> field)
> [javac] ^
> [javac] /home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/=
search/FieldCacheImpl.java:291:
> error: Type `StringIndex' not found in the declaration of the local varia=
ble
> `value'.
> [javac] StringIndex value =3D new StringIndex (retArray, mterms);
> [javac] ^
> [javac] 2 errors, 5 warnings
>
> Any help would be appreciated.
> Thanks.
> Parik
>
>

------=_Part_6283_6782952.1132173809613--

From java-user-return-17533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 20:46:09 2005
Return-Path: <java-user-return-17533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50754 invoked from network); 16 Nov 2005 20:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 20:46:08 -0000
Received: (qmail 93359 invoked by uid 500); 16 Nov 2005 20:46:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93339 invoked by uid 500); 16 Nov 2005 20:46:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93328 invoked by uid 99); 16 Nov 2005 20:46:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:46:03 -0800
X-ASF-Spam-Status: No, hits=-15.0 required=10.0
	tests=ENV_AND_HDR_SPF_MATCH,SPF_PASS,USER_IN_DEF_SPF_WL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of parikpol@amazon.com designates 207.171.160.38 as permitted sender)
Received: from [207.171.160.38] (HELO smtp-out-2002.amazon.com) (207.171.160.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:47:36 -0800
X-Amazon-Corporate-Relay: smtp-out-2002.iad2.amazon.com
X-AMAZON-TRACK: <java-user@lucene.apache.org>
Received: from smtp-in-2004.iad2.amazon.com by smtp-out-2002.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-2004.iad2.amazon.com)
Received: from ex-mail-sea-06.ant.amazon.com (ex-mail-sea-06.ant.amazon.com [10.224.13.33])
	by smtp-in-2004.iad2.amazon.com (8.12.10/8.12.10) with ESMTP id jAGKje11032660
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 20:45:40 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Issues while doing ant on lucene source
Date: Wed, 16 Nov 2005 12:45:39 -0800
Message-ID: <3DD58C12CC73BF40B5498B065E42071405FD5160@ex-mail-sea-06.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issues while doing ant on lucene source
Thread-Index: AcXq7nylyMFgNDdjRuOaZoFzopaoowAACXkg
From: "Pol, Parikshit" <parikpol@amazon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ant  1.5.2-23. Maybe I will try upgrading it too 1.6.
-Parik
=20

-----Original Message-----
From: Greg K [mailto:gregak@gmail.com]=20
Sent: Wednesday, November 16, 2005 12:43 PM
To: java-user@lucene.apache.org
Subject: Re: Issues while doing ant on lucene source

Parikshit,

TStamp (timestamp) is a core Ant task - so it should be recognized. What =
version of Ant do you have?

Greg

On 11/16/05, Pol, Parikshit <parikpol@amazon.com> wrote:
>
> Hi Folks.
> I downloaded the Lucene and tried to do an ant. It initially gave me=20
> the following error:
> BUILD FAILED
> file:/home/parikpol/downloads/lucene-1.4.3/build.xml:11: Unexpected=20
> element "tstamp"
>
> I commented out the tstamp tag from build.xml, and now it gives me the =

> following errors:
> compile-core:
> [javac] Compiling 160 source files to /home/parikpol/downloads/lucene- =

> 1.4.3/build/classes/java [javac]=20
> =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:236:
> error: Type `StringIndex' not found in the declaration of the return=20
> type of method `getStringIndex'.
> [javac] public StringIndex getStringIndex (IndexReader reader, String
> field)
> [javac] ^
> [javac] =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:291:
> error: Type `StringIndex' not found in the declaration of the local=20
> variable `value'.
> [javac] StringIndex value =3D new StringIndex (retArray, mterms);=20
> [javac] ^ [javac] 2 errors, 5 warnings
>
> Any help would be appreciated.
> Thanks.
> Parik
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 20:57:20 2005
Return-Path: <java-user-return-17534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55882 invoked from network); 16 Nov 2005 20:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 20:57:20 -0000
Received: (qmail 11559 invoked by uid 500); 16 Nov 2005 20:57:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11539 invoked by uid 500); 16 Nov 2005 20:57:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11528 invoked by uid 99); 16 Nov 2005 20:57:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:57:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:58:48 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAGKupF3013107
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 21:56:52 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Filtering on a SpanQuery without losing spans
Date: Wed, 16 Nov 2005 21:56:51 +0100
User-Agent: KMail/1.5.4
References: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
In-Reply-To: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511162156.51624.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Greg,

On Wednesday 16 November 2005 21:19, Greg K wrote:
> Hi All,
> 
> I'm using a bunch of SpanNearQueries combined in a SpanOrQuery to do a set
> of searches matches a phrase with a prefix search at the end. I.e.
> 
> "phrase with prefix s*" kind of thing that matches "phrase with prefix
> search" and "phrase with prefix string".
> 
> It works great and lets me quickly produce excerpts with the spans that I
> get via getSpans.
> 
> Now, however, I'd like to be able restrict the search to certain documents
> in the index, so I don't have to stream through a couple of thousand spans
> to produce the 10 excerpts on a subset of the documents.
> 
> I've tried added a term to the SpanNearQueries that targets a keyword field
> containing the document ids, but SNQ (understandably) can't handle that.
> There isn't a SpanBooleanQuery and if I wrap the SpanOrQuery in a
> BooleanQuery I'll lose access to the getSpans() method - same if I use a
> Filter - can't get spans out of a Hits object, right?
> 
...

Once you know the document numbers that you want the getSpans() to work
on, you can make a Filter for those doc nrs (set the corresponding bits
in the BitSet for the Filter) and use this FilteredQuery:
http://issues.apache.org/jira/browse/LUCENE-330
to wrap your SpanQuery.
This FilteredQuery requires skipTo(), and the scorer for
SNQ implements that, so it should work.

The FilteredQuery in 1.4.3 will score all documents regardless of whether
they are filtered out or not.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 21:00:06 2005
Return-Path: <java-user-return-17535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57438 invoked from network); 16 Nov 2005 21:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 21:00:05 -0000
Received: (qmail 22270 invoked by uid 500); 16 Nov 2005 21:00:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22249 invoked by uid 500); 16 Nov 2005 20:59:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22238 invoked by uid 99); 16 Nov 2005 20:59:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 12:59:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 13:01:33 -0800
Received: (qmail 68265 invoked by uid 89); 16 Nov 2005 20:59:36 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 16 Nov 2005 20:59:36 -0000
Message-ID: <437B9DB7.4010009@apache.org>
Date: Wed, 16 Nov 2005 12:59:35 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au>
In-Reply-To: <437AB3DD.8060704@nuix.com.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Noll wrote:
> Timings were obtained by performing the same search 1,000 times and
> averaging the total time.  This was then performed five times in a row
> to get the range that's displayed below.  Memory usage was obtained
> using a 20-second sleep after loading the index, and then using the
> Windows task manager to see the memory usage 10 seconds into the sleep
> (the garbage collector tends to free up some memory during the first
> few seconds of the sleep.)
> 
> Timings for a simple TermQuery on the term "one" (docFreq = 22):

I would be cautious about concluding too much from a single term, since 
you may get lucky and pick a term that is close to the index point. 
Rather you should average timings over a number of terms, randomly 
ordered.  If you wish to remove i/o times, then don't time the first 
iteration.  Does that make sense?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 21:18:02 2005
Return-Path: <java-user-return-17536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66615 invoked from network); 16 Nov 2005 21:18:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 21:18:02 -0000
Received: (qmail 59063 invoked by uid 500); 16 Nov 2005 21:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59017 invoked by uid 500); 16 Nov 2005 21:17:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58973 invoked by uid 99); 16 Nov 2005 21:17:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 13:17:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 64.233.184.202 as permitted sender)
Received: from [64.233.184.202] (HELO wproxy.gmail.com) (64.233.184.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 13:19:26 -0800
Received: by wproxy.gmail.com with SMTP id i31so1519872wra
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 13:17:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KFSUHz5bhzxwX3KfHKhAh6n8trjiexnTs6xI2ND3OtgcbyfMT8ZDm/tmwkQ7th9Vgat7Prqoj2+oN29sqPeQTrbKAI8aNZIhNqCAOE2oFBTc2X+Mg54P1kGMqDL0dWFtrAz385cCE/hpwPcT7qDfMFHixx0/FM7dd1MrdVTCQgg=
Received: by 10.54.100.2 with SMTP id x2mr5664679wrb;
        Wed, 16 Nov 2005 13:17:31 -0800 (PST)
Received: by 10.54.83.10 with HTTP; Wed, 16 Nov 2005 13:17:31 -0800 (PST)
Message-ID: <88c6a6720511161317x7c45a61dy1dbf3669bbb23b53@mail.gmail.com>
Date: Wed, 16 Nov 2005 15:17:31 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Optimize vs non optimized index
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13104600B2B@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <14FBF41EF1411B45B2EC4ADEAC53D13104600B2B@MAIL01.wescodist.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you using the compound index format (do you have .cfs files)?  I
think using the non-compound format might take less space (2.5G less
in your case) when optimizing, since it doesn't have to do that last
step of copying all the index files into the .cfs file.

Also Lucene 1.9 (available from subversion) seems to take less disk
space during optimizing with the compound format.

As for your original question, what is your mergeFactor set to?  Try
setting it lower (down to 2 if you want to minimize the number of
segments).  This will cause more frequent merges during indexing, but
keep the number of segments down.

-chris

On 11/16/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
> Howdy all, have a quick question for you...
>
> I am seeing quite a difference between optimized index and one that is
> not optimized.  I have read a few papers that say that it shouldn't
> matter, but I am seeing 7X speed or better when the index is optimized.
> Is it possible that I am creating the original index incorrectly?
>
> The reason why I am asking it due to the space it takes to optimize an
> index.  I have an index that takes up about 2.5G, but when I optimize
> it, it will take an additional 5G of space to do this (so 7.5G to
> optimize it).  I was wondering if perhaps if this is the norm or not.
>
> Thanks ahead of time,
> Tom
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 22:10:26 2005
Return-Path: <java-user-return-17537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89318 invoked from network); 16 Nov 2005 22:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 22:10:26 -0000
Received: (qmail 47059 invoked by uid 500); 16 Nov 2005 22:10:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46338 invoked by uid 500); 16 Nov 2005 22:10:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46327 invoked by uid 99); 16 Nov 2005 22:10:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:10:18 -0800
X-ASF-Spam-Status: No, hits=-15.0 required=10.0
	tests=ENV_AND_HDR_SPF_MATCH,SPF_PASS,USER_IN_DEF_SPF_WL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of parikpol@amazon.com designates 207.171.160.37 as permitted sender)
Received: from [207.171.160.37] (HELO smtp-out-2001.amazon.com) (207.171.160.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:11:52 -0800
X-Amazon-Corporate-Relay: smtp-out-2001.iad2.amazon.com
X-AMAZON-TRACK: <java-user@lucene.apache.org>
Received: from smtp-in-2001.iad2.amazon.com by smtp-out-2001.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-2001.iad2.amazon.com)
Received: from ex-mail-sea-06.ant.amazon.com (ex-mail-sea-06.ant.amazon.com [10.224.13.33])
	by smtp-in-2001.iad2.amazon.com (8.12.10/8.12.10) with ESMTP id jAGM9uf3030546
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 22:09:56 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Issues while doing ant on lucene source
Date: Wed, 16 Nov 2005 14:09:55 -0800
Message-ID: <3DD58C12CC73BF40B5498B065E420714061F50AB@ex-mail-sea-06.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issues while doing ant on lucene source
Thread-Index: AcXq7nylyMFgNDdjRuOaZoFzopaoowAC+bZQ
From: "Pol, Parikshit" <parikpol@amazon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I had an old installation of ant causing the problems. I had to remove =
the /use/share/ant folder to make it working.
Thanks for your input.
=20

-----Original Message-----
From: Greg K [mailto:gregak@gmail.com]=20
Sent: Wednesday, November 16, 2005 12:43 PM
To: java-user@lucene.apache.org
Subject: Re: Issues while doing ant on lucene source

Parikshit,

TStamp (timestamp) is a core Ant task - so it should be recognized. What =
version of Ant do you have?

Greg

On 11/16/05, Pol, Parikshit <parikpol@amazon.com> wrote:
>
> Hi Folks.
> I downloaded the Lucene and tried to do an ant. It initially gave me=20
> the following error:
> BUILD FAILED
> file:/home/parikpol/downloads/lucene-1.4.3/build.xml:11: Unexpected=20
> element "tstamp"
>
> I commented out the tstamp tag from build.xml, and now it gives me the =

> following errors:
> compile-core:
> [javac] Compiling 160 source files to /home/parikpol/downloads/lucene- =

> 1.4.3/build/classes/java [javac]=20
> =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:236:
> error: Type `StringIndex' not found in the declaration of the return=20
> type of method `getStringIndex'.
> [javac] public StringIndex getStringIndex (IndexReader reader, String
> field)
> [javac] ^
> [javac] =
/home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/search/F=
ieldCacheImpl.java:291:
> error: Type `StringIndex' not found in the declaration of the local=20
> variable `value'.
> [javac] StringIndex value =3D new StringIndex (retArray, mterms);=20
> [javac] ^ [javac] 2 errors, 5 warnings
>
> Any help would be appreciated.
> Thanks.
> Parik
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 22:18:58 2005
Return-Path: <java-user-return-17538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92659 invoked from network); 16 Nov 2005 22:17:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 22:17:49 -0000
Received: (qmail 55735 invoked by uid 500); 16 Nov 2005 22:17:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54925 invoked by uid 500); 16 Nov 2005 22:17:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54911 invoked by uid 99); 16 Nov 2005 22:17:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:17:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:19:06 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Optimize vs non optimized index
Date: Wed, 16 Nov 2005 17:17:10 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13104600C19@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Optimize vs non optimized index
Thread-Index: AcXq5TDCmYek9ziRQO2hf5NLpgqtNAAFfB8A
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the advice Yonik.. I do have deletions in my 1.4.3 index. I
downloaded the lucene-1.9-rc1-dev.jar file to give it a go and after
upgrading a few of the methods from the deprecated methods, I keep
getting this error: class "org.apache.lucene.document.Field$Store"'s
signer information does not match signer information of other classes in
the same package

If I can get this to go, I will retest.
Tom

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: Wednesday, November 16, 2005 2:37 PM
To: java-user@lucene.apache.org
Subject: Re: Optimize vs non optimized index

Do you have any deletions in the non-optimized version of the index?
If so, a bug was fixed recently that made for some very slow queries:
http://issues.apache.org/jira/browse/LUCENE-454

You could also try a smaller mergeFactor, which would slow indexing,
but decrease the number of segments, and hence speed searching.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/16/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
> Howdy all, have a quick question for you...
>
> I am seeing quite a difference between optimized index and one that is
> not optimized.  I have read a few papers that say that it shouldn't
> matter, but I am seeing 7X speed or better when the index is
optimized.
> Is it possible that I am creating the original index incorrectly?
>
> The reason why I am asking it due to the space it takes to optimize an
> index.  I have an index that takes up about 2.5G, but when I optimize
> it, it will take an additional 5G of space to do this (so 7.5G to
> optimize it).  I was wondering if perhaps if this is the norm or not.
>
> Thanks ahead of time,
> Tom

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 22:28:19 2005
Return-Path: <java-user-return-17539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98549 invoked from network); 16 Nov 2005 22:28:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 22:28:17 -0000
Received: (qmail 77309 invoked by uid 500); 16 Nov 2005 22:28:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76909 invoked by uid 500); 16 Nov 2005 22:28:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76898 invoked by uid 99); 16 Nov 2005 22:28:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:28:10 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:29:44 -0800
Received: by zproxy.gmail.com with SMTP id i28so1804490nzi
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 14:27:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sACc67+ac7mB3kFyYk4ubW0qPPBIKcHmHEq7sG+Tf2bsmtVi1hkYhdONN3MIAblyfhNe9mUim/85Xmnx5Gt/Nz9VHvgIO7ud4/OBaBL59r39rZ/FZe/8eyXgdzx7FeVbc3Pz6Z0gP2VdSRidNEPgznJRqWNWLBpLjgmEONDMIZw=
Received: by 10.65.250.6 with SMTP id c6mr2978299qbs;
        Wed, 16 Nov 2005 14:27:47 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Wed, 16 Nov 2005 14:27:47 -0800 (PST)
Message-ID: <c68e39170511161427r7d8563a4qd0de43ba501f0a22@mail.gmail.com>
Date: Wed, 16 Nov 2005 17:27:47 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Optimize vs non optimized index
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13104600C19@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <14FBF41EF1411B45B2EC4ADEAC53D13104600C19@MAIL01.wescodist.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That jar may be out of date...
I would grab the source and do a build.  It's easy if you have a
command line svn client and ant installed.

svn checkout  http://svn.apache.org/repos/asf/lucene/java/trunk .
ant

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706



On 11/16/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
> Thanks for the advice Yonik.. I do have deletions in my 1.4.3 index. I
> downloaded the lucene-1.9-rc1-dev.jar file to give it a go and after
> upgrading a few of the methods from the deprecated methods, I keep
> getting this error: class "org.apache.lucene.document.Field$Store"'s
> signer information does not match signer information of other classes in
> the same package
>
> If I can get this to go, I will retest.
> Tom
>
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Wednesday, November 16, 2005 2:37 PM
> To: java-user@lucene.apache.org
> Subject: Re: Optimize vs non optimized index
>
> Do you have any deletions in the non-optimized version of the index?
> If so, a bug was fixed recently that made for some very slow queries:
> http://issues.apache.org/jira/browse/LUCENE-454
>
> You could also try a smaller mergeFactor, which would slow indexing,
> but decrease the number of segments, and hence speed searching.
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 11/16/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
> > Howdy all, have a quick question for you...
> >
> > I am seeing quite a difference between optimized index and one that is
> > not optimized.  I have read a few papers that say that it shouldn't
> > matter, but I am seeing 7X speed or better when the index is
> optimized.
> > Is it possible that I am creating the original index incorrectly?
> >
> > The reason why I am asking it due to the space it takes to optimize an
> > index.  I have an index that takes up about 2.5G, but when I optimize
> > it, it will take an additional 5G of space to do this (so 7.5G to
> > optimize it).  I was wondering if perhaps if this is the norm or not.
> >
> > Thanks ahead of time,
> > Tom

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 22:46:16 2005
Return-Path: <java-user-return-17540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8319 invoked from network); 16 Nov 2005 22:46:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 22:46:16 -0000
Received: (qmail 13591 invoked by uid 500); 16 Nov 2005 22:46:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13575 invoked by uid 500); 16 Nov 2005 22:46:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13564 invoked by uid 99); 16 Nov 2005 22:46:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:46:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 14:47:43 -0800
Received: (qmail 59826 invoked by uid 89); 16 Nov 2005 22:45:46 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 16 Nov 2005 22:45:46 -0000
Message-ID: <437BB699.2070706@apache.org>
Date: Wed, 16 Nov 2005 14:45:45 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Filtering on a SpanQuery without losing spans
References: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
In-Reply-To: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Greg K wrote:
> Now, however, I'd like to be able restrict the search to certain documents
> in the index, so I don't have to stream through a couple of thousand spans
> to produce the 10 excerpts on a subset of the documents.
> 
> I've tried added a term to the SpanNearQueries that targets a keyword field
> containing the document ids, but SNQ (understandably) can't handle that.
> There isn't a SpanBooleanQuery and if I wrap the SpanOrQuery in a
> BooleanQuery I'll lose access to the getSpans() method - same if I use a
> Filter - can't get spans out of a Hits object, right?
> 
> Am I missing something? Is there a straightforward way to do what I'm trying
> to do that I'm missing?

I think what you need is a SpanAndQuery, with a constructor like:

    SpanAndQuery(SpanQuery spanQ, Query docsQ);

This would return the subset of spans matching spanQ whose documents 
match docQ.  This should not be too hard to implement.  Its Spans 
implementation might look something like:

private Spans spans;
private Scorer docs;
private boolean more;

public SpanAndSpans(SpanQuery spanQ, Query docQ,
                     IndexReader reader, Searcher searcher) {
   spans = spanQ.getSpans(reader);
   docs = docQ.weight(searcher).scorer(reader);
   more = docs.next();
}

public boolean next() throws IOException {
   if (!more) return false;
   more = spans.next();
   while (more) {
     if (spans.doc() > docs.doc()) {
       more = docs.skipTo(spans.doc());
     } else if (spans.doc() < docs.doc()) {
       more = spans.skipTo(docs.doc());
     } else if (spans.doc() == docs.doc()) {
       return true;
     }
   }
   return false;
}

public boolean skipTo(int doc) throws IOException {
   if (!more) return false;
   more = docs.skipTo(doc);
   return next();
}

This is untested and incomplete, but does it look like the right direction?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 23:03:15 2005
Return-Path: <java-user-return-17541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16154 invoked from network); 16 Nov 2005 23:03:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 23:03:15 -0000
Received: (qmail 47824 invoked by uid 500); 16 Nov 2005 23:03:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47805 invoked by uid 500); 16 Nov 2005 23:03:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47789 invoked by uid 99); 16 Nov 2005 23:03:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 15:03:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 15:04:42 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 07C68B7124
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 10:02:46 +1100 (EST)
Message-ID: <437BBC15.4090901@nuix.com.au>
Date: Thu, 17 Nov 2005 10:09:09 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org>
In-Reply-To: <437B9DB7.4010009@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Daniel Noll wrote:
>
>> Timings were obtained by performing the same search 1,000 times and
>> averaging the total time.  This was then performed five times in a row
>> to get the range that's displayed below.  Memory usage was obtained
>> using a 20-second sleep after loading the index, and then using the
>> Windows task manager to see the memory usage 10 seconds into the sleep
>> (the garbage collector tends to free up some memory during the first
>> few seconds of the sleep.)
>>
>> Timings for a simple TermQuery on the term "one" (docFreq = 22):
>
>
> I would be cautious about concluding too much from a single term, 
> since you may get lucky and pick a term that is close to the index 
> point. Rather you should average timings over a number of terms, 
> randomly ordered.  If you wish to remove i/o times, then don't time 
> the first iteration.  Does that make sense?

I actually did throw a lot of terms in, and eventually chose "one" for 
the tests because it was the slowest query to complete of them all 
(hence I figured it was already spending some fairly long time in I/O, 
and would be penalised the most.)  Every other query was around 7ms 
before tweaking, and the tweak increased them all to somewhere around 
10ms but that's still a lot faster than "one" was even at its fastest.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 16 23:33:29 2005
Return-Path: <java-user-return-17542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28439 invoked from network); 16 Nov 2005 23:33:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Nov 2005 23:33:29 -0000
Received: (qmail 84520 invoked by uid 500); 16 Nov 2005 23:33:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84495 invoked by uid 500); 16 Nov 2005 23:33:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84477 invoked by uid 99); 16 Nov 2005 23:33:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 15:33:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gregak@gmail.com designates 64.233.184.202 as permitted sender)
Received: from [64.233.184.202] (HELO wproxy.gmail.com) (64.233.184.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 15:34:56 -0800
Received: by wproxy.gmail.com with SMTP id 58so32597wri
        for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 15:33:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Wo+Y58G2geda9MvkvO3/avbEf5lHG9tmcGdcQ5CNo9/pi0vA2sO48+gG5ErcHCDG9zK+v/zKxvv+2VWMXanc1NPPa9C4oElDGVdGT00YYY7Z1nIm3iLRbxfFblmEaL+9ugCccL2T/7DDsfqfpa92jZzYGLwLojXTBtSvJ7koMwM=
Received: by 10.54.109.9 with SMTP id h9mr104742wrc;
        Wed, 16 Nov 2005 15:33:00 -0800 (PST)
Received: by 10.54.154.5 with HTTP; Wed, 16 Nov 2005 15:33:00 -0800 (PST)
Message-ID: <b7bacce80511161533r708d1889m46d034701fa2a089@mail.gmail.com>
Date: Wed, 16 Nov 2005 15:33:00 -0800
From: Greg K <gregak@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Filtering on a SpanQuery without losing spans
In-Reply-To: <437BB699.2070706@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7824_30807186.1132183980807"
References: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com>
	 <437BB699.2070706@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7824_30807186.1132183980807
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Yow! - that's very helpful. Thanks much!

Question about an apparent assumption in your example - is it true that
spans always stream in increasing document order? Is that a guarantee or
just a fact about the currently implementation?

Greg

On 11/16/05, Doug Cutting <cutting@apache.org> wrote:
>
> Greg K wrote:
> > Now, however, I'd like to be able restrict the search to certain
> documents
> > in the index, so I don't have to stream through a couple of thousand
> spans
> > to produce the 10 excerpts on a subset of the documents.
> >
> > I've tried added a term to the SpanNearQueries that targets a keyword
> field
> > containing the document ids, but SNQ (understandably) can't handle that=
.
> > There isn't a SpanBooleanQuery and if I wrap the SpanOrQuery in a
> > BooleanQuery I'll lose access to the getSpans() method - same if I use =
a
> > Filter - can't get spans out of a Hits object, right?
> >
> > Am I missing something? Is there a straightforward way to do what I'm
> trying
> > to do that I'm missing?
>
> I think what you need is a SpanAndQuery, with a constructor like:
>
> SpanAndQuery(SpanQuery spanQ, Query docsQ);
>
> This would return the subset of spans matching spanQ whose documents
> match docQ. This should not be too hard to implement. Its Spans
> implementation might look something like:
>
> private Spans spans;
> private Scorer docs;
> private boolean more;
>
> public SpanAndSpans(SpanQuery spanQ, Query docQ,
> IndexReader reader, Searcher searcher) {
> spans =3D spanQ.getSpans(reader);
> docs =3D docQ.weight(searcher).scorer(reader);
> more =3D docs.next();
> }
>
> public boolean next() throws IOException {
> if (!more) return false;
> more =3D spans.next();
> while (more) {
> if (spans.doc() > docs.doc()) {
> more =3D docs.skipTo(spans.doc());
> } else if (spans.doc() < docs.doc()) {
> more =3D spans.skipTo(docs.doc ());
> } else if (spans.doc() =3D=3D docs.doc()) {
> return true;
> }
> }
> return false;
> }
>
> public boolean skipTo(int doc) throws IOException {
> if (!more) return false;
> more =3D docs.skipTo(doc);
> return next();
> }
>
> This is untested and incomplete, but does it look like the right
> direction?
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_7824_30807186.1132183980807--

From java-user-return-17543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 01:52:17 2005
Return-Path: <java-user-return-17543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81914 invoked from network); 17 Nov 2005 01:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 01:52:16 -0000
Received: (qmail 7806 invoked by uid 500); 17 Nov 2005 01:52:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7777 invoked by uid 500); 17 Nov 2005 01:52:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7766 invoked by uid 99); 17 Nov 2005 01:52:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 17:52:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 17:53:43 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8776313E2008; Wed, 16 Nov 2005 20:51:45 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 7D35A13E2005
	for <java-user@lucene.apache.org>; Wed, 16 Nov 2005 20:51:16 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <3DD58C12CC73BF40B5498B065E42071405FD5160@ex-mail-sea-06.ant.amazon.com>
References: <3DD58C12CC73BF40B5498B065E42071405FD5160@ex-mail-sea-06.ant.amazon.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <48255587-B1CA-4CA3-B5A8-970994D494BD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Issues while doing ant on lucene source
Date: Wed, 16 Nov 2005 20:51:28 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 16 Nov 2005, at 15:45, Pol, Parikshit wrote:
> Ant  1.5.2-23. Maybe I will try upgrading it too 1.6.

Yes, you must.  Lucene's build requires Ant 1.6.x.  I recommend you  
get the latest release version of Ant.  Ant 1.5.x required most tasks  
(including <tstamp>) to be within a <target>, but Ant 1.6 loosened  
that situation, thus the reason for the error you experienced.

     Erik


> -Parik
>
>
> -----Original Message-----
> From: Greg K [mailto:gregak@gmail.com]
> Sent: Wednesday, November 16, 2005 12:43 PM
> To: java-user@lucene.apache.org
> Subject: Re: Issues while doing ant on lucene source
>
> Parikshit,
>
> TStamp (timestamp) is a core Ant task - so it should be recognized.  
> What version of Ant do you have?
>
> Greg
>
> On 11/16/05, Pol, Parikshit <parikpol@amazon.com> wrote:
>
>>
>> Hi Folks.
>> I downloaded the Lucene and tried to do an ant. It initially gave me
>> the following error:
>> BUILD FAILED
>> file:/home/parikpol/downloads/lucene-1.4.3/build.xml:11: Unexpected
>> element "tstamp"
>>
>> I commented out the tstamp tag from build.xml, and now it gives me  
>> the
>> following errors:
>> compile-core:
>> [javac] Compiling 160 source files to /home/parikpol/downloads/ 
>> lucene-
>> 1.4.3/build/classes/java [javac]
>> /home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/lucene/ 
>> search/FieldCacheImpl.java:236:
>> error: Type `StringIndex' not found in the declaration of the return
>> type of method `getStringIndex'.
>> [javac] public StringIndex getStringIndex (IndexReader reader, String
>> field)
>> [javac] ^
>> [javac] /home/parikpol/downloads/lucene-1.4.3/src/java/org/apache/ 
>> lucene/search/FieldCacheImpl.java:291:
>> error: Type `StringIndex' not found in the declaration of the local
>> variable `value'.
>> [javac] StringIndex value = new StringIndex (retArray, mterms);
>> [javac] ^ [javac] 2 errors, 5 warnings
>>
>> Any help would be appreciated.
>> Thanks.
>> Parik
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 07:48:43 2005
Return-Path: <java-user-return-17544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3373 invoked from network); 17 Nov 2005 07:48:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 07:48:43 -0000
Received: (qmail 59628 invoked by uid 500); 17 Nov 2005 07:48:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59605 invoked by uid 500); 17 Nov 2005 07:48:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59594 invoked by uid 99); 17 Nov 2005 07:48:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 23:48:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.22] (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Nov 2005 23:50:08 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAH7mCig009227
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 08:48:12 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Filtering on a SpanQuery without losing spans
Date: Thu, 17 Nov 2005 08:48:12 +0100
User-Agent: KMail/1.5.4
References: <b7bacce80511161219n73a5e5eev7be0a8a443f2b7a9@mail.gmail.com> <437BB699.2070706@apache.org> <b7bacce80511161533r708d1889m46d034701fa2a089@mail.gmail.com>
In-Reply-To: <b7bacce80511161533r708d1889m46d034701fa2a089@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511170848.13063.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 17 November 2005 00:33, Greg K wrote:
> Yow! - that's very helpful. Thanks much!
> 
> Question about an apparent assumption in your example - is it true that
> spans always stream in increasing document order? Is that a guarantee or
> just a fact about the currently implementation?

Spans are always processed in increasing document order, as 
are TermQueries.
The result of a BooleanQuery in 1.4.3 may not be that order, but
in the trunk it is.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 08:37:31 2005
Return-Path: <java-user-return-17545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29919 invoked from network); 17 Nov 2005 08:37:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 08:37:31 -0000
Received: (qmail 1228 invoked by uid 500); 17 Nov 2005 08:37:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1052 invoked by uid 500); 17 Nov 2005 08:37:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1041 invoked by uid 99); 17 Nov 2005 08:37:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 00:37:25 -0800
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 00:38:59 -0800
Received: by zproxy.gmail.com with SMTP id k1so1938649nzf
        for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 00:37:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=m/sjR+syeXc+6AbubUJAtZRzxkOURLjPWKd4+WxRW0T7IkhdGdiTg0/fSfv8rBz5kUcYetbjRepyKzqDmrFr8KrSvgo9gfd4rituTJklmWGOgnEtAomEtW3bOu4JLf3oXKrx4JxrMvLTMjf2hNt84I4SVehz+fL6AowCMuHPvNw=
Received: by 10.36.138.6 with SMTP id l6mr870723nzd;
        Thu, 17 Nov 2005 00:37:03 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Thu, 17 Nov 2005 00:37:03 -0800 (PST)
Message-ID: <b7bee2520511170037l28f47e15lb7e4b4ac89b6169d@mail.gmail.com>
Date: Thu, 17 Nov 2005 10:37:03 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Is there a tool that merges Lucene indexes?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_36526_7079869.1132216623847"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_36526_7079869.1132216623847
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Does Luke, Lucli, or any of the existing tools enable merging Lucene
indexes?

Thanks,
Oren Shir

------=_Part_36526_7079869.1132216623847--

From java-user-return-17546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 09:24:20 2005
Return-Path: <java-user-return-17546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49540 invoked from network); 17 Nov 2005 09:24:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 09:24:20 -0000
Received: (qmail 47716 invoked by uid 500); 17 Nov 2005 09:24:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46883 invoked by uid 500); 17 Nov 2005 09:24:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46870 invoked by uid 99); 17 Nov 2005 09:24:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 01:24:13 -0800
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_WHOIS_BOGONS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.88.229.154] (HELO localhost.localdomain) (202.88.229.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 01:25:47 -0800
Received: from bitpixws10 (bitpix-ws10 [100.100.100.10])
	by localhost.localdomain (8.13.4/8.13.4) with ESMTP id jAH9N2va011047
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 14:53:13 +0530
From: "jibu mathew" <jibu@deldynamics.com>
To: <java-user@lucene.apache.org>
Subject: case-sensitive search
Date: Thu, 17 Nov 2005 14:57:03 +0530
Message-ID: <001401c5eb59$190398d0$0a646464@bitpixws10>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01C5EB87.32BBD4D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0015_01C5EB87.32BBD4D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi all,
 
Is it possible to do both case-sensitive and non case-sensitive search
on already indexed documents? If not, is there any way to implement it
without making two indexes for each case? Please help me in this regard.
 
Thanks in advance
Jibu

------=_NextPart_000_0015_01C5EB87.32BBD4D0--


From java-user-return-17547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 10:39:40 2005
Return-Path: <java-user-return-17547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82110 invoked from network); 17 Nov 2005 10:39:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 10:39:40 -0000
Received: (qmail 31869 invoked by uid 500); 17 Nov 2005 10:39:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31576 invoked by uid 500); 17 Nov 2005 10:39:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31565 invoked by uid 99); 17 Nov 2005 10:39:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 02:39:33 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 02:41:07 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id jAHAd6323089
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 02:39:06 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id CAA11787
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 02:39:05 -0800 (PST)
Subject: Field Boosting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF8470B8FE.266EBE8D-ON882570BC.0039F793-852570BC.003A81DD@sybase.com>
From: Daniel.Clark@sybase.com
Date: Thu, 17 Nov 2005 05:39:03 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/17/2005
 02:39:05 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


When I boost fields while indexing, the fields still have a boost of 1.0
during searching.  When I view the values via Luke, it confirms the value
of 1.0.  Do I have to boost it agin during search?  I want certain fields
to have higher priority/score during search.  How do I get it to work?  I'm
using version 1.4.3.  Any help will be appreciated.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 10:43:56 2005
Return-Path: <java-user-return-17548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83969 invoked from network); 17 Nov 2005 10:43:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 10:43:56 -0000
Received: (qmail 35863 invoked by uid 500); 17 Nov 2005 10:43:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35844 invoked by uid 500); 17 Nov 2005 10:43:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35833 invoked by uid 99); 17 Nov 2005 10:43:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 02:43:50 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 02:45:24 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id jAHAhT323749
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 02:43:29 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id CAA12369
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 02:43:28 -0800 (PST)
Subject: Date Indexing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF94564E12.215FF1EB-ON882570BC.003A844B-852570BC.003AE80A@sybase.com>
From: Daniel.Clark@sybase.com
Date: Thu, 17 Nov 2005 05:43:25 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/17/2005
 02:43:28 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I indexed dates using Field.Keyword(String,Date).  The values seem to be
encoded when I retrieve them via document.get("date").  Luke confirmed it.
How do I decode the Date when retrieving from Document object?  Or does it
not work in version 1.4.3?  Also, does Lucene only sort String values?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 11:57:15 2005
Return-Path: <java-user-return-17549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19139 invoked from network); 17 Nov 2005 11:57:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 11:57:15 -0000
Received: (qmail 39900 invoked by uid 500); 17 Nov 2005 11:57:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39877 invoked by uid 500); 17 Nov 2005 11:57:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39866 invoked by uid 99); 17 Nov 2005 11:57:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 03:57:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 03:58:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A64CB13E2033; Thu, 17 Nov 2005 06:56:46 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id DB8F713E2008
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 06:56:17 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <b7bee2520511170037l28f47e15lb7e4b4ac89b6169d@mail.gmail.com>
References: <b7bee2520511170037l28f47e15lb7e4b4ac89b6169d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2B11176E-F2D5-45BD-82ED-825720BEA516@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is there a tool that merges Lucene indexes?
Date: Thu, 17 Nov 2005 06:56:33 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 17 Nov 2005, at 03:37, Oren Shir wrote:
> Does Luke, Lucli, or any of the existing tools enable merging Lucene
> indexes?

No, none of those tools do it, but it is all of about 10 lines of code:

public class IndexMergeTool {
   public static void main(String[] args) throws IOException {
     File mergedIndex = new File(args[0]);

     IndexWriter writer = new IndexWriter(mergedIndex, new  
SimpleAnalyzer(), true);

     Directory[] indexes = new Directory[args.length - 1];
     for (int i = 1; i < args.length; i++) {
       indexes[i  - 1] = FSDirectory.getDirectory(args[i], false);
     }

     writer.addIndexes(indexes);

     writer.optimize();
     writer.close();
   }
}

We could add this to contrib/utils or something, possibly.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 12:01:27 2005
Return-Path: <java-user-return-17550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21040 invoked from network); 17 Nov 2005 12:01:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 12:01:26 -0000
Received: (qmail 48031 invoked by uid 500); 17 Nov 2005 12:01:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48013 invoked by uid 500); 17 Nov 2005 12:01:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48002 invoked by uid 99); 17 Nov 2005 12:01:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:01:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:02:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6B97713E2005; Thu, 17 Nov 2005 07:00:58 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 42D9713E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 07:00:27 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF94564E12.215FF1EB-ON882570BC.003A844B-852570BC.003AE80A@sybase.com>
References: <OF94564E12.215FF1EB-ON882570BC.003A844B-852570BC.003AE80A@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B73FA9B6-97A8-4930-B29B-C6466F80FF3B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Indexing
Date: Thu, 17 Nov 2005 07:00:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 17 Nov 2005, at 05:43, Daniel.Clark@sybase.com wrote:
> I indexed dates using Field.Keyword(String,Date).  The values seem  
> to be
> encoded when I retrieve them via document.get("date").  Luke  
> confirmed it.
> How do I decode the Date when retrieving from Document object?  Or  
> does it
> not work in version 1.4.3?  Also, does Lucene only sort String values?

What ya need is a brand new copy of Lucene in Action :)

     <http://www.lucenebook.com/search?query=date+convert>

Look at the DateField utilities.

     Erik


>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 12:07:28 2005
Return-Path: <java-user-return-17551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23400 invoked from network); 17 Nov 2005 12:07:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 12:07:28 -0000
Received: (qmail 56178 invoked by uid 500); 17 Nov 2005 12:07:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56157 invoked by uid 500); 17 Nov 2005 12:07:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56146 invoked by uid 99); 17 Nov 2005 12:07:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:07:21 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:08:55 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id jAHC70313071
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 04:07:00 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id EAA29316
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 04:07:00 -0800 (PST)
In-Reply-To: <B73FA9B6-97A8-4930-B29B-C6466F80FF3B@ehatchersolutions.com>
Subject: Re: Date Indexing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFDD0CBE15.022A8A52-ON882570BC.0042624A-852570BC.00428E15@sybase.com>
From: Daniel.Clark@sybase.com
Date: Thu, 17 Nov 2005 07:06:58 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/17/2005
 04:07:00 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a copy of the book.  It tells you how to index as I noted, but not
how to retrieve the date from search results.  document.get("date") only
returns Strings.  How do I get it to return the Date object?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Erik Hatcher                                                  
             <erik@ehatchersol                                             
             utions.com>                                                To 
                                       java-user@lucene.apache.org         
             11/17/2005 07:00                                           cc 
             AM                                                            
                                                                   Subject 
                                       Re: Date Indexing                   
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           





On 17 Nov 2005, at 05:43, Daniel.Clark@sybase.com wrote:
> I indexed dates using Field.Keyword(String,Date).  The values seem
> to be
> encoded when I retrieve them via document.get("date").  Luke
> confirmed it.
> How do I decode the Date when retrieving from Document object?  Or
> does it
> not work in version 1.4.3?  Also, does Lucene only sort String values?

What ya need is a brand new copy of Lucene in Action :)

     <http://www.lucenebook.com/search?query=date+convert>

Look at the DateField utilities.

     Erik


>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 12:08:56 2005
Return-Path: <java-user-return-17552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24185 invoked from network); 17 Nov 2005 12:08:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 12:08:55 -0000
Received: (qmail 61161 invoked by uid 500); 17 Nov 2005 12:08:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61135 invoked by uid 500); 17 Nov 2005 12:08:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61124 invoked by uid 99); 17 Nov 2005 12:08:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:08:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:10:23 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 94CC113E2005; Thu, 17 Nov 2005 07:08:26 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id F2D6613E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 07:08:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <B73FA9B6-97A8-4930-B29B-C6466F80FF3B@ehatchersolutions.com>
References: <OF94564E12.215FF1EB-ON882570BC.003A844B-852570BC.003AE80A@sybase.com> <B73FA9B6-97A8-4930-B29B-C6466F80FF3B@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6A1214BB-D433-4B4C-80BC-5D2AB5C07405@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Indexing
Date: Thu, 17 Nov 2005 07:08:36 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oh, and sorry to miss the sorting question.  Lucene can sort search  
results by String or numeric values.  Field.Keyword(String,Date) can  
only be sorted as a String though.  If you truly want to index and  
sort dates but don't need hours, minutes, seconds, milliseconds, then  
index them as YYYYMMDD and you can then sort them as numerics, which  
is much more resource friendly.

     Erik


On 17 Nov 2005, at 07:00, Erik Hatcher wrote:

>
> On 17 Nov 2005, at 05:43, Daniel.Clark@sybase.com wrote:
>
>> I indexed dates using Field.Keyword(String,Date).  The values seem  
>> to be
>> encoded when I retrieve them via document.get("date").  Luke  
>> confirmed it.
>> How do I decode the Date when retrieving from Document object?  Or  
>> does it
>> not work in version 1.4.3?  Also, does Lucene only sort String  
>> values?
>>
>
> What ya need is a brand new copy of Lucene in Action :)
>
>     <http://www.lucenebook.com/search?query=date+convert>
>
> Look at the DateField utilities.
>
>     Erik
>
>
>
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Daniel Clark, Senior Consultant
>> Sybase Federal Professional Services
>> 6550 Rock Spring Drive, Suite 800
>> Bethesda, MD  20817
>> Office - (301) 896-1103
>> Office Fax - (301) 896-1604
>> Mobile - (703) 403-0340
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 12:14:34 2005
Return-Path: <java-user-return-17553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27126 invoked from network); 17 Nov 2005 12:14:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 12:14:33 -0000
Received: (qmail 70271 invoked by uid 500); 17 Nov 2005 12:14:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70246 invoked by uid 500); 17 Nov 2005 12:14:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70235 invoked by uid 99); 17 Nov 2005 12:14:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:14:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:16:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E277D13E2008; Thu, 17 Nov 2005 07:14:04 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id B8E9C13E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 07:13:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OFDD0CBE15.022A8A52-ON882570BC.0042624A-852570BC.00428E15@sybase.com>
References: <OFDD0CBE15.022A8A52-ON882570BC.0042624A-852570BC.00428E15@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C1BBAD82-FB10-4788-A1F2-322BB3C32555@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Indexing
Date: Thu, 17 Nov 2005 07:14:08 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 17 Nov 2005, at 07:06, Daniel.Clark@sybase.com wrote:
> I have a copy of the book.  It tells you how to index as I noted,  
> but not
> how to retrieve the date from search results.  document.get("date")  
> only
> returns Strings.  How do I get it to return the Date object?

As mentioned, DateField is the class to use to convert back.   
Retrieve the field as a String, then use DateField.stringToDate to  
convert it back to a date.

There are some references to it in the book, though not as well  
indexed, or placed, in the physical version as it should be.  Looking  
at lucenebook.com for DateField will show you where in the book it is  
mentioned.  Please take note of the caveats of using dates in this  
manner - I personally don't recommend it.

     Erik


>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
>              Erik Hatcher
>              <erik@ehatchersol
>               
> utions.com>                                                To
>                                        java-user@lucene.apache.org
>              11/17/2005  
> 07:00                                           cc
>              AM
>                                                                     
> Subject
>                                        Re: Date Indexing
>              Please respond to
>              java-user@lucene.
>                 apache.org
>
>
>
>
>
>
>
>
> On 17 Nov 2005, at 05:43, Daniel.Clark@sybase.com wrote:
>
>> I indexed dates using Field.Keyword(String,Date).  The values seem
>> to be
>> encoded when I retrieve them via document.get("date").  Luke
>> confirmed it.
>> How do I decode the Date when retrieving from Document object?  Or
>> does it
>> not work in version 1.4.3?  Also, does Lucene only sort String  
>> values?
>>
>
> What ya need is a brand new copy of Lucene in Action :)
>
>      <http://www.lucenebook.com/search?query=date+convert>
>
> Look at the DateField utilities.
>
>      Erik
>
>
>
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Daniel Clark, Senior Consultant
>> Sybase Federal Professional Services
>> 6550 Rock Spring Drive, Suite 800
>> Bethesda, MD  20817
>> Office - (301) 896-1103
>> Office Fax - (301) 896-1604
>> Mobile - (703) 403-0340
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 12:38:13 2005
Return-Path: <java-user-return-17554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40461 invoked from network); 17 Nov 2005 12:38:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 12:38:13 -0000
Received: (qmail 9097 invoked by uid 500); 17 Nov 2005 12:38:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8978 invoked by uid 500); 17 Nov 2005 12:38:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8933 invoked by uid 99); 17 Nov 2005 12:38:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:38:05 -0800
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.98.133.130] (HELO hl14.dinaserver.com) (82.98.133.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 04:39:38 -0800
Received: from [192.168.2.18] (9.red-62-57-24.user.auna.net [62.57.24.9])
	(authenticated bits=0)
	by hl14.dinaserver.com (DinaMail/1.5) with ESMTP id jAHCX1E2019446
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 13:33:04 +0100
Message-ID: <437C79D0.30603@simpple.com>
Date: Thu, 17 Nov 2005 13:38:40 +0100
From: David Escuer <david.escuer@simpple.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Field Boosting
References: <OF8470B8FE.266EBE8D-ON882570BC.0039F793-852570BC.003A81DD@sybase.com>
In-Reply-To: <OF8470B8FE.266EBE8D-ON882570BC.0039F793-852570BC.003A81DD@sybase.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-DinaScanner-Information: DinaScanner. Filtro anti-Spam y anti-Virus
X-DinaScanner: Libre de Virus
X-DinaScanner-SpamCheck: no es spam (whitelisted),
	SpamAssassin (puntaje=-2.599, requerido 6, autolearn=not spam,
	BAYES_00 -2.60)
X-DinaScanner-From: david.escuer@simpple.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Daniel,

I faced the same problem a couple of days ago. I was trying to set the 
boost values while indexing, but the
results wasn't the expected. I've solved just putting the boost values 
in the search query, using the '^'
operator. There is an example:

((+text:house)^25.0) (+title:house)^40.0) (+hottext:house)^20.0)

Hope it helps

David

Daniel.Clark@sybase.com wrote:

>When I boost fields while indexing, the fields still have a boost of 1.0
>during searching.  When I view the values via Luke, it confirms the value
>of 1.0.  Do I have to boost it agin during search?  I want certain fields
>to have higher priority/score during search.  How do I get it to work?  I'm
>using version 1.4.3.  Any help will be appreciated.
>
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>Daniel Clark, Senior Consultant
>Sybase Federal Professional Services
>6550 Rock Spring Drive, Suite 800
>Bethesda, MD  20817
>Office - (301) 896-1103
>Office Fax - (301) 896-1604
>Mobile - (703) 403-0340
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 13:47:12 2005
Return-Path: <java-user-return-17555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78066 invoked from network); 17 Nov 2005 13:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 13:47:12 -0000
Received: (qmail 1120 invoked by uid 500); 17 Nov 2005 13:47:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1085 invoked by uid 500); 17 Nov 2005 13:47:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1074 invoked by uid 99); 17 Nov 2005 13:47:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 05:47:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 05:48:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A5F6013E2005; Thu, 17 Nov 2005 08:46:44 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 9E36113E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 08:46:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF8470B8FE.266EBE8D-ON882570BC.0039F793-852570BC.003A81DD@sybase.com>
References: <OF8470B8FE.266EBE8D-ON882570BC.0039F793-852570BC.003A81DD@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2221C87D-A398-4FB1-88CA-39EA1E6DDFD9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field Boosting
Date: Thu, 17 Nov 2005 08:46:58 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

Could you give us a test case that shows the boost not working properly?

I'm using document level boosting (which is really what field level  
boosting does under the covers) in some of my applications and it is  
working as expected.

     Erik


On 17 Nov 2005, at 05:39, Daniel.Clark@sybase.com wrote:

>
> When I boost fields while indexing, the fields still have a boost  
> of 1.0
> during searching.  When I view the values via Luke, it confirms the  
> value
> of 1.0.  Do I have to boost it agin during search?  I want certain  
> fields
> to have higher priority/score during search.  How do I get it to  
> work?  I'm
> using version 1.4.3.  Any help will be appreciated.
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 14:19:35 2005
Return-Path: <java-user-return-17556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93656 invoked from network); 17 Nov 2005 14:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 14:19:34 -0000
Received: (qmail 44279 invoked by uid 500); 17 Nov 2005 14:19:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44243 invoked by uid 500); 17 Nov 2005 14:19:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44232 invoked by uid 99); 17 Nov 2005 14:19:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:19:25 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.80.167.228] (HELO correo.telemadrid.org) (212.80.167.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:20:53 -0800
Received: from tm1.telemadrid.org ([212.80.167.225])
          by correo.telemadrid.org (Lotus Domino Release 6.5.1)
          with ESMTP id 2005111715183991-12194 ;
          Thu, 17 Nov 2005 15:18:39 +0100 
Importance: Normal
X-Priority: 3 (Normal)
Subject: Re: Re: Field Boosting
MIME-Version: 1.0
From: dblanch@telemadrid.es
To: java-user@lucene.apache.org
X-MIMETrack: MIME-CD by Notes Server on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at
 17/11/2005 15:23:14,
	MIME-CD complete at 17/11/2005 15:23:14,
	Serialize by Router on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at 17/11/2005
 15:23:15,
	Itemize by SMTP Server on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 17/11/2005 15:18:40,
	Serialize by Router on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 17/11/2005 15:19:06,
	Serialize complete at 17/11/2005 15:19:06
Date: Thu, 17 Nov 2005 15:23:14 +0100
Message-ID: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es>
Content-transfer-encoding: quoted-printable
Content-type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I have a similar problem, I have boosted documents in an index, when I =
run
a query it shows boosted documents first, but when I loop the Documents=

through the Hits class, this is:

Document doc =3D hits=2Edoc(i);
System=2Eout=2Eprintln("Query scoring: "
   + formatter=2Eformat(hits=2Escore(i))); //never higher than 1=2E0=2E=
 Is this OK?
System=2Eout=2Eprintln("Document boost : "
   + formatter=2Eformat(doc=2EgetBoost())); //always shows 1=2E0 though=

                                        //it ranges from 2=2E0 to 1=2E0=


doc=2EgetBoost() always shows 1=2E0 =BFIs it how it is supossed to be?

Regards,

Daniel

-----Erik Hatcher <erik@ehatchersolutions=2Ecom> escribi=F3: -----


Para: java-user@lucene=2Eapache=2Eorg
De: Erik Hatcher <erik@ehatchersolutions=2Ecom>
Fecha: 17/11/2005 14:46
Asunto: Re: Field Boosting

Daniel,

Could you give us a test case that shows the boost not working properly=
?

I'm using document level boosting (which is really what field level
boosting does under the covers) in some of my applications and it is
working as expected=2E

    Erik


On 17 Nov 2005, at 05:39, Daniel=2EClark@sybase=2Ecom wrote:

>
> When I boost fields while indexing, the fields still have a boost
> of 1=2E0
> during searching=2E  When I view the values via Luke, it confirms the=

> value
> of 1=2E0=2E  Do I have to boost it agin during search?  I want certai=
n
> fields
> to have higher priority/score during search=2E  How do I get it to
> work?  I'm
> using version 1=2E4=2E3=2E  Any help will be appreciated=2E
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> ---------------------------------------------------------------------=

> To unsubscribe, e-mail: java-user-unsubscribe@lucene=2Eapache=2Eorg
> For additional commands, e-mail: java-user-help@lucene=2Eapache=2Eorg=

>


---------------------------------------------------------------------
 To unsubscribe, e-mail: java-user-unsubscribe@lucene=2Eapache=2Eorg
For additional commands, e-mail: java-user-help@lucene=2Eapache=2Eorg=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 14:35:52 2005
Return-Path: <java-user-return-17557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9325 invoked from network); 17 Nov 2005 14:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 14:35:49 -0000
Received: (qmail 70858 invoked by uid 500); 17 Nov 2005 14:35:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70831 invoked by uid 500); 17 Nov 2005 14:35:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70765 invoked by uid 99); 17 Nov 2005 14:35:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:35:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:37:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0423413E2008; Thu, 17 Nov 2005 09:35:07 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5B35913E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 09:34:45 -0500 (EST)
In-Reply-To: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es>
References: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field Boosting
Date: Thu, 17 Nov 2005 09:35:02 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 17 Nov 2005, at 09:23, dblanch@telemadrid.es wrote:
> I have a similar problem, I have boosted documents in an index, =20
> when I run
> a query it shows boosted documents first, but when I loop the =20
> Documents
> through the Hits class, this is:
>
> Document doc =3D hits.doc(i);
> System.out.println("Query scoring: "
>    + formatter.format(hits.score(i))); //never higher than 1.0. Is =20
> this OK?

Scores are never higher than 1.0 from Hits.  If the top scoring =20
document exceeds 1.0 in raw score, it gets normalized to 1.0 and all =20
scores following get adjusted using that ratio.

> System.out.println("Document boost : "
>    + formatter.format(doc.getBoost())); //always shows 1.0 though
>                                         //it ranges from 2.0 to 1.0
>
> doc.getBoost() always shows 1.0 =BFIs it how it is supossed to be?

I don't believe, though haven't checked, that doc.getBoost() is a =20
valid thing to call on documents retrieved from an index.  The boost =20
factor gets collapsed into other factors computed at index time, so =20
it is incorrect to expect the exact boost factor set at indexing time =20=

is available during searching.  Look at the Explanation (from =20
IndexSearcher.explain) to see the factors used in scoring.

     Erik


>
> Regards,
>
> Daniel
>
> -----Erik Hatcher <erik@ehatchersolutions.com> escribi=F3: -----
>
>
> Para: java-user@lucene.apache.org
> De: Erik Hatcher <erik@ehatchersolutions.com>
> Fecha: 17/11/2005 14:46
> Asunto: Re: Field Boosting
>
> Daniel,
>
> Could you give us a test case that shows the boost not working =20
> properly?
>
> I'm using document level boosting (which is really what field level
> boosting does under the covers) in some of my applications and it is
> working as expected.
>
>     Erik
>
>
> On 17 Nov 2005, at 05:39, Daniel.Clark@sybase.com wrote:
>
>
>>
>> When I boost fields while indexing, the fields still have a boost
>> of 1.0
>> during searching.  When I view the values via Luke, it confirms the
>> value
>> of 1.0.  Do I have to boost it agin during search?  I want certain
>> fields
>> to have higher priority/score during search.  How do I get it to
>> work?  I'm
>> using version 1.4.3.  Any help will be appreciated.
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Daniel Clark, Senior Consultant
>> Sybase Federal Professional Services
>> 6550 Rock Spring Drive, Suite 800
>> Bethesda, MD  20817
>> Office - (301) 896-1103
>> Office Fax - (301) 896-1604
>> Mobile - (703) 403-0340
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 14:39:19 2005
Return-Path: <java-user-return-17558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11608 invoked from network); 17 Nov 2005 14:39:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 14:39:19 -0000
Received: (qmail 80536 invoked by uid 500); 17 Nov 2005 14:39:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80504 invoked by uid 500); 17 Nov 2005 14:39:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80493 invoked by uid 99); 17 Nov 2005 14:39:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:39:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 06:40:45 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4B98413E2005; Thu, 17 Nov 2005 09:38:48 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 710B613E2005
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 09:38:27 -0500 (EST)
In-Reply-To: <001401c5eb59$190398d0$0a646464@bitpixws10>
References: <001401c5eb59$190398d0$0a646464@bitpixws10>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0617080C-9082-4FA3-901A-D999BA00D833@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: case-sensitive search
Date: Thu, 17 Nov 2005 09:38:44 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 17 Nov 2005, at 04:27, jibu mathew wrote:
> Is it possible to do both case-sensitive and non case-sensitive search
> on already indexed documents? If not, is there any way to implement it
> without making two indexes for each case? Please help me in this  
> regard.

On already indexed documents?  No.  You likely used an analyzer that  
lowercased every term.

I support case-sensitive/insensitive searching by building two  
indexes, one with case as-is, another with everything lowercased.

Another option is to index the same text into two fields, one as-is,  
one lowercased, and toggle which field you search at query time.

Either way, you'll need to re-index in some way.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 15:25:34 2005
Return-Path: <java-user-return-17559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37820 invoked from network); 17 Nov 2005 15:25:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 15:25:34 -0000
Received: (qmail 65445 invoked by uid 500); 17 Nov 2005 15:25:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65425 invoked by uid 500); 17 Nov 2005 15:25:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65414 invoked by uid 99); 17 Nov 2005 15:25:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 07:25:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.131.130.66] (HELO spiderwall.cbim.it) (212.131.130.66)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 07:27:00 -0800
Received: (qmail 31372 invoked from network); 17 Nov 2005 15:31:10 -0000
Received: from cuprouter.cbim.it (192.168.4.10)
  by dns1.cbim.it with SMTP; 17 Nov 2005 15:31:05 -0000
Received: from dynip-233.cbim.it (dynip-233.cbim.it [192.168.4.233])
	by cuprouter.cbim.it (8.9.3/8.9.3) with ESMTP id QAA04746
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 16:26:25 +0100
Subject: fnm file disappear
From: Gioni <g.gennai@cbim.it>
To: java-user@lucene.apache.org
Content-Type: text/plain
Date: Thu, 17 Nov 2005 16:25:10 +0100
Message-Id: <1132241110.8949.61.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.4.1 
Content-Transfer-Encoding: 7bit
X-Spiderwall-Status: Clean
X-Spiderwall-Scanned: spiderwall.cbim.it
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all

I'm using lucene to index some document, all work withouth problem since
I was replace lucene 1.4.2 with 1.4.3. Now on a random basis I got an
exception:

java.io.FileNotFoundException: /usr/local/tomcat-azalea/lucene/_3ax.fnm
(No such file or directory)

The problem is that I use lucene to search documents on a site
containing documents for cancer patients, and after this exception the
search doesen't work anymore til I run a manual reindex.

I look for problem in the log file and the only things i found is that
before the FileNotFoundException there are some other exception like
this:

JavaException: java.lang.RuntimeException:
org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 16.  Encountered: <EOF> after : "\"Studi"
org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 23.  Encountered: <EOF> after : "\"Associazioni"

I don't know if two problems are related because I have reproduced the
second exception locally but not the first

Anybody knows how to help me. 

Thanks

Gioni

-- 
Gioni Gennai
e-development

CBIM - Consorzio di Bioingegneria e Informatica Medica
P.le Volontari del Sangue 2 - 27100 Pavia - ITALIA
tel. (+39) 0382.529710
fax. (+39) 0382.526622
e-mail: g.gennai@cbim.it
sito web: http://www.cbim.it 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 16:09:45 2005
Return-Path: <java-user-return-17560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62004 invoked from network); 17 Nov 2005 16:09:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 16:09:44 -0000
Received: (qmail 46284 invoked by uid 500); 17 Nov 2005 16:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46257 invoked by uid 500); 17 Nov 2005 16:09:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46246 invoked by uid 99); 17 Nov 2005 16:09:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 08:09:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 08:11:12 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 505A51BB56
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 17:09:09 +0100 (CET)
Message-ID: <437CAB25.4000600@fib.upc.edu>
Date: Thu, 17 Nov 2005 17:09:09 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Multiple Analyzers
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody, I want to know how to create an analyzer whith this and 
StopFilter  and LowerCaseFilter. Exists some example anywhere?
thks for replies


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 16:19:00 2005
Return-Path: <java-user-return-17561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67304 invoked from network); 17 Nov 2005 16:18:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 16:18:59 -0000
Received: (qmail 65134 invoked by uid 500); 17 Nov 2005 16:18:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65108 invoked by uid 500); 17 Nov 2005 16:18:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65097 invoked by uid 99); 17 Nov 2005 16:18:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 08:18:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.152 as permitted sender)
Received: from [205.158.62.152] (HELO ws6-5.us4.outblaze.com) (205.158.62.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 08:20:27 -0800
Received: by ws6-5.us4.outblaze.com (Postfix, from userid 1001)
	id 3D9D14F471; Thu, 17 Nov 2005 16:18:32 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "Michael Curtin" <mike@curtin.com>
To: java-user@lucene.apache.org
Date: Thu, 17 Nov 2005 11:18:32 -0500
Subject: Re: Multiple Analyzers
Received: from [68.26.35.229] by ws6-5.us4.outblaze.com with http for
 mike@curtin.com; Thu, 17 Nov 2005 11:18:32 -0500
X-Originating-Ip: 68.26.35.229
X-Originating-Server: ws6-5.us4.outblaze.com
Message-Id: <20051117161832.3D9D14F471@ws6-5.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Hi everybody, I want to know how to create an analyzer whith this and=20
> StopFilter  and LowerCaseFilter. Exists some example anywhere?
> thks for replies

Not bad at all.  StopAnalyzer by itself may do what you want.  If not, here=
's an example of a custom analyzer:

class MyAnalyzer extends Analyzer {
    public TokenStream tokenStream(String fieldName, Reader reader) {
        TokenStream result =3D new StandardTokenizer(reader);
        result =3D new LowerCaseFilter(result);
        result =3D new StopFilter(result, StopAnalyzer.ENGLISH_STOP_WORDS);
        return result;
}

Note that the filters compose each other, so that you can set up a chain of=
 them.  Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 17:02:19 2005
Return-Path: <java-user-return-17562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95453 invoked from network); 17 Nov 2005 17:02:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 17:02:19 -0000
Received: (qmail 61730 invoked by uid 500); 17 Nov 2005 17:02:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61708 invoked by uid 500); 17 Nov 2005 17:02:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 66250 invoked by uid 99); 17 Nov 2005 16:19:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
From: "Monsur Hossain" <monsur@xanga.net>
To: <java-user@lucene.apache.org>
Subject: Sorting: single field vs multiple fields
Date: Thu, 17 Nov 2005 11:18:33 -0500
Organization: Xanga.com
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXrko5u2aHEmjrLRZSvwVxy3pYDhg==
Message-Id: <20051117112261.SM01960@chicago>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anyone have any ballpark stats about sorting a single field versus sorting
multiple fields?  I understand every implementation is different, but I'm
just trying to get a sense of what to expect before I revamp my index.  

We need fairly fine-grained sorting of items, so I have a field with the
date indexed in the following format:

YYYYMMDDHHmm

This is too big for an int, so I sort it as a string.  I am debating storing
two integer fields like so:

FIELD #1: YYYYMMDD
FIELD #2: HHmm

And then sorting on field #1 and field #2.  The advantage is that I'm moving
from a string sort to an int sort; the disadvantage is I'm sorting on two
fields instead of one.  The index is about 30 million rows, and performance
is key.  Anyone have any performane numbers or implementation tips?

Thanks!
Monsur



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 17:04:35 2005
Return-Path: <java-user-return-17563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96793 invoked from network); 17 Nov 2005 17:04:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 17:04:35 -0000
Received: (qmail 66890 invoked by uid 500); 17 Nov 2005 17:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66869 invoked by uid 500); 17 Nov 2005 17:04:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66858 invoked by uid 99); 17 Nov 2005 17:04:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:04:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:06:03 -0800
Received: (qmail 75735 invoked by uid 89); 17 Nov 2005 17:04:07 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 17 Nov 2005 17:04:07 -0000
Message-ID: <437CB806.5080108@apache.org>
Date: Thu, 17 Nov 2005 09:04:06 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au>
In-Reply-To: <437BBC15.4090901@nuix.com.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Noll wrote:
> I actually did throw a lot of terms in, and eventually chose "one" for 
> the tests because it was the slowest query to complete of them all 
> (hence I figured it was already spending some fairly long time in I/O, 
> and would be penalised the most.)  Every other query was around 7ms 
> before tweaking, and the tweak increased them all to somewhere around 
> 10ms but that's still a lot faster than "one" was even at its fastest.

Different terms are affected differently by this tweak, so results for a 
single term don't reveal much.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 17:08:31 2005
Return-Path: <java-user-return-17564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98716 invoked from network); 17 Nov 2005 17:08:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 17:08:30 -0000
Received: (qmail 76900 invoked by uid 500); 17 Nov 2005 17:08:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76594 invoked by uid 500); 17 Nov 2005 17:08:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76583 invoked by uid 99); 17 Nov 2005 17:08:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:08:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:09:58 -0800
Received: from [192.168.0.4] ([212.241.66.207]) by ad1.ad.kbse.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 17 Nov 2005 18:07:00 +0100
Message-ID: <437CB91A.9080704@kbse.net>
Date: Thu, 17 Nov 2005 18:08:42 +0100
From: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Wordnet JWLN
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au> <437CB806.5080108@apache.org>
In-Reply-To: <437CB806.5080108@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 Nov 2005 17:07:00.0203 (UTC) FILETIME=[52D34BB0:01C5EB99]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For my index i want to check if a word is a noun, is this possible with 
the wordnet package which can be found under lucene contributions or 
does anyone knows a good tutorial or documentation for 
http://jwordnet.sourceforge.net/ ?
Thanks
Stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 17:53:02 2005
Return-Path: <java-user-return-17565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18181 invoked from network); 17 Nov 2005 17:53:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 17:53:02 -0000
Received: (qmail 48364 invoked by uid 500); 17 Nov 2005 17:52:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48339 invoked by uid 500); 17 Nov 2005 17:52:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48328 invoked by uid 99); 17 Nov 2005 17:52:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:52:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.96.1.105] (HELO parker.sim.ucm.es) (147.96.1.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 09:54:25 -0800
Received: from parker.sim.ucm.es (parker.sim.ucm.es [127.0.0.1])
	by localhost.ucm.es (Postfix) with ESMTP id E6F082F4C05
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 19:54:25 +0100 (CET)
Received: from ODISEO.sim.ucm.es (unknown [10.150.1.32])
	by parker.sim.ucm.es (Postfix) with ESMTP id CAC522F40D8
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 19:54:25 +0100 (CET)
Received: from ucm.es ([10.147.128.157])
 by ODISEO.sim.ucm.es (Sun Java System Messaging Server 6.1 HotFix 0.11 (built
 Jan 28 2005)) with ESMTP id <0IQ4004WE1NDM3C0@ODISEO.sim.ucm.es> for
 java-user@lucene.apache.org; Thu, 17 Nov 2005 18:52:25 +0100 (CET)
Received: from [10.150.1.31] (Forwarded-For: [147.96.81.156])
 by menelao.adm.ucm.es (mshttpd); Thu, 17 Nov 2005 18:52:25 +0100
Date: Thu, 17 Nov 2005 18:52:25 +0100
From: =?iso-8859-1?B?Sm9z6SBSYW3zbiBQ6XJleiBBZ/xlcmE=?= <jose.aguera@fdi.ucm.es>
Subject: Re: Wordnet JWLN
To: java-user@lucene.apache.org
Message-id: <2f5e0e7d4a7a.437cd169@ucm.es>
MIME-version: 1.0
X-Mailer: Sun Java(tm) System Messenger Express 6.1 HotFix 0.12 (built May  2
 2005)
Content-type: text/plain; charset=iso-8859-1
Content-language: es
Content-transfer-encoding: quoted-printable
Content-disposition: inline
X-Accept-Language: es
Priority: normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For this task you can use GATE=2C where you can find a POS-Tagger very u=
seful=2E

http=3A//gate=2Eac=2Euk/

(sorry for my english)

jose

Jos=E9 Ram=F3n P=E9rez Ag=FCera
Despacho 411 tlf=2E 913947599
Dept=2E de Sistemas Inform=E1ticos y Programaci=F3n
Facultad de Inform=E1tica
Universidad Complutense de Madrid

----- Mensaje original -----
De=3A Stefan Gusenbauer =3Cstefan=2Egusenbauer=40kbse=2Enet=3E
Fecha=3A Jueves=2C Noviembre 17=2C 2005 6=3A08 pm
Asunto=3A Wordnet JWLN

=3E For my index i want to check if a word is a noun=2C is this possible=
 =

=3E with =

=3E the wordnet package which can be found under lucene contributions =

=3E or =

=3E does anyone knows a good tutorial or documentation for =

=3E http=3A//jwordnet=2Esourceforge=2Enet/ =3F
=3E Thanks
=3E Stefan
=3E =

=3E --------------------------------------------------------------------=

=3E -
=3E To unsubscribe=2C e-mail=3A java-user-unsubscribe=40lucene=2Eapache=2E=
org
=3E For additional commands=2C e-mail=3A java-user-help=40lucene=2Eapach=
e=2Eorg
=3E =

=3E 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 18:32:09 2005
Return-Path: <java-user-return-17566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34551 invoked from network); 17 Nov 2005 18:32:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 18:32:09 -0000
Received: (qmail 20377 invoked by uid 500); 17 Nov 2005 18:32:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20358 invoked by uid 500); 17 Nov 2005 18:32:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20347 invoked by uid 99); 17 Nov 2005 18:32:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 10:32:03 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rajeshm@dessci.com designates 66.93.150.34 as permitted sender)
Received: from [66.93.150.34] (HELO mail.dessci.com) (66.93.150.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 10:33:36 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C5EBA5.9ACD85BE"
Subject: RE: Wordnet JWLN
Date: Thu, 17 Nov 2005 10:33:32 -0800
Message-ID: <D1EFB337111B674B8F1BE155B01C6DD63BBC10@franklin.corp.dessci>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <D1EFB337111B674B8F1BE155B01C6DD63BBC10@franklin.corp.dessci>
Thread-Topic: Wordnet JWLN
Thread-Index: AcXroDvr6r3POzljRV+rZynPKK+v2AABS2nG
From: "Rajesh Munavalli" <rajeshm@dessci.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5EBA5.9ACD85BE
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

There is also a package from Stanford NLP group for POS tagging using =
WordNet. They claim to have the best accuracy. Here is the link.

http://www-nlp.stanford.edu/

-----Original Message-----
From: Jos=E9 Ram=F3n P=E9rez Ag=FCera [mailto:jose.aguera@fdi.ucm.es]
Sent: Thu 11/17/2005 9:52 AM
To: java-user@lucene.apache.org
Subject: Re: Wordnet JWLN
=20
For this task you can use GATE, where you can find a POS-Tagger very =
useful.

http://gate.ac.uk/

(sorry for my english)

jose

Jos=E9 Ram=F3n P=E9rez Ag=FCera
Despacho 411 tlf. 913947599
Dept. de Sistemas Inform=E1ticos y Programaci=F3n
Facultad de Inform=E1tica
Universidad Complutense de Madrid

----- Mensaje original -----
De: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
Fecha: Jueves, Noviembre 17, 2005 6:08 pm
Asunto: Wordnet JWLN

> For my index i want to check if a word is a noun, is this possible=20
> with=20
> the wordnet package which can be found under lucene contributions=20
> or=20
> does anyone knows a good tutorial or documentation for=20
> http://jwordnet.sourceforge.net/ ?
> Thanks
> Stefan
>=20
> --------------------------------------------------------------------
> -
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




------_=_NextPart_001_01C5EBA5.9ACD85BE
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C5EBA5.9ACD85BE--

From java-user-return-17567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 18:47:02 2005
Return-Path: <java-user-return-17567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42303 invoked from network); 17 Nov 2005 18:47:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 18:47:01 -0000
Received: (qmail 44273 invoked by uid 500); 17 Nov 2005 18:46:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44254 invoked by uid 500); 17 Nov 2005 18:46:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44243 invoked by uid 99); 17 Nov 2005 18:46:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 10:46:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 10:48:30 -0800
Received: (qmail 67791 invoked by uid 60001); 17 Nov 2005 18:46:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=51Acml0aq5CtcQGU0nuvR6EkQwQKZRLuVAW5yzRgnWSfqtADD+kZsyLf/DpHAB4LepoFCNU7agWwTjidTI6NjEI/RJ/rgNny7SunoJP+70ziAz5xOK4B1pnAmHIVDtGjKawyIOEAOzN0Bz3Sm8CHxsnuZMxdxTeSNOClahgbRA4=  ;
Message-ID: <20051117184634.67789.qmail@web50309.mail.yahoo.com>
Received: from [69.201.142.21] by web50309.mail.yahoo.com via HTTP; Thu, 17 Nov 2005 10:46:34 PST
Date: Thu, 17 Nov 2005 10:46:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: fnm file disappear
To: java-user@lucene.apache.org
In-Reply-To: <1132241110.8949.61.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you using Windows and a compound index format (look at your index
dir - does it have .cfs file(s))?

This may be a bad combination, judging from people who reported this
problem so far.

Otis


--- Gioni <g.gennai@cbim.it> wrote:

> Hi all
> 
> I'm using lucene to index some document, all work withouth problem
> since
> I was replace lucene 1.4.2 with 1.4.3. Now on a random basis I got an
> exception:
> 
> java.io.FileNotFoundException:
> /usr/local/tomcat-azalea/lucene/_3ax.fnm
> (No such file or directory)
> 
> The problem is that I use lucene to search documents on a site
> containing documents for cancer patients, and after this exception
> the
> search doesen't work anymore til I run a manual reindex.
> 
> I look for problem in the log file and the only things i found is
> that
> before the FileNotFoundException there are some other exception like
> this:
> 
> JavaException: java.lang.RuntimeException:
> org.apache.lucene.queryParser.ParseException: Lexical error at line
> 1,
> column 16.  Encountered: <EOF> after : "\"Studi"
> org.apache.lucene.queryParser.ParseException: Lexical error at line
> 1,
> column 23.  Encountered: <EOF> after : "\"Associazioni"
> 
> I don't know if two problems are related because I have reproduced
> the
> second exception locally but not the first
> 
> Anybody knows how to help me. 
> 
> Thanks
> 
> Gioni
> 
> -- 
> Gioni Gennai
> e-development
> 
> CBIM - Consorzio di Bioingegneria e Informatica Medica
> P.le Volontari del Sangue 2 - 27100 Pavia - ITALIA
> tel. (+39) 0382.529710
> fax. (+39) 0382.526622
> e-mail: g.gennai@cbim.it
> sito web: http://www.cbim.it 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 19:44:21 2005
Return-Path: <java-user-return-17568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72487 invoked from network); 17 Nov 2005 19:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 19:44:20 -0000
Received: (qmail 82622 invoked by uid 500); 17 Nov 2005 19:44:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82591 invoked by uid 500); 17 Nov 2005 19:44:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82579 invoked by uid 99); 17 Nov 2005 19:44:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:44:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:45:46 -0800
Received: (qmail 9092 invoked from network); 17 Nov 2005 19:43:48 -0000
Received: from unknown (HELO p5496ec4c.dip.t-dialin.net) ([pbs]695637@[84.150.236.76])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 17 Nov 2005 19:43:48 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Deprecated API in BooleanQuery broken in Lucene from CVS?
Date: Thu, 17 Nov 2005 20:45:47 +0100
User-Agent: KMail/1.8.2
References: <4f9b23800511150224w363e0a8ch@mail.gmail.com>
In-Reply-To: <4f9b23800511150224w363e0a8ch@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511172045.47604@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 15 November 2005 11:24, Patrick Kimber wrote:

> I have checked out the latest version of Lucene from CVS and have
> found a change in the results compared to version 1.4.3.

Lucene isn't in CVS anymore, it's in SVN. With the latest version from SVN, 
I cannot reproduce your problem.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 19:44:30 2005
Return-Path: <java-user-return-17569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72547 invoked from network); 17 Nov 2005 19:44:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 19:44:30 -0000
Received: (qmail 83708 invoked by uid 500); 17 Nov 2005 19:44:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83688 invoked by uid 500); 17 Nov 2005 19:44:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83677 invoked by uid 99); 17 Nov 2005 19:44:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:44:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:45:57 -0800
Received: by wproxy.gmail.com with SMTP id i20so1797831wra
        for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 11:44:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=H06MdQ6muhbVO7sboQxsun5XhqST6HAaes72ZWyQAi8IK3j6HejDXCepjaTKM5oCcWzTg4BA2a5T9BBZmYb8QdNx+A2cldibXvMM+ggVVxLoN5Ub/oeOdkMM0zYZKgoIV9NkQhJ34ifIDotR3lNshjMOGe1vnY7MvZ4dGPZG5us=
Received: by 10.64.253.16 with SMTP id a16mr39805qbi;
        Thu, 17 Nov 2005 11:44:01 -0800 (PST)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id e19sm11380qba.2005.11.17.11.44.01;
        Thu, 17 Nov 2005 11:44:01 -0800 (PST)
Message-ID: <437CDD81.4090102@gmail.com>
Date: Thu, 17 Nov 2005 13:44:01 -0600
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Issues while doing ant on lucene source
References: <3DD58C12CC73BF40B5498B065E42071405FD5107@ex-mail-sea-06.ant.amazon.com>
In-Reply-To: <3DD58C12CC73BF40B5498B065E42071405FD5107@ex-mail-sea-06.ant.amazon.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Pol, Parikshit wrote:
> Hi Folks.
> I downloaded the Lucene and tried to do an ant. It initially gave me the following error:
...

Are you using a current version of ant?

Lucene 1.4.3 should already be fully built when you downloaded it - you 
shouldn't have to compile it.

If you want the "current" code, then you should compile the code that is 
in subversion right now.

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 19:49:15 2005
Return-Path: <java-user-return-17570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74740 invoked from network); 17 Nov 2005 19:49:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 19:49:15 -0000
Received: (qmail 92121 invoked by uid 500); 17 Nov 2005 19:49:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92101 invoked by uid 500); 17 Nov 2005 19:49:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92090 invoked by uid 99); 17 Nov 2005 19:49:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:49:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 11:50:43 -0800
Received: from [192.168.0.4] ([212.241.66.207]) by ad1.ad.kbse.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 17 Nov 2005 20:47:45 +0100
Message-ID: <437CDEBC.5060803@kbse.net>
Date: Thu, 17 Nov 2005 20:49:16 +0100
From: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Wordnet JWLN
References: <2f5e0e7d4a7a.437cd169@ucm.es>
In-Reply-To: <2f5e0e7d4a7a.437cd169@ucm.es>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 17 Nov 2005 19:47:45.0312 (UTC) FILETIME=[C7C22200:01C5EBAF]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jos Ramn Prez Agera wrote:

>For this task you can use GATE, where you can find a POS-Tagger very useful.
>
>http://gate.ac.uk/
>
>(sorry for my english)
>
>jose
>
>Jos Ramn Prez Agera
>Despacho 411 tlf. 913947599
>Dept. de Sistemas Informticos y Programacin
>Facultad de Informtica
>Universidad Complutense de Madrid
>
>----- Mensaje original -----
>De: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
>Fecha: Jueves, Noviembre 17, 2005 6:08 pm
>Asunto: Wordnet JWLN
>
>  
>
>>For my index i want to check if a word is a noun, is this possible 
>>with 
>>the wordnet package which can be found under lucene contributions 
>>or 
>>does anyone knows a good tutorial or documentation for 
>>http://jwordnet.sourceforge.net/ ?
>>Thanks
>>Stefan
>>
>>--------------------------------------------------------------------
>>-
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>
Thank you, as far as I read the homepage by now this is what I need!
Stefan
(english isn't my mother-tongue too)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 20:53:41 2005
Return-Path: <java-user-return-17571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13043 invoked from network); 17 Nov 2005 20:53:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 20:53:41 -0000
Received: (qmail 44983 invoked by uid 500); 17 Nov 2005 20:53:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44940 invoked by uid 500); 17 Nov 2005 20:53:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44894 invoked by uid 99); 17 Nov 2005 20:53:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 12:53:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 12:55:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1CC895B796; Thu, 17 Nov 2005 12:53:11 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 13A3B7F460
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 12:53:11 -0800 (PST)
Date: Thu, 17 Nov 2005 12:53:11 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Field Boosting
In-Reply-To: <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0511171247310.8011@hal.rescomp.berkeley.edu>
References: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es>
 <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: I don't believe, though haven't checked, that doc.getBoost() is a
: valid thing to call on documents retrieved from an index.  The boost
: factor gets collapsed into other factors computed at index time, so
: it is incorrect to expect the exact boost factor set at indexing time
: is available during searching.  Look at the Explanation (from
: IndexSearcher.explain) to see the factors used in scoring.

...even then, it may not be obvious from the explain output that your
field/doc boosts have been included in the score, because they are all
roled into the "fieldNorm".


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 20:56:57 2005
Return-Path: <java-user-return-17572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14059 invoked from network); 17 Nov 2005 20:56:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 20:56:56 -0000
Received: (qmail 48323 invoked by uid 500); 17 Nov 2005 20:56:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48302 invoked by uid 500); 17 Nov 2005 20:56:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48291 invoked by uid 99); 17 Nov 2005 20:56:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 12:56:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 12:58:25 -0800
Received: by zproxy.gmail.com with SMTP id n29so25816nzf
        for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 12:56:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=k9b7PxX6GQ0RCTvYIJlTaMh1ZbLh4lEEw0LKSfupw9aKZK+dc3J8uAWl1eh9MdW9yCoS3sxIzEGTD7bUVezQlTWAPxVH7EnH5XsOVZBCfc4M978EIbIRZ2vqPh3TOpTgJWsRLwyK2/sjKW3rh2jE1PZbzfDhQYnB/YklbOtsjGY=
Received: by 10.65.236.14 with SMTP id n14mr2954753qbr;
        Thu, 17 Nov 2005 12:56:30 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Thu, 17 Nov 2005 12:56:30 -0800 (PST)
Message-ID: <c68e39170511171256k4baff142h9a89bd72ce3c237c@mail.gmail.com>
Date: Thu, 17 Nov 2005 15:56:30 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Field Boosting
In-Reply-To: <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es>
	 <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Right.  getBoost() is meaningless on retrieved documents (it isn't set
when a doc is read from the index).
There really should have been a separate class for documents retrieved
from an index vs documents added... but that's water way under the
bridge.

-Yonik

On 11/17/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> I don't believe, though haven't checked, that doc.getBoost() is a
> valid thing to call on documents retrieved from an index.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 21:05:36 2005
Return-Path: <java-user-return-17573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17663 invoked from network); 17 Nov 2005 21:05:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 21:05:36 -0000
Received: (qmail 60091 invoked by uid 500); 17 Nov 2005 21:05:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60061 invoked by uid 500); 17 Nov 2005 21:05:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60050 invoked by uid 99); 17 Nov 2005 21:05:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:05:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:07:04 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 041465B8063
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 08:05:07 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id DDE88534155
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 08:05:06 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 23068-01-4 for <java-user@lucene.apache.org>;
 Fri, 18 Nov 2005 08:05:05 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id D8130534154
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 08:05:05 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170511171256k4baff142h9a89bd72ce3c237c@mail.gmail.com>
References: <OF552033C0.922E5F63-ONC12570BC.004F0841-C12570BC.004F0850@telemadrid.es> <B7F58E81-BB40-4292-98D2-BFDFE030C605@ehatchersolutions.com> <c68e39170511171256k4baff142h9a89bd72ce3c237c@mail.gmail.com>
Content-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-4--664519149; protocol="application/pkcs7-signature"
Message-Id: <C10E90AD-C5B6-44F2-B44B-B6C6FE910857@aconex.com>
From: Paul Smith <psmith@aconex.com>
Subject: Re: Field Boosting
Date: Fri, 18 Nov 2005 08:05:02 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-4--664519149
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

This would be a good candidate for an IllegalStateException to be  
thrown if the user calls this method when it's not valid.  Save the  
user some hassles? (one can JavaDoc to one is blue in the face, but  
throwing a good RuntimeException with a message trains the users much  
quicker... :) )

Paul

On 18/11/2005, at 7:56 AM, Yonik Seeley wrote:

> Right.  getBoost() is meaningless on retrieved documents (it isn't set
> when a doc is read from the index).
> There really should have been a separate class for documents retrieved
> from an index vs documents added... but that's water way under the
> bridge.
>
> -Yonik
>
> On 11/17/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>> I don't believe, though haven't checked, that doc.getBoost() is a
>> valid thing to call on documents retrieved from an index.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--Apple-Mail-4--664519149
Content-Transfer-Encoding: base64
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Disposition: attachment;
	filename=smime.p7s

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGmjCCAz8w
ggKooAMCAQICAQ0wDQYJKoZIhvcNAQEFBQAwgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0
ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcx
KDAmBgNVBAsTH0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0
ZSBQZXJzb25hbCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxA
dGhhd3RlLmNvbTAeFw0wMzA3MTcwMDAwMDBaFw0xMzA3MTYyMzU5NTlaMGIxCzAJBgNVBAYTAlpB
MSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUg
UGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA
xKY8VXNV+065yplaHmjAdQRwnd/p/6Me7L3N9VvyGna9fww6YfK/Uc4B1OVQCjDXAmNaLIkVcI7d
yfArhVqqP3FWy688Cwfn8R+RNiQqE88r1fOCdz0Dviv+uxg+B79AgAJk16emu59l0cUqVIUPSAR/
p7bRPGEEQB5kGXJgt/sCAwEAAaOBlDCBkTASBgNVHRMBAf8ECDAGAQH/AgEAMEMGA1UdHwQ8MDow
OKA2oDSGMmh0dHA6Ly9jcmwudGhhd3RlLmNvbS9UaGF3dGVQZXJzb25hbEZyZWVtYWlsQ0EuY3Js
MAsGA1UdDwQEAwIBBjApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMi0xMzgw
DQYJKoZIhvcNAQEFBQADgYEASIzRUIPqCy7MDaNmrGcPf6+svsIXoUOWlJ1/TCG4+DYfqi2fNi/A
9BxQIJNwPP2t4WFiw9k6GX6EsZkbAMUaC4J0niVQlGLH2ydxVyWN3amcOY6MIE9lX5Xa9/eH1sYI
Tq726jTlEBpbNU1341YheILcIRk13iSx0x1G/11fZU8wggNTMIICvKADAgECAgMPvmgwDQYJKoZI
hvcNAQEEBQAwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkp
IEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBMB4XDTA1
MTAyODAzNTUwOFoXDTA2MTAyODAzNTUwOFowgZ0xDjAMBgNVBAQTBVNtaXRoMQ0wCwYDVQQqEwRQ
YXVsMRMwEQYDVQQDEwpQYXVsIFNtaXRoMSAwHgYJKoZIhvcNAQkBFhFwc21pdGhAYXBhY2hlLm9y
ZzEgMB4GCSqGSIb3DQEJARYRcHNtaXRoQGFjb25leC5jb20xIzAhBgkqhkiG9w0BCQEWFHRhbGxw
c21pdGhAZ21haWwuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoFqv2aOz5VpQ
nFRvaOJqE2xCEmoyjdGFIQcfEKq+vVwkctKyWaqQ9stcUubJFZ9l/V6oWl+YhusV5EXzpNka81GL
ES+fG9h5THLV6h+f/wVhw2NdgAfPVn8ff+VuzwzLCBJ2l3OXVvpLEjq5eYSQn2DlvaJRLPmKfWMZ
DkvO6RjknVFLDoISLO6e2FhLqIla/uBmZZyxnk7HtyAjnNmwo3+493nUOtwUcCD/tOvjEns6e7eJ
rqnpbEKf/7XQrpsfIoeKe/DHhIgzqiK3b7dTFPmN70RoLn9XN0YoIXzNoX02Bjf8nz6/9JWoGwII
1BzEHgywCzJ/G/k8mGylrfQ9wwIDAQABo1cwVTBFBgNVHREEPjA8gRFwc21pdGhAYXBhY2hlLm9y
Z4ERcHNtaXRoQGFjb25leC5jb22BFHRhbGxwc21pdGhAZ21haWwuY29tMAwGA1UdEwEB/wQCMAAw
DQYJKoZIhvcNAQEEBQADgYEAert7B1pgBkz7IxdlziZzszpXNe04RVoPbKkKdxfCmAoiIwl3Ppj/
BwrS8OlzYRfQa8ASNYjsXQVU2ZJSZ6vFbtcHo8rzrv6icj0W7bZ1582ziryGzqpm1mxpGFStu1ZK
nO2+iCheCkeNyjVXYLbnl8vwGZDQSyGpEkT+GI5fB+oxggLnMIIC4wIBATBpMGIxCzAJBgNVBAYT
AlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3
dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDD75oMAkGBSsOAwIaBQCgggFTMBgGCSqG
SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA1MTExNzIxMDUwMlowIwYJKoZI
hvcNAQkEMRYEFLFf+czGWaTqfLtyVsJPVJjGIJvHMHgGCSsGAQQBgjcQBDFrMGkwYjELMAkGA1UE
BhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1Ro
YXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMPvmgwegYLKoZIhvcNAQkQAgsxa6Bp
MGIxCzAJBgNVBAYTAlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSww
KgYDVQQDEyNUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDD75oMA0GCSqGSIb3
DQEBAQUABIIBAFnhXzXPpyLuYBD9ocHDiVaQZMrr1sHW6jbq7Z4xFWAYdz56scnrzhQiIqzn+O0v
RA3JZ7EM5Wvp4UkY2Ltk6bu5Tyz8tLM1jKn8Ek+aaxmaUtQ7HpMPHoHIb0hjWsFE9hhz4xFgBFiI
y5w/hWmo4ghphZ5mUlJpYxzN+cnSHOfhQYrw3HhgAPVK7V38VHrI1BqrnR6pG9FC7q81lqarBz1y
rmX4wV/6Krs7Fq9FPiF5vbCk0jDjopUr1dD/pzLDnlBJhqEFQFRy/QN41Eo2isr3qGW8l8hTNYzq
OXPyi8ylvahL8xNkHAOQ/IRo//eB6maM9msr9tvpHtGBMIARGH8AAAAAAAA=

--Apple-Mail-4--664519149--

From java-user-return-17574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 21:18:54 2005
Return-Path: <java-user-return-17574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21566 invoked from network); 17 Nov 2005 21:18:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 21:18:54 -0000
Received: (qmail 73880 invoked by uid 500); 17 Nov 2005 21:18:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73837 invoked by uid 500); 17 Nov 2005 21:18:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73826 invoked by uid 99); 17 Nov 2005 21:18:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:18:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [201.216.199.225] (HELO sledge.tera-code.com.ar) (201.216.199.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:20:22 -0800
Received: from [192.168.1.54] (bennyhill [192.168.1.54])
	by sledge.tera-code.com.ar (8.13.4/8.13.4/Debian-3) with ESMTP id jAHIIxEQ008076
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 18:18:59 GMT
Message-ID: <437CF39A.8030503@tera-code.com.ar>
Date: Thu, 17 Nov 2005 18:18:18 -0300
From: Beto Siless <beto@tera-code.com.ar>
Organization: tera-code
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene & Transactional semantics
References: <007c01c5ea92$9df48620$0401a8c0@MARIO>
In-Reply-To: <007c01c5ea92$9df48620$0401a8c0@MARIO>
Content-Type: text/plain; charset=ISO-8859-7; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi, I'm with the transaction problem too: I have Documents which are 
represented by a Business Object (persisted in a DB with an ORM), 
indexed with Lucene and finally stored in the file system. So it's very 
difficult to maintain the consistency in an error scenario.
The main problem is that if you implement some ad-hoc transaction with 
Lucene (working in a RAMDirectory or keeping the commands to apply until 
the end), you still have to coordinate the lucene transaction with the 
others. Cause if lucene transaction rollbacks you can abort the db 
transaction, but if lucene transaction commits you can't do anything if 
the DB transaction fails with out a 3pc transaction manager.
Does Anybody have an idea about how to reduce the error time window? 
Could this problem be solved storing the index in a database?
Thanks
Beto


Marios Skounakis wrote:
> Hi all,
> 
> I am interested in developing a system which will use Lucene to implement the search functionality. A key characteristic of this system is that certain information about the indexed documents will be editable by the user administrators. For instance, the user administrators can manually create "document collections" and assign some of the indexed documents to them. One way to implement document collections would by having documents have a dedicated field for storing the document collection id, and storing the document collection information in a database.
> 
> Ideally, such an operation as the above should have transactional semantics, i.e. if a user wants to assign documents x, y and z to collection C, then either all three documents should be assigned to the collection or, in case of error, none of the documents should be assigned to the collection. Also, if the operation were to be followed by an SQL query to update the database with the number of documents assigned to collection C, that should be included in the "transaction" as well.
> 
> Is there a straightforward way to do this with Lucene? Or are "transactions" a no-no for a system like Lucene and I should just go ahead without having transactional semantics?
> 
> Thanks in advance,
> 
> Marios Skounakis
> 
> 
> ------------------------------------------------------------------------
> 
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.1.362 / Virus Database: 267.13.1/169 - Release Date: 11/15/2005

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 21:25:43 2005
Return-Path: <java-user-return-17575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26774 invoked from network); 17 Nov 2005 21:25:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 21:25:43 -0000
Received: (qmail 83881 invoked by uid 500); 17 Nov 2005 21:25:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83856 invoked by uid 500); 17 Nov 2005 21:25:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83845 invoked by uid 99); 17 Nov 2005 21:25:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:25:37 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=X_PRIORITY_HIGH
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.33.8.46] (HELO ace.sarnoff.com) (130.33.8.46)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 13:27:11 -0800
Received: from postoffice.sarnoff.com(130.33.10.147) by ace.sarnoff.com via csmap 
	 id ad92d60e_57b1_11da_8e58_00304812009a_12369;
	Thu, 17 Nov 2005 16:32:39 -0500 (EST)
Received: from sarnoff.com ([130.33.202.26]) by
          postoffice.sarnoff.com (Netscape Messaging Server 4.15) with
          ESMTP id IQ4BI300.R3O for <java-user@lucene.apache.org>; Thu, 17
          Nov 2005 16:25:15 -0500 
Message-ID: <437CF52D.D5B959DB@sarnoff.com>
Date: Thu, 17 Nov 2005 16:25:01 -0500
From: "Anna Buczak" <abuczak@sarnoff.com>
X-Mailer: Mozilla 4.8 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: IndexReader question
X-Priority: 1 (Highest)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I built an index of my documents using Lucene.  I am interested in
exporting part of the information in the Lucene index to a file (and
using that file in another application).  The information that I want to
export consists mainly of the frequencies of the  words in each of the
documents.

Does anybody have an example how to do that ?  Or any other example that
shows how to access the IndexReader for an already developed index.

Any help will be much appreciated.

Anna




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 21:30:01 2005
Return-Path: <java-user-return-17576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29242 invoked from network); 17 Nov 2005 21:30:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 21:30:00 -0000
Received: (qmail 88968 invoked by uid 500); 17 Nov 2005 21:29:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88948 invoked by uid 500); 17 Nov 2005 21:29:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88935 invoked by uid 99); 17 Nov 2005 21:29:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:29:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.6] (HELO serrano.cc.columbia.edu) (128.59.29.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 13:31:28 -0800
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by serrano.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id jAHLTT6U019118
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Thu, 17 Nov 2005 16:29:29 -0500 (EST)
Message-ID: <437CF60F.80708@animarc.com>
Date: Thu, 17 Nov 2005 16:28:47 -0500
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene & Transactional semantics
References: <007c01c5ea92$9df48620$0401a8c0@MARIO> <437CF39A.8030503@tera-code.com.ar>
In-Reply-To: <437CF39A.8030503@tera-code.com.ar>
Content-Type: text/plain; charset=ISO-8859-7; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The Compass Framework ( 
http://www.compassframework.org/display/SITE/Home) implements 
transactional semantics "on top" of Lucene, such that you can treat the 
Lucene Index as an ORM-style database.  Compass uses a recent version of 
Lucene but I'm sure some functionality is abstracted out and performance 
penalties occur, although I can't say how much of a hit it is.


Best,
Marc Hadfield


Beto Siless wrote:

>
> Hi, I'm with the transaction problem too: I have Documents which are 
> represented by a Business Object (persisted in a DB with an ORM), 
> indexed with Lucene and finally stored in the file system. So it's 
> very difficult to maintain the consistency in an error scenario.
> The main problem is that if you implement some ad-hoc transaction with 
> Lucene (working in a RAMDirectory or keeping the commands to apply 
> until the end), you still have to coordinate the lucene transaction 
> with the others. Cause if lucene transaction rollbacks you can abort 
> the db transaction, but if lucene transaction commits you can't do 
> anything if the DB transaction fails with out a 3pc transaction manager.
> Does Anybody have an idea about how to reduce the error time window? 
> Could this problem be solved storing the index in a database?
> Thanks
> Beto
>
>
> Marios Skounakis wrote:
>
>> Hi all,
>>
>> I am interested in developing a system which will use Lucene to 
>> implement the search functionality. A key characteristic of this 
>> system is that certain information about the indexed documents will 
>> be editable by the user administrators. For instance, the user 
>> administrators can manually create "document collections" and assign 
>> some of the indexed documents to them. One way to implement document 
>> collections would by having documents have a dedicated field for 
>> storing the document collection id, and storing the document 
>> collection information in a database.
>>
>> Ideally, such an operation as the above should have transactional 
>> semantics, i.e. if a user wants to assign documents x, y and z to 
>> collection C, then either all three documents should be assigned to 
>> the collection or, in case of error, none of the documents should be 
>> assigned to the collection. Also, if the operation were to be 
>> followed by an SQL query to update the database with the number of 
>> documents assigned to collection C, that should be included in the 
>> "transaction" as well.
>>
>> Is there a straightforward way to do this with Lucene? Or are 
>> "transactions" a no-no for a system like Lucene and I should just go 
>> ahead without having transactional semantics?
>>
>> Thanks in advance,
>>
>> Marios Skounakis
>>
>>
>> ------------------------------------------------------------------------
>>
>> No virus found in this incoming message.
>> Checked by AVG Free Edition.
>> Version: 7.1.362 / Virus Database: 267.13.1/169 - Release Date: 
>> 11/15/2005
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 17 22:16:19 2005
Return-Path: <java-user-return-17577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51716 invoked from network); 17 Nov 2005 22:16:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Nov 2005 22:16:19 -0000
Received: (qmail 66628 invoked by uid 500); 17 Nov 2005 22:16:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66596 invoked by uid 500); 17 Nov 2005 22:16:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66578 invoked by uid 99); 17 Nov 2005 22:16:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 14:16:13 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 14:17:44 -0800
Received: by ws6-4.us4.outblaze.com (Postfix, from userid 1001)
	id AFE40109B88; Thu, 17 Nov 2005 22:15:49 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "Michael Curtin" <mike@curtin.com>
To: java-user@lucene.apache.org
Date: Thu, 17 Nov 2005 17:15:49 -0500
Subject: Re: IndexReader question
Received: from [68.26.35.229] by ws6-4.us4.outblaze.com with http for
 mike@curtin.com; Thu, 17 Nov 2005 17:15:49 -0500
X-Originating-Ip: 68.26.35.229
X-Originating-Server: ws6-4.us4.outblaze.com
Message-Id: <20051117221549.AFE40109B88@ws6-4.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think you want to access the TermEnum from IndexReader's terms() method.=
=20=20
Depending upon how many fields you have an which ones you're interested in=
=20
for term frequencies, something like this should get you started:

String dir =3D "topleveldir";
IndexReader ir =3D new IndexReader(FSDirectory.getDirectory(new File(dir),=
=20
false));
TermEnum terms =3D ir.terms();
while (terms.next()) {
     System.out.printf("%s: %d\n", terms.term().text(), terms.docFreq());
}
terms.close();
ir.close();

I've glossed over a bunch of error handling and what to do if you want=20
frequency information from only one field of an index that has several, but=
 it=20
should be enough to get you started.

BTW, you might want to generate the javadocs for the Lucene classes if you'=
re=20
going to be delving in like this.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 00:10:33 2005
Return-Path: <java-user-return-17578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3761 invoked from network); 18 Nov 2005 00:10:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 00:10:33 -0000
Received: (qmail 6885 invoked by uid 500); 18 Nov 2005 00:10:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6852 invoked by uid 500); 18 Nov 2005 00:10:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6841 invoked by uid 99); 18 Nov 2005 00:10:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 16:10:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 16:11:59 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 52BFEB7359
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 11:10:01 +1100 (EST)
Message-ID: <437D1D5C.80801@nuix.com.au>
Date: Fri, 18 Nov 2005 11:16:28 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au> <437CB806.5080108@apache.org>
In-Reply-To: <437CB806.5080108@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Daniel Noll wrote:
>
>> I actually did throw a lot of terms in, and eventually chose "one" 
>> for the tests because it was the slowest query to complete of them 
>> all (hence I figured it was already spending some fairly long time in 
>> I/O, and would be penalised the most.)  Every other query was around 
>> 7ms before tweaking, and the tweak increased them all to somewhere 
>> around 10ms but that's still a lot faster than "one" was even at its 
>> fastest.
>
>
> Different terms are affected differently by this tweak, so results for 
> a single term don't reveal much.

Hence why I just said: "I actually did throw a lot of terms in".

(IMO, "A lot" sort of implies that it wasn't a single term.)

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 00:26:06 2005
Return-Path: <java-user-return-17579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9805 invoked from network); 18 Nov 2005 00:26:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 00:26:06 -0000
Received: (qmail 33075 invoked by uid 500); 18 Nov 2005 00:26:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33057 invoked by uid 500); 18 Nov 2005 00:26:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33043 invoked by uid 99); 18 Nov 2005 00:26:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 16:26:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 16:27:33 -0800
Received: (qmail 69195 invoked by uid 89); 18 Nov 2005 00:25:38 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 18 Nov 2005 00:25:38 -0000
Message-ID: <437D1F81.2080801@apache.org>
Date: Thu, 17 Nov 2005 16:25:37 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au> <437CB806.5080108@apache.org> <437D1D5C.80801@nuix.com.au>
In-Reply-To: <437D1D5C.80801@nuix.com.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Noll wrote:
> Doug Cutting wrote:
> 
>> Daniel Noll wrote:
>>
>>> I actually did throw a lot of terms in, and eventually chose "one" 
>>> for the tests because it was the slowest query to complete of them 
>>> all (hence I figured it was already spending some fairly long time in 
>>> I/O, and would be penalised the most.)  Every other query was around 
>>> 7ms before tweaking, and the tweak increased them all to somewhere 
>>> around 10ms but that's still a lot faster than "one" was even at its 
>>> fastest.
>>
>> Different terms are affected differently by this tweak, so results for 
>> a single term don't reveal much.
> 
> 
> Hence why I just said: "I actually did throw a lot of terms in".

I'm confused.  I'm talking about the table of results you posted.  You 
measured only a single term in those, no?  I don't think results for a 
single term are representative.  If it is term 127 then it will be 
slower than average with an indexInterval of 128, and will be faster 
than average with an indexInterval of 16k.  So to get numbers that are 
representative of an average term at multiple indexIntervals you need to 
test with many terms.  Am I missing something?

Choosing a term that's slower to search actually de-emphasizes the 
effect of this change, since its query time is dominated not by term 
lookup but by posting processing.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 01:08:47 2005
Return-Path: <java-user-return-17580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30812 invoked from network); 18 Nov 2005 01:08:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 01:08:47 -0000
Received: (qmail 71644 invoked by uid 500); 18 Nov 2005 01:08:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71620 invoked by uid 500); 18 Nov 2005 01:08:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71608 invoked by uid 99); 18 Nov 2005 01:08:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 17:08:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 17:10:15 -0800
Received: (qmail 16457 invoked from network); 18 Nov 2005 01:08:05 -0000
Received: from unknown (HELO x1000.msqr.us) (66.245.216.224)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Thu, 17 Nov 2005 17:08:05 -0800
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id jAI16fd7030950
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 17:06:41 -0800
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id jAI16f1N030949;
	Thu, 17 Nov 2005 17:06:41 -0800
Received: from 204.56.114.31
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 17 Nov 2005 17:06:41 -0800 (PST)
Message-ID: <49802.204.56.114.31.1132276001.squirrel@msqr.us>
Date: Thu, 17 Nov 2005 17:06:41 -0800 (PST)
Subject: References to deleted file handles in long-running server 
     application
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, I use Lucene in a long-running server application on a Linux
server, and the other day I got the "Too many open files" exception. I've
increased the number of allowed file handles, but was checking out the
open file handles using "lsof", and see about 300 files listed like the
following:

java       1458  jboss  436r   REG        8,2      3945   6258825
/var/lucene-index/_1o6hl.cfs (deleted)
java       1458  jboss  437r   REG        8,2      3467   6258829
/var/lucene-index/_1o6hp.cfs (deleted)
java       1458  jboss  438r   REG        8,2      2743   6258826
/var/lucene-index/_1o6ht.cfs (deleted)
java       1458  jboss  439r   REG        8,2      4069   6258817
/var/lucene-index/_1o6hx.cfs (deleted)
java       1458  jboss  440r   REG        8,2      4098   6258830
/var/lucene-index/_1o6i1.cfs (deleted)
java       1458  jboss  441r   REG        8,2      1817   6258821
/var/lucene-index/_1o6i3.cfs (deleted)

I haven't been monitoring this long enough to tell if the number simply
continues to grow over time or levels off at some point.

I was wondering if this behavior to be expected? When will the application
release these deleted file handles (if ever)? Perhaps during garbage
collection? Or might I be handling the index incorrectly in some way?

Any thoughts appreciated.
-- m@

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 01:37:25 2005
Return-Path: <java-user-return-17581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43700 invoked from network); 18 Nov 2005 01:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 01:37:25 -0000
Received: (qmail 3530 invoked by uid 500); 18 Nov 2005 01:37:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3507 invoked by uid 500); 18 Nov 2005 01:37:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3496 invoked by uid 99); 18 Nov 2005 01:37:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 17:37:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 17:38:52 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EcvFj-0001ch-6F
	for java-user@lucene.apache.org; Thu, 17 Nov 2005 17:41:23 -0800
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <437D1D5C.80801@nuix.com.au>
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au> <437CB806.5080108@apache.org> <437D1D5C.80801@nuix.com.au>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6A0A4326-B487-466C-B5EB-19A4EB27B4F0@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Memory Usage
Date: Thu, 17 Nov 2005 17:36:56 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Nov 17, 2005, at 4:16 PM, Daniel Noll wrote:

> Doug Cutting wrote:
>
>> Daniel Noll wrote:
>>
>>> I actually did throw a lot of terms in, and eventually chose  
>>> "one" for the tests because it was the slowest query to complete  
>>> of them all (hence I figured it was already spending some fairly  
>>> long time in I/O, and would be penalised the most.)  Every other  
>>> query was around 7ms before tweaking, and the tweak increased  
>>> them all to somewhere around 10ms but that's still a lot faster  
>>> than "one" was even at its fastest.
>>
>>
>> Different terms are affected differently by this tweak, so results  
>> for a single term don't reveal much.
>
> Hence why I just said: "I actually did throw a lot of terms in".

I'd thought of the point Doug raises when first examining your data.   
I suspect that your hypothesis will be borne out in time, but I agree  
with Doug that corroborating experimentation is required.  You're in  
the company of people who know how hard it is to design and execute a  
rigorous, scientifically valid experiment; let me reiterate my thanks  
for the work you've done so far.

It's unlikely that the time range for the query would have been so  
steady over skip ranges of 1-32 if location from the index point were  
a factor.  You'd have to be say, 127 terms out from the index point  
with IndexIntervals of 128, 256, 512, 1024, 2048, and 4096.  Maybe...  
but probably not.  Especially since the data extends out on a smooth  
curve after that.

> Timings for a simple TermQuery on the term "one" (docFreq = 22):
>
>    skip    time range for query (ms)    approx mem usage of JVM (MB)
>      1      28 ~  30                     49.2
>      2      28 ~  30
>      4      28 ~  30
>      8      29 ~  31
>     16      29 ~  32                     15.9 (!!)
>     32      29 ~  33
>     64      38 ~  42
>    128      59 ~  61
>    256      99 ~ 102                     14.1

However, there's still the unexplained disparity between the minimum  
time for "test" (28-30) and the minimum time for "one" (6.8-7.6).   
I'd really like to hunt that down and kill it.

> Timings for a simple TermQuery on the term "test" (docFreq = 31,356):
>
>    skip    time range for query (ms)
>      1       6.8 ~  7.6
>     16       9.7 ~ 10.2
>    256      69   ~ 72

It may be possible to code up an experiment in isolation -- without  
needing to launch a full Lucene search app.  All we need is a  
TermInfosReader (and the stuff it takes to build a TermInfosReader: a  
Directory, a CompoundFileReader, and a FieldInfos IIRC).  Assemble a  
bunch of random terms, using next() if you have to, and seek to them.

Any existing .tii and .tis files will do.  The size of the index  
should hardly matter after a certain point, because finding the .tis  
pointer data via the pre-loaded .tii index information is just an  
array divide-and-conquer operation.  The first limiting factor is  
probably HD-seek time.  Decompressing a Lucene term dictionary file  
isn't *that* intense.

I hope you won't mind if I don't volunteer to do the actual coding or  
data collection, though, as I have my hands full porting all of  
Lucene. :)

Any critiques out there for this proposed experiment?

Cheers,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 02:38:53 2005
Return-Path: <java-user-return-17582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75019 invoked from network); 18 Nov 2005 02:38:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 02:38:53 -0000
Received: (qmail 49674 invoked by uid 500); 18 Nov 2005 02:38:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49646 invoked by uid 500); 18 Nov 2005 02:38:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49635 invoked by uid 99); 18 Nov 2005 02:38:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 18:38:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 18:40:19 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id D7101B7359
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 13:38:21 +1100 (EST)
Message-ID: <437D4021.2020104@nuix.com.au>
Date: Fri, 18 Nov 2005 13:44:49 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Memory Usage
References: <437298F1.40205@nuix.com.au> <F0A8D1EE-3490-469B-ADE6-8210CD06215F@rectangular.com> <4377F240.4090004@nuix.com.au> <5E565757-B7D3-4CC7-A92A-CE8A7A94E967@rectangular.com> <4378C708.2070909@apache.org> <437AB3DD.8060704@nuix.com.au> <437B9DB7.4010009@apache.org> <437BBC15.4090901@nuix.com.au> <437CB806.5080108@apache.org> <437D1D5C.80801@nuix.com.au> <437D1F81.2080801@apache.org>
In-Reply-To: <437D1F81.2080801@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Daniel Noll wrote:
>
>> Doug Cutting wrote:
>>
>>> Daniel Noll wrote:
>>>
>>>> I actually did throw a lot of terms in, and eventually chose "one" 
>>>> for the tests because it was the slowest query to complete of them 
>>>> all (hence I figured it was already spending some fairly long time 
>>>> in I/O, and would be penalised the most.)  Every other query was 
>>>> around 7ms before tweaking, and the tweak increased them all to 
>>>> somewhere around 10ms but that's still a lot faster than "one" was 
>>>> even at its fastest.
>>>
>>>
>>> Different terms are affected differently by this tweak, so results 
>>> for a single term don't reveal much.
>>
>>
>>
>> Hence why I just said: "I actually did throw a lot of terms in".
>
>
> I'm confused.  I'm talking about the table of results you posted.  You 
> measured only a single term in those, no?  I don't think results for a 
> single term are representative.  If it is term 127 then it will be 
> slower than average with an indexInterval of 128, and will be faster 
> than average with an indexInterval of 16k.  So to get numbers that are 
> representative of an average term at multiple indexIntervals you need 
> to test with many terms.  Am I missing something?

"Every other query was around 7ms before tweaking, and the tweak 
increased them all to somewhere around 10ms but that's still a lot 
faster than "one" was even at its fastest. "

In other words, I didn't publish the results for all the other ones, 
because all the fast ones were exactly the same as "test".  "one" was 
the only interesting term.

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 03:37:28 2005
Return-Path: <java-user-return-17583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95726 invoked from network); 18 Nov 2005 03:37:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 03:37:27 -0000
Received: (qmail 93547 invoked by uid 500); 18 Nov 2005 03:37:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93517 invoked by uid 500); 18 Nov 2005 03:37:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93506 invoked by uid 99); 18 Nov 2005 03:37:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 19:37:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.33.8.46] (HELO ace.sarnoff.com) (130.33.8.46)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 19:38:55 -0800
Received: from postoffice.sarnoff.com(130.33.10.147) by ace.sarnoff.com via csmap 
	 id 9bc23ea4_57e5_11da_906f_00304812009a_24261;
	Thu, 17 Nov 2005 22:44:23 -0500 (EST)
Received: from sarnoff.com ([192.168.1.106]) by
          postoffice.sarnoff.com (Netscape Messaging Server 4.15) with
          ESMTP id IQ4SPM00.E5J for <java-user@lucene.apache.org>; Thu, 17
          Nov 2005 22:36:58 -0500 
Message-ID: <437D4C4D.1B8705B2@sarnoff.com>
Date: Thu, 17 Nov 2005 22:36:46 -0500
From: "Anna Buczak" <abuczak@sarnoff.com>
X-Mailer: Mozilla 4.8 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: TermFreqVector
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have indexed a set of documents that do not have fields.  I want to
use the getTermFreqVector method from IndexReader to get the
frequencies.  However when I do that as:

TermFreqVector[] z = ir.getTermFreqVectors(0);

z is null.  So I can't get the frequency vectors.

Help will be very much appreciated.

Anna



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 04:06:57 2005
Return-Path: <java-user-return-17584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5499 invoked from network); 18 Nov 2005 04:06:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 04:06:57 -0000
Received: (qmail 15611 invoked by uid 500); 18 Nov 2005 04:06:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14793 invoked by uid 500); 18 Nov 2005 04:06:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14782 invoked by uid 99); 18 Nov 2005 04:06:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 20:06:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Nov 2005 20:08:25 -0800
Received: (qmail 3980 invoked from network); 18 Nov 2005 04:06:10 -0000
Received: from unknown (HELO x1000.msqr.us) (66.245.216.224)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Thu, 17 Nov 2005 20:06:10 -0800
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id jAI44kEo032233
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 20:04:46 -0800
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id jAI44klA032232;
	Thu, 17 Nov 2005 20:04:46 -0800
Received: from 204.56.114.31
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 17 Nov 2005 20:04:46 -0800 (PST)
Message-ID: <50137.204.56.114.31.1132286686.squirrel@msqr.us>
In-Reply-To: <49802.204.56.114.31.1132276001.squirrel@msqr.us>
References: <49802.204.56.114.31.1132276001.squirrel@msqr.us>
Date: Thu, 17 Nov 2005 20:04:46 -0800 (PST)
Subject: Re: References to deleted file handles in long-running server 
     application
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've been watching our servers today, and now there are 2500 "deleted"
file handles open like this. Seems to be quite large. Still don't know why
there are so many. I'm using the compound index format already to reduce
the number of open files.

-- m@

> Hello, I use Lucene in a long-running server application on a Linux
> server, and the other day I got the "Too many open files" exception. I've
> increased the number of allowed file handles, but was checking out the
> open file handles using "lsof", and see about 300 files listed like the
> following:
>
> java       1458  jboss  436r   REG        8,2      3945   6258825
> /var/lucene-index/_1o6hl.cfs (deleted)
> java       1458  jboss  437r   REG        8,2      3467   6258829
> /var/lucene-index/_1o6hp.cfs (deleted)
> java       1458  jboss  438r   REG        8,2      2743   6258826
> /var/lucene-index/_1o6ht.cfs (deleted)
> java       1458  jboss  439r   REG        8,2      4069   6258817
> /var/lucene-index/_1o6hx.cfs (deleted)
> java       1458  jboss  440r   REG        8,2      4098   6258830
> /var/lucene-index/_1o6i1.cfs (deleted)
> java       1458  jboss  441r   REG        8,2      1817   6258821
> /var/lucene-index/_1o6i3.cfs (deleted)
>
> I haven't been monitoring this long enough to tell if the number simply
> continues to grow over time or levels off at some point.
>
> I was wondering if this behavior to be expected? When will the application
> release these deleted file handles (if ever)? Perhaps during garbage
> collection? Or might I be handling the index incorrectly in some way?
>
> Any thoughts appreciated.
> -- m@


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 05:13:30 2005
Return-Path: <java-user-return-17585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75192 invoked from network); 18 Nov 2005 05:13:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 05:13:29 -0000
Received: (qmail 14687 invoked by uid 500); 18 Nov 2005 05:13:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14667 invoked by uid 500); 18 Nov 2005 05:13:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14656 invoked by uid 99); 18 Nov 2005 05:13:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 21:13:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 21:14:57 -0800
Received: by wproxy.gmail.com with SMTP id i31so1810175wra
        for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 21:13:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=l+N7jYBbinmrR+KuDI8HUgsrxm9ycRM2Dmcolxh8iX6ZF6uF8IkGRlQs7Tiy5w6ZucWjrJZgfbz81CPC561OWll1/JCZKB2/U6jnR3h0GEispzIUSAu51wBKqKLErikMYgvwQNjrmmCJZ/kmeK4DiFLEVs4ycTTUJvbzSj8K+wQ=
Received: by 10.54.72.11 with SMTP id u11mr4722070wra;
        Thu, 17 Nov 2005 21:13:02 -0800 (PST)
Received: by 10.54.82.10 with HTTP; Thu, 17 Nov 2005 21:13:02 -0800 (PST)
Message-ID: <88c6a6720511172113q100eb3aek3bd49b10732cdaf9@mail.gmail.com>
Date: Thu, 17 Nov 2005 23:13:02 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TermFreqVector
In-Reply-To: <437D4C4D.1B8705B2@sarnoff.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <437D4C4D.1B8705B2@sarnoff.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Can you post the code you're using to create the Document and adding
it to the IndexWriter?   You have to tell lucene to store term freq
vectors (it isn't done by default).  Also I'm not sure what you mean
when you say your documents do not have fields.  Do you have at least
one field?

-chris

On 11/17/05, Anna Buczak <abuczak@sarnoff.com> wrote:
> I have indexed a set of documents that do not have fields.  I want to
> use the getTermFreqVector method from IndexReader to get the
> frequencies.  However when I do that as:
>
> TermFreqVector[] z =3D ir.getTermFreqVectors(0);
>
> z is null.  So I can't get the frequency vectors.
>
> Help will be very much appreciated.
>
> Anna
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 06:06:57 2005
Return-Path: <java-user-return-17586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93892 invoked from network); 18 Nov 2005 06:06:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 06:06:57 -0000
Received: (qmail 63995 invoked by uid 500); 18 Nov 2005 06:06:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63969 invoked by uid 500); 18 Nov 2005 06:06:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63958 invoked by uid 99); 18 Nov 2005 06:06:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 22:06:51 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.7.7.100] (HELO mail.monsur.com) (64.7.7.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 22:08:24 -0800
Received: from woodbridge [69.201.186.212] by mail.monsur.com with ESMTP
  (SMTPD32-8.05) id A0448FD40148; Fri, 18 Nov 2005 01:10:12 -0500
From: "Monsur Hossain" <monsur@monsur.com>
To: <java-user@lucene.apache.org>
Subject: RE: References to deleted file handles in long-running server      application
Date: Fri, 18 Nov 2005 01:06:27 -0500
Message-ID: <015101c5ec06$371243f0$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <50137.204.56.114.31.1132286686.squirrel@msqr.us>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


How often are you updating your index?  Are you closing your old
IndexSearchers after switching over to the new index?  You'll need to
close the searchers in order to release the file handle.  This was the
same issue I was experiencing: 

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200504.mbox/%3
c200504281819640.SM01836@chicago%3e

- Monsur



> -----Original Message-----
> From: Matt Magoffin [mailto:apache.org@msqr.us] 
> Sent: Thursday, November 17, 2005 11:05 PM
> To: java-user@lucene.apache.org
> Subject: Re: References to deleted file handles in 
> long-running server application
> 
> 
> I've been watching our servers today, and now there are 2500 
> "deleted" file handles open like this. Seems to be quite 
> large. Still don't know why there are so many. I'm using the 
> compound index format already to reduce the number of open files.
> 
> -- m@
> 
> > Hello, I use Lucene in a long-running server application on a Linux 
> > server, and the other day I got the "Too many open files" 
> exception. 
> > I've increased the number of allowed file handles, but was checking 
> > out the open file handles using "lsof", and see about 300 
> files listed 
> > like the
> > following:
> >
> > java       1458  jboss  436r   REG        8,2      3945   6258825
> > /var/lucene-index/_1o6hl.cfs (deleted)
> > java       1458  jboss  437r   REG        8,2      3467   6258829
> > /var/lucene-index/_1o6hp.cfs (deleted)
> > java       1458  jboss  438r   REG        8,2      2743   6258826
> > /var/lucene-index/_1o6ht.cfs (deleted)
> > java       1458  jboss  439r   REG        8,2      4069   6258817
> > /var/lucene-index/_1o6hx.cfs (deleted)
> > java       1458  jboss  440r   REG        8,2      4098   6258830
> > /var/lucene-index/_1o6i1.cfs (deleted)
> > java       1458  jboss  441r   REG        8,2      1817   6258821
> > /var/lucene-index/_1o6i3.cfs (deleted)
> >
> > I haven't been monitoring this long enough to tell if the number 
> > simply continues to grow over time or levels off at some point.
> >
> > I was wondering if this behavior to be expected? When will the 
> > application release these deleted file handles (if ever)? Perhaps 
> > during garbage collection? Or might I be handling the index 
> > incorrectly in some way?
> >
> > Any thoughts appreciated.
> > -- m@
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 08:00:12 2005
Return-Path: <java-user-return-17587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38830 invoked from network); 18 Nov 2005 08:00:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 08:00:12 -0000
Received: (qmail 61659 invoked by uid 500); 18 Nov 2005 08:00:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61641 invoked by uid 500); 18 Nov 2005 07:59:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61630 invoked by uid 99); 18 Nov 2005 07:59:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Nov 2005 23:59:59 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Nov 2005 00:01:32 -0800
Received: (qmail 690 invoked from network); 18 Nov 2005 07:59:22 -0000
Received: from unknown (HELO x1000.msqr.us) (66.245.216.224)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Thu, 17 Nov 2005 23:59:22 -0800
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id jAI7vwch001384
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 17 Nov 2005 23:57:58 -0800
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id jAI7vwXb001383;
	Thu, 17 Nov 2005 23:57:58 -0800
Received: from 204.56.114.46
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Thu, 17 Nov 2005 23:57:58 -0800 (PST)
Message-ID: <50819.204.56.114.46.1132300678.squirrel@msqr.us>
In-Reply-To: <015101c5ec06$371243f0$0200a8c0@woodbridge>
References: <50137.204.56.114.31.1132286686.squirrel@msqr.us>
    <015101c5ec06$371243f0$0200a8c0@woodbridge>
Date: Thu, 17 Nov 2005 23:57:58 -0800 (PST)
Subject: RE: References to deleted file handles in long-running server      
     application
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm updating nearly continuously (probably average about every 10
seconds). I don't explicitly close the IndexSearcher objects I create, as
I share them across threads, but do leave them to be garbage collected. I
ran into index corruption issues when I explicitly closed them, since I
don't have any code keeping track of how many threads might be using a
given IndexSearcher.

I wonder if it's worth the effort of adding that code in, or can I be
ensured that when the IndexSearcher objects are garbage collected the file
handles will be released?

-- m@

> How often are you updating your index?  Are you closing your old
> IndexSearchers after switching over to the new index?  You'll need to
> close the searchers in order to release the file handle.  This was the
> same issue I was experiencing:
>
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200504.mbox/%3
> c200504281819640.SM01836@chicago%3e
>
> - Monsur
>
>
>
>> -----Original Message-----
>> From: Matt Magoffin [mailto:apache.org@msqr.us]
>> Sent: Thursday, November 17, 2005 11:05 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: References to deleted file handles in
>> long-running server application
>>
>>
>> I've been watching our servers today, and now there are 2500
>> "deleted" file handles open like this. Seems to be quite
>> large. Still don't know why there are so many. I'm using the
>> compound index format already to reduce the number of open files.
>>
>> -- m@
>>
>> > Hello, I use Lucene in a long-running server application on a Linux
>> > server, and the other day I got the "Too many open files"
>> exception.
>> > I've increased the number of allowed file handles, but was checking
>> > out the open file handles using "lsof", and see about 300
>> files listed
>> > like the
>> > following:
>> >
>> > java       1458  jboss  436r   REG        8,2      3945   6258825
>> > /var/lucene-index/_1o6hl.cfs (deleted)
>> > java       1458  jboss  437r   REG        8,2      3467   6258829
>> > /var/lucene-index/_1o6hp.cfs (deleted)
>> > java       1458  jboss  438r   REG        8,2      2743   6258826
>> > /var/lucene-index/_1o6ht.cfs (deleted)
>> > java       1458  jboss  439r   REG        8,2      4069   6258817
>> > /var/lucene-index/_1o6hx.cfs (deleted)
>> > java       1458  jboss  440r   REG        8,2      4098   6258830
>> > /var/lucene-index/_1o6i1.cfs (deleted)
>> > java       1458  jboss  441r   REG        8,2      1817   6258821
>> > /var/lucene-index/_1o6i3.cfs (deleted)
>> >
>> > I haven't been monitoring this long enough to tell if the number
>> > simply continues to grow over time or levels off at some point.
>> >
>> > I was wondering if this behavior to be expected? When will the
>> > application release these deleted file handles (if ever)? Perhaps
>> > during garbage collection? Or might I be handling the index
>> > incorrectly in some way?
>> >
>> > Any thoughts appreciated.
>> > -- m@
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 08:05:03 2005
Return-Path: <java-user-return-17588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41503 invoked from network); 18 Nov 2005 08:05:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 08:05:03 -0000
Received: (qmail 68618 invoked by uid 500); 18 Nov 2005 08:04:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68597 invoked by uid 500); 18 Nov 2005 08:04:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68586 invoked by uid 99); 18 Nov 2005 08:04:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 00:04:56 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 00:06:29 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 2F3875B8061
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 19:04:33 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id EE2F0534155
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 19:04:32 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 07239-03 for <java-user@lucene.apache.org>;
 Fri, 18 Nov 2005 19:04:25 +1100 (EST)
Received: from [192.168.1.100] (CPE-60-224-158-175.vic.bigpond.net.au [60.224.158.175])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 35A0D534154
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 19:04:25 +1100 (EST)
In-Reply-To: <50819.204.56.114.46.1132300678.squirrel@msqr.us>
References: <50137.204.56.114.31.1132286686.squirrel@msqr.us> <015101c5ec06$371243f0$0200a8c0@woodbridge> <50819.204.56.114.46.1132300678.squirrel@msqr.us>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3 (Normal)
Content-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-24--624959554; protocol="application/pkcs7-signature"
Message-Id: <2AD2CBCB-D832-4250-8DF2-79719A574ABA@aconex.com>
From: Paul Smith <psmith@aconex.com>
Subject: Re: References to deleted file handles in long-running server       application
Date: Fri, 18 Nov 2005 19:04:22 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-24--624959554
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

I have found exactly the same problem.  You should consider adding an  
'expired" IndexSearcher to some sort of Buffer that closes the  
IndexSearcher after some default timeout.  I have not found in  
practice that allowing the GC to do the work does quite what you  
think it might do (particularly on Linux).

  It could be to do with the different constructors of IndexSearcher  
(String vs IndexReader), but my advise is to mark the IndexSearcher  
as ready to be closed by placing it in a buffer, and after some  
sensible timeout where you would consider any existing queries that  
may have been running at the time of 'close' should be cancelled by  
force closing the IndexSearcher.  If you were to do this every X  
minutes, then any running Searcher that was still being used after  
this time is probably a candidate for an interrupt.  (In a web  
search, the user has probably navigated away and given up on the long  
running search anyway).

Paul Smith

On 18/11/2005, at 6:57 PM, Matt Magoffin wrote:

> I'm updating nearly continuously (probably average about every 10
> seconds). I don't explicitly close the IndexSearcher objects I  
> create, as
> I share them across threads, but do leave them to be garbage  
> collected. I
> ran into index corruption issues when I explicitly closed them,  
> since I
> don't have any code keeping track of how many threads might be using a
> given IndexSearcher.
>
> I wonder if it's worth the effort of adding that code in, or can I be
> ensured that when the IndexSearcher objects are garbage collected  
> the file
> handles will be released?
>
> -- m@
>
>> How often are you updating your index?  Are you closing your old
>> IndexSearchers after switching over to the new index?  You'll need to
>> close the searchers in order to release the file handle.  This was  
>> the
>> same issue I was experiencing:
>>
>> http://mail-archives.apache.org/mod_mbox/lucene-java-user/ 
>> 200504.mbox/%3
>> c200504281819640.SM01836@chicago%3e
>>
>> - Monsur
>>
>>
>>
>>> -----Original Message-----
>>> From: Matt Magoffin [mailto:apache.org@msqr.us]
>>> Sent: Thursday, November 17, 2005 11:05 PM
>>> To: java-user@lucene.apache.org
>>> Subject: Re: References to deleted file handles in
>>> long-running server application
>>>
>>>
>>> I've been watching our servers today, and now there are 2500
>>> "deleted" file handles open like this. Seems to be quite
>>> large. Still don't know why there are so many. I'm using the
>>> compound index format already to reduce the number of open files.
>>>
>>> -- m@
>>>
>>>> Hello, I use Lucene in a long-running server application on a Linux
>>>> server, and the other day I got the "Too many open files"
>>> exception.
>>>> I've increased the number of allowed file handles, but was checking
>>>> out the open file handles using "lsof", and see about 300
>>> files listed
>>>> like the
>>>> following:
>>>>
>>>> java       1458  jboss  436r   REG        8,2      3945   6258825
>>>> /var/lucene-index/_1o6hl.cfs (deleted)
>>>> java       1458  jboss  437r   REG        8,2      3467   6258829
>>>> /var/lucene-index/_1o6hp.cfs (deleted)
>>>> java       1458  jboss  438r   REG        8,2      2743   6258826
>>>> /var/lucene-index/_1o6ht.cfs (deleted)
>>>> java       1458  jboss  439r   REG        8,2      4069   6258817
>>>> /var/lucene-index/_1o6hx.cfs (deleted)
>>>> java       1458  jboss  440r   REG        8,2      4098   6258830
>>>> /var/lucene-index/_1o6i1.cfs (deleted)
>>>> java       1458  jboss  441r   REG        8,2      1817   6258821
>>>> /var/lucene-index/_1o6i3.cfs (deleted)
>>>>
>>>> I haven't been monitoring this long enough to tell if the number
>>>> simply continues to grow over time or levels off at some point.
>>>>
>>>> I was wondering if this behavior to be expected? When will the
>>>> application release these deleted file handles (if ever)? Perhaps
>>>> during garbage collection? Or might I be handling the index
>>>> incorrectly in some way?
>>>>
>>>> Any thoughts appreciated.
>>>> -- m@
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--Apple-Mail-24--624959554
Content-Transfer-Encoding: base64
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Disposition: attachment;
	filename=smime.p7s

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGmjCCAz8w
ggKooAMCAQICAQ0wDQYJKoZIhvcNAQEFBQAwgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0
ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcx
KDAmBgNVBAsTH0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0
ZSBQZXJzb25hbCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxA
dGhhd3RlLmNvbTAeFw0wMzA3MTcwMDAwMDBaFw0xMzA3MTYyMzU5NTlaMGIxCzAJBgNVBAYTAlpB
MSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUg
UGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA
xKY8VXNV+065yplaHmjAdQRwnd/p/6Me7L3N9VvyGna9fww6YfK/Uc4B1OVQCjDXAmNaLIkVcI7d
yfArhVqqP3FWy688Cwfn8R+RNiQqE88r1fOCdz0Dviv+uxg+B79AgAJk16emu59l0cUqVIUPSAR/
p7bRPGEEQB5kGXJgt/sCAwEAAaOBlDCBkTASBgNVHRMBAf8ECDAGAQH/AgEAMEMGA1UdHwQ8MDow
OKA2oDSGMmh0dHA6Ly9jcmwudGhhd3RlLmNvbS9UaGF3dGVQZXJzb25hbEZyZWVtYWlsQ0EuY3Js
MAsGA1UdDwQEAwIBBjApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMi0xMzgw
DQYJKoZIhvcNAQEFBQADgYEASIzRUIPqCy7MDaNmrGcPf6+svsIXoUOWlJ1/TCG4+DYfqi2fNi/A
9BxQIJNwPP2t4WFiw9k6GX6EsZkbAMUaC4J0niVQlGLH2ydxVyWN3amcOY6MIE9lX5Xa9/eH1sYI
Tq726jTlEBpbNU1341YheILcIRk13iSx0x1G/11fZU8wggNTMIICvKADAgECAgMPvmgwDQYJKoZI
hvcNAQEEBQAwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkp
IEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBMB4XDTA1
MTAyODAzNTUwOFoXDTA2MTAyODAzNTUwOFowgZ0xDjAMBgNVBAQTBVNtaXRoMQ0wCwYDVQQqEwRQ
YXVsMRMwEQYDVQQDEwpQYXVsIFNtaXRoMSAwHgYJKoZIhvcNAQkBFhFwc21pdGhAYXBhY2hlLm9y
ZzEgMB4GCSqGSIb3DQEJARYRcHNtaXRoQGFjb25leC5jb20xIzAhBgkqhkiG9w0BCQEWFHRhbGxw
c21pdGhAZ21haWwuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoFqv2aOz5VpQ
nFRvaOJqE2xCEmoyjdGFIQcfEKq+vVwkctKyWaqQ9stcUubJFZ9l/V6oWl+YhusV5EXzpNka81GL
ES+fG9h5THLV6h+f/wVhw2NdgAfPVn8ff+VuzwzLCBJ2l3OXVvpLEjq5eYSQn2DlvaJRLPmKfWMZ
DkvO6RjknVFLDoISLO6e2FhLqIla/uBmZZyxnk7HtyAjnNmwo3+493nUOtwUcCD/tOvjEns6e7eJ
rqnpbEKf/7XQrpsfIoeKe/DHhIgzqiK3b7dTFPmN70RoLn9XN0YoIXzNoX02Bjf8nz6/9JWoGwII
1BzEHgywCzJ/G/k8mGylrfQ9wwIDAQABo1cwVTBFBgNVHREEPjA8gRFwc21pdGhAYXBhY2hlLm9y
Z4ERcHNtaXRoQGFjb25leC5jb22BFHRhbGxwc21pdGhAZ21haWwuY29tMAwGA1UdEwEB/wQCMAAw
DQYJKoZIhvcNAQEEBQADgYEAert7B1pgBkz7IxdlziZzszpXNe04RVoPbKkKdxfCmAoiIwl3Ppj/
BwrS8OlzYRfQa8ASNYjsXQVU2ZJSZ6vFbtcHo8rzrv6icj0W7bZ1582ziryGzqpm1mxpGFStu1ZK
nO2+iCheCkeNyjVXYLbnl8vwGZDQSyGpEkT+GI5fB+oxggLnMIIC4wIBATBpMGIxCzAJBgNVBAYT
AlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3
dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDD75oMAkGBSsOAwIaBQCgggFTMBgGCSqG
SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA1MTExODA4MDQyM1owIwYJKoZI
hvcNAQkEMRYEFAKEIXKhhDaTCucTVyhVNr6cgdgEMHgGCSsGAQQBgjcQBDFrMGkwYjELMAkGA1UE
BhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1Ro
YXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMPvmgwegYLKoZIhvcNAQkQAgsxa6Bp
MGIxCzAJBgNVBAYTAlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSww
KgYDVQQDEyNUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDD75oMA0GCSqGSIb3
DQEBAQUABIIBADhVEs8p/2YKjAEvPCmL9p6m/W+brgDT8YnK3o93hUNw3e/3WtBz8BZfKnoTflGp
Vqs7Hwk6SIkY9jpJJ0tQM14lZbdRMEfz1WJdCN9kEe+4XjRpxAGO9YihRz0EnnqUSGhSK3L26akt
V+VnBIInWaS/h2hQ+HsJap4s08MSHR28wW3pvZNCxU0nYssZMFK4Z12hFEzeIMzy598fCxYlmJfh
N9YtQaX+2sLAxUQ8+3W6qaxzpbvUDDPVDTwNZcyVrcbTFaUjxdxFQQ6XlV/AuGg77YONzWrABwKr
7in29S0Z9BhGrUN0MBtPsPvfwWonxseWi3SH+d9Y2sPrwSGNf90AAAAAAAA=

--Apple-Mail-24--624959554--

From java-user-return-17589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 10:53:00 2005
Return-Path: <java-user-return-17589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17900 invoked from network); 18 Nov 2005 10:53:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 10:52:59 -0000
Received: (qmail 15711 invoked by uid 500); 18 Nov 2005 10:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15683 invoked by uid 500); 18 Nov 2005 10:52:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15671 invoked by uid 99); 18 Nov 2005 10:52:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 02:52:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 02:54:27 -0800
Received: from exchange-mbx.bvdep.com ([193.194.158.131]) by exchange.bvdep.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 18 Nov 2005 11:52:31 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: References to deleted file handles in long-running server application
Date: Fri, 18 Nov 2005 11:52:31 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5156C0A@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: References to deleted file handles in long-running server application
thread-index: AcXsFhoID+RKEkHzQKCxGClod5/1FwAFvGhA
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 18 Nov 2005 10:52:31.0390 (UTC) FILETIME=[2CC843E0:01C5EC2E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Good rule of thumb: don't ever count on the garbage collector cleaning
up for you (even if you call System.gc() to give it a hint).

You should close your IndexSearchers, but with a multithreaded
application  it's difficult to know when (you have to keep them open
until no thread uses it any more)

I created a class DelayCloseIndexSearcher class and posted it in jira
just for this purpose (See
http://issues.apache.org/jira/browse/LUCENE-445)
There's a use case in the javadoc.

I'm using it in my production system (but in a more complex way than in
the example code) and I don't (seem to :) have any problems...

Either way, I would very much appreciate some feedback about the code.

Thanks,

Luc

-----Original Message-----
From: Matt Magoffin [mailto:apache.org@msqr.us]=20
Sent: vrijdag 18 november 2005 8:58
To: java-user@lucene.apache.org
Subject: RE: References to deleted file handles in long-running server
application

I'm updating nearly continuously (probably average about every 10
seconds). I don't explicitly close the IndexSearcher objects I create,
as
I share them across threads, but do leave them to be garbage collected.
I
ran into index corruption issues when I explicitly closed them, since I
don't have any code keeping track of how many threads might be using a
given IndexSearcher.

I wonder if it's worth the effort of adding that code in, or can I be
ensured that when the IndexSearcher objects are garbage collected the
file
handles will be released?

-- m@

> How often are you updating your index?  Are you closing your old
> IndexSearchers after switching over to the new index?  You'll need to
> close the searchers in order to release the file handle.  This was the
> same issue I was experiencing:
>
>
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200504.mbox/%3
> c200504281819640.SM01836@chicago%3e
>
> - Monsur
>
>
>
>> -----Original Message-----
>> From: Matt Magoffin [mailto:apache.org@msqr.us]
>> Sent: Thursday, November 17, 2005 11:05 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: References to deleted file handles in
>> long-running server application
>>
>>
>> I've been watching our servers today, and now there are 2500
>> "deleted" file handles open like this. Seems to be quite
>> large. Still don't know why there are so many. I'm using the
>> compound index format already to reduce the number of open files.
>>
>> -- m@
>>
>> > Hello, I use Lucene in a long-running server application on a Linux
>> > server, and the other day I got the "Too many open files"
>> exception.
>> > I've increased the number of allowed file handles, but was checking
>> > out the open file handles using "lsof", and see about 300
>> files listed
>> > like the
>> > following:
>> >
>> > java       1458  jboss  436r   REG        8,2      3945   6258825
>> > /var/lucene-index/_1o6hl.cfs (deleted)
>> > java       1458  jboss  437r   REG        8,2      3467   6258829
>> > /var/lucene-index/_1o6hp.cfs (deleted)
>> > java       1458  jboss  438r   REG        8,2      2743   6258826
>> > /var/lucene-index/_1o6ht.cfs (deleted)
>> > java       1458  jboss  439r   REG        8,2      4069   6258817
>> > /var/lucene-index/_1o6hx.cfs (deleted)
>> > java       1458  jboss  440r   REG        8,2      4098   6258830
>> > /var/lucene-index/_1o6i1.cfs (deleted)
>> > java       1458  jboss  441r   REG        8,2      1817   6258821
>> > /var/lucene-index/_1o6i3.cfs (deleted)
>> >
>> > I haven't been monitoring this long enough to tell if the number
>> > simply continues to grow over time or levels off at some point.
>> >
>> > I was wondering if this behavior to be expected? When will the
>> > application release these deleted file handles (if ever)? Perhaps
>> > during garbage collection? Or might I be handling the index
>> > incorrectly in some way?
>> >
>> > Any thoughts appreciated.
>> > -- m@
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 11:09:53 2005
Return-Path: <java-user-return-17590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26261 invoked from network); 18 Nov 2005 11:09:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 11:09:53 -0000
Received: (qmail 38366 invoked by uid 500); 18 Nov 2005 11:09:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38143 invoked by uid 500); 18 Nov 2005 11:09:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38127 invoked by uid 99); 18 Nov 2005 11:09:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 03:09:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 03:11:19 -0800
Received: by xproxy.gmail.com with SMTP id t15so140607wxc
        for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 03:09:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=H50PDb4SPaky91LaJ+wa5/csvfMHJJ1pEfNB1XBl0TnvP3Ym19gyGx+NzzrBKHV613lnbRM2hSoGZ41yXcgSpEWXYyURvMlLzW/fQkd6DD7bydcRqhAug5G2BbIWk4FnPVSIL2wXwExWNzLwPo7IuX81/BWEWaEVLrAEqobBAgQ=
Received: by 10.65.183.3 with SMTP id k3mr3711940qbp;
        Fri, 18 Nov 2005 03:09:24 -0800 (PST)
Received: by 10.65.205.1 with HTTP; Fri, 18 Nov 2005 03:09:24 -0800 (PST)
Message-ID: <4f9b23800511180309y6756cabbt@mail.gmail.com>
Date: Fri, 18 Nov 2005 11:09:24 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Deprecated API in BooleanQuery broken in Lucene from CVS?
In-Reply-To: <200511172045.47604@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4f9b23800511150224w363e0a8ch@mail.gmail.com>
	 <200511172045.47604@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel
You are correct.  The latest version from SVN works correctly.
Very confusing - I only checked out Lucene from CVS a few days ago.  I
didn't realise that changes were only being made in the SVN
repository.
Thank you very much for your help.
Regards
Patrick

On 17/11/05, Daniel Naber <lucenelist@danielnaber.de> wrote:
> On Dienstag 15 November 2005 11:24, Patrick Kimber wrote:
>
> > I have checked out the latest version of Lucene from CVS and have
> > found a change in the results compared to version 1.4.3.
>
> Lucene isn't in CVS anymore, it's in SVN. With the latest version from SV=
N,
> I cannot reproduce your problem.
>
> Regards
>  Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 12:09:23 2005
Return-Path: <java-user-return-17591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51512 invoked from network); 18 Nov 2005 12:09:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 12:09:23 -0000
Received: (qmail 6807 invoked by uid 500); 18 Nov 2005 12:09:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6775 invoked by uid 500); 18 Nov 2005 12:09:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6707 invoked by uid 99); 18 Nov 2005 12:09:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 04:09:16 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.122] (HELO fm200.sybase.com) (192.138.151.122)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 04:10:49 -0800
Received: from smtp2.sybase.com (sybgate2.sybase.com [10.22.97.85])
	by fm200.sybase.com  with ESMTP id jAIC8rp15274
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 04:08:53 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp2.sybase.com  with ESMTP id EAA16664
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 04:08:52 -0800 (PST)
In-Reply-To: <2221C87D-A398-4FB1-88CA-39EA1E6DDFD9@ehatchersolutions.com>
Subject: Re: Field Boosting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF70E9DA0E.A4C78ECD-ON882570BD.0042279F-852570BD.0042BA90@sybase.com>
From: Daniel.Clark@sybase.com
Date: Fri, 18 Nov 2005 07:08:50 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/18/2005
 04:08:52 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

titleField.setBoost((float)1.8);
doc.add(titleField);

keywordField.setBoost((float)1.6);
doc.add(keywordField);

summaryField.setBoost((float)1.2);
doc.add(summaryField);

When searching.

field.getBoost() always = 1.0

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Erik Hatcher                                                  
             <erik@ehatchersol                                             
             utions.com>                                                To 
                                       java-user@lucene.apache.org         
             11/17/2005 08:46                                           cc 
             AM                                                            
                                                                   Subject 
                                       Re: Field Boosting                  
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           




Daniel,

Could you give us a test case that shows the boost not working properly?

I'm using document level boosting (which is really what field level
boosting does under the covers) in some of my applications and it is
working as expected.

     Erik


On 17 Nov 2005, at 05:39, Daniel.Clark@sybase.com wrote:

>
> When I boost fields while indexing, the fields still have a boost
> of 1.0
> during searching.  When I view the values via Luke, it confirms the
> value
> of 1.0.  Do I have to boost it agin during search?  I want certain
> fields
> to have higher priority/score during search.  How do I get it to
> work?  I'm
> using version 1.4.3.  Any help will be appreciated.
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 13:36:09 2005
Return-Path: <java-user-return-17592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91949 invoked from network); 18 Nov 2005 13:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 13:36:09 -0000
Received: (qmail 7293 invoked by uid 500); 18 Nov 2005 13:36:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7274 invoked by uid 500); 18 Nov 2005 13:36:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7218 invoked by uid 99); 18 Nov 2005 13:36:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:36:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:37:34 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jAIDZZZe013395
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 08:35:36 -0500 (EST)
Message-ID: <437DD8A7.6000708@syr.edu>
Date: Fri, 18 Nov 2005 08:35:35 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: TermFreqVector
References: <437D4C4D.1B8705B2@sarnoff.com>
In-Reply-To: <437D4C4D.1B8705B2@sarnoff.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On the 1.9 code base, you construct a Term Vector by doing something like:

Document doc = ...

doc.add(new Field("contents", "some value", Field.Store.YES, 
Field.Index.TOKENIZED, Field.TermVector.WITH_POSITIONS_OFFSETS));

Check out the javadocs for field construction.  Once you have done this, 
your code below should work, assuming document 0 exists.

Anna Buczak wrote:

>I have indexed a set of documents that do not have fields.  I want to
>use the getTermFreqVector method from IndexReader to get the
>frequencies.  However when I do that as:
>
>TermFreqVector[] z = ir.getTermFreqVectors(0);
>
>z is null.  So I can't get the frequency vectors.
>
>Help will be very much appreciated.
>
>Anna
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 13:40:02 2005
Return-Path: <java-user-return-17593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94247 invoked from network); 18 Nov 2005 13:40:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 13:40:02 -0000
Received: (qmail 16937 invoked by uid 500); 18 Nov 2005 13:39:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16919 invoked by uid 500); 18 Nov 2005 13:39:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16908 invoked by uid 99); 18 Nov 2005 13:39:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:39:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.33.8.46] (HELO ace.sarnoff.com) (130.33.8.46)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Nov 2005 05:41:29 -0800
Received: from postoffice.sarnoff.com(130.33.10.147) by ace.sarnoff.com via csmap 
	 id cacc439e_5839_11da_8804_00304812009a_30336;
	Fri, 18 Nov 2005 08:47:00 -0500 (EST)
Received: from sarnoff.com ([130.33.202.26]) by
          postoffice.sarnoff.com (Netscape Messaging Server 4.15) with
          ESMTP id IQ5KLX00.47Z for <java-user@lucene.apache.org>; Fri, 18
          Nov 2005 08:39:33 -0500 
Message-ID: <437DD98A.181CFD1D@sarnoff.com>
Date: Fri, 18 Nov 2005 08:39:22 -0500
From: "Anna Buczak" <abuczak@sarnoff.com>
X-Mailer: Mozilla 4.8 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: TermFreqVector
References: <437D4C4D.1B8705B2@sarnoff.com> <88c6a6720511172113q100eb3aek3bd49b10732cdaf9@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>You have to tell lucene to store term freq
>vectors (it isn't done by default).
This is exactly the part that I do not know how to do.  Where to set the
flag ?
I use for indexing org.apache/lucene.demo.IndexFiles.

>Do you have at least
>one field?
Now I know that Lucene adds three fields by default and one of them is
"contents" - this is the one I am interested in, and at the present time I
can retieve from that field what I want (i.e. this part works).

Anna


Chris Lamprecht wrote:

> Can you post the code you're using to create the Document and adding
> it to the IndexWriter?   You have to tell lucene to store term freq
> vectors (it isn't done by default).  Also I'm not sure what you mean
> when you say your documents do not have fields.  Do you have at least
> one field?
>
> -chris
>
> On 11/17/05, Anna Buczak <abuczak@sarnoff.com> wrote:
> > I have indexed a set of documents that do not have fields.  I want to
> > use the getTermFreqVector method from IndexReader to get the
> > frequencies.  However when I do that as:
> >
> > TermFreqVector[] z = ir.getTermFreqVectors(0);
> >
> > z is null.  So I can't get the frequency vectors.
> >
> > Help will be very much appreciated.
> >
> > Anna
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

--
Dr. Anna L. Buczak                          Email: abuczak@sarnoff.com
Technology Leader                           Phone: 609-734-2667
Sarnoff Corporation                         Fax:   609-734-2662
201 Washington Rd.
Princeton, NJ 08543-5300



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 13:40:27 2005
Return-Path: <java-user-return-17594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94376 invoked from network); 18 Nov 2005 13:40:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 13:40:26 -0000
Received: (qmail 18076 invoked by uid 500); 18 Nov 2005 13:40:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18055 invoked by uid 500); 18 Nov 2005 13:40:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18044 invoked by uid 99); 18 Nov 2005 13:40:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:40:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:41:54 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DFF1513E2005; Fri, 18 Nov 2005 08:39:56 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 39AAF13E2005
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 08:39:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF70E9DA0E.A4C78ECD-ON882570BD.0042279F-852570BD.0042BA90@sybase.com>
References: <OF70E9DA0E.A4C78ECD-ON882570BD.0042279F-852570BD.0042BA90@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8B74326B-7C36-4612-9C57-2C7565A80297@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field Boosting
Date: Fri, 18 Nov 2005 08:39:44 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

As I hope you've seen from the other messages on this thread, this is  
by design.

What you've shown is _not_ boost working improperly.  Boosts are part  
of the score via the fieldNorm value, and I'm certain that your  
boosts are being taking into account for scoring.  Boosts are not  
retrievable as-is from the Document object after a search.  We should  
javadoc that getter more clearly and note that it is really only  
valid when you create a Document, not when you retrieve an existing one.

     Erik


On 18 Nov 2005, at 07:08, Daniel.Clark@sybase.com wrote:

> titleField.setBoost((float)1.8);
> doc.add(titleField);
>
> keywordField.setBoost((float)1.6);
> doc.add(keywordField);
>
> summaryField.setBoost((float)1.2);
> doc.add(summaryField);
>
> When searching.
>
> field.getBoost() always = 1.0
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
>              Erik Hatcher
>              <erik@ehatchersol
>               
> utions.com>                                                To
>                                        java-user@lucene.apache.org
>              11/17/2005  
> 08:46                                           cc
>              AM
>                                                                     
> Subject
>                                        Re: Field Boosting
>              Please respond to
>              java-user@lucene.
>                 apache.org
>
>
>
>
>
>
>
> Daniel,
>
> Could you give us a test case that shows the boost not working  
> properly?
>
> I'm using document level boosting (which is really what field level
> boosting does under the covers) in some of my applications and it is
> working as expected.
>
>      Erik
>
>
> On 17 Nov 2005, at 05:39, Daniel.Clark@sybase.com wrote:
>
>
>>
>> When I boost fields while indexing, the fields still have a boost
>> of 1.0
>> during searching.  When I view the values via Luke, it confirms the
>> value
>> of 1.0.  Do I have to boost it agin during search?  I want certain
>> fields
>> to have higher priority/score during search.  How do I get it to
>> work?  I'm
>> using version 1.4.3.  Any help will be appreciated.
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Daniel Clark, Senior Consultant
>> Sybase Federal Professional Services
>> 6550 Rock Spring Drive, Suite 800
>> Bethesda, MD  20817
>> Office - (301) 896-1103
>> Office Fax - (301) 896-1604
>> Mobile - (703) 403-0340
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 13:46:51 2005
Return-Path: <java-user-return-17595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97009 invoked from network); 18 Nov 2005 13:46:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 13:46:51 -0000
Received: (qmail 33778 invoked by uid 500); 18 Nov 2005 13:46:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33742 invoked by uid 500); 18 Nov 2005 13:46:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33731 invoked by uid 99); 18 Nov 2005 13:46:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:46:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [80.76.63.210] (HELO mail.exis.com.gr) (80.76.63.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 05:48:18 -0800
Received: from [192.168.2.32] (helo=clyde.thoukydides.gr)
	by rottweiler.thoukydides.gr with esmtp (Exim 4.43)
	id 1Ed6ZH-0003ZY-CS
	for java-user@lucene.apache.org; Fri, 18 Nov 2005 15:46:19 +0200
Received: from mario.exis.com.gr ([192.168.1.4] helo=MARIO)
	by clyde.thoukydides.gr with esmtpa (Exim 4.43)
	id 1Ed6eu-0007CX-FT
	for java-user@lucene.apache.org; Fri, 18 Nov 2005 15:52:08 +0200
Message-ID: <023001c5ec46$70d350d0$0401a8c0@MARIO>
From: "Marios Skounakis" <mscoon@exis.com.gr>
To: <java-user@lucene.apache.org>
References: <007c01c5ea92$9df48620$0401a8c0@MARIO> <437CF39A.8030503@tera-code.com.ar>
Subject: Re: Lucene & Transactional semantics
Date: Fri, 18 Nov 2005 15:46:12 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-7";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Score: -0.8 (/)
X-Spam-Report: 	Spam detection software, running on the system "rottweiler.thoukydides.gr", has
	identified this incoming email as possible spam.  The original message
	has been attached to this so you can view it (if it isn't spam) or label
	similar future email.  If you have any questions, see
	the administrator of that system for details.
	Content preview:  Beto, Here is an idea I have been working on as a
	  workaround: Suppose you want to create a new document. The steps to do
	  that are: 1. Insert the document into a "Pending Documents" table in the
	  database. 2. Index the document with Lucene 3. Insert the document into
	  the "Documents" table in the database, and remove it from the "Pending
	  Documents" table in a single transaction. [...] 
	Content analysis details:   (-0.8 points, 5.0 required)
	 pts rule name              description
	---- ---------------------- --------------------------------------------------
	-1.4 ALL_TRUSTED            Passed through trusted hosts only via SMTP
	 0.7 AWL                    AWL: From: address is in the auto white-list
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Beto,

Here is an idea I have been working on as a workaround:

Suppose you want to create a new document. The steps to do that are:
1. Insert the document into a "Pending Documents" table in the database.
2. Index the document with Lucene
3. Insert the document into the "Documents" table in the database, and 
remove it from the "Pending Documents" table in a single transaction.

Periodically delete from Lucene's index Documents found in the "Pending 
Documents" table.

Also, when returning results, filter out Documents found in the "Pending 
Documents" table.

Basically, the Pending Documents table stores the documents that have been 
indexed by Lucene but have not yet been inserted in the database. Note how 
if an error happens between steps 2 and 3, or in step 3, the document will 
be found in the Pending Documents table. So you are kind of implementing a 
rollback for the whole procedure by deleting whatever is found in this 
table. If everything goes well, you remove the Document from Pending 
Documents, and then you know it exists both in the database and Lucene's 
index.

Also, if an error happens after 1, you are simply left with an entry in the 
Pending Documents table which you can remove when you discover that there is 
no corresponding document in Lucene's index.

This is of course rather ad-hoc and does not generalize well to other types 
of queries (e.g. updates, etc). But it can be a viable workaround if you 
don't want the added complexity of efforts like Compass.

What do you think?

Marios Skounakis

----- Original Message ----- 
From: "Beto Siless" <beto@tera-code.com.ar>
To: <java-user@lucene.apache.org>
Sent: Thursday, November 17, 2005 11:18 PM
Subject: Re: Lucene & Transactional semantics


>
> Hi, I'm with the transaction problem too: I have Documents which are 
> represented by a Business Object (persisted in a DB with an ORM), indexed 
> with Lucene and finally stored in the file system. So it's very difficult 
> to maintain the consistency in an error scenario.
> The main problem is that if you implement some ad-hoc transaction with 
> Lucene (working in a RAMDirectory or keeping the commands to apply until 
> the end), you still have to coordinate the lucene transaction with the 
> others. Cause if lucene transaction rollbacks you can abort the db 
> transaction, but if lucene transaction commits you can't do anything if 
> the DB transaction fails with out a 3pc transaction manager.
> Does Anybody have an idea about how to reduce the error time window? Could 
> this problem be solved storing the index in a database?
> Thanks
> Beto
>
>
> Marios Skounakis wrote:
>> Hi all,
>>
>> I am interested in developing a system which will use Lucene to implement 
>> the search functionality. A key characteristic of this system is that 
>> certain information about the indexed documents will be editable by the 
>> user administrators. For instance, the user administrators can manually 
>> create "document collections" and assign some of the indexed documents to 
>> them. One way to implement document collections would by having documents 
>> have a dedicated field for storing the document collection id, and 
>> storing the document collection information in a database.
>>
>> Ideally, such an operation as the above should have transactional 
>> semantics, i.e. if a user wants to assign documents x, y and z to 
>> collection C, then either all three documents should be assigned to the 
>> collection or, in case of error, none of the documents should be assigned 
>> to the collection. Also, if the operation were to be followed by an SQL 
>> query to update the database with the number of documents assigned to 
>> collection C, that should be included in the "transaction" as well.
>>
>> Is there a straightforward way to do this with Lucene? Or are 
>> "transactions" a no-no for a system like Lucene and I should just go 
>> ahead without having transactional semantics?
>>
>> Thanks in advance,
>>
>> Marios Skounakis
>>
>>
>> ------------------------------------------------------------------------
>>
>> No virus found in this incoming message.
>> Checked by AVG Free Edition.
>> Version: 7.1.362 / Virus Database: 267.13.1/169 - Release Date: 
>> 11/15/2005
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 15:28:34 2005
Return-Path: <java-user-return-17596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59871 invoked from network); 18 Nov 2005 15:28:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 15:28:34 -0000
Received: (qmail 88334 invoked by uid 500); 18 Nov 2005 15:28:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88310 invoked by uid 500); 18 Nov 2005 15:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88299 invoked by uid 99); 18 Nov 2005 15:28:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 07:28:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 07:30:00 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id jAIFS0Ze012794
	for <java-user@lucene.apache.org>; Fri, 18 Nov 2005 10:28:01 -0500 (EST)
Message-ID: <437DF300.6070906@syr.edu>
Date: Fri, 18 Nov 2005 10:28:00 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: TermFreqVector
References: <437D4C4D.1B8705B2@sarnoff.com> <88c6a6720511172113q100eb3aek3bd49b10732cdaf9@mail.gmail.com> <437DD98A.181CFD1D@sarnoff.com>
In-Reply-To: <437DD98A.181CFD1D@sarnoff.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Anna,

The sample I sent is from a modified version of the demo (line 87 in
HTMLDocument of the latest code) that I am preparing for my ApacheCon
talk (which will cover Term Vectors, amongst other things).

At any rate, if you look at the Field constructor for 1.4.3:
|*Field
<http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20java.lang.String,%20boolean,%20boolean,%20boolean,%20boolean%29>*(String 

<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html> name,
String
<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html> string,
boolean store, boolean index, boolean token, boolean storeTermVector)|
(see the Javadocs:
http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html)

or 1.9:

public Field(String name, Reader reader, TermVector termVector)

you can see the last parameter is what controls the addition of
TermVectors.  So depending on your code base, change the code in the
demo to add in the new flag (for 1.4.3) or TermVector.YES (for 1.9). You
will have to reindex upon making this change.


Anna Buczak wrote:

>>You have to tell lucene to store term freq
>>vectors (it isn't done by default).
>>    
>>
>This is exactly the part that I do not know how to do.  Where to set the
>flag ?
>I use for indexing org.apache/lucene.demo.IndexFiles.
>
>  
>
>>Do you have at least
>>one field?
>>    
>>
>Now I know that Lucene adds three fields by default and one of them is
>"contents" - this is the one I am interested in, and at the present time I
>can retieve from that field what I want (i.e. this part works).
>
>Anna
>
>
>Chris Lamprecht wrote:
>
>  
>
>>Can you post the code you're using to create the Document and adding
>>it to the IndexWriter?   You have to tell lucene to store term freq
>>vectors (it isn't done by default).  Also I'm not sure what you mean
>>when you say your documents do not have fields.  Do you have at least
>>one field?
>>
>>-chris
>>
>>On 11/17/05, Anna Buczak <abuczak@sarnoff.com> wrote:
>>    
>>
>>>I have indexed a set of documents that do not have fields.  I want to
>>>use the getTermFreqVector method from IndexReader to get the
>>>frequencies.  However when I do that as:
>>>
>>>TermFreqVector[] z = ir.getTermFreqVectors(0);
>>>
>>>z is null.  So I can't get the frequency vectors.
>>>
>>>Help will be very much appreciated.
>>>
>>>Anna
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>    
>>
>
>--
>Dr. Anna L. Buczak                          Email: abuczak@sarnoff.com
>Technology Leader                           Phone: 609-734-2667
>Sarnoff Corporation                         Fax:   609-734-2662
>201 Washington Rd.
>Princeton, NJ 08543-5300
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
-------------------------------------------------------------------
Grant Ingersoll
Sr. Software Engineer
Center for Natural Language Processing
Syracuse University
School of Information Studies
337 Hinds Hall
Syracuse, NY 13244

http://www.cnlp.org
Voice:  315-443-5484
Fax: 315-443-6886



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 17:41:54 2005
Return-Path: <java-user-return-17597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35305 invoked from network); 18 Nov 2005 17:41:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 17:41:52 -0000
Received: (qmail 38810 invoked by uid 500); 18 Nov 2005 17:41:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38789 invoked by uid 500); 18 Nov 2005 17:41:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38778 invoked by uid 99); 18 Nov 2005 17:41:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 09:41:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.33.8.46] (HELO ace.sarnoff.com) (130.33.8.46)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Nov 2005 09:43:15 -0800
Received: from postoffice.sarnoff.com(130.33.10.147) by ace.sarnoff.com via csmap 
	 id 912687c2_585b_11da_8322_00304812009a_28347;
	Fri, 18 Nov 2005 12:48:46 -0500 (EST)
Received: from sarnoff.com ([130.33.202.26]) by
          postoffice.sarnoff.com (Netscape Messaging Server 4.15) with
          ESMTP id IQ5VSV00.QCY for <java-user@lucene.apache.org>; Fri, 18
          Nov 2005 12:41:19 -0500 
Message-ID: <437E1232.5ECA0E2B@sarnoff.com>
Date: Fri, 18 Nov 2005 12:41:06 -0500
From: "Anna Buczak" <abuczak@sarnoff.com>
X-Mailer: Mozilla 4.8 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: TermFreqVector
References: <437D4C4D.1B8705B2@sarnoff.com> <88c6a6720511172113q100eb3aek3bd49b10732cdaf9@mail.gmail.com> <437DD98A.181CFD1D@sarnoff.com> <437DF300.6070906@syr.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Grant,

Thank you for the information.  When I made the appropriate changes in my code, it worked as a charm.

Anna

Grant Ingersoll wrote:

> Hi Anna,
>
> The sample I sent is from a modified version of the demo (line 87 in
> HTMLDocument of the latest code) that I am preparing for my ApacheCon
> talk (which will cover Term Vectors, amongst other things).
>
> At any rate, if you look at the Field constructor for 1.4.3:
> |*Field
> <http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20java.lang.String,%20boolean,%20boolean,%20boolean,%20boolean%29>*(String
>
> <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html> name,
> String
> <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html> string,
> boolean store, boolean index, boolean token, boolean storeTermVector)|
> (see the Javadocs:
> http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html)
>
> or 1.9:
>
> public Field(String name, Reader reader, TermVector termVector)
>
> you can see the last parameter is what controls the addition of
> TermVectors.  So depending on your code base, change the code in the
> demo to add in the new flag (for 1.4.3) or TermVector.YES (for 1.9). You
> will have to reindex upon making this change.
>
> Anna Buczak wrote:
>
> >>You have to tell lucene to store term freq
> >>vectors (it isn't done by default).
> >>
> >>
> >This is exactly the part that I do not know how to do.  Where to set the
> >flag ?
> >I use for indexing org.apache/lucene.demo.IndexFiles.
> >
> >
> >
> >>Do you have at least
> >>one field?
> >>
> >>
> >Now I know that Lucene adds three fields by default and one of them is
> >"contents" - this is the one I am interested in, and at the present time I
> >can retieve from that field what I want (i.e. this part works).
> >
> >Anna
> >
> >
> >Chris Lamprecht wrote:
> >
> >
> >
> >>Can you post the code you're using to create the Document and adding
> >>it to the IndexWriter?   You have to tell lucene to store term freq
> >>vectors (it isn't done by default).  Also I'm not sure what you mean
> >>when you say your documents do not have fields.  Do you have at least
> >>one field?
> >>
> >>-chris
> >>
> >>On 11/17/05, Anna Buczak <abuczak@sarnoff.com> wrote:
> >>
> >>
> >>>I have indexed a set of documents that do not have fields.  I want to
> >>>use the getTermFreqVector method from IndexReader to get the
> >>>frequencies.  However when I do that as:
> >>>
> >>>TermFreqVector[] z = ir.getTermFreqVectors(0);
> >>>
> >>>z is null.  So I can't get the frequency vectors.
> >>>
> >>>Help will be very much appreciated.
> >>>
> >>>Anna
> >>>
> >>>
> >>>
> >>>---------------------------------------------------------------------
> >>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>>
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >--
> >Dr. Anna L. Buczak                          Email: abuczak@sarnoff.com
> >Technology Leader                           Phone: 609-734-2667
> >Sarnoff Corporation                         Fax:   609-734-2662
> >201 Washington Rd.
> >Princeton, NJ 08543-5300
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
>
> --
> -------------------------------------------------------------------
> Grant Ingersoll
> Sr. Software Engineer
> Center for Natural Language Processing
> Syracuse University
> School of Information Studies
> 337 Hinds Hall
> Syracuse, NY 13244
>
> http://www.cnlp.org
> Voice:  315-443-5484
> Fax: 315-443-6886
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 18 18:22:09 2005
Return-Path: <java-user-return-17598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60352 invoked from network); 18 Nov 2005 18:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Nov 2005 18:22:09 -0000
Received: (qmail 10430 invoked by uid 500); 18 Nov 2005 18:21:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10406 invoked by uid 500); 18 Nov 2005 18:21:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10395 invoked by uid 99); 18 Nov 2005 18:21:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Nov 2005 10:21:48 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Nov 2005 10:23:21 -0800
Received: (qmail 91997 invoked by uid 60001); 18 Nov 2005 18:21:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Jq2DqXRFD81O5NVXmznaBZntutwc5ngJx8bOADdk7U2l/neFtiQc0W6K2rduL3A1mf0u7fPj3Rm5GC+0lrb3ZbSqeuj0VtNfO4MFB+VXOrjR4/LcuBvcP2tm2c29nVJ7zdv695ujt9HJq3Uy2THX/f4p6vzLaooTsZjUazWhh64=  ;
Message-ID: <20051118182126.91995.qmail@web50308.mail.yahoo.com>
Received: from [69.201.142.21] by web50308.mail.yahoo.com via HTTP; Fri, 18 Nov 2005 10:21:26 PST
Date: Fri, 18 Nov 2005 10:21:26 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: References to deleted file handles in long-running server application
To: java-user@lucene.apache.org
In-Reply-To: <3287125F0F0CCE4E8F55435208100CF5156C0A@exchange-mbx.be.bvd>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was thinking of doing something like this for my numerous indices
over on Simpy.com.  However, I was thinking of something much simpler -
an IndexSearcher subclass with close() overriden.  The implementation
of close() would then just start a Thread and call super.close() after
N seconds.

I haven't done this yet, so I'm not sure if this will do, but it seems
simpler than the contribution in JIRA.

Otis

--- "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com> wrote:

> Good rule of thumb: don't ever count on the garbage collector
> cleaning
> up for you (even if you call System.gc() to give it a hint).
> 
> You should close your IndexSearchers, but with a multithreaded
> application  it's difficult to know when (you have to keep them open
> until no thread uses it any more)
> 
> I created a class DelayCloseIndexSearcher class and posted it in jira
> just for this purpose (See
> http://issues.apache.org/jira/browse/LUCENE-445)
> There's a use case in the javadoc.
> 
> I'm using it in my production system (but in a more complex way than
> in
> the example code) and I don't (seem to :) have any problems...
> 
> Either way, I would very much appreciate some feedback about the
> code.
> 
> Thanks,
> 
> Luc
> 
> -----Original Message-----
> From: Matt Magoffin [mailto:apache.org@msqr.us] 
> Sent: vrijdag 18 november 2005 8:58
> To: java-user@lucene.apache.org
> Subject: RE: References to deleted file handles in long-running
> server
> application
> 
> I'm updating nearly continuously (probably average about every 10
> seconds). I don't explicitly close the IndexSearcher objects I
> create,
> as
> I share them across threads, but do leave them to be garbage
> collected.
> I
> ran into index corruption issues when I explicitly closed them, since
> I
> don't have any code keeping track of how many threads might be using
> a
> given IndexSearcher.
> 
> I wonder if it's worth the effort of adding that code in, or can I be
> ensured that when the IndexSearcher objects are garbage collected the
> file
> handles will be released?
> 
> -- m@
> 
> > How often are you updating your index?  Are you closing your old
> > IndexSearchers after switching over to the new index?  You'll need
> to
> > close the searchers in order to release the file handle.  This was
> the
> > same issue I was experiencing:
> >
> >
>
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200504.mbox/%3
> > c200504281819640.SM01836@chicago%3e
> >
> > - Monsur
> >
> >
> >
> >> -----Original Message-----
> >> From: Matt Magoffin [mailto:apache.org@msqr.us]
> >> Sent: Thursday, November 17, 2005 11:05 PM
> >> To: java-user@lucene.apache.org
> >> Subject: Re: References to deleted file handles in
> >> long-running server application
> >>
> >>
> >> I've been watching our servers today, and now there are 2500
> >> "deleted" file handles open like this. Seems to be quite
> >> large. Still don't know why there are so many. I'm using the
> >> compound index format already to reduce the number of open files.
> >>
> >> -- m@
> >>
> >> > Hello, I use Lucene in a long-running server application on a
> Linux
> >> > server, and the other day I got the "Too many open files"
> >> exception.
> >> > I've increased the number of allowed file handles, but was
> checking
> >> > out the open file handles using "lsof", and see about 300
> >> files listed
> >> > like the
> >> > following:
> >> >
> >> > java       1458  jboss  436r   REG        8,2      3945  
> 6258825
> >> > /var/lucene-index/_1o6hl.cfs (deleted)
> >> > java       1458  jboss  437r   REG        8,2      3467  
> 6258829
> >> > /var/lucene-index/_1o6hp.cfs (deleted)
> >> > java       1458  jboss  438r   REG        8,2      2743  
> 6258826
> >> > /var/lucene-index/_1o6ht.cfs (deleted)
> >> > java       1458  jboss  439r   REG        8,2      4069  
> 6258817
> >> > /var/lucene-index/_1o6hx.cfs (deleted)
> >> > java       1458  jboss  440r   REG        8,2      4098  
> 6258830
> >> > /var/lucene-index/_1o6i1.cfs (deleted)
> >> > java       1458  jboss  441r   REG        8,2      1817  
> 6258821
> >> > /var/lucene-index/_1o6i3.cfs (deleted)
> >> >
> >> > I haven't been monitoring this long enough to tell if the number
> >> > simply continues to grow over time or levels off at some point.
> >> >
> >> > I was wondering if this behavior to be expected? When will the
> >> > application release these deleted file handles (if ever)?
> Perhaps
> >> > during garbage collection? Or might I be handling the index
> >> > incorrectly in some way?
> >> >
> >> > Any thoughts appreciated.
> >> > -- m@
> >>
> >>
> >>
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 19 12:49:32 2005
Return-Path: <java-user-return-17599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2171 invoked from network); 19 Nov 2005 12:49:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Nov 2005 12:49:32 -0000
Received: (qmail 10573 invoked by uid 500); 19 Nov 2005 12:49:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10542 invoked by uid 500); 19 Nov 2005 12:49:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10526 invoked by uid 99); 19 Nov 2005 12:49:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Nov 2005 04:49:24 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Nov 2005 04:50:56 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id jAJCn2311403
	for <java-user@lucene.apache.org>; Sat, 19 Nov 2005 04:49:02 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id EAA20511
	for <java-user@lucene.apache.org>; Sat, 19 Nov 2005 04:49:01 -0800 (PST)
In-Reply-To: <8B74326B-7C36-4612-9C57-2C7565A80297@ehatchersolutions.com>
Subject: Re: Field Boosting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFAA678658.B1C99F01-ON882570BE.0046446D-852570BE.0046676B@sybase.com>
From: Daniel.Clark@sybase.com
Date: Sat, 19 Nov 2005 07:49:00 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/19/2005
 04:49:02 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Can the boosting be greater than 2.0?  For example,
"field.setBoost((float)20.0)".

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Erik Hatcher                                                  
             <erik@ehatchersol                                             
             utions.com>                                                To 
                                       java-user@lucene.apache.org         
             11/18/2005 08:39                                           cc 
             AM                                                            
                                                                   Subject 
                                       Re: Field Boosting                  
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           




Daniel,

As I hope you've seen from the other messages on this thread, this is
by design.

What you've shown is _not_ boost working improperly.  Boosts are part
of the score via the fieldNorm value, and I'm certain that your
boosts are being taking into account for scoring.  Boosts are not
retrievable as-is from the Document object after a search.  We should
javadoc that getter more clearly and note that it is really only
valid when you create a Document, not when you retrieve an existing one.

     Erik


On 18 Nov 2005, at 07:08, Daniel.Clark@sybase.com wrote:

> titleField.setBoost((float)1.8);
> doc.add(titleField);
>
> keywordField.setBoost((float)1.6);
> doc.add(keywordField);
>
> summaryField.setBoost((float)1.2);
> doc.add(summaryField);
>
> When searching.
>
> field.getBoost() always = 1.0
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
>              Erik Hatcher
>              <erik@ehatchersol
>
> utions.com>                                                To
>                                        java-user@lucene.apache.org
>              11/17/2005
> 08:46                                           cc
>              AM
>
> Subject
>                                        Re: Field Boosting
>              Please respond to
>              java-user@lucene.
>                 apache.org
>
>
>
>
>
>
>
> Daniel,
>
> Could you give us a test case that shows the boost not working
> properly?
>
> I'm using document level boosting (which is really what field level
> boosting does under the covers) in some of my applications and it is
> working as expected.
>
>      Erik
>
>
> On 17 Nov 2005, at 05:39, Daniel.Clark@sybase.com wrote:
>
>
>>
>> When I boost fields while indexing, the fields still have a boost
>> of 1.0
>> during searching.  When I view the values via Luke, it confirms the
>> value
>> of 1.0.  Do I have to boost it agin during search?  I want certain
>> fields
>> to have higher priority/score during search.  How do I get it to
>> work?  I'm
>> using version 1.4.3.  Any help will be appreciated.
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Daniel Clark, Senior Consultant
>> Sybase Federal Professional Services
>> 6550 Rock Spring Drive, Suite 800
>> Bethesda, MD  20817
>> Office - (301) 896-1103
>> Office Fax - (301) 896-1604
>> Mobile - (703) 403-0340
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 19 16:22:17 2005
Return-Path: <java-user-return-17600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56078 invoked from network); 19 Nov 2005 16:22:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Nov 2005 16:22:17 -0000
Received: (qmail 17070 invoked by uid 500); 19 Nov 2005 16:22:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17038 invoked by uid 500); 19 Nov 2005 16:22:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17027 invoked by uid 99); 19 Nov 2005 16:22:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Nov 2005 08:22:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Nov 2005 08:23:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 05AFF13E2005; Sat, 19 Nov 2005 11:21:46 -0500 (EST)
Received: from [10.0.1.6] (unknown [216.1.16.103])
	by ehatchersolutions.com (Postfix) with ESMTP id 1A04E13E2008
	for <java-user@lucene.apache.org>; Sat, 19 Nov 2005 11:21:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OFAA678658.B1C99F01-ON882570BE.0046446D-852570BE.0046676B@sybase.com>
References: <OFAA678658.B1C99F01-ON882570BE.0046446D-852570BE.0046676B@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2716369D-94A9-4D77-BD93-7D887C24D061@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field Boosting
Date: Sat, 19 Nov 2005 11:21:50 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 19 Nov 2005, at 07:49, Daniel.Clark@sybase.com wrote:
> Can the boosting be greater than 2.0?  For example,
> "field.setBoost((float)20.0)".

Yes, of course.   Again, have a look at the Explanation (from  
IndexSearcher.explain()) to see what effect these things have on your  
scores.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 08:45:56 2005
Return-Path: <java-user-return-17601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34436 invoked from network); 20 Nov 2005 08:45:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 08:45:56 -0000
Received: (qmail 38716 invoked by uid 500); 20 Nov 2005 08:45:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38685 invoked by uid 500); 20 Nov 2005 08:45:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38674 invoked by uid 99); 20 Nov 2005 08:45:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 00:45:50 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 00:47:23 -0800
Received: by zproxy.gmail.com with SMTP id k1so516189nzf
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 00:45:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=U4HelS41tPtXW6L1kk/n7VugOlIOB9SIdTT92H1v0tmvBPJa0wCjOyYHkx1Gi2OgymoqMGhDdYANC0QlKXzhDh3sq324lC77TVSCu5yoEVbjGPXX2cNLrAG/wcFc3xYEYrMmkdEgmfb5aQkLIS88nvsjEPYoyY+ils4GqH2Uu2Q=
Received: by 10.36.132.9 with SMTP id f9mr1750035nzd;
        Sun, 20 Nov 2005 00:45:27 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Sun, 20 Nov 2005 00:45:27 -0800 (PST)
Message-ID: <b7bee2520511200045k21806350ybf62ff7d213029f0@mail.gmail.com>
Date: Sun, 20 Nov 2005 10:45:27 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: reusing MultiSearcher vs. reusing contained IndexSearchers
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14416_32258131.1132476327645"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14416_32258131.1132476327645
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
I'm searching several indexes combinations on random. Which method is
better:

1) Keep one IndexSearcher for each index, and create a new MultiSearcher fo=
r
each request according to the combination needed.
2) Keep one MultiSearcher with the scope of all the indexes, and pay the
toll of searching irrelevant indexes.
3) Keep each combination of MultiSearchers.

Any other thoughts?

The reason I need this is that the indexes differ in time range of stored
data and scope of content, all of which I know before the query. Should I
step out of the box and just store everything in one huge index? It will
solve this problem, but probably will create a hundred more...

Thanks,
Oren Shir

------=_Part_14416_32258131.1132476327645--

From java-user-return-17602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 09:50:09 2005
Return-Path: <java-user-return-17602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46155 invoked from network); 20 Nov 2005 09:50:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 09:50:09 -0000
Received: (qmail 55766 invoked by uid 500); 20 Nov 2005 09:50:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55744 invoked by uid 500); 20 Nov 2005 09:50:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55733 invoked by uid 99); 20 Nov 2005 09:50:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 01:50:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 01:51:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0DCC713E2005; Sun, 20 Nov 2005 04:49:39 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 1092413E2005
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 04:49:25 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <b7bee2520511200045k21806350ybf62ff7d213029f0@mail.gmail.com>
References: <b7bee2520511200045k21806350ybf62ff7d213029f0@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2DDA06E4-B26E-4070-80A1-759CDB493FDD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reusing MultiSearcher vs. reusing contained IndexSearchers
Date: Sun, 20 Nov 2005 04:49:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oh perhaps create a custom MultiSearcher that requires you specify  
which indexes (by an int[], perhaps?) to search for any given query.

     Erik



On 20 Nov 2005, at 03:45, Oren Shir wrote:

> Hi,
> I'm searching several indexes combinations on random. Which method is
> better:
>
> 1) Keep one IndexSearcher for each index, and create a new  
> MultiSearcher for
> each request according to the combination needed.
> 2) Keep one MultiSearcher with the scope of all the indexes, and  
> pay the
> toll of searching irrelevant indexes.
> 3) Keep each combination of MultiSearchers.
>
> Any other thoughts?
>
> The reason I need this is that the indexes differ in time range of  
> stored
> data and scope of content, all of which I know before the query.  
> Should I
> step out of the box and just store everything in one huge index? It  
> will
> solve this problem, but probably will create a hundred more...
>
> Thanks,
> Oren Shir
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 12:10:44 2005
Return-Path: <java-user-return-17603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75555 invoked from network); 20 Nov 2005 12:10:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 12:10:44 -0000
Received: (qmail 24412 invoked by uid 500); 20 Nov 2005 12:10:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24381 invoked by uid 500); 20 Nov 2005 12:10:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24370 invoked by uid 99); 20 Nov 2005 12:10:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 04:10:37 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 04:12:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4A50613E2007; Sun, 20 Nov 2005 07:10:14 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 49DBB13E2005
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 07:09:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Spans, appended fields, and term positions
Date: Sun, 20 Nov 2005 07:10:21 -0500
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm working on building a custom highlighter for a client, which may  
eventually be generalizable.  In my work, I've come across some  
issues I'd like to discuss.  One issue is of appended fields allowing  
querying across boundaries.  For example, if I index two fields with  
the same name:

         doc.add(new Field("repeated", "this is a repeated field -  
first instance", Field.Store.YES,
                 Field.Index.TOKENIZED));
         doc.add(new Field("repeated", "this is a repeated field -  
second instance", Field.Store.YES,
                 Field.Index.TOKENIZED));

A query, of course by design, can span across those two field  
instances.  This query, against an index with only the above single  
document in it, shows the effect:

     SpanTermQuery first = new SpanTermQuery(new Term("repeated",  
"first"));
     SpanTermQuery second = new SpanTermQuery(new Term("repeated",  
"second"));
     SpanNearQuery wrapped = new SpanNearQuery(new SpanQuery[]  
{ first, second}, 7, true);

     IndexSearcher searcher = new IndexSearcher(reader);
     Hits hits = searcher.search(wrapped);
     assertEquals(1, hits.length());

So my first question is how could this match be prevented?   
Technically if the second "this" has a large position increment then  
there would be no match.  But how could I achieve that large position  
increment?  Does it make sense to add an IndexWriter setting to  
specify a default position increment gap to use when multiple fields  
are added in this way?  And likely a setting on a per-field basis to  
specify an increment offset to use for that individual field.  There  
isn't a way an Analyzer itself could address this situation, is there?

Highlighting is quite a challenging endeavor!  Spans certainly  
provides a lot of help, but in the appended field scenario, the  
Spans.start() and .end() goes across the field boundary, so it  
requires, in my case with the text coming from stored field values,  
cleverness in how to highlight in order to keep field instances  
separate.

So, should we make some changes in allowing offsets to be controllable?

Thanks,
     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 13:48:13 2005
Return-Path: <java-user-return-17604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6810 invoked from network); 20 Nov 2005 13:48:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 13:48:12 -0000
Received: (qmail 80667 invoked by uid 500); 20 Nov 2005 13:48:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79848 invoked by uid 500); 20 Nov 2005 13:48:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79836 invoked by uid 99); 20 Nov 2005 13:48:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 05:48:07 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 05:49:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D4A8113E2007; Sun, 20 Nov 2005 08:47:45 -0500 (EST)
Received: from [192.168.1.104] (68-232-111-194.chvlva.adelphia.net [68.232.111.194])
	by ehatchersolutions.com (Postfix) with ESMTP id 6719713E2005
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 08:47:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Spans, appended fields, and term positions
Date: Sun, 20 Nov 2005 07:10:21 -0500
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm working on building a custom highlighter for a client, which may  
eventually be generalizable.  In my work, I've come across some  
issues I'd like to discuss.  One issue is of appended fields allowing  
querying across boundaries.  For example, if I index two fields with  
the same name:

         doc.add(new Field("repeated", "this is a repeated field -  
first instance", Field.Store.YES,
                 Field.Index.TOKENIZED));
         doc.add(new Field("repeated", "this is a repeated field -  
second instance", Field.Store.YES,
                 Field.Index.TOKENIZED));

A query, of course by design, can span across those two field  
instances.  This query, against an index with only the above single  
document in it, shows the effect:

     SpanTermQuery first = new SpanTermQuery(new Term("repeated",  
"first"));
     SpanTermQuery second = new SpanTermQuery(new Term("repeated",  
"second"));
     SpanNearQuery wrapped = new SpanNearQuery(new SpanQuery[]  
{ first, second}, 7, true);

     IndexSearcher searcher = new IndexSearcher(reader);
     Hits hits = searcher.search(wrapped);
     assertEquals(1, hits.length());

So my first question is how could this match be prevented?   
Technically if the second "this" has a large position increment then  
there would be no match.  But how could I achieve that large position  
increment?  Does it make sense to add an IndexWriter setting to  
specify a default position increment gap to use when multiple fields  
are added in this way?  And likely a setting on a per-field basis to  
specify an increment offset to use for that individual field.  There  
isn't a way an Analyzer itself could address this situation, is there?

Highlighting is quite a challenging endeavor!  Spans certainly  
provides a lot of help, but in the appended field scenario, the  
Spans.start() and .end() goes across the field boundary, so it  
requires, in my case with the text coming from stored field values,  
cleverness in how to highlight in order to keep field instances  
separate.

So, should we make some changes in allowing offsets to be controllable?

Thanks,
     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 15:48:43 2005
Return-Path: <java-user-return-17605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45852 invoked from network); 20 Nov 2005 15:48:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 15:48:43 -0000
Received: (qmail 44530 invoked by uid 500); 20 Nov 2005 15:48:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44502 invoked by uid 500); 20 Nov 2005 15:48:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44491 invoked by uid 99); 20 Nov 2005 15:48:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 07:48:37 -0800
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.70 as permitted sender)
Received: from [203.181.105.70] (HELO hfep04.dion.ne.jp) (203.181.105.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 07:50:10 -0800
Received: from sekiguchi ([59.135.70.72]) by hfep04.dion.ne.jp with SMTP
          id <20051120154815568.EDOV@hfep04.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Mon, 21 Nov 2005 00:48:15 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: What is stemming?
Date: Mon, 21 Nov 2005 00:48:14 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGEGBCBAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Luceners!

What is "stemming"?

I have Lucene in Action and found the following definitions on page 103:

- reducing words to a root form (stemming)
- changing words into the basic form (lemmatization)

but I cannot see the difference between them.
I'm also confused by the following words on page 71:

- convert terms to base word forms (stemming)

It seems "lemmatization" to me...

Could someone explain what "stemming" is?
Some illustrative cases would be very appreciated.
My mother tongue is not English.

Thank you,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 16:25:13 2005
Return-Path: <java-user-return-17606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57231 invoked from network); 20 Nov 2005 16:25:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 16:25:13 -0000
Received: (qmail 75773 invoked by uid 500); 20 Nov 2005 16:25:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75731 invoked by uid 500); 20 Nov 2005 16:25:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75720 invoked by uid 99); 20 Nov 2005 16:25:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 08:25:07 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [71.16.107.35] (HELO gw2.sciquest.com) (71.16.107.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 08:26:40 -0800
Received: from me2003.cary.sciquest.com (me2003.cary.sciquest.com [10.0.0.23])
	by gw2.sciquest.com (8.12.9/8.12.9/SQ-GW-1.20040116) with ESMTP id jAKGOjc5064102
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 11:24:46 -0500
Received: from gabriel.cary.sciquest.com ([10.0.0.25]) by me2003.cary.sciquest.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Sun, 20 Nov 2005 11:24:45 -0500
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: reusing MultiSearcher vs. reusing contained IndexSearchers
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Sun, 20 Nov 2005 11:24:44 -0500
Message-ID: <0C256A587C934045A3C229ADAA3A178111AB9D@gabriel.cary.sciquest.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: reusing MultiSearcher vs. reusing contained IndexSearchers
Thread-Index: AcXtrx9s0PA3IVmCEdqQkQCQJ+MLKgAPEXNQ
From: "Alexey Lef" <alexey@sciquest.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 20 Nov 2005 16:24:45.0618 (UTC) FILETIME=[EB559120:01C5EDEE]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have a very similar situation.

We cache an IndexSearcher for each index and a MultiSearcher for each
combination. Both IndexSearchers and MultiSearchers are created on
demand (i.e. we don't prebuild every possible combination). I think
caching MultiSearchers is not necessary because it is just a thin layer
on top of IndexSearchers. On the other hand, there is no penalty in
caching MultiSearchers because they use very little memory. However it
is important that there is only one cached IndexSearcher for a given
index. So this is more or less your option #1.

I have to mention that our indexes are fairly static and the indexing
process is very controlled. We update all indexes once a day. When we
switch to the updated indexes, we just start with a clean cache and let
the garbage collector clean up the old cache. If you have indexes that
are constantly updated, you may have to be a bit more careful.

Hope this helps,

Alexey

-----Original Message-----
From: Oren Shir [mailto:shoren@gmail.com]=20
Sent: Sunday, November 20, 2005 3:45 AM
To: java-user@lucene.apache.org
Subject: reusing MultiSearcher vs. reusing contained IndexSearchers

Hi,
I'm searching several indexes combinations on random. Which method is
better:

1) Keep one IndexSearcher for each index, and create a new MultiSearcher
for
each request according to the combination needed.
2) Keep one MultiSearcher with the scope of all the indexes, and pay the
toll of searching irrelevant indexes.
3) Keep each combination of MultiSearchers.

Any other thoughts?

The reason I need this is that the indexes differ in time range of
stored
data and scope of content, all of which I know before the query. Should
I
step out of the box and just store everything in one huge index? It will
solve this problem, but probably will create a hundred more...

Thanks,
Oren Shir

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 17:01:00 2005
Return-Path: <java-user-return-17607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68945 invoked from network); 20 Nov 2005 17:01:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 17:01:00 -0000
Received: (qmail 7789 invoked by uid 500); 20 Nov 2005 17:00:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7769 invoked by uid 500); 20 Nov 2005 17:00:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7758 invoked by uid 99); 20 Nov 2005 17:00:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:00:54 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.207 as permitted sender)
Received: from [64.233.184.207] (HELO wproxy.gmail.com) (64.233.184.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:02:27 -0800
Received: by wproxy.gmail.com with SMTP id i24so251277wra
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 09:00:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=TA2Hov1jAD5rj75y2Fxu2ZGp+pThnDZcqQJr6fLqjX2Co+pfWzsC95iD7pJZZn6LZPXszM5FEnh55I1lO5o6i2YJejx3yoZ9R6L6WinMfSoJ9IjgiHqfR6jWGiyjUxOhZJhVylNRVLBTPIVNdY6GSB16wVrXnyxN2T/onxGcY78=
Received: by 10.65.240.5 with SMTP id s5mr1978325qbr;
        Sun, 20 Nov 2005 09:00:33 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Sun, 20 Nov 2005 09:00:32 -0800 (PST)
Message-ID: <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
Date: Sun, 20 Nov 2005 12:00:32 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
In-Reply-To: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Does it make sense to add an IndexWriter setting to
> specify a default position increment gap to use when multiple fields
> are added in this way?

Per-field might be nice...

The good news is that Analyzer is an abstract class, and not an
Interface, so we could add something to it without breaking existing
analyzers. (a benefits of classes over interfaces that rarely get
mentioned).

int Analyzer.getPositionIncrementGap(String field)
or getMultiValuedFieldGap(String field)

But what might be even more powerful is to leave everything up to the
analyzer, where you could choose to do a big position increment,
generate a special token, or anything else one might think of.

You can't do this right now in the analyzer because of a lack of info
(you don't know if you are on the first field or a subsequent one.=20
One could always add a big position increment at the start of every
field, but I suspect that would blow up the index size.  Another way
is to give more context info to the Analyzer:

Analyzer.analyzer.tokenStream(fieldName, reader, flags)
  where one of the flags could be REPEATED_FIELD or something.

Analyzer.getPositionIncrementGap(String field) is certainly the
simplest option if all you want to do is have a gap, and I guess these
different options aren't mutually exclusive.


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 11/20/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> I'm working on building a custom highlighter for a client, which may
> eventually be generalizable.  In my work, I've come across some
> issues I'd like to discuss.  One issue is of appended fields allowing
> querying across boundaries.  For example, if I index two fields with
> the same name:
>
>          doc.add(new Field("repeated", "this is a repeated field -
> first instance", Field.Store.YES,
>                  Field.Index.TOKENIZED));
>          doc.add(new Field("repeated", "this is a repeated field -
> second instance", Field.Store.YES,
>                  Field.Index.TOKENIZED));
>
> A query, of course by design, can span across those two field
> instances.  This query, against an index with only the above single
> document in it, shows the effect:
>
>      SpanTermQuery first =3D new SpanTermQuery(new Term("repeated",
> "first"));
>      SpanTermQuery second =3D new SpanTermQuery(new Term("repeated",
> "second"));
>      SpanNearQuery wrapped =3D new SpanNearQuery(new SpanQuery[]
> { first, second}, 7, true);
>
>      IndexSearcher searcher =3D new IndexSearcher(reader);
>      Hits hits =3D searcher.search(wrapped);
>      assertEquals(1, hits.length());
>
> So my first question is how could this match be prevented?
> Technically if the second "this" has a large position increment then
> there would be no match.  But how could I achieve that large position
> increment?  Does it make sense to add an IndexWriter setting to
> specify a default position increment gap to use when multiple fields
> are added in this way?  And likely a setting on a per-field basis to
> specify an increment offset to use for that individual field.  There
> isn't a way an Analyzer itself could address this situation, is there?
>
> Highlighting is quite a challenging endeavor!  Spans certainly
> provides a lot of help, but in the appended field scenario, the
> Spans.start() and .end() goes across the field boundary, so it
> requires, in my case with the text coming from stored field values,
> cleverness in how to highlight in order to keep field instances
> separate.
>
> So, should we make some changes in allowing offsets to be controllable?
>
> Thanks,
>      Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 17:49:12 2005
Return-Path: <java-user-return-17608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81496 invoked from network); 20 Nov 2005 17:49:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 17:49:11 -0000
Received: (qmail 51912 invoked by uid 500); 20 Nov 2005 17:49:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51879 invoked by uid 500); 20 Nov 2005 17:49:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51868 invoked by uid 99); 20 Nov 2005 17:49:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:49:06 -0800
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.47] (HELO mta07-winn.ispmail.ntl.com) (81.103.221.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:50:39 -0800
Received: from aamta12-winn.ispmail.ntl.com ([81.103.221.35])
          by mta07-winn.ispmail.ntl.com with ESMTP
          id <20051120174843.KBWW21883.mta07-winn.ispmail.ntl.com@aamta12-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Sun, 20 Nov 2005 17:48:43 +0000
Received: from jhi ([81.98.13.34]) by aamta12-winn.ispmail.ntl.com
          with SMTP
          id <20051120174843.IHKE18425.aamta12-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Sun, 20 Nov 2005 17:48:43 +0000
Message-ID: <000601c5edfa$ab33e900$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCGEGBCBAA.koji.sekiguchi@m4.dion.ne.jp>
Subject: Re: What is stemming?
Date: Sun, 20 Nov 2005 17:48:49 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-2022-jp";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello fellow lucener :), firstly im no tutor but i will try my best to 
explain, if anyone believes im wrong please state it so our friend doesnt 
get the wrong idea,

here it goes. O_o
stemming is reducing the word to the root form, where lemmatisation is 
concerned with linguistics i believe

lemmatisation is "go", "gone", "going", "goes", "been" and "went"

where stemming a word would be reducing a word from "gone" to "go", so it 
can be matched to other stemmed words such as "going", as "going" stemmed 
would be "go" also,

a better example.
"engineering", "engineers", "engineered", "engineer"

these four words would not match up if they were tested for equality, 
however by stemming these words we can reduce them to a more basic form,

engineering --> engineer
engineers --> engineer
engineered --> engineer
engineer --> engineer

now we have stemmed words they will match for equality, so now if i try 
searching using the word for engineer, documents on engineering, engineers 
and engineered would be returned from a stemmed index/database.


I hope that helps. Do a search for "porter stemmer" for more information.

_gk

----- Original Message ----- 
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Sent: Sunday, November 20, 2005 3:48 PM
Subject: What is stemming?


> Hello, Luceners!
>
> What is "stemming"?
>
> I have Lucene in Action and found the following definitions on page 103:
>
> - reducing words to a root form (stemming)
> - changing words into the basic form (lemmatization)
>
> but I cannot see the difference between them.
> I'm also confused by the following words on page 71:
>
> - convert terms to base word forms (stemming)
>
> It seems "lemmatization" to me...
>
> Could someone explain what "stemming" is?
> Some illustrative cases would be very appreciated.
> My mother tongue is not English.
>
> Thank you,
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 17:54:02 2005
Return-Path: <java-user-return-17609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82873 invoked from network); 20 Nov 2005 17:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 17:54:02 -0000
Received: (qmail 55060 invoked by uid 500); 20 Nov 2005 17:53:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55024 invoked by uid 500); 20 Nov 2005 17:53:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55013 invoked by uid 99); 20 Nov 2005 17:53:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:53:57 -0800
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 09:55:30 -0800
Received: (qmail 19707 invoked from network); 20 Nov 2005 17:53:34 -0000
Received: from unknown (HELO p5496feb1.dip.t-dialin.net) ([pbs]695637@[84.150.254.177])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 20 Nov 2005 17:53:34 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: What is stemming?
Date: Sun, 20 Nov 2005 18:55:46 +0100
User-Agent: KMail/1.8.2
References: <PKEIKOCKCHNIIHNECPCCGEGBCBAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGEGBCBAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511201855.46600@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sonntag 20 November 2005 16:48, Koji Sekiguchi wrote:

> Could someone explain what "stemming" is?

Stemming usually means to cut off characters from the end of the word, e.g. 
walked -> walk, walking -> walk. However, this does not necessarily 
produce a real word, e.g. a stemmer could also change house and houses to 
"hous". Also, cutting of characters isn't enough for irregular words, e.g. 
you cannot get from "went" to "go" by just cutting of characters. A 
lemmatizer solves these problems, i.e. it always produces real words, even 
for irregular forms. It usually needs a table of irregular forms for this.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 19:10:45 2005
Return-Path: <java-user-return-17610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5215 invoked from network); 20 Nov 2005 19:10:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 19:10:45 -0000
Received: (qmail 29970 invoked by uid 500); 20 Nov 2005 19:10:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29949 invoked by uid 500); 20 Nov 2005 19:10:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29938 invoked by uid 99); 20 Nov 2005 19:10:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 11:10:39 -0800
Received-SPF: pass (asf.osuosl.org: domain of giovanni.novelli@gmail.com designates 64.233.182.200 as permitted sender)
Received: from [64.233.182.200] (HELO nproxy.gmail.com) (64.233.182.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 11:12:12 -0800
Received: by nproxy.gmail.com with SMTP id i2so69750nfe
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 11:10:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ltrGwYk8dJLGAF0Yvpy52AMiui2M2fzdBRm9gVOwiDpIcHN3EjxO0uGt+lfVNda57LORhuXpTbhOMifk6y/UmZrCVnYvlZzi2y25R/JVAAe2TRTP9XZYk0/cjk1QawIpLi+RmK9OA5HsHTtlF1UGnp6oLFDzdDmLzRIs9yn0jEU=
Received: by 10.49.35.10 with SMTP id n10mr238571nfj;
        Sun, 20 Nov 2005 11:10:17 -0800 (PST)
Received: by 10.48.4.6 with HTTP; Sun, 20 Nov 2005 11:10:17 -0800 (PST)
Message-ID: <acee472d0511201110y4bb921aah4bddafdf60c63471@mail.gmail.com>
Date: Sun, 20 Nov 2005 20:10:17 +0100
From: Giovanni Novelli <giovanni.novelli@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: What is stemming?
In-Reply-To: <200511201855.46600@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15964_17367001.1132513817720"
References: <PKEIKOCKCHNIIHNECPCCGEGBCBAA.koji.sekiguchi@m4.dion.ne.jp>
	 <200511201855.46600@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15964_17367001.1132513817720
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

[Afaik] Lucene stemming is based on Snowball (http://snowball.tartarus.org/=
)
and snowball is an implementation of Porter's algorithm (
http://www.tartarus.org/~martin/PorterStemmer/) so, if I'm not wrong, you
should refer to them.

------=_Part_15964_17367001.1132513817720--

From java-user-return-17611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 20:04:07 2005
Return-Path: <java-user-return-17611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16210 invoked from network); 20 Nov 2005 20:04:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 20:04:07 -0000
Received: (qmail 50083 invoked by uid 500); 20 Nov 2005 20:04:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50056 invoked by uid 500); 20 Nov 2005 20:04:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50045 invoked by uid 99); 20 Nov 2005 20:04:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 12:04:02 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.25] (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 12:05:35 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAKK3eMU070640
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 21:03:40 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
Date: Sun, 20 Nov 2005 21:03:40 +0100
User-Agent: KMail/1.5.4
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
In-Reply-To: <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200511202103.40207.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One more thing to  consider: the field length in the index.
Probably the added position increment between appended parts
of a field should not be reflected in the total field size as indexed.

This would also be a consideration for queries and for the
field norms: when multiple fields are used they may all have their
own length (norm) and a span query will never match between the fields.
When appending the same field to a document multiple times as parts
of the same field, the total field length should should be used in
the query score and the span query may match between the
field parts  when the slop is larger than the position increment
between the parts.

> Highlighting is quite a challenging endeavor! =A0Spans certainly
> provides a lot of help, but in the appended field scenario, the
> Spans.start() and .end() goes across the field boundary, so it
> requires, in my case with the text coming from stored field values,
> cleverness in how to highlight in order to keep field instances
> separate.

The problem is that it is not really possible to reconstruct the appended
parts of the field from the index, especially when stop words leave gaps
so there may be a large gap because of stop words.
So there is only one option: never query a with span slop that is bigger
that the position increment between the appended parts.

But even then the highlighting may not be reliable. It depends on=20
Document.fields() of a stored and retrieved document: does it return
all the appended field parts as separate Fields, or does it only
return one Field with all parts appended? I don't know.
Highlighting will not be reliable in the latter case.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 21:28:05 2005
Return-Path: <java-user-return-17612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44466 invoked from network); 20 Nov 2005 21:28:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 21:28:05 -0000
Received: (qmail 14468 invoked by uid 500); 20 Nov 2005 21:28:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14435 invoked by uid 500); 20 Nov 2005 21:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14424 invoked by uid 99); 20 Nov 2005 21:27:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:27:59 -0800
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:29:32 -0800
Received: by xproxy.gmail.com with SMTP id i31so467010wxd
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 13:27:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=uMwpi1WaKMUdeq8POYm55Frif+cKmw+EBqdxhEuRPsSwSz+fhsn7iypcjqSTQ8f1aLUptU2864Uc4SU/IoR9y+uJMxuo6lx+9sCv9r7NO/Nb2HRPX509zDq+FoPBSHScNGW2HSBSu0LcGf28mKr50qsUYSvzEJcAN+DLFBGpzjg=
Received: by 10.64.153.6 with SMTP id a6mr2117647qbe;
        Sun, 20 Nov 2005 13:27:38 -0800 (PST)
Received: by 10.65.23.13 with HTTP; Sun, 20 Nov 2005 13:27:38 -0800 (PST)
Message-ID: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
Date: Sun, 20 Nov 2005 13:27:38 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: High CPU utilization with sort
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17584_30167368.1132522058484"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17584_30167368.1132522058484
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I've read many comments from users on the list indicating that sorting
may/will be performance-heavy. Is high CPU utilization with a sorted search
one of the expected performance hits?

In tests for our implementation (25 concurrent connections generating
search/sort requests), we've seen performance in terms of requests/second
drop by a factor of 10, compared to similar tests executing only search
requests (no sorts). CPU appears to be our bottleneck, and I'm trying to
determine if this is expected behavior or if we're outside the bounds of
typical performance.

Thanks,
jeff

------=_Part_17584_30167368.1132522058484--

From java-user-return-17613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 21:36:01 2005
Return-Path: <java-user-return-17613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46357 invoked from network); 20 Nov 2005 21:36:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 21:36:00 -0000
Received: (qmail 20428 invoked by uid 500); 20 Nov 2005 21:35:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20409 invoked by uid 500); 20 Nov 2005 21:35:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20398 invoked by uid 99); 20 Nov 2005 21:35:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:35:54 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:37:26 -0800
Received: by xproxy.gmail.com with SMTP id s15so509645wxc
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 13:35:32 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=W1p3n6LxKhLqo98do0cx+ALPm3BPnoh4+yhDMdXMdY16nOzreOdtryhGPBbE9bJyUhs7Lxux7+Z/r/HF4wfIYnguMzTUx0OsAGirDXMI61o3GxJ+3UoMZCHal62pSvimzReb5y4NwXmWJaTXOJWXUzyGmOCIt0s57TtVGjob5sM=
Received: by 10.65.137.14 with SMTP id p14mr2174529qbn;
        Sun, 20 Nov 2005 13:35:32 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Sun, 20 Nov 2005 13:35:31 -0800 (PST)
Message-ID: <c68e39170511201335i30678cadweb8b3e6bb1e106b7@mail.gmail.com>
Date: Sun, 20 Nov 2005 16:35:31 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
In-Reply-To: <200511202103.40207.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
	 <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
	 <200511202103.40207.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> It depends on
> Document.fields() of a stored and retrieved document: does it return
> all the appended field parts as separate Fields, or does it only
> return one Field with all parts appended?

Separate fields.  Stored fields are returned back to you verbatim.


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 21:41:21 2005
Return-Path: <java-user-return-17614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47575 invoked from network); 20 Nov 2005 21:41:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 21:41:20 -0000
Received: (qmail 23341 invoked by uid 500); 20 Nov 2005 21:41:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23299 invoked by uid 500); 20 Nov 2005 21:41:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23283 invoked by uid 99); 20 Nov 2005 21:41:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:41:15 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 13:42:48 -0800
Received: by xproxy.gmail.com with SMTP id i30so524089wxd
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 13:40:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LN0zYPIIr7+sLGklUfSiu6UEcUW9ybr0h7urDraJLt0BPyGGmtj4JOOfxGh4K1mXpvlxMpq/eWP41tqnBStVOiRW1aO+ANSYEWOTrj3PtaOKUnxw6YrI5BkJEX8Jr0Zt5Sf8JMmqpAosH95CCRenkOJS0uoRERAjEavZ/5/A9+M=
Received: by 10.65.148.6 with SMTP id a6mr2179016qbo;
        Sun, 20 Nov 2005 13:40:54 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Sun, 20 Nov 2005 13:40:54 -0800 (PST)
Message-ID: <c68e39170511201340v7ab00434v484d71bb52eb4ab0@mail.gmail.com>
Date: Sun, 20 Nov 2005 16:40:54 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: High CPU utilization with sort
In-Reply-To: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I haven't done measurements, but the first query with a sort on a
particular field will involve filling the field-cache and that can
take a while (especially for numeric fields).

If you haven't already, you should compare the query times of a
"warmed" searcher.  Sorted queries will still take longer, but I
haven't measured how much longer.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/20/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> I've read many comments from users on the list indicating that sorting
> may/will be performance-heavy. Is high CPU utilization with a sorted sear=
ch
> one of the expected performance hits?
>
> In tests for our implementation (25 concurrent connections generating
> search/sort requests), we've seen performance in terms of requests/second
> drop by a factor of 10, compared to similar tests executing only search
> requests (no sorts). CPU appears to be our bottleneck, and I'm trying to
> determine if this is expected behavior or if we're outside the bounds of
> typical performance.
>
> Thanks,
> jeff
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 23:05:52 2005
Return-Path: <java-user-return-17615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70344 invoked from network); 20 Nov 2005 23:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 23:05:52 -0000
Received: (qmail 77827 invoked by uid 500); 20 Nov 2005 23:05:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77717 invoked by uid 500); 20 Nov 2005 23:05:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77681 invoked by uid 99); 20 Nov 2005 23:05:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 15:05:40 -0800
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 20 Nov 2005 15:07:11 -0800
Received: (qmail 21329 invoked by uid 0); 20 Nov 2005 23:05:16 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Mon, 21 Nov 2005 00:05:16 +0100 (MET)
Date: Mon, 21 Nov 2005 00:05:16 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>,
 "Developer " <lucene-dev@jakarta.apache.org>
MIME-Version: 1.0
Subject: Urgent - File Lock in Lucene 1.2
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <28140.1132527916@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello group,

I am running Lucene 1.2 and I have the following error message. I got this
message when performing a search:

Failed to obtain file lock on /tmp/qcop-msg-qpe

I am running Lucene 1.2 on a Sharp Zaurus PDA with embedded Linux.

When I look through the exceptions I have before that I can see that I have
an IOException "Too many open files" happening somewhere in the
FSDirectory... 


Regards,
Karl


-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 23:34:00 2005
Return-Path: <java-user-return-17616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79038 invoked from network); 20 Nov 2005 23:33:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 23:33:59 -0000
Received: (qmail 4000 invoked by uid 500); 20 Nov 2005 23:33:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3791 invoked by uid 500); 20 Nov 2005 23:33:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3647 invoked by uid 99); 20 Nov 2005 23:33:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 15:33:52 -0800
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 20 Nov 2005 15:35:25 -0800
Received: (qmail 9472 invoked by uid 0); 20 Nov 2005 23:33:29 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Mon, 21 Nov 2005 00:33:30 +0100 (MET)
Date: Mon, 21 Nov 2005 00:33:30 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: Re-Opening IndexSearcher
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <26575.1132529610@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

how do I close and open an IndexSearcher object in order to free resources
that cause my system to throw an IOException saing "Too many open files"  as
well as trouble with an index lock file ?

I have the following code:

synchronized public static Hits search(String queryString, String[]
searchFields, 
			String indexDirectory) {
	// create access to index
	SnowballAnalyzer analyser = new SnowballAnalyzer("English",
MyAnalyser.STOP_WORDS);
	Hits hits = null;
	ContentSelection result = null;
		
	if (indexDirectory != null && indexDirectory != ""){
		SnowballSearcher.indexDirectory = indexDirectory;
	}
	if (queryString == "" || queryString == null){
		return null; // no query => no results
	}
	try {
		IndexSearcher searcher = new
IndexSearcher(SnowballSearcher.indexDirectory);
		if (searchFields.length > 1){
			// search over multiple index fields
			Query query = MultiFieldQueryParser.parse(queryString, searchFields,
analyser);
			hits = searcher.search(query);
		}
		// wrap the Hits object in a result object
	} catch (Exception exception) {
	    exception.printStackTrace();
	}
    return hits;    
}

Do you see any other problem in this code that could cause those problems?

Karl

-- 
10 GB Mailbox, 100 FreeSMS/Monat http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse fr Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 20 23:37:43 2005
Return-Path: <java-user-return-17617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79770 invoked from network); 20 Nov 2005 23:37:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Nov 2005 23:37:43 -0000
Received: (qmail 5969 invoked by uid 500); 20 Nov 2005 23:37:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5945 invoked by uid 500); 20 Nov 2005 23:37:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5934 invoked by uid 99); 20 Nov 2005 23:37:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 15:37:38 -0800
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.74 as permitted sender)
Received: from [203.181.105.74] (HELO hfep08.dion.ne.jp) (203.181.105.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 15:39:11 -0800
Received: from sekiguchi ([59.135.70.72]) by hfep08.dion.ne.jp with SMTP
          id <20051120233716546.VKCO@hfep08.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Mon, 21 Nov 2005 08:37:16 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: What is stemming?
Date: Mon, 21 Nov 2005 08:37:15 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGEGDCBAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <000601c5edfa$ab33e900$b900a8c0@jhi>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gekkokid, Daniel, Giovanni,

Thank you very much for your explanation.
Now I'm very clear!
Thank you again,

Koji



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 00:47:56 2005
Return-Path: <java-user-return-17618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26714 invoked from network); 21 Nov 2005 00:47:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 00:47:55 -0000
Received: (qmail 57290 invoked by uid 500); 21 Nov 2005 00:47:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57265 invoked by uid 500); 21 Nov 2005 00:47:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57253 invoked by uid 99); 21 Nov 2005 00:47:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 16:47:49 -0800
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 16:49:22 -0800
Received: by xproxy.gmail.com with SMTP id s17so573004wxc
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 16:47:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ceCXQXO1D0eGy25RovKH/DFwzu20veg4DGy52HilM63qAt3Y4QzLOegz7oN7Y/fPVTYtOYo8Oy9g6yQMtFygtdCRHx3nsKY7PaH72TisKqFAnp/CwTuS7hRBD6TFRHXmI4qVeuEtk/0UNgaxkbewf+uYkvAfVF2i7WB5i05T7zk=
Received: by 10.64.203.1 with SMTP id a1mr2267062qbg;
        Sun, 20 Nov 2005 16:47:28 -0800 (PST)
Received: by 10.65.23.13 with HTTP; Sun, 20 Nov 2005 16:47:28 -0800 (PST)
Message-ID: <50f433360511201647t2a2ab27fle0372e192cdba0f1@mail.gmail.com>
Date: Sun, 20 Nov 2005 16:47:28 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: High CPU utilization with sort
In-Reply-To: <c68e39170511201340v7ab00434v484d71bb52eb4ab0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19229_11806322.1132534048319"
References: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
	 <c68e39170511201340v7ab00434v484d71bb52eb4ab0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_19229_11806322.1132534048319
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Why are numeric fields more onerous in filling the field-cache?



On 11/20/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> I haven't done measurements, but the first query with a sort on a
> particular field will involve filling the field-cache and that can
> take a while (especially for numeric fields).
>
> If you haven't already, you should compare the query times of a
> "warmed" searcher. Sorted queries will still take longer, but I
> haven't measured how much longer.
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 11/20/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> > I've read many comments from users on the list indicating that sorting
> > may/will be performance-heavy. Is high CPU utilization with a sorted
> search
> > one of the expected performance hits?
> >
> > In tests for our implementation (25 concurrent connections generating
> > search/sort requests), we've seen performance in terms of
> requests/second
> > drop by a factor of 10, compared to similar tests executing only search
> > requests (no sorts). CPU appears to be our bottleneck, and I'm trying t=
o
> > determine if this is expected behavior or if we're outside the bounds o=
f
> > typical performance.
> >
> > Thanks,
> > jeff
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_19229_11806322.1132534048319--

From java-user-return-17619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 01:46:07 2005
Return-Path: <java-user-return-17619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10073 invoked from network); 21 Nov 2005 01:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 01:46:06 -0000
Received: (qmail 91172 invoked by uid 500); 21 Nov 2005 01:46:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91148 invoked by uid 500); 21 Nov 2005 01:46:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91137 invoked by uid 99); 21 Nov 2005 01:46:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 17:46:00 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 17:47:33 -0800
Received: by xproxy.gmail.com with SMTP id h30so546274wxd
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 17:45:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=plnUORtjxUx0169q6jxO92mZXAYAVJDtAJWCmGKviHAdmzgBdUObW6KFNpp2bzSka81LYgk90xTMY6WwhQt1UUxFAd0kciZ4g9wJ/5a5Ygxg3gnt2MHOjRqIxnQLZwfld+VKzxipGmkMRGBU3RKCJXObkhWAg0DsLPjrxWLx7Zk=
Received: by 10.65.147.13 with SMTP id z13mr2356206qbn;
        Sun, 20 Nov 2005 17:45:39 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Sun, 20 Nov 2005 17:45:39 -0800 (PST)
Message-ID: <c68e39170511201745v42c72d1bu626897ed40b3d7ea@mail.gmail.com>
Date: Sun, 20 Nov 2005 20:45:39 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: High CPU utilization with sort
In-Reply-To: <50f433360511201647t2a2ab27fle0372e192cdba0f1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
	 <c68e39170511201340v7ab00434v484d71bb52eb4ab0@mail.gmail.com>
	 <50f433360511201647t2a2ab27fle0372e192cdba0f1@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 11/20/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> Why are numeric fields more onerous in filling the field-cache?

Float.parseFloat() or Integer.parseInt() for each unique term.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 01:50:19 2005
Return-Path: <java-user-return-17620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10992 invoked from network); 21 Nov 2005 01:50:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 01:50:18 -0000
Received: (qmail 95002 invoked by uid 500); 21 Nov 2005 01:50:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94177 invoked by uid 500); 21 Nov 2005 01:50:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94165 invoked by uid 99); 21 Nov 2005 01:50:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 17:50:13 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 17:51:46 -0800
Received: by xproxy.gmail.com with SMTP id i31so490860wxd
        for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 17:49:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=RWnpHyxCsgvB1AQijgRPAc2Xs1C5V9IFtoV9h5xNZmuohyLt57w/nDVW0aTE4wyZ6VOsKcYI87piMVnecBdN/HNOmW5pVqQezoDglody+75ezRhBL33rECsaOXKKu1iedJE766WTqVOA8sC06fxH5FPnGDaakj90EgHfTbHPKrM=
Received: by 10.65.122.18 with SMTP id z18mr2359716qbm;
        Sun, 20 Nov 2005 17:49:52 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Sun, 20 Nov 2005 17:49:52 -0800 (PST)
Message-ID: <c68e39170511201749o6438652fpa9dc296dd8536545@mail.gmail.com>
Date: Sun, 20 Nov 2005 20:49:52 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re-Opening IndexSearcher
In-Reply-To: <26575.1132529610@www5.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <26575.1132529610@www5.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Karl,
  You are opening IndexSearchers in this code but not closing them.
If GC & finalizers don't happen to run before you run out of file
handles, you will get exceptions.

You could close the IndexSearcher after every request, but it would
lead to very poor performance.  Better to keep a single searcher open
to service all requests.


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 11/20/05, Karl Koch <TheRanger@gmx.net> wrote:
> Hello,
>
> how do I close and open an IndexSearcher object in order to free resource=
s
> that cause my system to throw an IOException saing "Too many open files" =
 as
> well as trouble with an index lock file ?
>
> I have the following code:
>
> synchronized public static Hits search(String queryString, String[]
> searchFields,
>                         String indexDirectory) {
>         // create access to index
>         SnowballAnalyzer analyser =3D new SnowballAnalyzer("English",
> MyAnalyser.STOP_WORDS);
>         Hits hits =3D null;
>         ContentSelection result =3D null;
>
>         if (indexDirectory !=3D null && indexDirectory !=3D ""){
>                 SnowballSearcher.indexDirectory =3D indexDirectory;
>         }
>         if (queryString =3D=3D "" || queryString =3D=3D null){
>                 return null; // no query =3D> no results
>         }
>         try {
>                 IndexSearcher searcher =3D new
> IndexSearcher(SnowballSearcher.indexDirectory);
>                 if (searchFields.length > 1){
>                         // search over multiple index fields
>                         Query query =3D MultiFieldQueryParser.parse(query=
String, searchFields,
> analyser);
>                         hits =3D searcher.search(query);
>                 }
>                 // wrap the Hits object in a result object
>         } catch (Exception exception) {
>             exception.printStackTrace();
>         }
>     return hits;
> }
>
> Do you see any other problem in this code that could cause those problems=
?
>
> Karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 06:34:54 2005
Return-Path: <java-user-return-17621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19132 invoked from network); 21 Nov 2005 06:34:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 06:34:54 -0000
Received: (qmail 82635 invoked by uid 500); 21 Nov 2005 06:34:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82599 invoked by uid 500); 21 Nov 2005 06:34:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82585 invoked by uid 99); 21 Nov 2005 06:34:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 22:34:48 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 22:36:20 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1Ee5Fw-0004NM-QO
	for java-user@lucene.apache.org; Mon, 21 Nov 2005 09:34:24 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: What is stemming?
Date: Mon, 21 Nov 2005 09:34:17 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGEGDCBAA.koji.sekiguchi@m4.dion.ne.jp>
thread-index: AcXuK2jZsL8oDiVnQdiQxopP7Q9SDwAOiKRQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20051121063620.6B7F710FB2B1@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

About stemmers you can read on http://snowball.tartarus.org/


-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
Sent: Monday, November 21, 2005 2:37 AM
To: java-user@lucene.apache.org
Subject: RE: What is stemming?

Gekkokid, Daniel, Giovanni,

Thank you very much for your explanation.
Now I'm very clear!
Thank you again,

Koji



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 07:04:51 2005
Return-Path: <java-user-return-17622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35457 invoked from network); 21 Nov 2005 07:04:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 07:04:51 -0000
Received: (qmail 393 invoked by uid 500); 21 Nov 2005 07:04:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 372 invoked by uid 500); 21 Nov 2005 07:04:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 361 invoked by uid 99); 21 Nov 2005 07:04:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 23:04:45 -0800
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 23:06:18 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5C4A75B7F2; Sun, 20 Nov 2005 23:04:20 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 563727F460
	for <java-user@lucene.apache.org>; Sun, 20 Nov 2005 23:04:20 -0800 (PST)
Date: Sun, 20 Nov 2005 23:04:20 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: High CPU utilization with sort
In-Reply-To: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0511202259100.22898@hal.rescomp.berkeley.edu>
References: <50f433360511201327u66736326o409b1dd61417f4d9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: In tests for our implementation (25 concurrent connections generating
: search/sort requests), we've seen performance in terms of requests/second
: drop by a factor of 10, compared to similar tests executing only search

In case it's not clear from Yonik's response: reuse the same
IndexReader/IndexSearcher as much as possible.  The biggest factor in
sorting tends to be initializing the FieldCache -- which is keyed off of
the IndexReader.  If you aren't reusing the same IndexReader for all of
your concurrent connections your requests/second will be seriously
sub-optimal.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 07:53:37 2005
Return-Path: <java-user-return-17623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53232 invoked from network); 21 Nov 2005 07:53:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 07:53:37 -0000
Received: (qmail 31682 invoked by uid 500); 21 Nov 2005 07:53:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31668 invoked by uid 500); 21 Nov 2005 07:53:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 71066 invoked by uid 99); 21 Nov 2005 01:17:20 -0000
Received-SPF: pass (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Vp0GaluOv+QWe4TlmiFsH7Qo0ME/6EAFhCwWmKtVshJYgvKH4CaVrfVlZUjnIWeDDI72GNlbi0UItQFSXnk1WAa9srmEJvMCMJc4jruKHsrtjDdKlnIJ+YhncWMk5cXZwUu48+izNAZSmV/Yd8padDlXdUwET4i+W5PWAu0jYwY=  ;
Message-ID: <20051121011658.90494.qmail@web30009.mail.mud.yahoo.com>
Date: Sun, 20 Nov 2005 17:16:58 -0800 (PST)
From: <marigoldcc@yahoo.com>
Subject: TermFrequencies vector limits?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.  I was wondering if anyone else has seen this
before.  I'm using  lucene 1.4.3 and have indexed
about 3000 text documents using the statement:

doc.add(Field.Text("contents", new FileReader(f),
true));

When I go and retrieve the term frequency vectors, for
any document under about 90k, everything looks as
expected.  However for larger documents (I haven't
found the exact point, but I know that those over 128k
qualify) the sum of the term frequencies in the vector
seems to max out at 10001.  Here's the code snippet
that I'm using when I see this:

        int vecSize = vector.size();
        for (int j = 0; j < vecSize; j++) {
            currentTermFreq =
vector.getTermFrequencies()[j];
            sumTermFreq = currentTermFreq +
sumTermFreq;
            if ( currentTermFreq > maxTermFreq) {
                maxTermFreq = currentTermFreq;
            }
        }

The results in sumTermFreq winds up being 10001 for
large documents.  The vector.size() varies from
document to document, the term with the highest
freqency (and that frequency) varies from document to
document, but not the sum.

Any thougths/suggestions would be appreciated.

Thanks
--MG




		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 07:55:34 2005
Return-Path: <java-user-return-17624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54050 invoked from network); 21 Nov 2005 07:55:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 07:55:33 -0000
Received: (qmail 35584 invoked by uid 500); 21 Nov 2005 07:55:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35565 invoked by uid 500); 21 Nov 2005 07:55:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35554 invoked by uid 99); 21 Nov 2005 07:55:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 23:55:27 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Nov 2005 23:57:00 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 0A12A1BB28
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 08:54:59 +0100 (CET)
Message-ID: <43817D52.6080509@fib.upc.edu>
Date: Mon, 21 Nov 2005 08:54:58 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Message no tvx file
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, my index works fine but now I activated the last parameter to aad 
function of indexwriter.
writer.add(Field.UnStored("CONTENTS",content,true));
Now I obtain frequently the message no tvx file. What can I do?
thks for any replies.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 08:04:46 2005
Return-Path: <java-user-return-17625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57491 invoked from network); 21 Nov 2005 08:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 08:04:46 -0000
Received: (qmail 42949 invoked by uid 500); 21 Nov 2005 08:04:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42928 invoked by uid 500); 21 Nov 2005 08:04:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42917 invoked by uid 99); 21 Nov 2005 08:04:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 00:04:39 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.35] (HELO smtp-vbr15.xs4all.nl) (194.109.24.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 00:06:12 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAL84Hjg044404
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 09:04:17 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: TermFrequencies vector limits?
Date: Mon, 21 Nov 2005 09:04:17 +0100
User-Agent: KMail/1.5.4
References: <20051121011658.90494.qmail@web30009.mail.mud.yahoo.com>
In-Reply-To: <20051121011658.90494.qmail@web30009.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511210904.17595.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 21 November 2005 02:16, marigoldcc@yahoo.com wrote:
> Hi.  I was wondering if anyone else has seen this
> before.  I'm using  lucene 1.4.3 and have indexed
> about 3000 text documents using the statement:
> 
> doc.add(Field.Text("contents", new FileReader(f),
> true));
> 
> When I go and retrieve the term frequency vectors, for
> any document under about 90k, everything looks as
> expected.  However for larger documents (I haven't
> found the exact point, but I know that those over 128k
> qualify) the sum of the term frequencies in the vector
> seems to max out at 10001.  
...

That's correct, have a look here for IndexWriter.maxFieldLength :
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 08:06:56 2005
Return-Path: <java-user-return-17626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58319 invoked from network); 21 Nov 2005 08:06:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 08:06:56 -0000
Received: (qmail 45384 invoked by uid 500); 21 Nov 2005 08:06:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45366 invoked by uid 500); 21 Nov 2005 08:06:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45355 invoked by uid 99); 21 Nov 2005 08:06:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 00:06:50 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 00:08:23 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 256CF13E2007; Mon, 21 Nov 2005 03:06:26 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id CA95813E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 03:06:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051121011658.90494.qmail@web30009.mail.mud.yahoo.com>
References: <20051121011658.90494.qmail@web30009.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D70E0C81-9E24-477B-B7D6-093ABE712789@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: TermFrequencies vector limits?
Date: Mon, 21 Nov 2005 03:06:35 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

By default, documents get truncated at 10,000 terms (maybe there is  
an off-by-one where it is going to 10,001 though?).

To increase this, and I always do, set the max field length on your  
IndexWriter, and re-index.  In 1.4.3, you set the maxFieldLength  
variable of IndexWriter directly.  We've changed this to be  
setMaxFieldLength in the TRUNK codebase.

	Erik



On 20 Nov 2005, at 20:16, <marigoldcc@yahoo.com>  
<marigoldcc@yahoo.com> wrote:

> Hi.  I was wondering if anyone else has seen this
> before.  I'm using  lucene 1.4.3 and have indexed
> about 3000 text documents using the statement:
>
> doc.add(Field.Text("contents", new FileReader(f),
> true));
>
> When I go and retrieve the term frequency vectors, for
> any document under about 90k, everything looks as
> expected.  However for larger documents (I haven't
> found the exact point, but I know that those over 128k
> qualify) the sum of the term frequencies in the vector
> seems to max out at 10001.  Here's the code snippet
> that I'm using when I see this:
>
>         int vecSize = vector.size();
>         for (int j = 0; j < vecSize; j++) {
>             currentTermFreq =
> vector.getTermFrequencies()[j];
>             sumTermFreq = currentTermFreq +
> sumTermFreq;
>             if ( currentTermFreq > maxTermFreq) {
>                 maxTermFreq = currentTermFreq;
>             }
>         }
>
> The results in sumTermFreq winds up being 10001 for
> large documents.  The vector.size() varies from
> document to document, the term with the highest
> freqency (and that frequency) varies from document to
> document, but not the sum.
>
> Any thougths/suggestions would be appreciated.
>
> Thanks
> --MG
>
>
>
>
> 		
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 09:27:24 2005
Return-Path: <java-user-return-17627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7899 invoked from network); 21 Nov 2005 09:27:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 09:27:07 -0000
Received: (qmail 23538 invoked by uid 500); 21 Nov 2005 09:26:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23409 invoked by uid 500); 21 Nov 2005 09:26:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23397 invoked by uid 99); 21 Nov 2005 09:26:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 01:26:57 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 01:28:30 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AEB3913E2005; Mon, 21 Nov 2005 04:25:53 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 8C8EC13E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 04:25:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Spans, appended fields, and term positions
Date: Mon, 21 Nov 2005 04:26:06 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik,

Thanks for your carefully thought out and detailed reply.


On 20 Nov 2005, at 12:00, Yonik Seeley wrote:
>> Does it make sense to add an IndexWriter setting to
>> specify a default position increment gap to use when multiple fields
>> are added in this way?
>
> Per-field might be nice...
>
> The good news is that Analyzer is an abstract class, and not an
> Interface, so we could add something to it without breaking existing
> analyzers. (a benefits of classes over interfaces that rarely get
> mentioned).
>
> int Analyzer.getPositionIncrementGap(String field)
> or getMultiValuedFieldGap(String field)


What about adding an offset to Field, setPositionOffset(int offset)?   
Looking at DocumentWriter, it looks like this would be the simplest  
thing that could work, without precluding the interesting option of  
modifying Analyzer to allow with flags on tokenStream.

Modifying Analyzer as you have suggested would require DocumentWriter  
additionally keep track of the field names and note when one is used  
again, but having Field specify an offset would eliminate the need  
for such tracking.

> But what might be even more powerful is to leave everything up to the
> analyzer, where you could choose to do a big position increment,
> generate a special token, or anything else one might think of.
>
> You can't do this right now in the analyzer because of a lack of info
> (you don't know if you are on the first field or a subsequent one.
> One could always add a big position increment at the start of every
> field, but I suspect that would blow up the index size.  Another way
> is to give more context info to the Analyzer:
>
> Analyzer.analyzer.tokenStream(fieldName, reader, flags)
>   where one of the flags could be REPEATED_FIELD or something.

I like this idea.  But perhaps the Field.setPositionOffset(int  
offset) is a lighter-weight first start.

Thoughts?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 09:50:31 2005
Return-Path: <java-user-return-17628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26021 invoked from network); 21 Nov 2005 09:50:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 09:50:31 -0000
Received: (qmail 47274 invoked by uid 500); 21 Nov 2005 09:50:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47254 invoked by uid 500); 21 Nov 2005 09:50:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47243 invoked by uid 99); 21 Nov 2005 09:50:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 01:50:23 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 01:51:55 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2B1B213E2007; Mon, 21 Nov 2005 04:50:00 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 748A113E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 04:49:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com>
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com> <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Spans, appended fields, and term positions
Date: Mon, 21 Nov 2005 04:50:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 04:26, Erik Hatcher wrote:
> What about adding an offset to Field, setPositionOffset(int  
> offset)?  Looking at DocumentWriter, it looks like this would be  
> the simplest thing that could work, without precluding the  
> interesting option of modifying Analyzer to allow with flags on  
> tokenStream.

I've made the few lines of code change to implement this idea.  The  
patch is attached.  I added tests to TestPhraseQuery and  
TestDocumentWriter that show this working as desired.  I reformatted  
TestDocumentWriter to eliminate an unnecessary try/catch, so the diff  
looks larger than it really is, sorry (and for now the test is just  
println diagnostic, but I'll turn those into asserts).   
TestPhraseQuery demonstrates two "repeated" fields being indexed,  
with a position offset of 100 for the second instance.  The test  
fails without the offset, as the phrase matches across the field  
instance boundaries, and even fails with a phrase slop of >= 100.   
The test shows that with the offset and a slop of 99 the match still  
isn't made.

Would this be an acceptable change to commit?

Thanks,
	Erik


$ svn diff src/
Index: src/test/org/apache/lucene/search/TestPhraseQuery.java
===================================================================
--- src/test/org/apache/lucene/search/TestPhraseQuery.java       
(revision 345677)
+++ src/test/org/apache/lucene/search/TestPhraseQuery.java       
(working copy)
@@ -45,6 +45,10 @@

      Document doc = new Document();
      doc.add(new Field("field", "one two three four five",  
Field.Store.YES, Field.Index.TOKENIZED));
+    doc.add(new Field("repeated", "this is a repeated field - first  
part", Field.Store.YES, Field.Index.TOKENIZED));
+    Field repeatedField = new Field("repeated", "second part of a  
repeated field", Field.Store.YES, Field.Index.TOKENIZED);
+    repeatedField.setPositionOffset(100);
+    doc.add(repeatedField);
      writer.addDocument(doc);

      writer.optimize();
@@ -294,4 +298,15 @@
      assertEquals(2, hits.id(2));
    }
+  public void testWrappedPhrase() throws IOException {
+    query.add(new Term("repeated", "first"));
+    query.add(new Term("repeated", "part"));
+    query.add(new Term("repeated", "second"));
+    query.add(new Term("repeated", "part"));
+    query.setSlop(99);
+
+    Hits hits = searcher.search(query);
+    assertEquals(0, hits.length());
+  }
+
}
Index: src/test/org/apache/lucene/index/DocHelper.java
===================================================================
--- src/test/org/apache/lucene/index/DocHelper.java     (revision  
345677)
+++ src/test/org/apache/lucene/index/DocHelper.java     (working copy)
@@ -68,6 +68,14 @@
    public static Field unStoredField2 = new Field 
(UNSTORED_FIELD_2_KEY, UNSTORED_2_FIELD_TEXT,
        Field.Store.NO, Field.Index.TOKENIZED, Field.TermVector.YES);
+  public static final String REPEATED_1_TEXT = "repeated one";
+  public static final String REPEATED_KEY = "repeated";
+  public static Field repeatedField1 = new Field(REPEATED_KEY,  
REPEATED_1_TEXT,
+      Field.Store.YES, Field.Index.TOKENIZED, Field.TermVector.NO);
+  public static final String REPEATED_2_TEXT = "repeated two";
+  public static Field repeatedField2 = new Field(REPEATED_KEY,  
REPEATED_2_TEXT,
+      Field.Store.YES, Field.Index.TOKENIZED, Field.TermVector.NO);
+
    public static Map nameValues = null;
    // ordered list of all the fields...
@@ -81,6 +89,8 @@
      unIndField,
      unStoredField1,
      unStoredField2,
+    repeatedField1,
+    repeatedField2
    };
    // Map<String fieldName, Field field>
@@ -94,6 +104,7 @@
    public static Map noNorms=new HashMap();
    static {
+    repeatedField2.setPositionOffset(500);
      for (int i=0; i<fields.length; i++) {
        Field f = fields[i];
        add(all,f);
Index: src/test/org/apache/lucene/index/TestDocumentWriter.java
===================================================================
--- src/test/org/apache/lucene/index/TestDocumentWriter.java     
(revision 345677)
+++ src/test/org/apache/lucene/index/TestDocumentWriter.java     
(working copy)
@@ -17,15 +17,13 @@
   */
import junit.framework.TestCase;
-import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
-import org.apache.lucene.search.Similarity;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
+import org.apache.lucene.search.Similarity;
+import org.apache.lucene.store.RAMDirectory;
-import java.io.IOException;
-
public class TestDocumentWriter extends TestCase {
    private RAMDirectory dir = new RAMDirectory();
    private Document testDoc = new Document();
@@ -48,54 +46,56 @@
    }
-  public void testAddDocument() {
+  public void testAddDocument() throws Exception {
      Analyzer analyzer = new WhitespaceAnalyzer();
      Similarity similarity = Similarity.getDefault();
      DocumentWriter writer = new DocumentWriter(dir, analyzer,  
similarity, 50);
      assertTrue(writer != null);
-    try {
-      String segName="test";
-      writer.addDocument(segName, testDoc);
-      //After adding the document, we should be able to read it back in
-      SegmentReader reader = SegmentReader.get(new SegmentInfo 
(segName, 1, dir));
-      assertTrue(reader != null);
-      Document doc = reader.document(0);
-      assertTrue(doc != null);
-
-      //System.out.println("Document: " + doc);
-      Field [] fields = doc.getFields("textField2");
-      assertTrue(fields != null && fields.length == 1);
-      assertTrue(fields[0].stringValue().equals 
(DocHelper.FIELD_2_TEXT));
-      assertTrue(fields[0].isTermVectorStored() == true);
-
-      fields = doc.getFields("textField1");
-      assertTrue(fields != null && fields.length == 1);
-      assertTrue(fields[0].stringValue().equals 
(DocHelper.FIELD_1_TEXT));
-      assertTrue(fields[0].isTermVectorStored() == false);
-
-      fields = doc.getFields("keyField");
-      assertTrue(fields != null && fields.length == 1);
-      assertTrue(fields[0].stringValue().equals 
(DocHelper.KEYWORD_TEXT));
+    String segName = "test";
+    writer.addDocument(segName, testDoc);
+    //After adding the document, we should be able to read it back in
+    SegmentReader reader = SegmentReader.get(new SegmentInfo 
(segName, 1, dir));
+    assertTrue(reader != null);
+    Document doc = reader.document(0);
+    assertTrue(doc != null);
-      fields = doc.getFields(DocHelper.NO_NORMS_KEY);
-      assertTrue(fields != null && fields.length == 1);
-      assertTrue(fields[0].stringValue().equals 
(DocHelper.NO_NORMS_TEXT));
+    //System.out.println("Document: " + doc);
+    Field [] fields = doc.getFields("textField2");
+    assertTrue(fields != null && fields.length == 1);
+    assertTrue(fields[0].stringValue().equals(DocHelper.FIELD_2_TEXT));
+    assertTrue(fields[0].isTermVectorStored() == true);
-      fields = doc.getFields(DocHelper.TEXT_FIELD_3_KEY);
-      assertTrue(fields != null && fields.length == 1);
-      assertTrue(fields[0].stringValue().equals 
(DocHelper.FIELD_3_TEXT));
+    fields = doc.getFields("textField1");
+    assertTrue(fields != null && fields.length == 1);
+    assertTrue(fields[0].stringValue().equals(DocHelper.FIELD_1_TEXT));
+    assertTrue(fields[0].isTermVectorStored() == false);
-      // test that the norm file is not present if omitNorms is true
-      for (int i=0; i<reader.fieldInfos.size(); i++) {
-        FieldInfo fi = reader.fieldInfos.fieldInfo(i);
-        if (fi.isIndexed) {
-          assertTrue(fi.omitNorms == !dir.fileExists(segName + ".f"  
+ i));
-        }
+    fields = doc.getFields("keyField");
+    assertTrue(fields != null && fields.length == 1);
+    assertTrue(fields[0].stringValue().equals(DocHelper.KEYWORD_TEXT));
+
+    fields = doc.getFields(DocHelper.NO_NORMS_KEY);
+    assertTrue(fields != null && fields.length == 1);
+    assertTrue(fields[0].stringValue().equals 
(DocHelper.NO_NORMS_TEXT));
+
+    fields = doc.getFields(DocHelper.TEXT_FIELD_3_KEY);
+    assertTrue(fields != null && fields.length == 1);
+    assertTrue(fields[0].stringValue().equals(DocHelper.FIELD_3_TEXT));
+
+    // test that the norm file is not present if omitNorms is true
+    for (int i = 0; i < reader.fieldInfos.size(); i++) {
+      FieldInfo fi = reader.fieldInfos.fieldInfo(i);
+      if (fi.isIndexed) {
+        assertTrue(fi.omitNorms == !dir.fileExists(segName + ".f" +  
i));
        }
+    }
-    } catch (IOException e) {
-      e.printStackTrace();
-      assertTrue(false);
+    TermPositions termPositions = reader.termPositions(new Term 
(DocHelper.REPEATED_KEY, "repeated"));
+    assertTrue(termPositions.next());
+    int freq = termPositions.freq();
+    for (int i=0; i < freq; i++) {
+      int pos = termPositions.nextPosition();
+      System.out.println("pos = " + pos);
      }
    }
}
Index: src/java/org/apache/lucene/index/DocumentWriter.java
===================================================================
--- src/java/org/apache/lucene/index/DocumentWriter.java         
(revision 345677)
+++ src/java/org/apache/lucene/index/DocumentWriter.java         
(working copy)
@@ -134,7 +134,7 @@
        int fieldNumber = fieldInfos.fieldNumber(fieldName);
        int length = fieldLengths[fieldNumber];     // length of field
-      int position = fieldPositions[fieldNumber]; // position in field
+      int position = fieldPositions[fieldNumber] +  
field.getPositionOffset(); // position in field
        int offset = fieldOffsets[fieldNumber];       // offset field
        if (field.isIndexed()) {
Index: src/java/org/apache/lucene/document/Field.java
===================================================================
--- src/java/org/apache/lucene/document/Field.java      (revision  
345677)
+++ src/java/org/apache/lucene/document/Field.java      (working copy)
@@ -50,6 +50,8 @@
    private boolean isCompressed = false;

    private float boost = 1.0f;
+
+  private int positionOffset = 0;

    public static final class Store extends Parameter implements  
Serializable {

@@ -179,6 +181,14 @@
      return boost;
    }
+  public void setPositionOffset(int offset) {
+    positionOffset = offset;
+  }
+
+  public int getPositionOffset() {
+    return positionOffset;
+  }
+
    /** Constructs a String-valued Field that is not tokenized, but  
is indexed
      and stored.  Useful for non-text fields, e.g. date or url.
      @deprecated use {@link #Field(String, String, Field.Store,  
Field.Index)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 10:36:45 2005
Return-Path: <java-user-return-17629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59933 invoked from network); 21 Nov 2005 10:36:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 10:36:44 -0000
Received: (qmail 12263 invoked by uid 500); 21 Nov 2005 10:36:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12065 invoked by uid 500); 21 Nov 2005 10:36:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 72476 invoked by uid 99); 21 Nov 2005 10:08:33 -0000
Received-SPF: pass (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jUgb7oDoIZllBmFECe1eUZ/KB4DrA3XtRI7lASIenAFLoiSPzworgFh0ppCbfuasFRUvRZLTznfbTmiKPZfyH1yisoFjhR9ur8Jn+7YBloNskR+LtnKg4sfExGMbQmDPhSxSgSEgjgqOw3Wpf8apkkkmjux292uSm8TtXcrmzE4=  ;
Message-ID: <20051121100809.75382.qmail@web8408.mail.in.yahoo.com>
Date: Mon, 21 Nov 2005 10:08:09 +0000 (GMT)
From: Samarendra Pratap <samarzone@yahoo.co.in>
Subject: Grouping results on the basis of a field
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1865986235-1132567689=:74748"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1865986235-1132567689=:74748
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
      I am using lucene 1.4.3. The basic functionality of  the search is simple, put in the keyword as java and it will display  you all the books having java keyword.
  Now I have to add a feature which also shows the name of top authors  (lets say top 5 authors) with the number of books, who has maximum  number of books in this result set.
      Currently I m traversing through all the results,  finding the value of author field and putting them in a hash (to keep  count of authors and number of their books), but this takes too much  time. Is there any efficient way of doing this?
      I have 150000 documents in my index. The field author can obviously contain more than one value.
  
      My current code block for finding top 5 authors for maximum books is following.
  
              tfd = searcher.search(query, null, nDocs, new Sort(sortCol));
                                       StringTokenizer fieldToken = null;
              HashMap fieldMap = new HashMap();
  
              for(int i=0;i<tfd.totalHits;i++)
              {
                                                   fieldToken = new  StringTokenizer(searcher.doc(tfd.scoreDocs[i].doc).get(author);
                                                   while(fieldToken.hasMoreTokens())
                                                   {
                                                           String token = fieldToken.nextToken();
                                                           int count;
                                                           try
                                                           {
                           // increase the count by one
                                                                   count = Integer.parseInt(fieldMap.get(token).toString());
                                                                   fieldMap.put(token, new Integer(++count));
                                                           }
                                                           catch(Exception e)
                                                           {
                           // put 1 in the new entry  of author
                                                                   fieldMap.put(token, new Integer(1));
                                                           }
                                                   }
              }
  
              // here I get  the HashMap varialble (fieldMap), which I am sorting later on to find  the top 5 hits for this result set.
  
  Thanks & Regards
  Samar
  


Thanks & Regards,
Samar
		
---------------------------------
 Enjoy this Diwali with Y! India Click here
--0-1865986235-1132567689=:74748--

From java-user-return-17630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 13:29:40 2005
Return-Path: <java-user-return-17630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56715 invoked from network); 21 Nov 2005 13:29:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 13:29:39 -0000
Received: (qmail 36467 invoked by uid 500); 21 Nov 2005 13:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35873 invoked by uid 500); 21 Nov 2005 13:29:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 35556 invoked by uid 99); 21 Nov 2005 13:28:24 -0000
Received-SPF: pass (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=r7u2eaA+nFb22L75DttLnkGA2nZ9gmxk7qAvY9FM/KDCFjhiYvFgeA7abGqbeQsleAnlaogtybPNLp/5w419IiCdlpdm1X18rwOOp898OYxiF97By6re8dlI44cdv/9S33eEIXMEgfAgEbyh0ACJlYCeq7+BJslIOGpERpbQhpM=  ;
Message-ID: <20051121132802.16611.qmail@web30006.mail.mud.yahoo.com>
Date: Mon, 21 Nov 2005 05:28:02 -0800 (PST)
From: <marigoldcc@yahoo.com>
Subject: Re: TermFrequencies vector limits?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just to make sure that I understand this correctly,
the docs say: 

" By default, no more than 10,000 terms will be
indexed for a field."

Given your note, then the docs do not mean that no
more than 10,000 terms will be indexed, but that some
smaller number of terms will be indexed and only the
first 10,000 occurrances will be tallied.  

Is that correct?

Thanks
-MG

------ Original Message ------
Received: Mon, 21 Nov 2005 03:04:42 AM EST
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: TermFrequencies vector limits?

> On Monday 21 November 2005 02:16,
marigoldcc@yahoo.com wrote:
> > Hi.  I was wondering if anyone else has seen this
> > before.  I'm using  lucene 1.4.3 and have indexed
> > about 3000 text documents using the statement:
> > 
> > doc.add(Field.Text("contents", new FileReader(f),
> > true));
> > 
> > When I go and retrieve the term frequency vectors,
for
> > any document under about 90k, everything looks as
> > expected.  However for larger documents (I haven't
> > found the exact point, but I know that those over
128k
> > qualify) the sum of the term frequencies in the
vector
> > seems to max out at 10001.  
> ..
> 
> That's correct, have a look here for
IndexWriter.maxFieldLength :
>
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71
> 
> Regards,
> Paul Elschot
> 
> 


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 13:37:59 2005
Return-Path: <java-user-return-17631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61563 invoked from network); 21 Nov 2005 13:37:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 13:37:59 -0000
Received: (qmail 47532 invoked by uid 500); 21 Nov 2005 13:37:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47066 invoked by uid 500); 21 Nov 2005 13:37:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47055 invoked by uid 99); 21 Nov 2005 13:37:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 05:37:52 -0800
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.196 as permitted sender)
Received: from [205.158.62.196] (HELO ws6-1.us4.outblaze.com) (205.158.62.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 05:39:25 -0800
Received: by ws6-1.us4.outblaze.com (Postfix, from userid 1001)
	id D3291EE268; Mon, 21 Nov 2005 13:37:31 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "Michael Curtin" <mike@curtin.com>
To: java-user@lucene.apache.org
Date: Mon, 21 Nov 2005 08:37:31 -0500
Subject: Re: TermFrequencies vector limits?
Received: from [24.99.178.74] by ws6-1.us4.outblaze.com with http for
 mike@curtin.com; Mon, 21 Nov 2005 08:37:31 -0500
X-Originating-Ip: 24.99.178.74
X-Originating-Server: ws6-1.us4.outblaze.com
Message-Id: <20051121133731.D3291EE268@ws6-1.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> When I go and retrieve the term frequency vectors, for
> any document under about 90k, everything looks as
> expected.  However for larger documents (I haven't
> found the exact point, but I know that those over 128k
> qualify) the sum of the term frequencies in the vector
> seems to max out at 10001.  Here's the code snippet
> that I'm using when I see this:

That's probably because there is a limit built into Lucene where it ignores=
 any tokens in a field past the first 10,000.  There is a property you can =
set to increase this limit.  I dont' have the source in front of me right n=
ow, but if you go into the index subdirectory of the Lucene source and grep=
 for 10000, you should find it.  Let's say for purpose of argument that the=
 name of the property is "maxTokens".  Then you could just do this:

java -Dorg.apache.lucene.maxTokens=3D100000" yourapp ...

To get a higher limit.  Of course, you could also change the Lucene source =
file and recompile it.  Note that you CANNOT just set the property in your =
code, in general, as the Lucene class puts it into a static final int, mean=
ing it examines the value of the property (once) at class load time.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 15:19:32 2005
Return-Path: <java-user-return-17632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21371 invoked from network); 21 Nov 2005 15:19:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 15:19:31 -0000
Received: (qmail 96183 invoked by uid 500); 21 Nov 2005 15:19:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96083 invoked by uid 500); 21 Nov 2005 15:19:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96047 invoked by uid 99); 21 Nov 2005 15:19:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:19:19 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:20:51 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 644A513E2005; Mon, 21 Nov 2005 10:18:57 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6CD3313E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 10:18:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051121133731.D3291EE268@ws6-1.us4.outblaze.com>
References: <20051121133731.D3291EE268@ws6-1.us4.outblaze.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <99D2BE9E-F206-4336-9965-5D0DC2B143E1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: TermFrequencies vector limits?
Date: Mon, 21 Nov 2005 10:18:58 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 08:37, Michael Curtin wrote:
> That's probably because there is a limit built into Lucene where it  
> ignores any tokens in a field past the first 10,000.  There is a  
> property you can set to increase this limit.  I dont' have the  
> source in front of me right now, but if you go into the index  
> subdirectory of the Lucene source and grep for 10000, you should  
> find it.  Let's say for purpose of argument that the name of the  
> property is "maxTokens".  Then you could just do this:
>
> java -Dorg.apache.lucene.maxTokens=100000" yourapp ...
>
> To get a higher limit.  Of course, you could also change the Lucene  
> source file and recompile it.  Note that you CANNOT just set the  
> property in your code, in general, as the Lucene class puts it into  
> a static final int, meaning it examines the value of the property  
> (once) at class load time.

Just for the record, that last paragraph is incorrect.  the  
IndexWriter.maxFieldLength variable in Lucene 1.4.3 is controllable  
at runtime, no problem.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 15:23:38 2005
Return-Path: <java-user-return-17633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23764 invoked from network); 21 Nov 2005 15:23:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 15:23:36 -0000
Received: (qmail 718 invoked by uid 500); 21 Nov 2005 15:23:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 694 invoked by uid 500); 21 Nov 2005 15:23:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 683 invoked by uid 99); 21 Nov 2005 15:23:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:23:29 -0800
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:25:01 -0800
Received: by zproxy.gmail.com with SMTP id k1so763469nzf
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 07:23:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=rGj4DpFeCPUkmD/ygOV69Qze6OMNiwzEBqkV17ICVsCR2VTlvxRZUnljV5aB1n/wSa7pK9jtf69G0kySH9Di7ALNb8PSSpWAqgZjH3/lRQ9iif3sc7wdCJPKUJ84xn90hNmpJL1OIn9+MN7kXepZTtou3wtd7HpwoR7GBHjvYYE=
Received: by 10.36.103.9 with SMTP id a9mr3075358nzc;
        Mon, 21 Nov 2005 07:23:07 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Mon, 21 Nov 2005 07:23:07 -0800 (PST)
Message-ID: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
Date: Mon, 21 Nov 2005 17:23:07 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Throughput doesn't increase when using more concurrent threads
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23874_32747064.1132586587732"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_23874_32747064.1132586587732
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I tried stressing Lucene in a controlled environment: one static
IndexSearcher for an index that doesn't change, and in same process I creat=
e
a number of Threads that call this Searcher concurrently for a limited time=
.
I expected the number of successful queries to increase when using more
threads, but this is not the case. From 1 thread to 10 I see 25% increase,
but from 10 threads to 100 there is no change, only the average response
time increases. same goes for 200 threads. I tried RAMDirectory and
FSDirectory, and the behavior is the same.
I Extract the first 100 results from the Hits object, but on RAMDirectory
this should be insignificant, right?

I tested this in version 1.4.3 and 1.9rc1, and they are both the same in
this aspect. 1.9rc1 is faster, but does not benefit from multi threading.

Did anyone see other behaviour?

Will it be better to dedicate a searcher for each thread (maybe
http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ThreadLocal.html)?


Thanks,
Oren Shir

------=_Part_23874_32747064.1132586587732--

From java-user-return-17634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 15:33:23 2005
Return-Path: <java-user-return-17634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28608 invoked from network); 21 Nov 2005 15:33:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 15:33:23 -0000
Received: (qmail 13026 invoked by uid 500); 21 Nov 2005 15:33:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13001 invoked by uid 500); 21 Nov 2005 15:33:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12990 invoked by uid 99); 21 Nov 2005 15:33:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:33:17 -0800
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.196 as permitted sender)
Received: from [205.158.62.196] (HELO ws6-1.us4.outblaze.com) (205.158.62.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:34:50 -0800
Received: by ws6-1.us4.outblaze.com (Postfix, from userid 1001)
	id AB66BEE2AE; Mon, 21 Nov 2005 15:32:56 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "Michael Curtin" <mike@curtin.com>
To: java-user@lucene.apache.org
Date: Mon, 21 Nov 2005 10:32:56 -0500
Subject: Re: TermFrequencies vector limits?
Received: from [24.99.178.74] by ws6-1.us4.outblaze.com with http for
 mike@curtin.com; Mon, 21 Nov 2005 10:32:56 -0500
X-Originating-Ip: 24.99.178.74
X-Originating-Server: ws6-1.us4.outblaze.com
Message-Id: <20051121153256.AB66BEE2AE@ws6-1.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> > To get a higher limit.  Of course, you could also change the Lucene  so=
urce=20
> > file and recompile it.  Note that you CANNOT just set the  property in =
your=20
> > code, in general, as the Lucene class puts it into  a static final int,=
=20
> > meaning it examines the value of the property  (once) at class load tim=
e.
>=20
> Just for the record, that last paragraph is incorrect.  the=20=20
> IndexWriter.maxFieldLength variable in Lucene 1.4.3 is controllable  at=
=20
> runtime, no problem.

You're right, maxFieldLength is public.  I never noticed that before.  I tr=
ied using System.setProperty(), which didn't work, for the reason I mention=
ed.  Good catch!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 15:41:58 2005
Return-Path: <java-user-return-17635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32499 invoked from network); 21 Nov 2005 15:41:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 15:41:58 -0000
Received: (qmail 31179 invoked by uid 500); 21 Nov 2005 15:41:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31020 invoked by uid 500); 21 Nov 2005 15:41:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31009 invoked by uid 99); 21 Nov 2005 15:41:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:41:51 -0800
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:43:24 -0800
Received: from aamta11-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20051121154128.VTUU17804.mta08-winn.ispmail.ntl.com@aamta11-winn.ispmail.ntl.com>;
          Mon, 21 Nov 2005 15:41:28 +0000
Received: from jhi ([81.98.13.34]) by aamta11-winn.ispmail.ntl.com
          with SMTP
          id <20051121154128.UHLG16192.aamta11-winn.ispmail.ntl.com@jhi>;
          Mon, 21 Nov 2005 15:41:28 +0000
Message-ID: <001101c5eeb2$1ae3c010$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>,
	<shoren@alum.cs.huji.ac.il>
References: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
Subject: Re: Throughput doesn't increase when using more concurrent threads
Date: Mon, 21 Nov 2005 15:41:55 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oren Shir wrote: 
> I tested this in version 1.4.3 and 1.9rc1, and they are both the same in
> this aspect. 1.9rc1 is faster, but does not benefit from multi threading.

some newbie questions i have, 
does 1.4.3 benefit from multi-threading?
is 1.9 the version in the source repository?

_gk

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 15:43:59 2005
Return-Path: <java-user-return-17636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33470 invoked from network); 21 Nov 2005 15:43:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 15:43:59 -0000
Received: (qmail 33968 invoked by uid 500); 21 Nov 2005 15:43:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33730 invoked by uid 500); 21 Nov 2005 15:43:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33718 invoked by uid 99); 21 Nov 2005 15:43:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:43:52 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 07:45:25 -0800
Received: by xproxy.gmail.com with SMTP id s9so627058wxc
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 07:43:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jd/afSwt/uwCB63MJDiuitDg6kw119gB0s+AVJ+wnAXgDeFcKb5zwZ91WrgG3wF0BYVXx4QpL8RLduzQXZJQgWgXIaDOJbbpMvCDH2W22aaaG8JE9bB2pdIvfae2YguHKRHtgfz3p4Qo+GQRB8gQziq6dFhwvRzVMS+Hki4380U=
Received: by 10.65.105.2 with SMTP id h2mr2726700qbm;
        Mon, 21 Nov 2005 07:43:30 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 21 Nov 2005 07:43:30 -0800 (PST)
Message-ID: <c68e39170511210743u23f328a6l561ee97fd138c8fb@mail.gmail.com>
Date: Mon, 21 Nov 2005 10:43:30 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org, shoren@alum.cs.huji.ac.il
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is expected behavior: you are probably quickly becoming CPU bound
(which isn't a bad thing).  More threads only help when  some threads
are waiting on IO, or if you actually have a lot of CPUs in the box.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 11/21/05, Oren Shir <shoren@gmail.com> wrote:
> Hi,
>
> I tried stressing Lucene in a controlled environment: one static
> IndexSearcher for an index that doesn't change, and in same process I cre=
ate
> a number of Threads that call this Searcher concurrently for a limited ti=
me.
> I expected the number of successful queries to increase when using more
> threads, but this is not the case. From 1 thread to 10 I see 25% increase=
,
> but from 10 threads to 100 there is no change, only the average response
> time increases. same goes for 200 threads. I tried RAMDirectory and
> FSDirectory, and the behavior is the same.
> I Extract the first 100 results from the Hits object, but on RAMDirectory
> this should be insignificant, right?
>
> I tested this in version 1.4.3 and 1.9rc1, and they are both the same in
> this aspect. 1.9rc1 is faster, but does not benefit from multi threading.
>
> Did anyone see other behaviour?
>
> Will it be better to dedicate a searcher for each thread (maybe
> http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ThreadLocal.html)?
>
>
> Thanks,
> Oren Shir
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 16:02:22 2005
Return-Path: <java-user-return-17637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43357 invoked from network); 21 Nov 2005 16:02:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 16:02:03 -0000
Received: (qmail 77644 invoked by uid 500); 21 Nov 2005 16:01:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77625 invoked by uid 500); 21 Nov 2005 16:01:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77614 invoked by uid 99); 21 Nov 2005 16:01:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:01:35 -0800
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:03:08 -0800
Received: by zproxy.gmail.com with SMTP id k1so773831nzf
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 08:01:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=sV5c83NtYWTBT156gRVwBP6mrPkRV40uo2zvu55xIpjpk/E4Yfneof3eX3JwlzsNDwEcwg/oNK2KJjncbKOfsiYr4j5t3+wffDMGV8dAOJqG1hEw3HCh6WIKVlcHGbg3HpNbIvC0qqzhbiUMR2m+6fgXwN5X8sbLHHyRz3G5hvY=
Received: by 10.36.252.5 with SMTP id z5mr3111239nzh;
        Mon, 21 Nov 2005 08:01:14 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Mon, 21 Nov 2005 08:01:14 -0800 (PST)
Message-ID: <b7bee2520511210801p5a4264a7x246d8cb90748e3c0@mail.gmail.com>
Date: Mon, 21 Nov 2005 18:01:14 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <001101c5eeb2$1ae3c010$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24278_27663349.1132588874083"
References: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
	 <001101c5eeb2$1ae3c010$b900a8c0@jhi>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24278_27663349.1132588874083
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

gekkokid,

does 1.4.3 benefit from multi-threading?
>

Sorry for not being clear. My tests show that both version does not benefit
from multi threading, but it is possible that I'm CPU bound, as Yonik kindl=
y
reminded me.

is 1.9 the version in the source repository?

1.9 is the version in source repository.

It is rather sad if 10 threads reach the CPU limit. I'll check it and get
back to you.

Thanks,
Oren Shir

------=_Part_24278_27663349.1132588874083--

From java-user-return-17638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 16:08:35 2005
Return-Path: <java-user-return-17638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46733 invoked from network); 21 Nov 2005 16:08:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 16:08:33 -0000
Received: (qmail 89889 invoked by uid 500); 21 Nov 2005 16:08:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89801 invoked by uid 500); 21 Nov 2005 16:08:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89790 invoked by uid 99); 21 Nov 2005 16:08:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:08:22 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:09:55 -0800
Received: by xproxy.gmail.com with SMTP id t11so674757wxc
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 08:08:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=bNydHexFMX8MluhFmKL+fmbBb3K9P9yGSpuQUUJE2VOVUYmRQSFzt2skbGvlNo1Y1OYlB974uwFy/Glk16F1jSXsZIVyGRap5MWyEviwfJQRutwcMpa/A2kJmpZed1BfnJmbp7x7tC9/90LgrC2TvHO8P92sNLUKdX+1PHTL7jQ=
Received: by 10.65.147.13 with SMTP id z13mr3166533qbn;
        Mon, 21 Nov 2005 08:07:59 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 21 Nov 2005 08:07:58 -0800 (PST)
Message-ID: <c68e39170511210807y4cb7a853ic1ca24cd4cce4f86@mail.gmail.com>
Date: Mon, 21 Nov 2005 11:07:58 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org, shoren@alum.cs.huji.ac.il
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <b7bee2520511210801p5a4264a7x246d8cb90748e3c0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <b7bee2520511210723i3e92c10esb484ef433ee3d3d0@mail.gmail.com>
	 <001101c5eeb2$1ae3c010$b900a8c0@jhi>
	 <b7bee2520511210801p5a4264a7x246d8cb90748e3c0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 11/21/05, Oren Shir <shoren@gmail.com> wrote:
> It is rather sad if 10 threads reach the CPU limit. I'll check it and get
> back to you.

It's about performance and throughput though, not about number of
threads it takes to reach saturation.

In a 2 CPU box, I would say that the ideal situation is where it only
takes two threads to reach 100% CPU utilization.  Normally it takes
more because of some kind of IO (disk or network).

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 16:35:52 2005
Return-Path: <java-user-return-17639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62346 invoked from network); 21 Nov 2005 16:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 16:35:51 -0000
Received: (qmail 40186 invoked by uid 500); 21 Nov 2005 16:35:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40136 invoked by uid 500); 21 Nov 2005 16:35:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40125 invoked by uid 99); 21 Nov 2005 16:35:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:35:45 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.95.77.96] (HELO phobos.net-temps.com) (64.95.77.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:37:18 -0800
Received: from localhost (localhost [127.0.0.1])
	by phobos.net-temps.com (Postfix) with ESMTP id 5C0F93F480;
	Mon, 21 Nov 2005 11:35:23 -0500 (EST)
Received: from phobos.net-temps.com ([127.0.0.1])
 by localhost (phobos.net-temps.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 00347-01; Mon, 21 Nov 2005 11:35:21 -0500 (EST)
Received: from jbooth (kmcbride [192.168.1.26])
	by phobos.net-temps.com (Postfix) with SMTP id A928E3F49A
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 11:35:21 -0500 (EST)
From: "Jay Booth" <jbooth@net-temps.com>
To: <java-user@lucene.apache.org>
Subject: RE: Throughput doesn't increase when using more concurrent threads
Date: Mon, 21 Nov 2005 11:35:06 -0500
Message-ID: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1478
In-Reply-To: <c68e39170511210807y4cb7a853ic1ca24cd4cce4f86@mail.gmail.com>
Importance: Normal
X-Virus-Scanned: by amavisd-new at net-temps.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I had a similar problem with threading, the problem turned out to be that in
the back end of the FSDirectory class I believe it was, there was a
synchronized block on the actual RandomAccessFile resource when reading a
block of data from it... high-concurrency situations caused threads to stack
up in front of this synchronized block and our CPU time wound up being spent
thrashing between blocked threads instead of doing anything useful.

Making multiple IndexSearchers and FSDirectories didn't help because in the
back end, lucene consults a singleton HashMap of some kind (don't remember
implementation) that maintained a single FSDirectory for any given index
being accessed from the JVM... multiple calls to FSDirectory.getDirectory
actually return the same FSDirectory object with synchronization at the same
point.

Our solution was to subclass FSDirectory to skip this lookup step, and then
create several distinct FSDirectories reading the same index.  This was in a
read only context so it worked out for us, although memory consumption was
higher... we put a pooling class in front of the whole thing and added a
refresh method to re-instantiate the IndexSearchers and associated
FSDirectories when the index was modified... we also needed some
catch(FileNotFoundException) blocks to hack around the case where the index
was being modified while an IndexSearcher was trying to search.

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]
Sent: Monday, November 21, 2005 11:08 AM
To: java-user@lucene.apache.org; shoren@alum.cs.huji.ac.il
Subject: Re: Throughput doesn't increase when using more concurrent
threads


On 11/21/05, Oren Shir <shoren@gmail.com> wrote:
> It is rather sad if 10 threads reach the CPU limit. I'll check it and get
> back to you.

It's about performance and throughput though, not about number of
threads it takes to reach saturation.

In a 2 CPU box, I would say that the ideal situation is where it only
takes two threads to reach 100% CPU utilization.  Normally it takes
more because of some kind of IO (disk or network).

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 16:52:17 2005
Return-Path: <java-user-return-17640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71465 invoked from network); 21 Nov 2005 16:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 16:52:09 -0000
Received: (qmail 83113 invoked by uid 500); 21 Nov 2005 16:51:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82952 invoked by uid 500); 21 Nov 2005 16:51:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82643 invoked by uid 99); 21 Nov 2005 16:51:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:51:53 -0800
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 08:53:25 -0800
Received: by zproxy.gmail.com with SMTP id k1so787453nzf
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 08:51:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=fBwL3PkFrpsBU7Zrm7tC2LfPRftB37Og6wM5ytgMESdqZ5zmGuI/2ejCVKshBxC2gVtRI3WXBzQxMrIklYzje5Ie15UFgclmJWN/k3MK9/4VG43940Y4m68IRs1pWx6A2TuFlEIpYnKXA6EVcn5Darsz9TgdfRyhlmNM0yUrF38=
Received: by 10.36.91.13 with SMTP id o13mr648343nzb;
        Mon, 21 Nov 2005 08:51:31 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Mon, 21 Nov 2005 08:51:31 -0800 (PST)
Message-ID: <b7bee2520511210851i5b0b38f2pacfc7d0bb5d4cfd6@mail.gmail.com>
Date: Mon, 21 Nov 2005 18:51:31 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24906_6495037.1132591891641"
References: <c68e39170511210807y4cb7a853ic1ca24cd4cce4f86@mail.gmail.com>
	 <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24906_6495037.1132591891641
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks Jay Booth,

I thought as much. I just verified that I'm not reaching 100% CPU, and I
found out that when using RAMDirectory and 100 threads the CPU usage is 60%=
,
avarage request time 40 times more that one thread, but number of requests
the same. I think I'll have to do somthing like you suggested. Any thoughts
about adding this functionality to Lucene core?

Thanks again,
Oren Shir

On 11/21/05, Jay Booth <jbooth@net-temps.com> wrote:
>
> I had a similar problem with threading, the problem turned out to be that
> in
> the back end of the FSDirectory class I believe it was, there was a
> synchronized block on the actual RandomAccessFile resource when reading a
> block of data from it... high-concurrency situations caused threads to
> stack
> up in front of this synchronized block and our CPU time wound up being
> spent
> thrashing between blocked threads instead of doing anything useful.
>
> Making multiple IndexSearchers and FSDirectories didn't help because in
> the
> back end, lucene consults a singleton HashMap of some kind (don't remembe=
r
> implementation) that maintained a single FSDirectory for any given index
> being accessed from the JVM... multiple calls to FSDirectory.getDirectory
> actually return the same FSDirectory object with synchronization at the
> same
> point.
>
> Our solution was to subclass FSDirectory to skip this lookup step, and
> then
> create several distinct FSDirectories reading the same index. This was in
> a
> read only context so it worked out for us, although memory consumption wa=
s
> higher... we put a pooling class in front of the whole thing and added a
> refresh method to re-instantiate the IndexSearchers and associated
> FSDirectories when the index was modified... we also needed some
> catch(FileNotFoundException) blocks to hack around the case where the
> index
> was being modified while an IndexSearcher was trying to search.
>
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Monday, November 21, 2005 11:08 AM
> To: java-user@lucene.apache.org; shoren@alum.cs.huji.ac.il
> Subject: Re: Throughput doesn't increase when using more concurrent
> threads
>
>
> On 11/21/05, Oren Shir <shoren@gmail.com> wrote:
> > It is rather sad if 10 threads reach the CPU limit. I'll check it and
> get
> > back to you.
>
> It's about performance and throughput though, not about number of
> threads it takes to reach saturation.
>
> In a 2 CPU box, I would say that the ideal situation is where it only
> takes two threads to reach 100% CPU utilization. Normally it takes
> more because of some kind of IO (disk or network).
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_24906_6495037.1132591891641--

From java-user-return-17641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 17:38:06 2005
Return-Path: <java-user-return-17641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93744 invoked from network); 21 Nov 2005 17:38:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 17:38:05 -0000
Received: (qmail 87212 invoked by uid 500); 21 Nov 2005 17:37:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87191 invoked by uid 500); 21 Nov 2005 17:37:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87180 invoked by uid 99); 21 Nov 2005 17:37:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:37:58 -0800
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 64.233.184.195 as permitted sender)
Received: from [64.233.184.195] (HELO wproxy.gmail.com) (64.233.184.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:39:31 -0800
Received: by wproxy.gmail.com with SMTP id 70so418245wra
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 09:37:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AbVupOjjGHl2U254U7mopFV4HLJok4HokP5PnMP1WWmXhI4dKeVxAyCRsBJMdyANGyjvoUW1Q3CIR/DvKHyxb/JZtBGm3yJHpDxnB+PbQM0DV6m0VLAj8t+o3DOY+eA3OLYU0t3mlZuIjSWtBWRUZEXsucGGIFFduCCPT2a3omY=
Received: by 10.65.137.14 with SMTP id p14mr3300991qbn;
        Mon, 21 Nov 2005 09:37:37 -0800 (PST)
Received: by 10.65.147.20 with HTTP; Mon, 21 Nov 2005 09:37:37 -0800 (PST)
Message-ID: <7ca123910511210937k34d34f12g54e42d58a48ec8ff@mail.gmail.com>
Date: Mon, 21 Nov 2005 09:37:37 -0800
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Urgent - File Lock in Lucene 1.2
In-Reply-To: <28140.1132527916@www5.gmx.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20095_7579092.1132594657062"
References: <28140.1132527916@www5.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20095_7579092.1132594657062
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Karl,

Therer have been quite some discussions regarding the "too many open files"
problem. From my understanding, it is due to Lucene trying to open multiple
segments at the same time (during search/merging segments), and the
operating system wouldn't allow opening that many file handles.

If you have a lot of fields, each will have its own file (set of files,
maybe? I couldn't remember). This could cause the above issue.

The way to fix this, is to combine all the files for each segment into one
physical file. When the physical file is open, multiple streams will be rea=
d
from the physical file. This fix went into Lucene 1.4 I think but not
available for Lucene 1.2.

Currently I am trying to find some spare time so that I could port the
compound file format (.cfs) feature from Lucene 1.4 to Lucene 1.2.

Hope this information could help you.

Cheers,

Jian


On 11/20/05, Karl Koch <TheRanger@gmx.net> wrote:
>
> Hello group,
>
> I am running Lucene 1.2 and I have the following error message. I got thi=
s
> message when performing a search:
>
> Failed to obtain file lock on /tmp/qcop-msg-qpe
>
> I am running Lucene 1.2 on a Sharp Zaurus PDA with embedded Linux.
>
> When I look through the exceptions I have before that I can see that I
> have
> an IOException "Too many open files" happening somewhere in the
> FSDirectory...
>
>
> Regards,
> Karl
>
>
> --
> Telefonieren Sie schon oder sparen Sie noch?
> NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20095_7579092.1132594657062--

From java-user-return-17642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 17:43:42 2005
Return-Path: <java-user-return-17642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96849 invoked from network); 21 Nov 2005 17:43:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 17:43:42 -0000
Received: (qmail 94707 invoked by uid 500); 21 Nov 2005 17:43:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94687 invoked by uid 500); 21 Nov 2005 17:43:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94676 invoked by uid 99); 21 Nov 2005 17:43:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:43:36 -0800
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:45:08 -0800
Received: (qmail 85607 invoked by uid 89); 21 Nov 2005 17:43:13 -0000
Received: from unknown (HELO ?192.168.168.81?) (71.138.157.43)
  by londo.swishmail.com with SMTP; 21 Nov 2005 17:43:13 -0000
Message-ID: <43820731.5000806@apache.org>
Date: Mon, 21 Nov 2005 09:43:13 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
In-Reply-To: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jay Booth wrote:
> I had a similar problem with threading, the problem turned out to be that in
> the back end of the FSDirectory class I believe it was, there was a
> synchronized block on the actual RandomAccessFile resource when reading a
> block of data from it... high-concurrency situations caused threads to stack
> up in front of this synchronized block and our CPU time wound up being spent
> thrashing between blocked threads instead of doing anything useful.

This is correct.  In Lucene, multiple streams per file are created by 
cloning, and all clones of an FSDirectory input stream share a 
RandomAccessFile and must synchronize input from it.  MmapDirectory does 
not have this limitation.  If your indexes are less than a few GB or you 
are using 64-bit hardware, then MmapDirectory should work well for you. 
  Otherwise it would be simple to write an nio-based Directory that does 
not use mmap that is also unsynchronized.  Such a contribution would be 
welcome.

> Making multiple IndexSearchers and FSDirectories didn't help because in the
> back end, lucene consults a singleton HashMap of some kind (don't remember
> implementation) that maintained a single FSDirectory for any given index
> being accessed from the JVM... multiple calls to FSDirectory.getDirectory
> actually return the same FSDirectory object with synchronization at the same
> point.

This does not make sense to me.  FSDirectory does keep a cache of 
FSDirectory instances, but i/o should not be synchronized on these.  One 
should be able to open multiple input streams on the same file from an 
FSDirectory.  But this would not be a great solution, since file handle 
limits would soon become a problem.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 17:55:36 2005
Return-Path: <java-user-return-17643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7770 invoked from network); 21 Nov 2005 17:55:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 17:55:36 -0000
Received: (qmail 20534 invoked by uid 500); 21 Nov 2005 17:55:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20514 invoked by uid 500); 21 Nov 2005 17:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20503 invoked by uid 99); 21 Nov 2005 17:55:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:55:29 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 09:57:02 -0800
Received: by xproxy.gmail.com with SMTP id i29so625976wxd
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 09:55:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hdk7YhU/QHrJJCoepKkhD9FDryZOh6vFnd/kI5nhlytDpG5dniS8/ERJk1gcLUVaqz3evmruydoD4GomIk3SkSeeTb3T0Syq64igC+zk7c/flcvD88Rc2SK2CoWKXBUcAViVMdLDjhQ6metKgE56DHrTmmz5YsOqCfpUbWppM/c=
Received: by 10.65.93.13 with SMTP id v13mr3331779qbl;
        Mon, 21 Nov 2005 09:55:08 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 21 Nov 2005 09:55:08 -0800 (PST)
Message-ID: <c68e39170511210955q4f902ec9vfdb4bab93e6fa8e8@mail.gmail.com>
Date: Mon, 21 Nov 2005 12:55:08 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
In-Reply-To: <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
	 <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
	 <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com>
	 <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 11/21/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> Modifying Analyzer as you have suggested would
> require DocumentWriter additionally keep track of the field names
> and note when one is used again.

For position increments, it doesn't have to be tracked. The patch to
DocumentWriter could also be:

      int position =3D fieldPositions[fieldNumber];
+      if (position>0) position+=3Danalyzer.getPositionIncrementGap(fieldNa=
me)

Talk of position increments feels like it belongs more in Analyzer.=20
Do you actually need to control that per field instance (rather than
per field name/type?)

I think your patch straight-forward and probably the simplest for the
user, and the most flexible (if it's needed to that degree). I just
don't know if anyone has objections to expanding the Field class even
more (and with analysis stuff), so I'm throwing out possible
alternatives.


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 18:31:43 2005
Return-Path: <java-user-return-17644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31958 invoked from network); 21 Nov 2005 18:31:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 18:31:41 -0000
Received: (qmail 97098 invoked by uid 500); 21 Nov 2005 18:31:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96328 invoked by uid 500); 21 Nov 2005 18:31:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96316 invoked by uid 99); 21 Nov 2005 18:31:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 10:31:34 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 10:33:07 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id jALIVCpQ093610
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 19:31:12 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: TermFrequencies vector limits?
Date: Mon, 21 Nov 2005 19:31:11 +0100
User-Agent: KMail/1.5.4
References: <20051121132802.16611.qmail@web30006.mail.mud.yahoo.com>
In-Reply-To: <20051121132802.16611.qmail@web30006.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511211931.11892.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 21 November 2005 14:28, marigoldcc@yahoo.com wrote:
> Just to make sure that I understand this correctly,
> the docs say: 
> 
> " By default, no more than 10,000 terms will be
> indexed for a field."
> 
> Given your note, then the docs do not mean that no
> more than 10,000 terms will be indexed, but that some
> smaller number of terms will be indexed and only the
> first 10,000 occurrances will be tallied.  

I'm sorry, but I don't know a good meaning for tally here.

Kind regards,
Paul Elschot

> 
> Is that correct?
> 
> Thanks
> -MG
> 
> ------ Original Message ------
> Received: Mon, 21 Nov 2005 03:04:42 AM EST
> From: Paul Elschot <paul.elschot@xs4all.nl>
> To: java-user@lucene.apache.org
> Subject: Re: TermFrequencies vector limits?
> 
> > On Monday 21 November 2005 02:16,
> marigoldcc@yahoo.com wrote:
> > > Hi.  I was wondering if anyone else has seen this
> > > before.  I'm using  lucene 1.4.3 and have indexed
> > > about 3000 text documents using the statement:
> > > 
> > > doc.add(Field.Text("contents", new FileReader(f),
> > > true));
> > > 
> > > When I go and retrieve the term frequency vectors,
> for
> > > any document under about 90k, everything looks as
> > > expected.  However for larger documents (I haven't
> > > found the exact point, but I know that those over
> 128k
> > > qualify) the sum of the term frequencies in the
> vector
> > > seems to max out at 10001.  
> > ..
> > 
> > That's correct, have a look here for
> IndexWriter.maxFieldLength :
> >
> http://wiki.apache.org/jakarta-lucene/
LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71
> > 
> > Regards,
> > Paul Elschot
> > 
> > 
> 
> 
> 	
> 		
> __________________________________ 
> Yahoo! Mail - PC Magazine Editors' Choice 2005 
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 20:42:51 2005
Return-Path: <java-user-return-17645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6119 invoked from network); 21 Nov 2005 20:42:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 20:42:27 -0000
Received: (qmail 24364 invoked by uid 500); 21 Nov 2005 20:42:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24336 invoked by uid 500); 21 Nov 2005 20:42:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24325 invoked by uid 99); 21 Nov 2005 20:42:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:42:11 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:43:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9B74F13E2006; Mon, 21 Nov 2005 15:41:48 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 7544413E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 15:41:21 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170511210955q4f902ec9vfdb4bab93e6fa8e8@mail.gmail.com>
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com> <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com> <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com> <c68e39170511210955q4f902ec9vfdb4bab93e6fa8e8@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2AB6BCDA-54AC-4D34-87CA-9459EBAA4C92@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Spans, appended fields, and term positions
Date: Mon, 21 Nov 2005 15:41:45 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 12:55, Yonik Seeley wrote:
> On 11/21/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>> Modifying Analyzer as you have suggested would
>> require DocumentWriter additionally keep track of the field names
>> and note when one is used again.
>
> For position increments, it doesn't have to be tracked. The patch to
> DocumentWriter could also be:
>
>       int position = fieldPositions[fieldNumber];
> +      if (position>0) position+=analyzer.getPositionIncrementGap 
> (fieldName)

This could be thwarted with tokens using zero position offsets  
though, no?

> Talk of position increments feels like it belongs more in Analyzer.
> Do you actually need to control that per field instance (rather than
> per field name/type?)

For my purpose it is actually a global need - all successive  
instances of fields will have this offset specified, but setting this  
on a per-Field instance is no problem.

> I think your patch straight-forward and probably the simplest for the
> user, and the most flexible (if it's needed to that degree). I just
> don't know if anyone has objections to expanding the Field class even
> more (and with analysis stuff), so I'm throwing out possible
> alternatives.

It is either expand Field slightly, or expand Analyzer.  The Analyzer  
extensions seem fine, but much more general purpose than my need.  So  
being practical, if there is no current use case then we should stick  
with the concrete.

As for Doug's comments, I'll add javadocs for sure, and increase the  
warnings on getBoost() while I'm at it.  In fact, getPositionOffset()  
isn't technically needed (nor getBoost() for that matter), but I'll  
add it just to be complete, but add thorough warnings.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 20:44:57 2005
Return-Path: <java-user-return-17646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7288 invoked from network); 21 Nov 2005 20:44:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 20:44:51 -0000
Received: (qmail 29990 invoked by uid 500); 21 Nov 2005 20:44:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29972 invoked by uid 500); 21 Nov 2005 20:44:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29961 invoked by uid 99); 21 Nov 2005 20:44:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:44:35 -0800
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:46:08 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2CECC5B78A; Mon, 21 Nov 2005 12:44:14 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 225AB7F45C
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 12:44:14 -0800 (PST)
Date: Mon, 21 Nov 2005 12:44:14 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: TermFrequencies vector limits?
In-Reply-To: <20051121132802.16611.qmail@web30006.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.58.0511211235040.2911@hal.rescomp.berkeley.edu>
References: <20051121132802.16611.qmail@web30006.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: " By default, no more than 10,000 terms will be
: indexed for a field."
:
: Given your note, then the docs do not mean that no
: more than 10,000 terms will be indexed, but that some
: smaller number of terms will be indexed and only the
: first 10,000 occurrances will be tallied.

It means that by default only the first 10,000 terms of a document are
indexed.  If only 10,000 terms are indexed for any doc, then the sum of
the term frequencies for any single doc should never be more then 10,000.

Your confusion sems to be that you are thinking about indexing "terms"
along with their TermFrequencies - so for you the sentence "Why, Why, Why
oh Why did you go?" has 5 terms -- but in the context of analysis and
maxFieldLength it has a sequence of 8 terms.

If you setMaxFieldLength to 4, then you would wind up seeing only 4 terms
in your index: "Why" with a termFreq of 3 and "oh" with a termFreq of 1.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 20:48:29 2005
Return-Path: <java-user-return-17647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9427 invoked from network); 21 Nov 2005 20:48:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 20:48:13 -0000
Received: (qmail 38945 invoked by uid 500); 21 Nov 2005 20:48:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38924 invoked by uid 500); 21 Nov 2005 20:48:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38890 invoked by uid 99); 21 Nov 2005 20:48:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:48:02 -0800
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 12:49:34 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Lucene Index Changed event
Date: Mon, 21 Nov 2005 15:47:39 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131046D1E9D@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Index Changed event
Thread-Index: AcXu3BoVI/fGeFMRQ4qAiS4FMblxggAAFLlw
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi all,
	Is there an index changed event that I can jump on that will
tell me when my index has been updated so I can close and reopen my
searcher to get the new changes?
	I can't seem to find the event, but see some tools that might
accomplish this (DLESE DPC software components?).  Is there something
built in to lucene that I can tap into that will give me this
information?

	My current ugly work around is a file check when I rebuild the
index.

Thanks all and sorry I'm still a newbie here..
Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 21:09:38 2005
Return-Path: <java-user-return-17648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20139 invoked from network); 21 Nov 2005 21:09:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 21:09:35 -0000
Received: (qmail 79900 invoked by uid 500); 21 Nov 2005 21:09:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79881 invoked by uid 500); 21 Nov 2005 21:09:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79870 invoked by uid 99); 21 Nov 2005 21:09:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:09:27 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:11:00 -0800
Received: by xproxy.gmail.com with SMTP id h30so740843wxd
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 13:09:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=XHTsgsZ1ZeG/1BZ7lwTKUsU8LA9IXYi4Ukbpu93kOQLz4Z1tQq6UmE9MUx/vOAjaYT7JNsGo9ZMHL9tl+uFnhKfufiJZ/tmsrzoDfBtdEWdeavzt6ss5/fDWZrmEy9lK+Cv7ZXjbtA+b7V4GZPPrD5rHZiMLFya+vdEEzS/1v+g=
Received: by 10.65.96.14 with SMTP id y14mr3602743qbl;
        Mon, 21 Nov 2005 13:09:05 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 21 Nov 2005 13:09:04 -0800 (PST)
Message-ID: <c68e39170511211309g7349565eu362a5b97e050fed@mail.gmail.com>
Date: Mon, 21 Nov 2005 16:09:04 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
In-Reply-To: <2AB6BCDA-54AC-4D34-87CA-9459EBAA4C92@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com>
	 <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com>
	 <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com>
	 <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com>
	 <c68e39170511210955q4f902ec9vfdb4bab93e6fa8e8@mail.gmail.com>
	 <2AB6BCDA-54AC-4D34-87CA-9459EBAA4C92@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> > For position increments, it doesn't have to be tracked. The patch to
> > DocumentWriter could also be:
> >
> >       int position =3D fieldPositions[fieldNumber];
> > +      if (position>0) position+=3Danalyzer.getPositionIncrementGap
> > (fieldName)
>
> This could be thwarted with tokens using zero position offsets
> though, no?

I haven't seen it, but if someone were to set all position increments
to zero for a field, then yes it wouldn't work.  Checking length
(which counts tokens) would work though:

+ if (length>0) position+=3Danalyzer.getPositionIncrementGap (fieldName)

It is either expand Field slightly, or expand Analyzer.

Sort of... one is adding a new data member, one is behavioral.

> The Analyzer extensions seem fine, but much more general purpose than my =
need.

For your need (a global increment), isn't expanding analyzer actually easie=
r?
analyser =3D new OldAnalyzer() {
  public int getPositionIncrementGap(String field) {
    return 1000;
  }
}

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 21:13:30 2005
Return-Path: <java-user-return-17649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21617 invoked from network); 21 Nov 2005 21:13:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 21:13:18 -0000
Received: (qmail 87772 invoked by uid 500); 21 Nov 2005 21:13:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87741 invoked by uid 500); 21 Nov 2005 21:13:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87730 invoked by uid 99); 21 Nov 2005 21:13:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:13:07 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:14:40 -0800
Received: from [192.168.100.99] ([192.168.100.99]) by bettylou.configureone.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 21 Nov 2005 15:12:10 -0600
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Mon, 21 Nov 2005 15:12:44 -0600
Subject: How does lucene choose a field for sort?
From: John Powers <jpowers@configureone.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Message-ID: <BFA7946C.1989%jpowers@configureone.com>
Thread-Topic: How does lucene choose a field for sort?
Thread-Index: AcXu4FB3j06cG1rTEdqiagANk2AiFA==
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-OriginalArrivalTime: 21 Nov 2005 21:12:10.0093 (UTC) FILETIME=[3C4161D0:01C5EEE0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I sort on a field called sequence, but at document creation time I add in

//create doc A
doc.add(Field.Text("sequence", "32"));
doc.add(Field.Text("sequence", "3"));
doc.add(Field.Text("sequence", "932"));

//create doc B
doc.add(Field.Text("sequence", "1"));
doc.add(Field.Text("sequence", "300"));
doc.add(Field.Text("sequence", "50"));

Which number does lucene use for the sort?

Is A in front of B or after?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 21:21:35 2005
Return-Path: <java-user-return-17650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24934 invoked from network); 21 Nov 2005 21:21:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 21:21:33 -0000
Received: (qmail 96811 invoked by uid 500); 21 Nov 2005 21:21:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96784 invoked by uid 500); 21 Nov 2005 21:21:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96773 invoked by uid 99); 21 Nov 2005 21:21:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:21:25 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:22:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BEC9D13E2008; Mon, 21 Nov 2005 16:21:01 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 322C113E2007
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 16:20:35 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170511211309g7349565eu362a5b97e050fed@mail.gmail.com>
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511200900x2ef1f317m888b3bfaa88c3743@mail.gmail.com> <E0C7E7E9-F6B9-42A5-ADB7-46083CCAD992@ehatchersolutions.com> <B9448F36-89CC-49E8-8EEF-FA289A6F1177@ehatchersolutions.com> <c68e39170511210955q4f902ec9vfdb4bab93e6fa8e8@mail.gmail.com> <2AB6BCDA-54AC-4D34-87CA-9459EBAA4C92@ehatchersolutions.com> <c68e39170511211309g7349565eu362a5b97e050fed@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C65334C6-DD7B-41A6-BB45-0866A42B99E2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Spans, appended fields, and term positions
Date: Mon, 21 Nov 2005 16:20:59 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 16:09, Yonik Seeley wrote:
>> The Analyzer extensions seem fine, but much more general purpose  
>> than my need.
>
> For your need (a global increment), isn't expanding analyzer  
> actually easier?
> analyser = new OldAnalyzer() {
>   public int getPositionIncrementGap(String field) {
>     return 1000;
>   }
> }

You just about have me convinced :)   For some reason adding a method  
to Analyzer seems much heavier to me - not quite sure why, just a gut  
feeling.

Thanks for talking this out with me.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 21:35:37 2005
Return-Path: <java-user-return-17651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30630 invoked from network); 21 Nov 2005 21:35:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 21:35:32 -0000
Received: (qmail 13863 invoked by uid 500); 21 Nov 2005 21:35:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13630 invoked by uid 500); 21 Nov 2005 21:35:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13615 invoked by uid 99); 21 Nov 2005 21:35:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:35:20 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 13:36:52 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Index Changed event
Date: Mon, 21 Nov 2005 16:32:17 -0500
Message-ID: <13F36D2926AD444697093282F20041B703BB3B69@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Index Changed event
Thread-Index: AcXu3BoVI/fGeFMRQ4qAiS4FMblxggAAFLlwAAGUbJA=
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can check IndexReader.getCurrentVersion() to see if the index
changed from the last time you checked. The index's version number
changes whenever the index is updated.

Peter

> -----Original Message-----
> From: Aigner, Thomas [mailto:TAigner@WescoDist.com]=20
> Sent: Monday, November 21, 2005 3:48 PM
> To: java-user@lucene.apache.org
> Subject: Lucene Index Changed event
>=20
>=20
> Hi all,
> 	Is there an index changed event that I can jump on that=20
> will tell me when my index has been updated so I can close=20
> and reopen my searcher to get the new changes?
> 	I can't seem to find the event, but see some tools that=20
> might accomplish this (DLESE DPC software components?).  Is=20
> there something built in to lucene that I can tap into that=20
> will give me this information?
>=20
> 	My current ugly work around is a file check when I=20
> rebuild the index.
>=20
> Thanks all and sorry I'm still a newbie here..
> Tom
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 22:38:00 2005
Return-Path: <java-user-return-17652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57085 invoked from network); 21 Nov 2005 22:38:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 22:38:00 -0000
Received: (qmail 4781 invoked by uid 500); 21 Nov 2005 22:37:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4759 invoked by uid 500); 21 Nov 2005 22:37:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4748 invoked by uid 99); 21 Nov 2005 22:37:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 14:37:52 -0800
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 14:39:25 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Lucene Index Changed event
Date: Mon, 21 Nov 2005 17:37:31 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131046D1F0C@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Index Changed event
Thread-Index: AcXu3BoVI/fGeFMRQ4qAiS4FMblxggAAFLlwAAGUbJAAAldZoA==
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thx Peter.. worked like a charm!

-----Original Message-----
From: Peter Kim [mailto:pkim@cymfony.com]=20
Sent: Monday, November 21, 2005 4:32 PM
To: java-user@lucene.apache.org
Subject: RE: Lucene Index Changed event

You can check IndexReader.getCurrentVersion() to see if the index
changed from the last time you checked. The index's version number
changes whenever the index is updated.

Peter

> -----Original Message-----
> From: Aigner, Thomas [mailto:TAigner@WescoDist.com]=20
> Sent: Monday, November 21, 2005 3:48 PM
> To: java-user@lucene.apache.org
> Subject: Lucene Index Changed event
>=20
>=20
> Hi all,
> 	Is there an index changed event that I can jump on that=20
> will tell me when my index has been updated so I can close=20
> and reopen my searcher to get the new changes?
> 	I can't seem to find the event, but see some tools that=20
> might accomplish this (DLESE DPC software components?).  Is=20
> there something built in to lucene that I can tap into that=20
> will give me this information?
>=20
> 	My current ugly work around is a file check when I=20
> rebuild the index.
>=20
> Thanks all and sorry I'm still a newbie here..
> Tom
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 21 23:01:43 2005
Return-Path: <java-user-return-17653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65734 invoked from network); 21 Nov 2005 23:01:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Nov 2005 23:01:42 -0000
Received: (qmail 36583 invoked by uid 500); 21 Nov 2005 23:01:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36552 invoked by uid 500); 21 Nov 2005 23:01:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36541 invoked by uid 99); 21 Nov 2005 23:01:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 15:01:36 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 15:03:09 -0800
Received: from 192.168.100.99 ([192.168.100.99]) by bettylou.configureone.net ([192.168.100.7]) with Microsoft Exchange Server HTTP-DAV ;
 Mon, 21 Nov 2005 23:00:39 +0000
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Mon, 21 Nov 2005 17:01:14 -0600
Subject: Custom sort/basic question
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BFA7ADDA.1994%jpowers@configureone.com>
Thread-Topic: Custom sort/basic question
Thread-Index: AcXu73i6tzFy4FriEdqiagANk2AiFA==
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I add keywords to a document at the same time, will they stay in that
order?


Create New doc A
doc.add(Field.Text("category", "toys"));
doc.add(Field.Text("sequence", "235"));

doc.add(Field.Text("category", "bears"));
doc.add(Field.Text("sequence", "63"));

doc.add(Field.Text("category", "trucks"));
doc.add(Field.Text("sequence", "56"));



Create New doc B
doc.add(Field.Text("category", "computers"));
doc.add(Field.Text("sequence", "7"));

doc.add(Field.Text("category", "bears"));
doc.add(Field.Text("sequence", "12"));

doc.add(Field.Text("category", "trucks"));
doc.add(Field.Text("sequence", "772"));

I want to sort on the right sequence number, so I need to find the right
category.   If I iterator through doc.getFields( category) and find the
category I want is #2, then can I get sequence #2 and know its the right
one?

Or does everything get jumbled up in the indexing process?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 00:06:11 2005
Return-Path: <java-user-return-17654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92100 invoked from network); 22 Nov 2005 00:06:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 00:06:11 -0000
Received: (qmail 33972 invoked by uid 500); 22 Nov 2005 00:05:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33735 invoked by uid 500); 22 Nov 2005 00:05:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33707 invoked by uid 99); 22 Nov 2005 00:05:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 16:05:54 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 16:07:27 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D907F13E2006; Mon, 21 Nov 2005 19:05:33 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id C534F13E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 19:05:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <BFA7946C.1989%jpowers@configureone.com>
References: <BFA7946C.1989%jpowers@configureone.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6EEA4245-11A3-4DA1-8AE4-5CA5E0D64310@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How does lucene choose a field for sort?
Date: Mon, 21 Nov 2005 19:05:55 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 16:12, John Powers wrote:
> If I sort on a field called sequence, but at document creation time  
> I add in
>
> //create doc A
> doc.add(Field.Text("sequence", "32"));
> doc.add(Field.Text("sequence", "3"));
> doc.add(Field.Text("sequence", "932"));
>
> //create doc B
> doc.add(Field.Text("sequence", "1"));
> doc.add(Field.Text("sequence", "300"));
> doc.add(Field.Text("sequence", "50"));
>
> Which number does lucene use for the sort?

Neither.   It'll throw an exception.  The javadocs for Sort tell all:

	<http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
Sort.html>

There needs to be a single term per document for any field used for  
sorting.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 00:40:30 2005
Return-Path: <java-user-return-17655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6413 invoked from network); 22 Nov 2005 00:40:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 00:40:29 -0000
Received: (qmail 79921 invoked by uid 500); 22 Nov 2005 00:40:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79890 invoked by uid 500); 22 Nov 2005 00:40:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79877 invoked by uid 99); 22 Nov 2005 00:40:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 16:40:21 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.212.179] (HELO adm1.bloglines.com) (216.148.212.179)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Nov 2005 16:41:54 -0800
Received: (qmail 1112 invoked from network); 22 Nov 2005 00:39:58 -0000
Received: from unknown (HELO w12.bloglines.com) (10.4.0.54)
  by 0 with SMTP; 22 Nov 2005 00:39:58 -0000
Received: (qmail 7730 invoked by uid 99); 22 Nov 2005 00:39:59 -0000
Message-ID: <1132619999.3072212325.7729.sendItem@bloglines.com>
Date: 22 Nov 2005 00:39:59 -0000
From: yahootintin.11533894@bloglines.com
To: java-user@lucene.apache.org
Subject: Inconsistent StandardTokenizer behaviour
MIME-Version: 1.0
Content-Type: text/plain;charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is the results for the StandardTokenizer:
   input - output token -
output type
1. 1.2   - 1.2          - <HOST>
2. 1.2.  - 1.2          - <HOST>

3. a.b   - a.b          - <HOST>
4. a.b.  - a.b.         - <ACRONYM>
5.
www.apache.org  - www.apache.org  - <HOST>
6. www.apache.org. - www.apache.org.
- <ACRONYM>

Number 6 should still be a <HOST> type, shouldn't it?  This
causes problems for the StandardFilter.  Why is it saying its an <ACRONYM>?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 00:45:22 2005
Return-Path: <java-user-return-17656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7885 invoked from network); 22 Nov 2005 00:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 00:45:22 -0000
Received: (qmail 84080 invoked by uid 500); 22 Nov 2005 00:45:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84054 invoked by uid 500); 22 Nov 2005 00:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84043 invoked by uid 99); 22 Nov 2005 00:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 16:45:16 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.212.179] (HELO adm1.bloglines.com) (216.148.212.179)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Nov 2005 16:46:49 -0800
Received: (qmail 2871 invoked from network); 22 Nov 2005 00:44:55 -0000
Received: from unknown (HELO w12.bloglines.com) (10.4.0.54)
  by 0 with SMTP; 22 Nov 2005 00:44:55 -0000
Received: (qmail 16640 invoked by uid 99); 22 Nov 2005 00:44:55 -0000
Message-ID: <1132620295.1510731607.16639.sendItem@bloglines.com>
Date: 22 Nov 2005 00:44:55 -0000
From: yahootintin.11533894@bloglines.com
To: java-user@lucene.apache.org
Subject: Re: Inconsistent StandardTokenizer behaviour
MIME-Version: 1.0
Content-Type: text/plain;charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry for the bad looking table.  Retrying...

 input string - output token
(output type)
1. 1.2 - 1.2 (<HOST>)
2. 1.2. - 1.2 (<HOST>)
3. a.b - a.b
(<HOST>)
4. a.b. - a.b. (<ACRONYM>)
5. www.apache.org - www.apache.org (<HOST>)

6. www.apache.org. - www.apache.org. (<ACRONYM>)

--- java-user@lucene.apache.org
wrote:
This is the results for the StandardTokenizer:
>    input - output
token -
> output type
> 1. 1.2   - 1.2          - <HOST>
> 2. 1.2.  - 1.2
         - <HOST>
> 
> 3. a.b   - a.b          - <HOST>
> 4. a.b.  - a.b.
        - <ACRONYM>
> 5.
> www.apache.org  - www.apache.org  - <HOST>
>
6. www.apache.org. - www.apache.org.
> - <ACRONYM>
> 
> Number 6 should
still be a <HOST> type, shouldn't it?  This
> causes problems for the StandardFilter.
 Why is it saying its an <ACRONYM>?
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For
additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 01:35:56 2005
Return-Path: <java-user-return-17657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28711 invoked from network); 22 Nov 2005 01:35:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 01:35:56 -0000
Received: (qmail 13291 invoked by uid 500); 22 Nov 2005 01:35:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12465 invoked by uid 500); 22 Nov 2005 01:35:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12454 invoked by uid 99); 22 Nov 2005 01:35:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 17:35:49 -0800
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 17:37:22 -0800
Received: by xproxy.gmail.com with SMTP id s17so828298wxc
        for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 17:35:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=f0QH4N+24K+fEpIDek6GeFl8e5BEEVnL2u6/M23PCsrd78/dCxs7HcZYol6qSHfcBgcAJrJFt3cPFU1U5qtfI+CW7cgcESxfmW8sU7jc0q1Dzk4rniGsAzHSgwfgE3/whJ+BBEuvK30FpWnVQEvjFRcig7qAaVcgZ3MfuVdMEZE=
Received: by 10.65.103.12 with SMTP id f12mr3898472qbm;
        Mon, 21 Nov 2005 17:35:28 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 21 Nov 2005 17:35:27 -0800 (PST)
Message-ID: <c68e39170511211735x5c770f9fk77e4ac7e89ddf6c5@mail.gmail.com>
Date: Mon, 21 Nov 2005 20:35:27 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does lucene choose a field for sort?
In-Reply-To: <6EEA4245-11A3-4DA1-8AE4-5CA5E0D64310@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <BFA7946C.1989%jpowers@configureone.com>
	 <6EEA4245-11A3-4DA1-8AE4-5CA5E0D64310@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 11/21/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> Neither.   It'll throw an exception.

Just don't rely on it to throw an exception either though... the
checking is not comprehensive.
One should treat sorting on a field with more than one value per
document as undefined.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 01:56:28 2005
Return-Path: <java-user-return-17658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41932 invoked from network); 22 Nov 2005 01:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 01:56:28 -0000
Received: (qmail 26470 invoked by uid 500); 22 Nov 2005 01:56:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26436 invoked by uid 500); 22 Nov 2005 01:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26425 invoked by uid 99); 22 Nov 2005 01:56:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 17:56:22 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Nov 2005 17:57:55 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1619B13E2005; Mon, 21 Nov 2005 20:56:00 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 05CF513E2005
	for <java-user@lucene.apache.org>; Mon, 21 Nov 2005 20:55:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <1132619999.3072212325.7729.sendItem@bloglines.com>
References: <1132619999.3072212325.7729.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F4F8DC1D-E466-4F7B-8282-41A1FAFA3294@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Inconsistent StandardTokenizer behaviour
Date: Mon, 21 Nov 2005 20:56:16 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 19:39, yahootintin.11533894@bloglines.com wrote:
> This is the results for the StandardTokenizer:
>    input - output token -
> output type
> 1. 1.2   - 1.2          - <HOST>
> 2. 1.2.  - 1.2          - <HOST>
>
> 3. a.b   - a.b          - <HOST>
> 4. a.b.  - a.b.         - <ACRONYM>
> 5.
> www.apache.org  - www.apache.org  - <HOST>
> 6. www.apache.org. - www.apache.org.
> - <ACRONYM>
>
> Number 6 should still be a <HOST> type, shouldn't it?  This
> causes problems for the StandardFilter.  Why is it saying its an  
> <ACRONYM>?

Because it's grammar is imperfect?!

The trailing '.' is throwing it off from what you expect.  We'd  
certainly welcome fixes to StandardTokenizer.jj in this regard.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 08:19:04 2005
Return-Path: <java-user-return-17659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2698 invoked from network); 22 Nov 2005 08:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 08:19:03 -0000
Received: (qmail 34747 invoked by uid 500); 22 Nov 2005 08:18:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34124 invoked by uid 500); 22 Nov 2005 08:18:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34112 invoked by uid 99); 22 Nov 2005 08:18:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 00:18:55 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 00:20:28 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.3/8.13.3) with ESMTP id jAM8IShF027015
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 09:18:29 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Spans, appended fields, and term positions
Date: Tue, 22 Nov 2005 09:18:26 +0100
User-Agent: KMail/1.5.4
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511211309g7349565eu362a5b97e050fed@mail.gmail.com> <C65334C6-DD7B-41A6-BB45-0866A42B99E2@ehatchersolutions.com>
In-Reply-To: <C65334C6-DD7B-41A6-BB45-0866A42B99E2@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511220918.26883.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 21 November 2005 22:20, Erik Hatcher wrote:
> 
> On 21 Nov 2005, at 16:09, Yonik Seeley wrote:
> >> The Analyzer extensions seem fine, but much more general purpose  
> >> than my need.
> >
> > For your need (a global increment), isn't expanding analyzer  
> > actually easier?
> > analyser = new OldAnalyzer() {
> >   public int getPositionIncrementGap(String field) {
> >     return 1000;
> >   }
> > }
> 
> You just about have me convinced :)   For some reason adding a method  
> to Analyzer seems much heavier to me - not quite sure why, just a gut  
> feeling.

In case this position increment gap is needed both at indexing time and
at query/highlighting time, I think Analyzer is the right place to put it.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 08:55:52 2005
Return-Path: <java-user-return-17660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24233 invoked from network); 22 Nov 2005 08:55:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 08:55:51 -0000
Received: (qmail 72038 invoked by uid 500); 22 Nov 2005 08:55:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71848 invoked by uid 500); 22 Nov 2005 08:55:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71837 invoked by uid 99); 22 Nov 2005 08:55:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 00:55:45 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 00:57:17 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 01BF813E2006; Tue, 22 Nov 2005 03:55:23 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 9A8D013E2005
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 03:55:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200511220918.26883.paul.elschot@xs4all.nl>
References: <597611E3-254D-43A4-A074-21ED1E50BA53@ehatchersolutions.com> <c68e39170511211309g7349565eu362a5b97e050fed@mail.gmail.com> <C65334C6-DD7B-41A6-BB45-0866A42B99E2@ehatchersolutions.com> <200511220918.26883.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5B38A240-B971-41AA-AA4C-AF9869281E45@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Spans, appended fields, and term positions
Date: Tue, 22 Nov 2005 03:55:33 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 22 Nov 2005, at 03:18, Paul Elschot wrote:
>> You just about have me convinced :)   For some reason adding a method
>> to Analyzer seems much heavier to me - not quite sure why, just a gut
>> feeling.
>
> In case this position increment gap is needed both at indexing time  
> and
> at query/highlighting time, I think Analyzer is the right place to  
> put it.

And in fact this is exactly what changed my mind.  I use this new  
method in my custom highlighter as an offset for each successive  
value of aggregated (same named) fields.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 13:39:23 2005
Return-Path: <java-user-return-17661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9509 invoked from network); 22 Nov 2005 13:39:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 13:39:22 -0000
Received: (qmail 51418 invoked by uid 500); 22 Nov 2005 13:39:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50790 invoked by uid 500); 22 Nov 2005 13:39:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50776 invoked by uid 99); 22 Nov 2005 13:39:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 05:39:14 -0800
Received-SPF: pass (asf.osuosl.org: domain of Arjen.van.der.Weijden@rivm.nl designates 131.224.248.25 as permitted sender)
Received: from [131.224.248.25] (HELO amazone.rivm.nl) (131.224.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 05:40:46 -0800
Received: from localhost (localhost [127.0.0.1])
	by amazone.rivm.nl (Postfix) with ESMTP id 0F08D2943E
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 14:38:52 +0100 (CET)
Received: from amazone.rivm.nl ([127.0.0.1])
 by localhost (amazone [127.0.0.1]) (amavisd-new, port 10026) with ESMTP
 id 06598-10 for <java-user@lucene.apache.org>;
 Tue, 22 Nov 2005 14:38:49 +0100 (CET)
Received: from rivmrh01.rivm.nl (rivmrh01.rivm.nl [131.224.235.77])
	by amazone.rivm.nl (Postfix) with ESMTP id E851D2943C
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 14:38:48 +0100 (CET)
Subject: how to change scoring tactics?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OFEE71445F.CC14EB49-ONC12570C1.004A523D-C12570C1.004AF69C@notesmail.rivm.nl>
From: Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>
Date: Tue, 22 Nov 2005 14:38:46 +0100
X-MIMETrack: Serialize by Router on RIVMRH01/RIVM/NL(Release 6.5.4FP1|June 19, 2005) at
 22-11-2005 14:38:48
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Scanned: amavisd-new at rivm.nl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

According to the specs. "the scores are normalized by the length of the
field".
For my application I just need documents to move to the top that have the
highest number of the search-phrase, i.e. scoring without normalization.
How do I do this?

cheers,

Arjen
____________________________________________________________________________

DISCLAIMER:  http://www.rivm.nl/disclaimer.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 14:33:58 2005
Return-Path: <java-user-return-17662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56559 invoked from network); 22 Nov 2005 14:33:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 14:33:58 -0000
Received: (qmail 59902 invoked by uid 500); 22 Nov 2005 14:33:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59696 invoked by uid 500); 22 Nov 2005 14:33:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59685 invoked by uid 99); 22 Nov 2005 14:33:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 06:33:49 -0800
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 06:35:21 -0800
Received: by zproxy.gmail.com with SMTP id k1so1034567nzf
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 06:33:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=hTKCoMR7o4cShoqS9mqLEUy0IrH6vpzE7WuekghWJgGIKIOoHTBEconmCEsHcWeJZIk5OzUw0bxmbC/OnpsTciEj8lZ7QYGDzVxLnQvxW8h06S16ZbI+oZJpHAJAokLj4pb9LpIzDiz/5NIs2lBp+HE2IcNZjDrHxGwXfeMZjHA=
Received: by 10.36.91.13 with SMTP id o13mr1470432nzb;
        Tue, 22 Nov 2005 06:33:27 -0800 (PST)
Received: by 10.36.89.11 with HTTP; Tue, 22 Nov 2005 06:33:27 -0800 (PST)
Message-ID: <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
Date: Tue, 22 Nov 2005 16:33:27 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43820731.5000806@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_35796_15331847.1132670007863"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_35796_15331847.1132670007863
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

There are two sunchronization points: on the stream and on the reader. Usin=
g
different FSDirectoriy and IndexReaders should solve this. I'll let you kno=
w
once I code it. Right now I'm checking if making my Documents store less
data will move the bottleneck to some other place.

Thanks again,
Oren Shir

On 11/21/05, Doug Cutting <cutting@apache.org> wrote:
>
> Jay Booth wrote:
> > I had a similar problem with threading, the problem turned out to be
> that in
> > the back end of the FSDirectory class I believe it was, there was a
> > synchronized block on the actual RandomAccessFile resource when reading
> a
> > block of data from it... high-concurrency situations caused threads to
> stack
> > up in front of this synchronized block and our CPU time wound up being
> spent
> > thrashing between blocked threads instead of doing anything useful.
>
> This is correct. In Lucene, multiple streams per file are created by
> cloning, and all clones of an FSDirectory input stream share a
> RandomAccessFile and must synchronize input from it. MmapDirectory does
> not have this limitation. If your indexes are less than a few GB or you
> are using 64-bit hardware, then MmapDirectory should work well for you.
> Otherwise it would be simple to write an nio-based Directory that does
> not use mmap that is also unsynchronized. Such a contribution would be
> welcome.
>
> > Making multiple IndexSearchers and FSDirectories didn't help because in
> the
> > back end, lucene consults a singleton HashMap of some kind (don't
> remember
> > implementation) that maintained a single FSDirectory for any given inde=
x
> > being accessed from the JVM... multiple calls to
> FSDirectory.getDirectory
> > actually return the same FSDirectory object with synchronization at the
> same
> > point.
>
> This does not make sense to me. FSDirectory does keep a cache of
> FSDirectory instances, but i/o should not be synchronized on these. One
> should be able to open multiple input streams on the same file from an
> FSDirectory. But this would not be a great solution, since file handle
> limits would soon become a problem.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_35796_15331847.1132670007863--

From java-user-return-17663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 15:11:27 2005
Return-Path: <java-user-return-17663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89530 invoked from network); 22 Nov 2005 15:11:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 15:11:23 -0000
Received: (qmail 43836 invoked by uid 500); 22 Nov 2005 15:10:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43582 invoked by uid 500); 22 Nov 2005 15:10:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43023 invoked by uid 99); 22 Nov 2005 15:10:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 07:10:51 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.23.111.122] (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 07:12:23 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id jAMFAQIQ013732
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 16:10:26 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id jAMFAPUS013728
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 16:10:25 +0100
In-Reply-To: <OFEE71445F.CC14EB49-ONC12570C1.004A523D-C12570C1.004AF69C@notesmail.rivm.nl>
To: java-user@lucene.apache.org
Subject: RE how to change scoring tactics?
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OFBC4B8717.5CD043E6-ONC12570C1.0052C0A0-C12570C1.00535B01@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Tue, 22 Nov 2005 16:07:56 +0100
Content-Type: multipart/alternative; boundary="=_alternative 00535AEEC12570C1_="
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_alternative 00535AEEC12570C1_=
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I had the same problem, I think the easiest is to sort documents after the =

search process, in this aim you can use the class TermFreqVector and the=20
function getTermFrequencies to count the number of search phrase.
But maybe there is an other way faster.

Hope this help

Bertrand





Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>=20
22/11/2005 14:38
Veuillez r=E9pondre =E0
java-user@lucene.apache.org


A
java-user@lucene.apache.org
cc

Objet
how to change scoring tactics?






According to the specs. "the scores are normalized by the length of the
field".
For my application I just need documents to move to the top that have the
highest number of the search-phrase, i.e. scoring without normalization.
How do I do this?

cheers,

Arjen
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F

DISCLAIMER:  http://www.rivm.nl/disclaimer.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



--=_alternative 00535AEEC12570C1_=--

From java-user-return-17664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 16:19:22 2005
Return-Path: <java-user-return-17664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38470 invoked from network); 22 Nov 2005 16:19:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 16:19:22 -0000
Received: (qmail 23157 invoked by uid 500); 22 Nov 2005 16:19:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23058 invoked by uid 500); 22 Nov 2005 16:19:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23029 invoked by uid 99); 22 Nov 2005 16:19:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:19:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [202.138.125.174] (HELO hulk.jobsahead.com) (202.138.125.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:20:45 -0800
Received: from [10.216.204.108] (unknown [210.7.69.99])
	by hulk.jobsahead.com (Postfix) with ESMTP id 279714952
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 21:48:48 +0530 (IST)
Subject: Case Study
From: Supreet Sethi <supreet@linux-delhi.org>
To: Java lucene list <java-user@lucene.apache.org>
Content-Type: text/plain
Date: Tue, 22 Nov 2005 21:48:41 +0530
Message-Id: <1132676321.31134.136.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Its sort of case study. Including successes and failures in using lucene
as FTS for out purpose.

1) lucene is populated with data using MySQL db. 
2) The data consists of about a 1,00,000 records. Which comes out to 90
MB of data
3) Most searches in out case tends to be multi-field.
4) Queries tend to be serviced using SOAP/Tomcat interface which works
fine and gives a search turn around of 100/400 ms
5) One thing I have been trying work on is grouping of data on basis of
fields. Which has been big if. Looked at Carrot2, but it looks like a
too much of infrastructure for collection of data into groups. 




In case anyone is interested in hows and ifs of deployments.  Do mail


regards

Supreet 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 16:21:19 2005
Return-Path: <java-user-return-17665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39937 invoked from network); 22 Nov 2005 16:21:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 16:21:18 -0000
Received: (qmail 30972 invoked by uid 500); 22 Nov 2005 16:21:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30950 invoked by uid 500); 22 Nov 2005 16:21:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30939 invoked by uid 99); 22 Nov 2005 16:21:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:21:11 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Arjen.van.der.Weijden@rivm.nl designates 131.224.248.25 as permitted sender)
Received: from [131.224.248.25] (HELO amazone.rivm.nl) (131.224.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:22:43 -0800
Received: from localhost (localhost [127.0.0.1])
	by amazone.rivm.nl (Postfix) with ESMTP id BE4712944D
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 17:20:49 +0100 (CET)
Received: from amazone.rivm.nl ([127.0.0.1])
 by localhost (amazone [127.0.0.1]) (amavisd-new, port 10026) with ESMTP
 id 23679-10 for <java-user@lucene.apache.org>;
 Tue, 22 Nov 2005 17:20:46 +0100 (CET)
Received: from rivmrh01.rivm.nl (rivmrh01.rivm.nl [131.224.235.77])
	by amazone.rivm.nl (Postfix) with ESMTP id 4429029442
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 17:20:46 +0100 (CET)
In-Reply-To: <OFBC4B8717.5CD043E6-ONC12570C1.0052C0A0-C12570C1.00535B01@urssaf.fr>
Subject: Re: RE how to change scoring tactics?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OFB26BC479.7340B744-ONC12570C1.0059ABB6-C12570C1.0059CA74@notesmail.rivm.nl>
From: Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>
Date: Tue, 22 Nov 2005 17:20:43 +0100
X-MIMETrack: Serialize by Router on RIVMRH01/RIVM/NL(Release 6.5.4FP1|June 19, 2005) at
 22-11-2005 17:20:46
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Scanned: amavisd-new at rivm.nl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, I'll have a look at it!


|---------+---------------------------->
|         |           "Bertrand VENZAL"|
|         |           <bertrand.venzal@|
|         |           cirso.fr>        |
|         |                            |
|         |           11/22/2005 04:07 |
|         |           PM               |
|         |           Please respond to|
|         |           java-user        |
|---------+---------------------------->
  >--------------------------------------------------------------------=
----------------------------------------------------------|
  |                                                                    =
                                                          |
  |       To:       java-user@lucene.apache.org                        =
                                                          |
  |       cc:                                                          =
                                                          |
  |       Subject:  RE how to change scoring tactics?                  =
                                                          |
  >--------------------------------------------------------------------=
----------------------------------------------------------|




Hi,

I had the same problem, I think the easiest is to sort documents after =
the
search process, in this aim you can use the class TermFreqVector and th=
e
function getTermFrequencies to count the number of search phrase.
But maybe there is an other way faster.

Hope this help

Bertrand





Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>
22/11/2005 14:38
Veuillez r=E9pondre =E0
java-user@lucene.apache.org


A
java-user@lucene.apache.org
cc

Objet
how to change scoring tactics?






According to the specs. "the scores are normalized by the length of the=

field".
For my application I just need documents to move to the top that have t=
he
highest number of the search-phrase, i.e. scoring without normalization=
.
How do I do this?

cheers,

Arjen
_______________________________________________________________________=
_____


DISCLAIMER:  http://www.rivm.nl/disclaimer.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 16:22:51 2005
Return-Path: <java-user-return-17666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40914 invoked from network); 22 Nov 2005 16:22:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 16:22:51 -0000
Received: (qmail 35223 invoked by uid 500); 22 Nov 2005 16:22:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35202 invoked by uid 500); 22 Nov 2005 16:22:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35191 invoked by uid 99); 22 Nov 2005 16:22:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:22:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:24:17 -0800
Received: from 192.168.100.99 ([192.168.100.99]) by bettylou.configureone.net ([192.168.100.7]) with Microsoft Exchange Server HTTP-DAV ;
 Tue, 22 Nov 2005 16:21:47 +0000
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Tue, 22 Nov 2005 10:22:22 -0600
Subject: Re: Case Study
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BFA8A1DE.19B2%jpowers@configureone.com>
Thread-Topic: Case Study
Thread-Index: AcXvgOqOKNzjhFt0Edq/hQANk2AiFA==
In-Reply-To: <1132676321.31134.136.camel@localhost.localdomain>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You have a case study using lucene?  I would be interested in look at it if
you don't mind.  I am putting lucene into an application for my company
currently.

Thank You.

--jN


On 11/22/05 10:18 AM, "Supreet Sethi" <supreet@linux-delhi.org> wrote:

> Its sort of case study. Including successes and failures in using lucene
> as FTS for out purpose.
> 
> 1) lucene is populated with data using MySQL db.
> 2) The data consists of about a 1,00,000 records. Which comes out to 90
> MB of data
> 3) Most searches in out case tends to be multi-field.
> 4) Queries tend to be serviced using SOAP/Tomcat interface which works
> fine and gives a search turn around of 100/400 ms
> 5) One thing I have been trying work on is grouping of data on basis of
> fields. Which has been big if. Looked at Carrot2, but it looks like a
> too much of infrastructure for collection of data into groups.
> 
> 
> 
> 
> In case anyone is interested in hows and ifs of deployments.  Do mail
> 
> 
> regards
> 
> Supreet 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 16:28:29 2005
Return-Path: <java-user-return-17667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43619 invoked from network); 22 Nov 2005 16:28:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 16:28:28 -0000
Received: (qmail 45490 invoked by uid 500); 22 Nov 2005 16:28:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45413 invoked by uid 500); 22 Nov 2005 16:28:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45354 invoked by uid 99); 22 Nov 2005 16:28:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:28:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gusk@altrec.com designates 63.251.175.92 as permitted sender)
Received: from [63.251.175.92] (HELO mta.altrec.com) (63.251.175.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 08:29:41 -0800
Received: from localhost (mta.altrec.com [127.0.0.1])
	by mta.altrec.com (Postfix) with ESMTP id 3A5967B758
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 08:27:44 -0800 (PST)
Received: from mta.altrec.com ([127.0.0.1])
 by localhost (mta.altrec.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 25926-07 for <java-user@lucene.apache.org>;
 Tue, 22 Nov 2005 08:27:42 -0800 (PST)
Received: from denali.altrec.com (arachne.altrec.com [63.251.175.11])
	by mta.altrec.com (Postfix) with ESMTP id E07517B692
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 08:27:42 -0800 (PST)
Received: by DENALI with Internet Mail Service (5.5.2656.59)
	id <WF7DRH4W>; Tue, 22 Nov 2005 08:29:47 -0800
Message-ID: <55903574BD75D311B8A0009027CCC22B0529D60E@DENALI>
From: Gus Kormeier <gusk@altrec.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: RE: Custom sort/basic question
Date: Tue, 22 Nov 2005 08:29:46 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hey John,
	My understanding is that if you add a field with the same name as a
previous field added, you will be overwriting the value stored in the
document.

So if you add:
doc.add(Field.Text("sequence", "1"));
doc.add(Field.Text("sequence", "2"));
doc.add(Field.Text("sequence", "3"));

Afterwards, the field sequence would hold a value of 3.

I'm guessing that by now you have already tested that.
-Gus


-----Original Message-----
From: John Powers [mailto:jpowers@configureone.com]
Sent: Monday, November 21, 2005 3:01 PM
To: java-user@lucene.apache.org
Subject: Custom sort/basic question


If I add keywords to a document at the same time, will they stay in that
order?


Create New doc A
doc.add(Field.Text("category", "toys"));
doc.add(Field.Text("sequence", "235"));

doc.add(Field.Text("category", "bears"));
doc.add(Field.Text("sequence", "63"));

doc.add(Field.Text("category", "trucks"));
doc.add(Field.Text("sequence", "56"));



Create New doc B
doc.add(Field.Text("category", "computers"));
doc.add(Field.Text("sequence", "7"));

doc.add(Field.Text("category", "bears"));
doc.add(Field.Text("sequence", "12"));

doc.add(Field.Text("category", "trucks"));
doc.add(Field.Text("sequence", "772"));

I want to sort on the right sequence number, so I need to find the right
category.   If I iterator through doc.getFields( category) and find the
category I want is #2, then can I get sequence #2 and know its the right
one?

Or does everything get jumbled up in the indexing process?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 18:00:53 2005
Return-Path: <java-user-return-17668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3109 invoked from network); 22 Nov 2005 18:00:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 18:00:52 -0000
Received: (qmail 37514 invoked by uid 500); 22 Nov 2005 18:00:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37491 invoked by uid 500); 22 Nov 2005 18:00:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37480 invoked by uid 99); 22 Nov 2005 18:00:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 10:00:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 10:02:16 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E576B13E2006; Tue, 22 Nov 2005 13:00:20 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E1EB013E2005
	for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 12:59:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <55903574BD75D311B8A0009027CCC22B0529D60E@DENALI>
References: <55903574BD75D311B8A0009027CCC22B0529D60E@DENALI>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <03E30E2A-B9DC-4CA3-95D0-D0AE6675E506@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Custom sort/basic question
Date: Tue, 22 Nov 2005 13:00:21 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 22 Nov 2005, at 11:29, Gus Kormeier wrote:
> Hey John,
> 	My understanding is that if you add a field with the same name as a
> previous field added, you will be overwriting the value stored in the
> document.
>
> So if you add:
> doc.add(Field.Text("sequence", "1"));
> doc.add(Field.Text("sequence", "2"));
> doc.add(Field.Text("sequence", "3"));
>
> Afterwards, the field sequence would hold a value of 3.

That is incorrect.  Adding fields with the same name _appends_ them,  
it does not overwrite them.  In your example, it would be (ignoring  
the Analyzer part of the equation for the moment, as if you had just  
added one sequence field like this:

	doc.add(Field.Text("sequence", "1 2 3"));

Do note that I just made an enhancement to Lucene that allows custom  
analyzers to affect the gaps between multiple fields of the same  
name.  In your example, a PhraseQuery of "1 2" would match the  
document, but in one of my projects that is undesirable.

To answer the previous question, yes, the fields are added in order,  
so you could rely on the indexes to line up.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 18:39:01 2005
Return-Path: <java-user-return-17669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20825 invoked from network); 22 Nov 2005 18:39:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 18:39:01 -0000
Received: (qmail 85848 invoked by uid 500); 22 Nov 2005 18:38:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85824 invoked by uid 500); 22 Nov 2005 18:38:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85812 invoked by uid 99); 22 Nov 2005 18:38:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 10:38:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 10:40:25 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Eed05-0006bK-By
	for java-user@lucene.apache.org; Tue, 22 Nov 2005 19:36:18 +0100
Received: from nat.ironport.com ([63.251.108.100])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 19:36:17 +0100
Received: from aurora00 by nat.ironport.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 19:36:17 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  aurora <aurora00@gmail.com>
Subject:  Lotka's law and Lucene
Date:  Tue, 22 Nov 2005 10:33:33 -0800
Lines: 14
Message-ID:  <op.s0nm57n56yt6e7@wtung-lt.ironportsystems.com>
Mime-Version:  1.0
Content-Type:  text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding:  Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: nat.ironport.com
User-Agent: Opera M2/8.02 (Win32, build 7680)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

20% of contributors does 80% of work. That's how Lotka describes the  =

productivity of scientific authors back in 1926. An analysis on open  =

source software development show this is equally applicable  =

(http://www.javarants.com/B1823453972/C1460559707/E20051119163857/index.=
html).  =

Lucene is used as an example in the analysis. Let's give dnaber an  =

applause as he tops the productivity chart.

wy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 18:44:15 2005
Return-Path: <java-user-return-17670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23427 invoked from network); 22 Nov 2005 18:44:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 18:44:15 -0000
Received: (qmail 99343 invoked by uid 500); 22 Nov 2005 18:44:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99316 invoked by uid 500); 22 Nov 2005 18:44:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99305 invoked by uid 99); 22 Nov 2005 18:44:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 10:44:09 -0800
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.212.179] (HELO adm1.bloglines.com) (216.148.212.179)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 22 Nov 2005 10:45:40 -0800
Received: (qmail 5010 invoked from network); 22 Nov 2005 18:43:46 -0000
Received: from unknown (HELO w12.bloglines.com) (10.4.0.54)
  by 0 with SMTP; 22 Nov 2005 18:43:46 -0000
Received: (qmail 31366 invoked by uid 99); 22 Nov 2005 18:43:47 -0000
Message-ID: <1132685027.2754244556.31362.sendItem@bloglines.com>
Date: 22 Nov 2005 18:43:47 -0000
From: yahootintin.11533894@bloglines.com
To: java-user@lucene.apache.org
Subject: Re: Inconsistent StandardTokenizer behaviour
MIME-Version: 1.0
Content-Type: text/plain;charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cool, I'll take a look at fixing this.

--- java-user@lucene.apache.org
wrote:

> On 21 Nov 2005, at 19:39, yahootintin.11533894@bloglines.com wrote:

> > This is the results for the StandardTokenizer:
> >    input - output
token -
> > output type
> > 1. 1.2   - 1.2          - <HOST>
> > 2. 1.2.
 - 1.2          - <HOST>
> >
> > 3. a.b   - a.b          - <HOST>
> > 4.
a.b.  - a.b.         - <ACRONYM>
> > 5.
> > www.apache.org  - www.apache.org
 - <HOST>
> > 6. www.apache.org. - www.apache.org.
> > - <ACRONYM>
> >

> > Number 6 should still be a <HOST> type, shouldn't it?  This
> > causes
problems for the StandardFilter.  Why is it saying its an  
> > <ACRONYM>?

> 
> Because it's grammar is imperfect?!
> 
> The trailing '.' is throwing
it off from what you expect.  We'd  
> certainly welcome fixes to StandardTokenizer.jj
in this regard.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For
additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 20:03:26 2005
Return-Path: <java-user-return-17671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76202 invoked from network); 22 Nov 2005 20:03:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 20:03:26 -0000
Received: (qmail 68809 invoked by uid 500); 22 Nov 2005 20:03:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68772 invoked by uid 500); 22 Nov 2005 20:03:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68572 invoked by uid 99); 22 Nov 2005 20:03:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 12:03:18 -0800
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 12:04:50 -0800
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1EeeJu-0004fJ-1g
	for java-user@lucene.apache.org; Tue, 22 Nov 2005 21:00:50 +0100
Received: from nsc66.147.0-42.newsouth.net ([66.147.0.42])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 21:00:50 +0100
Received: from kgutch by nsc66.147.0-42.newsouth.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 21:00:50 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "krg9263" <kgutch@protech.newsouth.net>
Subject:  Lucene and Web Context
Date:  Tue, 22 Nov 2005 13:49:55 -0500
Lines: 16
Message-ID: <dlvp8s$vb4$1@sea.gmane.org>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: nsc66.147.0-42.newsouth.net
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-RFC2646: Format=Flowed; Original
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am very new to Lucene.
Does anyone have an example of a Lucene IndexWriter whose path is relative 
to a context path? All of the examples I have seen place it outside the web 
container and relative to the system path. I need something within  a web 
container because I do not have access outside of it. I tried:

IndexWriter indexWriter = new IndexWriter( m_request.getContextPath()+ 
"/data/LUCENE", new StandardAnalyzer(), true);


but this resulted in the app looking in: c:/CONTEXT_PATH/data/LUCENE

Any advice is greatly appreciated.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 20:06:52 2005
Return-Path: <java-user-return-17672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77380 invoked from network); 22 Nov 2005 20:06:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 20:06:52 -0000
Received: (qmail 77016 invoked by uid 500); 22 Nov 2005 20:06:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76993 invoked by uid 500); 22 Nov 2005 20:06:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76982 invoked by uid 99); 22 Nov 2005 20:06:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 12:06:43 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 12:08:15 -0800
Received: from 192.168.100.99 ([192.168.100.99]) by bettylou.configureone.net ([192.168.100.7]) with Microsoft Exchange Server HTTP-DAV ;
 Tue, 22 Nov 2005 20:05:45 +0000
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Tue, 22 Nov 2005 14:06:20 -0600
Subject: Re: Lucene and Web Context
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BFA8D65C.19E0%jpowers@configureone.com>
Thread-Topic: Lucene and Web Context
Thread-Index: AcXvoDQ6cwAbfluTEdq/hQANk2AiFA==
In-Reply-To: <dlvp8s$vb4$1@sea.gmane.org>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

session.getServletContext().getRealPath("/")  + "data/lucene"




On 11/22/05 12:49 PM, "krg9263" <kgutch@protech.newsouth.net> wrote:

> I am very new to Lucene.
> Does anyone have an example of a Lucene IndexWriter whose path is relative
> to a context path? All of the examples I have seen place it outside the web
> container and relative to the system path. I need something within  a web
> container because I do not have access outside of it. I tried:
> 
> IndexWriter indexWriter = new IndexWriter( m_request.getContextPath()+
> "/data/LUCENE", new StandardAnalyzer(), true);
> 
> 
> but this resulted in the app looking in: c:/CONTEXT_PATH/data/LUCENE
> 
> Any advice is greatly appreciated.
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 21:13:56 2005
Return-Path: <java-user-return-17673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26972 invoked from network); 22 Nov 2005 21:13:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 21:13:56 -0000
Received: (qmail 33153 invoked by uid 500); 22 Nov 2005 21:13:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32976 invoked by uid 500); 22 Nov 2005 21:13:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32965 invoked by uid 99); 22 Nov 2005 21:13:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 13:13:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 13:15:20 -0800
Received: (qmail 6600 invoked from network); 22 Nov 2005 21:13:25 -0000
Received: from unknown (HELO p5496cff7.dip.t-dialin.net) ([pbs]695637@[84.150.207.247])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 22 Nov 2005 21:13:25 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Lotka's law and Lucene
Date: Tue, 22 Nov 2005 22:15:47 +0100
User-Agent: KMail/1.8.2
References: <op.s0nm57n56yt6e7@wtung-lt.ironportsystems.com>
In-Reply-To: <op.s0nm57n56yt6e7@wtung-lt.ironportsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200511222215.48308@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 22 November 2005 19:33, aurora wrote:

> (http://www.javarants.com/B1823453972/C1460559707/E20051119163857/index.
>html). =C2=A0 Lucene is used as an example in the analysis. Let's give dna=
ber
> an applause as he tops the productivity chart.

Ah, finally all the hard work converting one kind of whitespace into the=20
other starts to pay off :-)

But seriously, just counting the number of commits is misleading at best,=20
as some people prefer to make many small commits and other make a few=20
larger and more relevant commits.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 22:34:01 2005
Return-Path: <java-user-return-17674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67532 invoked from network); 22 Nov 2005 22:34:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 22:34:01 -0000
Received: (qmail 92955 invoked by uid 500); 22 Nov 2005 22:33:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92312 invoked by uid 500); 22 Nov 2005 22:33:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92288 invoked by uid 99); 22 Nov 2005 22:33:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 14:33:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 14:35:25 -0800
Received: by wproxy.gmail.com with SMTP id i30so703880wra
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 14:33:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JL2Tp8BNHDh6MmUFcW6OtCaRZJlNhQExignV8DrDtca5/sYWlCOWz+TP87vZthKPMaQHooFL/ntL6LpRJ1XLrgaSq/34oFjWS5HfG9Jyh6TFDU9rGWP/ue7B/w9BUJxQtcqfaag9SofsJnWRPo2mcBV0pNvPLvG1gWW/9AVcjdo=
Received: by 10.64.220.2 with SMTP id s2mr5202763qbg;
        Tue, 22 Nov 2005 14:33:30 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Tue, 22 Nov 2005 14:33:30 -0800 (PST)
Message-ID: <c68e39170511221433h2a5e425fn6533a2f74a26c7e5@mail.gmail.com>
Date: Tue, 22 Nov 2005 17:33:30 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lotka's law and Lucene
In-Reply-To: <200511222215.48308@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <op.s0nm57n56yt6e7@wtung-lt.ironportsystems.com>
	 <200511222215.48308@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

And of course Doug still does a lot of work on Lucene, but often
leaves the commit to someone else.

On 11/22/05, Daniel Naber <lucenelist@danielnaber.de> wrote:
> On Dienstag 22 November 2005 19:33, aurora wrote:
>
> > (http://www.javarants.com/B1823453972/C1460559707/E20051119163857/index=
.
> >html). Lucene is used as an example in the analysis. Let's give dnaber
> > an applause as he tops the productivity chart.
>
> Ah, finally all the hard work converting one kind of whitespace into the
> other starts to pay off :-)
>
> But seriously, just counting the number of commits is misleading at best,
> as some people prefer to make many small commits and other make a few
> larger and more relevant commits.
>
> Regards
>  Daniel



--
-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 22 22:38:28 2005
Return-Path: <java-user-return-17675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69279 invoked from network); 22 Nov 2005 22:38:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Nov 2005 22:38:28 -0000
Received: (qmail 389 invoked by uid 500); 22 Nov 2005 22:38:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 361 invoked by uid 500); 22 Nov 2005 22:38:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 350 invoked by uid 99); 22 Nov 2005 22:38:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 14:38:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Nov 2005 14:39:54 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Eegjh-0000vu-IS
	for java-user@lucene.apache.org; Tue, 22 Nov 2005 23:35:37 +0100
Received: from nsc66.147.0-42.newsouth.net ([66.147.0.42])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 23:35:37 +0100
Received: from kgutch by nsc66.147.0-42.newsouth.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Tue, 22 Nov 2005 23:35:37 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "krg9263" <kgutch@protech.newsouth.net>
Subject:  Search Struts
Date:  Tue, 22 Nov 2005 17:32:46 -0500
Lines: 12
Message-ID: <dm06an$cmr$1@sea.gmane.org>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: nsc66.147.0-42.newsouth.net
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-RFC2646: Format=Flowed; Original
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Does anyone have any use cases for Lucene in a Struts based application. for 
instance. My current implementation (which I just got working an hour ago) 
returns results but lists the associated JSP page. My app uses Struts Tiles 
and Struts Actions so linking to an individual JSP will not achieve the 
desired results.

I am basically just trying to create a site search function.

Thanks in advance.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 08:01:18 2005
Return-Path: <java-user-return-17676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96945 invoked from network); 23 Nov 2005 08:01:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 08:01:17 -0000
Received: (qmail 60062 invoked by uid 500); 23 Nov 2005 08:01:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59955 invoked by uid 500); 23 Nov 2005 08:01:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59943 invoked by uid 99); 23 Nov 2005 08:01:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 00:01:07 -0800
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=DATE_IN_PAST_24_48,FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.212.186] (HELO w04.bloglines.com) (216.148.212.186)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Nov 2005 00:02:38 -0800
Received: (qmail 13178 invoked by uid 99); 21 Nov 2005 23:54:04 -0000
Message-ID: <1132617244.361691355.13174.sendItem@bloglines.com>
Date: 21 Nov 2005 23:54:04 -0000
From: yahootintin.11533894@bloglines.com
To: java-user@lucene.apache.org
Subject: Strange tokenization with StandardFilter
MIME-Version: 1.0
Content-Type: text/plain;charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using a StandardFilter and seeing some strange tokenization.

Here's
the input:
apache.org hosts lucene at apache.org.

Here's the tokens it
outputs:
 apache.org
 hosts
 lucene
 at 
 apacheorg

Is this a bug
that apache.org and apache.org. don't convert to the same token?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 08:04:36 2005
Return-Path: <java-user-return-17677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98213 invoked from network); 23 Nov 2005 08:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 08:04:36 -0000
Received: (qmail 63097 invoked by uid 500); 23 Nov 2005 08:04:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63073 invoked by uid 500); 23 Nov 2005 08:04:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63056 invoked by uid 99); 23 Nov 2005 08:04:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 00:04:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 00:06:00 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 348F61BB5B
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 09:04:00 +0100 (CET)
Message-ID: <4384226F.9040904@fib.upc.edu>
Date: Wed, 23 Nov 2005 09:03:59 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Nobody had this problem ? 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Few days ago I write this question:
-Hello, my index works fine but now I activated the last parameter to 
add function of indexwriter.
-IndexWriter.add(Field.UnStored("CONTENTS",content,true));
-Now I obtain frequently the message no tvx file. What can I do?
-thks for any replies.
nobody replies me and I don't know if this produced by a silly question 
(that I don't understand what I have to do) or nobody had seen a No tvx 
file message in their logs.
I read something about tvx files, but I don't obtain any replies, this 
messages appears in a index configured wit and without composed option.
My lucene is 1.4.3 and I'm working over a Suse9.2.
The only thing that I wnat to know if I had a mistake in my code or in 
my design, or if this message is normal in a specials conditions that I 
have.

thks in advance.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 08:16:57 2005
Return-Path: <java-user-return-17678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2861 invoked from network); 23 Nov 2005 08:16:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 08:16:57 -0000
Received: (qmail 72634 invoked by uid 500); 23 Nov 2005 08:16:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72013 invoked by uid 500); 23 Nov 2005 08:16:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72002 invoked by uid 99); 23 Nov 2005 08:16:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 00:16:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 00:18:22 -0800
Received: (qmail 22872 invoked from network); 23 Nov 2005 08:16:27 -0000
Received: from unknown (HELO p5496d9ec.dip.t-dialin.net) ([pbs]695637@[84.150.217.236])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 23 Nov 2005 08:16:27 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Nobody had this problem ?
Date: Wed, 23 Nov 2005 09:18:53 +0100
User-Agent: KMail/1.8.2
References: <4384226F.9040904@fib.upc.edu>
In-Reply-To: <4384226F.9040904@fib.upc.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511230918.53651@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 23 November 2005 09:03, Daniel Cortes wrote:

> -Now I obtain frequently the message no tvx file. What can I do?

You can savely ignore that message.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 09:01:48 2005
Return-Path: <java-user-return-17679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27822 invoked from network); 23 Nov 2005 09:01:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 09:01:48 -0000
Received: (qmail 24433 invoked by uid 500); 23 Nov 2005 09:01:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24406 invoked by uid 500); 23 Nov 2005 09:01:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24395 invoked by uid 99); 23 Nov 2005 09:01:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 01:01:40 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.80.167.228] (HELO correo.telemadrid.org) (212.80.167.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 01:03:06 -0800
Received: from tm1.telemadrid.org ([212.80.167.225])
          by correo.telemadrid.org (Lotus Domino Release 6.5.1)
          with ESMTP id 2005112310005584-15658 ;
          Wed, 23 Nov 2005 10:00:55 +0100 
Importance: Normal
X-Priority: 3 (Normal)
Subject: Re: Search Struts
MIME-Version: 1.0
From: dblanch@telemadrid.es
To: java-user@lucene.apache.org
X-MIMETrack: MIME-CD by Notes Server on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 10:05:32,
	MIME-CD complete at 23/11/2005 10:05:32,
	Serialize by Router on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at 23/11/2005
 10:05:33,
	Itemize by SMTP Server on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 10:00:55,
	Serialize by Router on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 10:01:18,
	Serialize complete at 23/11/2005 10:01:18
Date: Wed, 23 Nov 2005 10:05:32 +0100
Message-ID: <OF41E056D1.C0E6DBF3-ONC12570C2.0031F1F3-C12570C2.0031F202@telemadrid.es>
Content-transfer-encoding: quoted-printable
Content-type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I'm not sure I've understand you=2E

If you want to point to tiles definitions you have to define tem in
<action>s or a <forward>s element in struts-config=2Exml, as usual=2E

If you want your app to dinamicaly create tiles definitions you'll have=
 to
write a Tiles Controller=2E

See http://www=2Elifl=2Efr/~dumoulin/tiles/tilesAdvancedFeatures=2Epdf

-----news <news@sea=2Egmane=2Eorg> escribi=F3: -----


Para: java-user@lucene=2Eapache=2Eorg
De: "krg9263" <kgutch@protech=2Enewsouth=2Enet>
Enviado por: news <news@sea=2Egmane=2Eorg>
Fecha: 22/11/2005 23:32
Asunto: Search Struts

Does anyone have any use cases for Lucene in a Struts based application=
=2E
for
instance=2E My current implementation (which I just got working an hour=
 ago)
returns results but lists the associated JSP page=2E My app uses Struts=
 Tiles
and Struts Actions so linking to an individual JSP will not achieve the=

desired results=2E

I am basically just trying to create a site search function=2E

Thanks in advance=2E





---------------------------------------------------------------------
 To unsubscribe, e-mail: java-user-unsubscribe@lucene=2Eapache=2Eorg
For additional commands, e-mail: java-user-help@lucene=2Eapache=2Eorg=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 10:12:55 2005
Return-Path: <java-user-return-17680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61682 invoked from network); 23 Nov 2005 10:12:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 10:12:55 -0000
Received: (qmail 9711 invoked by uid 500); 23 Nov 2005 10:12:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9686 invoked by uid 500); 23 Nov 2005 10:12:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9675 invoked by uid 99); 23 Nov 2005 10:12:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 02:12:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 02:14:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7CF6713E2005; Wed, 23 Nov 2005 05:12:22 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 1DC8E13E2006
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 05:11:55 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <1132617244.361691355.13174.sendItem@bloglines.com>
References: <1132617244.361691355.13174.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F7BBC578-3366-4CC0-B2F6-8D25D688E9F7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Strange tokenization with StandardFilter
Date: Wed, 23 Nov 2005 05:12:15 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=unavailable version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Nov 2005, at 18:54, yahootintin.11533894@bloglines.com wrote:

> I'm using a StandardFilter and seeing some strange tokenization.
>
> Here's
> the input:
> apache.org hosts lucene at apache.org.
>
> Here's the tokens it
> outputs:
>  apache.org
>  hosts
>  lucene
>  at
>  apacheorg
>
> Is this a bug
> that apache.org and apache.org. don't convert to the same token?


Didn't you just report this same issue?

The behavior certainly is not sensible in this case.  So I'd call it  
a bug, yes.  Again, the trailing '.' is the culprit.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 12:05:07 2005
Return-Path: <java-user-return-17681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9056 invoked from network); 23 Nov 2005 12:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 12:05:07 -0000
Received: (qmail 38977 invoked by uid 500); 23 Nov 2005 12:04:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38837 invoked by uid 500); 23 Nov 2005 12:04:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38797 invoked by uid 99); 23 Nov 2005 12:04:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 04:04:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [202.138.125.174] (HELO hulk.jobsahead.com) (202.138.125.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 04:06:28 -0800
Received: from [10.216.204.108] (unknown [210.7.69.99])
	by hulk.jobsahead.com (Postfix) with ESMTP id 7782E9CE1
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 17:34:26 +0530 (IST)
Subject: Search clustering question
From: Supreet Sethi <supreet@linux-delhi.org>
To: Java lucene list <java-user@lucene.apache.org>
Content-Type: text/plain
Date: Wed, 23 Nov 2005 17:34:22 +0530
Message-Id: <1132747462.31134.147.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

For final finish up on work for my project. We intend to do search
clustering. Now I have already read that there is no clear cut way of
doing that in lucene.

Wondering, if anyone has tackled this problem with time constraint as
one issue.

With turn around time of 3 sec clustering 5000 search results by
different criterion seems like a touch nut

regards

Supreet


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 15:15:53 2005
Return-Path: <java-user-return-17682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40955 invoked from network); 23 Nov 2005 15:15:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 15:15:52 -0000
Received: (qmail 90707 invoked by uid 500); 23 Nov 2005 15:15:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90682 invoked by uid 500); 23 Nov 2005 15:15:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90671 invoked by uid 99); 23 Nov 2005 15:15:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 07:15:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [148.79.80.137] (HELO mserv6.dl.ac.uk) (148.79.80.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 07:17:17 -0800
X-DL-MFrom: <b.e.taylor@dl.ac.uk>
X-DL-Connect: <exchange10.dl.ac.uk [148.79.163.40]>
Received: from exchange10.dl.ac.uk (exchange10.dl.ac.uk [148.79.163.40])
	by mserv6.dl.ac.uk (8.12.10/8.12.8/[ref postmaster@dl.ac.uk]) with ESMTP id jANFExIj012221
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 15:15:05 GMT
Content-Transfer-Encoding: 7bit
Importance: normal
Priority: normal
Received: from exchange02.dl.ac.uk ([148.79.80.19]) by exchange10.dl.ac.uk with Microsoft SMTPSVC(6.0.3790.0); Wed, 23 Nov 2005 15:04:19 +0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5F03F.2DCE9442"
Subject: there are more terms than documents in field <my sort field>
Date: Wed, 23 Nov 2005 15:04:19 -0000
Message-ID: <77673C9ECE12AB4791B5AC0A7BF40C8FF0D5EB@exchange02.fed.cclrc.ac.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: there are more terms than documents in field <my sort field>
thread-index: AcXwPy2tDHyMxKPbRM6XipEHpqfz8A==
From: "Taylor, BE \(Beverley\)" <b.e.taylor@dl.ac.uk>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Nov 2005 15:04:19.0342 (UTC) FILETIME=[2DE38AE0:01C5F03F]
X-CCLRC-SPAM-report: -4.699 : BAYES_00,HTML_FONTCOLOR_RED,HTML_MESSAGE
X-Scanned-By: MIMEDefang 2.37
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5F03F.2DCE9442
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Everyone,

I am very new to Lucene and am trying to perform a sort on a field
containing strings. I get the error message:

there are more terms than documents in field <my sort field>=20

I have read through the same problem in the user group archives and the
replies usually ask the person if they are trying to sort on a tokenised
field, however, I can't see any further correspondence to say whether
they were or not and if they found a solution.

I create my index as below, where field is the field name I am trying to
sort and sortvalue is the text content of the field. From what I have
read, I think this is creating an index field which is stored but not
tokenised:

doc.add(Field.Keyword(field, sortvalue));

Does anyone know how to look into this problem further or can point me
in the direction of a solution?

Many thanks in anticipation,

Beverley Taylor



------_=_NextPart_001_01C5F03F.2DCE9442--

From java-user-return-17683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 15:39:52 2005
Return-Path: <java-user-return-17683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55536 invoked from network); 23 Nov 2005 15:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 15:39:50 -0000
Received: (qmail 29869 invoked by uid 500); 23 Nov 2005 15:39:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29850 invoked by uid 500); 23 Nov 2005 15:39:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29839 invoked by uid 99); 23 Nov 2005 15:39:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 07:39:32 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.80.167.228] (HELO correo.telemadrid.org) (212.80.167.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 07:40:58 -0800
Received: from tm1.telemadrid.org ([212.80.167.225])
          by correo.telemadrid.org (Lotus Domino Release 6.5.1)
          with ESMTP id 2005112316384724-16053 ;
          Wed, 23 Nov 2005 16:38:47 +0100 
Importance: Normal
X-Priority: 3 (Normal)
Subject: Re: there are more terms than documents in field <my sort field>
MIME-Version: 1.0
From: dblanch@telemadrid.es
To: java-user@lucene.apache.org
X-MIMETrack: MIME-CD by Notes Server on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 16:43:24,
	MIME-CD complete at 23/11/2005 16:43:24,
	Serialize by Router on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at 23/11/2005
 16:43:24,
	Itemize by SMTP Server on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 16:38:47,
	Serialize by Router on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 23/11/2005 16:39:10,
	Serialize complete at 23/11/2005 16:39:10
Date: Wed, 23 Nov 2005 16:43:24 +0100
Message-ID: <OFBF58AEE8.F1BCADEA-ONC12570C2.00565F0C-C12570C2.00565F1D@telemadrid.es>
Content-transfer-encoding: quoted-printable
Content-type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I think you are doing it right=2E Fields used for sorting must be Keywo=
rd
type=2E See you are not adding the Field more than once for the same
Document=2E

-----"Taylor, BE \(Beverley\)" <b=2Ee=2Etaylor@dl=2Eac=2Euk> escribi=F3=
: -----


Para: <java-user@lucene=2Eapache=2Eorg>
De: "Taylor, BE \(Beverley\)" <b=2Ee=2Etaylor@dl=2Eac=2Euk>
Fecha: 23/11/2005 16:04
Asunto: there are more terms than documents in field <my sort field>

Hi Everyone,

I am very new to Lucene and am trying to perform a sort on a field
containing strings=2E I get the error message:

there are more terms than documents in field

I have read through the same problem in the user group archives and the=

replies usually ask the person if they are trying to sort on a tokenise=
d
field, however, I can't see any further correspondence to say whether
they were or not and if they found a solution=2E

I create my index as below, where field is the field name I am trying t=
o
sort and sortvalue is the text content of the field=2E From what I have=

read, I think this is creating an index field which is stored but not
tokenised:

doc=2Eadd(Field=2EKeyword(field, sortvalue));

Does anyone know how to look into this problem further or can point me
in the direction of a solution?

Many thanks in anticipation,

Beverley Taylor=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 18:40:56 2005
Return-Path: <java-user-return-17684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57347 invoked from network); 23 Nov 2005 18:40:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 18:40:56 -0000
Received: (qmail 43959 invoked by uid 500); 23 Nov 2005 18:40:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43738 invoked by uid 500); 23 Nov 2005 18:40:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43689 invoked by uid 99); 23 Nov 2005 18:40:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 10:40:44 -0800
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.212.179] (HELO adm1.bloglines.com) (216.148.212.179)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Nov 2005 10:41:20 -0800
Received: (qmail 4064 invoked from network); 23 Nov 2005 18:39:27 -0000
Received: from unknown (HELO w11.bloglines.com) (10.4.0.60)
  by 0 with SMTP; 23 Nov 2005 18:39:27 -0000
Received: (qmail 14664 invoked by uid 99); 23 Nov 2005 18:39:28 -0000
Message-ID: <1132771168.3726981383.14662.sendItem@bloglines.com>
Date: 23 Nov 2005 18:39:28 -0000
From: yahootintin.11533894@bloglines.com
To: java-user@lucene.apache.org
Subject: Re: Strange tokenization with StandardFilter
MIME-Version: 1.0
Content-Type: text/plain;charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, this is a repeat... I mailed this a few days before and it never made
it to the list so I reposted.  Now it suddenly appears... weird!

--- java-user@lucene.apache.org
wrote:

> On 21 Nov 2005, at 18:54, yahootintin.11533894@bloglines.com wrote:

> 
> > I'm using a StandardFilter and seeing some strange tokenization.

> >
> > Here's
> > the input:
> > apache.org hosts lucene at apache.org.

> >
> > Here's the tokens it
> > outputs:
> >  apache.org
> >  hosts

> >  lucene
> >  at
> >  apacheorg
> >
> > Is this a bug
> > that apache.org
and apache.org. don't convert to the same token?
> 
> 
> Didn't you just
report this same issue?
> 
> The behavior certainly is not sensible in this
case.  So I'd call it  
> a bug, yes.  Again, the trailing '.' is the culprit.

> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For
additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 19:30:56 2005
Return-Path: <java-user-return-17685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83137 invoked from network); 23 Nov 2005 19:30:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 19:30:56 -0000
Received: (qmail 8453 invoked by uid 500); 23 Nov 2005 19:30:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7594 invoked by uid 500); 23 Nov 2005 19:30:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7453 invoked by uid 99); 23 Nov 2005 19:30:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 11:30:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alan@chandlerfamily.org.uk designates 195.188.213.4 as permitted sender)
Received: from [195.188.213.4] (HELO smtp-out1.blueyonder.co.uk) (195.188.213.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 11:32:15 -0800
Received: from home.chandlerfamily.org.uk ([82.44.22.127]) by smtp-out1.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 23 Nov 2005 19:31:12 +0000
Received: from kanger.home ([192.168.0.21])
	by home.chandlerfamily.org.uk with esmtp (Exim 4.50)
	id 1Ef0Ju-0007uU-Ja
	for java-user@lucene.apache.org; Wed, 23 Nov 2005 19:30:18 +0000
From: Alan Chandler <alan@chandlerfamily.org.uk>
To: java-user@lucene.apache.org
Subject: Searching Textile Documents
Date: Wed, 23 Nov 2005 19:30:23 +0000
User-Agent: KMail/1.8.2
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511231930.23452.alan@chandlerfamily.org.uk>
X-OriginalArrivalTime: 23 Nov 2005 19:31:12.0913 (UTC) FILETIME=[76B89010:01C5F064]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am a brand new newbie with respect to Lucene, and I am just figuring out how 
to include it into an application I am building. (personal blog)

In essence I have a set of articles that reside in a database.  Each one will 
have an Integer ID identifying it, Textual Title, some key parameters (such 
as date published, and categories) and body which is composed of text using 
the "textile" format (see http://textism.com/tools/textile/).

I have two sets of questions which I don't quite understand

1) The Analyser

Since the body has some special syntax, I assume I have to extend the analyser 
to skip the special symbols etc.  Has anyone done this already?  Is there a 
standard place to look? If not, do I have to start again from scratch, or can 
I just "configure" an existing one?  (In particular, I have a routine which 
will take a textile input string and produce an html output string - so could 
I use the HTMLParser in the demo - alternatively JavaCC - is that something I 
could use? - just came across it whilst writing this mail)

I ultimately want to put a summary of the text on the front portion of my web 
site.  In order to calculate where the split is, and therefore how many 
articles to place it would be useful as I am analysing it to get some 
statistics like where is the end of the first paragraph.  Is there a "hook" 
that I can plug into to get that information out (I scanned the javadocs, but 
I can't find anything obvious).

2) Use of different field types.

I am stuggling to understand what field types I need for my different fields.

For instance, I will want to index all the body of the article, so that the 
words it contains show up in searches, and I will also want to output the 
snippet around where the text is on a search page.  However I can easily 
retrieve the article from the database  given its ID.  Would I therefore make 
the ID of the article a keyword, and the body of it unstored? and would I 
build a special space separated string of the (undetermined number of) 
categories and make them normal.

TIA

-- 
Alan Chandler
http://www.chandlerfamily.org.uk
Open Source. It's the difference between trust and antitrust.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 19:42:19 2005
Return-Path: <java-user-return-17686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87766 invoked from network); 23 Nov 2005 19:42:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 19:42:18 -0000
Received: (qmail 24101 invoked by uid 500); 23 Nov 2005 19:42:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24079 invoked by uid 500); 23 Nov 2005 19:42:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24068 invoked by uid 99); 23 Nov 2005 19:42:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 11:42:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 11:43:42 -0800
Received: from 192.168.100.99 ([192.168.100.99]) by bettylou.configureone.net ([192.168.100.7]) with Microsoft Exchange Server HTTP-DAV ;
 Wed, 23 Nov 2005 19:41:12 +0000
User-Agent: Microsoft-Entourage/11.2.1.051004
Date: Wed, 23 Nov 2005 13:41:47 -0600
Subject: Re: Searching Textile Documents
From: John Powers <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
Message-ID: <BFAA221B.1A25%jpowers@configureone.com>
Thread-Topic: Searching Textile Documents
Thread-Index: AcXwZfCqL3sFRlxZEdqUAgANk2AiFA==
In-Reply-To: <200511231930.23452.alan@chandlerfamily.org.uk>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The short answer is there is a great "highlighter" example in the Lucene In
Action book.   It sounds like you may just want to use that really.   What
with the snippets and html.


On 11/23/05 1:30 PM, "Alan Chandler" <alan@chandlerfamily.org.uk> wrote:

> I am a brand new newbie with respect to Lucene, and I am just figuring out how
> to include it into an application I am building. (personal blog)
> 
> In essence I have a set of articles that reside in a database.  Each one will
> have an Integer ID identifying it, Textual Title, some key parameters (such
> as date published, and categories) and body which is composed of text using
> the "textile" format (see http://textism.com/tools/textile/).
> 
> I have two sets of questions which I don't quite understand
> 
> 1) The Analyser
> 
> Since the body has some special syntax, I assume I have to extend the analyser
> to skip the special symbols etc.  Has anyone done this already?  Is there a
> standard place to look? If not, do I have to start again from scratch, or can
> I just "configure" an existing one?  (In particular, I have a routine which
> will take a textile input string and produce an html output string - so could
> I use the HTMLParser in the demo - alternatively JavaCC - is that something I
> could use? - just came across it whilst writing this mail)
> 
> I ultimately want to put a summary of the text on the front portion of my web
> site.  In order to calculate where the split is, and therefore how many
> articles to place it would be useful as I am analysing it to get some
> statistics like where is the end of the first paragraph.  Is there a "hook"
> that I can plug into to get that information out (I scanned the javadocs, but
> I can't find anything obvious).
> 
> 2) Use of different field types.
> 
> I am stuggling to understand what field types I need for my different fields.
> 
> For instance, I will want to index all the body of the article, so that the
> words it contains show up in searches, and I will also want to output the
> snippet around where the text is on a search page.  However I can easily
> retrieve the article from the database  given its ID.  Would I therefore make
> the ID of the article a keyword, and the body of it unstored? and would I
> build a special space separated string of the (undetermined number of)
> categories and make them normal.
> 
> TIA


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 20:23:54 2005
Return-Path: <java-user-return-17687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12306 invoked from network); 23 Nov 2005 20:23:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 20:23:54 -0000
Received: (qmail 84375 invoked by uid 500); 23 Nov 2005 20:23:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84159 invoked by uid 500); 23 Nov 2005 20:23:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84148 invoked by uid 99); 23 Nov 2005 20:23:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:23:48 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.138.207 as permitted sender)
Received: from [64.12.138.207] (HELO imo-m17.mx.aol.com) (64.12.138.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:25:19 -0800
Received: from Msftblows@aol.com
	by imo-m17.mx.aol.com (mail_out_v38_r6.3.) id h.25f.2019b48 (15901)
	 for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 15:23:22 -0500 (EST)
Received: from  FWM-D37 (fwm-d37.webmail.aol.com [205.188.162.13]) by air-id09.mx.aol.com (v107.13) with ESMTP id MAILINID94-3e1d4384cfba83; Wed, 23 Nov 2005 15:23:22 -0500
Date: Wed, 23 Nov 2005 15:23:22 -0500
Message-Id: <8C7BE82E261D540-B44-B72@FWM-D37.sysops.aol.com>
From: msftblows@aol.com
References: <1132747462.31134.147.camel@localhost.localdomain>
Received: from 38.117.191.162 by FWM-D37.sysops.aol.com (205.188.162.13) with HTTP (WebMailUI); Wed, 23 Nov 2005 15:23:22 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <1132747462.31134.147.camel@localhost.localdomain>
X-Mailer: AOL WebMail 15106
Subject: Re: Search clustering question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7BE82E261D540_B44_BAA_FWM-D37.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.162.13
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7BE82E261D540_B44_BAA_FWM-D37.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Have you looked into using Carrot2 (it is on sourceforge...) 
 
-----Original Message-----
From: Supreet Sethi <supreet@linux-delhi.org>
To: Java lucene list <java-user@lucene.apache.org>
Sent: Wed, 23 Nov 2005 17:34:22 +0530
Subject: Search clustering question


Hi,

For final finish up on work for my project. We intend to do search
clustering. Now I have already read that there is no clear cut way of
doing that in lucene.

Wondering, if anyone has tackled this problem with time constraint as
one issue.

With turn around time of 3 sec clustering 5000 search results by
different criterion seems like a touch nut

regards

Supreet


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7BE82E261D540_B44_BAA_FWM-D37.sysops.aol.com--

From java-user-return-17688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 20:30:43 2005
Return-Path: <java-user-return-17688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15243 invoked from network); 23 Nov 2005 20:30:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 20:30:43 -0000
Received: (qmail 91579 invoked by uid 500); 23 Nov 2005 20:30:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91558 invoked by uid 500); 23 Nov 2005 20:30:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91547 invoked by uid 99); 23 Nov 2005 20:30:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:30:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:32:09 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8757013E2005; Wed, 23 Nov 2005 15:30:13 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 42B5613E2005
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 15:30:07 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200511231930.23452.alan@chandlerfamily.org.uk>
References: <200511231930.23452.alan@chandlerfamily.org.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A1A34AE1-9C67-42DA-9C22-0829364A7E52@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching Textile Documents
Date: Wed, 23 Nov 2005 15:30:33 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 23 Nov 2005, at 14:30, Alan Chandler wrote:
> 1) The Analyser

First you'll have to spell it the US English way :)

> Since the body has some special syntax, I assume I have to extend  
> the analyser
> to skip the special symbols etc.  Has anyone done this already?  Is  
> there a
> standard place to look? If not, do I have to start again from  
> scratch, or can
> I just "configure" an existing one?  (In particular, I have a  
> routine which
> will take a textile input string and produce an html output string  
> - so could
> I use the HTMLParser in the demo - alternatively JavaCC - is that  
> something I
> could use? - just came across it whilst writing this mail)

I don't know of a Textile analyzer - it looks like you could simply  
configure all of its special symbols as a list of stop words and hand  
it to StandardAnalyzer's constructor.   You could go to the trouble  
of converting to HTML and then parse that, but that would be overkill  
and of course slower.

> I ultimately want to put a summary of the text on the front portion  
> of my web
> site.  In order to calculate where the split is, and therefore how  
> many
> articles to place it would be useful as I am analysing it to get some
> statistics like where is the end of the first paragraph.  Is there  
> a "hook"
> that I can plug into to get that information out (I scanned the  
> javadocs, but
> I can't find anything obvious).

No, there is nothing special in an analyzer to help with this.  It'd  
probably be best to create a parser for Textile that can give you  
back the raw text without the markup and also give you back the first  
paragraph.

> 2) Use of different field types.
>
> I am stuggling to understand what field types I need for my  
> different fields.

It really all depends on your searching and results display needs.

> For instance, I will want to index all the body of the article, so  
> that the
> words it contains show up in searches, and I will also want to  
> output the
> snippet around where the text is on a search page.  However I can  
> easily
> retrieve the article from the database  given its ID.  Would I  
> therefore make
> the ID of the article a keyword, and the body of it unstored? and  
> would I
> build a special space separated string of the (undetermined number of)
> categories and make them normal.

All of those options are possible and there is no Lucene "best way"  
to do it.  You could easily use Lucene itself as the entire blog  
storage mechanism if you like, even :)

As for categories - it depends on how you need them to be  
incorporated into the search.  You may want to index them  
individually (multiple per document, if desired) as Field.Keyword()  
so they aren't analyzed.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 20:33:46 2005
Return-Path: <java-user-return-17689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16242 invoked from network); 23 Nov 2005 20:33:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 20:33:46 -0000
Received: (qmail 96231 invoked by uid 500); 23 Nov 2005 20:33:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96204 invoked by uid 500); 23 Nov 2005 20:33:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96190 invoked by uid 99); 23 Nov 2005 20:33:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:33:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.8.156.204] (HELO brownbear.nameprotect.com) (69.8.156.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:35:12 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search clustering question
Date: Wed, 23 Nov 2005 14:33:18 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA080109C8BB@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search clustering question
Thread-Index: AcXwa9JeLluGjzQVR8Cc4IDAXs872QAAS42w
From: "Runde, Kevin" <krunde@NameProtect.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Does anyone have examples of using Carrot2? I've been looking into it
lately and am not finding good documentation.=20

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]=20
Sent: Wednesday, November 23, 2005 2:23 PM
To: java-user@lucene.apache.org
Subject: Re: Search clustering question

Have you looked into using Carrot2 (it is on sourceforge...)=20
=20
-----Original Message-----
From: Supreet Sethi <supreet@linux-delhi.org>
To: Java lucene list <java-user@lucene.apache.org>
Sent: Wed, 23 Nov 2005 17:34:22 +0530
Subject: Search clustering question


Hi,

For final finish up on work for my project. We intend to do search
clustering. Now I have already read that there is no clear cut way of
doing that in lucene.

Wondering, if anyone has tackled this problem with time constraint as
one issue.

With turn around time of 3 sec clustering 5000 search results by
different criterion seems like a touch nut

regards

Supreet


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 20:57:05 2005
Return-Path: <java-user-return-17690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25747 invoked from network); 23 Nov 2005 20:57:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 20:57:05 -0000
Received: (qmail 29886 invoked by uid 500); 23 Nov 2005 20:57:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29118 invoked by uid 500); 23 Nov 2005 20:57:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29107 invoked by uid 99); 23 Nov 2005 20:56:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:56:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alan@chandlerfamily.org.uk designates 195.188.213.7 as permitted sender)
Received: from [195.188.213.7] (HELO smtp-out4.blueyonder.co.uk) (195.188.213.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 12:58:31 -0800
Received: from home.chandlerfamily.org.uk ([82.44.22.127]) by smtp-out4.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 23 Nov 2005 20:57:27 +0000
Received: from kanger.home ([192.168.0.21])
	by home.chandlerfamily.org.uk with esmtp (Exim 4.50)
	id 1Ef1fN-00087E-0S
	for java-user@lucene.apache.org; Wed, 23 Nov 2005 20:56:33 +0000
From: Alan Chandler <alan@chandlerfamily.org.uk>
To: java-user@lucene.apache.org
Subject: Re: Searching Textile Documents
Date: Wed, 23 Nov 2005 20:56:38 +0000
User-Agent: KMail/1.8.2
References: <200511231930.23452.alan@chandlerfamily.org.uk> <A1A34AE1-9C67-42DA-9C22-0829364A7E52@ehatchersolutions.com>
In-Reply-To: <A1A34AE1-9C67-42DA-9C22-0829364A7E52@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511232056.38279.alan@chandlerfamily.org.uk>
X-OriginalArrivalTime: 23 Nov 2005 20:57:27.0155 (UTC) FILETIME=[82CF3C30:01C5F070]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 23 Nov 2005 20:30, Erik Hatcher wrote:
> On 23 Nov 2005, at 14:30, Alan Chandler wrote:
> > 1) The Analyser
>
> First you'll have to spell it the US English way :)

You mean yet another corruption of my language:-)  I am still having trouble 
with color rather than colour in all my css files.
...
>
> I don't know of a Textile analyzer - it looks like you could simply
> configure all of its special symbols as a list of stop words and hand
> it to StandardAnalyzer's constructor. 
Might be possible, the real difficult ones are the url etc


> You could go to the trouble 
> of converting to HTML and then parse that, but that would be overkill
> and of course slower.

Well, I have to put it into html to display it on a web page, so its a form it 
will exist in at some stage. 

>
> > I ultimately want to put a summary of the text on the front portion
> > of my web
> > site.  In order to calculate where the split is, and therefore how
> > many
> > articles to place it would be useful as I am analysing it to get some
> > statistics like where is the end of the first paragraph.  Is there
> > a "hook"
> > that I can plug into to get that information out (I scanned the
> > javadocs, but
> > I can't find anything obvious).
>
> No, there is nothing special in an analyzer to help with this.  It'd
> probably be best to create a parser for Textile that can give you
> back the raw text without the markup and also give you back the first
> paragraph.

I think you are probably right.  I am just looking at the demo html parser and 
seeing how thats built from the javaCC stuff - looks to be something I could 
usefully study some more.


>
> > 2) Use of different field types.
...
>
> All of those options are possible and there is no Lucene "best way"
> to do it.  You could easily use Lucene itself as the entire blog
> storage mechanism if you like, even :)

I hadn't thought about it until you mentioned it.  Indeed, that might be the 
right way to go (the database is little more than an article store and some 
verification tables for the article status (published or not) and category).

Thanks

-- 
Alan Chandler
http://www.chandlerfamily.org.uk
Open Source. It's the difference between trust and antitrust.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 22:51:00 2005
Return-Path: <java-user-return-17691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75674 invoked from network); 23 Nov 2005 22:51:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 22:51:00 -0000
Received: (qmail 92477 invoked by uid 500); 23 Nov 2005 22:50:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91722 invoked by uid 500); 23 Nov 2005 22:50:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91711 invoked by uid 99); 23 Nov 2005 22:50:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 14:50:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 14:52:25 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1C3B713E2005; Wed, 23 Nov 2005 17:50:30 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 3FB7113E2005
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 17:49:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200511232056.38279.alan@chandlerfamily.org.uk>
References: <200511231930.23452.alan@chandlerfamily.org.uk> <A1A34AE1-9C67-42DA-9C22-0829364A7E52@ehatchersolutions.com> <200511232056.38279.alan@chandlerfamily.org.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching Textile Documents
Date: Wed, 23 Nov 2005 17:50:23 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 23 Nov 2005, at 15:56, Alan Chandler wrote:
>>> 1) The Analyser
>>
>> First you'll have to spell it the US English way :)
>
> You mean yet another corruption of my language:-)  I am still  
> having trouble
> with color rather than colour in all my css files.

Well, you're free to spell it anyway you like for your subclasses :)

>>> 2) Use of different field types.
> ...
>>
>> All of those options are possible and there is no Lucene "best way"
>> to do it.  You could easily use Lucene itself as the entire blog
>> storage mechanism if you like, even :)
>
> I hadn't thought about it until you mentioned it.  Indeed, that  
> might be the
> right way to go (the database is little more than an article store  
> and some
> verification tables for the article status (published or not) and  
> category).

Well, the smiley is because my own frankenstein blog is a servlet,  
some very simple abstraction layers, velocity templates, and  
Lucene... http://www.blogscene.org/erik - though I'm a very  
infrequent blogger.  The categories are picked up using TermEnum on  
the category field.  The blog entries are stored in the index, and of  
course indexed as well.  You can subscribe to a feed for a search.   
Once upon a time I had a lot of fun building it and exploring what  
Lucene could do in the blogging world.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 23:37:39 2005
Return-Path: <java-user-return-17692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90945 invoked from network); 23 Nov 2005 23:37:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 23:37:39 -0000
Received: (qmail 33557 invoked by uid 500); 23 Nov 2005 23:37:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33529 invoked by uid 500); 23 Nov 2005 23:37:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33517 invoked by uid 99); 23 Nov 2005 23:37:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 15:37:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alan@chandlerfamily.org.uk designates 195.188.213.5 as permitted sender)
Received: from [195.188.213.5] (HELO smtp-out2.blueyonder.co.uk) (195.188.213.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 15:39:05 -0800
Received: from home.chandlerfamily.org.uk ([82.44.22.127]) by smtp-out2.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 23 Nov 2005 23:38:05 +0000
Received: from kanger.home ([192.168.0.21])
	by home.chandlerfamily.org.uk with esmtp (Exim 4.50)
	id 1Ef4Ap-0008OQ-15
	for java-user@lucene.apache.org; Wed, 23 Nov 2005 23:37:11 +0000
From: Alan Chandler <alan@chandlerfamily.org.uk>
To: java-user@lucene.apache.org
Subject: Re: Searching Textile Documents
Date: Wed, 23 Nov 2005 23:37:16 +0000
User-Agent: KMail/1.8.2
References: <200511231930.23452.alan@chandlerfamily.org.uk> <200511232056.38279.alan@chandlerfamily.org.uk> <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com>
In-Reply-To: <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511232337.16922.alan@chandlerfamily.org.uk>
X-OriginalArrivalTime: 23 Nov 2005 23:38:05.0132 (UTC) FILETIME=[F37DD0C0:01C5F086]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 23 Nov 2005 22:50, Erik Hatcher wrote:

> Well, the smiley is because my own frankenstein blog is a servlet,
> some very simple abstraction layers, velocity templates, and
> Lucene... http://www.blogscene.org/erik - though I'm a very
> infrequent blogger.  The categories are picked up using TermEnum on
> the category field.  The blog entries are stored in the index, and of
> course indexed as well.  You can subscribe to a feed for a search.
> Once upon a time I had a lot of fun building it and exploring what
> Lucene could do in the blogging world.

One simple question that I am looking at.

My home page wants to have a summary of perhaps the most recent five blogs 
entries.

It looks as though I can use the Datefield class to store the publication date 
in an orderable form - so that I can effectively do a ordered search using 
this field as the sort field.  

Is there anyway to limit the number of hits returned in the search to 5 (or 
does it not generate any storage overhead to return them all and just use the 
first 5)

-- 
Alan Chandler
http://www.chandlerfamily.org.uk
Open Source. It's the difference between trust and antitrust.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 23 23:59:20 2005
Return-Path: <java-user-return-17693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98138 invoked from network); 23 Nov 2005 23:59:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Nov 2005 23:59:19 -0000
Received: (qmail 53383 invoked by uid 500); 23 Nov 2005 23:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53360 invoked by uid 500); 23 Nov 2005 23:59:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53349 invoked by uid 99); 23 Nov 2005 23:59:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 15:59:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 16:00:46 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1FFB413E2005; Wed, 23 Nov 2005 18:58:51 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 08C6D13E2005
	for <java-user@lucene.apache.org>; Wed, 23 Nov 2005 18:58:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200511232337.16922.alan@chandlerfamily.org.uk>
References: <200511231930.23452.alan@chandlerfamily.org.uk> <200511232056.38279.alan@chandlerfamily.org.uk> <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com> <200511232337.16922.alan@chandlerfamily.org.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B88C247D-F04A-43FF-A5C9-0690C8CDD7AC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching Textile Documents
Date: Wed, 23 Nov 2005 18:59:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 23 Nov 2005, at 18:37, Alan Chandler wrote:
> My home page wants to have a summary of perhaps the most recent  
> five blogs
> entries.

Personifying your home page... cute :)

> It looks as though I can use the Datefield class to store the  
> publication date
> in an orderable form - so that I can effectively do a ordered  
> search using
> this field as the sort field.
>
> Is there anyway to limit the number of hits returned in the search  
> to 5 (or
> does it not generate any storage overhead to return them all and  
> just use the
> first 5)

I recommend against using DateField, because it's granularity is down  
to the millisecond and has some nuances to it, but there are a few  
options to doing what you want.  Use a date field as YYYYMMDD format  
instead (unless you need a time also).

1) Documents in Lucene are in order of insertion, so if you're  
inserting them in chronological order, you could simply direct access  
the last five documents without a search.  2) There is no (well,  
minimal) storage overhead in doing a full search and only getting the  
most recent 5 documents, provided you sort the search by the date  
field.  3) There are expert-level search() methods that do allow  
limiting to N number of results, but that isn't really necessary (see  
javadocs for details - they literally are marked as "expert").

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 07:17:42 2005
Return-Path: <java-user-return-17694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57633 invoked from network); 24 Nov 2005 07:17:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 07:17:42 -0000
Received: (qmail 84768 invoked by uid 500); 24 Nov 2005 07:17:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84539 invoked by uid 500); 24 Nov 2005 07:17:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84524 invoked by uid 99); 24 Nov 2005 07:17:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 23:17:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Nov 2005 23:19:06 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 59A4D3AA3
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 08:17:11 +0100 (CET)
Received: from [150.254.130.24] (idss-dw.cs.put.poznan.pl [150.254.130.24])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 3E3963A6F
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 08:17:11 +0100 (CET)
Message-ID: <438568A1.6080005@cs.put.poznan.pl>
Date: Thu, 24 Nov 2005 08:15:45 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search clustering question
References: <450A5F8E4BF26340B4013C40E11ADA080109C8BB@brownbear.nameprotect.com>
In-Reply-To: <450A5F8E4BF26340B4013C40E11ADA080109C8BB@brownbear.nameprotect.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> Does anyone have examples of using Carrot2? I've been looking into it
> lately and am not finding good documentation. 

Carrot2 is a programming framework. Its demos are meant to showcase the 
technology, but you need to delve into the code to actually build 
something of your own.

The manual that should somehow guide you through the installation 
process is at:

http://www.cs.put.poznan.pl/dweiss/carrot/manual/ch08.html#sect:installation

There is also a preconfigured example (0.1rc1) ready to be downloaded 
from SourceForge's file download area (both a stand-alone application 
and a web application).

Finally, if you have problems there are developers willing to help :) 
Subscribe to the newslist and send us a message. We will try to provide 
some support.

Dawid

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 08:44:30 2005
Return-Path: <java-user-return-17695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95359 invoked from network); 24 Nov 2005 08:44:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 08:44:29 -0000
Received: (qmail 76518 invoked by uid 500); 24 Nov 2005 08:44:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76492 invoked by uid 500); 24 Nov 2005 08:44:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76480 invoked by uid 99); 24 Nov 2005 08:44:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 00:44:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lorenzo.viscanti@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 00:45:52 -0800
Received: by zproxy.gmail.com with SMTP id i28so1429109nzi
        for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 00:43:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=miXMHxpcJawCuSLgY4AtlfuyBGFjfRUZbij95ccgsw4yLAXYSI/86sS873VS7s5mKUYRpMp0ec6UZyyIfKZelg+c/iAm1EnIOwmSkgZajSWNGUoUa/LHFTl0+R68aWg2eFjwXP9p/3fQaz6+r1X9xXG+EglniDbJH9TMMFdPq7k=
Received: by 10.36.227.10 with SMTP id z10mr212240nzg;
        Thu, 24 Nov 2005 00:43:59 -0800 (PST)
Received: by 10.36.9.8 with HTTP; Thu, 24 Nov 2005 00:43:59 -0800 (PST)
Message-ID: <e72c67f70511240043k5a8fa6fcj1eb215c8a63fdd2@mail.gmail.com>
Date: Thu, 24 Nov 2005 09:43:59 +0100
From: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search clustering question
In-Reply-To: <1132747462.31134.147.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11096_11202262.1132821839844"
References: <1132747462.31134.147.camel@localhost.localdomain>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11096_11202262.1132821839844
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Clustering is an intensive task. Carrot2 is an excellent framework that
clusters documents and even labels them, and it takes a few seconds (up to
two seconds) to cluster 100 search results snippets.
If you are going to cluster entire documents you'll have to wait longer.
Lorenzo

On 11/23/05, Supreet Sethi <supreet@linux-delhi.org> wrote:
>
> Hi,
>
> For final finish up on work for my project. We intend to do search
> clustering. Now I have already read that there is no clear cut way of
> doing that in lucene.
>
> Wondering, if anyone has tackled this problem with time constraint as
> one issue.
>
> With turn around time of 3 sec clustering 5000 search results by
> different criterion seems like a touch nut
>
> regards
>
> Supreet
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_11096_11202262.1132821839844--

From java-user-return-17696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 11:33:14 2005
Return-Path: <java-user-return-17696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83828 invoked from network); 24 Nov 2005 11:33:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 11:33:12 -0000
Received: (qmail 80531 invoked by uid 500); 24 Nov 2005 11:33:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80499 invoked by uid 500); 24 Nov 2005 11:33:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80488 invoked by uid 99); 24 Nov 2005 11:33:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 03:33:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 03:34:38 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id EBB783AA3
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 12:32:42 +0100 (CET)
Received: from [150.254.130.24] (idss-dw.cs.put.poznan.pl [150.254.130.24])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id C4AB839C2
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 12:32:42 +0100 (CET)
Message-ID: <4385A487.1090503@cs.put.poznan.pl>
Date: Thu, 24 Nov 2005 12:31:19 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search clustering question
References: <1132747462.31134.147.camel@localhost.localdomain> <e72c67f70511240043k5a8fa6fcj1eb215c8a63fdd2@mail.gmail.com>
In-Reply-To: <e72c67f70511240043k5a8fa6fcj1eb215c8a63fdd2@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> clusters documents and even labels them, and it takes a few seconds (up to
> two seconds) to cluster 100 search results snippets.

Thanks for the info, Lorenzo. I'm just a little surprised at the timings 
you gave -- that's on a slow machine, right? On a PIII, 3GHZ the timings 
are between 250ms and 500 miliseconds (open source Lingo clustering 
component). The demo which runs at http://carrot.cs.put.poznan.pl is 
slower because it needs to fetch the results from Yahoo/ Google, then 
cluster them and send it back. That machine is also much slower (PIII, 
750Mhz) and used by other projects. Anybody willing to donate more 
processing power to a university? :)

D.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 14:10:22 2005
Return-Path: <java-user-return-17697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51480 invoked from network); 24 Nov 2005 14:10:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 14:10:22 -0000
Received: (qmail 63630 invoked by uid 500); 24 Nov 2005 14:10:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63601 invoked by uid 500); 24 Nov 2005 14:10:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63590 invoked by uid 99); 24 Nov 2005 14:10:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:10:12 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:11:43 -0800
Received: from ukexfe01.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T74cf04908ac0a82d140e0@uksmtp3.uk.informa.com> for 
    <java-user@lucene.apache.org>; Thu, 24 Nov 2005 14:09:49 +0000
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by 
    ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.211); Thu, 24 
    Nov 2005 14:09:49 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Searching for "keyword" fields using QueryParser
Date: Thu, 24 Nov 2005 14:09:48 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B317A@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Searching for "keyword" fields using QueryParser
Thread-Index: AcXxALr6jaM0MVs6RMuiBJBVHQmooA==
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Nov 2005 14:09:49.0168 (UTC) 
    FILETIME=[BB205700:01C5F100]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Our index has a large text field, and a number of "keyword" fields with
things such as the publication code, article reference and so on.=20

We're analysing using the StandardAnalyzer, which works well. Obviously
the fields which are defined as Field.Keyword don't run through the
analyzer.=20

The problem comes when we search using a QueryParser. If we've inserted
a field using:

Field.Keyword("pubcode"."PUB123");

We then search using=20

Query q =3D QueryParser.parse(query, "text", new StandardAnalyzer());

When we try to search on something like:

"pubcode:PUB123" - the analyzer promptly lowercases the search term, and
we get no hits back.=20

Is there any way to explain that where a search term is being applied
against a field of type Keyword, that it shouldn't be run through the
analyzer?=20

We can get around this by creating separate Query objects and joining
them with a BooleanQuery, but we were hoping to be able to handle all of
our queries using QueryParser so that we could easily store queries as
String objects.=20

Cheers,

Tim.



***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 14:51:29 2005
Return-Path: <java-user-return-17698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74794 invoked from network); 24 Nov 2005 14:51:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 14:51:29 -0000
Received: (qmail 10358 invoked by uid 500); 24 Nov 2005 14:51:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10333 invoked by uid 500); 24 Nov 2005 14:51:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10322 invoked by uid 99); 24 Nov 2005 14:51:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:51:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:52:50 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 38EC013E2006; Thu, 24 Nov 2005 09:50:55 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 9192C13E2007
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 09:50:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A1B317A@UKEXBE01.UK.CorpLAN.net>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A1B317A@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5FC7F806-D76D-416A-9AB3-34821103A5A7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching for "keyword" fields using QueryParser
Date: Thu, 24 Nov 2005 09:51:14 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tim,

The trick is to use PerFieldAnalyzerWrapper with QueryParser, using  
StandardAnalyzer as the default, and using KeywordAnalyzer for each  
of the fields that should not be analyzed.  KeywordAnalyzer is in the  
trunk of Subversion right now, not in a released version.

	<http://svn.apache.org/repos/asf/lucene/java/trunk/src/java/org/ 
apache/lucene/analysis/KeywordAnalyzer.java>

It was developed for Lucene in Action also, so it is in that codebase  
which you can download from http://www.lucenebook.com

Keep in mind that QueryParser may still interfere with keyword fields  
if there are characters in them that are special to the parser, such  
as parenthesis.

	Erik



On 24 Nov 2005, at 09:09, <Tim.Wright@informa.com>  
<Tim.Wright@informa.com> wrote:

> Hi,
>
> Our index has a large text field, and a number of "keyword" fields  
> with
> things such as the publication code, article reference and so on.
>
> We're analysing using the StandardAnalyzer, which works well.  
> Obviously
> the fields which are defined as Field.Keyword don't run through the
> analyzer.
>
> The problem comes when we search using a QueryParser. If we've  
> inserted
> a field using:
>
> Field.Keyword("pubcode"."PUB123");
>
> We then search using
>
> Query q = QueryParser.parse(query, "text", new StandardAnalyzer());
>
> When we try to search on something like:
>
> "pubcode:PUB123" - the analyzer promptly lowercases the search  
> term, and
> we get no hits back.
>
> Is there any way to explain that where a search term is being applied
> against a field of type Keyword, that it shouldn't be run through the
> analyzer?
>
> We can get around this by creating separate Query objects and joining
> them with a BooleanQuery, but we were hoping to be able to handle  
> all of
> our queries using QueryParser so that we could easily store queries as
> String objects.
>
> Cheers,
>
> Tim.
>
>
>
> ********************************************************************** 
> **********
> The information contained in this email message may be  
> confidential. If you are not the intended recipient, any use,  
> interference with, disclosure or copying of this material is  
> unauthorised and prohibited. Although this message and any  
> attachments are believed to be free of viruses, no responsibility  
> is accepted by Informa for any loss or damage arising in any way  
> from receipt or use thereof.  Messages to and from the company are  
> monitored for operational reasons and in accordance with lawful  
> business practices.
> If you have received this message in error, please notify us by  
> return and delete the message and any attachments.  Further  
> enquiries/returns can be sent to postmaster@informa.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 14:56:41 2005
Return-Path: <java-user-return-17699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76807 invoked from network); 24 Nov 2005 14:56:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 14:56:41 -0000
Received: (qmail 14226 invoked by uid 500); 24 Nov 2005 14:56:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14199 invoked by uid 500); 24 Nov 2005 14:56:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14188 invoked by uid 99); 24 Nov 2005 14:56:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:56:35 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 06:58:05 -0800
Received: from ukexfe02.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com
 (Content Technologies SMTPRS 4.3.19) with ESMTP id <T74cf2ec21fc0a82d140e0@uksmtp3.uk.informa.com> for <java-user@lucene.apache.org>;
 Thu, 24 Nov 2005 14:55:54 +0000
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.211);
	 Thu, 24 Nov 2005 14:55:51 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching for "keyword" fields using QueryParser
Date: Thu, 24 Nov 2005 14:55:51 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B317C@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching for "keyword" fields using QueryParser
Thread-Index: AcXxBo9u10+aLM/nQHGFGA2u2XknhwAAI+Jw
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Nov 2005 14:55:51.0926 (UTC) FILETIME=[29DBC160:01C5F107]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Excellent, that's exactly what I needed. Many thanks!

Cheers,

Tim.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 24 November 2005 14:51
To: java-user@lucene.apache.org
Subject: Re: Searching for "keyword" fields using QueryParser


Tim,

The trick is to use PerFieldAnalyzerWrapper with QueryParser, using =20
StandardAnalyzer as the default, and using KeywordAnalyzer for each =20
of the fields that should not be analyzed.  KeywordAnalyzer is in the =20
trunk of Subversion right now, not in a released version.

	<http://svn.apache.org/repos/asf/lucene/java/trunk/src/java/org/

apache/lucene/analysis/KeywordAnalyzer.java>

It was developed for Lucene in Action also, so it is in that codebase =20
which you can download from http://www.lucenebook.com

Keep in mind that QueryParser may still interfere with keyword fields =20
if there are characters in them that are special to the parser, such =20
as parenthesis.

	Erik



On 24 Nov 2005, at 09:09, <Tim.Wright@informa.com> =20
<Tim.Wright@informa.com> wrote:

> Hi,
>
> Our index has a large text field, and a number of "keyword" fields =20
> with
> things such as the publication code, article reference and so on.
>
> We're analysing using the StandardAnalyzer, which works well. =20
> Obviously
> the fields which are defined as Field.Keyword don't run through the
> analyzer.
>
> The problem comes when we search using a QueryParser. If we've =20
> inserted
> a field using:
>
> Field.Keyword("pubcode"."PUB123");
>
> We then search using
>
> Query q =3D QueryParser.parse(query, "text", new StandardAnalyzer());
>
> When we try to search on something like:
>
> "pubcode:PUB123" - the analyzer promptly lowercases the search =20
> term, and
> we get no hits back.
>
> Is there any way to explain that where a search term is being applied
> against a field of type Keyword, that it shouldn't be run through the
> analyzer?
>
> We can get around this by creating separate Query objects and joining
> them with a BooleanQuery, but we were hoping to be able to handle =20
> all of
> our queries using QueryParser so that we could easily store queries as
> String objects.
>
> Cheers,
>
> Tim.
>
>
>
> **********************************************************************

> **********
> The information contained in this email message may be =20
> confidential. If you are not the intended recipient, any use, =20
> interference with, disclosure or copying of this material is =20
> unauthorised and prohibited. Although this message and any =20
> attachments are believed to be free of viruses, no responsibility =20
> is accepted by Informa for any loss or damage arising in any way =20
> from receipt or use thereof.  Messages to and from the company are =20
> monitored for operational reasons and in accordance with lawful =20
> business practices.
> If you have received this message in error, please notify us by =20
> return and delete the message and any attachments.  Further =20
> enquiries/returns can be sent to postmaster@informa.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 15:56:38 2005
Return-Path: <java-user-return-17700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4542 invoked from network); 24 Nov 2005 15:56:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 15:56:37 -0000
Received: (qmail 5342 invoked by uid 500); 24 Nov 2005 15:56:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5304 invoked by uid 500); 24 Nov 2005 15:56:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5290 invoked by uid 99); 24 Nov 2005 15:56:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 07:56:29 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Arjen.van.der.Weijden@rivm.nl designates 131.224.248.25 as permitted sender)
Received: from [131.224.248.25] (HELO amazone.rivm.nl) (131.224.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 07:58:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by amazone.rivm.nl (Postfix) with ESMTP id 2EB7D29437
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 16:56:06 +0100 (CET)
Received: from amazone.rivm.nl ([127.0.0.1])
 by localhost (amazone [127.0.0.1]) (amavisd-new, port 10026) with ESMTP
 id 24615-04 for <java-user@lucene.apache.org>;
 Thu, 24 Nov 2005 16:56:02 +0100 (CET)
Received: from rivmrh01.rivm.nl (rivmrh01.rivm.nl [131.224.235.77])
	by amazone.rivm.nl (Postfix) with ESMTP id 8457929413
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 16:56:02 +0100 (CET)
In-Reply-To: <OFBC4B8717.5CD043E6-ONC12570C1.0052C0A0-C12570C1.00535B01@urssaf.fr>
Subject: Re: RE how to change scoring tactics?
To: java-user@lucene.apache.org
Cc: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF1FE6E3B5.D2387F61-ONC12570C3.00576608-C12570C3.00578725@notesmail.rivm.nl>
From: Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>
Date: Thu, 24 Nov 2005 16:56:00 +0100
X-MIMETrack: Serialize by Router on RIVMRH01/RIVM/NL(Release 6.5.4FP1|June 19, 2005) at
 24-11-2005 16:56:02
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Scanned: amavisd-new at rivm.nl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Merci beaucoup Bertrand, it works!


salut


Arjen




|---------+---------------------------->
|         |           "Bertrand VENZAL"|
|         |           <bertrand.venzal@|
|         |           cirso.fr>        |
|         |                            |
|         |           11/22/2005 04:07 |
|         |           PM               |
|         |           Please respond to|
|         |           java-user        |
|---------+---------------------------->
  >--------------------------------------------------------------------=
----------------------------------------------------------|
  |                                                                    =
                                                          |
  |       To:       java-user@lucene.apache.org                        =
                                                          |
  |       cc:                                                          =
                                                          |
  |       Subject:  RE how to change scoring tactics?                  =
                                                          |
  >--------------------------------------------------------------------=
----------------------------------------------------------|




Hi,

I had the same problem, I think the easiest is to sort documents after =
the
search process, in this aim you can use the class TermFreqVector and th=
e
function getTermFrequencies to count the number of search phrase.
But maybe there is an other way faster.

Hope this help

Bertrand





Arjen van der Weijden <Arjen.van.der.Weijden@rivm.nl>
22/11/2005 14:38
Veuillez r=E9pondre =E0
java-user@lucene.apache.org


A
java-user@lucene.apache.org
cc

Objet
how to change scoring tactics?






According to the specs. "the scores are normalized by the length of the=

field".
For my application I just need documents to move to the top that have t=
he
highest number of the search-phrase, i.e. scoring without normalization=
.
How do I do this?

cheers,

Arjen
_______________________________________________________________________=
_____


DISCLAIMER:  http://www.rivm.nl/disclaimer.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 16:47:03 2005
Return-Path: <java-user-return-17701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28514 invoked from network); 24 Nov 2005 16:47:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 16:47:03 -0000
Received: (qmail 95404 invoked by uid 500); 24 Nov 2005 16:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95382 invoked by uid 500); 24 Nov 2005 16:46:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95369 invoked by uid 99); 24 Nov 2005 16:46:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:46:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:48:26 -0800
Received: by wproxy.gmail.com with SMTP id i30so1096110wra
        for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 08:46:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ZL8/DrArFqIKQFTIszThXghIUjJ00dHvyTCauMXyIvzsgYVtTmlbl5WLr1Yf7c8u+KX9QJPkSuHWaEeYXva1kiHDPSj2kHoGZmLZekL2foJfRxCUlNrk+SMFu+uqgiWSmUVxHOL9rcl5eCmDC/L5LNMDnkzZeAfvK/93RrB535A=
Received: by 10.64.131.17 with SMTP id e17mr2180097qbd;
        Thu, 24 Nov 2005 08:46:33 -0800 (PST)
Received: by 10.65.186.6 with HTTP; Thu, 24 Nov 2005 08:46:33 -0800 (PST)
Message-ID: <4f9b23800511240846hd847823x@mail.gmail.com>
Date: Thu, 24 Nov 2005 16:46:33 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: http://www.textmining.org/ is "hacked"
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi
I am trying to download the source code for
tm-extractors-0.4.jar
from
http://www.textmining.org/

Looks like the site has been hacked.
Does anyone know the location of the CVS or SVN repository?
Thanks for your help...
Pat

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 16:53:12 2005
Return-Path: <java-user-return-17702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30827 invoked from network); 24 Nov 2005 16:53:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 16:53:12 -0000
Received: (qmail 1900 invoked by uid 500); 24 Nov 2005 16:53:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1151 invoked by uid 500); 24 Nov 2005 16:53:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1137 invoked by uid 99); 24 Nov 2005 16:53:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:53:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.19.178.245] (HELO spirit.infoage.com.br) (65.19.178.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:54:37 -0800
Received: from gui.prosoma (intranet.prosoma.com.br [201.6.252.170])
	by spirit.infoage.com.br (Postfix) with ESMTP id 4C40058741
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 14:52:44 -0200 (BRST)
Subject: Re: http://www.textmining.org/ is "hacked"
From: Guilherme Barile <gui@prosoma.com.br>
To: java-user@lucene.apache.org
In-Reply-To: <4f9b23800511240846hd847823x@mail.gmail.com>
References: <4f9b23800511240846hd847823x@mail.gmail.com>
Content-Type: text/plain
Date: Thu, 24 Nov 2005 14:52:39 -0200
Message-Id: <1132851159.350.1.camel@gui>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have it here, uploaded it to rapidshare
http://rapidshare.de/files/8097202/textmining.zip.html

c ya


On Thu, 2005-11-24 at 16:46 +0000, Patrick Kimber wrote:
> Hi
> I am trying to download the source code for
> tm-extractors-0.4.jar
> from
> http://www.textmining.org/
> 
> Looks like the site has been hacked.
> Does anyone know the location of the CVS or SVN repository?
> Thanks for your help...
> Pat
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 16:58:32 2005
Return-Path: <java-user-return-17703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32391 invoked from network); 24 Nov 2005 16:58:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 16:58:32 -0000
Received: (qmail 6554 invoked by uid 500); 24 Nov 2005 16:58:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5754 invoked by uid 500); 24 Nov 2005 16:58:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5743 invoked by uid 99); 24 Nov 2005 16:58:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:58:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 08:59:56 -0800
Received: by xproxy.gmail.com with SMTP id h29so1418274wxd
        for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 08:58:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LaFgYh9xWGgAGQfvm9uFRV6YNZnskOjW4JAujH6RZgFdZCx/4FnOkvkAYX9z1r0d7zt3eThiK67qfetTZjfcgKfkY9pZ435crWR2H53hUzTE6FIEx6p/jtCdvpROyjbn4luHnNa5itUodV5MxeTc74olA/ZTV727P/mkQ0I0Ivk=
Received: by 10.65.38.4 with SMTP id q4mr7376663qbj;
        Thu, 24 Nov 2005 08:58:03 -0800 (PST)
Received: by 10.65.186.6 with HTTP; Thu, 24 Nov 2005 08:58:03 -0800 (PST)
Message-ID: <4f9b23800511240858j7b392773j@mail.gmail.com>
Date: Thu, 24 Nov 2005 16:58:03 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: http://www.textmining.org/ is "hacked"
In-Reply-To: <1132851159.350.1.camel@gui>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4f9b23800511240846hd847823x@mail.gmail.com>
	 <1132851159.350.1.camel@gui>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the very quick response.

On 24/11/05, Guilherme Barile <gui@prosoma.com.br> wrote:
> I have it here, uploaded it to rapidshare
> http://rapidshare.de/files/8097202/textmining.zip.html
>
> c ya
>
>
> On Thu, 2005-11-24 at 16:46 +0000, Patrick Kimber wrote:
> > Hi
> > I am trying to download the source code for
> > tm-extractors-0.4.jar
> > from
> > http://www.textmining.org/
> >
> > Looks like the site has been hacked.
> > Does anyone know the location of the CVS or SVN repository?
> > Thanks for your help...
> > Pat
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 17:03:25 2005
Return-Path: <java-user-return-17704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34047 invoked from network); 24 Nov 2005 17:03:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 17:03:24 -0000
Received: (qmail 13605 invoked by uid 500); 24 Nov 2005 17:03:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13444 invoked by uid 500); 24 Nov 2005 17:03:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13432 invoked by uid 99); 24 Nov 2005 17:03:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 09:03:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.19.178.245] (HELO spirit.infoage.com.br) (65.19.178.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 09:04:48 -0800
Received: from gui.prosoma (intranet.prosoma.com.br [201.6.252.170])
	by spirit.infoage.com.br (Postfix) with ESMTP id 0058F5875A
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 15:02:54 -0200 (BRST)
Subject: Re: http://www.textmining.org/ is "hacked"
From: Guilherme Barile <gui@prosoma.com.br>
To: java-user@lucene.apache.org
In-Reply-To: <4f9b23800511240858j7b392773j@mail.gmail.com>
References: <4f9b23800511240846hd847823x@mail.gmail.com>
	 <1132851159.350.1.camel@gui>  <4f9b23800511240858j7b392773j@mail.gmail.com>
Content-Type: text/plain
Date: Thu, 24 Nov 2005 15:02:52 -0200
Message-Id: <1132851772.350.4.camel@gui>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have some issues with textmining extracting text from odd word
documents (ok, any .doc file is odd)
The project seems somehow abandoned, and has no clear licence, so if you
wish to improve it (maybe create a dev.java.net project for it) i'd be
glad to help
Also if you find something else (cross platform) for extracting text
from word documents, please let me know

gui

On Thu, 2005-11-24 at 16:58 +0000, Patrick Kimber wrote:
> Thanks for the very quick response.
> 
> On 24/11/05, Guilherme Barile <gui@prosoma.com.br> wrote:
> > I have it here, uploaded it to rapidshare
> > http://rapidshare.de/files/8097202/textmining.zip.html
> >
> > c ya
> >
> >
> > On Thu, 2005-11-24 at 16:46 +0000, Patrick Kimber wrote:
> > > Hi
> > > I am trying to download the source code for
> > > tm-extractors-0.4.jar
> > > from
> > > http://www.textmining.org/
> > >
> > > Looks like the site has been hacked.
> > > Does anyone know the location of the CVS or SVN repository?
> > > Thanks for your help...
> > > Pat
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 22:51:11 2005
Return-Path: <java-user-return-17705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36268 invoked from network); 24 Nov 2005 22:51:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 22:51:10 -0000
Received: (qmail 91378 invoked by uid 500); 24 Nov 2005 22:51:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91012 invoked by uid 500); 24 Nov 2005 22:51:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91001 invoked by uid 99); 24 Nov 2005 22:51:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 14:51:04 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.241] (HELO web36311.mail.mud.yahoo.com) (209.191.84.241)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Nov 2005 14:52:35 -0800
Received: (qmail 70178 invoked by uid 60001); 24 Nov 2005 22:50:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=U30jeFeKD6BA7SEXYWJXQQJ/uSN9oU3L3Xm5NbtRWZSzTIDwDJ3OV/RcBsm6jzFgvIj5TNc3gmi9167JAC3d3mVt5M2KvodJOTS1lLrgo6q91SODLQF2Qb8B5u/ECQD5J6wdxy0cOyjBvT11xdQsBfgCNgNkx14CYvJPTP+W9kM=  ;
Message-ID: <20051124225042.70176.qmail@web36311.mail.mud.yahoo.com>
Received: from [71.141.234.172] by web36311.mail.mud.yahoo.com via HTTP; Thu, 24 Nov 2005 14:50:42 PST
Date: Thu, 24 Nov 2005 14:50:42 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-923962420-1132872642=:68113"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-923962420-1132872642=:68113
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

 Hi,
   I use Lucene to index stuff that are changed very often but don't need to be real-time to searchers.  e.g. the search result can be changed couple times per minute, but I only need to show the change every 5 minutes or so.  Is it a good idea to save the search result to a database like mysql db, so that searches will load from db directly rather than doing the same search over and over again?   Then after 5 minutes, the system will do the actual search again and then save search result to the db for next 3-5 minutes' searches?
 
 Will it make the server handle heavy load better?   Since most of the access goes into the database server rather than the webserver with java in backend.   Of course, there will be more to implement and maintain.
 
 Many thanks.
 
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-923962420-1132872642=:68113--

From java-user-return-17706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Nov 24 22:55:09 2005
Return-Path: <java-user-return-17706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37805 invoked from network); 24 Nov 2005 22:55:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Nov 2005 22:55:09 -0000
Received: (qmail 552 invoked by uid 500); 24 Nov 2005 22:55:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 529 invoked by uid 500); 24 Nov 2005 22:55:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 518 invoked by uid 99); 24 Nov 2005 22:55:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 14:55:03 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.245] (HELO web36315.mail.mud.yahoo.com) (209.191.84.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Nov 2005 14:56:34 -0800
Received: (qmail 121 invoked by uid 60001); 24 Nov 2005 22:54:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=x+15aXeewwXyN87QvXB0DEzEWuDk/n6aHLF0vkWOb4FaY0ZbbP4jZzBdR8PM3BM1/gQdb5359QjWSwZvhUWfxKw4BSSiCAlKthJELBROixHeMAzj37fu6RjCu0f4ggDy4Aai/XmqX500T1c9QP8Bhx8+REBCHGcvD8JT9ET1nlM=  ;
Message-ID: <20051124225441.119.qmail@web36315.mail.mud.yahoo.com>
Received: from [71.141.234.172] by web36315.mail.mud.yahoo.com via HTTP; Thu, 24 Nov 2005 14:54:41 PST
Date: Thu, 24 Nov 2005 14:54:41 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Re: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
To: java-user@lucene.apache.org
In-Reply-To: <20051124225042.70176.qmail@web36311.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1632656566-1132872881=:98377"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1632656566-1132872881=:98377
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Sorry, actually I meant all search results, not just frequent results.  And there is only one search term per search, it's the stuff that belongs to the search terms change often.  

Victor Lee <victor_emailbox@yahoo.com> wrote:  Hi,
 I use Lucene to index stuff that are changed very often but don't need to be real-time to searchers. e.g. the search result can be changed couple times per minute, but I only need to show the change every 5 minutes or so. Is it a good idea to save the search result to a database like mysql db, so that searches will load from db directly rather than doing the same search over and over again? Then after 5 minutes, the system will do the actual search again and then save search result to the db for next 3-5 minutes' searches?
 
 Will it make the server handle heavy load better? Since most of the access goes into the database server rather than the webserver with java in backend. Of course, there will be more to implement and maintain.
 
 Many thanks.
 
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1632656566-1132872881=:98377--

From java-user-return-17707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 01:33:53 2005
Return-Path: <java-user-return-17707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79356 invoked from network); 25 Nov 2005 01:33:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 01:33:53 -0000
Received: (qmail 45239 invoked by uid 500); 25 Nov 2005 01:33:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45199 invoked by uid 500); 25 Nov 2005 01:33:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45188 invoked by uid 99); 25 Nov 2005 01:33:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 17:33:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 17:35:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 49FD313E2005; Thu, 24 Nov 2005 20:33:26 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id BDF0E13E2005
	for <java-user@lucene.apache.org>; Thu, 24 Nov 2005 20:33:21 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051124225441.119.qmail@web36315.mail.mud.yahoo.com>
References: <20051124225441.119.qmail@web36315.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1C6EAB04-72E2-429D-B68D-52B7A838556B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
Date: Thu, 24 Nov 2005 20:33:50 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How fast are your searches currently?  With just a pure  
searcher.search(Query) using a basic query type like TermQuery, I  
very seriously doubt you'd beat MySQL performance.  What kind of  
Query are you using for your searches?

	Erik


On 24 Nov 2005, at 17:54, Victor Lee wrote:

> Sorry, actually I meant all search results, not just frequent  
> results.  And there is only one search term per search, it's the  
> stuff that belongs to the search terms change often.
>
> Victor Lee <victor_emailbox@yahoo.com> wrote:  Hi,
>  I use Lucene to index stuff that are changed very often but don't  
> need to be real-time to searchers. e.g. the search result can be  
> changed couple times per minute, but I only need to show the change  
> every 5 minutes or so. Is it a good idea to save the search result  
> to a database like mysql db, so that searches will load from db  
> directly rather than doing the same search over and over again?  
> Then after 5 minutes, the system will do the actual search again  
> and then save search result to the db for next 3-5 minutes' searches?
>
>  Will it make the server handle heavy load better? Since most of  
> the access goes into the database server rather than the webserver  
> with java in backend. Of course, there will be more to implement  
> and maintain.
>
>  Many thanks.
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 03:48:29 2005
Return-Path: <java-user-return-17708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18933 invoked from network); 25 Nov 2005 03:48:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 03:48:29 -0000
Received: (qmail 8376 invoked by uid 500); 25 Nov 2005 03:48:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8343 invoked by uid 500); 25 Nov 2005 03:48:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8332 invoked by uid 99); 25 Nov 2005 03:48:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 19:48:23 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.236] (HELO web36306.mail.mud.yahoo.com) (209.191.84.236)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Nov 2005 19:49:54 -0800
Received: (qmail 10598 invoked by uid 60001); 25 Nov 2005 03:48:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Qpltgmqu1cL9i8ksJ/Iyl1/QTQCbqmY3TIs/skKvkNEPGV9xsRoRQifEAcTC+vOXyv0OdN9nSOVZIOTQYqOKvDkRDJYGDV8l2j2s1R+mu6PjdqxXd+2GzynLPauC3I18AgCtOg+q+X605QvBFlsrtHYT0irqb/TgpqU7+kY/kyM=  ;
Message-ID: <20051125034801.10592.qmail@web36306.mail.mud.yahoo.com>
Received: from [71.141.234.172] by web36306.mail.mud.yahoo.com via HTTP; Thu, 24 Nov 2005 19:48:01 PST
Date: Thu, 24 Nov 2005 19:48:01 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Re: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
To: java-user@lucene.apache.org
In-Reply-To: <1C6EAB04-72E2-429D-B68D-52B7A838556B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-623392878-1132890481=:9117"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-623392878-1132890481=:9117
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

No, I am in the middle of development, actually more like design phase.  So I don't know the speed of my searches.  The final product will have heavy load on SELECT query if using database with possibility of joining 2 tables.  I don't worry about speed of searches during light traffic.  I am worry about what happens during heavy load.  
 
 For a simple example, if I am doing SELECT a, b, c, d FROM mytable WHERE e = hello in a mysql database.  And if I am doing the same thing in Lucene by search "hello" in index and make it return a,b,c,d.  And I do all these continuously to simulate heavy load.  Which one is more likely to have more queries per second?  I think it would be mysql based on what I read on their benchmarks on the web.  what do you think?

Erik Hatcher <erik@ehatchersolutions.com> wrote: How fast are your searches currently?  With just a pure  
searcher.search(Query) using a basic query type like TermQuery, I  
very seriously doubt you'd beat MySQL performance.  What kind of  
Query are you using for your searches?

 Erik


On 24 Nov 2005, at 17:54, Victor Lee wrote:

> Sorry, actually I meant all search results, not just frequent  
> results.  And there is only one search term per search, it's the  
> stuff that belongs to the search terms change often.
>
> Victor Lee  wrote:  Hi,
>  I use Lucene to index stuff that are changed very often but don't  
> need to be real-time to searchers. e.g. the search result can be  
> changed couple times per minute, but I only need to show the change  
> every 5 minutes or so. Is it a good idea to save the search result  
> to a database like mysql db, so that searches will load from db  
> directly rather than doing the same search over and over again?  
> Then after 5 minutes, the system will do the actual search again  
> and then save search result to the db for next 3-5 minutes' searches?
>
>  Will it make the server handle heavy load better? Since most of  
> the access goes into the database server rather than the webserver  
> with java in backend. Of course, there will be more to implement  
> and maintain.
>
>  Many thanks.
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-623392878-1132890481=:9117--

From java-user-return-17709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 05:41:48 2005
Return-Path: <java-user-return-17709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56677 invoked from network); 25 Nov 2005 05:41:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 05:41:48 -0000
Received: (qmail 75594 invoked by uid 500); 25 Nov 2005 05:41:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75559 invoked by uid 500); 25 Nov 2005 05:41:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75548 invoked by uid 99); 25 Nov 2005 05:41:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 21:41:42 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DNS_FROM_RFC_DSN,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Nov 2005 21:43:13 -0800
Received: from 221.134.160.8 with HTTP
 by webserver acusis.com (10.12.0.174) ; Fri, 25 Nov 2005 00:52:50 EST
Date: Fri, 25 Nov 2005 00:52:50 -0500
Message-Id: <200511250052.AA335282490@acusis.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Manish.Chowdhary" <Manish.Chowdhary@acusis.com>
Reply-To: <Manish.Chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: Batch deletions of Records from index
X-Mailer: <IMail v8.20>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hii erik and other gurus,

I have a big index with millions of document where every indexed document points to some system files and database rows.
we are archiving the system files and database rows older then three months.

Need is to device a solution that will delete all the old records ( three months).
I tried keeping the record of Docid's added but that is not really helping cause number of record added can vary.
one solution can be indexing the date of index also but i can not alter the index now.

Thanks in Advance
~Manish
 

 




________________________________________________________________
Sent via the WebMail system at acusis.com


 
                   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 08:24:59 2005
Return-Path: <java-user-return-17710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19969 invoked from network); 25 Nov 2005 08:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 08:24:59 -0000
Received: (qmail 98136 invoked by uid 500); 25 Nov 2005 08:24:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97945 invoked by uid 500); 25 Nov 2005 08:24:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97934 invoked by uid 99); 25 Nov 2005 08:24:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 00:24:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 00:26:22 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B8AD313E2005; Fri, 25 Nov 2005 03:24:29 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id B0BF413E2005
	for <java-user@lucene.apache.org>; Fri, 25 Nov 2005 03:24:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051125034801.10592.qmail@web36306.mail.mud.yahoo.com>
References: <20051125034801.10592.qmail@web36306.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C48D08DC-1FA3-4E3C-B83C-77320503CD8C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
Date: Fri, 25 Nov 2005 03:24:41 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Speculating about a possible future performance issue is like  
predicting the weather.

You need to measure and find out given your data and how you want to  
architect your index, and of course it is hardware and software (in  
how you use Lucene) dependent too.  Doing a search with Lucene is  
different than a SQL SELECT... you don't actually get the data back  
immediately from a search, so you'd fetch the actual documents, which  
very likely is only the top 20 or so at a time.

If I was a betting man, I'd put my money on Lucene beating MySQL in  
the TermQuery scenario you described (e=hello) ;)   But you'd be wise  
to step out of design mode and get some real-world tests going.  And  
even if there is a performance difference, we're talking milliseconds  
most likely.

	Erik


On 24 Nov 2005, at 22:48, Victor Lee wrote:

> No, I am in the middle of development, actually more like design  
> phase.  So I don't know the speed of my searches.  The final  
> product will have heavy load on SELECT query if using database with  
> possibility of joining 2 tables.  I don't worry about speed of  
> searches during light traffic.  I am worry about what happens  
> during heavy load.
>
>  For a simple example, if I am doing SELECT a, b, c, d FROM mytable  
> WHERE e = hello in a mysql database.  And if I am doing the same  
> thing in Lucene by search "hello" in index and make it return  
> a,b,c,d.  And I do all these continuously to simulate heavy load.   
> Which one is more likely to have more queries per second?  I think  
> it would be mysql based on what I read on their benchmarks on the  
> web.  what do you think?
>
> Erik Hatcher <erik@ehatchersolutions.com> wrote: How fast are your  
> searches currently?  With just a pure
> searcher.search(Query) using a basic query type like TermQuery, I
> very seriously doubt you'd beat MySQL performance.  What kind of
> Query are you using for your searches?
>
>  Erik
>
>
> On 24 Nov 2005, at 17:54, Victor Lee wrote:
>
>> Sorry, actually I meant all search results, not just frequent
>> results.  And there is only one search term per search, it's the
>> stuff that belongs to the search terms change often.
>>
>> Victor Lee  wrote:  Hi,
>>  I use Lucene to index stuff that are changed very often but don't
>> need to be real-time to searchers. e.g. the search result can be
>> changed couple times per minute, but I only need to show the change
>> every 5 minutes or so. Is it a good idea to save the search result
>> to a database like mysql db, so that searches will load from db
>> directly rather than doing the same search over and over again?
>> Then after 5 minutes, the system will do the actual search again
>> and then save search result to the db for next 3-5 minutes' searches?
>>
>>  Will it make the server handle heavy load better? Since most of
>> the access goes into the database server rather than the webserver
>> with java in backend. Of course, there will be more to implement
>> and maintain.
>>
>>  Many thanks.
>>
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam?  Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam?  Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 08:27:11 2005
Return-Path: <java-user-return-17711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20802 invoked from network); 25 Nov 2005 08:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 08:27:11 -0000
Received: (qmail 3617 invoked by uid 500); 25 Nov 2005 08:27:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3493 invoked by uid 500); 25 Nov 2005 08:27:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3481 invoked by uid 99); 25 Nov 2005 08:27:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 00:27:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 00:28:36 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 82A055B794; Fri, 25 Nov 2005 00:26:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 7CEA77F475; Fri, 25 Nov 2005 00:26:43 -0800 (PST)
Date: Fri, 25 Nov 2005 00:26:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, Manish.Chowdhary@acusis.com
Subject: Re: Batch deletions of Records from index
In-Reply-To: <200511250052.AA335282490@acusis.com>
Message-ID: <Pine.LNX.4.58.0511250004001.688@hal.rescomp.berkeley.edu>
References: <200511250052.AA335282490@acusis.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



: Need is to device a solution that will delete all the old records (
: three months). I tried keeping the record of Docid's added but that is
: not really helping cause number of record added can vary. one solution
: can be indexing the date of index also but i can not alter the index
: now.

well, in order to delete "old" records, you're going to need some way to
quantify "old" at the moment you want to do the deletes.  If you had a
date in the index, that would be helpful -- but as long as you've got
*some* indexed field restriction you can use to specify the docs, you can
get the docIds to delete.

if you look at the way IndexReader.delete(Term) is implimented, you can
see how easy it is to do if you have a unique Term you wanted to use.  if
you had a date range (or any lexical string range) you can do something
almost as simple using a TermEnum/TermDoc combo (take a look at the way
RangeFilter works for example)

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/index/IndexReader.java?view=markup

Actually... it never really occured to me, but if you take the IndexReader
you're using for doing the delete and used it to construct an
IndexSearcher, you should be able to write a HitCollector that deletes the
docs based on any Query you write.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 10:16:23 2005
Return-Path: <java-user-return-17712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68327 invoked from network); 25 Nov 2005 10:16:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 10:16:21 -0000
Received: (qmail 36616 invoked by uid 500); 25 Nov 2005 10:16:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36595 invoked by uid 500); 25 Nov 2005 10:16:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36584 invoked by uid 99); 25 Nov 2005 10:16:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 02:16:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.40.70] (HELO fluffy.torchbox.com) (81.187.40.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 02:17:41 -0800
Received: from grenache.internal.torchbox.com ([192.168.1.81])
	by fluffy.torchbox.com with esmtp (Exim 4.50)
	id 1EfacN-0002zY-G7
	for java-user@lucene.apache.org; Fri, 25 Nov 2005 10:15:47 +0000
Date: Fri, 25 Nov 2005 10:15:49 +0000 (GMT)
From: Nick Burch <nick@torchbox.com>
X-X-Sender: nick@localhost.localdomain
To: java-user@lucene.apache.org
Subject: Re: http://www.textmining.org/ is "hacked"
In-Reply-To: <1132851772.350.4.camel@gui>
Message-ID: <Pine.LNX.4.64.0511251011590.21869@localhost.localdomain>
References: <4f9b23800511240846hd847823x@mail.gmail.com>  <1132851159.350.1.camel@gui>
  <4f9b23800511240858j7b392773j@mail.gmail.com> <1132851772.350.4.camel@gui>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Spam-Score: -105.9 (---------------------------------------------------)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 24 Nov 2005, Guilherme Barile wrote:
> The project seems somehow abandoned

Ryan (the guy behind it) has gone to work for a firm that has the full 
word format documentation from Microsoft, so he's no longer able to 
contribute to open source projects working with word documents.

> Also if you find something else (cross platform) for extracting text 
> from word documents, please let me know

You can use POI (http://jakarta.apache.org/poi/) to extract text from word 
documents, along with your Excel and PowerPoint files.

The current word code is similar to the textmining stuff (it was also 
written by Ryan). There's snazier word support coming quite soon for POI 
(a company has paid for it, and it's getting open sourced once they sign 
off on it), but you'd have to ask on poi-user for the latest timescale on 
that.

Nick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 12:32:42 2005
Return-Path: <java-user-return-17713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25382 invoked from network); 25 Nov 2005 12:32:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 12:32:42 -0000
Received: (qmail 70016 invoked by uid 500); 25 Nov 2005 12:32:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69985 invoked by uid 500); 25 Nov 2005 12:32:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69974 invoked by uid 99); 25 Nov 2005 12:32:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 04:32:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.204] (HELO smtp814.mail.ukl.yahoo.com) (217.12.12.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 Nov 2005 04:34:05 -0800
Received: (qmail 61537 invoked from network); 25 Nov 2005 12:32:11 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@81.159.12.9 with login)
  by smtp814.mail.ukl.yahoo.com with SMTP; 25 Nov 2005 12:32:11 -0000
Message-ID: <00fd01c5f1bc$3eb76840$0301a8c0@MALCOLM>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Subject: Commit changes
Date: Fri, 25 Nov 2005 12:32:05 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00FA_01C5F1BC.3E7492E0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2527
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00FA_01C5F1BC.3E7492E0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I am not that experienced with Java and am attempting to implement the =
commit method for the IndexReader for the application I'm developing.
I am trying to extend the IndexReader class but it wont let me! Should I =
extend something else as I can't see anything in the api to suggest =
using?

My class is this:

public abstract class commitDelete extends IndexReader {
=20
 protected final void commitIndex() {
 try{
    super.commit();
 }(IOException e){}
   }
 }

Incidentally if I close the index does this commit anyway?
Please help as I'm stumped.
thanks in advance,
Malcolm Clark
------=_NextPart_000_00FA_01C5F1BC.3E7492E0--


From java-user-return-17714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 21:31:33 2005
Return-Path: <java-user-return-17714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55157 invoked from network); 25 Nov 2005 21:31:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 21:31:33 -0000
Received: (qmail 67952 invoked by uid 500); 25 Nov 2005 21:31:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67153 invoked by uid 500); 25 Nov 2005 21:31:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67141 invoked by uid 99); 25 Nov 2005 21:31:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 13:31:27 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.235] (HELO web36305.mail.mud.yahoo.com) (209.191.84.235)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 Nov 2005 13:32:58 -0800
Received: (qmail 51078 invoked by uid 60001); 25 Nov 2005 21:31:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JWn+UjJ3Z2p4g5Ch+LRPmDhVr2JV12UsU5dTM7yEvMc9VEul9u8t45fswjhHCIFsonC+JCMLGKag6gdSLDn785uCghgC3GEvVPwB2qdiKpRkxFxy6u+6WbXbsGec0jnX03iM09S5/uJZxAEuKXs4CtWm/+f5lj8QOsGC0dwie1c=  ;
Message-ID: <20051125213103.51076.qmail@web36305.mail.mud.yahoo.com>
Received: from [71.141.234.172] by web36305.mail.mud.yahoo.com via HTTP; Fri, 25 Nov 2005 13:31:03 PST
Date: Fri, 25 Nov 2005 13:31:03 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: Re: Is It a Good Idea to Save Frequently Search Results in Database to Make It Faster?
To: java-user@lucene.apache.org
In-Reply-To: <C48D08DC-1FA3-4E3C-B83C-77320503CD8C@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1849750450-1132954263=:21781"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1849750450-1132954263=:21781
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Actually, I am planning to use the exact kinds of queries Nutch is using, except that I am using memoryindex.  So I am match a bunch of queries to a single page, so it's almost exactly like Nutch except doing it in the opposite way.  So I think that it's more intense than TermQuery.  
 
 What do you think?

Erik Hatcher <erik@ehatchersolutions.com> wrote: Speculating about a possible future performance issue is like  
predicting the weather.

You need to measure and find out given your data and how you want to  
architect your index, and of course it is hardware and software (in  
how you use Lucene) dependent too.  Doing a search with Lucene is  
different than a SQL SELECT... you don't actually get the data back  
immediately from a search, so you'd fetch the actual documents, which  
very likely is only the top 20 or so at a time.

If I was a betting man, I'd put my money on Lucene beating MySQL in  
the TermQuery scenario you described (e=hello) ;)   But you'd be wise  
to step out of design mode and get some real-world tests going.  And  
even if there is a performance difference, we're talking milliseconds  
most likely.

 Erik


On 24 Nov 2005, at 22:48, Victor Lee wrote:

> No, I am in the middle of development, actually more like design  
> phase.  So I don't know the speed of my searches.  The final  
> product will have heavy load on SELECT query if using database with  
> possibility of joining 2 tables.  I don't worry about speed of  
> searches during light traffic.  I am worry about what happens  
> during heavy load.
>
>  For a simple example, if I am doing SELECT a, b, c, d FROM mytable  
> WHERE e = hello in a mysql database.  And if I am doing the same  
> thing in Lucene by search "hello" in index and make it return  
> a,b,c,d.  And I do all these continuously to simulate heavy load.   
> Which one is more likely to have more queries per second?  I think  
> it would be mysql based on what I read on their benchmarks on the  
> web.  what do you think?
>
> Erik Hatcher  wrote: How fast are your  
> searches currently?  With just a pure
> searcher.search(Query) using a basic query type like TermQuery, I
> very seriously doubt you'd beat MySQL performance.  What kind of
> Query are you using for your searches?
>
>  Erik
>
>
> On 24 Nov 2005, at 17:54, Victor Lee wrote:
>
>> Sorry, actually I meant all search results, not just frequent
>> results.  And there is only one search term per search, it's the
>> stuff that belongs to the search terms change often.
>>
>> Victor Lee  wrote:  Hi,
>>  I use Lucene to index stuff that are changed very often but don't
>> need to be real-time to searchers. e.g. the search result can be
>> changed couple times per minute, but I only need to show the change
>> every 5 minutes or so. Is it a good idea to save the search result
>> to a database like mysql db, so that searches will load from db
>> directly rather than doing the same search over and over again?
>> Then after 5 minutes, the system will do the actual search again
>> and then save search result to the db for next 3-5 minutes' searches?
>>
>>  Will it make the server handle heavy load better? Since most of
>> the access goes into the database server rather than the webserver
>> with java in backend. Of course, there will be more to implement
>> and maintain.
>>
>>  Many thanks.
>>
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam?  Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam?  Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-1849750450-1132954263=:21781--

From java-user-return-17715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Nov 25 22:37:19 2005
Return-Path: <java-user-return-17715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70306 invoked from network); 25 Nov 2005 22:37:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Nov 2005 22:37:19 -0000
Received: (qmail 35225 invoked by uid 500); 25 Nov 2005 22:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35183 invoked by uid 500); 25 Nov 2005 22:37:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35170 invoked by uid 99); 25 Nov 2005 22:37:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 14:37:13 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jd2810@gmail.com designates 64.233.184.207 as permitted sender)
Received: from [64.233.184.207] (HELO wproxy.gmail.com) (64.233.184.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Nov 2005 14:38:44 -0800
Received: by wproxy.gmail.com with SMTP id i7so1874848wra
        for <java-user@lucene.apache.org>; Fri, 25 Nov 2005 14:36:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=erIwWSl2yCJngv4p6wme053jSBJF2OqgY3GFBhZoh+mA5PiYGdN3leXAgXBh69hLMXXN5BENSVWcQlvf41lUUEf8hplwIPEd28FDspSKMnHQ5qpehfsPhnpkpDotH0zRgHuV6eXScfm3J+HTe+dnQnYY7z8DsQ5+kRe8cwFixAc=
Received: by 10.54.95.18 with SMTP id s18mr5549135wrb;
        Fri, 25 Nov 2005 14:36:52 -0800 (PST)
Received: by 10.54.108.6 with HTTP; Fri, 25 Nov 2005 14:36:52 -0800 (PST)
Message-ID: <e72f06500511251436p572d7a80g456f82c07859cc85@mail.gmail.com>
Date: Fri, 25 Nov 2005 17:36:52 -0500
From: Srinivas Jadcharla <jd2810@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene Installation With Eclipse
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16021_1643477.1132958212433"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16021_1643477.1132958212433
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGkgIGkganVzdCBzdGFydGVkIGxlYXJuaW5nIEx1Y2VuZSAsIGkgaGF2ZSBhIHZlcnkgYmFzaWMg
cXVlc3Rpb24gdGhhdCBob3cKY2FuIGkgaW50ZWdyYXRlIEx1Y2VuZSB3aXRoIEVjbGlwc2UgLkFu
eSBoZWxwIGlzIG11Y2ggYXBwcmVjaWF0ZWQKCi0tClRoYW5rcyAmIFJlZ2FyZHMKClNyaW5pdmFz
CjczMi02NDgtOTQyMShDZWxsKQo=
------=_Part_16021_1643477.1132958212433--

From java-user-return-17716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 26 12:29:45 2005
Return-Path: <java-user-return-17716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60307 invoked from network); 26 Nov 2005 12:29:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Nov 2005 12:29:44 -0000
Received: (qmail 89974 invoked by uid 500); 26 Nov 2005 12:29:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89942 invoked by uid 500); 26 Nov 2005 12:29:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89931 invoked by uid 99); 26 Nov 2005 12:29:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 04:29:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.217.128.51] (HELO unimail.uni-dortmund.de) (129.217.128.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 04:31:09 -0800
Received: from ls10pc13.cs.uni-dortmund.de (ls10pc13.cs.uni-dortmund.de [129.217.40.203])
	(authenticated bits=0)
	by unimail.uni-dortmund.de (8.13.4/8.13.4) with ESMTP id jAQCT6LW024436
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Sat, 26 Nov 2005 13:29:11 +0100 (CET)
Subject: Intersect two indices
From: Sebastian Menge <sebastian.menge@uni-dortmund.de>
To: java-user@lucene.apache.org
Content-Type: text/plain
Date: Sat, 26 Nov 2005 13:29:01 +0100
Message-Id: <1133008142.28177.21.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 
Content-Transfer-Encoding: 7bit
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (Wertung=-4.265, benoetigt 5,
	autolearn=not spam, ALL_TRUSTED, AWL, BAYES_00)
X-MailScanner-From: sebastian.menge@uni-dortmund.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hey all!

Im interested in intersecting two indices. Or more exactly, I only want
those terms of index A that also occur in index B.

How could i do that (efficiently)?

Sebastian.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 26 15:10:40 2005
Return-Path: <java-user-return-17717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 859 invoked from network); 26 Nov 2005 15:10:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Nov 2005 15:10:40 -0000
Received: (qmail 66218 invoked by uid 500); 26 Nov 2005 15:10:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66185 invoked by uid 500); 26 Nov 2005 15:10:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66174 invoked by uid 99); 26 Nov 2005 15:10:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 07:10:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alan@chandlerfamily.org.uk designates 195.188.213.5 as permitted sender)
Received: from [195.188.213.5] (HELO smtp-out2.blueyonder.co.uk) (195.188.213.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 07:12:04 -0800
Received: from home.chandlerfamily.org.uk ([82.44.22.127]) by smtp-out2.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Sat, 26 Nov 2005 15:11:04 +0000
Received: from kanger.home ([192.168.0.21])
	by home.chandlerfamily.org.uk with esmtp (Exim 4.50)
	id 1Eg1go-0006po-DB
	for java-user@lucene.apache.org; Sat, 26 Nov 2005 15:10:10 +0000
From: Alan Chandler <alan@chandlerfamily.org.uk>
To: java-user@lucene.apache.org
Subject: Question of strategy with respect to multiple field types within one piece of a document
Date: Sat, 26 Nov 2005 15:10:12 +0000
User-Agent: KMail/1.8.2
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511261510.13001.alan@chandlerfamily.org.uk>
X-OriginalArrivalTime: 26 Nov 2005 15:11:04.0939 (UTC) FILETIME=[9EE1FBB0:01C5F29B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am trying to think through the approach I should take to build my blog using 
lucene (see thread above "Searching Textile Documents").

As you can see from that thread, I am thinking of making the body of my 
"Document" a coded form of text which ultimately gets translated into html.  
So I am currently thinking through what a parser might have to do to 
translate from my form of text (probably not textile as mentioned in that 
thread - but something which I can customise to my own needs).

I am planing that the lexical tokenizer will produce a series of tokens that 
contain (amongst others) tokens of the form <WORDS> or<URL>types (URLs will 
NOT be broken into WORDS).

I think I can then make the parser, depending on which non terminal element 
you call parse the article bodies in such a way that the parser will will 
either produce the html or produce a list of embedded URLs, or a list of 
embedded WORDS. 

(I am currently considering using Antlr rather than JavaCC - but that is not 
fixed in stone)

I would like to use lucene in two (actually several more, but two related to 
this question) ways.
 i	Search for words (suitably stopped and  filtered) based on the <WORDS> 
tokens passed from the lexical tokenizer
ii	List the <URL,s> refered to in a given document.

I have been trying to understand the demo which parses and loads html 
documents

So some questions

a) The HTML document demo doesn't seem to use the Analyser to determine what 
gets indexed, but to rather control the process by determining what happens 
inside the Document.add Field calls.  Is this the better way of doing things, 
rather than somehow interfacing the Analyzer into my grammer parser?  If I 
need to interface into the parser, how?

b) I assume I will want to create two separate Document Fields with the 
original content (a String named content) being the first of type  
Text("content", String content), and the second for the urls being of type 
Unstored("url", String urls), where the urls are those from the article body.  
The HTML document demo seems to do something equivalent via a complex 
mechanism of multithreading.  I think that one way I could do it would be 
simply re-parse twice - is there any reason why the demo took this complex 
route rather than the simple one of parsing twice?.

c) An alternative way of doing the whole thing - might be to do Document.add 
calls inside the lexical tokenizer.  Since I can add the field with the same 
name multiple times, the javadoc says the new content is just appended.   Are 
there any downsides to this approach?  Can I still store the whole document 
this way - by adding all lexical tokens to one of the field names (presumably 
of type keyword - field name "content") and using field name "urls" of type 
(? can't see how to set the field type to indexed, not stored, not tokenized)
  
-- 
Alan Chandler
http://www.chandlerfamily.org.uk
Open Source. It's the difference between trust and antitrust.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Nov 26 22:18:24 2005
Return-Path: <java-user-return-17718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99514 invoked from network); 26 Nov 2005 22:18:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Nov 2005 22:18:24 -0000
Received: (qmail 24867 invoked by uid 500); 26 Nov 2005 22:18:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24830 invoked by uid 500); 26 Nov 2005 22:18:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24817 invoked by uid 99); 26 Nov 2005 22:18:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 14:18:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 14:19:47 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 183605B7B1; Sat, 26 Nov 2005 14:17:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1546C7F49C
	for <java-user@lucene.apache.org>; Sat, 26 Nov 2005 14:17:53 -0800 (PST)
Date: Sat, 26 Nov 2005 14:17:52 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Intersect two indices
In-Reply-To: <1133008142.28177.21.camel@localhost>
Message-ID: <Pine.LNX.4.58.0511261410470.1552@hal.rescomp.berkeley.edu>
References: <1133008142.28177.21.camel@localhost>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Im interested in intersecting two indices. Or more exactly, I only want
: those terms of index A that also occur in index B.
:
: How could i do that (efficiently)?

look at the TermEnum class, and the IndexReader.terms() method.  It
iterates over the Terms in order.  If you open a reader for each index,
and iterate in sequence it should be easy to get what you want.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 27 05:25:10 2005
Return-Path: <java-user-return-17719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4628 invoked from network); 27 Nov 2005 05:25:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Nov 2005 05:25:09 -0000
Received: (qmail 42622 invoked by uid 500); 27 Nov 2005 05:25:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42592 invoked by uid 500); 27 Nov 2005 05:25:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42581 invoked by uid 99); 27 Nov 2005 05:25:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 21:25:04 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.165.102.68] (HELO web15701.mail.cnb.yahoo.com) (202.165.102.68)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 26 Nov 2005 21:26:33 -0800
Received: (qmail 54221 invoked by uid 60001); 27 Nov 2005 05:24:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.cn;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JNohOE3uwKKGq5xgXGfZ90kZPYD01gJDvUXXDNoNdXiJwaMdRcI/WyUU3hg6Oo8uPOM+x7XfuhbD9o18T88YQN0BOFuCkIkPlWstuqq9HOj5K3M10mtLnk0DQlB6PoIZ5qbsGUfAJ7FXz0jzehgZbKqrcPWBE5xDHB5IFK4zr2Q=  ;
Message-ID: <20051127052401.54219.qmail@web15701.mail.cnb.yahoo.com>
Received: from [192.146.187.113] by web15701.mail.cnb.yahoo.com via HTTP; Sun, 27 Nov 2005 13:24:01 CST
Date: Sun, 27 Nov 2005 13:24:01 +0800 (CST)
From: Jerry Stern <yibingpub@yahoo.com.cn>
Subject: Highlight the searched word when full-text searching performed
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-421263497-1133069041=:53557"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-421263497-1133069041=:53557
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit

Hi all,
  I wonder how to highlight the searched word when full-text searching performed based on Lucene.
  At the indexing stage, the contents of a original file is regarded as a FIELD of a Lucene document:
   private static void indexFile(File file, IndexWriter idxWriter)
 throws IOException {
  System.out.print("Indexing " + file.getCanonicalPath() + " ......");
  
  Document doc = new Document();
  doc.add(Field.Text("path", file.getAbsolutePath()));
  doc.add(Field.Text("contents", new FileReader(file)));
  
  idxWriter.addDocument(doc);
  
  System.out.println("indexed.");
 }

  At the searching stage:
    Highlighter highlighter = new Highlighter(new QueryScorer(query));
  for (int i = 0; i < hits.length(); i++)
  {
   String text = hits.doc(i).get("contents"); // the text = null.

     TokenStream tokenStream = analyzer.tokenStream("path",
     new StringReader(text));
   // Get 3 best fragments and seperate with a "..."
   String result = highlighter.getBestFragments(tokenStream,
     text, 3, "...");
   System.out.println(result);
  }

  The 'contents' field is not stored in index file, and it is not reasonable to store it in index file. So the red line of code can not get the 'contents' field from the index file.
  I think that the 'text' parameter for the Highlighter.getBestFragments(..) method must be the context string of the searched word. So my question is how can I get the context string of the searched word?
   
  Thanks in advance!
   
  Stern Yi

		
---------------------------------
 G
 D  
--0-421263497-1133069041=:53557--

From java-user-return-17720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 27 05:49:55 2005
Return-Path: <java-user-return-17720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11190 invoked from network); 27 Nov 2005 05:49:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Nov 2005 05:49:55 -0000
Received: (qmail 66750 invoked by uid 500); 27 Nov 2005 05:49:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65952 invoked by uid 500); 27 Nov 2005 05:49:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65941 invoked by uid 99); 27 Nov 2005 05:49:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 21:49:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Nov 2005 21:51:20 -0800
Received: from [67.134.154.220] (helo=[127.0.0.1])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1EgFPf2raX-0006UD; Sun, 27 Nov 2005 00:49:28 -0500
Message-ID: <438948DD.2070305@keasdesign.net>
Date: Sun, 27 Nov 2005 00:49:17 -0500
From: Steven Bell <sfbell@keasdesign.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: MS-Word docs.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0547-5, 11/26/2005), Outbound message
X-Antivirus-Status: Clean
X-Provags-ID: perfora.net abuse@perfora.net login:52773c0f198bc7fecf7289b0de31a8ef
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am stumped. I can't seem to get word docs indexed. I have tried both 
POI and textmining libraries to little or no real affect.
I dump the doc files into a text file with the same variable I use in 
the Lucene doc.add(Field.UnStored("content", textStr));| and they look 
fine in the file. However searches return nothing.

Is there a good, solid tutorial on how to best accomplish the indexing 
and searching of word documents?

Thanks.
Steve
|

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Nov 27 17:45:06 2005
Return-Path: <java-user-return-17721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94965 invoked from network); 27 Nov 2005 17:45:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Nov 2005 17:45:04 -0000
Received: (qmail 88847 invoked by uid 500); 27 Nov 2005 17:44:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88420 invoked by uid 500); 27 Nov 2005 17:44:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88332 invoked by uid 99); 27 Nov 2005 17:44:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 09:44:43 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 27 Nov 2005 09:44:51 -0800
Received: (qmail 46167 invoked by uid 60001); 27 Nov 2005 17:16:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=exkI7nIWITtK/KNUlwa+7HzZk/kYhs5eCn8crC/ALZo21GUI7cseIXNti4qvqdWCS9wtEzM4IIuhn6vtICce/Kmo3imEFxRjL8Fe47o+Za2f1iSQ4CjQ068ugLoDhIvDYNWXNY5bgG/Tip9HLLEz4ZCIgb5Q+tLAUj5y6YMOlds=  ;
Message-ID: <20051127171617.46165.qmail@web50309.mail.yahoo.com>
Received: from [69.201.142.21] by web50309.mail.yahoo.com via HTTP; Sun, 27 Nov 2005 09:16:17 PST
Date: Sun, 27 Nov 2005 09:16:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: MS-Word docs.
To: java-user@lucene.apache.org
In-Reply-To: <438948DD.2070305@keasdesign.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Steven,

There is a small ready-to-do framework in Lucene in Action that you can
use to indes MS Word, PDF, RTF, XML, and plain0text docs -
http://lucenebook.com/ .  I suggest you stick with POI libraries, as it
looks like Textmining code is no longer maintained.

Otis

--- Steven Bell <sfbell@keasdesign.net> wrote:

> Hi,
> 
> I am stumped. I can't seem to get word docs indexed. I have tried
> both 
> POI and textmining libraries to little or no real affect.
> I dump the doc files into a text file with the same variable I use in
> 
> the Lucene doc.add(Field.UnStored("content", textStr));| and they
> look 
> fine in the file. However searches return nothing.
> 
> Is there a good, solid tutorial on how to best accomplish the
> indexing 
> and searching of word documents?
> 
> Thanks.
> Steve
> |
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 01:13:11 2005
Return-Path: <java-user-return-17722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14114 invoked from network); 28 Nov 2005 01:13:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 01:13:10 -0000
Received: (qmail 16826 invoked by uid 500); 28 Nov 2005 01:13:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16025 invoked by uid 500); 28 Nov 2005 01:13:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16001 invoked by uid 99); 28 Nov 2005 01:13:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 17:13:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.50.55.251] (HELO file1.syd.nuix.com.au) (210.50.55.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 17:14:34 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 1F30BB7360
	for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 12:12:41 +1100 (EST)
Message-ID: <438A5B2E.7060006@nuix.com.au>
Date: Mon, 28 Nov 2005 12:19:42 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: IndexReader locking
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

While writing a simple stress testing exercise, I came across the 
strange condition that the IndexReader locks the index even though it's 
only supposed to be reading.

Now, I understand that IndexReader can in fact modify the index (no 
matter how unintuitive that is) but it seems to me that a lockfile 
stored on the local machine doesn't protect against modification by 
someone on another machine anyway.

So it seems that either:
    1. it shouldn't bother locking at all, since it isn't protecting the 
index from anything, or
    2. it should put its lockfile in the index directory itself, i.e. a 
place where it will be seen by others who also intend to use the index.

But obviously there was some reason behind this choice, so it would be 
good to know what it was before I go and modify our local copy to work 
differently. :-)

Daniel

-- 
Daniel Noll

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 01:28:36 2005
Return-Path: <java-user-return-17723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17990 invoked from network); 28 Nov 2005 01:28:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 01:28:36 -0000
Received: (qmail 28919 invoked by uid 500); 28 Nov 2005 01:28:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28117 invoked by uid 500); 28 Nov 2005 01:28:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28106 invoked by uid 99); 28 Nov 2005 01:28:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 17:28:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 17:30:01 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AA80A5B81C; Sun, 27 Nov 2005 17:28:09 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A37E97F478
	for <java-user@lucene.apache.org>; Sun, 27 Nov 2005 17:28:09 -0800 (PST)
Date: Sun, 27 Nov 2005 17:28:09 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: MS-Word docs.
In-Reply-To: <438948DD.2070305@keasdesign.net>
Message-ID: <Pine.LNX.4.58.0511271719440.9686@hal.rescomp.berkeley.edu>
References: <438948DD.2070305@keasdesign.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I dump the doc files into a text file with the same variable I use in
: the Lucene doc.add(Field.UnStored("content", textStr));| and they look
: fine in the file. However searches return nothing.

if i'm reading that sentence correctly, then you are saying that you've
tried isolating your MS-Word text extraction from your Lucene indexing and
confirmed that the MS-Word text extraction is working.

This is a very good first step.

Now if you want to be certain that your indexing is working correclty, i
suggest you try using a tool like Luke to check exactly what terms re
being stored in your index.  I'm guessing that the problems you are having
are a result of "analysis paralysis" as i've seen it called many times...

This wiki covers a lot of things you should check...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 02:04:36 2005
Return-Path: <java-user-return-17724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29854 invoked from network); 28 Nov 2005 02:04:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 02:04:35 -0000
Received: (qmail 63084 invoked by uid 500); 28 Nov 2005 02:04:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62811 invoked by uid 500); 28 Nov 2005 02:04:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62617 invoked by uid 99); 28 Nov 2005 02:04:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 18:04:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 18:04:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 605F713E2006; Sun, 27 Nov 2005 21:03:04 -0500 (EST)
Received: from [172.16.1.101] (va-71-51-13-140.dhcp.sprint-hsd.net [71.51.13.140])
	by ehatchersolutions.com (Postfix) with ESMTP id 098CF13E2006
	for <java-user@lucene.apache.org>; Sun, 27 Nov 2005 21:03:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051127052401.54219.qmail@web15701.mail.cnb.yahoo.com>
References: <20051127052401.54219.qmail@web15701.mail.cnb.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <14F10337-2F76-431C-9DD5-ED09FD96E60D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlight the searched word when full-text searching performed
Date: Sun, 27 Nov 2005 21:03:34 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 27 Nov 2005, at 00:24, Jerry Stern wrote:
>   I wonder how to highlight the searched word when full-text  
> searching performed based on Lucene.
>   At the indexing stage, the contents of a original file is  
> regarded as a FIELD of a Lucene document:
>    private static void indexFile(File file, IndexWriter idxWriter)
>  throws IOException {
>   System.out.print("Indexing " + file.getCanonicalPath() + " ......");
>
>   Document doc = new Document();
>   doc.add(Field.Text("path", file.getAbsolutePath()));
>   doc.add(Field.Text("contents", new FileReader(file)));
>
>   idxWriter.addDocument(doc);
>
>   System.out.println("indexed.");
>  }
>
>   At the searching stage:
>     Highlighter highlighter = new Highlighter(new QueryScorer(query));
>   for (int i = 0; i < hits.length(); i++)
>   {
>    String text = hits.doc(i).get("contents"); // the text = null.
>
>      TokenStream tokenStream = analyzer.tokenStream("path",
>      new StringReader(text));
>    // Get 3 best fragments and seperate with a "..."
>    String result = highlighter.getBestFragments(tokenStream,
>      text, 3, "...");
>    System.out.println(result);
>   }
>
>   The 'contents' field is not stored in index file, and it is not  
> reasonable to store it in index file. So the red line of code can  
> not get the 'contents' field from the index file.
>   I think that the 'text' parameter for the  
> Highlighter.getBestFragments(..) method must be the context string  
> of the searched word. So my question is how can I get the context  
> string of the searched word?

In your case, you'll need to get the "path" field (since that is  
being stored) and then load the file into a String to pass to the  
highlighter.  The text to highlight must be stored somewhere, and in  
your case it is on the filesystem only.

Be carefuly - you're highlighting all hits there, which will have  
issues if you get a lot of hits.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 04:28:04 2005
Return-Path: <java-user-return-17725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74492 invoked from network); 28 Nov 2005 04:28:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 04:28:04 -0000
Received: (qmail 94816 invoked by uid 500); 28 Nov 2005 04:27:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94780 invoked by uid 500); 28 Nov 2005 04:27:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94769 invoked by uid 99); 28 Nov 2005 04:27:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 20:27:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 20:29:27 -0800
Received: from [67.134.154.220] (helo=[127.0.0.1])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1Egac13TAN-0006Sv; Sun, 27 Nov 2005 23:27:35 -0500
Message-ID: <438A8753.7030309@keasdesign.net>
Date: Sun, 27 Nov 2005 23:28:03 -0500
From: Steven Bell <sfbell@keasdesign.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: MS-Word docs.
References: <438948DD.2070305@keasdesign.net> <Pine.LNX.4.58.0511271719440.9686@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0511271719440.9686@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0547-5, 11/26/2005), Outbound message
X-Antivirus-Status: Clean
X-Provags-ID: perfora.net abuse@perfora.net login:52773c0f198bc7fecf7289b0de31a8ef
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I did run down the issue. And it's a case of tired coder. I wasn't 
creating a new document object in the method I was using to handle word 
documents.

Thanks very much for the links guys, I appreciate it!

steve.

Chris Hostetter wrote:

>: I dump the doc files into a text file with the same variable I use in
>: the Lucene doc.add(Field.UnStored("content", textStr));| and they look
>: fine in the file. However searches return nothing.
>
>if i'm reading that sentence correctly, then you are saying that you've
>tried isolating your MS-Word text extraction from your Lucene indexing and
>confirmed that the MS-Word text extraction is working.
>
>This is a very good first step.
>
>Now if you want to be certain that your indexing is working correclty, i
>suggest you try using a tool like Luke to check exactly what terms re
>being stored in your index.  I'm guessing that the problems you are having
>are a result of "analysis paralysis" as i've seen it called many times...
>
>This wiki covers a lot of things you should check...
>
>http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 05:04:46 2005
Return-Path: <java-user-return-17726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88371 invoked from network); 28 Nov 2005 05:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 05:04:46 -0000
Received: (qmail 20153 invoked by uid 500); 28 Nov 2005 05:04:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19346 invoked by uid 500); 28 Nov 2005 05:04:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19335 invoked by uid 99); 28 Nov 2005 05:04:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 21:04:40 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.243] (HELO web36313.mail.mud.yahoo.com) (209.191.84.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 27 Nov 2005 21:06:10 -0800
Received: (qmail 57022 invoked by uid 60001); 28 Nov 2005 05:04:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=CEkOWHeCKmkYcKFV35kfy0xN6wcd7H/1C+O/s7aEtuDJZc8LeBclveRhANqMNtTQfOd9oWG7cvg/lAg+mbGv+C7pnVtqOxOGNyvn14IfnmwTsQ5oahv5EFuHAgM5J+YNP8wXX/lB10bYexHhq8HCgTE3jGI9YUGlXaG3yHNujhU=  ;
Message-ID: <20051128050418.57020.qmail@web36313.mail.mud.yahoo.com>
Received: from [71.141.234.172] by web36313.mail.mud.yahoo.com via HTTP; Sun, 27 Nov 2005 21:04:18 PST
Date: Sun, 27 Nov 2005 21:04:18 -0800 (PST)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: How to Use Memoryindex for Lots of Queries With Sort?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-526281196-1133154258=:41686"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-526281196-1133154258=:41686
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
   I am using Memeoryindex as described here: 
 http://dsd.lbl.gov/nux/api/org/apache/lucene/index/memory/MemoryIndex.html .
 
 I am using it to match lots(10 thousands) of queries with one document.  Then I want to rank them based on score and some other variables.  I want to know if there is already a function that can deal with a lot of queries at the same time instead of doing one at a time as described in the link, and also I want to know if there is already a function to rank all the queries with scores.  Of course, I can always use a while loop and implement some kind of simple ranking.  But I just want to find a more efficient way and don't want to reinvent the wheel.
 
 Many thanks.
 

		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-526281196-1133154258=:41686--

From java-user-return-17727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 07:38:15 2005
Return-Path: <java-user-return-17727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40529 invoked from network); 28 Nov 2005 07:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 07:38:14 -0000
Received: (qmail 30981 invoked by uid 500); 28 Nov 2005 07:38:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30957 invoked by uid 500); 28 Nov 2005 07:38:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30946 invoked by uid 99); 28 Nov 2005 07:38:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 23:38:06 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jarraa@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 23:39:37 -0800
Received: by zproxy.gmail.com with SMTP id i1so812289nzh
        for <java-user@lucene.apache.org>; Sun, 27 Nov 2005 23:37:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=FeL6+r5qmHdBe0QO8AhRjPTO73rMXxCOKC8Q4HeSXM/fZRsFpkNWHSTCmzDJkPtN5w8zG9MfWeYJsZJqt6siN/MyzMqujca8NwTuigyiR7cnfMno/vuLwxYaxdCGreUeJVp9sHWEmOnq0G5WNptD+nZaz94JL9npy2ablMp4PLI=
Received: by 10.65.97.2 with SMTP id z2mr1488408qbl;
        Sun, 27 Nov 2005 23:37:45 -0800 (PST)
Received: by 10.65.95.6 with HTTP; Sun, 27 Nov 2005 23:37:44 -0800 (PST)
Message-ID: <4bd3e1480511272337h5d669f45y97e1078d88332bde@mail.gmail.com>
Date: Mon, 28 Nov 2005 00:37:44 -0700
From: Assad Jarrahian <jarraa@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene and DB interactions
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have some specific questions (Using a pure java solution with
PostgreSQL). Any comments/info would be much appreciated.

1) I build an index. Then as the db gets more "documents" inserted
into it, it needs to be added to the index. I was thinking of checking
for X documents (will store in a vector or something) or Y time and
then updating it by opening an IndexWriter on the index.

1.a) Has anybody approached this problem, and if so, how did they do it ?
1.b) For IndexSearcher, I know I have to reinstantiate it (open it),
but how do I do that while still maintaining current search requests?

2) From time to time I rebuild the index (in FS, while the Searcher is
reading the current one in RAM).  And then I swap out the one in RAM.
2.a) Has anybody done this in an automated efficient way? If so, how?

Much thanks in advance.
-assad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 07:53:48 2005
Return-Path: <java-user-return-17728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45996 invoked from network); 28 Nov 2005 07:53:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 07:53:47 -0000
Received: (qmail 49929 invoked by uid 500); 28 Nov 2005 07:53:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49898 invoked by uid 500); 28 Nov 2005 07:53:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49887 invoked by uid 99); 28 Nov 2005 07:53:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Nov 2005 23:53:42 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.165.102.77] (HELO web15710.mail.cnb.yahoo.com) (202.165.102.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 27 Nov 2005 23:55:12 -0800
Received: (qmail 14957 invoked by uid 60001); 28 Nov 2005 07:45:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.cn;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=tp9PhA3XVq7lb7LrFuTfT474g1XqUPrmE69u4DrE8k8hmRVDHwQPvrx5kSk+M/I7wsfjBw9WxIVFGzBCMs23Z0mg+uHZbU8i5xi0xJBjCQjDvN7gD9gapdtnGgVw+sHe2a4D0f0VsfcnjMWvTLVtDFk+At2idzq5iI+zCe4FJHM=  ;
Message-ID: <20051128074522.14955.qmail@web15710.mail.cnb.yahoo.com>
Received: from [192.146.187.113] by web15710.mail.cnb.yahoo.com via HTTP; Sun, 27 Nov 2005 23:45:22 PST
Date: Sun, 27 Nov 2005 23:45:22 -0800 (PST)
From: Jerry Stern <yibingpub@yahoo.com.cn>
Subject: Re: Highlight the searched word when full-text searching performed
To: java-user@lucene.apache.org
In-Reply-To: <14F10337-2F76-431C-9DD5-ED09FD96E60D@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2132183609-1133163922=:14937"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2132183609-1133163922=:14937
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks!
  Yes you're right. Highlight all hits at one time may cause problems. A hits paging method is needed to avoid this.
  Another, if we read the contents of the original file into a string, passing it to the highlighter at the searching stage, this also could cause problems when large original file met. I think we can use a random access method to reduce the string size by locating the searched word, and this may be a general problem needing to be solved.
   
  Stern

Erik Hatcher <erik@ehatchersolutions.com> wrote:
  
On 27 Nov 2005, at 00:24, Jerry Stern wrote:
> I wonder how to highlight the searched word when full-text 
> searching performed based on Lucene.
> At the indexing stage, the contents of a original file is 
> regarded as a FIELD of a Lucene document:
> private static void indexFile(File file, IndexWriter idxWriter)
> throws IOException {
> System.out.print("Indexing " + file.getCanonicalPath() + " ......");
>
> Document doc = new Document();
> doc.add(Field.Text("path", file.getAbsolutePath()));
> doc.add(Field.Text("contents", new FileReader(file)));
>
> idxWriter.addDocument(doc);
>
> System.out.println("indexed.");
> }
>
> At the searching stage:
> Highlighter highlighter = new Highlighter(new QueryScorer(query));
> for (int i = 0; i < hits.length(); i++)
> {
> String text = hits.doc(i).get("contents"); // the text = null.
>
> TokenStream tokenStream = analyzer.tokenStream("path",
> new StringReader(text));
> // Get 3 best fragments and seperate with a "..."
> String result = highlighter.getBestFragments(tokenStream,
> text, 3, "...");
> System.out.println(result);
> }
>
> The 'contents' field is not stored in index file, and it is not 
> reasonable to store it in index file. So the red line of code can 
> not get the 'contents' field from the index file.
> I think that the 'text' parameter for the 
> Highlighter.getBestFragments(..) method must be the context string 
> of the searched word. So my question is how can I get the context 
> string of the searched word?

In your case, you'll need to get the "path" field (since that is 
being stored) and then load the file into a String to pass to the 
highlighter. The text to highlight must be stored somewhere, and in 
your case it is on the filesystem only.

Be carefuly - you're highlighting all hits there, which will have 
issues if you get a lot of hits.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

  


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-2132183609-1133163922=:14937--

From java-user-return-17734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 15:40:21 2005
Return-Path: <java-user-return-17734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3320 invoked from network); 28 Nov 2005 15:40:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 15:40:20 -0000
Received: (qmail 45685 invoked by uid 500); 28 Nov 2005 15:40:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45573 invoked by uid 500); 28 Nov 2005 15:40:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45541 invoked by uid 99); 28 Nov 2005 15:40:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 07:40:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.85] (HELO web86210.mail.ukl.yahoo.com) (217.12.12.85)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 07:42:12 -0800
Received: (qmail 10073 invoked by uid 60001); 28 Nov 2005 15:40:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=o4aW2q/bAeIYAxyk7qCJAeEcco9ARhm4msjkG4Gq5INQ08ZYirrnU2B5669vzbjSxAilA5nr8+TV9ZYYU0Uf6iMHtWUYkUsumOT03xuqncoCt/xFzYgxIlqtsUFlH/Hkzu4kwVroczn9Wrb3/MaSkFuv/7efJODIm/yJGCgJv9s=  ;
Message-ID: <20051128154019.10071.qmail@web86210.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86210.mail.ukl.yahoo.com via HTTP; Mon, 28 Nov 2005 15:40:19 GMT
Date: Mon, 28 Nov 2005 15:40:19 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Commit changes
To: java-user@lucene.apache.org
In-Reply-To: <20051128150824.94117.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1505568036-1133192419=:9469"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1505568036-1133192419=:9469
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi thanks for your reply,

So when I delete a document the writer.close(); this actually commits the deletion to the index which is not reversible?

I have a facility which deletes but leaves the delete 'undoable' until the change is commited by closing the reader. I cannot access the doCommit or commit method as 'they are not visible'.

I have the LIA book at home and not with me.

Thanks.


--0-1505568036-1133192419=:9469--

From java-user-return-17730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 15:43:16 2005
Return-Path: <java-user-return-17730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8847 invoked from network); 28 Nov 2005 15:43:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 15:43:15 -0000
Received: (qmail 37515 invoked by uid 500); 28 Nov 2005 14:39:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37491 invoked by uid 500); 28 Nov 2005 14:39:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37479 invoked by uid 99); 28 Nov 2005 14:39:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:39:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:41:12 -0800
Received: by zproxy.gmail.com with SMTP id k1so884802nzf
        for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 06:39:20 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Nryo5fHY29B8T8Gd2s3UUN2TsjljsFRO5OE9UdE0t/fZh72mqrMYZn1PHNMdEn7jW0oujeJnnJ7F2MuaRtYEZIy5QPnM4SajOqgnVoYkqaYPHKVu6nvNPFh6RvVTk5tZngKnvsqdi1ePWP/HMJkddtb6vzYHjnJHuszVT9pwOM4=
Received: by 10.36.160.14 with SMTP id i14mr3367051nze;
        Mon, 28 Nov 2005 06:39:20 -0800 (PST)
Received: by 10.36.89.10 with HTTP; Mon, 28 Nov 2005 06:39:20 -0800 (PST)
Message-ID: <b7bee2520511280639m3c149d1dxcc749972e85995ff@mail.gmail.com>
Date: Mon, 28 Nov 2005 16:39:20 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Commit changes
In-Reply-To: <00fd01c5f1bc$3eb76840$0301a8c0@MALCOLM>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5872_1081016.1133188760574"
References: <00fd01c5f1bc$3eb76840$0301a8c0@MALCOLM>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5872_1081016.1133188760574
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

A final method is not meant to be overridden.
Why do you want to inherit IndexReader as your first shot at Lucene and
java? Could it be that you've missed the factory method 'open' ?
If you are new both to java and to Lucene, I recommend that you get a book,
such as "Lucene in Action".

Good Luck,
Oren Shir

On 11/25/05, Malcolm Clark <malcyclark@btinternet.com> wrote:
>
> Hi,
> I am not that experienced with Java and am attempting to implement the
> commit method for the IndexReader for the application I'm developing.
> I am trying to extend the IndexReader class but it wont let me! Should I
> extend something else as I can't see anything in the api to suggest using=
?
>
> My class is this:
>
> public abstract class commitDelete extends IndexReader {
>
> protected final void commitIndex() {
> try{
>     super.commit();
> }(IOException e){}
>    }
> }
>
> Incidentally if I close the index does this commit anyway?
> Please help as I'm stumped.
> thanks in advance,
> Malcolm Clark
>

------=_Part_5872_1081016.1133188760574--

From java-user-return-17731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 15:47:24 2005
Return-Path: <java-user-return-17731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14709 invoked from network); 28 Nov 2005 15:47:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 15:47:23 -0000
Received: (qmail 41970 invoked by uid 500); 28 Nov 2005 14:43:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41949 invoked by uid 500); 28 Nov 2005 14:43:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41938 invoked by uid 99); 28 Nov 2005 14:43:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:43:50 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:45:20 -0800
Received: by zproxy.gmail.com with SMTP id k1so885931nzf
        for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 06:43:29 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=b1JDW6J+jPCwaVw1/HJXPi/mxQ65N89mutrZjPhyVf4aQZBwMipmrI4FRlDyGx5V1naAfhydjmm/zzxLReOjmKOReNyFrv6LPb6s2VR+8dc0nO+eA/Lc/tPnuFTeX19a/RcpXxvILhshMwjFbBOWUYS74OyFDqyTSplVMICF80k=
Received: by 10.37.13.4 with SMTP id q4mr5276nzi;
        Mon, 28 Nov 2005 06:43:28 -0800 (PST)
Received: by 10.36.89.10 with HTTP; Mon, 28 Nov 2005 06:43:28 -0800 (PST)
Message-ID: <b7bee2520511280643h67c46e19ucc201a9fda2c037e@mail.gmail.com>
Date: Mon, 28 Nov 2005 16:43:28 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Lucene Installation With Eclipse
In-Reply-To: <e72f06500511251436p572d7a80g456f82c07859cc85@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5940_24823262.1133189008952"
References: <e72f06500511251436p572d7a80g456f82c07859cc85@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5940_24823262.1133189008952
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

What do you mean? Do you want to add the jar file to the compile classpath,
or to add some plugin that will search your classes?

Oren Shir

On 11/26/05, Srinivas Jadcharla <jd2810@gmail.com> wrote:
>
> Hi  i just started learning Lucene , i have a very basic question that ho=
w
> can i integrate Lucene with Eclipse .Any help is much appreciated
>
> --
> Thanks & Regards
>
> Srinivas
> 732-648-9421(Cell)
>

------=_Part_5940_24823262.1133189008952--

From java-user-return-17732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 15:50:46 2005
Return-Path: <java-user-return-17732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19431 invoked from network); 28 Nov 2005 15:50:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 15:50:45 -0000
Received: (qmail 44758 invoked by uid 500); 28 Nov 2005 14:46:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44738 invoked by uid 500); 28 Nov 2005 14:46:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44727 invoked by uid 99); 28 Nov 2005 14:46:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:46:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.77] (HELO web86202.mail.ukl.yahoo.com) (217.12.12.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 06:47:55 -0800
Received: (qmail 78645 invoked by uid 60001); 28 Nov 2005 14:46:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=dz1VQ62nALYJTEHQ6cQ/ZyEjvj1U5pkTUCUgTqDp9sduh6NdooINBL5Q2KdlmXf6wbveZ/pd9yOJU9r3lHzG1ID642DKacBK65db050lqe/KykOzD47iM6REKGq/AYKSCFqEwoqdXVBKlyEgcJdTP7Nm0poUgQDNpTgsAVUXMJ0=  ;
Message-ID: <20051128144601.78643.qmail@web86202.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86202.mail.ukl.yahoo.com via HTTP; Mon, 28 Nov 2005 14:46:01 GMT
Date: Mon, 28 Nov 2005 14:46:01 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Commit changes
To: java-user@lucene.apache.org, shoren@alum.cs.huji.ac.il
In-Reply-To: <b7bee2520511280632v2970997cteb0ab416bfbc4912@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-716225117-1133189161=:78627"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-716225117-1133189161=:78627
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi Oren,

In the grand scheme of things and in comparison to some of the participants knowledge on here I am fairly new and inexperienced to Java and Lucene.

I thought my way may be the most effectual method of implementing the commit.I am using many methods of searching/reading the index for a variety of reasons.The facility I am trying to implement is the ability to delete a document from the index.Do I need to commit or just reader.close? I have the LIA book which is superb and have read the sections regarding delete.If it mentions commit maybe I missed it?

Thanks,

Malcolm


--0-716225117-1133189161=:78627--

From java-user-return-17735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 15:56:47 2005
Return-Path: <java-user-return-17735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28766 invoked from network); 28 Nov 2005 15:56:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 15:56:45 -0000
Received: (qmail 87868 invoked by uid 500); 28 Nov 2005 15:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87822 invoked by uid 500); 28 Nov 2005 15:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87796 invoked by uid 99); 28 Nov 2005 15:56:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 07:56:34 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 07:58:04 -0800
Received: (qmail 57462 invoked by uid 60001); 28 Nov 2005 15:56:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=UCFoaqoJNJtpjbVGFKaCyKyOl/RFaAmejCTkP+Q3o3/gtnDm0QO6xG9b2lT2wabxAwQYABrsnCvqdYcywNDc2c89PpZ4qmc85QQ44Kb9D/kMv30HQAc2xCGd+o5HEzSAJJI61Nny7eu1y74v928h7jBw+n8xXuY3wW/zeOqMMKk=  ;
Message-ID: <20051128155612.57460.qmail@web50306.mail.yahoo.com>
Received: from [69.201.142.21] by web50306.mail.yahoo.com via HTTP; Mon, 28 Nov 2005 07:56:11 PST
Date: Mon, 28 Nov 2005 07:56:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Commit changes
To: java-user@lucene.apache.org
In-Reply-To: <20051128154019.10071.qmail@web86210.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

> Hi thanks for your reply,
> 
> So when I delete a document the writer.close(); this actually commits
> the deletion to the index which is not reversible?

reader, not writer, but otherwise correct.

> I have a facility which deletes but leaves the delete 'undoable'
> until the change is commited by closing the reader. I cannot access
> the doCommit or commit method as 'they are not visible'.

It sounds like you are doing more than you need.  You don't need access
to doCommit and commit methods.  Just delete and close and you are
done.  If you want to undo the deletion, you can do it via another
method, before you call close().

> I have the LIA book at home and not with me.

Using lucenebook.com may still reveal little useful snippets.

Otis

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/ -- Find it. Tag it. Share it.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 16:09:03 2005
Return-Path: <java-user-return-17736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45526 invoked from network); 28 Nov 2005 16:09:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 16:09:02 -0000
Received: (qmail 24930 invoked by uid 500); 28 Nov 2005 16:08:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24904 invoked by uid 500); 28 Nov 2005 16:08:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24892 invoked by uid 99); 28 Nov 2005 16:08:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 08:08:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.82] (HELO web86207.mail.ukl.yahoo.com) (217.12.12.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 08:10:22 -0800
Received: (qmail 26096 invoked by uid 60001); 28 Nov 2005 16:08:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0LFCkVAoCTIqi4n2i5zQx5XL29DTsXXo3uyjJ2f6Dqye/oSh3NpKG1DGK6d+6tccToHeM9vm+0B74DOyH6ezc0AEiIp6KqL3Sn1AhhmV262yQeGmkN1+jU1xSx25S/k/A6zKDv+Iv5/TmKgXTMbMDNvvPXY5kj6GTiJ+lPEmECw=  ;
Message-ID: <20051128160829.26094.qmail@web86207.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86207.mail.ukl.yahoo.com via HTTP; Mon, 28 Nov 2005 16:08:29 GMT
Date: Mon, 28 Nov 2005 16:08:29 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Commit changes
To: java-user@lucene.apache.org
In-Reply-To: <20051128155612.57460.qmail@web50306.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1157770173-1133194109=:26050"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1157770173-1133194109=:26050
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit




Okay.Thanks to you both.

 

Malcolm


--0-1157770173-1133194109=:26050--

From java-user-return-17733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 16:12:52 2005
Return-Path: <java-user-return-17733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50566 invoked from network); 28 Nov 2005 16:12:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 16:12:52 -0000
Received: (qmail 85085 invoked by uid 500); 28 Nov 2005 15:08:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85058 invoked by uid 500); 28 Nov 2005 15:08:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85047 invoked by uid 99); 28 Nov 2005 15:08:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 07:08:47 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 07:10:16 -0800
Received: (qmail 94119 invoked by uid 60001); 28 Nov 2005 15:08:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=g2rpFMjnUeGxUFBxe1V+PBivgB7XgECfqve7fUsZitp7G4b94Y/mESw3lKwePTZ6j8TocvU5JQf3dJxChtfI6iKrqcBBDIXEqWvbD1V8jKXCNqtEMgzCZ5wgrM4UF/pxuSpAaEBAis6bFvRH8TKpzRNJV4JcZERAPFmRGuMhw98=  ;
Message-ID: <20051128150824.94117.qmail@web50314.mail.yahoo.com>
Received: from [69.201.142.21] by web50314.mail.yahoo.com via HTTP; Mon, 28 Nov 2005 07:08:24 PST
Date: Mon, 28 Nov 2005 07:08:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Commit changes
To: java-user@lucene.apache.org
In-Reply-To: <20051128144601.78643.qmail@web86202.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

reader.delete(....);
reader.close(); // flushes to disk

Otis

--- MALCOLM CLARK <malcyclark@btinternet.com> wrote:

> 
> Hi Oren,
> 
> In the grand scheme of things and in comparison to some of the
> participants knowledge on here I am fairly new and inexperienced to
> Java and Lucene.
> 
> I thought my way may be the most effectual method of implementing the
> commit.I am using many methods of searching/reading the index for a
> variety of reasons.The facility I am trying to implement is the
> ability to delete a document from the index.Do I need to commit or
> just reader.close? I have the LIA book which is superb and have read
> the sections regarding delete.If it mentions commit maybe I missed
> it?
> 
> Thanks,
> 
> Malcolm
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 16:25:40 2005
Return-Path: <java-user-return-17729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65635 invoked from network); 28 Nov 2005 16:25:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 16:25:38 -0000
Received: (qmail 29307 invoked by uid 500); 28 Nov 2005 14:32:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29276 invoked by uid 500); 28 Nov 2005 14:32:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29265 invoked by uid 99); 28 Nov 2005 14:32:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:32:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 06:34:18 -0800
Received: by zproxy.gmail.com with SMTP id k1so882927nzf
        for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 06:32:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=V2RMZTqH+4bjB+/l8kmHPlidp4i6drqDgNb89eWP5hskvXRCpnbD6D5f6kzFcqLYQORzN/2GLB0XeoGb+8uwdwbLyjOkPCgn5EYNLj0HYQAsoRCEc1v1LLKpy9iA9OmwMsRKD5nDE7wTxGGJDhqDXu2Y9bJTgJHMQdjny8uJnqQ=
Received: by 10.37.22.79 with SMTP id z79mr3361360nzi;
        Mon, 28 Nov 2005 06:32:27 -0800 (PST)
Received: by 10.36.89.10 with HTTP; Mon, 28 Nov 2005 06:32:06 -0800 (PST)
Message-ID: <b7bee2520511280632v2970997cteb0ab416bfbc4912@mail.gmail.com>
Date: Mon, 28 Nov 2005 16:32:26 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Commit changes
In-Reply-To: <00fd01c5f1bc$3eb76840$0301a8c0@MALCOLM>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5840_11940724.1133188346475"
References: <00fd01c5f1bc$3eb76840$0301a8c0@MALCOLM>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5840_11940724.1133188346475
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

A final method is not meant to be overridden.
Why do you want to inherit IndexReader as your first shot at Lucene and
java? Could it be that you've missed the factory method 'open' ?
If you are new both to java and to Lucene, I recommend that you get a book,
such as "Lucene in Action".

Good Luck,
Oren Shir

On 11/25/05, Malcolm Clark <malcyclark@btinternet.com> wrote:
>
> Hi,
> I am not that experienced with Java and am attempting to implement the
> commit method for the IndexReader for the application I'm developing.
> I am trying to extend the IndexReader class but it wont let me! Should I
> extend something else as I can't see anything in the api to suggest using=
?
>
> My class is this:
>
> public abstract class commitDelete extends IndexReader {
>
> protected final void commitIndex() {
> try{
>     super.commit();
> }(IOException e){}
>    }
> }
>
> Incidentally if I close the index does this commit anyway?
> Please help as I'm stumped.
> thanks in advance,
> Malcolm Clark
>

------=_Part_5840_11940724.1133188346475--

From java-user-return-17737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 16:39:18 2005
Return-Path: <java-user-return-17737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80201 invoked from network); 28 Nov 2005 16:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 16:39:18 -0000
Received: (qmail 2698 invoked by uid 500); 28 Nov 2005 16:39:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2671 invoked by uid 500); 28 Nov 2005 16:39:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2659 invoked by uid 99); 28 Nov 2005 16:39:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 08:39:10 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 08:40:40 -0800
Received: by zproxy.gmail.com with SMTP id n29so3126981nzf
        for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 08:38:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=nX7pIFKYuunsVRVzzH3hwHh6ECQCWgEINpR+2T/kewsbf9IbXDvKXAu4DmwbUY/EJXMAreaE/cA4fCayqAUqYtv1t5sxH1CeF6Kd2YIWhPT+jcpOKVJ35H86UBk9uG9TW6xxfyHdI11v7bBbcY1AqFBDbyIC7yDAutdCH0DxH18=
Received: by 10.65.84.5 with SMTP id m5mr2025454qbl;
        Mon, 28 Nov 2005 08:38:49 -0800 (PST)
Received: by 10.65.93.13 with HTTP; Mon, 28 Nov 2005 08:38:49 -0800 (PST)
Message-ID: <6e3ae6310511280838l54f3c4b6k14fa9bbd0cbc97de@mail.gmail.com>
Date: Mon, 28 Nov 2005 08:38:49 -0800
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene and DB interactions
In-Reply-To: <4bd3e1480511272337h5d669f45y97e1078d88332bde@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4bd3e1480511272337h5d669f45y97e1078d88332bde@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I have some specific questions (Using a pure java solution with
> PostgreSQL). Any comments/info would be much appreciated.
>
> 1) I build an index. Then as the db gets more "documents" inserted
> into it, it needs to be added to the index. I was thinking of checking
> for X documents (will store in a vector or something) or Y time and
> then updating it by opening an IndexWriter on the index.
>
> 1.a) Has anybody approached this problem, and if so, how did they do it ?

We periodically check the database and find new documents.

> 1.b) For IndexSearcher, I know I have to reinstantiate it (open it),
> but how do I do that while still maintaining current search requests?

Current search results is stored in Hits object.
>
> 2) From time to time I rebuild the index (in FS, while the Searcher is
> reading the current one in RAM).  And then I swap out the one in RAM.
> 2.a) Has anybody done this in an automated efficient way? If so, how?

We have done it by maintaining the old index and rebuilding the new
index at the same time. And if the new index is successfully built, we
switch to the new index and destroy the old one.

The software is called DBSight. You are welcome to check it out.

Chris Lu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 18:06:49 2005
Return-Path: <java-user-return-17738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50666 invoked from network); 28 Nov 2005 18:06:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 18:06:49 -0000
Received: (qmail 80796 invoked by uid 500); 28 Nov 2005 18:06:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80770 invoked by uid 500); 28 Nov 2005 18:06:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80759 invoked by uid 99); 28 Nov 2005 18:06:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 10:06:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 10:08:12 -0800
Received: (qmail 2861 invoked by uid 89); 28 Nov 2005 18:06:20 -0000
Received: from unknown (HELO ?192.168.168.81?) (69.228.87.14)
  by londo.swishmail.com with SMTP; 28 Nov 2005 18:06:20 -0000
Message-ID: <438B471B.4060104@apache.org>
Date: Mon, 28 Nov 2005 10:06:19 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IndexReader locking
References: <438A5B2E.7060006@nuix.com.au>
In-Reply-To: <438A5B2E.7060006@nuix.com.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

IndexReader locks the index while opening it to prohibit an IndexWriter 
from deleting any of the files in that index until all are opened.

Lock files are not stored in the index directory since write access to 
an index should not be required to lock it while opening an IndexReader.

Doug

Daniel Noll wrote:
> While writing a simple stress testing exercise, I came across the 
> strange condition that the IndexReader locks the index even though it's 
> only supposed to be reading.
> 
> Now, I understand that IndexReader can in fact modify the index (no 
> matter how unintuitive that is) but it seems to me that a lockfile 
> stored on the local machine doesn't protect against modification by 
> someone on another machine anyway.
> 
> So it seems that either:
>    1. it shouldn't bother locking at all, since it isn't protecting the 
> index from anything, or
>    2. it should put its lockfile in the index directory itself, i.e. a 
> place where it will be seen by others who also intend to use the index.
> 
> But obviously there was some reason behind this choice, so it would be 
> good to know what it was before I go and modify our local copy to work 
> differently. :-)
> 
> Daniel
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Nov 28 20:10:26 2005
Return-Path: <java-user-return-17739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19040 invoked from network); 28 Nov 2005 20:10:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Nov 2005 20:10:25 -0000
Received: (qmail 10490 invoked by uid 500); 28 Nov 2005 20:10:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10462 invoked by uid 500); 28 Nov 2005 20:10:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10432 invoked by uid 99); 28 Nov 2005 20:10:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 12:10:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 12:11:42 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Lucene Error List
Date: Mon, 28 Nov 2005 15:09:50 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131047B6512@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Error List
Thread-Index: AcX0Ro2BEkKwanDWTsisX0Bt670MqAAEL7Mw
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is there an error list for lucene errors?  I am creating a project that
will do something specific for certain lucene errors that occur (Lock
file out there, etc). =20

Thanks,
Tom



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 00:10:19 2005
Return-Path: <java-user-return-17740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85020 invoked from network); 29 Nov 2005 00:10:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 00:10:18 -0000
Received: (qmail 31970 invoked by uid 500); 29 Nov 2005 00:10:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31943 invoked by uid 500); 29 Nov 2005 00:10:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31928 invoked by uid 99); 29 Nov 2005 00:10:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 16:10:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 16:11:39 -0800
Received: from mailspool2.panix.com (mailspool2.panix.com [166.84.1.79])
	by mail1.panix.com (Postfix) with ESMTP id 3223659BD6
	for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 19:07:05 -0500 (EST)
Received: from [192.168.1.4] (pool-64-223-36-229.prov.east.verizon.net [64.223.36.229])
	by mailspool2.panix.com (Postfix) with ESMTP id 9A9BDBB2F20
	for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 19:07:04 -0500 (EST)
Mime-Version: 1.0
Message-Id: <p06210234bfaa69060cb2@[192.168.1.4]>
Date: Mon, 28 Nov 2005 19:06:57 -0500
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Merging with IndexWriter.addIndexes(...)
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

My application needs to simultaneously process record additions and 
updates with one pass through a database. That's not in itself a 
problem: I open an IndexReader on the existing index to mark the 
prior versions of updated records as deleted Documents, and an 
IndexWriter on a new empty index to accept the new and updated 
records as new Documents.  Then it's simply a matter of merging the 
two indexes into one.

One possibility is to directly merge from the IndexReader (existing 
index) into the IndexWriter (new index).  The problem is that it 
takes a very long time, on the order of several hours, since it must 
replicate everything in the old index (2.7Gb, 2.2M Documents) in the 
new one.  Since the update consists of a small number of records, 
typically under 1000 and sometimes just a handful, this is a waste of 
cycles.

Anticipating that, my code reverses the relationship, closing the 
index objects at the end of the loop then opening an IndexWriter on 
the existing (target) index and an IndexReader on the index which has 
the new records, which gets merged into the target.  It functions as 
expected and desired, but is also far more time-consuming than 
reasonable.

For example, if I take an empty (no Document) or small (100 
Documents) index and merge one or other via IndexWriter.addIndexes() 
into an already optimized single-segment index, what should in theory 
be a null or trivial operation ends up in practice unpacking the 
destination index into many segments, and then repacking them into a 
single segment. For that 2.7Gb index it takes over an hour.

In contrast, it only a few seconds to add those same 100 Documents 
directly to the index via addDocument(), as long as one doesn't 
optimize.

So... I notice that both IndexWriter.addIndexes(...) merge methods 
start and end with calls to optimize() on the target index.  I'm not 
sure whether that is causing the unpacking and repacking I observe, 
but it does wonder whether they truly need to be there:

- Is starting off with zero or 1 segment (per a comment in the source 
code) truly a precondition for successful merging?

- Since one can open an unoptimized index and add millions of 
Documents (creating potentially hundreds of segments) via 
addDocument, with optimization left entirely optional and up to the 
user, why is optimization required as a postcondition for merging?

Any advice on this or the general application design, would be appreciated.

Thanks,
J.J. Larrea

PS: This was tested against SVN trunk revision 329490

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 01:59:38 2005
Return-Path: <java-user-return-17741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32963 invoked from network); 29 Nov 2005 01:59:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 01:59:38 -0000
Received: (qmail 42104 invoked by uid 500); 29 Nov 2005 01:59:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41583 invoked by uid 500); 29 Nov 2005 01:59:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41572 invoked by uid 99); 29 Nov 2005 01:59:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 17:59:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.241.242.94] (HELO fsv-extmail2.looksmart.com) (64.241.242.94)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 18:01:01 -0800
Received: from sf-intrelay.looksmart.com (sf-intrelay.looksmart.com [172.17.100.75])
	by fsv-extmail2.looksmart.com (8.12.10/8.12.10) with ESMTP id jAT1x9qO007554
	for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 17:59:09 -0800
Received: from [172.17.66.44] (corner.looksmart.com [172.17.66.44])
	by sf-intrelay.looksmart.com (8.12.9/8.12.9) with ESMTP id jAT1x67h004518
	for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 17:59:06 -0800
Message-ID: <438BB5EE.5040204@looksmart.net>
Date: Mon, 28 Nov 2005 17:59:10 -0800
From: Michael Pow <mpow@looksmart.net>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: reverse sort
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm trying to reverse sort a result set by it's date field (YYYYMMDDhhmm). 

pseudocode:
Boolean order = {false | true};
Sort sorter = new Sort(new SortField("date", order));
hits = indexSearcher.search(<query>, <filter>, sorter);

When order = false, I correctly get the results sorted from the smallest 
date to the greatest, which also happens to be the order of insertion 
into the index.  When order = true (attempting to do reverse sort), it 
comes back almost correctly sorted from the largest date to the 
smallest, but it isn't exactly correct.   I'm surprised that switching 
the 'reverse' flag from false to true doesn't exactly invert the result 
set.  Has anyone encountered this before?  I can provide more details if 
necessary.

Below is a result set ordered by date in reverse order
format is {doc#, date}

found : 44894   200511140845
found : 31319   200511090101
found : 33972   200511091353
found : 35404   200511100600
found : 36715   200511100729
found : 26842   200511071324
found : 27266   200511071734
found : 27272   200511071738
found : 27442   200511071826
found : 15261   200511021245
found : 16686   200511030630
found : 17499   200511030706
found : 17500   200511030706
found : 3941   200510281753

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 02:18:05 2005
Return-Path: <java-user-return-17742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39928 invoked from network); 29 Nov 2005 02:18:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 02:18:05 -0000
Received: (qmail 63982 invoked by uid 500); 29 Nov 2005 02:17:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63953 invoked by uid 500); 29 Nov 2005 02:17:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63942 invoked by uid 99); 29 Nov 2005 02:17:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 18:17:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO xproxy.gmail.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 18:19:28 -0800
Received: by xproxy.gmail.com with SMTP id s12so114058wxc
        for <java-user@lucene.apache.org>; Mon, 28 Nov 2005 18:17:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AQzA+gXPRnS9PSzjPwhAcF9ZYcf2SbNADrjgM4nfTm4JgjUQZsVbkWvEceHwHGCIHra5WVn0Docl2Ye26UyKzhrHPsaaXyjFtM8cHa+rxYqbP6lTzwtKghVChP93hAE74Xzw+/ieEKgwqgIzV+BsG6dgMe8s45OBbYxaTUOG8Uk=
Received: by 10.65.159.5 with SMTP id l5mr2566278qbo;
        Mon, 28 Nov 2005 18:17:37 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Mon, 28 Nov 2005 18:17:36 -0800 (PST)
Message-ID: <c68e39170511281817j8e6bfd7w6c774cab22b2c147@mail.gmail.com>
Date: Mon, 28 Nov 2005 21:17:37 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: reverse sort
In-Reply-To: <438BB5EE.5040204@looksmart.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <438BB5EE.5040204@looksmart.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Grrrr, I think it's that AUTO sorting again...
Check out this bug:
http://issues.apache.org/jira/browse/LUCENE-463

If you specify a string sort explicitly, it should work.

If you are using a multisearcher, please upgrade to the latest lucene
version (there have been some sorting bug fixes).

-Yonik

On 11/28/05, Michael Pow <mpow@looksmart.net> wrote:
> I'm trying to reverse sort a result set by it's date field (YYYYMMDDhhmm)=
.
>
> pseudocode:
> Boolean order =3D {false | true};
> Sort sorter =3D new Sort(new SortField("date", order));
> hits =3D indexSearcher.search(<query>, <filter>, sorter);
>
> When order =3D false, I correctly get the results sorted from the smalles=
t
> date to the greatest, which also happens to be the order of insertion
> into the index.  When order =3D true (attempting to do reverse sort), it
> comes back almost correctly sorted from the largest date to the
> smallest, but it isn't exactly correct.   I'm surprised that switching
> the 'reverse' flag from false to true doesn't exactly invert the result
> set.  Has anyone encountered this before?  I can provide more details if
> necessary.
>
> Below is a result set ordered by date in reverse order
> format is {doc#, date}
>
> found : 44894   200511140845
> found : 31319   200511090101
> found : 33972   200511091353
> found : 35404   200511100600
> found : 36715   200511100729
> found : 26842   200511071324
> found : 27266   200511071734
> found : 27272   200511071738
> found : 27442   200511071826
> found : 15261   200511021245
> found : 16686   200511030630
> found : 17499   200511030706
> found : 17500   200511030706
> found : 3941   200510281753
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 03:46:28 2005
Return-Path: <java-user-return-17743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68936 invoked from network); 29 Nov 2005 03:46:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 03:46:28 -0000
Received: (qmail 41618 invoked by uid 500); 29 Nov 2005 03:46:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41590 invoked by uid 500); 29 Nov 2005 03:46:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41579 invoked by uid 99); 29 Nov 2005 03:46:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Nov 2005 19:46:21 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Nov 2005 19:47:51 -0800
Received: (qmail 23250 invoked by uid 60001); 29 Nov 2005 03:45:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=CnGsOFHzVd9QsCKhYmd3vOAuSkcsB8FUr9C931Z7xtM3OBuyZN01cAOrnVROEp5JBtvQN4MUL0UtLR7vmWtqI76xIe2kIZebOrJDmmEEEO6SosExsQFoyVply4vhJ0EPhFIGc5tEbFm7nFB9wSGLiDwG8PVZmhJIQUEcyLIrEtY=  ;
Message-ID: <20051129034558.23248.qmail@web50303.mail.yahoo.com>
Received: from [69.201.142.21] by web50303.mail.yahoo.com via HTTP; Mon, 28 Nov 2005 19:45:57 PST
Date: Mon, 28 Nov 2005 19:45:57 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene Error List
To: java-user@lucene.apache.org
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131047B6512@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nope, in this case documentation is the code.

Otis

--- "Aigner, Thomas" <TAigner@WescoDist.com> wrote:

> 
> Is there an error list for lucene errors?  I am creating a project
> that
> will do something specific for certain lucene errors that occur (Lock
> file out there, etc).  
> 
> Thanks,
> Tom
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 08:07:44 2005
Return-Path: <java-user-return-17744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65210 invoked from network); 29 Nov 2005 08:07:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 08:07:42 -0000
Received: (qmail 80403 invoked by uid 500); 29 Nov 2005 08:07:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80383 invoked by uid 500); 29 Nov 2005 08:07:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80370 invoked by uid 99); 29 Nov 2005 08:07:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 00:07:34 -0800
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=BLANK_LINES_70_80,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.80.167.228] (HELO correo.telemadrid.org) (212.80.167.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 00:08:59 -0800
Received: from tm1.telemadrid.org ([212.80.167.225])
          by correo.telemadrid.org (Lotus Domino Release 6.5.1)
          with ESMTP id 2005112909064523-19013 ;
          Tue, 29 Nov 2005 09:06:45 +0100 
Importance: Normal
X-Priority: 3 (Normal)
Subject: Re: Lucene and DB interactions
MIME-Version: 1.0
From: dblanch@telemadrid.es
To: java-user@lucene.apache.org
X-MIMETrack: MIME-CD by Notes Server on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at
 29/11/2005 09:11:19,
	MIME-CD complete at 29/11/2005 09:11:19,
	Serialize by Router on tm1/TELEMADRID(Release 6.5.1|January 21, 2004) at 29/11/2005
 09:11:25,
	Itemize by SMTP Server on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 29/11/2005 09:06:45,
	Serialize by Router on CORREO/TELEMADRID(Release 6.5.1|January 21, 2004) at
 29/11/2005 09:07:09,
	Serialize complete at 29/11/2005 09:07:09
Date: Tue, 29 Nov 2005 09:11:19 +0100
Message-ID: <OFFAF1B1AA.7281A664-ONC12570C8.002CFB6A-C12570C8.002CFB7F@telemadrid.es>
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I would start reading 'I love Lucene' article on The Server Side.

Regards,

 Daniel Blanch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 11:09:08 2005
Return-Path: <java-user-return-17745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64554 invoked from network); 29 Nov 2005 11:09:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 11:09:07 -0000
Received: (qmail 18986 invoked by uid 500); 29 Nov 2005 11:08:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18648 invoked by uid 500); 29 Nov 2005 11:08:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18623 invoked by uid 99); 29 Nov 2005 11:08:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:08:49 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.75.2.32] (HELO listserv.uni-hannover.de) (130.75.2.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:08:41 -0800
Received: from rrzn.uni-hannover.de (dhennig@rayserv.rrzn.uni-hannover.de [130.75.5.8])
	by listserv.uni-hannover.de (8.13.3/8.13.3) with ESMTP id jATB6hhX016654
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 12:06:43 +0100 (MET)
Message-ID: <438C3640.104@rrzn.uni-hannover.de>
Date: Tue, 29 Nov 2005 12:06:40 +0100
From: Dirk Hennig <dhennig@rrzn.uni-hannover.de>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en, de, de-at, de-de, de
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Search Problem
References: <438BB5EE.5040204@looksmart.net> <c68e39170511281817j8e6bfd7w6c774cab22b2c147@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hallo,

I have a simple index which includes only text (in a field "text") from 
2 different type of files: html and pdf.
I'm using a field "filetype" to store from which type the text came. 
This field holds a value "html" or "pdf".
Now, if I browse the index with Luke, I can see all documents, text and 
filetype fields, just as it should be. I can browse through the 
documents using "First Doc", "Next Doc". But if I search for a word in a 
document, only hits from html are shown. If I specifiy pdf, there are no 
results. Even the simple query "+filetype:pdf" returns no results. But 
"+filetype:html" works perfect.
How can this be? Has anyone an idea?

Thanx,
Dirk Hennig


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 11:14:27 2005
Return-Path: <java-user-return-17746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67588 invoked from network); 29 Nov 2005 11:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 11:14:26 -0000
Received: (qmail 30211 invoked by uid 500); 29 Nov 2005 11:14:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30189 invoked by uid 500); 29 Nov 2005 11:14:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30178 invoked by uid 99); 29 Nov 2005 11:14:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:14:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [143.126.201.210] (HELO hermes.culture.fr) (143.126.201.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:15:50 -0800
Received: by mta.culture.fr with id jATBDwFg020355
 for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 12:13:58 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T74e85a4a888f7ec9dc354@pasteur.culture.fr> for <java-user@lucene.apache.org>;
 Tue, 29 Nov 2005 12:13:57 +0100
Received: by bretagne.culture.fr with ESMTP id jATBDvGf028678
  for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 12:13:57 +0100
Message-ID: <438C3804.4050901@culture.gouv.fr>
Date: Tue, 29 Nov 2005 12:14:12 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Thunderbird 1.4 (Windows/20050908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search Problem
References: <438BB5EE.5040204@looksmart.net> <c68e39170511281817j8e6bfd7w6c774cab22b2c147@mail.gmail.com> <438C3640.104@rrzn.uni-hannover.de>
In-Reply-To: <438C3640.104@rrzn.uni-hannover.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Dirk Hennig wrote:

> Even the simple query "+filetype:pdf" returns no results. But 
> "+filetype:html" works perfect.
> How can this be? Has anyone an idea?

It is very likely that the analyzer bound to your query parser filters 
"pdf" out, maybe because it has only 3 letters,

Cheers,

-- 
Pierrick Brihaye, informaticien
Service rgional de l'Inventaire / DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr / tl : +33 (0)2 99 29 67 78
http://usenet-fr.news.eu.org/fr-chartes/rfc1855.html#31. L'avez-vous lu ?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 11:24:09 2005
Return-Path: <java-user-return-17747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71747 invoked from network); 29 Nov 2005 11:24:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 11:24:03 -0000
Received: (qmail 43322 invoked by uid 500); 29 Nov 2005 11:23:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43292 invoked by uid 500); 29 Nov 2005 11:23:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43281 invoked by uid 99); 29 Nov 2005 11:23:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:23:56 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.75.2.32] (HELO listserv.uni-hannover.de) (130.75.2.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:25:26 -0800
Received: from rrzn.uni-hannover.de (dhennig@rayserv.rrzn.uni-hannover.de [130.75.5.8])
	by listserv.uni-hannover.de (8.13.3/8.13.3) with ESMTP id jATBNVO2017125
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 12:23:31 +0100 (MET)
Message-ID: <438C3A30.2040409@rrzn.uni-hannover.de>
Date: Tue, 29 Nov 2005 12:23:28 +0100
From: Dirk Hennig <dhennig@rrzn.uni-hannover.de>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en, de, de-at, de-de, de
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search Problem
References: <438BB5EE.5040204@looksmart.net> <c68e39170511281817j8e6bfd7w6c774cab22b2c147@mail.gmail.com> <438C3640.104@rrzn.uni-hannover.de> <438C3804.4050901@culture.gouv.fr>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Pierrick,

> It is very likely that the analyzer bound to your query parser filters 
> "pdf" out, maybe because it has only 3 letters,


Luke shows me "filetype:pdf" as parsed and rewritten query.
I think than this can't be the problem or am I wrong on this?

Greetings,
Dirk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 11:31:12 2005
Return-Path: <java-user-return-17748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75470 invoked from network); 29 Nov 2005 11:31:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 11:31:09 -0000
Received: (qmail 55876 invoked by uid 500); 29 Nov 2005 11:31:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55851 invoked by uid 500); 29 Nov 2005 11:31:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55840 invoked by uid 99); 29 Nov 2005 11:31:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:31:02 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 03:32:31 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id LAA05666
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 11:31:58 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma005661; Tue, 29 Nov 05 11:31:36 GMT
In-Reply-To: <438C3640.104@rrzn.uni-hannover.de>
Subject: Re: Search Problem
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OFDBB87625.BC233C57-ON802570C8.003F0F3B-802570C8.003F1B95@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Tue, 29 Nov 2005 11:31:17 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 29/11/2005 11:31:17
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Lucene is case sensitive. Make sure the case in your query matches the case
in the index. You could also try selecting the keyword analyser in Luke.

Paul I.


                                                                           
             Dirk Hennig                                                   
             <dhennig@rrzn.uni                                             
             -hannover.de>                                              To 
                                       java-user@lucene.apache.org         
             29/11/2005 11:06                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         Search Problem                      
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Hallo,

I have a simple index which includes only text (in a field "text") from
2 different type of files: html and pdf.
I'm using a field "filetype" to store from which type the text came.
This field holds a value "html" or "pdf".
Now, if I browse the index with Luke, I can see all documents, text and
filetype fields, just as it should be. I can browse through the
documents using "First Doc", "Next Doc". But if I search for a word in a
document, only hits from html are shown. If I specifiy pdf, there are no
results. Even the simple query "+filetype:pdf" returns no results. But
"+filetype:html" works perfect.
How can this be? Has anyone an idea?

Thanx,
Dirk Hennig


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 12:19:27 2005
Return-Path: <java-user-return-17749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97749 invoked from network); 29 Nov 2005 12:19:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 12:19:25 -0000
Received: (qmail 26567 invoked by uid 500); 29 Nov 2005 12:19:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26535 invoked by uid 500); 29 Nov 2005 12:19:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26524 invoked by uid 99); 29 Nov 2005 12:19:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 04:19:14 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.75.2.32] (HELO listserv.uni-hannover.de) (130.75.2.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 04:20:44 -0800
Received: from rrzn.uni-hannover.de (dhennig@rayserv.rrzn.uni-hannover.de [130.75.5.8])
	by listserv.uni-hannover.de (8.13.3/8.13.3) with ESMTP id jATCInZo018666
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 13:18:49 +0100 (MET)
Message-ID: <438C4727.7010102@rrzn.uni-hannover.de>
Date: Tue, 29 Nov 2005 13:18:47 +0100
From: Dirk Hennig <dhennig@rrzn.uni-hannover.de>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en, de, de-at, de-de, de
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search Problem
References: <OFDBB87625.BC233C57-ON802570C8.003F0F3B-802570C8.003F1B95@SAAConsultants.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>
>
>Lucene is case sensitive. Make sure the case in your query matches the case
>in the index. You could also try selecting the keyword analyser in Luke.
>
I've done both, but the results are as written.

Dirk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 13:48:05 2005
Return-Path: <java-user-return-17750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41668 invoked from network); 29 Nov 2005 13:48:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 13:48:04 -0000
Received: (qmail 81169 invoked by uid 500); 29 Nov 2005 13:47:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81126 invoked by uid 500); 29 Nov 2005 13:47:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81114 invoked by uid 99); 29 Nov 2005 13:47:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 05:47:57 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pbatcoi@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Nov 2005 05:49:27 -0800
Received: (qmail 19365 invoked by uid 0); 29 Nov 2005 13:47:35 -0000
Received: from 212.204.92.222 by www1.gmx.net with HTTP;
	Tue, 29 Nov 2005 14:47:35 +0100 (MET)
Date: Tue, 29 Nov 2005 14:47:35 +0100 (MET)
From: pbatcoi@gmx.net
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Determine the index of a hit after using MultiSearcher
X-Priority: 3 (Normal)
X-Authenticated: #1820601
Message-ID: <13744.1133272055@www1.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am searching over multiple indices using MultiSearcher. Thus I get hits
from various indices. Is it possible to determine from which index a hit
comes?

The solution I found is to store the index in a document's field, but this
causes some overhead. I would like to find another solution.

Thank you for having read this!

Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 13:54:37 2005
Return-Path: <java-user-return-17751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45039 invoked from network); 29 Nov 2005 13:54:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 13:54:35 -0000
Received: (qmail 89854 invoked by uid 500); 29 Nov 2005 13:54:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89702 invoked by uid 500); 29 Nov 2005 13:54:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89512 invoked by uid 99); 29 Nov 2005 13:54:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 05:54:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 05:53:13 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
Subject: AW: Determine the index of a hit after using MultiSearcher
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 29 Nov 2005 14:51:22 +0100
Message-ID: <28CC4850CA7A704FB1980317A99FA0367497@ad1.ad.kbse.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Determine the index of a hit after using MultiSearcher
Thread-Index: AcX061KuVVNeBMdJQx2bcF3F8FrGcwAAI8TA
From: "Stefan Gusenbauer" <stefan.gusenbauer@kbse.net>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've done this in the same way every document contains a field with the =
corresponding index. I fear there is no other way to do this.


-----Urspr=FCngliche Nachricht-----
Von: pbatcoi@gmx.net [mailto:pbatcoi@gmx.net]=20
Gesendet: Dienstag, 29. November 2005 14:48
An: java-user@lucene.apache.org
Betreff: Determine the index of a hit after using MultiSearcher

Hello,

I am searching over multiple indices using MultiSearcher. Thus I get =
hits
from various indices. Is it possible to determine from which index a hit
comes?

The solution I found is to store the index in a document's field, but =
this
causes some overhead. I would like to find another solution.

Thank you for having read this!

Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 13:57:31 2005
Return-Path: <java-user-return-17752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48648 invoked from network); 29 Nov 2005 13:57:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 13:57:31 -0000
Received: (qmail 5671 invoked by uid 500); 29 Nov 2005 13:57:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5646 invoked by uid 500); 29 Nov 2005 13:57:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5635 invoked by uid 99); 29 Nov 2005 13:57:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 05:57:24 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.139.137 as permitted sender)
Received: from [205.188.139.137] (HELO imo-d23.mx.aol.com) (205.188.139.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 05:58:54 -0800
Received: from Msftblows@aol.com
	by imo-d23.mx.aol.com (mail_out_v38_r6.3.) id h.15d.5dafe98c (15900)
	 for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 08:56:56 -0500 (EST)
Received: from  mblk-r34 (mblk-r34.mblk.aol.com [152.163.179.24]) by air-id09.mx.aol.com (v107.13) with ESMTP id MAILINID93-3e1c438c5e2857; Tue, 29 Nov 2005 08:56:56 -0500
Date: Tue, 29 Nov 2005 08:56:56 -0500
From: msftblows@aol.com
Message-Id: <8C7C303E50F81F9-C1C-3137@mblk-r34.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 68.175.91.77 by mblk-r34.sysops.aol.com (152.163.179.24) with HTTP (WebMailUI); Tue, 29 Nov 2005 08:56:56 -0500
X-Mailer: AOL WebMail 15106
Subject: Caching Results
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7C303E50F81F9_C1C_2DE3_mblk-r34.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.179.24
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7C303E50F81F9_C1C_2DE3_mblk-r34.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

I have some queries that are run numerous times a day..is it better to cache results such that I would run a filter once and then cache it, and with the Term clause run the query? Is it better for me to instead look into optimizing my code and query?
 
I am trying to get some thoughts on caching in general with Lucene.
 
Thanks!
-Joe

----------MailBlocks_8C7C303E50F81F9_C1C_2DE3_mblk-r34.sysops.aol.com--

From java-user-return-17753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 14:00:33 2005
Return-Path: <java-user-return-17753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50630 invoked from network); 29 Nov 2005 14:00:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 14:00:33 -0000
Received: (qmail 9461 invoked by uid 500); 29 Nov 2005 14:00:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9441 invoked by uid 500); 29 Nov 2005 14:00:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9430 invoked by uid 99); 29 Nov 2005 14:00:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:00:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.122.60.61] (HELO mslinux.media-style.com) (212.122.60.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:01:56 -0800
Received: from localhost (localhost [127.0.0.1])
	by mslinux.media-style.com (Postfix) with ESMTP id 9E9FB144374
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 14:56:44 +0100 (CET)
Received: from mslinux.media-style.com ([127.0.0.1])
	by localhost (mslinux.media-style.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 28590-09 for <java-user@lucene.apache.org>;
	Tue, 29 Nov 2005 14:56:44 +0100 (CET)
Received: from [192.168.0.250] (p54B1666D.dip.t-dialin.net [84.177.102.109])
	by mslinux.media-style.com (Postfix) with ESMTP id 95717144372
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 14:56:43 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <8C7C303E50F81F9-C1C-3137@mblk-r34.sysops.aol.com>
References: <8C7C303E50F81F9-C1C-3137@mblk-r34.sysops.aol.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <513E0B8E-499F-474C-91FA-7FC9386B85F7@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Caching Results
Date: Tue, 29 Nov 2005 14:59:58 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at media-style.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well, this depends, in case you have a small index just some million  
documents that it make no sense.
But in case you have some hundred millions documents and may use  
distributed searching it makes a lot of sense.
Just check ehcache.sf.net i found it very useful.
HTH
Stefan

Am 29.11.2005 um 14:56 schrieb msftblows@aol.com:

> I have some queries that are run numerous times a day..is it better  
> to cache results such that I would run a filter once and then cache  
> it, and with the Term clause run the query? Is it better for me to  
> instead look into optimizing my code and query?
>
> I am trying to get some thoughts on caching in general with Lucene.
>
> Thanks!
> -Joe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 14:39:54 2005
Return-Path: <java-user-return-17754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80413 invoked from network); 29 Nov 2005 14:39:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 14:39:54 -0000
Received: (qmail 68812 invoked by uid 500); 29 Nov 2005 14:39:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68786 invoked by uid 500); 29 Nov 2005 14:39:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68774 invoked by uid 99); 29 Nov 2005 14:39:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:39:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:41:16 -0800
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: RE: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 15:39:24 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5203D3B@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Determine the index of a hit after using MultiSearcher
thread-index: AcX061KuVVNeBMdJQx2bcF3F8FrGcwAAI8TAAAGMggA=
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There's a public method "int subSearcher(int n)" in MultiSearcher.

If you pass it a document id (not the hit sequence number!), it returns =
the number of the searcher that contains that document id (in the array =
you passed to the constructor of MultiSearcher)

Luc

-----Original Message-----
From: Stefan Gusenbauer [mailto:stefan.gusenbauer@kbse.net]=20
Sent: dinsdag 29 november 2005 14:51
To: java-user@lucene.apache.org
Subject: AW: Determine the index of a hit after using MultiSearcher

I've done this in the same way every document contains a field with the =
corresponding index. I fear there is no other way to do this.


-----Urspr=FCngliche Nachricht-----
Von: pbatcoi@gmx.net [mailto:pbatcoi@gmx.net]=20
Gesendet: Dienstag, 29. November 2005 14:48
An: java-user@lucene.apache.org
Betreff: Determine the index of a hit after using MultiSearcher

Hello,

I am searching over multiple indices using MultiSearcher. Thus I get =
hits
from various indices. Is it possible to determine from which index a hit
comes?

The solution I found is to store the index in a document's field, but =
this
causes some overhead. I would like to find another solution.

Thank you for having read this!

Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 14:57:24 2005
Return-Path: <java-user-return-17755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90515 invoked from network); 29 Nov 2005 14:57:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 14:57:24 -0000
Received: (qmail 3599 invoked by uid 500); 29 Nov 2005 14:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3567 invoked by uid 500); 29 Nov 2005 14:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3556 invoked by uid 99); 29 Nov 2005 14:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:57:16 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 06:58:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AA90913E2007; Tue, 29 Nov 2005 09:56:49 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id ABC2913E2006
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 09:56:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <28CC4850CA7A704FB1980317A99FA0367497@ad1.ad.kbse.net>
References: <28CC4850CA7A704FB1980317A99FA0367497@ad1.ad.kbse.net>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <44F4BF77-2C0E-416A-ABF1-676BA4405D24@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: AW: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 09:57:07 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 29 Nov 2005, at 08:51, Stefan Gusenbauer wrote:

> I've done this in the same way every document contains a field with =20=

> the corresponding index. I fear there is no other way to do this.

Fear not.   There is a way.  In fact, lucenebook.com uses this =20
capability to determine whether a search hit is from the book content =20=

or from the blog content.  Here's a snippet of its code:

       MultiSearcher searcher =3D (MultiSearcher) context.getAttribute=20=

("searcher");
       IndexReader[] readers =3D (IndexReader[]) context.getAttribute=20
("readers");

       Hits hits =3D searcher.search(query);

       HttpServletRequest request =3D cycle.getRequestContext=20
().getRequest();
       int currentPage =3D request.getParameter("page") =3D=3D null ? 1 =
: =20
Integer.parseInt(request.getParameter("pa
ge"));

       int numPages =3D (hits.length() / RESULTS_PER_PAGE) + =20
(hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
       if (currentPage > numPages) currentPage =3D numPages;
       int numPages =3D (hits.length() / RESULTS_PER_PAGE) + =20
(hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
       if (currentPage > numPages) currentPage =3D numPages;
       if (currentPage < 1) currentPage =3D 1;
       setProperty("currentPage", new Integer(currentPage));  // =20
reset in case original value is out of bound
s

       int startHit =3D (currentPage - 1) * RESULTS_PER_PAGE + 1;
       int endHit =3D currentPage * RESULTS_PER_PAGE;
       if (endHit > hits.length()) {
         endHit =3D hits.length();
       }

       setProperty("startHit", new Integer(startHit));
       setProperty("endHit", new Integer(endHit));
       setProperty("numPages", new Integer(numPages));
       setProperty("numHits", new Integer(hits.length()));

       logger.info("Query: " + expression + " : #hits =3D " + =20
hits.length() + " : page=3D" + currentPage);

       if (hits.length() =3D=3D 0) return;

       ArrayList results =3D new ArrayList();
       for (int i =3D startHit; i <=3D endHit; i++) {
         int position =3D i - 1;
         Document doc =3D hits.doc(position);
         int indexIndex =3D searcher.subSearcher(hits.id(position));

         // ...
       }


The trick is to use searcher.subSearcher with the document number =20
from hits.

	Erik


>
>
> -----Urspr=FCngliche Nachricht-----
> Von: pbatcoi@gmx.net [mailto:pbatcoi@gmx.net]
> Gesendet: Dienstag, 29. November 2005 14:48
> An: java-user@lucene.apache.org
> Betreff: Determine the index of a hit after using MultiSearcher
>
> Hello,
>
> I am searching over multiple indices using MultiSearcher. Thus I =20
> get hits
> from various indices. Is it possible to determine from which index =20
> a hit
> comes?
>
> The solution I found is to store the index in a document's field, =20
> but this
> causes some overhead. I would like to find another solution.
>
> Thank you for having read this!
>
> Peter
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 15:06:11 2005
Return-Path: <java-user-return-17756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95311 invoked from network); 29 Nov 2005 15:06:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 15:06:11 -0000
Received: (qmail 31851 invoked by uid 500); 29 Nov 2005 15:06:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31824 invoked by uid 500); 29 Nov 2005 15:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31807 invoked by uid 99); 29 Nov 2005 15:06:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 07:06:03 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 07:07:33 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
Subject: AW: AW: Determine the index of a hit after using MultiSearcher
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 29 Nov 2005 16:05:42 +0100
Message-ID: <28CC4850CA7A704FB1980317A99FA036749A@ad1.ad.kbse.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: Determine the index of a hit after using MultiSearcher
Thread-Index: AcX09QEDFFJejvIZS/C4kz0G53ZrbgAARYGQ
From: "Stefan Gusenbauer" <stefan.gusenbauer@kbse.net>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is an other good reason for buying the book ultimately!=20
Thx
stefan

-----Urspr=FCngliche Nachricht-----
Von: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Gesendet: Dienstag, 29. November 2005 15:57
An: java-user@lucene.apache.org
Betreff: Re: AW: Determine the index of a hit after using MultiSearcher


On 29 Nov 2005, at 08:51, Stefan Gusenbauer wrote:

> I've done this in the same way every document contains a field with =20
> the corresponding index. I fear there is no other way to do this.

Fear not.   There is a way.  In fact, lucenebook.com uses this =20
capability to determine whether a search hit is from the book content =20
or from the blog content.  Here's a snippet of its code:

       MultiSearcher searcher =3D (MultiSearcher) context.getAttribute=20
("searcher");
       IndexReader[] readers =3D (IndexReader[]) context.getAttribute=20
("readers");

       Hits hits =3D searcher.search(query);

       HttpServletRequest request =3D cycle.getRequestContext=20
().getRequest();
       int currentPage =3D request.getParameter("page") =3D=3D null ? 1 =
: =20
Integer.parseInt(request.getParameter("pa
ge"));

       int numPages =3D (hits.length() / RESULTS_PER_PAGE) + =20
(hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
       if (currentPage > numPages) currentPage =3D numPages;
       int numPages =3D (hits.length() / RESULTS_PER_PAGE) + =20
(hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
       if (currentPage > numPages) currentPage =3D numPages;
       if (currentPage < 1) currentPage =3D 1;
       setProperty("currentPage", new Integer(currentPage));  // =20
reset in case original value is out of bound
s

       int startHit =3D (currentPage - 1) * RESULTS_PER_PAGE + 1;
       int endHit =3D currentPage * RESULTS_PER_PAGE;
       if (endHit > hits.length()) {
         endHit =3D hits.length();
       }

       setProperty("startHit", new Integer(startHit));
       setProperty("endHit", new Integer(endHit));
       setProperty("numPages", new Integer(numPages));
       setProperty("numHits", new Integer(hits.length()));

       logger.info("Query: " + expression + " : #hits =3D " + =20
hits.length() + " : page=3D" + currentPage);

       if (hits.length() =3D=3D 0) return;

       ArrayList results =3D new ArrayList();
       for (int i =3D startHit; i <=3D endHit; i++) {
         int position =3D i - 1;
         Document doc =3D hits.doc(position);
         int indexIndex =3D searcher.subSearcher(hits.id(position));

         // ...
       }


The trick is to use searcher.subSearcher with the document number =20
from hits.

	Erik


>
>
> -----Urspr=FCngliche Nachricht-----
> Von: pbatcoi@gmx.net [mailto:pbatcoi@gmx.net]
> Gesendet: Dienstag, 29. November 2005 14:48
> An: java-user@lucene.apache.org
> Betreff: Determine the index of a hit after using MultiSearcher
>
> Hello,
>
> I am searching over multiple indices using MultiSearcher. Thus I =20
> get hits
> from various indices. Is it possible to determine from which index =20
> a hit
> comes?
>
> The solution I found is to store the index in a document's field, =20
> but this
> causes some overhead. I would like to find another solution.
>
> Thank you for having read this!
>
> Peter
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 17:53:58 2005
Return-Path: <java-user-return-17757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7093 invoked from network); 29 Nov 2005 17:53:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 17:53:57 -0000
Received: (qmail 87601 invoked by uid 500); 29 Nov 2005 17:53:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87580 invoked by uid 500); 29 Nov 2005 17:53:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87569 invoked by uid 99); 29 Nov 2005 17:53:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 09:53:51 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 09:55:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 655BE13E2134; Tue, 29 Nov 2005 12:53:23 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id EA2FF13E2135
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 12:52:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <28CC4850CA7A704FB1980317A99FA036749A@ad1.ad.kbse.net>
References: <28CC4850CA7A704FB1980317A99FA036749A@ad1.ad.kbse.net>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <932968C5-0DE1-43CE-99F8-4D23E1EA62C1@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: AW: AW: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 12:53:28 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 29 Nov 2005, at 10:05, Stefan Gusenbauer wrote:
> This is an other good reason for buying the book ultimately!

Well, unfortunately, this particular trivia isn't covered in the =20
book, but rather behind the scenes of the website about the book.  I =20
will mark this as something to add to the 2nd edition though.

	Erik


> -----Urspr=FCngliche Nachricht-----
> Von: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Gesendet: Dienstag, 29. November 2005 15:57
> An: java-user@lucene.apache.org
> Betreff: Re: AW: Determine the index of a hit after using =20
> MultiSearcher
>
>
> On 29 Nov 2005, at 08:51, Stefan Gusenbauer wrote:
>
>> I've done this in the same way every document contains a field with
>> the corresponding index. I fear there is no other way to do this.
>
> Fear not.   There is a way.  In fact, lucenebook.com uses this
> capability to determine whether a search hit is from the book content
> or from the blog content.  Here's a snippet of its code:
>
>        MultiSearcher searcher =3D (MultiSearcher) context.getAttribute
> ("searcher");
>        IndexReader[] readers =3D (IndexReader[]) context.getAttribute
> ("readers");
>
>        Hits hits =3D searcher.search(query);
>
>        HttpServletRequest request =3D cycle.getRequestContext
> ().getRequest();
>        int currentPage =3D request.getParameter("page") =3D=3D null ? =
1 :
> Integer.parseInt(request.getParameter("pa
> ge"));
>
>        int numPages =3D (hits.length() / RESULTS_PER_PAGE) +
> (hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
>        if (currentPage > numPages) currentPage =3D numPages;
>        int numPages =3D (hits.length() / RESULTS_PER_PAGE) +
> (hits.length() % RESULTS_PER_PAGE =3D=3D 0 ? 0 : 1);
>        if (currentPage > numPages) currentPage =3D numPages;
>        if (currentPage < 1) currentPage =3D 1;
>        setProperty("currentPage", new Integer(currentPage));  //
> reset in case original value is out of bound
> s
>
>        int startHit =3D (currentPage - 1) * RESULTS_PER_PAGE + 1;
>        int endHit =3D currentPage * RESULTS_PER_PAGE;
>        if (endHit > hits.length()) {
>          endHit =3D hits.length();
>        }
>
>        setProperty("startHit", new Integer(startHit));
>        setProperty("endHit", new Integer(endHit));
>        setProperty("numPages", new Integer(numPages));
>        setProperty("numHits", new Integer(hits.length()));
>
>        logger.info("Query: " + expression + " : #hits =3D " +
> hits.length() + " : page=3D" + currentPage);
>
>        if (hits.length() =3D=3D 0) return;
>
>        ArrayList results =3D new ArrayList();
>        for (int i =3D startHit; i <=3D endHit; i++) {
>          int position =3D i - 1;
>          Document doc =3D hits.doc(position);
>          int indexIndex =3D searcher.subSearcher(hits.id(position));
>
>          // ...
>        }
>
>
> The trick is to use searcher.subSearcher with the document number
> from hits.
>
> 	Erik
>
>
>>
>>
>> -----Urspr=FCngliche Nachricht-----
>> Von: pbatcoi@gmx.net [mailto:pbatcoi@gmx.net]
>> Gesendet: Dienstag, 29. November 2005 14:48
>> An: java-user@lucene.apache.org
>> Betreff: Determine the index of a hit after using MultiSearcher
>>
>> Hello,
>>
>> I am searching over multiple indices using MultiSearcher. Thus I
>> get hits
>> from various indices. Is it possible to determine from which index
>> a hit
>> comes?
>>
>> The solution I found is to store the index in a document's field,
>> but this
>> causes some overhead. I would like to find another solution.
>>
>> Thank you for having read this!
>>
>> Peter
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 19:39:48 2005
Return-Path: <java-user-return-17758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54343 invoked from network); 29 Nov 2005 19:39:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 19:39:48 -0000
Received: (qmail 4086 invoked by uid 500); 29 Nov 2005 19:39:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4066 invoked by uid 500); 29 Nov 2005 19:39:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4055 invoked by uid 99); 29 Nov 2005 19:39:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 11:39:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.196] (HELO smtp806.mail.ukl.yahoo.com) (217.12.12.196)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Nov 2005 11:41:10 -0800
Received: (qmail 23888 invoked from network); 29 Nov 2005 19:39:18 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@81.159.11.120 with login)
  by smtp806.mail.ukl.yahoo.com with SMTP; 29 Nov 2005 19:39:17 -0000
Message-ID: <000f01c5f51c$9588b120$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <28CC4850CA7A704FB1980317A99FA036749A@ad1.ad.kbse.net> <932968C5-0DE1-43CE-99F8-4D23E1EA62C1@ehatchersolutions.com>
Subject: Re: AW: AW: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 19:39:16 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you going to write another addition with lots of Servlet code? If that's 
the case put me down for an advance copy.Lucene and servlets is a direction 
I may be going in the future.
Thanks,
Malcolm Clark 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 21:43:14 2005
Return-Path: <java-user-return-17759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29912 invoked from network); 29 Nov 2005 21:43:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 21:43:14 -0000
Received: (qmail 59047 invoked by uid 500); 29 Nov 2005 21:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59026 invoked by uid 500); 29 Nov 2005 21:43:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59010 invoked by uid 99); 29 Nov 2005 21:43:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 13:43:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 13:44:37 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.3/8.13.3) with ESMTP id jATLgjPi051530
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 22:42:45 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 22:42:45 +0100
User-Agent: KMail/1.5.4
References: <13744.1133272055@www1.gmx.net>
In-Reply-To: <13744.1133272055@www1.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511292242.45461.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 29 November 2005 14:47, pbatcoi@gmx.net wrote:
> Hello,
> 
> I am searching over multiple indices using MultiSearcher. Thus I get hits
> from various indices. Is it possible to determine from which index a hit
> comes?

Yes: use the subIndex() and maybe subDoc() methods here:

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 21:45:22 2005
Return-Path: <java-user-return-17760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30537 invoked from network); 29 Nov 2005 21:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 21:45:22 -0000
Received: (qmail 61464 invoked by uid 500); 29 Nov 2005 21:45:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61440 invoked by uid 500); 29 Nov 2005 21:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61429 invoked by uid 99); 29 Nov 2005 21:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 13:45:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 13:46:45 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.3/8.13.3) with ESMTP id jATLiriK052518
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 22:44:54 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Determine the index of a hit after using MultiSearcher
Date: Tue, 29 Nov 2005 22:44:53 +0100
User-Agent: KMail/1.5.4
References: <13744.1133272055@www1.gmx.net> <200511292242.45461.paul.elschot@xs4all.nl>
In-Reply-To: <200511292242.45461.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200511292244.53964.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 29 November 2005 22:42, Paul Elschot wrote:
> On Tuesday 29 November 2005 14:47, pbatcoi@gmx.net wrote:
> > Hello,
> > 
> > I am searching over multiple indices using MultiSearcher. Thus I get hits
> > from various indices. Is it possible to determine from which index a hit
> > comes?
> 
> Yes: use the subIndex() and maybe subDoc() methods here:

That should have been the subSearcher() method as Erik already replied.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 29 22:33:48 2005
Return-Path: <java-user-return-17761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51838 invoked from network); 29 Nov 2005 22:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Nov 2005 22:33:48 -0000
Received: (qmail 81509 invoked by uid 500); 29 Nov 2005 22:33:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81480 invoked by uid 500); 29 Nov 2005 22:33:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81469 invoked by uid 99); 29 Nov 2005 22:33:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 14:33:42 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Nov 2005 14:35:12 -0800
Received: (qmail 44980 invoked by uid 60001); 29 Nov 2005 22:33:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Q+fJC5pM2Q/VUxezjE/nI0KD259Rm54K4w1yzKi1v2JCjaBmxUcaGzb94q4g+Cx3FlRA4EtRXB2hweGGIYuCBNEb88HpdM6xvnFUS1Ge1Rob7YBnLBHDQIQ/OzATlIkQk1JXGVmhGRB5hMoLdQNE6mNMnvCj0T1z3kYJEexQnTg=  ;
Message-ID: <20051129223320.44978.qmail@web50307.mail.yahoo.com>
Received: from [69.201.142.21] by web50307.mail.yahoo.com via HTTP; Tue, 29 Nov 2005 14:33:20 PST
Date: Tue, 29 Nov 2005 14:33:20 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: AW: AW: Determine the index of a hit after using MultiSearcher
To: java-user@lucene.apache.org
In-Reply-To: <000f01c5f51c$9588b120$0201a8c0@MALCOLM>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We are not planning on anything servlet-specific - servlets are really
nothing special.  But we are planning on LIA 2.0.  Not sure about the
timing yet (but I can tell you we haven't started writing anything just
yet).

Otis

--- Malcolm <malcyclark@btinternet.com> wrote:

> Are you going to write another addition with lots of Servlet code? If
> that's 
> the case put me down for an advance copy.Lucene and servlets is a
> direction 
> I may be going in the future.
> Thanks,
> Malcolm Clark 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 00:20:20 2005
Return-Path: <java-user-return-17762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5330 invoked from network); 30 Nov 2005 00:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 00:20:19 -0000
Received: (qmail 69020 invoked by uid 500); 30 Nov 2005 00:20:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68999 invoked by uid 500); 30 Nov 2005 00:20:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68988 invoked by uid 99); 30 Nov 2005 00:20:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 16:20:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.212.0.46] (HELO sbmail.sandbox.marshall.edu) (206.212.0.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 16:21:33 -0800
Received: from xue (unknown [10.102.180.91])
	by sbmail.sandbox.marshall.edu (Postfix) with ESMTP id E1D7016E324
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 19:19:41 -0500 (EST)
From: "Jack Xue" <xue@sandbox.marshall.edu>
To: <java-user@lucene.apache.org>
Subject: Looking for Similarity Subclass Examples
Date: Tue, 29 Nov 2005 19:19:38 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_005E_01C5F519.D7A046C0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcX1Q8AuT/S30gPdSp6BhibDZrHv2w==
Message-Id: <20051130001941.E1D7016E324@sbmail.sandbox.marshall.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_005E_01C5F519.D7A046C0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hello list,

I am working on boosting query performance by writing my own Similarity
Class (Rewrite tf(), idf(), boost(), lengthNorm()). I've gone through the
defaultSimilarity class. Does anyone know other examples of Similarity Class
Implementation and point me to that direction? 

Thanks.

Jack Xue

------=_NextPart_000_005E_01C5F519.D7A046C0--



From java-user-return-17763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 01:07:05 2005
Return-Path: <java-user-return-17763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18638 invoked from network); 30 Nov 2005 01:07:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 01:07:05 -0000
Received: (qmail 7604 invoked by uid 500); 30 Nov 2005 01:07:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7572 invoked by uid 500); 30 Nov 2005 01:07:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7558 invoked by uid 99); 30 Nov 2005 01:06:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 17:06:59 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Nov 2005 17:08:29 -0800
Received: from smtp2.sybase.com (sybgate2 [10.22.97.85])
	by inergen.sybase.com  with ESMTP id jAU16c316319
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 17:06:38 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp2.sybase.com  with ESMTP id RAA24013
	for <java-user@lucene.apache.org>; Tue, 29 Nov 2005 17:06:38 -0800 (PST)
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131047B6512@MAIL01.wescodist.com>
Subject: Re: Lucene Error List
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFAA5FE08B.B27C6473-ON882570C9.00053F31-852570C9.000617A1@sybase.com>
From: Daniel.Clark@sybase.com
Date: Tue, 29 Nov 2005 20:06:35 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 11/29/2005
 05:06:38 PM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Be sure to error trap the exception Boolean.TooManyClauses specifically and
the core RuntimeException as the secondary trap.  For the
Boolean.TooManyClauses exception, I give the user a message like, "Too
broad of a search.  Try again".  Searches like "f*" will produce this
exception.  Also, the wildcard search by default doesn't handle prefix
wildcard searches such as "*at".  You can either use the WildCardQuery
(something like that) or error trap and give a message like "Invalid query.
Try again."  Hope this helps.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             "Aigner, Thomas"                                              
             <TAigner@WescoDis                                             
             t.com>                                                     To 
                                       <java-user@lucene.apache.org>       
             11/28/2005 03:09                                           cc 
             PM                                                            
                                                                   Subject 
                                       Lucene Error List                   
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           





Is there an error list for lucene errors?  I am creating a project that
will do something specific for certain lucene errors that occur (Lock
file out there, etc).

Thanks,
Tom



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 12:41:06 2005
Return-Path: <java-user-return-17764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10016 invoked from network); 30 Nov 2005 12:41:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 12:41:06 -0000
Received: (qmail 17030 invoked by uid 500); 30 Nov 2005 12:41:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16908 invoked by uid 500); 30 Nov 2005 12:40:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16896 invoked by uid 99); 30 Nov 2005 12:40:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 04:40:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pbatcoi@gmx.net designates 213.165.64.21 as permitted sender)
Received: from [213.165.64.21] (HELO mail.gmx.net) (213.165.64.21)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Nov 2005 04:42:28 -0800
Received: (qmail 18972 invoked by uid 0); 30 Nov 2005 12:40:36 -0000
Received: from 212.204.92.222 by www4.gmx.net with HTTP;
	Wed, 30 Nov 2005 13:40:36 +0100 (MET)
Date: Wed, 30 Nov 2005 13:40:36 +0100 (MET)
From: "Peter Beyersdorf" <pbatcoi@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <3287125F0F0CCE4E8F55435208100CF5203D3B@exchange-mbx.be.bvd>
Subject: RE: Determine the index of a hit after using MultiSearcher - Resolved
X-Priority: 3 (Normal)
X-Authenticated: #1820601
Message-ID: <23748.1133354436@www4.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I just wanted to let you know that the issue is resolved. I am using

int searcherIndex = multiSearcher.subSearcher(hits.id(i));

where i is the index in the hits. 

It works fine! Thanks to everybody for this solution!

Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 12:47:55 2005
Return-Path: <java-user-return-17765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17737 invoked from network); 30 Nov 2005 12:47:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 12:47:55 -0000
Received: (qmail 22987 invoked by uid 500); 30 Nov 2005 12:47:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22954 invoked by uid 500); 30 Nov 2005 12:47:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22941 invoked by uid 99); 30 Nov 2005 12:47:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 04:47:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 04:49:20 -0800
Received: from [61.12.8.66] (helo=[192.168.1.180])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1EhRMs1qdE-0000Sa; Wed, 30 Nov 2005 07:47:28 -0500
Message-ID: <438D9EF1.7000801@insideview.com>
Date: Wed, 30 Nov 2005 18:15:37 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: how to control terms to be highlighted?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have a requirement to highlight search keywords in the results and 
display the matching fragment of the text with the results. I am using 
the Hits highlighting mentioned in Lucene in Action.

Here is the search query(BooleanQuery) I am passing to the IndexSearcher 
and QueryScorer:
 +DocumentType:news
 +(CompanyId:10 CompanyId:20 CompanyId:30 CompanyId:40)
 +FilingDate:[20041201 TO 20051201]
 +(Content:"cost saving" Content:"cost savings" Content:outsource 
Content:outsources Content:downsize Content:downsizes 
Content:restructuring Content:restructure)

My requirement is to highlight only the keywords for 'Content' field, 
but the highlighter api is also highlighting words like 'news', '10', 
'40' etc.
Is there anyway to restrict the highlighter to highlight only the values 
mentioned for the field 'Content'?

Thanks,
Harini





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 13:05:52 2005
Return-Path: <java-user-return-17766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27848 invoked from network); 30 Nov 2005 13:05:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 13:05:48 -0000
Received: (qmail 56766 invoked by uid 500); 30 Nov 2005 13:05:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56684 invoked by uid 500); 30 Nov 2005 13:05:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56572 invoked by uid 99); 30 Nov 2005 13:05:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 05:05:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.115.132.21] (HELO mx2.compuware.com) (63.115.132.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 05:06:49 -0800
Received: from bh1.compuware.com (unknown [10.10.1.31])
	by mx2.compuware.com (Postfix) with ESMTP id 812FD2C03E0
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 08:04:58 -0500 (EST)
Received: by compuware.com with Internet Mail Service (5.5.2657.72)
	id <XNHXLM3F>; Wed, 30 Nov 2005 08:04:58 -0500
Message-ID: <41C33488FEC67C43BC564F5F086C21FF012BAFB2@nasa-dtw-ex001.nasa.cpwr.corp>
From: "Combs, Craig" <Craig.Combs@compuware.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: Why are tokens not being indexed?
Date: Wed, 30 Nov 2005 08:04:56 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a body of text which is being added to a document as unstored.  =
All
the words in the body text are coming through in the token stream for
analyzing.  For some reason I can search on some of tokens and others I =
can
not.

Take the following string:

"L'amministrazione di Uniface View consente un elevato grado di =
flessibilit=E0
e pu=F2 essere realizzata in base ai requisiti del proprio sito. Nel =
manuale
Guida all'amministrazione di Uniface View  vengono descritte le =
procedure di
amministrazione del sistema. Utilizzare le informazioni riportate di =
seguito
per creare il portale pi=F9 adatto alle proprie esigenze."

If I search for "consente" or "elevato" no results are found.  If I =
search
for "view" or "grado" results are found.  I find an explanation for =
this
behavior.  These tokens are being returned to the reader but don't seem =
to
be making it into the index.

Any ideas on how to debugs or an explanation why this might be =
happening?

Regards,
Craig Combs




The contents of this e-mail are intended for the named addressee only. =
It
contains information that may be confidential. Unless you are the named
addressee or an authorized designee, you may not copy or use it, or =
disclose
it to anyone else. If you received it in error please notify us =
immediately
and then destroy it.=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 13:43:36 2005
Return-Path: <java-user-return-17767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47415 invoked from network); 30 Nov 2005 13:43:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 13:43:36 -0000
Received: (qmail 21313 invoked by uid 500); 30 Nov 2005 13:43:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21279 invoked by uid 500); 30 Nov 2005 13:43:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21262 invoked by uid 99); 30 Nov 2005 13:43:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 05:43:28 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.219] (HELO web26008.mail.ukl.yahoo.com) (217.12.10.219)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Nov 2005 05:44:57 -0800
Received: (qmail 4462 invoked by uid 60001); 30 Nov 2005 13:42:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=WpOy8CspsV3SkJeJW92nQHNTfU4Pr1puWJTgdypvX/v0b84IdnU1GUiFwj051IIrzIK99h/lgtL5lq3njuS/owb1pso7avurBRA2wUqnpj9fG7vjqePZAMlK8qTMlnFy5s/lxGmAPa8cZlq5GXwij5c1G1Gqx+dxaU6oAyA1xhA=  ;
Message-ID: <20051130134215.4460.qmail@web26008.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26008.mail.ukl.yahoo.com via HTTP; Wed, 30 Nov 2005 13:42:15 GMT
Date: Wed, 30 Nov 2005 13:42:15 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: how to control terms to be highlighted?
To: java-user@lucene.apache.org
In-Reply-To: <438D9EF1.7000801@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>> Is there anyway to restrict the highlighter to
> highlight only the values 
> mentioned for the field 'Content'?

The problem lies in the QueryTermsExtractor class
which is typically used to provide the Highlighter
with the list of strings to identify in the text. It
currently has no filter for fieldname - you could add
this without too much effort.

I could make this modification but it may change the
behaviour of existing applications - currently the
QueryTermsExtractor method that takes a fieldname only
uses that fieldname to derive IDF weightings, the
proposed change would also have the effect of
filtering out any query terms that weren't for this
field. 
Would this change be a problem for anyone?

Cheers,
Mark

--- Harini Raghavan <harini.raghavan@insideview.com>
wrote:

> Hi,
> 
> I have a requirement to highlight search keywords in
> the results and 
> display the matching fragment of the text with the
> results. I am using 
> the Hits highlighting mentioned in Lucene in Action.
> 
> Here is the search query(BooleanQuery) I am passing
> to the IndexSearcher 
> and QueryScorer:
>  +DocumentType:news
>  +(CompanyId:10 CompanyId:20 CompanyId:30
> CompanyId:40)
>  +FilingDate:[20041201 TO 20051201]
>  +(Content:"cost saving" Content:"cost savings"
> Content:outsource 
> Content:outsources Content:downsize
> Content:downsizes 
> Content:restructuring Content:restructure)
> 
> My requirement is to highlight only the keywords for
> 'Content' field, 
> but the highlighter api is also highlighting words
> like 'news', '10', 
> '40' etc.
> Is there anyway to restrict the highlighter to
> highlight only the values 
> mentioned for the field 'Content'?
> 
> Thanks,
> Harini
> 
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 13:48:16 2005
Return-Path: <java-user-return-17768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49037 invoked from network); 30 Nov 2005 13:48:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 13:48:15 -0000
Received: (qmail 24530 invoked by uid 500); 30 Nov 2005 13:47:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24107 invoked by uid 500); 30 Nov 2005 13:47:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23963 invoked by uid 99); 30 Nov 2005 13:47:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 05:47:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 05:49:05 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2659213E2025; Wed, 30 Nov 2005 08:47:12 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id AA6A013E2024
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 08:46:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <41C33488FEC67C43BC564F5F086C21FF012BAFB2@nasa-dtw-ex001.nasa.cpwr.corp>
References: <41C33488FEC67C43BC564F5F086C21FF012BAFB2@nasa-dtw-ex001.nasa.cpwr.corp>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <8A23BC34-D4FE-44D7-96E6-425438CC7661@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Why are tokens not being indexed?
Date: Wed, 30 Nov 2005 08:47:28 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What Analyzer are you using?   Have a look at the Analyzer demo with =20
Lucene in Action's code, or from my java.net article so you can =20
analyze your analyzer.  Also try out Luke, it really is handy for =20
seeing inside your index.

And is your text really long (> 10,000 terms)?   If so, you'll need =20
to set the max. field length higher on IndexWriter (I always use =20
Integer.MAX_VALUE).

	Erik



On 30 Nov 2005, at 08:04, Combs, Craig wrote:

> I have a body of text which is being added to a document as =20
> unstored.  All
> the words in the body text are coming through in the token stream for
> analyzing.  For some reason I can search on some of tokens and =20
> others I can
> not.
>
> Take the following string:
>
> "L'amministrazione di Uniface View consente un elevato grado di =20
> flessibilit=E0
> e pu=F2 essere realizzata in base ai requisiti del proprio sito. Nel =20=

> manuale
> Guida all'amministrazione di Uniface View  vengono descritte le =20
> procedure di
> amministrazione del sistema. Utilizzare le informazioni riportate =20
> di seguito
> per creare il portale pi=F9 adatto alle proprie esigenze."
>
> If I search for "consente" or "elevato" no results are found.  If I =20=

> search
> for "view" or "grado" results are found.  I find an explanation for =20=

> this
> behavior.  These tokens are being returned to the reader but don't =20
> seem to
> be making it into the index.
>
> Any ideas on how to debugs or an explanation why this might be =20
> happening?
>
> Regards,
> Craig Combs
>
>
>
>
> The contents of this e-mail are intended for the named addressee =20
> only. It
> contains information that may be confidential. Unless you are the =20
> named
> addressee or an authorized designee, you may not copy or use it, or =20=

> disclose
> it to anyone else. If you received it in error please notify us =20
> immediately
> and then destroy it.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 15:22:58 2005
Return-Path: <java-user-return-17769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5132 invoked from network); 30 Nov 2005 15:22:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 15:22:57 -0000
Received: (qmail 98125 invoked by uid 500); 30 Nov 2005 15:22:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98105 invoked by uid 500); 30 Nov 2005 15:22:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98094 invoked by uid 99); 30 Nov 2005 15:22:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 07:22:50 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 07:24:19 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 30 Nov 2005 16:22:27 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: A couple of questions regarding load balancing and failover
Date: Wed, 30 Nov 2005 16:22:27 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003440F14E2@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: A couple of questions regarding load balancing and failover
Thread-Index: AcX1wd8VSC2dV9RJRueMaxD5xWnIpg==
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 Nov 2005 15:22:27.0160 (UTC) FILETIME=[DF2BA580:01C5F5C1]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am working for a major Application Service Provider in Europe and we
have now since a couple of months very successfully used Lucene 1.4. We
are overall very pleased with it but as the load on the application
which uses Lucene increased we were forced to invest in better hardware
and also in redundancy.

Since I am not 100% sure if everything is implemented as it should I
would like to ask you all to answer a couple of questions. First
however, I want to explain how our architecture currently looks like:

We are running a very Service-Oriented Architecture and thus lots of our
applications use JINI and RMI services. We currently got four main
applications which use Lucene and these applications connect to our
Lucene-index by RMI. We've got two Lucene Servers and both access the
same index-files which are placed on a shared drive. These two servers
simply expose the indexes by a RemoteSearchable and all applications
which use Lucene simply connect to these RemoteSearchables via RMI.
Also, we have another server which does nothing but update the
indexfiles.

Now my questions:

1.) Does Lucenes MultiSearcher implement some kind of automatic failover
and/or load-balancing mechanism if both Searchables which I supply in
MultiSearchers constructor go to two different servers but to the very
same index-files? I.e. if server 1 crashes there is still server 2 and
thus at least one server will be able to complete the request. Will the
MultiSearcher which is using RemoteSearchables from two servers
automatically detect that Searchable number 1 (server 1) does not
respond and then try Searchable 2? If not, what is the recommended way
of doing this. And the second part of the question is: If both
Searchables are available and working, will the MultiSearcher
automatically distribute requests to both Searchables or is there a risk
that we get duplicates since both Searchables actually expose the same
indexes? If this isn't the case, what would be the recommended way of
implemented load distribution over several servers.

2.) On our index-servers which expose the underlaying index as a
RemoteSearchable we do have four dualcore processors each. Since we thus
have great multithreading-capabilities I do use the
ParallelMultiSearcher instead of the MultiSearcher. On the client side
(the application which connects to the Index RMI-Server), should I
therefore also be using a ParallelMultiSearcher or is it ok if I use the
standard MultiSeacher? And if so, why?

3.) Currently - to increase speed - we are loading the entire index into
memory (using RAMDirectory rather than the FSDirectory). We found out
that the RAMDirectory will not update itself if the files in the
directory from where the RAMDirectory is loading the index are updated.
Therefore I simply coded a Thread which every 10 minutes instantiates
new RAMDirectories, unbinds the current RemoteSearchable and then
rebinds to the RMI Registry with the new Searchable which uses the new
RAMDirectories. This certainly doesn't feel like a good solution, even
though the time under which the RMI service will not be able to answer
is minimal, there is still a small chance that this very moment a client
application tries to find something in the index. Is there a way to
refresh the RAMDirectory without having to create new instances of all
classes and bind this classes to the RMI Registry? If so, how?

I would be enormously thankful if you guys could answer my questions as
our load is increasing daily and we would like to have our Lucene-index
working as smoothly as possible!

Daniel Pfeifer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 15:54:02 2005
Return-Path: <java-user-return-17770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26821 invoked from network); 30 Nov 2005 15:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 15:54:02 -0000
Received: (qmail 89521 invoked by uid 500); 30 Nov 2005 15:53:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89499 invoked by uid 500); 30 Nov 2005 15:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89488 invoked by uid 99); 30 Nov 2005 15:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 07:53:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.115.132.21] (HELO mx2.compuware.com) (63.115.132.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 07:55:22 -0800
Received: from bh1.compuware.com (unknown [10.10.1.31])
	by mx2.compuware.com (Postfix) with ESMTP id B6F552C051E
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 10:53:23 -0500 (EST)
Received: by compuware.com with Internet Mail Service (5.5.2657.72)
	id <XNHXL6Q1>; Wed, 30 Nov 2005 10:53:22 -0500
Message-ID: <41C33488FEC67C43BC564F5F086C21FF012BAFB6@nasa-dtw-ex001.nasa.cpwr.corp>
From: "Combs, Craig" <Craig.Combs@compuware.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: RE: Why are tokens not being indexed?
Date: Wed, 30 Nov 2005 10:53:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I wrote my own analyzer:  When I view the tokens returned from the
StemFilter the words I'm searching for are returned from the "Token =
Next()"
function.  My terms are under 10,000. I have used luke before how can I =
make
it use a custom analyzer?  Thank you for the information.

.... <general code and default stop words> ....
	public final TokenStream tokenStream(String fieldName, Reader
reader) {
		TokenStream result =3D new StandardTokenizer( reader );
		result =3D new LowerCaseFilter( result );
		result =3D new StopFilter( result, stoptable );
		result =3D new ISOLatin1AccentFilter( result );
		result =3D new ItalianStemFilter( result, excltable );
		return result;
	}
}


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, November 30, 2005 8:47 AM
To: java-user@lucene.apache.org
Subject: Re: Why are tokens not being indexed?

What Analyzer are you using?   Have a look at the Analyzer demo with =20
Lucene in Action's code, or from my java.net article so you can =20
analyze your analyzer.  Also try out Luke, it really is handy for =20
seeing inside your index.

And is your text really long (> 10,000 terms)?   If so, you'll need =20
to set the max. field length higher on IndexWriter (I always use =20
Integer.MAX_VALUE).

	Erik



On 30 Nov 2005, at 08:04, Combs, Craig wrote:

> I have a body of text which is being added to a document as =20
> unstored.  All
> the words in the body text are coming through in the token stream for
> analyzing.  For some reason I can search on some of tokens and =20
> others I can
> not.
>
> Take the following string:
>
> "L'amministrazione di Uniface View consente un elevato grado di =20
> flessibilit=E0
> e pu=F2 essere realizzata in base ai requisiti del proprio sito. Nel  =

> manuale
> Guida all'amministrazione di Uniface View  vengono descritte le =20
> procedure di
> amministrazione del sistema. Utilizzare le informazioni riportate =20
> di seguito
> per creare il portale pi=F9 adatto alle proprie esigenze."
>
> If I search for "consente" or "elevato" no results are found.  If I =20
> search
> for "view" or "grado" results are found.  I find an explanation for =20
> this
> behavior.  These tokens are being returned to the reader but don't =20
> seem to
> be making it into the index.
>
> Any ideas on how to debugs or an explanation why this might be =20
> happening?
>
> Regards,
> Craig Combs
>
>
>
>
> The contents of this e-mail are intended for the named addressee =20
> only. It
> contains information that may be confidential. Unless you are the =20
> named
> addressee or an authorized designee, you may not copy or use it, or =20
> disclose
> it to anyone else. If you received it in error please notify us =20
> immediately
> and then destroy it.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



The contents of this e-mail are intended for the named addressee only. =
It
contains information that may be confidential. Unless you are the named
addressee or an authorized designee, you may not copy or use it, or =
disclose
it to anyone else. If you received it in error please notify us =
immediately
and then destroy it.=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 18:18:12 2005
Return-Path: <java-user-return-17771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12625 invoked from network); 30 Nov 2005 18:18:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 18:18:11 -0000
Received: (qmail 89840 invoked by uid 500); 30 Nov 2005 18:18:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89820 invoked by uid 500); 30 Nov 2005 18:18:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89806 invoked by uid 99); 30 Nov 2005 18:18:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 10:18:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 10:19:32 -0800
Received: by wproxy.gmail.com with SMTP id i28so49160wra
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 10:17:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=fykM0EWJaEaRho2ovTFvOqOaKK27iHnQn5MSFICHlZPyE3wlWvR8tagF4fEwfY8cU4kJ6PQB+SaY9KHdu0kFdjQMxTp04e16NbJMu+f22nAVnApScv2Sx+Wnm7R1Mn3LrhvJLTcs5kQj8kEhArisI4FnDLmWFuvIOmiiIeByrWc=
Received: by 10.65.96.7 with SMTP id y7mr337836qbl;
        Wed, 30 Nov 2005 10:17:40 -0800 (PST)
Received: by 10.65.252.12 with HTTP; Wed, 30 Nov 2005 10:17:40 -0800 (PST)
Message-ID: <c68e39170511301017q6c6d4db4p7ac684b6d58c8603@mail.gmail.com>
Date: Wed, 30 Nov 2005 13:17:40 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: FunctionQuery
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I finally got around to updating FunctionQuery:
http://issues.apache.org/jira/browse/LUCENE-446

Comments & suggestions welcome.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 20:44:40 2005
Return-Path: <java-user-return-17772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99825 invoked from network); 30 Nov 2005 20:44:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 20:44:38 -0000
Received: (qmail 89197 invoked by uid 500); 30 Nov 2005 20:44:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88033 invoked by uid 500); 30 Nov 2005 20:44:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87867 invoked by uid 99); 30 Nov 2005 20:44:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 12:44:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 12:42:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DC22113E2010; Wed, 30 Nov 2005 15:40:55 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 20A6913E2006
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 15:40:37 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <41C33488FEC67C43BC564F5F086C21FF012BAFB6@nasa-dtw-ex001.nasa.cpwr.corp>
References: <41C33488FEC67C43BC564F5F086C21FF012BAFB6@nasa-dtw-ex001.nasa.cpwr.corp>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <20FF8AEE-F511-4822-B816-67A351099DA1@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Why are tokens not being indexed?
Date: Wed, 30 Nov 2005 15:41:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 30 Nov 2005, at 10:53, Combs, Craig wrote:
> I wrote my own analyzer:  When I view the tokens returned from the
> StemFilter the words I'm searching for are returned from the "Token =20=

> Next()"
> function.  My terms are under 10,000. I have used luke before how =20
> can I make
> it use a custom analyzer?  Thank you for the information.
>
> .... <general code and default stop words> ....
> 	public final TokenStream tokenStream(String fieldName, Reader
> reader) {
> 		TokenStream result =3D new StandardTokenizer( reader );
> 		result =3D new LowerCaseFilter( result );
> 		result =3D new StopFilter( result, stoptable );
> 		result =3D new ISOLatin1AccentFilter( result );
> 		result =3D new ItalianStemFilter( result, excltable );
> 		return result;
> 	}
> }
>

If the tokens you're searching for are returned from your analyzer, =20
then they will be searchable.  If you're using QueryParser for =20
searching, then you need to be sure your Query is being constructed =20
as you'd like.

To get Luke to use a custom Analyzer, it should have a no-arg =20
constructor, and be put in the classpath that you launch Luke from =20
and it should appear in the list.

Hope this helps.

	Erik



>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, November 30, 2005 8:47 AM
> To: java-user@lucene.apache.org
> Subject: Re: Why are tokens not being indexed?
>
> What Analyzer are you using?   Have a look at the Analyzer demo with
> Lucene in Action's code, or from my java.net article so you can
> analyze your analyzer.  Also try out Luke, it really is handy for
> seeing inside your index.
>
> And is your text really long (> 10,000 terms)?   If so, you'll need
> to set the max. field length higher on IndexWriter (I always use
> Integer.MAX_VALUE).
>
> 	Erik
>
>
>
> On 30 Nov 2005, at 08:04, Combs, Craig wrote:
>
>> I have a body of text which is being added to a document as
>> unstored.  All
>> the words in the body text are coming through in the token stream for
>> analyzing.  For some reason I can search on some of tokens and
>> others I can
>> not.
>>
>> Take the following string:
>>
>> "L'amministrazione di Uniface View consente un elevato grado di
>> flessibilit=E0
>> e pu=F2 essere realizzata in base ai requisiti del proprio sito. Nel
>> manuale
>> Guida all'amministrazione di Uniface View  vengono descritte le
>> procedure di
>> amministrazione del sistema. Utilizzare le informazioni riportate
>> di seguito
>> per creare il portale pi=F9 adatto alle proprie esigenze."
>>
>> If I search for "consente" or "elevato" no results are found.  If I
>> search
>> for "view" or "grado" results are found.  I find an explanation for
>> this
>> behavior.  These tokens are being returned to the reader but don't
>> seem to
>> be making it into the index.
>>
>> Any ideas on how to debugs or an explanation why this might be
>> happening?
>>
>> Regards,
>> Craig Combs
>>
>>
>>
>>
>> The contents of this e-mail are intended for the named addressee
>> only. It
>> contains information that may be confidential. Unless you are the
>> named
>> addressee or an authorized designee, you may not copy or use it, or
>> disclose
>> it to anyone else. If you received it in error please notify us
>> immediately
>> and then destroy it.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> The contents of this e-mail are intended for the named addressee =20
> only. It
> contains information that may be confidential. Unless you are the =20
> named
> addressee or an authorized designee, you may not copy or use it, or =20=

> disclose
> it to anyone else. If you received it in error please notify us =20
> immediately
> and then destroy it.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 20:57:13 2005
Return-Path: <java-user-return-17773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9551 invoked from network); 30 Nov 2005 20:57:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 20:57:13 -0000
Received: (qmail 14588 invoked by uid 500); 30 Nov 2005 20:56:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14514 invoked by uid 500); 30 Nov 2005 20:56:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14464 invoked by uid 99); 30 Nov 2005 20:56:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 12:56:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 12:58:13 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9935613E2006; Wed, 30 Nov 2005 15:56:22 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 11B9F13E2006
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 15:56:19 -0500 (EST)
In-Reply-To: <000f01c5f51c$9588b120$0201a8c0@MALCOLM>
References: <28CC4850CA7A704FB1980317A99FA036749A@ad1.ad.kbse.net> <932968C5-0DE1-43CE-99F8-4D23E1EA62C1@ehatchersolutions.com> <000f01c5f51c$9588b120$0201a8c0@MALCOLM>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5B01C8C5-B5D7-4841-BAC1-1F273303183E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Lucene in Action 2nd edition brainstorming
Date: Wed, 30 Nov 2005 15:56:55 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 29 Nov 2005, at 14:39, Malcolm wrote:
> Are you going to write another addition with lots of Servlet code?  
> If that's the case put me down for an advance copy.Lucene and  
> servlets is a direction I may be going in the future.

To reiterate what Otis said, there wouldn't be much need to cover  
servlets in detail.  Searching with Lucene is general-purpose, and  
servlets is just one way to expose its functionality.  Covering  
servlets would take the focus off of the core technology, and would  
overlap with the other resources available on servlet technologies.   
That being said though, if there is something specific you or anyone  
else would like to have covered, or covered in more detail, or  
removed from the 2nd edition of Lucene in Action, please submit these  
to me personally (not to the list).  All suggestions will be given  
consideration.  Also when Otis and I really dig into the planning,  
we'll post our plans here to solicit feedback.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Nov 30 23:42:25 2005
Return-Path: <java-user-return-17774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82663 invoked from network); 30 Nov 2005 23:42:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Nov 2005 23:42:24 -0000
Received: (qmail 97699 invoked by uid 500); 30 Nov 2005 23:42:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97667 invoked by uid 500); 30 Nov 2005 23:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97650 invoked by uid 99); 30 Nov 2005 23:42:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 15:42:18 -0800
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrshwrk@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 15:43:46 -0800
Received: by zproxy.gmail.com with SMTP id s1so147447nze
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 15:41:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:sender:to:subject:mime-version:content-type;
        b=ZhtlwZuwATWu8JpqfxhL0d38EDkLk6nzPbijIui9lK9fkTGqrvpay+FcI+y78I5d/WFU2/+w8azxyQLLakOHMisdcMbfMluuPHM/M4RTxZDlWd0GEFwChv7q4DD1sxwyxrvLcT3YfXJdJ73cBAoIg2nmm2Q56AvpqH9JjmPjTFw=
Received: by 10.65.11.9 with SMTP id o9mr528300qbi;
        Wed, 30 Nov 2005 15:41:55 -0800 (PST)
Received: by 10.64.151.3 with HTTP; Wed, 30 Nov 2005 15:41:55 -0800 (PST)
Message-ID: <bf155c6c0511301541n6bbd97f0y52091aec4854a651@mail.gmail.com>
Date: Thu, 1 Dec 2005 05:11:55 +0530
From: Chandana <chandana3002@gmail.com>
Reply-To: chandana3002@gmail.com
Sender: rrshwrk@gmail.com
To: java-user@lucene.apache.org
Subject: Lucene + LSI
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5165_21444289.1133394115746"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5165_21444289.1133394115746
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Have any one implemented LSI in Lucene?
Kindly let me know how hard/easy it is.

thanks
chandana

------=_Part_5165_21444289.1133394115746--

From java-user-return-17775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 00:03:21 2005
Return-Path: <java-user-return-17775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90511 invoked from network); 1 Dec 2005 00:03:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 00:03:21 -0000
Received: (qmail 27550 invoked by uid 500); 1 Dec 2005 00:03:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27510 invoked by uid 500); 1 Dec 2005 00:03:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27497 invoked by uid 99); 1 Dec 2005 00:03:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:03:15 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lorenzo.viscanti@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:04:44 -0800
Received: by zproxy.gmail.com with SMTP id i28so129794nzi
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 16:02:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jjJc6U/AfWeVOjs2AxNATyD8/fXR5GpGOOtMD8JUnh4VpGaEw+giJj09ceK/J+Du4UKrwcac8lPI/Ab80lbp43p0I4U9WLPdLImLzC/7KvuNDDik9f7DE6EljreinKNCx1ehy3oJyG+hai20H0fgA92OiMamczx5PRfGEf2Xr3A=
Received: by 10.36.127.10 with SMTP id z10mr955486nzc;
        Wed, 30 Nov 2005 16:02:53 -0800 (PST)
Received: by 10.36.9.8 with HTTP; Wed, 30 Nov 2005 16:02:53 -0800 (PST)
Message-ID: <e72c67f70511301602v7eef9aa3l6c435954c7376718@mail.gmail.com>
Date: Thu, 1 Dec 2005 01:02:53 +0100
From: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
To: java-user@lucene.apache.org, chandana3002@gmail.com
Subject: Re: Lucene + LSI
In-Reply-To: <bf155c6c0511301541n6bbd97f0y52091aec4854a651@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46453_32477010.1133395373057"
References: <bf155c6c0511301541n6bbd97f0y52091aec4854a651@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_46453_32477010.1133395373057
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

It depends on the kind of implementation you are thinking of.
You can use Lucene to create the inputs to the LSI, and then use them in
your own system. I've written that code and it works, for searches and
clustering.
But if you are figuring out an LSI enhanced Lucene search system (based on =
a
specific Similarity implementation?), I have to tell you that It wouldn't b=
e
so easy to integrate LSI into the Lucene's APIs.
Lorenzo

On 12/1/05, Chandana <chandana3002@gmail.com> wrote:
>
> Have any one implemented LSI in Lucene?
> Kindly let me know how hard/easy it is.
>
> thanks
> chandana
>
>

------=_Part_46453_32477010.1133395373057--

From java-user-return-17776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 00:09:44 2005
Return-Path: <java-user-return-17776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93172 invoked from network); 1 Dec 2005 00:09:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 00:09:42 -0000
Received: (qmail 32064 invoked by uid 500); 1 Dec 2005 00:09:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32034 invoked by uid 500); 1 Dec 2005 00:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32023 invoked by uid 99); 1 Dec 2005 00:09:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:09:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:11:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9A98713E2006; Wed, 30 Nov 2005 19:09:14 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 5512713E200E
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 19:09:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20051130001941.E1D7016E324@sbmail.sandbox.marshall.edu>
References: <20051130001941.E1D7016E324@sbmail.sandbox.marshall.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A25B644D-25B1-4045-8C5C-D160B87B8F80@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Looking for Similarity Subclass Examples
Date: Wed, 30 Nov 2005 19:09:49 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 29 Nov 2005, at 19:19, Jack Xue wrote:

> Hello list,
>
> I am working on boosting query performance by writing my own  
> Similarity
> Class (Rewrite tf(), idf(), boost(), lengthNorm()). I've gone  
> through the
> defaultSimilarity class. Does anyone know other examples of  
> Similarity Class
> Implementation and point me to that direction?

I'm curious... how will you boost query performance with a custom  
Similarity?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 00:22:58 2005
Return-Path: <java-user-return-17777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97866 invoked from network); 1 Dec 2005 00:22:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 00:22:58 -0000
Received: (qmail 46329 invoked by uid 500); 1 Dec 2005 00:22:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46289 invoked by uid 500); 1 Dec 2005 00:22:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46272 invoked by uid 99); 1 Dec 2005 00:22:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:22:52 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.47] (HELO mta07-winn.ispmail.ntl.com) (81.103.221.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 16:24:21 -0800
Received: from aamta11-winn.ispmail.ntl.com ([81.103.221.35])
          by mta07-winn.ispmail.ntl.com with ESMTP
          id <20051201002229.HKVY21883.mta07-winn.ispmail.ntl.com@aamta11-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>; Thu, 1 Dec 2005 00:22:29 +0000
Received: from jhi ([81.98.13.34]) by aamta11-winn.ispmail.ntl.com
          with SMTP
          id <20051201002229.XLMU16192.aamta11-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>; Thu, 1 Dec 2005 00:22:29 +0000
Message-ID: <001c01c5f60d$5089c0e0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <bf155c6c0511301541n6bbd97f0y52091aec4854a651@mail.gmail.com> <e72c67f70511301602v7eef9aa3l6c435954c7376718@mail.gmail.com>
Subject: Re: Lucene + LSI
Date: Thu, 1 Dec 2005 00:22:27 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

sorry have to ask - whats LSI - " latent semantic indexing"?

_gk
----- Original Message ----- 
From: "Lorenzo Viscanti" <lorenzo.viscanti@gmail.com>
To: <java-user@lucene.apache.org>; <chandana3002@gmail.com>
Sent: Thursday, December 01, 2005 12:02 AM
Subject: Re: Lucene + LSI


It depends on the kind of implementation you are thinking of.
You can use Lucene to create the inputs to the LSI, and then use them in
your own system. I've written that code and it works, for searches and
clustering.
But if you are figuring out an LSI enhanced Lucene search system (based on a
specific Similarity implementation?), I have to tell you that It wouldn't be
so easy to integrate LSI into the Lucene's APIs.
Lorenzo

On 12/1/05, Chandana <chandana3002@gmail.com> wrote:
>
> Have any one implemented LSI in Lucene?
> Kindly let me know how hard/easy it is.
>
> thanks
> chandana
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 01:57:47 2005
Return-Path: <java-user-return-17778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31621 invoked from network); 1 Dec 2005 01:57:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 01:57:47 -0000
Received: (qmail 35242 invoked by uid 500); 1 Dec 2005 01:57:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35215 invoked by uid 500); 1 Dec 2005 01:57:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35204 invoked by uid 99); 1 Dec 2005 01:57:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 17:57:40 -0800
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=FROM_LOCAL_NOVOWEL,HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrshwrk@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO xproxy.gmail.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 17:59:09 -0800
Received: by xproxy.gmail.com with SMTP id s13so152895wxc
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 17:57:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UPg8P0J+m1rXlXnnhHSOwjNRehmxuNMXE4zYLLQ3SVuYZ/Lv99Q0Kj6NpeAykhcTLj89hHPcczzCxlc7RkEErhEtzGmW/w8VoSA5FTvcLiBQCnrRHAq6zIRS2pgnq/AvnpFME2GTM/5J8liQJ8ovJdeEX+J3265MAvGvmaZdXq8=
Received: by 10.65.188.14 with SMTP id q14mr569181qbp;
        Wed, 30 Nov 2005 17:57:18 -0800 (PST)
Received: by 10.64.151.3 with HTTP; Wed, 30 Nov 2005 17:57:18 -0800 (PST)
Message-ID: <bf155c6c0511301757i20b17ee6h2319a2bffabae0b0@mail.gmail.com>
Date: Thu, 1 Dec 2005 07:27:18 +0530
From:  <rrshwrk@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene + LSI
In-Reply-To: <001c01c5f60d$5089c0e0$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6726_10694960.1133402238444"
References: <bf155c6c0511301541n6bbd97f0y52091aec4854a651@mail.gmail.com>
	 <e72c67f70511301602v7eef9aa3l6c435954c7376718@mail.gmail.com>
	 <001c01c5f60d$5089c0e0$b900a8c0@jhi>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6726_10694960.1133402238444
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Yeah, its Latent Semantic Indexing

On 12/1/05, gekkokid <me@gekkokid.org.uk> wrote:
>
> sorry have to ask - whats LSI - " latent semantic indexing"?
>
> _gk
> ----- Original Message -----
> From: "Lorenzo Viscanti" <lorenzo.viscanti@gmail.com>
> To: <java-user@lucene.apache.org>; <chandana3002@gmail.com>
> Sent: Thursday, December 01, 2005 12:02 AM
> Subject: Re: Lucene + LSI
>
>
> It depends on the kind of implementation you are thinking of.
> You can use Lucene to create the inputs to the LSI, and then use them in
> your own system. I've written that code and it works, for searches and
> clustering.
> But if you are figuring out an LSI enhanced Lucene search system (based o=
n
> a
> specific Similarity implementation?), I have to tell you that It wouldn't
> be
> so easy to integrate LSI into the Lucene's APIs.
> Lorenzo
>
> On 12/1/05, Chandana <chandana3002@gmail.com> wrote:
> >
> > Have any one implemented LSI in Lucene?
> > Kindly let me know how hard/easy it is.
> >
> > thanks
> > chandana
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_6726_10694960.1133402238444--

From java-user-return-17779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 03:14:12 2005
Return-Path: <java-user-return-17779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58456 invoked from network); 1 Dec 2005 03:14:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 03:14:12 -0000
Received: (qmail 96725 invoked by uid 500); 1 Dec 2005 03:14:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96689 invoked by uid 500); 1 Dec 2005 03:14:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96675 invoked by uid 99); 1 Dec 2005 03:14:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 19:14:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 19:15:36 -0800
Received: by zproxy.gmail.com with SMTP id s1so184544nze
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 19:13:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pVg5NipsXQKJX1IulibHQnQZLZ84Pk9Itwb2A3GARgJDf+89Vg3vkhfH7UsKIj0qEIIToSwePMnjJhO38seUfC8viqM3ve7YITUjdQ5l0t9hxMANcj1SVKWi8dnqxUkdbYF4T99tbIum6TlBtooWLeo24TkdgVQp4PT7dOpts9M=
Received: by 10.65.73.3 with SMTP id a3mr604725qbl;
        Wed, 30 Nov 2005 19:13:43 -0800 (PST)
Received: by 10.65.23.13 with HTTP; Wed, 30 Nov 2005 19:13:43 -0800 (PST)
Message-ID: <50f433360511301913k467f6307v7dc0f6534e9057f5@mail.gmail.com>
Date: Wed, 30 Nov 2005 19:13:43 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A couple of questions regarding load balancing and failover
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003440F14E2@EXHQ01.root.tradedoubler.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8590_30854605.1133406823390"
References: <4BA24A13BFC8B24EBD64FCA6525003440F14E2@EXHQ01.root.tradedoubler.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8590_30854605.1133406823390
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 11/30/05, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
>
>
> 1.) Does Lucenes MultiSearcher implement some kind of automatic failover
> and/or load-balancing mechanism if both Searchables which I supply in
> MultiSearchers constructor go to two different servers but to the very sa=
me
> index-files?


We're on version 1.4.3 (and I'm not sure it's current to the trunk), and
load balancing is not built into the remote searchers.  In your scenario,
with two servers pointing to the same index-files, if you issue a search
against both servers (where both servers are participating), you'll have
duplicate results.


if server 1 crashes there is still server 2 and thus at least one server
> will be able to complete the request. Will the MultiSearcher which is usi=
ng
> RemoteSearchables from two servers automatically detect that Searchable
> number 1 (server 1) does not respond and then try Searchable 2? If not, w=
hat
> is the recommended way of doing this.


No.  The recommended way is very dependent on your underlying
infrastructure.  My personal approach is to hardware load balance in front
of the remote searcher systems, but this can be achieved a number of ways.


And the second part of the question is: If both Searchables are available
> and working, will the MultiSearcher automatically distribute requests to
> both Searchables or is there a risk that we get duplicates since both
> Searchables actually expose the same indexes? If this isn't the case, wha=
t
> would be the recommended way of implemented load distribution over severa=
l
> servers.


Again no.  I would recommend a load balancing implementation external to
Lucene; don't make Lucene figure out what systems are/aren't available.  If
I were inclined to add failover functionality to Lucene, it would be within
ParallelMultiSearcher to gracefully allow (expect?) failure in searches.

I'm speaking from the v1.4.3 codebase, and the trunk is currently at v1.9.
Check the object to see if any improvements have been made.


2.) On our index-servers which expose the underlaying index as a
> RemoteSearchable we do have four dualcore processors each. Since we thus
> have great multithreading-capabilities I do use the ParallelMultiSearcher
> instead of the MultiSearcher. On the client side (the application which
> connects to the Index RMI-Server), should I therefore also be using a
> ParallelMultiSearcher or is it ok if I use the standard MultiSeacher? And=
 if
> so, why?


That sounds like a lot of power for Lucene, possibly overpowered.
ParallelMultiSearcher makes use of spawning threads for individual
subsearchers, so a multi-processor system can execute those in tandem vs.
the MultiSearcher.  The more subsearchers, the more this makes a
difference.  I would base your decision of which searcher to use on the
parallel processing capacity of ParallelMultiSearcher; if your client has
multiple processors, I'd go with ParallelMultiSearcher.

3.) Currently - to increase speed - we are loading the entire index into
> memory (using RAMDirectory rather than the FSDirectory). We found out tha=
t
> the RAMDirectory will not update itself if the files in the directory fro=
m
> where the RAMDirectory is loading the index are updated.
> Therefore I simply coded a Thread which every 10 minutes instantiates new
> RAMDirectories, unbinds the current RemoteSearchable and then rebinds to =
the
> RMI Registry with the new Searchable which uses the new RAMDirectories. T=
his
> certainly doesn't feel like a good solution, even though the time under
> which the RMI service will not be able to answer is minimal, there is sti=
ll
> a small chance that this very moment a client application tries to find
> something in the index. Is there a way to refresh the RAMDirectory withou=
t
> having to create new instances of all classes and bind this classes to th=
e
> RMI Registry? If so, how?


Not that I'm aware of.  The remote searchers need to re-open to reflect the
changes, and those have to be disconnected from the RMI binding in order to
make that change.

Hope this helps.

------=_Part_8590_30854605.1133406823390--

From java-user-return-17780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 05:11:01 2005
Return-Path: <java-user-return-17780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12434 invoked from network); 1 Dec 2005 05:11:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 05:11:01 -0000
Received: (qmail 28125 invoked by uid 500); 1 Dec 2005 05:10:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27680 invoked by uid 500); 1 Dec 2005 05:10:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27669 invoked by uid 99); 1 Dec 2005 05:10:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 21:10:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 21:12:24 -0800
Received: from [61.12.8.66] (helo=[192.168.1.180])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1EhgiE30NR-0006O8; Thu, 01 Dec 2005 00:10:33 -0500
Message-ID: <438E8559.2080308@insideview.com>
Date: Thu, 01 Dec 2005 10:38:41 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to control terms to be highlighted?
References: <20051130134215.4460.qmail@web26008.mail.ukl.yahoo.com>
In-Reply-To: <20051130134215.4460.qmail@web26008.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mark,

It would be great if you can make this change and send the
QueryTermsExtractor class. I am invoking the QueryScorer(Query)
contructor. Should I use QueryScorer(Query query, IndexReader reader,
String fieldName) instead for this to work?

Thanks,
Harini

mark harwood wrote:

>>>>Is there anyway to restrict the highlighter to
>>>>        
>>>>
>>highlight only the values 
>>mentioned for the field 'Content'?
>>    
>>
>
>The problem lies in the QueryTermsExtractor class
>which is typically used to provide the Highlighter
>with the list of strings to identify in the text. It
>currently has no filter for fieldname - you could add
>this without too much effort.
>
>I could make this modification but it may change the
>behaviour of existing applications - currently the
>QueryTermsExtractor method that takes a fieldname only
>uses that fieldname to derive IDF weightings, the
>proposed change would also have the effect of
>filtering out any query terms that weren't for this
>field. 
>Would this change be a problem for anyone?
>
>Cheers,
>Mark
>
>--- Harini Raghavan <harini.raghavan@insideview.com>
>wrote:
>
>  
>
>>Hi,
>>
>>I have a requirement to highlight search keywords in
>>the results and 
>>display the matching fragment of the text with the
>>results. I am using 
>>the Hits highlighting mentioned in Lucene in Action.
>>
>>Here is the search query(BooleanQuery) I am passing
>>to the IndexSearcher 
>>and QueryScorer:
>> +DocumentType:news
>> +(CompanyId:10 CompanyId:20 CompanyId:30
>>CompanyId:40)
>> +FilingDate:[20041201 TO 20051201]
>> +(Content:"cost saving" Content:"cost savings"
>>Content:outsource 
>>Content:outsources Content:downsize
>>Content:downsizes 
>>Content:restructuring Content:restructure)
>>
>>My requirement is to highlight only the keywords for
>>'Content' field, 
>>but the highlighter api is also highlighting words
>>like 'news', '10', 
>>'40' etc.
>>Is there anyway to restrict the highlighter to
>>highlight only the values 
>>mentioned for the field 'Content'?
>>
>>Thanks,
>>Harini
>>
>>
>>
>>
>>
>>
>>    
>>
>---------------------------------------------------------------------
>  
>
>>To unsubscribe, e-mail:
>>java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail:
>>java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>
>		
>___________________________________________________________ 
>Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 05:57:15 2005
Return-Path: <java-user-return-17781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38069 invoked from network); 1 Dec 2005 05:57:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 05:57:15 -0000
Received: (qmail 86711 invoked by uid 500); 1 Dec 2005 05:57:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86664 invoked by uid 500); 1 Dec 2005 05:57:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86629 invoked by uid 99); 1 Dec 2005 05:57:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 21:57:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 21:58:34 -0800
Received: by zproxy.gmail.com with SMTP id i11so191280nzi
        for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 21:56:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IhDJGVkEh/DKaDLSAWmwBNpCrlgD7jRpXYhAnQn/Z7ztOKYoGUJsZoEpMonCNPnqPxIGZaq3IJsImdajQHJL+R61EAF7AYMQAlmIHcDyZDxSibu3ZNNZyC8QbyQp+ZlQfqng4shgfkmu7YJikmGrXPkFIxsAMhxRg4+HeYxEyIA=
Received: by 10.64.232.11 with SMTP id e11mr646566qbh;
        Wed, 30 Nov 2005 21:56:42 -0800 (PST)
Received: by 10.65.40.9 with HTTP; Wed, 30 Nov 2005 21:56:41 -0800 (PST)
Message-ID: <9e7ba420511302156n6d33ddaen@mail.gmail.com>
Date: Thu, 1 Dec 2005 13:56:41 +0800
From: wu fox <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search Problem
In-Reply-To: <438C4727.7010102@rrzn.uni-hannover.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <OFDBB87625.BC233C57-ON802570C8.003F0F3B-802570C8.003F1B95@SAAConsultants.com>
	 <438C4727.7010102@rrzn.uni-hannover.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 try to use mime format just as "application/pdf" and to see if it is feasi=
ble

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 01 07:06:55 2005
Return-Path: <java-user-return-17782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80160 invoked from network); 1 Dec 2005 07:06:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Dec 2005 07:06:55 -0000
Received: (qmail 83472 invoked by uid 500); 1 Dec 2005 07:06:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83451 invoked by uid 500); 1 Dec 2005 07:06:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83440 invoked by uid 99); 1 Dec 2005 07:06:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 23:06:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Nov 2005 23:08:14 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 33D6E5B7CB; Wed, 30 Nov 2005 23:06:18 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C81A07F4A8
	for <java-user@lucene.apache.org>; Wed, 30 Nov 2005 23:06:18 -0800 (PST)
Date: Wed, 30 Nov 2005 23:06:18 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: how to control terms to be highlighted?
In-Reply-To: <438E8559.2080308@insideview.com>
Message-ID: <Pine.LNX.4.58.0511302257040.29242@hal.rescomp.berkeley.edu>
References: <20051130134215.4460.qmail@web26008.mail.ukl.yahoo.com>
 <438E8559.2080308@insideview.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I don't know what your application is, and I have no experience with the
Highlighter code, so forgive me if this is a silly suggestion:

It looks like you are building a query up programaticaly, which
contains some words to search on, and some other stuff that's mainly
being used to "filter" the results (i'll avoid my usual rant about
people underutilizing Filters).  So why not pass the Higherlighter just
the portion of the Query that you acctaully want to contribute to the
highlighting?  In this query...

: >> +DocumentType:news
: >> +(CompanyId:10 CompanyId:20 CompanyId:30 CompanyId:40)
: >> +FilingDate:[20041201 TO 20051201]
: >> +(Content:"cost saving" Content:"cost savings"
: >>Content:outsource
: >>Content:outsources Content:downsize
: >>Content:downsizes
: >>Content:restructuring Content:restructure)

...just give the highlighter...

    (Content:"cost saving" Content:"cost savings"
     Content:outsource
     Content:outsources Content:downsize
     Content:downsizes
     Content:restructuring Content:restructure)


: Date: Thu, 01 Dec 2005 10:38:41 +0530
: From: Harini Raghavan <harini.raghavan@insideview.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: how to control terms to be highlighted?
:
: Hi Mark,
:
: It would be great if you can make this change and send the
: QueryTermsExtractor class. I am invoking the QueryScorer(Query)
: contructor. Should I use QueryScorer(Query query, IndexReader reader,
: String fieldName) instead for this to work?
:
: Thanks,
: Harini
:
: mark harwood wrote:
:
: >>>>Is there anyway to restrict the highlighter to
: >>>>
: >>>>
: >>highlight only the values
: >>mentioned for the field 'Content'?
: >>
: >>
: >
: >The problem lies in the QueryTermsExtractor class
: >which is typically used to provide the Highlighter
: >with the list of strings to identify in the text. It
: >currently has no filter for fieldname - you could add
: >this without too much effort.
: >
: >I could make this modification but it may change the
: >behaviour of existing applications - currently the
: >QueryTermsExtractor method that takes a fieldname only
: >uses that fieldname to derive IDF weightings, the
: >proposed change would also have the effect of
: >filtering out any query terms that weren't for this
: >field.
: >Would this change be a problem for anyone?
: >
: >Cheers,
: >Mark
: >
: >--- Harini Raghavan <harini.raghavan@insideview.com>
: >wrote:
: >
: >
: >
: >>Hi,
: >>
: >>I have a requirement to highlight search keywords in
: >>the results and
: >>display the matching fragment of the text with the
: >>results. I am using
: >>the Hits highlighting mentioned in Lucene in Action.
: >>
: >>Here is the search query(BooleanQuery) I am passing
: >>to the IndexSearcher
: >>and QueryScorer:
: >> +DocumentType:news
: >> +(CompanyId:10 CompanyId:20 CompanyId:30
: >>CompanyId:40)
: >> +FilingDate:[20041201 TO 20051201]
: >> +(Content:"cost saving" Content:"cost savings"
: >>Content:outsource
: >>Content:outsources Content:downsize
: >>Content:downsizes
: >>Content:restructuring Content:restructure)
: >>
: >>My requirement is to highlight only the keywords for
: >>'Content' field,
: >>but the highlighter api is also highlighting words
: >>like 'news', '10',
: >>'40' etc.
: >>Is there anyway to restrict the highlighter to
: >>highlight only the values
: >>mentioned for the field 'Content'?
: >>
: >>Thanks,
: >>Harini
: >>
: >>
: >>
: >>
: >>
: >>
: >>
: >>
: >---------------------------------------------------------------------
: >
: >
: >>To unsubscribe, e-mail:
: >>java-user-unsubscribe@lucene.apache.org
: >>For additional commands, e-mail:
: >>java-user-help@lucene.apache.org
: >>
: >>
: >>
: >>
: >
: >
: >
: >
: >___________________________________________________________
: >Yahoo! Model Search 2005 - Find the next catwalk superstars - http://uk.news.yahoo.com/hot/model-search/
: >
: >---------------------------------------------------------------------
: >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: >For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
: >
: >
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


