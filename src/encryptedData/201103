From java-user-return-48819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 05:35:33 2011
Return-Path: <java-user-return-48819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25529 invoked from network); 1 Mar 2011 05:35:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 05:35:33 -0000
Received: (qmail 86782 invoked by uid 500); 1 Mar 2011 05:35:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86321 invoked by uid 500); 1 Mar 2011 05:35:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86313 invoked by uid 99); 1 Mar 2011 05:35:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 05:35:25 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 05:35:19 +0000
Received: by iwr19 with SMTP id 19so4978031iwr.35
        for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 21:34:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=fbFdrit2po6xI6anhRRPKbQbe75WIzd+Gyi4TeC+Snc=;
        b=iTSsAtnpKfwn4b2xBuSC6ZC0iCUbMrckBR5eDF+RYn04dII1RghVFyO8mTcmo3FVLH
         Z1wRo+Xl0Qi6LrtDhSZB3fkSQqk4q2EVYiFURlXh4j+uFpOdVFR0GaC7EZZ2AhVLXwkP
         sA5rDdvOQx0wWtSCCVKd51iEJU4bSkjDvjlIo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=DyUe1QVkpc+1MESH82k0iZC4NQ4MufJhxYXwDXNdpJMU4hZBxJex3xkOwDW2Zo15nR
         Gr4v07KVFxSsFWUwkK/n3lr8g8XI/UMUAHgPHKVoktMS71Cehb3JU0ujjC/+GIKDsrsI
         AKZgEUUY71RjVcVvWFsy5cvr0rJ8NiZYC3iIA=
MIME-Version: 1.0
Received: by 10.231.16.137 with SMTP id o9mr6003531iba.158.1298957698840; Mon,
 28 Feb 2011 21:34:58 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Mon, 28 Feb 2011 21:34:58 -0800 (PST)
Date: Tue, 1 Mar 2011 11:04:58 +0530
Message-ID: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com>
Subject: finding the length of a field
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00221532c6f037ba88049d652855

--00221532c6f037ba88049d652855
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

Is there a way to find the length of a field of a lucene index document?

Thanks,
Lahiru

--00221532c6f037ba88049d652855--

From java-user-return-48820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 05:59:11 2011
Return-Path: <java-user-return-48820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92249 invoked from network); 1 Mar 2011 05:59:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 05:59:10 -0000
Received: (qmail 99431 invoked by uid 500); 1 Mar 2011 05:59:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99047 invoked by uid 500); 1 Mar 2011 05:59:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99037 invoked by uid 99); 1 Mar 2011 05:59:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 05:59:05 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 05:58:59 +0000
Received: by vxc41 with SMTP id 41so4982987vxc.35
        for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 21:58:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=7zSWnXvi88razSdW5bHpO715K6QGEo2zJrUz7E17eJg=;
        b=U/UlMvL532T3JUr0urNN5E6EsujMwJt+zNjuX39oLTJGmD0KGTv6pVEfDJeICshfq7
         7xRvNHfzUFlrvLaTsubDVFyWEtotReSmT2jhxgMPyzbZ4YzS+M4FE8NC3Qmx2Cj9Er46
         Bd96Nu64453bfgKq8XnQJ5vewuJ0GoZt2Wiig=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=gzKxtB5EM0lmTzQdimrDvn5x2blFwthQ0KeucsXQCagKKhINw9UyH7Cw3eJ/+k0Q9P
         N2w6GA99GxLDrvyitlF0QR4SNdtTlvP2glNtWG1jTUxi8uHeSXbtwVCdrcRcPi3Dn/O2
         ytPMSbByFmESIpk3+VWuhcwIRAK2wEuUJIVaY=
Received: by 10.52.77.36 with SMTP id p4mr6802167vdw.202.1298959118086; Mon,
 28 Feb 2011 21:58:38 -0800 (PST)
MIME-Version: 1.0
Received: by 10.52.163.38 with HTTP; Mon, 28 Feb 2011 21:58:18 -0800 (PST)
In-Reply-To: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com>
References: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 1 Mar 2011 11:28:18 +0530
Message-ID: <AANLkTikGeKp0Ld9iGO6gb6BXzYVW+45fZYHmmwTu8=QY@mail.gmail.com>
Subject: Re: finding the length of a field
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec5016599cfb310049d657cf1

--bcaec5016599cfb310049d657cf1
Content-Type: text/plain; charset=ISO-8859-1

Hi Lahiru,
A few questions here.
Why would you need that? Is the field stored?

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 1, 2011 at 11:04 AM, Lahiru Samarakoon <lahiruts@gmail.com>wrote:

> Hi all,
>
> Is there a way to find the length of a field of a lucene index document?
>
> Thanks,
> Lahiru
>

--bcaec5016599cfb310049d657cf1--

From java-user-return-48821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 06:07:11 2011
Return-Path: <java-user-return-48821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44246 invoked from network); 1 Mar 2011 06:07:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 06:07:10 -0000
Received: (qmail 4601 invoked by uid 500); 1 Mar 2011 06:07:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4254 invoked by uid 500); 1 Mar 2011 06:07:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4224 invoked by uid 99); 1 Mar 2011 06:07:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 06:07:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 06:06:56 +0000
Received: by iyj12 with SMTP id 12so4731209iyj.35
        for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 22:06:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=NGi1bpTxUewA67cRm/ORc8oG5O5TQQKdWap8tCjPuZ8=;
        b=cBoobpVRaOr3TQcOwqM7RgVWuQIW2+wNHX6Ex+nvGO0rSF/oy0oyd6B23NGQvuGvUb
         fYw1/o+jhdkFyKLL4uz0AD+0lcdSDkOzUaaNGflysQRA4fiqXn7T8Wu3wTjzK9WSPVPP
         92cGvqnnfzDhe6OuuKClQY1T3QMapWva1V84M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=o+3pPm1LfIdPXSdEw+PUWaaOkI9xY/OksajcsaEj9Yyawf58JomcALJvsdB5U+oJNp
         3ixV4H1n4+lAtVEmSarOUIFrIRgem19kvt2StM6QuIHMtRPzj6ICG2yyJHEOMKZAfPXf
         fpgYJXyE4SzFuo0yl85o8/Ts8QOs/RHkoVl00=
MIME-Version: 1.0
Received: by 10.231.40.12 with SMTP id i12mr6039268ibe.183.1298959595376; Mon,
 28 Feb 2011 22:06:35 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Mon, 28 Feb 2011 22:06:35 -0800 (PST)
In-Reply-To: <AANLkTikGeKp0Ld9iGO6gb6BXzYVW+45fZYHmmwTu8=QY@mail.gmail.com>
References: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com>
	<AANLkTikGeKp0Ld9iGO6gb6BXzYVW+45fZYHmmwTu8=QY@mail.gmail.com>
Date: Tue, 1 Mar 2011 11:36:35 +0530
Message-ID: <AANLkTimsJaEA96RO+mwvpcjsQpJjCV6afGn8gVz7c-V=@mail.gmail.com>
Subject: Re: finding the length of a field
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00248c7113974293f0049d6599b2
X-Virus-Checked: Checked by ClamAV on apache.org

--00248c7113974293f0049d6599b2
Content-Type: text/plain; charset=ISO-8859-1

Hi Anshum,

I am trying to implement a custom length normalization mechanism, which
needs the length of the field being searched.

Yes, the field is stored.

Thanks,
Lahiru.

--00248c7113974293f0049d6599b2--

From java-user-return-48822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 06:31:12 2011
Return-Path: <java-user-return-48822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1427 invoked from network); 1 Mar 2011 06:31:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 06:31:12 -0000
Received: (qmail 19933 invoked by uid 500); 1 Mar 2011 06:31:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19693 invoked by uid 500); 1 Mar 2011 06:31:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19685 invoked by uid 99); 1 Mar 2011 06:31:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 06:31:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of npellow@atlassian.com designates 74.125.149.240 as permitted sender)
Received: from [74.125.149.240] (HELO na3sys009aog116.obsmtp.com) (74.125.149.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Mar 2011 06:30:57 +0000
Received: from source ([209.85.218.46]) (using TLSv1) by na3sys009aob116.postini.com ([74.125.148.12]) with SMTP
	ID DSNKTWySgdJFiyygB2YjoGEdsYQjc+jRlzQX@postini.com; Mon, 28 Feb 2011 22:30:36 PST
Received: by yia27 with SMTP id 27so952455yia.19
        for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 22:30:11 -0800 (PST)
Received: by 10.150.62.16 with SMTP id k16mr8318749yba.206.1298961011106;
        Mon, 28 Feb 2011 22:30:11 -0800 (PST)
Received: from astra.sydney.atlassian.com (sydfibre2.atlassian.com [59.167.164.33])
        by mx.google.com with ESMTPS id q29sm2832770ybk.10.2011.02.28.22.30.09
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 28 Feb 2011 22:30:10 -0800 (PST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: finding the length of a field
From: Nick Pellow <npellow@atlassian.com>
In-Reply-To: <AANLkTimsJaEA96RO+mwvpcjsQpJjCV6afGn8gVz7c-V=@mail.gmail.com>
Date: Tue, 1 Mar 2011 17:30:06 +1100
Content-Transfer-Encoding: 7bit
Message-Id: <21822DDD-FBA9-4F89-A5C3-D770EA63A630@atlassian.com>
References: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com> <AANLkTikGeKp0Ld9iGO6gb6BXzYVW+45fZYHmmwTu8=QY@mail.gmail.com> <AANLkTimsJaEA96RO+mwvpcjsQpJjCV6afGn8gVz7c-V=@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)

Have you considered storing the length of the field in a Payload?
You could do that during analysis.

Cheers,
Nick

On 01/03/2011, at 5:06 PM, Lahiru Samarakoon wrote:

> Hi Anshum,
> 
> I am trying to implement a custom length normalization mechanism, which
> needs the length of the field being searched.
> 
> Yes, the field is stored.
> 
> Thanks,
> Lahiru.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 06:36:41 2011
Return-Path: <java-user-return-48823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36278 invoked from network); 1 Mar 2011 06:36:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 06:36:40 -0000
Received: (qmail 24895 invoked by uid 500); 1 Mar 2011 06:36:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24414 invoked by uid 500); 1 Mar 2011 06:36:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24406 invoked by uid 99); 1 Mar 2011 06:36:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 06:36:34 +0000
X-ASF-Spam-Status: No, hits=4.3 required=5.0
	tests=FREEMAIL_FROM,FS_REPLICA,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.212] (HELO nm3-vm0.bullet.mail.in.yahoo.com) (121.101.151.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Mar 2011 06:36:27 +0000
Received: from [121.101.151.238] by nm3.bullet.mail.in.yahoo.com with NNFMP; 01 Mar 2011 06:36:06 -0000
Received: from [121.101.151.235] by tm3.bullet.mail.in.yahoo.com with NNFMP; 01 Mar 2011 06:36:07 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 01 Mar 2011 06:36:04 -0000
X-Yahoo-Newman-Id: 648140.82728.bm@omp1004.mail.in.yahoo.com
Received: (qmail 39355 invoked from network); 1 Mar 2011 06:36:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=WmvKB/TvNNw/jx18jUZsjWY0ebm+5ohZrb8cJ0bHQ3eD+aHPSYISUFT2wAFnSYfQGir0RHfeHRJY9PS+Hif5fX7v1NWqhMf9JOHWnko//gudV0xkgubgympXlE0+JlW8WjcG6YgpjjjAZILK4DBWrc5nGmzKtOrIf/DSrvBm5Hs=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1298961364; bh=teH4NnEY/uMN4eUrc18XiI+338orBuHjio3YYxZYzRA=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=1kMIHtTvX/T1gWIpR5dfUNUUuxGQO6M2t8w4o12mByLof3+iuUFlvgoSV4jcB1Gk4imkpYYVM+QyXAYXa0JtMcwrRO/iuekhJ9gsVGQRyOh/ontgYD+dpxZo9ilh7zi3aw56YWIwhr4vQGmsfl2s8yvyTcLU/DeJEWhvYzrNnIk=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp104.mail.in.yahoo.com with SMTP; 01 Mar 2011 12:06:04 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: jkbjA60VM1mUgOZvBboH4EW.KGhHNo3f.NrgwSiz8oD.w5_
 tbmUzyv4rYoxEouXkMxrRwrTmXNLCp3.emVYSfFCI7aPeJcHFbBq0hil6AAy
 kDFlnhpMwy94oY97vzmRwS0nEwGJdpAR92NPNqioCNaAhbDJtMFgYCGphiLf
 ZD7Q36xoSWsSVLFfZib3gFCtBdpSFDRtOmu7tvvYZI0WG71UO51sz85hkuyL
 DzilA4iVn
X-Yahoo-Newman-Property: ymail-3
Message-ID: <95898C2B932244DD9178F09353847309@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: Backup or replication option with lucene
Date: Tue, 1 Mar 2011 12:06:03 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Hello all,

Could any one guide me how to backup or do replication with Lucene.=20

Regards
Ganesh
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 07:34:16 2011
Return-Path: <java-user-return-48824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24187 invoked from network); 1 Mar 2011 07:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 07:34:16 -0000
Received: (qmail 70829 invoked by uid 500); 1 Mar 2011 07:34:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70297 invoked by uid 500); 1 Mar 2011 07:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70284 invoked by uid 99); 1 Mar 2011 07:34:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 07:34:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 07:33:59 +0000
Received: from [130.225.25.23] (130.225.25.23) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.3.137.0; Tue, 1 Mar 2011 08:33:38 +0100
Subject: RE: Lucene search result produced wrong result (due to java
 Collation)?
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1926@rw-ex2003.BROADVISION.COM>
References: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1926@rw-ex2003.BROADVISION.COM>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Tue, 1 Mar 2011 08:33:38 +0100
Message-ID: <1298964818.12733.35.camel@te-prime>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, 2011-02-28 at 22:44 +0100, Zhang, Lisheng wrote:
> Very sorry I made a typo, what I meant to say is that lucene sort produced wrong
> result in English names (String ASC):
> 
> liu yu
> l yy

The standard Java Collator ignores whitespace. It can be hacked, but you
will have to write your own implementation to get Lucene to sort in the
desired way. FieldComparatorSource is a good place to start.

A code snippet demonstrating the Collator-hack:

    public void testJavaStandardCollator() throws Exception {
        java.text.Collator javaC =
            java.text.Collator.getInstance(new Locale("EN"));
        assertTrue("Spaces should be ignored per default",
                   javaC.compare("liu yu", "l yy") < 0);

        java.text.RuleBasedCollator adjustedC = new
java.text.RuleBasedCollator(
                ((java.text.RuleBasedCollator)javaC).getRules().
                    replace("<'\u005f'", "<' '<'\u005f'"));
        assertTrue("Spaces should be significant inside strings after
adjust",
                   adjustedC.compare("liu yu", "l yy") > 0);
    }


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 08:18:44 2011
Return-Path: <java-user-return-48825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45483 invoked from network); 1 Mar 2011 08:18:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 08:18:44 -0000
Received: (qmail 3614 invoked by uid 500); 1 Mar 2011 08:18:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3138 invoked by uid 500); 1 Mar 2011 08:18:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3129 invoked by uid 99); 1 Mar 2011 08:18:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 08:18:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [80.169.233.11] (HELO mailbck.lombardodier.ch) (80.169.233.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 08:18:32 +0000
In-Reply-To: <AANLkTimkCnt_P2RU78vc1xFrsnjz-khu2H7X4Z_qmn-x@mail.gmail.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
X-KeepSent: 83EA4DD2:448C3F6D-C1257846:002B7E8A;
 type=4; name=$KeepSent
X-Mailer: OpenMailer1.0
From: v.sevel@lombardodier.com
Message-ID: <OF83EA4DD2.448C3F6D-ONC1257846.002B7E8A-C1257846.002D92F4@biz.lodh.com>
Date: Tue, 1 Mar 2011 09:17:47 +0100
Subject: Re: recurrent IO/CPU peaks
X-SendAsMailing: 1
X-MIMETrack: Cleaned
Content-Type: multipart/alternative; boundary="=_alternative 002D92F0C1257846_="

--=_alternative 002D92F0C1257846_=
Content-Type: text/plain; charset="US-ASCII"

Hi, OK so I will not bother using TieredMergePolicy for now. I will do 
some more tests with the contrib balanced merge policy, playing with the 
optimize(maxNumSegments) to try decreasing the optimize time (which is an 
issue for us today). My index contains 35 millions documents. The size on 
disk is approx. 70 Gb. Are there any guidelines as to how to set 
maxNumSegments? 

Thanks,


Vincent 







Michael McCandless <lucene@mikemccandless.com> 
 
 
28.02.2011 23:47



To
v.sevel@lombardodier.com
cc

Subject
Re: recurrent IO/CPU peaks






Well... TieredMergePolicy really won't make much difference in your 
optimize time... only (hopefully) in the "normal merge" cost.

But it's still a work in progress and I haven't yet backported to 3.x.

Are you using trunk or 3.x?

Mike

On Tue, Feb 22, 2011 at 8:01 AM, <v.sevel@lombardodier.com> wrote:

Hi, I downloaded from the trunk and tried to apply the patch, but sources 
did not match. 
Would you be able to provide me with a jar that contained just the 
TieredMergePolicy extra policy, or give me a lucene-core that has it? 
I would be very interested in testing this other policy. 
Thanks, 


Vincent 






Michael McCandless <lucene@mikemccandless.com> 
 

22.02.2011 12:49 


To
java-user@lucene.apache.org 
cc
v.sevel@lombardodier.com 
Subject
Re: recurrent IO/CPU peaks








On Tue, Feb 22, 2011 at 3:15 AM,  <> wrote:

> Here is how long it took for each run :
>  - default : run 1 = 55 minutes, run 2 = 59 minutes
>  - balanced : run 1 = 145 minutes, run 2 = 121 minutes
>
> Is that an expected behavior?

Hmm BalancedSegmentMergePolicy was over 2X slower to optimize...?
That's curious.

Though, BSMP is supposed to be better only for the non-optimize case
(ie just adding/deleting docs and never calling optimize).  It tries
to defer picking very large segment merges.

You could also try the TieredMergePolicy (currently still a patch on
http://issues.apache.org/jira/browse/LUCENE-854); it also tries to not
over-merge like LogByteSizeMergePolicy does (sometimes).  I wrote
about this in 
http://blog.mikemccandless.com/2011/02/visualizing-lucenes-segment-merges.html


-- 
Mike

http://blog.mikemccandless.com



************************ DISCLAIMER ************************
This message is intended only for use by the person to
whom it is addressed. It may contain information that is
privileged and confidential. Its content does not
constitute a formal commitment by Lombard Odier
Darier Hentsch & Cie or any of its branches or affiliates.
If you are not the intended recipient of this message,
kindly notify the sender immediately and destroy this
message. Thank You.
*****************************************************************



-- 
Mike

http://blog.mikemccandless.com


************************ DISCLAIMER ************************
This message is intended only for use by the person to
whom it is addressed. It may contain information that is
privileged and confidential. Its content does not
constitute a formal commitment by Lombard Odier
Darier Hentsch & Cie or any of its branches or affiliates.
If you are not the intended recipient of this message,
kindly notify the sender immediately and destroy this
message. Thank You.
*****************************************************************

--=_alternative 002D92F0C1257846_=--

From java-user-return-48826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 09:06:46 2011
Return-Path: <java-user-return-48826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25046 invoked from network); 1 Mar 2011 09:06:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 09:06:46 -0000
Received: (qmail 64006 invoked by uid 500); 1 Mar 2011 09:06:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63627 invoked by uid 500); 1 Mar 2011 09:06:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63619 invoked by uid 99); 1 Mar 2011 09:06:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 09:06:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 09:06:32 +0000
Received: by iyj12 with SMTP id 12so4852208iyj.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 01:06:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=G667wM5TgxwTJmAL1diiOYjvJOt5DXXgyqxgKcuMHKk=;
        b=rSHq/vdWJNm8M/kI7aXfvGMEytlulIO8Ftku73aDFvnIv3d4xt7EwRZbB/OYdiqpar
         eLPGFxCS2AREvJ1mncsdVTqLE4V2Zg9ty3RaMR3BBaQEMaSoppJrGqaVMXuuQaI1wvl4
         kpYESIHS7zKnO/HrQfZGdpJJX5rt7lbZQ/I4s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=dIcTfUwIt0OpLAs+yo4UmauSXHaNJ2q2BI1tfJC5v3kfGr9+IilDzVbOu/WFXhHZXz
         TDOXvCFTv9qRPGeuApK2bCkhhWMjpzMvSIsLTNBkdEx3E475h+2ps85Eo1tyg1cVqC5E
         NrFkOi9S5yh6sL0anOgAzzjQIrlXftSqhpFiE=
MIME-Version: 1.0
Received: by 10.231.16.137 with SMTP id o9mr6129031iba.158.1298970371919; Tue,
 01 Mar 2011 01:06:11 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Tue, 1 Mar 2011 01:06:11 -0800 (PST)
In-Reply-To: <21822DDD-FBA9-4F89-A5C3-D770EA63A630@atlassian.com>
References: <AANLkTimaa0ttiAKkkgDpq_MsgnrDDjpZHeP4KqR1exUr@mail.gmail.com>
	<AANLkTikGeKp0Ld9iGO6gb6BXzYVW+45fZYHmmwTu8=QY@mail.gmail.com>
	<AANLkTimsJaEA96RO+mwvpcjsQpJjCV6afGn8gVz7c-V=@mail.gmail.com>
	<21822DDD-FBA9-4F89-A5C3-D770EA63A630@atlassian.com>
Date: Tue, 1 Mar 2011 14:36:11 +0530
Message-ID: <AANLkTikzn2CmdDBn-KgcpapGXnG1VJjpwHsWWGjCD+vN@mail.gmail.com>
Subject: Re: finding the length of a field
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00221532c6f09794d8049d681b69
X-Virus-Checked: Checked by ClamAV on apache.org

--00221532c6f09794d8049d681b69
Content-Type: text/plain; charset=ISO-8859-1

Thanks nick, will try that

On Tue, Mar 1, 2011 at 12:00 PM, Nick Pellow <npellow@atlassian.com> wrote:

> Have you considered storing the length of the field in a Payload?
> You could do that during analysis.
>
> Cheers,
> Nick
>
> On 01/03/2011, at 5:06 PM, Lahiru Samarakoon wrote:
>
> > Hi Anshum,
> >
> > I am trying to implement a custom length normalization mechanism, which
> > needs the length of the field being searched.
> >
> > Yes, the field is stored.
> >
> > Thanks,
> > Lahiru.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00221532c6f09794d8049d681b69--

From java-user-return-48827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 12:16:57 2011
Return-Path: <java-user-return-48827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7231 invoked from network); 1 Mar 2011 12:16:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 12:16:57 -0000
Received: (qmail 62411 invoked by uid 500); 1 Mar 2011 12:16:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61979 invoked by uid 500); 1 Mar 2011 12:16:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61966 invoked by uid 99); 1 Mar 2011 12:16:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 12:16:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 12:16:42 +0000
Received: by qyk30 with SMTP id 30so4615036qyk.14
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 04:16:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=OaEoDN5AcmebO305e7HDez7fBlhefsjgKayUWAelew4=;
        b=rbEvXd8BGhlRXqlHeBOUAF+ayylZLr6OBxZPJHUU4dbK/C6LPuarrzU571xFO4sH8D
         b5WUinHMUnIipWNFtTE5IrxnIk29psMiGOXHpsNDsVFJpz/wrCwb+bcoltIIBTOPQyxX
         MLHwWxnmN5tLki7y5xiwNBQDLtRnSTp5aqXZU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=bvEfoi2PtpyCoONxwLQG/aOqIoZHrkLaNN7CxZzHharc/Xlcg6y6OSMMzbovsK4K4Q
         cthh4hX/uvLxk5wGN7JEbK98mMwuhQIBiyXIthdQo3XO7iSgxamcVhiSKrX8FIuEb1VZ
         sxLi3YH5ln+KSYExDolLqDkVIJm+UBeQUun04=
MIME-Version: 1.0
Received: by 10.229.98.141 with SMTP id q13mr5250527qcn.151.1298981781017;
 Tue, 01 Mar 2011 04:16:21 -0800 (PST)
Received: by 10.229.183.210 with HTTP; Tue, 1 Mar 2011 04:16:20 -0800 (PST)
Date: Tue, 1 Mar 2011 13:16:20 +0100
Message-ID: <AANLkTi=O32Ssw6qhw85HJN9Zkt+cWg3oKwTrxGQrrLC4@mail.gmail.com>
Subject: The MoreLikeThisHandler could include highlighting ?
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ee138a09ecb049d6ac3e0
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ee138a09ecb049d6ac3e0
Content-Type: text/plain; charset=ISO-8859-1

Hello,

The MoreLikeThisHandler could include higlighting ?

Is it true to define a MoreLikeThisHandler like this: ?

<requestHandler name="/mlt"
class="org.apache.solr.handler.MoreLikeThisHandler">
            <lst name="defaults">
                <bool name="hl">true</bool>
                <str name="hl.fl">contenu</str>
            </lst>
 </requestHandler>

Thank you for your help.

Amel.

--0016364ee138a09ecb049d6ac3e0--

From java-user-return-48828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 16:08:43 2011
Return-Path: <java-user-return-48828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92629 invoked from network); 1 Mar 2011 16:08:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 16:08:43 -0000
Received: (qmail 33552 invoked by uid 500); 1 Mar 2011 16:08:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33267 invoked by uid 500); 1 Mar 2011 16:08:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33259 invoked by uid 99); 1 Mar 2011 16:08:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 16:08:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 16:08:31 +0000
Received: by gxk20 with SMTP id 20so2791408gxk.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 08:08:11 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.186.11 with SMTP id j11mr128264ybf.221.1298995690040; Tue,
 01 Mar 2011 08:08:10 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Tue, 1 Mar 2011 08:08:10 -0800 (PST)
In-Reply-To: <OF83EA4DD2.448C3F6D-ONC1257846.002B7E8A-C1257846.002D92F4@biz.lodh.com>
References: <AANLkTimkCnt_P2RU78vc1xFrsnjz-khu2H7X4Z_qmn-x@mail.gmail.com>
	<OF83EA4DD2.448C3F6D-ONC1257846.002B7E8A-C1257846.002D92F4@biz.lodh.com>
Date: Tue, 1 Mar 2011 11:08:10 -0500
Message-ID: <AANLkTim5zTCsCZPPC1BmJhJ9xUpm2gMDaPeYbrD33RWc@mail.gmail.com>
Subject: Re: recurrent IO/CPU peaks
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: v.sevel@lombardodier.com
Content-Type: text/plain; charset=ISO-8859-1

On Tue, Mar 1, 2011 at 3:17 AM,  <v.sevel@lombardodier.com> wrote:
> Hi, OK so I will not bother using TieredMergePolicy for now. I will do
> some more tests with the contrib balanced merge policy, playing with the
> optimize(maxNumSegments) to try decreasing the optimize time (which is an
> issue for us today). My index contains 35 millions documents. The size on
> disk is approx. 70 Gb. Are there any guidelines as to how to set
> maxNumSegments?

I don't think we have any guidelines yet... but if you get some
numbers then please post back :)  That's how guidelines develop!

But: why are you optimizing so often?

-- 
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 16:41:41 2011
Return-Path: <java-user-return-48829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87347 invoked from network); 1 Mar 2011 16:41:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 16:41:40 -0000
Received: (qmail 96208 invoked by uid 500); 1 Mar 2011 16:41:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95954 invoked by uid 500); 1 Mar 2011 16:41:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95943 invoked by uid 99); 1 Mar 2011 16:41:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 16:41:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [80.169.233.11] (HELO mailbck.lombardodier.ch) (80.169.233.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 16:41:29 +0000
In-Reply-To: <AANLkTim5zTCsCZPPC1BmJhJ9xUpm2gMDaPeYbrD33RWc@mail.gmail.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
X-KeepSent: 08B35206:2A802666-C1257846:0058F083;
 type=4; name=$KeepSent
X-Mailer: OpenMailer1.0
From: v.sevel@lombardodier.com
Message-ID: <OF08B35206.2A802666-ONC1257846.0058F083-C1257846.005BA116@biz.lodh.com>
Date: Tue, 1 Mar 2011 17:40:50 +0100
Subject: Re: recurrent IO/CPU peaks
X-SendAsMailing: 1
X-MIMETrack: Cleaned
Content-Type: multipart/alternative; boundary="=_alternative 005BA115C1257846_="

--=_alternative 005BA115C1257846_=
Content-Type: text/plain; charset="US-ASCII"

Hi,

we developped a real time logging system. we index 4.5 millions 
events/day, spread over multiple servers, each with its own index. every 
night with delete events from the index based on a retention policy then 
we optimize. each server takes between 1 and 2 hours to optimize. ideally, 
we would like to optimize more quickly, without compromising the search 
performances. in the lucene in action book, it says "use optimize 
sparingly; use the optimize(maxNumSegments) method instead". what is a 
reasonnable maxNumSegments in my situation?
Thanks,
Vincent







Michael McCandless <lucene@mikemccandless.com> 
 
 
01.03.2011 17:09
Please respond to
java-user@lucene.apache.org



To
java-user@lucene.apache.org
cc
v.sevel@lombardodier.com
Subject
Re: recurrent IO/CPU peaks






On Tue, Mar 1, 2011 at 3:17 AM,  <v.sevel@lombardodier.com> wrote:
> Hi, OK so I will not bother using TieredMergePolicy for now. I will do
> some more tests with the contrib balanced merge policy, playing with the
> optimize(maxNumSegments) to try decreasing the optimize time (which is 
an
> issue for us today). My index contains 35 millions documents. The size 
on
> disk is approx. 70 Gb. Are there any guidelines as to how to set
> maxNumSegments?

I don't think we have any guidelines yet... but if you get some
numbers then please post back :)  That's how guidelines develop!

But: why are you optimizing so often?

-- 
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




************************ DISCLAIMER ************************
This message is intended only for use by the person to
whom it is addressed. It may contain information that is
privileged and confidential. Its content does not
constitute a formal commitment by Lombard Odier
Darier Hentsch & Cie or any of its branches or affiliates.
If you are not the intended recipient of this message,
kindly notify the sender immediately and destroy this
message. Thank You.
*****************************************************************

--=_alternative 005BA115C1257846_=--

From java-user-return-48830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 19:42:11 2011
Return-Path: <java-user-return-48830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95558 invoked from network); 1 Mar 2011 19:42:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 19:42:11 -0000
Received: (qmail 29715 invoked by uid 500); 1 Mar 2011 19:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29588 invoked by uid 500); 1 Mar 2011 19:42:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29580 invoked by uid 99); 1 Mar 2011 19:42:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 19:42:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 19:42:01 +0000
Received: by bwz8 with SMTP id 8so6367321bwz.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 11:41:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=C5RZZZBBkZWx5K9/bORTgXeZGr5AUL5NI8Bhub0wTjM=;
        b=c0ESTBiekIJbKD4mYsYscxPx8sWFeDhdBiXdbW4kZxIpu5Qwf0BhLHmLCz/ogsj0jA
         KOSphzu60h2rxxYkksso3OpPEAMiHrqmJd5a/Jg9zi90IbQXfxxQPrYl7u42yY1PIYQC
         L/xKZOsgqkNc6csbjVMKKjM8idClholzhEAB4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SAZ0VN6DqFc0ZaQea/Ayea4dUtZvJrKNhRFhTTWs6yW6DpNX1GgMDFHRByYuXxu3Fc
         vWQOErSS8M3JcewnMJx18cGco4MN7XW1n8edpeqyC9waV9O7SvjfcsPBZJIxT7XDnsAJ
         IW8WRMxn8SZSft3t287EIpE8hzTvgXap2MEMs=
MIME-Version: 1.0
Received: by 10.223.160.69 with SMTP id m5mr5100194fax.84.1299008485695; Tue,
 01 Mar 2011 11:41:25 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Tue, 1 Mar 2011 11:41:25 -0800 (PST)
Date: Tue, 1 Mar 2011 20:41:25 +0100
Message-ID: <AANLkTim4UD+YOobSCZ6=Xv9Sj5wLRJqxDP=BUTS8k_z0@mail.gmail.com>
Subject: How to define different similarity scores per field ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354186fe459a012049d70fb48

--002354186fe459a012049d70fb48
Content-Type: text/plain; charset=ISO-8859-1

I need to define different similarity scores per document field.

For example for field A I want to use Lucene tf.idf score, for the numerical
field B I want to use a different metric (difference between values) and so
on...

thanks

--002354186fe459a012049d70fb48--

From java-user-return-48831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 20:12:50 2011
Return-Path: <java-user-return-48831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98582 invoked from network); 1 Mar 2011 20:12:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 20:12:50 -0000
Received: (qmail 10157 invoked by uid 500); 1 Mar 2011 20:12:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10092 invoked by uid 500); 1 Mar 2011 20:12:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10081 invoked by uid 99); 1 Mar 2011 20:12:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 20:12:47 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sujit.pal@comcast.net designates 76.96.62.17 as permitted sender)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 20:12:38 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id DvvJ1g0041swQuc5AwCJCY; Tue, 01 Mar 2011 20:12:18 +0000
Received: from [10.1.1.36] ([208.106.108.2])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id DwC71g018038EM43bwCAUW; Tue, 01 Mar 2011 20:12:15 +0000
Subject: Re: How to define different similarity scores per field ?
From: Sujit Pal <sujit.pal@comcast.net>
Reply-To: sujit.pal@comcast.net
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTim4UD+YOobSCZ6=Xv9Sj5wLRJqxDP=BUTS8k_z0@mail.gmail.com>
References: <AANLkTim4UD+YOobSCZ6=Xv9Sj5wLRJqxDP=BUTS8k_z0@mail.gmail.com>
Content-Type: text/plain
Organization: Personal
Date: Tue, 01 Mar 2011 12:12:06 -0800
Message-Id: <1299010326.2225.106.camel@lysdexic.healthline.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.3 (2.12.3-8.el5_2.3) 
Content-Transfer-Encoding: 7bit

One way to do this currently is to build a per field similarity wrapper
(that triggers off the field name). I believe there is some work going
on with Lucene Similarity that would make it pluggable for this sort of
stuff, but in the meantime, this is what I did:

public class MyPerFieldSimilarityWrapper extends Similarity {

  public MyPerFieldSimilarityWrapper() {
    this.defaultSimilarity = new DefaultSimilarity();
    this.fieldSimilarityMap = new HashMap<String,Similarity>();
    this.fieldSimilarityMap.put("fieldA", new FieldASimilarity());
    ...
  }

  @Override
  public float lengthNorm(String fieldName, int numTokens) {
    Similarity sim = fieldSimilarityMap.get(fieldName);
    if (sim == null) {
      return defaultSimilarity.lengthNorm(fieldName, numTokens);
    } else {
      return sim.lengthNorm(fieldName, numTokens);
    }
  }
  // same for scorePayload. For the others, I just delegate 
  // to defaultSimilarity (all I really need is scorePayload in 
  // my case).
}

and in the schema.xml, I just set this class to be the similarity class:
  <similarity class="com.mycompany.MyPerFieldSimilarityWrapper"/>

hth
-sujit

On Tue, 2011-03-01 at 20:41 +0100, Patrick Diviacco wrote:
> I need to define different similarity scores per document field.
> 
> For example for field A I want to use Lucene tf.idf score, for the numerical
> field B I want to use a different metric (difference between values) and so
> on...
> 
> thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 22:31:02 2011
Return-Path: <java-user-return-48832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64925 invoked from network); 1 Mar 2011 22:31:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 22:31:02 -0000
Received: (qmail 57604 invoked by uid 500); 1 Mar 2011 22:31:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57554 invoked by uid 500); 1 Mar 2011 22:30:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57546 invoked by uid 99); 1 Mar 2011 22:30:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 22:30:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 22:30:53 +0000
Received: by fxm2 with SMTP id 2so6977398fxm.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 14:29:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=KYVYO4qcbwTNVfoVOJ8bdMiI+IvAfgKcnUNGrBc5FH0=;
        b=PmlEGPN4Jqnm7DQ+EN84JaBlUbE3eutxiCjUqzeAjyJSW6uxgOMrYDMvPQ7KoyVept
         ZGLM5sliuvjD6g0hcC4NWla/620Au4ZVqdRiBt/e/rBiJcFTxKrG09WOJoNCU4zgsGwG
         ytYBtZAud72QLDWywTFS/tv06HstgZOrtfbDk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Ks45M7lgTHf4Nq4KCFuX65BleoIXFPhDvmgUy28FwQs8in2rJstXHNcx86FXHEqZr7
         ujrgdN1ACda7rlirS0jGYug/I+27H3ju7zuX9uDETs+I1s/mJjBdBEBgnxHxAEli0ZWB
         QJX30JobP1I9HWMImqwMFUJQNZuJCOxO4+r5w=
MIME-Version: 1.0
Received: by 10.223.61.133 with SMTP id t5mr8836924fah.103.1299018528921; Tue,
 01 Mar 2011 14:28:48 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Tue, 1 Mar 2011 14:28:48 -0800 (PST)
In-Reply-To: <1299010326.2225.106.camel@lysdexic.healthline.com>
References: <AANLkTim4UD+YOobSCZ6=Xv9Sj5wLRJqxDP=BUTS8k_z0@mail.gmail.com>
	<1299010326.2225.106.camel@lysdexic.healthline.com>
Date: Tue, 1 Mar 2011 23:28:48 +0100
Message-ID: <AANLkTim6TOaQb8ckLapwDTG7Xk-xh0__xnFiUxfkGCZu@mail.gmail.com>
Subject: Re: How to define different similarity scores per field ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org, sujit.pal@comcast.net
Content-Type: multipart/alternative; boundary=0015173feeeef91997049d735124

--0015173feeeef91997049d735124
Content-Type: text/plain; charset=ISO-8859-1

I see, but I don't get one thing... you are actually customizing only
normLenght method but not all the other methods that are calculating the
similarity scores...

those methods are called and they have the implementation you have in
DefaultSimilarityClass.. right ?



On 1 March 2011 21:12, Sujit Pal <sujit.pal@comcast.net> wrote:

> One way to do this currently is to build a per field similarity wrapper
> (that triggers off the field name). I believe there is some work going
> on with Lucene Similarity that would make it pluggable for this sort of
> stuff, but in the meantime, this is what I did:
>
> public class MyPerFieldSimilarityWrapper extends Similarity {
>
>  public MyPerFieldSimilarityWrapper() {
>    this.defaultSimilarity = new DefaultSimilarity();
>    this.fieldSimilarityMap = new HashMap<String,Similarity>();
>    this.fieldSimilarityMap.put("fieldA", new FieldASimilarity());
>    ...
>  }
>
>  @Override
>  public float lengthNorm(String fieldName, int numTokens) {
>    Similarity sim = fieldSimilarityMap.get(fieldName);
>    if (sim == null) {
>      return defaultSimilarity.lengthNorm(fieldName, numTokens);
>    } else {
>      return sim.lengthNorm(fieldName, numTokens);
>    }
>  }
>  // same for scorePayload. For the others, I just delegate
>  // to defaultSimilarity (all I really need is scorePayload in
>  // my case).
> }
>
> and in the schema.xml, I just set this class to be the similarity class:
>  <similarity class="com.mycompany.MyPerFieldSimilarityWrapper"/>
>
> hth
> -sujit
>
> On Tue, 2011-03-01 at 20:41 +0100, Patrick Diviacco wrote:
> > I need to define different similarity scores per document field.
> >
> > For example for field A I want to use Lucene tf.idf score, for the
> numerical
> > field B I want to use a different metric (difference between values) and
> so
> > on...
> >
> > thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015173feeeef91997049d735124--

From java-user-return-48833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 01 22:47:33 2011
Return-Path: <java-user-return-48833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27662 invoked from network); 1 Mar 2011 22:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Mar 2011 22:47:33 -0000
Received: (qmail 86756 invoked by uid 500); 1 Mar 2011 22:47:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86262 invoked by uid 500); 1 Mar 2011 22:47:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86143 invoked by uid 99); 1 Mar 2011 22:47:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 22:47:29 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sujit.pal@comcast.net designates 76.96.62.80 as permitted sender)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2011 22:47:20 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id Dygl1g00B1ei1Bg58ymuDd; Tue, 01 Mar 2011 22:46:54 +0000
Received: from [10.1.1.36] ([208.106.108.2])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id Dymi1g00c038EM43kymlTN; Tue, 01 Mar 2011 22:46:51 +0000
Subject: Re: How to define different similarity scores per field ?
From: Sujit Pal <sujit.pal@comcast.net>
Reply-To: sujit.pal@comcast.net
To: Patrick Diviacco <patrick.diviacco@gmail.com>
Cc: java-user@lucene.apache.org
In-Reply-To: <AANLkTim6TOaQb8ckLapwDTG7Xk-xh0__xnFiUxfkGCZu@mail.gmail.com>
References: <AANLkTim4UD+YOobSCZ6=Xv9Sj5wLRJqxDP=BUTS8k_z0@mail.gmail.com>
	 <1299010326.2225.106.camel@lysdexic.healthline.com>
	 <AANLkTim6TOaQb8ckLapwDTG7Xk-xh0__xnFiUxfkGCZu@mail.gmail.com>
Content-Type: text/plain
Organization: Personal
Date: Tue, 01 Mar 2011 14:46:40 -0800
Message-Id: <1299019600.2225.150.camel@lysdexic.healthline.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.3 (2.12.3-8.el5_2.3) 
Content-Transfer-Encoding: 7bit

Yes, for the other methods (except scorePayload), I just use delegate to
the corresponding method in DefaultSimilarity. The reason is that I
don't have a way to trigger off the field name for these others. For me,
I really only need to distinguish between DefaultSimilarity and
PayloadSimilarity (which needs to be triggered for certain fields in my
index), so I overrode the scorePayloads method also in the same Map
driven way.

On Tue, 2011-03-01 at 23:28 +0100, Patrick Diviacco wrote:
> I see, but I don't get one thing... you are actually customizing only
> normLenght method but not all the other methods that are calculating
> the similarity scores...
> 
> 
> those methods are called and they have the implementation you have in
> DefaultSimilarityClass.. right ?
> 
> 
> 
> 
> On 1 March 2011 21:12, Sujit Pal <sujit.pal@comcast.net> wrote:
>         One way to do this currently is to build a per field
>         similarity wrapper
>         (that triggers off the field name). I believe there is some
>         work going
>         on with Lucene Similarity that would make it pluggable for
>         this sort of
>         stuff, but in the meantime, this is what I did:
>         
>         public class MyPerFieldSimilarityWrapper extends Similarity {
>         
>          public MyPerFieldSimilarityWrapper() {
>            this.defaultSimilarity = new DefaultSimilarity();
>            this.fieldSimilarityMap = new HashMap<String,Similarity>();
>            this.fieldSimilarityMap.put("fieldA", new
>         FieldASimilarity());
>            ...
>          }
>         
>          @Override
>          public float lengthNorm(String fieldName, int numTokens) {
>            Similarity sim = fieldSimilarityMap.get(fieldName);
>            if (sim == null) {
>              return defaultSimilarity.lengthNorm(fieldName,
>         numTokens);
>            } else {
>              return sim.lengthNorm(fieldName, numTokens);
>            }
>          }
>          // same for scorePayload. For the others, I just delegate
>          // to defaultSimilarity (all I really need is scorePayload in
>          // my case).
>         }
>         
>         and in the schema.xml, I just set this class to be the
>         similarity class:
>          <similarity
>         class="com.mycompany.MyPerFieldSimilarityWrapper"/>
>         
>         hth
>         -sujit
>         
>         
>         On Tue, 2011-03-01 at 20:41 +0100, Patrick Diviacco wrote:
>         > I need to define different similarity scores per document
>         field.
>         >
>         > For example for field A I want to use Lucene tf.idf score,
>         for the numerical
>         > field B I want to use a different metric (difference between
>         values) and so
>         > on...
>         >
>         > thanks
>         
>         
>         
>         ---------------------------------------------------------------------
>         To unsubscribe, e-mail:
>         java-user-unsubscribe@lucene.apache.org
>         For additional commands, e-mail:
>         java-user-help@lucene.apache.org
>         
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 00:26:16 2011
Return-Path: <java-user-return-48834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45050 invoked from network); 2 Mar 2011 00:26:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 00:26:16 -0000
Received: (qmail 14753 invoked by uid 500); 2 Mar 2011 00:26:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14706 invoked by uid 500); 2 Mar 2011 00:26:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14656 invoked by uid 99); 2 Mar 2011 00:26:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 00:26:13 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.23.130.172] (HELO zig.albert.com) (62.23.130.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 00:26:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by zig.albert.com (Postfix) with ESMTP id 920A18057
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 01:25:23 +0100 (CET)
X-Virus-Scanned: amavisd-new at albert.com
Received: from zig.albert.com ([127.0.0.1])
	by localhost (zig.albert.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i5JjmwrvGlvG for <java-user@lucene.apache.org>;
	Wed,  2 Mar 2011 01:25:22 +0100 (CET)
Received: from MacBook-Pro-de-Dominique-Bejean.local (ip-36.net-89-2-87.rev.numericable.fr [89.2.87.36])
	(using TLSv1 with cipher DHE-RSA-CAMELLIA256-SHA (256/256 bits))
	(No client certificate requested)
	by zig.albert.com (Postfix) with ESMTP id CA9738055
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 01:25:22 +0100 (CET)
Message-ID: <4D6D8E6A.10004@eolya.fr>
Date: Wed, 02 Mar 2011 01:25:14 +0100
From: Dominique Bejean <dominique.bejean@eolya.fr>
Reply-To: dominique.bejean@eolya.fr
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; fr; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7
MIME-Version: 1.0
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: [ANNOUNCE] Web Crawler
Content-Type: multipart/alternative;
 boundary="------------000608050404050804040105"

--------------000608050404050804040105
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

I would like to announce Crawl Anywhere. Crawl-Anywhere is a Java Web 
Crawler. It includes :

    * a crawler
    * a document processing pipeline
    * a solr indexer

The crawler has a web administration in order to manage web sites to be 
crawled. Each web site crawl is configured with a lot of possible 
parameters (no all mandatory) :

    * number of simultaneous items crawled by site
    * recrawl period rules based on item type (html, PDF, )
    * item type inclusion / exclusion rules
    * item path inclusion / exclusion / strategy rules
    * max depth
    * web site authentication
    * language
    * country
    * tags
    * collections
    * ...

The pileline includes various ready to use stages (text extraction, 
language detection, Solr ready to index xml writer, ...).

All is very configurable and extendible either by scripting or java coding.

With scripting technology, you can help the crawler to handle javascript 
links or help the pipeline to extract relevant title and cleanup the 
html pages (remove menus, header, footers, ..)

With java coding, you can develop your own pipeline stage stage

The Crawl Anywhere web site provides good explanations and screen shots. 
All is documented in a wiki.

The current version is 1.1.4. You can download and try it out from here 
: www.crawl-anywhere.com


Regards

Dominique

--------------000608050404050804040105--

From java-user-return-48835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 05:26:29 2011
Return-Path: <java-user-return-48835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4397 invoked from network); 2 Mar 2011 05:26:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 05:26:28 -0000
Received: (qmail 44200 invoked by uid 500); 2 Mar 2011 05:26:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43722 invoked by uid 500); 2 Mar 2011 05:26:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43692 invoked by uid 99); 2 Mar 2011 05:26:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 05:26:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sundushassan@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 05:26:14 +0000
Received: by iwr19 with SMTP id 19so6334964iwr.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 21:25:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=BWKQUa16KCF534zge3ksfbjEB4iJ8yWHVcr9y3nQGwk=;
        b=bShW6y/VW3LVMDHU2FDKdGKaqHoOvEXzvL6TPicFUgp4zj1k6nHZomhnpawj8Aht5S
         zpvm0BRBz3n1rVxT/Kx94Mg+6CYrMwazxUBNgdJUmbSfxmE2EbSAi/ElaPEojWzJm8cs
         h7KVjkVJodXid4aP+cNg0xKS+jXuwaU5o8zRM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=q+nC43hVDUWK88FM5I/ODHlLq99J85VyyWfyK7HXzHv/2oWN7ZsxVLf++NzusO17Yv
         c43LHomtEDQHNrtDB7TRngIbcTiV8tE0OcL3tL5hhDhjzKnqzQOCjWA8Pp8Ji/8oGTiK
         VDKYQdLLW0gMtXN2IhdIAA4Zw6if00/LjAw5A=
MIME-Version: 1.0
Received: by 10.42.177.74 with SMTP id bh10mr7880597icb.21.1299043553753; Tue,
 01 Mar 2011 21:25:53 -0800 (PST)
Received: by 10.42.233.129 with HTTP; Tue, 1 Mar 2011 21:25:53 -0800 (PST)
Date: Wed, 2 Mar 2011 10:25:53 +0500
Message-ID: <AANLkTimkXP=mNRUwenGQSaoXEPAM32dRbjd=N54v=4P-@mail.gmail.com>
Subject: Help!
From: Sundus Hassan <sundushassan@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I am doing MS-Thesis on content-based text categorization.
For This purpose I intend to use LUCENE.I need some
help/tutorial/guide regarding:

1) How to build and deploy LUCENE?
2) Some basic information regarding working of Lucene?
3) How to use LUCENE in my project?

Will be looking forward for response.
Thanks in advance.

-- 
Regards,
Sundus Hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 05:30:13 2011
Return-Path: <java-user-return-48836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6763 invoked from network); 2 Mar 2011 05:30:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 05:30:13 -0000
Received: (qmail 46401 invoked by uid 500); 2 Mar 2011 05:30:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45978 invoked by uid 500); 2 Mar 2011 05:30:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45967 invoked by uid 99); 2 Mar 2011 05:30:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 05:30:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 05:30:00 +0000
Received: by fxm2 with SMTP id 2so7304527fxm.35
        for <java-user@lucene.apache.org>; Tue, 01 Mar 2011 21:29:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=IDT6JiNFAS0wsCr/oH9fwKf9LDs6L7qFeiL5NfE4a3g=;
        b=Hv97JOHmJPeW8iIc/H7oqPPWcrXDGpk2ZgLziPjeY+lF2/DdUqJFJpiiQ49cO4mb+d
         8iTdZmhZvdNH4Lzhwo3cE3BYMI3a5pSJL/lsD0GFoIYdyTdHwSfwE1yvRqjIE/pRNtPh
         xfXXARWG1VM3cCNgz8EXmjZLQnbipMBJ0F4tg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ULs9lmpfIDcK2JV3LV9Det98z2qJdtYYch3N7c4IuPElTBGL/vdffe8dL+nTvV3UvU
         TGwcnFrpFopRcTn6n0rJ6Gg+g+llcK1z7K025n+mYlajVR9BxKz6rQ9IsCkj+Y2WEpx0
         TrYH3KMIsTG3Eb2Yq4z68U+QvkuiVZpmzsAoE=
MIME-Version: 1.0
Received: by 10.223.86.199 with SMTP id t7mr9075120fal.29.1299043777996; Tue,
 01 Mar 2011 21:29:37 -0800 (PST)
Received: by 10.223.79.1 with HTTP; Tue, 1 Mar 2011 21:29:37 -0800 (PST)
In-Reply-To: <AANLkTimkXP=mNRUwenGQSaoXEPAM32dRbjd=N54v=4P-@mail.gmail.com>
References: <AANLkTimkXP=mNRUwenGQSaoXEPAM32dRbjd=N54v=4P-@mail.gmail.com>
Date: Tue, 1 Mar 2011 21:29:37 -0800
Message-ID: <AANLkTimhBOc9Jt-ddJpuMEBFWzprBwBX9ZQ4StAXhj0t@mail.gmail.com>
Subject: Re: Help!
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

Check out the Mahout project: mahout.apache.org -> there is a
lucene-based text classifier project in there.

Lance

On Tue, Mar 1, 2011 at 9:25 PM, Sundus Hassan <sundushassan@gmail.com> wrote:
> I am doing MS-Thesis on content-based text categorization.
> For This purpose I intend to use LUCENE.I need some
> help/tutorial/guide regarding:
>
> 1) How to build and deploy LUCENE?
> 2) Some basic information regarding working of Lucene?
> 3) How to use LUCENE in my project?
>
> Will be looking forward for response.
> Thanks in advance.
>
> --
> Regards,
> Sundus Hassan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



-- 
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 06:50:38 2011
Return-Path: <java-user-return-48837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6460 invoked from network); 2 Mar 2011 06:50:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 06:50:38 -0000
Received: (qmail 14251 invoked by uid 500); 2 Mar 2011 06:50:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13040 invoked by uid 500); 2 Mar 2011 06:50:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13025 invoked by uid 99); 2 Mar 2011 06:50:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 06:50:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 06:50:21 +0000
Received: by iwr19 with SMTP id 19so6389792iwr.35
        for <multiple recipients>; Tue, 01 Mar 2011 22:50:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=KirZkZSKtOVDl+N3Tuu5PhVw/rMAz7yzXGN7+R1Sloo=;
        b=WoK8R9b7VQLRQnVDdPqJI4Ap2hF4+EHcPLiCSsVIIs8HscN2gqWozZX9/i6WufS3tf
         iO9rYHLrJZEFzyOqbwJCXP6FMfO6Zk0gs1C6VIAcZ9vswkrOH1ChjTlgXf85NePjkhKZ
         t2TTeQcTByQUlMXczhj8hkNi1D1UkS5r9fKiQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=xAht2wm6nV1UrM3EOh1x8vxgjcnaMuwN+BvsBASR789vhbmLU6Y5gFBUbveXaE9zol
         otFI1+LZD1gXQjOcXGxz5NPpRZ8pxuOTJs9dwjYGZsagbZI8wBvDFbm0867rCzUI/acL
         q65ob0sRyB/z0Am8nMyEEiwtyAlV9VlyO2AEM=
MIME-Version: 1.0
Received: by 10.231.16.137 with SMTP id o9mr7017871iba.158.1299048600413; Tue,
 01 Mar 2011 22:50:00 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Tue, 1 Mar 2011 22:50:00 -0800 (PST)
Date: Wed, 2 Mar 2011 12:20:00 +0530
Message-ID: <AANLkTimvQLCL5-_U-cH2PGLG30wYRMuoJdGR1sBGQa4w@mail.gmail.com>
Subject: BM 25 scoring with lucene
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: dev@lucene.apache.org, java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00221532c6f05fa606049d7a5256
X-Virus-Checked: Checked by ClamAV on apache.org

--00221532c6f05fa606049d7a5256
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

Do you have any BM 25 scoring implementation which can be used with Lucene?

How can I find and use the implementation mentioned in following jira entry?

https://issues.apache.org/jira/browse/LUCENE-2091

Thanks,
Lahiru

--00221532c6f05fa606049d7a5256--

From java-user-return-48838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 07:21:12 2011
Return-Path: <java-user-return-48838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78891 invoked from network); 2 Mar 2011 07:21:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 07:21:12 -0000
Received: (qmail 43079 invoked by uid 500); 2 Mar 2011 07:21:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42649 invoked by uid 500); 2 Mar 2011 07:21:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 49057 invoked by uid 99); 1 Mar 2011 22:24:23 -0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of karl.wright@nokia.com designates 147.243.128.24 as permitted sender)
From: <karl.wright@nokia.com>
To: <java-user@lucene.apache.org>
Subject: ManifoldCF in Action
Thread-Topic: ManifoldCF in Action
Thread-Index: AcvYX0p9UAu1iqdRQH+j/jHt2Ze4sQ==
Date: Tue, 1 Mar 2011 22:23:33 +0000
Message-ID: <0C2ADA45C80B224FAFA38F5DEE16A16E0504B3@008-AM1MPN1-037.mgdnok.nokia.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [146.115.112.29]
Content-Type: multipart/alternative;
	boundary="_000_0C2ADA45C80B224FAFA38F5DEE16A16E0504B3008AM1MPN1037mgdn_"
MIME-Version: 1.0
X-OriginalArrivalTime: 01 Mar 2011 22:23:34.0607 (UTC) FILETIME=[4DA0D5F0:01CBD85F]
X-Nokia-AV: Clean

--_000_0C2ADA45C80B224FAFA38F5DEE16A16E0504B3008AM1MPN1037mgdn_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear Lucene/Solr user,

It is possible you may not know of an Apache project called ManifoldCF, who=
se purpose is to provide content to Solr for index.  If you have interest i=
n this project, this is to inform you that the ManifoldCF book from Manning=
 Publishing, titled ManifoldCF in Action, is now becoming available.  This =
is, of course, the Early Access program, which gets people electronic acces=
s to chapters as they appear.  The first three chapters are up there now.

http://www.manning.com/wright

Feel free to forward this message to anyone who might be interested!

Karl


--_000_0C2ADA45C80B224FAFA38F5DEE16A16E0504B3008AM1MPN1037mgdn_--

From java-user-return-48839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 07:43:51 2011
Return-Path: <java-user-return-48839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51356 invoked from network); 2 Mar 2011 07:43:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 07:43:51 -0000
Received: (qmail 53704 invoked by uid 500); 2 Mar 2011 07:43:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53135 invoked by uid 500); 2 Mar 2011 07:43:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53127 invoked by uid 99); 2 Mar 2011 07:43:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 07:43:43 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 07:43:37 +0000
Received: from brouwer.fritz.box (srbk-5d8073c9.pool.mediaWays.net [93.128.115.201])
	by mrelayeu.kundenserver.de (node=mrbap0) with ESMTP (Nemesis)
	id 0LtlMD-1Q1rqI3HqX-011Bby; Wed, 02 Mar 2011 08:43:15 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: ManifoldCF in Action
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <0C2ADA45C80B224FAFA38F5DEE16A16E0504B3@008-AM1MPN1-037.mgdnok.nokia.com>
Date: Wed, 2 Mar 2011 08:43:14 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <5E6C886C-B11B-4FE8-9926-5F75A243E565@hoplahup.net>
References: <0C2ADA45C80B224FAFA38F5DEE16A16E0504B3@008-AM1MPN1-037.mgdnok.nokia.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:lbT/TEf0WQ8IPGTdVur3CvqFYsiVO/bssgPFrYYdv2U
 mCaOcmTTsnAyLPEmVygG0JlPURd514K0OVpenypKlUwoJSpDTB
 pXEO6ptUD4fGlEMX8kYOmdS+PnekPTOqmwQPahVRdInxBXdzrq
 BSZTiV4mb7KsmbFwsGcipXIAEzQtRgD6Dj2gdfX4CwPWgzCO6K
 kRMPPT6RNgzwLDP7M58VCG4Sm0NFyUhEOooNxAmLV0=
X-Virus-Checked: Checked by ClamAV on apache.org

Karl,

can you give, in one paragraph, the difference between ManifoldCF and =
DIH?

thanks in advance

paul


Le 1 mars 2011 =E0 23:23, karl.wright@nokia.com a =E9crit :

> Dear Lucene/Solr user,
>=20
> It is possible you may not know of an Apache project called =
ManifoldCF, whose purpose is to provide content to Solr for index.  If =
you have interest in this project, this is to inform you that the =
ManifoldCF book from Manning Publishing, titled ManifoldCF in Action, is =
now becoming available.  This is, of course, the Early Access program, =
which gets people electronic access to chapters as they appear.  The =
first three chapters are up there now.
>=20
> http://www.manning.com/wright
>=20
> Feel free to forward this message to anyone who might be interested!
>=20
> Karl
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 10:21:04 2011
Return-Path: <java-user-return-48840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57636 invoked from network); 2 Mar 2011 10:21:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 10:21:04 -0000
Received: (qmail 25367 invoked by uid 500); 2 Mar 2011 10:21:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24979 invoked by uid 500); 2 Mar 2011 10:20:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 98945 invoked by uid 99); 2 Mar 2011 08:23:10 -0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ger.dupont@gmail.com designates 74.125.82.176 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=fGfoJnEgqOqh6AR8VHfUmoCcn141AOC6FuIl08AsKzM=;
        b=xqxINUhYzulSpIUOWrrbKWOYs5TWCt6ItOsTQHcLP0jExCzO31Z9p4moxQ6jYO6RR1
         aXYa1hmt1e2kQbEYf40lff2naYUrsYRwREAOakkQn/lsqTZTSaAvW7uNvNTJW4I4rKhM
         mNd11oLi/o2L53dZYz7aPaF0ttBgEhJPitHss=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=L6eblgGpkBE8enfIWoOQ/TbW55FYg87e+uPECknZxlKJ1YYt5ky7zfW+iNRXNjomre
         isWfhD0tgcw5U/686NgWpsJYCNU8P0HZYaS1R2BZuR3SW9Qu0trIpg5jMElBq1AbwIfZ
         XRLcPi0wFmwHdytHqXM5VMvThqF+tnDpPG+hM=
MIME-Version: 1.0
In-Reply-To: <AANLkTimvQLCL5-_U-cH2PGLG30wYRMuoJdGR1sBGQa4w@mail.gmail.com>
References: <AANLkTimvQLCL5-_U-cH2PGLG30wYRMuoJdGR1sBGQa4w@mail.gmail.com>
From: =?ISO-8859-1?Q?G=E9rard_Dupont?= <ger.dupont@gmail.com>
Date: Wed, 2 Mar 2011 09:22:23 +0100
Message-ID: <AANLkTimYwMwFMM6GpCyZN+cHLTajA63RGW79gxUG4yQR@mail.gmail.com>
Subject: Re: BM 25 scoring with lucene
To: dev@lucene.apache.org
Cc: Lahiru Samarakoon <lahiruts@gmail.com>, java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30025c04f08198049d7b9d5b
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf30025c04f08198049d7b9d5b
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

On 2 March 2011 07:50, Lahiru Samarakoon <lahiruts@gmail.com> wrote:

> Hi All,
>
> Do you have any BM 25 scoring implementation which can be used with Lucen=
e?
>

One query on goggle, first reqsult (for me) :
http://nlp.uned.es/~jperezi/Lucene-BM25/
(But it's from 2009)

How can I find and use the implementation mentioned in following jira entry=
?
>
> https://issues.apache.org/jira/browse/LUCENE-2091
>
> Thanks,
> Lahiru
>



--=20
G=E9rard Dupont
Information Processing Control and Cognition (IPCC)
CASSIDIAN - an EADS company

Document & Learning team - LITIS Laboratory

--20cf30025c04f08198049d7b9d5b--

From java-user-return-48841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 11:01:34 2011
Return-Path: <java-user-return-48841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87198 invoked from network); 2 Mar 2011 11:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 11:01:34 -0000
Received: (qmail 80777 invoked by uid 500); 2 Mar 2011 11:01:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80287 invoked by uid 500); 2 Mar 2011 11:01:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80279 invoked by uid 99); 2 Mar 2011 11:01:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 11:01:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 11:01:21 +0000
Received: by yxd5 with SMTP id 5so3243844yxd.35
        for <java-user@lucene.apache.org>; Wed, 02 Mar 2011 03:01:00 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.95.16 with SMTP id x16mr10469462ybl.50.1299063660239; Wed,
 02 Mar 2011 03:01:00 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Wed, 2 Mar 2011 03:01:00 -0800 (PST)
In-Reply-To: <OF08B35206.2A802666-ONC1257846.0058F083-C1257846.005BA116@biz.lodh.com>
References: <AANLkTim5zTCsCZPPC1BmJhJ9xUpm2gMDaPeYbrD33RWc@mail.gmail.com>
	<OF08B35206.2A802666-ONC1257846.0058F083-C1257846.005BA116@biz.lodh.com>
Date: Wed, 2 Mar 2011 06:01:00 -0500
Message-ID: <AANLkTi=FFVmZfuaTPwA11Hh3p8-9WUsKkuP-iiB1XvRr@mail.gmail.com>
Subject: Re: recurrent IO/CPU peaks
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: v.sevel@lombardodier.com
Content-Type: text/plain; charset=ISO-8859-1

On Tue, Mar 1, 2011 at 11:40 AM,  <v.sevel@lombardodier.com> wrote:

> we developped a real time logging system. we index 4.5 millions
> events/day, spread over multiple servers, each with its own index. every
> night with delete events from the index based on a retention policy then
> we optimize. each server takes between 1 and 2 hours to optimize. ideally,
> we would like to optimize more quickly, without compromising the search
> performances. in the lucene in action book, it says "use optimize
> sparingly; use the optimize(maxNumSegments) method instead". what is a
> reasonnable maxNumSegments in my situation?

Maybe try starting with maxNumSegments=10 and iterate from there?

But, are you sure you even need to optimize at all?  Are you hitting
search performance issues if you don't optimize?

Another thing to try is calling .setCalibrateSizeByDeletes(true) on
your LogByteSizeMergePolicy (the default).  This generally causes it
to favor merging away segments with many deletions...

-- 
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 11:47:16 2011
Return-Path: <java-user-return-48842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44528 invoked from network); 2 Mar 2011 11:47:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 11:47:15 -0000
Received: (qmail 54487 invoked by uid 500); 2 Mar 2011 11:47:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54046 invoked by uid 500); 2 Mar 2011 11:47:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54038 invoked by uid 99); 2 Mar 2011 11:47:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 11:47:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [159.162.103.253] (HELO skdzfap04.statkart.no) (159.162.103.253)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 11:47:01 +0000
Received: from skrisrv06.statkart.no ([159.162.35.71])
	by skdzfap04.statkart.no (8.14.3/8.14.3) with ESMTP id p22BkOP6022778
	for <java-user@lucene.apache.org>; Wed, 2 Mar 2011 12:46:39 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: IOException during search and NullPointerException when closing IndexReader
Date: Wed, 2 Mar 2011 12:46:23 +0100
Message-ID: <EA82E26AB31E2647A1AD13D60E905CB5702C1F@skrisrv06.statkart.no>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IOException during search and NullPointerException when closing IndexReader
Thread-Index: AcvYz3SQylEimWwfRYyvz8i1aunlcA==
From: "Tor Egil Strand" <Tor-Egil.Strand@statkart.no>
To: <java-user@lucene.apache.org>

Hi

I have been investigating a problem where our servers kept old index
files open even though our logs indicated that we had closed the
IndexReader. Eventually I found out that the files were not closed
because a NullPointerException had been thrown from somewhere inside
Lucene before it got to closing the files. Here is the stack trace for
this exception:

java.lang.NullPointerException
	at
org.apache.lucene.index.SegmentReader$Norm.decRef(SegmentReader.java:409
)
	at
org.apache.lucene.index.SegmentReader.doClose(SegmentReader.java:815)
	at
org.apache.lucene.index.IndexReader.decRef(IndexReader.java:163)
	at
org.apache.lucene.index.DirectoryReader.doClose(DirectoryReader.java:828
)
	at
org.apache.lucene.index.IndexReader.decRef(IndexReader.java:163)
	at
org.apache.lucene.index.IndexReader.close(IndexReader.java:1004)
=09
I also found out that the cause of this exception was another exception
we had gotten several hours earlier:

java.io.IOException: read past EOF
	at
org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.
java:138)
	at
org.apache.lucene.index.SegmentReader$Norm.bytes(SegmentReader.java:471)
	at
org.apache.lucene.index.SegmentReader.getNorms(SegmentReader.java:1017)
	at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:1024)
	at
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:79)
	at
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.
java:306)
	at
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.
java:306)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:210)
	at org.apache.lucene.search.Searcher.search(Searcher.java:67)
=09
This brings two questions:

1. Why did we get the IOException in the first place. Other searches
that day were working just fine. Unfortunately, the files from that day
have long since been overwritten. The search that failed was the first
search in a newly opened IndexReader. Two other searches being performed
within the same second went perfectly fine, and the queries should be
equal except for the keyword. Could it be Lucene that was trying to read
beyond EOF, or is it more likely that an index file was corrupted, or
even a problem in out storage system?

2. As several things could cause an IOException at the given point we
got it, it is bad that it is then no longer possible to close the
IndexReader properly. As far as I can see, Lucene assumes that two
fields, bytes and bytesRef, in SegmentReader.Norm are both null or both
non-null. In Norm.decRef(), only bytes is checked before calling a
method on bytesRef, but an exception in Norm.bytes() may cause bytes to
be non-null while bytesRef is still null. Is this a bug that should be
fixed?


This problem occured on Lucene 3.0.2, but I have looked at the source
code for 3.0.3 and problem 2 appears to still be there.



Regards
Tor Egil Riegels Strand
Software developer
Norwegian Mapping Authority

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 15:02:57 2011
Return-Path: <java-user-return-48843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78601 invoked from network); 2 Mar 2011 15:02:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 15:02:56 -0000
Received: (qmail 13216 invoked by uid 500); 2 Mar 2011 15:02:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12883 invoked by uid 500); 2 Mar 2011 15:02:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12858 invoked by uid 99); 2 Mar 2011 15:02:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:02:49 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of karl.wright@nokia.com designates 147.243.1.48 as permitted sender)
Received: from [147.243.1.48] (HELO mgw-sa02.nokia.com) (147.243.1.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:02:40 +0000
Received: from vaebh102.NOE.Nokia.com (vaebh102.europe.nokia.com [10.160.244.23])
	by mgw-sa02.nokia.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id p22F2FkF025953
	for <java-user@lucene.apache.org>; Wed, 2 Mar 2011 17:02:20 +0200
Received: from smtp.mgd.nokia.com ([65.54.30.8]) by vaebh102.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Mar 2011 17:02:14 +0200
Received: from 008-AM1MMR1-004.mgdnok.nokia.com (65.54.30.59) by
 NOK-AM1MHUB-04.mgdnok.nokia.com (65.54.30.8) with Microsoft SMTP Server (TLS)
 id 8.2.255.0; Wed, 2 Mar 2011 16:02:13 +0100
Received: from 008-AM1MPN1-037.mgdnok.nokia.com ([169.254.7.42]) by
 008-AM1MMR1-004.mgdnok.nokia.com ([65.54.30.59]) with mapi id 14.01.0270.002;
 Wed, 2 Mar 2011 16:02:13 +0100
From: <karl.wright@nokia.com>
To: <java-user@lucene.apache.org>
Subject: ManifoldCF in Action
Thread-Topic: ManifoldCF in Action
Thread-Index: AcvY6s9V5E5AHbwWS2iSYCvnzKoh4A==
Date: Wed, 2 Mar 2011 15:02:12 +0000
Message-ID: <0C2ADA45C80B224FAFA38F5DEE16A16E050CF1@008-AM1MPN1-037.mgdnok.nokia.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.162.164.82]
Content-Type: multipart/alternative;
	boundary="_000_0C2ADA45C80B224FAFA38F5DEE16A16E050CF1008AM1MPN1037mgdn_"
MIME-Version: 1.0
X-OriginalArrivalTime: 02 Mar 2011 15:02:14.0413 (UTC) FILETIME=[D09DA3D0:01CBD8EA]
X-Nokia-AV: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_0C2ADA45C80B224FAFA38F5DEE16A16E050CF1008AM1MPN1037mgdn_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear Lucene/Solr user,

It is possible you may not know of an Apache project called ManifoldCF, who=
se purpose is to provide content to Solr or other search engines for index.=
  If you have interest in this project, this is to inform you that the Mani=
foldCF book from Manning Publishing, titled ManifoldCF in Action, is now be=
coming available.  This is, of course, the Early Access program, which gets=
 people electronic access to chapters as they appear.  The first three chap=
ters are up there now.

http://www.manning.com/wright

You can learn more about ManifoldCF as a project at:

http://incubator.apache.org/connectors/

Feel free to forward this message to anyone who might be interested!

Karl



--_000_0C2ADA45C80B224FAFA38F5DEE16A16E050CF1008AM1MPN1037mgdn_--

From java-user-return-48844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 15:31:43 2011
Return-Path: <java-user-return-48844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72254 invoked from network); 2 Mar 2011 15:31:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 15:31:42 -0000
Received: (qmail 75679 invoked by uid 500); 2 Mar 2011 15:31:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75444 invoked by uid 500); 2 Mar 2011 15:31:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75430 invoked by uid 99); 2 Mar 2011 15:31:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:31:36 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.243.6.182] (HELO mail.mysigninternational.com) (212.243.6.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:31:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail.mysigninternational.com (Postfix) with ESMTP id BD517C21B1
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 16:31:07 +0100 (CET)
Received: from mail.mysigninternational.com ([127.0.0.1])
	by localhost (mysign-postfix1.INTERNET [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2NDQzs68ZDyV for <java-user@lucene.apache.org>;
	Wed,  2 Mar 2011 16:31:07 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp (unknown [192.168.13.8])
	by mail.mysigninternational.com (Postfix) with ESMTP id A29C9C2167
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 16:31:07 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31]) by
 Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31%10]) with mapi;
 Wed, 2 Mar 2011 16:31:07 +0100
From: Clemens Wyss <clemensdev@mysign.ch>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 2 Mar 2011 16:31:06 +0100
Subject: Searching within all fields...
Thread-Topic: Searching within all fields...
Thread-Index: AcvY7thr8QHUZTmaSVexEII74cgMQA==
Message-ID: <E594BA962D832C49A3CF858DAA3A696C11359311D0@Exchange2007.mysigndomain.corp>
Accept-Language: de-DE, de-CH
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: de-DE, de-CH
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

looking at the Term and QueryParser class, I always have to provide a field=
 name. MultiFieldQueryParser requires a list of fields. But what if I just =
want to search withing "all fields", not enumerating them?

Any advices?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 15:45:44 2011
Return-Path: <java-user-return-48845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16404 invoked from network); 2 Mar 2011 15:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 15:45:43 -0000
Received: (qmail 92476 invoked by uid 500); 2 Mar 2011 15:45:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92039 invoked by uid 500); 2 Mar 2011 15:45:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91576 invoked by uid 99); 2 Mar 2011 15:45:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:45:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 15:45:30 +0000
Received: by iyj12 with SMTP id 12so41992iyj.35
        for <java-user@lucene.apache.org>; Wed, 02 Mar 2011 07:45:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=S1XRets+nEbNnq2OqtO+roTrUK+YjtneayTeIF3YMzU=;
        b=JrmRrio6YV3bgmGjB3RB9vLcWPmcmEn5wNwBMArRIGLd9scRdVbvPclItfkhU2eLes
         kdK6Yv1ByeJowKGionp0hc8TY1cXQ2/mJnOh6d8tr3Dqpry8X+3K9N1pgIWWkyInp//Q
         G6034l2iW6J8gV1pi+h+rv2Er/ZxG3GyEC10U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=pZYp+BA539jkQWzjm+v7+0yg4vU7rHlpasv/uYws+kznjduqljpTlQmwYkJIYo40LS
         Vvu6yP3MBaaKRQSta3WVh4mELXtPY/zdHkLTLEY2DJfjJgdQYmdmAIV25u42KYv5oEY8
         1iEU77P/sykyPxnKIphiZ+6GGE8eweh+iDiu4=
Received: by 10.42.230.193 with SMTP id jn1mr64552icb.87.1299080708294; Wed,
 02 Mar 2011 07:45:08 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Wed, 2 Mar 2011 07:44:46 -0800 (PST)
In-Reply-To: <E594BA962D832C49A3CF858DAA3A696C11359311D0@Exchange2007.mysigndomain.corp>
References: <E594BA962D832C49A3CF858DAA3A696C11359311D0@Exchange2007.mysigndomain.corp>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 2 Mar 2011 15:44:46 +0000
Message-ID: <AANLkTimPkNknobRQyFcwEqUurmdVyfTgbcoU2-wNycEF@mail.gmail.com>
Subject: Re: Searching within all fields...
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

A common alternative is to create a catch all field called something
like "contents" and dump all searchable data in there, instead of or
as well as in individual fields, depending on your requirements.

There is no out-of-the-box way to automatically search across all fields.


--
Ian.

On Wed, Mar 2, 2011 at 3:31 PM, Clemens Wyss <clemensdev@mysign.ch> wrote:
> looking at the Term and QueryParser class, I always have to provide a field name. MultiFieldQueryParser requires a list of fields. But what if I just want to search withing "all fields", not enumerating them?
>
> Any advices?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 22:23:05 2011
Return-Path: <java-user-return-48846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51307 invoked from network); 2 Mar 2011 22:23:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 22:23:05 -0000
Received: (qmail 60478 invoked by uid 500); 2 Mar 2011 22:23:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60397 invoked by uid 500); 2 Mar 2011 22:23:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60383 invoked by uid 99); 2 Mar 2011 22:23:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:23:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:22:56 +0000
Received: by fxm2 with SMTP id 2so683848fxm.35
        for <java-user@lucene.apache.org>; Wed, 02 Mar 2011 14:22:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=WFVCQuLg8aVhIu8W808VJ4q4u5BQhg/COszRgQYIw08=;
        b=X1owu8ktjHbYfoVfRdjnUpc+DRqqZKkHX3ccRuICXWbwfcq60gwK3CsiUkeau0Q/tY
         joCA+S/xmC6WsRFC9QfwoZU6bwIQJjc7riOwaBxcyeV0wgmxwRdK+7Hjzj0Ti6No2FC8
         UvWofalEVSplxDMp/elkTb4FkaCfdyzuh17/0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=wjdcmoGEQa4JUCxRJmswPBT/v189FpNVzWYDxviQamqgRNFI0I9YLbyN0RIHQhqZgL
         RDeiihQ2+IAHD/N5TJqY3qKKXDqgCNMHy56o2K8lR7ykTtHZIZJWD6wtPv/vNuCUbSV6
         XmCN2aX8pPFAybjpaGVfYEBxO2ghM8tBG6aSY=
MIME-Version: 1.0
Received: by 10.223.61.133 with SMTP id t5mr527170fah.103.1299104555060; Wed,
 02 Mar 2011 14:22:35 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Wed, 2 Mar 2011 14:22:35 -0800 (PST)
Date: Wed, 2 Mar 2011 23:22:35 +0100
Message-ID: <AANLkTim7avjsuHPDi+hAnvZ9m5xQbJseDAwLaF1iBszm@mail.gmail.com>
Subject: Lucene nightly build javadoc ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015173feeee87cdaf049d875922

--0015173feeee87cdaf049d875922
Content-Type: text/plain; charset=ISO-8859-1

Can i read the javadocs for Lucene nightly build 4.0 ?
How ?

thanks

--0015173feeee87cdaf049d875922--

From java-user-return-48847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 22:31:56 2011
Return-Path: <java-user-return-48847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78996 invoked from network); 2 Mar 2011 22:31:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 22:31:56 -0000
Received: (qmail 77443 invoked by uid 500); 2 Mar 2011 22:31:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77402 invoked by uid 500); 2 Mar 2011 22:31:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77394 invoked by uid 99); 2 Mar 2011 22:31:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:31:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:31:46 +0000
Received: by bwz8 with SMTP id 8so883448bwz.35
        for <java-user@lucene.apache.org>; Wed, 02 Mar 2011 14:31:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=IQahdE/cfDb65SInwpmvOW2TmUb6m2B36O3tzXEbMpI=;
        b=Ybd+1VIWiRRqTEYXlfsRNsW2DKg1Zo3ZUJv0wn/7864oCqT+7VA0udXe/7nDiFf8mq
         mTjDemZihnEcInbH9pW47odteyeUHkuh6//yX3bVVWLLKazmsZ/rJWS8k7aq2zfU+Kz6
         fKU/aZyxrZUL2T1RugaqbKqeJw21idRGtaEa4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=a+ZquzEv4IAQJ1nXuS9RluYzAji/YRYeKHzuec9VO2YxZw+q/qH6F//uOl/PPvAUqm
         xP5++TGE86BjG75vVovD7t7lMwZ6C+kdoXsMsIgFobKIvBtGfSMAe37f6/HPv/WxVL3e
         Viy0n3eHSHX764vHZ913tQ3N6cweoIHiET+9A=
Received: by 10.204.56.14 with SMTP id w14mr644163bkg.27.1299105072105; Wed,
 02 Mar 2011 14:31:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Wed, 2 Mar 2011 14:30:52 -0800 (PST)
In-Reply-To: <AANLkTim7avjsuHPDi+hAnvZ9m5xQbJseDAwLaF1iBszm@mail.gmail.com>
References: <AANLkTim7avjsuHPDi+hAnvZ9m5xQbJseDAwLaF1iBszm@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Wed, 2 Mar 2011 17:30:52 -0500
Message-ID: <AANLkTi=aPGE=Dy7-Usk-eQ2Yf_+LOQf1GsDks2SVAgMv@mail.gmail.com>
Subject: Re: Lucene nightly build javadoc ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 2, 2011 at 5:22 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> Can i read the javadocs for Lucene nightly build 4.0 ?
> How ?
>

https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-trunk/javadoc/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 22:33:07 2011
Return-Path: <java-user-return-48848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87530 invoked from network); 2 Mar 2011 22:33:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 22:33:07 -0000
Received: (qmail 83343 invoked by uid 500); 2 Mar 2011 22:33:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83297 invoked by uid 500); 2 Mar 2011 22:33:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83288 invoked by uid 99); 2 Mar 2011 22:33:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:33:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:32:57 +0000
Received: by fxm2 with SMTP id 2so695537fxm.35
        for <java-user@lucene.apache.org>; Wed, 02 Mar 2011 14:32:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=raPVyiNvOizPApF7pPJ6KuHWXTkEOLArIv50NcMHKOk=;
        b=w4F3lBFbX3e6V1CJK+Nu/F6cdAbEm8QRH8zEBRlUI3Y2PjAXfZu2KvBSbKq5NCDW2m
         7w7cypc/364JPfn8up3DNrjPbfr6tYhl4+j/TDTXdRGM9ynz5AszMBZOOkjsPqjxX7g+
         5lzA/7fZx1f1kkUlW7oHdJ9rkfXII0tmYYNyk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=q0C8I3buXxqe47+DomaIw8kckAFmBQzlWkHkbfev6Oe/kHXAeskBd1HFHK8uUA7b97
         3iunYDO6NQUO7rQgG4K1IdHIusdC329zdzNmeM9ny/lPf1B7QXJwnWa+KyquDfmbcVB8
         qVCVLMRMjAC4asOdJ+xzVT6IY6rFd1zjpGe0M=
MIME-Version: 1.0
Received: by 10.223.62.11 with SMTP id v11mr591538fah.27.1299105157408; Wed,
 02 Mar 2011 14:32:37 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Wed, 2 Mar 2011 14:32:37 -0800 (PST)
Date: Wed, 2 Mar 2011 23:32:37 +0100
Message-ID: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
Subject: WhitespaceAnalyzer in Lucene nightly build ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517402b946ee997049d877d07
X-Virus-Checked: Checked by ClamAV on apache.org

--001517402b946ee997049d877d07
Content-Type: text/plain; charset=ISO-8859-1

I've downloaded Lucene nightly build and I've seen
that WhitespaceAnalyzer.java is not anymore there.

Has this analyzer been removed from the library ? What should I use instead
?

thanks

--001517402b946ee997049d877d07--

From java-user-return-48849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 02 22:48:51 2011
Return-Path: <java-user-return-48849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49167 invoked from network); 2 Mar 2011 22:48:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Mar 2011 22:48:51 -0000
Received: (qmail 31874 invoked by uid 500); 2 Mar 2011 22:48:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31822 invoked by uid 500); 2 Mar 2011 22:48:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31814 invoked by uid 99); 2 Mar 2011 22:48:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:48:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2011 22:48:42 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E959345EA31
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 23:48:19 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id b6+JY9XQhhql for <java-user@lucene.apache.org>;
	Wed,  2 Mar 2011 23:48:14 +0100 (CET)
Received: from VEGA (port-92-196-28-181.dynamic.qsc.de [92.196.28.181])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id C9B3545E7C0
	for <java-user@lucene.apache.org>; Wed,  2 Mar 2011 23:48:14 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
In-Reply-To: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
Subject: RE: WhitespaceAnalyzer in Lucene nightly build ?
Date: Wed, 2 Mar 2011 23:48:14 +0100
Message-ID: <017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQH4hHgtATAB0CNov4LG6TTKL2mdbZPBTZ/g
Content-Language: de

Hi,

Lucene trunk aka 4.0 does not ship with any special analyzers in its core
JAR file anymore. In trunk you have to use the module analyzers-common for
this analyzer.

The problem with this module is, that the nightly build don't generate a ZIP
file out of it (this needs to be fixed for all the new modules). You have
two possibilities:
- Export source from SVN and build yourself
- Use the nightly Maven JARs instead (they include the modules as JARs):
https://hudson.apache.org/hudson/job/Lucene-Solr-Maven-trunk/lastSuccessfulB
uild/artifact/maven_artifacts/org/apache/lucene/

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Wednesday, March 02, 2011 11:33 PM
> To: java-user@lucene.apache.org
> Subject: WhitespaceAnalyzer in Lucene nightly build ?
> 
> I've downloaded Lucene nightly build and I've seen that
> WhitespaceAnalyzer.java is not anymore there.
> 
> Has this analyzer been removed from the library ? What should I use
instead
> ?
> 
> thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 03:19:16 2011
Return-Path: <java-user-return-48850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19757 invoked from network); 3 Mar 2011 03:19:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 03:19:15 -0000
Received: (qmail 85259 invoked by uid 500); 3 Mar 2011 03:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84341 invoked by uid 500); 3 Mar 2011 03:19:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84216 invoked by uid 99); 3 Mar 2011 03:19:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 03:19:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ridabenjelloun@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 03:19:02 +0000
Received: by iwr19 with SMTP id 19so767380iwr.35
        for <multiple recipients>; Wed, 02 Mar 2011 19:18:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:date:x-google-sender-auth
         :message-id:subject:from:to:content-type;
        bh=xdb9cuEvmH4UC7mMQ+WDbAXOYDepqWppUIdKe3AM2rQ=;
        b=QJPjur9RyZMJg27JR3hfVsNyrKpEhVbttyl+X7iWLxWNhwcIkf7qzy246OhLeyux70
         NY3aU7A9Ql1cDI93xNetU5LuCXi6AzIrYJ6adekudi6aL7C6EZPN1KqCLi2olDjVl7Ka
         jS3HJfHexL7Z7rFlh4hwwiopiycAa5Xgav4X4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=sEtex+0bqmYC049Ca8nxmB6xwCTnXFVkYYN5UMYB/Sol0FXPEqQC1G9iCukfWSX8/E
         PfOCyohV4yeMMtTKBC8GSNoK151Vw+LbSJG0kaZ1pA6uV9Cvv1cPezlr79CJiUGG27C2
         zVTca1gKOL15skylzJdQKXyxZq0DCWIewv+RE=
MIME-Version: 1.0
Received: by 10.42.19.130 with SMTP id c2mr919214icb.96.1299122314264; Wed, 02
 Mar 2011 19:18:34 -0800 (PST)
Sender: ridabenjelloun@gmail.com
Received: by 10.42.226.137 with HTTP; Wed, 2 Mar 2011 19:18:34 -0800 (PST)
Date: Wed, 2 Mar 2011 22:18:34 -0500
X-Google-Sender-Auth: 21Xmtc8B8VPxCr6b8_siAhFYjcY
Message-ID: <AANLkTiktXhqjquwnMDPFm7yNBnpvfuz7WYADjmv-54Om@mail.gmail.com>
Subject: The Constellio team is proud to release its version 1.2
From: Rida Benjelloun <rida.benjelloun@doculibre.com>
To: solr-dev@lucene.apache.org, solr-user@lucene.apache.org, 
	nutch-user@lucene.apache.org, nutch-dev@lucene.apache.org, 
	java-dev@lucene.apache.org, java-user@lucene.apache.org, 
	tika-dev@incubator.apache.org
Content-Type: multipart/alternative; boundary=20cf301d42280fc1c1049d8b7c98
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf301d42280fc1c1049d8b7c98
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Constellio Enterprise Search team is proud to launch the version 1.2 of its
powerful Open Source search engine software. Based on Google Search
Appliance connectors and Apache Solr, Constellio allows, by a single search=
,
to find all available information. The software is also compliant with the
security requirements of the organisation.



This new version brings significant improvements to the search engine.
Constellio is now CMIS compliant. This allows him to connect with all
compatible systems using this standard, such as Alfresco, Nuxeo, Liferay,
Drupal, etc.



We also want to thank everyone who has downloaded Constellio. Many importan=
t
changes have been done in this new version



Here are some new features developed in the 1.2 version





=95             CMIS connector

=95             XML connector using Xpath language

=95             Alert mechanism and RSS feeds

=95             Google OneBox technology integration

=95             Automatic recording of historical research

=95             Favorite documents registration

=95             Favorite queries registration

=95             Improvement of the learning mechanism used in the relevance
calculation of search results

=95             Sitemaps protocol support for HTTP connectors

=95             Multiselect facets using Ajax technology






--=20
---------------------------------------------------------
Rida Benjelloun
Constellio -  Doculibre
ridabenjelloun@apache.org
rida.benjelloun@doculibre.com
---------------------------------------------------------

--20cf301d42280fc1c1049d8b7c98--

From java-user-return-48851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 05:03:54 2011
Return-Path: <java-user-return-48851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64051 invoked from network); 3 Mar 2011 05:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 05:03:54 -0000
Received: (qmail 2798 invoked by uid 500); 3 Mar 2011 05:03:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2737 invoked by uid 500); 3 Mar 2011 05:03:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2714 invoked by uid 99); 3 Mar 2011 05:03:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 05:03:50 +0000
X-ASF-Spam-Status: No, hits=4.3 required=5.0
	tests=FREEMAIL_FROM,FS_REPLICA,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.225] (HELO nm3.bullet.mail.in.yahoo.com) (121.101.151.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Mar 2011 05:03:45 +0000
Received: from [121.101.151.237] by nm3.bullet.mail.in.yahoo.com with NNFMP; 03 Mar 2011 05:03:23 -0000
Received: from [121.101.151.234] by tm2.bullet.mail.in.yahoo.com with NNFMP; 03 Mar 2011 05:03:16 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 03 Mar 2011 05:03:15 -0000
X-Yahoo-Newman-Id: 839298.88421.bm@omp1003.mail.in.yahoo.com
Received: (qmail 46086 invoked from network); 3 Mar 2011 05:03:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=PvYkVWYymFIBPvJyDmgJIzouiPZ1GGV9/I0tIhpSag1eQ6ISqoYuPI7H6yZggcErbl28/mCp5py98LunUOiDnYAHLagymD2xVtQeaVhkUhXqRTubrz0KXOlsZuyH34CMq9iigS2+N6SsFbkR3eUf+dm5hPqfRIabtUG2b7Se98Q=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1299128602; bh=pdDyMwP5CJWb8FL54rdBCGe7Rj1MAb3YMA4Ju3kAjGY=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=k1IKTmf3ArIm3EcckIAX8h3MDf8iYY+vbJFGo3lLj8bcymkR/NfnjKNkNt56UhEQh/mtiaercpfVAhxD5iEqidiyfONqHkLib+ibTOcuIDhma0Qozu469MDMx2gnX/O3D9sY8sFfe7hVWc+D7TNcnkxoitGkRq2IQeI/vXKHITI=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp109.mail.in.yahoo.com with SMTP; 03 Mar 2011 10:33:21 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: KaSNYxUVM1n.z0UIJ7QUIsn5IB0C9blzMKwWJWpzeaE9dt4
 aPRmMLyMk.9MjyOr5rhFTeHNdhZIwrl3l5UwZ0Bsh7YLmyZsMqF3X7B82nJS
 4McYHLmTRDs07lxvtHRq1luwENwNJf_HHNBEymrwkJEYbZYEyLdZ2j5qv.xw
 pAJ_nu.OHF99u26Cc_IC3HP4KXV0KmMR2rTyn_xuGT8ZAUaW3CeaBlyWoGyW
 0U5I8LcQHARKBb.lRjsqfay0rG7JWyHaWmbzgv9sNKhC7oF4Mog--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <A3AA031AE49F49AF8FEB832F9728D362@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <95898C2B932244DD9178F09353847309@sv.us.sonicwall.com>
Subject: Re: Backup or replication option with lucene
Date: Thu, 3 Mar 2011 10:33:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Any suggestions. We are planning to move towords cloud and its become a =
mandatory requirement to have backup or replication of search db.

Regards
Ganesh

----- Original Message -----=20
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Sent: Tuesday, March 01, 2011 12:06 PM
Subject: Backup or replication option with lucene


Hello all,

Could any one guide me how to backup or do replication with Lucene.=20

Regards
Ganesh
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 05:17:30 2011
Return-Path: <java-user-return-48852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93000 invoked from network); 3 Mar 2011 05:17:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 05:17:29 -0000
Received: (qmail 43544 invoked by uid 500); 3 Mar 2011 05:17:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43511 invoked by uid 500); 3 Mar 2011 05:17:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43484 invoked by uid 99); 3 Mar 2011 05:17:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 05:17:24 +0000
X-ASF-Spam-Status: No, hits=3.6 required=5.0
	tests=FREEMAIL_FROM,FS_REPLICA,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.94.238.130] (HELO web130103.mail.mud.yahoo.com) (66.94.238.130)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Mar 2011 05:17:20 +0000
Received: (qmail 83692 invoked by uid 60001); 3 Mar 2011 05:16:59 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1299129418; bh=xf7IgobfHOf9Oqlx1LEafD6CrlZo7aRQ+uPY8XvK+rw=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=HYEZ4M/2pCvbsc7BjhTfSo9tX6zBMCRAWNL84M7FAO3P0YckzU7dLAxNoPaxL/tu30jmkzy8XFjEYJqkvD4f8lcu+FU/j4SW+5pnBoN58YIn6DsfCnXvW190/uJkaIqh34sfQaYrtgnJkByh9QAYtJtcxa1ehNdiZT87Ab7ElTg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=z89FUTctktiiQzMArnNf8bJKonLzowM9ic0NWidO4xNQS3rwsIOMcgPatQtn2REkDbgkBq2csMV+R2XKFml3H+Mn6UIXBmh+iPm99ebd1baLUMxXdnPpJSKJoEuL1yI1sXLmcJAkFViynDyHAQWqsEOW+uXqa0sU/7dumWVQOdk=;
Message-ID: <207752.83657.qm@web130103.mail.mud.yahoo.com>
X-YMail-OSG: iFMmaw8VM1kW2I.Y9HSEPujn89KBxZfbMyWOS37q_OtyK8i
 5RPPTQpJPDjxDMUGNvs.bZIiUmo_P8.6Sdmhx.YUTun_ibvTdH_9dWMr5LlH
 QzIaun5guh6zyw1YBL5uBBVTugU4gyWZ4byxzIhkPm.kDlHi9Kj327Voz4JC
 ZAogW3hWYTk_OhP6GANrh5YHlZ3PkALbb4JSmQ6vnJJ_nZO5CN81SXgbbey3
 GdvLJYoln72MlX7VDwJNX2zcLquYtDaogdPCEcXmNAxSjtPeK63FMOcl2jgv
 FwrR68f_2v0hXDqsIeH.IBybGw5lxphHYL9mFYxNi9YrdY8QNCYl6prEl7rZ
 V45tjpe_dWP4uYKvk0DpKYr5gcPDCIwsnwxN4bDvlUCIaclzVxYQYnwHqeDx
 i_bGEBN7IsqdH
Received: from [74.73.25.254] by web130103.mail.mud.yahoo.com via HTTP; Wed, 02 Mar 2011 21:16:57 PST
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.292656
References: <95898C2B932244DD9178F09353847309@sv.us.sonicwall.com> <A3AA031AE49F49AF8FEB832F9728D362@sv.us.sonicwall.com>
Date: Wed, 2 Mar 2011 21:16:57 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Backup or replication option with lucene
To: java-user@lucene.apache.org
In-Reply-To: <A3AA031AE49F49AF8FEB832F9728D362@sv.us.sonicwall.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ganesh,

You could probably use replication scripts from Solr.
But why not just use Solr?

Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Ganesh <emailgane@yahoo.co.in>
> To: java-user@lucene.apache.org
> Sent: Thu, March 3, 2011 12:03:20 AM
> Subject: Re: Backup or replication option with lucene
> 
> Any suggestions. We are planning to move towords cloud and its become a  
>mandatory requirement to have backup or replication of search  db.
> 
> Regards
> Ganesh
> 
> ----- Original Message ----- 
> From:  "Ganesh" <emailgane@yahoo.co.in>
> To: <java-user@lucene.apache.org>
> Sent:  Tuesday, March 01, 2011 12:06 PM
> Subject: Backup or replication option with  lucene
> 
> 
> Hello all,
> 
> Could any one guide me how to backup or do  replication with Lucene. 
> 
> Regards
> Ganesh
> Send free SMS to your  Friends on Mobile from your Yahoo! Messenger. Download 
>Now! http://messenger.yahoo.com/download.php
> 
> ---------------------------------------------------------------------
> To  unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For  additional commands, e-mail: java-user-help@lucene.apache.org
> 
> Send  free SMS to your Friends on Mobile from your Yahoo! Messenger. Download 
>Now! http://messenger.yahoo.com/download.php
> 
> ---------------------------------------------------------------------
> To  unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For  additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 09:25:32 2011
Return-Path: <java-user-return-48853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4980 invoked from network); 3 Mar 2011 09:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 09:25:32 -0000
Received: (qmail 65472 invoked by uid 500); 3 Mar 2011 09:25:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65387 invoked by uid 500); 3 Mar 2011 09:25:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65372 invoked by uid 99); 3 Mar 2011 09:25:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 09:25:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 09:25:22 +0000
Received: by iwr19 with SMTP id 19so1019759iwr.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 01:25:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=NDxKbWeay+Qc9yJfCyVARq3ENBVJmARdb0aeXeAsIho=;
        b=XPvhMXIJ+NAQ/lM07Qa+OdvH4766tabKsn/yAFUJ6tMRt/ymAXB6m/Q+MVDFVScGx4
         JuOt5AFYyu4If/l23G5m/OX0sKoqIMOQIEmE5jW716GHPuhhXPDT3MnwMU3hA8i0cr8/
         vTcgz/JGHheivq2wseaHynC1/j84ppr676QKE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=UGc1azQxwolH9LCO+qYU1H5374pCM5q8i9ordpGfohTwsiEEtzVAJSXqx27OL/sQif
         cATkWDlVPvD2c9rio50HdabfiMeI8mDaDKRD+v+pxecVWqrFpGY6P/6aAECS82AHiSK7
         WecGogQf2/lM3zrIRKm/FoEIL/T4DxCpzg0ho=
MIME-Version: 1.0
Received: by 10.42.230.74 with SMTP id jl10mr1299768icb.177.1299144302509;
 Thu, 03 Mar 2011 01:25:02 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Thu, 3 Mar 2011 01:25:02 -0800 (PST)
Date: Thu, 3 Mar 2011 14:55:02 +0530
Message-ID: <AANLkTim9ehTj0UzS0ecvx6smSNiHyfmOCALi55YU1oOW@mail.gmail.com>
Subject: Finding the term positions of a document
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba476adba9be00049d909ae3

--90e6ba476adba9be00049d909ae3
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

I have a document  and a list of terms. For each term, I want to find the
position of that term in the given document.

Please advice.


Thanks,
Lahiru

--90e6ba476adba9be00049d909ae3--

From java-user-return-48854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 12:11:52 2011
Return-Path: <java-user-return-48854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45136 invoked from network); 3 Mar 2011 12:11:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 12:11:51 -0000
Received: (qmail 76525 invoked by uid 500); 3 Mar 2011 12:11:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76478 invoked by uid 500); 3 Mar 2011 12:11:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76470 invoked by uid 99); 3 Mar 2011 12:11:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 12:11:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 12:11:43 +0000
Received: by iwr19 with SMTP id 19so1152913iwr.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 04:11:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=RtZ68jFsY8WeakhPX4k+JHchDrXvxPHLpZxsM0dHxKs=;
        b=eROZ0yTd7r5xGtEJ4iJ4oeFkAoNm7WFRjP1DithHXXLLmEB4wsIVU+Fk7kEMgvRAHW
         P6CpBKXyf6NERnlFu6+atUs0DC6HmvBBcCdNMtjWMe/MkDTx4zPLGCwgqlZpAvWrFr8B
         E2VWyBDtvhhIxhbrUmgEBfIM+8oW6pWjnAdVs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=aDpg05YqvAwmG4quvhq53lc1ZS6whT/e+68uv2GF571yJgLKfyaQouv5EYgBt0Csic
         NhmWKXXYJhJesva1t3fRnnbtoeHfw6Uzr4Ezw7qrpMybodo0x8uSVyG90n7K5jMIRVNb
         Rye6GVIkgLLU6pfX62KrsfQfghk48j8tuTeMI=
Received: by 10.42.230.193 with SMTP id jn1mr1486602icb.87.1299154282273; Thu,
 03 Mar 2011 04:11:22 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Thu, 3 Mar 2011 04:11:02 -0800 (PST)
In-Reply-To: <AANLkTim9ehTj0UzS0ecvx6smSNiHyfmOCALi55YU1oOW@mail.gmail.com>
References: <AANLkTim9ehTj0UzS0ecvx6smSNiHyfmOCALi55YU1oOW@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 3 Mar 2011 12:11:02 +0000
Message-ID: <AANLkTi=QgPb=3DR-njzMQAx9Kh+12sNzZkimkaSSKH16@mail.gmail.com>
Subject: Re: Finding the term positions of a document
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

There's code in
http://stackoverflow.com/questions/1311199/finding-the-position-of-search-h=
its-from-lucene
which looks like it might do what you want.


--
Ian.


On Thu, Mar 3, 2011 at 9:25 AM, Lahiru Samarakoon <lahiruts@gmail.com> wrot=
e:
> Hi All,
>
> I have a document =A0and a list of terms. For each term, I want to find t=
he
> position of that term in the given document.
>
> Please advice.
>
>
> Thanks,
> Lahiru
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 15:26:05 2011
Return-Path: <java-user-return-48855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88261 invoked from network); 3 Mar 2011 15:26:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 15:26:05 -0000
Received: (qmail 4157 invoked by uid 500); 3 Mar 2011 15:26:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4112 invoked by uid 500); 3 Mar 2011 15:26:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4100 invoked by uid 99); 3 Mar 2011 15:26:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 15:26:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 15:25:56 +0000
Received: by fxm2 with SMTP id 2so1549840fxm.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 07:25:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=UXl9SXfMJw69cdIITxGH+AbwcTQgX1LniCj/sk66AP4=;
        b=nDmTGRJssuenvL2w1rOhoNCJN7uD2KyAU+peMeQPI3vqhDM0jGDjbXr2XWwuzASdDG
         B4mDJLWr5u59eVbkEiKNySIDi5d3PH+OCIuOZfkaPYSPC5QIhZTK+PgvSglGpB0gJIJ3
         p2hUljKV3HNDgmyS0/rPuWjQNLY8RGjrMizbg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=xzIGw7bsKcJ/Bi0LgEwXQPyLHbjJ9nujkCa0A7b8PSBz7UaOPsIcrU7LqQ0a2X4LO0
         a/RfgD5GSM8P5h7XA6WqYxop9iHHxeM/a/SY3Y5WrPWsSbMHPmixzlthZ4t/g+S98FwT
         JYrKaNHdpEYBJZ1zll03G471+yySD1MbZmCd0=
MIME-Version: 1.0
Received: by 10.223.99.84 with SMTP id t20mr1605960fan.86.1299165911289; Thu,
 03 Mar 2011 07:25:11 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Thu, 3 Mar 2011 07:25:11 -0800 (PST)
Date: Thu, 3 Mar 2011 16:25:11 +0100
Message-ID: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
Subject: Lucene nightly build: similarity score per field
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4c5a0a58de2049d95a206

--000e0cd4c5a0a58de2049d95a206
Content-Type: text/plain; charset=ISO-8859-1

I've downloaded Lucene nightly build because I need to customize the
similarity *per field*.

However I don't see the field parameter passed to the methods to compute the
score such as "tf" and "idf"...

how can I implement different similarities score per document field then ?

thanks

--000e0cd4c5a0a58de2049d95a206--

From java-user-return-48856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 15:35:47 2011
Return-Path: <java-user-return-48856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29143 invoked from network); 3 Mar 2011 15:35:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 15:35:47 -0000
Received: (qmail 35974 invoked by uid 500); 3 Mar 2011 15:35:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35919 invoked by uid 500); 3 Mar 2011 15:35:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35910 invoked by uid 99); 3 Mar 2011 15:35:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 15:35:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 15:35:37 +0000
Received: by bwz8 with SMTP id 8so1681916bwz.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 07:35:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=Z9gwFZzjDsJVp7qi/4yuJRCXNW082B659Jvt7T9UfQo=;
        b=Lafghk+N8uTHiIZDGLBbztcgvnjYRgZCz9CU/q2IFaBAfEJRNaNQCv/iU+mgmhLfFP
         rBWtrATFf5WSEtEGljR8n4s0SOoFrdXFCe57er9Q0EFja/DIOe7DCM25Imly5HyCMmg+
         iazfdUm7Cm2EtiyoAJ8NAJWf/MlqtgwcWXrek=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=fSHxi+krCXJCZcFjmKref5nE2oj4nji64UAn6TEJWK2U5lMcy110Zza2uqUBsIuxml
         Czm6S5b3cFqL6mSgbfVv7hZFJ+7B1XFSmw6gqhR9O6SATkEAbMJ1UQGl4oMIok2FfKj5
         fKU64+iv1h+pLrM2lkwMEQ9KS121KDRUPlA44=
Received: by 10.204.59.8 with SMTP id j8mr1646810bkh.26.1299166517084; Thu, 03
 Mar 2011 07:35:17 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Thu, 3 Mar 2011 07:34:57 -0800 (PST)
In-Reply-To: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Thu, 3 Mar 2011 10:34:57 -0500
Message-ID: <AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 3, 2011 at 10:25 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> I've downloaded Lucene nightly build because I need to customize the
> similarity *per field*.
>
> However I don't see the field parameter passed to the methods to compute the
> score such as "tf" and "idf"...
>
> how can I implement different similarities score per document field then ?
>

Hi, the way you set this up is to use SimilarityProvider to configure
Similarities per-field: for example maybe field A, B, and C use
Similarity1 and field D use Similarity2.
So you just set your SimilarityProvider on the IndexWriter and
IndexSearcher, and it must implement this factory method:

  Similarity get(String field)

Here are the reasons for this factory design (versus simply adding
field to every method):
1. performance: up-front we ask the SimilarityProvider for the
per-field Similarity. So you probably use a hashmap or something here
to return the correct one. If you had to do this on every single call
to tf(), this would slow down queries significantly.
2. flexibility: we are working to generalize Similarity, and maybe the
existing stuff you see becomes TFIDFSimilarity. So in the future you
might have field1 that uses TFIDF and field2 that uses something else
(e.g. BM25), with a totally different API and scoring system.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 17:38:31 2011
Return-Path: <java-user-return-48857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46459 invoked from network); 3 Mar 2011 17:38:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 17:38:30 -0000
Received: (qmail 17693 invoked by uid 500); 3 Mar 2011 17:38:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17608 invoked by uid 500); 3 Mar 2011 17:38:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17600 invoked by uid 99); 3 Mar 2011 17:38:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 17:38:28 +0000
X-ASF-Spam-Status: No, hits=3.6 required=5.0
	tests=FS_REPLICA,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 17:38:23 +0000
Received: by yxd5 with SMTP id 5so617216yxd.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 09:38:02 -0800 (PST)
MIME-Version: 1.0
Received: by 10.147.63.17 with SMTP id q17mr1965077yak.11.1299173882476; Thu,
 03 Mar 2011 09:38:02 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Thu, 3 Mar 2011 09:38:02 -0800 (PST)
In-Reply-To: <A3AA031AE49F49AF8FEB832F9728D362@sv.us.sonicwall.com>
References: <95898C2B932244DD9178F09353847309@sv.us.sonicwall.com>
	<A3AA031AE49F49AF8FEB832F9728D362@sv.us.sonicwall.com>
Date: Thu, 3 Mar 2011 12:38:02 -0500
Message-ID: <AANLkTik8B+747QrYOs8Uj+Rn9oHTUOQSo=ruTLjqVc5E@mail.gmail.com>
Subject: Re: Backup or replication option with lucene
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Mar 3, 2011 at 12:03 AM, Ganesh <emailgane@yahoo.co.in> wrote:

> Any suggestions. We are planning to move towords cloud and its become a mandatory requirement to have backup or replication of search db.

If you use Lucene's SnapshotDeletionPolicy, then you can take a hot
backup of the index (ie, backup w/o blocking ongoing indexing).

But that doesn't do the replication for you; it just protects the
index files so IndexWriter doesn't delete the commit point you are
backing up.

-- 
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 17:53:37 2011
Return-Path: <java-user-return-48858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93400 invoked from network); 3 Mar 2011 17:53:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 17:53:37 -0000
Received: (qmail 75415 invoked by uid 500); 3 Mar 2011 17:53:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75357 invoked by uid 500); 3 Mar 2011 17:53:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75348 invoked by uid 99); 3 Mar 2011 17:53:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 17:53:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [93.94.224.194] (HELO owa.exchange-login.net) (93.94.224.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 17:53:28 +0000
Received: from HC1.hosted.exchange-login.net (93.94.224.200) by
 edge1.hosted.exchange-login.net (93.94.224.194) with Microsoft SMTP Server
 (TLS) id 14.0.722.0; Thu, 3 Mar 2011 18:53:07 +0100
Received: from [192.168.1.2] (122.163.68.183) by hc1.hosted.exchange-login.net
 (93.94.224.204) with Microsoft SMTP Server (TLS) id 14.0.722.0; Thu, 3 Mar
 2011 18:53:06 +0100
Message-ID: <4D6FD57A.9040304@xebia.com>
Date: Thu, 3 Mar 2011 23:22:58 +0530
From: Paritosh Ranjan <pranjan@xebia.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.14) Gecko/20110221 Thunderbird/3.1.8
MIME-Version: 1.0
To: <java-user@lucene.apache.org>
Subject: Maven Lucene Plugin : Feedback
Content-Type: multipart/alternative;
	boundary="------------010606090409070608080605"

--------------010606090409070608080605
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

I have released an open source project maven-lucene-plugin 
<https://sourceforge.net/projects/lucene-plugin/> hosted at SourceForge. 
Its a maven plugin with which index can be created (without writing any 
code ) from a file source. The structure of the index can be defined in 
a file lucene.xml. I have also created a dependency which provided easy 
to use methods which work on the same index created by the 
maven-lucene-plugin (using the same lucene.xml).

This plugin removes the need of knowledge of lucene's API to use Lucene.

The full documentation about the plugin can be found here 
<http://xebee.xebia.in/2011/02/28/maven-lucene-plugin/>. The plugin is 
available in the Central Maven Repository 
<http://repo1.maven.org/maven2/com/> and can also be browsed here 
<https://oss.sonatype.org/index.html#nexus-search;quick%7Emaven-lucene-plugin>.

I would highly appreciate your feedback on the plugin. Along with some 
suggestions on how to improve it. As this is only the first version, we 
have lot to develop in the plugin. If you are interested in contributing 
to the plugin, please write to me. That would be very helpful.

If Apache wants, I would be glad to donate the plugin to Apache to make 
it more stronger. Right now, the source code is on Sourceforge (here 
<https://lucene-plugin.svn.sourceforge.net/svnroot/lucene-plugin/trunk/maven-lucene-plugin/>) 
and the artifacts are on Central Maven Repository (here 
<http://repo1.maven.org/maven2/com/xebia/>).

Thanks and Regards,
Paritosh Ranjan



--------------010606090409070608080605--

From java-user-return-48859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 20:14:34 2011
Return-Path: <java-user-return-48859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62504 invoked from network); 3 Mar 2011 20:14:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 20:14:34 -0000
Received: (qmail 37562 invoked by uid 500); 3 Mar 2011 20:14:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37494 invoked by uid 500); 3 Mar 2011 20:14:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37463 invoked by uid 99); 3 Mar 2011 20:14:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:14:29 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of David.Jarrin@numarasoftware.com designates 72.32.213.181 as permitted sender)
Received: from [72.32.213.181] (HELO 295925-mail4.bosidomain.com) (72.32.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:14:22 +0000
Received: from 295921-mail3.bosidomain.com ([169.254.1.180]) by
 295925-mail4.bosidomain.com ([169.254.2.142]) with mapi; Thu, 3 Mar 2011
 14:14:01 -0600
From: "Jarrin, David" <David.Jarrin@numarasoftware.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Lucene paid support
Thread-Topic: Lucene paid support
Thread-Index: AcvZ34cl9pSVk8GoQbWODN1EwWXnwg==
Date: Thu, 3 Mar 2011 20:13:59 +0000
Message-ID: <852D3616B92FFF4196E51F80CA4350AE060134@295921-mail3.bosidomain.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_852D3616B92FFF4196E51F80CA4350AE060134295921mail3bosido_"
MIME-Version: 1.0

--_000_852D3616B92FFF4196E51F80CA4350AE060134295921mail3bosido_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello!

I am curious to know if the Lucene Project or other associated entity accep=
ts paid technical support/subscriptions for high-priority technical or bug =
resolution type of support.

Thanks!

-David.

--_000_852D3616B92FFF4196E51F80CA4350AE060134295921mail3bosido_--

From java-user-return-48860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 20:52:45 2011
Return-Path: <java-user-return-48860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2694 invoked from network); 3 Mar 2011 20:52:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 20:52:43 -0000
Received: (qmail 36335 invoked by uid 500); 3 Mar 2011 20:52:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35999 invoked by uid 500); 3 Mar 2011 20:52:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35979 invoked by uid 99); 3 Mar 2011 20:52:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:52:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of grant.ingersoll@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:52:30 +0000
Received: by qyk2 with SMTP id 2so297735qyk.14
        for <multiple recipients>; Thu, 03 Mar 2011 12:52:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:content-type:subject:date:references:to
         :message-id:mime-version:x-mailer;
        bh=CztBSabHR+2GnKrvNXpDBRc97exhMCMfbRKnQ7ScTJo=;
        b=Go9ItTW5gUfLJP/BgCR6HYyMF7/mHJ9bSK9HTKr9BpswzRyhcLQVSX/nLmwPL9Scg3
         uIk4sjz17yWt4tAELuamisG0n7WJmKXmEBnozDr2qmt4zzK4qKZAQhu9II7KIg4ctsQs
         5MND5c0Gdd2Xfk64v6Woa1pkpEVmkq61RHZ/s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:content-type:subject:date:references:to:message-id
         :mime-version:x-mailer;
        b=NcW4i/1fKOcK5k9YUrrJqUszkbewDRXya4VZjVlqRVU+SBJ9Bf8rhsi+UOyA1hrmBU
         C/umRAjKuvgG2cPl3irOHpvlRLU4LkvoefKPZqsNmLLy0pdBxc/aDKt+jOMa+A50SxON
         0ijV1hZxcRuInvoEzCfWCrF5aeXBsbzeA1+qg=
Received: by 10.229.189.20 with SMTP id dc20mr1407611qcb.231.1299185527754;
        Thu, 03 Mar 2011 12:52:07 -0800 (PST)
Received: from [10.0.0.77] (adsl-065-013-152-164.sip.rdu.bellsouth.net [65.13.152.164])
        by mx.google.com with ESMTPS id t7sm1124730qcs.4.2011.03.03.12.52.06
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 03 Mar 2011 12:52:06 -0800 (PST)
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-3-903261671
Subject: Fwd: [Announce] Now Open: Call for Participation for ApacheCon North America
Date: Thu, 3 Mar 2011 15:52:05 -0500
References: <959692.86880.qm@web30802.mail.mud.yahoo.com>
To: user@mahout.apache.org,
 solr-user@lucene.apache.org,
 java-user@lucene.apache.org,
 opennlp-user@incubator.apache.org
Message-Id: <0A52AB6A-2B98-4ADC-A8B0-5473808616FE@gmail.com>
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-3-903261671
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252



Begin forwarded message:

> From: Sally Khudairi <sk@apache.org>
> Date: March 3, 2011 3:10:17 PM EST
> To: announce@apachecon.com
> Subject: [Announce] Now Open: Call for Participation for ApacheCon =
North America
> Reply-To: sk@apache.org
>=20
> Call for Participation=20
> ApacheCon North America 2011=20
> 7-11 November 2011=20
> Westin Bayshore, Vancouver, Canada=20
>=20
> All submissions must be received by Friday, 29 April 2011 at midnight =
Pacific Time.=20
>=20
> ApacheCon, the official conference, trainings, and expo of The Apache =
Software Foundation (ASF), heads to Vancouver, Canada, this November, =
with dozens of technical, business, and community-focused sessions for =
beginner, intermediate, and expert audiences.=20
>=20
> Now in its 11th year, the ASF develops and shepherds nearly 150 =
Top-Level Projects and new initiatives in the Apache Incubator and Labs. =
With hundreds of thousands of applications deploying ASF products and =
code contributions by more than 2,500 Committers from around the world, =
the Apache community is recognized as among the most robust, successful, =
and respected in Open Source.=20
>=20
> This year's ApacheCon focuses on highly-relevant, =
professionally-directed presentations that demonstrate specific problems =
and real-world solutions. We welcome proposals --from developers and =
users alike-- in the areas of "Apache and ...":=20
>=20
> ... Enterprise Solutions (from ActiveMQ to Axis2 to ServiceMix, OFBiz =
to Chemistry, the gang's all here!)=20
>=20
> ... Cloud Computing (Hadoop, Cassandra, HBase, CouchDB, and friends)=20=

>=20
> ... Emerging Technologies + Innovation (Incubating projects such as =
Libcloud, Stonehenge, and Wookie)=20
>=20
> ... Community Leadership (mentoring and meritocracy, GSoC and related =
initiatives)=20
>=20
> ... Data Handling, Search + Analytics (Lucene, Solr, Mahout, OODT, =
Hive and friends)=20
>=20
> ... Pervasive Computing (Felix/OSGi, Tomcat, MyFaces Trinidad, and =
friends)=20
>=20
> ... Servers, Infrastructure + Tools (HTTP Server, SpamAssassin, =
Geronimo, Sling, Wicket and friends)=20
>=20
>=20
> Submissions are open to anyone with relevant expertise: ASF =
affiliation is not required to present at, attend, or otherwise =
participate in ApacheCon.=20
>=20
> Whilst we encourage submissions that the highlight the use of specific =
Apache solutions, we are unable to accept =
marketing/commercially-oriented presentations.=20
>=20
> Other proposals, such as panels, have been considered in the past; you =
are welcome to submit an alternate presentation, however, such sessions =
are accepted under exceptional circumstances. Please be as descriptive =
as possible, including names/bios of proposed panelists and any related =
details.=20
>=20
> Accepted speakers (not co-presenters) qualify for general conference =
admission and a minimum of two nights lodging at the conference hotel. =
Additional hotel nights and travel assistance are possible, depending on =
the number of presentations given and type of assistance needed.=20
>=20
> To submit a presentation proposal, please complete our ONLINE =
SUBMISSION FORM at http://na11.apachecon.com/proposals/new=20
>=20
> To be considered, proposals must be received by Friday, 29 April 2011 =
at midnight Pacific Time. Please email any questions regarding proposal =
submissions to cfp AT apachecon DOT com.=20
>=20
> Key Dates:
>=20
> 3 March 2011 - CFP Opens=20
> 29 April 2011 - CFP Closes=20
> 20 May-30 June 2011 - Speaker Notifications and Confirmations=20
> 7-11 November 2011 - ApacheCon NA 2011=20
>=20
>=20
> We look forward to seeing you in Vancouver!=20
>=20
> =96 The ApacheCon Planning team=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: announce-unsubscribe@apachecon.com
> For additional commands, e-mail: announce-help@apachecon.com
>=20


--Apple-Mail-3-903261671--

From java-user-return-48861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 20:53:19 2011
Return-Path: <java-user-return-48861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3027 invoked from network); 3 Mar 2011 20:53:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 20:53:19 -0000
Received: (qmail 42175 invoked by uid 500); 3 Mar 2011 20:53:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42128 invoked by uid 500); 3 Mar 2011 20:53:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42120 invoked by uid 99); 3 Mar 2011 20:53:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:53:16 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Mar 2011 20:53:15 +0000
Received: (qmail 2880 invoked by uid 99); 3 Mar 2011 20:52:55 -0000
Received: from localhost.apache.org (HELO [10.0.0.77]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 20:52:55 +0000
From: Grant Ingersoll <gsingers@apache.org>
Content-Type: multipart/alternative; boundary=Apple-Mail-4-903309446
Subject: Fwd: [Announce] Now Open: Call for Participation for ApacheCon North America
Date: Thu, 3 Mar 2011 15:52:52 -0500
References: <0A52AB6A-2B98-4ADC-A8B0-5473808616FE@gmail.com>
To: user@mahout.apache.org,
 java-user@lucene.apache.org,
 solr-user@lucene.apache.org,
 opennlp-user@incubator.apache.org
Message-Id: <55F0F696-F4D2-4DA6-8FAF-6D271DCC365F@apache.org>
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

--Apple-Mail-4-903309446
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252



Begin forwarded message:

> From: Grant Ingersoll <grant.ingersoll@gmail.com>
> Date: March 3, 2011 3:52:05 PM EST
> To: user@mahout.apache.org, solr-user@lucene.apache.org, =
java-user@lucene.apache.org, opennlp-user@incubator.apache.org
> Subject: Fwd: [Announce] Now Open: Call for Participation for =
ApacheCon North America
>=20
>=20
>=20
> Begin forwarded message:
>=20
>> From: Sally Khudairi <sk@apache.org>
>> Date: March 3, 2011 3:10:17 PM EST
>> To: announce@apachecon.com
>> Subject: [Announce] Now Open: Call for Participation for ApacheCon =
North America
>> Reply-To: sk@apache.org
>>=20
>> Call for Participation=20
>> ApacheCon North America 2011=20
>> 7-11 November 2011=20
>> Westin Bayshore, Vancouver, Canada=20
>>=20
>> All submissions must be received by Friday, 29 April 2011 at midnight =
Pacific Time.=20
>>=20
>> ApacheCon, the official conference, trainings, and expo of The Apache =
Software Foundation (ASF), heads to Vancouver, Canada, this November, =
with dozens of technical, business, and community-focused sessions for =
beginner, intermediate, and expert audiences.=20
>>=20
>> Now in its 11th year, the ASF develops and shepherds nearly 150 =
Top-Level Projects and new initiatives in the Apache Incubator and Labs. =
With hundreds of thousands of applications deploying ASF products and =
code contributions by more than 2,500 Committers from around the world, =
the Apache community is recognized as among the most robust, successful, =
and respected in Open Source.=20
>>=20
>> This year's ApacheCon focuses on highly-relevant, =
professionally-directed presentations that demonstrate specific problems =
and real-world solutions. We welcome proposals --from developers and =
users alike-- in the areas of "Apache and ...":=20
>>=20
>> ... Enterprise Solutions (from ActiveMQ to Axis2 to ServiceMix, OFBiz =
to Chemistry, the gang's all here!)=20
>>=20
>> ... Cloud Computing (Hadoop, Cassandra, HBase, CouchDB, and friends)=20=

>>=20
>> ... Emerging Technologies + Innovation (Incubating projects such as =
Libcloud, Stonehenge, and Wookie)=20
>>=20
>> ... Community Leadership (mentoring and meritocracy, GSoC and related =
initiatives)=20
>>=20
>> ... Data Handling, Search + Analytics (Lucene, Solr, Mahout, OODT, =
Hive and friends)=20
>>=20
>> ... Pervasive Computing (Felix/OSGi, Tomcat, MyFaces Trinidad, and =
friends)=20
>>=20
>> ... Servers, Infrastructure + Tools (HTTP Server, SpamAssassin, =
Geronimo, Sling, Wicket and friends)=20
>>=20
>>=20
>> Submissions are open to anyone with relevant expertise: ASF =
affiliation is not required to present at, attend, or otherwise =
participate in ApacheCon.=20
>>=20
>> Whilst we encourage submissions that the highlight the use of =
specific Apache solutions, we are unable to accept =
marketing/commercially-oriented presentations.=20
>>=20
>> Other proposals, such as panels, have been considered in the past; =
you are welcome to submit an alternate presentation, however, such =
sessions are accepted under exceptional circumstances. Please be as =
descriptive as possible, including names/bios of proposed panelists and =
any related details.=20
>>=20
>> Accepted speakers (not co-presenters) qualify for general conference =
admission and a minimum of two nights lodging at the conference hotel. =
Additional hotel nights and travel assistance are possible, depending on =
the number of presentations given and type of assistance needed.=20
>>=20
>> To submit a presentation proposal, please complete our ONLINE =
SUBMISSION FORM at http://na11.apachecon.com/proposals/new=20
>>=20
>> To be considered, proposals must be received by Friday, 29 April 2011 =
at midnight Pacific Time. Please email any questions regarding proposal =
submissions to cfp AT apachecon DOT com.=20
>>=20
>> Key Dates:
>>=20
>> 3 March 2011 - CFP Opens=20
>> 29 April 2011 - CFP Closes=20
>> 20 May-30 June 2011 - Speaker Notifications and Confirmations=20
>> 7-11 November 2011 - ApacheCon NA 2011=20
>>=20
>>=20
>> We look forward to seeing you in Vancouver!=20
>>=20
>> =96 The ApacheCon Planning team=20
>>=20
>>=20
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: announce-unsubscribe@apachecon.com
>> For additional commands, e-mail: announce-help@apachecon.com
>>=20
>=20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com


--Apple-Mail-4-903309446--

From java-user-return-48862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 21:26:12 2011
Return-Path: <java-user-return-48862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9438 invoked from network); 3 Mar 2011 21:26:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 21:26:11 -0000
Received: (qmail 45271 invoked by uid 500); 3 Mar 2011 21:26:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45230 invoked by uid 500); 3 Mar 2011 21:26:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45222 invoked by uid 99); 3 Mar 2011 21:26:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 21:26:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.17.8] (HELO moutng.kundenserver.de) (212.227.17.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 21:26:01 +0000
Received: from brouwer.fritz.box (srbk-4db7ef31.pool.mediaWays.net [77.183.239.49])
	by mrelayeu.kundenserver.de (node=mrbap0) with ESMTP (Nemesis)
	id 0Lqn5O-1QQl5V2Yfi-00eKB8; Thu, 03 Mar 2011 22:25:39 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Lucene paid support
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <852D3616B92FFF4196E51F80CA4350AE060134@295921-mail3.bosidomain.com>
Date: Thu, 3 Mar 2011 22:25:32 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <85F95A7D-F4F2-44C0-86FE-B8A091DF8353@hoplahup.net>
References: <852D3616B92FFF4196E51F80CA4350AE060134@295921-mail3.bosidomain.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:wDe953caJR95DEkcrEjCa403Fl5rgWtnXARuFYDLli/
 qs2Sn4WSXTbPQh5XHKkfbu0IJYYZmYCD8lRgoSpFnOPCJyTuEH
 mteTBbQSJhYAhx1R3XhvaPPBAKlkhd7k0aj4Nv3+5jpU0Cf2Ku
 ImwHIBllVmyHDbj4H6W4fBGj4SiAFcwBuAf3ZL+383Nqgfg1Ho
 jjGYWLP7pNl0R5aFxV25Jp8muxYo7MSbFkEzPr4jwI=

David,

I'm sure that if you request something more precise you might get =
enthusiasts over here easily. I heard several committers of Lucene have =
gone into LucidImagination and they offer paid services specialized for =
Lucene.

hope it helps.

paul


Le 3 mars 2011 =E0 21:13, Jarrin, David a =E9crit :

> Hello!
>=20
> I am curious to know if the Lucene Project or other associated entity =
accepts paid technical support/subscriptions for high-priority technical =
or bug resolution type of support.
>=20
> Thanks!
>=20
> -David.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 21:45:48 2011
Return-Path: <java-user-return-48863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68714 invoked from network); 3 Mar 2011 21:45:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 21:45:48 -0000
Received: (qmail 4609 invoked by uid 500); 3 Mar 2011 21:45:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4374 invoked by uid 500); 3 Mar 2011 21:45:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4366 invoked by uid 99); 3 Mar 2011 21:45:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 21:45:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of David.Jarrin@numarasoftware.com designates 72.32.213.181 as permitted sender)
Received: from [72.32.213.181] (HELO 295925-mail4.bosidomain.com) (72.32.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 21:45:39 +0000
Received: from 295921-mail3.bosidomain.com ([169.254.1.180]) by
 295925-mail4.bosidomain.com ([169.254.2.142]) with mapi; Thu, 3 Mar 2011
 15:45:18 -0600
From: "Jarrin, David" <David.Jarrin@numarasoftware.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: Lucene paid support
Thread-Topic: Lucene paid support
Thread-Index: AcvZ34cl9pSVk8GoQbWODN1EwWXnwgAPEocAAAwMOIA=
Date: Thu, 3 Mar 2011 21:45:17 +0000
Message-ID: <852D3616B92FFF4196E51F80CA4350AE0601C6@295921-mail3.bosidomain.com>
References: <852D3616B92FFF4196E51F80CA4350AE060134@295921-mail3.bosidomain.com>
 <85F95A7D-F4F2-44C0-86FE-B8A091DF8353@hoplahup.net>
In-Reply-To: <85F95A7D-F4F2-44C0-86FE-B8A091DF8353@hoplahup.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Paul,

Thanks for the quick reply. Sorry I was vague in my message. We are conside=
ring using Lucene in a commercial product that we sell and as we do with ot=
her third-party products we want to make sure that we have timely (i.e. pri=
ority) access to technical support that can help us resolve issues we might=
 encounter within Lucene itself.=20
I will look into LucidImagination and see what they offer.
Thanks again for you kind response,

-David.

-----Original Message-----
From: Paul Libbrecht [mailto:paul@hoplahup.net]=20
Sent: Thursday, March 03, 2011 4:26 PM
To: java-user@lucene.apache.org
Subject: Re: Lucene paid support

David,

I'm sure that if you request something more precise you might get enthusias=
ts over here easily. I heard several committers of Lucene have gone into Lu=
cidImagination and they offer paid services specialized for Lucene.

hope it helps.

paul


Le 3 mars 2011 =E0 21:13, Jarrin, David a =E9crit :

> Hello!
>=20
> I am curious to know if the Lucene Project or other associated entity acc=
epts paid technical support/subscriptions for high-priority technical or bu=
g resolution type of support.
>=20
> Thanks!
>=20
> -David.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 22:24:39 2011
Return-Path: <java-user-return-48864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98826 invoked from network); 3 Mar 2011 22:24:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 22:24:39 -0000
Received: (qmail 18692 invoked by uid 500); 3 Mar 2011 22:24:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18654 invoked by uid 500); 3 Mar 2011 22:24:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18645 invoked by uid 99); 3 Mar 2011 22:24:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 22:24:37 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.88] (HELO nm25.bullet.mail.ne1.yahoo.com) (98.138.90.88)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Mar 2011 22:24:27 +0000
Received: from [98.138.90.57] by nm25.bullet.mail.ne1.yahoo.com with NNFMP; 03 Mar 2011 22:24:05 -0000
Received: from [98.138.89.244] by tm10.bullet.mail.ne1.yahoo.com with NNFMP; 03 Mar 2011 22:24:05 -0000
Received: from [127.0.0.1] by omp1058.mail.ne1.yahoo.com with NNFMP; 03 Mar 2011 22:24:05 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 661425.73353.bm@omp1058.mail.ne1.yahoo.com
Received: (qmail 71619 invoked by uid 60001); 3 Mar 2011 22:24:05 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1299191045; bh=vsPV9SW4Y4qMln4sL7Q8evQnjRRc16xj/Il+hTjA3bM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=n1bZvu+yRA6RLpZxc/Y4Sb2/ZdkcNypRAKDtt78S260GqunYX41FBnHE0h9S4pM3r92NV6cXaaTWfJxfjRxz2wGjcDAy8kGD3Ta6qdlO//+MGifW9rrv5cE3fneAocthnAFFYfUJG/+HHdPlcSScYlu+OA48O4UE/bgkDJk2MIs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=pOFEMw+qTF14MxzuLx1F8SI+2KLmJcGNLbXC+PAXKNW9Y/vJl9DKvrT35lkBB32ndwAc31/5/8Me/Yfeb1qeAPqwjPJJcO4PoYqJuLmsw4/+GR3CI1UE/slgmoluUyjBp286RG7hXjkQYRdEWvfQQv5zvnxRxYtehXv/XPdOJDU=;
Message-ID: <465389.66617.qm@web121717.mail.ne1.yahoo.com>
X-YMail-OSG: agLKeVMVM1lyZG50vmrV4LbAODZ0gtQedZa8Q0bA7EIXrwA
 XNs3reu.RTmTjWtOJ8a7LJSN5298GCNDCG9GH64z4KnJ15awP33dgK7sm3_L
 wuyiw.Erj5iJpExXzc4.FrJqu4UDtfLVmPs34G8s4WsFkl8biE5hkqLPjHiX
 3aMZ1OquKEkAlCsrU0G5V94chBmOUOQs9Ac73tcGX3UW_a3ifMNbNZ5__2..
 W1jETgNBFmlixSRZG9xUvV88XB7QlcqdP.btQEYI5yZBAmZPjg05NOJGDYIT
 zVKfF48qMeLrEOM2_3nxg3256tuRgj7QK8JwBxgYj8ubCxM2YKmMChDq6.aY
 -
Received: from [95.10.244.193] by web121717.mail.ne1.yahoo.com via HTTP; Thu, 03 Mar 2011 14:24:05 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.292656
Date: Thu, 3 Mar 2011 14:24:05 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: RE: Lucene paid support
To: java-user@lucene.apache.org
In-Reply-To: <852D3616B92FFF4196E51F80CA4350AE0601C6@295921-mail3.bosidomain.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

> Thanks for the quick reply. Sorry I was vague in my
> message. We are considering using Lucene in a commercial
> product that we sell and as we do with other third-party
> products we want to make sure that we have timely (i.e.
> priority) access to technical support that can help us
> resolve issues we might encounter within Lucene itself. 
> I will look into LucidImagination and see what they offer.

Here is more : http://wiki.apache.org/solr/Support


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 03 22:34:20 2011
Return-Path: <java-user-return-48865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39999 invoked from network); 3 Mar 2011 22:34:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Mar 2011 22:34:19 -0000
Received: (qmail 36689 invoked by uid 500); 3 Mar 2011 22:34:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36648 invoked by uid 500); 3 Mar 2011 22:34:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36640 invoked by uid 99); 3 Mar 2011 22:34:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 22:34:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of David.Jarrin@numarasoftware.com designates 72.32.213.181 as permitted sender)
Received: from [72.32.213.181] (HELO 295925-mail4.bosidomain.com) (72.32.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2011 22:34:11 +0000
Received: from 295921-mail3.bosidomain.com ([169.254.1.180]) by
 295925-mail4.bosidomain.com ([169.254.2.142]) with mapi; Thu, 3 Mar 2011
 16:33:50 -0600
From: "Jarrin, David" <David.Jarrin@numarasoftware.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: Lucene paid support
Thread-Topic: Lucene paid support
Thread-Index: AcvZ34cl9pSVk8GoQbWODN1EwWXnwgAPEocAAAwMOID//6/6gIAAYgqw
Date: Thu, 3 Mar 2011 22:33:48 +0000
Message-ID: <852D3616B92FFF4196E51F80CA4350AE060268@295921-mail3.bosidomain.com>
References: <852D3616B92FFF4196E51F80CA4350AE0601C6@295921-mail3.bosidomain.com>
 <465389.66617.qm@web121717.mail.ne1.yahoo.com>
In-Reply-To: <465389.66617.qm@web121717.mail.ne1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Very helpful! Thank you Ahmet!

-David.

-----Original Message-----
From: Ahmet Arslan [mailto:iorixxx@yahoo.com]=20
Sent: Thursday, March 03, 2011 5:24 PM
To: java-user@lucene.apache.org
Subject: RE: Lucene paid support

> Thanks for the quick reply. Sorry I was vague in my message. We are=20
> considering using Lucene in a commercial product that we sell and as=20
> we do with other third-party products we want to make sure that we=20
> have timely (i.e.
> priority) access to technical support that can help us resolve issues=20
> we might encounter within Lucene itself.
> I will look into LucidImagination and see what they offer.

Here is more : http://wiki.apache.org/solr/Support


     =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 05:23:11 2011
Return-Path: <java-user-return-48866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83134 invoked from network); 4 Mar 2011 05:23:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 05:23:11 -0000
Received: (qmail 42969 invoked by uid 500); 4 Mar 2011 05:23:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42913 invoked by uid 500); 4 Mar 2011 05:23:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42842 invoked by uid 99); 4 Mar 2011 05:23:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 05:23:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lahiruts@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 05:23:00 +0000
Received: by iyj12 with SMTP id 12so2180242iyj.35
        for <java-user@lucene.apache.org>; Thu, 03 Mar 2011 21:22:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=IOD9dqiFdYr+R5kU2Zgurxlwz2B/amXrvUw7CvTAqow=;
        b=u9XMDlq5LYG7pUvUilcI2dyXmVJA79THeLXLjbT+ko4sspocTjuOgo/+1l5oYfIYz2
         p9ADDvf0InhBV4+nH4yd0vNa0bJ+uOMOCVm0loJxRjNUs+EJkEyEc45Po2vFLFXmc4mc
         1wVkuBf2MJXmkVmyJn3+X8zbZJPL9/fAM1DSg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Ggh4F02ObWGAkk5YlcbtUDkljksaN5argmwPnLa+MvkUndqSqo6W2HYy7vWZkngJny
         qxBqL/fka+hVzZDeKd0brL4wxYoFRP2/lAeUxBT717hcHNeZYFh5E+u/am4UDfp4sVcG
         wFEZmXJoxxS6O1pZynatQLJBXAl02Tj1LrOgU=
MIME-Version: 1.0
Received: by 10.231.113.96 with SMTP id z32mr131288ibp.191.1299216159674; Thu,
 03 Mar 2011 21:22:39 -0800 (PST)
Received: by 10.231.206.208 with HTTP; Thu, 3 Mar 2011 21:22:39 -0800 (PST)
In-Reply-To: <AANLkTi=QgPb=3DR-njzMQAx9Kh+12sNzZkimkaSSKH16@mail.gmail.com>
References: <AANLkTim9ehTj0UzS0ecvx6smSNiHyfmOCALi55YU1oOW@mail.gmail.com>
	<AANLkTi=QgPb=3DR-njzMQAx9Kh+12sNzZkimkaSSKH16@mail.gmail.com>
Date: Fri, 4 Mar 2011 10:52:39 +0530
Message-ID: <AANLkTi=ffuPbEFNMMZ7mrGcu9eqD67Bk+JbVmJ9x4wke@mail.gmail.com>
Subject: Re: Finding the term positions of a document
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6471862af1313049da15558

--0016e6471862af1313049da15558
Content-Type: text/plain; charset=ISO-8859-1

Hi Ian,

Yes, It does the job for me :) .


Thank you,

Best Regards,
Lahiru

--0016e6471862af1313049da15558--

From java-user-return-48867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 07:06:47 2011
Return-Path: <java-user-return-48867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51718 invoked from network); 4 Mar 2011 07:06:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 07:06:47 -0000
Received: (qmail 15213 invoked by uid 500); 4 Mar 2011 07:06:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15040 invoked by uid 500); 4 Mar 2011 07:06:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14985 invoked by uid 99); 4 Mar 2011 07:06:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 07:06:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.25] (HELO triton.rz.uni-saarland.de) (134.96.7.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 07:06:31 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by triton.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p24769Ia013296
	for <java-user@lucene.apache.org>; Fri, 4 Mar 2011 08:06:09 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id A0E9C76512; Fri,  4 Mar 2011 08:06:09 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id A98E8764E9
	for <java-user@lucene.apache.org>; Fri,  4 Mar 2011 08:06:08 +0100 (CET)
Message-ID: <4D708F60.5090507@lsv.uni-saarland.de>
Date: Fri, 04 Mar 2011 08:06:08 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: index enforcing query terms to appear within the same sentence
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (triton.rz.uni-saarland.de [134.96.7.25]); Fri, 04 Mar 2011 08:06:09 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.176; VDF: 7.11.3.249; host: AntiVir3)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Hi,

I would like to create an index with Lucene to a document collections of 
text files.
The index should be created in such a way, that for the search I can 
enforce that query term A and query term B are contained within the same 
sentence.

How should implement the index? Should I have for every sentence a 
different field (but make sure that it is not a multi-valued field 
because they would get merged which is exactly what I do not want)?
Would it be problematic that different documents would then end up 
having different numbes of fields?

Thank you in advance!

Best,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 10:35:44 2011
Return-Path: <java-user-return-48868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27434 invoked from network); 4 Mar 2011 10:35:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 10:35:44 -0000
Received: (qmail 24431 invoked by uid 500); 4 Mar 2011 10:35:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24354 invoked by uid 500); 4 Mar 2011 10:35:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24343 invoked by uid 99); 4 Mar 2011 10:35:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 10:35:41 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 10:35:35 +0000
Received: by iwr19 with SMTP id 19so2405028iwr.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 02:35:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=MMlkcJsD4WyVT/sgK7xtbKoBlRPG7XVGwVo24m9XvxI=;
        b=ZyhA9w3VuRZrP1rMLU/hnluUzWVpT2+s8LexR6bmdqk5TzJ6+TG2J+sHXjhx1PO5fL
         81HwSR/Z/yza+ADv3+Hgaz3S2NJKGlLE6psX0InjknGKr7GbWHRbOtj60YTlbOpg1V7i
         3OYd1lBB7L71Se9grLkxkrVp7yaDMOWOJ2lz0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=KCY6OcbMn6zr4Oeep0OvoKsscVKtQECF044PXYtiq/SnJ1g8TzOD/tENtDTUl0Wdy9
         Buy0ZZuLVGTHRPZuA+LQbWfCEX32SUSeQqvs6ToDRPu+8nsqmuAam5+l6MXm9wLr+3+T
         I2WrRN7dVQuPg3y4iNqtb89rw4p/mvygYOu9k=
Received: by 10.42.66.7 with SMTP id n7mr631191ici.20.1299234914115; Fri, 04
 Mar 2011 02:35:14 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Fri, 4 Mar 2011 02:34:54 -0800 (PST)
In-Reply-To: <4D708F60.5090507@lsv.uni-saarland.de>
References: <4D708F60.5090507@lsv.uni-saarland.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 10:34:54 +0000
Message-ID: <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com>
Subject: Re: index enforcing query terms to appear within the same sentence
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You can use multi valued fields if you play with the position
increment gap.  See e.g.
http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-sentence-td1501269.html

A google search for "lucene indexing sentences" or similar finds that, and more.


Different docs can have different fields/different numbers of fields,
but the position gap approach is probably better.


--
Ian.


On Fri, Mar 4, 2011 at 7:06 AM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Hi,
>
> I would like to create an index with Lucene to a document collections of
> text files.
> The index should be created in such a way, that for the search I can enforce
> that query term A and query term B are contained within the same sentence.
>
> How should implement the index? Should I have for every sentence a different
> field (but make sure that it is not a multi-valued field because they would
> get merged which is exactly what I do not want)?
> Would it be problematic that different documents would then end up having
> different numbes of fields?
>
> Thank you in advance!
>
> Best,
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 13:20:58 2011
Return-Path: <java-user-return-48869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51674 invoked from network); 4 Mar 2011 13:20:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 13:20:58 -0000
Received: (qmail 71857 invoked by uid 500); 4 Mar 2011 13:20:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71801 invoked by uid 500); 4 Mar 2011 13:20:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71785 invoked by uid 99); 4 Mar 2011 13:20:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 13:20:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of leegee@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 13:20:47 +0000
Received: by fxm2 with SMTP id 2so2769356fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 05:20:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:reply-to:user-agent
         :mime-version:to:subject:content-type:content-transfer-encoding;
        bh=dYg2+jg9bstj4rGay1Qbjgia6USQxoejGLM9HdPkoDw=;
        b=FliKEtRH4VRAXdyfSPCF/8kMYCt75yc4ghsBr+YiNrHyYtsdzV7GPC3kQ9U9jQ84uL
         zlyVvHHGX7Ecr6/dkPDp/vYxKE5vvv4dASbgtEgFYdz+JV229pAS5wNqVO7DIPzgkkdv
         P2rUly46ics/1p6HHbDHzXIW56BmXjfD8D0MU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        b=l/56j0ADVTsB5NFjuAl5Wo2V0it1JJygN3Q2AelqNCy6ypoXutgk1j4bloCwp+jYGP
         b8gRR5xrSXmdvRw0yzD4A0UWaXAzecndEkLUdDwhKFXzLP/lsZvEzmcODGjhVBWTiCDY
         86DMpisTNLzp2hGY++j5IixHf72ols07lMgmQ=
Received: by 10.223.143.86 with SMTP id t22mr802930fau.42.1299244827077;
        Fri, 04 Mar 2011 05:20:27 -0800 (PST)
Received: from Lee-Goddards-MacBook-Pro.local (91-82-67-100.pool.invitel.hu [91.82.67.100])
        by mx.google.com with ESMTPS id r15sm1147789fax.22.2011.03.04.05.20.25
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 04 Mar 2011 05:20:26 -0800 (PST)
Message-ID: <4D70E718.203@leegoddard.net>
Date: Fri, 04 Mar 2011 14:20:24 +0100
From: Lee Goddard <leegee@gmail.com>
Reply-To: lee@leegoddard.net
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.14) Gecko/20110221 Thunderbird/3.1.8
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: IndexReader.reopen() question
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello list,

Does this look correct?  I am told it is not functioning, in that new 
entries to the index are not being picked-up?

Thanks
Lee


         try {
             if (! reader.isCurrent()){
                 IndexReader newReader = reader.reopen();
                 if (newReader != reader) {
                     // reader was reopened
                     searcher.close();
                     reader.close();
                 }
                 reader = newReader;
                 searcher    = new IndexSearcher(reader);
                 if (searcher == null) throw new ServletException( 
"searcher is null (init a)" );
             }
         } catch (CorruptIndexException e){
             throw new ServletException( "Could not refresh reader? 
"+e.getMessage() );
         } catch (IOException e){
             throw new ServletException( "Could not refresh reader? 
"+e.getMessage() );
         } catch (Exception e){
             throw new ServletException( "Could not re-open reader? 
"+e.getMessage() );
         }


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 13:34:43 2011
Return-Path: <java-user-return-48870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5132 invoked from network); 4 Mar 2011 13:34:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 13:34:43 -0000
Received: (qmail 12930 invoked by uid 500); 4 Mar 2011 13:34:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12876 invoked by uid 500); 4 Mar 2011 13:34:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12832 invoked by uid 99); 4 Mar 2011 13:34:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 13:34:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 13:34:35 +0000
Received: by fxm2 with SMTP id 2so2784163fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 05:34:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Cxo2Px2gvBmbJiIItoD+/a24N7kjT5DzCin6y4QUOHg=;
        b=bCDyf/P84TuGvkTF4QuCO6zZKtMIA1SbAuhGfkRToI58upFi4FVJtV6hXrBOtyWb3I
         dcKQ3FgHxwq13vZYiiccWB/LcJ0J7cGgWsJzlG63bhMCpQu9qqXFx6Q5R8X/dfc0d/wz
         Qb+DLeHyotkACM5pb+WbtvIqiOAf/dOQGKas0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=byOj8u7QjtsDGT+FPlHG54xxcKjtttCW1ZOhp8KZDSpmyEyVjMAXmIxg/kvN2Mh4iK
         aoKH62QbLVT/4ZGMncQuZ/G+UbykB+VbDa3fW/UCoazCPhOLFULdh2Wm4Ga90xlRsFB4
         Hga9KH255AgLjcR/HmYqJ2WhD8kx4MB2rBX70=
MIME-Version: 1.0
Received: by 10.223.57.206 with SMTP id d14mr786740fah.143.1299245654638; Fri,
 04 Mar 2011 05:34:14 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Fri, 4 Mar 2011 05:34:14 -0800 (PST)
In-Reply-To: <017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
	<017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de>
Date: Fri, 4 Mar 2011 14:34:14 +0100
Message-ID: <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747be40b8818a049da83364

--00151747be40b8818a049da83364
Content-Type: text/plain; charset=ISO-8859-1

sorry, so what you are saying is that I don't have working analyzers in the
nightly build ? In other words, I cannot index with it ?

Which version is the nightly Maven JARs ? I actually need to compute
similarity per-field: the patch has been committed and it is currently
working with Lucene 4.0
This is the reason I'm using this version.

On 2 March 2011 23:48, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> Lucene trunk aka 4.0 does not ship with any special analyzers in its core
> JAR file anymore. In trunk you have to use the module analyzers-common for
> this analyzer.
>
> The problem with this module is, that the nightly build don't generate a
> ZIP
> file out of it (this needs to be fixed for all the new modules). You have
> two possibilities:
> - Export source from SVN and build yourself
> - Use the nightly Maven JARs instead (they include the modules as JARs):
>
> https://hudson.apache.org/hudson/job/Lucene-Solr-Maven-trunk/lastSuccessfulB
> uild/artifact/maven_artifacts/org/apache/lucene/
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Wednesday, March 02, 2011 11:33 PM
> > To: java-user@lucene.apache.org
> > Subject: WhitespaceAnalyzer in Lucene nightly build ?
> >
> > I've downloaded Lucene nightly build and I've seen that
> > WhitespaceAnalyzer.java is not anymore there.
> >
> > Has this analyzer been removed from the library ? What should I use
> instead
> > ?
> >
> > thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00151747be40b8818a049da83364--

From java-user-return-48871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 14:21:37 2011
Return-Path: <java-user-return-48871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47071 invoked from network); 4 Mar 2011 14:21:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 14:21:37 -0000
Received: (qmail 53542 invoked by uid 500); 4 Mar 2011 14:21:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53482 invoked by uid 500); 4 Mar 2011 14:21:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53473 invoked by uid 99); 4 Mar 2011 14:21:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:21:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:21:27 +0000
Received: by fxm2 with SMTP id 2so2843193fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 06:21:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=+P8zGZLs4W5k+tC5ckF2/rhvCFVxLuw8uw7OONzheGs=;
        b=sxWS1upPggeusHBD6+MJNo5LQZnRePOcTHHRMeOhPAdb304sdWEcHURE0FXf2sCqgr
         vUE4ZVNW2cOdgxIY3Qgy5YVfJLqvVbyYucuemqswPJdnQUlSPlQ9msEHsP+wJIsIEmOF
         Xf2BOT9z+uM6RaVJ+RO/LAZ7HXr12Y4CaW0DM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=IegDngytJoqnsYAnRHZQI0x9ow3Ud+D0JEJxlG0S7ObRXsJ174AZ4yJEu5vZi7zIZr
         JNvPKR/gHa/am+5h15R27LA73/dyfpz2blW5EtSCzp1rj9zAe0zZAGXxNcFLVIBPyWS7
         PpfaOpUV1GsxNEDJ4UXRIizuxOmZSwZUoKx18=
MIME-Version: 1.0
Received: by 10.223.100.7 with SMTP id w7mr861464fan.105.1299248467372; Fri,
 04 Mar 2011 06:21:07 -0800 (PST)
Received: by 10.223.119.17 with HTTP; Fri, 4 Mar 2011 06:21:07 -0800 (PST)
Date: Fri, 4 Mar 2011 15:21:07 +0100
Message-ID: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>
Subject: Lucene 4.0 and WhitespaceAnalyzer
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a4b35f6b79049da8db88
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a4b35f6b79049da8db88
Content-Type: text/plain; charset=ISO-8859-1

What's the best way to replace WhitespaceAnalyzer in this line in Lucene
nightly build 4.0 ? Is there a generic analyzer I can use ?

writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);

thanks

--20cf3054a4b35f6b79049da8db88--

From java-user-return-48872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 14:41:03 2011
Return-Path: <java-user-return-48872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20986 invoked from network); 4 Mar 2011 14:41:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 14:41:02 -0000
Received: (qmail 23382 invoked by uid 500); 4 Mar 2011 14:40:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23311 invoked by uid 500); 4 Mar 2011 14:40:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23228 invoked by uid 99); 4 Mar 2011 14:40:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:40:59 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.82] (HELO smtp1.syr.edu) (128.230.18.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:40:52 +0000
Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])
	by smtp1.syr.edu (8.14.3/8.14.3) with ESMTP id p24EeVx8031046
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Fri, 4 Mar 2011 09:40:31 -0500
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-02.ad.syr.edu ([128.230.108.196]) with mapi; Fri, 4 Mar 2011
 09:40:31 -0500
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 4 Mar 2011 09:40:08 -0500
Subject: RE: WhitespaceAnalyzer in Lucene nightly build ?
Thread-Topic: WhitespaceAnalyzer in Lucene nightly build ?
Thread-Index: AcvacO7vsWVMWcFKSoOmoDc6daG+OwAAf2+A
Message-ID: <2D127F11DC79714E9B6A43AC9458147FA33CF28C@suex07-mbx-03.ad.syr.edu>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
	<017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de>
 <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
In-Reply-To: <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.2.15,1.0.148,0.0.0000
 definitions=2011-03-04_06:2011-03-04,2011-03-04,1970-01-01 signatures=0
X-Proofpoint-Spam-Reason: safe

SGkgUGF0cmljaywNCg0KVGhlIEplbmtpbnMgKGZvcm1lcmx5IEh1ZHNvbikgbmlnaHRseSBBbnQg
YnVpbGRzIGRvIG5vdCBwcm9kdWNlIHRoZSBqYXIgY29udGFpbmluZyBXaGl0ZXNwYWNlQW5hbHl6
ZXIuICBUaGlzIGlzIG5vdCBpbnRlbnRpb25hbCAtIEkganVzdCBjcmVhdGVkIGFuIGlzc3VlIHRv
IHRyYWNrIGZpeGluZyB0aGUgcHJvYmxlbTogPGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamly
YS9icm93c2UvTFVDRU5FLTI5NTA+Lg0KDQpUaGUgbmlnaHRseSBNYXZlbiBKQVJzIFV3ZSBwb2lu
dGVkIHlvdSB0byBhcmUgZnJvbSAidHJ1bmsiLCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgYmUgcmVs
ZWFzZWQgYXMgdmVyc2lvbiA0LjAuICBUaGUgbmFtZSBvZiB0aGUgSmVua2lucyBidWlsZCBpcyAi
THVjZW5lLVNvbHItTWF2ZW4tdHJ1bmsiICh2aXNpYmxlIGFzIHBhcnQgb2YgdGhlIGxpbmsgYW5k
IGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgcGFnZSB5b3UgZ2V0IHRvIGlmIHlvdSBmb2xsb3cgdGhl
IGxpbmspLiAgVGhpcyBuYW1lIG1lYW5zOiBib3RoIEx1Y2VuZSBhbmQgU29sciBhcmUgYnVpbHQ7
IE1hdmVuIGFydGlmYWN0cyBhcmUgcHJvZHVjZWQ7IGFuZCB0aGUgYnJhbmNoIGJlaW5nIGJ1aWx0
IGlzICJ0cnVuayIuDQoNClN0ZXZlDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4g
RnJvbTogUGF0cmljayBEaXZpYWNjbyBbbWFpbHRvOnBhdHJpY2suZGl2aWFjY29AZ21haWwuY29t
XQ0KPiBTZW50OiBGcmlkYXksIE1hcmNoIDA0LCAyMDExIDg6MzQgQU0NCj4gVG86IGphdmEtdXNl
ckBsdWNlbmUuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogV2hpdGVzcGFjZUFuYWx5emVyIGlu
IEx1Y2VuZSBuaWdodGx5IGJ1aWxkID8NCj4gDQo+IHNvcnJ5LCBzbyB3aGF0IHlvdSBhcmUgc2F5
aW5nIGlzIHRoYXQgSSBkb24ndCBoYXZlIHdvcmtpbmcgYW5hbHl6ZXJzIGluDQo+IHRoZSBuaWdo
dGx5IGJ1aWxkID8gSW4gb3RoZXIgd29yZHMsIEkgY2Fubm90IGluZGV4IHdpdGggaXQgPw0KPiAN
Cj4gV2hpY2ggdmVyc2lvbiBpcyB0aGUgbmlnaHRseSBNYXZlbiBKQVJzID8gSSBhY3R1YWxseSBu
ZWVkIHRvIGNvbXB1dGUNCj4gc2ltaWxhcml0eSBwZXItZmllbGQ6IHRoZSBwYXRjaCBoYXMgYmVl
biBjb21taXR0ZWQgYW5kIGl0IGlzIGN1cnJlbnRseQ0KPiB3b3JraW5nIHdpdGggTHVjZW5lIDQu
MA0KPiBUaGlzIGlzIHRoZSByZWFzb24gSSdtIHVzaW5nIHRoaXMgdmVyc2lvbi4NCj4gDQo+IE9u
IDIgTWFyY2ggMjAxMSAyMzo0OCwgVXdlIFNjaGluZGxlciA8dXdlQHRoZXRhcGhpLmRlPiB3cm90
ZToNCj4gDQo+ID4gSGksDQo+ID4NCj4gPiBMdWNlbmUgdHJ1bmsgYWthIDQuMCBkb2VzIG5vdCBz
aGlwIHdpdGggYW55IHNwZWNpYWwgYW5hbHl6ZXJzIGluIGl0cw0KPiA+IGNvcmUgSkFSIGZpbGUg
YW55bW9yZS4gSW4gdHJ1bmsgeW91IGhhdmUgdG8gdXNlIHRoZSBtb2R1bGUNCj4gPiBhbmFseXpl
cnMtY29tbW9uIGZvciB0aGlzIGFuYWx5emVyLg0KPiA+DQo+ID4gVGhlIHByb2JsZW0gd2l0aCB0
aGlzIG1vZHVsZSBpcywgdGhhdCB0aGUgbmlnaHRseSBidWlsZCBkb24ndCBnZW5lcmF0ZSBhDQo+
ID4gWklQIGZpbGUgb3V0IG9mIGl0ICh0aGlzIG5lZWRzIHRvIGJlIGZpeGVkIGZvciBhbGwgdGhl
IG5ldyBtb2R1bGVzKS4gWW91DQo+ID4gaGF2ZSB0d28gcG9zc2liaWxpdGllczoNCj4gPiAtIEV4
cG9ydCBzb3VyY2UgZnJvbSBTVk4gYW5kIGJ1aWxkIHlvdXJzZWxmDQo+ID4gLSBVc2UgdGhlIG5p
Z2h0bHkgTWF2ZW4gSkFScyBpbnN0ZWFkICh0aGV5IGluY2x1ZGUgdGhlIG1vZHVsZXMgYXMgSkFS
cyk6DQo+ID4NCj4gPiBodHRwczovL2h1ZHNvbi5hcGFjaGUub3JnL2h1ZHNvbi9qb2IvTHVjZW5l
LVNvbHItTWF2ZW4tdHJ1bmsvbGFzdFN1Y2Nlc3NmdWxCdWlsZC9hcnRpZmFjdC9tYXZlbl9hcnRp
ZmFjdHMvb3JnL2FwYWNoZS9sdWNlbmUvDQo+ID4NCj4gPiBVd2UNCj4gPg0KPiA+IC0tLS0tDQo+
ID4gVXdlIFNjaGluZGxlcg0KPiA+IEguLUguLU1laWVyLUFsbGVlIDYzLCBELTI4MjEzIEJyZW1l
bg0KPiA+IGh0dHA6Ly93d3cudGhldGFwaGkuZGUNCj4gPiBlTWFpbDogdXdlQHRoZXRhcGhpLmRl
DQo+ID4NCj4gPg0KPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiA+IEZyb206
IFBhdHJpY2sgRGl2aWFjY28gW21haWx0bzpwYXRyaWNrLmRpdmlhY2NvQGdtYWlsLmNvbV0NCj4g
PiA+IFNlbnQ6IFdlZG5lc2RheSwgTWFyY2ggMDIsIDIwMTEgMTE6MzMgUE0NCj4gPiA+IFRvOiBq
YXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+IFN1YmplY3Q6IFdoaXRlc3BhY2VBbmFs
eXplciBpbiBMdWNlbmUgbmlnaHRseSBidWlsZCA/DQo+ID4gPg0KPiA+ID4gSSd2ZSBkb3dubG9h
ZGVkIEx1Y2VuZSBuaWdodGx5IGJ1aWxkIGFuZCBJJ3ZlIHNlZW4gdGhhdA0KPiA+ID4gV2hpdGVz
cGFjZUFuYWx5emVyLmphdmEgaXMgbm90IGFueW1vcmUgdGhlcmUuDQo+ID4gPg0KPiA+ID4gSGFz
IHRoaXMgYW5hbHl6ZXIgYmVlbiByZW1vdmVkIGZyb20gdGhlIGxpYnJhcnkgPyBXaGF0IHNob3Vs
ZCBJIHVzZQ0KPiA+ID4gaW5zdGVhZCA/DQo+ID4gPg0KPiA+ID4gdGhhbmtzDQo=


From java-user-return-48873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 14:41:11 2011
Return-Path: <java-user-return-48873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21034 invoked from network); 4 Mar 2011 14:41:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 14:41:11 -0000
Received: (qmail 25791 invoked by uid 500); 4 Mar 2011 14:41:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25751 invoked by uid 500); 4 Mar 2011 14:41:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25742 invoked by uid 99); 4 Mar 2011 14:41:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:41:08 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=SPF_PASS,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.31] (HELO theia.rz.uni-saarland.de) (134.96.7.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:41:02 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by theia.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p24Eee4N029855
	for <java-user@lucene.apache.org>; Fri, 4 Mar 2011 15:40:40 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id 2FA20763BC; Fri,  4 Mar 2011 15:40:39 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id B7CFC762B7
	for <java-user@lucene.apache.org>; Fri,  4 Mar 2011 15:40:38 +0100 (CET)
Message-ID: <4D70F9E5.1060809@lsv.uni-saarland.de>
Date: Fri, 04 Mar 2011 15:40:37 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index enforcing query terms to appear within the same sentence
References: <4D708F60.5090507@lsv.uni-saarland.de> <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com>
In-Reply-To: <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (theia.rz.uni-saarland.de [134.96.7.31]); Fri, 04 Mar 2011 15:40:40 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.178; VDF: 7.11.4.66; host: AntiVir1)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Thank you for all these useful hints!

If I use the multi-valued fields in combination with "modified" position 
increments, I would actually distort the shape of a document.
For instance, if I would like to compare a retrieval enforcing query 
term co-occurrence within the same sentence with a co-occurrence using 
PhraseQuery (or SpanNearQuery) just enforcing that the query terms have 
to appear within a text window of n words (also allowing this window to 
cross sentence boundaries), I would need to create another index where I 
do not modify the position increments.
Is that right?

Best,
Michael

Ian Lea schrieb:
> You can use multi valued fields if you play with the position
> increment gap.  See e.g.
> http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-sentence-td1501269.html
>
> A google search for "lucene indexing sentences" or similar finds that, and more.
>
>
> Different docs can have different fields/different numbers of fields,
> but the position gap approach is probably better.
>
>
> --
> Ian.
>
>
> On Fri, Mar 4, 2011 at 7:06 AM, Michael Wiegand
> <michael.wiegand@lsv.uni-saarland.de> wrote:
>   
>> Hi,
>>
>> I would like to create an index with Lucene to a document collections of
>> text files.
>> The index should be created in such a way, that for the search I can enforce
>> that query term A and query term B are contained within the same sentence.
>>
>> How should implement the index? Should I have for every sentence a different
>> field (but make sure that it is not a multi-valued field because they would
>> get merged which is exactly what I do not want)?
>> Would it be problematic that different documents would then end up having
>> different numbes of fields?
>>
>> Thank you in advance!
>>
>> Best,
>> Michael
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 14:42:52 2011
Return-Path: <java-user-return-48874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21516 invoked from network); 4 Mar 2011 14:42:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 14:42:51 -0000
Received: (qmail 32469 invoked by uid 500); 4 Mar 2011 14:42:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32408 invoked by uid 500); 4 Mar 2011 14:42:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32399 invoked by uid 99); 4 Mar 2011 14:42:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:42:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:42:43 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 9BC6D45F6FC
	for <java-user@lucene.apache.org>; Fri,  4 Mar 2011 15:42:20 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d7UgKkvvdk7d for <java-user@lucene.apache.org>;
	Fri,  4 Mar 2011 15:42:15 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.77])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 742B745F4C7
	for <java-user@lucene.apache.org>; Fri,  4 Mar 2011 15:42:15 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>	<017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de> <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
In-Reply-To: <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
Subject: RE: WhitespaceAnalyzer in Lucene nightly build ?
Date: Fri, 4 Mar 2011 15:42:17 +0100
Message-ID: <000f01cbda7a$5c855ba0$159012e0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQH4hHgtATAB0CNov4LG6TTKL2mdbQJqLkK4AdUxd06TofCLkA==
Content-language: de

As I said, the nightly maven jars are exactly the same like the nightly zip
file. So simply use analyzers-common.jar and lucene-core.jar in your class
path after you downloaded it from the URL I told you.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Friday, March 04, 2011 2:34 PM
> To: java-user@lucene.apache.org
> Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
> 
> sorry, so what you are saying is that I don't have working analyzers in
the
> nightly build ? In other words, I cannot index with it ?
> 
> Which version is the nightly Maven JARs ? I actually need to compute
> similarity per-field: the patch has been committed and it is currently
working
> with Lucene 4.0 This is the reason I'm using this version.
> 
> On 2 March 2011 23:48, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > Hi,
> >
> > Lucene trunk aka 4.0 does not ship with any special analyzers in its
> > core JAR file anymore. In trunk you have to use the module
> > analyzers-common for this analyzer.
> >
> > The problem with this module is, that the nightly build don't generate
> > a ZIP file out of it (this needs to be fixed for all the new modules).
> > You have two possibilities:
> > - Export source from SVN and build yourself
> > - Use the nightly Maven JARs instead (they include the modules as JARs):
> >
> > https://hudson.apache.org/hudson/job/Lucene-Solr-Maven-
> trunk/lastSucce
> > ssfulB uild/artifact/maven_artifacts/org/apache/lucene/
> >
> > Uwe
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> > > -----Original Message-----
> > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Wednesday, March 02, 2011 11:33 PM
> > > To: java-user@lucene.apache.org
> > > Subject: WhitespaceAnalyzer in Lucene nightly build ?
> > >
> > > I've downloaded Lucene nightly build and I've seen that
> > > WhitespaceAnalyzer.java is not anymore there.
> > >
> > > Has this analyzer been removed from the library ? What should I use
> > instead
> > > ?
> > >
> > > thanks
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 14:57:20 2011
Return-Path: <java-user-return-48875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68140 invoked from network); 4 Mar 2011 14:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 14:57:20 -0000
Received: (qmail 95493 invoked by uid 500); 4 Mar 2011 14:57:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95452 invoked by uid 500); 4 Mar 2011 14:57:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95444 invoked by uid 99); 4 Mar 2011 14:57:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:57:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 14:57:12 +0000
Received: by bwz8 with SMTP id 8so2841561bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 06:56:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=PHz8sQPsxciOU/LKIEk0qF0iMUYRtXCfnqaLP3AquAI=;
        b=XR2M08hu2aTft3ZrASZE/KwCiAteFo7SFtrEALFQ10DCP7NL5yVwvoDEQkg3zJk6z7
         FtM5me5IbTrndSE/WCjZgngN4x4w4OGNkS6HOzEHz70B8Jb0gNWUrPUiEtOnicj3gQfa
         tDWfJu0SrnCcot2tf0/802XGCveUFNQ3RFLsc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=L8Qej5DZkY0goiyQkikVMu9C8alXO55sCG+R/6YyUtyqvQNgbRBWZJ9drMgvPlO46W
         qgnT4SKsWqw54EoF6jb7I3V5Lo0llPgyLYtShYzlyqRaL+zFPANILrQPgbYzKgtTXXf9
         7QBOvLsVXIo+72GdMqsLBv18x4mdzhI0J5keQ=
MIME-Version: 1.0
Received: by 10.204.224.2 with SMTP id im2mr674930bkb.103.1299250611187; Fri,
 04 Mar 2011 06:56:51 -0800 (PST)
Received: by 10.204.27.8 with HTTP; Fri, 4 Mar 2011 06:56:50 -0800 (PST)
In-Reply-To: <000f01cbda7a$5c855ba0$159012e0$@thetaphi.de>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
	<017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de>
	<AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
	<000f01cbda7a$5c855ba0$159012e0$@thetaphi.de>
Date: Fri, 4 Mar 2011 15:56:50 +0100
Message-ID: <AANLkTinrBuPGMcQr+5F1R8qv1=qepJt0c8NqGO62N76n@mail.gmail.com>
Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=485b3970d06e276ee3049da95b9e

--485b3970d06e276ee3049da95b9e
Content-Type: text/plain; charset=ISO-8859-1

All right, I've downloaded the 2 jars and I've imported the following line,
since WhitespaceAnalyzer is in the core folder.

import org.apache.lucene.analysis.core.*;

However I get the following error:

CollectionIndexer.java:80: cannot find symbol
symbol  : constructor WhitespaceAnalyzer()
location: class org.apache.lucene.analysis.core.WhitespaceAnalyzer
writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);

thanks




On 4 March 2011 15:42, Uwe Schindler <uwe@thetaphi.de> wrote:

> As I said, the nightly maven jars are exactly the same like the nightly zip
> file. So simply use analyzers-common.jar and lucene-core.jar in your class
> path after you downloaded it from the URL I told you.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Friday, March 04, 2011 2:34 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
> >
> > sorry, so what you are saying is that I don't have working analyzers in
> the
> > nightly build ? In other words, I cannot index with it ?
> >
> > Which version is the nightly Maven JARs ? I actually need to compute
> > similarity per-field: the patch has been committed and it is currently
> working
> > with Lucene 4.0 This is the reason I'm using this version.
> >
> > On 2 March 2011 23:48, Uwe Schindler <uwe@thetaphi.de> wrote:
> >
> > > Hi,
> > >
> > > Lucene trunk aka 4.0 does not ship with any special analyzers in its
> > > core JAR file anymore. In trunk you have to use the module
> > > analyzers-common for this analyzer.
> > >
> > > The problem with this module is, that the nightly build don't generate
> > > a ZIP file out of it (this needs to be fixed for all the new modules).
> > > You have two possibilities:
> > > - Export source from SVN and build yourself
> > > - Use the nightly Maven JARs instead (they include the modules as
> JARs):
> > >
> > > https://hudson.apache.org/hudson/job/Lucene-Solr-Maven-
> > trunk/lastSucce
> > > ssfulB uild/artifact/maven_artifacts/org/apache/lucene/
> > >
> > > Uwe
> > >
> > > -----
> > > Uwe Schindler
> > > H.-H.-Meier-Allee 63, D-28213 Bremen
> > > http://www.thetaphi.de
> > > eMail: uwe@thetaphi.de
> > >
> > >
> > > > -----Original Message-----
> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > Sent: Wednesday, March 02, 2011 11:33 PM
> > > > To: java-user@lucene.apache.org
> > > > Subject: WhitespaceAnalyzer in Lucene nightly build ?
> > > >
> > > > I've downloaded Lucene nightly build and I've seen that
> > > > WhitespaceAnalyzer.java is not anymore there.
> > > >
> > > > Has this analyzer been removed from the library ? What should I use
> > > instead
> > > > ?
> > > >
> > > > thanks
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--485b3970d06e276ee3049da95b9e--

From java-user-return-48876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 15:03:19 2011
Return-Path: <java-user-return-48876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88921 invoked from network); 4 Mar 2011 15:03:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 15:03:17 -0000
Received: (qmail 15691 invoked by uid 500); 4 Mar 2011 15:03:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15641 invoked by uid 500); 4 Mar 2011 15:03:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15632 invoked by uid 99); 4 Mar 2011 15:03:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:03:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:03:09 +0000
Received: by qwd6 with SMTP id 6so2103181qwd.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 07:02:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=0o5/sQsMQdUGscuPbJGZr9s0p7Tvmq5+c7aMgkkIXZI=;
        b=CJfNXxrOrXARoY+6ObMNmIgEcraO9PRrgz9hUBFxiGp+r47odhslE28pa34qrKzT39
         4mE9+Ws1VSOfS3vcHLGkoIPzqI7v/P+2pGn/YuY5/V41ExE8KuiRSo+OSBb8UNhatQOG
         3B9JJU3LLWIMr3mPLM+46tz9+XTNOUVKUa7cA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=slrPVHr/D7h960tS1rwNetwpj/JORNIScETuz4U9Uhafaig+gg2tO7ykkI0Bk6N+f8
         NCortcSRA5a9sLYNkXkkV7SY6F+VSBRtTy9oW9YRYfOTTBy3nQQ+yr859XcDcQydheZR
         N5BzfGKRr5nrLuC6QfRdAfEjn4J7z75hOv5gg=
MIME-Version: 1.0
Received: by 10.224.209.7 with SMTP id ge7mr592906qab.366.1299250968625; Fri,
 04 Mar 2011 07:02:48 -0800 (PST)
Received: by 10.229.65.198 with HTTP; Fri, 4 Mar 2011 07:02:48 -0800 (PST)
Date: Fri, 4 Mar 2011 07:02:48 -0800
Message-ID: <AANLkTinNGTbkNBspvStKAtUQF2M2yKsZRP6BDGBqEVFc@mail.gmail.com>
Subject: Is ConcurrentMergeScheduler useful for multiple running IndexWriter's?
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

ConcurrentMergeScheduler is tied to a specific IndexWriter, however if
we're running in an environment (such as Solr's multiple cores, and
other similar scenarios) then we'd have a CMS per IW.  I think this
effectively disables CMS's max thread merge throttling feature?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 15:14:06 2011
Return-Path: <java-user-return-48877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24540 invoked from network); 4 Mar 2011 15:14:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 15:14:06 -0000
Received: (qmail 57746 invoked by uid 500); 4 Mar 2011 15:14:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57704 invoked by uid 500); 4 Mar 2011 15:14:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57696 invoked by uid 99); 4 Mar 2011 15:14:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:14:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:13:57 +0000
Received: by iwr19 with SMTP id 19so2668390iwr.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 07:13:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=wcHlDUHbkhNzb9u+voPbv1UptFtNUz1mx+eiqQW6+rI=;
        b=WUF1YsieWY/VrNnZT2j72T9uAxhrBaqSsXBVvaYG0wxL99wAvj0/l1z8BVMdf5Qxn0
         1lFyUXWCAAkQh6gTQypc/Afi2ANXkusgn3lL1iQeg/daWZH62qSjgQQTk+Nc9Aoysqzf
         FwYHBo2xw86FsP/l+6Pz0W5IYaG3Ph79XS/Eg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=w6CGHuq7Gz/4j6C5ym53J27YI8c9ha/nINMYXg0auguC7iTzu/1MV3OSzjQImc8MTs
         yq2FdI/0etwtLMWaMT6f354fApFPpg+NDiE9wx5XjHSBlOPNkKJEUgWbEP0HqBROZYV3
         wphs0VhKOvjEg9/0UIOGsHQSNHpptEBBDQcUg=
Received: by 10.231.42.195 with SMTP id t3mr458889ibe.198.1299251616144; Fri,
 04 Mar 2011 07:13:36 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Fri, 4 Mar 2011 07:13:16 -0800 (PST)
In-Reply-To: <AANLkTinrBuPGMcQr+5F1R8qv1=qepJt0c8NqGO62N76n@mail.gmail.com>
References: <AANLkTi=845g+dT8ZGGUMp7KY=vsSyhvmLLuyOo7urNg3@mail.gmail.com>
 <017c01cbd92b$ea9deab0$bfd9c010$@thetaphi.de> <AANLkTikOWPnQYUdSxfW0r_jt+n=cGs7D_9fCVP7Yavhu@mail.gmail.com>
 <000f01cbda7a$5c855ba0$159012e0$@thetaphi.de> <AANLkTinrBuPGMcQr+5F1R8qv1=qepJt0c8NqGO62N76n@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 15:13:16 +0000
Message-ID: <AANLkTi=AV7WLAG+EWEGtKOc86G8fwbQeeF5j2h+J67_H@mail.gmail.com>
Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Try passing an org.apache.lucene.util.Version parameter.  Looks like
this version needs it.

http://svn.apache.org/viewvc/lucene/dev/trunk/modules/analysis/common/src/j=
ava/org/apache/lucene/analysis/core/WhitespaceAnalyzer.java?view=3Dmarkup

assuming that is the right link.

Using trunk versions is always likely to be harder work than using
releases.  Maybe you should download the source as reference, and
build the javadocs.


--
Ian.


On Fri, Mar 4, 2011 at 2:56 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> All right, I've downloaded the 2 jars and I've imported the following lin=
e,
> since WhitespaceAnalyzer is in the core folder.
>
> import org.apache.lucene.analysis.core.*;
>
> However I get the following error:
>
> CollectionIndexer.java:80: cannot find symbol
> symbol =A0: constructor WhitespaceAnalyzer()
> location: class org.apache.lucene.analysis.core.WhitespaceAnalyzer
> writer =3D new IndexWriter(FSDirectory.open(INDEX_DIR), new
> WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
>
> thanks
>
>
>
>
> On 4 March 2011 15:42, Uwe Schindler <uwe@thetaphi.de> wrote:
>
>> As I said, the nightly maven jars are exactly the same like the nightly =
zip
>> file. So simply use analyzers-common.jar and lucene-core.jar in your cla=
ss
>> path after you downloaded it from the URL I told you.
>>
>> -----
>> Uwe Schindler
>> H.-H.-Meier-Allee 63, D-28213 Bremen
>> http://www.thetaphi.de
>> eMail: uwe@thetaphi.de
>>
>> > -----Original Message-----
>> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > Sent: Friday, March 04, 2011 2:34 PM
>> > To: java-user@lucene.apache.org
>> > Subject: Re: WhitespaceAnalyzer in Lucene nightly build ?
>> >
>> > sorry, so what you are saying is that I don't have working analyzers i=
n
>> the
>> > nightly build ? In other words, I cannot index with it ?
>> >
>> > Which version is the nightly Maven JARs ? I actually need to compute
>> > similarity per-field: the patch has been committed and it is currently
>> working
>> > with Lucene 4.0 This is the reason I'm using this version.
>> >
>> > On 2 March 2011 23:48, Uwe Schindler <uwe@thetaphi.de> wrote:
>> >
>> > > Hi,
>> > >
>> > > Lucene trunk aka 4.0 does not ship with any special analyzers in its
>> > > core JAR file anymore. In trunk you have to use the module
>> > > analyzers-common for this analyzer.
>> > >
>> > > The problem with this module is, that the nightly build don't genera=
te
>> > > a ZIP file out of it (this needs to be fixed for all the new modules=
).
>> > > You have two possibilities:
>> > > - Export source from SVN and build yourself
>> > > - Use the nightly Maven JARs instead (they include the modules as
>> JARs):
>> > >
>> > > https://hudson.apache.org/hudson/job/Lucene-Solr-Maven-
>> > trunk/lastSucce
>> > > ssfulB uild/artifact/maven_artifacts/org/apache/lucene/
>> > >
>> > > Uwe
>> > >
>> > > -----
>> > > Uwe Schindler
>> > > H.-H.-Meier-Allee 63, D-28213 Bremen
>> > > http://www.thetaphi.de
>> > > eMail: uwe@thetaphi.de
>> > >
>> > >
>> > > > -----Original Message-----
>> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > > > Sent: Wednesday, March 02, 2011 11:33 PM
>> > > > To: java-user@lucene.apache.org
>> > > > Subject: WhitespaceAnalyzer in Lucene nightly build ?
>> > > >
>> > > > I've downloaded Lucene nightly build and I've seen that
>> > > > WhitespaceAnalyzer.java is not anymore there.
>> > > >
>> > > > Has this analyzer been removed from the library ? What should I us=
e
>> > > instead
>> > > > ?
>> > > >
>> > > > thanks
>> > >
>> > >
>> > > --------------------------------------------------------------------=
-
>> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > > For additional commands, e-mail: java-user-help@lucene.apache.org
>> > >
>> > >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 15:18:16 2011
Return-Path: <java-user-return-48878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33112 invoked from network); 4 Mar 2011 15:18:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 15:18:16 -0000
Received: (qmail 73217 invoked by uid 500); 4 Mar 2011 15:18:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73185 invoked by uid 500); 4 Mar 2011 15:18:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73177 invoked by uid 99); 4 Mar 2011 15:18:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:18:14 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:18:08 +0000
Received: by iyj12 with SMTP id 12so2662278iyj.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 07:17:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=0MqSVVOWH8P9CVjjX6lNjZDvdrKei9YhqAfThBNtQVI=;
        b=PeRlNtiVLPX7izJ1cHFWcXj0UWUcXNLiwKfFZSOEBENLlc/No6FC0x5FZvKcbdvpfj
         yipnns2YR5cPpvZk9ZOzg1J1ToogOwP3RCxbSDA6MQF+ozaD7q8J9S5J1XpzZc39hA7t
         rWGaMSUBTxKGDXsjzhfNiaekO9HITE+WJqGnw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=wmV+cZk0YlNlW5QlrrSlYlSeF4rmMQgT2qlESkip+/G9HNWns5gs6tEimwuHvBMSjU
         xAwDY6RbTrAb5vU2svRIbkTslPoNrs9ZSxBuDX3kFe5qXx6L+vUeL4DyVQuazm5pfGy+
         mIlc44B8yV+m5ZeJN8Oy5UVBZEFwb7nW5HsQ4=
Received: by 10.231.193.68 with SMTP id dt4mr520069ibb.123.1299251867204; Fri,
 04 Mar 2011 07:17:47 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Fri, 4 Mar 2011 07:17:27 -0800 (PST)
In-Reply-To: <4D70F9E5.1060809@lsv.uni-saarland.de>
References: <4D708F60.5090507@lsv.uni-saarland.de> <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com>
 <4D70F9E5.1060809@lsv.uni-saarland.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 15:17:27 +0000
Message-ID: <AANLkTinVgc4+GzohUau8=J55-Y=rBHjEm-CeTScsP0mQ@mail.gmail.com>
Subject: Re: index enforcing query terms to appear within the same sentence
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Another index, or a different field in the same index but without the
modified gaps.  Maybe PerFieldAnalyzerWrapper would help - one
Analyzer for field x with modified gaps and a different one for field
y with standard gaps.


--
Ian.


On Fri, Mar 4, 2011 at 2:40 PM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Thank you for all these useful hints!
>
> If I use the multi-valued fields in combination with "modified" position
> increments, I would actually distort the shape of a document.
> For instance, if I would like to compare a retrieval enforcing query term
> co-occurrence within the same sentence with a co-occurrence using
> PhraseQuery (or SpanNearQuery) just enforcing that the query terms have t=
o
> appear within a text window of n words (also allowing this window to cros=
s
> sentence boundaries), I would need to create another index where I do not
> modify the position increments.
> Is that right?
>
> Best,
> Michael
>
> Ian Lea schrieb:
>>
>> You can use multi valued fields if you play with the position
>> increment gap. =A0See e.g.
>>
>> http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-sentenc=
e-td1501269.html
>>
>> A google search for "lucene indexing sentences" or similar finds that, a=
nd
>> more.
>>
>>
>> Different docs can have different fields/different numbers of fields,
>> but the position gap approach is probably better.
>>
>>
>> --
>> Ian.
>>
>>
>> On Fri, Mar 4, 2011 at 7:06 AM, Michael Wiegand
>> <michael.wiegand@lsv.uni-saarland.de> wrote:
>>
>>>
>>> Hi,
>>>
>>> I would like to create an index with Lucene to a document collections o=
f
>>> text files.
>>> The index should be created in such a way, that for the search I can
>>> enforce
>>> that query term A and query term B are contained within the same
>>> sentence.
>>>
>>> How should implement the index? Should I have for every sentence a
>>> different
>>> field (but make sure that it is not a multi-valued field because they
>>> would
>>> get merged which is exactly what I do not want)?
>>> Would it be problematic that different documents would then end up havi=
ng
>>> different numbes of fields?
>>>
>>> Thank you in advance!
>>>
>>> Best,
>>> Michael
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 15:41:03 2011
Return-Path: <java-user-return-48879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20087 invoked from network); 4 Mar 2011 15:41:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 15:41:03 -0000
Received: (qmail 51450 invoked by uid 500); 4 Mar 2011 15:41:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51374 invoked by uid 500); 4 Mar 2011 15:41:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51366 invoked by uid 99); 4 Mar 2011 15:41:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:41:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 15:40:54 +0000
Received: by iyj12 with SMTP id 12so2691165iyj.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 07:40:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=BRpo0jCH+UoTYjhTSccX7fzT28776zDeUZjeE58VAGg=;
        b=Ade3BM2BCEZ196Pb4NlkkWvPNMNsnkq71Esaqa0q4ppRtXoio2pgUuYvO7rrAx/Pma
         teqHlpHdVqMoM5GmZz5DaVTxQO0k8FSqVswSCfw88estiVlHDT0mysWPqGfW5//bDZSk
         3hcVVO6xXl11RL0zwtSP2/l28178ZMUBJAQfA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=TsEvtrzWtBiKnzluuaAac7wxaIvmCvyhpH5QpmJQItNu2BBxdadJC9AlH+uUmsgocL
         RMktp9AWPuvmiXxbFGks9hSMZvSTlIxGC86YVxbD7HFFguOiccNLt1UC8PCgyzXW9P4A
         v3nqoAZGhnQDwmq15P3SHkUH02nX+610V/NUw=
Received: by 10.231.39.135 with SMTP id g7mr459187ibe.173.1299253234099; Fri,
 04 Mar 2011 07:40:34 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.200.147 with HTTP; Fri, 4 Mar 2011 07:40:14 -0800 (PST)
In-Reply-To: <4D70E718.203@leegoddard.net>
References: <4D70E718.203@leegoddard.net>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 15:40:14 +0000
Message-ID: <AANLkTimqL3mKvcpxkEAcCVR7dMU9u_jgBTLQJXTBM94h@mail.gmail.com>
Subject: Re: IndexReader.reopen() question
To: java-user@lucene.apache.org, lee@leegoddard.net
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Looks basically OK to me.  I wonder if you need the isCurrent() check
as well as if (newReader !=3D reader) but shouldn't do any harm.
Likewise there doesn't seem much point in reassigning reader and
creating a new searcher if newReader is the same as reader.  But I
don't think that either of those would cause new entries not to be
picked up.

I'd ask for some evidence and/or check that the new entries really
have been added.


--
Ian.


On Fri, Mar 4, 2011 at 1:20 PM, Lee Goddard <leegee@gmail.com> wrote:
> Hello list,
>
> Does this look correct? =A0I am told it is not functioning, in that new
> entries to the index are not being picked-up?
>
> Thanks
> Lee
>
>
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0if (! reader.isCurrent()){
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0IndexReader newReader =3D reader.reopen();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (newReader !=3D reader) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// reader was reopened
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0searcher.close();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0reader.close();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0reader =3D newReader;
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0searcher =A0 =A0=3D new IndexSearcher(read=
er);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (searcher =3D=3D null) throw new Servle=
tException( "searcher
> is null (init a)" );
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0} catch (CorruptIndexException e){
> =A0 =A0 =A0 =A0 =A0 =A0throw new ServletException( "Could not refresh rea=
der?
> "+e.getMessage() );
> =A0 =A0 =A0 =A0} catch (IOException e){
> =A0 =A0 =A0 =A0 =A0 =A0throw new ServletException( "Could not refresh rea=
der?
> "+e.getMessage() );
> =A0 =A0 =A0 =A0} catch (Exception e){
> =A0 =A0 =A0 =A0 =A0 =A0throw new ServletException( "Could not re-open rea=
der?
> "+e.getMessage() );
> =A0 =A0 =A0 =A0}
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 17:09:57 2011
Return-Path: <java-user-return-48880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30403 invoked from network); 4 Mar 2011 17:09:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 17:09:57 -0000
Received: (qmail 36615 invoked by uid 500); 4 Mar 2011 17:09:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36575 invoked by uid 500); 4 Mar 2011 17:09:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36561 invoked by uid 99); 4 Mar 2011 17:09:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 17:09:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 17:09:48 +0000
Received: by gxk20 with SMTP id 20so1171370gxk.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 09:09:27 -0800 (PST)
MIME-Version: 1.0
Received: by 10.146.229.4 with SMTP id b4mr1278816yah.1.1299258566541; Fri, 04
 Mar 2011 09:09:26 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Fri, 4 Mar 2011 09:09:26 -0800 (PST)
In-Reply-To: <4D70E718.203@leegoddard.net>
References: <4D70E718.203@leegoddard.net>
Date: Fri, 4 Mar 2011 12:09:26 -0500
Message-ID: <AANLkTimxibm3rKAdCTrS7OaJei5AdNumOebe4R0M9=mN@mail.gmail.com>
Subject: Re: IndexReader.reopen() question
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org, lee@leegoddard.net
Cc: Lee Goddard <leegee@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 4, 2011 at 8:20 AM, Lee Goddard <leegee@gmail.com> wrote:

> Does this look correct? =A0I am told it is not functioning, in that new
> entries to the index are not being picked-up?

Also be careful w/ threads -- if queries are "in flight", closing the
reader out from other them will cause problems.

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 17:32:07 2011
Return-Path: <java-user-return-48881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94155 invoked from network); 4 Mar 2011 17:32:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 17:32:07 -0000
Received: (qmail 10455 invoked by uid 500); 4 Mar 2011 17:32:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10397 invoked by uid 500); 4 Mar 2011 17:32:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10389 invoked by uid 99); 4 Mar 2011 17:32:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 17:32:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of leegee@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 17:31:56 +0000
Received: by bwz8 with SMTP id 8so3029529bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 09:31:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=2BxHbcXQTs0eUESsBolIpP4OicvMk3h5DUfBGUE7Ul8=;
        b=Mj/Zr77iuIGTwK/NJ7PT+7vQipAbuzLW1aBO42iNGDUAXlAMLCTReYsOCmwlSpZitY
         xw9rNOtJynJhfqmFJPNiNpKfaKjT/HLmH1gll23Hw/TtTstK4SQH9h0yNbh/cd9YX81B
         mdePVT2jdEHcajgmqva7yaIXQIZeFGXA2+N9I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=viNVSzfcRu4eM6LfoqTb/JqpNUZivXmXMVGElhmOZQq8RjY/WeD1hO1Dd8VRED7j00
         0EnanhiIpdAGyzFaDBZUHSsc/AgKg+T5g6eg45U/qSGokU5grrluBIJBrbiv14NSZ2N2
         Wt8QSIfodvSE5pYMkIr4TcBb0i+m99WUGJyiM=
Received: by 10.204.185.1 with SMTP id cm1mr805943bkb.197.1299259895868;
        Fri, 04 Mar 2011 09:31:35 -0800 (PST)
Received: from Lee-Goddards-MacBook-Pro.local (87.97.83.89.pool.invitel.hu [87.97.83.89])
        by mx.google.com with ESMTPS id 12sm1709990bki.19.2011.03.04.09.31.34
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 04 Mar 2011 09:31:34 -0800 (PST)
Message-ID: <4D7121F5.7030009@gmail.com>
Date: Fri, 04 Mar 2011 18:31:33 +0100
From: Lee <leegee@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.14) Gecko/20110221 Thunderbird/3.1.8
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexReader.reopen() question
References: <4D70E718.203@leegoddard.net> <AANLkTimqL3mKvcpxkEAcCVR7dMU9u_jgBTLQJXTBM94h@mail.gmail.com>
In-Reply-To: <AANLkTimqL3mKvcpxkEAcCVR7dMU9u_jgBTLQJXTBM94h@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Ian, and Mike -- the code below was the result of badly copying 
the Javadocs in exasperation and panic: all points taken with gratitude.

Cheers
Lee

On 04/03/2011 16:40, Ian Lea wrote:
> Looks basically OK to me.  I wonder if you need the isCurrent() check
> as well as if (newReader != reader) but shouldn't do any harm.
> Likewise there doesn't seem much point in reassigning reader and
> creating a new searcher if newReader is the same as reader.  But I
> don't think that either of those would cause new entries not to be
> picked up.
>
> I'd ask for some evidence and/or check that the new entries really
> have been added.
>
>
> --
> Ian.
>
>
> On Fri, Mar 4, 2011 at 1:20 PM, Lee Goddard<leegee@gmail.com>  wrote:
>> Hello list,
>>
>> Does this look correct?  I am told it is not functioning, in that new
>> entries to the index are not being picked-up?
>>
>> Thanks
>> Lee
>>
>>
>>         try {
>>             if (! reader.isCurrent()){
>>                 IndexReader newReader = reader.reopen();
>>                 if (newReader != reader) {
>>                     // reader was reopened
>>                     searcher.close();
>>                     reader.close();
>>                 }
>>                 reader = newReader;
>>                 searcher    = new IndexSearcher(reader);
>>                 if (searcher == null) throw new ServletException( "searcher
>> is null (init a)" );
>>             }
>>         } catch (CorruptIndexException e){
>>             throw new ServletException( "Could not refresh reader?
>> "+e.getMessage() );
>>         } catch (IOException e){
>>             throw new ServletException( "Could not refresh reader?
>> "+e.getMessage() );
>>         } catch (Exception e){
>>             throw new ServletException( "Could not re-open reader?
>> "+e.getMessage() );
>>         }
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 18:00:17 2011
Return-Path: <java-user-return-48882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75285 invoked from network); 4 Mar 2011 18:00:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 18:00:16 -0000
Received: (qmail 91407 invoked by uid 500); 4 Mar 2011 18:00:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91378 invoked by uid 500); 4 Mar 2011 18:00:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91370 invoked by uid 99); 4 Mar 2011 18:00:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:00:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.254.141.183] (HELO mail-01.primus.ca) (216.254.141.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:00:04 +0000
Received: from ottawa-hs-64-26-155-186.s-ip.magma.ca ([64.26.155.186] helo=[192.168.0.204])
	by mail-01.primus.ca with esmtpa (Exim 4.72)
	(envelope-from <dev@brightminds.org>)
	id 1PvZHw-0002lr-21
	for java-user@lucene.apache.org; Fri, 04 Mar 2011 12:59:40 -0500
Message-ID: <4D71288C.7020209@brightminds.org>
Date: Fri, 04 Mar 2011 12:59:40 -0500
From: BrightMinds Dev <dev@brightminds.org>
Reply-To: dev@brightminds.org
Organization: BrightMinds Software Inc.
User-Agent: Thunderbird 2.0.0.24 (Macintosh/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Recent Content - Lucene vs. DB SELECT / DB Triggers / Memcached
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Authenticated: bm011 - ottawa-hs-64-26-155-186.s-ip.magma.ca ([192.168.0.204]) [64.26.155.186]
X-Virus-Checked: Checked by ClamAV on apache.org

We are developing a large 4-tier multi-server app that will accept 
Questions and related Comments supplied by users.  There will be 100K's 
of users that live in Shards.  Also, ideally there would be no delay in 
adding content and seeing it in recent results but to make the system 
performant a delay is acceptable.

On the main page we will have 2 panels with the 5 most recent site-wide 
Questions and 5 most recent site-wide Comments.
On the user's profile page we would display similar panels except they 
would only consist of links that pertain to that user.


There are essentially 4 design choices:

1) Do periodic DB SELECT calls and cache for site-wide content "AND" do 
live DB SELECT calls for user specific content.  Not wonderful but ok.

2) Use DB triggers to manage tables for site-wide content, though as 
content is sharded we would need to aggregate and resort based on 
results obtained from all shards "AND" do live DB SELECT calls for user 
specific content.  Sounds awful... .

3) Use a solution like memcached however having multiple servers add and 
prune site-wide content to cache seems like it would be a synchro 
nightmare "AND" do live DB SELECT calls for user specific content.  Nix 
that... .

4) Use Lucene to obtain most recent site-wide content (and better yet 
push it into memcached) "AND" use Lucene to retrieve live user specific 
content


Is this a natural fit for Lucene?

I understood Lucene is very performant but is finding the last X 
documents based on a long (timestamp) something that it would do very well?

Or is Lucene not appropriate and should we be considering something else?

Personally, I think Lucene is the best choice... but would like to hear 
the thoughts of others.

Thanks,

--Nikolaos 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 18:18:46 2011
Return-Path: <java-user-return-48883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39213 invoked from network); 4 Mar 2011 18:18:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 18:18:46 -0000
Received: (qmail 55998 invoked by uid 500); 4 Mar 2011 18:18:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55967 invoked by uid 500); 4 Mar 2011 18:18:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55932 invoked by uid 99); 4 Mar 2011 18:18:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:18:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:18:38 +0000
Received: by fxm2 with SMTP id 2so3172663fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 10:18:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=LNR0RZlRZkCCYWZVodpIUxaLIR0xQx7oUvaTWyrybio=;
        b=YGRxbmDTvZMuSm1TxnPIoF4KJxMY7AMaDPxw+9QFiJ23s4FvG83NhSaVcWbvDUDdCd
         1O6uDVeLNlIjjvCn4Ue63rPxVq7GV6pUHKRX7l/vPy3+PcPVNbbgDQA/ZUs24FsZGDce
         EarhGIseutnCe6XBA7/1Tq+1nS0YIWb0ASTFQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=nabR4Vh2/smNJWQ/W76vNwyW5lUHzsR1Hvh3Ab+GxXORWi9zORwpYWhQ2GqeLpkRj7
         b4NLwPR2mrkyA1LzQWAZvqwN53Imn8xRuRzCSJe/YMaGHAb3Fh71unth0vqt+XCMajzC
         MkcqYp4Ao9P2+wMUmmkDKibpVKg38/HDIiN60=
MIME-Version: 1.0
Received: by 10.223.2.198 with SMTP id 6mr1209517fak.10.1299262683737; Fri, 04
 Mar 2011 10:18:03 -0800 (PST)
Received: by 10.223.126.11 with HTTP; Fri, 4 Mar 2011 10:18:03 -0800 (PST)
In-Reply-To: <AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
	<AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
Date: Fri, 4 Mar 2011 19:18:03 +0100
Message-ID: <AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a33dbbf0f8049dac2a3f

--20cf3054a33dbbf0f8049dac2a3f
Content-Type: text/plain; charset=ISO-8859-1

All right.

So it is still not clear how to exactly implement it.

I have SimilarityA and SimilarityB subclasses.
So far, I know I can customize the similarity class for the searcher:
searcher.setSimilarity(new BoostingSimilarity());

When/how should I use get method ?
Similarity get(String field)

thanks





On 3 March 2011 16:34, Robert Muir <rcmuir@gmail.com> wrote:

> On Thu, Mar 3, 2011 at 10:25 AM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > I've downloaded Lucene nightly build because I need to customize the
> > similarity *per field*.
> >
> > However I don't see the field parameter passed to the methods to compute
> the
> > score such as "tf" and "idf"...
> >
> > how can I implement different similarities score per document field then
> ?
> >
>
> Hi, the way you set this up is to use SimilarityProvider to configure
> Similarities per-field: for example maybe field A, B, and C use
> Similarity1 and field D use Similarity2.
> So you just set your SimilarityProvider on the IndexWriter and
> IndexSearcher, and it must implement this factory method:
>
>  Similarity get(String field)
>
> Here are the reasons for this factory design (versus simply adding
> field to every method):
> 1. performance: up-front we ask the SimilarityProvider for the
> per-field Similarity. So you probably use a hashmap or something here
> to return the correct one. If you had to do this on every single call
> to tf(), this would slow down queries significantly.
> 2. flexibility: we are working to generalize Similarity, and maybe the
> existing stuff you see becomes TFIDFSimilarity. So in the future you
> might have field1 that uses TFIDF and field2 that uses something else
> (e.g. BM25), with a totally different API and scoring system.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a33dbbf0f8049dac2a3f--

From java-user-return-48884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 18:58:36 2011
Return-Path: <java-user-return-48884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84465 invoked from network); 4 Mar 2011 18:58:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 18:58:36 -0000
Received: (qmail 73848 invoked by uid 500); 4 Mar 2011 18:58:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73754 invoked by uid 500); 4 Mar 2011 18:58:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73745 invoked by uid 99); 4 Mar 2011 18:58:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:58:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 18:58:27 +0000
Received: by bwz8 with SMTP id 8so3119744bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 10:58:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=btipe61WSqx//0H0mDOUrSEoboaEfJGTuz2nLrrYj7I=;
        b=EmzVTP8Sij5ihxkvq/dWRALY+m/uSL5haIx25TBSa+6qoEHv4g6vWl51qJDsPlx4vJ
         0fxVriLz0e6YRV8DYlWD/QqJdfIkIKDp7JKGik/LRuBuk+K533+mAJMq4e15CoPzdIr+
         zSQuAqQORlfMw39jm0L4ikGTse0VuDFoSck+M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=j9K52jaTHOxkXEosElU3KM9H7Bx6IBKd7mDSdwgrLYhhdyGVTxuKoYDHhiIhfHN7nW
         ztzSve+VwxiN7bW6viHsjfZb5RHs2fTuslhNzt95/T11klipIUUKEsAxWUe7oT/WdrU5
         nhFK+ztmatDffyODvm5dbA6VuBvtMB5Rs3X0o=
Received: by 10.204.168.66 with SMTP id t2mr871658bky.53.1299265086156; Fri,
 04 Mar 2011 10:58:06 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 4 Mar 2011 10:57:46 -0800 (PST)
In-Reply-To: <AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
 <AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com> <AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 4 Mar 2011 13:57:46 -0500
Message-ID: <AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 4, 2011 at 1:18 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> So far, I know I can customize the similarity class for the searcher:
> searcher.setSimilarity(new BoostingSimilarity());
>

This is not correct.. have you read the javadocs?

IndexSearcher doesn't have a setSimilarity() anymore, it has
setSimilarityProvider().
I recommend reading CHANGES.txt, MIGRATE.txt, and the javadocs, where
this is all documented.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 19:12:51 2011
Return-Path: <java-user-return-48885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40009 invoked from network); 4 Mar 2011 19:12:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 19:12:51 -0000
Received: (qmail 17821 invoked by uid 500); 4 Mar 2011 19:12:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17783 invoked by uid 500); 4 Mar 2011 19:12:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17774 invoked by uid 99); 4 Mar 2011 19:12:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 19:12:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 19:12:42 +0000
Received: by fxm2 with SMTP id 2so3241070fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 11:12:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=NbjKiScDn5eWDnWmaqZsIsjFzIjUq2mbc21qGxDnVDM=;
        b=mdOGtr+JP+SjQarNDfoUSzyilrpGWECDem7KH27S9r+6wnaCmxY8/kYJiy2lheIvyV
         uODVR7FaZODbyaghxo5bfjNMmqeQpNqg0HEZ3/Wmezc1fXqniTUCGIapOE4PFA/GrxtC
         aVCPmWZb58W+PUFimfX8gP5ANBkHAq/bDDVtU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=iIGKEUx2ztJ6B7qnw9NrXAqIy5bvz/SM0zkxH30Hen2CH5FRWs5rWF3WV+HnRwekl7
         dApvBNsrppzglMwB0OUeIgBm/qlB1mmYqc17SZ2+4IlCgcXF3P5ipoqBP7QFI3puUvsj
         pPafzMQ3+afW9hmgHoTr1fxvX6DAStp8WsC5E=
MIME-Version: 1.0
Received: by 10.223.127.210 with SMTP id h18mr1266148fas.67.1299265941265;
 Fri, 04 Mar 2011 11:12:21 -0800 (PST)
Received: by 10.223.126.11 with HTTP; Fri, 4 Mar 2011 11:12:21 -0800 (PST)
In-Reply-To: <AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
	<AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
	<AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
	<AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com>
Date: Fri, 4 Mar 2011 20:12:21 +0100
Message-ID: <AANLkTikncLZ_zdzB1W6-isgLaoP8LrHHrgnJqz21URLy@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354530970e5de82049dacec51

--002354530970e5de82049dacec51
Content-Type: text/plain; charset=ISO-8859-1

hey Robert,

I know there is the documentation, I'm sorry I've confused setSimilarity
with setSimilarityProvider.

However, my question was about "Similarity get(String field) method" (I
cannot understand from documentation sorry).

Should I create a customSimilarity class implementing the SimilarityProvider
and then implement the get method ?

Also, inside the get method should I check the passed string field and
return different custom similarities classes ?

thanks
Patrick





On 4 March 2011 19:57, Robert Muir <rcmuir@gmail.com> wrote:

> On Fri, Mar 4, 2011 at 1:18 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > So far, I know I can customize the similarity class for the searcher:
> > searcher.setSimilarity(new BoostingSimilarity());
> >
>
> This is not correct.. have you read the javadocs?
>
> IndexSearcher doesn't have a setSimilarity() anymore, it has
> setSimilarityProvider().
> I recommend reading CHANGES.txt, MIGRATE.txt, and the javadocs, where
> this is all documented.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--002354530970e5de82049dacec51--

From java-user-return-48886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 19:40:40 2011
Return-Path: <java-user-return-48886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33140 invoked from network); 4 Mar 2011 19:40:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 19:40:40 -0000
Received: (qmail 87444 invoked by uid 500); 4 Mar 2011 19:40:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87408 invoked by uid 500); 4 Mar 2011 19:40:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87400 invoked by uid 99); 4 Mar 2011 19:40:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 19:40:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 19:40:30 +0000
Received: by bwz8 with SMTP id 8so3162905bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 11:40:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=ee831m5QBFF7qcnjNZ4CROhz620Whgm+mEvcR6+YiLQ=;
        b=xsgqwDdZlYtqiL90sF+edamFbZ6Cio730GmTLskAnxmmkH8Sc4YTbj3G7D5W/inOtg
         YnSQJpbyOBjmLAHH0GxecFnGgxjfJaz2Z4j45pKzVxFd1D032CYbSFr9ki9K8preQWyA
         gxEP80zi0a+cKBoME3A7Cb325dS6wLgGNCyh4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=a1tINILT9nX+mckTiZuGFdokBgbmSibEjocGMIckMork3wOJgYhO/YFX9pDKnjDcgG
         bKZKV7TtZOdUrL/aimvMMCelgKZ6sFehKep2jQwNnuhRx5tH5axsUnabERJTdtUs5Vw9
         GBkM3L3ZDLeZLHXf2Mgt6se/9T7iVHJVcZWF4=
Received: by 10.204.174.193 with SMTP id u1mr902814bkz.26.1299267610303; Fri,
 04 Mar 2011 11:40:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 4 Mar 2011 11:39:50 -0800 (PST)
In-Reply-To: <AANLkTikncLZ_zdzB1W6-isgLaoP8LrHHrgnJqz21URLy@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
 <AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
 <AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
 <AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com> <AANLkTikncLZ_zdzB1W6-isgLaoP8LrHHrgnJqz21URLy@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 4 Mar 2011 14:39:50 -0500
Message-ID: <AANLkTinqpoV79VDry25D2RstL_DejDOjJHLmUSKADHm5@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 4, 2011 at 2:12 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> hey Robert,
>
> I know there is the documentation, I'm sorry I've confused setSimilarity
> with setSimilarityProvider.
>
> However, my question was about "Similarity get(String field) method" (I
> cannot understand from documentation sorry).
>
> Should I create a customSimilarity class implementing the SimilarityProvider
> and then implement the get method ?
>
> Also, inside the get method should I check the passed string field and
> return different custom similarities classes ?

yes, the SimilarityProvider is a factory interface that returns a
Similarity for a specified field.

So you have to implement this interface, and in your get(String field)
method return the appropriate Similarity for the field.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 20:22:22 2011
Return-Path: <java-user-return-48887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60851 invoked from network); 4 Mar 2011 20:22:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 20:22:21 -0000
Received: (qmail 1641 invoked by uid 500); 4 Mar 2011 20:22:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1583 invoked by uid 500); 4 Mar 2011 20:22:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1543 invoked by uid 99); 4 Mar 2011 20:22:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 20:22:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 20:22:12 +0000
Received: by fxm2 with SMTP id 2so3327100fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 12:21:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=CLimceHAgNbSywtS0D4i69CPQdgUqnY4Ir7+DYkRFos=;
        b=BD8ht427EKjr1nmTL+aykivclAphlk+Ca4B9epQR9lDtON2MLri9zYsneX2u86qOaD
         Zg9MA15NL0w0QZrAKeYbwgupRuABcLsoMA/o4aG4tsdcIFl0VYneCtC7L0jnKpIlg0ju
         sfn6UdSNOQQVZTvUaByluGQk+zxAbO9deBzXc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=m5++XyiJbFFLJLOpu+T3ALETrl5uURZ86FK6ZnfLqYqllJG8W/SfME8kpHYcCf2Kqi
         yNVIDdoHSLv1bCL6+sOn0K6oqpPDCLcGuhLLI9jkviyLzdofjMOmqvam4pczLowWNR8a
         HafNtpBXISCMx1Nk3xVNuqq4Y+DNYA5hnbUGU=
MIME-Version: 1.0
Received: by 10.223.97.1 with SMTP id j1mr1314319fan.86.1299270111463; Fri, 04
 Mar 2011 12:21:51 -0800 (PST)
Received: by 10.223.126.11 with HTTP; Fri, 4 Mar 2011 12:21:51 -0800 (PST)
In-Reply-To: <AANLkTinqpoV79VDry25D2RstL_DejDOjJHLmUSKADHm5@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
	<AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
	<AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
	<AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com>
	<AANLkTikncLZ_zdzB1W6-isgLaoP8LrHHrgnJqz21URLy@mail.gmail.com>
	<AANLkTinqpoV79VDry25D2RstL_DejDOjJHLmUSKADHm5@mail.gmail.com>
Date: Fri, 4 Mar 2011 21:21:51 +0100
Message-ID: <AANLkTikwu6tA=j6=DCpf5Z2AFOBgsbqdBXGb+mBRH8an@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054acdb760bb2049dade58f

--20cf3054acdb760bb2049dade58f
Content-Type: text/plain; charset=ISO-8859-1

ok thanks, one last thing: in my TimeSimilarity class, I just need to use
this formula:

queryTimeValue - DocTimeValue / normalizationFactor

to compute the similarity score of a time/date field.
How do you suggest to implement this ? Which methods do I need to overwrite
?

thanks

On 4 March 2011 20:39, Robert Muir <rcmuir@gmail.com> wrote:

> On Fri, Mar 4, 2011 at 2:12 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > hey Robert,
> >
> > I know there is the documentation, I'm sorry I've confused setSimilarity
> > with setSimilarityProvider.
> >
> > However, my question was about "Similarity get(String field) method" (I
> > cannot understand from documentation sorry).
> >
> > Should I create a customSimilarity class implementing the
> SimilarityProvider
> > and then implement the get method ?
> >
> > Also, inside the get method should I check the passed string field and
> > return different custom similarities classes ?
>
> yes, the SimilarityProvider is a factory interface that returns a
> Similarity for a specified field.
>
> So you have to implement this interface, and in your get(String field)
> method return the appropriate Similarity for the field.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054acdb760bb2049dade58f--

From java-user-return-48888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 20:57:13 2011
Return-Path: <java-user-return-48888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80528 invoked from network); 4 Mar 2011 20:57:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 20:57:13 -0000
Received: (qmail 25997 invoked by uid 500); 4 Mar 2011 20:57:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25959 invoked by uid 500); 4 Mar 2011 20:57:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25950 invoked by uid 99); 4 Mar 2011 20:57:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 20:57:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of prvs=1044767705=brian@mainsequence.net designates 207.54.164.6 as permitted sender)
Received: from [207.54.164.6] (HELO mainsequence.net) (207.54.164.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 20:57:00 +0000
Received: from COVERSTONE by mainsequence.net (Cipher TLSv1:RC4-MD5:128) (MDaemon PRO v10.1.1)
	with ESMTP id md50015035908.msg
	for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 15:56:38 -0500
X-Spam-Processed: mainsequence.net, Fri, 04 Mar 2011 15:56:38 -0500
	(not processed: message from trusted or authenticated source)
X-Authenticated-Sender: brian@mainsequence.net
X-MDRemoteIP: 64.152.144.98
X-Return-Path: prvs=1044767705=brian@mainsequence.net
X-Envelope-From: brian@mainsequence.net
X-MDaemon-Deliver-To: java-user@lucene.apache.org
From: "Brian Coverstone" <brian@mainsequence.net>
To: <java-user@lucene.apache.org>
Subject: Multiple IndexWriter question
Date: Fri, 4 Mar 2011 15:56:32 -0500
Message-ID: <004f01cbdaae$a48f4ad0$edade070$@net>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0050_01CBDA84.BBB942D0"
X-Mailer: Microsoft Office Outlook 12.0
thread-index: AcvarqQYl1lDN8bZT++gX7QCRFtJcA==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0050_01CBDA84.BBB942D0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

I am a Lucene newbie, so I apologize beforehand if I am asking anything
silly, or that has been covered before.
 
I am currently debugging a project using Lucene.  The problem that is
happening is searches stop responding when an IndexWriter is writing to the
index.  In going through the code, I am seeing where two or more IndexWriter
objects can be opened to the same index.  However, only one IndexWriter is
used.  Even though other IndexWriter objects are created but not used, would
their mere presence cause a problem?
 
My other suspicion is the index has become corrupted because we have other
indexes that are working just fine.  Though I've run a check and repair and
it seems to be clean.
 
Any advice would be appreciated!
 
Regards,
Brian Coverstone

------=_NextPart_000_0050_01CBDA84.BBB942D0--



From java-user-return-48889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 21:08:31 2011
Return-Path: <java-user-return-48889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34718 invoked from network); 4 Mar 2011 21:08:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 21:08:31 -0000
Received: (qmail 69044 invoked by uid 500); 4 Mar 2011 21:08:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68991 invoked by uid 500); 4 Mar 2011 21:08:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68977 invoked by uid 99); 4 Mar 2011 21:08:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 21:08:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 21:08:22 +0000
Received: by iwr19 with SMTP id 19so3082616iwr.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 13:08:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=X2Nk8UqaIUKPcmaM3x9rpl4calh/MbchWwu//0TdRNc=;
        b=MdSBklMu6b9VmT24q+DgZv1/UIzq1j+hg9WgR1LT0rkglzbzykZKKf9ZFcaSK+CBqW
         0Y25XlLPnydh3b9StHq+z9ut78a8oLe4n2lIZ8pW8rNVyuyhX/tey9t+ILmlAeRr/P6n
         eDup6sd4bMXPZZRffLmq6FOvrdrymbCG+rnxw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=f+qbhUrjwkKx1Nbz/3mO4JX3j4Hb3r3FgzUpwMuNn965kTVFn9xu8YYTaXIojbNW0F
         I4lN/EvCRSGNxLhmwmsfrQiyjZ6S1MJ2CvCttKGIhazsNwfRFG+/kV1ZTGg8wXI92aXR
         j1OPWvNROrtRHb96SvA7FyHVLxB1VgI4C6g6E=
Received: by 10.231.178.73 with SMTP id bl9mr718980ibb.190.1299272881222; Fri,
 04 Mar 2011 13:08:01 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 4 Mar 2011 13:07:41 -0800 (PST)
In-Reply-To: <4D71288C.7020209@brightminds.org>
References: <4D71288C.7020209@brightminds.org>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 21:07:41 +0000
Message-ID: <AANLkTimUEr3bOz650cb1bjJKLANCtCE0oFDn+0ZoRdsb@mail.gmail.com>
Subject: Re: Recent Content - Lucene vs. DB SELECT / DB Triggers / Memcached
To: java-user@lucene.apache.org, dev@brightminds.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I'd go for lucene.  The near realtime search stuff should minimise
delays in making content visible and if you can do the last X since
whenever with a NumericRangeQuery, perhaps in conjunction with a
custom Collector, that will be fast too.


--
Ian.


On Fri, Mar 4, 2011 at 5:59 PM, BrightMinds Dev <dev@brightminds.org> wrote=
:
> We are developing a large 4-tier multi-server app that will accept Questi=
ons
> and related Comments supplied by users. =A0There will be 100K's of users =
that
> live in Shards. =A0Also, ideally there would be no delay in adding conten=
t and
> seeing it in recent results but to make the system performant a delay is
> acceptable.
>
> On the main page we will have 2 panels with the 5 most recent site-wide
> Questions and 5 most recent site-wide Comments.
> On the user's profile page we would display similar panels except they wo=
uld
> only consist of links that pertain to that user.
>
>
> There are essentially 4 design choices:
>
> 1) Do periodic DB SELECT calls and cache for site-wide content "AND" do l=
ive
> DB SELECT calls for user specific content. =A0Not wonderful but ok.
>
> 2) Use DB triggers to manage tables for site-wide content, though as cont=
ent
> is sharded we would need to aggregate and resort based on results obtaine=
d
> from all shards "AND" do live DB SELECT calls for user specific content.
> =A0Sounds awful... .
>
> 3) Use a solution like memcached however having multiple servers add and
> prune site-wide content to cache seems like it would be a synchro nightma=
re
> "AND" do live DB SELECT calls for user specific content. =A0Nix that... .
>
> 4) Use Lucene to obtain most recent site-wide content (and better yet pus=
h
> it into memcached) "AND" use Lucene to retrieve live user specific conten=
t
>
>
> Is this a natural fit for Lucene?
>
> I understood Lucene is very performant but is finding the last X document=
s
> based on a long (timestamp) something that it would do very well?
>
> Or is Lucene not appropriate and should we be considering something else?
>
> Personally, I think Lucene is the best choice... but would like to hear t=
he
> thoughts of others.
>
> Thanks,
>
> --Nikolaos
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 21:15:47 2011
Return-Path: <java-user-return-48890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37918 invoked from network); 4 Mar 2011 21:15:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 21:15:46 -0000
Received: (qmail 86794 invoked by uid 500); 4 Mar 2011 21:15:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86750 invoked by uid 500); 4 Mar 2011 21:15:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86738 invoked by uid 99); 4 Mar 2011 21:15:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 21:15:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 21:15:38 +0000
Received: by iwr19 with SMTP id 19so3090657iwr.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 13:15:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=KUA1si6bLU3GPLYCV5kPhA4zUGMFQ6CNNEvCuxS+rsQ=;
        b=FzBy/R04/E+oN6SFdayiCyRzRLvHjexsumaTi/OhsUkyKeRRwrfi9dCGkEfCqdnxb1
         T80coihsm0FhfSSyBGOTC5qE5tOTH64pm9g6ues78QkY96J+18dKPTxd0+wC9/hnpZ+I
         hlsbFGGKmVLJcJCC0nPEybdafX6BNgPm6WeGI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=hhwAsmDE66rjZSjOi+LnCAFuObLlxPmSZbjLbGMoFoQf3IOFngxARM7yJfHD61qY1Y
         KYPoYgd7FlqLze97w1gNikDURpqGVSUqPME37cGjk/W1trVmMQcjQMdhTe9/FTyfmMDR
         Ig/BK3cedIQRTbwhA0jKV3R2nznRzmybtz1QY=
Received: by 10.42.147.4 with SMTP id l4mr176199icv.248.1299273317105; Fri, 04
 Mar 2011 13:15:17 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 4 Mar 2011 13:14:57 -0800 (PST)
In-Reply-To: <004f01cbdaae$a48f4ad0$edade070$@net>
References: <004f01cbdaae$a48f4ad0$edade070$@net>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 4 Mar 2011 21:14:57 +0000
Message-ID: <AANLkTimb6zy6yNuROR16aVwkuPSD-QAU9MWLXw69Vfp8@mail.gmail.com>
Subject: Re: Multiple IndexWriter question
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

If you've got multiple IndexWriters on one index open at the same time
then you must be messing with lucene's locking and all bets are off.

>From the javadocs for IndexWriter:

Opening an IndexWriter creates a lock file for the directory in use.
Trying to open another IndexWriter on the same directory will lead to
a LockObtainFailedException.


--
Ian.

On Fri, Mar 4, 2011 at 8:56 PM, Brian Coverstone <brian@mainsequence.net> w=
rote:
> I am a Lucene newbie, so I apologize beforehand if I am asking anything
> silly, or that has been covered before.
>
> I am currently debugging a project using Lucene. =A0The problem that is
> happening is searches stop responding when an IndexWriter is writing to t=
he
> index. =A0In going through the code, I am seeing where two or more IndexW=
riter
> objects can be opened to the same index. =A0However, only one IndexWriter=
 is
> used. =A0Even though other IndexWriter objects are created but not used, =
would
> their mere presence cause a problem?
>
> My other suspicion is the index has become corrupted because we have othe=
r
> indexes that are working just fine. =A0Though I've run a check and repair=
 and
> it seems to be clean.
>
> Any advice would be appreciated!
>
> Regards,
> Brian Coverstone
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 04 22:34:00 2011
Return-Path: <java-user-return-48891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8212 invoked from network); 4 Mar 2011 22:34:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Mar 2011 22:34:00 -0000
Received: (qmail 88299 invoked by uid 500); 4 Mar 2011 22:33:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88265 invoked by uid 500); 4 Mar 2011 22:33:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88257 invoked by uid 99); 4 Mar 2011 22:33:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 22:33:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2011 22:33:52 +0000
Received: by fxm2 with SMTP id 2so3466271fxm.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 14:33:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Xz+4qmrmXdELqOUlLLlDeNU30GPZ/AB6THvq9gYb3Zk=;
        b=yB002OoMbyyoIVWELQ8lQQzBvVUfP/oytCgigmr9swqerGauHeLmdGzXrFq8rYBf29
         JJxWnhRk6q1i7uf72Gqhk+IlWZvEOGR8mZyriVG9qmo/cjBz/P2xXOIk2j4q6v73DVbO
         S/DZ0BhgENpUnrySgrPPBgn9prIXlAmittw2Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=RnWo4AIZdAxoft9I6Bt2DOGOBv1/ssHNwFtCRaacsr4Lf8soFBp+tQAY/VFZx+IQ8I
         ZZS8SELYP8CUg1dbRwr6RCLjBDNVTINZiXg9FdYMumg5ChOhZHrwv0mCqahcBhAy4l8/
         tAYg0MYZiwOPlVwUKDbaVedaucKc8qffu7b48=
MIME-Version: 1.0
Received: by 10.223.100.7 with SMTP id w7mr1456804fan.105.1299278010619; Fri,
 04 Mar 2011 14:33:30 -0800 (PST)
Received: by 10.223.126.11 with HTTP; Fri, 4 Mar 2011 14:33:30 -0800 (PST)
Date: Fri, 4 Mar 2011 23:33:30 +0100
Message-ID: <AANLkTinNbJDMYw-KA_yAe09+Yok2KzeD6NTk5Pa6mwR=@mail.gmail.com>
Subject: How to define custom numerical similarity scores in Lucene ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a4b3499b64049dafbcee

--20cf3054a4b3499b64049dafbcee
Content-Type: text/plain; charset=ISO-8859-1

Queries and Documents in my collection have multiple fields: some numeric
and some textual.

I know how to define custom Similarity classes per field in Lucene: so I
have my textualSimilarity (tf.idf based) and a numericalSimilarity class
(both extending Similarity)

I'm now studying how to implement such numericalSimilarity. I have a math
formula " (queryNumber - docNumber) / normalization factor) to define the
similarity between numeric fields.

But how can I implement this formula in the numericalSimilarity class ?
Which methods should I extend ?

thanks

--20cf3054a4b3499b64049dafbcee--

From java-user-return-48892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 06:50:03 2011
Return-Path: <java-user-return-48892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23877 invoked from network); 5 Mar 2011 06:50:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 06:50:02 -0000
Received: (qmail 6274 invoked by uid 500); 5 Mar 2011 06:50:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6212 invoked by uid 500); 5 Mar 2011 06:50:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6203 invoked by uid 99); 5 Mar 2011 06:50:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 06:50:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of static.void.dev@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 06:49:52 +0000
Received: by pvg6 with SMTP id 6so557249pvg.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 22:49:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding;
        bh=J0Xn6fpzM14iIbxI/LaaeMy8tQNZ8ojSjPWSYu9zFbY=;
        b=tS9vGhPxJg0bhn6ftZD3nstleoxizfR4LC4RpszxCfX2M7u3Y79Z6Xwu3Ln+iOaRwN
         oiDByCgKGqI9VzJlSrKn3/f/TN7e6Ki4WYxsecLMhjboPTheclVBgIX70/KHVrGk+kLA
         OitLIVbiDQByFoa0gwuFi4Vq3Ps9UHeJCYOWw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        b=UyvECy7ma4nF9Jp7SoyvodYlP5cZeoYGpN55G+aEhOFg+VF3VNl3jWyk1S8W8PLw7M
         Gt03Jdg8CC4uH/ot9iIy1UfQr/yf2rjxfkqrlynixegupmnuf7mWDGtFolrp6lShjE3d
         ORRVykwegLAJrg5ICcssd+fuEP5j1q6+ZcXmE=
Received: by 10.143.43.16 with SMTP id v16mr1081731wfj.408.1299307772610;
        Fri, 04 Mar 2011 22:49:32 -0800 (PST)
Received: from Roberts-MacBook-Pro.local (c-76-126-28-250.hsd1.ca.comcast.net [76.126.28.250])
        by mx.google.com with ESMTPS id w11sm372659wfh.18.2011.03.04.22.49.30
        (version=SSLv3 cipher=OTHER);
        Fri, 04 Mar 2011 22:49:30 -0800 (PST)
Message-ID: <4D71DCF8.9090904@gmail.com>
Date: Fri, 04 Mar 2011 22:49:28 -0800
From: Mark <static.void.dev@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.14) Gecko/20110221 Lightning/1.0b2 Thunderbird/3.1.8
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Detecting duplicates
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Is there a way one could detect duplicates (say by using some unique 
hash of certain fields) and marking a document as a duplicate but not 
remove it.

Here is an example:

Doc 1) This is my test
Doc 2) This is my test
Doc 3) Another test
Doc 4) This is my test

Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked 
as duplicates (of doc 1).

Can this be easily accomplished?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 07:01:44 2011
Return-Path: <java-user-return-48893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37069 invoked from network); 5 Mar 2011 07:01:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 07:01:44 -0000
Received: (qmail 25013 invoked by uid 500); 5 Mar 2011 07:01:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24980 invoked by uid 500); 5 Mar 2011 07:01:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 36545 invoked by uid 99); 4 Mar 2011 23:35:17 -0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dbsight@gmail.com designates 209.85.212.176 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type;
        bh=9mOCYZvcgbJIdym5PU+IdrE9iXT4+O36Btm5Q7FOwD8=;
        b=n2/zSzhAB+dOQUjl3EYmUoFsoZIdNZf9ijPubcXVBs+ApNCt4Puc/ptAYUeWfXzYrG
         aC1lyIwox6ac0P+FtGX6cMyk6zNZZy/V0ln0OuTaeCrCQ47Nd4vx5ACHg8xi2G6u6vzG
         N9P/nvQLcoSn/JL+npyD6ir2hZAnX+wt6jbqk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        b=F4XEZrfcjEjiDK0t8yDYZ3D8SJKAiBhWG5HyyyKL7rEuI/i4XDhy5ApZHdWBbI6524
         dyMBBXZkGJdqWQC89alHlRZ8KfJZOwD6Y5DBP9OkoZIJ2nYfGDbWlkrXVhL0QkVpXmf6
         JlDM8Abp5q3X1bEDfy0d/b1SyxdVlucT+WJGA=
Message-ID: <4D7176EF.2010106@gmail.com>
Date: Fri, 04 Mar 2011 15:34:07 -0800
From: DBSight <dbsight@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.14) Gecko/20110221 Lightning/1.0b2 Thunderbird/3.1.8
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Recent Content - Lucene vs. DB SELECT / DB Triggers / Memcached
References: <4D71288C.7020209@brightminds.org>
In-Reply-To: <4D71288C.7020209@brightminds.org>
Content-Type: multipart/alternative;
 boundary="------------000505040507030802010900"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------000505040507030802010900
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Can you just maintain the site-wide top 5 by combining top 5 of each Shards?
It can be done in memory and just O(1) operations. No Lucene is needed.

-- 

--

Chris Lu

-------------------------

Instant Scalable Full-Text Search On Any Database/Application

site: http://www.dbsight.net

demo: http://search.dbsight.com

Lucene Database Search in 3 minutes: 
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 2011/3/4 9:59, BrightMinds Dev wrote:
> We are developing a large 4-tier multi-server app that will accept 
> Questions and related Comments supplied by users.  There will be 
> 100K's of users that live in Shards.  Also, ideally there would be no 
> delay in adding content and seeing it in recent results but to make 
> the system performant a delay is acceptable.
>
> On the main page we will have 2 panels with the 5 most recent 
> site-wide Questions and 5 most recent site-wide Comments.
> On the user's profile page we would display similar panels except they 
> would only consist of links that pertain to that user.
>
>
> There are essentially 4 design choices:
>
> 1) Do periodic DB SELECT calls and cache for site-wide content "AND" 
> do live DB SELECT calls for user specific content.  Not wonderful but ok.
>
> 2) Use DB triggers to manage tables for site-wide content, though as 
> content is sharded we would need to aggregate and resort based on 
> results obtained from all shards "AND" do live DB SELECT calls for 
> user specific content.  Sounds awful... .
>
> 3) Use a solution like memcached however having multiple servers add 
> and prune site-wide content to cache seems like it would be a synchro 
> nightmare "AND" do live DB SELECT calls for user specific content.  
> Nix that... .
>
> 4) Use Lucene to obtain most recent site-wide content (and better yet 
> push it into memcached) "AND" use Lucene to retrieve live user 
> specific content
>
>
> Is this a natural fit for Lucene?
>
> I understood Lucene is very performant but is finding the last X 
> documents based on a long (timestamp) something that it would do very 
> well?
>
> Or is Lucene not appropriate and should we be considering something else?
>
> Personally, I think Lucene is the best choice... but would like to 
> hear the thoughts of others.
>
> Thanks,
>
> --Nikolaos
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>



--------------000505040507030802010900--

From java-user-return-48894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 07:10:15 2011
Return-Path: <java-user-return-48894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78780 invoked from network); 5 Mar 2011 07:10:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 07:10:14 -0000
Received: (qmail 40750 invoked by uid 500); 5 Mar 2011 07:10:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40637 invoked by uid 500); 5 Mar 2011 07:10:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40628 invoked by uid 99); 5 Mar 2011 07:10:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 07:10:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 07:10:04 +0000
Received: by gyg10 with SMTP id 10so1486289gyg.35
        for <java-user@lucene.apache.org>; Fri, 04 Mar 2011 23:09:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=KIHl8v423s0LmDXo3WKb5ZJ7MOOrN4AzOg9fdpyhYH0=;
        b=CQ6/MLxE0//P7j6uYbZ1T+seYMb5bKUmMYMieKYuFvd8cQBl/pIihSoGn5cZuw0hv0
         r98Zp4JAL200UP9OHEfGSZyKhiq2lxziXjKPvblWh2hBsDCS94krlLYMR/2AyVlx/o8V
         Z+GXr1ygbOyMive1cXy20aA8EYRFNjtC35y4g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=K+tOeNIKWiqmZwHEmtLaJ3qxJjonHTZrcCB5FXlUs3ChnZKrAHNcvQByWZJGW0WUvi
         MR5MSRWx2YvoBxR2FKejBfQexxfVckaK5zKsj5WS0WE0KTjl+3Une3TyKX7LHMU/ayU7
         AAEcZLspeh1RuMfc0MXNhU3ppwNlTjd5SYrd8=
MIME-Version: 1.0
Received: by 10.150.67.10 with SMTP id p10mr1730568yba.236.1299308983857; Fri,
 04 Mar 2011 23:09:43 -0800 (PST)
Received: by 10.147.114.16 with HTTP; Fri, 4 Mar 2011 23:09:43 -0800 (PST)
In-Reply-To: <4D71DCF8.9090904@gmail.com>
References: <4D71DCF8.9090904@gmail.com>
Date: Sat, 5 Mar 2011 15:09:43 +0800
Message-ID: <AANLkTimf4zzWR=CrMOYauvKPqRGWqbUKRdYu7aA=wTNK@mail.gmail.com>
Subject: Re: Detecting duplicates
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Cc: Mark <static.void.dev@gmail.com>
Content-Type: multipart/alternative; boundary=000e0cd402f06fb2a7049db6f21f
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd402f06fb2a7049db6f21f
Content-Type: text/plain; charset=ISO-8859-1

it's the problem of near duplication detection. there are many papers
addressing this problem. methods like simhash are used.

2011/3/5 Mark <static.void.dev@gmail.com>

> Is there a way one could detect duplicates (say by using some unique hash
> of certain fields) and marking a document as a duplicate but not remove it.
>
> Here is an example:
>
> Doc 1) This is my test
> Doc 2) This is my test
> Doc 3) Another test
> Doc 4) This is my test
>
> Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked as
> duplicates (of doc 1).
>
> Can this be easily accomplished?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd402f06fb2a7049db6f21f--

From java-user-return-48895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 09:47:28 2011
Return-Path: <java-user-return-48895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63829 invoked from network); 5 Mar 2011 09:47:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 09:47:28 -0000
Received: (qmail 22867 invoked by uid 500); 5 Mar 2011 09:47:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22831 invoked by uid 500); 5 Mar 2011 09:47:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22823 invoked by uid 99); 5 Mar 2011 09:47:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 09:47:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 09:47:19 +0000
Received: by fxm2 with SMTP id 2so3763636fxm.35
        for <java-user@lucene.apache.org>; Sat, 05 Mar 2011 01:46:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Gny9LvqmsaIeAOwBxB+MIzLACfJ51iPpGOyEmxwcsgg=;
        b=aX+oiFKTBP5Rk4yr924qeSp2vqy3TbOi+Ex3vpPxeQcu0p6owBvlPlmmzYX9qFEkn7
         b9WPNG29/I7hQvVfnku58+Sh2CN4EMWHWxwaXfTsPsgHVGYWck7610FxNUiwaleMs+tT
         XImIOnPfquhFvqPq7vdwPzPcsPhwemVazrImo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=WnRg07B0/q/spvNCooQaKHbGg/ftMfqqOBXoP0Rh1+z1HOLzzrlMsh3IJYVdwqGyVo
         NxXGiThNSk37Als7iAQuQ7xAkzwdGyfem1oEjeSjb8V+6WdJnGxuvOPpcqpQQte63Zbi
         oB/FVr24zonPDPodq4LUyl4Nef5kWSPiBqQRU=
MIME-Version: 1.0
Received: by 10.223.97.1 with SMTP id j1mr1956138fan.86.1299318418470; Sat, 05
 Mar 2011 01:46:58 -0800 (PST)
Received: by 10.223.126.11 with HTTP; Sat, 5 Mar 2011 01:46:58 -0800 (PST)
In-Reply-To: <AANLkTikwu6tA=j6=DCpf5Z2AFOBgsbqdBXGb+mBRH8an@mail.gmail.com>
References: <AANLkTi=ww8vyHCX=1UN+G9ZiY1Bf=e1qrOL+fTO_iq0C@mail.gmail.com>
	<AANLkTimCKFz3f=rQqV-dCPv-OuxY=xDaM-=Ew1vs=k7h@mail.gmail.com>
	<AANLkTi=q1HV435UYPthaN6dJtT7JBuS2ZOG5JGEFvMkQ@mail.gmail.com>
	<AANLkTimr59igiX_X8PUFriMXhTNrCO1X7NOeHAG=AKe-@mail.gmail.com>
	<AANLkTikncLZ_zdzB1W6-isgLaoP8LrHHrgnJqz21URLy@mail.gmail.com>
	<AANLkTinqpoV79VDry25D2RstL_DejDOjJHLmUSKADHm5@mail.gmail.com>
	<AANLkTikwu6tA=j6=DCpf5Z2AFOBgsbqdBXGb+mBRH8an@mail.gmail.com>
Date: Sat, 5 Mar 2011 10:46:58 +0100
Message-ID: <AANLkTi=UdtH51QpsrD3wtWY0yA7mT7WKeRCw8Cu2ebf5@mail.gmail.com>
Subject: Re: Lucene nightly build: similarity score per field
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054acdbc8762b049db924d6

--20cf3054acdbc8762b049db924d6
Content-Type: text/plain; charset=ISO-8859-1

Nevermind, I've finally solved.
I just now need to figure out how to retrieve the scores per fields in my
results.

I need to know how much similar each field is. I know I can use explain()
but it slows down computations...

thanks

On 4 March 2011 21:21, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> ok thanks, one last thing: in my TimeSimilarity class, I just need to use
> this formula:
>
> queryTimeValue - DocTimeValue / normalizationFactor
>
> to compute the similarity score of a time/date field.
> How do you suggest to implement this ? Which methods do I need to overwrite
> ?
>
> thanks
>
> On 4 March 2011 20:39, Robert Muir <rcmuir@gmail.com> wrote:
>
>> On Fri, Mar 4, 2011 at 2:12 PM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > hey Robert,
>> >
>> > I know there is the documentation, I'm sorry I've confused setSimilarity
>> > with setSimilarityProvider.
>> >
>> > However, my question was about "Similarity get(String field) method" (I
>> > cannot understand from documentation sorry).
>> >
>> > Should I create a customSimilarity class implementing the
>> SimilarityProvider
>> > and then implement the get method ?
>> >
>> > Also, inside the get method should I check the passed string field and
>> > return different custom similarities classes ?
>>
>> yes, the SimilarityProvider is a factory interface that returns a
>> Similarity for a specified field.
>>
>> So you have to implement this interface, and in your get(String field)
>> method return the appropriate Similarity for the field.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

--20cf3054acdbc8762b049db924d6--

From java-user-return-48896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 12:44:07 2011
Return-Path: <java-user-return-48896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13411 invoked from network); 5 Mar 2011 12:44:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 12:44:07 -0000
Received: (qmail 28069 invoked by uid 500); 5 Mar 2011 12:44:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28020 invoked by uid 500); 5 Mar 2011 12:44:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28012 invoked by uid 99); 5 Mar 2011 12:44:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 12:44:05 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Mar 2011 12:44:02 +0000
Received: (qmail 13285 invoked by uid 99); 5 Mar 2011 12:43:41 -0000
Received: from localhost.apache.org (HELO [10.0.0.22]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 12:43:41 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Detecting duplicates
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <4D71DCF8.9090904@gmail.com>
Date: Sat, 5 Mar 2011 07:43:39 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
References: <4D71DCF8.9090904@gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy to =
pull out if you are doing just Lucene.

On Mar 5, 2011, at 1:49 AM, Mark wrote:

> Is there a way one could detect duplicates (say by using some unique =
hash of certain fields) and marking a document as a duplicate but not =
remove it.
>=20
> Here is an example:
>=20
> Doc 1) This is my test
> Doc 2) This is my test
> Doc 3) Another test
> Doc 4) This is my test
>=20
> Doc 1 and 3 should be considered unique whereas 2 and 4 should be =
marked as duplicates (of doc 1).
>=20
> Can this be easily accomplished?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem docs using Solr/Lucene:
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 16:45:26 2011
Return-Path: <java-user-return-48897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75364 invoked from network); 5 Mar 2011 16:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 16:45:26 -0000
Received: (qmail 71724 invoked by uid 500); 5 Mar 2011 16:45:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71679 invoked by uid 500); 5 Mar 2011 16:45:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71671 invoked by uid 99); 5 Mar 2011 16:45:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 16:45:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of devon.odell@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 16:45:18 +0000
Received: by wya21 with SMTP id 21so3896745wya.35
        for <java-user@lucene.apache.org>; Sat, 05 Mar 2011 08:44:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=XDGCZTpVCSfDD9r+Rik5sY1c/k8ssaykzBIRn5Ezzpw=;
        b=VqZaBRMJfESTawzSVCMFaEddaTKkfOn8gRaBOAl2IYCC2O/oixCkg+JlN3vjrdWtCE
         BsxGek68kUXJCUDw4YQ9IoYVgB8bZ1wyANb1fg+grMLvAClf73Ng0fMAiHZrGKAY4BPG
         3MHWZai0CYwXu9ZyLrLh29h++3nMB2YWvMyNw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=UurPTTPICVWC5bG0M1+CaVG4iUGNJn8nPesz4s8BmE+ZPilHrhqCqJSLCZqakXWFZl
         s2M+Xtgp1EVRKLjvUuTKNyitGr31cR7UxXWM6s6ZVfN/OoGHqVyyvsjIxh2ePtS7MXIz
         P2RqQ/Yc3no4oqMA1CpwmmEysXFVkWtBevibM=
MIME-Version: 1.0
Received: by 10.216.23.18 with SMTP id u18mr562451weu.92.1299343497123; Sat,
 05 Mar 2011 08:44:57 -0800 (PST)
Received: by 10.216.183.13 with HTTP; Sat, 5 Mar 2011 08:44:57 -0800 (PST)
In-Reply-To: <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
References: <4D71DCF8.9090904@gmail.com>
	<4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
Date: Sat, 5 Mar 2011 11:44:57 -0500
Message-ID: <AANLkTik8h9dF93bqxn_JxuFfGUhMvH7rX=QrRkuWsgz3@mail.gmail.com>
Subject: Re: Detecting duplicates
From: "Devon H. O'Dell" <devon.odell@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

There is a DuplicateFilter class in contrib that works pretty well.

2011/3/5 Grant Ingersoll <gsingers@apache.org>:
> See http://wiki.apache.org/solr/Deduplication. =A0Should be fairly easy t=
o pull out if you are doing just Lucene.
>
> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>
>> Is there a way one could detect duplicates (say by using some unique has=
h of certain fields) and marking a document as a duplicate but not remove i=
t.
>>
>> Here is an example:
>>
>> Doc 1) This is my test
>> Doc 2) This is my test
>> Doc 3) Another test
>> Doc 4) This is my test
>>
>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked=
 as duplicates (of doc 1).
>>
>> Can this be easily accomplished?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
> Search the Lucene ecosystem docs using Solr/Lucene:
> http://www.lucidimagination.com/search
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 05 19:06:47 2011
Return-Path: <java-user-return-48898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51131 invoked from network); 5 Mar 2011 19:06:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Mar 2011 19:06:47 -0000
Received: (qmail 16254 invoked by uid 500); 5 Mar 2011 19:06:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16215 invoked by uid 500); 5 Mar 2011 19:06:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16207 invoked by uid 99); 5 Mar 2011 19:06:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 19:06:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of appy74@dsl.pipex.com designates 212.74.114.1 as permitted sender)
Received: from [212.74.114.1] (HELO mk-outboundfilter-5.mail.uk.tiscali.com) (212.74.114.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2011 19:06:37 +0000
X-Trace: 357608997/mk-outboundfilter-5.mail.uk.tiscali.com/PIPEX/$PIPEX-ACCEPTED/pipex-customers/81.86.114.41/None/appy74@dsl.pipex.com
X-SBRS: None
X-RemoteIP: 81.86.114.41
X-IP-MAIL-FROM: appy74@dsl.pipex.com
X-SMTP-AUTH: 
X-Originating-Country: GB/UNITED KINGDOM
X-MUA: Microsoft Outlook 14.0
X-IP-BHB: Once
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AnYHAN8Yck1RVnIp/2dsb2JhbACYbY17db1NhWIEj2eFJg
X-IronPort-AV: E=Sophos;i="4.62,269,1297036800"; 
   d="scan'208";a="357608997"
X-IP-Direction: IN
Received: from 81-86-114-41.dsl.pipex.com (HELO Ustane) ([81.86.114.41])
  by smtp.pipex.tiscali.co.uk with ESMTP; 05 Mar 2011 19:06:06 +0000
From: "Martin O'Shea" <appy74@dsl.pipex.com>
To: <java-user@lucene.apache.org>
Subject: Combining analyzers in Lucene
Date: Sat, 5 Mar 2011 19:06:16 -0000
Message-ID: <001301cbdb68$676c65b0$36453110$@dsl.pipex.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AcvbZzXvV1j/dxO8S8ClreoSrIxxtg==
Content-Language: en-gb

Hello
I have a situation where I'm using two methods in a Java class to implement
a StandardAnalyzer in Lucene to index text strings and return their word
frequencies as follows:

    public void indexText(String suffix, boolean includeStopWords)  {

        StandardAnalyzer analyzer = null;

        if (includeStopWords) {
            analyzer = new StandardAnalyzer(Version.LUCENE_30);
        }
        else {

            // Get Stop_Words to exclude them.
            Set<String> stopWords = (Set<String>)
Stop_Word_Listener.getStopWords();      
            analyzer = new StandardAnalyzer(Version.LUCENE_30, stopWords);
        }

        try {

            // Index text.
            Directory index = new RAMDirectory();
            IndexWriter w = new IndexWriter(index, analyzer, true,
IndexWriter.MaxFieldLength.UNLIMITED);            
            this.addTextToIndex(w, this.getTextToIndex());
            w.close();
            
            // Read index.
            IndexReader ir = IndexReader.open(index);
            Text_TermVectorMapper ttvm = new Text_TermVectorMapper();

            int docId = 0;

            ir.getTermFreqVector(docId, "text", ttvm);

            // Set output.
            this.setWordFrequencies(ttvm.getWordFrequencies());
            w.close();
        }
        catch(Exception ex) {
            logger.error("Error indexing elements of RSS_Feed for object " +
suffix + "\n", ex);
        }
    }

    private void addTextToIndex(IndexWriter w, String value) throws
IOException {
        Document doc = new Document();
        doc.add(new Field("text"), value, Field.Store.YES,
Field.Index.ANALYZED, Field.TermVector.YES));
        w.addDocument(doc);
    }

Which works perfectly well but I would like to combine this with stemming
using a SnowballAnalyzer as well. 

This class also has two instance variables shown in a constructor below:

    public Text_Indexer(String textToIndex) {
        this.textToIndex = textToIndex;
        this.wordFrequencies = new HashMap<String, Integer>();
    }

Can anyone tell me how best to achieve this with the code above? Should I
re-index the text when it is returned by the above code or can the stemming
be introduced into the above at all?

Thanks

Mr Morgan.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 01:35:46 2011
Return-Path: <java-user-return-48899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74916 invoked from network); 6 Mar 2011 01:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 01:35:46 -0000
Received: (qmail 96265 invoked by uid 500); 6 Mar 2011 01:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96226 invoked by uid 500); 6 Mar 2011 01:35:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96217 invoked by uid 99); 6 Mar 2011 01:35:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 01:35:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of static.void.dev@gmail.com designates 209.85.210.48 as permitted sender)
Received: from [209.85.210.48] (HELO mail-pz0-f48.google.com) (209.85.210.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 01:35:37 +0000
Received: by pzk28 with SMTP id 28so682868pzk.35
        for <java-user@lucene.apache.org>; Sat, 05 Mar 2011 17:35:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=7Do8SFbhCoF+Lv6YSrewY0/Z1otKiwxL2v5sC+U1H5M=;
        b=FiC7ON2Foe85hY9EOxulfjRqJPC6kX7jtWfCgvIl3qtDULMmXbjCthdQDXl72MufCf
         KpIBizrkVFWOn1ZuulDLzVRvKrs8X6pmXyQuGJGvmiUAOnmBpLo7mefm2FOTqrjt3tzF
         Kq1mkfYfmFUUNVf+SIqBePRbmBE0W7beCQMmk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=akr6oRpsTK68EQ9AnmkglT0dCE9uTj9ppr5TSC6LGhB+GQyPEZqYeneDCC9l+ZTTYM
         dawwNk10lJCLNtkjirE8yP0WEKvIIkjDq9mutsc07DuDLrI79i+LMFC9HhZNksFfaJKK
         tcPCbPduPQgUV6a8bMutxawDYG8NSzSR3AFZg=
Received: by 10.142.186.13 with SMTP id j13mr1953778wff.25.1299375316992;
        Sat, 05 Mar 2011 17:35:16 -0800 (PST)
Received: from Roberts-MacBook-Pro.local (c-76-126-28-250.hsd1.ca.comcast.net [76.126.28.250])
        by mx.google.com with ESMTPS id p40sm1764670wfc.5.2011.03.05.17.35.14
        (version=SSLv3 cipher=OTHER);
        Sat, 05 Mar 2011 17:35:15 -0800 (PST)
Message-ID: <4D72E4D1.2030904@gmail.com>
Date: Sat, 05 Mar 2011 17:35:13 -0800
From: Mark <static.void.dev@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Detecting duplicates
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
In-Reply-To: <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I'm familiar with Deduplication however I do not wish to remove my 
duplicates and my needs are slightly different. I would like to mark the 
first document with signature 'xyz' as unique but the next one as a 
duplicate. This way I can filter out "duplicates" during searching using 
a filter query but still return the original document.

The only thing I know of at the moment is to use field collapsing but I 
tried the patch on 1.4.1 and it was terribly slow.

On 3/5/11 4:43 AM, Grant Ingersoll wrote:
> See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy to pull out if you are doing just Lucene.
>
> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>
>> Is there a way one could detect duplicates (say by using some unique hash of certain fields) and marking a document as a duplicate but not remove it.
>>
>> Here is an example:
>>
>> Doc 1) This is my test
>> Doc 2) This is my test
>> Doc 3) Another test
>> Doc 4) This is my test
>>
>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked as duplicates (of doc 1).
>>
>> Can this be easily accomplished?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
> Search the Lucene ecosystem docs using Solr/Lucene:
> http://www.lucidimagination.com/search
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 02:08:28 2011
Return-Path: <java-user-return-48900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72538 invoked from network); 6 Mar 2011 02:08:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 02:08:27 -0000
Received: (qmail 44101 invoked by uid 500); 6 Mar 2011 02:08:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44058 invoked by uid 500); 6 Mar 2011 02:08:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44050 invoked by uid 99); 6 Mar 2011 02:08:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 02:08:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [63.146.121.108] (HELO mail.venarc.com) (63.146.121.108)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 02:08:16 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.venarc.com (Postfix) with ESMTP id A24166F00002
	for <java-user@lucene.apache.org>; Sat,  5 Mar 2011 18:07:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at venarc.com
Received: from mail.venarc.com ([127.0.0.1])
	by localhost (mail.venarc.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OVkeSUnqUJWF for <java-user@lucene.apache.org>;
	Sat,  5 Mar 2011 18:07:55 -0800 (PST)
Received: from [192.168.1.4] (unknown [72.37.142.31])
	by mail.venarc.com (Postfix) with ESMTPSA id 313C76F00001
	for <java-user@lucene.apache.org>; Sat,  5 Mar 2011 18:07:55 -0800 (PST)
From: Drew Kutcharian <drew@venarc.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Looking for a Lucene Contractor
Date: Sat, 5 Mar 2011 18:07:54 -0800
Message-Id: <13795582-77D3-4108-AEEE-04DD3522A2E3@venarc.com>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Everyone,

We are looking for someone to help us build a similarity engine. =
Basically we want to be able to show similar posts when a user posts a =
new block of text. A good example of this is StackOverflow. When a user =
tries to ask a new question, the system displays similar questions.

Can Lucene be used to accomplish this? Is it the best tool for this =
task?

Thanks,

Drew=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 04:19:56 2011
Return-Path: <java-user-return-48901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65966 invoked from network); 6 Mar 2011 04:19:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 04:19:56 -0000
Received: (qmail 58576 invoked by uid 500); 6 Mar 2011 04:19:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58350 invoked by uid 500); 6 Mar 2011 04:19:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58335 invoked by uid 99); 6 Mar 2011 04:19:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 04:19:52 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 04:19:46 +0000
Received: by yxd5 with SMTP id 5so1767533yxd.35
        for <java-user@lucene.apache.org>; Sat, 05 Mar 2011 20:19:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=OAQCa+/xpDphFAogVKH3T0ChvGDs8nRNZ9JSJDa6kh4=;
        b=EF0yAYq2bd4j6DJFvstIA42WXtu0KF99ITmfuOHbWQOINAF1xRbs5SzamKOeIp4XLf
         RSi6H2xFE020zCBgrnlm7K36ceOG77BmdvvRUlDqb9OAXgAHOPw/vHEOIuZdERy4z8lb
         urUrBHkERteMS+0wyhcpfZrVgr7yiw2SC96y4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=L2NIT2oKLNSgazr2ahDMwtpW5ubr0LcKIUulUyyqSSxhgDEPB/nVMVZse0jT19Apd3
         XriA7bsH9H4ts+HK31218c/hTH8P/gLb/Nl7tD33By9lRu4c7Du4oXC+t5nSODE+Sggw
         e0YXM8rb+nN1R3ZsImIm/YaMAlpWk1RXM37yc=
MIME-Version: 1.0
Received: by 10.236.76.66 with SMTP id a42mr3652089yhe.79.1299385164464; Sat,
 05 Mar 2011 20:19:24 -0800 (PST)
Received: by 10.147.114.16 with HTTP; Sat, 5 Mar 2011 20:19:24 -0800 (PST)
In-Reply-To: <4D72E4D1.2030904@gmail.com>
References: <4D71DCF8.9090904@gmail.com>
	<4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
	<4D72E4D1.2030904@gmail.com>
Date: Sun, 6 Mar 2011 12:19:24 +0800
Message-ID: <AANLkTikv38+mKpkMnKxMiUjRU4KXSc0bzbRER9Pmmmdx@mail.gmail.com>
Subject: Re: Detecting duplicates
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf303b433f27830c049dc8af7d
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf303b433f27830c049dc8af7d
Content-Type: text/plain; charset=ISO-8859-1

it's indeed very slow. because it do collapsing in all matched documents.
we tacked this problem by doing collapsing in top 100 documents.

2011/3/6 Mark <static.void.dev@gmail.com>

> I'm familiar with Deduplication however I do not wish to remove my
> duplicates and my needs are slightly different. I would like to mark the
> first document with signature 'xyz' as unique but the next one as a
> duplicate. This way I can filter out "duplicates" during searching using a
> filter query but still return the original document.
>
> The only thing I know of at the moment is to use field collapsing but I
> tried the patch on 1.4.1 and it was terribly slow.
>
>
> On 3/5/11 4:43 AM, Grant Ingersoll wrote:
>
>> See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy to
>> pull out if you are doing just Lucene.
>>
>> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>>
>>  Is there a way one could detect duplicates (say by using some unique hash
>>> of certain fields) and marking a document as a duplicate but not remove it.
>>>
>>> Here is an example:
>>>
>>> Doc 1) This is my test
>>> Doc 2) This is my test
>>> Doc 3) Another test
>>> Doc 4) This is my test
>>>
>>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked
>>> as duplicates (of doc 1).
>>>
>>> Can this be easily accomplished?
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>  --------------------------
>> Grant Ingersoll
>> http://www.lucidimagination.com/
>>
>> Search the Lucene ecosystem docs using Solr/Lucene:
>> http://www.lucidimagination.com/search
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf303b433f27830c049dc8af7d--

From java-user-return-48902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 13:31:22 2011
Return-Path: <java-user-return-48902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27014 invoked from network); 6 Mar 2011 13:31:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 13:31:21 -0000
Received: (qmail 10115 invoked by uid 500); 6 Mar 2011 13:31:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9694 invoked by uid 500); 6 Mar 2011 13:31:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9684 invoked by uid 99); 6 Mar 2011 13:31:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 13:31:16 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 13:31:06 +0000
Received: by yxd5 with SMTP id 5so1885465yxd.35
        for <java-user@lucene.apache.org>; Sun, 06 Mar 2011 05:30:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:x-qq-ssf:x-qq-business-origin:x-originating-ip
         :x-qq-style:x-qq-mid:from:to:subject:mime-version:content-type
         :content-transfer-encoding:date:x-priority:message-id:x-qq-mime
         :x-mailer:x-qq-mailer;
        bh=+HiT/8vu2rT/RsGeqJ4/G6wb2hDUw/TLraHzxQ1DFkk=;
        b=XWBE31ypcRvPEQdwLrEm3nY3f5OR2vcxDpw0SAIam8Qoi01b+rjVb4cC4kgK/Ev7Fi
         QLV52rAx4cFagfPfUItJK1VFgnG9UIK1EpFpuD/Rw6W9+QwDHJbc48CIhm/B6BO1kgl2
         EhWH6Ab4/b19ppxvBFm2XDlS96xNzkbUxloIQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-qq-ssf:x-qq-business-origin:x-originating-ip:x-qq-style:x-qq-mid
         :from:to:subject:mime-version:content-type:content-transfer-encoding
         :date:x-priority:message-id:x-qq-mime:x-mailer:x-qq-mailer;
        b=nnSlFsJp89C2XdD6sMvD/nAd6dtWnBHUfL9KEQ+S9Mda5W3+x2ZdrK0TwqByI4Wh1f
         hc+L0tVypK1z6CKjDABadXDLBQuN92J2P1XwxZR4rl3eAnN9NO2r/fyWWW6DBubvH4qZ
         1OthhbMCPmAuzlAEqc6U0O319LkTC3YdhFsb4=
Received: by 10.151.3.3 with SMTP id f3mr3216963ybi.96.1299418245508;
        Sun, 06 Mar 2011 05:30:45 -0800 (PST)
Received: from smtpbg52.qq.com (smtpbg52.qq.com [64.71.138.43])
        by mx.google.com with ESMTPS id g27sm1000816yhc.8.2011.03.06.05.30.43
        (version=SSLv3 cipher=OTHER);
        Sun, 06 Mar 2011 05:30:44 -0800 (PST)
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.115.45.211
X-QQ-STYLE:
X-QQ-mid:webmail343t1299418234t5199428
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <ee07b381@gmail.com>
To: "=?ISO-8859-1?B?aXRleHQtcXVlc3Rpb25z?=" <itext-questions@lists.sourceforge.net>, "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>, "=?ISO-8859-1?B?dXNlcnM=?=" <users@pdfbox.apache.org>
Subject: about pdf search
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D738C7A_DEBB58B8_30B5432F"
Content-Transfer-Encoding: 8Bit
Date: Sun, 6 Mar 2011 21:30:34 +0800
X-Priority: 3
Message-ID: <tencent_2C580CF76D809238608547FA@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D738C7A_DEBB58B8_30B5432F
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

SGksDQoNCg0KSSBhbSBkZXZlbG9waW5nIGEgcGRmIHNlYXJjaCBlbmdpbmUsIGp1c3QgdXNl
IGluIGxvY2FsIGNvbXB1dGVyIHRvIHNlYXJjaCBtYXNzaXZlIHBkZiBkb2N1bWVudHMuDQoN
Cg0KSSB1c2VkIHBkZmJveCtsdWNlbmUgdG8gaW5kZXggYW5kIHNlYXJjaCwgYW5kIHRoZW4g
SSBoYXZlIHRvIGRpc3BsYXkgdGhlIGNvbnRleHQgdG8gdGhlIHVzZXIgaW4gcGRmIGZpbGUg
aW4gdXNlciBpbnRlcmZhY2UuIEhPVyBDQU4gSSBBQ0hJRVZFIFRISVM/Pz8NCg0KDQpUSFg=

------=_NextPart_4D738C7A_DEBB58B8_30B5432F--


From java-user-return-48903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 13:31:22 2011
Return-Path: <java-user-return-48903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27026 invoked from network); 6 Mar 2011 13:31:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 13:31:21 -0000
Received: (qmail 10136 invoked by uid 500); 6 Mar 2011 13:31:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10039 invoked by uid 500); 6 Mar 2011 13:31:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9955 invoked by uid 99); 6 Mar 2011 13:31:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 13:31:16 +0000
X-ASF-Spam-Status: No, hits=4.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of 290131755@qq.com designates 64.71.138.43 as permitted sender)
Received: from [64.71.138.43] (HELO smtpbg52.qq.com) (64.71.138.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 06 Mar 2011 13:31:09 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1299418212; bh=P75NXPi6kEvKpklXWGFnzRasHxb6RCo9YO7kHTFyDVo=;
	h=X-QQ-SSF:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:X-QQ-STYLE:
	 X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=AMRQPpUkHyVtK/ZQtXv1OC/TiqlnAFdF/zlIa9FhF9M/JCmbHPPThu62cT50ccwLK
	 N4UfbXCGyCfCxy7Pb5RXKlB9/Tu5fbQFPMwLVqzgdhpc77NdFj3nriCTV6iAcpY
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.115.45.211
X-QQ-STYLE:
X-QQ-mid:webmail343t1299418210t5365686
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <290131755@qq.com>
To: "=?ISO-8859-1?B?aXRleHQtcXVlc3Rpb25z?=" <itext-questions@lists.sourceforge.net>, "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>, "=?ISO-8859-1?B?dXNlcnM=?=" <users@pdfbox.apache.org>
Subject: about pdf search
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D738C62_DF0F2B18_234FC253"
Content-Transfer-Encoding: 8Bit
Date: Sun, 6 Mar 2011 21:30:10 +0800
X-Priority: 3
Message-ID: <tencent_15F112E9104E9EB330873B75@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D738C62_DF0F2B18_234FC253
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

SGksDQoNCg0KSSBhbSBkZXZlbG9waW5nIGEgcGRmIHNlYXJjaCBlbmdpbmUsIGp1c3QgdXNl
IGluIGxvY2FsIGNvbXB1dGVyIHRvIHNlYXJjaCBtYXNzaXZlIHBkZiBkb2N1bWVudHMuDQoN
Cg0KSSB1c2VkIHBkZmJveCtsdWNlbmUgdG8gaW5kZXggYW5kIHNlYXJjaCwgYW5kIHRoZW4g
SSBoYXZlIHRvIGRpc3BsYXkgdGhlIGNvbnRleHQgdG8gdGhlIHVzZXIgaW4gcGRmIGZpbGUg
aW4gdXNlciBpbnRlcmZhY2UuIEhPVyBDQU4gSSBBQ0hJRVZFIFRISVM/Pz8NCg0KDQpUSFg=

------=_NextPart_4D738C62_DF0F2B18_234FC253--


From java-user-return-48904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 06 16:17:31 2011
Return-Path: <java-user-return-48904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45569 invoked from network); 6 Mar 2011 16:17:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Mar 2011 16:17:31 -0000
Received: (qmail 99435 invoked by uid 500); 6 Mar 2011 16:17:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99396 invoked by uid 500); 6 Mar 2011 16:17:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99388 invoked by uid 99); 6 Mar 2011 16:17:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 16:17:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [82.132.130.169] (HELO mail.o2.co.uk) (82.132.130.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2011 16:17:21 +0000
Received: from [192.168.1.69] (188.222.122.17) by mail.o2.co.uk (8.5.119.05) (authenticated as joel.halbert8909@o2.co.uk)
        id 4C63A9A337941D80 for java-user@lucene.apache.org; Sun, 6 Mar 2011 16:16:59 +0000
Subject: FastVectorHighlighter and field compression
From: Joel Halbert <joel@su3analytics.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Content-Type: text/plain; charset="UTF-8"
Date: Sun, 06 Mar 2011 16:16:55 +0000
Message-ID: <1299428215.30985.5.camel@bohr>
Mime-Version: 1.0
X-Mailer: Evolution 2.30.3 
Content-Transfer-Encoding: 7bit

Hi,

I'm using FastVectorHighlighter for highlighting, 3.0.3.

At the moment this is highlighting a field which is stored, but not
compressed. It all works perfectly.

I'd like to compress the field that is being highlighted, but it seems
like the new way to compress a stored field is to apply it as a separate
un-indexed stored field to the document, and use
CompressionToolscompressString manually.

I cann't see how this will play nice with the highlighter though, given
that I'm highlighting the indexed field.

So, can I use compression on a field I want to highlight?

Joel


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 10:41:08 2011
Return-Path: <java-user-return-48905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84311 invoked from network); 7 Mar 2011 10:41:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 10:41:08 -0000
Received: (qmail 19600 invoked by uid 500); 7 Mar 2011 10:41:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19509 invoked by uid 500); 7 Mar 2011 10:41:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19501 invoked by uid 99); 7 Mar 2011 10:41:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 10:41:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 10:41:00 +0000
Received: by iyj12 with SMTP id 12so5523724iyj.35
        for <java-user@lucene.apache.org>; Mon, 07 Mar 2011 02:40:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=TG+RyV9crMdOrFYYcbM57V5oTxsrPDY8XGsrfwGVIqs=;
        b=Obhtcyo/FrJXsYjNzPFysjPLQCWomoOKE0dOY4znfWseKdONo9gYzxRb8E6crRutfJ
         dBHPHPIKROx6NUEWNmQp7i44SYU0llzFpPkZ0Dk4TVOUxbCvSmlCTsLRnk2uE2Yasgod
         rFnnUdmAE9yZP1R8Cqy1Y6aCriT1ik4L7snSI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=V9pRiLS+C1tj1jPolftWbcMu5doHzrsvvBklCwROSR3zW2qDcfBy8npVvNj+9z/b+D
         AotTshce56+jKdN9V2s/5oolKBkG0mKgKjpgMga34Z9KpdNCAEDzN9xlKIdPQieY3anA
         MAMfUDKjWMzyLgRHiuXFmf+0YeXoUojL7PxjA=
Received: by 10.42.115.133 with SMTP id k5mr4724799icq.181.1299494440093; Mon,
 07 Mar 2011 02:40:40 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Mon, 7 Mar 2011 02:40:20 -0800 (PST)
In-Reply-To: <tencent_15F112E9104E9EB330873B75@qq.com>
References: <tencent_15F112E9104E9EB330873B75@qq.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 7 Mar 2011 10:40:20 +0000
Message-ID: <AANLkTinhfne3-AZ2OPZgXNZZv=7ZRT30PjLmBJxx_ZKE@mail.gmail.com>
Subject: Re: about pdf search
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Please don't cross-post to multiple lists.

Look back through the lucene user email archive and you'll find people
talking about this or use your favourite search engine to find hits
for something like "lucene pdf highlighting".

If you don't find an answer, post again to the most appropriate list
only, with the specific problem.
Is the problem with searching?  Highlighting text? Generating a PDF?
Highlighting within a generated PDF?



--
Ian.


On Sun, Mar 6, 2011 at 1:30 PM, Cescy <290131755@qq.com> wrote:
> Hi,
>
>
> I am developing a pdf search engine, just use in local computer to search massive pdf documents.
>
>
> I used pdfbox+lucene to index and search, and then I have to display the context to the user in pdf file in user interface. HOW CAN I ACHIEVE THIS???
>
>
> THX

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 11:47:00 2011
Return-Path: <java-user-return-48906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96914 invoked from network); 7 Mar 2011 11:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 11:47:00 -0000
Received: (qmail 68984 invoked by uid 500); 7 Mar 2011 11:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68819 invoked by uid 500); 7 Mar 2011 11:46:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68810 invoked by uid 99); 7 Mar 2011 11:46:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 11:46:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Mar 2011 11:46:50 +0000
Received: (qmail 938 invoked by uid 508); 7 Mar 2011 11:46:25 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=JOMnObIVasHV5qbR/gVtL+eK5BM+DsVJM3kDDdlOL5zet8X+OaYJ86/ZxywjIwED  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 7 Mar 2011 11:46:25 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
Subject: performance issues in multivalued fields
Date: Mon, 7 Mar 2011 17:11:25 +0530
Message-ID: <008e01cbdcbc$97fd3fb0$c7f7bf10$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008F_01CBDCEA.B1B57BB0"
X-Mailer: Microsoft Office Outlook 12.0
thread-index: AcvcvJRu2vh4QsddTCmzMfmBa8fQwQ==
Content-Language: en-us
x-cr-hashedpuzzle: BKHE BTrD BaMW Bf0q B63a CMAg CqSN DIvm DlDn D+ts EJVl EXPg Eh4M FAZw Jdzq J3uT;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{1DB29A06-8693-405A-8FF0-63C7C5DEB73F};cwB1AG0AYQBuAC4AaABvAGwAYQBuAGkAQAB6AGEAcABhAGsALgBjAG8ALgBpAG4A;Mon, 07 Mar 2011 11:41:21 GMT;cABlAHIAZgBvAHIAbQBhAG4AYwBlACAAaQBzAHMAdQBlAHMAIABpAG4AIABtAHUAbAB0AGkAdgBhAGwAdQBlAGQAIABmAGkAZQBsAGQAcwA=
x-cr-puzzleid: {1DB29A06-8693-405A-8FF0-63C7C5DEB73F}
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_008F_01CBDCEA.B1B57BB0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello,

 

I am facing an issue for multivalued fields in lucene

 

I am generating lucene doc , where page is multivalued .

So my doc will be like this having more than n fields( which can be more
than 1500 also ..) per doc in case page attribute

 

 

 

Example


<doc> 
                <media> 
                                <id>12345</id> 
                                <title>A title</title> 
                                <description>My description</description> 
                                <page> 
                                                <!-- The page element can
contain up to 15000 entries!!!! --> 

                                                            page1

Page 2                                                . 
                                               . 
               .n 
               

 </page> 

   </media> 

 

 

</doc> 




 

Will this structure can give a performance hit..?? as number of fields ar
dynamic for every doc..and can be huge.

 

 

 

Actually I am using same structure in clucene and its running awesome. Bt
lucene , is taking huge performance hit 

Specially in . "Document D = searcher.doc(hits[i].doc); "

 

 

Regards

Suman

 

 

 


------=_NextPart_000_008F_01CBDCEA.B1B57BB0--



From java-user-return-48907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 12:20:49 2011
Return-Path: <java-user-return-48907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98895 invoked from network); 7 Mar 2011 12:20:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 12:20:49 -0000
Received: (qmail 50001 invoked by uid 500); 7 Mar 2011 12:20:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49970 invoked by uid 500); 7 Mar 2011 12:20:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49962 invoked by uid 99); 7 Mar 2011 12:20:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 12:20:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 12:20:41 +0000
Received: by qwd6 with SMTP id 6so3814884qwd.35
        for <java-user@lucene.apache.org>; Mon, 07 Mar 2011 04:20:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=xEwyHQ54UR5bXE8y7Sgs9RHXnUwDeJyvhicfzGPYf0g=;
        b=yH/prHxxA1SSmUpd0cLfb01NNPp3v6wY/VX+RxpegPiBl9lxX7LMkpQojPx1nWTBlo
         XFuDqgL2uoURXMIRTxQ9H5f0QIHJr+aFEU3ckHGegn+83xBEQUK0P+TCCbv9LjAZnbtI
         zvueG2iCfYY3vrlvI9n4qR3r0182MzDlElyIo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=xwQ70uVcmVqlmhh6gtTmC93KROVunL4Zr5WbjME2HUtAd0TRp2gm29AIbJy2hl5jma
         bpQxU+J5Kq2FQrPbETGzbK0SECwpKRFXI7CkecpXPXazgUuMIaWAs21VMkoOGkwLc2MO
         bTMHKTMeJ3VkvWORml4aaU0GwsRZKAEqQi0Qs=
MIME-Version: 1.0
Received: by 10.224.196.138 with SMTP id eg10mr2780918qab.89.1299500420752;
 Mon, 07 Mar 2011 04:20:20 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Mon, 7 Mar 2011 04:20:20 -0800 (PST)
In-Reply-To: <6121104423465366829@unknownmsgid>
References: <6121104423465366829@unknownmsgid>
Date: Mon, 7 Mar 2011 07:20:20 -0500
Message-ID: <AANLkTinP4W_MEQKHtuSLWaVOvEb34ZqyDj9OLC16rPEk@mail.gmail.com>
Subject: Re: performance issues in multivalued fields
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

You have to describe in detail what "taking a huge performance hit"
means, there's not much to go on here...

 But in general, adding N elements to a mutli-valued field isn't a
problem at all.

This bit of code:
Document D =3D searcher.doc(hits[i].doc);
is very suspicious. Does your cLucene version have
lazy loading enabled and your Java version? Compression?
How many hits are you cycling this way? How long does the
search take as opposed to the above loop? Details please.

Best
Erick


On Mon, Mar 7, 2011 at 6:41 AM, suman.holani <suman.holani@zapak.co.in> wro=
te:
> Hello,
>
>
>
> I am facing an issue for multivalued fields in lucene
>
>
>
> I am generating lucene doc , where page is multivalued .
>
> So my doc will be like this having more than n fields( which can be more
> than 1500 also ..) per doc in case page attribute
>
>
>
>
>
>
>
> Example
>
>
> <doc>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<media>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<id>12345<=
/id>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<title>A t=
itle</title>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<descripti=
on>My description</description>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<page>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0<!-- The page element can
> contain up to 15000 entries!!!! -->
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0page1
>
> Page 2 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0.
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 .
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 .n
>
>
> =A0</page>
>
> =A0 </media>
>
>
>
>
>
> </doc>
>
>
>
>
>
>
> Will this structure can give a performance hit..?? as number of fields ar
> dynamic for every doc..and can be huge.
>
>
>
>
>
>
>
> Actually I am using same structure in clucene and its running awesome. Bt
> lucene , is taking huge performance hit
>
> Specially in . "Document D =3D searcher.doc(hits[i].doc); "
>
>
>
>
>
> Regards
>
> Suman
>
>
>
>
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 12:39:28 2011
Return-Path: <java-user-return-48908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82972 invoked from network); 7 Mar 2011 12:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 12:39:28 -0000
Received: (qmail 96112 invoked by uid 500); 7 Mar 2011 12:39:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96065 invoked by uid 500); 7 Mar 2011 12:39:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96056 invoked by uid 99); 7 Mar 2011 12:39:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 12:39:25 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,T_FRT_ADULT2
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of koji@r.email.ne.jp designates 202.224.39.198 as permitted sender)
Received: from [202.224.39.198] (HELO mail2.asahi-net.or.jp) (202.224.39.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 12:39:19 +0000
Received: from Koji-Sekiguchi-no-MacBook-Pro.local (w244069.ppp.asahi-net.or.jp [121.1.244.69])
	by mail2.asahi-net.or.jp (Postfix) with ESMTP id 3D7BED07DB
	for <java-user@lucene.apache.org>; Mon,  7 Mar 2011 21:38:58 +0900 (JST)
Message-ID: <4D74D1E1.9090409@r.email.ne.jp>
Date: Mon, 07 Mar 2011 21:38:57 +0900
From: Koji Sekiguchi <koji@r.email.ne.jp>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: FastVectorHighlighter and field compression
References: <1299428215.30985.5.camel@bohr>
In-Reply-To: <1299428215.30985.5.camel@bohr>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

(11/03/07 1:16), Joel Halbert wrote:
> Hi,
>
> I'm using FastVectorHighlighter for highlighting, 3.0.3.
>
> At the moment this is highlighting a field which is stored, but not
> compressed. It all works perfectly.
>
> I'd like to compress the field that is being highlighted, but it seems
> like the new way to compress a stored field is to apply it as a separate
> un-indexed stored field to the document, and use
> CompressionToolscompressString manually.
>
> I cann't see how this will play nice with the highlighter though, given
> that I'm highlighting the indexed field.
>
> So, can I use compression on a field I want to highlight?

Hmm, I've never thought about the combination of FVH and compression.
Current FVH cannot support the store data that is compressed by
client (i.e. compressed other than Field.Store.COMPRESS).

If FVH supports it, another version of getBestFragment() method
will be needed I think.

Koji
-- 
http://www.rondhuit.com/en/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 12:47:13 2011
Return-Path: <java-user-return-48909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2548 invoked from network); 7 Mar 2011 12:47:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 12:47:13 -0000
Received: (qmail 13261 invoked by uid 500); 7 Mar 2011 12:47:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13226 invoked by uid 500); 7 Mar 2011 12:47:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13216 invoked by uid 99); 7 Mar 2011 12:47:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 12:47:10 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Mar 2011 12:47:05 +0000
Received: (qmail 18174 invoked by uid 508); 7 Mar 2011 12:46:41 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=aIONuv1uvjE9NEVG799HlCLvqceNs6KDzx1wjJwMWwdM+JaWqMmM4ZQQUF1G8vOH  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 7 Mar 2011 12:46:41 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
References: <6121104423465366829@unknownmsgid> <AANLkTinP4W_MEQKHtuSLWaVOvEb34ZqyDj9OLC16rPEk@mail.gmail.com>
In-Reply-To: <AANLkTinP4W_MEQKHtuSLWaVOvEb34ZqyDj9OLC16rPEk@mail.gmail.com>
Subject: RE: performance issues in multivalued fields
Date: Mon, 7 Mar 2011 18:11:41 +0530
Message-ID: <009601cbdcc5$03478d40$09d6a7c0$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
thread-index: AcvcwhockhW0XG5MRHCaNxDzESoqRQAAaXZQ
Content-Language: en-us

Thanks for prompt reply.

I am not using compression or lazy loading in either clucene and lucene.
Since I need  to get the data from lucene for all searched docs for =
further
processing

If In clucene it takes 15 ms=20
In lucene it takes 100ms+ for the same search :(=20

Number of hits is around 1000 docs

One more query : which tends to give better search performance in lucene =
-
increasing number of fields per doc or increasing the number of docs (by
increasing redundancy of data)

regards,
Suman



-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: Monday, March 07, 2011 5:50 PM
To: java-user@lucene.apache.org
Subject: Re: performance issues in multivalued fields

You have to describe in detail what "taking a huge performance hit"
means, there's not much to go on here...

 But in general, adding N elements to a mutli-valued field isn't a
problem at all.

This bit of code:
Document D =3D searcher.doc(hits[i].doc);
is very suspicious. Does your cLucene version have
lazy loading enabled and your Java version? Compression?
How many hits are you cycling this way? How long does the
search take as opposed to the above loop? Details please.

Best
Erick


On Mon, Mar 7, 2011 at 6:41 AM, suman.holani <suman.holani@zapak.co.in>
wrote:
> Hello,
>
>
>
> I am facing an issue for multivalued fields in lucene
>
>
>
> I am generating lucene doc , where page is multivalued .
>
> So my doc will be like this having more than n fields( which can be =
more
> than 1500 also ..) per doc in case page attribute
>
>
>
>
>
>
>
> Example
>
>
> <doc>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<media>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0<id>12345</id>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0<title>A title</title>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0<description>My description</description>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0<page>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0<!-- The page element can
> contain up to 15000 entries!!!! -->
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0page1
>
> Page 2 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0.
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 .
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 .n
>
>
> =A0</page>
>
> =A0 </media>
>
>
>
>
>
> </doc>
>
>
>
>
>
>
> Will this structure can give a performance hit..?? as number of fields =
ar
> dynamic for every doc..and can be huge.
>
>
>
>
>
>
>
> Actually I am using same structure in clucene and its running awesome. =
Bt
> lucene , is taking huge performance hit
>
> Specially in . "Document D =3D searcher.doc(hits[i].doc); "
>
>
>
>
>
> Regards
>
> Suman
>
>
>
>
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 17:39:32 2011
Return-Path: <java-user-return-48910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59554 invoked from network); 7 Mar 2011 17:39:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 17:39:32 -0000
Received: (qmail 86956 invoked by uid 500); 7 Mar 2011 17:39:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86910 invoked by uid 500); 7 Mar 2011 17:39:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86902 invoked by uid 99); 7 Mar 2011 17:39:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 17:39:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of asl2@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 17:39:22 +0000
Received: from panix5.panix.com (panix5.panix.com [166.84.1.5])
	by mail1.panix.com (Postfix) with ESMTP id 48E371F084;
	Mon,  7 Mar 2011 12:39:02 -0500 (EST)
Received: by panix5.panix.com (Postfix, from userid 19385)
	id 2A9DF24253; Mon,  7 Mar 2011 12:39:02 -0500 (EST)
Date: Mon, 7 Mar 2011 12:39:02 -0500
From: Aaron Lav <asl2@pobox.com>
To: java-user@lucene.apache.org
Cc: asl2@pobox.com
Subject: Altering tf for a single field
Message-ID: <20110307173901.GA1253@panix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.20 (2009-06-14)
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to figure out how to achieve the effect of per-field
modifications to tf for lucene 2.9.x.  (Specifically, I'd like to cap
it for a single field which is subject to keyword stuffing, while still
allowing phrase searches in that field to work.)

It looks to me as if providing my own variant of
o.a.l.index.FreqProxTermsWriterPerField.java, changing the p.docFreq++
line, and reindexing should work, but I'm wondering if:

1) Do any other parts of lucene assume that tf == number of
proximity index entries?

2) Is there an easier way to achieve my goal?  (Ultimately I'd like to
use LUCENE-2236, but I'm looking for a nearer-term solution.)

          Thanks,
          Aaron Lav (asl2@pobox.com)



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 18:48:42 2011
Return-Path: <java-user-return-48911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96009 invoked from network); 7 Mar 2011 18:48:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 18:48:42 -0000
Received: (qmail 74345 invoked by uid 500); 7 Mar 2011 18:48:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74313 invoked by uid 500); 7 Mar 2011 18:48:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 17124 invoked by uid 99); 7 Mar 2011 17:49:34 -0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of James_Wilson@nmcourt.fed.us designates 208.27.203.38 as permitted sender)
X-IronPort-AV: E=Sophos;i="4.62,278,1297054800"; 
   d="scan'208";a="286021151"
Message-ID: <4D751B49.2070004@nmcourt.fed.us>
Date: Mon, 07 Mar 2011 10:52:09 -0700
From: James Wilson <James_Wilson@nmcourt.fed.us>
Organization: U. S. District Court -- District of New Mexico
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: users@pdfbox.apache.org
CC: itext-questions <itext-questions@lists.sourceforge.net>, 
 java-user <java-user@lucene.apache.org>
Subject: Re: about pdf search
References: <tencent_2C580CF76D809238608547FA@qq.com>
In-Reply-To: <tencent_2C580CF76D809238608547FA@qq.com>
X-MIMETrack: Itemize by SMTP Server on USHUB01/H/US/USCOURTS(Release 8.0.2FP5|April 13, 2010) at
 03/07/2011 12:49:01 PM,
	Serialize by Router on USHUB01/H/US/USCOURTS(Release 8.0.2FP5|April 13, 2010) at
 03/07/2011 12:49:02 PM,
	Serialize complete at 03/07/2011 12:49:02 PM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org

Cescy wrote:
> Hi,
> 
> 
> I am developing a pdf search engine, just use in local computer to search massive pdf documents.
> 
> 
> I used pdfbox+lucene to index and search, and then I have to display the context to the user in pdf file in user interface. HOW CAN I ACHIEVE THIS???

I have completed a project to do the exact same thing.  I put the pdf
text in XML files.  Then after I do a Lucene search I read the text from
the XML files.  I do not store the text in the Lucene index.  That would
bloat the index and slow down my searches.  FYI -- I use PDFBox to
extract the "searchable" text and I use tesseract (OCR) to extract the
text from the images within the PDFs.  In order to make tesseract work
correctly I have to use ImageMagick to do many modification to the
images so that tesseract can OCR them correctly.  Image modification/OCR
is a slow process and it is extremely resource intensive (CPU 
utilization specifically -- Disk IO to a lesser extent).

As far as displaying the extracted text I would use an AJAX framework 
that would provide a nice pop-up view of the text.  This pop-up should
also have built in paging.  I use Lucene's built in hi-lighting of
matches as well.

Oh almost forgot -- I use PDFBox to extract the images from the PDFs.

James
> 
> 
> THX

-- 
James J. Wilson II
Systems Engineer
U.S. District Court
District of New Mexico
333 Lomas Blvd., NW
Albuquerque, NM 87102
Phone:  (505) 348-2081
Fax:    (505) 348-2028

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 07 21:28:16 2011
Return-Path: <java-user-return-48912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10382 invoked from network); 7 Mar 2011 21:28:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Mar 2011 21:28:16 -0000
Received: (qmail 10188 invoked by uid 500); 7 Mar 2011 21:28:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9994 invoked by uid 500); 7 Mar 2011 21:28:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9986 invoked by uid 99); 7 Mar 2011 21:28:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 21:28:14 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2011 21:28:07 +0000
Received: from parc.com ([13.1.102.103]) by alpha.xerox.com with SMTP id <319977(2)>; Mon, 7 Mar 2011 13:25:32 PST
To: java-user@lucene.apache.org
cc: users@pdfbox.apache.org, itext-questions <itext-questions@lists.sourceforge.net>
Subject: Re: about pdf search
In-reply-to: <4D751B49.2070004@nmcourt.fed.us>
References: <tencent_2C580CF76D809238608547FA@qq.com> <4D751B49.2070004@nmcourt.fed.us>
Comments: In-reply-to James Wilson <James_Wilson@nmcourt.fed.us>
    message dated "Mon, 07 Mar 2011 09:52:09 -0800."
Cc: janssen@parc.com
X-Mailer: MH-E 8.2; nmh 1.3; GNU Emacs 23.1.90
Date: Mon, 7 Mar 2011 13:25:30 PST
Message-ID: <96890.1299533130@parc.com>
From: Bill Janssen <janssen@parc.com>
X-Virus-Checked: Checked by ClamAV on apache.org

James Wilson <James_Wilson@nmcourt.fed.us> wrote:

> I have completed a project to do the exact same thing.  I put the pdf
> text in XML files.  Then after I do a Lucene search I read the text from
> the XML files.  I do not store the text in the Lucene index.  That would
> bloat the index and slow down my searches.  FYI -- I use PDFBox to
> extract the "searchable" text and I use tesseract (OCR) to extract the
> text from the images within the PDFs.  In order to make tesseract work
> correctly I have to use ImageMagick to do many modification to the
> images so that tesseract can OCR them correctly.  Image modification/OCR
> is a slow process and it is extremely resource intensive (CPU
> utilization specifically -- Disk IO to a lesser extent).

I've built a pipeline in UpLib (open source at http://uplib.parc.com/)
to extract both the page images and the text (along with wordboxes and
font size, etc.) from PDFs, along with various metadata items.  It also
includes a converter (ToPDF) which will convert Web pages, Word,
Powerpoint, email etc. to PDF first, and then do the extraction.

  uplib-add-document --noupload mydoc

will create a temporary directory with all the pieces in it and output
the name of that directory to stdout.

> As far as displaying the extracted text I would use an AJAX framework
> that would provide a nice pop-up view of the text.  This pop-up should
> also have built in paging.  I use Lucene's built in hi-lighting of
> matches as well.

Actually, with HTML and CSS you can do just what "searchable PDF" does.
Put up the text in an HTML file, using "span" tags with absolute
positioning, and using the special color "transparent".  Use CSS to make
the page image the "background-image" for the HTML, and you have a
browser-displayable object which looks like a page image with selectable
text.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 08 08:53:31 2011
Return-Path: <java-user-return-48913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60734 invoked from network); 8 Mar 2011 08:53:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Mar 2011 08:53:30 -0000
Received: (qmail 96341 invoked by uid 500); 8 Mar 2011 08:53:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96288 invoked by uid 500); 8 Mar 2011 08:53:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96273 invoked by uid 99); 8 Mar 2011 08:53:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 08:53:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [82.132.130.152] (HELO mail.o2.co.uk) (82.132.130.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 08:53:18 +0000
Received: from [192.168.1.64] (86.176.127.25) by mail.o2.co.uk (8.5.119.05) (authenticated as joel.halbert8909@o2.co.uk)
        id 4D035EC313893B41 for java-user@lucene.apache.org; Tue, 8 Mar 2011 09:06:55 +0000
Subject: Re: FastVectorHighlighter and field compression
From: Joel Halbert <joel@su3analytics.com>
To: java-user@lucene.apache.org
In-Reply-To: <4D74D1E1.9090409@r.email.ne.jp>
References: <1299428215.30985.5.camel@bohr> <4D74D1E1.9090409@r.email.ne.jp>
Content-Type: text/plain; charset="UTF-8"
Date: Tue, 08 Mar 2011 08:52:54 +0000
Message-ID: <1299574374.2428.2.camel@bohr>
Mime-Version: 1.0
X-Mailer: Evolution 2.30.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Koji, I didn't think it was possible as it stands.


On Mon, 2011-03-07 at 21:38 +0900, Koji Sekiguchi wrote:
> (11/03/07 1:16), Joel Halbert wrote:
> > Hi,
> >
> > I'm using FastVectorHighlighter for highlighting, 3.0.3.
> >
> > At the moment this is highlighting a field which is stored, but not
> > compressed. It all works perfectly.
> >
> > I'd like to compress the field that is being highlighted, but it seems
> > like the new way to compress a stored field is to apply it as a separate
> > un-indexed stored field to the document, and use
> > CompressionToolscompressString manually.
> >
> > I cann't see how this will play nice with the highlighter though, given
> > that I'm highlighting the indexed field.
> >
> > So, can I use compression on a field I want to highlight?
> 
> Hmm, I've never thought about the combination of FVH and compression.
> Current FVH cannot support the store data that is compressed by
> client (i.e. compressed other than Field.Store.COMPRESS).
> 
> If FVH supports it, another version of getBestFragment() method
> will be needed I think.
> 
> Koji



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 08 14:19:17 2011
Return-Path: <java-user-return-48914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12634 invoked from network); 8 Mar 2011 14:19:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Mar 2011 14:19:16 -0000
Received: (qmail 36027 invoked by uid 500); 8 Mar 2011 14:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35699 invoked by uid 500); 8 Mar 2011 14:19:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35684 invoked by uid 99); 8 Mar 2011 14:19:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 14:19:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of arosenschein@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 14:19:06 +0000
Received: by bwz8 with SMTP id 8so6432729bwz.35
        for <multiple recipients>; Tue, 08 Mar 2011 06:18:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=LV+brQ4Kka3FrcONIjQXb4FK2umbekC0X/A/YTf+FEA=;
        b=fkNUCBd4VTreLdEnZDb+QLerJw6PXBjqJpYXalU95yZwX7VTb3tdAgMJbrRWRt9jAF
         HKmA5z+zmJWysatvmIOPWBInrzOQK8yTS7zJx/IuA5SyWl0B4+F1UNGIBt1+yX0asiQW
         OHfyWOUowe6CB9cpAjIuVJo5io3xtYO2SOO5Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=ue3mR0fNs2QS/jxmA3bbYoWBH1tTKCxjp1rMgZm3dUzx1kFuuODIHjG4RDPUb2j1Y7
         TB451eIeoCylOZoSsRjc1Sws08jPA6wokE0M5TLsNTEnmryqy5c+aWeNa/NkGX2Zn7c7
         YDoP4m9xNXEnBWo25Wp9E4+nCI5SVCi1WWJ/U=
MIME-Version: 1.0
Received: by 10.204.82.143 with SMTP id b15mr4497872bkl.118.1299593925730;
 Tue, 08 Mar 2011 06:18:45 -0800 (PST)
Received: by 10.204.184.1 with HTTP; Tue, 8 Mar 2011 06:18:45 -0800 (PST)
In-Reply-To: <AANLkTimYwMwFMM6GpCyZN+cHLTajA63RGW79gxUG4yQR@mail.gmail.com>
References: <AANLkTimvQLCL5-_U-cH2PGLG30wYRMuoJdGR1sBGQa4w@mail.gmail.com>
	<AANLkTimYwMwFMM6GpCyZN+cHLTajA63RGW79gxUG4yQR@mail.gmail.com>
Date: Tue, 8 Mar 2011 16:18:45 +0200
Message-ID: <AANLkTin_uGGn7KOpkkrcwJG99RAW5rTbvrpzvcor_azW@mail.gmail.com>
Subject: Re: BM 25 scoring with lucene
From: Avi Rosenschein <arosenschein@gmail.com>
To: dev@lucene.apache.org
Cc: =?UTF-8?Q?G=C3=A9rard_Dupont?= <ger.dupont@gmail.com>, 
	Lahiru Samarakoon <lahiruts@gmail.com>, java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d7ef904ba441049df94a81
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d7ef904ba441049df94a81
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

The LUCENE-2091.patch file from the jira entry is essentially what we are
using. It should work fine.

-- Avi

2011/3/2 G=C3=A9rard Dupont <ger.dupont@gmail.com>

> Hi,
>
> On 2 March 2011 07:50, Lahiru Samarakoon <lahiruts@gmail.com> wrote:
>
>> Hi All,
>>
>> Do you have any BM 25 scoring implementation which can be used with
>> Lucene?
>>
>
> One query on goggle, first reqsult (for me) :
> http://nlp.uned.es/~jperezi/Lucene-BM25/
> (But it's from 2009)
>
> How can I find and use the implementation mentioned in following jira
>> entry?
>>
>> https://issues.apache.org/jira/browse/LUCENE-2091
>>
>> Thanks,
>> Lahiru
>>
>
>
>
> --
> G=C3=A9rard Dupont
> Information Processing Control and Cognition (IPCC)
> CASSIDIAN - an EADS company
>
> Document & Learning team - LITIS Laboratory
>
>

--0016e6d7ef904ba441049df94a81--

From java-user-return-48915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 08 20:08:04 2011
Return-Path: <java-user-return-48915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14820 invoked from network); 8 Mar 2011 20:08:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Mar 2011 20:08:04 -0000
Received: (qmail 2855 invoked by uid 500); 8 Mar 2011 20:08:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2791 invoked by uid 500); 8 Mar 2011 20:08:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2783 invoked by uid 99); 8 Mar 2011 20:08:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 20:08:02 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2011 20:07:55 +0000
Received: by vxi40 with SMTP id 40so6541894vxi.35
        for <java-user@lucene.apache.org>; Tue, 08 Mar 2011 12:07:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=WEI5Xq4+m2A2izHz2dwsFGAT+ZztctU36RxQlhF7P/k=;
        b=SaSYZ16ju8YEY8VYZUGpzwVXWI4cqS6m3dylF2MGQTZ2D92qoXCnqFzAnrWSr1hprB
         CicYO0/bO9l80NIa+jjP5w0qvZPOiJDfxB0Jblbl3CbvTp/T0GRWL/qZy+DFxjLPl8PL
         nPcx8yDLF5ocQoEsplNv1o5GLz8sSHVhDomow=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=t2YsA6HqBQx1DMvZPl/xeYJm/PaOJ1y/xDl9pCmrRhR1YS1op2bObJ6DnteMLNTOlg
         Kf4l4q8tsnJmMenG+SyVn3AVn/lhl8rHmoqzF+NRLZntt6Pdl1eTYONKeYU3kit2bBGq
         FPHdE/Cglq+UDJ74q1/DTEhNC53Yk1/ah5DEg=
MIME-Version: 1.0
Received: by 10.52.69.162 with SMTP id f2mr5575233vdu.251.1299614854836; Tue,
 08 Mar 2011 12:07:34 -0800 (PST)
Received: by 10.52.168.194 with HTTP; Tue, 8 Mar 2011 12:07:34 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>
References: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>
Date: Tue, 8 Mar 2011 21:07:34 +0100
Message-ID: <AANLkTimHvrdbk82GEPLT0aQCbZXy_VH4twz6ULpEPPaS@mail.gmail.com>
Subject: Re: Lucene 4.0 and WhitespaceAnalyzer
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Why do you want to replace the WhitespaceAnalyzer? I don't really
understand what you are up to.

simon

On Fri, Mar 4, 2011 at 3:21 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> What's the best way to replace WhitespaceAnalyzer in this line in Lucene
> nightly build 4.0 ? Is there a generic analyzer I can use ?
>
> writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
> WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 06:16:08 2011
Return-Path: <java-user-return-48916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43948 invoked from network); 9 Mar 2011 06:16:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 06:16:08 -0000
Received: (qmail 51855 invoked by uid 500); 9 Mar 2011 06:16:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51809 invoked by uid 500); 9 Mar 2011 06:16:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51801 invoked by uid 99); 9 Mar 2011 06:16:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 06:16:05 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.94.239.11] (HELO web130124.mail.mud.yahoo.com) (66.94.239.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Mar 2011 06:16:00 +0000
Received: (qmail 62948 invoked by uid 60001); 9 Mar 2011 06:15:39 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1299651339; bh=nvbR0MB98VlThRdgO4+/iKHUr/tRyHV30hJdOvBi2xY=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=QYqFv+6o6NZ+LTLmukmiwOODobrfV7BgSv6e+pnAZ2yuWdYA39kBBkPEgbROXJz6NefpzTbEAHbVFyATmJRN8lyMD2hx5mP6YpiHKi00QX/NUTSRFAQ7KxtJbg1Ivi0fPU5GHbEgoPE0mJfCT0wKkQOIT+34tZqKzOf/RJ3onqM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=gco5ci2mCEl+yLYZfM8WR29k4QxL1eSXglLKYPcH3iMpG/4emgCOqJrC809+8d9pg8ICnXF+wZH0B10vK0szqjUknRhVupZQ3LlLzHzBlbcBiMQnROyBJycoEK132Vdf9ljTBWVR0yH0Aft8TzHcTSLI0SWiFuaxpQgbFWaEpEk=;
Message-ID: <299593.62509.qm@web130124.mail.mud.yahoo.com>
X-YMail-OSG: XscFyiQVM1lpQxdRcOGlE6DpXwd_ibm3c4g1B5PdASM3NA7
 BpUP.gYydG4iEn3S8sybXr17MNZGimlh65hsoy2NSwhL0691tcPy69lIhRs_
 dUbl7knjGIj1WO4qOVyKRS0KTpgXFF.rgpB68idmfAEFzuBSY9dIzhu5LRy1
 CDX0NDlp_dsDgHb79mIy3J7TcVCxcnsKsSTbPGAsr37XFDLA.rJ6Jmvb9iyO
 arjcMol02mhpOil4FMIc0gTXG1ry2PF2AjVSgg.dUzaXJHBqoz0uLqNV.UYw
 a2JAYoM5gWawz9vXJ2mHbP0yd6zRJpm1XtiUN9NeT74546NgCDsOAK3YddDd
 xgdB3ul1Y2lSERFp_
Received: from [74.73.25.254] by web130124.mail.mud.yahoo.com via HTTP; Tue, 08 Mar 2011 22:15:38 PST
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.295617
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org> <4D72E4D1.2030904@gmail.com>
Date: Tue, 8 Mar 2011 22:15:38 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Detecting duplicates
To: java-user@lucene.apache.org
In-Reply-To: <4D72E4D1.2030904@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Mark,

Keep in mind that there are actually multiple patches for this.  SOLR-236 and 
SOLR-1086 IIRC.
Also, I just noticed this is java-user@lucene.  You may want to continue on 
solr-user@lucene.

Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Mark <static.void.dev@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Sat, March 5, 2011 8:35:13 PM
> Subject: Re: Detecting duplicates
> 
> I'm familiar with Deduplication however I do not wish to remove my 
> duplicates and my needs are slightly different. I would like to mark the 
> first document with signature 'xyz' as unique but the next one as a 
> duplicate. This way I can filter out "duplicates" during searching using 
> a filter query but still return the original document.
> 
> The only thing  I know of at the moment is to use field collapsing but I 
> tried the patch on  1.4.1 and it was terribly slow.
> 
> On 3/5/11 4:43 AM, Grant Ingersoll  wrote:
> > See http://wiki.apache.org/solr/Deduplication.  Should be  fairly easy to 
>pull out if you are doing just Lucene.
> >
> > On Mar 5,  2011, at 1:49 AM, Mark wrote:
> >
> >> Is there a way one could  detect duplicates (say by using some unique hash 
>of certain fields) and marking  a document as a duplicate but not remove it.
> >>
> >> Here is an  example:
> >>
> >> Doc 1) This is my test
> >> Doc 2) This  is my test
> >> Doc 3) Another test
> >> Doc 4) This is my  test
> >>
> >> Doc 1 and 3 should be considered unique whereas 2  and 4 should be marked as 
>duplicates (of doc 1).
> >>
> >> Can  this be easily accomplished?
> >>
> >>  ---------------------------------------------------------------------
> >>  To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>  For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >  --------------------------
> > Grant Ingersoll
> > http://www.lucidimagination.com/
> >
> > Search the Lucene  ecosystem docs using Solr/Lucene:
> > http://www.lucidimagination.com/search
> >
> >
> >  ---------------------------------------------------------------------
> > To  unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >  For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> ---------------------------------------------------------------------
> To  unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For  additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 06:41:24 2011
Return-Path: <java-user-return-48917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37718 invoked from network); 9 Mar 2011 06:41:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 06:41:23 -0000
Received: (qmail 67053 invoked by uid 500); 9 Mar 2011 06:41:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67017 invoked by uid 500); 9 Mar 2011 06:41:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 70577 invoked by uid 99); 9 Mar 2011 04:38:28 -0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Date: Tue, 8 Mar 2011 20:38:00 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1299645480309-2653941.post@n3.nabble.com>
In-Reply-To: <4C03CC8D.1060904@r.email.ne.jp>
References: <AANLkTimpa-583pmwOGK2bJNtGnH4aWNcyoiUS0As5Zjs@mail.gmail.com> <4C03CC8D.1060904@r.email.ne.jp>
Subject: Re: phrase query highlighter spans matching
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Koji Sekiguchi wrote:
> 
> SpanScorer implementation has replaced QueryScorer at LUCENE-1685.
>  From contrib/CHANGES.txt:
> 
>   * LUCENE-1685: The position aware SpanScorer has become the default
> scorer
>      for Highlighting. The SpanScorer implementation has replaced 
> QueryScorer
>      and the old term highlighting QueryScorer has been renamed to
>      QueryTermScorer.
> 
> Koji
> 

Ok, 
1. so how do we solve the problem mentioned by Op in versions that don't
have SpanScorer ?
2. where/How do I get the version which has SpanScorer ?
3. How to use it ? Example please ? 

 Regards
- Shrinath. M


--
View this message in context: http://lucene.472066.n3.nabble.com/phrase-query-highlighter-spans-matching-tp828257p2653941.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 10:45:10 2011
Return-Path: <java-user-return-48918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2448 invoked from network); 9 Mar 2011 10:45:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 10:45:09 -0000
Received: (qmail 6243 invoked by uid 500); 9 Mar 2011 10:45:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6136 invoked by uid 500); 9 Mar 2011 10:45:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 86754 invoked by uid 99); 9 Mar 2011 10:31:23 -0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Date: Wed, 9 Mar 2011 02:30:57 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1299666657232-2654706.post@n3.nabble.com>
In-Reply-To: <f2fbc8300605080742j7eab67fn8bbb4b5b9655f5ca@mail.gmail.com>
References: <f2fbc8300605080742j7eab67fn8bbb4b5b9655f5ca@mail.gmail.com>
Subject: Re: spell checker across multiple fields
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, 
can I know, if there is any improvement since 4 years ?
Can we do that now in Lucene 3.0.3 ?

--
View this message in context: http://lucene.472066.n3.nabble.com/spell-checker-across-multiple-fields-tp539392p2654706.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 14:38:50 2011
Return-Path: <java-user-return-48919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85394 invoked from network); 9 Mar 2011 14:38:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 14:38:50 -0000
Received: (qmail 48538 invoked by uid 500); 9 Mar 2011 14:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48500 invoked by uid 500); 9 Mar 2011 14:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48492 invoked by uid 99); 9 Mar 2011 14:38:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 14:38:48 +0000
X-ASF-Spam-Status: No, hits=4.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [68.142.200.121] (HELO web30508.mail.mud.yahoo.com) (68.142.200.121)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Mar 2011 14:38:38 +0000
Received: (qmail 27591 invoked by uid 60001); 9 Mar 2011 14:38:15 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1299681495; bh=SXCttCt5W39woWwMEuzvt/FzU+z0tUdO9HQwRNT8+Ak=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=1jOvgkudurucCU1csND0QVdMyGoqgJ3eTbeo+91YOcoEycD5NEsphcKbRWDx+iWkcFZh+WtEGAuSE9CCxWzco3+yyYcSUUG4Lvg97ejC/v++FqGD5/ayuaV2FJdb2LZ5cHcfEN2sAykzS8IDuL/BLpfF0Q48r3cf5URcnxeiA+s=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=Rc2gpqKJOsMAWHiV03rFQRVGa78RhurxvifEoAG2pJ6yeD7pbIo8BcaPNEAZM8EzD/SM2FP5tyLWfXIyWZvSlIq9jwG3Ts2Ej1GCG0dmoXb4DcPjRnD0sEWeaW6Ry4YDj3S+UQjBhsJbxaiBawWOJpdNFcJ5rXLdWpAvN7RNFjs=;
Message-ID: <668544.26466.qm@web30508.mail.mud.yahoo.com>
X-YMail-OSG: oT1KzD4VM1lB6XvMBX71T7Oa4oiQVUOMZ.EvmJVtTmAeNJY
 HZFGtLd__Pzg9TutOfo5NNAcWA.Gk3qHAgv0RQG1VyQR4a613wrkPPJo7LQO
 npxquNJqo7YtB0WheShgCilntbM2rk1W2u3PKOqULhzCtf_jlC8OzUe.SVsX
 hvuOfVZDwQxDtC.GCfRoHgZSbNMlQUsDMO5fLarwl4FEmwCWzsP2M6vuZCEU
 GyWF8MDMQMSWr1t5h5ISBUXHr8gmhOKHLpPxSES9Yq3v76KwEQ03paB1qia3
 OPkZaOlFyS.yOi7KyOO8-
Received: from [199.203.197.196] by web30508.mail.mud.yahoo.com via HTTP; Wed, 09 Mar 2011 06:38:15 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.292656
Date: Wed, 9 Mar 2011 06:38:15 -0800 (PST)
From: sol myr <solmyr72@yahoo.com>
Subject: "shared fields"?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-448684398-1299681495=:26466"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-448684398-1299681495=:26466
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

I have several documents that share the same (large) searchable data.
For example, say my Documents represent movies, and=A0 2 movies share the s=
ame actorBiography of Brad Pitt (assuming I want =0Ato search movies by act=
orBiography words, far-fetched as it might seem):
=0A
Document1:=A0=20
- movieName=3D"Benjamin Button"
- actorBiography=3D"Brad Pitt was born in 1963 in Oklahoma and raised in...=
"
Document2:=A0=20
=0A- movieName=3D"Ocean 11"
=0A- actorBiography=3D"Brad Pitt was born in 1963 in Oklahoma and raised in=
..."

My question: I'm afraid my index files will become very large, due to the d=
uplication of information. Is there any trick that would keep my index file=
s in a reasonable size, while still allowing the functionality of "search m=
ovie by actorBiography"?
Thanks :)
=0A=0A=0A      
--0-448684398-1299681495=:26466--

From java-user-return-48920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 14:49:04 2011
Return-Path: <java-user-return-48920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22760 invoked from network); 9 Mar 2011 14:49:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 14:49:04 -0000
Received: (qmail 70618 invoked by uid 500); 9 Mar 2011 14:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70564 invoked by uid 500); 9 Mar 2011 14:49:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70556 invoked by uid 99); 9 Mar 2011 14:49:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 14:49:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 14:48:54 +0000
Received: by qwd6 with SMTP id 6so498234qwd.35
        for <java-user@lucene.apache.org>; Wed, 09 Mar 2011 06:48:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=pbUzcVJPFHj1sNGYe+LzlDyeC4pPHC8Z9sqMK6HuQO4=;
        b=nsw1O92Z5ekS+/s5l3uMCicLSFpQssIRTk0uHulr2tRqGTSpJcVLw8gC2xryfYqjEo
         z0NfjFrsrNQax/RB41LXAJaQzMKLzaUMVXjOKVWkvcTLfH6rOOS48dJzZOoM83W8W5KE
         /VtZIbmdwbCCl3SAoWcwIf49ScHaoh0eN+0YU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=hInNU8pLbBSQZa2ZNF/qf8yao6Mp5zkQZVIZU+mkzhP19/4oFA2mapK5tqGg7XSxnc
         7PVHp8/e2K7kGgFWrheTJMWuplwgo+eVipQONRuH16JA2B3o9XKN54F4MTyfNHFIrLir
         Gc+U/k9l5dMuZFXZa88aHnEhzWKELlOjd05xk=
MIME-Version: 1.0
Received: by 10.224.27.67 with SMTP id h3mr441716qac.39.1299682113674; Wed, 09
 Mar 2011 06:48:33 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Wed, 9 Mar 2011 06:48:33 -0800 (PST)
In-Reply-To: <668544.26466.qm@web30508.mail.mud.yahoo.com>
References: <668544.26466.qm@web30508.mail.mud.yahoo.com>
Date: Wed, 9 Mar 2011 09:48:33 -0500
Message-ID: <AANLkTimOzvbm8ne9Kp3zKxt8XgPTfn2YZSbXdMfn7Q1U@mail.gmail.com>
Subject: Re: "shared fields"?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

How large is (large)? What machines are you intending to run this on?

In general, though, don't worry about index size until you actually have so=
me
numbers to deal with. Solr generally has resource issues based on the numbe=
r
of #unique# terms in an index. So repeating the same thing in a bunch of
documents isn't as bad as you'd suppose.

If you *store* fields, certain files in your index will grow linearly,
but these aren't
the ones that are used for searching. *.fdx, *.fdt, *.fnm in
particular will grow.

So I'd go ahead and just replicate the data and then monitor your system fo=
r, in
particular, cache issues (see the admin/stats page). Normalizing your data
is tricky in Solr, so don't do it unless it proves necessary IMO...

Best
Erick

On Wed, Mar 9, 2011 at 9:38 AM, sol myr <solmyr72@yahoo.com> wrote:
> Hi,
>
> I have several documents that share the same (large) searchable data.
> For example, say my Documents represent movies, and=A0 2 movies share the=
 same actorBiography of Brad Pitt (assuming I want
> to search movies by actorBiography words, far-fetched as it might seem):
>
>
> Document1:
> - movieName=3D"Benjamin Button"
> - actorBiography=3D"Brad Pitt was born in 1963 in Oklahoma and raised in.=
.."
> Document2:
>
> - movieName=3D"Ocean 11"
>
> - actorBiography=3D"Brad Pitt was born in 1963 in Oklahoma and raised in.=
.."
>
> My question: I'm afraid my index files will become very large, due to the=
 duplication of information. Is there any trick that would keep my index fi=
les in a reasonable size, while still allowing the functionality of "search=
 movie by actorBiography"?
> Thanks :)
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 19:17:47 2011
Return-Path: <java-user-return-48921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2430 invoked from network); 9 Mar 2011 19:17:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 19:17:47 -0000
Received: (qmail 77655 invoked by uid 500); 9 Mar 2011 19:17:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77614 invoked by uid 500); 9 Mar 2011 19:17:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77606 invoked by uid 99); 9 Mar 2011 19:17:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 19:17:44 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [188.121.53.2] (HELO n1plout04-02.prod.ams1.secureserver.net) (188.121.53.2)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Mar 2011 19:17:35 +0000
Received: (qmail 23110 invoked from network); 9 Mar 2011 19:17:13 -0000
Received: from unknown (95.35.145.197)
  by n1plout04-02.prod.ams1.secureserver.net (188.121.53.2) with ESMTP; 09 Mar 2011 19:17:12 -0000
Message-ID: <4D77D238.8040804@code972.com>
Date: Wed, 09 Mar 2011 21:17:12 +0200
From: Itamar Syn-Hershko <itamar@code972.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Recent Content - Lucene vs. DB SELECT / DB Triggers / Memcached
References: <4D71288C.7020209@brightminds.org>
In-Reply-To: <4D71288C.7020209@brightminds.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

(sorry for picking this up so late...)


This sounds like a perfect fit for document DBs like CouchDB and MongoDB 
- based on your architecture and data structure.


They are designed for multi-server applications, and use Map/Reduce 
which will give you Lucene operations directly from your DB, no DB-index 
sync necessary.


On 04/03/2011 19:59, BrightMinds Dev wrote:

> We are developing a large 4-tier multi-server app that will accept
> Questions and related Comments supplied by users.  There will be
> 100K's of users that live in Shards.  Also, ideally there would be no
> delay in adding content and seeing it in recent results but to make
> the system performant a delay is acceptable.
>
> On the main page we will have 2 panels with the 5 most recent
> site-wide Questions and 5 most recent site-wide Comments.
> On the user's profile page we would display similar panels except they
> would only consist of links that pertain to that user.
>
>
> There are essentially 4 design choices:
>
> 1) Do periodic DB SELECT calls and cache for site-wide content "AND"
> do live DB SELECT calls for user specific content.  Not wonderful but ok.
>
> 2) Use DB triggers to manage tables for site-wide content, though as
> content is sharded we would need to aggregate and resort based on
> results obtained from all shards "AND" do live DB SELECT calls for
> user specific content.  Sounds awful... .
>
> 3) Use a solution like memcached however having multiple servers add
> and prune site-wide content to cache seems like it would be a synchro
> nightmare "AND" do live DB SELECT calls for user specific content.
> Nix that... .
>
> 4) Use Lucene to obtain most recent site-wide content (and better yet
> push it into memcached) "AND" use Lucene to retrieve live user
> specific content
>
>
> Is this a natural fit for Lucene?
>
> I understood Lucene is very performant but is finding the last X
> documents based on a long (timestamp) something that it would do very
> well?
>
> Or is Lucene not appropriate and should we be considering something else?
>
> Personally, I think Lucene is the best choice... but would like to
> hear the thoughts of others.
>
> Thanks,
>
> --Nikolaos
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 09 19:45:02 2011
Return-Path: <java-user-return-48922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91932 invoked from network); 9 Mar 2011 19:45:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Mar 2011 19:45:02 -0000
Received: (qmail 37597 invoked by uid 500); 9 Mar 2011 19:44:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37559 invoked by uid 500); 9 Mar 2011 19:44:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37551 invoked by uid 99); 9 Mar 2011 19:44:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 19:44:59 +0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.26 is neither permitted nor denied by domain of wojtekg212@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2011 19:44:53 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <wojtekg212@gmail.com>)
	id 1PxPJA-0002JN-E8
	for java-user@lucene.apache.org; Wed, 09 Mar 2011 11:44:32 -0800
Date: Wed, 9 Mar 2011 11:44:32 -0800 (PST)
From: bart_212 <wojtekg212@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1299699872430-2656875.post@n3.nabble.com>
Subject: reopen with optimize and FileNotFoundException
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
I have two web applications that uses lucene 2.3.2. Both share the same
index and can write or read. Writing is synchronized based on file system to
allow only one IndexWriter to work at the moment. There can be multiple
IndexReader. IndexReader is stored and before searching, there is done
#reopen on it. IndexWriter can add/delete group of documents and can
optimize the index while searching is performed (multiple threads can
search).
I'm wondering if these operations are thread safe and don't corrupt the
index? I have observed the following exception when one IndexWriter was
adding  and one IndexReader was reopened to search:

java.io.FileNotFoundException: /tmp/test/index/_7y.tis
RandomAccessFile.open(String, int) line: not available [native method]
FSDirectory$FSIndexInput$Descriptor(RandomAccessFile).(File, String) line:
212
FSDirectory$FSIndexInput$Descriptor.(File, String) line: 506
FSDirectory$FSIndexInput.(File, int) line: 536
FSDirectory.openInput(String, int) line: 445
TermInfosReader.(Directory, String, FieldInfos, int) line: 61
SegmentReader.initialize(SegmentInfo, int, boolean) line: 317
SegmentReader.get(Directory, SegmentInfo, SegmentInfos, boolean, boolean,
int, boolean) line: 262
SegmentReader.get(SegmentInfo) line: 197
MultiSegmentReader.(Directory, SegmentInfos, boolean, SegmentReader[],
int[], Map) line: 109
MultiSegmentReader.doReopen(SegmentInfos) line: 203
DirectoryIndexReader$2.doBody(String) line: 98
DirectoryIndexReader$2(SegmentInfos$FindSegmentsFile).run() line: 636
MultiSegmentReader(DirectoryIndexReader).reopen() line: 92
IndexReaderManager.reopenReader(FileProxy, IndexReader) line: 92
IndexReaderManager.getIndexReader(FileProxy) line: 76
IndexSearcherFactory.createIndexSearcher(FileProxy) line: 66

This exception is caught inside, however is it ok that the file is missing
or maybe there is some problem with usage? Please clarify.

--
View this message in context: http://lucene.472066.n3.nabble.com/reopen-with-optimize-and-FileNotFoundException-tp2656875p2656875.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 09:36:45 2011
Return-Path: <java-user-return-48923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78917 invoked from network); 10 Mar 2011 09:36:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 09:36:45 -0000
Received: (qmail 1444 invoked by uid 500); 10 Mar 2011 09:36:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1386 invoked by uid 500); 10 Mar 2011 09:36:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1378 invoked by uid 99); 10 Mar 2011 09:36:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 09:36:41 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Mar 2011 09:36:36 +0000
Received: (qmail 10671 invoked by uid 508); 10 Mar 2011 09:36:11 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=AsAjqKukRhKo/1aDqeGvxnohyXkJwu8+Tafc496eL33v1mSyi/qmgLf+B5HhYwHH  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 10 Mar 2011 09:36:11 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
Subject: document object 
Date: Thu, 10 Mar 2011 15:01:10 +0530
Message-ID: <002f01cbdf05$e43c2ad0$acb48070$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0030_01CBDF33.FDF466D0"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvfBeOVbL5R17qcRvSwnBYSGoqsIw==
Content-Language: en-us

------=_NextPart_000_0030_01CBDF33.FDF466D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 

Hi,

 

I am facing the  problem 

 

The line in the loop is going very slow giving me a performance hit

  for (int i = 0; i < hits.length; ++i) {

                

                int docId = hits[i].doc;

                Document d = searcher.doc(docId);  //problem

}

 

How can I improve this. Please give me an example of the improved code

 

Thanks,

Suman

 

 

Ps :

In one of post Erick said ..

 

this line is really suspicious: 

Document document = this.indexReader.document(doc) 

>From the Javadoc for HitCollector.collect: 

Note: This is called in an inner search loop. For good search performance, 
implementations of this method should not call 
Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/search/
Searcher.html#doc%28int%29>or 
IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene
/index/IndexReader.html#document%28int%29>on 
every document number encountered. Doing so can slow searches by an 
order 
of magnitude or more.

 

 

 

 


------=_NextPart_000_0030_01CBDF33.FDF466D0--



From java-user-return-48924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 09:41:43 2011
Return-Path: <java-user-return-48924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79405 invoked from network); 10 Mar 2011 09:41:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 09:41:42 -0000
Received: (qmail 4375 invoked by uid 500); 10 Mar 2011 09:41:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4332 invoked by uid 500); 10 Mar 2011 09:41:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4324 invoked by uid 99); 10 Mar 2011 09:41:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 09:41:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 09:41:35 +0000
Received: by vws20 with SMTP id 20so1699845vws.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 01:41:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=FeOJMzdOqOFi/bidig5K8VGKpYTYIZ63E/KDaMgGIbE=;
        b=tvpA6FGoh9EUFbfpkmB6FQr5uR1WGgOO862MDzQpApMlX5o5fCoeDSI8pCamzBajSg
         jJb0ram6FG0MXPP4OdED3uKJdXNaSeXrBiKvnF06FKEOCbYJ+UprHED8iKO90lRz+xiG
         CR50Z0IWbqfbB59QJVwa4KP+NGt06VLv2WhHY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=HXkcGLgrQ7tKNqUtQCCxjSSkIyaWbC9JE+ojVGzfCiqkJff9qp49+cRUa9lC9dhYOP
         jWxKicN/JWAdvcHG8xyLcv3gaq3WtNrL2wtOQbdqJlksMXPUrFmbDk0Rhi6IiMjnRDnR
         H5xVD/AEG1tsr7bwoOzk+CHUXvkj/f9uEmfNI=
Received: by 10.52.95.135 with SMTP id dk7mr3057701vdb.93.1299750074052; Thu,
 10 Mar 2011 01:41:14 -0800 (PST)
MIME-Version: 1.0
Received: by 10.52.163.193 with HTTP; Thu, 10 Mar 2011 01:40:54 -0800 (PST)
In-Reply-To: <7293228395167128935@unknownmsgid>
References: <7293228395167128935@unknownmsgid>
From: Anshum <anshumg@gmail.com>
Date: Thu, 10 Mar 2011 15:10:54 +0530
Message-ID: <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
Subject: Re: document object
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf307cfe9e75f02c049e1da5d1

--20cf307cfe9e75f02c049e1da5d1
Content-Type: text/plain; charset=ISO-8859-1

Hi Suman,
Do you need to load/use all fields that you have stored in the index? If
that's not the case I'd suggest you to use the


public Document
<http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/Document.html>
*doc*(int i, FieldSelector fieldSelector)

http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/IndexSearcher.html#doc(int,
org.apache.lucene.document.FieldSelector)
<http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/IndexSearcher.html#doc(int,
org.apache.lucene.document.FieldSelector)>function .
This should help you. Also, otherwise if you're using very selective field
which may be used though a FieldCache it'd be a nice thing to do.

Hope that helps.
--
Anshum Gupta
http://ai-cafe.blogspot.com


On Thu, Mar 10, 2011 at 3:01 PM, suman.holani <suman.holani@zapak.co.in>wrote:

>
>
> Hi,
>
>
>
> I am facing the  problem
>
>
>
> The line in the loop is going very slow giving me a performance hit
>
>  for (int i = 0; i < hits.length; ++i) {
>
>
>
>                int docId = hits[i].doc;
>
>                Document d = searcher.doc(docId);  //problem
>
> }
>
>
>
> How can I improve this. Please give me an example of the improved code
>
>
>
> Thanks,
>
> Suman
>
>
>
>
>
> Ps :
>
> In one of post Erick said ..
>
>
>
> this line is really suspicious:
>
> Document document = this.indexReader.document(doc)
>
> From the Javadoc for HitCollector.collect:
>
> Note: This is called in an inner search loop. For good search performance,
> implementations of this method should not call
>
> Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/search/
> Searcher.html#doc%28int%29>or
>
> IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene
> /index/IndexReader.html#document%28int%29>on
> every document number encountered. Doing so can slow searches by an
> order
> of magnitude or more.
>
>
>
>
>
>
>
>
>
>

--20cf307cfe9e75f02c049e1da5d1--

From java-user-return-48925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 09:48:16 2011
Return-Path: <java-user-return-48925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9245 invoked from network); 10 Mar 2011 09:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 09:48:16 -0000
Received: (qmail 15517 invoked by uid 500); 10 Mar 2011 09:48:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15480 invoked by uid 500); 10 Mar 2011 09:48:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15472 invoked by uid 99); 10 Mar 2011 09:48:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 09:48:13 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Mar 2011 09:48:08 +0000
Received: (qmail 14320 invoked by uid 508); 10 Mar 2011 09:47:45 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=ON55uv+MiVSgy8LMYTC09eiLrm2Fy8WwbMom4HKiMAkuD8NmFvHRxJBcBVE7Q0Yo  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 10 Mar 2011 09:47:45 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
References: <7293228395167128935@unknownmsgid> <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
In-Reply-To: <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
Subject: RE: document object
Date: Thu, 10 Mar 2011 15:12:45 +0530
Message-ID: <003a01cbdf07$8255fe70$8701fb50$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvfB17ktrfcdDVwS12+IwWjVbgfPgAAH/+w
Content-Language: en-us

Hi Anshum,

Thanks for prompt reply.

I am only storing the fields in index , which I want to get/fetch after
search.

The area I am not sure is when we call searcher/reader class to initialize
Document object is heavy?
Can we use something else in that place, which doesnot needs to load all doc
again.

Regards,
Suman


-----Original Message-----
From: Anshum [mailto:anshumg@gmail.com] 
Sent: Thursday, March 10, 2011 3:11 PM
To: java-user@lucene.apache.org
Subject: Re: document object

Hi Suman,
Do you need to load/use all fields that you have stored in the index? If
that's not the case I'd suggest you to use the


public Document
<http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/Doc
ument.html>
*doc*(int i, FieldSelector fieldSelector)

http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/IndexS
earcher.html#doc(int,
org.apache.lucene.document.FieldSelector)
<http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Index
Searcher.html#doc(int,
org.apache.lucene.document.FieldSelector)>function .
This should help you. Also, otherwise if you're using very selective field
which may be used though a FieldCache it'd be a nice thing to do.

Hope that helps.
--
Anshum Gupta
http://ai-cafe.blogspot.com


On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
<suman.holani@zapak.co.in>wrote:

>
>
> Hi,
>
>
>
> I am facing the  problem
>
>
>
> The line in the loop is going very slow giving me a performance hit
>
>  for (int i = 0; i < hits.length; ++i) {
>
>
>
>                int docId = hits[i].doc;
>
>                Document d = searcher.doc(docId);  //problem
>
> }
>
>
>
> How can I improve this. Please give me an example of the improved code
>
>
>
> Thanks,
>
> Suman
>
>
>
>
>
> Ps :
>
> In one of post Erick said ..
>
>
>
> this line is really suspicious:
>
> Document document = this.indexReader.document(doc)
>
> From the Javadoc for HitCollector.collect:
>
> Note: This is called in an inner search loop. For good search performance,
> implementations of this method should not call
>
>
Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/search/
> Searcher.html#doc%28int%29>or
>
>
IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene
> /index/IndexReader.html#document%28int%29>on
> every document number encountered. Doing so can slow searches by an
> order
> of magnitude or more.
>
>
>
>
>
>
>
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 10:22:52 2011
Return-Path: <java-user-return-48926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9705 invoked from network); 10 Mar 2011 10:22:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 10:22:51 -0000
Received: (qmail 57985 invoked by uid 500); 10 Mar 2011 10:22:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57948 invoked by uid 500); 10 Mar 2011 10:22:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57940 invoked by uid 99); 10 Mar 2011 10:22:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 10:22:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 10:22:42 +0000
Received: by vws20 with SMTP id 20so1725859vws.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 02:22:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=BcW0R620NdAjq0NSPBC0YOTAV6vmeVTcSBCJOLRp+lU=;
        b=FxRuFc4ApBpe159K7EPCjxj8RpFruYrz3VRetghZjTNcpUiVQqqfV7qZHWq7M4ll08
         QgKVIbuZ5pC9z1mkKJnT0dgvRrIh+Ry4HqxwB4KvJtk05T+fgFQ6ofC6vNK0kjMG2T3h
         77XV8K0oKlS3s2Ot1b4chWA7ttrRkJcxgvDQ0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=ipaYkd+mEcpHmimKjd58sQlaeljHAoJxRhkjlF/nIG5R7dlWD506YAQt8kJsVtr1J7
         882jWyX0l5dV3zuamMJhLpetubD0NtBZezv/QABWCGmXF5KFo27wsTf9kFxfdPYQ5agy
         y/ZiY4RUBKGA8wIAkGogYU6+20HpPKvZkIRcQ=
Received: by 10.52.93.177 with SMTP id cv17mr7923362vdb.133.1299752541106;
 Thu, 10 Mar 2011 02:22:21 -0800 (PST)
MIME-Version: 1.0
Received: by 10.52.163.193 with HTTP; Thu, 10 Mar 2011 02:22:01 -0800 (PST)
In-Reply-To: <5262941836649978873@unknownmsgid>
References: <7293228395167128935@unknownmsgid> <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
 <5262941836649978873@unknownmsgid>
From: Anshum <anshumg@gmail.com>
Date: Thu, 10 Mar 2011 15:52:01 +0530
Message-ID: <AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com>
Subject: Re: document object
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3071c9dc823184049e1e3850
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3071c9dc823184049e1e3850
Content-Type: text/plain; charset=ISO-8859-1

Depends on your data. I know that's a vague answer but that's the point.
What you could do is use FieldCache if memory and data let you do so. Would
it?

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Thu, Mar 10, 2011 at 3:12 PM, suman.holani <suman.holani@zapak.co.in>wrote:

> Hi Anshum,
>
> Thanks for prompt reply.
>
> I am only storing the fields in index , which I want to get/fetch after
> search.
>
> The area I am not sure is when we call searcher/reader class to initialize
> Document object is heavy?
> Can we use something else in that place, which doesnot needs to load all
> doc
> again.
>
> Regards,
> Suman
>
>
> -----Original Message-----
> From: Anshum [mailto:anshumg@gmail.com]
> Sent: Thursday, March 10, 2011 3:11 PM
> To: java-user@lucene.apache.org
> Subject: Re: document object
>
> Hi Suman,
> Do you need to load/use all fields that you have stored in the index? If
> that's not the case I'd suggest you to use the
>
>
> public Document
> <
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/Doc
> ument.html>
> *doc*(int i, FieldSelector fieldSelector)
>
>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/IndexS
> earcher.html#doc(int,
> org.apache.lucene.document.FieldSelector)
> <
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Index
> Searcher.html#doc(int,
> org.apache.lucene.document.FieldSelector)>function .
> This should help you. Also, otherwise if you're using very selective field
> which may be used though a FieldCache it'd be a nice thing to do.
>
> Hope that helps.
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
> <suman.holani@zapak.co.in>wrote:
>
> >
> >
> > Hi,
> >
> >
> >
> > I am facing the  problem
> >
> >
> >
> > The line in the loop is going very slow giving me a performance hit
> >
> >  for (int i = 0; i < hits.length; ++i) {
> >
> >
> >
> >                int docId = hits[i].doc;
> >
> >                Document d = searcher.doc(docId);  //problem
> >
> > }
> >
> >
> >
> > How can I improve this. Please give me an example of the improved code
> >
> >
> >
> > Thanks,
> >
> > Suman
> >
> >
> >
> >
> >
> > Ps :
> >
> > In one of post Erick said ..
> >
> >
> >
> > this line is really suspicious:
> >
> > Document document = this.indexReader.document(doc)
> >
> > From the Javadoc for HitCollector.collect:
> >
> > Note: This is called in an inner search loop. For good search
> performance,
> > implementations of this method should not call
> >
> >
>
> Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/search/
> > Searcher.html#doc%28int%29>or
> >
> >
>
> IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene
> > /index/IndexReader.html#document%28int%29>on
> > every document number encountered. Doing so can slow searches by an
> > order
> > of magnitude or more.
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3071c9dc823184049e1e3850--

From java-user-return-48927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 10:55:13 2011
Return-Path: <java-user-return-48927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19392 invoked from network); 10 Mar 2011 10:55:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 10:55:12 -0000
Received: (qmail 4208 invoked by uid 500); 10 Mar 2011 10:55:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4171 invoked by uid 500); 10 Mar 2011 10:55:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4159 invoked by uid 99); 10 Mar 2011 10:55:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 10:55:10 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 10:55:03 +0000
Received: by iyj12 with SMTP id 12so2208018iyj.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 02:54:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=2sbeXH5D07Sa/vSpYNLHdavHSqScG/bq2Rr8YBxVQIk=;
        b=B8Ab27KyzpGNeeel7tYXzgOvDB2HAXmYQLYJbtzE7vKtb+qPvuBBCytxxoP8Nrbn+g
         Hpavuffdc0bd1PFsPiL2ERCdfXeevkb2uIIdgsJquKVVTVFFJIKBSwf66AUMxLpsl4bg
         rkDGPbwn0SisHsyMPsFSZSZv0RwkJwz7bv+mU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=k7zaLtaJOOAy0CnfaHm5xBroHx5yzcruVzCMJvzDhZHMgLWOMl6VpIfaIzhe3Glcy+
         sX2AFjDKcEyyyegi/zdZg/QB7+/nJ03KQqsP4F2PinNnuwdoq/m6SjQf3jnnmIgzFHk4
         gwbTrooU92pFRLpZyT493zyQQP/0JO3FhnAPU=
Received: by 10.231.5.136 with SMTP id 8mr4521321ibv.115.1299754482122; Thu,
 10 Mar 2011 02:54:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Thu, 10 Mar 2011 02:54:22 -0800 (PST)
In-Reply-To: <1299699872430-2656875.post@n3.nabble.com>
References: <1299699872430-2656875.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 10 Mar 2011 10:54:22 +0000
Message-ID: <AANLkTiniCTGKe+cYerEEwr_CyJJpg2-1Yqv_xAMShCud@mail.gmail.com>
Subject: Re: reopen with optimize and FileNotFoundException
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Usage sounds OK, but missing files on IndexReader.reopen definitely
doesn't sound OK.

2.3.2 is ancient and there have been many improvements since then.
I'd upgrade if possible.

You could also try losing the optimizes.  On recent releases you don't
really need to use it. Not sure about 2.3.2 though.


--
Ian.


On Wed, Mar 9, 2011 at 7:44 PM, bart_212 <wojtekg212@gmail.com> wrote:
> Hi,
> I have two web applications that uses lucene 2.3.2. Both share the same
> index and can write or read. Writing is synchronized based on file system=
 to
> allow only one IndexWriter to work at the moment. There can be multiple
> IndexReader. IndexReader is stored and before searching, there is done
> #reopen on it. IndexWriter can add/delete group of documents and can
> optimize the index while searching is performed (multiple threads can
> search).
> I'm wondering if these operations are thread safe and don't corrupt the
> index? I have observed the following exception when one IndexWriter was
> adding =A0and one IndexReader was reopened to search:
>
> java.io.FileNotFoundException: /tmp/test/index/_7y.tis
> RandomAccessFile.open(String, int) line: not available [native method]
> FSDirectory$FSIndexInput$Descriptor(RandomAccessFile).(File, String) line=
:
> 212
> FSDirectory$FSIndexInput$Descriptor.(File, String) line: 506
> FSDirectory$FSIndexInput.(File, int) line: 536
> FSDirectory.openInput(String, int) line: 445
> TermInfosReader.(Directory, String, FieldInfos, int) line: 61
> SegmentReader.initialize(SegmentInfo, int, boolean) line: 317
> SegmentReader.get(Directory, SegmentInfo, SegmentInfos, boolean, boolean,
> int, boolean) line: 262
> SegmentReader.get(SegmentInfo) line: 197
> MultiSegmentReader.(Directory, SegmentInfos, boolean, SegmentReader[],
> int[], Map) line: 109
> MultiSegmentReader.doReopen(SegmentInfos) line: 203
> DirectoryIndexReader$2.doBody(String) line: 98
> DirectoryIndexReader$2(SegmentInfos$FindSegmentsFile).run() line: 636
> MultiSegmentReader(DirectoryIndexReader).reopen() line: 92
> IndexReaderManager.reopenReader(FileProxy, IndexReader) line: 92
> IndexReaderManager.getIndexReader(FileProxy) line: 76
> IndexSearcherFactory.createIndexSearcher(FileProxy) line: 66
>
> This exception is caught inside, however is it ok that the file is missin=
g
> or maybe there is some problem with usage? Please clarify.
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/reopen-w=
ith-optimize-and-FileNotFoundException-tp2656875p2656875.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 13:38:26 2011
Return-Path: <java-user-return-48928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70575 invoked from network); 10 Mar 2011 13:38:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 13:38:25 -0000
Received: (qmail 13036 invoked by uid 500); 10 Mar 2011 13:38:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12976 invoked by uid 500); 10 Mar 2011 13:38:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12945 invoked by uid 99); 10 Mar 2011 13:38:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 13:38:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of karl.wright@nokia.com designates 147.243.128.24 as permitted sender)
Received: from [147.243.128.24] (HELO mgw-da01.nokia.com) (147.243.128.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 13:38:13 +0000
Received: from vaebh102.NOE.Nokia.com (vaebh102.europe.nokia.com [10.160.244.23])
	by mgw-da01.nokia.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id p2ADboYw015286
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 15:37:51 +0200
Received: from smtp.mgd.nokia.com ([65.54.30.7]) by vaebh102.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 10 Mar 2011 15:37:42 +0200
Received: from 008-AM1MMR1-004.mgdnok.nokia.com (65.54.30.59) by
 NOK-AM1MHUB-03.mgdnok.nokia.com (65.54.30.7) with Microsoft SMTP Server (TLS)
 id 8.2.255.0; Thu, 10 Mar 2011 14:37:41 +0100
Received: from 008-AM1MPN1-037.mgdnok.nokia.com ([169.254.7.42]) by
 008-AM1MMR1-004.mgdnok.nokia.com ([65.54.30.59]) with mapi id 14.01.0270.002;
 Thu, 10 Mar 2011 14:37:41 +0100
From: <karl.wright@nokia.com>
To: <java-user@lucene.apache.org>
Subject: Re: ManifoldCF in Action
Thread-Topic: Re: ManifoldCF in Action
Thread-Index: AcvfKFNc7UI0+06jRWOtvin1lrk4XQ==
Date: Thu, 10 Mar 2011 13:37:41 +0000
Message-ID: <0C2ADA45C80B224FAFA38F5DEE16A16E055399@008-AM1MPN1-037.mgdnok.nokia.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.18.51.208]
Content-Type: multipart/alternative;
	boundary="_000_0C2ADA45C80B224FAFA38F5DEE16A16E055399008AM1MPN1037mgdn_"
MIME-Version: 1.0
X-OriginalArrivalTime: 10 Mar 2011 13:37:42.0461 (UTC) FILETIME=[54CD2ED0:01CBDF28]
X-Nokia-AV: Clean

--_000_0C2ADA45C80B224FAFA38F5DEE16A16E055399008AM1MPN1037mgdn_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

>>>>>>
Karl,

can you give, in one paragraph, the difference between ManifoldCF and DIH?

thanks in advance

paul
<<<<<<

I am unfamiliar with DIH as an acronym in either the content management or =
crawling infrastructure space.  Can you clarify what you mean?

Karl




--_000_0C2ADA45C80B224FAFA38F5DEE16A16E055399008AM1MPN1037mgdn_--

From java-user-return-48929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 14:16:12 2011
Return-Path: <java-user-return-48929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77902 invoked from network); 10 Mar 2011 14:16:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 14:16:11 -0000
Received: (qmail 77341 invoked by uid 500); 10 Mar 2011 14:16:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77281 invoked by uid 500); 10 Mar 2011 14:16:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77273 invoked by uid 99); 10 Mar 2011 14:16:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 14:16:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 14:16:02 +0000
Received: by qwd6 with SMTP id 6so1507877qwd.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 06:15:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=n6Vt3vvx2yIzM0/NZvCDpICWvaG7mrJ1FY8VCEiXQT0=;
        b=WUfDygAU2jVg7LAAiglWxNZ2svBUWfhlglUmO28tS5vbJXk1Q5K0Ehu5EpVKiDh5zA
         mxH9OvGjbOdT3SLG1ihN61hU0p9fNnVEquCc9pIfXx7iE5i66lnaPfZD6io+2qrmj1Q0
         bafvlIq9GdamytecNFzwBEkOapg+EZitV2a5Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Cd6jVcmkRJq8S4HIJ9nYg08BrXK101x00gFhpTRAjcL0Cq17VkgoHNNgzZBmrjn+S3
         dVIVJx6j/of1ye+6vkJuW4YfGB0/gUjMrP3/+eZ7vwAxfGKeDqMnrqY9Q+C94eQ1L7kz
         py73ZG5ndR7pmU2qnnF4i5NqxZ6tNJF6tCo9Q=
MIME-Version: 1.0
Received: by 10.229.78.164 with SMTP id l36mr6307097qck.218.1299766541466;
 Thu, 10 Mar 2011 06:15:41 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Thu, 10 Mar 2011 06:15:40 -0800 (PST)
In-Reply-To: <AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com>
References: <7293228395167128935@unknownmsgid>
	<AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
	<5262941836649978873@unknownmsgid>
	<AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com>
Date: Thu, 10 Mar 2011 09:15:40 -0500
Message-ID: <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com>
Subject: Re: document object
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

If you're loading 100,000 documents, you can expect it to be slow. If
you're loading 10 documents, it should be quite fast... So how big is
hits.length?

And what version of Lucene are you using? The Hits object has been
deprecated for quite some time I believe.....

The problem here is that you're loading the entire result set. This is
rarely the right thing to do, which is why paging is used normally.

Why do you need to load the entire result set? That seems to be the
crux of the issue.

Best
Erick

On Thu, Mar 10, 2011 at 5:22 AM, Anshum <anshumg@gmail.com> wrote:
> Depends on your data. I know that's a vague answer but that's the point.
> What you could do is use FieldCache if memory and data let you do so. Wou=
ld
> it?
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Thu, Mar 10, 2011 at 3:12 PM, suman.holani <suman.holani@zapak.co.in>w=
rote:
>
>> Hi Anshum,
>>
>> Thanks for prompt reply.
>>
>> I am only storing the fields in index , which I want to get/fetch after
>> search.
>>
>> The area I am not sure is when we call searcher/reader class to initiali=
ze
>> Document object is heavy?
>> Can we use something else in that place, which doesnot needs to load all
>> doc
>> again.
>>
>> Regards,
>> Suman
>>
>>
>> -----Original Message-----
>> From: Anshum [mailto:anshumg@gmail.com]
>> Sent: Thursday, March 10, 2011 3:11 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: document object
>>
>> Hi Suman,
>> Do you need to load/use all fields that you have stored in the index? If
>> that's not the case I'd suggest you to use the
>>
>>
>> public Document
>> <
>> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/=
Doc
>> ument.html>
>> *doc*(int i, FieldSelector fieldSelector)
>>
>>
>> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/In=
dexS
>> earcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)
>> <
>> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/In=
dex
>> Searcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)>function .
>> This should help you. Also, otherwise if you're using very selective fie=
ld
>> which may be used though a FieldCache it'd be a nice thing to do.
>>
>> Hope that helps.
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
>> <suman.holani@zapak.co.in>wrote:
>>
>> >
>> >
>> > Hi,
>> >
>> >
>> >
>> > I am facing the =A0problem
>> >
>> >
>> >
>> > The line in the loop is going very slow giving me a performance hit
>> >
>> > =A0for (int i =3D 0; i < hits.length; ++i) {
>> >
>> >
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0int docId =3D hits[i].doc;
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document d =3D searcher.doc(docId); =A0=
//problem
>> >
>> > }
>> >
>> >
>> >
>> > How can I improve this. Please give me an example of the improved code
>> >
>> >
>> >
>> > Thanks,
>> >
>> > Suman
>> >
>> >
>> >
>> >
>> >
>> > Ps :
>> >
>> > In one of post Erick said ..
>> >
>> >
>> >
>> > this line is really suspicious:
>> >
>> > Document document =3D this.indexReader.document(doc)
>> >
>> > From the Javadoc for HitCollector.collect:
>> >
>> > Note: This is called in an inner search loop. For good search
>> performance,
>> > implementations of this method should not call
>> >
>> >
>>
>> Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/sea=
rch/
>> > Searcher.html#doc%28int%29>or
>> >
>> >
>>
>> IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lu=
cene
>> > /index/IndexReader.html#document%28int%29>on
>> > every document number encountered. Doing so can slow searches by an
>> > order
>> > of magnitude or more.
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 14:26:09 2011
Return-Path: <java-user-return-48930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13224 invoked from network); 10 Mar 2011 14:26:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 14:26:09 -0000
Received: (qmail 96459 invoked by uid 500); 10 Mar 2011 14:26:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96420 invoked by uid 500); 10 Mar 2011 14:26:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96412 invoked by uid 99); 10 Mar 2011 14:26:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 14:26:06 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Mar 2011 14:26:05 +0000
Received: (qmail 11948 invoked by uid 99); 10 Mar 2011 14:25:45 -0000
Received: from localhost.apache.org (HELO [10.0.0.13]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 14:25:45 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Detecting duplicates
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <4D72E4D1.2030904@gmail.com>
Date: Thu, 10 Mar 2011 09:25:44 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <AF71AFCE-A51E-4B7A-8792-AD9C5F5AAE7F@apache.org>
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org> <4D72E4D1.2030904@gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)


On Mar 5, 2011, at 8:35 PM, Mark wrote:

> I'm familiar with Deduplication however I do not wish to remove my =
duplicates and my needs are slightly different. I would like to mark the =
first document with signature 'xyz' as unique but the next one as a =
duplicate. This way I can filter out "duplicates" during searching using =
a filter query but still return the original document.

My understanding is that you can have it mark duplicates. =20

>=20
> The only thing I know of at the moment is to use field collapsing but =
I tried the patch on 1.4.1 and it was terribly slow.
>=20
> On 3/5/11 4:43 AM, Grant Ingersoll wrote:
>> See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy =
to pull out if you are doing just Lucene.
>>=20
>> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>>=20
>>> Is there a way one could detect duplicates (say by using some unique =
hash of certain fields) and marking a document as a duplicate but not =
remove it.
>>>=20
>>> Here is an example:
>>>=20
>>> Doc 1) This is my test
>>> Doc 2) This is my test
>>> Doc 3) Another test
>>> Doc 4) This is my test
>>>=20
>>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be =
marked as duplicates (of doc 1).
>>>=20
>>> Can this be easily accomplished?
>>>=20
>>> =
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>=20
>> --------------------------
>> Grant Ingersoll
>> http://www.lucidimagination.com/
>>=20
>> Search the Lucene ecosystem docs using Solr/Lucene:
>> http://www.lucidimagination.com/search
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem docs using Solr/Lucene:
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 15:35:59 2011
Return-Path: <java-user-return-48931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63343 invoked from network); 10 Mar 2011 15:35:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 15:35:59 -0000
Received: (qmail 27185 invoked by uid 500); 10 Mar 2011 15:35:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27144 invoked by uid 500); 10 Mar 2011 15:35:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27136 invoked by uid 99); 10 Mar 2011 15:35:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 15:35:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of static.void.dev@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 15:35:48 +0000
Received: by pxi3 with SMTP id 3so475417pxi.12
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 07:35:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=f9F7AfoeAfAGXPnM79y9VDF9cvckBEWQxdrwvA8dzL4=;
        b=Iks6VFsw3Vf6X0QaxpRJwVoHhuchkAvbYudnk+Bf9KcE2RfciBIVpIH84zumFcQDHY
         FarC/nvUM8gFJYsL4MNqOjMs6T1bN7iRQrY7dLLVmtLtMbMdM10B8mOynGmpSJkPgCFt
         Ixa0fNeKngqGL06BhXrwmblpNNvmo8OVsPcxM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=iFAKoaqK/vtFn2IAaNVfjmJ4kTBRfFqLER5BUBvC03qmuXs7RNMuNQgrW2sTTC/3JQ
         aiOA+i9VthEjg3/cDlUiMxklro99P7nsS33LHqlG9syQ7ySEDnU+endtoXiFiaoMEHxF
         JI+FKMjGyqApQSrw1K+9UyqSqGBlkr3hUTf3U=
Received: by 10.142.156.12 with SMTP id d12mr5625470wfe.184.1299771326814;
        Thu, 10 Mar 2011 07:35:26 -0800 (PST)
Received: from Roberts-MacBook-Pro.local (54.sub-75-208-230.myvzw.com [75.208.230.54])
        by mx.google.com with ESMTPS id w19sm4057692wfd.8.2011.03.10.07.35.25
        (version=SSLv3 cipher=OTHER);
        Thu, 10 Mar 2011 07:35:26 -0800 (PST)
Message-ID: <4D78EFBA.1070307@gmail.com>
Date: Thu, 10 Mar 2011 07:35:22 -0800
From: Mark <static.void.dev@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Detecting duplicates
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org> <4D72E4D1.2030904@gmail.com> <AF71AFCE-A51E-4B7A-8792-AD9C5F5AAE7F@apache.org>
In-Reply-To: <AF71AFCE-A51E-4B7A-8792-AD9C5F5AAE7F@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

My understanding is It can mark documents with the same signature 
indicating that they are similar however there is no way at query time 
to return only 1 "unique" document per signature. Am I missing something?

Doc 1) This is my test
Doc 2) This is my test
Doc 3) Another test
Doc 4) This is my test

If I run a query for "test" it should return

Doc 1) This is my test
Doc 3) Another test


On 3/10/11 6:25 AM, Grant Ingersoll wrote:
> On Mar 5, 2011, at 8:35 PM, Mark wrote:
>
>> I'm familiar with Deduplication however I do not wish to remove my duplicates and my needs are slightly different. I would like to mark the first document with signature 'xyz' as unique but the next one as a duplicate. This way I can filter out "duplicates" during searching using a filter query but still return the original document.
> My understanding is that you can have it mark duplicates.
>
>> The only thing I know of at the moment is to use field collapsing but I tried the patch on 1.4.1 and it was terribly slow.
>>
>> On 3/5/11 4:43 AM, Grant Ingersoll wrote:
>>> See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy to pull out if you are doing just Lucene.
>>>
>>> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>>>
>>>> Is there a way one could detect duplicates (say by using some unique hash of certain fields) and marking a document as a duplicate but not remove it.
>>>>
>>>> Here is an example:
>>>>
>>>> Doc 1) This is my test
>>>> Doc 2) This is my test
>>>> Doc 3) Another test
>>>> Doc 4) This is my test
>>>>
>>>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be marked as duplicates (of doc 1).
>>>>
>>>> Can this be easily accomplished?
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>> --------------------------
>>> Grant Ingersoll
>>> http://www.lucidimagination.com/
>>>
>>> Search the Lucene ecosystem docs using Solr/Lucene:
>>> http://www.lucidimagination.com/search
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
> Search the Lucene ecosystem docs using Solr/Lucene:
> http://www.lucidimagination.com/search
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 15:50:31 2011
Return-Path: <java-user-return-48932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14699 invoked from network); 10 Mar 2011 15:50:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 15:50:29 -0000
Received: (qmail 72788 invoked by uid 500); 10 Mar 2011 15:50:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72740 invoked by uid 500); 10 Mar 2011 15:50:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72732 invoked by uid 99); 10 Mar 2011 15:50:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 15:50:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alexander.aristov@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 15:50:20 +0000
Received: by pxi3 with SMTP id 3so477787pxi.12
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 07:50:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=aGNDe+f0zz6qmfCwQLJcYiIQmwlFgfL6XZxLNnrrs1w=;
        b=gjkRLN47dOueb0r9FiqQzUPnG/U/wqTRBXawqdIl9pFHXuijr6C9ardrdUus0/9Rrp
         KERSTMqozFi724nZfFcIitVCDEHVbTXBbF4nzCTPEfUOHhHLsUbC5MoNEo2ztEPNnm+D
         dRsDFLJI0W+wBrL1DFbb20qMQBCyRXVpBJoyY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=LVBfTIDQl2KasIs6HbDoA+grTDSy62PkZMybfe/Anz2F4AtwiDiCMVc55dYbnDRYAm
         XUAr74tsw9lKjDdeEsYrYfjXg4Ro3PaST/bAy1xt3Anmkf3lg1w2qX4VPnFEV17lN5rJ
         T4ZSQ7rGWXOeCQtfobG6Bl9pGHH5TshxzUsCU=
Received: by 10.142.215.19 with SMTP id n19mr6553540wfg.143.1299772200201;
 Thu, 10 Mar 2011 07:50:00 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.169.3 with HTTP; Thu, 10 Mar 2011 07:49:40 -0800 (PST)
In-Reply-To: <4D78EFBA.1070307@gmail.com>
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org>
 <4D72E4D1.2030904@gmail.com> <AF71AFCE-A51E-4B7A-8792-AD9C5F5AAE7F@apache.org>
 <4D78EFBA.1070307@gmail.com>
From: Alexander Aristov <alexander.aristov@gmail.com>
Date: Thu, 10 Mar 2011 18:49:40 +0300
Message-ID: <AANLkTi=mah7AMosQoMbKLu4cz9w5GxU-zgXxSfBtCmQK@mail.gmail.com>
Subject: Re: Detecting duplicates
To: java-user@lucene.apache.org
Cc: Mark <static.void.dev@gmail.com>
Content-Type: multipart/alternative; boundary=000e0cd327f2483d65049e22cc64

--000e0cd327f2483d65049e22cc64
Content-Type: text/plain; charset=ISO-8859-1

did you check it
http://wiki.apache.org/solr/Deduplication


Best Regards
Alexander Aristov


On 10 March 2011 18:35, Mark <static.void.dev@gmail.com> wrote:

> My understanding is It can mark documents with the same signature
> indicating that they are similar however there is no way at query time to
> return only 1 "unique" document per signature. Am I missing something?
>
>
> Doc 1) This is my test
> Doc 2) This is my test
> Doc 3) Another test
> Doc 4) This is my test
>
> If I run a query for "test" it should return
>
>
> Doc 1) This is my test
> Doc 3) Another test
>
>
>
> On 3/10/11 6:25 AM, Grant Ingersoll wrote:
>
>> On Mar 5, 2011, at 8:35 PM, Mark wrote:
>>
>>  I'm familiar with Deduplication however I do not wish to remove my
>>> duplicates and my needs are slightly different. I would like to mark the
>>> first document with signature 'xyz' as unique but the next one as a
>>> duplicate. This way I can filter out "duplicates" during searching using a
>>> filter query but still return the original document.
>>>
>> My understanding is that you can have it mark duplicates.
>>
>>  The only thing I know of at the moment is to use field collapsing but I
>>> tried the patch on 1.4.1 and it was terribly slow.
>>>
>>> On 3/5/11 4:43 AM, Grant Ingersoll wrote:
>>>
>>>> See http://wiki.apache.org/solr/Deduplication.  Should be fairly easy
>>>> to pull out if you are doing just Lucene.
>>>>
>>>> On Mar 5, 2011, at 1:49 AM, Mark wrote:
>>>>
>>>>  Is there a way one could detect duplicates (say by using some unique
>>>>> hash of certain fields) and marking a document as a duplicate but not remove
>>>>> it.
>>>>>
>>>>> Here is an example:
>>>>>
>>>>> Doc 1) This is my test
>>>>> Doc 2) This is my test
>>>>> Doc 3) Another test
>>>>> Doc 4) This is my test
>>>>>
>>>>> Doc 1 and 3 should be considered unique whereas 2 and 4 should be
>>>>> marked as duplicates (of doc 1).
>>>>>
>>>>> Can this be easily accomplished?
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>  --------------------------
>>>> Grant Ingersoll
>>>> http://www.lucidimagination.com/
>>>>
>>>> Search the Lucene ecosystem docs using Solr/Lucene:
>>>> http://www.lucidimagination.com/search
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>  ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>  --------------------------
>> Grant Ingersoll
>> http://www.lucidimagination.com/
>>
>> Search the Lucene ecosystem docs using Solr/Lucene:
>> http://www.lucidimagination.com/search
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd327f2483d65049e22cc64--

From java-user-return-48933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 16:12:24 2011
Return-Path: <java-user-return-48933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72674 invoked from network); 10 Mar 2011 16:12:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 16:12:24 -0000
Received: (qmail 22164 invoked by uid 500); 10 Mar 2011 16:12:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22116 invoked by uid 500); 10 Mar 2011 16:12:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22108 invoked by uid 99); 10 Mar 2011 16:12:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:12:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [77.238.189.219] (HELO nm1-vm1.bullet.mail.ird.yahoo.com) (77.238.189.219)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Mar 2011 16:12:12 +0000
Received: from [77.238.189.55] by nm1.bullet.mail.ird.yahoo.com with NNFMP; 10 Mar 2011 16:11:50 -0000
Received: from [212.82.108.250] by tm8.bullet.mail.ird.yahoo.com with NNFMP; 10 Mar 2011 16:11:50 -0000
Received: from [127.0.0.1] by omp1015.mail.ird.yahoo.com with NNFMP; 10 Mar 2011 16:11:50 -0000
X-Yahoo-Newman-Property: ymail-5
X-Yahoo-Newman-Id: 839031.22726.bm@omp1015.mail.ird.yahoo.com
Received: (qmail 5744 invoked by uid 60001); 10 Mar 2011 16:11:50 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1299773510; bh=XE/wZAsiEwrzzJkKK6zI9jD211czZDfky1WExB4NifQ=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=dqyTCqBv/WRkbwTvFgPsi3D1uY6rtLxLTPIlHhlT6HUREpTcvF1QvRrXOL/x9L9uzDy2MDRy9XKv9jOPXZNalq3aeEBFCEYho0iKUPMjCz4fdj/PvBBZo1/qeRAAQr7qW7UsjZ1da0Hds0JwYTJ+iktUKk0HqCVmjf9GBfMYQyM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MtuVC3Ly44nOFsEngTe9ByPR9eXJG90CkUdPyK/XsxX+sMaECndYkqsQAFLEq23krbieHK5KoYc3FtHzn2coC1jGB0VERvferke6xZlDkDudm4ViWDznuxPUtDch3lp2TdpBCl6gNOXgt4FBtg6uZrtE4ZVz9c+efS/1LWCXRik=;
Message-ID: <706328.5708.qm@web29014.mail.ird.yahoo.com>
X-YMail-OSG: VV15TzwVM1lVdtRKR5S4g5GJ0AsHDji.CocXt0CJKBsc5Oc
 x3q9inm75uMmRsu_j_HZtfvQE4MC9_w5Kpqo_KE9Ub4RjTCUQVDI9smfxFij
 wWkkkpi.cU3iABgiTI.kryFu3n8_7zHXbRncIxIcvpAUeLgVXacbaiLQbpnn
 R26bYC8QYSXni2nqopoY1hsIbmqZNrSJNu56paWRC8._egUWRdvWSewkRHSO
 _C2jpWecXG778U_diWZQ_wPCuvoAxpsTeeQtkZMfTWWHa9XTwG_kIsEmn0oh
 QGdqEYFKapbzRAKNBypGEpQKZZ_r5lLJ9E9CGqzW6P7q3ssjC
Received: from [194.116.198.179] by web29014.mail.ird.yahoo.com via HTTP; Thu, 10 Mar 2011 16:11:50 GMT
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.292656
References: <4D71DCF8.9090904@gmail.com> <4E64DFD0-D024-46DE-AD63-5A6B30D11F56@apache.org> <4D72E4D1.2030904@gmail.com> <AF71AFCE-A51E-4B7A-8792-AD9C5F5AAE7F@apache.org> <4D78EFBA.1070307@gmail.com>
Date: Thu, 10 Mar 2011 16:11:50 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Detecting duplicates
To: java-user@lucene.apache.org
In-Reply-To: <4D78EFBA.1070307@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

This is possible using contrib's DuplicateFilter.=0ABelow is an example of =
your problem defined as an XML-based test which I just =0Aran OK through my=
 test writer/runner.=0AHopefully this is readable and demonstrates the use =
of =0AFilteredQuery/DuplicateFilter.=0A=0A=0A<?xml version=3D"1.0" encoding=
=3D"UTF-8"?>=0A<?xml-stylesheet type=3D"text/xsl" href=3D"test.xsl"?>=0A<Te=
st description=3D"DuplicateFilter tests">=0A <Data>=0A  <Index name=3D"inde=
x1">=0A   <Analyzers =0Aclass=3D"org.apache.lucene.analysis.standard.Standa=
rdAnalyzer29"> </Analyzers>=0A   <Shard name=3D"shard1">=0A    <Document pk=
=3D"1">=0A     <Field name=3D"text">This is my test</Field>=0A     <Field n=
ame=3D"md5">abc</Field>=0A    </Document>=0A    <Document pk=3D"2">=0A     =
<Field name=3D"text">This is my test</Field>=0A     <Field name=3D"md5">abc=
</Field>=0A    </Document>=0A    <Document pk=3D"3">=0A     <Field name=3D"=
text">Another test</Field>=0A     <Field name=3D"md5">def</Field>=0A    </D=
ocument>=0A    <Document pk=3D"4">=0A     <Field name=3D"text">This is my t=
est</Field>=0A     <Field name=3D"md5">abc</Field>=0A    </Document>=0A   <=
/Shard>=0A  </Index>=0A </Data>=0A <Tests>=0A  <Test description=3D"Elimina=
te duplicates based on MD5 field">=0A   <Query>=0A    <FilteredQuery>=0A   =
  <Query>=0A      <UserQuery fieldName=3D"text">test</UserQuery>=0A     </Q=
uery>=0A     <Filter>=0A      <DuplicateFilter fieldName=3D"md5"/>=0A     <=
/Filter>=0A    </FilteredQuery>=0A   </Query>=0A   <ExpectedResults>=0A    =
<Result fieldName=3D"pk">1</Result>=0A    <Result fieldName=3D"pk">3</Resul=
t>=0A   </ExpectedResults>=0A  </Test>  =0A </Tests>=0A</Test>=0A=0A=0A----=
- Original Message ----=0AFrom: Mark <static.void.dev@gmail.com>=0ATo: java=
-user@lucene.apache.org=0ASent: Thu, 10 March, 2011 15:35:22=0ASubject: Re:=
 Detecting duplicates=0A=0AMy understanding is It can mark documents with t=
he same signature =0Aindicating that they are similar however there is no w=
ay at query time =0Ato return only 1 "unique" document per signature. Am I =
missing something?=0A=0ADoc 1) This is my test=0ADoc 2) This is my test=0AD=
oc 3) Another test=0ADoc 4) This is my test=0A=0AIf I run a query for "test=
" it should return=0A=0ADoc 1) This is my test=0ADoc 3) Another test=0A=0A=
=0AOn 3/10/11 6:25 AM, Grant Ingersoll wrote:=0A> On Mar 5, 2011, at 8:35 P=
M, Mark wrote:=0A>=0A>> I'm familiar with Deduplication however I do not wi=
sh to remove my duplicates =0A>>and my needs are slightly different. I woul=
d like to mark the first document =0A>>with signature 'xyz' as unique but t=
he next one as a duplicate. This way I can =0A>>filter out "duplicates" dur=
ing searching using a filter query but still return =0A>>the original docum=
ent.=0A> My understanding is that you can have it mark duplicates.=0A>=0A>>=
 The only thing I know of at the moment is to use field collapsing but I tr=
ied =0A>>the patch on 1.4.1 and it was terribly slow.=0A>>=0A>> On 3/5/11 4=
:43 AM, Grant Ingersoll wrote:=0A>>> See http://wiki.apache.org/solr/Dedupl=
ication.  Should be fairly easy to pull =0A>>>out if you are doing just Luc=
ene.=0A>>>=0A>>> On Mar 5, 2011, at 1:49 AM, Mark wrote:=0A>>>=0A>>>> Is th=
ere a way one could detect duplicates (say by using some unique hash of =0A=
>>>>certain fields) and marking a document as a duplicate but not remove it=
.=0A>>>>=0A>>>> Here is an example:=0A>>>>=0A>>>> Doc 1) This is my test=0A=
>>>> Doc 2) This is my test=0A>>>> Doc 3) Another test=0A>>>> Doc 4) This i=
s my test=0A>>>>=0A>>>> Doc 1 and 3 should be considered unique whereas 2 a=
nd 4 should be marked as =0A>>>>duplicates (of doc 1).=0A>>>>=0A>>>> Can th=
is be easily accomplished?=0A>>>>=0A>>>> ----------------------------------=
-----------------------------------=0A>>>> To unsubscribe, e-mail: java-use=
r-unsubscribe@lucene.apache.org=0A>>>> For additional commands, e-mail: jav=
a-user-help@lucene.apache.org=0A>>>>=0A>>> --------------------------=0A>>>=
 Grant Ingersoll=0A>>> http://www.lucidimagination.com/=0A>>>=0A>>> Search =
the Lucene ecosystem docs using Solr/Lucene:=0A>>> http://www.lucidimaginat=
ion.com/search=0A>>>=0A>>>=0A>>> ------------------------------------------=
---------------------------=0A>>> To unsubscribe, e-mail: java-user-unsubsc=
ribe@lucene.apache.org=0A>>> For additional commands, e-mail: java-user-hel=
p@lucene.apache.org=0A>>>=0A>> --------------------------------------------=
-------------------------=0A>> To unsubscribe, e-mail: java-user-unsubscrib=
e@lucene.apache.org=0A>> For additional commands, e-mail: java-user-help@lu=
cene.apache.org=0A>>=0A> --------------------------=0A> Grant Ingersoll=0A>=
 http://www.lucidimagination.com/=0A>=0A> Search the Lucene ecosystem docs =
using Solr/Lucene:=0A> http://www.lucidimagination.com/search=0A>=0A>=0A> -=
--------------------------------------------------------------------=0A> To=
 unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> For addit=
ional commands, e-mail: java-user-help@lucene.apache.org=0A>=0A=0A---------=
------------------------------------------------------------=0ATo unsubscri=
be, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional comman=
ds, e-mail: java-user-help@lucene.apache.org=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 16:17:14 2011
Return-Path: <java-user-return-48934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78512 invoked from network); 10 Mar 2011 16:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 16:17:14 -0000
Received: (qmail 30204 invoked by uid 500); 10 Mar 2011 16:17:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30163 invoked by uid 500); 10 Mar 2011 16:17:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30155 invoked by uid 99); 10 Mar 2011 16:17:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:17:11 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,T_FRT_ADULT2
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of koji@r.email.ne.jp designates 202.224.39.197 as permitted sender)
Received: from [202.224.39.197] (HELO mail1.asahi-net.or.jp) (202.224.39.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:17:04 +0000
Received: from Koji-Sekiguchi-no-MacBook-Pro.local (w244069.ppp.asahi-net.or.jp [121.1.244.69])
	by mail1.asahi-net.or.jp (Postfix) with ESMTP id C59A3DCBDD
	for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 01:16:41 +0900 (JST)
Message-ID: <4D78F969.4080405@r.email.ne.jp>
Date: Fri, 11 Mar 2011 01:16:41 +0900
From: Koji Sekiguchi <koji@r.email.ne.jp>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: getting the number of updated documents
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

Does IndexWriter (or somewhere else) have the method such that
it gets the number of updated documents before commit?

I have an optimized index and I'm using iw.updateDocument(Term,Document)
with the index, and before commit, I'd like to know the number of updated
documents from IndexWriter so that I can rollback if something goes wrong.

Any ideas?

Thanks,

Koji
-- 
http://www.rondhuit.com/en/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 16:20:34 2011
Return-Path: <java-user-return-48935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91809 invoked from network); 10 Mar 2011 16:20:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 16:20:34 -0000
Received: (qmail 35304 invoked by uid 500); 10 Mar 2011 16:20:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35178 invoked by uid 500); 10 Mar 2011 16:20:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35170 invoked by uid 99); 10 Mar 2011 16:20:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:20:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.17.10] (HELO moutng.kundenserver.de) (212.227.17.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:20:26 +0000
Received: from [192.168.1.68] (250.173.97-84.rev.gaoland.net [84.97.173.250])
	by mrelayeu.kundenserver.de (node=mreu1) with ESMTP (Nemesis)
	id 0M8MHm-1QBF692aDi-00vEve; Thu, 10 Mar 2011 17:20:04 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: ManifoldCF in Action
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <0C2ADA45C80B224FAFA38F5DEE16A16E055399@008-AM1MPN1-037.mgdnok.nokia.com>
Date: Thu, 10 Mar 2011 17:20:01 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <EF615A97-6F5D-4C8B-B382-9C674BCC60CD@hoplahup.net>
References: <0C2ADA45C80B224FAFA38F5DEE16A16E055399@008-AM1MPN1-037.mgdnok.nokia.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:j4gVYE9mGaHL2iwtaapwvDvbqp65P2va/+D4yNQqE2h
 1martIbVk4wGLFVbssUqHUMw86QeUydNsfXdmTDJB6+tgCFC6j
 u29rOxFPFe6p6ViTRdaf4hV/+iXkD9rdfX18KqsoZUqEsaiApG
 w5vMYcGmz5Mh1254njXTpkEK1Yn+ENONfVYKDHVCC1Z6AjF6Ey
 HUhD+MvkS2iebsM8gQRS361unfJsIdoK/e6uzSG8Ak=

Erm,

google DIH SOLR

or=20

http://wiki.apache.org/solr/DataImportHandler

paul

Le 10 mars 2011 =E0 14:37, karl.wright@nokia.com a =E9crit :

>>>>>>>=20
> Karl,
>=20
> can you give, in one paragraph, the difference between ManifoldCF and =
DIH?
>=20
> thanks in advance
>=20
> paul
> <<<<<<
>=20
> I am unfamiliar with DIH as an acronym in either the content =
management or crawling infrastructure space.  Can you clarify what you =
mean?
>=20
> Karl
>=20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 16:34:48 2011
Return-Path: <java-user-return-48936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57907 invoked from network); 10 Mar 2011 16:34:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 16:34:48 -0000
Received: (qmail 63805 invoked by uid 500); 10 Mar 2011 16:34:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63770 invoked by uid 500); 10 Mar 2011 16:34:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63762 invoked by uid 99); 10 Mar 2011 16:34:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:34:45 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=SPF_PASS,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.25] (HELO triton.rz.uni-saarland.de) (134.96.7.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:34:39 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by triton.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p2AGYG7v014005
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 17:34:17 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id BC88A769CC; Thu, 10 Mar 2011 17:34:16 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id 533D476948
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 17:34:15 +0100 (CET)
Message-ID: <4D78FD87.9060100@lsv.uni-saarland.de>
Date: Thu, 10 Mar 2011 17:34:15 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index enforcing query terms to appear within the same sentence
References: <4D708F60.5090507@lsv.uni-saarland.de> <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com> <4D70F9E5.1060809@lsv.uni-saarland.de>
In-Reply-To: <4D70F9E5.1060809@lsv.uni-saarland.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (triton.rz.uni-saarland.de [134.96.7.25]); Thu, 10 Mar 2011 17:34:17 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.176; VDF: 7.11.3.249; host: AntiVir3)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Conceptually, I think I know what to do. Unfortunately, with the given 
interfaces of Lucene I have some difficulty.

If I add the content of a document sentence by sentence, i.e. line by 
line, (using a multi-valued field), there are only two constructors 
possible:
Field(String name, String value, Field.Store store, Field.Index index)
or
Field(String name, String value, Field.Store store, Field.Index index, 
Field.TermVector termVector)
The sentence comes as a string which I get from a BufferedReader-object 
by using the readLine() method.

But as far as I understood, I need to access some TokenStream-object in 
order to set the PositionIncrementAttribute. So how should that work?

Thank you in advance.

Ian Lea schrieb:
>> You can use multi valued fields if you play with the position
>> increment gap.  See e.g.
>> http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-sentence-td1501269.html 
>>
>>
>> A google search for "lucene indexing sentences" or similar finds 
>> that, and more.
>>
>>
>> Different docs can have different fields/different numbers of fields,
>> but the position gap approach is probably better.
>>
>>
>> -- 
>> Ian.
>>
>>
>> On Fri, Mar 4, 2011 at 7:06 AM, Michael Wiegand
>> <michael.wiegand@lsv.uni-saarland.de> wrote:
>>  
>>> Hi,
>>>
>>> I would like to create an index with Lucene to a document 
>>> collections of
>>> text files.
>>> The index should be created in such a way, that for the search I can 
>>> enforce
>>> that query term A and query term B are contained within the same 
>>> sentence.
>>>
>>> How should implement the index? Should I have for every sentence a 
>>> different
>>> field (but make sure that it is not a multi-valued field because 
>>> they would
>>> get merged which is exactly what I do not want)?
>>> Would it be problematic that different documents would then end up 
>>> having
>>> different numbes of fields?
>>>
>>> Thank you in advance!
>>>
>>> Best,
>>> Michael
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>     
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>   
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 16:35:23 2011
Return-Path: <java-user-return-48937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62848 invoked from network); 10 Mar 2011 16:35:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 16:35:22 -0000
Received: (qmail 65808 invoked by uid 500); 10 Mar 2011 16:35:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65763 invoked by uid 500); 10 Mar 2011 16:35:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65755 invoked by uid 99); 10 Mar 2011 16:35:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:35:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of karl.wright@nokia.com designates 147.243.128.24 as permitted sender)
Received: from [147.243.128.24] (HELO mgw-da01.nokia.com) (147.243.128.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 16:35:11 +0000
Received: from vaebh101.NOE.Nokia.com (vaebh101.europe.nokia.com [10.160.244.22])
	by mgw-da01.nokia.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id p2AGY2sK017730
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 18:34:48 +0200
Received: from smtp.mgd.nokia.com ([65.54.30.5]) by vaebh101.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 10 Mar 2011 18:34:33 +0200
Received: from 008-AM1MMR1-002.mgdnok.nokia.com (65.54.30.57) by
 NOK-am1MHUB-01.mgdnok.nokia.com (65.54.30.5) with Microsoft SMTP Server (TLS)
 id 8.2.255.0; Thu, 10 Mar 2011 17:34:32 +0100
Received: from 008-AM1MPN1-037.mgdnok.nokia.com ([169.254.7.42]) by
 008-AM1MMR1-002.mgdnok.nokia.com ([65.54.30.57]) with mapi id 14.01.0270.002;
 Thu, 10 Mar 2011 17:34:32 +0100
From: <karl.wright@nokia.com>
To: <java-user@lucene.apache.org>
Subject: RE: ManifoldCF in Action
Thread-Topic: ManifoldCF in Action
Thread-Index: AQHL3z8bxbL1Q0OTnkaBFjnLqyJjQpQmwYwQ
Date: Thu, 10 Mar 2011 16:34:32 +0000
Message-ID: <0C2ADA45C80B224FAFA38F5DEE16A16E05548F@008-AM1MPN1-037.mgdnok.nokia.com>
References: <0C2ADA45C80B224FAFA38F5DEE16A16E055399@008-AM1MPN1-037.mgdnok.nokia.com>
 <EF615A97-6F5D-4C8B-B382-9C674BCC60CD@hoplahup.net>
In-Reply-To: <EF615A97-6F5D-4C8B-B382-9C674BCC60CD@hoplahup.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.18.51.208]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginalArrivalTime: 10 Mar 2011 16:34:33.0068 (UTC) FILETIME=[093752C0:01CBDF41]
X-Nokia-AV: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Ah, I was not thinking of a Solr addon!  I thought you were referring to so=
me other crawler that I'd never heard of.

So the answer to your question is that ManifoldCF differs from DIH in at le=
ast the following ways:

- ManifoldCF can handle a wide range of repositories, not just database tab=
les
- ManifoldCF indexes data to Solr via the Extracting Update Handler
- ManifoldCF handles deletions as well as insertions and updates
- ManifoldCF provides a UI and a document-specific security model

Hope this helps.
Karl

-----Original Message-----
From: ext Paul Libbrecht [mailto:paul@hoplahup.net]=20
Sent: Thursday, March 10, 2011 11:20 AM
To: java-user@lucene.apache.org
Subject: Re: ManifoldCF in Action

Erm,

google DIH SOLR

or=20

http://wiki.apache.org/solr/DataImportHandler

paul

Le 10 mars 2011 =E0 14:37, karl.wright@nokia.com a =E9crit :

>>>>>>>=20
> Karl,
>=20
> can you give, in one paragraph, the difference between ManifoldCF and DIH=
?
>=20
> thanks in advance
>=20
> paul
> <<<<<<
>=20
> I am unfamiliar with DIH as an acronym in either the content management o=
r crawling infrastructure space.  Can you clarify what you mean?
>=20
> Karl
>=20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 17:22:41 2011
Return-Path: <java-user-return-48938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6889 invoked from network); 10 Mar 2011 17:22:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 17:22:40 -0000
Received: (qmail 74944 invoked by uid 500); 10 Mar 2011 17:22:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74896 invoked by uid 500); 10 Mar 2011 17:22:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74888 invoked by uid 99); 10 Mar 2011 17:22:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 17:22:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 17:22:33 +0000
Received: by yia25 with SMTP id 25so1078233yia.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 09:22:11 -0800 (PST)
MIME-Version: 1.0
Received: by 10.236.109.138 with SMTP id s10mr1419464yhg.387.1299777731751;
 Thu, 10 Mar 2011 09:22:11 -0800 (PST)
Received: by 10.236.108.166 with HTTP; Thu, 10 Mar 2011 09:22:11 -0800 (PST)
In-Reply-To: <1299699872430-2656875.post@n3.nabble.com>
References: <1299699872430-2656875.post@n3.nabble.com>
Date: Thu, 10 Mar 2011 12:22:11 -0500
Message-ID: <AANLkTi=UOewnAkC=QRBPh5ZTBp-HQ6DSbM6U-P+gJwo6@mail.gmail.com>
Subject: Re: reopen with optimize and FileNotFoundException
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: bart_212 <wojtekg212@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Wed, Mar 9, 2011 at 2:44 PM, bart_212 <wojtekg212@gmail.com> wrote:
> Hi,
> I have two web applications that uses lucene 2.3.2. Both share the same
> index and can write or read. Writing is synchronized based on file system=
 to
> allow only one IndexWriter to work at the moment. There can be multiple
> IndexReader. IndexReader is stored and before searching, there is done
> #reopen on it. IndexWriter can add/delete group of documents and can
> optimize the index while searching is performed (multiple threads can
> search).
> I'm wondering if these operations are thread safe and don't corrupt the
> index? I have observed the following exception when one IndexWriter was
> adding =A0and one IndexReader was reopened to search:

This usage is [supposed to be] perfectly fine.  Any ops you do with IW
while IRs are in use, IR is being opened/reopened, is fine.  You can
even open a new IW with create=3Dtrue while IRs are in use.

> java.io.FileNotFoundException: /tmp/test/index/_7y.tis
> RandomAccessFile.open(String, int) line: not available [native method]
> FSDirectory$FSIndexInput$Descriptor(RandomAccessFile).(File, String) line=
:
> 212
> FSDirectory$FSIndexInput$Descriptor.(File, String) line: 506
> FSDirectory$FSIndexInput.(File, int) line: 536
> FSDirectory.openInput(String, int) line: 445
> TermInfosReader.(Directory, String, FieldInfos, int) line: 61
> SegmentReader.initialize(SegmentInfo, int, boolean) line: 317
> SegmentReader.get(Directory, SegmentInfo, SegmentInfos, boolean, boolean,
> int, boolean) line: 262
> SegmentReader.get(SegmentInfo) line: 197
> MultiSegmentReader.(Directory, SegmentInfos, boolean, SegmentReader[],
> int[], Map) line: 109
> MultiSegmentReader.doReopen(SegmentInfos) line: 203
> DirectoryIndexReader$2.doBody(String) line: 98
> DirectoryIndexReader$2(SegmentInfos$FindSegmentsFile).run() line: 636
> MultiSegmentReader(DirectoryIndexReader).reopen() line: 92
> IndexReaderManager.reopenReader(FileProxy, IndexReader) line: 92
> IndexReaderManager.getIndexReader(FileProxy) line: 76
> IndexSearcherFactory.createIndexSearcher(FileProxy) line: 66

This is definitely not good.  Is the index otherwise healthy?  Like
this error is transient and later on opening a reader succeeds?

What locking are you using to ensure the two IWs don't open the index
at the same time?  Just the default locking for your Directory impl?
Which Directory impl are you using...?

What filesystem is the index on?  It looks like /tmp which is
presumably a local filesystem right?

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 19:33:13 2011
Return-Path: <java-user-return-48939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55971 invoked from network); 10 Mar 2011 19:33:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 19:33:13 -0000
Received: (qmail 30443 invoked by uid 500); 10 Mar 2011 19:33:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30378 invoked by uid 500); 10 Mar 2011 19:33:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30370 invoked by uid 99); 10 Mar 2011 19:33:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 19:33:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of felipehummel@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 19:33:02 +0000
Received: by iyj12 with SMTP id 12so2892576iyj.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 11:32:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=i/vpZVCuhLSTOgOJ1kzmmvl3qs/mGoMe9QljpKjAf4M=;
        b=HlMoa89acqRyhrMiiKCK0kQQgIriaqMKPfmqHsAP2Yk55KX111Wg0X3togkvtccvl4
         Y077h7ziD19hgoeIw873mxEIgsZ+VweP2+oymdTs3Ba9hEC/30qryCODDJ6a8aC6135Q
         vzhujy0Bjq936mg2hUUerJGhC/5juAMbzj24M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=SdD5QRwceX9dXIgbTZDQXj2BN8KBplzdBA2i32Yhj7c3eEBYwuln7hsL982JhrlOCQ
         QZKAwGI9nw1eU94YXybZMOiIUn0lDph9SwAcvK2U5D9JQUM99PX4H1b62309MeyvS2IZ
         BaMdGOGgl8vvmvKWu19eLzOmUNdXmQqHhC7aA=
Received: by 10.43.54.210 with SMTP id vv18mr10757899icb.103.1299785561611;
 Thu, 10 Mar 2011 11:32:41 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.15.11 with HTTP; Thu, 10 Mar 2011 11:32:21 -0800 (PST)
From: Felipe Hummel <felipehummel@gmail.com>
Date: Thu, 10 Mar 2011 15:32:21 -0400
Message-ID: <AANLkTikvjbQJcNt1weUQOadR=05ju198jeEa+_Zt7yEQ@mail.gmail.com>
Subject: Search one index but use IDF from another?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec51dd719af1fa9049e25e88d
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec51dd719af1fa9049e25e88d
Content-Type: text/plain; charset=ISO-8859-1

Hi, I'm building a system where I want to show only results indexed in the
past few days. Furthermore, I don't want to maintain a giant index with
millions of documents if I only want to return results from a couple of days
(thousands of documents).

My system heavily relies that the occurrences of terms in documents stored
in the index have a realistic distribution (consequently: realistic IDF).

That said, I would like to use a small index to return results, but I want
to compute documents score using a IDF from a much greater Index (or even an
external source).

The Similarity API doesn't seem to allow me to do this. The *idf* method
does not receive as parameter the term being used.

Another possibility is to use TrieRangeQuery to make sure the documents
shown are within the last couple of days. Again, I rather not mantain a
large index. Also this kind of query is not cheap.

Am I missing something?

Thanks


Felipe Hummel

--bcaec51dd719af1fa9049e25e88d--

From java-user-return-48940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 19:49:04 2011
Return-Path: <java-user-return-48940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15927 invoked from network); 10 Mar 2011 19:49:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 19:49:04 -0000
Received: (qmail 56998 invoked by uid 500); 10 Mar 2011 19:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56957 invoked by uid 500); 10 Mar 2011 19:49:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56949 invoked by uid 99); 10 Mar 2011 19:49:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 19:49:02 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_FRT_ADULT2,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 19:48:56 +0000
Received: by gyg10 with SMTP id 10so1203752gyg.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 11:48:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=AvJtCifsitGx5dLJZrGbQkI9zU6sEAwZ5g4OIAdtDPg=;
        b=uS5DbXQPXvYGN+LDMlNg3YpcbpKPm7PPFWLWqIb4l+zbiTeq7I3Y+oGVkZemYQsG+1
         pTpq63vhHbIuxYMF7JKC/5j5e5LzB7URLMfYnd+rFB7uH5AuyDS4agbJFSUqsdGXpOf0
         z7HpWHHspu1FyYM5KxMDuuIKDa0a8TiIEWEJo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=GQVETIumDafA8H3fpzqSMjtTPGuj7OG9MS8q9JRy/RaM8qw8FFu72LMFecTOHvErl2
         2RI3/vcybFWPjjrcR4r61Nmw2ES0oSWsqzyk5SjKWlqnLCWiMdX4/2SLFfdGmvbHkZxX
         63m3n02rNQQGFhQiw+gMfbAFifEccwBvEiR0w=
MIME-Version: 1.0
Received: by 10.52.88.233 with SMTP id bj9mr12151591vdb.131.1299786515270;
 Thu, 10 Mar 2011 11:48:35 -0800 (PST)
Received: by 10.52.168.194 with HTTP; Thu, 10 Mar 2011 11:48:35 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <4D78F969.4080405@r.email.ne.jp>
References: <4D78F969.4080405@r.email.ne.jp>
Date: Thu, 10 Mar 2011 20:48:35 +0100
Message-ID: <AANLkTim=EBtyZkHtHM+4=Z_fhOPmjeTuutQt5E+bEpO5@mail.gmail.com>
Subject: Re: getting the number of updated documents
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

hey Koji,

2011/3/10 Koji Sekiguchi <koji@r.email.ne.jp>:
> Hello,
>
> Does IndexWriter (or somewhere else) have the method such that
> it gets the number of updated documents before commit?
you have maxDocs which gives you the maxdocid-1 but this might not be
super accurate since there might have been merges going on in the
background. I am not sure if this number you are asking for will
really help you with what you are trying todo.
If you want to rollback to your previous version why don't you keep
that commit point around and just open it again if something goes
wrong. You can specify a DeletionPolicy that keeps your opimized index
around until you nuke it in the case everything goes ok?

simon
>
> I have an optimized index and I'm using iw.updateDocument(Term,Document)
> with the index, and before commit, I'd like to know the number of updated
> documents from IndexWriter so that I can rollback if something goes wrong.
>
> Any ideas?
>
> Thanks,
>
> Koji
> --
> http://www.rondhuit.com/en/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 20:37:06 2011
Return-Path: <java-user-return-48941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73536 invoked from network); 10 Mar 2011 20:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 20:37:05 -0000
Received: (qmail 41077 invoked by uid 500); 10 Mar 2011 20:37:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41018 invoked by uid 500); 10 Mar 2011 20:37:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40992 invoked by uid 99); 10 Mar 2011 20:37:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 20:37:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.113.200.5] (HELO homiemail-a57.g.dreamhost.com) (208.113.200.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 20:36:55 +0000
Received: from homiemail-a57.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a57.g.dreamhost.com (Postfix) with ESMTP id 7A2BA208070
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 12:36:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; c=nofws; d=getopt.org; h=message-id:date
	:from:mime-version:to:subject:references:in-reply-to
	:content-type:content-transfer-encoding; q=dns; s=getopt.org; b=
	KbKb38B/q+xUbtu2fMy1GlhqxT3GLSTWJhg+OBUvG9RVuYhZWlCKGJQ3EIs7QhBj
	6ppk8fNujpcW62A0uikwfQz87JzTLoP04pU1+jXhqGBuPZSLXreifaztnyx6VN+D
	7ArDn6rg2LdTZTA+b4jSCpCXXmqZQkFmrJoVLcqMTLI=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=getopt.org; h=message-id
	:date:from:mime-version:to:subject:references:in-reply-to
	:content-type:content-transfer-encoding; s=getopt.org; bh=E1t+6I
	Vom9TIIf5vu7RltUSAYjc=; b=Pkq50FKNAdLql8KLzwtxs4kqgWwBScG2XNHowY
	mAPfgVZic6q7wZy7HbD6xLMB3Z6R6wAHOgouDJAzK2LRAcxxApaRZYJyKAmbzA5z
	LB6RfO7Ol9hP6MXpvHtlcBFRvK2e+rkfjpnf+//NzO+GgpHPiyAzTrqwVG/rSy8O
	E6/wY=
Received: from abacus.local (unknown [81.219.54.251])
	(Authenticated sender: ab@getopt.org)
	by homiemail-a57.g.dreamhost.com (Postfix) with ESMTPA id 28BFB20805B
	for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 12:36:32 -0800 (PST)
Message-ID: <4D79364E.40006@getopt.org>
Date: Thu, 10 Mar 2011 21:36:30 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search one index but use IDF from another?
References: <AANLkTikvjbQJcNt1weUQOadR=05ju198jeEa+_Zt7yEQ@mail.gmail.com>
In-Reply-To: <AANLkTikvjbQJcNt1weUQOadR=05ju198jeEa+_Zt7yEQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 3/10/11 8:32 PM, Felipe Hummel wrote:
> Hi, I'm building a system where I want to show only results indexed in the
> past few days. Furthermore, I don't want to maintain a giant index with
> millions of documents if I only want to return results from a couple of days
> (thousands of documents).
>
> My system heavily relies that the occurrences of terms in documents stored
> in the index have a realistic distribution (consequently: realistic IDF).
>
> That said, I would like to use a small index to return results, but I want
> to compute documents score using a IDF from a much greater Index (or even an
> external source).
>
> The Similarity API doesn't seem to allow me to do this. The *idf* method
> does not receive as parameter the term being used.
>
> Another possibility is to use TrieRangeQuery to make sure the documents
> shown are within the last couple of days. Again, I rather not mantain a
> large index. Also this kind of query is not cheap.
>
> Am I missing something?

Take a look at SOLR-1632. Indeed, it's not possible to do this using 
Similarity alone. You will need something like the DFSource class in 
that patch, i.e. a subclass of IndexSearcher, where you populate 
term->DF map with values obtained from the full index, and then you use 
this map to calculate IDF.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 20:37:25 2011
Return-Path: <java-user-return-48942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73687 invoked from network); 10 Mar 2011 20:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 20:37:25 -0000
Received: (qmail 44204 invoked by uid 500); 10 Mar 2011 20:37:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44147 invoked by uid 500); 10 Mar 2011 20:37:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44139 invoked by uid 99); 10 Mar 2011 20:37:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 20:37:22 +0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.26 is neither permitted nor denied by domain of wojtekg212@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 20:37:16 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <wojtekg212@gmail.com>)
	id 1PxmbP-0004eM-Fj
	for java-user@lucene.apache.org; Thu, 10 Mar 2011 12:36:55 -0800
Date: Thu, 10 Mar 2011 12:36:55 -0800 (PST)
From: bart_212 <wojtekg212@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1299789415480-2662149.post@n3.nabble.com>
In-Reply-To: <AANLkTi=UOewnAkC=QRBPh5ZTBp-HQ6DSbM6U-P+gJwo6@mail.gmail.com>
References: <1299683005895-2655555.post@n3.nabble.com> <AANLkTi=UOewnAkC=QRBPh5ZTBp-HQ6DSbM6U-P+gJwo6@mail.gmail.com>
Subject: Re: reopen with optimize and FileNotFoundException
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I've tried different lucene locks to use, however I always get FNFE during
huge index update while IR reopens index. To prevent two IW at the same
time, I synchronize this operation using external locking mechanism based on
atomic filesystem operation like creating directory. So just before indexing
I lock manually ,then I create IW ,do indexing, then release the lock. It
works fine, I have always only one IW during indexing. So in my case lucene
locks are irrelevant unless IR during searching needs to lock?

I've noticed that I get this exception only once, then it is caught inside
and some segment seems to be just omitted. I haven't checked if index is
healthy, however other reopens seems to succeed. BTW, it occurs when one app
is indexing and the second is searching.
Please clarify, what component (IR or IW) is responsible for creating
"*.tis" file? Sometimes it is also some "*.frq" file...
I suspected that it can be caused of merging segments by IW, however you
claim it should be fine...
What do you think?

--
View this message in context: http://lucene.472066.n3.nabble.com/reopen-with-optimize-and-FileNotFoundException-tp2655555p2662149.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 21:29:56 2011
Return-Path: <java-user-return-48943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24737 invoked from network); 10 Mar 2011 21:29:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 21:29:56 -0000
Received: (qmail 29039 invoked by uid 500); 10 Mar 2011 21:29:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28987 invoked by uid 500); 10 Mar 2011 21:29:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 21001 invoked by uid 99); 10 Mar 2011 21:25:36 -0000
X-ASF-Spam-Status: No, hits=2.6 required=5.0
	tests=HK_RANDOM_ENVFROM,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Date: Thu, 10 Mar 2011 13:25:10 -0800 (PST)
From: RobM <rmcclanahan@databanq.com>
To: java-user@lucene.apache.org
Message-ID: <1299792310271-2662376.post@n3.nabble.com>
Subject: IndexSearcher Single Instance Bottleneck?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I currently have two types of searches on my website that are using the same
index and same instance of index searcher. One of the searches usually only
takes 50 - 100 milliseconds but the second usually takes 2 seconds. It seems
as though when someone does the second search and another user does the
first search immediately after the first search will wait for the second to
complete. Is that how Lucene works or am I just looking at my test wrong. If
so how should i solve this issue? Two indexes or two index searchers?

--
View this message in context: http://lucene.472066.n3.nabble.com/IndexSearcher-Single-Instance-Bottleneck-tp2662376p2662376.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 22:48:34 2011
Return-Path: <java-user-return-48944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1647 invoked from network); 10 Mar 2011 22:48:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 22:48:33 -0000
Received: (qmail 47075 invoked by uid 500); 10 Mar 2011 22:48:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46984 invoked by uid 500); 10 Mar 2011 22:48:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46976 invoked by uid 99); 10 Mar 2011 22:48:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 22:48:31 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,T_FRT_ADULT2
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of koji@r.email.ne.jp designates 202.224.39.197 as permitted sender)
Received: from [202.224.39.197] (HELO mail1.asahi-net.or.jp) (202.224.39.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 22:48:23 +0000
Received: from Koji-Sekiguchi-no-MacBook-Pro.local (w244069.ppp.asahi-net.or.jp [121.1.244.69])
	by mail1.asahi-net.or.jp (Postfix) with ESMTP id 2D9C0DA37B
	for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 07:48:02 +0900 (JST)
Message-ID: <4D795521.7080401@r.email.ne.jp>
Date: Fri, 11 Mar 2011 07:48:01 +0900
From: Koji Sekiguchi <koji@r.email.ne.jp>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: getting the number of updated documents
References: <4D78F969.4080405@r.email.ne.jp> <AANLkTim=EBtyZkHtHM+4=Z_fhOPmjeTuutQt5E+bEpO5@mail.gmail.com>
In-Reply-To: <AANLkTim=EBtyZkHtHM+4=Z_fhOPmjeTuutQt5E+bEpO5@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

>> Does IndexWriter (or somewhere else) have the method such that
>> it gets the number of updated documents before commit?
> you have maxDocs which gives you the maxdocid-1 but this might not be
> super accurate since there might have been merges going on in the
> background. I am not sure if this number you are asking for will
> really help you with what you are trying todo.
> If you want to rollback to your previous version why don't you keep
> that commit point around and just open it again if something goes
> wrong. You can specify a DeletionPolicy that keeps your opimized index
> around until you nuke it in the case everything goes ok?
>
> simon

Hi Simon,

Uh, it sounds cool! I'll try to implement a DeletionPolicy and
see if it solves my problem.

Many thanks,

Koji
-- 
http://www.rondhuit.com/en/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 10 23:26:38 2011
Return-Path: <java-user-return-48945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14129 invoked from network); 10 Mar 2011 23:26:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Mar 2011 23:26:38 -0000
Received: (qmail 2133 invoked by uid 500); 10 Mar 2011 23:26:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2094 invoked by uid 500); 10 Mar 2011 23:26:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2084 invoked by uid 99); 10 Mar 2011 23:26:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 23:26:36 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2011 23:26:30 +0000
Received: by qyk30 with SMTP id 30so2240125qyk.14
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 15:26:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vSHggGN4wQ0FQsfSavU1dbJBySgzz5hxDEfvHl2hJxg=;
        b=wMndhcf7KR/nq6A14BAZYCFgBZq7ilkWrBuymL5Wu0UPh+Woapdur4lXtFdP0lZj8p
         IVtMuQtzH0V4zCWm23FaPSfY/G7CsVKt4WdsNFIDUM6lPec1+18S/UKuHcQ4znmOvuL/
         Uhi78HiHTsBqNHkTOtBUT9z9zsBC5lZZra0L4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vTo+h9YvarHYlBKZi0Ag/CODNAGRDVJjVdgzwQSLo8QMkm3mQikU/O54vu9spyI72X
         LiglQlOk5eufLYc4SSfs1ajQp89OgFZt3R8BP5Lnw7rhs7UgwzF4Fjc0zftoHJ3oYWb1
         yAjhQ+Am4V7c0JtPA6QCuG2iS9hDPKYss/iIY=
MIME-Version: 1.0
Received: by 10.229.37.79 with SMTP id w15mr3066037qcd.180.1299799569200; Thu,
 10 Mar 2011 15:26:09 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Thu, 10 Mar 2011 15:26:09 -0800 (PST)
In-Reply-To: <1299792310271-2662376.post@n3.nabble.com>
References: <1299792310271-2662376.post@n3.nabble.com>
Date: Thu, 10 Mar 2011 18:26:09 -0500
Message-ID: <AANLkTik21dM1xwvwOMZe+vWcGACOMXeWbx2QkutioTmQ@mail.gmail.com>
Subject: Re: IndexSearcher Single Instance Bottleneck?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

No, Lucene itself shouldn't be doing this, the recommendation is for multiple
threads to share a single searcher. I'd first look upstream, are your requests
being processed serially? I.e. is there a single thread that's
handling requests?

Best
Erick

On Thu, Mar 10, 2011 at 4:25 PM, RobM <rmcclanahan@databanq.com> wrote:
> I currently have two types of searches on my website that are using the same
> index and same instance of index searcher. One of the searches usually only
> takes 50 - 100 milliseconds but the second usually takes 2 seconds. It seems
> as though when someone does the second search and another user does the
> first search immediately after the first search will wait for the second to
> complete. Is that how Lucene works or am I just looking at my test wrong. If
> so how should i solve this issue? Two indexes or two index searchers?
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/IndexSearcher-Single-Instance-Bottleneck-tp2662376p2662376.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 03:30:04 2011
Return-Path: <java-user-return-48946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95734 invoked from network); 11 Mar 2011 03:30:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 03:30:04 -0000
Received: (qmail 44832 invoked by uid 500); 11 Mar 2011 03:30:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44666 invoked by uid 500); 11 Mar 2011 03:29:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44658 invoked by uid 99); 11 Mar 2011 03:29:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 03:29:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 03:29:51 +0000
Received: by wyb40 with SMTP id 40so2717705wyb.35
        for <java-user@lucene.apache.org>; Thu, 10 Mar 2011 19:29:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.240.141 with SMTP id e13mr7187135wer.105.1299814170507;
 Thu, 10 Mar 2011 19:29:30 -0800 (PST)
Received: by 10.216.221.223 with HTTP; Thu, 10 Mar 2011 19:29:30 -0800 (PST)
Date: Thu, 10 Mar 2011 22:29:30 -0500
Message-ID: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com>
Subject: Indexing of multilingual labels
From: Stephane Fellah <sfellah@smartrealm.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=e0cb4e43cd57e83c13049e2c9191
X-Virus-Checked: Checked by ClamAV on apache.org

--e0cb4e43cd57e83c13049e2c9191
Content-Type: text/plain; charset=ISO-8859-1

I  am trying to index in Lucene a field that could have label of concepts in
different languages. Most of the approaches I have seen so far are:

   -

   Use a single index, where each document has a field per each language it
   uses, or
   -

   Use M indexes, M being the number of languages in the corpus.

Lucene 2.9+ has a feature called Payload that allows to attach attributes to
term. Is anyone use this mechanism to store language (or other attributes
such as datatypes) information ? Does this approach if labels are the same
in different languages (does it break inverted index) ? How is performance
compared to the two other approaches ? Any pointer on source code showing
how it is done would help.

Thanks

-- 
Stephane Fellah, M.Sc, B.Sc
Principal Engineer/Product Manager
smartRealm LLC
201 Loudoun St. SW
Leesburg, VA 20175
Tel: 703 669 5514
Cell: 571 502 8478
Fax: 703 669 5515

--e0cb4e43cd57e83c13049e2c9191--

From java-user-return-48947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 06:10:27 2011
Return-Path: <java-user-return-48947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31939 invoked from network); 11 Mar 2011 06:10:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 06:10:27 -0000
Received: (qmail 71404 invoked by uid 500); 11 Mar 2011 06:10:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71344 invoked by uid 500); 11 Mar 2011 06:10:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71334 invoked by uid 99); 11 Mar 2011 06:10:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 06:10:24 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Mar 2011 06:10:17 +0000
Received: (qmail 28441 invoked by uid 508); 11 Mar 2011 06:09:54 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=dqvDN35dFHzVIPl5/dkv1AxTy/OUDiOTXk5cUbRjvm6KKblHrUv1TUyRKSzKGGMX  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 11 Mar 2011 06:09:54 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
References: <7293228395167128935@unknownmsgid>	<AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>	<5262941836649978873@unknownmsgid>	<AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com> <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com>
In-Reply-To: <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com>
Subject: RE: document object
Date: Fri, 11 Mar 2011 11:34:53 +0530
Message-ID: <002001cbdfb2$3d846290$b88d27b0$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvfLbcudyesKNF4S7+jhT2+xhGJNQAfxVbQ
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Erick,

Hits .length is 1800=20

Version is lucene 3.0.3=20

I need the entire result set . As I ll be fetching records which satisfy =
the
search conditions. And will be validating them wrt to current counts ,
scheduling the successful resultset.Selecting one of them on basis of =
random
scheduling.

I cannot take page wise result. As that will lead to starvation of =
documents
which are at end.

I cannot add validating current counts onto index as it is changing v
frequently. So not possible to change entire index everytime for that.

Let me know of some soln .


Let say there are 5 fields in indexing . A, B C ,D ,E

when I search 1000 records are fetched
I wanna use A, D for the time being for validating the records wrt =
counts.
Note:fields B,C,E is nt required now, bt I am fetching it and storing in =
a
list

A,D in list are given to another process for validation
After validation 700 records are in list
Of wchich one of the record displayed after scheduling with entire =
fields A,
B,C,D,E

Regards,
Suman



=20

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: Thursday, March 10, 2011 7:46 PM
To: java-user@lucene.apache.org
Subject: Re: document object

If you're loading 100,000 documents, you can expect it to be slow. If
you're loading 10 documents, it should be quite fast... So how big is
hits.length?

And what version of Lucene are you using? The Hits object has been
deprecated for quite some time I believe.....

The problem here is that you're loading the entire result set. This is
rarely the right thing to do, which is why paging is used normally.

Why do you need to load the entire result set? That seems to be the
crux of the issue.

Best
Erick

On Thu, Mar 10, 2011 at 5:22 AM, Anshum <anshumg@gmail.com> wrote:
> Depends on your data. I know that's a vague answer but that's the =
point.
> What you could do is use FieldCache if memory and data let you do so.
Would
> it?
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Thu, Mar 10, 2011 at 3:12 PM, suman.holani
<suman.holani@zapak.co.in>wrote:
>
>> Hi Anshum,
>>
>> Thanks for prompt reply.
>>
>> I am only storing the fields in index , which I want to get/fetch =
after
>> search.
>>
>> The area I am not sure is when we call searcher/reader class to
initialize
>> Document object is heavy?
>> Can we use something else in that place, which doesnot needs to load =
all
>> doc
>> again.
>>
>> Regards,
>> Suman
>>
>>
>> -----Original Message-----
>> From: Anshum [mailto:anshumg@gmail.com]
>> Sent: Thursday, March 10, 2011 3:11 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: document object
>>
>> Hi Suman,
>> Do you need to load/use all fields that you have stored in the index? =
If
>> that's not the case I'd suggest you to use the
>>
>>
>> public Document
>> <
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/D=
oc
>> ument.html>
>> *doc*(int i, FieldSelector fieldSelector)
>>
>>
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
exS
>> earcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)
>> <
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
ex
>> Searcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)>function .
>> This should help you. Also, otherwise if you're using very selective
field
>> which may be used though a FieldCache it'd be a nice thing to do.
>>
>> Hope that helps.
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
>> <suman.holani@zapak.co.in>wrote:
>>
>> >
>> >
>> > Hi,
>> >
>> >
>> >
>> > I am facing the =A0problem
>> >
>> >
>> >
>> > The line in the loop is going very slow giving me a performance hit
>> >
>> > =A0for (int i =3D 0; i < hits.length; ++i) {
>> >
>> >
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0int docId =3D hits[i].doc;
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document d =3D searcher.doc(docId); =
=A0//problem
>> >
>> > }
>> >
>> >
>> >
>> > How can I improve this. Please give me an example of the improved =
code
>> >
>> >
>> >
>> > Thanks,
>> >
>> > Suman
>> >
>> >
>> >
>> >
>> >
>> > Ps :
>> >
>> > In one of post Erick said ..
>> >
>> >
>> >
>> > this line is really suspicious:
>> >
>> > Document document =3D this.indexReader.document(doc)
>> >
>> > From the Javadoc for HitCollector.collect:
>> >
>> > Note: This is called in an inner search loop. For good search
>> performance,
>> > implementations of this method should not call
>> >
>> >
>>
>>
Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/sear=
ch/
>> > Searcher.html#doc%28int%29>or
>> >
>> >
>>
>>
IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/luc=
ene
>> > /index/IndexReader.html#document%28int%29>on
>> > every document number encountered. Doing so can slow searches by an
>> > order
>> > of magnitude or more.
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 08:51:09 2011
Return-Path: <java-user-return-48948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52844 invoked from network); 11 Mar 2011 08:51:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 08:51:09 -0000
Received: (qmail 96773 invoked by uid 500); 11 Mar 2011 08:51:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96726 invoked by uid 500); 11 Mar 2011 08:51:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96718 invoked by uid 99); 11 Mar 2011 08:51:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 08:51:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [91.121.16.47] (HELO ns23917.ovh.net) (91.121.16.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 08:50:59 +0000
Received: (qmail 1326 invoked by uid 508); 11 Mar 2011 09:02:06 -0000
Received: from unknown (HELO spotter-dclnx.intra.spotter.com) (88.182.17.109)
  by ns23917.ovh.net with AES256-SHA encrypted SMTP; 11 Mar 2011 09:02:06 -0000
Received: from techno by spotter-dclnx.intra.spotter.com with local (Exim 4.72)
	(envelope-from <dcausse@spotter.com>)
	id 1Pxy4d-00066A-IA
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 09:51:51 +0100
Date: Fri, 11 Mar 2011 09:51:51 +0100
From: David Causse <dcausse@spotter.com>
To: java-user@lucene.apache.org
Subject: Re: Is ConcurrentMergeScheduler useful for multiple running
 IndexWriter's?
Message-ID: <20110311085151.GE9672@spotter-dclnx>
Mail-Followup-To: David Causse <dcausse@spotter.com>,
	java-user@lucene.apache.org
References: <AANLkTinNGTbkNBspvStKAtUQF2M2yKsZRP6BDGBqEVFc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <AANLkTinNGTbkNBspvStKAtUQF2M2yKsZRP6BDGBqEVFc@mail.gmail.com>
User-Agent: Mutt/1.5.20 (2009-06-14)
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 04, 2011 at 07:02:48AM -0800, Jason Rutherglen wrote:
> ConcurrentMergeScheduler is tied to a specific IndexWriter, however if
> we're running in an environment (such as Solr's multiple cores, and
> other similar scenarios) then we'd have a CMS per IW.  I think this
> effectively disables CMS's max thread merge throttling feature?

Hi,

We've made the same statement, so we switched to SerialMergeScheduler,
in our case lucene run in a managed container with lot of indexes and 
lot of of updates.
In some cases we noticed the creation of too much short lived thread,
(mostly due to a not so smart IW usage, the new NRT Reader helps in this
way).
A good idea would be MergeScheduler implementation that accept an
application controlled thread pool, some sort of
ExecutorServiceMergeScheduler.

Regards.

-- 
David Causse
Spotter
http://www.spotter.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 09:35:42 2011
Return-Path: <java-user-return-48949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93926 invoked from network); 11 Mar 2011 09:35:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 09:35:42 -0000
Received: (qmail 42849 invoked by uid 500); 11 Mar 2011 09:35:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42797 invoked by uid 500); 11 Mar 2011 09:35:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42782 invoked by uid 99); 11 Mar 2011 09:35:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 09:35:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.218.48 as permitted sender)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 09:35:28 +0000
Received: by yia25 with SMTP id 25so1561459yia.35
        for <multiple recipients>; Fri, 11 Mar 2011 01:35:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=VSfPbTgqSWsjK7ACaqpdavTVy2N9HPGYHpZuhI6bYb8=;
        b=W+f6QFKwVUHNMNNcsNzvdzaXlx2OZhg+xL5cLrjW4nGRwlFvkTLHT2RPsf0gXZhekA
         CqQ73/QTMTeCCGpM3dbN/zZn9RxGg6wzpu51++BYE1QhG9Azt8Na5aqBbx2Hzmvvcw20
         Gc9VEcNsAY4UbH0Ngxc4lt1OQTHuNNx9mPW6k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=DlljGjHwsR+v6I+gvvMGCVoBkw22QnRZYqiEWctEl5n8GH8q/pdnix/5YqwplHdulZ
         YcXt+Coj4vXUzzEHrjQsTjBKDjgJNapo9VaNRf/1zLqylySVQ4rl6myN0qHJJz6mp+AF
         LB1pu//dEJIIrOosc7iWv7rTG9GjpeW7UYywU=
MIME-Version: 1.0
Received: by 10.236.120.45 with SMTP id o33mr2239565yhh.53.1299836107784; Fri,
 11 Mar 2011 01:35:07 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 01:35:07 -0800 (PST)
Date: Fri, 11 Mar 2011 17:35:07 +0800
Message-ID: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
Subject: I send a email to lucene-dev solr-dev lucene-user but always failed
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org, solr-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3010e6a578824a049e31ad08
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3010e6a578824a049e31ad08
Content-Type: text/plain; charset=ISO-8859-1

hi
    it seems my mail is judged as spam.
    Technical details of permanent failure:
Google tried to deliver your message, but it was rejected by the recipient
domain. We recommend contacting the other email provider for further
information about the cause of this error. The error that the other server
returned was: 552 552 spam score (5.1) exceeded threshold
(FREEMAIL_FROM,FS_REPLICA,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
(state 18).

--20cf3010e6a578824a049e31ad08--

From java-user-return-48950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 09:36:47 2011
Return-Path: <java-user-return-48950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99766 invoked from network); 11 Mar 2011 09:36:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 09:36:47 -0000
Received: (qmail 47330 invoked by uid 500); 11 Mar 2011 09:36:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47229 invoked by uid 500); 11 Mar 2011 09:36:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47214 invoked by uid 99); 11 Mar 2011 09:36:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 09:36:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.218.48 as permitted sender)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 09:36:35 +0000
Received: by yia25 with SMTP id 25so1561877yia.35
        for <multiple recipients>; Fri, 11 Mar 2011 01:36:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=dMCL/gxrjt5dKl/weQhcDX+8XPPuLFbXqXrCRJy3h6I=;
        b=wxRwDAQGwfcBk2Len6eR4chQzJNZo7Elh7Bj1CH4bMa7/1DEb3wiFMgftwuvRDPPcI
         k6VRj/twuZB6ZlnPsG0Og2anC6MoYPtGBw+YGQ9G+dvLVHKAzmivJ6SHLXa8aoulOH9q
         +ywNLVHX9C4BB80z7gAHZDsGAxMtBzdk+FTHk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=VCV2FilUfeLGHelPYUzZxscZKZduB4pCa4zqgMeUxM0zJRCk9E3OiOH4xrZKidA866
         uQG6q696rAcMGNs1AVs61ZbBKTKXGmyt95KS0KtUU5cXfk8Ryy88hvQTagCMhsSRag/m
         QO/Y5YY4/AOSeJPmd6D1BaPnlTEYci3PftCis=
MIME-Version: 1.0
Received: by 10.146.108.19 with SMTP id g19mr13391987yac.24.1299836174533;
 Fri, 11 Mar 2011 01:36:14 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 01:36:14 -0800 (PST)
In-Reply-To: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
References: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
Date: Fri, 11 Mar 2011 17:36:14 +0800
Message-ID: <AANLkTim1bzcjBM8JAA3mhS8E3LnW=MCn8fmUHP2B_0th@mail.gmail.com>
Subject: Re: I send a email to lucene-dev solr-dev lucene-user but always failed
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org, solr-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd56754730509049e31b198

--000e0cd56754730509049e31b198
Content-Type: text/plain; charset=ISO-8859-1

Problem of Replication Reservation Durationhi all,
    I tried to send this mail to solr dev mail list but it tells me this is
a spam. So I send it again and to lucene dev too.
    The replication handler in solr 1.4 which we used seems to be a little
problematic in some extreme situation.
    The default reserve duration is 10s and can't modified by any method.
      private Integer reserveCommitDuration =
SnapPuller.readInterval("00:00:10");
    The current implementation is: slave send a http
request(CMD_GET_FILE_LIST) to ask server list current index files.
    In the response codes of master, it will reserve this commit for 10s.
      // reserve the indexcommit for sometime
      core.getDeletionPolicy().setReserveDuration(version,
reserveCommitDuration);
   If the master's indexes are changed within 10s, the old version will not
be deleted. Otherwise, the old version will be deleted.
    slave then get the files in the list one by one.
    considering the following situation.
    Every mid-night we optimize the whole indexes into one single index, and
every 15 minutes, we add new segments to it.
    e.g. when the slave copy the large optimized indexes, it will cost more
than 15 minutes. So it will fail to copy all files and
retry 5 minutes later. But each time it will re-copy all the files into a
new tmp directory. it will fail again and again as long as
we update indexes within 15 minutes.
    we can tack this problem by setting reserveCommitDuration to 20 minutes.
But then because we update small number of
documents very frequently, many useless indexes will be reserved and it's a
waste of disk space.
    Any one confronted the problem before and is there any solution for it?
    We comes up a ugly solution like this: slave fetches files using
multithreads. each file a thread. Thus master will open all the
files that slave needs. As long as the file is opened. when master want to
delete them, these files will be deleted. But the inode
reference count is larger than 0.  Because reading too many files by master
will decrease the ability of master. we want to use
some synchronization mechanism to allow only 1 or 2 ReplicationHandler
threads are doing CMD_GET_FILE command.
    Is that solution feasible?

2011/3/11 Li Li <fancyerii@gmail.com>

> hi
>     it seems my mail is judged as spam.
>     Technical details of permanent failure:
> Google tried to deliver your message, but it was rejected by the recipient
> domain. We recommend contacting the other email provider for further
> information about the cause of this error. The error that the other server
> returned was: 552 552 spam score (5.1) exceeded threshold
> (FREEMAIL_FROM,FS_REPLICA,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
> (state 18).

--000e0cd56754730509049e31b198--

From java-user-return-48951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 10:04:56 2011
Return-Path: <java-user-return-48951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90648 invoked from network); 11 Mar 2011 10:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 10:04:56 -0000
Received: (qmail 68854 invoked by uid 500); 11 Mar 2011 10:04:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68816 invoked by uid 500); 11 Mar 2011 10:04:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68807 invoked by uid 99); 11 Mar 2011 10:04:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:04:54 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:04:49 +0000
Received: by iyj12 with SMTP id 12so3823290iyj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 02:04:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=wh1FRNFwxSrry3GsvdkszZfmaPg57IvWF8/zbLYKQzw=;
        b=Yx4I7+I8iJcxsixOPV6kYT1J0V7gz+UesdEFKotC4B/YTJX38E5J3jRtVITsMZHiaf
         7qMZA+gPiFof+6YWjM9mEMypwWxEFJ24BWcmVLH7ZE2jJ2zspIxelyJL+5WM9G+uGv2+
         OdThlPsq9i4DLggqJmRRuarWjjtoyKkEaOhgk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=OZ0rH/kunnyoaRe2cbDA2poWtrdChTvAyKTWHdJ2xJo9EWPsy0dZtuRxbWt4fNoE8r
         cQmquR8cahpg84VSZcVV/x7QUvxY+vLvpsFXG4uz/U1n0rDeNQ0Xw7s9klC/wvYUCHvV
         hMzfCn9E3Me0uTVHUg0blCM8BbQSEy8M3WADY=
Received: by 10.231.194.94 with SMTP id dx30mr6920645ibb.165.1299837869172;
 Fri, 11 Mar 2011 02:04:29 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 11 Mar 2011 02:04:09 -0800 (PST)
In-Reply-To: <4D78FD87.9060100@lsv.uni-saarland.de>
References: <4D708F60.5090507@lsv.uni-saarland.de> <AANLkTinXACiU=vSPfkPbtVTfZNFsR0ZkN_UtWFtzfeYr@mail.gmail.com>
 <4D70F9E5.1060809@lsv.uni-saarland.de> <4D78FD87.9060100@lsv.uni-saarland.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Mar 2011 10:04:09 +0000
Message-ID: <AANLkTinPRg1dNrtWXy-vDPgDehmxaDM6c_rnFHUQHp=1@mail.gmail.com>
Subject: Re: index enforcing query terms to appear within the same sentence
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

The example code in
http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-sentence-t=
d1501269.html
reads

custom standard analyzer:

public class MyStandardAnalyzer extends StandardAnalyzer implements
IndexFields {
        public MyStandardAnalyzer(Version matchVersion) {
                super(matchVersion);
        }
        public int getPositionIncrementGap(String fieldName) {
                int incrementGap =3D super.getPositionIncrementGap(fieldNam=
e);
                if (fieldName.equals(IFIELD_TEXT)) {
                        incrementGap +=3D 10;
                }
                return incrementGap;
        }
}

so if you used this analyzer and called

new Field(IFIELD_TEXT, value, ...) and

new Field("someothername", value, ...) the first field would get the
modified gaps and the second one wouldn't.


Hope that helps.


--
Ian.

On Thu, Mar 10, 2011 at 4:34 PM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Conceptually, I think I know what to do. Unfortunately, with the given
> interfaces of Lucene I have some difficulty.
>
> If I add the content of a document sentence by sentence, i.e. line by lin=
e,
> (using a multi-valued field), there are only two constructors possible:
> Field(String name, String value, Field.Store store, Field.Index index)
> or
> Field(String name, String value, Field.Store store, Field.Index index,
> Field.TermVector termVector)
> The sentence comes as a string which I get from a BufferedReader-object b=
y
> using the readLine() method.
>
> But as far as I understood, I need to access some TokenStream-object in
> order to set the PositionIncrementAttribute. So how should that work?
>
> Thank you in advance.
>
> Ian Lea schrieb:
>>>
>>> You can use multi valued fields if you play with the position
>>> increment gap. =A0See e.g.
>>>
>>> http://lucene.472066.n3.nabble.com/Problem-searching-in-the-same-senten=
ce-td1501269.html
>>>
>>> A google search for "lucene indexing sentences" or similar finds that,
>>> and more.
>>>
>>>
>>> Different docs can have different fields/different numbers of fields,
>>> but the position gap approach is probably better.
>>>
>>>
>>> --
>>> Ian.
>>>
>>>
>>> On Fri, Mar 4, 2011 at 7:06 AM, Michael Wiegand
>>> <michael.wiegand@lsv.uni-saarland.de> wrote:
>>>
>>>>
>>>> Hi,
>>>>
>>>> I would like to create an index with Lucene to a document collections =
of
>>>> text files.
>>>> The index should be created in such a way, that for the search I can
>>>> enforce
>>>> that query term A and query term B are contained within the same
>>>> sentence.
>>>>
>>>> How should implement the index? Should I have for every sentence a
>>>> different
>>>> field (but make sure that it is not a multi-valued field because they
>>>> would
>>>> get merged which is exactly what I do not want)?
>>>> Would it be problematic that different documents would then end up
>>>> having
>>>> different numbes of fields?
>>>>
>>>> Thank you in advance!
>>>>
>>>> Best,
>>>> Michael
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 10:15:06 2011
Return-Path: <java-user-return-48952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 929 invoked from network); 11 Mar 2011 10:15:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 10:15:06 -0000
Received: (qmail 76033 invoked by uid 500); 11 Mar 2011 10:15:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75996 invoked by uid 500); 11 Mar 2011 10:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75987 invoked by uid 99); 11 Mar 2011 10:15:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:15:04 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Mar 2011 10:14:57 +0000
Received: (qmail 27213 invoked by uid 508); 11 Mar 2011 10:14:33 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=QvKps1LIQFSYJTXuf6j77+4dUcLWhWcbNaz/vS7laQiFcrErsPtSINo/WyIbQ2Ff  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 11 Mar 2011 10:14:33 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: "'suman.holani'" <suman.holani@zapak.co.in>,
	<java-user@lucene.apache.org>
References: <7293228395167128935@unknownmsgid>	<AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>	<5262941836649978873@unknownmsgid>	<AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com> <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com> 
In-Reply-To: 
Subject: RE: document object
Date: Fri, 11 Mar 2011 15:39:31 +0530
Message-ID: <002701cbdfd4$6a5160d0$3ef42270$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvfLbcudyesKNF4S7+jhT2+xhGJNQAfxVbQAAmp2LA=
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

In Java I am using RAM based index


For a small case
for (int i =3D 0; i < hits.length; ++i) {
            //    Document D =3D searcher.doc(hits[i].doc);
}

Found 37 hits.
0 total milliseconds


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D


In case I uncomment the lines=20
for (int i =3D 0; i < hits.length; ++i) {
              Document D =3D searcher.doc(hits[i].doc);
}
Found 37 hits.
17 total milliseconds


How to improve this. If I am doing something wrong here.=20

The same index search in clucene takes jst less than 1 ms that too , =
when it
is File based indexes.

Regards,
Suman



-----Original Message-----
From: suman.holani [mailto:suman.holani@zapak.co.in]=20
Sent: Friday, March 11, 2011 11:35 AM
To: 'java-user@lucene.apache.org'
Subject: RE: document object

Hello Erick,

Hits .length is 1800=20

Version is lucene 3.0.3=20

I need the entire result set . As I ll be fetching records which satisfy =
the
search conditions. And will be validating them wrt to current counts ,
scheduling the successful resultset.Selecting one of them on basis of =
random
scheduling.

I cannot take page wise result. As that will lead to starvation of =
documents
which are at end.

I cannot add validating current counts onto index as it is changing v
frequently. So not possible to change entire index everytime for that.

Let me know of some soln .


Let say there are 5 fields in indexing . A, B C ,D ,E

when I search 1000 records are fetched
I wanna use A, D for the time being for validating the records wrt =
counts.
Note:fields B,C,E is nt required now, bt I am fetching it and storing in =
a
list

A,D in list are given to another process for validation
After validation 700 records are in list
Of wchich one of the record displayed after scheduling with entire =
fields A,
B,C,D,E

Regards,
Suman



=20

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: Thursday, March 10, 2011 7:46 PM
To: java-user@lucene.apache.org
Subject: Re: document object

If you're loading 100,000 documents, you can expect it to be slow. If
you're loading 10 documents, it should be quite fast... So how big is
hits.length?

And what version of Lucene are you using? The Hits object has been
deprecated for quite some time I believe.....

The problem here is that you're loading the entire result set. This is
rarely the right thing to do, which is why paging is used normally.

Why do you need to load the entire result set? That seems to be the
crux of the issue.

Best
Erick

On Thu, Mar 10, 2011 at 5:22 AM, Anshum <anshumg@gmail.com> wrote:
> Depends on your data. I know that's a vague answer but that's the =
point.
> What you could do is use FieldCache if memory and data let you do so.
Would
> it?
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Thu, Mar 10, 2011 at 3:12 PM, suman.holani
<suman.holani@zapak.co.in>wrote:
>
>> Hi Anshum,
>>
>> Thanks for prompt reply.
>>
>> I am only storing the fields in index , which I want to get/fetch =
after
>> search.
>>
>> The area I am not sure is when we call searcher/reader class to
initialize
>> Document object is heavy?
>> Can we use something else in that place, which doesnot needs to load =
all
>> doc
>> again.
>>
>> Regards,
>> Suman
>>
>>
>> -----Original Message-----
>> From: Anshum [mailto:anshumg@gmail.com]
>> Sent: Thursday, March 10, 2011 3:11 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: document object
>>
>> Hi Suman,
>> Do you need to load/use all fields that you have stored in the index? =
If
>> that's not the case I'd suggest you to use the
>>
>>
>> public Document
>> <
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/D=
oc
>> ument.html>
>> *doc*(int i, FieldSelector fieldSelector)
>>
>>
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
exS
>> earcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)
>> <
>>
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
ex
>> Searcher.html#doc(int,
>> org.apache.lucene.document.FieldSelector)>function .
>> This should help you. Also, otherwise if you're using very selective
field
>> which may be used though a FieldCache it'd be a nice thing to do.
>>
>> Hope that helps.
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
>> <suman.holani@zapak.co.in>wrote:
>>
>> >
>> >
>> > Hi,
>> >
>> >
>> >
>> > I am facing the =A0problem
>> >
>> >
>> >
>> > The line in the loop is going very slow giving me a performance hit
>> >
>> > =A0for (int i =3D 0; i < hits.length; ++i) {
>> >
>> >
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0int docId =3D hits[i].doc;
>> >
>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document d =3D searcher.doc(docId); =
=A0//problem
>> >
>> > }
>> >
>> >
>> >
>> > How can I improve this. Please give me an example of the improved =
code
>> >
>> >
>> >
>> > Thanks,
>> >
>> > Suman
>> >
>> >
>> >
>> >
>> >
>> > Ps :
>> >
>> > In one of post Erick said ..
>> >
>> >
>> >
>> > this line is really suspicious:
>> >
>> > Document document =3D this.indexReader.document(doc)
>> >
>> > From the Javadoc for HitCollector.collect:
>> >
>> > Note: This is called in an inner search loop. For good search
>> performance,
>> > implementations of this method should not call
>> >
>> >
>>
>>
Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/sear=
ch/
>> > Searcher.html#doc%28int%29>or
>> >
>> >
>>
>>
IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/luc=
ene
>> > /index/IndexReader.html#document%28int%29>on
>> > every document number encountered. Doing so can slow searches by an
>> > order
>> > of magnitude or more.
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 10:17:58 2011
Return-Path: <java-user-return-48953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8116 invoked from network); 11 Mar 2011 10:17:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 10:17:58 -0000
Received: (qmail 78246 invoked by uid 500); 11 Mar 2011 10:17:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78199 invoked by uid 500); 11 Mar 2011 10:17:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78191 invoked by uid 99); 11 Mar 2011 10:17:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:17:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:17:51 +0000
Received: by iyj12 with SMTP id 12so3837045iyj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 02:17:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=Do0Mr317+TPWNTCSbfRHRDMr9HPszMJ8invEK6b9E9k=;
        b=BFzaSgDF74v+ySJLS8ad+InA8qe2HYnFiJQbSsuPl9jcDqgKC17qwbtuipKF3Z2wt5
         793aVNOIcRhOrZJJwzkmld74SbuPDyN/9B1hXDQq6d1X8w8voKI8T5GswJ6QNyrmptyX
         PIyENbWORceEZxbwD17NCdzsr3f2PG4p4Y2so=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=cHZ0B8uRSqqg++dypsqKe7zwIcHB/ofb3P9Wh+7M9ppZbOAIYQxT4PyEJgW72UsGS4
         4a5XECc5/rRJpbJisW4+h1tL++15Iug7c8sV5+W1i/XwNqz4pKlI3VQopBHpGJBBgvnv
         YXrgMLWl+aJSrUeO2LYew7Cy5/EqPJsMnjPOA=
Received: by 10.42.115.133 with SMTP id k5mr11698162icq.181.1299838337126;
 Fri, 11 Mar 2011 02:12:17 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 11 Mar 2011 02:11:57 -0800 (PST)
In-Reply-To: <-3882729794378279587@unknownmsgid>
References: <7293228395167128935@unknownmsgid> <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
 <5262941836649978873@unknownmsgid> <AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com>
 <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com> <-3882729794378279587@unknownmsgid>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Mar 2011 10:11:57 +0000
Message-ID: <AANLkTi=OH3w5wLa7nufEHTG04omZ2SWJYU3FvvE5hxg5@mail.gmail.com>
Subject: Re: document object
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

If I've read this right you are saying that you need to look at fields
A and D for 1000 docs but B, C and E for just one.  If that is right
then lazy loading/FieldSelector will help.

But even loading just A and D for 1000 hits will inevitably take time.
 As already suggested, you could look at caching to speed that up.


--
Ian.




On Fri, Mar 11, 2011 at 6:04 AM, suman.holani <suman.holani@zapak.co.in> wr=
ote:
> Hello Erick,
>
> Hits .length is 1800
>
> Version is lucene 3.0.3
>
> I need the entire result set . As I ll be fetching records which satisfy =
the
> search conditions. And will be validating them wrt to current counts ,
> scheduling the successful resultset.Selecting one of them on basis of ran=
dom
> scheduling.
>
> I cannot take page wise result. As that will lead to starvation of docume=
nts
> which are at end.
>
> I cannot add validating current counts onto index as it is changing v
> frequently. So not possible to change entire index everytime for that.
>
> Let me know of some soln .
>
>
> Let say there are 5 fields in indexing . A, B C ,D ,E
>
> when I search 1000 records are fetched
> I wanna use A, D for the time being for validating the records wrt counts=
.
> Note:fields B,C,E is nt required now, bt I am fetching it and storing in =
a
> list
>
> A,D in list are given to another process for validation
> After validation 700 records are in list
> Of wchich one of the record displayed after scheduling with entire fields=
 A,
> B,C,D,E
>
> Regards,
> Suman
>
>
>
>
>
> -----Original Message-----
> From: Erick Erickson [mailto:erickerickson@gmail.com]
> Sent: Thursday, March 10, 2011 7:46 PM
> To: java-user@lucene.apache.org
> Subject: Re: document object
>
> If you're loading 100,000 documents, you can expect it to be slow. If
> you're loading 10 documents, it should be quite fast... So how big is
> hits.length?
>
> And what version of Lucene are you using? The Hits object has been
> deprecated for quite some time I believe.....
>
> The problem here is that you're loading the entire result set. This is
> rarely the right thing to do, which is why paging is used normally.
>
> Why do you need to load the entire result set? That seems to be the
> crux of the issue.
>
> Best
> Erick
>
> On Thu, Mar 10, 2011 at 5:22 AM, Anshum <anshumg@gmail.com> wrote:
>> Depends on your data. I know that's a vague answer but that's the point.
>> What you could do is use FieldCache if memory and data let you do so.
> Would
>> it?
>>
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Thu, Mar 10, 2011 at 3:12 PM, suman.holani
> <suman.holani@zapak.co.in>wrote:
>>
>>> Hi Anshum,
>>>
>>> Thanks for prompt reply.
>>>
>>> I am only storing the fields in index , which I want to get/fetch after
>>> search.
>>>
>>> The area I am not sure is when we call searcher/reader class to
> initialize
>>> Document object is heavy?
>>> Can we use something else in that place, which doesnot needs to load al=
l
>>> doc
>>> again.
>>>
>>> Regards,
>>> Suman
>>>
>>>
>>> -----Original Message-----
>>> From: Anshum [mailto:anshumg@gmail.com]
>>> Sent: Thursday, March 10, 2011 3:11 PM
>>> To: java-user@lucene.apache.org
>>> Subject: Re: document object
>>>
>>> Hi Suman,
>>> Do you need to load/use all fields that you have stored in the index? I=
f
>>> that's not the case I'd suggest you to use the
>>>
>>>
>>> public Document
>>> <
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/D=
oc
>>> ument.html>
>>> *doc*(int i, FieldSelector fieldSelector)
>>>
>>>
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
exS
>>> earcher.html#doc(int,
>>> org.apache.lucene.document.FieldSelector)
>>> <
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
ex
>>> Searcher.html#doc(int,
>>> org.apache.lucene.document.FieldSelector)>function .
>>> This should help you. Also, otherwise if you're using very selective
> field
>>> which may be used though a FieldCache it'd be a nice thing to do.
>>>
>>> Hope that helps.
>>> --
>>> Anshum Gupta
>>> http://ai-cafe.blogspot.com
>>>
>>>
>>> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
>>> <suman.holani@zapak.co.in>wrote:
>>>
>>> >
>>> >
>>> > Hi,
>>> >
>>> >
>>> >
>>> > I am facing the =A0problem
>>> >
>>> >
>>> >
>>> > The line in the loop is going very slow giving me a performance hit
>>> >
>>> > =A0for (int i =3D 0; i < hits.length; ++i) {
>>> >
>>> >
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0int docId =3D hits[i].doc;
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document d =3D searcher.doc(docId); =
=A0//problem
>>> >
>>> > }
>>> >
>>> >
>>> >
>>> > How can I improve this. Please give me an example of the improved cod=
e
>>> >
>>> >
>>> >
>>> > Thanks,
>>> >
>>> > Suman
>>> >
>>> >
>>> >
>>> >
>>> >
>>> > Ps :
>>> >
>>> > In one of post Erick said ..
>>> >
>>> >
>>> >
>>> > this line is really suspicious:
>>> >
>>> > Document document =3D this.indexReader.document(doc)
>>> >
>>> > From the Javadoc for HitCollector.collect:
>>> >
>>> > Note: This is called in an inner search loop. For good search
>>> performance,
>>> > implementations of this method should not call
>>> >
>>> >
>>>
>>>
> Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/sear=
ch/
>>> > Searcher.html#doc%28int%29>or
>>> >
>>> >
>>>
>>>
> IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/luc=
ene
>>> > /index/IndexReader.html#document%28int%29>on
>>> > every document number encountered. Doing so can slow searches by an
>>> > order
>>> > of magnitude or more.
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 10:46:28 2011
Return-Path: <java-user-return-48954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4303 invoked from network); 11 Mar 2011 10:46:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 10:46:27 -0000
Received: (qmail 98901 invoked by uid 500); 11 Mar 2011 10:46:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98798 invoked by uid 500); 11 Mar 2011 10:46:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98790 invoked by uid 99); 11 Mar 2011 10:46:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:46:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 10:46:18 +0000
Received: by iyj12 with SMTP id 12so3867070iyj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 02:45:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=B4LqBecrRYqAm5p6G9DJLtO7u9KyHZwc952kW3QZb44=;
        b=YJIkaD9eqKY0VVVZaqiz59e0Yu0Jf5GkgY/fradW6/8tiR0zot0oofIo70CB0egXqO
         OYg8RxhWez25LLL20YzLtB7KrxFei/O4iZ8Eiv6ZI5lntcZUpWN9azqlIsh67fWyd8DM
         LmP4iYyDsciv1XspoatR11OPGRKefNWkN8Mtg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=kNE19svmr96xiBULXUtbUA3rG3olfmMbuvi1TjQ4IlujDl4D8A4jmPrv2TEqw7xgsf
         3ax/uFpS7yZOcjn+fOj+iXGn9zHV9hwjWqdX3RA44sNdmCf4H6vee8mayPPO4d+/pelk
         Dm0/XbjgkcnerrAKVjh6g/ctPmlUqxIw7QrRg=
Received: by 10.231.194.94 with SMTP id dx30mr6945700ibb.165.1299840357249;
 Fri, 11 Mar 2011 02:45:57 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 11 Mar 2011 02:45:37 -0800 (PST)
In-Reply-To: <5382194950096405955@unknownmsgid>
References: <7293228395167128935@unknownmsgid> <AANLkTikEWnzNrTfAsOxuopTk1bg2tM4Gi6Rtm4ox_51i@mail.gmail.com>
 <5262941836649978873@unknownmsgid> <AANLkTinvUUEVQUEQBoiOpHB1r6QPtWSPk=VWvHczPRDo@mail.gmail.com>
 <AANLkTi=fYyhQ8bZa7O-ncW_wFM7QGCz0gQA31fPgS0Ow@mail.gmail.com> <5382194950096405955@unknownmsgid>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Mar 2011 10:45:37 +0000
Message-ID: <AANLkTikUNKALFaG1mgmgKkkXFsgqquhexPeTS-2AkeAq@mail.gmail.com>
Subject: Re: document object
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

You've been told several times that the searcher.doc() call can be
expensive and given suggestions as to how to improve it.  You have
provided no evidence that you have tried any of these suggestions.

I know nothing about clucene and you have not provided any evidence as
to whether your comparison is fair or not.  Maybe you should just use
clucene.


--
Ian.


On Fri, Mar 11, 2011 at 10:09 AM, suman.holani <suman.holani@zapak.co.in> w=
rote:
> Hi,
>
> In Java I am using RAM based index
>
>
> For a small case
> for (int i =3D 0; i < hits.length; ++i) {
> =A0 =A0 =A0 =A0 =A0 =A0// =A0 =A0Document D =3D searcher.doc(hits[i].doc)=
;
> }
>
> Found 37 hits.
> 0 total milliseconds
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
>
> In case I uncomment the lines
> for (int i =3D 0; i < hits.length; ++i) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0Document D =3D searcher.doc(hits[i].doc);
> }
> Found 37 hits.
> 17 total milliseconds
>
>
> How to improve this. If I am doing something wrong here.
>
> The same index search in clucene takes jst less than 1 ms that too , when=
 it
> is File based indexes.
>
> Regards,
> Suman
>
>
>
> -----Original Message-----
> From: suman.holani [mailto:suman.holani@zapak.co.in]
> Sent: Friday, March 11, 2011 11:35 AM
> To: 'java-user@lucene.apache.org'
> Subject: RE: document object
>
> Hello Erick,
>
> Hits .length is 1800
>
> Version is lucene 3.0.3
>
> I need the entire result set . As I ll be fetching records which satisfy =
the
> search conditions. And will be validating them wrt to current counts ,
> scheduling the successful resultset.Selecting one of them on basis of ran=
dom
> scheduling.
>
> I cannot take page wise result. As that will lead to starvation of docume=
nts
> which are at end.
>
> I cannot add validating current counts onto index as it is changing v
> frequently. So not possible to change entire index everytime for that.
>
> Let me know of some soln .
>
>
> Let say there are 5 fields in indexing . A, B C ,D ,E
>
> when I search 1000 records are fetched
> I wanna use A, D for the time being for validating the records wrt counts=
.
> Note:fields B,C,E is nt required now, bt I am fetching it and storing in =
a
> list
>
> A,D in list are given to another process for validation
> After validation 700 records are in list
> Of wchich one of the record displayed after scheduling with entire fields=
 A,
> B,C,D,E
>
> Regards,
> Suman
>
>
>
>
>
> -----Original Message-----
> From: Erick Erickson [mailto:erickerickson@gmail.com]
> Sent: Thursday, March 10, 2011 7:46 PM
> To: java-user@lucene.apache.org
> Subject: Re: document object
>
> If you're loading 100,000 documents, you can expect it to be slow. If
> you're loading 10 documents, it should be quite fast... So how big is
> hits.length?
>
> And what version of Lucene are you using? The Hits object has been
> deprecated for quite some time I believe.....
>
> The problem here is that you're loading the entire result set. This is
> rarely the right thing to do, which is why paging is used normally.
>
> Why do you need to load the entire result set? That seems to be the
> crux of the issue.
>
> Best
> Erick
>
> On Thu, Mar 10, 2011 at 5:22 AM, Anshum <anshumg@gmail.com> wrote:
>> Depends on your data. I know that's a vague answer but that's the point.
>> What you could do is use FieldCache if memory and data let you do so.
> Would
>> it?
>>
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Thu, Mar 10, 2011 at 3:12 PM, suman.holani
> <suman.holani@zapak.co.in>wrote:
>>
>>> Hi Anshum,
>>>
>>> Thanks for prompt reply.
>>>
>>> I am only storing the fields in index , which I want to get/fetch after
>>> search.
>>>
>>> The area I am not sure is when we call searcher/reader class to
> initialize
>>> Document object is heavy?
>>> Can we use something else in that place, which doesnot needs to load al=
l
>>> doc
>>> again.
>>>
>>> Regards,
>>> Suman
>>>
>>>
>>> -----Original Message-----
>>> From: Anshum [mailto:anshumg@gmail.com]
>>> Sent: Thursday, March 10, 2011 3:11 PM
>>> To: java-user@lucene.apache.org
>>> Subject: Re: document object
>>>
>>> Hi Suman,
>>> Do you need to load/use all fields that you have stored in the index? I=
f
>>> that's not the case I'd suggest you to use the
>>>
>>>
>>> public Document
>>> <
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/D=
oc
>>> ument.html>
>>> *doc*(int i, FieldSelector fieldSelector)
>>>
>>>
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
exS
>>> earcher.html#doc(int,
>>> org.apache.lucene.document.FieldSelector)
>>> <
>>>
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Ind=
ex
>>> Searcher.html#doc(int,
>>> org.apache.lucene.document.FieldSelector)>function .
>>> This should help you. Also, otherwise if you're using very selective
> field
>>> which may be used though a FieldCache it'd be a nice thing to do.
>>>
>>> Hope that helps.
>>> --
>>> Anshum Gupta
>>> http://ai-cafe.blogspot.com
>>>
>>>
>>> On Thu, Mar 10, 2011 at 3:01 PM, suman.holani
>>> <suman.holani@zapak.co.in>wrote:
>>>
>>> >
>>> >
>>> > Hi,
>>> >
>>> >
>>> >
>>> > I am facing the =A0problem
>>> >
>>> >
>>> >
>>> > The line in the loop is going very slow giving me a performance hit
>>> >
>>> > =A0for (int i =3D 0; i < hits.length; ++i) {
>>> >
>>> >
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0int docId =3D hits[i].doc;
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document d =3D searcher.doc(docId); =
=A0//problem
>>> >
>>> > }
>>> >
>>> >
>>> >
>>> > How can I improve this. Please give me an example of the improved cod=
e
>>> >
>>> >
>>> >
>>> > Thanks,
>>> >
>>> > Suman
>>> >
>>> >
>>> >
>>> >
>>> >
>>> > Ps :
>>> >
>>> > In one of post Erick said ..
>>> >
>>> >
>>> >
>>> > this line is really suspicious:
>>> >
>>> > Document document =3D this.indexReader.document(doc)
>>> >
>>> > From the Javadoc for HitCollector.collect:
>>> >
>>> > Note: This is called in an inner search loop. For good search
>>> performance,
>>> > implementations of this method should not call
>>> >
>>> >
>>>
>>>
> Searcher.doc(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/sear=
ch/
>>> > Searcher.html#doc%28int%29>or
>>> >
>>> >
>>>
>>>
> IndexReader.document(int)<file:///C:/lucene-2.1.0/docs/api/org/apache/luc=
ene
>>> > /index/IndexReader.html#document%28int%29>on
>>> > every document number encountered. Doing so can slow searches by an
>>> > order
>>> > of magnitude or more.
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>> >
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:03:50 2011
Return-Path: <java-user-return-48955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68324 invoked from network); 11 Mar 2011 11:03:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:03:50 -0000
Received: (qmail 16721 invoked by uid 500); 11 Mar 2011 11:03:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16673 invoked by uid 500); 11 Mar 2011 11:03:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16665 invoked by uid 99); 11 Mar 2011 11:03:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:03:47 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:03:42 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Py07t-0006ZF-Gp
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 03:03:21 -0800
Date: Fri, 11 Mar 2011 03:03:21 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1299841401493-2664316.post@n3.nabble.com>
Subject: Which is the +best +fast HTML parser/tokenizer that I can use with
 Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am trying to index content withing certain HTML tags, how do I index it ? 
Which is the best parser/tokenizer available to do this ? 

--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:08:13 2011
Return-Path: <java-user-return-48956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89447 invoked from network); 11 Mar 2011 11:08:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:08:12 -0000
Received: (qmail 22198 invoked by uid 500); 11 Mar 2011 11:08:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22158 invoked by uid 500); 11 Mar 2011 11:08:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22150 invoked by uid 99); 11 Mar 2011 11:08:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:08:10 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.218.48 as permitted sender)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:08:04 +0000
Received: by yia25 with SMTP id 25so1599358yia.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 03:07:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=a78WJ0UqgyB6Qmn+bRewhSQZxBAdCdBKs1xX8kdoh34=;
        b=v8JvrY0hQeZjv+8F1T1Zgt6in8QEXmhuXyBoUnc6PhZTHlsBwoUIIkY9gJFP3XcG8x
         rg/1dA3bWVK08Qa2Ij/N8lEWfffnZe99M3Nm2+E5tgTSJZdniEBV+up/N8pnIq39gv+s
         hznHo+0Eab40LtrhGggwIZ+QbkXpA4XWmOtyM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=nTfOEWU4A0gjFFhk2/Gm+YcSQVyaLhDjDI+yHAm+hhXdA2aIWWsrZWIs9UkwrTDqwm
         cVLzezPf8Xr9XmpVq1CoiE3cJXJPZNAkBty0ZInsfcNyJ5hjXd0tNugCmKSKpPNeW1W3
         6iGZNmEB8A0TDjXZqDCCrV+msjWx5K2s0MOE4=
MIME-Version: 1.0
Received: by 10.150.132.3 with SMTP id f3mr2553713ybd.242.1299841663346; Fri,
 11 Mar 2011 03:07:43 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 03:07:43 -0800 (PST)
In-Reply-To: <1299841401493-2664316.post@n3.nabble.com>
References: <1299841401493-2664316.post@n3.nabble.com>
Date: Fri, 11 Mar 2011 19:07:43 +0800
Message-ID: <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd487369baa97049e32f89b
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd487369baa97049e32f89b
Content-Type: text/plain; charset=ISO-8859-1

http://java-source.net/open-source/html-parsers

2011/3/11 shrinath.m <shrinath.m@webyog.com>

> I am trying to index content withing certain HTML tags, how do I index it ?
> Which is the best parser/tokenizer available to do this ?
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd487369baa97049e32f89b--

From java-user-return-48957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:12:22 2011
Return-Path: <java-user-return-48957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90601 invoked from network); 11 Mar 2011 11:12:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:12:21 -0000
Received: (qmail 28650 invoked by uid 500); 11 Mar 2011 11:12:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28615 invoked by uid 500); 11 Mar 2011 11:12:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28607 invoked by uid 99); 11 Mar 2011 11:12:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:12:19 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:12:14 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Py0GA-0007Du-3S
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 03:11:54 -0800
Date: Fri, 11 Mar 2011 03:11:54 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
In-Reply-To: <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30191_14629094.1299841914101"

------=_Part_30191_14629094.1299841914101
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thank you Li Li.

Two questions :

1. Is there anything *in* *Lucene* that I need to know of ? some contrib
module or anything as such ?
2. You ran a search in java-source.net for me, thanks for that, but do you
mind telling me which is the easiest and fastest ??

On Fri, Mar 11, 2011 at 4:38 PM, Li Li [via Lucene] <
ml-node+2664327-2139887543-376162@n3.nabble.com> wrote:

> http://java-source.net/open-source/html-parsers
>
> 2011/3/11 shrinath.m <[hidden email]<http://user/SendEmail.jtp?type=node&node=2664327&i=0&by-user=t>>
>
>
> > I am trying to index content withing certain HTML tags, how do I index it
> ?
> > Which is the best parser/tokenizer available to do this ?
> >
> > --
> > View this message in context:
> >
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html<http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html?by-user=t>
> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2664327&i=1&by-user=t>
> > For additional commands, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2664327&i=2&by-user=t>
> >
> >
>
>
> ------------------------------
>  If you reply to this email, your message will be added to the discussion
> below:
>
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664327.html
>  To unsubscribe from Which is the +best +fast HTML parser/tokenizer that I
> can use with Lucene for indexing HTML content today ?, click here<http://lucene.472066.n3.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=2664316&code=c2hyaW5hdGgubUB3ZWJ5b2cuY29tfDI2NjQzMTZ8LTIxMzY3ODQ0ODI=>.
>
>



-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664331.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_30191_14629094.1299841914101--

From java-user-return-48958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:30:40 2011
Return-Path: <java-user-return-48958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39704 invoked from network); 11 Mar 2011 11:30:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:30:39 -0000
Received: (qmail 43246 invoked by uid 500); 11 Mar 2011 11:30:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43203 invoked by uid 500); 11 Mar 2011 11:30:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43195 invoked by uid 99); 11 Mar 2011 11:30:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:30:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ivan.kristo@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:30:31 +0000
Received: by wyb40 with SMTP id 40so2996705wyb.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 03:30:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type:content-transfer-encoding;
        bh=1w+GymR4pfPzowPHK+lztNdRU2BA6tMgw7Q/kRPAAv4=;
        b=hsJSHB8ujMoa9Hwn+qvZpDfYR8XiLbP3ZaHDYomKoJjPWT6XzL7erlMlT4W/+eHLw/
         Tmjb/i13vXaaBtExfpfgYemMLSTPvjHHYV1gtj3nvKgCQ21M/mgYpCkjWtjJMspsijRm
         rmxs3mwsJr20B+lWFkcqx08G16VdWybjMJr0g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type:content-transfer-encoding;
        b=EFmchWzhhGsERzVQI2I1SafouAQkWWXr0RM3+GKjk1T6iEKyApcgQbcPCPkS8FphIU
         /U58JohSkpt8tJKBdDXNqAaHr1qwPWdkKAiiWyt1qNfLn1SSCcjPl7hbOJeN+zUL2O0T
         81zjL74MCIKK0cJuhBqp1DlGVckAufNkQARZM=
Received: by 10.216.58.194 with SMTP id q44mr1879971wec.110.1299843007103;
 Fri, 11 Mar 2011 03:30:07 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.184.148 with HTTP; Fri, 11 Mar 2011 03:29:47 -0800 (PST)
In-Reply-To: <1299841401493-2664316.post@n3.nabble.com>
References: <1299841401493-2664316.post@n3.nabble.com>
From: =?UTF-8?B?SXZhbiBLcmnFoXRv?= <ivan.kristo@gmail.com>
Date: Fri, 11 Mar 2011 12:29:47 +0100
Message-ID: <AANLkTikXD_r3jhYskpjcbJSakPD5EARyBeYMx8JRRVi3@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
To: java-user@lucene.apache.org
Cc: "shrinath.m" <shrinath.m@webyog.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hello!

On Fri, Mar 11, 2011 at 12:03 PM, shrinath.m <shrinath.m@webyog.com> wrote:
> I am trying to index content withing certain HTML tags, how do I index it=
 ?
> Which is the best parser/tokenizer available to do this ?

As a general HTML parser I would recommend "Jericho HTML Parser" -
http://jericho.htmlparser.net/docs/index.html
It is pretty robust (this is usually very important) and easy to use
(see provided examples). At the bottom of a given page you have the
short overview of few other HTML parsers.
I haven't compared it's speed with other parsers (I was only searching
for robust parser). But, this parser is neither an event nor tree
based parser (so, even automata theory can help us here).

If you need something pretty specific, like extracting all links from
page, I would recommend you to use simple regular expressions.


  Regards,
    Ivan Kri=C5=A1to

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:36:06 2011
Return-Path: <java-user-return-48959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79887 invoked from network); 11 Mar 2011 11:36:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:36:06 -0000
Received: (qmail 50244 invoked by uid 500); 11 Mar 2011 11:36:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50189 invoked by uid 500); 11 Mar 2011 11:36:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50181 invoked by uid 99); 11 Mar 2011 11:36:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:36:04 +0000
X-ASF-Spam-Status: No, hits=3.1 required=5.0
	tests=FREEMAIL_FROM,HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:35:58 +0000
Received: by yxd5 with SMTP id 5so1634746yxd.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 03:35:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=AWYZ/Nk48fkcfBXZvQTqmsDaRerZz3PYicm4JApwfVE=;
        b=tBnXyNUI1mhpmEvIm7oXkRZp0lESDYdaSmU67bIqOdebymmC5Kvan09AwUAfX2Tero
         q1GMc6OCEMFXAJNKC2eZO/nDESLctJBRR8TBjl61B/7l5YenMLb1KoNU5soabIjh6Di0
         WX8Eqq56lk6kuOz0fPOtQYaVHii36DT5/V80g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=pf5nNL9d3QZiEr0MymZud7CjPbKgYYuI9NBCEGo2BAOmgXFbbydALrjHg1STn8aUIE
         It9JcYR5FWAXG6NkKFOF+zdHF1TnZW2G9qN6svB6wj0RPi0+VtAcZN78urJOFvXfHFA2
         Q0KNQkM8xh3z4RVhTZQmqD95VyehaISpj1z9M=
MIME-Version: 1.0
Received: by 10.236.181.163 with SMTP id l23mr2848395yhm.153.1299843335159;
 Fri, 11 Mar 2011 03:35:35 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 03:35:35 -0800 (PST)
In-Reply-To: <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com>
	<AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
	<AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
Date: Fri, 11 Mar 2011 19:35:35 +0800
Message-ID: <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30426fcc418110049e335ceb
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf30426fcc418110049e335ceb
Content-Type: text/plain; charset=ISO-8859-1

1. parser is the preprocessing of documents, lucene will not know anything
about it.
2. I have only used  NekoHtmlParser. Cobra  is a java browser and it seems a
little heavy. VietSpider is very heavy because it embed mozilla browser by
SWT. MozillaParser is similar but embeding by itself(which need jni).
    if you care about speed, you can try Neko, Jericho, JTidy or Java HTML
Parser
    if you care parser quality, you can try cobra or VietSpider. because the
deals well with css javascript or related things.

    But I think the parser will most be used when crawling. So you can use
these parsers when crawling and save parsed result only.
    HtmlUnit is also a good tool for this purpose which support javascript
and parsing web pages.

2011/3/11 shrinath.m <shrinath.m@webyog.com>

> Thank you Li Li.
>
> Two questions :
>
> 1. Is there anything *in* *Lucene* that I need to know of ? some contrib
> module or anything as such ?
> 2. You ran a search in java-source.net for me, thanks for that, but do you
> mind telling me which is the easiest and fastest ??
>
> On Fri, Mar 11, 2011 at 4:38 PM, Li Li [via Lucene] <
> ml-node+2664327-2139887543-376162@n3.nabble.com> wrote:
>
> > http://java-source.net/open-source/html-parsers
> >
> > 2011/3/11 shrinath.m <[hidden email]<
> http://user/SendEmail.jtp?type=node&node=2664327&i=0&by-user=t>>
> >
> >
> > > I am trying to index content withing certain HTML tags, how do I index
> it
> > ?
> > > Which is the best parser/tokenizer available to do this ?
> > >
> > > --
> > > View this message in context:
> > >
> >
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html
> <
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664316.html?by-user=t
> >
> > > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: [hidden email]<
> http://user/SendEmail.jtp?type=node&node=2664327&i=1&by-user=t>
> > > For additional commands, e-mail: [hidden email]<
> http://user/SendEmail.jtp?type=node&node=2664327&i=2&by-user=t>
> > >
> > >
> >
> >
> > ------------------------------
> >  If you reply to this email, your message will be added to the discussion
> > below:
> >
> >
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664327.html
> >  To unsubscribe from Which is the +best +fast HTML parser/tokenizer that
> I
> > can use with Lucene for indexing HTML content today ?, click here<
> http://lucene.472066.n3.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=2664316&code=c2hyaW5hdGgubUB3ZWJ5b2cuY29tfDI2NjQzMTZ8LTIxMzY3ODQ0ODI=
> >.
> >
> >
>
>
>
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664331.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>

--20cf30426fcc418110049e335ceb--

From java-user-return-48960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 11:50:56 2011
Return-Path: <java-user-return-48960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25314 invoked from network); 11 Mar 2011 11:50:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 11:50:56 -0000
Received: (qmail 65745 invoked by uid 500); 11 Mar 2011 11:50:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65706 invoked by uid 500); 11 Mar 2011 11:50:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65698 invoked by uid 99); 11 Mar 2011 11:50:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:50:53 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 11:50:48 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Py0rU-0001RZ-5h
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 03:50:28 -0800
Date: Fri, 11 Mar 2011 03:50:28 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
In-Reply-To: <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30804_13314253.1299844228173"

------=_Part_30804_13314253.1299844228173
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Fri, Mar 11, 2011 at 5:06 PM, Li Li [via Lucene] <
ml-node+2664380-1940163870-376162@n3.nabble.com> wrote:

>   But I think the parser will most be used when crawling. So you can use
> these parsers when crawling and save parsed result only.
>

Consider we've offline HTML pages, no parsing while crawling, now what ?
Any tokenizer someone has built for this ?


How does Solr do it ?


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664411.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_30804_13314253.1299844228173--

From java-user-return-48961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 12:38:16 2011
Return-Path: <java-user-return-48961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80806 invoked from network); 11 Mar 2011 12:38:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 12:38:15 -0000
Received: (qmail 25642 invoked by uid 500); 11 Mar 2011 12:38:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25599 invoked by uid 500); 11 Mar 2011 12:38:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25591 invoked by uid 99); 11 Mar 2011 12:38:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:38:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:38:05 +0000
Received: by qyk2 with SMTP id 2so6389949qyk.14
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 04:37:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=7e6fHyRwLdCQB73ENE6Hb29XtMIF9Fd7tGUnqm3D1ds=;
        b=xm3aUqypuZEqSMIuGhctDvZEBQoJxZH/BaLbalLimDlGqJDldjW0mckzUgMkTDvWRN
         R+kyLEAx2tYc6mHWOcSepUSOXj4Wbdv5UHlgtqJ465Lry4H3mFJ6KtvzLtbmdsBmj3kZ
         ZFuyyHlTZBvxXRz/ijo0Z/XDpndafJbg3HnbQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=htSbv9bceFy8JVMd1pX7mPTBwXNsugD21V5pCUbZ3FqERlbVv3nFW+arYuVqcBUUTN
         OegrxhyRLvD5qP7/dDupC0GK3oBdvZS/xvj0meCqtGpvhQmnEwOwMq8ijuYb/NqdR94u
         hPhJpqNYHYaj9/Pb835zPl6e1v/MLs3dDW2oo=
MIME-Version: 1.0
Received: by 10.229.78.164 with SMTP id l36mr7404131qck.218.1299847065086;
 Fri, 11 Mar 2011 04:37:45 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Fri, 11 Mar 2011 04:37:45 -0800 (PST)
In-Reply-To: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
References: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
Date: Fri, 11 Mar 2011 07:37:45 -0500
Message-ID: <AANLkTimeYJKtgM6MWDq_5ZKjv7cFjNj+LJF9DCfCoyek@mail.gmail.com>
Subject: Re: I send a email to lucene-dev solr-dev lucene-user but always failed
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

What mail client are you using? I also had this problem and it's
solved in Gmail by sending the mail as "plain text" rather than
"Rich formatting".

Best
Erick

On Fri, Mar 11, 2011 at 4:35 AM, Li Li <fancyerii@gmail.com> wrote:
> hi
> =A0 =A0it seems my mail is judged as spam.
> =A0 =A0Technical details of permanent failure:
> Google tried to deliver your message, but it was rejected by the recipien=
t
> domain. We recommend contacting the other email provider for further
> information about the cause of this error. The error that the other serve=
r
> returned was: 552 552 spam score (5.1) exceeded threshold
> (FREEMAIL_FROM,FS_REPLICA,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO=
_BRKTS_FREEMAIL
> (state 18).
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 12:53:00 2011
Return-Path: <java-user-return-48962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26668 invoked from network); 11 Mar 2011 12:53:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 12:53:00 -0000
Received: (qmail 39184 invoked by uid 500); 11 Mar 2011 12:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39131 invoked by uid 500); 11 Mar 2011 12:52:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39123 invoked by uid 99); 11 Mar 2011 12:52:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:52:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:52:51 +0000
Received: by qyk2 with SMTP id 2so6401641qyk.14
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 04:52:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=8g1Cl074VpslbDkftUCQ5nop5J1Xr++3deHLCAOJDTM=;
        b=leYzgiSpTCDEwqafrbWbAKmfm22pc0BEj5PsrnyaO1E71fEpELoKcZQixO251KugKy
         wRruDUS5nqcbnR3JwN2XrKjW1fKV0uXgKIOo6RRqZ/bndVQw91Gsx8lpducODKvwnDh8
         rDUCZwqHozj4J1NKRthMJZXIhR9QO8ezVPr+g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Z2GN8tjXuDsa3IGlq46bgD/G44mXW13AKoZNyHQqy4A4nJPL4vyNgHXo3p3OI7C95I
         vLciOX2sbPkP5P8j5Dw3HgmHNv6gV1NvEGKInRgSfg5eg83hZJpB6UWVsK8vPWKDRfXL
         LPsnYu7Iy6sW3brAyPVOIwLaD2r0DEqYOXNRE=
MIME-Version: 1.0
Received: by 10.229.78.164 with SMTP id l36mr7420271qck.218.1299847950632;
 Fri, 11 Mar 2011 04:52:30 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Fri, 11 Mar 2011 04:52:30 -0800 (PST)
In-Reply-To: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com>
References: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com>
Date: Fri, 11 Mar 2011 07:52:30 -0500
Message-ID: <AANLkTinExquAVyzKSPi4joHkOqdtPOyAfZ1DeK_DNiMg@mail.gmail.com>
Subject: Re: Indexing of multilingual labels
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

It's not so much a matter of problems with indexing/searching
as it is with search behavior. The reason these strategies
are implemented is that using English stemming, say, on
other languages will produce "interesting" results.

There's no a-priori reason you can't index multiple languages
in the same field.

So I don't see what you would accomplish by using payloads
to indicate which language the term is in. Could you expand
a bit on what you're trying to accomplish here? Maybe there
are better solutions....

Best
Erick


On Thu, Mar 10, 2011 at 10:29 PM, Stephane Fellah
<sfellah@smartrealm.com> wrote:
> I =A0am trying to index in Lucene a field that could have label of concep=
ts in
> different languages. Most of the approaches I have seen so far are:
>
> =A0 -
>
> =A0 Use a single index, where each document has a field per each language=
 it
> =A0 uses, or
> =A0 -
>
> =A0 Use M indexes, M being the number of languages in the corpus.
>
> Lucene 2.9+ has a feature called Payload that allows to attach attributes=
 to
> term. Is anyone use this mechanism to store language (or other attributes
> such as datatypes) information ? Does this approach if labels are the sam=
e
> in different languages (does it break inverted index) ? How is performanc=
e
> compared to the two other approaches ? Any pointer on source code showing
> how it is done would help.
>
> Thanks
>
> --
> Stephane Fellah, M.Sc, B.Sc
> Principal Engineer/Product Manager
> smartRealm LLC
> 201 Loudoun St. SW
> Leesburg, VA 20175
> Tel: 703 669 5514
> Cell: 571 502 8478
> Fax: 703 669 5515
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 12:57:08 2011
Return-Path: <java-user-return-48963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28794 invoked from network); 11 Mar 2011 12:57:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 12:57:07 -0000
Received: (qmail 48076 invoked by uid 500); 11 Mar 2011 12:57:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48018 invoked by uid 500); 11 Mar 2011 12:57:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47984 invoked by uid 99); 11 Mar 2011 12:57:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:57:06 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 12:57:01 +0000
Received: by qyk2 with SMTP id 2so6404997qyk.14
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 04:56:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=nuCIysYpvlzG8dh1eS7kPvc1rq+DtgKzAzHD5Q1dvJ4=;
        b=DvfX5UHc6+1XgzKGsSFDb8VkvK/8oqWKYFXGgcYkRGuZV+FgKOrNNm1W0GcjsTSsWh
         N2S7repM1p6K3CGToRdkj1Gs/T3bA+yIYiVAWnctsuMzT0+zWPlyNt+NiqPnpE+1Wm42
         7HFxJcN4k4lMnk7jbRWmccB78rpFUquF1Q1hA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=TLDTzmB15ZYBydCCueRme5JjGtJmnOfEu0z9MTpEpjoZUkNK8EnT/JljmB7mQGumdu
         DUC5XHZN05yBpTxpxLHVX5vSXWLxZjAE6bzVnuLR8qj+k7sqdBpj9rp3qp4epimlkPWd
         950CDIMCbFSylpvefIpFbsBu+t8Imq1dKtjZQ=
MIME-Version: 1.0
Received: by 10.229.65.33 with SMTP id g33mr6325344qci.294.1299848200968; Fri,
 11 Mar 2011 04:56:40 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Fri, 11 Mar 2011 04:56:40 -0800 (PST)
In-Reply-To: <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com>
	<AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
	<AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
	<AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
	<AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
Date: Fri, 11 Mar 2011 07:56:40 -0500
Message-ID: <AANLkTimh6BpPwotLowzW1ENvkn5ftpbotL1U79o-3_pU@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Solr doesn't do it. There exist various tokenizers/filters that just strip
the HTML tags, but there's nothing built into Solr that I know of that
understands HTML, HTML-aware operations are outside Solr's purview.

Best
Erick

On Fri, Mar 11, 2011 at 6:50 AM, shrinath.m <shrinath.m@webyog.com> wrote:
> On Fri, Mar 11, 2011 at 5:06 PM, Li Li [via Lucene] <
> ml-node+2664380-1940163870-376162@n3.nabble.com> wrote:
>
>> =A0 But I think the parser will most be used when crawling. So you can u=
se
>> these parsers when crawling and save parsed result only.
>>
>
> Consider we've offline HTML pages, no parsing while crawling, now what ?
> Any tokenizer someone has built for this ?
>
>
> How does Solr do it ?
>
>
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Which-is=
-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexin=
g-HTML-content-to-tp2664316p2664411.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 13:14:42 2011
Return-Path: <java-user-return-48964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83611 invoked from network); 11 Mar 2011 13:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 13:14:42 -0000
Received: (qmail 63657 invoked by uid 500); 11 Mar 2011 13:14:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63615 invoked by uid 500); 11 Mar 2011 13:14:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63607 invoked by uid 99); 11 Mar 2011 13:14:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:14:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trewig@mufin.com designates 195.214.216.123 as permitted sender)
Received: from [195.214.216.123] (HELO mx3.de.magix.net) (195.214.216.123)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:14:32 +0000
Received: from [192.168.1.18] (port=42552)
	by mx3.de.magix.net with esmtpa (Exim 4.69)
	(envelope-from <trewig@mufin.com>)
	id 1Py2AM-0001aV-Kd
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 14:14:02 +0100
Message-ID: <4D7A200A.1040706@mufin.com>
Date: Fri, 11 Mar 2011 14:13:46 +0100
From: Thomas Rewig <trewig@mufin.com>
Organization: mufin
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.2.9) Gecko/20100915 Thunderbird/3.1.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Check Numeric Fields
Content-Type: multipart/alternative;
 boundary="------------020708050706010603010601"
X-SA-Exim-Connect-IP: 192.168.1.18
X-SA-Exim-Mail-From: trewig@mufin.com
X-SA-Exim-Scanned: No (on mx3.de.magix.net); SAEximRunCond expanded to false

--------------020708050706010603010601
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

  Hello,

I use a index with a numeric field:

    /doc.add( new Field(...));/
    /doc.add( new Field(...));/
    /doc.add(new NumericField(fieldName,Field.Store.YES,true)/
    /                                                   
    .setIntValue(intFieldValue));/
    /indexWriter.addDocument(doc);/


Then I search with a BooleanQuery with a NumericRangeQuery as subquery:

    /...
    BooleanQuery query = new BooleanQuery();/

    ...
    /query.add(...)/
    /query.add(...)/
    /if(duration != -1) {/
    /    query.add(NumericRangeQuery.newIntRange(durationFieldName,/
    /                    Math.max(0, duration - DURATION_RANGE), /
    /                    duration + DURATION_RANGE, true, true),/
    /                    BooleanClause.Occur.SHOULD);/
    }
    ...

With that query I cannot find the document I search for - even if I 
tested the statement with the exact duration it is not to find:

    /NumericRangeQuery.newIntRange(//durationFieldName//,/
    /                    duration, /
    /                     duration, true, true)/


But if I look with luke in the index the document is indexed and inside 
the index and if i search the document with duration = -1 the doc will 
be found.

So here are the questions:

1. Is there a way to see if the field is indexed correct as a numeric 
Field?
Luke shows: ITS---f0-- . So the field is Indexed, Tokenized, Stored, 
Omit TF, Omit Norms  but I don't see if the Field is a NumericField.

2. What may be the reason, that the NumericRangeQuery query does not work?

I use lucene v. 3.0.2.

Thanks in advance!
Thomas

--------------020708050706010603010601--

From java-user-return-48965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 13:33:06 2011
Return-Path: <java-user-return-48965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47654 invoked from network); 11 Mar 2011 13:33:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 13:33:06 -0000
Received: (qmail 82950 invoked by uid 500); 11 Mar 2011 13:33:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82906 invoked by uid 500); 11 Mar 2011 13:33:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82898 invoked by uid 99); 11 Mar 2011 13:33:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:33:03 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:32:58 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Py2SL-0001CS-6r
	for java-user@lucene.apache.org; Fri, 11 Mar 2011 05:32:37 -0800
Date: Fri, 11 Mar 2011 05:32:37 -0800 (PST)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTikHx+_D3mnxaNk-ff2QWCtbniLmM+9-GTJzxOQg@mail.gmail.com>
In-Reply-To: <AANLkTimh6BpPwotLowzW1ENvkn5ftpbotL1U79o-3_pU@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com> <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com> <AANLkTimh6BpPwotLowzW1ENvkn5ftpbotL1U79o-3_pU@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32323_28155792.1299850357207"

------=_Part_32323_28155792.1299850357207
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Fri, Mar 11, 2011 at 6:27 PM, Erick Erickson [via Lucene] <
ml-node+2664607-1236630615-376162@n3.nabble.com> wrote:

> Solr doesn't do it. There exist various tokenizers/filters that just strip
> the HTML tags, but there's nothing built into Solr that I know of that
> understands HTML, HTML-aware operations are outside Solr's purview.
>
>
This is how Solr achieve it :
http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.HTMLStripStandardTokenizerFactory


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2664717.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_32323_28155792.1299850357207--

From java-user-return-48966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 13:41:14 2011
Return-Path: <java-user-return-48966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74175 invoked from network); 11 Mar 2011 13:41:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 13:41:13 -0000
Received: (qmail 95112 invoked by uid 500); 11 Mar 2011 13:41:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95065 invoked by uid 500); 11 Mar 2011 13:41:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95057 invoked by uid 99); 11 Mar 2011 13:41:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:41:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:41:05 +0000
Received: by gxk7 with SMTP id 7so170961gxk.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 05:40:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Ax5d2XfRcDvQJCjotGTttVaL4dm6BaXseqDLtu5xBFo=;
        b=WZiIyuZoisMwq1OLv6JC0fFla5ovCmzehPiHGg2gHT4PY+DE8Lzb0vQDJTDcNRauIo
         uZPpZr/LZ5P4zya/EB/sKcvQCdufruUQ8c6JmkoxImCAiFPEe3HfNyYOLkSF8zXN8X15
         2Y39kGfM7BmHU6Kw2G06aMAne41Z7WNLMGdx8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vLWI7gWF/EURg0OBJK69M0joQd9QCO9PL6h54EDKyR8aFHOt+ZzPpNBsQs56GLp2Ei
         iCSM/rNd/1MjQbTCGvcMnflx8rE+5PkK34Zfc92bl2p3l6zFOOEG9Pb/m3h2W3gY61lu
         +Uh1xg4yBBEfQwNyCm4nAP9f+PXiSxcW6AGlA=
MIME-Version: 1.0
Received: by 10.236.181.163 with SMTP id l23mr3009406yhm.153.1299850844226;
 Fri, 11 Mar 2011 05:40:44 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 05:40:44 -0800 (PST)
In-Reply-To: <AANLkTimeYJKtgM6MWDq_5ZKjv7cFjNj+LJF9DCfCoyek@mail.gmail.com>
References: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
	<AANLkTimeYJKtgM6MWDq_5ZKjv7cFjNj+LJF9DCfCoyek@mail.gmail.com>
Date: Fri, 11 Mar 2011 21:40:44 +0800
Message-ID: <AANLkTimLZUAvtekTnKLhdWhxW2eFL77dkdsu2tx=rXTP@mail.gmail.com>
Subject: Re: I send a email to lucene-dev solr-dev lucene-user but always failed
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30426fccd4c31e049e351bc5

--20cf30426fccd4c31e049e351bc5
Content-Type: text/plain; charset=ISO-8859-1

I don't use any client but browser.

2011/3/11 Erick Erickson <erickerickson@gmail.com>

> What mail client are you using? I also had this problem and it's
> solved in Gmail by sending the mail as "plain text" rather than
> "Rich formatting".
>
> Best
> Erick
>
> On Fri, Mar 11, 2011 at 4:35 AM, Li Li <fancyerii@gmail.com> wrote:
> > hi
> >    it seems my mail is judged as spam.
> >    Technical details of permanent failure:
> > Google tried to deliver your message, but it was rejected by the
> recipient
> > domain. We recommend contacting the other email provider for further
> > information about the cause of this error. The error that the other
> server
> > returned was: 552 552 spam score (5.1) exceeded threshold
> >
> (FREEMAIL_FROM,FS_REPLICA,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
> > (state 18).
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf30426fccd4c31e049e351bc5--

From java-user-return-48967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 13:42:12 2011
Return-Path: <java-user-return-48967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74421 invoked from network); 11 Mar 2011 13:42:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 13:42:12 -0000
Received: (qmail 2258 invoked by uid 500); 11 Mar 2011 13:42:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2203 invoked by uid 500); 11 Mar 2011 13:42:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2195 invoked by uid 99); 11 Mar 2011 13:42:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:42:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.25] (HELO triton.rz.uni-saarland.de) (134.96.7.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:42:01 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by triton.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p2BDfdf7031708
	for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 14:41:39 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id 266A876B53; Fri, 11 Mar 2011 14:41:39 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id 1E0B176B43
	for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 14:41:38 +0100 (CET)
Message-ID: <4D7A2691.9080508@lsv.uni-saarland.de>
Date: Fri, 11 Mar 2011 14:41:37 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: overall number of hits
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (triton.rz.uni-saarland.de [134.96.7.25]); Fri, 11 Mar 2011 14:41:39 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.176; VDF: 7.11.3.249; host: AntiVir3)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Hi,

I am currently mainly interested in the overall number of matches in a 
document collection (several GBs) given a particular query.
At the moment I am not interested in the matching documents themselves; 
just the number would be sufficient.
In previous versions of lucene the Searcher class had a method 
"search(Query query)" but this method is now deprecated.
The alternative methods of "search()" (that are not deprecated) require 
the user to specify the number of topN documents and a filter.
Is there no counterpart for the old plain "search(Query query)"?


Thank you in advance.

Best,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 13:44:45 2011
Return-Path: <java-user-return-48968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74851 invoked from network); 11 Mar 2011 13:44:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 13:44:45 -0000
Received: (qmail 9199 invoked by uid 500); 11 Mar 2011 13:44:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9009 invoked by uid 500); 11 Mar 2011 13:44:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9001 invoked by uid 99); 11 Mar 2011 13:44:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:44:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 13:44:36 +0000
Received: by gwj22 with SMTP id 22so1366300gwj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 05:44:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=AlmTFfZK/GSOFw4QJ3kTJeK0QL2gBUK6xm3081lifM0=;
        b=YPppuzVX03kcfr36jN2lkGBj3t+tm5xDg69hZ6rfHJNZBtd4QvzInwRPALy5lG6NyH
         a12/mJuO5uzbu3VqLBcW6Dya92B7QUucbwt20QOlCyu8RBeWdJkmPZ3UIcwAbVrqiGpt
         Lf80zh4pIxEjtNaq0o50CIfz/CgQ+fNClUnz8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=ZWpP1JdyYdMMz3UhlJ0Dk+3eaw9QIEIE9j8X5GOwIBjxMTYZu0c6hjhZPfa9u/Eh3N
         MIYnJRytepX0qFt8N4jV1Ss72iWqP20KdOPLTCN8FV66ZwRBeZiwPNThRu3CaykPL4Wb
         xzI3rsZlBQ6FOXmKDw6P438MzrBQn2ASwXFn0=
MIME-Version: 1.0
Received: by 10.146.192.5 with SMTP id p5mr13706825yaf.39.1299851055661; Fri,
 11 Mar 2011 05:44:15 -0800 (PST)
Received: by 10.146.84.3 with HTTP; Fri, 11 Mar 2011 05:44:15 -0800 (PST)
In-Reply-To: <AANLkTimeYJKtgM6MWDq_5ZKjv7cFjNj+LJF9DCfCoyek@mail.gmail.com>
References: <AANLkTi=eJdVVsaJ81inBSOxpLJA6jo=KkccwGmcYXTUO@mail.gmail.com>
	<AANLkTimeYJKtgM6MWDq_5ZKjv7cFjNj+LJF9DCfCoyek@mail.gmail.com>
Date: Fri, 11 Mar 2011 21:44:15 +0800
Message-ID: <AANLkTin74aet2x7iwDx3=G4=yoOO5xLP_0Rqxr-j56oM@mail.gmail.com>
Subject: Re: I send a email to lucene-dev solr-dev lucene-user but always failed
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I used plain text and sent successfully. thanks.

2011/3/11 Erick Erickson <erickerickson@gmail.com>:
> What mail client are you using? I also had this problem and it's
> solved in Gmail by sending the mail as "plain text" rather than
> "Rich formatting".
>
> Best
> Erick
>
> On Fri, Mar 11, 2011 at 4:35 AM, Li Li <fancyerii@gmail.com> wrote:
>> hi
>> =A0 =A0it seems my mail is judged as spam.
>> =A0 =A0Technical details of permanent failure:
>> Google tried to deliver your message, but it was rejected by the recipie=
nt
>> domain. We recommend contacting the other email provider for further
>> information about the cause of this error. The error that the other serv=
er
>> returned was: 552 552 spam score (5.1) exceeded threshold
>> (FREEMAIL_FROM,FS_REPLICA,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_N=
O_BRKTS_FREEMAIL
>> (state 18).
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 14:54:41 2011
Return-Path: <java-user-return-48969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18243 invoked from network); 11 Mar 2011 14:54:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 14:54:41 -0000
Received: (qmail 12307 invoked by uid 500); 11 Mar 2011 14:54:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12226 invoked by uid 500); 11 Mar 2011 14:54:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12143 invoked by uid 99); 11 Mar 2011 14:54:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 14:54:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 14:54:31 +0000
Received: by iyj12 with SMTP id 12so4172824iyj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 06:54:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=VEZEZgG4UMZADlHOyeeqRGcTm/zWZlMogSLVp9kXIOk=;
        b=j1gqIIl+qgJLBAkFCig5Y/YbO/5wBQuSzFnRqAjFfsREau/kDtHaSkFEeifGLURsMy
         ChSfJDCn/Kf4L0lYeD7gpbNhoSBq1mURMjwrZkWavrtP9Kr8JceUpFxfaMXv6ciE/AOr
         tw2IqaIziFShF/E/2NFhVptecPqLfZuBlDoI8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Fvvs3NY+U9dBc68O9mA0HVZiRRZamY6b6GleHuJ7JjojWUE+M1aL3af4J97xM5ep4w
         2ulcIJgUdVZQI/8QeGWTbdVDu9s57BGjs2yRM4pkEFgXHhRSUJQqvywgbvMoRsdd9Y3D
         8pPZ/61rT7cjjaEoHyF0BaEf9nrOjgemkilUg=
Received: by 10.43.64.10 with SMTP id xg10mr11475677icb.47.1299855250119; Fri,
 11 Mar 2011 06:54:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Fri, 11 Mar 2011 06:53:50 -0800 (PST)
In-Reply-To: <4D7A2691.9080508@lsv.uni-saarland.de>
References: <4D7A2691.9080508@lsv.uni-saarland.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Mar 2011 14:53:50 +0000
Message-ID: <AANLkTikYr7D-926UbG1pVJmS-OamS9h72d3BhLdf1dzY@mail.gmail.com>
Subject: Re: overall number of hits
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

There are search methods that don't require a filter, but you are
right that there is nothing quite as simple as search(q).

>From http://www.gossamer-threads.com/lists/lucene/java-user/95032 you can use

TopDocs tp = ms.search(lucquery, 1);
And then the total count is in tp.totalHits


--
Ian.


On Fri, Mar 11, 2011 at 1:41 PM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Hi,
>
> I am currently mainly interested in the overall number of matches in a
> document collection (several GBs) given a particular query.
> At the moment I am not interested in the matching documents themselves; just
> the number would be sufficient.
> In previous versions of lucene the Searcher class had a method "search(Query
> query)" but this method is now deprecated.
> The alternative methods of "search()" (that are not deprecated) require the
> user to specify the number of topN documents and a filter.
> Is there no counterpart for the old plain "search(Query query)"?
>
>
> Thank you in advance.
>
> Best,
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 15:36:14 2011
Return-Path: <java-user-return-48970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67969 invoked from network); 11 Mar 2011 15:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 15:36:14 -0000
Received: (qmail 87522 invoked by uid 500); 11 Mar 2011 15:36:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87473 invoked by uid 500); 11 Mar 2011 15:36:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87465 invoked by uid 99); 11 Mar 2011 15:36:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 15:36:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 15:36:05 +0000
Received: by wwc33 with SMTP id 33so2238278wwc.5
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 07:35:44 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.240.141 with SMTP id e13mr7819045wer.105.1299857741062;
 Fri, 11 Mar 2011 07:35:41 -0800 (PST)
Received: by 10.216.221.223 with HTTP; Fri, 11 Mar 2011 07:35:41 -0800 (PST)
In-Reply-To: <AANLkTinExquAVyzKSPi4joHkOqdtPOyAfZ1DeK_DNiMg@mail.gmail.com>
References: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com>
	<AANLkTinExquAVyzKSPi4joHkOqdtPOyAfZ1DeK_DNiMg@mail.gmail.com>
Date: Fri, 11 Mar 2011 10:35:41 -0500
Message-ID: <AANLkTing9656NYf2A+bd5L=2R0qDwbm5m+Yk8TXSpKot@mail.gmail.com>
Subject: Re: Indexing of multilingual labels
From: Stephane Fellah <sfellah@smartrealm.com>
To: java-user@lucene.apache.org
Cc: Erick Erickson <erickerickson@gmail.com>
Content-Type: multipart/alternative; boundary=e0cb4e43cd57ea20cb049e36b66e
X-Virus-Checked: Checked by ClamAV on apache.org

--e0cb4e43cd57ea20cb049e36b66e
Content-Type: text/plain; charset=ISO-8859-1

Erick,

I am trying to index multilingual taxonomies such as SKOS, Wordnet,
Eurowordnet. Taxonomies are composed of concepts which have preferred and
alternative labels in different languages. Some labels are the same lexical
form in different languages. I want to be able to index these concepts in
Lucene in order to be able to search concepts by their label in one or
several languages. I want also be able to display concept definition with
all the alternative labels in different languages. My question is: could we
use the payload mechanism to store the language assigned to the word (i read
somewhere Google was using payload to store information such as font for
example, so why not language) ? Wouldn't be a better approach then using one
field per language or one index per language ?

REgards
Stephane

On Fri, Mar 11, 2011 at 7:52 AM, Erick Erickson <erickerickson@gmail.com>wrote:

> It's not so much a matter of problems with indexing/searching
> as it is with search behavior. The reason these strategies
> are implemented is that using English stemming, say, on
> other languages will produce "interesting" results.
>
> There's no a-priori reason you can't index multiple languages
> in the same field.
>
> So I don't see what you would accomplish by using payloads
> to indicate which language the term is in. Could you expand
> a bit on what you're trying to accomplish here? Maybe there
> are better solutions....
>
> Best
> Erick
>
>
> On Thu, Mar 10, 2011 at 10:29 PM, Stephane Fellah
> <sfellah@smartrealm.com> wrote:
> > I  am trying to index in Lucene a field that could have label of concepts
> in
> > different languages. Most of the approaches I have seen so far are:
> >
> >   -
> >
> >   Use a single index, where each document has a field per each language
> it
> >   uses, or
> >   -
> >
> >   Use M indexes, M being the number of languages in the corpus.
> >
> > Lucene 2.9+ has a feature called Payload that allows to attach attributes
> to
> > term. Is anyone use this mechanism to store language (or other attributes
> > such as datatypes) information ? Does this approach if labels are the
> same
> > in different languages (does it break inverted index) ? How is
> performance
> > compared to the two other approaches ? Any pointer on source code showing
> > how it is done would help.
> >
> > Thanks
> >
> > --
> > Stephane Fellah, M.Sc, B.Sc
> > Principal Engineer/Product Manager
> > smartRealm LLC
> > 201 Loudoun St. SW
> > Leesburg, VA 20175
> > Tel: 703 669 5514
> > Cell: 571 502 8478
> > Fax: 703 669 5515
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Stephane Fellah, M.Sc, B.Sc
Principal Engineer/Product Manager
smartRealm LLC
201 Loudoun St. SW
Leesburg, VA 20175
Tel: 703 669 5514
Cell: 571 502 8478
Fax: 703 669 5515

--e0cb4e43cd57ea20cb049e36b66e--

From java-user-return-48971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 15:43:09 2011
Return-Path: <java-user-return-48971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71970 invoked from network); 11 Mar 2011 15:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 15:43:09 -0000
Received: (qmail 645 invoked by uid 500); 11 Mar 2011 15:43:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 603 invoked by uid 500); 11 Mar 2011 15:43:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 595 invoked by uid 99); 11 Mar 2011 15:43:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 15:43:06 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 15:43:01 +0000
Received: from parc.com ([13.1.102.103]) by alpha.xerox.com with SMTP id <174964(1)>; Fri, 11 Mar 2011 07:42:23 PST
To: java-user@lucene.apache.org
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use with Lucene for indexing HTML content today ?
In-reply-to: <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com> <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
Comments: In-reply-to "shrinath.m" <shrinath.m@webyog.com>
    message dated "Fri, 11 Mar 2011 03:50:28 -0800."
Cc: janssen@parc.com
X-Mailer: MH-E 8.2; nmh 1.3; GNU Emacs 23.1.90
Date: Fri, 11 Mar 2011 07:42:22 PST
Message-ID: <23383.1299858142@parc.com>
From: Bill Janssen <janssen@parc.com>

shrinath.m <shrinath.m@webyog.com> wrote:

> Consider we've offline HTML pages, no parsing while crawling, now what ?
> Any tokenizer someone has built for this ?

In UpLib, which uses PyLucene, I use BeautifulSoup to simplify Web pages
by selecting only text between certain tags, before indexing them.
These are offline Web pages, as in your application.  Take a look at 
<http://uplib.parc.com/hg/uplib/file/2a204fc2dd1a/extensions/FilterWebPage.py>.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 11 16:24:36 2011
Return-Path: <java-user-return-48972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15617 invoked from network); 11 Mar 2011 16:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Mar 2011 16:24:35 -0000
Received: (qmail 88550 invoked by uid 500); 11 Mar 2011 16:24:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88388 invoked by uid 500); 11 Mar 2011 16:24:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88365 invoked by uid 99); 11 Mar 2011 16:24:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 16:24:27 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2011 16:24:20 +0000
Received: by vxi40 with SMTP id 40so3422194vxi.35
        for <multiple recipients>; Fri, 11 Mar 2011 08:23:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:date:message-id:subject
         :from:to:content-type;
        bh=njRbovWTYzq4xLNYaNGV8kfuYDsrVUa89jRyxxzrPfE=;
        b=H4efsC1Mwk0cGTEomy+HJWvTAJsCdavJaan62bmEmcdsoaxaPi4eVTAul+3XCmIQdU
         5z3rcWUTVsPk5op2Gz1QjP1X9Ly5/KbeM3AO2XVC3eKZ5Cms3OLCQ0HNh8YgfPdmqZdv
         j+wd7AwHLDtrHxqgZoz2Ae2NNQmGHI9vOWqRc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:date:message-id:subject:from:to:content-type;
        b=hkNgA1GoDgusILAqDsnf8ho53gCve+qGO0EqT5edzgAlXy9vNIkwz59U1EF07lxXRH
         ZoKeBAK+UA2h/ZMWStqMfTYSy2t95eSknjvUFdmifagLIcn5nsg3KMlOqC5o7Pwmec7d
         5l9LHlQdNyT8k53YptKz2JJvkdhCvkT5DgZtI=
MIME-Version: 1.0
Received: by 10.52.18.9 with SMTP id s9mr6242594vdd.211.1299860638766; Fri, 11
 Mar 2011 08:23:58 -0800 (PST)
Received: by 10.52.168.194 with HTTP; Fri, 11 Mar 2011 08:23:58 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
Date: Fri, 11 Mar 2011 17:23:58 +0100
Message-ID: <AANLkTikLPmXo435a2=X6J_CHcqxk+WqH52fg8LTCdb9V@mail.gmail.com>
Subject: [GSoC] Apache Lucene @ Google Summer of Code 2011 [STUDENTS READ THIS]
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: dev@lucene.apache.org, solr-user@lucene.apache.org, 
	java-user <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hey folks,

Google Summer of Code 2011 is very close and the Project Applications
Period has started recently. Now it's time to get some excited students
on board for this year's GSoC.

I encourage students to submit an application to the Google Summer of Code
web-application. Lucene & Solr are amazing projects and GSoC is an
incredible opportunity to join the community and push the project
forward.

If you are a student and you are interested spending some time on a
great open source project while getting paid for it, you should submit
your application from March 28 - April 8, 2011. There are only 3
weeks until this process starts!

Quote from the GSoC website: "We hear almost universally from our
mentoring organizations that the best applications they receive are
from students who took the time to interact and discuss their ideas
before submitting an application, so make sure to check out each
organization's Ideas list to get to know a particular open source
organization better."

So if you have any ideas what Lucene & Solr should have, or if you
find any of the GSoC pre-selected projects [1] interesting, please
join us on dev@lucene.apache.org [2].  Since you as a student must
apply for a certain project via the GSoC website [3], it's a good idea
to work on it ahead of time and include the community and possible
mentors as soon as possible.

Open source development here at the Apache Software
Foundation happens almost exclusively in the public and I encourage you to
follow this. Don't mail folks privately; please use the mailing list to
get the best possible visibility and attract interested community
members and push your idea forward. As always, it's the idea that
counts not the person!

That said, please do not underestimate the complexity of even small
"GSoC - Projects". Don't try to rewrite Lucene or Solr!  A project
usually gains more from a smaller, well discussed and carefully
crafted & tested feature than from a half baked monster change that's
too large to work with.

Once your proposal has been accepted and you begin work, you should
give the community the opportunity to iterate with you.  We prefer
"progress over perfection" so don't hesitate to describe your overall
vision, but when the rubber meets the road let's take it in small
steps.  A code patch of 20 KB is likely to be reviewed very quickly so
get fast feedback, while a patch even 60kb in size can take very
- Hide quoted text -
long. So try to break up your vision and the community will work with
you to get things done!

On behalf of the Lucene & Solr community,

Go! join the mailing list and apply for GSoC 2011,

Simon

[1] https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&jqlQuery=labels+%3D+lucene-gsoc-11
[2] http://lucene.apache.org/java/docs/mailinglists.html
[3] http://www.google-melange.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 12 03:40:15 2011
Return-Path: <java-user-return-48973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12020 invoked from network); 12 Mar 2011 03:40:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Mar 2011 03:40:15 -0000
Received: (qmail 60524 invoked by uid 500); 12 Mar 2011 03:40:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60488 invoked by uid 500); 12 Mar 2011 03:40:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60480 invoked by uid 99); 12 Mar 2011 03:40:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 03:40:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of srssreejith@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 03:40:07 +0000
Received: by iyj12 with SMTP id 12so5058977iyj.35
        for <java-user@lucene.apache.org>; Fri, 11 Mar 2011 19:39:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=sPcqvm5KB6oJUoxutA4gLKmY2192gE6OL7mjlqMKYfc=;
        b=oIUs4W5Bk5K108e1I4Gd4EVh0MUvo+JMLO8QjLl3urPJVJLZDCagpqbBfekeA1e/f5
         dAYT4K61Knvgt5eHzYwxtOXJ9l+lB99WU7nPMJKDWxcVXKZPMboCz2JR80pLTFe8KzyZ
         STu9/oDVEXfn/5bP84PEmLPZgLy5P7wwm5ADc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sUSJP5mH6zw24ti5CeYLgz7rFrm9/afWagX26ErwUjZUN1qnYtjK8Xbs1uZTBbd7kx
         SaDfsa5yr26t0FRgNEjmFdtLpto0qxGh+tk++EndVpmmmhLFXpb0xX/7RQCRXlOh9erO
         6AyYOzzPTPAnompCjvn89y9lvgTyiaztdZMFQ=
MIME-Version: 1.0
Received: by 10.231.43.14 with SMTP id u14mr7789841ibe.10.1299901186112; Fri,
 11 Mar 2011 19:39:46 -0800 (PST)
Received: by 10.231.157.17 with HTTP; Fri, 11 Mar 2011 19:39:46 -0800 (PST)
In-Reply-To: <23383.1299858142@parc.com>
References: <1299841401493-2664316.post@n3.nabble.com>
	<AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
	<AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
	<AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
	<AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
	<23383.1299858142@parc.com>
Date: Fri, 11 Mar 2011 19:39:46 -0800
Message-ID: <AANLkTi=_Vo37m2XCTKD=7CpvCHjHVJcUY8WknMGFH1gK@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Sreejith S <srssreejith@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I suggest you Jsoup Html parser,which is fast ,easy and simple html
parser.I used many html parsers and out of which i am comfortable with
Jsoup.

http://jsoup.org/

IBM ICU provides the best tokenizers.



On 3/11/11, Bill Janssen <janssen@parc.com> wrote:
> shrinath.m <shrinath.m@webyog.com> wrote:
>
>> Consider we've offline HTML pages, no parsing while crawling, now what ?
>> Any tokenizer someone has built for this ?
>
> In UpLib, which uses PyLucene, I use BeautifulSoup to simplify Web pages
> by selecting only text between certain tags, before indexing them.
> These are offline Web pages, as in your application.  Take a look at
> <http://uplib.parc.com/hg/uplib/file/2a204fc2dd1a/extensions/FilterWebPage.py>.
>
> Bill
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
*********************************
Sreejith.S

http://sreejiths.emurse.com/
http://srijiths.wordpress.com/
tweet2sree@twitter

*********************************
ILUGCBE
http://ilugcbe.techstud.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 12 10:00:34 2011
Return-Path: <java-user-return-48974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4535 invoked from network); 12 Mar 2011 10:00:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Mar 2011 10:00:34 -0000
Received: (qmail 4734 invoked by uid 500); 12 Mar 2011 10:00:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4523 invoked by uid 500); 12 Mar 2011 10:00:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4510 invoked by uid 99); 12 Mar 2011 10:00:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 10:00:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trejkaz@trypticon.org designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 10:00:23 +0000
Received: by yxd5 with SMTP id 5so2166036yxd.35
        for <java-user@lucene.apache.org>; Sat, 12 Mar 2011 02:00:01 -0800 (PST)
Received: by 10.101.16.20 with SMTP id t20mr1883509ani.131.1299924001310;
        Sat, 12 Mar 2011 02:00:01 -0800 (PST)
Received: from mail-pv0-f176.google.com (mail-pv0-f176.google.com [74.125.83.176])
        by mx.google.com with ESMTPS id 19sm6674815anx.37.2011.03.12.01.59.59
        (version=SSLv3 cipher=OTHER);
        Sat, 12 Mar 2011 01:59:59 -0800 (PST)
Received: by pvg6 with SMTP id 6so784507pvg.35
        for <java-user@lucene.apache.org>; Sat, 12 Mar 2011 01:59:58 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.121.31 with SMTP id t31mr1192364wfc.233.1299923998531;
 Sat, 12 Mar 2011 01:59:58 -0800 (PST)
Received: by 10.142.150.34 with HTTP; Sat, 12 Mar 2011 01:59:58 -0800 (PST)
In-Reply-To: <1299841401493-2664316.post@n3.nabble.com>
References: <1299841401493-2664316.post@n3.nabble.com>
Date: Sat, 12 Mar 2011 20:59:58 +1100
Message-ID: <AANLkTimBzDU88Xi7JmWzo_W4gkfj-=3UVmq9t92E_=p-@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Trejkaz <trejkaz@trypticon.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 11, 2011 at 10:03 PM, shrinath.m <shrinath.m@webyog.com> wrote:
> I am trying to index content withing certain HTML tags, how do I index it ?
> Which is the best parser/tokenizer available to do this ?

This doesn't really answer the question, but I think it will help...

The features you want to look for:
1. A StAX-like "pull parsing" API - this makes it easier to implement
Reader since Reader is also a pull API.
2. Doesn't try to store the entire HTML file in memory in any form -
this makes it not bomb on gigantic HTML files, which do occur in
reality.

A specific counterexample which fails to satisfy both of these rules
is HTMLParser (htmlparser.sf.net), but be cautious of any library
which doesn't satisfy both.

TX

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 12 10:13:59 2011
Return-Path: <java-user-return-48975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56185 invoked from network); 12 Mar 2011 10:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Mar 2011 10:13:59 -0000
Received: (qmail 12400 invoked by uid 500); 12 Mar 2011 10:13:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12357 invoked by uid 500); 12 Mar 2011 10:13:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12349 invoked by uid 99); 12 Mar 2011 10:13:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 10:13:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.25] (HELO triton.rz.uni-saarland.de) (134.96.7.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 10:13:48 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by triton.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p2CADP7U019210
	for <java-user@lucene.apache.org>; Sat, 12 Mar 2011 11:13:26 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id C8EDD76BAA; Sat, 12 Mar 2011 11:13:25 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id C332176B9E
	for <java-user@lucene.apache.org>; Sat, 12 Mar 2011 11:13:24 +0100 (CET)
Message-ID: <4D7B4744.9000807@lsv.uni-saarland.de>
Date: Sat, 12 Mar 2011 11:13:24 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: matching multi-word terms
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (triton.rz.uni-saarland.de [134.96.7.25]); Sat, 12 Mar 2011 11:13:26 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.176; VDF: 7.11.3.249; host: AntiVir3)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Hi,

I would like to find documents matching multi-word terms, more 
specifically: my query is something like "B C" and I would like match 
contexts such as
"A B C D E"
but not
"B A C D E"
There seems to be some contradictory information on the web. Apparently, 
the statement
Term t = new Term("f", "A B")
would not do the job. If this is so, what is the common procedure for 
these type of terms? Some SpanQuery subclass?

Thank you in advance!

Best,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 12 13:41:49 2011
Return-Path: <java-user-return-48976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15447 invoked from network); 12 Mar 2011 13:41:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Mar 2011 13:41:49 -0000
Received: (qmail 98149 invoked by uid 500); 12 Mar 2011 13:41:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98117 invoked by uid 500); 12 Mar 2011 13:41:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98109 invoked by uid 99); 12 Mar 2011 13:41:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 13:41:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2011 13:41:42 +0000
Received: by qwj9 with SMTP id 9so497799qwj.35
        for <java-user@lucene.apache.org>; Sat, 12 Mar 2011 05:41:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=zAaCEFSH/E993D2/v+2d10PRGME7KomcOjrr6G/vtPE=;
        b=TJu6WpCiuC4Aj2YpKtAgdMQT8CxmhEP9j2hYT7DYwvRoWB5hGIKSzwDx9ZPbkT56GV
         dQwaRkIBd1porRJeWJqfRu+GvkjJzoW8oATSIlfd/TnOt2KqSmfDNB+EpIoEb3lrg2ZP
         tB7OvPnhvVzeFnshAQ5H5t9Fd3i1+WRoDTdi4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=lTRqyAteaqdO4bmhB33sPptRr7fQC+NztFoDanP2lWruQsQ0IjrUMtEYJfHd3iHANI
         4uNn4m+BIz5LqV5Q95tbSS/fM43LGCRDbkncAgY3han3uYnmtSDSxEoAG+82g1NjMVtj
         TSxSh4oA7c9zeACdoJ0N3V5IWQpJwoFZzvne0=
MIME-Version: 1.0
Received: by 10.229.37.79 with SMTP id w15mr4603388qcd.180.1299937281755; Sat,
 12 Mar 2011 05:41:21 -0800 (PST)
Received: by 10.229.82.82 with HTTP; Sat, 12 Mar 2011 05:41:21 -0800 (PST)
In-Reply-To: <4D7B4744.9000807@lsv.uni-saarland.de>
References: <4D7B4744.9000807@lsv.uni-saarland.de>
Date: Sat, 12 Mar 2011 08:41:21 -0500
Message-ID: <AANLkTimwsFpvw6o58YddYYKUggoP5X_OZyKuav=SmoSj@mail.gmail.com>
Subject: Re: matching multi-word terms
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

This looks like just a phrase query, perhaps with no slop.

Term query definitely won't work if you've tokenized a the field,
because your terms would be "A" and "B", but not "A B".

SpanQueries should also work if you want, there's no reason to
subclass anything, just use SpanNearQuery... You can
also specify whether Spans should allow out-of-order matches
or not.

Best
Erick

On Sat, Mar 12, 2011 at 5:13 AM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Hi,
>
> I would like to find documents matching multi-word terms, more specifically:
> my query is something like "B C" and I would like match contexts such as
> "A B C D E"
> but not
> "B A C D E"
> There seems to be some contradictory information on the web. Apparently, the
> statement
> Term t = new Term("f", "A B")
> would not do the job. If this is so, what is the common procedure for these
> type of terms? Some SpanQuery subclass?
>
> Thank you in advance!
>
> Best,
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 13 11:19:48 2011
Return-Path: <java-user-return-48977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25737 invoked from network); 13 Mar 2011 11:19:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Mar 2011 11:19:48 -0000
Received: (qmail 71901 invoked by uid 500); 13 Mar 2011 11:19:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71857 invoked by uid 500); 13 Mar 2011 11:19:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71849 invoked by uid 99); 13 Mar 2011 11:19:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 11:19:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 11:19:40 +0000
Received: by fxm7 with SMTP id 7so2884842fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 04:19:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=NMA31bOzuXMza4oOPEMdHPd/Gs7+aNghqYpsrlMug4Q=;
        b=Y5cWpvIiklMe7o8SX+GO4vy2JdmGzEdJoJBJ3X/6PVuuz5+qWb9ppOa3aRqrHnZL30
         GZPNDwT43JaftSuwnp5gowh0zbE+Wb5PTVoH6aOG7KYBnPYkAzLGB/nxAfGQBAWsFZtc
         64vECDjHhUdnuBV7r1RSNYNT2TaNv7g8EbAIo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=C9de11mj2qAudSauRObZ7dAgcGr1LdA9EuhiH9i2SyKdfo/lyYNoMYrUJlRl2NajAV
         9Qywli0DQ/yzDT9LNCrsXrwEEkoJl8e+USP2zP6NFtyQYtZntpqU+HSATU41Jzm/JHDu
         700OYy1VgjwDglpJqvS4T8eOMW6nuIp0rtF2M=
MIME-Version: 1.0
Received: by 10.223.73.198 with SMTP id r6mr3272218faj.109.1300015159243; Sun,
 13 Mar 2011 04:19:19 -0700 (PDT)
Received: by 10.223.115.5 with HTTP; Sun, 13 Mar 2011 04:19:19 -0700 (PDT)
In-Reply-To: <AANLkTimHvrdbk82GEPLT0aQCbZXy_VH4twz6ULpEPPaS@mail.gmail.com>
References: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>
	<AANLkTimHvrdbk82GEPLT0aQCbZXy_VH4twz6ULpEPPaS@mail.gmail.com>
Date: Sun, 13 Mar 2011 18:19:19 +0700
Message-ID: <AANLkTinJfvX-mGSfv3KuRwtw4kGcPBw9Zt3D_JV6R=Wa@mail.gmail.com>
Subject: Re: Lucene 4.0 and WhitespaceAnalyzer
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: multipart/alternative; boundary=20cf3054a66dc4f57d049e5b5dbc

--20cf3054a66dc4f57d049e5b5dbc
Content-Type: text/plain; charset=ISO-8859-1

Sorry, I had some issues with the mailing list and I didn't explain
properly. The reason is that I'm using the nightly built of Lucene (trunk)
and such WhitespaceAnalyzer is not there. Also, if I download the commons
analyzers library it is not there.

thanks

On 9 March 2011 03:07, Simon Willnauer <simon.willnauer@googlemail.com>wrote:

> Why do you want to replace the WhitespaceAnalyzer? I don't really
> understand what you are up to.
>
> simon
>
> On Fri, Mar 4, 2011 at 3:21 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > What's the best way to replace WhitespaceAnalyzer in this line in Lucene
> > nightly build 4.0 ? Is there a generic analyzer I can use ?
> >
> > writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
> > WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
> >
> > thanks
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a66dc4f57d049e5b5dbc--

From java-user-return-48978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 13 12:14:52 2011
Return-Path: <java-user-return-48978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2807 invoked from network); 13 Mar 2011 12:14:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Mar 2011 12:14:52 -0000
Received: (qmail 12994 invoked by uid 500); 13 Mar 2011 12:14:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12944 invoked by uid 500); 13 Mar 2011 12:14:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12932 invoked by uid 99); 13 Mar 2011 12:14:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 12:14:50 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 12:14:45 +0000
Received: by vws7 with SMTP id 7so2219499vws.35
        for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 05:14:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=kTNH1s6JSg/QGQW60sk7c0vORBH8DaDue2BDdURroz0=;
        b=VC0xRZMLK1jH/JD6Yhs/QlhB5zfgQgwCIPy2N6u7rTXyafVZIaBSr/s7ENGY2EO4cI
         DXOn9tr2hfgwkcp2quvUBL9aqP9O8ez1NhLG9D3QYoXVh4LHdX5BU3pawKOl+rCoCqjV
         YQP547t+rj/SouYXyXNd+ABQo0xZoPcUkjF4o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type;
        b=CHs47oOfQGj8oQjYAPaiWxnBHtcMdG19bqFCu0RhJvVExkdBM3ZJMztGB09Y0UiVh5
         +EuotmLx9F3TNpkVEss4c1vkkDtZo9PPVaqfj4MEBB2jb2643IJNx9VvI7nBPvI9NATC
         Lyrqco6sV7sGsAZRIiHix9qKqMm4cmfIvC/ak=
MIME-Version: 1.0
Received: by 10.52.93.36 with SMTP id cr4mr4912262vdb.171.1300018464120; Sun,
 13 Mar 2011 05:14:24 -0700 (PDT)
Received: by 10.52.168.194 with HTTP; Sun, 13 Mar 2011 05:14:24 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTinJfvX-mGSfv3KuRwtw4kGcPBw9Zt3D_JV6R=Wa@mail.gmail.com>
References: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>
	<AANLkTimHvrdbk82GEPLT0aQCbZXy_VH4twz6ULpEPPaS@mail.gmail.com>
	<AANLkTinJfvX-mGSfv3KuRwtw4kGcPBw9Zt3D_JV6R=Wa@mail.gmail.com>
Date: Sun, 13 Mar 2011 13:14:24 +0100
Message-ID: <AANLkTimuYU0dPgO5BJ9s8QVrHfVgD57FqknAYMusOXfZ@mail.gmail.com>
Subject: Re: Lucene 4.0 and WhitespaceAnalyzer
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: Patrick Diviacco <patrick.diviacco@gmail.com>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Mar 13, 2011 at 12:19 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> Sorry, I had some issues with the mailing list and I didn't explain
> properly. The reason is that I'm using the nightly built of Lucene (trunk)
> and such WhitespaceAnalyzer is not there. Also, if I download the commons
> analyzers library it is not there.

well it should be there - look at
/trunk/modules/analysis/common/src/java/org/apache/lucene/analysis/core/WhitespaceAnalyzer.java
go to the trunk folder and run ant package from there this should
build the analyzer-common.jar too

simon
> thanks
>
> On 9 March 2011 03:07, Simon Willnauer <simon.willnauer@googlemail.com>
> wrote:
>>
>> Why do you want to replace the WhitespaceAnalyzer? I don't really
>> understand what you are up to.
>>
>> simon
>>
>> On Fri, Mar 4, 2011 at 3:21 PM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > What's the best way to replace WhitespaceAnalyzer in this line in Lucene
>> > nightly build 4.0 ? Is there a generic analyzer I can use ?
>> >
>> > writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
>> > WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
>> >
>> > thanks
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 13 13:45:09 2011
Return-Path: <java-user-return-48979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88839 invoked from network); 13 Mar 2011 13:45:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Mar 2011 13:45:08 -0000
Received: (qmail 68792 invoked by uid 500); 13 Mar 2011 13:45:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68740 invoked by uid 500); 13 Mar 2011 13:45:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68732 invoked by uid 99); 13 Mar 2011 13:45:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 13:45:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 13:45:00 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 459B445FF03
	for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 14:44:38 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id h7J4DLez+CYc for <java-user@lucene.apache.org>;
	Sun, 13 Mar 2011 14:44:33 +0100 (CET)
Received: from VEGA (port-92-196-26-222.dynamic.qsc.de [92.196.26.222])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 15B0145FEF6
	for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 14:44:32 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=n+yYgaYeoDPzM0An84csJOZRKzLASm-Vafw3H@mail.gmail.com>	<AANLkTimHvrdbk82GEPLT0aQCbZXy_VH4twz6ULpEPPaS@mail.gmail.com> <AANLkTinJfvX-mGSfv3KuRwtw4kGcPBw9Zt3D_JV6R=Wa@mail.gmail.com>
In-Reply-To: <AANLkTinJfvX-mGSfv3KuRwtw4kGcPBw9Zt3D_JV6R=Wa@mail.gmail.com>
Subject: RE: Lucene 4.0 and WhitespaceAnalyzer
Date: Sun, 13 Mar 2011 14:44:32 +0100
Message-ID: <000c01cbe184$c8854160$598fc420$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQEAMRLQpteGg2l9SJv9+f8K0yi+BQGoim/7AdNsGg2Vpsd/oA==
Content-Language: de

I don't see your problem - If you need any of the packages as JAR files,
here they are as MAVEN artifacts:

https://builds.apache.org/hudson/job/Lucene-Solr-Maven-trunk/lastSuccessfulB
uild/artifact/maven_artifacts/org/apache/lucene/

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Sunday, March 13, 2011 12:19 PM
> To: java-user@lucene.apache.org; simon.willnauer@gmail.com
> Subject: Re: Lucene 4.0 and WhitespaceAnalyzer
> 
> Sorry, I had some issues with the mailing list and I didn't explain
properly. The
> reason is that I'm using the nightly built of Lucene (trunk) and such
> WhitespaceAnalyzer is not there. Also, if I download the commons analyzers
> library it is not there.
> 
> thanks
> 
> On 9 March 2011 03:07, Simon Willnauer
> <simon.willnauer@googlemail.com>wrote:
> 
> > Why do you want to replace the WhitespaceAnalyzer? I don't really
> > understand what you are up to.
> >
> > simon
> >
> > On Fri, Mar 4, 2011 at 3:21 PM, Patrick Diviacco
> > <patrick.diviacco@gmail.com> wrote:
> > > What's the best way to replace WhitespaceAnalyzer in this line in
> > > Lucene nightly build 4.0 ? Is there a generic analyzer I can use ?
> > >
> > > writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
> > > WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
> > >
> > > thanks
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 13 23:24:29 2011
Return-Path: <java-user-return-48980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21328 invoked from network); 13 Mar 2011 23:24:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Mar 2011 23:24:29 -0000
Received: (qmail 99883 invoked by uid 500); 13 Mar 2011 23:24:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99844 invoked by uid 500); 13 Mar 2011 23:24:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99836 invoked by uid 99); 13 Mar 2011 23:24:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 23:24:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [155.207.1.69] (HELO hermes3.ccf.auth.gr) (155.207.1.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2011 23:24:17 +0000
Received: from auth.gr (electra1.ccf.auth.gr [155.207.1.128])
	by hermes3.ccf.auth.gr (8.14.4/8.14.4) with ESMTP id p2DNNup9015737
	for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 01:23:56 +0200
Received: from adsl-245-072.diodos.auth.gr (adsl-245-072.diodos.auth.gr
 [155.207.245.72]) by webmail.auth.gr (Horde Framework) with HTTP; Mon, 14
 Mar 2011 01:23:56 +0200
Message-ID: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
Date: Mon, 14 Mar 2011 01:23:56 +0200
From: Vasiliki Gkouta <vgkouta@csd.auth.gr>
To: java-user@lucene.apache.org
Subject: Analyzer enquiry
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8;
 DelSp="Yes";
 format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.3.6)
X-Virus-Scanned: clamav-milter 0.97 at hermes1
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Hello everybody,

I have an enquiry about StandardAnalyzer. Can I use it for other  
languages except from English? I give the right list of stop words at  
initialization. Is there anything else inside the class that is by  
default set in English?
I've found the Analyzers for other languages too but they where seem  
to be deprecated.. Moreover I use english and other languages, all  
together in my project so I would like to ask if there is a way to use  
either the same class analyzer for all of them, or analyzers of the  
same functionality for all the languages. Thanks in advance!

Best regards,
Vicky



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 02:02:34 2011
Return-Path: <java-user-return-48981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17420 invoked from network); 14 Mar 2011 02:02:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 02:02:34 -0000
Received: (qmail 98455 invoked by uid 500); 14 Mar 2011 02:02:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98405 invoked by uid 500); 14 Mar 2011 02:02:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98397 invoked by uid 99); 14 Mar 2011 02:02:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 02:02:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_FONT_LOW_CONTRAST,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of felipehummel@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 02:02:24 +0000
Received: by iyj12 with SMTP id 12so7018974iyj.35
        for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 19:02:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=mMeUWTayNmw2pzqADPb0mctSXI2kP5AB9pN1MYRfmmg=;
        b=k3Q3hUIeuz5pblqH0HAz+2GfJ1ddNCQLoZvL6mIrVqoHPyESx+N+0I57Bh8QlB+2Bj
         9eljoSBs0NcSrTgNIm6lbUJ/ZdpWJMPr/oFauShrFoETZo6bxzZ55DxIyAKNJbBxLHnX
         7ryv7Y0gfjDVQSi/dL5FYMECgMNYqJ30zcdUw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=dHTmuLGaP0cH8LQXauBS35AI8aCu+SJRTtmfZ4jdg2dB87ZfB2lXERrkmpgwRpurQy
         ciEitUt9s3Z4snXyRzFRpL+probCXncnE8z6xNeEUlkjmSQgVDwTjehGcyfCkz09GxTH
         gE6sIJbjs2vtEE1d+6nbShLkfQUFoKpOn7mjs=
Received: by 10.231.200.85 with SMTP id ev21mr121676ibb.138.1300068123129;
 Sun, 13 Mar 2011 19:02:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.15.11 with HTTP; Sun, 13 Mar 2011 19:01:43 -0700 (PDT)
In-Reply-To: <4D79364E.40006@getopt.org>
References: <AANLkTikvjbQJcNt1weUQOadR=05ju198jeEa+_Zt7yEQ@mail.gmail.com> <4D79364E.40006@getopt.org>
From: Felipe Hummel <felipehummel@gmail.com>
Date: Sun, 13 Mar 2011 22:01:43 -0400
Message-ID: <AANLkTikbx_3m4mDVi8PQPbZ1pHJEqAHWrW5Xge74k4Ys@mail.gmail.com>
Subject: Re: Search one index but use IDF from another?
To: java-user@lucene.apache.org
Cc: Andrzej Bialecki <ab@getopt.org>
Content-Type: multipart/alternative; boundary=005045029847a9b921049e67b258
X-Virus-Checked: Checked by ClamAV on apache.org

--005045029847a9b921049e67b258
Content-Type: text/plain; charset=ISO-8859-1

In stackoverflow somebody answer me this:

You should be able to extend IndexReader and override the docFreq() methods
to provide whatever values you'd like. One thing this implementation can do
is open two IndexReader instances -- one for the small index and one for the
large index. All the methods are delegated to the small IndexReader, except
for docFreq(), which is delegated to the large index. You'll need to scale
the value returned, i.e.
int myNewDocFreq = (bigIndexReader.docFreq(t) /
bigIndexReader.maxDoc()) *smallIndexReader
.maxDoc()


It seems all right to me. Is that correct?

On Thu, Mar 10, 2011 at 4:36 PM, Andrzej Bialecki <ab@getopt.org> wrote:

> On 3/10/11 8:32 PM, Felipe Hummel wrote:
>
>> Hi, I'm building a system where I want to show only results indexed in the
>> past few days. Furthermore, I don't want to maintain a giant index with
>> millions of documents if I only want to return results from a couple of
>> days
>> (thousands of documents).
>>
>> My system heavily relies that the occurrences of terms in documents stored
>> in the index have a realistic distribution (consequently: realistic IDF).
>>
>> That said, I would like to use a small index to return results, but I want
>> to compute documents score using a IDF from a much greater Index (or even
>> an
>> external source).
>>
>> The Similarity API doesn't seem to allow me to do this. The *idf* method
>> does not receive as parameter the term being used.
>>
>> Another possibility is to use TrieRangeQuery to make sure the documents
>> shown are within the last couple of days. Again, I rather not mantain a
>> large index. Also this kind of query is not cheap.
>>
>> Am I missing something?
>>
>
> Take a look at SOLR-1632. Indeed, it's not possible to do this using
> Similarity alone. You will need something like the DFSource class in that
> patch, i.e. a subclass of IndexSearcher, where you populate term->DF map
> with values obtained from the full index, and then you use this map to
> calculate IDF.
>
> --
> Best regards,
> Andrzej Bialecki     <><
>  ___. ___ ___ ___ _ _   __________________________________
> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
> ___|||__||  \|  ||  |  Embedded Unix, System Integration
> http://www.sigram.com  Contact: info at sigram dot com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--005045029847a9b921049e67b258--

From java-user-return-48982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 02:06:51 2011
Return-Path: <java-user-return-48982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54466 invoked from network); 14 Mar 2011 02:06:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 02:06:51 -0000
Received: (qmail 1794 invoked by uid 500); 14 Mar 2011 02:06:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1752 invoked by uid 500); 14 Mar 2011 02:06:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1744 invoked by uid 99); 14 Mar 2011 02:06:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 02:06:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 02:06:43 +0000
Received: by qyk30 with SMTP id 30so4405543qyk.14
        for <java-user@lucene.apache.org>; Sun, 13 Mar 2011 19:06:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=aHiBPsqy84PB54zuwSPEaxedj10n1uHSHAUltz8QtwQ=;
        b=EQXgdjCVci4piKH9WlxZrYjfU1Y05M86zAlKn8YeklWeBlfhW6lX4utc6yVAFUGkYN
         37QwV9rJdmyopucp1oBxmRvNGhgyOgLj6X7Z2YVvn7ZQHO9dKnCS1gjBCk35BE+LsIxg
         r2OEyGQju37MEYJzXxwa6hier9sho9of93YJQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fsUFAndd4TkmDkOYKEtkrw/jbJSUU97WIwnSxjTikiwvy/6se7ud9tUtEBKAHsOw3w
         JCGEVY5pCVsltbGiANVSK93tlQLmQ29lz+fTZCaYNKgim7+uD1YaRfl+k3EU117FsdvA
         Sln1VGqNItBl3OrkDg4LQMFXzjTii03J0p5q8=
MIME-Version: 1.0
Received: by 10.229.65.33 with SMTP id g33mr8300821qci.294.1300068382506; Sun,
 13 Mar 2011 19:06:22 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Sun, 13 Mar 2011 19:06:22 -0700 (PDT)
In-Reply-To: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
Date: Sun, 13 Mar 2011 22:06:22 -0400
Message-ID: <AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
Subject: Re: Analyzer enquiry
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

StandardAnalyzer works well for most European languages. The problem will
be stemming. Applying stemming via English rules to non-English languages
produces...er...interesting results.

You can go ahead and create language-specific fields for each language and
use StandardAnalyzer with the appropriate stopwords and stemming with each,
this is a common approach.. The Snowball stemmer takes a language parameter...

You need to use specific analyzers for Chinese Japanese Korean (CJK) documents
though.

Hope that helps
Erick

On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
> Hello everybody,
>
> I have an enquiry about StandardAnalyzer. Can I use it for other languages
> except from English? I give the right list of stop words at initialization.
> Is there anything else inside the class that is by default set in English?
> I've found the Analyzers for other languages too but they where seem to be
> deprecated.. Moreover I use english and other languages, all together in my
> project so I would like to ask if there is a way to use either the same
> class analyzer for all of them, or analyzers of the same functionality for
> all the languages. Thanks in advance!
>
> Best regards,
> Vicky
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 06:34:49 2011
Return-Path: <java-user-return-48983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11780 invoked from network); 14 Mar 2011 06:34:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 06:34:48 -0000
Received: (qmail 10339 invoked by uid 500); 14 Mar 2011 06:34:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10115 invoked by uid 500); 14 Mar 2011 06:34:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 84592 invoked by uid 99); 14 Mar 2011 05:33:51 -0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of chhava40@gmail.com)
Date: Sun, 13 Mar 2011 22:33:25 -0700 (PDT)
From: chhava40 <chhava40@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1300080805277-2675402.post@n3.nabble.com>
Subject: Boost a field in fuzzy query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,
I am using MultiFieldQueryParser to parse query for multiple fields with
custom boosts for each field.
The issue is when one of the terms in the query is fuzzy e.g abc~.
For such a term, the field boost is not applied. If the query is "abc~ xyz"
and fields are f1 & f2 with boosts 10, 5, the parsed query output is:
(f1:abc~0.5 f2:abc~0.5) (f1:xyz^10 f2:xyz^5).
Is there any way to apply the field boost factor to fuzzy terms as well?
Thanks.

--
View this message in context: http://lucene.472066.n3.nabble.com/Boost-a-field-in-fuzzy-query-tp2675402p2675402.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 12:04:10 2011
Return-Path: <java-user-return-48984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50626 invoked from network); 14 Mar 2011 12:04:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 12:04:09 -0000
Received: (qmail 1888 invoked by uid 500); 14 Mar 2011 12:04:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1847 invoked by uid 500); 14 Mar 2011 12:04:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1839 invoked by uid 99); 14 Mar 2011 12:04:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:04:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:03:59 +0000
Received: by iyj12 with SMTP id 12so7528679iyj.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 05:03:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=RrH/bltlaJ8D2B4WJjtITajMFmcLr7bgr36wtncnV7w=;
        b=X555Atkdn6gHE9cqlDN18Q7/oohAJRTkgZGNU07iz6r/bUGnOo2ThV+fg3+n0p4sjS
         Xf9rx5rFA0ySG20x/rcrnt/f0qsxpP0EJYZtwu3F8WAmN6ovRvk2Y9rM5i2Uf46BSGa6
         mmPnJyaCRbcDKm9C4S8qeUi4LpYdorn4ftoCc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=f3LiDujYZWInPDk8OiDNymY4TQ0Xwd9QYSxRJ5W6CQpJpTGZbCHqV0kyde8765ZQjE
         iL0zm2BHTF5cChLXNTsixb1NKHk6AKmx89CrKJB4jay+c0TMdc8Tr0tUkLPKtZcVs/S9
         zh9cmxQ4oYV6ERzpRIL4ZH1wjZJX4BBjM850s=
Received: by 10.231.82.70 with SMTP id a6mr2252995ibl.165.1300104218185; Mon,
 14 Mar 2011 05:03:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Mon, 14 Mar 2011 05:03:18 -0700 (PDT)
In-Reply-To: <1300080805277-2675402.post@n3.nabble.com>
References: <1300080805277-2675402.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 14 Mar 2011 12:03:18 +0000
Message-ID: <AANLkTi=ztLWLb6T1X2nTYCihNF5+bCnNPyomGs2yJQ2Q@mail.gmail.com>
Subject: Re: Boost a field in fuzzy query
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You could build the query up in your program, or that part of it anyway.

BooleanQuery bq = new BooleanQuery();
FuzzyQuery fq = new FuzzyQuery(...);
fq.setBoost(123f);
bq.add(fq);
...

This might be a bug in MultiFieldQueryParser - you could provide a
test case or, better, a patch.
See https://issues.apache.org/jira/browse/LUCENENET-147.  Lucene.Net,
but the comment there says "would probably mean Lucene Java also
suffers from the same bug".

Presumably you've read the "not very scalable" warning in the javadocs
for FuzzyQuery.

And you don't say what version of lucene you are using.  If not the
latest, try that.


--
Ian.


On Mon, Mar 14, 2011 at 5:33 AM, chhava40 <chhava40@gmail.com> wrote:
> Hi,
> I am using MultiFieldQueryParser to parse query for multiple fields with
> custom boosts for each field.
> The issue is when one of the terms in the query is fuzzy e.g abc~.
> For such a term, the field boost is not applied. If the query is "abc~ xyz"
> and fields are f1 & f2 with boosts 10, 5, the parsed query output is:
> (f1:abc~0.5 f2:abc~0.5) (f1:xyz^10 f2:xyz^5).
> Is there any way to apply the field boost factor to fuzzy terms as well?
> Thanks.
>
> --

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 12:07:06 2011
Return-Path: <java-user-return-48985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71624 invoked from network); 14 Mar 2011 12:07:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 12:07:06 -0000
Received: (qmail 7771 invoked by uid 500); 14 Mar 2011 12:07:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7698 invoked by uid 500); 14 Mar 2011 12:07:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7690 invoked by uid 99); 14 Mar 2011 12:07:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:07:03 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.3.84] (HELO exprod8og102.obsmtp.com) (64.18.3.84)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Mar 2011 12:06:57 +0000
Received: from source ([216.109.100.75]) by exprod8ob102.postini.com ([64.18.7.12]) with SMTP
	ID DSNKTX4EyyzrPzFTOC2MfsEetZYjYnrPc9+F@postini.com; Mon, 14 Mar 2011 05:06:37 PDT
Received: from us-pghmail3.ariba.com ([10.32.16.10]) by outboundpghmail.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 14 Mar 2011 08:06:58 -0400
Received: from in-blrmail2.ariba.com ([10.57.16.56]) by us-pghmail3.ariba.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 14 Mar 2011 08:06:35 -0400
Received: from [10.57.36.182] ([10.57.36.182]) by in-blrmail2.ariba.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 Mar 2011 17:36:32 +0530
Message-ID: <4D7E04C9.100@ariba.com>
Date: Mon, 14 Mar 2011 17:36:33 +0530
From: Vinaya Kumar Thimmappa <vthimmappa@ariba.com>
Reply-To: vthimmappa@ariba.com
Organization: Ariba 
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101208 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing of multilingual labels
References: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com>	<AANLkTinExquAVyzKSPi4joHkOqdtPOyAfZ1DeK_DNiMg@mail.gmail.com> <AANLkTing9656NYf2A+bd5L=2R0qDwbm5m+Yk8TXSpKot@mail.gmail.com>
In-Reply-To: <AANLkTing9656NYf2A+bd5L=2R0qDwbm5m+Yk8TXSpKot@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 14 Mar 2011 12:06:32.0052 (UTC) FILETIME=[41D60340:01CBE240]

Hello Stephane,

I think a better way is to have resource file with different language 
and store pointer in the index to get to correct resource file ( 
Something like  I18N and L10N approach). Store the internationalised 
string in index  and all related localised string in resource file .

This way index size will be reduced (adding to payload would have impact 
on performance)
and help performance too.

Now your Total Search Time would be (searchtime+time to retrieve the 
language based data)

Hope this helps.
-Vinaya

On Friday 11 March 2011 09:05 PM, Stephane Fellah wrote:
> Erick,
>
> I am trying to index multilingual taxonomies such as SKOS, Wordnet,
> Eurowordnet. Taxonomies are composed of concepts which have preferred and
> alternative labels in different languages. Some labels are the same lexical
> form in different languages. I want to be able to index these concepts in
> Lucene in order to be able to search concepts by their label in one or
> several languages. I want also be able to display concept definition with
> all the alternative labels in different languages. My question is: could we
> use the payload mechanism to store the language assigned to the word (i read
> somewhere Google was using payload to store information such as font for
> example, so why not language) ? Wouldn't be a better approach then using one
> field per language or one index per language ?
>
> REgards
> Stephane
>
> On Fri, Mar 11, 2011 at 7:52 AM, Erick Erickson<erickerickson@gmail.com>wrote:
>
>> It's not so much a matter of problems with indexing/searching
>> as it is with search behavior. The reason these strategies
>> are implemented is that using English stemming, say, on
>> other languages will produce "interesting" results.
>>
>> There's no a-priori reason you can't index multiple languages
>> in the same field.
>>
>> So I don't see what you would accomplish by using payloads
>> to indicate which language the term is in. Could you expand
>> a bit on what you're trying to accomplish here? Maybe there
>> are better solutions....
>>
>> Best
>> Erick
>>
>>
>> On Thu, Mar 10, 2011 at 10:29 PM, Stephane Fellah
>> <sfellah@smartrealm.com>  wrote:
>>> I  am trying to index in Lucene a field that could have label of concepts
>> in
>>> different languages. Most of the approaches I have seen so far are:
>>>
>>>    -
>>>
>>>    Use a single index, where each document has a field per each language
>> it
>>>    uses, or
>>>    -
>>>
>>>    Use M indexes, M being the number of languages in the corpus.
>>>
>>> Lucene 2.9+ has a feature called Payload that allows to attach attributes
>> to
>>> term. Is anyone use this mechanism to store language (or other attributes
>>> such as datatypes) information ? Does this approach if labels are the
>> same
>>> in different languages (does it break inverted index) ? How is
>> performance
>>> compared to the two other approaches ? Any pointer on source code showing
>>> how it is done would help.
>>>
>>> Thanks
>>>
>>> --
>>> Stephane Fellah, M.Sc, B.Sc
>>> Principal Engineer/Product Manager
>>> smartRealm LLC
>>> 201 Loudoun St. SW
>>> Leesburg, VA 20175
>>> Tel: 703 669 5514
>>> Cell: 571 502 8478
>>> Fax: 703 669 5515
>>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 12:22:05 2011
Return-Path: <java-user-return-48986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95014 invoked from network); 14 Mar 2011 12:22:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 12:22:04 -0000
Received: (qmail 46323 invoked by uid 500); 14 Mar 2011 12:22:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46282 invoked by uid 500); 14 Mar 2011 12:22:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46274 invoked by uid 99); 14 Mar 2011 12:22:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:22:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.207.1.69] (HELO hermes3.ccf.auth.gr) (155.207.1.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:21:55 +0000
Received: from auth.gr (electra1.ccf.auth.gr [155.207.1.128])
	by hermes3.ccf.auth.gr (8.14.4/8.14.4) with ESMTP id p2ECLWIi028931
	for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 14:21:32 +0200
Received: from naxos.physics.auth.gr (naxos.physics.auth.gr
 [155.207.114.26]) by webmail.auth.gr (Horde Framework) with HTTP; Mon, 14
 Mar 2011 14:21:32 +0200
Message-ID: <20110314142132.20003yufugs9j1os@webmail.auth.gr>
Date: Mon, 14 Mar 2011 14:21:32 +0200
From: Vasiliki Gkouta <vgkouta@csd.auth.gr>
To: java-user@lucene.apache.org
Subject: Re: Analyzer enquiry
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
 <AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
In-Reply-To: <AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8;
 DelSp="Yes";
 format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.3.6)
X-Virus-Scanned: clamav-milter 0.97 at hermes1
X-Virus-Status: Clean

Thanks a lot for your help Erick! About the fields you mentioned: If I  
don't use stemmers, except for the constructor argument related to the  
stop words, is there anything else that I have to modify?

Thanks,
Vicky


Quoting Erick Erickson <erickerickson@gmail.com>:

> StandardAnalyzer works well for most European languages. The problem will
> be stemming. Applying stemming via English rules to non-English languages
> produces...er...interesting results.
>
> You can go ahead and create language-specific fields for each language and
> use StandardAnalyzer with the appropriate stopwords and stemming with each,
> this is a common approach.. The Snowball stemmer takes a language  
> parameter...
>
> You need to use specific analyzers for Chinese Japanese Korean (CJK)  
> documents
> though.
>
> Hope that helps
> Erick
>
> On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
>> Hello everybody,
>>
>> I have an enquiry about StandardAnalyzer. Can I use it for other languages
>> except from English? I give the right list of stop words at initialization.
>> Is there anything else inside the class that is by default set in English?
>> I've found the Analyzers for other languages too but they where seem to be
>> deprecated.. Moreover I use english and other languages, all together in my
>> project so I would like to ask if there is a way to use either the same
>> class analyzer for all of them, or analyzers of the same functionality for
>> all the languages. Thanks in advance!
>>
>> Best regards,
>> Vicky
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 12:44:56 2011
Return-Path: <java-user-return-48987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72842 invoked from network); 14 Mar 2011 12:44:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 12:44:55 -0000
Received: (qmail 75180 invoked by uid 500); 14 Mar 2011 12:44:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75133 invoked by uid 500); 14 Mar 2011 12:44:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75125 invoked by uid 99); 14 Mar 2011 12:44:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:44:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 12:44:48 +0000
Received: by qyk30 with SMTP id 30so4751734qyk.14
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 05:44:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ZLiR+1nGBNqIkUEAPW88i2Y0GWMlhI18shbBHgvajVE=;
        b=JODbiI45f9Hho79Fzcar883JJcXWIGbDkw497NqGGxXcVSv1VtyWVZ6HALN3ImoPcy
         SPusql/DP2Jbw6JQ4G1E8dSdOQ4rEMB1EwwTcinBq8LivnfiAjjtirRmplPKzPOLwaE0
         Heqs16FmPFJsKL3TjoDxPrEyNR/NpuW7H3Naw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=j76NpGf8Jpa6acdSj1EZyIb3OuvTgdZn4RNP3qASsEaGvy5/hPqgtHOEsX9B8+DKVp
         rDCNivXhTtjghUAjzO837nPCp3iWA1HRgMt1PYM0zbti7Kpo6nonsfQDVe2W1tH0ofUG
         lR0GuonqWjwf65kFpk6rb9YwdTlIJX47IyC5M=
MIME-Version: 1.0
Received: by 10.229.37.79 with SMTP id w15mr5963111qcd.180.1300106667916; Mon,
 14 Mar 2011 05:44:27 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Mon, 14 Mar 2011 05:44:27 -0700 (PDT)
In-Reply-To: <20110314142132.20003yufugs9j1os@webmail.auth.gr>
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
	<AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
	<20110314142132.20003yufugs9j1os@webmail.auth.gr>
Date: Mon, 14 Mar 2011 08:44:27 -0400
Message-ID: <AANLkTi=Fc9KQftt=PQDKKxEb-nVS2KVJJe6N+wOj9SHo@mail.gmail.com>
Subject: Re: Analyzer enquiry
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I don't understand what you're saying here. If you put a stemmer in the
constructor, you *are* using it. If you don't specify any stemmer at all, you
still have to define different analyzers to use different stop word lists.

Can you restate your question?

Best
Erick

On Mon, Mar 14, 2011 at 8:21 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
> Thanks a lot for your help Erick! About the fields you mentioned: If I don't
> use stemmers, except for the constructor argument related to the stop words,
> is there anything else that I have to modify?
>
> Thanks,
> Vicky
>
>
> Quoting Erick Erickson <erickerickson@gmail.com>:
>
>> StandardAnalyzer works well for most European languages. The problem will
>> be stemming. Applying stemming via English rules to non-English languages
>> produces...er...interesting results.
>>
>> You can go ahead and create language-specific fields for each language and
>> use StandardAnalyzer with the appropriate stopwords and stemming with
>> each,
>> this is a common approach.. The Snowball stemmer takes a language
>> parameter...
>>
>> You need to use specific analyzers for Chinese Japanese Korean (CJK)
>> documents
>> though.
>>
>> Hope that helps
>> Erick
>>
>> On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>> wrote:
>>>
>>> Hello everybody,
>>>
>>> I have an enquiry about StandardAnalyzer. Can I use it for other
>>> languages
>>> except from English? I give the right list of stop words at
>>> initialization.
>>> Is there anything else inside the class that is by default set in
>>> English?
>>> I've found the Analyzers for other languages too but they where seem to
>>> be
>>> deprecated.. Moreover I use english and other languages, all together in
>>> my
>>> project so I would like to ask if there is a way to use either the same
>>> class analyzer for all of them, or analyzers of the same functionality
>>> for
>>> all the languages. Thanks in advance!
>>>
>>> Best regards,
>>> Vicky
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 13:36:12 2011
Return-Path: <java-user-return-48988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64000 invoked from network); 14 Mar 2011 13:36:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 13:36:12 -0000
Received: (qmail 54216 invoked by uid 500); 14 Mar 2011 13:36:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54073 invoked by uid 500); 14 Mar 2011 13:36:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54065 invoked by uid 99); 14 Mar 2011 13:36:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:36:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.207.1.69] (HELO hermes3.ccf.auth.gr) (155.207.1.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:36:03 +0000
Received: from auth.gr (electra1.ccf.auth.gr [155.207.1.128])
	by hermes3.ccf.auth.gr (8.14.4/8.14.4) with ESMTP id p2EDZeGI007136
	for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 15:35:40 +0200
Received: from wifi102-068.pubaccess.auth.gr (wifi102-068.pubaccess.auth.gr
 [155.207.102.68]) by webmail.auth.gr (Horde Framework) with HTTP; Mon, 14
 Mar 2011 15:35:40 +0200
Message-ID: <20110314153540.17102ucgcjnx3hrg@webmail.auth.gr>
Date: Mon, 14 Mar 2011 15:35:40 +0200
From: Vasiliki Gkouta <vgkouta@csd.auth.gr>
To: java-user@lucene.apache.org
Subject: Re: Analyzer enquiry
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
 <AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
 <20110314142132.20003yufugs9j1os@webmail.auth.gr>
 <AANLkTi=Fc9KQftt=PQDKKxEb-nVS2KVJJe6N+wOj9SHo@mail.gmail.com>
In-Reply-To: <AANLkTi=Fc9KQftt=PQDKKxEb-nVS2KVJJe6N+wOj9SHo@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8;
 DelSp="Yes";
 format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.3.6)
X-Virus-Scanned: clamav-milter 0.97 at hermes1
X-Virus-Status: Clean

Sorry for the confusion. I have two analyzers(of StandardAnalyzer) and  
use no stemmers. At the one analyzer I passed a german stop words set  
to the constructor and at the other one I passed an english stop words  
set. My question was if I have to call any other function of the  
german analyzer for it to be corrent.

Thank you.


Quoting Erick Erickson <erickerickson@gmail.com>:

> I don't understand what you're saying here. If you put a stemmer in the
> constructor, you *are* using it. If you don't specify any stemmer at all, you
> still have to define different analyzers to use different stop word lists.
>
> Can you restate your question?
>
> Best
> Erick
>
> On Mon, Mar 14, 2011 at 8:21 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
>> Thanks a lot for your help Erick! About the fields you mentioned: If I don't
>> use stemmers, except for the constructor argument related to the stop words,
>> is there anything else that I have to modify?
>>
>> Thanks,
>> Vicky
>>
>>
>> Quoting Erick Erickson <erickerickson@gmail.com>:
>>
>>> StandardAnalyzer works well for most European languages. The problem will
>>> be stemming. Applying stemming via English rules to non-English languages
>>> produces...er...interesting results.
>>>
>>> You can go ahead and create language-specific fields for each language and
>>> use StandardAnalyzer with the appropriate stopwords and stemming with
>>> each,
>>> this is a common approach.. The Snowball stemmer takes a language
>>> parameter...
>>>
>>> You need to use specific analyzers for Chinese Japanese Korean (CJK)
>>> documents
>>> though.
>>>
>>> Hope that helps
>>> Erick
>>>
>>> On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>>> wrote:
>>>>
>>>> Hello everybody,
>>>>
>>>> I have an enquiry about StandardAnalyzer. Can I use it for other
>>>> languages
>>>> except from English? I give the right list of stop words at
>>>> initialization.
>>>> Is there anything else inside the class that is by default set in
>>>> English?
>>>> I've found the Analyzers for other languages too but they where seem to
>>>> be
>>>> deprecated.. Moreover I use english and other languages, all together in
>>>> my
>>>> project so I would like to ask if there is a way to use either the same
>>>> class analyzer for all of them, or analyzers of the same functionality
>>>> for
>>>> all the languages. Thanks in advance!
>>>>
>>>> Best regards,
>>>> Vicky
>>>>
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 13:50:04 2011
Return-Path: <java-user-return-48989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9162 invoked from network); 14 Mar 2011 13:50:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 13:50:04 -0000
Received: (qmail 76647 invoked by uid 500); 14 Mar 2011 13:50:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76604 invoked by uid 500); 14 Mar 2011 13:50:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76596 invoked by uid 99); 14 Mar 2011 13:50:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:50:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [193.197.136.104] (HELO mta-out-vm.ph-freiburg.de) (193.197.136.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:49:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by mta-out-vm.ph-freiburg.de (Postfix) with ESMTP id B9AFB22354;
	Mon, 14 Mar 2011 14:50:29 +0100 (CET)
X-Virus-Scanned: amavisd-new at ph-bw.de
Received: from mta-out-vm.ph-freiburg.de ([127.0.0.1])
	by localhost (mail-out-vm.ph-freiburg.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id bsXpwlhn7ZXQ; Mon, 14 Mar 2011 14:50:29 +0100 (CET)
Received: from frlpms01.ph-bw.de (frlpms01.ph-bw.de [193.197.136.97])
	by mta-out-vm.ph-freiburg.de (Postfix) with ESMTP id 5F5F222347;
	Mon, 14 Mar 2011 14:50:29 +0100 (CET)
Received: from ip-2-205-75-8.web.vodafone.de (ip-2-205-75-8.web.vodafone.de [2.205.75.8])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	(Authenticated sender: libbrechtka)
	by frlpms01.ph-bw.de (Postfix) with ESMTPSA id A69172221D;
	Mon, 14 Mar 2011 14:49:31 +0100 (CET)
Subject: Re: Indexing of multilingual labels
Mime-Version: 1.0 (Apple Message framework v1082)
Content-Type: text/plain; charset=iso-8859-1
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <AANLkTing9656NYf2A+bd5L=2R0qDwbm5m+Yk8TXSpKot@mail.gmail.com>
Date: Mon, 14 Mar 2011 14:49:26 +0100
Cc: Erick Erickson <erickerickson@gmail.com>
Content-Transfer-Encoding: quoted-printable
Message-Id: <4120CCC9-340D-46C9-A8C9-E48CC32C860A@hoplahup.net>
References: <AANLkTimFT3cheCPptbk2JwkNhjOU-X1wDw9k-O2jU8=n@mail.gmail.com> <AANLkTinExquAVyzKSPi4joHkOqdtPOyAfZ1DeK_DNiMg@mail.gmail.com> <AANLkTing9656NYf2A+bd5L=2R0qDwbm5m+Yk8TXSpKot@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

Stephane,

I think that you have the freedom to put what you want in the stored =
value of a field.

The simplest would even be to make it that the fields that you want to =
use for display are stored, preformatted, xml-ished, owl-ified, or =
json-ized, to be separate from the indexed fields (where you are only =
interested to the plain text).=20
Payloads seem to be doing a similar job as a separate stored, =
non-indexed field.

The best approach I had thus far was to use a multiplexing analyzer =
(which is called for indexed fields only anyways) that recognizes the =
language by the suffix of the field name.

As to the difference between one index and several fields or one field =
in many indices, I think it is just a programming difference. The tf and =
idf are always done at the term level so they make no difference.=20

I tend to prefer multiple fields because it's easier to expand a query =
for, say, Fourrier sent by a browser that says English but also accepts =
french and German into:
- a query for Fourrier in the whitespace-tokenized track (always prefer =
that one)
- a query for fouri in the French field
- a query for fourier in the English and German fields
My current experience is that many users appear or claim to speak many =
languages (they do, a little bit).

hope it helps.

paul

PS: not that my code is ideal but here are the ones I have:
 - i2geo, based on an ontology of concepts in OWL,=20
	http://i2geo.net/xwiki/bin/view/About/GeoSkills
   and http://svn.activemath.org/intergeo/Platform/SearchI2G/
 - ActiveMath, fed by XML, =
http://www.activemath.org/javadoc/org/activemath/omdocjdom/index/package-s=
ummary.html and=20


Le 11 mars 2011 =E0 16:35, Stephane Fellah a =E9crit :

> Erick,
>=20
> I am trying to index multilingual taxonomies such as SKOS, Wordnet,
> Eurowordnet. Taxonomies are composed of concepts which have preferred =
and
> alternative labels in different languages. Some labels are the same =
lexical
> form in different languages. I want to be able to index these concepts =
in
> Lucene in order to be able to search concepts by their label in one or
> several languages. I want also be able to display concept definition =
with
> all the alternative labels in different languages. My question is: =
could we
> use the payload mechanism to store the language assigned to the word =
(i read
> somewhere Google was using payload to store information such as font =
for
> example, so why not language) ? Wouldn't be a better approach then =
using one
> field per language or one index per language ?
>=20
> REgards
> Stephane
>=20
> On Fri, Mar 11, 2011 at 7:52 AM, Erick Erickson =
<erickerickson@gmail.com>wrote:
>=20
>> It's not so much a matter of problems with indexing/searching
>> as it is with search behavior. The reason these strategies
>> are implemented is that using English stemming, say, on
>> other languages will produce "interesting" results.
>>=20
>> There's no a-priori reason you can't index multiple languages
>> in the same field.
>>=20
>> So I don't see what you would accomplish by using payloads
>> to indicate which language the term is in. Could you expand
>> a bit on what you're trying to accomplish here? Maybe there
>> are better solutions....
>>=20
>> Best
>> Erick
>>=20
>>=20
>> On Thu, Mar 10, 2011 at 10:29 PM, Stephane Fellah
>> <sfellah@smartrealm.com> wrote:
>>> I  am trying to index in Lucene a field that could have label of =
concepts
>> in
>>> different languages. Most of the approaches I have seen so far are:
>>>=20
>>> -
>>>=20
>>> Use a single index, where each document has a field per each =
language
>> it
>>> uses, or
>>> -
>>>=20
>>> Use M indexes, M being the number of languages in the corpus.
>>>=20
>>> Lucene 2.9+ has a feature called Payload that allows to attach =
attributes
>> to
>>> term. Is anyone use this mechanism to store language (or other =
attributes
>>> such as datatypes) information ? Does this approach if labels are =
the
>> same
>>> in different languages (does it break inverted index) ? How is
>> performance
>>> compared to the two other approaches ? Any pointer on source code =
showing
>>> how it is done would help.
>>>=20
>>> Thanks
>>>=20
>>> --
>>> Stephane Fellah, M.Sc, B.Sc
>>> Principal Engineer/Product Manager
>>> smartRealm LLC
>>> 201 Loudoun St. SW
>>> Leesburg, VA 20175
>>> Tel: 703 669 5514
>>> Cell: 571 502 8478
>>> Fax: 703 669 5515
>>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>=20
>>=20
>=20
>=20
> --=20
> Stephane Fellah, M.Sc, B.Sc
> Principal Engineer/Product Manager
> smartRealm LLC
> 201 Loudoun St. SW
> Leesburg, VA 20175
> Tel: 703 669 5514
> Cell: 571 502 8478
> Fax: 703 669 5515


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 13:51:39 2011
Return-Path: <java-user-return-48990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11510 invoked from network); 14 Mar 2011 13:51:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 13:51:38 -0000
Received: (qmail 80823 invoked by uid 500); 14 Mar 2011 13:51:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80729 invoked by uid 500); 14 Mar 2011 13:51:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80709 invoked by uid 99); 14 Mar 2011 13:51:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:51:36 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=ASF_LIST_OPS,EXTRA_MPART_TYPE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 13:51:29 +0000
Received: from MAIL.otssolutions.com ([fe80::cde4:3636:c426:275a]) by
 MAIL.otssolutions.com ([fe80::cde4:3636:c426:275a%11]) with mapi; Mon, 14 Mar
 2011 19:19:23 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene3.0.3 | Special character indexing
Thread-Topic: lucene3.0.3 | Special character indexing
Thread-Index: AcviTo0jBnTmenXBStmnTfkU0JIS+w==
Date: Mon, 14 Mar 2011 13:48:51 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C46108A7B@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
Content-Type: multipart/related;
	boundary="_004_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_";
	type="multipart/alternative"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_"

--_000_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I am creating index using Lucene 3.0.3 StandardAnalyzer.

when searching is made on index using query like C, C# or C++  it gives sam=
e result for all these three term. As, I know while creating index analyzer=
 ignore special character and do not create index for same. I have tried Ke=
ywordAnalyzer but it do not fulfill my requirement.

Need to be able to differentiate between "C", "C#" and "C++"

I have to create my own analyzer?

Or I have to modify the JFlex grammar? http://osdir.com/ml/java-dev/2009-06=
/msg00208.html

please suggest me that, Is any existing analyzer will resolve this issue?

Any suggestion will be appreciated!!!


Thanks & Regards,
Ranjit Kumar
Associate Software Engineer

[cid:image002.jpg@01CB7089.C0069B40]

US:       +1 408.540.0001
UK:       +44 208.099.1660
India:   +91 124.474.8100 | +91 124.410.1350
FAX:     +1 408.516.9050
http://www.otssolutions.com

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p
	{mso-style-priority:99;
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.vote-count-post
	{mso-style-name:vote-count-post;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal"><span class=3D"vote-count-post">Hi,</span><o:p></o:p=
></p>
<p>I am creating index using Lucene 3.0.3 <strong>StandardAnalyzer</strong>=
.<o:p></o:p></p>
<p>when searching is made on index using query like <strong>C</strong>, <st=
rong>C#</strong> or
<strong>C&#43;&#43;</strong> &nbsp;it gives same result for all these three=
 term. As, I know while creating index analyzer ignore special character an=
d do not create index for same. I have tried
<b>KeywordAnalyzer </b>but it do not fulfill my requirement.<o:p></o:p></p>
<p><strong>Need to be able to differentiate between &quot;C&quot;, &quot;C#=
&quot; and &quot;C&#43;&#43;&quot;</strong> <o:p>
</o:p></p>
<p>I have to create my own analyzer?<o:p></o:p></p>
<p>Or I have <span style=3D"font-size:10.5pt;font-family:&quot;Verdana&quot=
;,&quot;sans-serif&quot;">to modify the JFlex grammar?
</span><a href=3D"http://osdir.com/ml/java-dev/2009-06/msg00208.html">http:=
//osdir.com/ml/java-dev/2009-06/msg00208.html</a><o:p></o:p></p>
<p>please suggest me that, Is any existing analyzer will resolve this issue=
? <o:p>
</o:p></p>
<p>Any suggestion will be appreciated!!!<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Thanks &amp; Regards,</span><span style=
=3D"font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"=
><o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:purple">Ranjit Kumar&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b><span style=3D"font-size:12.0pt;font-family:&quot;Palatino Li=
notype&quot;,&quot;serif&quot;;color:purple"><o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Associate Software Engineer<o:p></o:p></=
span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><img border=3D"0" width=3D"236" height=
=3D"53" id=3D"Picture_x0020_1" src=3D"cid:image001.jpg@01CBE27B.5E40C930" a=
lt=3D"cid:image002.jpg@01CB7089.C0069B40"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">US:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;1 408.540.0001
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">UK:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;44 208.099.1660<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">India:</span></b><span style=3D"font-=
family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&=
nbsp;&#43;91 124.474.8100 | &#43;91 124.410.1350<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-bottom:12.0pt"><b><span style=3D"fon=
t-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy">FAX:</=
span></b><span style=3D"font-family:&quot;Palatino Linotype&quot;,&quot;ser=
if&quot;;color:navy"> &nbsp;&nbsp;&nbsp; &#43;1 408.516.9050<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><a href=3D"http://www.otssolutions.com">=
<span style=3D"color:blue">http://www.otssolutions.com</span></a><o:p></o:p=
></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely
 for the use of the intended recipient. The content of this e-mail and any =
file or attachment transmitted with it may have been changed or altered wit=
hout the consent of the author. If you are not the intended recipient, plea=
se note that any review, dissemination,
 disclosure, alteration, printing, circulation or Transmission of this e-ma=
il and/or any file or attachment transmitted with it, is prohibited and may=
 be unlawful. If you have received this e-mail or any file or attachment tr=
ansmitted with it in error please
 notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
</body>
</html>

--_000_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_--

--_004_AD21521D44870544AC66F4FDFC0A474C46108A7BMAILotssolution_--

From java-user-return-48991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 14:09:42 2011
Return-Path: <java-user-return-48991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68402 invoked from network); 14 Mar 2011 14:09:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 14:09:41 -0000
Received: (qmail 23667 invoked by uid 500); 14 Mar 2011 14:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23538 invoked by uid 500); 14 Mar 2011 14:09:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23530 invoked by uid 99); 14 Mar 2011 14:09:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 14:09:39 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 14:09:33 +0000
Received: by iyj12 with SMTP id 12so7695853iyj.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 07:09:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=4NyRRuJmuKRI0oMtocjLJIMRkrbpa+HCCPpb5E8i+2w=;
        b=VFRQ6ugthnHAC5iJghL3bLOR6xVDYgJ1PqucMNK4MsYltabxXIMVsFhqFcdJZ+BHkC
         yhgXLFaXO+8b6fyCd4hzUb+0imc0ezxeAsqgt9t+5jqBng66BuG6EVeR0JihVVr9OIN0
         gshJFMsJC03+8dU+/yXSBEeaVTR6hDDKRGY00=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=t39dNM9ekWqLKKvpZKUD15YKtK/lgGQTFNB0oIAFtdy3siM262YBZywlGSp6f3XgUD
         p6zRI68IIKOuEpAxxaDrRXOvugd0UEO/UjHk2NfdMH2JZdnOfLBbymJZnhlAyBwI8UEZ
         SI/MAFHbU5CwrTXyfut2FkVBfjbLv6JQ7eWTg=
Received: by 10.231.111.209 with SMTP id t17mr6557897ibp.140.1300111752163;
 Mon, 14 Mar 2011 07:09:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Mon, 14 Mar 2011 07:08:52 -0700 (PDT)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C46108A7B@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C46108A7B@MAIL.otssolutions.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 14 Mar 2011 14:08:52 +0000
Message-ID: <AANLkTimZCX6dfURKX42EOV2rZX6iAJ=4kYwFVKft=XN+@mail.gmail.com>
Subject: Re: lucene3.0.3 | Special character indexing
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e649c74c27f186049e71dbbc
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e649c74c27f186049e71dbbc
Content-Type: text/plain; charset=ISO-8859-1

Google finds http://www.gossamer-threads.com/lists/lucene/java-user/91750which
looks like a good starting point.


--
Ian.

P.S.  Plain text emails are preferable.


On Mon, Mar 14, 2011 at 1:48 PM, Ranjit Kumar <Ranjit.Kumar@otssolutions.com
> wrote:

>  Hi,
>
> I am creating index using Lucene 3.0.3 *StandardAnalyzer*.
>
> when searching is made on index using query like *C*, *C#* or *C++*  it
> gives same result for all these three term. As, I know while creating index
> analyzer ignore special character and do not create index for same. I have
> tried *KeywordAnalyzer *but it do not fulfill my requirement.
>
> *Need to be able to differentiate between "C", "C#" and "C++"*
>
> I have to create my own analyzer?
>
> Or I have to modify the JFlex grammar?
> http://osdir.com/ml/java-dev/2009-06/msg00208.html
>
> please suggest me that, Is any existing analyzer will resolve this issue?
>
> Any suggestion will be appreciated!!!
>
>
>
>
>
> Thanks & Regards,
>
> *Ranjit Kumar                       ***
>
> Associate Software Engineer
>
>
>
> [image: cid:image002.jpg@01CB7089.C0069B40]
>
>
>
> *US:*       +1 408.540.0001
>
> *UK:*       +44 208.099.1660
>
> *India:*   +91 124.474.8100 | +91 124.410.1350
>
> *FAX:*     +1 408.516.9050
>
> http://www.otssolutions.com
>
>
> ===================================================================================================
> Private, Confidential and Privileged. This e-mail and any files and
> attachments transmitted with it are confidential and/or privileged. They are
> intended solely for the use of the intended recipient. The content of this
> e-mail and any file or attachment transmitted with it may have been changed
> or altered without the consent of the author. If you are not the intended
> recipient, please note that any review, dissemination, disclosure,
> alteration, printing, circulation or Transmission of this e-mail and/or any
> file or attachment transmitted with it, is prohibited and may be unlawful.
> If you have received this e-mail or any file or attachment transmitted with
> it in error please notify OTS Solutions at info@otssolutions.com===================================================================================================
>
>

--0016e649c74c27f186049e71dbbc--

From java-user-return-48992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 14:12:04 2011
Return-Path: <java-user-return-48992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68930 invoked from network); 14 Mar 2011 14:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 14:12:04 -0000
Received: (qmail 27095 invoked by uid 500); 14 Mar 2011 14:12:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27056 invoked by uid 500); 14 Mar 2011 14:12:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27043 invoked by uid 99); 14 Mar 2011 14:12:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 14:12:02 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.3.90] (HELO exprod8og105.obsmtp.com) (64.18.3.90)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Mar 2011 14:11:56 +0000
Received: from source ([216.109.100.75]) by exprod8ob105.postini.com ([64.18.7.12]) with SMTP
	ID DSNKTX4iCw8Bb0M0JhV7MMMb4/jGGx8gBfHS@postini.com; Mon, 14 Mar 2011 07:11:24 PDT
Received: from us-pghmail3.ariba.com ([10.32.16.10]) by outboundpghmail.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 14 Mar 2011 10:11:45 -0400
Received: from in-blrmail2.ariba.com ([10.57.16.56]) by us-pghmail3.ariba.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 14 Mar 2011 10:11:23 -0400
Received: from [10.57.36.182] ([10.57.36.182]) by in-blrmail2.ariba.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 Mar 2011 19:41:19 +0530
Message-ID: <4D7E220A.1030208@ariba.com>
Date: Mon, 14 Mar 2011 19:41:22 +0530
From: Vinaya Kumar Thimmappa <vthimmappa@ariba.com>
Reply-To: vthimmappa@ariba.com
Organization: Ariba 
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101208 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: lucene3.0.3 | Special character indexing
References: <AD21521D44870544AC66F4FDFC0A474C46108A7B@MAIL.otssolutions.com>
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C46108A7B@MAIL.otssolutions.com>
Content-Type: multipart/alternative;
 boundary="------------070007040206010802030400"
X-OriginalArrivalTime: 14 Mar 2011 14:11:19.0781 (UTC) FILETIME=[B0DEC950:01CBE251]

--------------070007040206010802030400
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hello Ranjit,

Can you use the latest luke tool ? It has analyzer section which helps 
in deciding which analyzer to use based on the input.

Hope this helps
-vinaya

On Monday 14 March 2011 07:18 PM, Ranjit Kumar wrote:
>
> Hi,
>
> I am creating index using Lucene 3.0.3 *StandardAnalyzer*.
>
> when searching is made on index using query like *C*, *C#* or *C++* 
>  it gives same result for all these three term. As, I know while 
> creating index analyzer ignore special character and do not create 
> index for same. I have tried *KeywordAnalyzer *but it do not fulfill 
> my requirement.
>
> *Need to be able to differentiate between "C", "C#" and "C++"*
>
> I have to create my own analyzer?
>
> Or I have to modify the JFlex grammar? 
> http://osdir.com/ml/java-dev/2009-06/msg00208.html
>
> please suggest me that, Is any existing analyzer will resolve this issue?
>
> Any suggestion will be appreciated!!!
>
> Thanks & Regards,
>
> *Ranjit Kumar ***
>
> Associate Software Engineer
>
> cid:image002.jpg@01CB7089.C0069B40
>
> *US:*      +1 408.540.0001
>
> *UK:*      +44 208.099.1660
>
> *India:*  +91 124.474.8100 | +91 124.410.1350
>
> *FAX:*    +1 408.516.9050
>
> http://www.otssolutions.com
>
> =================================================================================================== 
> Private, Confidential and Privileged. This e-mail and any files and 
> attachments transmitted with it are confidential and/or privileged. 
> They are intended solely for the use of the intended recipient. The 
> content of this e-mail and any file or attachment transmitted with it 
> may have been changed or altered without the consent of the author. If 
> you are not the intended recipient, please note that any review, 
> dissemination, disclosure, alteration, printing, circulation or 
> Transmission of this e-mail and/or any file or attachment transmitted 
> with it, is prohibited and may be unlawful. If you have received this 
> e-mail or any file or attachment transmitted with it in error please 
> notify OTS Solutions at info@otssolutions.com 
> ===================================================================================================

--------------070007040206010802030400--

From java-user-return-48993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 14:52:50 2011
Return-Path: <java-user-return-48993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12667 invoked from network); 14 Mar 2011 14:52:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 14:52:50 -0000
Received: (qmail 48374 invoked by uid 500); 14 Mar 2011 14:52:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48328 invoked by uid 500); 14 Mar 2011 14:52:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48320 invoked by uid 99); 14 Mar 2011 14:52:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 14:52:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.96.7.25] (HELO triton.rz.uni-saarland.de) (134.96.7.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 14:52:39 +0000
Received: from cl0lx.lsv.uni-saarland.de (mail.lsv.uni-saarland.de [134.96.116.10])
	by triton.rz.uni-saarland.de (8.14.1/8.14.0) with ESMTP id p2EEqGpM021222
	for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 15:52:16 +0100
Received: by cl0lx.lsv.uni-saarland.de (Postfix, from userid 65534)
	id EF59676C8A; Mon, 14 Mar 2011 15:52:15 +0100 (CET)
Received: from [134.96.116.33] (ws20lx.lsv.uni-saarland.de [134.96.116.33])
	by cl0lx.lsv.uni-saarland.de (Postfix) with ESMTP id B2C6076C2F
	for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 15:52:14 +0100 (CET)
Message-ID: <4D7E2B9E.5090900@lsv.uni-saarland.de>
Date: Mon, 14 Mar 2011 15:52:14 +0100
From: Michael Wiegand <michael.wiegand@lsv.uni-saarland.de>
User-Agent: Thunderbird 2.0.0.24 (X11/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: no. of documents with hits vs. no. of hits
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on 
	mail.lsv.uni-saarland.de
X-Spam-Level: 
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0 (triton.rz.uni-saarland.de [134.96.7.25]); Mon, 14 Mar 2011 15:52:16 +0100 (CET)
X-AntiVirus: checked by AntiVir MailGate (version: 2.1.2-14; AVE: 7.9.4.176; VDF: 7.11.3.249; host: AntiVir3)
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.64

Hi,

Does Lucene always count the number of documents with hits matching a 
query or is it also possible to count the overall number of hits?
There would be a difference between the two if within a document there 
is actually more than one hit.

Thank you in advance!

Best,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 17:56:20 2011
Return-Path: <java-user-return-48994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15480 invoked from network); 14 Mar 2011 17:56:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 17:56:19 -0000
Received: (qmail 15519 invoked by uid 500); 14 Mar 2011 17:56:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15479 invoked by uid 500); 14 Mar 2011 17:56:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15471 invoked by uid 99); 14 Mar 2011 17:56:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 17:56:17 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 17:56:12 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <sirishreddy@gmail.com>)
	id 1PzBzj-0005Ki-Ky
	for java-user@lucene.apache.org; Mon, 14 Mar 2011 10:55:51 -0700
Date: Mon, 14 Mar 2011 10:55:51 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1300125351643-2676784.post@n3.nabble.com>
Subject: Issue with disk space on UNIX
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello All:

Background:
I have a text based search engine implemented in Java using Lucene 3.0.
Indexing and re-indexing happens every night at 1 am as a scheduled process.
The index size is around 1 gig and is recreated every night.

Issues
1. Now I have a peculiar problem that happens only on my UNIX server. Every
night after deleting the existing indexes and recreating the new, the disk
loses around 1 gig space. When I look into the directory, I see a new file
created with same size as the previous one, still overall space is lost.

2. Also, there is an issue with RAM memory. During indexing the memory
occupancy is high, which is understandable. However, the memory occupancy
remains the same even after completing the indexing process and this keeps
increasing day by day until the server runs out of memory in a few weeks.
This happens both on my Windows and Unix servers.

Any help or hint on possible solutions to fix the above issues is highly
appreciated.

Thanks.

--
View this message in context: http://lucene.472066.n3.nabble.com/Issue-with-disk-space-on-UNIX-tp2676784p2676784.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 18:08:50 2011
Return-Path: <java-user-return-48995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70215 invoked from network); 14 Mar 2011 18:08:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 18:08:49 -0000
Received: (qmail 41844 invoked by uid 500); 14 Mar 2011 18:08:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41804 invoked by uid 500); 14 Mar 2011 18:08:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41796 invoked by uid 99); 14 Mar 2011 18:08:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:08:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:08:42 +0000
Received: by qwj9 with SMTP id 9so1893940qwj.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 11:08:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=igKZ0Uadi2Jfjabvlofcc9wkmEbv9TLmVI2hCpbHIVI=;
        b=nKIzI2T94O/Iny1bgz1ojmRiVEQKK4xSZhFZCaJp4t02XszzEV8hGJa26ai3nRIvP/
         vZeoBrQQYRWLxOGas7sKSGGItvJ2IC8iR29iIufvtS0PieVms1QyD89/6PvBADmVgIqt
         3zLOcm4h5F8ogSEApX7cTiS7xi0IxTXb+4P0w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Yj9g9mqfWjwqXUf+1W5MRrLdy9EcHExbzbeZCGzXUfc5rDkI3VAKGfbFaX7pU8URJc
         avChj1O8yAs9Fo2TOYFQQd0GwOyzurSDCekYS5HprLNHsTr25V+o6GyTT+4RICgLLRQ5
         ZLRwIbn1rzM5QRAc5J2PqXROuJ2A6kTdp6RWY=
MIME-Version: 1.0
Received: by 10.229.65.33 with SMTP id g33mr9078358qci.294.1300126101260; Mon,
 14 Mar 2011 11:08:21 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Mon, 14 Mar 2011 11:08:21 -0700 (PDT)
In-Reply-To: <20110314153540.17102ucgcjnx3hrg@webmail.auth.gr>
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
	<AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
	<20110314142132.20003yufugs9j1os@webmail.auth.gr>
	<AANLkTi=Fc9KQftt=PQDKKxEb-nVS2KVJJe6N+wOj9SHo@mail.gmail.com>
	<20110314153540.17102ucgcjnx3hrg@webmail.auth.gr>
Date: Mon, 14 Mar 2011 14:08:21 -0400
Message-ID: <AANLkTi=JEoKSV4GeTu6JBbC5NFTVG7QQpebqYLWT4TyE@mail.gmail.com>
Subject: Re: Analyzer enquiry
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Nope, that should do it.

Best
Erick

On Mon, Mar 14, 2011 at 9:35 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
> Sorry for the confusion. I have two analyzers(of StandardAnalyzer) and use
> no stemmers. At the one analyzer I passed a german stop words set to the
> constructor and at the other one I passed an english stop words set. My
> question was if I have to call any other function of the german analyzer for
> it to be corrent.
>
> Thank you.
>
>
> Quoting Erick Erickson <erickerickson@gmail.com>:
>
>> I don't understand what you're saying here. If you put a stemmer in the
>> constructor, you *are* using it. If you don't specify any stemmer at all,
>> you
>> still have to define different analyzers to use different stop word lists.
>>
>> Can you restate your question?
>>
>> Best
>> Erick
>>
>> On Mon, Mar 14, 2011 at 8:21 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>> wrote:
>>>
>>> Thanks a lot for your help Erick! About the fields you mentioned: If I
>>> don't
>>> use stemmers, except for the constructor argument related to the stop
>>> words,
>>> is there anything else that I have to modify?
>>>
>>> Thanks,
>>> Vicky
>>>
>>>
>>> Quoting Erick Erickson <erickerickson@gmail.com>:
>>>
>>>> StandardAnalyzer works well for most European languages. The problem
>>>> will
>>>> be stemming. Applying stemming via English rules to non-English
>>>> languages
>>>> produces...er...interesting results.
>>>>
>>>> You can go ahead and create language-specific fields for each language
>>>> and
>>>> use StandardAnalyzer with the appropriate stopwords and stemming with
>>>> each,
>>>> this is a common approach.. The Snowball stemmer takes a language
>>>> parameter...
>>>>
>>>> You need to use specific analyzers for Chinese Japanese Korean (CJK)
>>>> documents
>>>> though.
>>>>
>>>> Hope that helps
>>>> Erick
>>>>
>>>> On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>>>> wrote:
>>>>>
>>>>> Hello everybody,
>>>>>
>>>>> I have an enquiry about StandardAnalyzer. Can I use it for other
>>>>> languages
>>>>> except from English? I give the right list of stop words at
>>>>> initialization.
>>>>> Is there anything else inside the class that is by default set in
>>>>> English?
>>>>> I've found the Analyzers for other languages too but they where seem to
>>>>> be
>>>>> deprecated.. Moreover I use english and other languages, all together
>>>>> in
>>>>> my
>>>>> project so I would like to ask if there is a way to use either the same
>>>>> class analyzer for all of them, or analyzers of the same functionality
>>>>> for
>>>>> all the languages. Thanks in advance!
>>>>>
>>>>> Best regards,
>>>>> Vicky
>>>>>
>>>>>
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>>
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 18:13:41 2011
Return-Path: <java-user-return-48996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71907 invoked from network); 14 Mar 2011 18:13:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 18:13:41 -0000
Received: (qmail 54589 invoked by uid 500); 14 Mar 2011 18:13:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54552 invoked by uid 500); 14 Mar 2011 18:13:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54543 invoked by uid 99); 14 Mar 2011 18:13:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:13:39 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:13:33 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <sirishreddy@gmail.com>)
	id 1PzCGX-0006nL-8D
	for java-user@lucene.apache.org; Mon, 14 Mar 2011 11:13:13 -0700
Date: Mon, 14 Mar 2011 11:13:13 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1300126393247-2676832.post@n3.nabble.com>
In-Reply-To: <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com> <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I had exactly the same requirement to parse and index offline html files. I
had written my own HTML scanner using
javax.swing.text.html.HTMLEditorKit.Parser. It sounds difficult, but pretty
simple and straight forward to implement, a simple 40 line java class did
the job for me.


shrinath.m wrote:
> 
> On Fri, Mar 11, 2011 at 5:06 PM, Li Li [via Lucene] <
> ml-node+2664380-1940163870-376162@n3.nabble.com> wrote:
> 
>>   But I think the parser will most be used when crawling. So you can use
>> these parsers when crawling and save parsed result only.
>>
> 
> Consider we've offline HTML pages, no parsing while crawling, now what ?
> Any tokenizer someone has built for this ?
> 
> 
> How does Solr do it ?
> 
> 
> -- 
> Regards
> Shrinath.M
> 


--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2676832.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 18:13:44 2011
Return-Path: <java-user-return-48997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71968 invoked from network); 14 Mar 2011 18:13:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 18:13:44 -0000
Received: (qmail 56266 invoked by uid 500); 14 Mar 2011 18:13:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56211 invoked by uid 500); 14 Mar 2011 18:13:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56180 invoked by uid 99); 14 Mar 2011 18:13:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:13:40 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 18:13:35 +0000
Received: by qwj9 with SMTP id 9so1898842qwj.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 11:13:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ebILDi81C4Xu+3LrzbvwFFLN3MVeKu55/cmMLbgntuE=;
        b=vwhcW7W1DshwVllb4xiiIIR4yH4FuZv4Ey8sk/Bj+1sfLE/y/fxzPB3k2sUejDkZh2
         XeZvl2v9fqlqJmrF4nnKke7qHjeQSJ2+zRERYoF8w/uDCSRQCCOPUUNgQk3LZxjKyF3z
         2fLzL75jsBfOAZvJT942GdZJrkBaK0Rr1bqws=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=NlI1odx3ZiOu9Zvl/aqXedeGpIAaQpReaMKUh4syoaRh1yeGjGlj9BJx9O6gIUfAut
         r53r/WNdPt9vuM7c65qp2k0RuR/W5d727C3HcDbH4XHEEu1FFbo/1L+qCtXJcb2Dhmkn
         hf2NrTA1r5/KNsEuNxv6Fo5mwFEngPDjFhLTY=
MIME-Version: 1.0
Received: by 10.229.78.164 with SMTP id l36mr10183174qck.218.1300126392948;
 Mon, 14 Mar 2011 11:13:12 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Mon, 14 Mar 2011 11:13:12 -0700 (PDT)
In-Reply-To: <1300125351643-2676784.post@n3.nabble.com>
References: <1300125351643-2676784.post@n3.nabble.com>
Date: Mon, 14 Mar 2011 14:13:12 -0400
Message-ID: <AANLkTin7Xvci0anP9RK=xNPG9nCtn=MS8g04wMRrFa-1@mail.gmail.com>
Subject: Re: Issue with disk space on UNIX
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

This sounds like you're not closing your index searchers and the file system
is keeping them around. On the Unix box, does hour index space reappear
just by restarting the process?

Not using reopen correctly is sometimes the culprit, you need something like
this (taken from the javadocs).
 IndexReader reader = ...
 ...
 IndexReader new = r.reopen();
 if (new != reader) {
   ...     // reader was reopened
   reader.close();
 }
 reader = new;

******************
the mistake is to write something like:
reader = reader.reopen();
in which case the underlying reader is never closed.

Best
Erick

On Mon, Mar 14, 2011 at 1:55 PM, Sirish Vadala <sirishreddy@gmail.com> wrote:
> Hello All:
>
> Background:
> I have a text based search engine implemented in Java using Lucene 3.0.
> Indexing and re-indexing happens every night at 1 am as a scheduled process.
> The index size is around 1 gig and is recreated every night.
>
> Issues
> 1. Now I have a peculiar problem that happens only on my UNIX server. Every
> night after deleting the existing indexes and recreating the new, the disk
> loses around 1 gig space. When I look into the directory, I see a new file
> created with same size as the previous one, still overall space is lost.
>
> 2. Also, there is an issue with RAM memory. During indexing the memory
> occupancy is high, which is understandable. However, the memory occupancy
> remains the same even after completing the indexing process and this keeps
> increasing day by day until the server runs out of memory in a few weeks.
> This happens both on my Windows and Unix servers.
>
> Any help or hint on possible solutions to fix the above issues is highly
> appreciated.
>
> Thanks.
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Issue-with-disk-space-on-UNIX-tp2676784p2676784.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 20:29:07 2011
Return-Path: <java-user-return-48998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16610 invoked from network); 14 Mar 2011 20:29:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 20:29:07 -0000
Received: (qmail 97824 invoked by uid 500); 14 Mar 2011 20:29:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97772 invoked by uid 500); 14 Mar 2011 20:29:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97764 invoked by uid 99); 14 Mar 2011 20:29:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 20:29:04 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 20:28:58 +0000
Received: by iwr19 with SMTP id 19so8215129iwr.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 13:28:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=73wAI72Qmt0yILsE7t59uJP2u/ETtciU59ih37+6OcA=;
        b=CP3SE85YqBS1H688lJCTn00dWLYVXaGAP5fcpItdrkbxQH0lnX6+MJ7dZjp+adk4pL
         zjtCSDtqq5FGs9Wj2Z4Y3/DaUxCp9pO2vHecQr8778J6HKdHIJm5pjsUdeclhDBcOmGX
         MuEVwvJeMNQYmad5GH8umAbk+Vx2qKUPnjJ8k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=S8bS/yXogYkXZJZy0KPLPtaF6j6F8J01TfQsFtqPcaVdMzs1NoGCmvtzUQhXWiMZOI
         jR0jBUFw8Si8pkQVqxQSgM52iQt3v6G6m/nKz3cLg8eTVzKO5+tJtsCngXHbUf6fElXr
         bjpJAFbXZG4hLtp3YL26CPbCF/Hy432iW7R9c=
Received: by 10.42.115.133 with SMTP id k5mr197825icq.181.1300134516976; Mon,
 14 Mar 2011 13:28:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Mon, 14 Mar 2011 13:28:16 -0700 (PDT)
In-Reply-To: <AANLkTin7Xvci0anP9RK=xNPG9nCtn=MS8g04wMRrFa-1@mail.gmail.com>
References: <1300125351643-2676784.post@n3.nabble.com> <AANLkTin7Xvci0anP9RK=xNPG9nCtn=MS8g04wMRrFa-1@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 14 Mar 2011 20:28:16 +0000
Message-ID: <AANLkTin4PcLvQ1y4AH-UVVuRadDRzT7Jjr9_1KcOHD1D@mail.gmail.com>
Subject: Re: Issue with disk space on UNIX
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Further to what Erick says, recent versions of lucene hang on to
unclosed readers longer than old versions used to.

lsof -p pid can be useful here: run it and grep for deleted files
still being held open.


--
Ian.


On Mon, Mar 14, 2011 at 6:13 PM, Erick Erickson <erickerickson@gmail.com> w=
rote:
> This sounds like you're not closing your index searchers and the file sys=
tem
> is keeping them around. On the Unix box, does hour index space reappear
> just by restarting the process?
>
> Not using reopen correctly is sometimes the culprit, you need something l=
ike
> this (taken from the javadocs).
> =A0IndexReader reader =3D ...
> =A0...
> =A0IndexReader new =3D r.reopen();
> =A0if (new !=3D reader) {
> =A0 ... =A0 =A0 // reader was reopened
> =A0 reader.close();
> =A0}
> =A0reader =3D new;
>
> ******************
> the mistake is to write something like:
> reader =3D reader.reopen();
> in which case the underlying reader is never closed.
>
> Best
> Erick
>
> On Mon, Mar 14, 2011 at 1:55 PM, Sirish Vadala <sirishreddy@gmail.com> wr=
ote:
>> Hello All:
>>
>> Background:
>> I have a text based search engine implemented in Java using Lucene 3.0.
>> Indexing and re-indexing happens every night at 1 am as a scheduled proc=
ess.
>> The index size is around 1 gig and is recreated every night.
>>
>> Issues
>> 1. Now I have a peculiar problem that happens only on my UNIX server. Ev=
ery
>> night after deleting the existing indexes and recreating the new, the di=
sk
>> loses around 1 gig space. When I look into the directory, I see a new fi=
le
>> created with same size as the previous one, still overall space is lost.
>>
>> 2. Also, there is an issue with RAM memory. During indexing the memory
>> occupancy is high, which is understandable. However, the memory occupanc=
y
>> remains the same even after completing the indexing process and this kee=
ps
>> increasing day by day until the server runs out of memory in a few weeks=
.
>> This happens both on my Windows and Unix servers.
>>
>> Any help or hint on possible solutions to fix the above issues is highly
>> appreciated.
>>
>> Thanks.
>>
>> --
>> View this message in context: http://lucene.472066.n3.nabble.com/Issue-w=
ith-disk-space-on-UNIX-tp2676784p2676784.html
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 21:03:00 2011
Return-Path: <java-user-return-48999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34049 invoked from network); 14 Mar 2011 21:02:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 21:02:59 -0000
Received: (qmail 62267 invoked by uid 500); 14 Mar 2011 21:02:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62223 invoked by uid 500); 14 Mar 2011 21:02:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62215 invoked by uid 99); 14 Mar 2011 21:02:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:02:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of merlin.list@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:02:48 +0000
Received: by vws7 with SMTP id 7so3592723vws.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 14:02:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:content-type;
        bh=/wy0s86AiDPtv+hIRrE7mK5ma7J+YBxy7uQD1cRGNn4=;
        b=ha8jvolID4DP1dZbwnEdRuNXL4rwOo7AM1xWSMiKefvMeZlJEzLpgRc2KhLpFT99ll
         Tm9G2yhCx1fHhJKRjC4P/7njPO9qGglyv4xZKFipFmh5olMjoTwk2N5AsGSVTYMbbSDL
         grJnAdj7mqvkyu99pGaSsUj/UCCa4wsuGxtdQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type;
        b=YWlB/+q4SksC7UsZhIVHb4vtmT2HtB6TJh8dVrLBJwGmy9imefCRe47Z/Cq7HDmkGp
         vsjqzl+i0f3X/0J7gjdU/dJfU4wtcSIIDP/KmUZ5hC5VqhGRs3cEIn60DwjZH9dgFl7P
         /3hnC4n3XMXXzSU6V7Q55r+MKasXiBlCETGOs=
Received: by 10.52.0.206 with SMTP id 14mr7073396vdg.64.1300136547767;
        Mon, 14 Mar 2011 14:02:27 -0700 (PDT)
Received: from nycmdw80140c45pc.lbmmedia.com ([4.53.85.2])
        by mx.google.com with ESMTPS id e20sm3598359vbz.18.2011.03.14.14.02.26
        (version=SSLv3 cipher=OTHER);
        Mon, 14 Mar 2011 14:02:27 -0700 (PDT)
Message-ID: <4D7E8262.4070805@gmail.com>
Date: Mon, 14 Mar 2011 17:02:26 -0400
From: "merlin.list" <merlin.list@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: lucene double metaphone ranking.
Content-Type: multipart/alternative;
 boundary="------------020706070802040900030508"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------020706070802040900030508
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi guys,
     Here is my noob question:

  I'm trying to do fuzzy search on first name, last name. I'm using 
double metaphone analyzer. and i encountered the following problem.
for example, when i search for picasso, "paski" shows up with the same 
score as the spelling of "picasso". when i look at the analyzer result 
of "paksi, picasso" they are both analyzed as ''PKS". why isn't the 
exact spelling getting a higher score?

thanks.

--------------020706070802040900030508--

From java-user-return-49000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 21:11:01 2011
Return-Path: <java-user-return-49000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64285 invoked from network); 14 Mar 2011 21:11:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 21:11:00 -0000
Received: (qmail 85416 invoked by uid 500); 14 Mar 2011 21:10:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85371 invoked by uid 500); 14 Mar 2011 21:10:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85362 invoked by uid 99); 14 Mar 2011 21:10:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:10:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.17.10] (HELO moutng.kundenserver.de) (212.227.17.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:10:50 +0000
Received: from ip-109-41-223-191.web.vodafone.de (ip-109-41-223-191.web.vodafone.de [109.41.223.191])
	by mrelayeu.kundenserver.de (node=mreu0) with ESMTP (Nemesis)
	id 0Mhh2N-1Pd3aR21ch-00Mq2b; Mon, 14 Mar 2011 22:10:28 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: lucene double metaphone ranking.
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <4D7E8262.4070805@gmail.com>
Date: Mon, 14 Mar 2011 22:10:27 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <34C805C9-0BFD-4E41-8BAA-6FD19A5D38EF@hoplahup.net>
References: <4D7E8262.4070805@gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:iCwpx3bIF21SLfmcFSCCC9f1U740i5Jyc6XOzWhXs9T
 h1iyLTpuE9BzRrZ3KPYQ/dp3fZRDtOd0qQalmr8rkCyERmT9I3
 a42wZfp6Fmb4H1Xr0nm4iAkHeRlBRvgLqj/CtrASYxzNXHLZzb
 weLXqVFHDAxdpXeuDXPOr2LljhkxGmh12J/vlSFvojZPzcS9qo
 C6gViJyi3Y2M2h+dDgxiHyhtJf6kXsjaD66bN3PdgA=

Merlin,

the kind of magic such as "prefer an exact match" still has to be =
programmed.
Searching in a field with double-metaphone analyzer will only compare =
tokens by their double-metaphone-results.
You probably want query expansion:

text:picasso

to be expanded to:

  text:picasso^3.0 text.stemmed:picass^1.5 text.phonetic:PKS^1.2

paul


Le 14 mars 2011 =E0 22:02, merlin.list a =E9crit :

> Hi guys,
>    Here is my noob question:
>=20
> I'm trying to do fuzzy search on first name, last name. I'm using =
double metaphone analyzer. and i encountered the following problem.
> for example, when i search for picasso, "paski" shows up with the same =
score as the spelling of "picasso". when i look at the analyzer result =
of "paksi, picasso" they are both analyzed as ''PKS". why isn't the =
exact spelling getting a higher score?
>=20
> thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 21:29:52 2011
Return-Path: <java-user-return-49001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10518 invoked from network); 14 Mar 2011 21:29:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 21:29:52 -0000
Received: (qmail 20732 invoked by uid 500); 14 Mar 2011 21:29:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20687 invoked by uid 500); 14 Mar 2011 21:29:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20679 invoked by uid 99); 14 Mar 2011 21:29:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:29:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of merlin.list@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 21:29:42 +0000
Received: by vws7 with SMTP id 7so3626253vws.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 14:29:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=bgaoRi2PDzJirImRI31ApU26qvQggPfvgrK5KHGhtMI=;
        b=eDncePZ3yKC7ZFzNRKt9PsaGJLDsiFB431AmRsukXiYZrspROXG1lZkqrABKmFpmsh
         v1f2yhsMsu4dsyIt7UG/j7E8TBzCV6HrgPZDiPIkFlO6gg9csn/80Ch3CLAbOFbgyrEA
         /iBs8z6C+rx5kyPYyNxWimJpr19hHbpp+lzXw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=CofdTAl7E4HjnTXeE3D5h9MMW2Gp7xjHfUT4gDKbRutnkXVbd+hZhxR+/5H5tyBmhY
         ET/TfW8o5NoPTJpxYQbAmjZ2kZySJy1XrLAG+Ti4pFUR1o1O2I/Wd7P0GoypETVXRxdJ
         1eTC+17Ah7cHcZmF0xBIZbHi6wa+VGFcfeFF0=
Received: by 10.52.178.98 with SMTP id cx2mr9560836vdc.222.1300138162048;
        Mon, 14 Mar 2011 14:29:22 -0700 (PDT)
Received: from nycmdw80140c45pc.lbmmedia.com ([4.53.85.2])
        by mx.google.com with ESMTPS id f17sm5358882vbv.6.2011.03.14.14.29.21
        (version=SSLv3 cipher=OTHER);
        Mon, 14 Mar 2011 14:29:21 -0700 (PDT)
Message-ID: <4D7E88B0.6030904@gmail.com>
Date: Mon, 14 Mar 2011 17:29:20 -0400
From: "merlin.list" <merlin.list@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: lucene double metaphone ranking.
References: <4D7E8262.4070805@gmail.com> <34C805C9-0BFD-4E41-8BAA-6FD19A5D38EF@hoplahup.net>
In-Reply-To: <34C805C9-0BFD-4E41-8BAA-6FD19A5D38EF@hoplahup.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

On Mar 14, 2011 5:10 PM, Paul Libbrecht wrote:
> Merlin,
>
> the kind of magic such as "prefer an exact match" still has to be programmed.
> Searching in a field with double-metaphone analyzer will only compare tokens by their double-metaphone-results.
> You probably want query expansion:
>
> text:picasso
>
> to be expanded to:
>
>    text:picasso^3.0 text.stemmed:picass^1.5 text.phonetic:PKS^1.2
>
> paul
>
>
> Le 14 mars 2011  22:02, merlin.list a crit :
>
> Thank you Paul! i shall try your spell.

>> Hi guys,
>>     Here is my noob question:
>>
>> I'm trying to do fuzzy search on first name, last name. I'm using double metaphone analyzer. and i encountered the following problem.
>> for example, when i search for picasso, "paski" shows up with the same score as the spelling of "picasso". when i look at the analyzer result of "paksi, picasso" they are both analyzed as ''PKS". why isn't the exact spelling getting a higher score?
>>
>> thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 14 22:33:59 2011
Return-Path: <java-user-return-49002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35091 invoked from network); 14 Mar 2011 22:33:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Mar 2011 22:33:58 -0000
Received: (qmail 15456 invoked by uid 500); 14 Mar 2011 22:33:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15410 invoked by uid 500); 14 Mar 2011 22:33:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15402 invoked by uid 99); 14 Mar 2011 22:33:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 22:33:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.207.1.69] (HELO hermes3.ccf.auth.gr) (155.207.1.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2011 22:33:49 +0000
Received: from auth.gr (electra1.ccf.auth.gr [155.207.1.128])
	by hermes3.ccf.auth.gr (8.14.4/8.14.4) with ESMTP id p2EMXQlj001251
	for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 00:33:27 +0200
Received: from adsl-245-072.diodos.auth.gr (adsl-245-072.diodos.auth.gr
 [155.207.245.72]) by webmail.auth.gr (Horde Framework) with HTTP; Tue, 15
 Mar 2011 00:33:26 +0200
Message-ID: <20110315003326.11765kiiijzz5kty@webmail.auth.gr>
Date: Tue, 15 Mar 2011 00:33:26 +0200
From: Vasiliki Gkouta <vgkouta@csd.auth.gr>
To: java-user@lucene.apache.org
Subject: Re: Analyzer enquiry
References: <20110314012356.10624s0nnschwr2k@webmail.auth.gr>
 <AANLkTi=EAYmChqQhGPJMiSuBC-cG8848vMOgGBr-qNzT@mail.gmail.com>
 <20110314142132.20003yufugs9j1os@webmail.auth.gr>
 <AANLkTi=Fc9KQftt=PQDKKxEb-nVS2KVJJe6N+wOj9SHo@mail.gmail.com>
 <20110314153540.17102ucgcjnx3hrg@webmail.auth.gr>
 <AANLkTi=JEoKSV4GeTu6JBbC5NFTVG7QQpebqYLWT4TyE@mail.gmail.com>
In-Reply-To: <AANLkTi=JEoKSV4GeTu6JBbC5NFTVG7QQpebqYLWT4TyE@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8;
 DelSp="Yes";
 format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.3.6)
X-Virus-Scanned: clamav-milter 0.97 at hermes1
X-Virus-Status: Clean

Thank you for your help!

Best Regards,
Vicky

Quoting Erick Erickson <erickerickson@gmail.com>:

> Nope, that should do it.
>
> Best
> Erick
>
> On Mon, Mar 14, 2011 at 9:35 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr> wrote:
>> Sorry for the confusion. I have two analyzers(of StandardAnalyzer) and use
>> no stemmers. At the one analyzer I passed a german stop words set to the
>> constructor and at the other one I passed an english stop words set. My
>> question was if I have to call any other function of the german analyzer for
>> it to be corrent.
>>
>> Thank you.
>>
>>
>> Quoting Erick Erickson <erickerickson@gmail.com>:
>>
>>> I don't understand what you're saying here. If you put a stemmer in the
>>> constructor, you *are* using it. If you don't specify any stemmer at all,
>>> you
>>> still have to define different analyzers to use different stop word lists.
>>>
>>> Can you restate your question?
>>>
>>> Best
>>> Erick
>>>
>>> On Mon, Mar 14, 2011 at 8:21 AM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>>> wrote:
>>>>
>>>> Thanks a lot for your help Erick! About the fields you mentioned: If I
>>>> don't
>>>> use stemmers, except for the constructor argument related to the stop
>>>> words,
>>>> is there anything else that I have to modify?
>>>>
>>>> Thanks,
>>>> Vicky
>>>>
>>>>
>>>> Quoting Erick Erickson <erickerickson@gmail.com>:
>>>>
>>>>> StandardAnalyzer works well for most European languages. The problem
>>>>> will
>>>>> be stemming. Applying stemming via English rules to non-English
>>>>> languages
>>>>> produces...er...interesting results.
>>>>>
>>>>> You can go ahead and create language-specific fields for each language
>>>>> and
>>>>> use StandardAnalyzer with the appropriate stopwords and stemming with
>>>>> each,
>>>>> this is a common approach.. The Snowball stemmer takes a language
>>>>> parameter...
>>>>>
>>>>> You need to use specific analyzers for Chinese Japanese Korean (CJK)
>>>>> documents
>>>>> though.
>>>>>
>>>>> Hope that helps
>>>>> Erick
>>>>>
>>>>> On Sun, Mar 13, 2011 at 7:23 PM, Vasiliki Gkouta <vgkouta@csd.auth.gr>
>>>>> wrote:
>>>>>>
>>>>>> Hello everybody,
>>>>>>
>>>>>> I have an enquiry about StandardAnalyzer. Can I use it for other
>>>>>> languages
>>>>>> except from English? I give the right list of stop words at
>>>>>> initialization.
>>>>>> Is there anything else inside the class that is by default set in
>>>>>> English?
>>>>>> I've found the Analyzers for other languages too but they where seem to
>>>>>> be
>>>>>> deprecated.. Moreover I use english and other languages, all together
>>>>>> in
>>>>>> my
>>>>>> project so I would like to ask if there is a way to use either the same
>>>>>> class analyzer for all of them, or analyzers of the same functionality
>>>>>> for
>>>>>> all the languages. Thanks in advance!
>>>>>>
>>>>>> Best regards,
>>>>>> Vicky
>>>>>>
>>>>>>
>>>>>>
>>>>>> ---------------------------------------------------------------------
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>
>>>>>>
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 04:47:28 2011
Return-Path: <java-user-return-49003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20169 invoked from network); 15 Mar 2011 04:47:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 04:47:27 -0000
Received: (qmail 36259 invoked by uid 500); 15 Mar 2011 04:47:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36212 invoked by uid 500); 15 Mar 2011 04:47:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36202 invoked by uid 99); 15 Mar 2011 04:47:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:47:24 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:47:15 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1PzM9l-0001WS-A3
	for java-user@lucene.apache.org; Mon, 14 Mar 2011 21:46:54 -0700
Date: Mon, 14 Mar 2011 21:46:53 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTik81x3AUY_LHHcUyHajL9RoSUOdaCPK4N+K0306@mail.gmail.com>
In-Reply-To: <1300126393247-2676832.post@n3.nabble.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com> <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com> <1300126393247-2676832.post@n3.nabble.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11431_15317048.1300164413305"

------=_Part_11431_15317048.1300164413305
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I started trying out all your suggestions one by one, thanks to all who
helped.

I used Jericho and found it extremely simple to start with ...

Just wanted to clarify one thing though.
Is there some tool that does extract text from HTML without creating the DOM
?


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2680634.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_11431_15317048.1300164413305--

From java-user-return-49004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 04:53:53 2011
Return-Path: <java-user-return-49004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44947 invoked from network); 15 Mar 2011 04:53:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 04:53:53 -0000
Received: (qmail 47303 invoked by uid 500); 15 Mar 2011 04:53:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47261 invoked by uid 500); 15 Mar 2011 04:53:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47253 invoked by uid 99); 15 Mar 2011 04:53:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:53:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of earlhood@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:53:45 +0000
Received: by pvg6 with SMTP id 6so55237pvg.35
        for <java-user@lucene.apache.org>; Mon, 14 Mar 2011 21:53:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=6byye5pt/sKUauNHzxxPc6asIDZWVlsyTSv6MuN7JvU=;
        b=s4hFbeQBHLmxQUvpBh4kRiuRPFl/S8/MbvctNUNlCD64j2lwiKju7+xyActZePqqjO
         0SGQKgGpI00p0uovvaQdGU9IWwyvU/YA1W+P8vUpDybxj46JTASFLGoal2oRVwHszxjj
         QBBUvzJsSR6ZJF4h0bIBQqAWVPgCmwf5GfHZw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=YApRtRCnVsdntqo2PnuXRbxSRTg8vojfkjAvjjUxxXwK0y/0P4zM4h7V6E4wGvc5OQ
         Lw5Wot/nuWptvrGJr17n6niGyKWV7c7etB3MH7WNdm/NGWT2sh8YuQI25vU7f8ZoG7RB
         Xfdy0RjelUBNigb1OlvGW8X5xuMmIHS5GEEoo=
MIME-Version: 1.0
Received: by 10.142.127.16 with SMTP id z16mr11085320wfc.319.1300164804506;
 Mon, 14 Mar 2011 21:53:24 -0700 (PDT)
Sender: earlhood@gmail.com
Received: by 10.142.170.20 with HTTP; Mon, 14 Mar 2011 21:53:24 -0700 (PDT)
In-Reply-To: <AANLkTik81x3AUY_LHHcUyHajL9RoSUOdaCPK4N+K0306@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com>
	<AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com>
	<AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com>
	<AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com>
	<AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com>
	<1300126393247-2676832.post@n3.nabble.com>
	<AANLkTik81x3AUY_LHHcUyHajL9RoSUOdaCPK4N+K0306@mail.gmail.com>
Date: Mon, 14 Mar 2011 23:53:24 -0500
X-Google-Sender-Auth: X2tlISra9Ixc6SlA-QVbSzsaos0
Message-ID: <AANLkTi=AtJKdKmievnzs9KE_uyYKcH1r2APAvrQ2_vJQ@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Mar 14, 2011 at 11:46 PM, shrinath.m <shrinath.m@webyog.com> wrote:
> I used Jericho and found it extremely simple to start with ...
>
> Just wanted to clarify one thing though.
> Is there some tool that does extract text from HTML without creating the DOM

Looks like Jericho does what you want already:
http://jericho.htmlparser.net/docs/javadoc/net/htmlparser/jericho/TextExtractor.html

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 04:56:34 2011
Return-Path: <java-user-return-49005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45382 invoked from network); 15 Mar 2011 04:56:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 04:56:34 -0000
Received: (qmail 50900 invoked by uid 500); 15 Mar 2011 04:56:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50857 invoked by uid 500); 15 Mar 2011 04:56:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50849 invoked by uid 99); 15 Mar 2011 04:56:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:56:31 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 04:56:27 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1PzMIg-0002AS-Be
	for java-user@lucene.apache.org; Mon, 14 Mar 2011 21:56:06 -0700
Date: Mon, 14 Mar 2011 21:56:06 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1300164966333-2680665.post@n3.nabble.com>
In-Reply-To: <AANLkTi=AtJKdKmievnzs9KE_uyYKcH1r2APAvrQ2_vJQ@mail.gmail.com>
References: <1299841401493-2664316.post@n3.nabble.com> <AANLkTikEkYS6naJOKcAV7PXLpNGo419by6vDLE-+j4D+@mail.gmail.com> <AANLkTim4GbFhWFU4yOzQVWbkFXj8VQ=ow580dcxN8oT8@mail.gmail.com> <AANLkTimwHC+DaJm03z=RjRNGLVvxDgOwZOjnU-QkRuPj@mail.gmail.com> <AANLkTinJVtcamqC3jvoW1cvaZkNy2Ur=cT-o-JCjB1kt@mail.gmail.com> <1300126393247-2676832.post@n3.nabble.com> <AANLkTik81x3AUY_LHHcUyHajL9RoSUOdaCPK4N+K0306@mail.gmail.com> <AANLkTi=AtJKdKmievnzs9KE_uyYKcH1r2APAvrQ2_vJQ@mail.gmail.com>
Subject: Re: Which is the +best +fast HTML parser/tokenizer that I can use
 with Lucene for indexing HTML content today ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Earl Hood wrote:
> 
> Looks like Jericho does what you want already:
> http://jericho.htmlparser.net/docs/javadoc/net/htmlparser/jericho/TextExtractor.html
> 
> --ewh
> 


I went through their feature list and found that out :) 
http://jericho.htmlparser.net/docs/index.html


Thanks Earl :)
This is cool :)

--
View this message in context: http://lucene.472066.n3.nabble.com/Which-is-the-best-fast-HTML-parser-tokenizer-that-I-can-use-with-Lucene-for-indexing-HTML-content-to-tp2664316p2680665.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 09:15:46 2011
Return-Path: <java-user-return-49006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79221 invoked from network); 15 Mar 2011 09:15:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 09:15:46 -0000
Received: (qmail 90140 invoked by uid 500); 15 Mar 2011 09:15:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90045 invoked by uid 500); 15 Mar 2011 09:15:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90037 invoked by uid 99); 15 Mar 2011 09:15:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 09:15:43 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 09:15:35 +0000
Received: by gwj22 with SMTP id 22so202711gwj.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 02:15:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:x-qq-ssf:x-qq-business-origin:x-originating-ip
         :x-qq-style:x-qq-mid:from:to:subject:mime-version:content-type
         :content-transfer-encoding:date:x-priority:message-id:x-qq-mime
         :x-mailer:x-qq-mailer;
        bh=YmiCI5Rszgu8y8Npmr3hMZ/uZqFUC0+My4Zdymo24CE=;
        b=QfldRTZgXJ6ZaeojCP6g7cizX2g5GNg6gu6X6NGOroJlWWqVF1VPqyC3xpS6PPpLEL
         4lxYWt2noaDE6gq3Wzcdg5XXoT88HCrFo7xQyQuIVgx3E0SjMopIarKomkI7xFW1bfke
         3m5LqIpccm8NQjWA0aR9bDNnqz3NdrX8EjGVQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-qq-ssf:x-qq-business-origin:x-originating-ip:x-qq-style:x-qq-mid
         :from:to:subject:mime-version:content-type:content-transfer-encoding
         :date:x-priority:message-id:x-qq-mime:x-mailer:x-qq-mailer;
        b=BlPVaqu8cAlDm9W9CZA5OMYVrNyNMz5SrSLYvM3upWlTdoiWAmULqbZqmpsJ9yOGgA
         /MOyAawz3TnWD8+PSZpqqpmKzJk8Bou2X6Wg44QcpdRRbw9drFxLGgoznE3LMUsOC+4D
         4H9oME/KN3M7kRlFBVv5f4PFkLDLf4MczPyTE=
Received: by 10.236.189.1 with SMTP id b1mr7675051yhn.206.1300180514636;
        Tue, 15 Mar 2011 02:15:14 -0700 (PDT)
Received: from smtpbg55.qq.com (smtpbg55.qq.com [64.71.138.44])
        by mx.google.com with ESMTPS id 14sm5982577yhl.22.2011.03.15.02.15.11
        (version=SSLv3 cipher=OTHER);
        Tue, 15 Mar 2011 02:15:14 -0700 (PDT)
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.115.136.168
X-QQ-STYLE:
X-QQ-mid:webmail469t1300180501t1064683
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <ee07b381@gmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: About query parser
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D7F2E14_088BB238_0603083C"
Content-Transfer-Encoding: 8Bit
Date: Tue, 15 Mar 2011 17:15:00 +0800
X-Priority: 3
Message-ID: <tencent_4234FD295EF89A280EA3CFCD@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x

------=_NextPart_4D7F2E14_088BB238_0603083C
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

SGksDQoNCg0KIEkgdXNlZCBwYXJzZXIgaW4gbXkgYXBwLg0KDQoNCiBGb3IgZXhhbXBsZSwg
aSB3YW5uYSBzZWFyY2ggZm9yICdncmVhdCBzdW0nLCBhbmQgJ2dyZWF0IHN1bScsICdncmVh
dGVyIHN1bScsIC4uLiBtYXkgYmUgZm91bmQsIGFuZCBzdW0gZ3JlYXQgbXVzdCBub3QgYmUg
Zm91bmQuIEl0IG1lYW5zIEkgbmVlZCBub3Qgb25seSBleGFjdCB3b3JkLCBidXQgYWxzbyBw
cmVmaXggc2VhcmNoIChvciBzb21lIG90aGVyIHNlYXJjaCBjcml0ZXJpYSBsaWtlIGZ1enp5
Li4uKS4gSW4gbXkgYXBwLCBJIHVzZWQgImdyZWF0KiBzdW0qIiwgYnV0IGl0IGRvZXMgbm90
IHdvcmsuDQoNCg0KIFNvIHdoYXQgaXMgdGhlIGNvcnJlY3QgY29kZT8NCg0KDQpUaHg=

------=_NextPart_4D7F2E14_088BB238_0603083C--


From java-user-return-49007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 10:25:04 2011
Return-Path: <java-user-return-49007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7642 invoked from network); 15 Mar 2011 10:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 10:25:04 -0000
Received: (qmail 84133 invoked by uid 500); 15 Mar 2011 10:25:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84036 invoked by uid 500); 15 Mar 2011 10:25:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84028 invoked by uid 99); 15 Mar 2011 10:25:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 10:25:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 10:24:56 +0000
Received: by iyj12 with SMTP id 12so599221iyj.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 03:24:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=QqffuAi7ly5IAxR0rExvRy625ji1YeIQwdBRnFalMMY=;
        b=gqJ8SIYvnX3742D3RzJDfuqGr5RC3p2hbwPI4ihu2rav/D2w3sl3Hx+KFMeGroQqmv
         0KNTZDXo1lhWW5ZuDpmODpe1JX5XjO26x/lme9FhhWMX27wSxMvrkhssd2T1Gayfwlm+
         CF/ZV25iAhzPrqgJX3KdphyIKlg5MSY16G380=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=fvM2eVm4JkHAr9UomIzEE8DrwDOOdyHZCdcTf6DvLQCokOL4galUAYYhUovvDT+9c8
         qQ95WrqzZUTC1cD5REa75CnhHuZaoS69bV7cA2J91HvE9DVUMkpKbRig80pt+z9ItKb8
         VL40gZrAp3PiBIWc04IYOee2SH8P15xH2Sz04=
Received: by 10.231.82.70 with SMTP id a6mr3208061ibl.165.1300184676113; Tue,
 15 Mar 2011 03:24:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Tue, 15 Mar 2011 03:24:16 -0700 (PDT)
In-Reply-To: <4D7E2B9E.5090900@lsv.uni-saarland.de>
References: <4D7E2B9E.5090900@lsv.uni-saarland.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 15 Mar 2011 10:24:16 +0000
Message-ID: <AANLkTim1bUxmQMNceFo5L-zyK5x4KVkYzZFcC1unNrwU@mail.gmail.com>
Subject: Re: no. of documents with hits vs. no. of hits
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Lucene counts the number of matched docs.  A particular document will
count as 1 whether it is matched by 1 search term or many search
terms.

I don't believe it is possible to count what you are asking for using
standard calls.  It might be possible with a custom collector that
somehow had access to the values passed to the coord() method of the
Similarity in use for a search.  Sounds hairy, maybe impossible.


--
Ian.


On Mon, Mar 14, 2011 at 2:52 PM, Michael Wiegand
<michael.wiegand@lsv.uni-saarland.de> wrote:
> Hi,
>
> Does Lucene always count the number of documents with hits matching a query
> or is it also possible to count the overall number of hits?
> There would be a difference between the two if within a document there is
> actually more than one hit.
>
> Thank you in advance!
>
> Best,
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 10:46:53 2011
Return-Path: <java-user-return-49008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79323 invoked from network); 15 Mar 2011 10:46:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 10:46:53 -0000
Received: (qmail 2489 invoked by uid 500); 15 Mar 2011 10:46:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2444 invoked by uid 500); 15 Mar 2011 10:46:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2436 invoked by uid 99); 15 Mar 2011 10:46:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 10:46:51 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 10:46:46 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1PzRlg-0006b8-EZ
	for java-user@lucene.apache.org; Tue, 15 Mar 2011 03:46:24 -0700
Date: Tue, 15 Mar 2011 03:46:24 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1300185984444-2681163.post@n3.nabble.com>
Subject: How to do an all field search without using a "catchall" field or
 "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Catchall field has its own disadvantages of increasing index size. 
MultiFieldQueryParser has to know the field names before hand. 

How do I do a multi field search 
- without knowing fields in the index
- without having a CatchAll field 


PS : I went through the Lucene in Action book, and in chapter 13 ( SIREn
case study ), he says SIREn does it. I also wanted to know how can I do the
same with similar efficiency ? 

--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2681163.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 11:15:31 2011
Return-Path: <java-user-return-49009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62956 invoked from network); 15 Mar 2011 11:15:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 11:15:30 -0000
Received: (qmail 35117 invoked by uid 500); 15 Mar 2011 11:15:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35077 invoked by uid 500); 15 Mar 2011 11:15:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35069 invoked by uid 99); 15 Mar 2011 11:15:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 11:15:28 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 11:15:23 +0000
Received: by iyj12 with SMTP id 12so635343iyj.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 04:15:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=DNzIbEYBewaFNHK9LWW3Juna5Te6LYrkE5aEUd/rfGI=;
        b=jXX4kH9GUGBF2Z7ZG4q9eyqbmiIqWmsK2ps0XVTrWUU2ipulG04AQoM751fkIB05Qq
         71UkRDfnX2Yp305lCvjpe/qcdlrS13oH6Dk7r7OneyhhU7/PFIMFtZX8B6Ve5sPI76N8
         6XHMFEilIfDxAPTNgD8cvJCEKYusD5HboAXSQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=GZkefxpX+gaSNwQGfRkltdL+VQiuhL6rImOHPrO+8B9rmLUDSwM9wsmIE3qVfFzR80
         mpadtsChzUK81oABVGSqJTRC9C7bXFNLvo8DGNj0aAeVsIfc1o0azOiJ+MA9+dJRG64x
         IyaywQXNoM9rmDlzo9Wskif1/oEGxjd6JcKng=
Received: by 10.231.82.70 with SMTP id a6mr3238107ibl.165.1300187703108; Tue,
 15 Mar 2011 04:15:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Tue, 15 Mar 2011 04:14:43 -0700 (PDT)
In-Reply-To: <1300185984444-2681163.post@n3.nabble.com>
References: <1300185984444-2681163.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 15 Mar 2011 11:14:43 +0000
Message-ID: <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
Subject: Re: How to do an all field search without using a "catchall" field or
 "MultiFieldQueryParser" ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

IndexReader.getFieldNames()?

public abstract Collection<String>
getFieldNames(IndexReader.FieldOption fldOption)

Use that to get indexed fields and pass that list to MultiFieldQueryParser.


--
Ian.

On Tue, Mar 15, 2011 at 10:46 AM, shrinath.m <shrinath.m@webyog.com> wrote:
> Catchall field has its own disadvantages of increasing index size.
> MultiFieldQueryParser has to know the field names before hand.
>
> How do I do a multi field search
> - without knowing fields in the index
> - without having a CatchAll field
>
>
> PS : I went through the Lucene in Action book, and in chapter 13 ( SIREn
> case study ), he says SIREn does it. I also wanted to know how can I do the
> same with similar efficiency ?
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2681163.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 17:19:41 2011
Return-Path: <java-user-return-49010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59244 invoked from network); 15 Mar 2011 17:19:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 17:19:41 -0000
Received: (qmail 18109 invoked by uid 500); 15 Mar 2011 17:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18072 invoked by uid 500); 15 Mar 2011 17:19:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18064 invoked by uid 99); 15 Mar 2011 17:19:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 17:19:39 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.34] (HELO nm24-vm0.bullet.mail.ne1.yahoo.com) (98.138.90.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 Mar 2011 17:19:29 +0000
Received: from [98.138.90.49] by nm24.bullet.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 17:19:07 -0000
Received: from [98.138.88.232] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 17:19:07 -0000
Received: from [127.0.0.1] by omp1032.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 17:19:07 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 350334.97142.bm@omp1032.mail.ne1.yahoo.com
Received: (qmail 84492 invoked by uid 60001); 15 Mar 2011 17:19:07 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300209547; bh=HpdOMEvuXkR18rUQc28xEkM5smO6ZMbWGk+JwTa+chI=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=tCm0JUwqSQdw5sa4sbpx5TCkwkUe8NJCijwPjI4CBe40RZZeynuO+Oprv3NDFJRCpY0UNqY4QzHTh7BN+/sYc4r1HuaJPyxqSK4JJlW0Ln2mZ4DvLrceoMHs0pbcW26LU+GcB7MgPmnwF9hF40lWQ6DgMd867gK1UJlHKcfo77c=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=DsW/qyJ6AmTVLPgPPg/cRoKLYXHM0lZUJxcvP2xTJJC5kCq3ti5wNDJBrbaZyLnVqUq2Oa0k3g6qO+EgZF5DBv+jXMfO4arWRdRsOELEMrkEDRpdtQinmNBXTaJ0Oh5X1ms/ol9Yx5iVu0cTMM5Tnby8DMEiCsLHCUO77JSDPxI=;
Message-ID: <151625.60647.qm@web121703.mail.ne1.yahoo.com>
X-YMail-OSG: M01oOCMVM1kNiBSHTpnJK7dxFfNlAwYrqpRYhFvOaEGopug
 G_d0NsBpko6XYxa0eaMUDje.ZHSWjeojLY.fgofkrIpa5OdjdLP72u9PoAhJ
 rdSLSVbySjykyKDbOxyFhZJ5fIzOklCCoJbGXxjcWIjAul0RguozhtBnZ1lG
 Aje_2LleHlVC0kyQW7ZlxveClPUEiaBaAE.ixo.Fh_bVc7VCO5MLTYsJObWn
 rK5ewVOLY5e2xxmO6B919rA_Mdow38LyPTcVlY2oB__TRI0MPbv5AJnM66LO
 gtnfV3KnWYyf0gc02OFX.h3bz2vwIwh8PzkBgofRjdA4gBMXUXFkG19l2dSQ
 9td9lWtXr3x2MlaEbqustI1EMV3g-
Received: from [95.10.236.185] by web121703.mail.ne1.yahoo.com via HTTP; Tue, 15 Mar 2011 10:19:07 PDT
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.295617
Date: Tue, 15 Mar 2011 10:19:07 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: About query parser
To: java-user@lucene.apache.org
In-Reply-To: <tencent_4234FD295EF89A280EA3CFCD@qq.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

>  For example, i wanna search for 'great sum', and 'great
> sum', 'greater sum', ... may be found, and sum great must
> not be found. It means I need not only exact word, but also
> prefix search (or some other search criteria like fuzzy...).
> In my app, I used "great* sum*", but it does not work.
> 

ComplexPhraseQueryParser may help. Or you can construct your queries with lucene Query API.

http://lucene.apache.org/java/3_0_1/api/contrib-misc/org/apache/lucene/queryParser/complexPhrase/ComplexPhraseQueryParser.html


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 20:48:05 2011
Return-Path: <java-user-return-49011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48966 invoked from network); 15 Mar 2011 20:48:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 20:48:05 -0000
Received: (qmail 74461 invoked by uid 500); 15 Mar 2011 20:48:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74391 invoked by uid 500); 15 Mar 2011 20:48:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74383 invoked by uid 99); 15 Mar 2011 20:48:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 20:48:01 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 20:47:51 +0000
Received: by qwj9 with SMTP id 9so990457qwj.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 13:47:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:x-qq-ssf:x-qq-business-origin:x-originating-ip
         :x-qq-style:x-qq-mid:from:to:subject:mime-version:content-type
         :content-transfer-encoding:date:x-priority:message-id:x-qq-mime
         :x-mailer:x-qq-mailer;
        bh=Cq3G0miBbFjx45AIG3bS5NKMbNYht8eipaxzEGCLhDs=;
        b=k4wOILxQ8SdG9gmDtO0ndma09xRSX026eWJjiXxHyW9zGiWuppRa1zHJoc9HkzT48Q
         U/NtMl++9Ce2KRE/Tdd6CV5APHIegL5A9z4kP95Gwbxtb1Lur4ggj/IvF20COfcNYeUi
         aoBbBIRa8ZnD8+j61dl8Enf06qF476mJ7EL7k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-qq-ssf:x-qq-business-origin:x-originating-ip:x-qq-style:x-qq-mid
         :from:to:subject:mime-version:content-type:content-transfer-encoding
         :date:x-priority:message-id:x-qq-mime:x-mailer:x-qq-mailer;
        b=CI/954EcLptChuckCSdza75tPNttILwrbLCT6bfWkZGm24ktoBkhnignebaV9djbYp
         YC1mmBAw3RQXeaaWaJt81EYswmzcTwg+0J33jUFjxcPUWizu1amFg1VeGP3z0YHl2Z9i
         iYGohLyyxoX6Rn38opiuGbGCmQzb/60FDueik=
Received: by 10.224.49.149 with SMTP id v21mr11163633qaf.26.1300222050461;
        Tue, 15 Mar 2011 13:47:30 -0700 (PDT)
Received: from smtpbg52.qq.com (smtpbg52.qq.com [64.71.138.43])
        by mx.google.com with ESMTPS id s9sm164072qco.12.2011.03.15.13.47.28
        (version=SSLv3 cipher=OTHER);
        Tue, 15 Mar 2011 13:47:29 -0700 (PDT)
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.115.136.168
X-QQ-STYLE:
X-QQ-mid:webmail486t1300222034t6721927
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <ee07b381@gmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: About highlighter
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D7FD052_DEEA5538_3EAC3D7E"
Content-Transfer-Encoding: 8Bit
Date: Wed, 16 Mar 2011 04:47:14 +0800
X-Priority: 3
Message-ID: <tencent_31FC9F1558A8F23F77919885@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D7FD052_DEEA5538_3EAC3D7E
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

SGksIA0KDQoNCk15IGhpZ2hsaWdodCBjb2RlIGlzIHNob3duIGFzIGZvbGxvd2luZzoNCg0K
DQogIFF1ZXJ5U2NvcmVyIHNjb3JlciA9IG5ldyBRdWVyeVNjb3JlcihxdWVyeSk7DQogIEhp
Z2hsaWdodGVyIGhpZ2hsaWdodGVyID0gbmV3IEhpZ2hsaWdodGVyKHNpbXBsZUhUTUxGb3Jt
YXR0ZXIsIHNjb3Jlcik7DQogIGhpZ2hsaWdodGVyLnNldFRleHRGcmFnbWVudGVyKG5ldyBT
aW1wbGVTcGFuRnJhZ21lbnRlcihzY29yZXIsIDUwMCkpOw0KICBTdHJpbmcgY29udGVudHMg
PSBkb2MuZ2V0KCJjb250ZW50cyIpOw0KICBUb2tlblN0cmVhbSB0b2tlblN0cmVhbSA9IFRv
a2VuU291cmNlcy5nZXRBbnlUb2tlblN0cmVhbShzZWFyY2hlci5nZXRJbmRleFJlYWRlcigp
LCB0b3BEb2NzLnNjb3JlRG9jc1tpXS5kb2MsICJjb250ZW50cyIsIGRvYywgYW5hbHl6ZXIp
Ow0KICBTdHJpbmdbXSBzbmlwcGV0ID0gaGlnaGxpZ2h0ZXIuZ2V0QmVzdEZyYWdtZW50cyh0
b2tlblN0cmVhbSwgY29udGVudHMsIDEwKTsNCg0KDQoNCnNuaXBwZXQgaXMgdGhlIHJlc3Vs
dCBjb250ZXh0cyBhbmQgdGhlbiBJIHdpbGwgcHJpbnQgb3V0IHRoZW0gb24gdGhlIHNjcmVl
bi4NCkJ1dCBJZiBJIG1heSBzZWFyY2ggZm9yIGEga2V5d29yZCBhdCB0aGUgbGFzdCBmZXcg
cGFyYWdyYXBoIGFuZCB0aGUgZXNzYXkgaXMgdG9vIGxvbmcgKDEwMDAtMjAwMCB3b3Jkcyks
IGl0IHdpbGwgcmV0dXJuICJkb2N1bWVudCBmb3VuZCIgYW5kIHNuaXBwZXQubGVuZ3RoPTAg
KGkuZS4gZG9jdW1lbnQgaXMgZm91bmQgYnV0IGNvbnRleHQgaXMgTk9UIGZvdW5kKS4gV2h5
Pz8/DQoNCg0KSG93IGNvdWxkIEkgZml4IHRoZSBwcm9ibGVtPw==

------=_NextPart_4D7FD052_DEEA5538_3EAC3D7E--


From java-user-return-49012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 21:46:29 2011
Return-Path: <java-user-return-49012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28380 invoked from network); 15 Mar 2011 21:46:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 21:46:29 -0000
Received: (qmail 93195 invoked by uid 500); 15 Mar 2011 21:46:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93153 invoked by uid 500); 15 Mar 2011 21:46:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93145 invoked by uid 99); 15 Mar 2011 21:46:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 21:46:27 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 21:46:18 +0000
Received: by fxm7 with SMTP id 7so1359832fxm.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 14:45:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:x-qq-ssf:x-qq-business-origin:x-originating-ip
         :x-qq-style:x-qq-mid:from:to:subject:mime-version:content-type
         :content-transfer-encoding:date:x-priority:message-id:x-qq-mime
         :x-mailer:x-qq-mailer;
        bh=dGhuS8/+vXhWbTNh8ojEzt6xMbDdN0eFPDfyaKPspKg=;
        b=mhKUyH6u25Hdy9ZM4LxW5hgrWH+3ZLp8qaplUFVpKZV4pYUVprnQT2yhshC6ZW3ixL
         xrgeCQBdPsC4Zzt/PhLXMVLBEA92mVR21Eze3VKp9+JHjgwVOjHOHKUBhEpdK2aMAh33
         dfSLeVjU5U61qFc7yZNNgW7okmcJhjdnhWBdU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-qq-ssf:x-qq-business-origin:x-originating-ip:x-qq-style:x-qq-mid
         :from:to:subject:mime-version:content-type:content-transfer-encoding
         :date:x-priority:message-id:x-qq-mime:x-mailer:x-qq-mailer;
        b=EZR/EQN9mJNuN6XkA996AUbaqOUDhUJk0mhZh2gxqtSyojF/HEE8N4yz2quH903En1
         I6dSbTj3fbgYPAU+atL7VB3mINuZ7HtWy94kYKFeL1LKQ4bi/FDpFbJwTc5KLznh069c
         yBI+TYNfuchU6VUsSzMOlDgUjvMMZBeTx5Pko=
Received: by 10.223.117.134 with SMTP id r6mr1475faq.147.1300225463657;
        Tue, 15 Mar 2011 14:44:23 -0700 (PDT)
Received: from smtpbg55.qq.com (smtpbg55.qq.com [64.71.138.44])
        by mx.google.com with ESMTPS id n15sm148104fam.12.2011.03.15.14.44.21
        (version=SSLv3 cipher=OTHER);
        Tue, 15 Mar 2011 14:44:22 -0700 (PDT)
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.115.136.168
X-QQ-STYLE:
X-QQ-mid:webmail486t1300225450t9901615
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <ee07b381@gmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: About ComplexPhraseQueryParser highlight prob
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D7FDDAA_DF2100F0_1C4162B6"
Content-Transfer-Encoding: 8Bit
Date: Wed, 16 Mar 2011 05:44:10 +0800
X-Priority: 3
Message-ID: <tencent_7F4F4C10340C678749EDD9B4@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x

------=_NextPart_4D7FDDAA_DF2100F0_1C4162B6
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

aGkNCg0KDQpNeSBhcHAgY2FuIGZpbmQgdGhlIGRvY3VtZW50IGJ1dCBjYW5ub3QgaGlnaGxp
Z2h0IHRoZSBrZXl3b3Jkcy4NCg0KDQogIENvbXBsZXhQaHJhc2VRdWVyeVBhcnNlciBwYXJz
ZXIgPSBuZXcgQ29tcGxleFBocmFzZVF1ZXJ5UGFyc2VyKFZlcnNpb24uTFVDRU5FXzMwLCAi
Y29udGVudHMiLCBhbmFseXplcik7DQogIFF1ZXJ5IHF1ZXJ5ID0gcGFyc2VyLnBhcnNlKCJc
IihncmVhdH4pIHN1bSpcIiIpOw0KICBRdWVyeVNjb3JlciBzY29yZXIgPSBuZXcgUXVlcnlT
Y29yZXIocXVlcnkpOw0KDQoNCkxvb2tzIGxpa2UgaXRzIGJlY2F1c2UgdGhlIHF1ZXJ5IGNv
bWluZyBpbiBpcyBhIENvbXBsZXhQaHJhc2VRdWVyeSBhbmQgdGhlIEhpZ2hsaWdodGVyIGRv
ZXNuJ3QgY3VycmVudCBrbm93IGhvdyB0byBoYW5kbGUgdGhhdCB0eXBlLiANCg0KDQpTbyBo
b3cgdG8gZml4IHRoZSBwcm9ibGVtPz8/

------=_NextPart_4D7FDDAA_DF2100F0_1C4162B6--


From java-user-return-49013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 15 22:26:08 2011
Return-Path: <java-user-return-49013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54458 invoked from network); 15 Mar 2011 22:26:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Mar 2011 22:26:08 -0000
Received: (qmail 45230 invoked by uid 500); 15 Mar 2011 22:26:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45193 invoked by uid 500); 15 Mar 2011 22:26:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45185 invoked by uid 99); 15 Mar 2011 22:26:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2011 22:26:05 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.67] (HELO nm4.bullet.mail.ne1.yahoo.com) (98.138.90.67)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 Mar 2011 22:25:56 +0000
Received: from [98.138.90.53] by nm4.bullet.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 22:25:35 -0000
Received: from [98.138.87.5] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 22:25:35 -0000
Received: from [127.0.0.1] by omp1005.mail.ne1.yahoo.com with NNFMP; 15 Mar 2011 22:25:35 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 127620.82895.bm@omp1005.mail.ne1.yahoo.com
Received: (qmail 66863 invoked by uid 60001); 15 Mar 2011 22:25:35 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300227935; bh=/qD1svjGQGthT/rylg9hmjAG9+glDcMHLEjXgxtuFYQ=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=5z3WigMItxKuCGNfpPlo4RRK69vpsNSB4z4iVo9tcyzLNzFGcSYXDu8b1SIePzpilAON25wKNnxRWX2QMEa0vHetcjuzhX9ZuxZZariuRy3EIuNnFkXLtN4am3VUNSvsIa1NlIimAjrHVJb14h+orwylpc+SuMfmWLKW6obmYxw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=NKieNSc70DcyEv/LSda8XUcQ9AgPSXmgyEY4J04g4zUUuwbyR232uhOK+TVPwFbpiHsbSHrr8XZwFU/W+Ki3QPQQtHPzRlIO6P9QJjShYqDpjX916pnbAsc8cQ8rV1wl2ML+WSwo/j8Uz/OzRLaK0ntt6H4K/qDI0lSttBxR2l4=;
Message-ID: <21387.57323.qm@web121707.mail.ne1.yahoo.com>
X-YMail-OSG: EQp8R3gVM1nLcIZFeWed_BeA0S9NCbD9pYdmGTa.y08Y_B0
 GdypmBFBh_UFPxiCaFhxZu6YcqoEMTVgUkA4CCZrLuN09Mw95qY3ma_bkFNW
 qlnNstvrhVRY2EchsPc2RxVtmxUIJHDQMn84Z.qV_ONQTkHHYbDMqwW5UYD8
 nq2sRYC7AeI9uPVx_E9U.BBpeacVfXxPLwX5SAA9ugmKiDhcF8sIYGz_9BCO
 wfO.JX9sFEs6hFuGnSsWroshuviU9l34wWUgRYYKBEaZaBX2DonYagaJ6wMK
 R10CXfs1tadmSCnVKKZLzC_lqBpqUEdAjfdjo.sRLh.b1vaobKZe7HqL7HMA
 MPXF3OhNZkVzyg4KNLp36FOFdUQ--
Received: from [95.10.236.185] by web121707.mail.ne1.yahoo.com via HTTP; Tue, 15 Mar 2011 15:25:34 PDT
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.295617
Date: Tue, 15 Mar 2011 15:25:34 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: About ComplexPhraseQueryParser highlight prob
To: java-user@lucene.apache.org
In-Reply-To: <tencent_7F4F4C10340C678749EDD9B4@qq.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0A--- On Tue, 3/15/11, Cescy <ee07b381@gmail.com> wrote:=0A=0A> From: Cesc=
y <ee07b381@gmail.com>=0A> Subject: About ComplexPhraseQueryParser highligh=
t prob=0A> To: "java-user" <java-user@lucene.apache.org>=0A> Date: Tuesday,=
 March 15, 2011, 11:44 PM=0A> hi=0A> =0A> =0A> My app can find the document=
 but cannot highlight the=0A> keywords.=0A> =0A> =0A> =A0 ComplexPhraseQuer=
yParser parser =3D new=0A> ComplexPhraseQueryParser(Version.LUCENE_30, "con=
tents",=0A> analyzer);=0A> =A0 Query query =3D parser.parse("\"(great~) sum=
*\"");=0A> =A0 QueryScorer scorer =3D new QueryScorer(query);=0A> =0A> =0A>=
 Looks like its because the query coming in is a=0A> ComplexPhraseQuery and=
 the Highlighter doesn't current know=0A> how to handle that type. =0A=0AYo=
u can re-write your query, and use this query (in highlighting) instead.=0A=
=0AQuery rewritedQuery =3D getQuery().rewrite(getSearcher().getReader());=
=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 00:13:12 2011
Return-Path: <java-user-return-49014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99355 invoked from network); 16 Mar 2011 00:13:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 00:13:12 -0000
Received: (qmail 76134 invoked by uid 500); 16 Mar 2011 00:13:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76094 invoked by uid 500); 16 Mar 2011 00:13:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76085 invoked by uid 99); 16 Mar 2011 00:13:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 00:13:09 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 00:13:02 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <mail@avomberg.de>)
	id 1PzeLx-0007u6-Gv
	for java-user@lucene.apache.org; Tue, 15 Mar 2011 17:12:41 -0700
Date: Tue, 15 Mar 2011 17:12:41 -0700 (PDT)
From: Alex vB <mail@avomberg.de>
To: java-user@lucene.apache.org
Message-ID: <1300234361517-2684557.post@n3.nabble.com>
Subject: Early Termination
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

is Lucene capable of any early termination techniques during query
processing?
On the forum I only found some information about TimeLimitedCollector. Are
there more implementations?

Regards
Alex

--
View this message in context: http://lucene.472066.n3.nabble.com/Early-Termination-tp2684557p2684557.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 00:47:38 2011
Return-Path: <java-user-return-49015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19967 invoked from network); 16 Mar 2011 00:47:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 00:47:37 -0000
Received: (qmail 9204 invoked by uid 500); 16 Mar 2011 00:47:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9160 invoked by uid 500); 16 Mar 2011 00:47:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9152 invoked by uid 99); 16 Mar 2011 00:47:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 00:47:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ryan@glassdoor.com designates 69.50.2.38 as permitted sender)
Received: from [69.50.2.38] (HELO ht1.hostedexchange.local) (69.50.2.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 00:47:27 +0000
Received: from mbx2.hostedexchange.local ([172.16.69.30]) by
 ht2.hostedexchange.local ([172.16.69.40]) with mapi; Tue, 15 Mar 2011
 17:47:06 -0700
From: Ryan Aylward <ryan@glassdoor.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 15 Mar 2011 17:48:10 -0700
Subject: TopDocsCollector and sorting
Thread-Topic: TopDocsCollector and sorting
Thread-Index: Acvjc9KkfKpRLwFhTFii4vKBIYv2/w==
Message-ID: <E1E61A9983E3F94DAA95AEDE2D487E700628702DD8@mbx2.hostedexchange.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_E1E61A9983E3F94DAA95AEDE2D487E700628702DD8mbx2hostedexc_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_E1E61A9983E3F94DAA95AEDE2D487E700628702DD8mbx2hostedexc_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Does the TopDocsCollector sort the docs it returns?

The java doc for...

public final TopDocs topDocs(int start)

states....

Returns the documents in the range [start .. pq.size()) that were collected=
 by this collector. Note that if start >=3D pq.size(), an empty TopDocs is =
returned.
This method is convenient to call if the application always asks for the la=
st results, starting from the last 'page'.

So it returns the proper results for a given page, but it is not clear that=
  it sorts the results for that page.

I would have thought it does sort the results for the returned docs, but I'=
m seeing some results that show that the results are not sorted.

Thanks,
Ryan



--_000_E1E61A9983E3F94DAA95AEDE2D487E700628702DD8mbx2hostedexc_--

From java-user-return-49016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 02:05:03 2011
Return-Path: <java-user-return-49016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65602 invoked from network); 16 Mar 2011 02:05:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 02:05:03 -0000
Received: (qmail 70779 invoked by uid 500); 16 Mar 2011 02:05:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70706 invoked by uid 500); 16 Mar 2011 02:05:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70698 invoked by uid 99); 16 Mar 2011 02:05:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 02:05:00 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 02:04:54 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Pzg6C-0006yO-He
	for java-user@lucene.apache.org; Tue, 15 Mar 2011 19:04:32 -0700
Date: Tue, 15 Mar 2011 19:04:32 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <4d801aa4.d4aae60a.5b61.19b0@mx.google.com>
In-Reply-To: <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
Subject: RE:Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12940_27278778.1300241072541"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_12940_27278778.1300241072541
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Ian, 

I'd have to create a similarly sized array of Boolean.Occur too, isn't it? 

1. Is that how SIREn implements it? 
2. Is that optimal solution if I'm going to have an index of a billion docs with varying number of fields? 


--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2685072.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_12940_27278778.1300241072541--

From java-user-return-49017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 06:12:45 2011
Return-Path: <java-user-return-49017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52463 invoked from network); 16 Mar 2011 06:12:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 06:12:45 -0000
Received: (qmail 65982 invoked by uid 500); 16 Mar 2011 06:12:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65924 invoked by uid 500); 16 Mar 2011 06:12:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65916 invoked by uid 99); 16 Mar 2011 06:12:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 06:12:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 16 Mar 2011 06:12:37 +0000
Received: (qmail 6202 invoked by uid 508); 16 Mar 2011 06:12:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=EJXSAiuDZdVTaElLIId6RB+JUqrW/k/UXujVONAAXFTxvWxIZsoIDpfyqpJTSnk2  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 16 Mar 2011 06:12:12 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
Subject: lucid gaze
Date: Wed, 16 Mar 2011 11:37:09 +0530
Message-ID: <001d01cbe3a0$62b6f0e0$2824d2a0$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001E_01CBE3CE.7C6F2CE0"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvjoGKH+x5wNgEeQoCYcD5VJJADgA==
Content-Language: en-us

------=_NextPart_000_001E_01CBE3CE.7C6F2CE0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello,

 

 

 

If Lucid gaze  compatible to lucene 3.0.3 exist?

 

Anyone has used lucid gaze for measuring /analyzing searching performance .
How is it?

 

 

Regards,

Suman


------=_NextPart_000_001E_01CBE3CE.7C6F2CE0--



From java-user-return-49018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 06:18:41 2011
Return-Path: <java-user-return-49018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61118 invoked from network); 16 Mar 2011 06:18:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 06:18:41 -0000
Received: (qmail 75220 invoked by uid 500); 16 Mar 2011 06:18:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75070 invoked by uid 500); 16 Mar 2011 06:18:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75062 invoked by uid 99); 16 Mar 2011 06:18:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 06:18:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 06:18:34 +0000
Received: by vxi40 with SMTP id 40so1698056vxi.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 23:18:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=FEv0XNdbVrCyOtjlNlIx24blDLNhYkY53aibUGtbEG8=;
        b=QTe66Egw0GynNfAQ7FgAInqqWH7u6lxI1c1swFD0J/Wmx4czAh1ePBnWWFVEMwasZG
         XE2eTwqBJKFBOIq6pReXhX/tnJHWRGwpNVyyjf+0LzVA7cByRaxn+iUhDI+VhctmnM19
         vqIUAqg2INYpADmkP6Q1a97M6svg8J220EWAM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=xYk6MGr0eXRQtvKWnYtv4SFz/mhxkkrSbY6BzaaXfIqVVZaCZUolp6UOpGEGoKhecj
         0cW3gW5c+loid5dc4p/xxAEkg+BYqmBVg/blQT6fgqvoKY6ApIpL5KNm74zcd3jjzH7Z
         dxNtYM4OMA9Gs7G6Ga3cHhC223mg2grPHWIc8=
Received: by 10.52.0.168 with SMTP id 8mr393573vdf.282.1300256120098; Tue, 15
 Mar 2011 23:15:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.163.193 with HTTP; Tue, 15 Mar 2011 23:15:00 -0700 (PDT)
In-Reply-To: <-3008938076638071885@unknownmsgid>
References: <-3008938076638071885@unknownmsgid>
From: Anshum <anshumg@gmail.com>
Date: Wed, 16 Mar 2011 11:45:00 +0530
Message-ID: <AANLkTimhX0Mf9pc0KRj7LCP2yDG6JCOkLHxAhRckae0N@mail.gmail.com>
Subject: Re: lucid gaze
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30549f4d27cebf049e9378d9

--20cf30549f4d27cebf049e9378d9
Content-Type: text/plain; charset=ISO-8859-1

Hi Suman,
I tried it a while ago. Found it nice and useful.
You could get some hints on using it at
http://ai-cafe.blogspot.com/2009/09/lucid-gaze-tough-nut.html (in case you
need some ! :) )

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Mar 16, 2011 at 11:37 AM, suman.holani <suman.holani@zapak.co.in>wrote:

> Hello,
>
>
>
>
>
>
>
> If Lucid gaze  compatible to lucene 3.0.3 exist?
>
>
>
> Anyone has used lucid gaze for measuring /analyzing searching performance .
> How is it?
>
>
>
>
>
> Regards,
>
> Suman
>
>

--20cf30549f4d27cebf049e9378d9--

From java-user-return-49019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 06:21:26 2011
Return-Path: <java-user-return-49019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70324 invoked from network); 16 Mar 2011 06:21:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 06:21:25 -0000
Received: (qmail 80031 invoked by uid 500); 16 Mar 2011 06:21:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79993 invoked by uid 500); 16 Mar 2011 06:21:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79985 invoked by uid 99); 16 Mar 2011 06:21:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 06:21:23 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of itsadok@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 06:21:17 +0000
Received: by wyb40 with SMTP id 40so1629795wyb.35
        for <java-user@lucene.apache.org>; Tue, 15 Mar 2011 23:20:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=xQfgcyEcz9UDcQxKnTqbdGCJGKpT65RcKuBoUwTnNW4=;
        b=k9U2gyoFFMwP71Q5W6gRHTQZ6wZ3lW4smSCRomKRCpktxH/MHHiEf+OeMVtqsR3yNm
         sUO/DrggJ4xIqBOmjELPiKWjbjEMkD+g8SJXalx8gEHd8YqYIZ/LUk6Zdmb1MxomQ6sE
         gUZ/y+g2p052dFkGVIJZgSXgpijYhxi6i41jQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=Nuj9owZ/JNjEOMNsKw3jhSi8++00tBRiWVD4VePTcSJiHxtiAqtN0u8E3kbBc0Ajdl
         9zwgizMpv7toV3xXdmR/qBVoFWC2fqFsnA2GghKzgejBolp1XBBZ+VncCz3Lkto5Z4Nl
         0cOCPx+aFAu7jT2PxylCdR9sOQEGbC7kWhAqw=
Received: by 10.227.157.68 with SMTP id a4mr354077wbx.198.1300256455174; Tue,
 15 Mar 2011 23:20:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.127.213 with HTTP; Tue, 15 Mar 2011 23:20:35 -0700 (PDT)
In-Reply-To: <E1E61A9983E3F94DAA95AEDE2D487E700628702DD8@mbx2.hostedexchange.local>
References: <E1E61A9983E3F94DAA95AEDE2D487E700628702DD8@mbx2.hostedexchange.local>
From: Israel Tsadok <itsadok@gmail.com>
Date: Wed, 16 Mar 2011 08:20:35 +0200
Message-ID: <AANLkTinPs+sguPn8xy0TxBr5gh0J+RnQTK3c7vGsn_55@mail.gmail.com>
Subject: Re: TopDocsCollector and sorting
To: java-user@lucene.apache.org
Cc: Ryan Aylward <ryan@glassdoor.com>
Content-Type: multipart/alternative; boundary=0016e659f48220a961049e938ce3
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e659f48220a961049e938ce3
Content-Type: text/plain; charset=ISO-8859-1

TopDocsCollector.topDocs() does return the results sorted, by score. It
basically returns a slice of a PriorityQueue.
You can take a look at the
source<http://svn.apache.org/repos/asf/lucene/dev/trunk/lucene/src/java/org/apache/lucene/search/TopDocsCollector.java>,
it's one of the easier parts of the code.

On Wed, Mar 16, 2011 at 2:48 AM, Ryan Aylward <ryan@glassdoor.com> wrote:

> Does the TopDocsCollector sort the docs it returns?
>
> The java doc for...
>
> public final TopDocs topDocs(int start)
>
> states....
>
> Returns the documents in the range [start .. pq.size()) that were collected
> by this collector. Note that if start >= pq.size(), an empty TopDocs is
> returned.
> This method is convenient to call if the application always asks for the
> last results, starting from the last 'page'.
>
> So it returns the proper results for a given page, but it is not clear that
>  it sorts the results for that page.
>
> I would have thought it does sort the results for the returned docs, but
> I'm seeing some results that show that the results are not sorted.
>
> Thanks,
> Ryan
>
>
>

--0016e659f48220a961049e938ce3--

From java-user-return-49020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 07:58:30 2011
Return-Path: <java-user-return-49020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84153 invoked from network); 16 Mar 2011 07:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 07:58:30 -0000
Received: (qmail 47167 invoked by uid 500); 16 Mar 2011 07:58:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47133 invoked by uid 500); 16 Mar 2011 07:58:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47125 invoked by uid 99); 16 Mar 2011 07:58:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 07:58:27 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 07:58:20 +0000
Received: by ywo32 with SMTP id 32so752575ywo.35
        for <java-user@lucene.apache.org>; Wed, 16 Mar 2011 00:57:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=8ezcGqLwIL24CnpFK5F/e7/rtRrLfTm29pkZt79/f24=;
        b=JDC8TXIJ3b4BOaqBi0sU0MvFn7DiOJWByXUJX3k7GxrC8GRtLRVBNafvna359V0GIl
         maZSeyir3KTZw7BZk+jSR6EKX0VCBIExlAr/EOKaZ+CA6n0XL0HkJO7TUNFOWloZD9wh
         Zv/p/zU/n9SzC3GOKFBUrRonB+8e5YgQK46YU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=kUKk3X/N92Awk2J355akyUBCM3ZnHtXiiiYAKwsIgyu97bUQ4EW1VL2GxnRHZ76MH3
         9kDITkV6su4ZvnOnEpDXzauEXm9/tFzvVzn9J+jfWS05R9CQ1KGbA6JcXrPpHso6y+OY
         4c3h0j9rYX3+lESG5h9tqhHC4DOFiI1zvCFJg=
Received: by 10.150.113.9 with SMTP id l9mr1033457ybc.318.1300262279119; Wed,
 16 Mar 2011 00:57:59 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.95.14 with HTTP; Wed, 16 Mar 2011 00:57:39 -0700 (PDT)
From: Gong Li <ee07b381@gmail.com>
Date: Wed, 16 Mar 2011 15:57:39 +0800
Message-ID: <AANLkTinnoACwQW6nwcM_CeD1Wx2Y0T3KMR1XDAL9SxvE@mail.gmail.com>
Subject: About highlighter
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd48b48430276049e94e7f7
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd48b48430276049e94e7f7
Content-Type: text/plain; charset=ISO-8859-1

Hi,

My highlight code is shown as following:

  QueryScorer scorer = new QueryScorer(query);
  Highlighter highlighter = new Highlighter(simpleHTMLFormatter, scorer);
  highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));
  String contents = doc.get("contents");
  TokenStream tokenStream =
TokenSources.getAnyTokenStream(searcher.getIndexReader(),
topDocs.scoreDocs[i].doc, "contents", doc, analyzer);
  String[] snippet = highlighter.getBestFragments(tokenStream, contents,
10);

snippet is the result contexts and then I will print out them on the screen.
But If I may search for a keyword at the last few paragraph and the essay is
too long (1000-2000 words), it will return "document found" and
snippet.length=0 (i.e. document is found but context is NOT found). Why???

How could I fix the problem?

--000e0cd48b48430276049e94e7f7--

From java-user-return-49021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 09:16:35 2011
Return-Path: <java-user-return-49021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30436 invoked from network); 16 Mar 2011 09:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 09:16:35 -0000
Received: (qmail 20128 invoked by uid 500); 16 Mar 2011 09:16:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20081 invoked by uid 500); 16 Mar 2011 09:16:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20073 invoked by uid 99); 16 Mar 2011 09:16:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 09:16:33 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [77.238.189.76] (HELO nm19.bullet.mail.ird.yahoo.com) (77.238.189.76)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 16 Mar 2011 09:16:25 +0000
Received: from [77.238.189.49] by nm19.bullet.mail.ird.yahoo.com with NNFMP; 16 Mar 2011 09:16:04 -0000
Received: from [212.82.108.112] by tm2.bullet.mail.ird.yahoo.com with NNFMP; 16 Mar 2011 09:16:04 -0000
Received: from [127.0.0.1] by omp1021.mail.ird.yahoo.com with NNFMP; 16 Mar 2011 09:16:04 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 538244.91550.bm@omp1021.mail.ird.yahoo.com
Received: (qmail 85580 invoked by uid 60001); 16 Mar 2011 09:16:04 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1300266964; bh=5u6F+7n37pp10kNTd+fKXy8J7/BweJ5v8QVrZCHuWDE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=RYJmVOoh3OmfXKPI1SSdp2/oniDZxYsRTNKAO72sQc6UoshRCyQrGx+ZCzHpcRP0ReLbNhxiOsAxa60Vuwu/RFIPct3ly1ikj2GUTrAj0weIFZeURmwD6BstHl2zHUfiIfig7MKKJfqIscIzDKREPXucBc8yILdBx6e+RRiAREI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=EZxVZyS0RbaflPASJpLPuCnPrAszdjqFT4Q0WZzB76jl1yCwvvwq2AxdrwTNlUteGIKaM70OxHHoGv9ZRIvJSmHmiff8oNIqWmRU3NCifxSLs+G75YaYJtf45NIEjZ1f1zCteYXpd1ZE2k+j4ZCkyqiCO1Vr7yjTvGy8M+Zrypc=;
Message-ID: <438887.80415.qm@web29010.mail.ird.yahoo.com>
X-YMail-OSG: WFCVsTAVM1nBOJh1ciPGKCRRL3yTcR54iBJPnfyZ..nhL7t
 BO4KosYxNXjMUT5Kz64UaWjQMRUzzf0qOvblhLBVCmjmnoyJJAwwCtdHn71d
 yRn5VcvNoPaaMogS5PIp4zIeWW1CzMKDHt9oUHAQrQcSqBIdxw8XhQqMB7At
 tmBdNBuBR03hocOv6NOuzRZPHVPcPU3M9l77dwnFDKj3ya_yfMmSZ27zYE5P
 VUAaY1fpYNihSdMvzcW_bcRGdtidiUorQN34TdwMO1FXlgJKN1A7Qcnj6tz0
 XogutJKqssMaaitNW5wI.bxyc60.B1Wi5eHY94eFw5qQBkxZG4Q--
Received: from [194.116.198.179] by web29010.mail.ird.yahoo.com via HTTP; Wed, 16 Mar 2011 09:16:04 GMT
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.295617
References: <1300234361517-2684557.post@n3.nabble.com>
Date: Wed, 16 Mar 2011 09:16:04 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Early Termination
To: java-user@lucene.apache.org
In-Reply-To: <1300234361517-2684557.post@n3.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

See https://issues.apache.org/jira/browse/LUCENE-1720=0A=0A=0A----- Origina=
l Message ----=0AFrom: Alex vB <mail@avomberg.de>=0ATo: java-user@lucene.ap=
ache.org=0ASent: Wed, 16 March, 2011 0:12:41=0ASubject: Early Termination=
=0A=0AHi,=0A=0Ais Lucene capable of any early termination techniques during=
 query=0Aprocessing?=0AOn the forum I only found some information about Tim=
eLimitedCollector. Are=0Athere more implementations?=0A=0ARegards=0AAlex=0A=
=0A--=0AView this message in context: =0Ahttp://lucene.472066.n3.nabble.com=
/Early-Termination-tp2684557p2684557.html=0ASent from the Lucene - Java Use=
rs mailing list archive at Nabble.com.=0A=0A-------------------------------=
--------------------------------------=0ATo unsubscribe, e-mail: java-user-=
unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java-user-=
help@lucene.apache.org=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 15:30:28 2011
Return-Path: <java-user-return-49022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47848 invoked from network); 16 Mar 2011 15:30:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 15:30:27 -0000
Received: (qmail 48873 invoked by uid 500); 16 Mar 2011 15:30:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48717 invoked by uid 500); 16 Mar 2011 15:30:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 33545 invoked by uid 99); 16 Mar 2011 15:18:10 -0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Al8CAMNxgE1cDzke/2dsb2JhbAAMmQjPH4VjBA
X-IronPort-AV: E=Sophos;i="4.63,194,1299456000"; 
   d="scan'208";a="493893085"
Message-ID: <4D80D495.6000205@bammers.net>
Date: Wed, 16 Mar 2011 15:17:41 +0000
From: Chris Bamford <chris@bammers.net>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.14) Gecko/20110223 Thunderbird/3.1.8
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: FieldSelector with Lucene 2.3.2
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

I am trying to speed up access to the data in my results Documents and 
was wondering if FieldSelector might be the way forward?    After my 
search, I end up with an ArrayList of Documents, from each of which I 
need to extract certain fields and their values as key/value pairs in a 
HashMap.   Normally this is quick, but with large data sets (10,000+) it 
can take several seconds.  Here is the essence of the current code:

             for (Document doc : resultDocs) {
                 keyVals = getDocKeyValuePairs(doc, fields);
                 if (keyVals != null) {
                     resultsList.add(keyVals);
                 }
             }

     private HashMap getDocKeyValuePairs(Document doc, List<String> 
fields) {

         HashMap keyValMap = new HashMap();
         String field;
         String value;

         for(int i = 0; i < fields.size(); i++) {
             field = fields.get(i);
             value = doc.get(field);

             if (value != null) {
                 keyValMap.put(field, value);
             }
         }

         return keyValMap;
     }

I am aware that this code may not be efficient, so any suggestions 
welcomed.  Also, how would one apply a FieldSelector in this case?

Thanks

- Chris


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 16 21:29:43 2011
Return-Path: <java-user-return-49023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42766 invoked from network); 16 Mar 2011 21:29:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Mar 2011 21:29:43 -0000
Received: (qmail 16332 invoked by uid 500); 16 Mar 2011 21:29:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16263 invoked by uid 500); 16 Mar 2011 21:29:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16228 invoked by uid 99); 16 Mar 2011 21:29:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 21:29:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2011 21:29:33 +0000
Received: by iyj12 with SMTP id 12so2903707iyj.35
        for <java-user@lucene.apache.org>; Wed, 16 Mar 2011 14:29:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=hndn9j/nHGhWAri2xZuNjExpSCs0+2vg7LGqIYX2R9M=;
        b=cedQQ+nrU/NNhvOKfHb8fvGw6FmMfjTh/m3nlTJMG10xMHUHGc/y8lqvJeYoah5g/Y
         8dJcPEKHQhcFkn81mDbiCk1tYEI292H3500agHFYU7jYMnT74l7eC9VxaI2xXoJd7smY
         yTW+a03HCOwOdW1DVILEKREs0U09nOk/UL72Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=A27kJIFd7RiUD98klzMViOvr31ko4Xh4yJUcnTU5AOtJoFIzTfEEUGcG/8f7EuVT3k
         A6dllPgUzK4HmPNgkriseyUjyBerF7szLeMO4yrRBmXgWNDwI5fkdjpze3fcFapVh1CX
         s+6UQzi/6Ta1cHm1IuxOYeL8MSYAfw+APMIIQ=
Received: by 10.231.111.209 with SMTP id t17mr444509ibp.140.1300310952189;
 Wed, 16 Mar 2011 14:29:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Wed, 16 Mar 2011 14:28:52 -0700 (PDT)
In-Reply-To: <tencent_31FC9F1558A8F23F77919885@qq.com>
References: <tencent_31FC9F1558A8F23F77919885@qq.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 16 Mar 2011 21:28:52 +0000
Message-ID: <AANLkTim6uP+9MWsTuGnjrErpVhOxECtsMKcSMV2Q+0by@mail.gmail.com>
Subject: Re: About highlighter
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I know nothing about highlighting but that 500 looks like a good place
to start investigating.


--
Ian.


On Tue, Mar 15, 2011 at 8:47 PM, Cescy <ee07b381@gmail.com> wrote:
> Hi,
>
>
> My highlight code is shown as following:
>
>
> =A0QueryScorer scorer =3D new QueryScorer(query);
> =A0Highlighter highlighter =3D new Highlighter(simpleHTMLFormatter, score=
r);
> =A0highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));
> =A0String contents =3D doc.get("contents");
> =A0TokenStream tokenStream =3D TokenSources.getAnyTokenStream(searcher.ge=
tIndexReader(), topDocs.scoreDocs[i].doc, "contents", doc, analyzer);
> =A0String[] snippet =3D highlighter.getBestFragments(tokenStream, content=
s, 10);
>
>
>
> snippet is the result contexts and then I will print out them on the scre=
en.
> But If I may search for a keyword at the last few paragraph and the essay=
 is too long (1000-2000 words), it will return "document found" and snippet=
.length=3D0 (i.e. document is found but context is NOT found). Why???
>
>
> How could I fix the problem?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 08:26:29 2011
Return-Path: <java-user-return-49024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71206 invoked from network); 17 Mar 2011 08:26:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 08:26:28 -0000
Received: (qmail 25094 invoked by uid 500); 17 Mar 2011 08:26:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25033 invoked by uid 500); 17 Mar 2011 08:26:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25025 invoked by uid 99); 17 Mar 2011 08:26:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 08:26:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pierre.gosse@arisem.com designates 195.68.26.146 as permitted sender)
Received: from [195.68.26.146] (HELO mail.arisem.com) (195.68.26.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 08:26:17 +0000
Received: from enodios.ARISEM.COM (192.168.1.105) by enodios.arisem.com
 (192.168.1.254) with Microsoft SMTP Server (TLS) id 14.1.289.1; Thu, 17 Mar
 2011 09:25:37 +0100
Received: from enodios.ARISEM.COM ([192.168.1.105]) by enodios.ARISEM.COM
 ([192.168.1.105]) with mapi; Thu, 17 Mar 2011 09:25:38 +0100
From: Pierre GOSSE <pierre.gosse@arisem.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 17 Mar 2011 09:25:36 +0100
Subject: RE: About highlighter
Thread-Topic: About highlighter
Thread-Index: AcvkIUtERRJ/PaNAQt+RIW/ctlA1wgAWtVZA
Message-ID: <4A1AC1E08A1A4A438C4E4502E73AFC744A0A5350F9@enodios.ARISEM.COM>
References: <tencent_31FC9F1558A8F23F77919885@qq.com>
 <AANLkTim6uP+9MWsTuGnjrErpVhOxECtsMKcSMV2Q+0by@mail.gmail.com>
In-Reply-To: <AANLkTim6uP+9MWsTuGnjrErpVhOxECtsMKcSMV2Q+0by@mail.gmail.com>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: fr-FR, en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

500 is the max size of text fragments to be returned by highlight. It shoul=
dn't be the problem here, as far as I understand highlight.

Gong li, how is defined the field "contents" ? Is it the only field on whic=
h the search is made ?

Pierre

-----Message d'origine-----
De=A0: Ian Lea [mailto:ian.lea@gmail.com]=20
Envoy=E9=A0: mercredi 16 mars 2011 22:29
=C0=A0: java-user@lucene.apache.org
Objet=A0: Re: About highlighter

I know nothing about highlighting but that 500 looks like a good place
to start investigating.


--
Ian.


On Tue, Mar 15, 2011 at 8:47 PM, Cescy <ee07b381@gmail.com> wrote:
> Hi,
>
>
> My highlight code is shown as following:
>
>
> =A0QueryScorer scorer =3D new QueryScorer(query);
> =A0Highlighter highlighter =3D new Highlighter(simpleHTMLFormatter, score=
r);
> =A0highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));
> =A0String contents =3D doc.get("contents");
> =A0TokenStream tokenStream =3D TokenSources.getAnyTokenStream(searcher.ge=
tIndexReader(), topDocs.scoreDocs[i].doc, "contents", doc, analyzer);
> =A0String[] snippet =3D highlighter.getBestFragments(tokenStream, content=
s, 10);
>
>
>
> snippet is the result contexts and then I will print out them on the scre=
en.
> But If I may search for a keyword at the last few paragraph and the essay=
 is too long (1000-2000 words), it will return "document found" and snippet=
.length=3D0 (i.e. document is found but context is NOT found). Why???
>
>
> How could I fix the problem?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 11:18:24 2011
Return-Path: <java-user-return-49025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12850 invoked from network); 17 Mar 2011 11:18:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 11:18:23 -0000
Received: (qmail 72546 invoked by uid 500); 17 Mar 2011 11:18:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72504 invoked by uid 500); 17 Mar 2011 11:18:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72496 invoked by uid 99); 17 Mar 2011 11:18:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:18:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:18:14 +0000
Received: by iyj12 with SMTP id 12so3662274iyj.35
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 04:17:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=sX8ccDCsNe5Pph+iPxF2ZSB7nSwmngCC57yPMn78RUI=;
        b=UJ1kli+4em1nWGAi0UowN+e+jXsRFeOGC4sBrV0WT+6M28bls535ZJSWMq/uZmLtDu
         popLPpIKTdcQwjk630VxTnCaQAbPkBdZi8HA7HXZDsyvpIC85xxhMCTS+xo4xGmpkD+0
         5yvmSjSOkkzK7xl20LAg6tTd5+IGzImZTelWM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=wHtVAmn9KevD+3yBsgRdQ+wFDfUiuqd6grRx9MlYKLwlX6ZZTNfsevMd5UXvtVL9Qc
         WHXQIk76D2cClkSflDmWM1h7PxQeJMU6pSBBg+fAcP8t9fn7SvYWBRzTzf86FGx9/bXI
         rcg+dgRcDVD2rwbDlEBoi5FPtroKwyhDHB5/A=
Received: by 10.231.8.67 with SMTP id g3mr1052009ibg.115.1300360673134; Thu,
 17 Mar 2011 04:17:53 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Thu, 17 Mar 2011 04:17:33 -0700 (PDT)
In-Reply-To: <4d801aa4.d4aae60a.5b61.19b0@mx.google.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
 <4d801aa4.d4aae60a.5b61.19b0@mx.google.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Mar 2011 11:17:33 +0000
Message-ID: <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

> I'd have to create a similarly sized array of Boolean.Occur too, isn't it?

What for?

> 1. Is that how SIREn implements it?

No idea.

> 2. Is that optimal solution if I'm going to have an index of a billion docs with varying number of fields?

Probably not.  I always use a catchall field.  I don't claim that is
optimal, certainly not for your circumstances which I know nothing
about, but it works for me.  Sure, it makes the index bigger but not
dramatically so, for my data anyway. There is no need to store it,
just index it.  And unless you need to search on the individual fields
that contribute to the catchall you don't need them indexed.

Disk space is cheap and I assume you have suitable hardware to support
your billion doc index/sharded indexes.



--
Ian.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 11:22:52 2011
Return-Path: <java-user-return-49026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28509 invoked from network); 17 Mar 2011 11:22:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 11:22:52 -0000
Received: (qmail 76307 invoked by uid 500); 17 Mar 2011 11:22:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76267 invoked by uid 500); 17 Mar 2011 11:22:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76259 invoked by uid 99); 17 Mar 2011 11:22:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:22:49 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [91.121.16.47] (HELO ns23917.ovh.net) (91.121.16.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:22:41 +0000
Received: (qmail 16787 invoked by uid 508); 17 Mar 2011 11:33:53 -0000
Received: from unknown (HELO spotter-dclnx.intra.spotter.com) (88.182.17.109)
  by ns23917.ovh.net with AES256-SHA encrypted SMTP; 17 Mar 2011 11:33:53 -0000
Received: from techno by spotter-dclnx.intra.spotter.com with local (Exim 4.72)
	(envelope-from <dcausse@spotter.com>)
	id 1Q0BHd-0006FV-LH
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 12:22:25 +0100
Date: Thu, 17 Mar 2011 12:22:25 +0100
From: David Causse <dcausse@spotter.com>
To: java-user@lucene.apache.org
Subject: Re: FieldSelector with Lucene 2.3.2
Message-ID: <20110317112225.GA7580@spotter-dclnx>
Mail-Followup-To: David Causse <dcausse@spotter.com>,
	java-user@lucene.apache.org
References: <4D80D495.6000205@bammers.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <4D80D495.6000205@bammers.net>
User-Agent: Mutt/1.5.20 (2009-06-14)
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 16, 2011 at 03:17:41PM +0000, Chris Bamford wrote:
> Hi
> 
> I am trying to speed up access to the data in my results Documents
> and was wondering if FieldSelector might be the way forward?
> After my search, I end up with an ArrayList of Documents, from each
> of which I need to extract certain fields and their values as
> key/value pairs in a HashMap.   Normally this is quick, but with
> large data sets (10,000+) it can take several seconds.  Here is the
> essence of the current code:
> 
>             for (Document doc : resultDocs) {
>                 keyVals = getDocKeyValuePairs(doc, fields);
>                 if (keyVals != null) {
>                     resultsList.add(keyVals);
>                 }
>             }

Hi, 
at this point it's too late, the field selector must be applied when you
fill resultDocs and call IndexReder.document(int id, FieldSelector fs) or
Searcher.doc(int id, FieldSelector fs).

Another point is that your code is too close from the dataset volume,
more doc means more heap. If you don't need yo have the whole dataset
loaded into RAM maybe you could implement a custom Collector that do the
whole job on a doc by doc basis and not collecting and saving all docs
in a Collection.

-- 
David Causse
Spotter
http://www.spotter.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 11:48:05 2011
Return-Path: <java-user-return-49027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22561 invoked from network); 17 Mar 2011 11:48:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 11:48:05 -0000
Received: (qmail 5879 invoked by uid 500); 17 Mar 2011 11:48:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5827 invoked by uid 500); 17 Mar 2011 11:48:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5819 invoked by uid 99); 17 Mar 2011 11:48:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:48:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.211] (HELO nm1-vm0.bullet.mail.in.yahoo.com) (121.101.151.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Mar 2011 11:47:56 +0000
Received: from [121.101.151.237] by nm1.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 11:47:33 -0000
Received: from [121.101.151.234] by tm2.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 11:47:26 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 17 Mar 2011 11:47:26 -0000
X-Yahoo-Newman-Id: 33413.19679.bm@omp1003.mail.in.yahoo.com
Received: (qmail 73429 invoked from network); 17 Mar 2011 11:47:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=13Lg8MkcpA4VLsGr9anoB9354mH5l1Zze9CBdx6nhsGTh5kIe+nvWEwjDUr1K4vuoXNRoAStOtKP2XMscsdwJZb7kqhCkP+r/kACFpdtN8weiQ1DyRK4CE5OHr0KMjxMyNQ1UKC0jQnurxOoaCzG/EHcoU5SD6ApQ01ESJ8dNcg=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1300362453; bh=bc1PhKJ63OhJcKcYXkckagcQVIrS89pLRgFBsAAucYg=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=BpA0+0WXDqh+lls2aH8GRA27nswQrFuArY1wLHKs4VIddzxcOKwJtlDM4iOZXiKxIh2cVP8AXcPoPbg+8qEN2E0YI9kiVjBv0egAY+lWtoT14Tpw1CnNmQIEzQXQrlPLyv6HEq+IR+rbVhl6Bqu20GATfLqtRQJbU7nXmB0ExlA=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp108.mail.in.yahoo.com with SMTP; 17 Mar 2011 17:17:33 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: MPCG2o0VM1m4naa7Vth5MEMetKgzrvLdv.7vK7IeWBurOWo
 fpYRflm2coTcDsdmHygnVYdZ_Jh_1noaklSkqQPMJGJtmQhtK3z6Fpt5PEGG
 4polVUoVWN24_lOmUn9CuJJgDNYRVrj5Ma2iGXSSvCeif8Ydl0HUTuum2rD2
 E.9ZPDOPKxKbri6KP0OTHEBu4kDZGkEc1_kdevGTAaqNTk3ieVjoTu1nBW0j
 Z3bGDm3FN
X-Yahoo-Newman-Property: ymail-3
Message-ID: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: ParallelMultisearcher 
Date: Thu, 17 Mar 2011 17:17:31 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Hello all,

Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we =
search more frequently then OutOfMemoryError is triggered or It is =
throwing "Not able to create native thread".. It is working with 2.9.1.=20

I generated Heap Dump and found lot of entries for =
ParallelMultiSearcher.=20

ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192=20
ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192=20
ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192=20
ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192=20
ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192=20
ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192=20
ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192=20
ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192=20
  =20
Regards
Ganesh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 11:52:28 2011
Return-Path: <java-user-return-49028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39520 invoked from network); 17 Mar 2011 11:52:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 11:52:27 -0000
Received: (qmail 15789 invoked by uid 500); 17 Mar 2011 11:52:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15740 invoked by uid 500); 17 Mar 2011 11:52:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15732 invoked by uid 99); 17 Mar 2011 11:52:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:52:25 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 11:52:18 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q0BkD-0005CU-2n
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 04:51:57 -0700
Date: Thu, 17 Mar 2011 04:51:57 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com>
In-Reply-To: <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com> <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7217_27149363.1300362717081"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_7217_27149363.1300362717081
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Thu, Mar 17, 2011 at 4:48 PM, Ian Lea [via Lucene] <
ml-node+2693036-1270863785-376162@n3.nabble.com> wrote:

> > I'd have to create a similarly sized array of Boolean.Occur too, isn't
> it?
>
> What for?


http://lucene.apache.org/java/2_3_1/api/org/apache/lucene/queryParser/MultiFieldQueryParser.html

<http://lucene.apache.org/java/2_3_1/api/org/apache/lucene/queryParser/MultiFieldQueryParser.html>Look
at the parse method.

-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2693112.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_7217_27149363.1300362717081--

From java-user-return-49029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 12:10:03 2011
Return-Path: <java-user-return-49029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94195 invoked from network); 17 Mar 2011 12:10:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 12:10:03 -0000
Received: (qmail 29270 invoked by uid 500); 17 Mar 2011 12:10:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29166 invoked by uid 500); 17 Mar 2011 12:10:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29158 invoked by uid 99); 17 Mar 2011 12:10:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 12:10:01 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 12:09:55 +0000
Received: by iwr19 with SMTP id 19so3730093iwr.35
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 05:09:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=yxSR/coNLM4wNIa7A+WKXvitI7mm+VVFUUvNB5M5L1w=;
        b=TEB3HB7NHgva+BOfKrVShSS9V8HTys3cEsOH19Q9bDzrGP5TOdDfqqmvkMp/+RHBwZ
         FGlySVa5AO25Qr2zxZ4kFS6Qq4ZWmTgohAfNnpcdIxhlO8rCtwf4X8puRmO0G7W/W4kM
         wa4Xl5TkwFnKlZv+bEoMvIX4CCGIyiSDmOv/U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=WfjaEbdFwVDoAmTwMrFxcgs4aLkTO/1qyiTANBgqqgTPm+jPNKiL1bshMokL9CNqTi
         PHePUzIdsX01RWX2yhrJEYKakmLmuVHmCKkm86oX64/BAUPtGLmjaQTxumXQovRT5ACO
         PQySoP/PhJW6xTlJqDkALbtEyuwTFg6+iqlVI=
Received: by 10.231.111.209 with SMTP id t17mr1086712ibp.140.1300363774241;
 Thu, 17 Mar 2011 05:09:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Thu, 17 Mar 2011 05:09:14 -0700 (PDT)
In-Reply-To: <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
 <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
 <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Mar 2011 12:09:14 +0000
Message-ID: <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

OK, yes, if you do need to "specify certain fields as required, and
others as prohibited" then you'll need to build and populate that
array.  There is also a parse method that doesn't require the array if
you just want to search all the fields.

I hope that the 2_3_1 links don't indicate that you are using that version.


--
Ian.


On Thu, Mar 17, 2011 at 11:51 AM, shrinath.m <shrinath.m@webyog.com> wrote:
> On Thu, Mar 17, 2011 at 4:48 PM, Ian Lea [via Lucene] <
> ml-node+2693036-1270863785-376162@n3.nabble.com> wrote:
>
>> > I'd have to create a similarly sized array of Boolean.Occur too, isn't
>> it?
>>
>> What for?
>
>
> http://lucene.apache.org/java/2_3_1/api/org/apache/lucene/queryParser/MultiFieldQueryParser.html
>
> <http://lucene.apache.org/java/2_3_1/api/org/apache/lucene/queryParser/MultiFieldQueryParser.html>Look
> at the parse method.
>
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2693112.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 12:30:59 2011
Return-Path: <java-user-return-49030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52374 invoked from network); 17 Mar 2011 12:30:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 12:30:59 -0000
Received: (qmail 50670 invoked by uid 500); 17 Mar 2011 12:30:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50580 invoked by uid 500); 17 Mar 2011 12:30:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50572 invoked by uid 99); 17 Mar 2011 12:30:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 12:30:57 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 12:30:51 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q0CLW-0007zt-Ch
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 05:30:30 -0700
Date: Thu, 17 Mar 2011 05:30:30 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com>
In-Reply-To: <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com> <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com> <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com> <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7979_27062117.1300365030389"

------=_Part_7979_27062117.1300365030389
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Thu, Mar 17, 2011 at 5:40 PM, Ian Lea [via Lucene] <
ml-node+2693169-1481141743-376162@n3.nabble.com> wrote:

> OK, yes, if you do need to "specify certain fields as required, and
> others as prohibited" then you'll need to build and populate that
> array.  There is also a parse method that doesn't require the array if
> you just want to search all the fields.
>
>
what ? where ?
I don't see any such parse method that does a all field search !!
I am seriously hoping there exists such a method and I might have missed it
!! :)



> I hope that the 2_3_1 links don't indicate that you are using that version.
>
>
>
yeah, my bad... I am using 3.0.3...
http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/queryParser/MultiFieldQueryParser.html

<http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/queryParser/MultiFieldQueryParser.html>


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2693226.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_7979_27062117.1300365030389--

From java-user-return-49031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 13:33:37 2011
Return-Path: <java-user-return-49031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64859 invoked from network); 17 Mar 2011 13:33:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 13:33:37 -0000
Received: (qmail 38370 invoked by uid 500); 17 Mar 2011 13:33:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38173 invoked by uid 500); 17 Mar 2011 13:33:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38165 invoked by uid 99); 17 Mar 2011 13:33:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 13:33:35 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.225] (HELO nm3.bullet.mail.in.yahoo.com) (121.101.151.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Mar 2011 13:33:27 +0000
Received: from [121.101.151.238] by nm3.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 13:33:04 -0000
Received: from [121.101.151.235] by tm3.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 13:33:05 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 17 Mar 2011 13:33:03 -0000
X-Yahoo-Newman-Id: 792251.42857.bm@omp1004.mail.in.yahoo.com
Received: (qmail 28351 invoked from network); 17 Mar 2011 13:33:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=Wf1LD2rCWZt9u69aKHSnC0qbV7BpTCoQvkdFrjzY7/X32EFK9L97Yy4F/e6rX0djwI7/E2smIt4jz7LYR+VhHyPDEEtFdc34zfNoVdoWkLW8qdSn/VaoeOY0NoYebZBVKGYCFyDGf0W6ssA0iuQLcFROePtl1VkvbPi40/+yc84=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1300368783; bh=3+ILIf1MIRDdtOtr8vj+AWgbbVC4OydGKmndDt7wRTs=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=fX4hiMfH6E1SBJEoPzmrm7/b5tWnHZ3qRDrBOULOYJ3kiKzii2WlHkKFXzn5P0c/H9u4e4MgV6fwcdetfPZt6QVnQV4SfIjEdu3S3cIjk+uxnaP/2f1d55xJ8tgjWQxTFresDTro73M5A8PvEusBgBkw+uo+WivWeOi6EyEyGmE=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp109.mail.in.yahoo.com with SMTP; 17 Mar 2011 19:03:03 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: u8yp_VsVM1mx6bXEFNbA3m3H8Wv6aav.mBsxTsYi38jOj9B
 Seih8VjdyvX9p4MtI1JUHJyiHPV3uB__JpA1vFoO9GSUktjuHX8JGNUyj64S
 gpWpqh3k1HoJEWRtHgyVmonISPHLvVTtgMpo994kWoS7lHhlZxaaxjhLhlR4
 gvXWmElLG9xuUP_rjazqYzLu0KHwoGDbatyQFmtNdUffFfLjfJml_jn9.reQ
 6uxqexTTIQ67aNnKL4S8NmXFeb5emmqmZqKrd.r2i4GNCEfKOqw--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com>
Subject: Re: ParallelMultisearcher 
Date: Thu, 17 Mar 2011 19:03:02 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

I tested the same with Lucene 2.9.1 and found very less thread count but =
with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.

Regards
Ganesh =20

----- Original Message -----=20
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 17, 2011 5:17 PM
Subject: ParallelMultisearcher=20


Hello all,

Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we =
search more frequently then OutOfMemoryError is triggered or It is =
throwing "Not able to create native thread".. It is working with 2.9.1.=20

I generated Heap Dump and found lot of entries for =
ParallelMultiSearcher.=20

ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192=20
ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192=20
ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192=20
ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192=20
ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192=20
ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192=20
ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192=20
ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192=20
  =20
Regards
Ganesh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 13:37:40 2011
Return-Path: <java-user-return-49032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86479 invoked from network); 17 Mar 2011 13:37:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 13:37:39 -0000
Received: (qmail 42511 invoked by uid 500); 17 Mar 2011 13:37:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42474 invoked by uid 500); 17 Mar 2011 13:37:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42466 invoked by uid 99); 17 Mar 2011 13:37:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 13:37:37 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 13:37:32 +0000
Received: by iwr19 with SMTP id 19so3838086iwr.35
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 06:37:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=sT1nHhMkYL3Y71sabVXNVJ/VyN+p1wRYyj3j99uNhW0=;
        b=EVXjABgZ3hi3x56ZUUJgxYztou/mAldbzN4CtQMxSsA0a0Ao2z4ay3JesZcmGCXRtM
         vJi2ydnOmPtxCK9BniAwu/+QEei4DNVhEHMyrigdMHyN0oII5Y6Xe/WZFyXVwlexfWT5
         HIOXwW5uzm+R4d5FcAUr1r07YviqyVHJllM8w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=GUEHQGBsuvAdPcc2OwCSCTYWDjrMnOjlPwtLfVgYVrZitKpSu7am9G+S2TwFu/uptY
         2Hx2CY4nmtly1hhinZfRJnTuuQMSFw/rfMbHZUsgUf364tHWXaP3CDSoJGj77rtNxTs1
         W9LXuLXhlKB2mOvoS6xd1+LgqgNnkx6EH1tP8=
Received: by 10.42.115.133 with SMTP id k5mr1903938icq.181.1300369032321; Thu,
 17 Mar 2011 06:37:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Thu, 17 Mar 2011 06:36:52 -0700 (PDT)
In-Reply-To: <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
 <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
 <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com>
 <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com> <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Mar 2011 13:36:52 +0000
Message-ID: <AANLkTimbEuWVuFM=C46RynxUJW7bOZeZfpcNd5YONpBM@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I was referring to the MultiFieldQueryParser.parse method that doesn't
require an array of  BooleanClause.Occur flags.

static Query 	parse(Version matchVersion, String[] queries, String[]
fields, Analyzer analyzer)
          Parses a query which searches on the fields specified.

Good to hear you're on 3.0.3!


--
Ian.


On Thu, Mar 17, 2011 at 12:30 PM, shrinath.m <shrinath.m@webyog.com> wrote:
> On Thu, Mar 17, 2011 at 5:40 PM, Ian Lea [via Lucene] <
> ml-node+2693169-1481141743-376162@n3.nabble.com> wrote:
>
>> OK, yes, if you do need to "specify certain fields as required, and
>> others as prohibited" then you'll need to build and populate that
>> array. =A0There is also a parse method that doesn't require the array if
>> you just want to search all the fields.
>>
>>
> what ? where ?
> I don't see any such parse method that does a all field search !!
> I am seriously hoping there exists such a method and I might have missed =
it
> !! :)
>
>
>
>> I hope that the 2_3_1 links don't indicate that you are using that versi=
on.
>>
>>
>>
> yeah, my bad... I am using 3.0.3...
> http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/queryParser=
/MultiFieldQueryParser.html
>
> <http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/queryParse=
r/MultiFieldQueryParser.html>
>
>
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/How-to-d=
o-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryPars=
er-tp2681163p2693226.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 13:46:03 2011
Return-Path: <java-user-return-49033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96526 invoked from network); 17 Mar 2011 13:46:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 13:46:03 -0000
Received: (qmail 48146 invoked by uid 500); 17 Mar 2011 13:46:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48101 invoked by uid 500); 17 Mar 2011 13:46:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48093 invoked by uid 99); 17 Mar 2011 13:46:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 13:46:01 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 13:45:56 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q0DWB-0005O3-0p
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 06:45:35 -0700
Date: Thu, 17 Mar 2011 06:45:35 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTim9aYKpc1RL2Zs1kOpmG0t1k5XafqeuSHy5Mq-o@mail.gmail.com>
In-Reply-To: <AANLkTimbEuWVuFM=C46RynxUJW7bOZeZfpcNd5YONpBM@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com> <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com> <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com> <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com> <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com> <AANLkTimbEuWVuFM=C46RynxUJW7bOZeZfpcNd5YONpBM@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8952_1476739.1300369535021"

------=_Part_8952_1476739.1300369535021
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Thu, Mar 17, 2011 at 7:07 PM, Ian Lea [via Lucene] <
ml-node+2693447-1032232993-376162@n3.nabble.com> wrote:

> static Query parse(Version matchVersion, String[] queries, String[]
> fields, Analyzer analyzer)
>           Parses a query which searches on the fields specified.
>


Well, at the end of the day its either I make an array of Boolean.Occur
or I make an array of Queries to go with the fields right ?
Nothing helps me from creating an unnecessary array of repetitive elements ?
:(

So if I have 2 fields "name" and "address",
and if the query is "shrinath",

then there should be arrays like this :
    private static String[] fields = {"name", "address"};
    private static BooleanClause.Occur[] flags= {BooleanClause.Occur.SHOULD,
BooleanClause.Occur.SHOULD};
and the parse method should go like this :
MultiFieldQueryParser.parse(Version.LUCENE_CURRENT, s, fields, flags, new
StandardAnalyzer(Version.LUCENE_CURRENT, Collections.emptySet()));

:(
-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2693475.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_8952_1476739.1300369535021--

From java-user-return-49034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 14:11:47 2011
Return-Path: <java-user-return-49034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90418 invoked from network); 17 Mar 2011 14:11:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 14:11:46 -0000
Received: (qmail 94381 invoked by uid 500); 17 Mar 2011 14:11:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94346 invoked by uid 500); 17 Mar 2011 14:11:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94338 invoked by uid 99); 17 Mar 2011 14:11:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 14:11:44 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 14:11:39 +0000
Received: by ywo32 with SMTP id 32so1476770ywo.35
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 07:11:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=iOHceDBaq5PIEfrHDd7bpNzq0g7JgWmH7s4CHwsnP1o=;
        b=f+rD5auToCy6aPl3NXGRfR+TNDGqk6NYJGdvAriNdUcUjOI0H2o1sHxAXI3eFIrVNR
         NiZcTrYRSD9X1eiANk5VF+ZZ1QHFrW5bNtLSy4kXdyFfEPdekBr1hPIEVcY7+59azNaU
         vSAjqjZecZMMGKvVJto+fTzTkRCQgfj5o3+F0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=GllYWG4TZ2KJ3cQ6qGAmhVjaM15v3bSTaIr8O1/jeuOzCkSnOuXWX5lzjStXGz3b7G
         gWDo4PAoaNzkmY1LjiRceik3DPGYCN+BP+GzDslTilN+0keH3cRbgzIkmb6RjrxhV7Oq
         FFysho9u6oxJ+B+SHhlXKFyqTimpuLX6WagLU=
Received: by 10.42.162.200 with SMTP id z8mr1962804icx.248.1300371072205; Thu,
 17 Mar 2011 07:11:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.36.198 with HTTP; Thu, 17 Mar 2011 07:10:51 -0700 (PDT)
In-Reply-To: <AANLkTim9aYKpc1RL2Zs1kOpmG0t1k5XafqeuSHy5Mq-o@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com>
 <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com>
 <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com>
 <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com>
 <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com>
 <AANLkTimbEuWVuFM=C46RynxUJW7bOZeZfpcNd5YONpBM@mail.gmail.com> <AANLkTim9aYKpc1RL2Zs1kOpmG0t1k5XafqeuSHy5Mq-o@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Mar 2011 14:10:51 +0000
Message-ID: <AANLkTinZdOCaH7+sGp6xES4b-9TPU2p+0vE-9xnSV_1=@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

if you go the MultiFieldQueryParser route you are going to need some
arrays. You specifically asked if you needed an array of
BooleanClause.Occur and the answer to that specific question is still
no.

I can't tell you any more on this than you can get from reading the javadoc=
s.


--
Ian.



On Thu, Mar 17, 2011 at 1:45 PM, shrinath.m <shrinath.m@webyog.com> wrote:
> On Thu, Mar 17, 2011 at 7:07 PM, Ian Lea [via Lucene] <
> ml-node+2693447-1032232993-376162@n3.nabble.com> wrote:
>
>> static Query parse(Version matchVersion, String[] queries, String[]
>> fields, Analyzer analyzer)
>> =A0 =A0 =A0 =A0 =A0 Parses a query which searches on the fields specifie=
d.
>>
>
>
> Well, at the end of the day its either I make an array of Boolean.Occur
> or I make an array of Queries to go with the fields right ?
> Nothing helps me from creating an unnecessary array of repetitive element=
s ?
> :(
>
> So if I have 2 fields "name" and "address",
> and if the query is "shrinath",
>
> then there should be arrays like this :
> =A0 =A0private static String[] fields =3D {"name", "address"};
> =A0 =A0private static BooleanClause.Occur[] flags=3D {BooleanClause.Occur=
.SHOULD,
> BooleanClause.Occur.SHOULD};
> and the parse method should go like this :
> MultiFieldQueryParser.parse(Version.LUCENE_CURRENT, s, fields, flags, new
> StandardAnalyzer(Version.LUCENE_CURRENT, Collections.emptySet()));
>
> :(
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/How-to-d=
o-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryPars=
er-tp2681163p2693475.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 14:22:05 2011
Return-Path: <java-user-return-49035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15432 invoked from network); 17 Mar 2011 14:22:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 14:22:04 -0000
Received: (qmail 27249 invoked by uid 500); 17 Mar 2011 14:22:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27213 invoked by uid 500); 17 Mar 2011 14:22:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27205 invoked by uid 99); 17 Mar 2011 14:22:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 14:22:02 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 14:21:57 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q0E52-00005U-Ch
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 07:21:36 -0700
Date: Thu, 17 Mar 2011 07:21:36 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTi=S2ZvuN-3CdD13=OcZVJ5botd6sn_ay54br+G9@mail.gmail.com>
In-Reply-To: <AANLkTinZdOCaH7+sGp6xES4b-9TPU2p+0vE-9xnSV_1=@mail.gmail.com>
References: <1300185984444-2681163.post@n3.nabble.com> <AANLkTi=MmZk6RbZXCN_f=hcXbpZ71yFyuc_irKfmVfbc@mail.gmail.com> <4d801aa4.d4aae60a.5b61.19b0@mx.google.com> <AANLkTik=VB25CmV_ccAebR86iBnF61=rcFWueRntVm+p@mail.gmail.com> <AANLkTimCKhKNnBNpkOKYvO=q4gQzunmVrPSOYbjV=FPM@mail.gmail.com> <AANLkTimDMGRG=_wGMqAX4Gb13+LGTqhMqJHCE83bOyDh@mail.gmail.com> <AANLkTi=oyRay5uoYOgA8AzHZ4+uog6k5Rp13ZZ672oDv@mail.gmail.com> <AANLkTimbEuWVuFM=C46RynxUJW7bOZeZfpcNd5YONpBM@mail.gmail.com> <AANLkTim9aYKpc1RL2Zs1kOpmG0t1k5XafqeuSHy5Mq-o@mail.gmail.com> <AANLkTinZdOCaH7+sGp6xES4b-9TPU2p+0vE-9xnSV_1=@mail.gmail.com>
Subject: Re: Re: How to do an all field search without using a "catchall"
 fieldor "MultiFieldQueryParser" ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10240_9046142.1300371696389"

------=_Part_10240_9046142.1300371696389
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Thu, Mar 17, 2011 at 7:42 PM, Ian Lea [via Lucene] <
ml-node+2693597-476158808-376162@n3.nabble.com> wrote:

> if you go the MultiFieldQueryParser route you are going to need some
> arrays.
>

Which other route can I take to do a all field search ?
(Keeping in mind that I don't know what fields are in document)


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/How-to-do-an-all-field-search-without-using-a-catchall-field-or-MultiFieldQueryParser-tp2681163p2693635.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_10240_9046142.1300371696389--

From java-user-return-49036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 15:21:09 2011
Return-Path: <java-user-return-49036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15569 invoked from network); 17 Mar 2011 15:21:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 15:21:09 -0000
Received: (qmail 38295 invoked by uid 500); 17 Mar 2011 15:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38259 invoked by uid 500); 17 Mar 2011 15:21:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38251 invoked by uid 99); 17 Mar 2011 15:21:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 15:21:06 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of chris.bamford@talktalk.net designates 62.24.128.239 as permitted sender)
Received: from [62.24.128.239] (HELO out1.ip03ir2.opaltelecom.net) (62.24.128.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 15:20:58 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Ap0EAELDgU3O3uKy/2dsb2JhbACCW6IkgUbEBoVjBA
X-IronPort-AV: E=Sophos;i="4.63,199,1299456000"; 
   d="scan'208";a="341287873"
Received: from frr5-l19.sis.aol.com (HELO FRR5-L19) ([206.222.226.178])
  by out1.ip03ir2.opaltelecom.net with ESMTP; 17 Mar 2011 15:20:36 +0000
To: java-user@lucene.apache.org
Subject: Re: FieldSelector with Lucene 2.3.2
Date: Thu, 17 Mar 2011 11:20:36 -0400
In-Reply-To: <20110317112225.GA7580@spotter-dclnx>
X-MB-Message-Source: WebUI
MIME-Version: 1.0
From: Chris Bamford <chris.bamford@talktalk.net>
X-MB-Message-Type: User
Content-Type: multipart/alternative; 
 boundary="--------MB_8CDB2CE0073DBE6_1194_1B25_FRR5-L19.sysops.aol.com"
X-Mailer: Webmail 33426-STANDARD
Received: from 135.196.24.203 by FRR5-L19.sysops.aol.com (206.222.226.178) with HTTP (WebMailUI); Thu, 17 Mar 2011 11:20:36 -0400
Message-Id: <8CDB2CE00254EA7-1194-76B@FRR5-L19.sysops.aol.com>
X-Virus-Checked: Checked by ClamAV on apache.org

----------MB_8CDB2CE0073DBE6_1194_1B25_FRR5-L19.sysops.aol.com
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="us-ascii"

=0A=20Thanks=20David,=20I=20realised=20my=20mistake=20after=20I=20sent=20the=20o=
riginal=20mail.=0AKind=20regards=0A=0A-=20Chris=0A=0A=20=0A=0A=0A=20=0A=0A=20=0A=
=0A-----Original=20Message-----=0AFrom:=20David=20Causse=20<dcausse@spotter.com>=
=0ATo:=20java-user@lucene.apache.org=0ASent:=20Thu,=2017=20Mar=202011=2011:22=0A=
Subject:=20Re:=20FieldSelector=20with=20Lucene=202.3.2=0A=0A=0AOn=20Wed,=20Mar=20=
16,=202011=20at=2003:17:41PM=20+0000,=20Chris=20Bamford=20wrote:=0A=0A>=20Hi=0A=0A=
>=20=0A=0A>=20I=20am=20trying=20to=20speed=20up=20access=20to=20the=20data=20in=20=
my=20results=20Documents=0A=0A>=20and=20was=20wondering=20if=20FieldSelector=20m=
ight=20be=20the=20way=20forward?=0A=0A>=20After=20my=20search,=20I=20end=20up=20=
with=20an=20ArrayList=20of=20Documents,=20from=20each=0A=0A>=20of=20which=20I=20=
need=20to=20extract=20certain=20fields=20and=20their=20values=20as=0A=0A>=20key/=
value=20pairs=20in=20a=20HashMap.=20=20=20Normally=20this=20is=20quick,=20but=20=
with=0A=0A>=20large=20data=20sets=20(10,000+)=20it=20can=20take=20several=20seco=
nds.=20=20Here=20is=20the=0A=0A>=20essence=20of=20the=20current=20code:=0A=0A>=20=
=0A=0A>=20=20=20=20=20=20=20=20=20=20=20=20=20for=20(Document=20doc=20:=20result=
Docs)=20{=0A=0A>=20=20=20=20=20=20=20=20=20=20=20=20=20=20=20=20=20keyVals=20=3D=
=20getDocKeyValuePairs(doc,=20fields);=0A=0A>=20=20=20=20=20=20=20=20=20=20=20=20=
=20=20=20=20=20if=20(keyVals=20!=3D=20null)=20{=0A=0A>=20=20=20=20=20=20=20=20=20=
=20=20=20=20=20=20=20=20=20=20=20=20resultsList.add(keyVals);=0A=0A>=20=20=20=20=
=20=20=20=20=20=20=20=20=20=20=20=20=20}=0A=0A>=20=20=20=20=20=20=20=20=20=20=20=
=20=20}=0A=0A=0A=0AHi,=20=0A=0Aat=20this=20point=20it's=20too=20late,=20the=20fi=
eld=20selector=20must=20be=20applied=20when=20you=0A=0Afill=20resultDocs=20and=20=
call=20IndexReder.document(int=20id,=20FieldSelector=20fs)=20or=0A=0ASearcher.do=
c(int=20id,=20FieldSelector=20fs).=0A=0A=0A=0AAnother=20point=20is=20that=20your=
=20code=20is=20too=20close=20from=20the=20dataset=20volume,=0A=0Amore=20doc=20me=
ans=20more=20heap.=20If=20you=20don't=20need=20yo=20have=20the=20whole=20dataset=
=0A=0Aloaded=20into=20RAM=20maybe=20you=20could=20implement=20a=20custom=20Colle=
ctor=20that=20do=20the=0A=0Awhole=20job=20on=20a=20doc=20by=20doc=20basis=20and=20=
not=20collecting=20and=20saving=20all=20docs=0A=0Ain=20a=20Collection.=0A=0A=0A=0A=
--=20=0A=0ADavid=20Causse=0A=0ASpotter=0A=0Ahttp://www.spotter.com/=0A=0A=0A=0A-=
--------------------------------------------------------------------=0A=0ATo=20u=
nsubscribe,=20e-mail:=20java-user-unsubscribe@lucene.apache.org=0A=0AFor=20addit=
ional=20commands,=20e-mail:=20java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=20=
=0A
----------MB_8CDB2CE0073DBE6_1194_1B25_FRR5-L19.sysops.aol.com--


From java-user-return-49037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 16:36:24 2011
Return-Path: <java-user-return-49037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84954 invoked from network); 17 Mar 2011 16:36:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 16:36:23 -0000
Received: (qmail 93415 invoked by uid 500); 17 Mar 2011 16:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93373 invoked by uid 500); 17 Mar 2011 16:36:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93365 invoked by uid 99); 17 Mar 2011 16:36:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 16:36:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.225] (HELO nm3.bullet.mail.in.yahoo.com) (121.101.151.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Mar 2011 16:36:14 +0000
Received: from [121.101.151.236] by nm3.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 16:35:52 -0000
Received: from [121.101.151.235] by tm1.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 16:35:49 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 17 Mar 2011 16:35:51 -0000
X-Yahoo-Newman-Id: 420189.78047.bm@omp1004.mail.in.yahoo.com
Received: (qmail 42687 invoked from network); 17 Mar 2011 16:35:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=yJuwZXMb83YP/Kdigdpr+fNzxl9rek384fgAyFEZgm6S+rhoyZFS/JJKN/ay4Ay3E+PMU4pcTXjbALpnlwZk3p2E5T5aY7NQ9VC7IusbkLTC40NUpsntpffdy6sj7D9QWOW89re/zyugAgKmphwdPwBuu5nlrs++lSA9SQMhkxM=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1300379751; bh=U1lHL9oY5D2FJh45+/FlS3A35lH+t0ltxzmq4c9kyYo=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=PHBUco/i3zugmh1buVg0DlEo/XFRVwJgYeiDvjVQyO6klBZv/g5AUqWQCXOhiT0Tr4OAe/0vz6uqePjNceiJQ7O4aFpJ8sktIfdNq+QE24LkstawGZtvc5+xY8LfkjwU/ZQuVk/TyJilNCp4hbiO6hXHHsdMFBgMltXUDSMG5BI=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp108.mail.in.yahoo.com with SMTP; 17 Mar 2011 22:05:51 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: 8kSDN58VM1m.62ntaQI2n7OA_lTrLriQkuRBW0gviaYvQLW
 SFWiibIbbpum3kCKEXBmhK0BsYkG1xTpM.EBFXNL5XY6r7joZqaos5cfKd61
 Q2Kqn7oxLMWGTzcXt6NiSTVATEd5dl0iy0a1lXcuN3dj1YDmkexshv4sqFI_
 2g7jVFnMXw0iYN5ZA2Cu.JrBEEBux_jg7ttU7TtP9b3CN4B5T.J6mWv1WIz8
 7E.3MX94a8KcA5QjfdJwAfZnqEF0bl3NDqXayEZuY4Cp_10yfzA--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com> <DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com>
Subject: Re: ParallelMultisearcher 
Date: Thu, 17 Mar 2011 22:05:49 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got fixed =
in 3.0.3?=20

Regards
Ganesh

----- Original Message -----=20
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 17, 2011 7:03 PM
Subject: Re: ParallelMultisearcher=20


I tested the same with Lucene 2.9.1 and found very less thread count but =
with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.

Regards
Ganesh =20

----- Original Message -----=20
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 17, 2011 5:17 PM
Subject: ParallelMultisearcher=20


Hello all,

Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we =
search more frequently then OutOfMemoryError is triggered or It is =
throwing "Not able to create native thread".. It is working with 2.9.1.=20

I generated Heap Dump and found lot of entries for =
ParallelMultiSearcher.=20

ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192=20
ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192=20
ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192=20
ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192=20
ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192=20
ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192=20
ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192=20
ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192=20
  =20
Regards
Ganesh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:06:09 2011
Return-Path: <java-user-return-49038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88998 invoked from network); 17 Mar 2011 17:06:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:06:09 -0000
Received: (qmail 43073 invoked by uid 500); 17 Mar 2011 17:06:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42969 invoked by uid 500); 17 Mar 2011 17:06:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42961 invoked by uid 99); 17 Mar 2011 17:06:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:06:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of devon.odell@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:06:02 +0000
Received: by iyj12 with SMTP id 12so4097106iyj.35
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 10:05:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=rm+GsIXKD2Ylngz1KJk4ydznS+kQgmmiFlKSix9Pd3Q=;
        b=w6gUJUOostA+DpRkdbeXtUECFK6R1Xmf4F703FLBTlX327Wt+UOtvqFHFmnJHk70dZ
         KrJYoKVFNHAIOrIQyStaiYbQ2pkTpBn0pRZ08yYs9o7OZ8D5a3tjvPXHRTTps2Zn+NIG
         Qp3/PcRKuVU0jq+YEHJ1gVgW8ekGc/VEFkd+o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=MzZk4DDvUNbdIkxjUB53hm6I8m0J9qtcZXOIocawVG0zwQlNLYPekRURFMo6HmBJgv
         EiDZ8k03B2fJKGok7JU/ohE04pNomJLmsDwZ4D31uwU9dcypWsvJVp/n15M/m5DrhtlN
         EXlxaV5xwf7+3kvMzHw7oXqqHr06Iou8Lu3Ys=
MIME-Version: 1.0
Received: by 10.43.65.197 with SMTP id xn5mr26580icb.87.1300381541751; Thu, 17
 Mar 2011 10:05:41 -0700 (PDT)
Received: by 10.231.224.91 with HTTP; Thu, 17 Mar 2011 10:05:41 -0700 (PDT)
In-Reply-To: <A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com>
	<DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com>
	<A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com>
Date: Thu, 17 Mar 2011 13:05:41 -0400
Message-ID: <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com>
Subject: Re: ParallelMultisearcher
From: "Devon H. O'Dell" <devon.odell@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

2011/3/17 Ganesh <emailgane@yahoo.co.in>:
> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got fixed in 3.0.3?

The linked ticket shows that it was fixed in 3.0.3.

--dho

> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Ganesh" <emailgane@yahoo.co.in>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, March 17, 2011 7:03 PM
> Subject: Re: ParallelMultisearcher
>
>
> I tested the same with Lucene 2.9.1 and found very less thread count but with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Ganesh" <emailgane@yahoo.co.in>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, March 17, 2011 5:17 PM
> Subject: ParallelMultisearcher
>
>
> Hello all,
>
> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we search more frequently then OutOfMemoryError is triggered or It is throwing "Not able to create native thread".. It is working with 2.9.1.
>
> I generated Heap Dump and found lot of entries for ParallelMultiSearcher.
>
> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192
> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192
> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192
> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192
> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192
> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192
> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192
> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192
>
> Regards
> Ganesh
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:20:31 2011
Return-Path: <java-user-return-49039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15303 invoked from network); 17 Mar 2011 17:20:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:20:31 -0000
Received: (qmail 67151 invoked by uid 500); 17 Mar 2011 17:20:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67106 invoked by uid 500); 17 Mar 2011 17:20:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67098 invoked by uid 99); 17 Mar 2011 17:20:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:20:29 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:20:21 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.234]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Thu, 17 Mar
 2011 13:19:58 -0400
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 17 Mar 2011 13:19:54 -0400
Subject: Understanding the IndexWriter-Infostream log
Thread-Topic: Understanding the IndexWriter-Infostream log
Thread-Index: Acvkx4gODL5mdUz6SKSg4LODKufC7g==
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF5F4F359@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: AK91 B5ZQ DADG DK8T DdCi FgiJ ICeU IRFF ITIO KmmT KoQT
 KvqL Kxb7 K6MK LUaV
 LhQK;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{AD0F2E4A-AAA8-49EB-AF06-2A1D3A4461BC};dABiAHUAcgB0AG8AbgB3AEAAdQBtAGkAYwBoAC4AZQBkAHUA;Thu,
 17 Mar 2011 17:19:54
 GMT;VQBuAGQAZQByAHMAdABhAG4AZABpAG4AZwAgAHQAaABlACAASQBuAGQAZQB4AFcAcgBpAHQAZQByAC0ASQBuAGYAbwBzAHQAcgBlAGEAbQAgAGwAbwBnAA==
x-cr-puzzleid: {AD0F2E4A-AAA8-49EB-AF06-2A1D3A4461BC}
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_47316FE3F6BA0D4DADF99663512552680AF5F4F359ITCSECLS1VS3a_"
MIME-Version: 1.0

--_000_47316FE3F6BA0D4DADF99663512552680AF5F4F359ITCSECLS1VS3a_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello all,

We have very large documents with large numbers of unique terms.   Our docu=
ments average about 800,000 KB and about 200,000 tokens.  In trying to unde=
rstand how often the ramBuffer gets flushed to disk we turned on the IndexW=
riter log.
<infoStream file=3D"/tmp/IndexWriter.log">true</infoStream>

With the Solr default setting of ramBufferSizeMB=3D32 it appears that the b=
uffer is flushing every 2-10 documents.

When we see this in the IndexWriter log: "flush postings as segment _9hw nu=
mDocs=3D2",  does this mean that the buffer is writing a segment that conta=
ins only 2 documents?

Also how do we interpret the following?

"DW:   ramUsed=3D33.467 MB newFlushedSize=3D6764406 docs/MB=3D0.155 new/old=
=3D19.276%"

What does "docs/MB" and 'new/old" mean?

Tom


--_000_47316FE3F6BA0D4DADF99663512552680AF5F4F359ITCSECLS1VS3a_--

From java-user-return-49040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:21:30 2011
Return-Path: <java-user-return-49040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19841 invoked from network); 17 Mar 2011 17:21:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:21:30 -0000
Received: (qmail 69405 invoked by uid 500); 17 Mar 2011 17:21:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69360 invoked by uid 500); 17 Mar 2011 17:21:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69351 invoked by uid 99); 17 Mar 2011 17:21:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:21:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:21:21 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 13496D36006
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 18:21:01 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1IG2DpZOIEhy for <java-user@lucene.apache.org>;
	Thu, 17 Mar 2011 18:20:56 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.76])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id CA79AD36005
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 18:20:55 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com>	<DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com>	<A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com> <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com>
In-Reply-To: <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com>
Subject: RE: ParallelMultisearcher
Date: Thu, 17 Mar 2011 18:20:59 +0100
Message-ID: <00bc01cbe4c7$af0dc090$0d2941b0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQH/TOQNW7m2U7zxhGYu8HDOm4C7UAHCtjn4AhWoh0IBv6JbBpOeNIdg
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, it's fixed in SVN since June. Lucene 3.0.3 should contain the fix. When
you call ParallelMultiSearcher#close, the Executor is shutdown.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Devon H. O'Dell [mailto:devon.odell@gmail.com]
> Sent: Thursday, March 17, 2011 6:06 PM
> To: java-user@lucene.apache.org
> Subject: Re: ParallelMultisearcher
> 
> 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
> > Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got fixed
in
> 3.0.3?
> 
> The linked ticket shows that it was fixed in 3.0.3.
> 
> --dho
> 
> > Regards
> > Ganesh
> >
> > ----- Original Message -----
> > From: "Ganesh" <emailgane@yahoo.co.in>
> > To: <java-user@lucene.apache.org>
> > Sent: Thursday, March 17, 2011 7:03 PM
> > Subject: Re: ParallelMultisearcher
> >
> >
> > I tested the same with Lucene 2.9.1 and found very less thread count but
> with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
> >
> > Regards
> > Ganesh
> >
> > ----- Original Message -----
> > From: "Ganesh" <emailgane@yahoo.co.in>
> > To: <java-user@lucene.apache.org>
> > Sent: Thursday, March 17, 2011 5:17 PM
> > Subject: ParallelMultisearcher
> >
> >
> > Hello all,
> >
> > Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we
search
> more frequently then OutOfMemoryError is triggered or It is throwing "Not
> able to create native thread".. It is working with 2.9.1.
> >
> > I generated Heap Dump and found lot of entries for
ParallelMultiSearcher.
> >
> > ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192
> > ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192
> > ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192
> > ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192
> > ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192
> > ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192
> > ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192
> > ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192
> >
> > Regards
> > Ganesh
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:24:44 2011
Return-Path: <java-user-return-49041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36170 invoked from network); 17 Mar 2011 17:24:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:24:44 -0000
Received: (qmail 75099 invoked by uid 500); 17 Mar 2011 17:24:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75058 invoked by uid 500); 17 Mar 2011 17:24:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75050 invoked by uid 99); 17 Mar 2011 17:24:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:24:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.210] (HELO nm2-vm0.bullet.mail.in.yahoo.com) (121.101.151.210)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Mar 2011 17:24:33 +0000
Received: from [121.101.151.237] by nm2.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 17:23:59 -0000
Received: from [121.101.151.235] by tm2.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 17:24:03 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 17 Mar 2011 17:24:10 -0000
X-Yahoo-Newman-Id: 496729.81145.bm@omp1004.mail.in.yahoo.com
Received: (qmail 87655 invoked from network); 17 Mar 2011 17:24:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=dBBOtYR38di3eWYR1Pk2xrvEtQnEcUxvmC8KnbQuIG1x089qpzzYqMpdlVtpNhyvXdouSAnCfPsCDHX3cw4Znam2zFK4O3ubRK3r9WkywR7VcBxT0Z6GPDKmM2E/p+DC4ihVn6JGkLJOsvNHz0V3Prk2ICO4Y3Yhgq1tkqH3RQw=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1300382650; bh=mT7EYEb54cabKZDwYBr+g9qoNF67S4ENXWK4jUajEPs=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=DTrZMQ8N2t6u5/sz7+peW6Z34dWd8KuZ744vWLFMd5LHbi4x8wuMIlTkMjgdLJRzViJQpCyW5GQgXZ4XUiVmYWD5ik+EiG7xh5YSL/HOJ53Np1zmHYsvApG6Ry+NsPZ8+tVHTTSZvC+5KNqzIxA5O9mcbSGBO+5+aWVTjDDNCZA=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 17 Mar 2011 22:54:10 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: VeH1GXYVM1m6fVUlL1DucIDeMdqFff5iUL10r2QXjNW6Fgb
 3mhpSik6PEAMbjA_tf4S_gq5T5AxgRR51kacuheT8cx5cVVcTULFs9RpIubX
 Lzr0W4qbXsmXYlqxlk5bSQl.3iN0vAMGQNBZxAt_Ng3_UcZGaps9d3asdibE
 kse4YbkWy6f8ONGH0a001.Fe8CRvdXEBTLY7CYwR2eM80XHCUjE7X67cU1iB
 6u5ngHcY5o8P.CkcgoH3DseOXq7kZG.XnGplo4eQhRpNZWDI86A--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com><DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com><A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com> <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com>
Subject: Re: ParallelMultisearcher
Date: Thu, 17 Mar 2011 22:54:08 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

I agree but the chang logs of 3.0.3 didn't mention about that. I tested =
and found that the same problem exists with 3.0.3. I am bit confused.
http://lucene.apache.org/java/3_0_3/changes/Changes.html

This is show stopper for us as few customers facing big problems. The =
application is crashing frequently.

Regards
Ganesh

----- Original Message -----=20
From: "Devon H. O'Dell" <devon.odell@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 17, 2011 10:35 PM
Subject: Re: ParallelMultisearcher


> 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
>> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got =
fixed in 3.0.3?
>=20
> The linked ticket shows that it was fixed in 3.0.3.
>=20
> --dho
>=20
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Ganesh" <emailgane@yahoo.co.in>
>> To: <java-user@lucene.apache.org>
>> Sent: Thursday, March 17, 2011 7:03 PM
>> Subject: Re: ParallelMultisearcher
>>
>>
>> I tested the same with Lucene 2.9.1 and found very less thread count =
but with 3.0.2 it is very high. Do i need to revert back to Lucene =
2.9.1.
>>
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Ganesh" <emailgane@yahoo.co.in>
>> To: <java-user@lucene.apache.org>
>> Sent: Thursday, March 17, 2011 5:17 PM
>> Subject: ParallelMultisearcher
>>
>>
>> Hello all,
>>
>> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we =
search more frequently then OutOfMemoryError is triggered or It is =
throwing "Not able to create native thread".. It is working with 2.9.1.
>>
>> I generated Heap Dump and found lot of entries for =
ParallelMultiSearcher.
>>
>> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 =
192
>> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 =
192
>> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 =
192
>> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 =
192
>> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 =
192
>> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 =
192
>> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 =
192
>> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 =
192
>>
>> Regards
>> Ganesh
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:58:11 2011
Return-Path: <java-user-return-49042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32568 invoked from network); 17 Mar 2011 17:58:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:58:10 -0000
Received: (qmail 29568 invoked by uid 500); 17 Mar 2011 17:58:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29506 invoked by uid 500); 17 Mar 2011 17:58:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 88873 invoked by uid 99); 17 Mar 2011 15:41:20 -0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rafal.lenarczyk.98@gmail.com designates 209.85.215.176 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=bSSdWnJMNZ8AVpwgPSSj2EUY4WQXQTomHqhNDTDMjaU=;
        b=arOUNBAro9ARjVTaY9WbFTtnouvMweYA2KDgFhsHcid8SvSisdaSU1juo6sHX/NQYh
         dpQ9LwR7Ie8cp1GZYJa8O3VzNLika1kvLrZUxq9piUHeNP/KQHdG/2biOpAe/nDfwxyN
         rg8vsIvSv34JkbSqa8rXygQo9za0HFUqlRpMw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=fFAplyitJQZOB2TJiyePVvE5YF+XTXLEvQzSow84RYNVnTrY5LFRNNu4pWXmBzU5tU
         ZSqCAOJvLhge3MElRDlK5E9QDJg+qx4oKfX7Eftag4Mw02fvHObnC7cHlO3eH/3Nt3hs
         HDc+eTGYgaivdsqDe4Qt+0Z361S2R1aauiBd8=
MIME-Version: 1.0
Date: Thu, 17 Mar 2011 16:40:52 +0100
Message-ID: <AANLkTikxYXgnmu1gXdYfT+UyTUcNBezycqjnFby7Oo4H@mail.gmail.com>
Subject: lucene
From: =?ISO-8859-2?Q?Rafa=B3_Lenarczyk?= <rafal.lenarczyk.98@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174c0fe88495cf049eaf7c97
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c0fe88495cf049eaf7c97
Content-Type: text/plain; charset=ISO-8859-1

Hy,
This mail should be written by developers.

I'm java developer and use your product in my application.
I use special QueryParser like MultiFieldQueryParser
I use static method parse where I must set lucene Version, string tab with
queries, string tab with field, string tab with flags and analyzer:
MultiFieldQueryParser.parse(Version matchVersion, String[] queries, String[]
fields, BooleanClause.Occur[] flags, Analyzer analyzer) throws
ParseException;

This implementation has one parameter analyzer, and I have differents fields
for example person name, person sname or person id sometimes.
I want use KeywordAnalyzer  to person id and other Analyzer to person name
and sname.
I wrote my specjal MultiFieldQueryParser.parse:

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.BooleanClause;
import org.apache.lucene.search.BooleanQuery;
import org.apache.lucene.search.Query;
import org.apache.lucene.util.Version;

public class MyMultifieldQueryParser {

    public static Query parse(Version matchVersion, String[] queries,
String[] fields, BooleanClause.Occur[] flags, Analyzer[] analyzers) throws
ParseException {
        if (!(queries.length == fields.length && queries.length ==
flags.length))
            throw new IllegalArgumentException("queries, fields, and flags
array have have different length");
        BooleanQuery bQuery = new BooleanQuery();
        for (int i = 0; i < fields.length; i++) {
            QueryParser qp = new QueryParser(matchVersion, fields[i],
analyzers[i]); //---------------------------this was changed
            Query q = qp.parse(queries[i]);
            if (q!=null && // q never null, just being defensive
                    (!(q instanceof BooleanQuery) ||
((BooleanQuery)q).getClauses().length>0)) {
                bQuery.add(q, flags[i]);
            }
        }
        return bQuery;
    }
}

I think It is good idea and You can add in your new release.

Regards,
Rafal Lenarczyk

--0015174c0fe88495cf049eaf7c97--

From java-user-return-49043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 17:58:13 2011
Return-Path: <java-user-return-49043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32634 invoked from network); 17 Mar 2011 17:58:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 17:58:13 -0000
Received: (qmail 30342 invoked by uid 500); 17 Mar 2011 17:58:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30278 invoked by uid 500); 17 Mar 2011 17:58:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30242 invoked by uid 99); 17 Mar 2011 17:58:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:58:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 17:58:03 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 5A7E5D36006
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 18:57:41 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8gb4JD49Eu-N for <java-user@lucene.apache.org>;
	Thu, 17 Mar 2011 18:57:36 +0100 (CET)
Received: from VEGA (port-92-196-36-23.dynamic.qsc.de [92.196.36.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id E47B4D36005
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 18:57:35 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com><DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com><A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com> <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com> <80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com>
In-Reply-To: <80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com>
Subject: RE: ParallelMultisearcher
Date: Thu, 17 Mar 2011 18:57:39 +0100
Message-ID: <00c901cbe4cc$cee2ea30$6ca8be90$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQH/TOQNW7m2U7zxhGYu8HDOm4C7UAHCtjn4AhWoh0IBv6JbBgLwp9Uxk4a5rtA=
Content-Language: de

Hi Ganesh, It's definitely in 3.0.3:

  @Override
  public void close() throws IOException {
    executor.shutdown();
    super.close();
  }

This code is in the downloaded .src.zip file of Apache Lucene 3.0.3. Are you
sure that you call close() on the ParallelMultiSearcher (e.g. when you are
done with it or reopen your indexes)? In contrast to Lucene 2.9, PMS uses
Java 5's Executors to manage thread pools of workers. The threads are only
shutdown on ParallelMultiSearcher.close().

The entry is missing in Changes.txt, it somehow was merged with the other
PMS issue there, that was my fault, sorry (I am the release manager of 2.9
and 3.0).

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Ganesh [mailto:emailgane@yahoo.co.in]
> Sent: Thursday, March 17, 2011 6:24 PM
> To: java-user@lucene.apache.org
> Subject: Re: ParallelMultisearcher
> 
> I agree but the chang logs of 3.0.3 didn't mention about that. I tested
and
> found that the same problem exists with 3.0.3. I am bit confused.
> http://lucene.apache.org/java/3_0_3/changes/Changes.html
> 
> This is show stopper for us as few customers facing big problems. The
> application is crashing frequently.
> 
> Regards
> Ganesh
> 
> ----- Original Message -----
> From: "Devon H. O'Dell" <devon.odell@gmail.com>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, March 17, 2011 10:35 PM
> Subject: Re: ParallelMultisearcher
> 
> 
> > 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
> >> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got fixed
> in 3.0.3?
> >
> > The linked ticket shows that it was fixed in 3.0.3.
> >
> > --dho
> >
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Ganesh" <emailgane@yahoo.co.in>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Thursday, March 17, 2011 7:03 PM
> >> Subject: Re: ParallelMultisearcher
> >>
> >>
> >> I tested the same with Lucene 2.9.1 and found very less thread count
but
> with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
> >>
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Ganesh" <emailgane@yahoo.co.in>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Thursday, March 17, 2011 5:17 PM
> >> Subject: ParallelMultisearcher
> >>
> >>
> >> Hello all,
> >>
> >> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we
search
> more frequently then OutOfMemoryError is triggered or It is throwing "Not
> able to create native thread".. It is working with 2.9.1.
> >>
> >> I generated Heap Dump and found lot of entries for
ParallelMultiSearcher.
> >>
> >> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104 192
> >> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104 192
> >> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104 192
> >> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104 192
> >> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104 192
> >> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104 192
> >> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104 192
> >> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104 192
> >>
> >> Regards
> >> Ganesh
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 18:03:12 2011
Return-Path: <java-user-return-49044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59248 invoked from network); 17 Mar 2011 18:03:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 18:03:11 -0000
Received: (qmail 39232 invoked by uid 500); 17 Mar 2011 18:03:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39183 invoked by uid 500); 17 Mar 2011 18:03:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39175 invoked by uid 99); 17 Mar 2011 18:03:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 18:03:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 18:03:01 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id F0310D36006
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 19:02:40 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YDeHT4w3zikh for <java-user@lucene.apache.org>;
	Thu, 17 Mar 2011 19:02:36 +0100 (CET)
Received: from VEGA (port-92-196-36-23.dynamic.qsc.de [92.196.36.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id BC7E6D36005
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 19:02:35 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTikxYXgnmu1gXdYfT+UyTUcNBezycqjnFby7Oo4H@mail.gmail.com>
In-Reply-To: <AANLkTikxYXgnmu1gXdYfT+UyTUcNBezycqjnFby7Oo4H@mail.gmail.com>
Subject: RE: lucene
Date: Thu, 17 Mar 2011 19:02:39 +0100
Message-ID: <00cd01cbe4cd$817b2130$84716390$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-2"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQI+2wfd6H6ieIwyalCiDYSZkcuHUpNL5MyQ
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Why not use PerFieldAnalyzerWrapper to provide the same thing and that's
already available?

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Rafa=B3 Lenarczyk [mailto:rafal.lenarczyk.98@gmail.com]
> Sent: Thursday, March 17, 2011 4:41 PM
> To: java-user@lucene.apache.org
> Subject: lucene
>=20
> Hy,
> This mail should be written by developers.
>=20
> I'm java developer and use your product in my application.
> I use special QueryParser like MultiFieldQueryParser I use static =
method
> parse where I must set lucene Version, string tab with queries, string =
tab
> with field, string tab with flags and analyzer:
> MultiFieldQueryParser.parse(Version matchVersion, String[] queries,
String[]
> fields, BooleanClause.Occur[] flags, Analyzer analyzer) throws
> ParseException;
>=20
> This implementation has one parameter analyzer, and I have differents
fields
> for example person name, person sname or person id sometimes.
> I want use KeywordAnalyzer  to person id and other Analyzer to person
> name and sname.
> I wrote my specjal MultiFieldQueryParser.parse:
>=20
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.queryParser.ParseException;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.BooleanClause;
> import org.apache.lucene.search.BooleanQuery;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.util.Version;
>=20
> public class MyMultifieldQueryParser {
>=20
>     public static Query parse(Version matchVersion, String[] queries,
String[]
> fields, BooleanClause.Occur[] flags, Analyzer[] analyzers) throws
> ParseException {
>         if (!(queries.length =3D=3D fields.length && queries.length =
=3D=3D
> flags.length))
>             throw new IllegalArgumentException("queries, fields, and =
flags
array
> have have different length");
>         BooleanQuery bQuery =3D new BooleanQuery();
>         for (int i =3D 0; i < fields.length; i++) {
>             QueryParser qp =3D new QueryParser(matchVersion, =
fields[i],
> analyzers[i]); //---------------------------this was changed
>             Query q =3D qp.parse(queries[i]);
>             if (q!=3Dnull && // q never null, just being defensive
>                     (!(q instanceof BooleanQuery) ||
> ((BooleanQuery)q).getClauses().length>0)) {
>                 bQuery.add(q, flags[i]);
>             }
>         }
>         return bQuery;
>     }
> }
>=20
> I think It is good idea and You can add in your new release.
>=20
> Regards,
> Rafal Lenarczyk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 18:09:25 2011
Return-Path: <java-user-return-49045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85806 invoked from network); 17 Mar 2011 18:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 18:09:24 -0000
Received: (qmail 52190 invoked by uid 500); 17 Mar 2011 18:09:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52142 invoked by uid 500); 17 Mar 2011 18:09:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52134 invoked by uid 99); 17 Mar 2011 18:09:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 18:09:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.239] (HELO nm1.bullet.mail.in.yahoo.com) (121.101.151.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Mar 2011 18:09:16 +0000
Received: from [121.101.151.237] by nm1.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 18:08:53 -0000
Received: from [121.101.151.235] by tm2.bullet.mail.in.yahoo.com with NNFMP; 17 Mar 2011 18:08:46 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 17 Mar 2011 18:08:53 -0000
X-Yahoo-Newman-Id: 503216.15140.bm@omp1004.mail.in.yahoo.com
Received: (qmail 27892 invoked from network); 17 Mar 2011 18:08:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=XNzARjMUmIaR61OD5dM16cuXcmpmY1Awkh+r+7SSyhSUwf3MXZtjmrBc7xjBmCBpio5RXKlidx/foS2tPbe7ugk6v9wGKZGihtCN23rwjyGJO9tg0uVXFsf1tpf50Q2rZavg06/ebytNXrqzXHDHRbxWs85YxCMw2Bkyam89vPw=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1300385333; bh=qcoFOKk58HtjNj9rQ1vSjSW2JiO1AMfxhFTnKNQc4xc=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=3dRQkM2PHPjCfhGc0A4BL908nz+h6FImd7zcnLKmwh7PGFF/QvcZgvh3K4BzeDsC86NnZwh1Wb2+kRgZSCyILGmXleG5n+oQNSUw1zosj0H6V/KrOpyJROFHEOAHdoRpUix+sSFwfkTQFvbyZjYY1/Z+VclTmw3z//Wi41JI+Y4=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp107.mail.in.yahoo.com with SMTP; 17 Mar 2011 23:38:53 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: isc_bPEVM1nUn5lKF9lg0lUhgXwkFRavckJQzUnFsxHz.N7
 M9QELx2z3NbaYV7bVX8diexouajg7fkBvWmz28lUbvHglUP4KgLgqNpNtzdS
 EC.MSD2z58LQK64_G6blqRN9kj6nw3fHm8FaRJ5abH60UwPSQbhlchNA6ZM3
 4Vtp7TmCRRUTS4aAyS2FzWQVRiAeIwFsIXagtDGwUZxymXuEn_11jenXOErU
 j.8o_GbmLIv_msauYy4oWrVuEXqWnxWHuXbWVxm8roRlIk_CIwg--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <5DA406C49994421AA358BC16B8018C22@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com><DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com><A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com> <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com> <80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com> <00c901cbe4cc$cee2ea30$6ca8be90$@thetaphi.de>
Subject: Re: RE: ParallelMultisearcher
Date: Thu, 17 Mar 2011 23:38:51 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

There is no ParallelMultiSearcher.close() in 2.9.1 and its been added in =
3.0. Thanks for pointing out. I am not aware of.

Regards
Ganesh

----- Original Message -----=20
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 17, 2011 11:27 PM
Subject: [Bulk] RE: ParallelMultisearcher


> Hi Ganesh, It's definitely in 3.0.3:
>=20
>  @Override
>  public void close() throws IOException {
>    executor.shutdown();
>    super.close();
>  }
>=20
> This code is in the downloaded .src.zip file of Apache Lucene 3.0.3. =
Are you
> sure that you call close() on the ParallelMultiSearcher (e.g. when you =
are
> done with it or reopen your indexes)? In contrast to Lucene 2.9, PMS =
uses
> Java 5's Executors to manage thread pools of workers. The threads are =
only
> shutdown on ParallelMultiSearcher.close().
>=20
> The entry is missing in Changes.txt, it somehow was merged with the =
other
> PMS issue there, that was my fault, sorry (I am the release manager of =
2.9
> and 3.0).
>=20
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>=20
>=20
>> -----Original Message-----
>> From: Ganesh [mailto:emailgane@yahoo.co.in]
>> Sent: Thursday, March 17, 2011 6:24 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: ParallelMultisearcher
>>=20
>> I agree but the chang logs of 3.0.3 didn't mention about that. I =
tested
> and
>> found that the same problem exists with 3.0.3. I am bit confused.
>> http://lucene.apache.org/java/3_0_3/changes/Changes.html
>>=20
>> This is show stopper for us as few customers facing big problems. The
>> application is crashing frequently.
>>=20
>> Regards
>> Ganesh
>>=20
>> ----- Original Message -----
>> From: "Devon H. O'Dell" <devon.odell@gmail.com>
>> To: <java-user@lucene.apache.org>
>> Sent: Thursday, March 17, 2011 10:35 PM
>> Subject: Re: ParallelMultisearcher
>>=20
>>=20
>> > 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
>> >> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got =
fixed
>> in 3.0.3?
>> >
>> > The linked ticket shows that it was fixed in 3.0.3.
>> >
>> > --dho
>> >
>> >> Regards
>> >> Ganesh
>> >>
>> >> ----- Original Message -----
>> >> From: "Ganesh" <emailgane@yahoo.co.in>
>> >> To: <java-user@lucene.apache.org>
>> >> Sent: Thursday, March 17, 2011 7:03 PM
>> >> Subject: Re: ParallelMultisearcher
>> >>
>> >>
>> >> I tested the same with Lucene 2.9.1 and found very less thread =
count
> but
>> with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
>> >>
>> >> Regards
>> >> Ganesh
>> >>
>> >> ----- Original Message -----
>> >> From: "Ganesh" <emailgane@yahoo.co.in>
>> >> To: <java-user@lucene.apache.org>
>> >> Sent: Thursday, March 17, 2011 5:17 PM
>> >> Subject: ParallelMultisearcher
>> >>
>> >>
>> >> Hello all,
>> >>
>> >> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If =
we
> search
>> more frequently then OutOfMemoryError is triggered or It is throwing =
"Not
>> able to create native thread".. It is working with 2.9.1.
>> >>
>> >> I generated Heap Dump and found lot of entries for
> ParallelMultiSearcher.
>> >>
>> >> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 =
104 192
>> >> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 =
104 192
>> >> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 =
104 192
>> >> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 =
104 192
>> >> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 =
104 192
>> >> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 =
104 192
>> >> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 =
104 192
>> >> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 =
104 192
>> >>
>> >> Regards
>> >> Ganesh
>> >>
>> >> =
---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >> =
---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >> =
---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>> > =
---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 18:39:07 2011
Return-Path: <java-user-return-49046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86827 invoked from network); 17 Mar 2011 18:39:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 18:39:07 -0000
Received: (qmail 7787 invoked by uid 500); 17 Mar 2011 18:39:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7749 invoked by uid 500); 17 Mar 2011 18:39:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7741 invoked by uid 99); 17 Mar 2011 18:39:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 18:39:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 18:38:58 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 5939ED36006
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 19:38:38 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fmrRkyHRNpqW for <java-user@lucene.apache.org>;
	Thu, 17 Mar 2011 19:38:33 +0100 (CET)
Received: from VEGA (port-92-196-36-23.dynamic.qsc.de [92.196.36.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 0F2F7D36005
	for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 19:38:33 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com><DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com><A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com> <AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com> <80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com> <00c901cbe4cc$cee2ea30$6ca8be90$@thetaphi.de> <5DA406C49994421AA358BC16B8018C22@sv.us.sonicwall.com>
In-Reply-To: <5DA406C49994421AA358BC16B8018C22@sv.us.sonicwall.com>
Subject: RE: RE: ParallelMultisearcher
Date: Thu, 17 Mar 2011 19:38:36 +0100
Message-ID: <00d401cbe4d2$87356680$95a03380$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQH/TOQNW7m2U7zxhGYu8HDOm4C7UAHCtjn4AhWoh0IBv6JbBgLwp9UxAgDyRocCQ3VLlpNkoeVA
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ganesh,

this method is also in 2.9.1, it is just inherited from the superclass! You
have to also look at the complete javadocs. Not every method that needs to
be called must be already implemented in the used class. For PMS in 2.9 it's
just not fatal to not close it, but you should call it:
http://lucene.apache.org/java/2_9_1/api/core/org/apache/lucene/search/MultiS
earcher.html#close() 

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Ganesh [mailto:emailgane@yahoo.co.in]
> Sent: Thursday, March 17, 2011 7:09 PM
> To: java-user@lucene.apache.org
> Subject: Re: RE: ParallelMultisearcher
> 
> There is no ParallelMultiSearcher.close() in 2.9.1 and its been added in
3.0.
> Thanks for pointing out. I am not aware of.
> 
> Regards
> Ganesh
> 
> ----- Original Message -----
> From: "Uwe Schindler" <uwe@thetaphi.de>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, March 17, 2011 11:27 PM
> Subject: [Bulk] RE: ParallelMultisearcher
> 
> 
> > Hi Ganesh, It's definitely in 3.0.3:
> >
> >  @Override
> >  public void close() throws IOException {
> >    executor.shutdown();
> >    super.close();
> >  }
> >
> > This code is in the downloaded .src.zip file of Apache Lucene 3.0.3. Are
you
> > sure that you call close() on the ParallelMultiSearcher (e.g. when you
are
> > done with it or reopen your indexes)? In contrast to Lucene 2.9, PMS
uses
> > Java 5's Executors to manage thread pools of workers. The threads are
only
> > shutdown on ParallelMultiSearcher.close().
> >
> > The entry is missing in Changes.txt, it somehow was merged with the
other
> > PMS issue there, that was my fault, sorry (I am the release manager of
2.9
> > and 3.0).
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> >> -----Original Message-----
> >> From: Ganesh [mailto:emailgane@yahoo.co.in]
> >> Sent: Thursday, March 17, 2011 6:24 PM
> >> To: java-user@lucene.apache.org
> >> Subject: Re: ParallelMultisearcher
> >>
> >> I agree but the chang logs of 3.0.3 didn't mention about that. I tested
> > and
> >> found that the same problem exists with 3.0.3. I am bit confused.
> >> http://lucene.apache.org/java/3_0_3/changes/Changes.html
> >>
> >> This is show stopper for us as few customers facing big problems. The
> >> application is crashing frequently.
> >>
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Devon H. O'Dell" <devon.odell@gmail.com>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Thursday, March 17, 2011 10:35 PM
> >> Subject: Re: ParallelMultisearcher
> >>
> >>
> >> > 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
> >> >> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got
> fixed
> >> in 3.0.3?
> >> >
> >> > The linked ticket shows that it was fixed in 3.0.3.
> >> >
> >> > --dho
> >> >
> >> >> Regards
> >> >> Ganesh
> >> >>
> >> >> ----- Original Message -----
> >> >> From: "Ganesh" <emailgane@yahoo.co.in>
> >> >> To: <java-user@lucene.apache.org>
> >> >> Sent: Thursday, March 17, 2011 7:03 PM
> >> >> Subject: Re: ParallelMultisearcher
> >> >>
> >> >>
> >> >> I tested the same with Lucene 2.9.1 and found very less thread count
> > but
> >> with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
> >> >>
> >> >> Regards
> >> >> Ganesh
> >> >>
> >> >> ----- Original Message -----
> >> >> From: "Ganesh" <emailgane@yahoo.co.in>
> >> >> To: <java-user@lucene.apache.org>
> >> >> Sent: Thursday, March 17, 2011 5:17 PM
> >> >> Subject: ParallelMultisearcher
> >> >>
> >> >>
> >> >> Hello all,
> >> >>
> >> >> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If we
> > search
> >> more frequently then OutOfMemoryError is triggered or It is throwing
> "Not
> >> able to create native thread".. It is working with 2.9.1.
> >> >>
> >> >> I generated Heap Dump and found lot of entries for
> > ParallelMultiSearcher.
> >> >>
> >> >> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 104
> 192
> >> >> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 104
> 192
> >> >> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 104
> 192
> >> >> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 104
> 192
> >> >> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 104
> 192
> >> >> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 104
> 192
> >> >> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 104
> 192
> >> >> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 104
> 192
> >> >>
> >> >> Regards
> >> >> Ganesh
> >> >>
> >> >>
---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >>
---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >>
---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >
> >> > ---------------------------------------------------------------------
> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 20:33:17 2011
Return-Path: <java-user-return-49047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54479 invoked from network); 17 Mar 2011 20:33:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 20:33:17 -0000
Received: (qmail 87770 invoked by uid 500); 17 Mar 2011 20:33:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87728 invoked by uid 500); 17 Mar 2011 20:33:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87720 invoked by uid 99); 17 Mar 2011 20:33:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 20:33:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.42] (HELO mail-ww0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 20:33:08 +0000
Received: by wwk4 with SMTP id 4so482297wwk.5
        for <java-user@lucene.apache.org>; Thu, 17 Mar 2011 13:32:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.173.66 with SMTP id o2mr204966wbz.182.1300393968379; Thu,
 17 Mar 2011 13:32:48 -0700 (PDT)
Received: by 10.227.10.85 with HTTP; Thu, 17 Mar 2011 13:32:48 -0700 (PDT)
In-Reply-To: <47316FE3F6BA0D4DADF99663512552680AF5F4F359@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF5F4F359@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Date: Thu, 17 Mar 2011 16:32:48 -0400
Message-ID: <AANLkTinE2ihXuYeBzcPEfXKjH4OKsnrv7ZY67EXfW23f@mail.gmail.com>
Subject: Re: Understanding the IndexWriter-Infostream log
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: "Burton-West, Tom" <tburtonw@umich.edu>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Tom,

Answers below...

On Thu, Mar 17, 2011 at 1:19 PM, Burton-West, Tom <tburtonw@umich.edu> wrot=
e:
> Hello all,
>
> We have very large documents with large numbers of unique terms. =A0 Our =
documents average about 800,000 KB and about 200,000 tokens. =A0In trying t=
o understand how often the ramBuffer gets flushed to disk we turned on the =
IndexWriter log.
> <infoStream file=3D"/tmp/IndexWriter.log">true</infoStream>
>
> With the Solr default setting of ramBufferSizeMB=3D32 it appears that the=
 buffer is flushing every 2-10 documents.
>
> When we see this in the IndexWriter log: "flush postings as segment _9hw =
numDocs=3D2", =A0does this mean that the buffer is writing a segment that c=
ontains only 2 documents?

Yes.

> Also how do we interpret the following?
>
> "DW: =A0 ramUsed=3D33.467 MB newFlushedSize=3D6764406 docs/MB=3D0.155 new=
/old=3D19.276%"
>
> What does "docs/MB" and 'new/old" mean?

docs/MB is docCount divided by size of the newly flushed segment's size in =
MB.

new/old measures "RAM efficiency", ie size of the flushed segment
divided by RAM consumed before the flush.  In this case IndexWriter
flushed because the RAM buffer hit 33.467 MB, but then the newly
flushed segment was 6.45 MB (=3D 6764406 / 1024 / 1024).  This number is
expected to be well below 100%, ie, we pay a price to have the
malleable data structures in RAM that allow for incoming docs to be
inverted... though a "good" number is maybe 30%.  The more unique
terms you have the lower this number will be...

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 17 23:21:36 2011
Return-Path: <java-user-return-49048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83122 invoked from network); 17 Mar 2011 23:21:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Mar 2011 23:21:36 -0000
Received: (qmail 27791 invoked by uid 500); 17 Mar 2011 23:21:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27756 invoked by uid 500); 17 Mar 2011 23:21:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27742 invoked by uid 99); 17 Mar 2011 23:21:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 23:21:33 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2011 23:21:26 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <mail@avomberg.de>)
	id 1Q0MV7-0000Z2-Dy
	for java-user@lucene.apache.org; Thu, 17 Mar 2011 16:21:05 -0700
Date: Thu, 17 Mar 2011 16:21:05 -0700 (PDT)
From: Alex vB <mail@avomberg.de>
To: java-user@lucene.apache.org
Message-ID: <1300404065426-2695817.post@n3.nabble.com>
Subject: Lucene 4.0 Payloads
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello everybody,

I am currently experimenting with Lucene 4.0 and would like to add payloads.
Payload should only be added once per term on the first position. My current
code looks like this:

public final boolean incrementToken() throws java.io.IOException {
   String term = characterAttr.toString();
    
      if (!input.incrementToken()) {
         return false;
      }
    
      // hmh contains all terms for one document
      if(hmh.checkKey(term)){ //  check if hashmap contains term
    		  Payload payload = new Payload(hmh.getCompressedData(term)); //get
payload data
    		  payloadAttr.setPayload(payload); // add payload
    		  hmh.removeFromIndexingMap(term);	// remove term from hashmap
      }
  
      return true;
    }

Is this a correct way for adding payloads in Lucene 4.0? When I try to
receive payloads I am not getting payload on the first position. For getting
payloads I use this:

        DocsAndPositionsEnum tp = MultiFields.getTermPositionsEnum(ir,       
                                MultiFields.getDeletedDocs(ir), fieldName,
new BytesRef(searchString));
        
        while (tp.nextDoc() != tp.NO_MORE_DOCS) {
			if (tp.hasPayload() && counter < 10) {
				Document doc = ir.document(tp.docID());
				BytesRef br = tp.getPayload();
				System.out.println("Found payload \"" + br.utf8ToString() + "\" for
document " +  
                                              tp.docID() + " and query " +
searchString +  " in country " +  
                                              doc.get("country"));
			}
		}

As far as I know there are two possibilities to use payloads
1) During similarity scoring
2) During search

Is there a better/faster way to receive payloads during search? Is it
possible to run a normal query and read the payloads from hits? Is 1 or 2
the faster way to use payloads? Can I find somewhere example code for Lucene
and loading payloads?

Regards
Alex

--
View this message in context: http://lucene.472066.n3.nabble.com/Lucene-4-0-Payloads-tp2695817p2695817.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 18 08:28:03 2011
Return-Path: <java-user-return-49049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34900 invoked from network); 18 Mar 2011 08:28:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Mar 2011 08:28:03 -0000
Received: (qmail 93593 invoked by uid 500); 18 Mar 2011 08:28:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93494 invoked by uid 500); 18 Mar 2011 08:28:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93486 invoked by uid 99); 18 Mar 2011 08:27:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2011 08:27:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pierre.gosse@arisem.com designates 195.68.26.146 as permitted sender)
Received: from [195.68.26.146] (HELO mail.arisem.com) (195.68.26.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2011 08:27:54 +0000
Received: from enodios.ARISEM.COM (192.168.1.105) by enodios.arisem.com
 (192.168.1.254) with Microsoft SMTP Server (TLS) id 14.1.289.1; Fri, 18 Mar
 2011 09:27:20 +0100
Received: from enodios.ARISEM.COM ([192.168.1.105]) by enodios.ARISEM.COM
 ([192.168.1.105]) with mapi; Fri, 18 Mar 2011 09:27:20 +0100
From: Pierre GOSSE <pierre.gosse@arisem.com>
To: java-user <java-user@lucene.apache.org>
Date: Fri, 18 Mar 2011 09:27:18 +0100
Subject: RE: Re:RE: About highlighter
Thread-Topic: Re:RE: About highlighter
Thread-Index: AcvlNjv1/NVw9GD5QR2709cml1yL9QAD/MaQ
Message-ID: <4A1AC1E08A1A4A438C4E4502E73AFC744A0A5351E7@enodios.ARISEM.COM>
References: <tencent_5BA29CF45832139E6153498C@qq.com>
In-Reply-To: <tencent_5BA29CF45832139E6153498C@qq.com>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: fr-FR, en-US
Content-Type: multipart/alternative;
	boundary="_000_4A1AC1E08A1A4A438C4E4502E73AFC744A0A5351E7enodiosARISEM_"
MIME-Version: 1.0

--_000_4A1AC1E08A1A4A438C4E4502E73AFC744A0A5351E7enodiosARISEM_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

Rm9yIHlvdXIgZmllbGQgY29uZmlndXJhdGlvbiwgdGhlIFRva2VuU3RyZWFtIHlvdSBnZXQgd2l0
aCBnZXRBbnlUb2tlblN0cmVhbSBpcyBidWlsdCBmcm9tIFRlcm1WZWN0b3JzLg0KDQpXaGF0IHRv
a2VuaXplciBkbyB5b3UgdXNlIGZvciBwb3B1bGF0aW5nIHlvdXIgZmllbGQgPyBIYXZlIHlvdSBj
aGVjayB3aXRoIGx1a2UgdGhhdCB5b3VyIHRlcm0gdmVjdG9ycyBhcmUgT2sgPw0KDQpBbmQgd2hh
dCB2ZXJzaW9uIG9mIGx1Y2VuZSA/IEEgY2hhbmdlIHdhcyBtYWRlIG9uIHRoaXMgY29kZSByZWNl
bnRseSwgZm9yIGFub3RoZXIgaXNzdWUgKGFwcGFyZW50bHkgdW5yZWxhdGVkLCBidXQgd2hvIGtu
b3dzID8pIFNlZSBodHRwczovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS0y
ODc0DQoNClBpZXJyZQ0KDQoNCkRlIDogQ2VzY3kgW21haWx0bzplZTA3YjM4MUBnbWFpbC5jb21d
DQpFbnZvecOpIDogdmVuZHJlZGkgMTggbWFycyAyMDExIDA3OjMyDQrDgCA6IGphdmEtdXNlcjsg
UGllcnJlIEdPU1NFDQpPYmpldCA6IFJlOlJFOiBBYm91dCBoaWdobGlnaHRlcg0KDQoNCiBZZXMs
IEkgb25seSBzZWFyY2ggdGhlICJjb250ZW50cyIgZmllbGQuIEFuZCBJIGNhbiBwcmludCB0aGUg
d2hvbGUgY29udGVudHMgYnkgZG9jLmdldCgiY29udGVudHMiKSBpZiB0aGVyZSBhcmUgYW55IGtl
eXdvcmRzIGluIGl0LiBBbmQgaWYgdGhlIG51bWJlciBvZiB3b3JkcyBpcyB0b28gbGFyZ2UsIGl0
IGlzIGNhbm5vdCBoaWdobGlnaHQgdGhlIGtleXdvcmRzIGF0IGVuZCBwYXJ0IG9mIHRoZSBjb250
ZW50cywgYXMgaWYgaGlnaGxpZ2h0IGhhdmUgYSB3b3JkIGxpbWl0YXRpb24uDQoNCmRvY3VtZW50
LmFkZCggbmV3IEZpZWxkKCAiY29udGVucyIsIHZhbHVlLCBGaWVsZC5TdG9yZS5ZRVMsIEZpZWxk
LkluZGV4LkFOQUxZWkVELCBGaWVsZC5UZXJtVmVjdG9yLldJVEhfUE9TSVRJT05TX09GRlNFVFMg
KSApOw0KDQogVGh4DQogR29uZw0KDQotLS0tLS0tLS0tLS0tLS0tLS0gT3JpZ2luYWwgLS0tLS0t
LS0tLS0tLS0tLS0tDQpGcm9tOiAgIlBpZXJyZSBHT1NTRSI8cGllcnJlLmdvc3NlQGFyaXNlbS5j
b20+Ow0KRGF0ZTogIFRodSwgTWFyIDE3LCAyMDExIDA0OjI1IFBNDQpUbzogICJqYXZhLXVzZXJA
bHVjZW5lLmFwYWNoZS5vcmciPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47DQpTdWJqZWN0
OiAgUkU6IEFib3V0IGhpZ2hsaWdodGVyDQoNCjUwMCBpcyB0aGUgbWF4IHNpemUgb2YgdGV4dCBm
cmFnbWVudHMgdG8gYmUgcmV0dXJuZWQgYnkgaGlnaGxpZ2h0LiBJdCBzaG91bGRuJ3QgYmUgdGhl
IHByb2JsZW0gaGVyZSwgYXMgZmFyIGFzIEkgdW5kZXJzdGFuZCBoaWdobGlnaHQuDQoNCkdvbmcg
bGksIGhvdyBpcyBkZWZpbmVkIHRoZSBmaWVsZCAiY29udGVudHMiID8gSXMgaXQgdGhlIG9ubHkg
ZmllbGQgb24gd2hpY2ggdGhlIHNlYXJjaCBpcyBtYWRlID8NCg0KUGllcnJlDQoNCi0tLS0tTWVz
c2FnZSBkJ29yaWdpbmUtLS0tLQ0KRGUgOiBJYW4gTGVhIFttYWlsdG86aWFuLmxlYUBnbWFpbC5j
b21dDQpFbnZvecOpIDogbWVyY3JlZGkgMTYgbWFycyAyMDExIDIyOjI5DQrvv73vv70gOiBqYXZh
LXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCk9iamV0IDogUmU6IEFib3V0IGhpZ2hsaWdodGVyDQoN
Ckkga25vdyBub3RoaW5nIGFib3V0IGhpZ2hsaWdodGluZyBidXQgdGhhdCA1MDAgbG9va3MgbGlr
ZSBhIGdvb2QgcGxhY2UNCnRvIHN0YXJ0IGludmVzdGlnYXRpbmcuDQoNCg0KLS0NCklhbi4NCg0K
DQpPbiBUdWUsIE1hciAxNSwgMjAxMSBhdCA4OjQ3IFBNLCBDZXNjeSA8ZWUwN2IzODFAZ21haWwu
Y29tPiB3cm90ZToNCj4gSGksDQo+DQo+DQo+IE15IGhpZ2hsaWdodCBjb2RlIGlzIHNob3duIGFz
IGZvbGxvd2luZzoNCj4NCj4NCj4gIFF1ZXJ5U2NvcmVyIHNjb3JlciA9IG5ldyBRdWVyeVNjb3Jl
cihxdWVyeSk7DQo+ICBIaWdobGlnaHRlciBoaWdobGlnaHRlciA9IG5ldyBIaWdobGlnaHRlcihz
aW1wbGVIVE1MRm9ybWF0dGVyLCBzY29yZXIpOw0KPiAgaGlnaGxpZ2h0ZXIuc2V0VGV4dEZyYWdt
ZW50ZXIobmV3IFNpbXBsZVNwYW5GcmFnbWVudGVyKHNjb3JlciwgNTAwKSk7DQo+ICBTdHJpbmcg
Y29udGVudHMgPSBkb2MuZ2V0KCJjb250ZW50cyIpOw0KPiAgVG9rZW5TdHJlYW0gdG9rZW5TdHJl
YW0gPSBUb2tlblNvdXJjZXMuZ2V0QW55VG9rZW5TdHJlYW0oc2VhcmNoZXIuZ2V0SW5kZXhSZWFk
ZXIoKSwgdG9wRG9jcy5zY29yZURvY3NbaV0uZG9jLCAiY29udGVudHMiLCBkb2MsIGFuYWx5emVy
KTsNCj4gIFN0cmluZ1tdIHNuaXBwZXQgPSBoaWdobGlnaHRlci5nZXRCZXN0RnJhZ21lbnRzKHRv
a2VuU3RyZWFtLCBjb250ZW50cywgMTApOw0KPg0KPg0KPg0KPiBzbmlwcGV0IGlzIHRoZSByZXN1
bHQgY29udGV4dHMgYW5kIHRoZW4gSSB3aWxsIHByaW50IG91dCB0aGVtIG9uIHRoZSBzY3JlZW4u
DQo+IEJ1dCBJZiBJIG1heSBzZWFyY2ggZm9yIGEga2V5d29yZCBhdCB0aGUgbGFzdCBmZXcgcGFy
YWdyYXBoIGFuZCB0aGUgZXNzYXkgaXMgdG9vIGxvbmcgKDEwMDAtMjAwMCB3b3JkcyksIGl0IHdp
bGwgcmV0dXJuICJkb2N1bWVudCBmb3VuZCIgYW5kIHNuaXBwZXQuLmxlbmd0aD0wIChpLmUuIGRv
Y3VtZW50IGlzIGZvdW5kIGJ1dCBjb250ZXh0IGlzIE5PVCBmb3VuZCkuIFdoeT8/Pw0KPg0KPg0K
PiBIb3cgY291bGQgSSBmaXggdGhlIHByb2JsZW0/DQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJz
Y3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpG
b3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBh
Y2hlLm9yZw0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11
c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5k
cywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0K

--_000_4A1AC1E08A1A4A438C4E4502E73AFC744A0A5351E7enodiosARISEM_--

From java-user-return-49050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 18 19:30:36 2011
Return-Path: <java-user-return-49050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89945 invoked from network); 18 Mar 2011 19:30:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Mar 2011 19:30:36 -0000
Received: (qmail 55809 invoked by uid 500); 18 Mar 2011 19:30:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55724 invoked by uid 500); 18 Mar 2011 19:30:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 36293 invoked by uid 99); 18 Mar 2011 19:13:29 -0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of krjeschke@omniti.com designates 74.125.82.176 as permitted sender)
MIME-Version: 1.0
Date: Fri, 18 Mar 2011 15:13:03 -0400
Message-ID: <AANLkTi=iiXEqzCKqboqKAhffUALXwB_tR5Gf85xHThMi@mail.gmail.com>
Subject: Surge 2011 Conference CFP
From: Katherine Jeschke <krjeschke@omniti.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016367b6de22e63ef049ec69113

--0016367b6de22e63ef049ec69113
Content-Type: text/plain; charset=ISO-8859-1

We are excited to announce Surge 2011, the Scalability and Performance
Conference, to be held in Baltimore on Sept 28-30, 2011. The event focuses
on case studies that demonstrate successes (and failures) in Web
applications and Internet architectures. This year, we're adding Hack Day on
September 28th.

The inaugural, 2010 conference (http://omniti.com/surge/2010) was a smashing
success and we are currently accepting submissions for papers through April
3rd. You can find more information about topics online:

http://omniti.com/surge/2011

2010 attendees compared Surge to the early days of Velocity, and our
speakers received 3.5-4 out of 4 stars for quality of presentation and
quality of content! Nearly 90% of first-year attendees are planning to come
again in 2011.

For more information about the CFP or sponsorship of the event, please
contact us at surge (AT) omniti (DOT) com.

-- 
Katherine Jeschke
Marketing Director
OmniTI Computer Consulting, Inc.
7070 Samuel Morse Drive, Ste.150
Columbia, MD 21046
O: 410/872-4910, 222
C: 443/643-6140
omniti.com
circonus.com

--0016367b6de22e63ef049ec69113--

From java-user-return-49051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 18 21:16:53 2011
Return-Path: <java-user-return-49051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31326 invoked from network); 18 Mar 2011 21:16:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Mar 2011 21:16:53 -0000
Received: (qmail 83928 invoked by uid 500); 18 Mar 2011 21:16:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83880 invoked by uid 500); 18 Mar 2011 21:16:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83872 invoked by uid 99); 18 Mar 2011 21:16:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2011 21:16:51 +0000
X-ASF-Spam-Status: No, hits=3.9 required=5.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2011 21:16:43 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <madhuri_1820@yahoo.com>)
	id 1Q0h1y-0001jE-My
	for java-user@lucene.apache.org; Fri, 18 Mar 2011 14:16:22 -0700
From: madhuri_1820@yahoo.com
To: java-user@lucene.apache.org
Message-ID: <26537278.43027.1300482982706.JavaMail.nabble@ben.nabble.com>
Subject: Regarding MoreLikeThis similarity Search
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Date: Fri, 18 Mar 2011 14:16:22 -0700
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am new to lucene ... I have a question while implementing similarity search using MoreLikeThis query. I have written a small program but it is not giving any results. In my index file I have both strored and unstored(analyzed) fields.  

Sample Code :

IndexReader ir =  IndexReader.open(index directory path);
	    		IndexSearcher indexsearcher = new ProfileIndexSearcher(ir);
	    		IndexSearcher indexsearcher = new IndexSearcher(ir);
		    	MoreLikeThis mlt = new MoreLikeThis(ir);
		    	Analyzer analyzer = new StandardAnalyzer(Version.LUCENE_30);                    
	    		mlt.setAnalyzer(analyzer);
	    		mlt.setFieldNames(string_of_fields);
	    		
		    	Query query1 = mlt.like(1); // mlt.like(docnumber)
		    	TopDocs matches = null;
		    	matches = indexsearcher.search(query1,20); 

As per my understanding I should atleast one document as result. 

Is any one has idea what I can do to implement this serach.
Thanks in Advance.

--Madhu.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 19 00:49:47 2011
Return-Path: <java-user-return-49052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38736 invoked from network); 19 Mar 2011 00:49:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Mar 2011 00:49:47 -0000
Received: (qmail 72409 invoked by uid 500); 19 Mar 2011 00:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72373 invoked by uid 500); 19 Mar 2011 00:49:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72365 invoked by uid 99); 19 Mar 2011 00:49:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2011 00:49:45 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,T_FRT_ADULT2
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of koji@r.email.ne.jp designates 202.224.39.198 as permitted sender)
Received: from [202.224.39.198] (HELO mail2.asahi-net.or.jp) (202.224.39.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2011 00:49:37 +0000
Received: from Koji-Sekiguchi-no-MacBook-Pro.local (w244069.ppp.asahi-net.or.jp [121.1.244.69])
	by mail2.asahi-net.or.jp (Postfix) with ESMTP id 60CAEDC7D0
	for <java-user@lucene.apache.org>; Sat, 19 Mar 2011 09:49:15 +0900 (JST)
Message-ID: <4D83FD8B.9010708@r.email.ne.jp>
Date: Sat, 19 Mar 2011 09:49:15 +0900
From: Koji Sekiguchi <koji@r.email.ne.jp>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Regarding MoreLikeThis similarity Search
References: <26537278.43027.1300482982706.JavaMail.nabble@ben.nabble.com>
In-Reply-To: <26537278.43027.1300482982706.JavaMail.nabble@ben.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

(11/03/19 6:16), madhuri_1820@yahoo.com wrote:
> Hi,
>
> I am new to lucene ... I have a question while implementing similarity search using MoreLikeThis query. I have written a small program but it is not giving any results. In my index file I have both strored and unstored(analyzed) fields.
>
> Sample Code :
>
> IndexReader ir =  IndexReader.open(index directory path);
> 	    		IndexSearcher indexsearcher = new ProfileIndexSearcher(ir);
> 	    		IndexSearcher indexsearcher = new IndexSearcher(ir);
> 		    	MoreLikeThis mlt = new MoreLikeThis(ir);
> 		    	Analyzer analyzer = new StandardAnalyzer(Version.LUCENE_30);
> 	    		mlt.setAnalyzer(analyzer);
> 	    		mlt.setFieldNames(string_of_fields);
> 	    		
> 		    	Query query1 = mlt.like(1); // mlt.like(docnumber)
> 		    	TopDocs matches = null;
> 		    	matches = indexsearcher.search(query1,20);
>
> As per my understanding I should atleast one document as result.
>
> Is any one has idea what I can do to implement this serach.
> Thanks in Advance.
>
> --Madhu.

Hi Madhu,

Check query1 and compare what you expected:

Query query1 = mlt.like(1); // mlt.like(docnumber)
System.out.println(query1.toString());

And if it is not what you expected, check min/max docFreq/termFreq/termLength
setter/getter methods described in MLT javadoc.

Koji
-- 
http://www.rondhuit.com/en/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 19 19:32:28 2011
Return-Path: <java-user-return-49053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72075 invoked from network); 19 Mar 2011 19:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Mar 2011 19:32:27 -0000
Received: (qmail 51199 invoked by uid 500); 19 Mar 2011 19:32:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51136 invoked by uid 500); 19 Mar 2011 19:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51128 invoked by uid 99); 19 Mar 2011 19:32:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2011 19:32:24 +0000
X-ASF-Spam-Status: No, hits=4.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_FRT_ADULT2,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.104.17.167] (HELO web94809.mail.in2.yahoo.com) (203.104.17.167)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 19 Mar 2011 19:32:19 +0000
Received: (qmail 59173 invoked by uid 60001); 19 Mar 2011 19:31:54 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300563114; bh=LTtRONTEuPMdUbtIrT8HUVOdWD2Cp2LRssz9l0OSty0=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=Y38kOI8gW9U0ifVgip3twA6oDJUE5+ePL+mk9qhxwqLiG8vMkqY5VdLCef3h3awr7X0jO1N4/e4wIkeUIjdyYxs1giEh/NLA4WjJ5CPbQg36MMZWzOXeE0cEJxa28d+zu5BAdVDIejdpRe6LswpBjISYIighjiinH/T7+WURlbc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=4KZQOUts2zpZL6kZbo0tNgSkBHF46QQMMceOCyriHaZI82Xh35Z9IPA9kp8tvokKQXzik98FMW0ksIm3BNrT3DyIVLajyLLBn0/3jDtcijKnFUmLOgko+oHQkzuggjv86dqgD2UjWfXR/bFMbtCm2KvtkP+4Pgp+3X26NAD7jLo=;
Message-ID: <890891.46804.qm@web94809.mail.in2.yahoo.com>
X-YMail-OSG: BJfK5M4VM1lhe_s44gimqoe5FEbWLEtDAh2oAy_maYZm2pV
 lrOXhIfhPjHYuF80REZAzJs_Nj5Yo8F1cqc0p2QbVJ73OOpP9VOZAMqc1xGx
 qTWFYZ6GugOfEAmPhGvUr1iZFLU5qDrGNHVsCePtWuRwQgijPOU0zful67TZ
 9bmZnkCWB776XGBaql1zGmkIV1eOTTJNUtEYcSWceLsdbxelT.9h..UQoNMj
 _yNEl62jyz9DjuesqAciVtE2J4_v3UjQh99heO89.VAKr_xAODhNluEByPM7
 1.gi7NrlSuuleoWkPChnfx9EG0nyNz97sBIuai6IyCA--
Received: from [24.6.49.237] by web94809.mail.in2.yahoo.com via HTTP; Sun, 20 Mar 2011 01:01:54 IST
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.295617
References: <26537278.43027.1300482982706.JavaMail.nabble@ben.nabble.com> <4D83FD8B.9010708@r.email.ne.jp>
Date: Sun, 20 Mar 2011 01:01:54 +0530 (IST)
From: madhuri madhuri <madhuri_1820@yahoo.com>
Subject: Re: Regarding MoreLikeThis similarity Search
To: java-user@lucene.apache.org
In-Reply-To: <4D83FD8B.9010708@r.email.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1829937164-1300563114=:46804"

--0-1829937164-1300563114=:46804
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi Koji,=0A=0AThanks for your reply... It is working now by setting doc and=
 term frequency.=0A=0ARegards,=0AMadhu.=0A=0A=0A=0A________________________=
________=0AFrom: Koji Sekiguchi <koji@r.email.ne.jp>=0ATo: java-user@lucene=
.apache.org=0ASent: Fri, 18 March, 2011 5:49:15 PM=0ASubject: Re: Regarding=
 MoreLikeThis similarity Search=0A=0A(11/03/19 6:16), madhuri_1820@yahoo.co=
m wrote:=0A> Hi,=0A>=0A> I am new to lucene ... I have a question while imp=
lementing similarity search =0A>using MoreLikeThis query. I have written a =
small program but it is not giving =0A>any results. In my index file I have=
 both strored and unstored(analyzed) fields.=0A>=0A> Sample Code :=0A>=0A> =
IndexReader ir =3D  IndexReader.open(index directory path);=0A>            =
     IndexSearcher indexsearcher =3D new ProfileIndexSearcher(ir);=0A>     =
            IndexSearcher indexsearcher =3D new IndexSearcher(ir);=0A>     =
            MoreLikeThis mlt =3D new MoreLikeThis(ir);=0A>                 =
Analyzer analyzer =3D new StandardAnalyzer(Version.LUCENE_30);=0A>         =
        mlt.setAnalyzer(analyzer);=0A>                 mlt.setFieldNames(st=
ring_of_fields);=0A>                 =0A>                 Query query1 =3D =
mlt.like(1); // mlt.like(docnumber)=0A>                 TopDocs matches =3D=
 null;=0A>                 matches =3D indexsearcher.search(query1,20);=0A>=
=0A> As per my understanding I should atleast one document as result.=0A>=
=0A> Is any one has idea what I can do to implement this serach.=0A> Thanks=
 in Advance.=0A>=0A> --Madhu.=0A=0AHi Madhu,=0A=0ACheck query1 and compare =
what you expected:=0A=0AQuery query1 =3D mlt.like(1); // mlt.like(docnumber=
)=0ASystem.out.println(query1.toString());=0A=0AAnd if it is not what you e=
xpected, check min/max docFreq/termFreq/termLength=0Asetter/getter methods =
described in MLT javadoc.=0A=0AKoji=0A-- =0Ahttp://www.rondhuit.com/en/=0A=
=0A---------------------------------------------------------------------=0A=
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor addit=
ional commands, e-mail: java-user-help@lucene.apache.org=0A=0A
--0-1829937164-1300563114=:46804--

From java-user-return-49054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 06:06:21 2011
Return-Path: <java-user-return-49054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64810 invoked from network); 21 Mar 2011 06:06:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 06:06:21 -0000
Received: (qmail 89135 invoked by uid 500); 21 Mar 2011 06:06:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89042 invoked by uid 500); 21 Mar 2011 06:06:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89034 invoked by uid 99); 21 Mar 2011 06:06:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 06:06:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 06:06:09 +0000
Received: by iwr19 with SMTP id 19so8129398iwr.35
        for <java-user@lucene.apache.org>; Sun, 20 Mar 2011 23:05:46 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.111.234 with SMTP id t42mr3818567ibp.106.1300687546408;
 Sun, 20 Mar 2011 23:05:46 -0700 (PDT)
Received: by 10.231.147.199 with HTTP; Sun, 20 Mar 2011 23:05:46 -0700 (PDT)
X-Originating-IP: [206.217.194.249]
Date: Mon, 21 Mar 2011 14:05:46 +0800
Message-ID: <AANLkTikGO9VdC2xj9oqTuB6GnNABqhw72VbhbDxTSdSV@mail.gmail.com>
Subject: Urgent! Forgot to close IndexWriter after adding Documents to the index.
From: Kevin Tse <i@neevek.net>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001485f92c162ae371049ef7eb84
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f92c162ae371049ef7eb84
Content-Type: text/plain; charset=ISO-8859-1

Hi, experts

I had a program running for 2 days to build an index for around 160 million
text files, and after program ended, I tried searching the index and found
the index was not correctly built, *indexReader.numDocs()* returns 0. I
checked the index directory, it looked good, all the index data seemed to be
there, the directory is 1.5 Gigabytes in size.

I checked my code and found that I forgot to call *indexWriter.optimize()*and
*indexWriter.close()*, I want to know if it is possible to
*re-optimize()*the index so I don't need to rebuild the whole index
from scratch? I don't
really want the program to take another 2 days.

Thanks!

-- 
Neevek Est

--001485f92c162ae371049ef7eb84--

From java-user-return-49055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 15:35:43 2011
Return-Path: <java-user-return-49055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88663 invoked from network); 21 Mar 2011 15:35:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 15:35:43 -0000
Received: (qmail 40135 invoked by uid 500); 21 Mar 2011 15:35:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39934 invoked by uid 500); 21 Mar 2011 15:35:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39923 invoked by uid 99); 21 Mar 2011 15:35:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 15:35:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 15:35:36 +0000
Received: by yia25 with SMTP id 25so3208536yia.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 08:35:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.236.25.133 with SMTP id z5mr5469856yhz.287.1300721715630; Mon,
 21 Mar 2011 08:35:15 -0700 (PDT)
Received: by 10.236.103.142 with HTTP; Mon, 21 Mar 2011 08:35:15 -0700 (PDT)
In-Reply-To: <AANLkTikGO9VdC2xj9oqTuB6GnNABqhw72VbhbDxTSdSV@mail.gmail.com>
References: <AANLkTikGO9VdC2xj9oqTuB6GnNABqhw72VbhbDxTSdSV@mail.gmail.com>
Date: Mon, 21 Mar 2011 11:35:15 -0400
Message-ID: <AANLkTinJjs_hDEoMJqiG=G0XFt=T+GCL+DDrKp0HfHfb@mail.gmail.com>
Subject: Re: Urgent! Forgot to close IndexWriter after adding Documents to the index.
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: Kevin Tse <i@neevek.net>
Content-Type: text/plain; charset=ISO-8859-1

Unfortunately, you can't easily recover from this (except by
reindexing your docs again).

Failing to call IW.commit() or IW.close() means no segments file was written...

It is theoretically possible to reconstruct a segments file by
"listing" all files and figuring out which segments there are,
deriving the right metadata for them, etc., but I don't think anyone
has actually built this yet.

Mike

http://blog.mikemccandless.com

On Mon, Mar 21, 2011 at 2:05 AM, Kevin Tse <i@neevek.net> wrote:
> Hi, experts
>
> I had a program running for 2 days to build an index for around 160 million
> text files, and after program ended, I tried searching the index and found
> the index was not correctly built, *indexReader.numDocs()* returns 0. I
> checked the index directory, it looked good, all the index data seemed to be
> there, the directory is 1.5 Gigabytes in size.
>
> I checked my code and found that I forgot to call *indexWriter.optimize()*and
> *indexWriter.close()*, I want to know if it is possible to
> *re-optimize()*the index so I don't need to rebuild the whole index
> from scratch? I don't
> really want the program to take another 2 days.
>
> Thanks!
>
> --
> Neevek Est
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 16:01:11 2011
Return-Path: <java-user-return-49056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52512 invoked from network); 21 Mar 2011 16:01:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 16:01:05 -0000
Received: (qmail 83241 invoked by uid 500); 21 Mar 2011 16:01:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83187 invoked by uid 500); 21 Mar 2011 16:01:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83179 invoked by uid 99); 21 Mar 2011 16:01:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 16:01:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 16:00:55 +0000
Received: by bwz8 with SMTP id 8so6707344bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 09:00:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=kIFGW0BpP6m7dFR62T/IuhBYpv6bkmuEjc33ckcqviQ=;
        b=mVBoREW3Ijf9uKuhIK0jYXW54QMGWSnH1fuV1b6ZRZracprxEshMko0JQxLiOEOnwO
         K1QVMs2TjgYmnGMdJdrIKEVpI4jVj0rLSHrItx1wpzfi4LvsRc2RaVRp/yN4OlNmB+HN
         LvfENBtzwXp5fdM34G9PfiFci4DNSxmeMnxn8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SEDySKvcFh+tV9qSJZw6UtS9sc7jMK9T5XoKm0Jh7YiBXtJtUu1TewfIIF9zrQCBCN
         Ea8AwLJ9aM+gVTbZ/jNe4ILSvMtMpziBVN4uXbIwkTipgODx+2xEXxCN9uM4B2FpsVtE
         j7ZStTeux8O8J4C7nNIHkz+rI+dn/2zpg6A1g=
MIME-Version: 1.0
Received: by 10.204.80.29 with SMTP id r29mr3839407bkk.195.1300723235150; Mon,
 21 Mar 2011 09:00:35 -0700 (PDT)
Received: by 10.204.118.16 with HTTP; Mon, 21 Mar 2011 09:00:35 -0700 (PDT)
Date: Mon, 21 Mar 2011 17:00:35 +0100
Message-ID: <AANLkTim-HBJY_h_09gpL5FoSEZ3mgXuEVs5ZVLRZ93sE@mail.gmail.com>
Subject: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d6452c61dce5049f003a3d
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d6452c61dce5049f003a3d
Content-Type: text/plain; charset=ISO-8859-1

I'm new to Lucene. If I use

    description = new TermQuery(new Term("description", "my string"));

I ask Lucene to consider "my string" as unique word, right ?

I actually need to consider each word, should I use PhraseQuery instead ? Or
is it correct ?

thanks

--0016e6d6452c61dce5049f003a3d--

From java-user-return-49057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 16:10:29 2011
Return-Path: <java-user-return-49057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1855 invoked from network); 21 Mar 2011 16:10:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 16:10:29 -0000
Received: (qmail 227 invoked by uid 500); 21 Mar 2011 16:10:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 182 invoked by uid 500); 21 Mar 2011 16:10:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 174 invoked by uid 99); 21 Mar 2011 16:10:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 16:10:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 16:10:19 +0000
Received: by bwz8 with SMTP id 8so6719984bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 09:09:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=1JII92YUCsaJ7zLpDLub99Fw8X1f+s/mHtOo24Km7L4=;
        b=fvvga25cO6+rCGm0hFWXqYelA33hUpPYsxPp/weWj+dhcrlW+fQ6NCLYBE227gFkmi
         R2zq/g/EKE3Dl86yJLo8BTm8lyxLXaLsKxD+pBPOKpqEW2qGa9b8n4Ipqluoo3SImNUq
         Nr3C1HzTQJ9XI+FLPBUB9OsLlFQNR0Zv2675M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=x4GRjp/SqpSEDGhOGj4m2wXC3RqGU5QneS49vCBSV3lpVl+0jkFJhfh1ilOSvXPKFp
         CgSOojZ+gY7tjhb9irPvINlziP2IPkVj9iWIymqU4GG8qLwQivHlujukhH8NMF4Hldx+
         SWRtCogisANo/5ZhFXQ9AeiHizB5/JzZ6Fwng=
MIME-Version: 1.0
Received: by 10.204.154.199 with SMTP id p7mr3800288bkw.114.1300723794489;
 Mon, 21 Mar 2011 09:09:54 -0700 (PDT)
Received: by 10.204.118.16 with HTTP; Mon, 21 Mar 2011 09:09:54 -0700 (PDT)
Date: Mon, 21 Mar 2011 17:09:54 +0100
Message-ID: <AANLkTimfZYp9SYMP2nEo+XQH4JhuBOi3LXmgesv55McO@mail.gmail.com>
Subject: How to normalize Lucene scores... (over all queries)
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175def8cb8b2ce049f005b0d
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175def8cb8b2ce049f005b0d
Content-Type: text/plain; charset=ISO-8859-1

I'm combining several scores for my queries performed with Lucene and other
software.

My issue is that I have lucene scores + other scores (not related to Lucene)
for each query result.

The other scores are all normalized between 1 and 0.

I need to normalize Lucene scores (over all queries) because If I don't
normalize Lucene scores in the same way I'm going to have unbalanced
results...

How can I make it ?
thanks

--0015175def8cb8b2ce049f005b0d--

From java-user-return-49058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 16:55:32 2011
Return-Path: <java-user-return-49058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48744 invoked from network); 21 Mar 2011 16:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 16:55:32 -0000
Received: (qmail 3325 invoked by uid 500); 21 Mar 2011 16:55:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3246 invoked by uid 500); 21 Mar 2011 16:55:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3238 invoked by uid 99); 21 Mar 2011 16:55:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 16:55:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.69] (HELO nm6.bullet.mail.ne1.yahoo.com) (98.138.90.69)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Mar 2011 16:55:21 +0000
Received: from [98.138.90.52] by nm6.bullet.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 16:55:00 -0000
Received: from [98.138.89.250] by tm5.bullet.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 16:55:00 -0000
Received: from [127.0.0.1] by omp1042.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 16:55:00 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 714807.7649.bm@omp1042.mail.ne1.yahoo.com
Received: (qmail 3715 invoked by uid 60001); 21 Mar 2011 16:55:00 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300726500; bh=6ElB75t+FGL0LLhOk7pzWHZLC1aCxtT5XT6rLMy9r2M=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=l3uFk+dcgcPpWwSFur/ILFX/3TX5PXTiapvlawqjolpaSlRrVE+Q3s5VFsePhq1bqDaLOqsRp+MW0NNu9nACizUKFchvXTB6F4GYmRg7vhkCdkEHe3dHjGjY4CpYmPn5IFpQu8qT+tJIaT3gpPdE2DvY4lbk+bmNheD8URRL1ns=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=n2SLVzPk2+/fmfZHVRfRg4eE/zp3nk0wTzNtlQuE8z266Hom++AwmFs5Z1Gg/23sLJsFkPPk6o3CdazEpKY0VXrilekAhNmyWbLFZPQjctwN8yZ9ufbfHenRUN5mlmBuoJxin58PctBA3sLvxn9GbxxcKvenRPMeW2eYdSApq8E=;
Message-ID: <516587.84425.qm@web121705.mail.ne1.yahoo.com>
X-YMail-OSG: nYA2nEUVM1lU8xHJmiNsb_TXOQSMgYT2CMoTlDGBLv3BIgn
 0f7p367.ZneV2BkKqcD1ELPjGpSWDJcus6PO2XxmzjWmf.nGVohjm8c5dIaL
 D2mnFD7mXoVuynh5t0wETz4MqcW10QQNYUI8juGW5s0S4uc.TEsn_h5EixtV
 q4yn3QJ1OHqwlNhuO.Hkb7esa6ezhOsx5vWDuM8oYSglmzYOWCQMofd_0YN4
 2bD4yzO0Q9sFxaoPou.NOXEPqoWcPLn85AVD3Y7LgCTzKPgJOSz2rdlfaeXE
 gMV1kTh.mxxnwbOZzWtHaEEdpfMBFVXXaNQu5XKDMb2ewtA--
Received: from [95.10.236.185] by web121705.mail.ne1.yahoo.com via HTTP; Mon, 21 Mar 2011 09:55:00 PDT
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.295617
Date: Mon, 21 Mar 2011 09:55:00 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTim-HBJY_h_09gpL5FoSEZ3mgXuEVs5ZVLRZ93sE@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

> =A0 =A0 description =3D new TermQuery(new=0A> Term("description", "my str=
ing"));=0A> =0A> I ask Lucene to consider "my string" as unique word, right=
?=0A=0ACorrect.=0A =0A> I actually need to consider each word, should I use=
=0A> PhraseQuery instead ? =0A=0AIf description field is tokenized/analyzed=
 during indexing you need to use PhraseQuery. =0A=0AMay you can use QueryPa=
rser instead?=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 17:05:49 2011
Return-Path: <java-user-return-49059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4278 invoked from network); 21 Mar 2011 17:05:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 17:05:48 -0000
Received: (qmail 27973 invoked by uid 500); 21 Mar 2011 17:05:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27937 invoked by uid 500); 21 Mar 2011 17:05:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27929 invoked by uid 99); 21 Mar 2011 17:05:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:05:46 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:05:40 +0000
Received: by bwz8 with SMTP id 8so6799133bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 10:05:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=OGiEFGbFWy5dRWTKRmZFNY3exlRqPFu5tCuOUj0jkrc=;
        b=mfFcp2+qvhEHP8Y/cFHAXEvZzjNGM/wd5U60dsDVQ7wizXV3zDMIbMDPQ7JDD5aNHC
         exU2X+xptN9L82cmEYDn2E39macxd9wtnE31PAFmSauDsGCgZ8jgi2klR2gKgGPO1LGb
         aoEuQWhW5ESAigyoerDGIyBw34Yj4ntDGPE+I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=nhxJ5DWx9ikq8HR3xCurVSyke191Y56bThbRx1ZVzHOdTzSfssi7+QQ6c5QSigrLtv
         XwqO7/qomzMi2X0/FiD+h38luoozrwmM+KEXkC4JgsUl5kT87EKrUqSY96Bp0dO9jjdr
         r0sJHJVAvV7WSgt3v2WBgQM+TE1OQJLEQ/BRQ=
MIME-Version: 1.0
Received: by 10.204.154.74 with SMTP id n10mr3893179bkw.33.1300727115695; Mon,
 21 Mar 2011 10:05:15 -0700 (PDT)
Received: by 10.204.118.16 with HTTP; Mon, 21 Mar 2011 10:05:14 -0700 (PDT)
In-Reply-To: <516587.84425.qm@web121705.mail.ne1.yahoo.com>
References: <AANLkTim-HBJY_h_09gpL5FoSEZ3mgXuEVs5ZVLRZ93sE@mail.gmail.com>
	<516587.84425.qm@web121705.mail.ne1.yahoo.com>
Date: Mon, 21 Mar 2011 18:05:14 +0100
Message-ID: <AANLkTik5ZggoYL1pvJux5dGt1tmXT7HNeH6FBAJddr58@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cf8d4ae4660049f012139

--0015175cf8d4ae4660049f012139
Content-Type: text/plain; charset=ISO-8859-1

>
>
> If description field is tokenized/analyzed during indexing you need to use
> PhraseQuery.
>

Uhm yeah I'm using a WhitespaceAnalyzer. This is the code using for
indexing:

writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
IndexWriterConfig(org.apache.lucene.util.Version.LUCENE_40, new
WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)));
...
document.add(new Field("description", flickrDoc.getDescription(),
Field.Store.YES, Field.Index.ANALYZED));
...
writer.addDocument(document);



May you can use QueryParser instead?
>
> Why ? Can't I just use PhraseQuery ? What is QueryParser for?

--0015175cf8d4ae4660049f012139--

From java-user-return-49060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 17:09:35 2011
Return-Path: <java-user-return-49060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4856 invoked from network); 21 Mar 2011 17:09:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 17:09:35 -0000
Received: (qmail 36153 invoked by uid 500); 21 Mar 2011 17:09:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36120 invoked by uid 500); 21 Mar 2011 17:09:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36112 invoked by uid 99); 21 Mar 2011 17:09:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:09:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:09:25 +0000
Received: by qwj9 with SMTP id 9so5298263qwj.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 10:09:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=C5/RY9jlvjuIP9N/fP/xgxx29AiaMuPBbHfcqODSUZo=;
        b=JO7wXGPIV5jBbZy66QB0AgwE76ogwXDtMLV97MxvBD1s6WqMaHzQRO/Yqbu86lZXo3
         COuSfSY1YaEoiWw6dJTb9Twp+y3x30klISwCsSgATzDqApDAVJ+HkDrqV0uan7gdUSVy
         4REXx87E2qLWjMhUgCwVJQ8ZCiNb7EXdp1Iro=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=cBYr0KWnSVfcvn5pq68AFz57TSzCvNeW9Oiz5ZpEZ6K2iiWyAQVtSphl0Pl1FVfyTx
         9sqDzBEVngXevtNzVYb+BxYps6V/m28O67v6ATI5+F/nC6gbOJgbXqvYMB6yA0Gg/meH
         TBp2Ttz8ua9ZyiBnGdTVTm9SN5XQJ1KLJPPys=
MIME-Version: 1.0
Received: by 10.229.105.96 with SMTP id s32mr3566599qco.35.1300727344324; Mon,
 21 Mar 2011 10:09:04 -0700 (PDT)
Received: by 10.229.69.158 with HTTP; Mon, 21 Mar 2011 10:09:04 -0700 (PDT)
Date: Mon, 21 Mar 2011 10:09:04 -0700
Message-ID: <AANLkTikDA8E+4Y+z=4fHO9XHG82yYO6dH7m+X86ViryC@mail.gmail.com>
Subject: Append Codec random testing
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I'm seeing an error when using the misc Append codec.

java.lang.AssertionError
at org.apache.lucene.store.ByteArrayDataInput.readBytes(ByteArrayDataInput.java:107)
at org.apache.lucene.index.codecs.BlockTermsReader$FieldReader$SegmentTermsEnum._next(BlockTermsReader.java:661)
at org.apache.lucene.index.codecs.BlockTermsReader$FieldReader$SegmentTermsEnum.next(BlockTermsReader.java:639)

And am wondering if it's related to the codec or not.  The unit tests
for Append are minimal?  Perhaps we can/should include it in the
random codecs chosen for unit testing?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 17:16:13 2011
Return-Path: <java-user-return-49061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10735 invoked from network); 21 Mar 2011 17:16:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 17:16:12 -0000
Received: (qmail 51890 invoked by uid 500); 21 Mar 2011 17:16:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51852 invoked by uid 500); 21 Mar 2011 17:16:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51844 invoked by uid 99); 21 Mar 2011 17:16:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:16:10 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:16:03 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.234]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Mon, 21 Mar
 2011 13:15:41 -0400
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 21 Mar 2011 13:15:41 -0400
Subject: termIndexInterval, CheckIndex, size of tis file and Lucene index
 compression
Thread-Topic: termIndexInterval, CheckIndex, size of tis file and Lucene
 index compression
Thread-Index: Acvn65rU1y486X66RAKvhKcaqc/NVw==
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF5F4F708@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_47316FE3F6BA0D4DADF99663512552680AF5F4F708ITCSECLS1VS3a_"
MIME-Version: 1.0

--_000_47316FE3F6BA0D4DADF99663512552680AF5F4F708ITCSECLS1VS3a_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm trying to get a feel for the impact of changing the termIndexInterval f=
rom the default of 128 to 1024 (8 * 128).  This reduces the size of the tii=
 file by 1/8th but in the worst case requires doing a linear scan of 1024 t=
erms instead of 128 in memory.   I'm not so concerned about the performance=
 impact of the in-memory scan, but I was trying to get an idea about how th=
is affects disk I/O. i.e. assuming a term is not in the tii file, we need t=
o  load 1024 terms from the tis file instead of 128.

I looked at the output of a CheckIndex on one of our very large segments to=
 get the number of terms in the segment (see below) and got about 2.7 billi=
on terms. (We have lots of dirty OCR from 400 languages) .  The tis file is=
 about  24.7 GB. I divided the size of the tis file for that segment in byt=
es by the number of terms to get the average number of bytes/term:

(24.7 * (10^9) bytes ) / (2.7 * (10^9) terms) =3D 9 bytes/term.

This is the average size of a term entry in the tis file (assuming CheckInd=
ex and ls outputs are correct).
This seems too small.   Looking at the Lucene File formats doc (excerpt bel=
ow), if we assume that everything other than the Suffix of the term takes a=
 VInt that only occupies 1 byte, we have 6 bytes for that data, which leave=
s only 3 bytes for the String that holds the Suffix.

What am I missing here?

Tom Burton-West


---------------------------------------------------------------------------=
----------------------------

>From the Lucene File formats doc:

TermInfo --> <Term, DocFreq, FreqDelta, ProxDelta, SkipDelta>
Term --> <PrefixLength, Suffix, FieldNum>
Suffix --> String
PrefixLength, DocFreq, FreqDelta, ProxDelta, SkipDelta
--> VInt

1 of 2: name=3D_2cj docCount=3D708,639
    compound=3Dfalse
    hasProx=3Dtrue
    numFiles=3D9
    size (MB)=3D393,395.313
    diagnostics =3D {optimize=3Dtrue, mergeFactor=3D9, os.version=3D2.6.18-=
238.1.1.el5, os=3DLinux, mergeDocStores=3Dtrue, lu
cene.version=3D3.1-SNAPSHOT 1036094 - 2010-11-19 16:01:10, source=3Dmerge, =
os.arch=3Damd64, java.version=3D1.6.0_20, java
.vendor=3DSun Microsystems Inc.}
    has deletions [delFileName=3D_2cj_2.del]
    test: open reader.........OK [24 deleted docs]
    test: fields..............OK [55 fields]
    test: field norms.........OK [17 fields]
    test: terms, freq, prox...OK [2,723,440,775 terms; 35740903735 terms/do=
cs pairs; 154861967859 tokens]
    test: stored fields.......OK [11040443 total field count; avg 15.58 fie=
lds per doc]
    test: term vectors........OK [0 total vector count; avg 0 term/freq vec=
tor fields per doc]

[xxx@shotz-1 index]$ ls -l _2cj.tis
-rw-rw-r-- 1 tomcat dlps 24,775,378,328 Mar 12 17:16 _2cj.tis


--_000_47316FE3F6BA0D4DADF99663512552680AF5F4F708ITCSECLS1VS3a_--

From java-user-return-49062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 17:40:03 2011
Return-Path: <java-user-return-49062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1855 invoked from network); 21 Mar 2011 17:40:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 17:40:02 -0000
Received: (qmail 96607 invoked by uid 500); 21 Mar 2011 17:40:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96570 invoked by uid 500); 21 Mar 2011 17:40:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96562 invoked by uid 99); 21 Mar 2011 17:40:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:40:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:39:52 +0000
Received: by bwz8 with SMTP id 8so6849536bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 10:39:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=4rgWXn4d3VQg+tU8/5hGRfOWYFgP8mJGF9QzO1grrNM=;
        b=aSofDgD6Ja9+GjcvLquPJLqteslAELTyHz2CFr/0dPz9u9mHlUZPlZaVEKvaMV3yjw
         V6TVCjK4606Q0NY6nyaplr8DuPPI6zEKUnQTVpoa3lfJX0qxIou129MIl1NPh0ugfSzn
         aAo+51uVRTcAQq8vfrACHHJ87JRUMW7KIOYqs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=BcvkOdZJxsxL5vpKkhnWJgXJtlwvcvdAUyfpibf4hyVksGe2Nh465ZfnP3RTUK8vp0
         3Tk/S+WGVKnSqwXQK++oyeEu7jnFJkJbaKFj7S7liaQW+rqZCnn2zZt78NgO7/cAwlUT
         rV5oASHbDFEor7/J3WLAb3zk3VoRehAaq1gG8=
MIME-Version: 1.0
Received: by 10.204.154.74 with SMTP id n10mr3933576bkw.33.1300729172051; Mon,
 21 Mar 2011 10:39:32 -0700 (PDT)
Received: by 10.204.118.16 with HTTP; Mon, 21 Mar 2011 10:39:31 -0700 (PDT)
In-Reply-To: <AANLkTik5ZggoYL1pvJux5dGt1tmXT7HNeH6FBAJddr58@mail.gmail.com>
References: <AANLkTim-HBJY_h_09gpL5FoSEZ3mgXuEVs5ZVLRZ93sE@mail.gmail.com>
	<516587.84425.qm@web121705.mail.ne1.yahoo.com>
	<AANLkTik5ZggoYL1pvJux5dGt1tmXT7HNeH6FBAJddr58@mail.gmail.com>
Date: Mon, 21 Mar 2011 18:39:31 +0100
Message-ID: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cf8d43fc614049f019cf3
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cf8d43fc614049f019cf3
Content-Type: text/plain; charset=ISO-8859-1

One more thing: It is actually not clear to me how to use PhraseQuery... I
thought I can just pass a phrase to it, but I see only add(Term) method...
should I parse the string by myself to single terms ?



On 21 March 2011 18:05, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

>
>> If description field is tokenized/analyzed during indexing you need to use
>> PhraseQuery.
>>
>
> Uhm yeah I'm using a WhitespaceAnalyzer. This is the code using for
> indexing:
>
> writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
> IndexWriterConfig(org.apache.lucene.util.Version.LUCENE_40, new
> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)));
> ...
> document.add(new Field("description", flickrDoc.getDescription(),
> Field.Store.YES, Field.Index.ANALYZED));
> ...
> writer.addDocument(document);
>
>
>
> May you can use QueryParser instead?
>>
>> Why ? Can't I just use PhraseQuery ? What is QueryParser for?
>

--0015175cf8d43fc614049f019cf3--

From java-user-return-49063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 17:43:56 2011
Return-Path: <java-user-return-49063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2536 invoked from network); 21 Mar 2011 17:43:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 17:43:56 -0000
Received: (qmail 1586 invoked by uid 500); 21 Mar 2011 17:43:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1541 invoked by uid 500); 21 Mar 2011 17:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1533 invoked by uid 99); 21 Mar 2011 17:43:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:43:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 17:43:47 +0000
Received: by bwz8 with SMTP id 8so6854962bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 10:43:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=0vRh8ahAeX8RWPxpSBz93oDOK2fmvNzQjdei63EyOTA=;
        b=to3JSGunxWiUBT3KzBKNvF0FAYUglJU9bw0D3NCv1wVTq0MK5EA1sVTjRfMg9IIPFa
         SMXY3qM5BJrRBCWwG3Q2oxoGPHE4vU0C5uxWyW4CQEPSYVsch+Wiu11pQmxkddghvwnR
         9HfLIpNHPx5SvizTtXKRVLS95QfCyFNndBj50=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SFbaBLgpThUYgdubq6r/doOa1xBZxW/vL6Bd/A+FpyONSVyYbtXnvchvkqGNtprCNk
         3+/2uHPns+/ENmuf+x25W7ayIyWSumj63pX6F7TVpLxuRb2AgbO6GVyjyFFtDKEXM9jl
         +tZtDSAfSVFRJBLFvNR0zalOfJ8rgg0PeAfgk=
MIME-Version: 1.0
Received: by 10.204.126.147 with SMTP id c19mr4009620bks.60.1300729406297;
 Mon, 21 Mar 2011 10:43:26 -0700 (PDT)
Received: by 10.204.118.16 with HTTP; Mon, 21 Mar 2011 10:43:26 -0700 (PDT)
Date: Mon, 21 Mar 2011 18:43:26 +0100
Message-ID: <AANLkTi=CnyxkwnG30+p+HnEOYETV1oZoba-K_fp7R4HF@mail.gmail.com>
Subject: Building a query of single terms...
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d99ae1361e77049f01aac6

--0016e6d99ae1361e77049f01aac6
Content-Type: text/plain; charset=ISO-8859-1

I'm new to Lucene and I would like to know what's the difference (if there
is any) between

PhraseQuery.add(Term1)
PhraseQuery.add(Term2)
PhraseQuery.add(Term3)

and

term1 = new TermQuery(new Term(...));
booleanQuery.add(term1, BooleanClause.Occur.SHOULD);

term2 = new TermQuery(new Term(...));
booleanQuery.add(term2, BooleanClause.Occur.SHOULD);

thanks

--0016e6d99ae1361e77049f01aac6--

From java-user-return-49064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 18:16:41 2011
Return-Path: <java-user-return-49064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7552 invoked from network); 21 Mar 2011 18:16:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 18:16:41 -0000
Received: (qmail 44651 invoked by uid 500); 21 Mar 2011 18:16:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44606 invoked by uid 500); 21 Mar 2011 18:16:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44598 invoked by uid 99); 21 Mar 2011 18:16:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 18:16:39 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bhurt42@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 18:16:31 +0000
Received: by wyb40 with SMTP id 40so7607537wyb.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 11:16:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=6Kjuts1y0stkrfIosdedyG/utzW8jhallmECP1jzQ3k=;
        b=Ia09yFQrsAHJ5G+/rI3t/cd9dvBMwSWiac7HL6ULrtJ4KdOJezO/otcLZzxCKEm3gk
         DGhwtDgqfrqVKoYsQdYDhzVn9/kIfRxYHTDoFpWevd030mz9E54bHInLE8jUeS/8M2t1
         2ZRLakkh0KPe4kzevxg8n5AQ5lMqzMahmp/W4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=D1ZTETYNv6YuyLrX4wtr7m2zcrufC81GxkuVtd5JmQyWwpH+2+2XNFdYYlVZ3E7eZw
         9fasXEi4b+zjFXffXRv1RWxYADqaD63y7le6WsD8IexDStAW5AAGcjCHm61VBv6Hc/3j
         DXi5qR/YPXYMJSGNUezTpzx2kt9MjH9vcBbzs=
MIME-Version: 1.0
Received: by 10.216.190.168 with SMTP id e40mr4070569wen.68.1300731371496;
 Mon, 21 Mar 2011 11:16:11 -0700 (PDT)
Received: by 10.216.174.203 with HTTP; Mon, 21 Mar 2011 11:16:11 -0700 (PDT)
Date: Mon, 21 Mar 2011 14:16:11 -0400
Message-ID: <AANLkTi=inDYwRQEccp6k7-CFB02ZDNtyHQHjR=RRXZTA@mail.gmail.com>
Subject: Performance problems with lazily loaded fields
From: Brian Hurt <bhurt42@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6551f2258a38a049f021ff4
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6551f2258a38a049f021ff4
Content-Type: text/plain; charset=ISO-8859-1

I'm having a problem with the performance of lazily-loaded fields with
lucene.  The basic structure of the code is that I get a set of documents
back from a query, then iterate through them, reading most fields to collect
fragments.  This is taking an excessively long amount of time- mostly in my
call to getField on the document.  Each such call takes milliseconds,
meaning a query that even returns only a few dozen items takes me hundreds
of milliseconds to process, which is causing problems elsewhere.  So the
question I have is if there is some way I can optimize the loading of
fields?  I am calling the doc function on the index search with a null
FieldSelector, but this does not seem to reduce the cost of getting fields
(indeed, it seems to slow down the whole query processing by a significant
factor).  Is there any help anyone can give me?

Thanks.

Brian

--0016e6551f2258a38a049f021ff4--

From java-user-return-49065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 18:25:10 2011
Return-Path: <java-user-return-49065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55991 invoked from network); 21 Mar 2011 18:25:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 18:25:09 -0000
Received: (qmail 67365 invoked by uid 500); 21 Mar 2011 18:25:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67325 invoked by uid 500); 21 Mar 2011 18:25:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67317 invoked by uid 99); 21 Mar 2011 18:25:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 18:25:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 18:25:02 +0000
Received: by gwj22 with SMTP id 22so3327013gwj.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 11:24:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.236.109.138 with SMTP id s10mr5473915yhg.387.1300731874104;
 Mon, 21 Mar 2011 11:24:34 -0700 (PDT)
Received: by 10.236.103.142 with HTTP; Mon, 21 Mar 2011 11:24:34 -0700 (PDT)
In-Reply-To: <47316FE3F6BA0D4DADF99663512552680AF5F4F708@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF5F4F708@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Date: Mon, 21 Mar 2011 14:24:34 -0400
Message-ID: <AANLkTi=WM1vK6TTL1WE285m6mSNDeafzi8L-W7iLadoD@mail.gmail.com>
Subject: Re: termIndexInterval, CheckIndex, size of tis file and Lucene index compression
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: "Burton-West, Tom" <tburtonw@umich.edu>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Your math is right -- looks like it really is ~9 bytes per term
(assuming no bugs in CheckIndex!).

How long did this CheckIndex take to run...?

On the file format, one correction: if the docFreq is < skipInterval
(default 16) then there is no skip data and we don't write the
SkipDelta.

The vast majority of your terms will have docFreq < 16, so for these
terms it's 6 bytes minimum (6 vInt/vLongs), then the character data
(in UTF8 bytes) for the suffix.  Terms w/ skip data would be 7 bytes
minimum, for the vInt/vLongs.

So I think really does mean "on average" your adjacent terms only
differ by 3 byte suffix, which is interesting.  You could make a small
test, which enums all terms, and prints ones whose new suffix (vs
prior terms) is <=3D 3 bytes, to gain some insight.

I'd really love to see your index, indexed on trunk ;)  The terms
index is much smaller than in 3.x!

Mike

http://blog.mikemccandless.com

On Mon, Mar 21, 2011 at 1:15 PM, Burton-West, Tom <tburtonw@umich.edu> wrot=
e:
> I'm trying to get a feel for the impact of changing the termIndexInterval=
 from the default of 128 to 1024 (8 * 128). =A0This reduces the size of the=
 tii file by 1/8th but in the worst case requires doing a linear scan of 10=
24 terms instead of 128 in memory. =A0 I'm not so concerned about the perfo=
rmance impact of the in-memory scan, but I was trying to get an idea about =
how this affects disk I/O. i.e. assuming a term is not in the tii file, we =
need to =A0load 1024 terms from the tis file instead of 128.
>
> I looked at the output of a CheckIndex on one of our very large segments =
to get the number of terms in the segment (see below) and got about 2.7 bil=
lion terms. (We have lots of dirty OCR from 400 languages) . =A0The tis fil=
e is about =A024.7 GB. I divided the size of the tis file for that segment =
in bytes by the number of terms to get the average number of bytes/term:
>
> (24.7 * (10^9) bytes ) / (2.7 * (10^9) terms) =3D 9 bytes/term.
>
> This is the average size of a term entry in the tis file (assuming CheckI=
ndex and ls outputs are correct).
> This seems too small. =A0 Looking at the Lucene File formats doc (excerpt=
 below), if we assume that everything other than the Suffix of the term tak=
es a VInt that only occupies 1 byte, we have 6 bytes for that data, which l=
eaves only 3 bytes for the String that holds the Suffix.
>
> What am I missing here?
>
> Tom Burton-West
>
>
> -------------------------------------------------------------------------=
------------------------------
>
> From the Lucene File formats doc:
>
> TermInfo --> <Term, DocFreq, FreqDelta, ProxDelta, SkipDelta>
> Term --> <PrefixLength, Suffix, FieldNum>
> Suffix --> String
> PrefixLength, DocFreq, FreqDelta, ProxDelta, SkipDelta
> --> VInt
>
> 1 of 2: name=3D_2cj docCount=3D708,639
> =A0 =A0compound=3Dfalse
> =A0 =A0hasProx=3Dtrue
> =A0 =A0numFiles=3D9
> =A0 =A0size (MB)=3D393,395.313
> =A0 =A0diagnostics =3D {optimize=3Dtrue, mergeFactor=3D9, os.version=3D2.=
6.18-238.1.1.el5, os=3DLinux, mergeDocStores=3Dtrue, lu
> cene.version=3D3.1-SNAPSHOT 1036094 - 2010-11-19 16:01:10, source=3Dmerge=
, os.arch=3Damd64, java.version=3D1.6.0_20, java
> .vendor=3DSun Microsystems Inc.}
> =A0 =A0has deletions [delFileName=3D_2cj_2.del]
> =A0 =A0test: open reader.........OK [24 deleted docs]
> =A0 =A0test: fields..............OK [55 fields]
> =A0 =A0test: field norms.........OK [17 fields]
> =A0 =A0test: terms, freq, prox...OK [2,723,440,775 terms; 35740903735 ter=
ms/docs pairs; 154861967859 tokens]
> =A0 =A0test: stored fields.......OK [11040443 total field count; avg 15.5=
8 fields per doc]
> =A0 =A0test: term vectors........OK [0 total vector count; avg 0 term/fre=
q vector fields per doc]
>
> [xxx@shotz-1 index]$ ls -l _2cj.tis
> -rw-rw-r-- 1 tomcat dlps 24,775,378,328 Mar 12 17:16 _2cj.tis
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 19:06:01 2011
Return-Path: <java-user-return-49066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4622 invoked from network); 21 Mar 2011 19:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 19:06:01 -0000
Received: (qmail 27593 invoked by uid 500); 21 Mar 2011 19:05:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27550 invoked by uid 500); 21 Mar 2011 19:05:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27542 invoked by uid 99); 21 Mar 2011 19:05:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 19:05:58 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 19:05:52 +0000
Received: by qyk30 with SMTP id 30so5810348qyk.14
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 12:05:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=mZ4xQ01JJJHHUrm1a8tksVuLwYK81rZODh/83znfvC8=;
        b=EUvVeePbQSvrinCzP2pXA6gbM0eivaKte2WGw6l5dGDaO2hocIHOq5ChpSDqg56a/e
         xIFc3VzxC4xwCF1Or2Z8OQFCDfkYNcueWfeDCwxjYMlDoSNEK52kyW3oWCSqmI471Xxv
         H5/g4YLxjlD97qYx9pNhukyiHjLzclcY0+ZTo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=c1C4MmM0FvZKKb0b02pT8pliaADgMiGNHiYapTuQzMWmsF14/XAhiAuHi4g53RtnZ3
         yeLU6CY7F7qHBTI4rICek2MG9eZ1QW1NEqHd8YLzFh5JjSu+yVVTwnEpsa0wCgCsma9O
         GeDfLxvPDMK4kjGfZ6uNdUC02CUZ98TWTBQyc=
MIME-Version: 1.0
Received: by 10.224.61.13 with SMTP id r13mr3699628qah.203.1300734331807; Mon,
 21 Mar 2011 12:05:31 -0700 (PDT)
Received: by 10.52.160.39 with HTTP; Mon, 21 Mar 2011 12:05:31 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTikDA8E+4Y+z=4fHO9XHG82yYO6dH7m+X86ViryC@mail.gmail.com>
References: <AANLkTikDA8E+4Y+z=4fHO9XHG82yYO6dH7m+X86ViryC@mail.gmail.com>
Date: Mon, 21 Mar 2011 20:05:31 +0100
Message-ID: <AANLkTi=5s=S248eMK2sPUNLEEuFF6iKGKm1XxENR7rHG@mail.gmail.com>
Subject: Re: Append Codec random testing
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Jason Rutherglen <jason.rutherglen@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Jason, please mail to dev@l.a.o

simon

On Mon, Mar 21, 2011 at 6:09 PM, Jason Rutherglen
<jason.rutherglen@gmail.com> wrote:
> I'm seeing an error when using the misc Append codec.
>
> java.lang.AssertionError
> at org.apache.lucene.store.ByteArrayDataInput.readBytes(ByteArrayDataInpu=
t.java:107)
> at org.apache.lucene.index.codecs.BlockTermsReader$FieldReader$SegmentTer=
msEnum._next(BlockTermsReader.java:661)
> at org.apache.lucene.index.codecs.BlockTermsReader$FieldReader$SegmentTer=
msEnum.next(BlockTermsReader.java:639)
>
> And am wondering if it's related to the codec or not. =C2=A0The unit test=
s
> for Append are minimal? =C2=A0Perhaps we can/should include it in the
> random codecs chosen for unit testing?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 19:17:55 2011
Return-Path: <java-user-return-49067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16679 invoked from network); 21 Mar 2011 19:17:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 19:17:55 -0000
Received: (qmail 44785 invoked by uid 500); 21 Mar 2011 19:17:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44727 invoked by uid 500); 21 Mar 2011 19:17:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44718 invoked by uid 99); 21 Mar 2011 19:17:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 19:17:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sanne.grinovero@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 19:17:45 +0000
Received: by bwz8 with SMTP id 8so6981843bwz.35
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 12:17:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type:content-transfer-encoding;
        bh=YztcB+gBZyCI1aGmMyH2/nCzpaL5giIy7CeeI5UH5UU=;
        b=llUs+Ezq6yvS5/eAi+XYub+AsayuX5yJBmfBxGVptn8e8i66CYr7iMhmnznB1dJiHR
         vb1k1HjaeNQwh5xel4mtPbtn4xSaaT4tJ5GcEcQ0TEeb2WBS1C8rmcZDdgTqah4V75AI
         yG4vtCcItdA3KBtXvfN4GTa/IEfhtZs9/jA3A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type:content-transfer-encoding;
        b=FEmNv3WP5lgTSRzfxFofrFkh8BdUMW/xydADGGSAhYNukdNYmdq8P9ogtN/6EHwSam
         JJA+oHGNvl+WbOxdi+wPiXw2chaIptBZNsyMBqRXMt3K12NCqWZF9O2zdUSZSBaK1gOv
         2+QBVwSJ9XQFA8CpQcMxP0lkHelN/XR+NRtEg=
Received: by 10.204.47.87 with SMTP id m23mr4079678bkf.156.1300734931160; Mon,
 21 Mar 2011 12:15:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.49.140 with HTTP; Mon, 21 Mar 2011 12:15:11 -0700 (PDT)
In-Reply-To: <AANLkTi=inDYwRQEccp6k7-CFB02ZDNtyHQHjR=RRXZTA@mail.gmail.com>
References: <AANLkTi=inDYwRQEccp6k7-CFB02ZDNtyHQHjR=RRXZTA@mail.gmail.com>
From: Sanne Grinovero <sanne.grinovero@gmail.com>
Date: Mon, 21 Mar 2011 19:15:11 +0000
Message-ID: <AANLkTi=zLNrsUEUc0iSyN7W9_ArDBbpNwhr5YDQL2E1m@mail.gmail.com>
Subject: Re: Performance problems with lazily loaded fields
To: java-user@lucene.apache.org
Cc: Brian Hurt <bhurt42@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2011/3/21 Brian Hurt <bhurt42@gmail.com>:
> I'm having a problem with the performance of lazily-loaded fields with
> lucene. =C2=A0The basic structure of the code is that I get a set of docu=
ments
> back from a query, then iterate through them, reading most fields to coll=
ect
> fragments. =C2=A0This is taking an excessively long amount of time- mostl=
y in my
> call to getField on the document. =C2=A0Each such call takes milliseconds=
,
> meaning a query that even returns only a few dozen items takes me hundred=
s
> of milliseconds to process, which is causing problems elsewhere. =C2=A0So=
 the
> question I have is if there is some way I can optimize the loading of
> fields? =C2=A0I am calling the doc function on the index search with a nu=
ll
> FieldSelector, but this does not seem to reduce the cost of getting field=
s
> (indeed, it seems to slow down the whole query processing by a significan=
t
> factor). =C2=A0Is there any help anyone can give me?

Hi,
you should not use a null FieldSelector, but create one instead, for
example the org.apache.lucene.document.MapFieldSelector,
so to make sure you're only going to initialize the fields you
actually need (assuming you need a subset).
Also you might have a look into FieldCache usage, there's an excellent
chapter on it in Lucene in Action (second edition);
this approach assumes you can dedicate some memory to cache extracted
field values in memory, and you're in a read-mostly
scenario (as filling the FieldCache might be more costly than a single
extraction: it affects all elements in the index, not your Hits only).

I've also seen that the cost of Field extraction is quite cheap on
solid state disks,
compared to rotating disks at least.

Regards,
Sanne

>
> Thanks.
>
> Brian
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 21 21:16:20 2011
Return-Path: <java-user-return-49068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63850 invoked from network); 21 Mar 2011 21:16:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Mar 2011 21:16:20 -0000
Received: (qmail 52497 invoked by uid 500); 21 Mar 2011 21:16:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52461 invoked by uid 500); 21 Mar 2011 21:16:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52453 invoked by uid 99); 21 Mar 2011 21:16:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2011 21:16:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.58] (HELO nm11-vm0.bullet.mail.ne1.yahoo.com) (98.138.90.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Mar 2011 21:16:09 +0000
Received: from [98.138.90.54] by nm11.bullet.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 21:15:48 -0000
Received: from [98.138.89.199] by tm7.bullet.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 21:15:48 -0000
Received: from [127.0.0.1] by omp1057.mail.ne1.yahoo.com with NNFMP; 21 Mar 2011 21:15:48 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 147055.51363.bm@omp1057.mail.ne1.yahoo.com
Received: (qmail 11133 invoked by uid 60001); 21 Mar 2011 21:15:48 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300742147; bh=IQrTZWSrMSbbtI7SSFzi8+H+4QF4rhSk6MJIcF+Fpc4=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=lExZdvZaY3HHEenmG86+Rx+IxWuaM8ZVvOMVlcixgqZ0dQuwAHU2TL6ZX3p6ykZ23iHtemNofppXdl+mKBMfHbrbhNGt9KDOpsip9CFMd1XbaRBLnEmRxoGh5QPY1iBbaFgVr+/HF+WO1xhjOjgP4lm93YwOtm0fV2N2v9dCNw8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=i7w0GgKTWOx6KQ9/5x/Nm+Ze7j4dvBPcLtuVsqx9rhuqSmrgeinFJznH+9VmJyi8mFy4ojB4qPjnphOs8VIGRn/VHh/eNrOsvx2/a+akW/E+o7K2lQhnfiwrnOtRlc41xlm58rEd2r1j+coqgR0k8GTAo/aEdYui8xyKRKPCsyI=;
Message-ID: <963839.8453.qm@web121713.mail.ne1.yahoo.com>
X-YMail-OSG: 2qmyfDIVM1mNyAg8K1DRjCoV06nnbS.7ZkafKIXE6n.kUh.
 JBo5BRU9lhQnGkLf2wQcJioP0oHn.j.SzliZswyNDJyHOnpLlKF2K2hTNafz
 saC7r8PfnlOGhRVDkx9R5l_GZxPPpmWQGls.RU_TCPWN3cwjkPiy7KPUwe4p
 aF0a1JY5XnbxSAWcPNeLC9sKksAmn.6CDO0BbpuPWgzxI7lWeE5e4CxaTNpU
 5ID9S789VxD8M5NQ54LdbP_IeJtadYrOFwML8e1jY.YXxnIyNNLDlxxsM_s_
 BKPjDffAYIRczkrFCj1jviNjh04B6ok4RXkM1ib2z6GVKHfFgBvdVYj3jmDy
 7EPCetZ30pYFZ31b_cfahdWVAD.w-
Received: from [95.10.236.185] by web121713.mail.ne1.yahoo.com via HTTP; Mon, 21 Mar 2011 14:15:47 PDT
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.295617
Date: Mon, 21 Mar 2011 14:15:47 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> Date: Monday, March 21, 2011, 7:39 PM
> One more thing: It is actually not
> clear to me how to use PhraseQuery... I
> thought I can just pass a phrase to it, but I see only
> add(Term) method...
> should I parse the string by myself to single terms ?

Yes, you need to do it. 

QueryParser transforms String into Query.

http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/queryParser/QueryParser.html 


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 01:41:35 2011
Return-Path: <java-user-return-49069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38450 invoked from network); 22 Mar 2011 01:41:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 01:41:35 -0000
Received: (qmail 74562 invoked by uid 500); 22 Mar 2011 01:41:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74513 invoked by uid 500); 22 Mar 2011 01:41:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74505 invoked by uid 99); 22 Mar 2011 01:41:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 01:41:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shiyuming.shi@gmail.com designates 209.85.161.181 as permitted sender)
Received: from [209.85.161.181] (HELO mail-gx0-f181.google.com) (209.85.161.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 01:41:23 +0000
Received: by gxk28 with SMTP id 28so3115532gxk.12
        for <java-user@lucene.apache.org>; Mon, 21 Mar 2011 18:41:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:date:from:reply-to:to:references:subject
         :message-id:organization:x-mailer:mime-version:content-type;
        bh=G8Y9B/PX3rtDDzBs15l6rFaPfK5rR2LlnZswbpzyfa0=;
        b=qYcumZUJkimkGt9vS3qerJSAcMFbuMwQ2xuqFioX3mXptMLRN7kNeMfHSKouDMcnJj
         kz3GqYPcgQoU3ay/2xZrn0HcajuMEDCEDlpnQ2hOJngj7nUoSExt9Cc2pv00qIv4i5NH
         z533G/zEd2mMysG5JrBAevKsOT4c2rLciRfiM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:reply-to:to:references:subject:message-id:organization
         :x-mailer:mime-version:content-type;
        b=lSZLOoChCMRLeUtsWISpjXqEHuieRfNbfV0QGKhUN9gW0Zx8NVzdqH5f+bj1ycu5VZ
         +q07IwwcnMts01fL7sFTWTXKraorAQsvzGgOoXedHNEx/78BqpCaOXg75vjV0XaUmGjY
         fDajnW6qDb9YA8zwMRUeYgZz39UauvJSjjZqA=
Received: by 10.151.142.3 with SMTP id u3mr4602988ybn.214.1300758062684;
        Mon, 21 Mar 2011 18:41:02 -0700 (PDT)
Received: from ibm-cf70912fa10 ([125.33.125.75])
        by mx.google.com with ESMTPS id u5sm2665306yhn.51.2011.03.21.18.40.59
        (version=SSLv3 cipher=OTHER);
        Mon, 21 Mar 2011 18:41:02 -0700 (PDT)
Date: Tue, 22 Mar 2011 09:41:03 +0800
From: "=?gb2312?B?yq/T8cP3?=" <shiyuming.shi@gmail.com>
Reply-To: shiyuming.shi@Gmail.com
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
References: <AANLkTikGO9VdC2xj9oqTuB6GnNABqhw72VbhbDxTSdSV@mail.gmail.com>
Subject: Re: Urgent! Forgot to close IndexWriter after adding Documents to the index.
Message-ID: <201103220940585153504@Gmail.com>
Organization: FreeLance
X-mailer: Foxmail 6, 10, 201, 20 [cn]
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====003_Dragon374803037528_====="
X-Virus-Checked: Checked by ClamAV on apache.org

--=====003_Dragon374803037528_=====
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

U2+jrHlvdSdkIGJldHRlciB0byBzdGFydCB0aGUgcHJvZ3JhbSBzb29uLiBUaGVyZSBpcyBhbm5v
dGhlciBzdWdnZXN0aW9uOiB5b3UgY2FuIGNvbnN0cnVjdCB0aGUgaW5kZXggYnkgbW9yZSB0aGFu
IG9uZSBJbmRleGVyV3JpdGVyLCANCmFzIGxvbmcgYXMgSSBrbm93LCB5b3UgY2FuIHVzZSBpbmRl
eHMgdG8gY29uc3RydWN0IHRoZSBpbmRleCBzZXBlcmF0ZWx5LCB0aGVuIGNvbmJpbmUgdGhlbS4g
SXQgd2lsbCBzYXZlIG1hbnkgdGltZS4gDQpJIGFtIG5ldyB0byBMdWNlbmUsIEkgY2FuJ3QgcmVt
ZW1iZXIgdGhlIHN5bnRleCBjbGVhcmx5LCB5b3UgY2FuIHJldHVybiB0byB0aGUgRG9jcy4gZ29v
ZCBsdWNrIQ0KDQoNCjIwMTEtMDMtMjIgDQoNCg0KDQrKr9Pxw/cgDQoNCg0KDQq3orz+yMujuiBL
ZXZpbiBUc2UgDQq3osvNyrG85KO6IDIwMTEtMDMtMjEgIDE0OjA2OjIyIA0KytW8/sjLo7ogamF2
YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnIA0Ks63LzaO6IA0K1vfM4qO6IFVyZ2VudCEgRm9yZ290
IHRvIGNsb3NlIEluZGV4V3JpdGVyIGFmdGVyIGFkZGluZyBEb2N1bWVudHMgdG8gdGhlIGluZGV4
LiANCiANCkhpLCBleHBlcnRzDQoNCkkgaGFkIGEgcHJvZ3JhbSBydW5uaW5nIGZvciAyIGRheXMg
dG8gYnVpbGQgYW4gaW5kZXggZm9yIGFyb3VuZCAxNjAgbWlsbGlvbg0KdGV4dCBmaWxlcywgYW5k
IGFmdGVyIHByb2dyYW0gZW5kZWQsIEkgdHJpZWQgc2VhcmNoaW5nIHRoZSBpbmRleCBhbmQgZm91
bmQNCnRoZSBpbmRleCB3YXMgbm90IGNvcnJlY3RseSBidWlsdCwgKmluZGV4UmVhZGVyLm51bURv
Y3MoKSogcmV0dXJucyAwLiBJDQpjaGVja2VkIHRoZSBpbmRleCBkaXJlY3RvcnksIGl0IGxvb2tl
ZCBnb29kLCBhbGwgdGhlIGluZGV4IGRhdGEgc2VlbWVkIHRvIGJlDQp0aGVyZSwgdGhlIGRpcmVj
dG9yeSBpcyAxLjUgR2lnYWJ5dGVzIGluIHNpemUuDQoNCkkgY2hlY2tlZCBteSBjb2RlIGFuZCBm
b3VuZCB0aGF0IEkgZm9yZ290IHRvIGNhbGwgKmluZGV4V3JpdGVyLm9wdGltaXplKCkqYW5kDQoq
aW5kZXhXcml0ZXIuY2xvc2UoKSosIEkgd2FudCB0byBrbm93IGlmIGl0IGlzIHBvc3NpYmxlIHRv
DQoqcmUtb3B0aW1pemUoKSp0aGUgaW5kZXggc28gSSBkb24ndCBuZWVkIHRvIHJlYnVpbGQgdGhl
IHdob2xlIGluZGV4DQpmcm9tIHNjcmF0Y2g/IEkgZG9uJ3QNCnJlYWxseSB3YW50IHRoZSBwcm9n
cmFtIHRvIHRha2UgYW5vdGhlciAyIGRheXMuDQoNClRoYW5rcyENCg0KLS0gDQpOZWV2ZWsgRXN0
DQo=

--=====003_Dragon374803037528_=====--


From java-user-return-49070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 07:00:27 2011
Return-Path: <java-user-return-49070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60601 invoked from network); 22 Mar 2011 07:00:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 07:00:27 -0000
Received: (qmail 69069 invoked by uid 500); 22 Mar 2011 07:00:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68980 invoked by uid 500); 22 Mar 2011 07:00:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68972 invoked by uid 99); 22 Mar 2011 07:00:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:00:18 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:00:13 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q1vZH-0003AL-Kq
	for java-user@lucene.apache.org; Mon, 21 Mar 2011 23:59:51 -0700
Date: Mon, 21 Mar 2011 23:59:51 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <1300777191612-2713888.post@n3.nabble.com>
Subject: Is it possible to update only selected fields in a document ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am asking for partial update in Lucene, 
where I want to update only a selected field of all fields in the document. 
Does Lucene provide any way to do this ? 

How to approach this ? 

--
View this message in context: http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2713888.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 07:08:53 2011
Return-Path: <java-user-return-49071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10982 invoked from network); 22 Mar 2011 07:08:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 07:08:52 -0000
Received: (qmail 74271 invoked by uid 500); 22 Mar 2011 07:08:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74071 invoked by uid 500); 22 Mar 2011 07:08:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74063 invoked by uid 99); 22 Mar 2011 07:08:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:08:45 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:08:41 +0000
Received: by qyk30 with SMTP id 30so6372267qyk.14
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 00:08:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=c+veQH+uQceERHaY4gFN5i5vcTBmuSQPbXPfeg53lHo=;
        b=IVtnr7S++TLD3AhDlkU5I0KRQ8dodClxVfsAD+gj6kgQd2gnthrfqA1aRDuZzizBxy
         d96S02KlojfrFX3cMnuxx2qg/go7q96Y/fc7jjz5nTfWFL6AQ/HWqcsLR+C/FH5UkB3n
         NR7tadXa1JXmEyURjqz3mKc8p9FJsqkhjz2SM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=F3Cl3DKNEO4H/usb++ZitowTfSyBSvNv9UH7ImWffCp1VWbyvaMlh9hUyovhYnumKr
         xVoZh/phBlHmxs4RIjdhLF5JFIbRVTxzepaavStZGvYo9MDfooxFYfLHs4wGshJohSuI
         c9qPtzFHKYKjQcjEOhW831rQ/8/UjBw9LSjp0=
Received: by 10.229.103.12 with SMTP id i12mr4387636qco.111.1300777700173;
 Tue, 22 Mar 2011 00:08:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 00:08:00 -0700 (PDT)
In-Reply-To: <1300777191612-2713888.post@n3.nabble.com>
References: <1300777191612-2713888.post@n3.nabble.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 12:38:00 +0530
Message-ID: <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com>
Subject: Re: Is it possible to update only selected fields in a document ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2d9fac02aa0049f0ce871

--000e0cd2d9fac02aa0049f0ce871
Content-Type: text/plain; charset=ISO-8859-1

Hi,
No as of now, there's no way to do so.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 12:29 PM, shrinath.m <shrinath.m@webyog.com> wrote:

> I am asking for partial update in Lucene,
> where I want to update only a selected field of all fields in the document.
> Does Lucene provide any way to do this ?
>
> How to approach this ?
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2713888.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd2d9fac02aa0049f0ce871--

From java-user-return-49072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 07:41:14 2011
Return-Path: <java-user-return-49072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1982 invoked from network); 22 Mar 2011 07:41:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 07:41:13 -0000
Received: (qmail 7237 invoked by uid 500); 22 Mar 2011 07:41:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7208 invoked by uid 500); 22 Mar 2011 07:41:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7196 invoked by uid 99); 22 Mar 2011 07:41:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:41:11 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:41:05 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q1wCp-0005g5-7z
	for java-user@lucene.apache.org; Tue, 22 Mar 2011 00:40:43 -0700
Date: Tue, 22 Mar 2011 00:40:43 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com>
In-Reply-To: <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com>
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com>
Subject: Re: Is it possible to update only selected fields in a document ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12806_24544245.1300779643241"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_12806_24544245.1300779643241
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Tue, Mar 22, 2011 at 12:39 PM, Anshum-2 [via Lucene] <
ml-node+2713899-1210341880-376162@n3.nabble.com> wrote:

> No as of now, there's no way to do so.


Thank you Anshum-2,
how do you propose I do this ?
I have thought of a way like this :
- first get the doc based on a unique id into a HashMap,
- replace the field which I want to update
- call update on the index with the map.

Is there any efficient way of doing this ?


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2713965.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_12806_24544245.1300779643241--

From java-user-return-49073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 07:41:37 2011
Return-Path: <java-user-return-49073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2104 invoked from network); 22 Mar 2011 07:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 07:41:36 -0000
Received: (qmail 9296 invoked by uid 500); 22 Mar 2011 07:41:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9243 invoked by uid 500); 22 Mar 2011 07:41:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9235 invoked by uid 99); 22 Mar 2011 07:41:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:41:34 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 07:41:28 +0000
Received: by fxm7 with SMTP id 7so8321380fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 00:41:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=41+PXJkeJu01858bfSh+tbQTx5Z7Uo26Kmg2c9d3Cgw=;
        b=up8+Rz7vR7lnZ1xA1/PYmex30FXHJrBzjDmbApBUvlqgyDkOewT5GLZLVwbSVJIIJg
         lhOaqrxl7uua8SDsmVnun2YY4bvEc8E9MpqzUWSIk1NI0TeQSZrzSjNleeyyuHbMhKXc
         Pyupdebc/oE0r0OfRGVdYibyeAZCEHAx5DJN4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vcBwops+E7ujibo9TzN+aim2CzIqEu6Hv56SaSStaPzAUXQrj+N7khkxYPfM/rdsta
         k2agRS1S7cjLH+6T7CKcFotTxiGI9QGU93ECr7sw81vdFppg1hdo44OCykJqfh3DEMZF
         jmRxjKEBCW4Yf2RLrDRFckBkgNdNZF6KQ6aQA=
MIME-Version: 1.0
Received: by 10.223.73.198 with SMTP id r6mr6083559faj.109.1300779666908; Tue,
 22 Mar 2011 00:41:06 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 00:41:06 -0700 (PDT)
In-Reply-To: <963839.8453.qm@web121713.mail.ne1.yahoo.com>
References: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
	<963839.8453.qm@web121713.mail.ne1.yahoo.com>
Date: Tue, 22 Mar 2011 08:41:06 +0100
Message-ID: <AANLkTimrPwj6qWhdNm+oWSWTw06gapRAtw_TeH8PyrTQ@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a66dfa2647049f0d5d37

--20cf3054a66dfa2647049f0d5d37
Content-Type: text/plain; charset=ISO-8859-1

OK, so I'm currently doing this:

booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40,
"tags", new
WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]);
 , BooleanClause.Occur.SHOULD);

I just want to add single terms to my booleanQuery. if I pass a query to the
add method, am I considering the single terms ?

thanks



On 21 March 2011 22:15, Ahmet Arslan <iorixxx@yahoo.com> wrote:

> > Date: Monday, March 21, 2011, 7:39 PM
> > One more thing: It is actually not
> > clear to me how to use PhraseQuery... I
> > thought I can just pass a phrase to it, but I see only
> > add(Term) method...
> > should I parse the string by myself to single terms ?
>
> Yes, you need to do it.
>
> QueryParser transforms String into Query.
>
>
> http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/queryParser/QueryParser.html
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a66dfa2647049f0d5d37--

From java-user-return-49074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 08:07:39 2011
Return-Path: <java-user-return-49074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99680 invoked from network); 22 Mar 2011 08:07:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 08:07:39 -0000
Received: (qmail 29881 invoked by uid 500); 22 Mar 2011 08:07:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29845 invoked by uid 500); 22 Mar 2011 08:07:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29837 invoked by uid 99); 22 Mar 2011 08:07:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:07:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of michael.wechner@wyona.com designates 195.226.6.75 as permitted sender)
Received: from [195.226.6.75] (HELO mail.wyona.com) (195.226.6.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:07:31 +0000
Received: from michael-wechners-macbook-pro-3.local (unknown [195.226.6.66])
	by mail.wyona.com (Postfix) with ESMTPA id 5E6AD2DA1C8
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 09:11:07 +0100 (CET)
Message-ID: <4D885888.2070309@wyona.com>
Date: Tue, 22 Mar 2011 09:06:32 +0100
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Is it possible to update only selected fields in a document ?
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com> <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com>
In-Reply-To: <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 3/22/11 8:40 AM, shrinath.m wrote:
> On Tue, Mar 22, 2011 at 12:39 PM, Anshum-2 [via Lucene]<
> ml-node+2713899-1210341880-376162@n3.nabble.com>  wrote:
>
>> No as of now, there's no way to do so.
>
> Thank you Anshum-2,
> how do you propose I do this ?
> I have thought of a way like this :
> - first get the doc based on a unique id into a HashMap,
> - replace the field which I want to update
> - call update on the index with the map.
>
> Is there any efficient way of doing this ?

are you looking for something like

http://hrycan.com/2009/11/26/updating-document-fields-in-lucene/

?

If so, please be aware that IIUC this only works for stored fields, but 
for fields which used StringReader (readerValue) this does not seem to 
work, but I am not certain and are still trying to figure this out to
make sure.

HTH

Michael
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 08:23:20 2011
Return-Path: <java-user-return-49075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25706 invoked from network); 22 Mar 2011 08:23:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 08:23:19 -0000
Received: (qmail 43088 invoked by uid 500); 22 Mar 2011 08:23:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43044 invoked by uid 500); 22 Mar 2011 08:23:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43036 invoked by uid 99); 22 Mar 2011 08:23:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:23:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:23:10 +0000
Received: by fxm7 with SMTP id 7so8353727fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 01:22:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=hWJ9h/tL+RvMDsjDrt+/LdKD5Vftxg+NxQfLtUXg44I=;
        b=Z8DSpQ4KDEOCU6PB0T5HbPGgSTGxb4OBoJXWJg7Zvec2aFh/aeuUBEiYUmB8Uc6Zi1
         uj5OAiy4KV5/osltgMNmWRZproUmPiaEKL2Tazi08rWORsbaet2u9omoHuyhz05ecqWt
         RaqfCAKwZEva5GT1FzanL0TmOqW86QGz5mUN8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=t3wZTV/UfNSNjAWAz4Dx5TWpHgEJf2cWdwv3nqJBAoTD3A3h3joKz5hFNKGSmHrFNk
         exg/FfMzle3lEDYLBxlBRBVUgYczuA6ViWcFb079yWG58SOrivN9z9PpnDw9gC9HYVnu
         vvDTRZi4B8gJZ4dDEo2B6CLURWCsCex5YT3gM=
MIME-Version: 1.0
Received: by 10.223.143.5 with SMTP id s5mr6188838fau.14.1300782170264; Tue,
 22 Mar 2011 01:22:50 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 01:22:50 -0700 (PDT)
Date: Tue, 22 Mar 2011 09:22:50 +0100
Message-ID: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
Subject: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0023545bdbc03054b7049f0df3b3
X-Virus-Checked: Checked by ClamAV on apache.org

--0023545bdbc03054b7049f0df3b3
Content-Type: text/plain; charset=ISO-8859-1

I'm using the following code because I want to see the entire collection in
my query results:

//adding wildcards-term to see all results
rest = new TermQuery(new Term("*","*"));
booleanQuery.add(rest, BooleanClause.Occur.SHOULD);

But it doesn't work, I only see the relevant docs and not all the other
ones.
How can I get all documents ordered by relevance instead ?

ps. MatchAllDocsQuery is not a solution because I need to specify my own
custom query.

--0023545bdbc03054b7049f0df3b3--

From java-user-return-49076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 08:31:05 2011
Return-Path: <java-user-return-49076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49792 invoked from network); 22 Mar 2011 08:31:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 08:31:05 -0000
Received: (qmail 54467 invoked by uid 500); 22 Mar 2011 08:31:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54430 invoked by uid 500); 22 Mar 2011 08:31:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54422 invoked by uid 99); 22 Mar 2011 08:31:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:31:03 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of solmyr72@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:30:55 +0000
Received: by iwr19 with SMTP id 19so9777981iwr.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 01:30:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=4PgdCD4P3ryFP6MGzKGhGJs1bsiHyd4L2/SkbfmG3H4=;
        b=WgL6SxGnhiJ7x3V+Ho+1rwUQHMR0F1PklZvMy6t2AVgrQPs+d6XDWEVao8NPxvZA34
         b0nLWIxnPCo/202masjJoHbo8bEizHCDpw/i4Li+N1dd+rVFGLmgkhvpO8ZL95CUfcnH
         oiO4Sto+rMZGCWwRttv1mN/O8aZm7UaT7FvOg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=FBZJ2mvywprNo4X3/Inu2iAWaHv5ZAUoCYfhMmN9T1B8LB3exuX2j7rBYvv6Jyga+D
         XSS6nbOEYwpPu8EhVudmohQQYU2XnmuskES9a3WC6XfS7E1iJBvr1FPuiQRw/mH+CAA5
         Scu77OFe/xDjgKgPNMorimXHaQdKGFgJTSpM4=
MIME-Version: 1.0
Received: by 10.43.58.135 with SMTP id wk7mr8384956icb.433.1300782634734; Tue,
 22 Mar 2011 01:30:34 -0700 (PDT)
Received: by 10.231.206.81 with HTTP; Tue, 22 Mar 2011 01:30:34 -0700 (PDT)
Date: Tue, 22 Mar 2011 10:30:34 +0200
Message-ID: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
Subject: Distributing a Lucene application?
From: sol myr <solmyr72@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec51a8aa0df96b6049f0e0ea3
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec51a8aa0df96b6049f0e0ea3
Content-Type: text/plain; charset=ISO-8859-1

Hi,
What are my options for distributing an application that uses Lucene?

Our current application works against a database of INVENTORY. We schedule
hourly checks for modified items (timestamp-based), and update a single
Lucene index.
Now we want to distribute out application, to a Grid, with failover, and a
bit of data sharing:
Say we have 2 branches - New York and Los Angeles.

(1) Inventory of the NY branch is handled by 2 application servers, and 2
database copies. They are exact replicates, for failover/load balance.
Similarly, the LA branch gets 2 application servers and 2 databases.

(2) 90% of the time, each branch "minds its own business" and isn't
interested in the other branch's inventory.
However on rare occasions, an LA administrator needs to search the NY
inventory (we can compromise on data freshness, e.g. show data 10 hours
old).

Does Lucene have built-in support for any of this?
If I'm to do this "from scratch" I'll probably just let each application
server maintain its own copy of Lucene index (with data only from its own
city, and hourly updates as before).
And for the requirement of "LA admin searching the NY inventory" I'd
schedule a task to copy the NY index into the LA server, every 10 hours.

Is this a reasonable approach? Or are there Lucene-management tools that
would handle it better?
Thanks :)

--bcaec51a8aa0df96b6049f0e0ea3--

From java-user-return-49077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 08:35:29 2011
Return-Path: <java-user-return-49077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77400 invoked from network); 22 Mar 2011 08:35:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 08:35:29 -0000
Received: (qmail 62769 invoked by uid 500); 22 Mar 2011 08:35:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62602 invoked by uid 500); 22 Mar 2011 08:35:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62594 invoked by uid 99); 22 Mar 2011 08:35:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:35:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 08:35:19 +0000
Received: by fxm7 with SMTP id 7so8363764fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 01:34:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=4mOws1HBiRkWBv7k9SOmC8+j+eaOG8yi5frx9B+UZGQ=;
        b=Re4HUBwnJMe4/VR1lU4UL3muXXwy2smO0q9MI0Exf65Zf+nyRLKC5nVRl0rWkkKkS4
         D+yI3U5/lx5w+lGi2EmwN3YXwIAAYdtST79YDfoo3JGGjsszt755oEAyULj8/SgRs6s4
         26LaiszZgqwUGNNA9tD1e4OsLy3suA45GNLW4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=T3WVkrqKi1oihgAz6wwwM+3gfDHKoIknpK2eeQI8JSh6ef8SEv7jI2gi3erM91OwvB
         Bdl9PbMXbV1EXtIBoSr0pzkKZRCVKLvqAcMtfaJ9epYln/k0FS2fxaGg0Gmmm7cHeYW/
         EWnkFQs0fY3NZUC0b8/0+Ef3Hx/qVwNa8LhFw=
MIME-Version: 1.0
Received: by 10.223.117.134 with SMTP id r6mr6208127faq.147.1300782899284;
 Tue, 22 Mar 2011 01:34:59 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 01:34:59 -0700 (PDT)
Date: Tue, 22 Mar 2011 09:34:59 +0100
Message-ID: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
Subject: Results: get per field scores ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c64aa44b77049f0e1e64
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502c64aa44b77049f0e1e64
Content-Type: text/plain; charset=ISO-8859-1

Is there a way to display Lucene scores per field instead of the global one
?
Both my query and my docs have 3 fields.

I would like to see the scores for each field in the results. Can I ?

Or should I run the query 3 times for each single field ?

thanks

--00504502c64aa44b77049f0e1e64--

From java-user-return-49078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 09:10:27 2011
Return-Path: <java-user-return-49078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88017 invoked from network); 22 Mar 2011 09:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 09:10:26 -0000
Received: (qmail 91005 invoked by uid 500); 22 Mar 2011 09:10:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90964 invoked by uid 500); 22 Mar 2011 09:10:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90956 invoked by uid 99); 22 Mar 2011 09:10:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 09:10:24 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 09:10:20 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q1xbD-0003RV-FO
	for java-user@lucene.apache.org; Tue, 22 Mar 2011 02:09:59 -0700
Date: Tue, 22 Mar 2011 02:09:59 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com>
In-Reply-To: <4D885888.2070309@wyona.com>
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com> <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com> <4D885888.2070309@wyona.com>
Subject: Re: Is it possible to update only selected fields in a document ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14224_15239701.1300784999472"

------=_Part_14224_15239701.1300784999472
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Tue, Mar 22, 2011 at 1:37 PM, Michael Wechner [via Lucene] <
ml-node+2714008-984126374-376162@n3.nabble.com> wrote:

> are you looking for something like
>
> http://hrycan.com/2009/11/26/updating-document-fields-in-lucene/
>
> ?
>

Precisely that.
I am OK with storing the fields,
but I wanted to do that without making the *id* field searchable. ( I mean,
*not indexed* => Field.Index.NO)

Is that possible ?


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2714133.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_14224_15239701.1300784999472--

From java-user-return-49079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 09:29:24 2011
Return-Path: <java-user-return-49079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34467 invoked from network); 22 Mar 2011 09:29:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 09:29:24 -0000
Received: (qmail 8143 invoked by uid 500); 22 Mar 2011 09:29:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8097 invoked by uid 500); 22 Mar 2011 09:29:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8089 invoked by uid 99); 22 Mar 2011 09:29:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 09:29:22 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jzillmann@googlemail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 09:29:15 +0000
Received: by eya28 with SMTP id 28so2139169eya.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 02:28:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:content-type:mime-version:subject:from
         :in-reply-to:date:content-transfer-encoding:message-id:references:to
         :x-mailer;
        bh=0NDgIGnMflbseGaRdINDEsCkgiTa6HBiNSMuiBLc+IE=;
        b=xbdE7h78dsB9oppTJdF8ecNFfihDJl33A55QBvytSv3zxFzN32ASDomRrUv5qFQY6E
         gFGFt9Y5JtkIcUXngc36gNHMbddwH6/dp0I7FQa/xQ5tWS15qVR8hG8fW19EBWXwpce4
         KcsKzkuaHtL6Qw9879N9RcJi1q4X3tYDR/ZHQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        b=E8CixwTK6zs5yIo0MCR7LBzwUnnKAyAs1sM6X3wZ97gngr0XOfZtfhnqUyZbnhWpdL
         ibNSUfYlwNFk8OkjinGelVrGW3MQrVUYEjOeC/YlQTr+jQr5e37tmBngMPm4I0BCZzpc
         K5kSQcufWBrDtFfffvsMYVYUY62opbhTGL7Ds=
Received: by 10.213.34.193 with SMTP id m1mr2381584ebd.6.1300786133843;
        Tue, 22 Mar 2011 02:28:53 -0700 (PDT)
Received: from [10.0.2.3] (83-221-83-197.dynamic.primacom.net [83.221.83.197])
        by mx.google.com with ESMTPS id v1sm2615137eeh.13.2011.03.22.02.28.51
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 Mar 2011 02:28:52 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Distributing a Lucene application?
From: Johannes Zillmann <jzillmann@googlemail.com>
In-Reply-To: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
Date: Tue, 22 Mar 2011 10:28:50 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <00C1ADB2-BD91-47A4-8EE1-250833F53915@googlemail.com>
References: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

Can have a look at http://katta.sourceforge.net/ or =
http://wiki.apache.org/solr/SolrCollectionDistributionScripts

HTH
Johannes

On Mar 22, 2011, at 9:30 AM, sol myr wrote:

> Hi,
> What are my options for distributing an application that uses Lucene?
>=20
> Our current application works against a database of INVENTORY. We =
schedule
> hourly checks for modified items (timestamp-based), and update a =
single
> Lucene index.
> Now we want to distribute out application, to a Grid, with failover, =
and a
> bit of data sharing:
> Say we have 2 branches - New York and Los Angeles.
>=20
> (1) Inventory of the NY branch is handled by 2 application servers, =
and 2
> database copies. They are exact replicates, for failover/load balance.
> Similarly, the LA branch gets 2 application servers and 2 databases.
>=20
> (2) 90% of the time, each branch "minds its own business" and isn't
> interested in the other branch's inventory.
> However on rare occasions, an LA administrator needs to search the NY
> inventory (we can compromise on data freshness, e.g. show data 10 =
hours
> old).
>=20
> Does Lucene have built-in support for any of this?
> If I'm to do this "from scratch" I'll probably just let each =
application
> server maintain its own copy of Lucene index (with data only from its =
own
> city, and hourly updates as before).
> And for the requirement of "LA admin searching the NY inventory" I'd
> schedule a task to copy the NY index into the LA server, every 10 =
hours.
>=20
> Is this a reasonable approach? Or are there Lucene-management tools =
that
> would handle it better?
> Thanks :)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:23:11 2011
Return-Path: <java-user-return-49080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5868 invoked from network); 22 Mar 2011 10:23:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:23:11 -0000
Received: (qmail 60054 invoked by uid 500); 22 Mar 2011 10:23:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60011 invoked by uid 500); 22 Mar 2011 10:23:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60003 invoked by uid 99); 22 Mar 2011 10:23:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:23:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michael.wechner@wyona.com designates 195.226.6.75 as permitted sender)
Received: from [195.226.6.75] (HELO mail.wyona.com) (195.226.6.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:23:02 +0000
Received: from michael-wechners-macbook-pro-3.local (unknown [195.226.6.66])
	by mail.wyona.com (Postfix) with ESMTPA id 673882DA1C8
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 11:27:02 +0100 (CET)
Message-ID: <4D887868.7070303@wyona.com>
Date: Tue, 22 Mar 2011 11:22:32 +0100
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Is it possible to update only selected fields in a document ?
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com> <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com> <4D885888.2070309@wyona.com> <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com>
In-Reply-To: <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/22/11 10:09 AM, shrinath.m wrote:
> On Tue, Mar 22, 2011 at 1:37 PM, Michael Wechner [via Lucene]<
> ml-node+2714008-984126374-376162@n3.nabble.com>  wrote:
>
>> are you looking for something like
>>
>> http://hrycan.com/2009/11/26/updating-document-fields-in-lucene/
>>
>> ?
>>
> Precisely that.
> I am OK with storing the fields,
> but I wanted to do that without making the *id* field searchable. ( I mean,
> *not indexed* =>  Field.Index.NO)
>
> Is that possible ?

I don't know. I guess the question is how else do you find this 
particular document.

As a workaround I would suggest that you index the *id* and that your 
application
just hides/blocks searching for it.

HTH

Michael
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:27:29 2011
Return-Path: <java-user-return-49081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23013 invoked from network); 22 Mar 2011 10:27:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:27:29 -0000
Received: (qmail 67254 invoked by uid 500); 22 Mar 2011 10:27:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67217 invoked by uid 500); 22 Mar 2011 10:27:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67209 invoked by uid 99); 22 Mar 2011 10:27:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:27:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:27:21 +0000
Received: by qyk30 with SMTP id 30so6556642qyk.14
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 03:27:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=OVN+MdZ5TlDwO2GwkB1RIu5C5AKw2HSjPIToClTlniQ=;
        b=vEeOYHByo5AtRQ8zGdGQDPo/fTd03KUfy3caAf4+QljhgNspCAtqO+wuEQrc18QO6k
         kBnBEIR5uekLX5xu13klwwC0AV4tEvPY6q4eYLCtlxEnsst28zZVwucPKA3/ZklZ7be0
         WyGhe88QbxUf4hd4iOjX7514GIcxWBxBxh+EY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=D7MvREvJ2SpJxjDwZS88SZpZdcIjUgOwOk2L4jEvvB6K05+uq/AeLYIEhbuH4OYVrw
         togYO89JSnHxKZVhtmTy9pZfrMjtWUuY50Jq77xzLATgPfDZEWiZr7w+Ptkz/d83bzgO
         LIp7fNXNjPlX7dQDpdr+wduBmp7DZjjBDFL+8=
Received: by 10.229.105.96 with SMTP id s32mr4625473qco.35.1300789620559; Tue,
 22 Mar 2011 03:27:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 03:26:40 -0700 (PDT)
In-Reply-To: <4D887868.7070303@wyona.com>
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com>
 <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com>
 <4D885888.2070309@wyona.com> <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com>
 <4D887868.7070303@wyona.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 15:56:40 +0530
Message-ID: <AANLkTi=2mWj7L5_3_i=375kXfg1+uFctL9pWfziMjfhL@mail.gmail.com>
Subject: Re: Is it possible to update only selected fields in a document ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00235429d19442d170049f0faf34
X-Virus-Checked: Checked by ClamAV on apache.org

--00235429d19442d170049f0faf34
Content-Type: text/plain; charset=ISO-8859-1

Also,
Is there a particular reason why you wouldn't want to index that considering
you'd want to 'update' documents. Its good practice to index the unique
field specially if you have one. It has generally helped more often than
not.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 3:52 PM, Michael Wechner
<michael.wechner@wyona.com>wrote:

> On 3/22/11 10:09 AM, shrinath.m wrote:
>
>> On Tue, Mar 22, 2011 at 1:37 PM, Michael Wechner [via Lucene]<
>> ml-node+2714008-984126374-376162@n3.nabble.com>  wrote:
>>
>>  are you looking for something like
>>>
>>> http://hrycan.com/2009/11/26/updating-document-fields-in-lucene/
>>>
>>> ?
>>>
>>>  Precisely that.
>> I am OK with storing the fields,
>> but I wanted to do that without making the *id* field searchable. ( I
>> mean,
>> *not indexed* =>  Field.Index.NO)
>>
>> Is that possible ?
>>
>
> I don't know. I guess the question is how else do you find this particular
> document.
>
> As a workaround I would suggest that you index the *id* and that your
> application
> just hides/blocks searching for it.
>
>
> HTH
>
> Michael
>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00235429d19442d170049f0faf34--

From java-user-return-49082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:31:51 2011
Return-Path: <java-user-return-49082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35301 invoked from network); 22 Mar 2011 10:31:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:31:50 -0000
Received: (qmail 73557 invoked by uid 500); 22 Mar 2011 10:31:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73508 invoked by uid 500); 22 Mar 2011 10:31:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73500 invoked by uid 99); 22 Mar 2011 10:31:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:31:48 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=HTML_MESSAGE,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of shrinath.m@webyog.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:31:42 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <shrinath.m@webyog.com>)
	id 1Q1yrw-0000L1-Op
	for java-user@lucene.apache.org; Tue, 22 Mar 2011 03:31:20 -0700
Date: Tue, 22 Mar 2011 03:31:20 -0700 (PDT)
From: "shrinath.m" <shrinath.m@webyog.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTim3ot3aVs+BEGJb-zGD++63at-bzE1EJWYMPLEy@mail.gmail.com>
In-Reply-To: <AANLkTi=2mWj7L5_3_i=375kXfg1+uFctL9pWfziMjfhL@mail.gmail.com>
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com> <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com> <4D885888.2070309@wyona.com> <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com> <4D887868.7070303@wyona.com> <AANLkTi=2mWj7L5_3_i=375kXfg1+uFctL9pWfziMjfhL@mail.gmail.com>
Subject: Re: Is it possible to update only selected fields in a document ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15115_13089499.1300789880766"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15115_13089499.1300789880766
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Tue, Mar 22, 2011 at 3:57 PM, Anshum-2 [via Lucene] <
ml-node+2714275-817267840-376162@n3.nabble.com> wrote:

> Also,
> Is there a particular reason why you wouldn't want to index that
> considering
> you'd want to 'update' documents.
>

I'd not mind indexing it, but I wouldn't want it to pop up in search results
or Autocomplete :)
I'd say we can hide/block it from search in our app as Michael suggests,
again, is that how
everyone does it ? Is that the "best" way ?


-- 
Regards
Shrinath.M


--
View this message in context: http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2714284.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_15115_13089499.1300789880766--

From java-user-return-49083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:39:28 2011
Return-Path: <java-user-return-49083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70535 invoked from network); 22 Mar 2011 10:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:39:28 -0000
Received: (qmail 78147 invoked by uid 500); 22 Mar 2011 10:39:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78113 invoked by uid 500); 22 Mar 2011 10:39:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78105 invoked by uid 99); 22 Mar 2011 10:39:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:39:26 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:39:21 +0000
Received: by qwj9 with SMTP id 9so6197732qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 03:39:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=fumhMh5iAq85CkX5dOQlr6F+4dtWU4j/XXeDh1Mfvs8=;
        b=PXJPbX1DEkOYBqX4EUYQDxlt7MylLCPzQC/iRKB7LY7J1cLgIQ2LfuoJ44eOwoM5vk
         j1euIt6bFRwx1RB7vyFzhi0bulKfErTK7kiuiLKEOJftCwKqWIV0kil47vkwgokWGANn
         xcy4TOXeuZvKteH3Zh/KMDuly7Ymrm0FNknMA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=hadJNYJbDk47pBT5qvLhIjQ7U0OfYmhRg3EAk0qam9VGvSfr24MYpvOzctDDwZeSIR
         wLFwQzasvGYbok0KHC3F6tRFTitqUyz4LrwaL4g/PRyRVOq5aNMiH5AgW7hp2mRriXeA
         U/Les4X6ZEqxqvRfsN8yYYhK/G9G2xA6GMBVc=
Received: by 10.224.173.212 with SMTP id q20mr4731972qaz.27.1300790341254;
 Tue, 22 Mar 2011 03:39:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 03:38:41 -0700 (PDT)
In-Reply-To: <AANLkTim3ot3aVs+BEGJb-zGD++63at-bzE1EJWYMPLEy@mail.gmail.com>
References: <1300777191612-2713888.post@n3.nabble.com> <AANLkTik7fTAPhFzfstTj5cpm-mWahcXzdhGiTKE71_5Y@mail.gmail.com>
 <AANLkTik9mfPXzZFJx9ZfQ2m5tYZPAkwGOCApBN-p+a0y@mail.gmail.com>
 <4D885888.2070309@wyona.com> <AANLkTik1vC9ZwfW663mR3zG5MM1N87hnrZx88jNGsOJ0@mail.gmail.com>
 <4D887868.7070303@wyona.com> <AANLkTi=2mWj7L5_3_i=375kXfg1+uFctL9pWfziMjfhL@mail.gmail.com>
 <AANLkTim3ot3aVs+BEGJb-zGD++63at-bzE1EJWYMPLEy@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 16:08:41 +0530
Message-ID: <AANLkTimHPV4jC8NsJJeQM4DL=FB17KeaoZpEOLTmty1R@mail.gmail.com>
Subject: Re: Is it possible to update only selected fields in a document ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3033465337bd13049f0fda16

--20cf3033465337bd13049f0fda16
Content-Type: text/plain; charset=ISO-8859-1

Yes, that's how its generally done. Also, you should just handle data/fields
aptly rather than trying to avoid them in the first place. You could safely
add these, use these internally and never return these or use these for an
end user search.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 4:01 PM, shrinath.m <shrinath.m@webyog.com> wrote:

> On Tue, Mar 22, 2011 at 3:57 PM, Anshum-2 [via Lucene] <
> ml-node+2714275-817267840-376162@n3.nabble.com> wrote:
>
> > Also,
> > Is there a particular reason why you wouldn't want to index that
> > considering
> > you'd want to 'update' documents.
> >
>
> I'd not mind indexing it, but I wouldn't want it to pop up in search
> results
> or Autocomplete :)
> I'd say we can hide/block it from search in our app as Michael suggests,
> again, is that how
> everyone does it ? Is that the "best" way ?
>
>
> --
> Regards
> Shrinath.M
>
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Is-it-possible-to-update-only-selected-fields-in-a-document-tp2713888p2714284.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>

--20cf3033465337bd13049f0fda16--

From java-user-return-49084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:41:37 2011
Return-Path: <java-user-return-49084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70833 invoked from network); 22 Mar 2011 10:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:41:36 -0000
Received: (qmail 81651 invoked by uid 500); 22 Mar 2011 10:41:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81618 invoked by uid 500); 22 Mar 2011 10:41:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81610 invoked by uid 99); 22 Mar 2011 10:41:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:41:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of karl.wright@nokia.com designates 147.243.1.47 as permitted sender)
Received: from [147.243.1.47] (HELO mgw-sa01.nokia.com) (147.243.1.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:41:24 +0000
Received: from vaebh101.NOE.Nokia.com (vaebh101.europe.nokia.com [10.160.244.22])
	by mgw-sa01.nokia.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id p2MAeveV032561
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 12:41:03 +0200
Received: from smtp.mgd.nokia.com ([65.54.30.6]) by vaebh101.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 22 Mar 2011 12:40:54 +0200
Received: from 008-AM1MMR1-002.mgdnok.nokia.com (65.54.30.57) by
 NOK-am1MHUB-02.mgdnok.nokia.com (65.54.30.6) with Microsoft SMTP Server (TLS)
 id 8.2.255.0; Tue, 22 Mar 2011 11:40:54 +0100
Received: from 008-AM1MPN1-037.mgdnok.nokia.com ([169.254.7.42]) by
 008-AM1MMR1-002.mgdnok.nokia.com ([65.54.30.57]) with mapi id 14.01.0270.002;
 Tue, 22 Mar 2011 11:40:53 +0100
From: <karl.wright@nokia.com>
To: <java-user@lucene.apache.org>
Subject: RE: how to get all documents in the results ?
Thread-Topic: how to get all documents in the results ?
Thread-Index: AQHL6Gpr7xbvN+fjh0iSbvhtRVjT6pQ5KLJg
Date: Tue, 22 Mar 2011 10:40:52 +0000
Message-ID: <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
In-Reply-To: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [146.115.112.29]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginalArrivalTime: 22 Mar 2011 10:40:54.0825 (UTC) FILETIME=[9F1D6190:01CBE87D]
X-Nokia-AV: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Not sure what your use case actually is, but it sounds like you may be uncl=
ear how Lucene works.

Each query clause you have will produce an iterator that walks over the doc=
uments that match that clause.  All the documents from the entire, root que=
ry get scored.  The scoring evaluation per document is also related to the =
form of your query expression hierarchy.

So, MatchAllDocsQuery is exactly what you want if you want a document itera=
tor that includes all documents in the index.  You can change how this is s=
cored by extending MatchAllDocsQuery and writing a custom scorer.

Karl

-----Original Message-----
From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]=20
Sent: Tuesday, March 22, 2011 4:23 AM
To: java-user@lucene.apache.org
Subject: how to get all documents in the results ?

I'm using the following code because I want to see the entire collection in
my query results:

//adding wildcards-term to see all results
rest =3D new TermQuery(new Term("*","*"));
booleanQuery.add(rest, BooleanClause.Occur.SHOULD);

But it doesn't work, I only see the relevant docs and not all the other
ones.
How can I get all documents ordered by relevance instead ?

ps. MatchAllDocsQuery is not a solution because I need to specify my own
custom query.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 10:44:00 2011
Return-Path: <java-user-return-49085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71245 invoked from network); 22 Mar 2011 10:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 10:44:00 -0000
Received: (qmail 85491 invoked by uid 500); 22 Mar 2011 10:43:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85452 invoked by uid 500); 22 Mar 2011 10:43:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85444 invoked by uid 99); 22 Mar 2011 10:43:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:43:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.241.168.151] (HELO mua02.mx.cix.co.uk) (212.241.168.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 10:43:48 +0000
X-Envelope-From: dawn@digitorial.co.uk
Received: from mail.lemur.co.uk (host86-157-89-99.range86-157.btcentralplus.com [86.157.89.99])
	by mua02.mx.cix.co.uk (8.13.8/8.13.4) with SMTP id p2MAhPXU003820
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 10:43:26 GMT
Received: from [192.168.1.250] ([192.168.1.250])
	by mail.lemur.co.uk
	with hMailServer ; Tue, 22 Mar 2011 10:43:25 +0000
Message-ID: <4D887D49.30706@digitorial.co.uk>
Date: Tue, 22 Mar 2011 10:43:21 +0000
From: =?ISO-8859-1?Q?Dawn_Zo=EB_Raison?= <dawn@digitorial.co.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Grouping...
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Folks,

Before I run off and reinvent the wheel here - has anyone done any form 
of result grouping with lucene?

My use case looks something like this:
Newspaper pages are stored as documents in the lucene index.
I need to list the newpapers that match my criteria in date order, so 
that I can then in a subsequent search enumerate the first n pages from 
each. n is derived from the UI - in this case the screen width the user 
has available.
Ideally I'd want to pull all papers for a given date - so a way to pull 
a result set that identifies a set of dates that have pages stored 
against them would be ideal. It seems to me that the only way to do this 
at present would be to define a custom collector and aggregate such a 
result set on the fly?

My reason for wanting to group is so that I can easily compute the 
next/previous start indexes as the user browses through the timeline. If 
I have to include the (variable) page count each time it gets 
convoluted. More so since some pages may be missing from each paper.

Any thoughts appreciated.

-- 

Rgds.
*Dawn Raison*
Technical Director, Digitorial Ltd.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 11:11:32 2011
Return-Path: <java-user-return-49086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69454 invoked from network); 22 Mar 2011 11:11:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 11:11:32 -0000
Received: (qmail 7768 invoked by uid 500); 22 Mar 2011 11:11:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7718 invoked by uid 500); 22 Mar 2011 11:11:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7710 invoked by uid 99); 22 Mar 2011 11:11:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:11:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:11:26 +0000
Received: by qwj9 with SMTP id 9so6230576qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 04:11:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=b8ugWERR0VGVKXhnTnvvu+Q2/ZCZiVRohkQDdVYOzFI=;
        b=WemWnvIiRyT/pF/+jlD7hnZ3GfISVfUmK1qPy8O8vJlnGaA7v66YXWu26ApgoC8gNa
         GuFaY2ssT+YLEuoVY9+MI95OdKZlcElVYPbDxMJvTHIK3UuU+J4wuYh/G3Dl9+ZlfST5
         CAGw5G8dQgNvueE75Bpj/B0upPAdmbEA9uleY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=UWq87rCxrlBxPzfAqhJsWUKD/zzqKfciB7epXTlp32p5e6LBO0KsnXkvE9WWfO6yYu
         qdGV9GZYZwYj8K8/pG+6tJ5D8w/vn+n70XTLhHVdZISsqsVPSMBph+DG58A5KIWOxJTD
         +Zv4M7VL6ScF3s/r4rP2o+uJ6H5D38WRTke7o=
Received: by 10.224.204.3 with SMTP id fk3mr4723920qab.177.1300792265174; Tue,
 22 Mar 2011 04:11:05 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 04:10:45 -0700 (PDT)
In-Reply-To: <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com> <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 16:40:45 +0530
Message-ID: <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf300faf5de46f80049f104c7b

--20cf300faf5de46f80049f104c7b
Content-Type: text/plain; charset=ISO-8859-1

Hi Patrick,
You may have a look at this, perhaps this will help you with it. Let me know
if you're still stuck up.
http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits


--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:

> Not sure what your use case actually is, but it sounds like you may be
> unclear how Lucene works.
>
> Each query clause you have will produce an iterator that walks over the
> documents that match that clause.  All the documents from the entire, root
> query get scored.  The scoring evaluation per document is also related to
> the form of your query expression hierarchy.
>
> So, MatchAllDocsQuery is exactly what you want if you want a document
> iterator that includes all documents in the index.  You can change how this
> is scored by extending MatchAllDocsQuery and writing a custom scorer.
>
> Karl
>
> -----Original Message-----
> From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Tuesday, March 22, 2011 4:23 AM
> To: java-user@lucene.apache.org
> Subject: how to get all documents in the results ?
>
> I'm using the following code because I want to see the entire collection in
> my query results:
>
> //adding wildcards-term to see all results
> rest = new TermQuery(new Term("*","*"));
> booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
>
> But it doesn't work, I only see the relevant docs and not all the other
> ones.
> How can I get all documents ordered by relevance instead ?
>
> ps. MatchAllDocsQuery is not a solution because I need to specify my own
> custom query.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf300faf5de46f80049f104c7b--

From java-user-return-49087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 11:17:10 2011
Return-Path: <java-user-return-49087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74356 invoked from network); 22 Mar 2011 11:17:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 11:17:10 -0000
Received: (qmail 17071 invoked by uid 500); 22 Mar 2011 11:17:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17036 invoked by uid 500); 22 Mar 2011 11:17:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17028 invoked by uid 99); 22 Mar 2011 11:17:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:17:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:17:04 +0000
Received: by fxm7 with SMTP id 7so8508465fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 04:16:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=2NsWk6Arj9eE9un6YBP0xTTmG3aSEXCe+AiNFkz7sEk=;
        b=p/hi1Md+h1CMf5+xgoDLL4W3n5jjM21g1robLRbvYRv92MOoT/nnlSX3bv1KD7oZf0
         +NPWJl5WU30i9pSnQcOe5hcsNklxVboYhHlmCZx7ws/56a6mP/STn9NDNlRjOLLPrkos
         B15ebhoBvAK3U+ws7lIWLKrQJvcJkdc8iDWpo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=OOHqaNmq2s2u9RhGIiX5sLnsauFPrpMaO/D+8QpDQ6KXKsPLqbZfrpjaiJdrns5SlL
         xhKc7hlBl8TKwNMb32EAsUR7Rk1FKhgen2UL1VLNcoIsfTJN1HhaINBgIxRnNLGJ99UV
         iXcPXf+qVrDOuTKHmgLVGTJzG0WD6KAVNeQG0=
MIME-Version: 1.0
Received: by 10.223.143.5 with SMTP id s5mr167773fau.14.1300792602801; Tue, 22
 Mar 2011 04:16:42 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 04:16:42 -0700 (PDT)
In-Reply-To: <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
Date: Tue, 22 Mar 2011 12:16:42 +0100
Message-ID: <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0023545bdbc0043684049f106139

--0023545bdbc0043684049f106139
Content-Type: text/plain; charset=ISO-8859-1

I don't think the link you suggested can help, but maybe I'm wrong.

Also, the parameter MAX_HITS is not useful, it just limit the results, it
doesn't add the not relevant docs.



On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:

> Hi Patrick,
> You may have a look at this, perhaps this will help you with it. Let me
> know
> if you're still stuck up.
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
>
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
>
> > Not sure what your use case actually is, but it sounds like you may be
> > unclear how Lucene works.
> >
> > Each query clause you have will produce an iterator that walks over the
> > documents that match that clause.  All the documents from the entire,
> root
> > query get scored.  The scoring evaluation per document is also related to
> > the form of your query expression hierarchy.
> >
> > So, MatchAllDocsQuery is exactly what you want if you want a document
> > iterator that includes all documents in the index.  You can change how
> this
> > is scored by extending MatchAllDocsQuery and writing a custom scorer.
> >
> > Karl
> >
> > -----Original Message-----
> > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Tuesday, March 22, 2011 4:23 AM
> > To: java-user@lucene.apache.org
> > Subject: how to get all documents in the results ?
> >
> > I'm using the following code because I want to see the entire collection
> in
> > my query results:
> >
> > //adding wildcards-term to see all results
> > rest = new TermQuery(new Term("*","*"));
> > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> >
> > But it doesn't work, I only see the relevant docs and not all the other
> > ones.
> > How can I get all documents ordered by relevance instead ?
> >
> > ps. MatchAllDocsQuery is not a solution because I need to specify my own
> > custom query.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

--0023545bdbc0043684049f106139--

From java-user-return-49088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 11:25:17 2011
Return-Path: <java-user-return-49088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2935 invoked from network); 22 Mar 2011 11:25:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 11:25:17 -0000
Received: (qmail 29286 invoked by uid 500); 22 Mar 2011 11:25:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29243 invoked by uid 500); 22 Mar 2011 11:25:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29217 invoked by uid 99); 22 Mar 2011 11:25:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:25:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:25:10 +0000
Received: by qwj9 with SMTP id 9so6245021qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 04:24:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=LBxM7hII2F8dIXoQzesl2CpOKtmAFbPGiX9eZN3g3K8=;
        b=Ad9C6IxekdnyGXiBh1H+Zn2K90G4ak1S5Pr/3vnCUAAPifXDdWei/Zg/e365T2qhci
         jXhVpc5OCa23Y/j+tE+8BSelymmhhs1iHYsrxFacQo0oVzsjhX/mn2NijBVB4WtmhCsk
         9Y3C9h3J0eu1WfbOl8nklQPVkey8BpDUIpvyo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=d7SVALWzB2Vyer7yTEuIE64/vPpcFWbl8R8V0W3VXRrGv4L6HR9OTsyLAAZ4DIXdpW
         Z54a3YVcrOyTxIr6RCs/Rp81lCrHKqbSwTeO29oFX6w69abBnDh7l2b1JYR8gnWIjers
         EUfhs1y6fvnC+Xb3dYCQOTtr9m8Qg/2b4ey7w=
Received: by 10.224.208.197 with SMTP id gd5mr4757216qab.77.1300793089810;
 Tue, 22 Mar 2011 04:24:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 04:18:57 -0700 (PDT)
In-Reply-To: <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
 <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
 <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com> <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 16:48:57 +0530
Message-ID: <AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf300faa170b5fb2049f107e0f

--20cf300faa170b5fb2049f107e0f
Content-Type: text/plain; charset=ISO-8859-1

so a few things
1. are you looking to get 'all' documents or only docs matching your query?
2. if its about fetching all docs, why not use the matchalldocs query?
3. did you try using a collector instead of topdocs?

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
patrick.diviacco@gmail.com> wrote:

> I don't think the link you suggested can help, but maybe I'm wrong.
>
> Also, the parameter MAX_HITS is not useful, it just limit the results, it
> doesn't add the not relevant docs.
>
>
>
> On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
>
> > Hi Patrick,
> > You may have a look at this, perhaps this will help you with it. Let me
> > know
> > if you're still stuck up.
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> >
> >
> > --
> > Anshum Gupta
> > http://ai-cafe.blogspot.com
> >
> >
> > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
> >
> > > Not sure what your use case actually is, but it sounds like you may be
> > > unclear how Lucene works.
> > >
> > > Each query clause you have will produce an iterator that walks over the
> > > documents that match that clause.  All the documents from the entire,
> > root
> > > query get scored.  The scoring evaluation per document is also related
> to
> > > the form of your query expression hierarchy.
> > >
> > > So, MatchAllDocsQuery is exactly what you want if you want a document
> > > iterator that includes all documents in the index.  You can change how
> > this
> > > is scored by extending MatchAllDocsQuery and writing a custom scorer.
> > >
> > > Karl
> > >
> > > -----Original Message-----
> > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > To: java-user@lucene.apache.org
> > > Subject: how to get all documents in the results ?
> > >
> > > I'm using the following code because I want to see the entire
> collection
> > in
> > > my query results:
> > >
> > > //adding wildcards-term to see all results
> > > rest = new TermQuery(new Term("*","*"));
> > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > >
> > > But it doesn't work, I only see the relevant docs and not all the other
> > > ones.
> > > How can I get all documents ordered by relevance instead ?
> > >
> > > ps. MatchAllDocsQuery is not a solution because I need to specify my
> own
> > > custom query.
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>

--20cf300faa170b5fb2049f107e0f--

From java-user-return-49089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 11:29:34 2011
Return-Path: <java-user-return-49089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14913 invoked from network); 22 Mar 2011 11:29:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 11:29:33 -0000
Received: (qmail 34371 invoked by uid 500); 22 Mar 2011 11:29:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34322 invoked by uid 500); 22 Mar 2011 11:29:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34314 invoked by uid 99); 22 Mar 2011 11:29:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:29:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:29:25 +0000
Received: by fxm7 with SMTP id 7so8519979fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 04:29:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=/SWN61B7loe0M9yx68DclF4JCXWPSmheXeg+gzoTKQQ=;
        b=AjOU43S9N/yoFsbYeGPPnEcIXi84D5jMf1t+DUImMwlnROAIXJIebpnw6c3p+eZN0U
         P6ziKATajatJRndKGC6/DPYGN02CiBc4JGWkGjNis56VJGYshbmcwDW3ZE/ZVQMJW+OJ
         Xy4G1azB3lvf/SOid0dydCkgeECHLzZMULnX8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=MNlWe3tgmx4Hiy2ovKQ4x3iGjNmHW5som9tzOeJqlVZYGRysiiya7tjdzq3Ji7t6yz
         ZjilV44g6wnz8gnUIhkMp9S0S9+68yeVLFvgD9enEV0oKE5smGBUmnFIN61lO4yyFfGn
         E7Be2eYkld9G8tSxoMdew0W7M7KA2DE1sY/XU=
MIME-Version: 1.0
Received: by 10.223.117.134 with SMTP id r6mr6419883faq.147.1300793345588;
 Tue, 22 Mar 2011 04:29:05 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 04:29:05 -0700 (PDT)
In-Reply-To: <AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
	<AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
	<AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
Date: Tue, 22 Mar 2011 12:29:05 +0100
Message-ID: <AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c64a4a3cf5049f108d8d
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502c64a4a3cf5049f108d8d
Content-Type: text/plain; charset=ISO-8859-1

1. "all" docs

2. because matchalldocs only consider one field at once. I'm searching over
multiple fields instead.

3. could you tell me more about this ? It might be a solution!



On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:

> so a few things
> 1. are you looking to get 'all' documents or only docs matching your query?
> 2. if its about fetching all docs, why not use the matchalldocs query?
> 3. did you try using a collector instead of topdocs?
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> patrick.diviacco@gmail.com> wrote:
>
> > I don't think the link you suggested can help, but maybe I'm wrong.
> >
> > Also, the parameter MAX_HITS is not useful, it just limit the results, it
> > doesn't add the not relevant docs.
> >
> >
> >
> > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> >
> > > Hi Patrick,
> > > You may have a look at this, perhaps this will help you with it. Let me
> > > know
> > > if you're still stuck up.
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > >
> > >
> > > --
> > > Anshum Gupta
> > > http://ai-cafe.blogspot.com
> > >
> > >
> > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
> > >
> > > > Not sure what your use case actually is, but it sounds like you may
> be
> > > > unclear how Lucene works.
> > > >
> > > > Each query clause you have will produce an iterator that walks over
> the
> > > > documents that match that clause.  All the documents from the entire,
> > > root
> > > > query get scored.  The scoring evaluation per document is also
> related
> > to
> > > > the form of your query expression hierarchy.
> > > >
> > > > So, MatchAllDocsQuery is exactly what you want if you want a document
> > > > iterator that includes all documents in the index.  You can change
> how
> > > this
> > > > is scored by extending MatchAllDocsQuery and writing a custom scorer.
> > > >
> > > > Karl
> > > >
> > > > -----Original Message-----
> > > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > To: java-user@lucene.apache.org
> > > > Subject: how to get all documents in the results ?
> > > >
> > > > I'm using the following code because I want to see the entire
> > collection
> > > in
> > > > my query results:
> > > >
> > > > //adding wildcards-term to see all results
> > > > rest = new TermQuery(new Term("*","*"));
> > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > >
> > > > But it doesn't work, I only see the relevant docs and not all the
> other
> > > > ones.
> > > > How can I get all documents ordered by relevance instead ?
> > > >
> > > > ps. MatchAllDocsQuery is not a solution because I need to specify my
> > own
> > > > custom query.
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
>

--00504502c64a4a3cf5049f108d8d--

From java-user-return-49090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 11:43:30 2011
Return-Path: <java-user-return-49090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59609 invoked from network); 22 Mar 2011 11:43:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 11:43:30 -0000
Received: (qmail 42221 invoked by uid 500); 22 Mar 2011 11:43:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42173 invoked by uid 500); 22 Mar 2011 11:43:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42165 invoked by uid 99); 22 Mar 2011 11:43:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:43:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 11:43:22 +0000
Received: by qyk30 with SMTP id 30so6645886qyk.14
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 04:43:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=qkSCu9vDFoKyUiXHZp3ZzN9FaQjbwWr+nY5EGFvu2rM=;
        b=rKKgQ/6GRBSLtgqfk8QIEAfSL0pYTIHsvzmpVmb4hJcMlwP9XaDbe+R08xMoXn0gbx
         Dq7PfBFRI/+iN6E7OqaBrVdgqspHW3BbEnDnBB8NkQ8YL2g4nuevGvpXNACtJMfmuUWC
         /Mpp7NLCvhKMyIpvaq1ILmalx8rIr0LvLGy28=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=fOgusVf9spqZkx4wNgk4nbtKSqX0IoaurXs/lhgsRuG1wPLOr4fFVilQwgTTBTf57h
         R9b9vJex1vQPvZPp6U1SIlBTbgXFAPgktAGwP3/g0NxNgrGgOrPwWFUEiy2WBRnSKCya
         YnWLxECTJjSTblGjMNU+ynrm0mKmcAFMPgLeY=
Received: by 10.229.103.12 with SMTP id i12mr4676193qco.111.1300794181145;
 Tue, 22 Mar 2011 04:43:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Tue, 22 Mar 2011 04:42:41 -0700 (PDT)
In-Reply-To: <AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
 <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
 <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
 <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
 <AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com> <AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 22 Mar 2011 17:12:41 +0530
Message-ID: <AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2d9fa17d5f3049f10bf93
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2d9fa17d5f3049f10bf93
Content-Type: text/plain; charset=ISO-8859-1

MatchAllDocs does not consider only a single field but all fields i.e. it
takes a *:* query.

*1. *
*****Snip****
Query query = new MatchAllDocsQuery();
TopDocs  td = is.search(query, ir.numDocs());
ScoreDoc[ ] scoreDocs = td.scoreDocs;
for(ScoreDoc scoreDoc:scoreDocs){

... Your code...

}
****/Snip***

*2. Collector approach:*

Query query = new MatchAllDocsQuery();
int hitsPerPage = ir.numDocs();
TopScoreDocCollector collector = TopScoreDocCollector.create(hitsPerPage,
true);
is.search(query, collector);
ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
for(ScoreDoc scoreDoc:scoreDocs){

.. Your code..

}

The better part about using a collector based approach is that you could do
a lot in the collect step i.e. everything that you'd do in the iteration
post search could also be done while collecting here.

Also, could you also tell me the exact case as to what is it that you are
trying to achieve. You may have a completely different option that you
haven't read which someone could advice if they know the exact intent.

Hope this helps.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
patrick.diviacco@gmail.com> wrote:

> 1. "all" docs
>
> 2. because matchalldocs only consider one field at once. I'm searching over
> multiple fields instead.
>
> 3. could you tell me more about this ? It might be a solution!
>
>
>
> On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
>
> > so a few things
> > 1. are you looking to get 'all' documents or only docs matching your
> query?
> > 2. if its about fetching all docs, why not use the matchalldocs query?
> > 3. did you try using a collector instead of topdocs?
> >
> > --
> > Anshum Gupta
> > http://ai-cafe.blogspot.com
> >
> >
> > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > patrick.diviacco@gmail.com> wrote:
> >
> > > I don't think the link you suggested can help, but maybe I'm wrong.
> > >
> > > Also, the parameter MAX_HITS is not useful, it just limit the results,
> it
> > > doesn't add the not relevant docs.
> > >
> > >
> > >
> > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > >
> > > > Hi Patrick,
> > > > You may have a look at this, perhaps this will help you with it. Let
> me
> > > > know
> > > > if you're still stuck up.
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > >
> > > >
> > > > --
> > > > Anshum Gupta
> > > > http://ai-cafe.blogspot.com
> > > >
> > > >
> > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
> > > >
> > > > > Not sure what your use case actually is, but it sounds like you may
> > be
> > > > > unclear how Lucene works.
> > > > >
> > > > > Each query clause you have will produce an iterator that walks over
> > the
> > > > > documents that match that clause.  All the documents from the
> entire,
> > > > root
> > > > > query get scored.  The scoring evaluation per document is also
> > related
> > > to
> > > > > the form of your query expression hierarchy.
> > > > >
> > > > > So, MatchAllDocsQuery is exactly what you want if you want a
> document
> > > > > iterator that includes all documents in the index.  You can change
> > how
> > > > this
> > > > > is scored by extending MatchAllDocsQuery and writing a custom
> scorer.
> > > > >
> > > > > Karl
> > > > >
> > > > > -----Original Message-----
> > > > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > To: java-user@lucene.apache.org
> > > > > Subject: how to get all documents in the results ?
> > > > >
> > > > > I'm using the following code because I want to see the entire
> > > collection
> > > > in
> > > > > my query results:
> > > > >
> > > > > //adding wildcards-term to see all results
> > > > > rest = new TermQuery(new Term("*","*"));
> > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > >
> > > > > But it doesn't work, I only see the relevant docs and not all the
> > other
> > > > > ones.
> > > > > How can I get all documents ordered by relevance instead ?
> > > > >
> > > > > ps. MatchAllDocsQuery is not a solution because I need to specify
> my
> > > own
> > > > > custom query.
> > > > >
> > > > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > > >
> > > > >
> > > >
> > >
> >
>

--000e0cd2d9fa17d5f3049f10bf93--

From java-user-return-49091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:16:58 2011
Return-Path: <java-user-return-49091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60931 invoked from network); 22 Mar 2011 13:16:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:16:57 -0000
Received: (qmail 20068 invoked by uid 500); 22 Mar 2011 13:16:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19977 invoked by uid 500); 22 Mar 2011 13:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19969 invoked by uid 99); 22 Mar 2011 13:16:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:16:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:16:48 +0000
Received: by qyk2 with SMTP id 2so3961643qyk.14
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:16:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=TqHi7XJZxwWUNH9yIf6sej0WKxkloPOb4IkY8rn0ZcQ=;
        b=rgXQbeMhQuF5KqmIlynhZgrG8M/tg+1qh7m4b06H4IhZfyk4k0/1j8O29dKEWYApOl
         KUWfI4wiEUkPlKR+D3R7xGAZZ1Zxm01cHgtmnSEmOlvGeULhjFZ5LhUYRZTGk+2tFdcK
         gsya8foGC39QTdLs92wq+ZPRg31ZgAdK38P9I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=COPc3spIYnlsoG8nZ7EQerqQ68DaQ682cc8CzlgaXR1Vr85RyyJbGtdLQ+MIuI1sY1
         VsjqRGhs8obRG81Kw8VIEbm1x90Lm+4OXRPgM7b26od3KM37JaKfTq1ODkXK3pnU+xla
         wkGvgvWJwKxhQqgRYdgFbug5+cf0a2eZaL7M4=
MIME-Version: 1.0
Received: by 10.229.49.131 with SMTP id v3mr4568084qcf.256.1300799787220; Tue,
 22 Mar 2011 06:16:27 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 06:16:27 -0700 (PDT)
In-Reply-To: <AANLkTimfZYp9SYMP2nEo+XQH4JhuBOi3LXmgesv55McO@mail.gmail.com>
References: <AANLkTimfZYp9SYMP2nEo+XQH4JhuBOi3LXmgesv55McO@mail.gmail.com>
Date: Tue, 22 Mar 2011 09:16:27 -0400
Message-ID: <AANLkTik7dcXW7k+iY6ZC=exB3GDmB6nraTkFTG1Hut3W@mail.gmail.com>
Subject: Re: How to normalize Lucene scores... (over all queries)
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You can't. If by "normalize" you mean compare the scores
between two different queries, it's meaningless. The scores
from one query to another are not comparable.

If by "normalize" you mean make into a value between 0 and 1,
anywhere you have access to raw scores I believe you also have
access to the max score, and you can just divide.

But this smells like an XY problem. Can you back up and tell
us what the use case you're trying to solve is? Maybe there are
other possibilities.

Best
Erick

On Mon, Mar 21, 2011 at 12:09 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> I'm combining several scores for my queries performed with Lucene and other
> software.
>
> My issue is that I have lucene scores + other scores (not related to Lucene)
> for each query result.
>
> The other scores are all normalized between 1 and 0.
>
> I need to normalize Lucene scores (over all queries) because If I don't
> normalize Lucene scores in the same way I'm going to have unbalanced
> results...
>
> How can I make it ?
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:19:24 2011
Return-Path: <java-user-return-49092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67208 invoked from network); 22 Mar 2011 13:19:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:19:24 -0000
Received: (qmail 24065 invoked by uid 500); 22 Mar 2011 13:19:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24018 invoked by uid 500); 22 Mar 2011 13:19:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24010 invoked by uid 99); 22 Mar 2011 13:19:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:19:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:19:15 +0000
Received: by qwj9 with SMTP id 9so6386329qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:18:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Fgur9JRmK8ozz9lZdCC02PjVyIbDkmWrzKxaZTYNqgA=;
        b=LhoS3pSqpH5cjhkIqzXQ/09L3pZkGQCYqRKqZ2/TezyWzrwrLTwkDASDscibT+mpZh
         I9u5y54a2ulbe1bZyJQSY568HkvhOQxbyJnRoiEhiCwWJhqpB56WbMGGi6ldjLZXOmrh
         eDYPg/pUY5RiiGXSAycca7IUI2BQzxcOg8a6M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=mI8nzFN7v+AcHfVca9zd45OVuCCJpz/M/SpZCOg4IRiyvaKTEO5GbAkx1Oxtuoo0h3
         ShMEGULfs3HNE5pfMy8iWyEc81fXdZslwMF9AH0QwJsiNuXJ6LdvYl5iK+9fK4ZZdNM8
         eQWOGjNMc+Bwjb20M7CuoAm3VVeH+3MO4XcYc=
MIME-Version: 1.0
Received: by 10.229.136.1 with SMTP id p1mr812603qct.218.1300799933947; Tue,
 22 Mar 2011 06:18:53 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 06:18:53 -0700 (PDT)
In-Reply-To: <AANLkTi=CnyxkwnG30+p+HnEOYETV1oZoba-K_fp7R4HF@mail.gmail.com>
References: <AANLkTi=CnyxkwnG30+p+HnEOYETV1oZoba-K_fp7R4HF@mail.gmail.com>
Date: Tue, 22 Mar 2011 09:18:53 -0400
Message-ID: <AANLkTikwOC_hBOYCY1my50q4XogoJ1BUmjB74Zw7aaCZ@mail.gmail.com>
Subject: Re: Building a query of single terms...
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

The easiest way to figure out this kind of thing is to print out the
toString() on the queries after they're assembled. I believe you'll
find that the difference is that the PhraseQuery would find text like
"Term1 Term2 Term3" but not text like "Term1 some stuff Term2 more
stuff Term3" whereas BooleanQuery would.

Best
Erick

On Mon, Mar 21, 2011 at 1:43 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> I'm new to Lucene and I would like to know what's the difference (if there
> is any) between
>
> PhraseQuery.add(Term1)
> PhraseQuery.add(Term2)
> PhraseQuery.add(Term3)
>
> and
>
> term1 = new TermQuery(new Term(...));
> booleanQuery.add(term1, BooleanClause.Occur.SHOULD);
>
> term2 = new TermQuery(new Term(...));
> booleanQuery.add(term2, BooleanClause.Occur.SHOULD);
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:23:19 2011
Return-Path: <java-user-return-49093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82022 invoked from network); 22 Mar 2011 13:23:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:23:19 -0000
Received: (qmail 31709 invoked by uid 500); 22 Mar 2011 13:23:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31642 invoked by uid 500); 22 Mar 2011 13:23:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31634 invoked by uid 99); 22 Mar 2011 13:23:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:23:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:23:09 +0000
Received: by qwj9 with SMTP id 9so6391929qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:22:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=ZTQH7mifQ8Z3aLQiV/ZlAnDzGGnHSpoPs+Xf1BJU7Gk=;
        b=yET0r2FFFJzZVoYZCvGAgP7ew6V8LrTNFILnnaxTB8iO/jjjdNYrFQ9V3egsUwkHiR
         99a5Uela7Uz95Kw3XjR4M2QQYq1zfdgkQB5fOqzDUdEKQQ6c0ntng5wHnKyGXGi1WOAD
         B941GONbz0zbucDEHbNn0X/2zpDl4bPzAR8/M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=N8xwq3j/vpbIcTUTzSmlzoHo1AHztKBgzcVNhkcTFw2uUFifHDolD3U9LTUuUE4vSc
         gNpJ7iW0lu/cGtu8FjO3elTqY7u3Or1b9PVROM1OS82ReVUU0o7dsYicSrC6x1kjF1/N
         LJmV/0CPr3MQ1Z1nNDzZRH9d3CEzSrRWGt5uM=
MIME-Version: 1.0
Received: by 10.229.49.131 with SMTP id v3mr4575717qcf.256.1300800169104; Tue,
 22 Mar 2011 06:22:49 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 06:22:48 -0700 (PDT)
In-Reply-To: <AANLkTi=inDYwRQEccp6k7-CFB02ZDNtyHQHjR=RRXZTA@mail.gmail.com>
References: <AANLkTi=inDYwRQEccp6k7-CFB02ZDNtyHQHjR=RRXZTA@mail.gmail.com>
Date: Tue, 22 Mar 2011 09:22:48 -0400
Message-ID: <AANLkTi=jrBM2Y0=YXfFxfLZnUDfyw7tUwRDo2B4AQiUN@mail.gmail.com>
Subject: Re: Performance problems with lazily loaded fields
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Don't do that <G>.... Let's back up a second and
ask why in the world you want to do this, what's the
use-case you're satisfying? Because spinning through
all the results and getting information from the underlying
documents is inherently expensive since, as Sanne
says, you're doing disk seeks. Most Lucene apps
only do this for a few documents (think pages) of a
search.

So understanding why you want to do this may allow
some alternatives to be suggested.

Best
Erick

On Mon, Mar 21, 2011 at 2:16 PM, Brian Hurt <bhurt42@gmail.com> wrote:
> I'm having a problem with the performance of lazily-loaded fields with
> lucene. =A0The basic structure of the code is that I get a set of documen=
ts
> back from a query, then iterate through them, reading most fields to coll=
ect
> fragments. =A0This is taking an excessively long amount of time- mostly i=
n my
> call to getField on the document. =A0Each such call takes milliseconds,
> meaning a query that even returns only a few dozen items takes me hundred=
s
> of milliseconds to process, which is causing problems elsewhere. =A0So th=
e
> question I have is if there is some way I can optimize the loading of
> fields? =A0I am calling the doc function on the index search with a null
> FieldSelector, but this does not seem to reduce the cost of getting field=
s
> (indeed, it seems to slow down the whole query processing by a significan=
t
> factor). =A0Is there any help anyone can give me?
>
> Thanks.
>
> Brian
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:28:30 2011
Return-Path: <java-user-return-49094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1436 invoked from network); 22 Mar 2011 13:28:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:28:30 -0000
Received: (qmail 41805 invoked by uid 500); 22 Mar 2011 13:28:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41765 invoked by uid 500); 22 Mar 2011 13:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41757 invoked by uid 99); 22 Mar 2011 13:28:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:28:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:28:20 +0000
Received: by qwj9 with SMTP id 9so6398769qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:27:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=MN7e1Xw9rbx+HqmHp74CRu5Juek2QVhnKCT4CBnjpkI=;
        b=dMlKThLdYFCV09ysAXSNGy0gQpKY6eJTuwC0LovFZH/rN9y/z9agE7ocKvukpcQLyT
         Maxh/54r5MG1N7AtEVwaeg44v3tRSwWa0TTQv58HQPhQsVIZetrlgOb4Rf/akW5SQ5E3
         3oauQdtkScgtnDPm7t4h0W7c8NA8tUbacblHg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=rLLwRKryoFcPmO2+kQHFx9W3shzlVF5FZqrlgRf7QdcKmqUshF95LI6udpwmSDcyI9
         RERTBV82xGmn64xlkZV0qmLmtHKADT+Rzij8TpA6kFOGdu5Bqg0KCyLwqBnSe5iecz4t
         bDXbvO4F1lLCP6IC+7EmLW2YZI7KvU60w3YMs=
MIME-Version: 1.0
Received: by 10.229.136.1 with SMTP id p1mr823709qct.218.1300800479304; Tue,
 22 Mar 2011 06:27:59 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 06:27:59 -0700 (PDT)
In-Reply-To: <AANLkTimrPwj6qWhdNm+oWSWTw06gapRAtw_TeH8PyrTQ@mail.gmail.com>
References: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
	<963839.8453.qm@web121713.mail.ne1.yahoo.com>
	<AANLkTimrPwj6qWhdNm+oWSWTw06gapRAtw_TeH8PyrTQ@mail.gmail.com>
Date: Tue, 22 Mar 2011 09:27:59 -0400
Message-ID: <AANLkTim-i_0s0K48hy2Jy364R2V0WYw=jGnpFrp0VT2d@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

A good habit to develop is to print out the toString() of the assembled
queries, that'll get you going pretty quickly understanding what the
query assembly is all about without having to wait for people to respond.

But the short form is that phrase queries require all the terms to be
adjacent, which may be what you want but may not.

BooleanQuery is just asking for all the terms. You should probably
normalize them.

Parsing is something like
Query query =3D QueryParser.parse("your text here");
and the returned query is what you pass to the searcher. This latter
will apply the analysis chains to your input and is probably perferred.

Best
Erick

On Tue, Mar 22, 2011 at 3:41 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> OK, so I'm currently doing this:
>
> booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40=
,
> "tags", new
> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phras=
e[i]);
> =A0, BooleanClause.Occur.SHOULD);
>
> I just want to add single terms to my booleanQuery. if I pass a query to =
the
> add method, am I considering the single terms ?
>
> thanks
>
>
>
> On 21 March 2011 22:15, Ahmet Arslan <iorixxx@yahoo.com> wrote:
>
>> > Date: Monday, March 21, 2011, 7:39 PM
>> > One more thing: It is actually not
>> > clear to me how to use PhraseQuery... I
>> > thought I can just pass a phrase to it, but I see only
>> > add(Term) method...
>> > should I parse the string by myself to single terms ?
>>
>> Yes, you need to do it.
>>
>> QueryParser transforms String into Query.
>>
>>
>> http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/queryPars=
er/QueryParser.html
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:30:25 2011
Return-Path: <java-user-return-49095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5566 invoked from network); 22 Mar 2011 13:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:30:25 -0000
Received: (qmail 45935 invoked by uid 500); 22 Mar 2011 13:30:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45890 invoked by uid 500); 22 Mar 2011 13:30:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45879 invoked by uid 99); 22 Mar 2011 13:30:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:30:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:30:15 +0000
Received: by qyk30 with SMTP id 30so6786157qyk.14
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:29:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=r24FbH0rlNnhtSxXLCWPriWZJeU8fAiVJqN8gsXGbCE=;
        b=mbLqB1Htatlr4KB99rvpgqui+Vm0GS0QIqwUVoSGxQ8jM2TEMf44pZ0lF8IAbnNHFo
         lBv61aORXhGNII97b2lU1TLA/uQ1lqda13SsYmy7bcP4vZ51cfdnTD02SgYsWJ4IRqKl
         u6bSXtsjoai3gXA/SmUMzGzLyaJQSkMfo6m/Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=S9/yy3l9VhNEYxH9yqts/eG7wE6F8f5jRrwcPcW+a5bqngIiaaVDIzLxc6MbTmytLP
         Ku5S5SSnxqWPhISWWrP9uPecs93nhPT4t1wQ6iJs30vJKAa8Ty315eVwYykWHqMSkf9z
         96c/Be07S9xU15Z3YSyuEuppkpgzsZnv/nbgQ=
MIME-Version: 1.0
Received: by 10.229.37.79 with SMTP id w15mr4625752qcd.180.1300800595127; Tue,
 22 Mar 2011 06:29:55 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 06:29:55 -0700 (PDT)
In-Reply-To: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
References: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
Date: Tue, 22 Mar 2011 09:29:55 -0400
Message-ID: <AANLkTinvo8MLZ2uNb_N3gXbkTSYuQgX7Xor7H0jYUO=r@mail.gmail.com>
Subject: Re: Results: get per field scores ?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Try Searcher.explain.

Best
Erick

On Tue, Mar 22, 2011 at 4:34 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> Is there a way to display Lucene scores per field instead of the global one
> ?
> Both my query and my docs have 3 fields.
>
> I would like to see the scores for each field in the results. Can I ?
>
> Or should I run the query 3 times for each single field ?
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 13:38:26 2011
Return-Path: <java-user-return-49096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50005 invoked from network); 22 Mar 2011 13:38:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 13:38:25 -0000
Received: (qmail 62758 invoked by uid 500); 22 Mar 2011 13:38:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62717 invoked by uid 500); 22 Mar 2011 13:38:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62707 invoked by uid 99); 22 Mar 2011 13:38:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:38:23 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 13:38:17 +0000
Received: by fxm7 with SMTP id 7so8682356fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 06:37:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=qAHdUgy9uwVcqu5qYoa/C/fC+gKtSG3OTHW/Uhjc9rw=;
        b=NTJyPegKhgVc2xyTdbdd2Ib45+54NtbzrCa7Yech38o1bC2RT8/mtEWbmN+5Bp7jKo
         IzW6WngcNBiOLE2DSbqLLxcpdBVZL4t4UKWIcVv9Fus2aNOAuorkzg+AO5NR6wIZw5ct
         YP2olMr8XCDdruBRsmqBol5jvp1taJRCUQPug=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=XGQFe9IkYPrh7j8nIbNbv7PhZ9HBuxquiiGmBtMs5t6H829qyPpsSHqDL9Ue2BzEx+
         hI9VGFOd/OmMF7nVJsADg4GNrxw6qkjP5w+mxG/lHEEVd7LxHobYuo9xg5FaycMCjKXq
         GQ0wrychZgqJhg8Xv6WGOgewEHMWrckOJYv5s=
MIME-Version: 1.0
Received: by 10.223.73.198 with SMTP id r6mr153255faj.109.1300801053746; Tue,
 22 Mar 2011 06:37:33 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 06:37:33 -0700 (PDT)
In-Reply-To: <AANLkTikwOC_hBOYCY1my50q4XogoJ1BUmjB74Zw7aaCZ@mail.gmail.com>
References: <AANLkTi=CnyxkwnG30+p+HnEOYETV1oZoba-K_fp7R4HF@mail.gmail.com>
	<AANLkTikwOC_hBOYCY1my50q4XogoJ1BUmjB74Zw7aaCZ@mail.gmail.com>
Date: Tue, 22 Mar 2011 14:37:33 +0100
Message-ID: <AANLkTi=B_h6G0jL2xXLHisktt2gdWc6dfVk8jaGWNLKi@mail.gmail.com>
Subject: Re: Building a query of single terms...
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a66dbb653a049f125853

--20cf3054a66dbb653a049f125853
Content-Type: text/plain; charset=ISO-8859-1

all right. I still have one last question. If I pass a new QueryParser to
booleanQuery.add method, am I actually passing multiple single terms or it
is the same than just passing the string ?

See example below, please...

booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40,
"title", new
WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse("my
multiple terms"), BooleanClause.Occur.SHOULD);




On 22 March 2011 14:18, Erick Erickson <erickerickson@gmail.com> wrote:

> The easiest way to figure out this kind of thing is to print out the
> toString() on the queries after they're assembled. I believe you'll
> find that the difference is that the PhraseQuery would find text like
> "Term1 Term2 Term3" but not text like "Term1 some stuff Term2 more
> stuff Term3" whereas BooleanQuery would.
>
> Best
> Erick
>
> On Mon, Mar 21, 2011 at 1:43 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > I'm new to Lucene and I would like to know what's the difference (if
> there
> > is any) between
> >
> > PhraseQuery.add(Term1)
> > PhraseQuery.add(Term2)
> > PhraseQuery.add(Term3)
> >
> > and
> >
> > term1 = new TermQuery(new Term(...));
> > booleanQuery.add(term1, BooleanClause.Occur.SHOULD);
> >
> > term2 = new TermQuery(new Term(...));
> > booleanQuery.add(term2, BooleanClause.Occur.SHOULD);
> >
> > thanks
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a66dbb653a049f125853--

From java-user-return-49097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 14:22:36 2011
Return-Path: <java-user-return-49097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74779 invoked from network); 22 Mar 2011 14:22:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 14:22:36 -0000
Received: (qmail 23033 invoked by uid 500); 22 Mar 2011 14:22:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22962 invoked by uid 500); 22 Mar 2011 14:22:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22954 invoked by uid 99); 22 Mar 2011 14:22:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 14:22:33 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,HTML_OBFUSCATE_10_20,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mailtojiangmingyuan@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 14:22:26 +0000
Received: by wyb40 with SMTP id 40so8728617wyb.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 07:22:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:x-qq-ssf:x-qq-business-origin:x-originating-ip
         :x-qq-style:x-qq-mid:from:to:subject:mime-version:content-type
         :content-transfer-encoding:date:x-priority:message-id:x-qq-mime
         :x-mailer:x-qq-mailer:x-qq-replyhash;
        bh=5YISRNV3+Zb+t186C1BGXHDBrS905a7MdXRUl0m7ZEA=;
        b=v9AZkqHLeO/KlZh38N4BySrWt6YNfOjJ5rVDZ88yzRS2JWIzh6OhQBOsA76SxD45+f
         J9TjMio018AoJ5HFv8aTNPD4geReunJiLMX0mqOkkqiYSV/TThdc72FUTWIJoMdS0hsw
         n4+Kih/YPb2bwBDrBaCsKlU52anA4Hvo/rYaQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-qq-ssf:x-qq-business-origin:x-originating-ip:x-qq-style:x-qq-mid
         :from:to:subject:mime-version:content-type:content-transfer-encoding
         :date:x-priority:message-id:x-qq-mime:x-mailer:x-qq-mailer
         :x-qq-replyhash;
        b=TaRERX5M2YB5HHpljDt9f8tttOXYXAe2R7rWMDuMFVT7ln82wRHthV8+XNosGH5Tci
         8pwIzocuEOrmh6JlwKAwsvPXfmpW8I1+VogwFHCCKOjKkgmMGNF0dB0eo/GekckFJREy
         qbDQiz3PP/Ji/CgSmFbqhdSHaAp/DfcFwpkDE=
Received: by 10.227.37.220 with SMTP id y28mr5410354wbd.82.1300803726316;
        Tue, 22 Mar 2011 07:22:06 -0700 (PDT)
Received: from smtpbg55.qq.com (smtpbg55.qq.com [64.71.138.44])
        by mx.google.com with ESMTPS id u9sm3283101wbg.34.2011.03.22.07.22.02
        (version=SSLv3 cipher=OTHER);
        Tue, 22 Mar 2011 07:22:03 -0700 (PDT)
X-QQ-SSF:00000000000000F0
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 211.102.211.134
X-QQ-STYLE:
X-QQ-mid:webmail546t1300803710t321284
From: "=?gbk?B?bWFpbHRvamlhbmdtaW5neXVhbg==?=" <mailtojiangmingyuan@gmail.com>
To: "=?gbk?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>, "=?gbk?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: Re: how to get all documents in the results ?
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D88B07E_DF8564B0_2EF68A90"
Content-Transfer-Encoding: 8Bit
Date: Tue, 22 Mar 2011 22:21:50 +0800
X-Priority: 3
Message-ID: <tencent_1DBD63F644E1E446789DF222@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 2102068788
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D88B07E_DF8564B0_2EF68A90
Content-Type: text/plain;
	charset="gbk"
Content-Transfer-Encoding: base64

eWVzLGkgdGhpbmsgdGhlICJNYXRjaEFsbERvY3NRdWVyeSIgc2hvdWxkIGZlZWQgeW91ciBu
ZWVkLg0KIA0KIA0KLS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdpbmFsIC0tLS0tLS0tLS0tLS0t
LS0tLQ0KRnJvbTogIkFuc2h1bSI7IA0KRGF0ZTogMjAxMcTqM9TCMjLI1SjQx8batv4pIM3t
yc83OjQwDQpUbzogImphdmEtdXNlciI7IA0KU3ViamVjdDogUmU6IGhvdyB0byBnZXQgYWxs
IGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0cyA/DQoNCiANCkhpIFBhdHJpY2ssDQpZb3UgbWF5
IGhhdmUgYSBsb29rIGF0IHRoaXMsIHBlcmhhcHMgdGhpcyB3aWxsIGhlbHAgeW91IHdpdGgg
aXQuIExldCBtZSBrbm93DQppZiB5b3UncmUgc3RpbGwgc3R1Y2sgdXAuDQpodHRwOi8vc3Rh
Y2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMzMDAyNjUvbHVjZW5lLTMtaXRlcmF0aW5nLW92
ZXItYWxsLWhpdHMNCg0KDQotLQ0KQW5zaHVtIEd1cHRhDQpodHRwOi8vYWktY2FmZS5ibG9n
c3BvdC5jb20NCg0KDQpPbiBUdWUsIE1hciAyMiwgMjAxMSBhdCA0OjEwIFBNLCA8a2FybC53
cmlnaHRAbm9raWEuY29tPiB3cm90ZToNCg0KPiBOb3Qgc3VyZSB3aGF0IHlvdXIgdXNlIGNh
c2UgYWN0dWFsbHkgaXMsIGJ1dCBpdCBzb3VuZHMgbGlrZSB5b3UgbWF5IGJlDQo+IHVuY2xl
YXIgaG93IEx1Y2VuZSB3b3Jrcy4NCj4NCj4gRWFjaCBxdWVyeSBjbGF1c2UgeW91IGhhdmUg
d2lsbCBwcm9kdWNlIGFuIGl0ZXJhdG9yIHRoYXQgd2Fsa3Mgb3ZlciB0aGUNCj4gZG9jdW1l
bnRzIHRoYXQgbWF0Y2ggdGhhdCBjbGF1c2UuICBBbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRo
ZSBlbnRpcmUsIHJvb3QNCj4gcXVlcnkgZ2V0IHNjb3JlZC4gIFRoZSBzY29yaW5nIGV2YWx1
YXRpb24gcGVyIGRvY3VtZW50IGlzIGFsc28gcmVsYXRlZCB0bw0KPiB0aGUgZm9ybSBvZiB5
b3VyIHF1ZXJ5IGV4cHJlc3Npb24gaGllcmFyY2h5Lg0KPg0KPiBTbywgTWF0Y2hBbGxEb2Nz
UXVlcnkgaXMgZXhhY3RseSB3aGF0IHlvdSB3YW50IGlmIHlvdSB3YW50IGEgZG9jdW1lbnQN
Cj4gaXRlcmF0b3IgdGhhdCBpbmNsdWRlcyBhbGwgZG9jdW1lbnRzIGluIHRoZSBpbmRleC4g
IFlvdSBjYW4gY2hhbmdlIGhvdyB0aGlzDQo+IGlzIHNjb3JlZCBieSBleHRlbmRpbmcgTWF0
Y2hBbGxEb2NzUXVlcnkgYW5kIHdyaXRpbmcgYSBjdXN0b20gc2NvcmVyLg0KPg0KPiBLYXJs
DQo+DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IGV4dCBQYXRyaWNr
IERpdmlhY2NvIFttYWlsdG86cGF0cmljay5kaXZpYWNjb0BnbWFpbC5jb21dDQo+IFNlbnQ6
IFR1ZXNkYXksIE1hcmNoIDIyLCAyMDExIDQ6MjMgQU0NCj4gVG86IGphdmEtdXNlckBsdWNl
bmUuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBob3cgdG8gZ2V0IGFsbCBkb2N1bWVudHMgaW4g
dGhlIHJlc3VsdHMgPw0KPg0KPiBJJ20gdXNpbmcgdGhlIGZvbGxvd2luZyBjb2RlIGJlY2F1
c2UgSSB3YW50IHRvIHNlZSB0aGUgZW50aXJlIGNvbGxlY3Rpb24gaW4NCj4gbXkgcXVlcnkg
cmVzdWx0czoNCj4NCj4gLy9hZGRpbmcgd2lsZGNhcmRzLXRlcm0gdG8gc2VlIGFsbCByZXN1
bHRzDQo+IHJlc3QgPSBuZXcgVGVybVF1ZXJ5KG5ldyBUZXJtKCIqIiwiKiIpKTsNCj4gYm9v
bGVhblF1ZXJ5LmFkZChyZXN0LCBCb29sZWFuQ2xhdXNlLk9jY3VyLlNIT1VMRCk7DQo+DQo+
IEJ1dCBpdCBkb2Vzbid0IHdvcmssIEkgb25seSBzZWUgdGhlIHJlbGV2YW50IGRvY3MgYW5k
IG5vdCBhbGwgdGhlIG90aGVyDQo+IG9uZXMuDQo+IEhvdyBjYW4gSSBnZXQgYWxsIGRvY3Vt
ZW50cyBvcmRlcmVkIGJ5IHJlbGV2YW5jZSBpbnN0ZWFkID8NCj4NCj4gcHMuIE1hdGNoQWxs
RG9jc1F1ZXJ5IGlzIG5vdCBhIHNvbHV0aW9uIGJlY2F1c2UgSSBuZWVkIHRvIHNwZWNpZnkg
bXkgb3duDQo+IGN1c3RvbSBxdWVyeS4NCj4NCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVu
c3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hl
Lm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVs
cEBsdWNlbmUuYXBhY2hlLm9yZw0KPg0KPg==

------=_NextPart_4D88B07E_DF8564B0_2EF68A90--


From java-user-return-49098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 15:16:24 2011
Return-Path: <java-user-return-49098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47960 invoked from network); 22 Mar 2011 15:16:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 15:16:23 -0000
Received: (qmail 619 invoked by uid 500); 22 Mar 2011 15:16:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 566 invoked by uid 500); 22 Mar 2011 15:16:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 558 invoked by uid 99); 22 Mar 2011 15:16:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 15:16:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.252.22.173] (HELO smtp1.voila.fr) (193.252.22.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 15:16:14 +0000
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf4912.voila.fr (SMTP Server) with ESMTP id E510E7000094
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 16:15:53 +0100 (CET)
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf4912.voila.fr (SMTP Server) with ESMTP id D89957000095
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 16:15:53 +0100 (CET)
Received: from wwinf4627 (wwinf4627 [10.232.13.101])
	by mwinf4912.voila.fr (SMTP Server) with ESMTP id C96EA7000094
	for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 16:15:53 +0100 (CET)
X-ME-UUID: 20110322151553825.C96EA7000094@mwinf4912.voila.fr
From: fr.jurain@voila.fr
Reply-To: fr.jurain@voila.fr
To: java-user@lucene.apache.org
Message-ID: <15066110.787441300806953817.JavaMail.www@wwinf4627>
Subject: Re: Wanted: a directory of quick-and-(not too)dirty analyzers for
 multi-language RDF.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [193.194.132.73]
X-Wum-Nature: EMAIL-NATURE
X-WUM-FROM: |~|
X-WUM-TO: |~|
X-WUM-REPLYTO: |~|
Date: Tue, 22 Mar 2011 16:15:53 +0100 (CET)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Luceners,

this is my 1st experience with ARQ, LARQ & Lucene;
everyth. went smooth so far, however the slope seems to be getting=20
steeper suddenly.

The initial problem was to develop a Java app to build, then to browse=20
through, a repository of RDF data. With TDB/ARQ, this is now running=20
smoothly.
Then came 2 decisions:
1) localize most of the RDF litterals, & have the repository hold them all;=
 so far=20
20 Western languages + 3 Eastern, & counting;
2) allow queries to include full-text searches over the litterals.
The problem now is that I expect new languages to be added w/out prior=20
warning, & I'll have to cope with most of them decently, right from=20
day-zero. As with most of the 20 already identified, for that matter.

So far, Lucene has exactly the right architecture for a Java indexing=20
component; LARQ seems to have more or less what it takes to both index &=20
query RDF based on language info.
The only thing I need is the middle layer: a Java component extending=20
Lucene, that'd pull a plausible Analyzer out of its magic hat, for every=20
ISO 639-1 language tag however unlikely that turns up in the RDF input.
Not just an analyzer, mark: a *plausible* one. I mean one that'll=20
generate usable indexes right out of the box in most cases; I cannot=20
afford to bring the system back into dev & study the arcanes of=20
automatic indexing in just every language we're working with. So=20
lucene-contrib + covering the rest with StandardAnalyzer/English=20
stopwords is not an option.
On the other hand, to mitigate the "however unlikely" part: the=20
localized litterals are repair instructions, so I don't reckon we miss=20
support for Middle-High Sumerian any time soon.

I had a quick glance at Solr; it would appear to be a fair candidate=20
since it must needs have such a component nested in its server-side=20
software, & it's free.
Only I would rather have the component in question offered as a separate=20
release, or at least with backward compatibility guaranteed.
What do you advise; should I apple-C apple-V part of Solr? Else, what alter=
nate freeware might do? =20

Best regards,
     Fran=C3=A7ois Jurain.



____________________________________________________

  Retrouvez les 10 conseils pour =C3=A9conomiser votre carburant sur Voila =
:  http://actu.voila.fr/evenementiel/LeDossierEcologie/l-eco-conduite/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 16:40:20 2011
Return-Path: <java-user-return-49099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33277 invoked from network); 22 Mar 2011 16:40:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 16:40:20 -0000
Received: (qmail 50346 invoked by uid 500); 22 Mar 2011 16:40:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50303 invoked by uid 500); 22 Mar 2011 16:40:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50295 invoked by uid 99); 22 Mar 2011 16:40:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 16:40:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [91.121.16.47] (HELO ns23917.ovh.net) (91.121.16.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 16:40:12 +0000
Received: (qmail 28261 invoked by uid 508); 22 Mar 2011 16:51:25 -0000
Received: from unknown (HELO spotter-dclnx.intra.spotter.com) (88.182.17.109)
  by ns23917.ovh.net with AES256-SHA encrypted SMTP; 22 Mar 2011 16:51:25 -0000
Received: from techno by spotter-dclnx.intra.spotter.com with local (Exim 4.72)
	(envelope-from <dcausse@spotter.com>)
	id 1Q24d7-00012O-69
	for java-user@lucene.apache.org; Tue, 22 Mar 2011 17:40:25 +0100
Date: Tue, 22 Mar 2011 17:40:25 +0100
From: David Causse <dcausse@spotter.com>
To: java-user@lucene.apache.org
Subject: Re: Wanted: a directory of quick-and-(not too)dirty analyzers for
 multi-language RDF.
Message-ID: <20110322164025.GE7580@spotter-dclnx>
Mail-Followup-To: David Causse <dcausse@spotter.com>,
	java-user@lucene.apache.org
References: <15066110.787441300806953817.JavaMail.www@wwinf4627>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <15066110.787441300806953817.JavaMail.www@wwinf4627>
User-Agent: Mutt/1.5.20 (2009-06-14)

On Tue, Mar 22, 2011 at 04:15:53PM +0100, fr.jurain@voila.fr wrote:
> The only thing I need is the middle layer: a Java component extending 
> Lucene, that'd pull a plausible Analyzer out of its magic hat, for every 
> ISO 639-1 language tag however unlikely that turns up in the RDF input.
> Not just an analyzer, mark: a *plausible* one. I mean one that'll 
> generate usable indexes right out of the box in most cases; I cannot 
> afford to bring the system back into dev & study the arcanes of 
> automatic indexing in just every language we're working with. So 
> lucene-contrib + covering the rest with StandardAnalyzer/English 
> stopwords is not an option.

Hi,

maybe you could have a look at java.text.* and specifically BreakIterator
(Thai analyzer use it) it could be better than STDAnalyzer for a fallback.
Don't forget that if you use multiple analyzers at index time you'll
have to use multiple analyzers at query time (tricky part of the
process).

Regards.

-- 
David Causse
Spotter
http://www.spotter.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 16:43:42 2011
Return-Path: <java-user-return-49100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33838 invoked from network); 22 Mar 2011 16:43:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 16:43:42 -0000
Received: (qmail 55168 invoked by uid 500); 22 Mar 2011 16:43:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55122 invoked by uid 500); 22 Mar 2011 16:43:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55114 invoked by uid 99); 22 Mar 2011 16:43:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 16:43:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 16:43:32 +0000
Received: by fxm7 with SMTP id 7so8974323fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 09:43:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=t+3RRhRf0U/ZrvzwdOddKL+e+KhfrNZkyGsbgN1IYdg=;
        b=kOmNJgj8m7qsuLG3GXYblsu1wQdNO9J6Tr/3j5Wq3JO4WnnDuKE+L1LF0rqpY5L5ez
         Z9kdRnSPeJS+gY1sULdaGuN5hxvPYSOXUA3RRkUCQBqvP4auPBFOMbFCL/wmHiErzD6m
         IEyo4JgdIFfX7AFaHKFO1KJ6hMAz2BRzF7zvU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=AgS0fc+755rflqiIqyjJ9FMVZnvEsBA1k1dlt7Ucum0IK+Nem8dx5S6ljs0R+Fv3/N
         qRus0YLMdMcQMWmsR/x8X5QALKs+WCb1DGb5F24OwTqtLaKRU88S0arniRy0UaikN5zA
         tVbq5VZ1MEaU2KaJoa8SQzIh08GtWtEVPvF2o=
MIME-Version: 1.0
Received: by 10.223.10.141 with SMTP id p13mr37213fap.109.1300812053603; Tue,
 22 Mar 2011 09:40:53 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 09:40:53 -0700 (PDT)
In-Reply-To: <AANLkTinvo8MLZ2uNb_N3gXbkTSYuQgX7Xor7H0jYUO=r@mail.gmail.com>
References: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
	<AANLkTinvo8MLZ2uNb_N3gXbkTSYuQgX7Xor7H0jYUO=r@mail.gmail.com>
Date: Tue, 22 Mar 2011 17:40:53 +0100
Message-ID: <AANLkTimu7+RtD-XQN7M+aPEDOOM23ELb7MsahhUFOc4_@mail.gmail.com>
Subject: Re: Results: get per field scores ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174482d05fe5bc049f14e8e8
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174482d05fe5bc049f14e8e8
Content-Type: text/plain; charset=ISO-8859-1

I've been told search explain should be used for debugging only because it
slows down a lot computations. Is it true ?

On 22 March 2011 14:29, Erick Erickson <erickerickson@gmail.com> wrote:

> Try Searcher.explain.
>
> Best
> Erick
>
> On Tue, Mar 22, 2011 at 4:34 AM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > Is there a way to display Lucene scores per field instead of the global
> one
> > ?
> > Both my query and my docs have 3 fields.
> >
> > I would like to see the scores for each field in the results. Can I ?
> >
> > Or should I run the query 3 times for each single field ?
> >
> > thanks
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015174482d05fe5bc049f14e8e8--

From java-user-return-49101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 17:07:45 2011
Return-Path: <java-user-return-49101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33028 invoked from network); 22 Mar 2011 17:07:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 17:07:45 -0000
Received: (qmail 95529 invoked by uid 500); 22 Mar 2011 17:07:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95482 invoked by uid 500); 22 Mar 2011 17:07:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95473 invoked by uid 99); 22 Mar 2011 17:07:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 17:07:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 17:07:37 +0000
Received: by pwi14 with SMTP id 14so1208165pwi.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 10:07:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=EDGOTmPNSvDJt8Nl2ooFM9XJxtNueOlxMID7ylAIpL0=;
        b=npiFW4q2uykrN8S9rV6zIhIT2l4P4e+I/KOBmC9SRgCadr2RhXvXMK7paCD51K8zWg
         ByTUxFcUi2PPiPnzc16hLYOPGs049b02TPJY53WFmiwjcrjDVIZieuVGN6rOFw9nL6m9
         dGEvG7eIGDk/6+05/Mtv2aCy+pdpVhsRQmLso=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=LPwvOWiqBkxRJrmG8FGXBGc5IWy0jUtIUPo/P0DHdU2Lc0Y65EFtlMCb1vp0WOjNUS
         gZtllbeIAmJP6fPi7UhkxLobCKpVENKZP4MHHy/MU3ocVV7pMB1DeqnB5PI0KChwjLVX
         zFH4YMTBq1dfX5edZrNMf1rb6BHiSSzoMQLgs=
Received: by 10.142.150.32 with SMTP id x32mr4333795wfd.287.1300813635950;
        Tue, 22 Mar 2011 10:07:15 -0700 (PDT)
Received: from [10.1.1.104] (hq.compositesw.com [209.237.61.131])
        by mx.google.com with ESMTPS id n4sm8886772wfl.14.2011.03.22.10.07.14
        (version=SSLv3 cipher=OTHER);
        Tue, 22 Mar 2011 10:07:14 -0700 (PDT)
Message-ID: <4D88D732.10108@gmail.com>
Date: Tue, 22 Mar 2011 10:06:58 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Distributing a Lucene application?
References: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
In-Reply-To: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Each database having its own index should be fine.
However, just checking modified timestamp may not be enough, since there 
could be items deleted.

You can check DBSight for this purpose. It can do remote index 
replication across WAN.
But, if the NY index is synchronized before NY database does, this means 
the NY index could return results not found in NY database, correct?

--
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes: 
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 3/22/2011 1:30 AM, sol myr wrote:
> Hi,
> What are my options for distributing an application that uses Lucene?
>
> Our current application works against a database of INVENTORY. We schedule
> hourly checks for modified items (timestamp-based), and update a single
> Lucene index.
> Now we want to distribute out application, to a Grid, with failover, and a
> bit of data sharing:
> Say we have 2 branches - New York and Los Angeles.
>
> (1) Inventory of the NY branch is handled by 2 application servers, and 2
> database copies. They are exact replicates, for failover/load balance.
> Similarly, the LA branch gets 2 application servers and 2 databases.
>
> (2) 90% of the time, each branch "minds its own business" and isn't
> interested in the other branch's inventory.
> However on rare occasions, an LA administrator needs to search the NY
> inventory (we can compromise on data freshness, e.g. show data 10 hours
> old).
>
> Does Lucene have built-in support for any of this?
> If I'm to do this "from scratch" I'll probably just let each application
> server maintain its own copy of Lucene index (with data only from its own
> city, and hourly updates as before).
> And for the requirement of "LA admin searching the NY inventory" I'd
> schedule a task to copy the NY index into the LA server, every 10 hours.
>
> Is this a reasonable approach? Or are there Lucene-management tools that
> would handle it better?
> Thanks :)
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 19:44:29 2011
Return-Path: <java-user-return-49102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33226 invoked from network); 22 Mar 2011 19:44:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 19:44:29 -0000
Received: (qmail 24384 invoked by uid 500); 22 Mar 2011 19:44:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24340 invoked by uid 500); 22 Mar 2011 19:44:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 17773 invoked by uid 99); 22 Mar 2011 17:57:00 -0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of nitinhardeniya@gmail.com)
Date: Tue, 22 Mar 2011 10:56:35 -0700 (PDT)
From: nitinhardeniya <nitinhardeniya@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1300816595286-2716046.post@n3.nabble.com>
Subject: TermDoc to TermDocsEnum
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

hi

I have a code that work fine with lucene 3.2 where i used TermDocs to find
the corpusTF here is the code 


public void calculateCorpusTF(IndexReader reader) throws IOException {
		// TODO Auto-generated method stub
		Iterator it = word.iterator();

		Iterator  iwp  = word_prop.iterator();
		wordProp wp;
		Term ta = null;

			TermDocs tds;
	//	DocsEnum tds;
		String text;
		tfDoc tfcoll;  
		long freq=0;
		OpenBitSet skipDocs = null;
		skipDocs = new OpenBitSet(0);
		//System.out.println("Length: "+skipDocs.length());
		try {

			while(it.hasNext())
			{	
				text=it.next();
				wp=iwp.next();

				System.out.println("Word is "+text);
				ta= new Term("content",text);
				//BytesRef term = new BytesRef(text.toCharArray(),0,text.length());

				tfcoll = new tfDoc();
				freq=0;

								tds=reader.termDocs(ta);
							//	tds=reader.terms("content");
								if(tds!=null)
								{
									while(tds.next())
									{
									
										freq+=tds.freq();
									//	System.out.print( text +"  "+ freq);
									}
								}

				// New Code -->

//				tds = reader.termDocsEnum(skipDocs, "content", term);
//				if(tds!=null)
//				{
//					while(true) {
//						freq += tds.freq();
//						final int docID = tds.nextDoc();
//						if (docID == DocsEnum.NO_MORE_DOCS) {
//							break;
//						}
//					}
//				}
//				
				// New code Ends <--

				tfcoll.tfA=freq;
				System.out.print( text +"  "+ freq);
				if(tfcoll.totalTF()==0)
				{
					//System.out.println(" "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
					System.out.println("Text "+text+ " Freq "+freq);
				}

				wp.tfColl=tfcoll;
			}
		}
		catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
		}

	}

but now i have to use TermDocEnum because i am using lucene dev4.0 which
does not have TermDocs method i was trying to change my code .please refer
to new code [commented ] and tell me how to use this method in a proper way
. if you can provide an example that would be great.
tds = reader.termDocsEnum(skipDocs, "content", term);
I have tried using null at skipdoc because i don't want to skip anything but
it through error

please help

--
View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 20:00:11 2011
Return-Path: <java-user-return-49103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79815 invoked from network); 22 Mar 2011 20:00:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 20:00:11 -0000
Received: (qmail 54907 invoked by uid 500); 22 Mar 2011 20:00:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54862 invoked by uid 500); 22 Mar 2011 20:00:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54854 invoked by uid 99); 22 Mar 2011 20:00:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 20:00:08 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 20:00:01 +0000
Received: by wyb40 with SMTP id 40so9230375wyb.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 12:59:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.210.136 with SMTP id gk8mr5665540wbb.79.1300823980493;
 Tue, 22 Mar 2011 12:59:40 -0700 (PDT)
Received: by 10.227.72.137 with HTTP; Tue, 22 Mar 2011 12:59:40 -0700 (PDT)
In-Reply-To: <1300816595286-2716046.post@n3.nabble.com>
References: <1300816595286-2716046.post@n3.nabble.com>
Date: Tue, 22 Mar 2011 15:59:40 -0400
Message-ID: <AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
Subject: Re: TermDoc to TermDocsEnum
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: nitinhardeniya <nitinhardeniya@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org

VHJ5IGxvb2tpbmcgYXQgTUlHUkFURS50eHQ/CgpQYXNzaW5nIG51bGwgZm9yIHRoZSBza2lwRG9j
cyBzaG91bGQgYmUgZmluZS4gIExpa2VseSB5b3UgbmVlZCB0byB1c2UKTXVsdGlGaWVsZHMuZ2V0
VGVybURvY3NFbnVtLCBidXQgdGhhdCBlbnRhaWxzIGEgcGVyZm9ybWFuY2UgaGl0ICh2cwpnb2lu
ZyBzZWdtZW50IGJ5IHNlZ21lbnQgeW91cnNlbGYpLgoKTWlrZQoKaHR0cDovL2Jsb2cubWlrZW1j
Y2FuZGxlc3MuY29tCgpPbiBUdWUsIE1hciAyMiwgMjAxMSBhdCAxOjU2IFBNLCBuaXRpbmhhcmRl
bml5YQo8bml0aW5oYXJkZW5peWFAZ21haWwuY29tPiB3cm90ZToKPiBoaQo+Cj4gSSBoYXZlIGEg
Y29kZSB0aGF0IHdvcmsgZmluZSB3aXRoIGx1Y2VuZSAzLjIgd2hlcmUgaSB1c2VkIFRlcm1Eb2Nz
IHRvIGZpbmQKPiB0aGUgY29ycHVzVEYgaGVyZSBpcyB0aGUgY29kZQo+Cj4KPiBwdWJsaWMgdm9p
ZCBjYWxjdWxhdGVDb3JwdXNURihJbmRleFJlYWRlciByZWFkZXIpIHRocm93cyBJT0V4Y2VwdGlv
biB7Cj4goCCgIKAgoCCgIKAgoCCgLy8gVE9ETyBBdXRvLWdlbmVyYXRlZCBtZXRob2Qgc3R1Ygo+
IKAgoCCgIKAgoCCgIKAgoEl0ZXJhdG9yIGl0ID0gd29yZC5pdGVyYXRvcigpOwo+Cj4goCCgIKAg
oCCgIKAgoCCgSXRlcmF0b3IgoGl3cCCgPSB3b3JkX3Byb3AuaXRlcmF0b3IoKTsKPiCgIKAgoCCg
IKAgoCCgIKB3b3JkUHJvcCB3cDsKPiCgIKAgoCCgIKAgoCCgIKBUZXJtIHRhID0gbnVsbDsKPgo+
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgVGVybURvY3MgdGRzOwo+IKAgoCCgIKAvLyCgIKAgoERv
Y3NFbnVtIHRkczsKPiCgIKAgoCCgIKAgoCCgIKBTdHJpbmcgdGV4dDsKPiCgIKAgoCCgIKAgoCCg
IKB0ZkRvYyB0ZmNvbGw7Cj4goCCgIKAgoCCgIKAgoCCgbG9uZyBmcmVxPTA7Cj4goCCgIKAgoCCg
IKAgoCCgT3BlbkJpdFNldCBza2lwRG9jcyA9IG51bGw7Cj4goCCgIKAgoCCgIKAgoCCgc2tpcERv
Y3MgPSBuZXcgT3BlbkJpdFNldCgwKTsKPiCgIKAgoCCgIKAgoCCgIKAvL1N5c3RlbS5vdXQucHJp
bnRsbigiTGVuZ3RoOiAiK3NraXBEb2NzLmxlbmd0aCgpKTsKPiCgIKAgoCCgIKAgoCCgIKB0cnkg
ewo+Cj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKB3aGlsZShpdC5oYXNOZXh0KCkpCj4goCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKB7Cj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoHRleHQ9
aXQubmV4dCgpOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKB3cD1pd3AubmV4dCgp
Owo+Cj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoFN5c3RlbS5vdXQucHJpbnRsbigi
V29yZCBpcyAiK3RleHQpOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKB0YT0gbmV3
IFRlcm0oImNvbnRlbnQiLHRleHQpOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAv
L0J5dGVzUmVmIHRlcm0gPSBuZXcgQnl0ZXNSZWYodGV4dC50b0NoYXJBcnJheSgpLDAsdGV4dC5s
ZW5ndGgoKSk7Cj4KPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgdGZjb2xsID0gbmV3
IHRmRG9jKCk7Cj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoGZyZXE9MDsKPgo+IKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoHRkcz1yZWFkZXIudGVybURvY3ModGEpOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAvLyCgIKAgoHRkcz1yZWFkZXIudGVybXMoImNv
bnRlbnQiKTsKPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKBpZih0ZHMhPW51bGwpCj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgewo+IKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
d2hpbGUodGRzLm5leHQoKSkKPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoHsKPgo+IKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKBmcmVxKz10ZHMuZnJlcSgpOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgLy8goCCgIKBTeXN0ZW0ub3V0
LnByaW50KCB0ZXh0ICsiIKAiKyBmcmVxKTsKPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoH0KPiCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKB9Cj4K
PiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgLy8gTmV3IENvZGUgLS0+Cj4KPiAvLyCg
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoHRkcyA9IHJlYWRlci50ZXJtRG9jc0VudW0oc2tp
cERvY3MsICJjb250ZW50IiwgdGVybSk7Cj4gLy8goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKBpZih0ZHMhPW51bGwpCj4gLy8goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKB7Cj4gLy8g
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoHdoaWxlKHRydWUpIHsKPiAvLyCg
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKBmcmVxICs9IHRkcy5m
cmVxKCk7Cj4gLy8goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
ZmluYWwgaW50IGRvY0lEID0gdGRzLm5leHREb2MoKTsKPiAvLyCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKBpZiAoZG9jSUQgPT0gRG9jc0VudW0uTk9fTU9SRV9E
T0NTKSB7Cj4gLy8goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKBicmVhazsKPiAvLyCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKB9Cj4gLy8goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoH0KPiAv
LyCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoH0KPiAvLwo+IKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgIKAgoCCgIKAvLyBOZXcgY29kZSBFbmRzIDwtLQo+Cj4goCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoHRmY29sbC50ZkE9ZnJlcTsKPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
IKAgoCCgU3lzdGVtLm91dC5wcmludCggdGV4dCArIiCgIisgZnJlcSk7Cj4goCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoGlmKHRmY29sbC50b3RhbFRGKCk9PTApCj4goCCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoHsKPiCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKAvL1N5c3RlbS5vdXQucHJpbnRsbigiICIrdGZjb2xsLnRmQSsiICIrdGZjb2xsLnRmRCsi
ICIrdGZjb2xsLnRmQyk7Cj4goCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCg
U3lzdGVtLm91dC5wcmludGxuKCJUZXh0ICIrdGV4dCsgIiBGcmVxICIrZnJlcSk7Cj4goCCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAgoH0KPgo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgIKAg
oCCgIKB3cC50ZkNvbGw9dGZjb2xsOwo+IKAgoCCgIKAgoCCgIKAgoCCgIKAgoCCgfQo+IKAgoCCg
IKAgoCCgIKAgoH0KPiCgIKAgoCCgIKAgoCCgIKBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKPiCgIKAg
oCCgIKAgoCCgIKAgoCCgIKAgoC8vIFRPRE86IGhhbmRsZSBleGNlcHRpb24KPiCgIKAgoCCgIKAg
oCCgIKAgoCCgIKAgoGUucHJpbnRTdGFja1RyYWNlKCk7Cj4goCCgIKAgoCCgIKAgoCCgfQo+Cj4g
oCCgIKAgoH0KPgo+IGJ1dCBub3cgaSBoYXZlIHRvIHVzZSBUZXJtRG9jRW51bSBiZWNhdXNlIGkg
YW0gdXNpbmcgbHVjZW5lIGRldjQuMCB3aGljaAo+IGRvZXMgbm90IGhhdmUgVGVybURvY3MgbWV0
aG9kIGkgd2FzIHRyeWluZyB0byBjaGFuZ2UgbXkgY29kZSAucGxlYXNlIHJlZmVyCj4gdG8gbmV3
IGNvZGUgW2NvbW1lbnRlZCBdIGFuZCB0ZWxsIG1lIGhvdyB0byB1c2UgdGhpcyBtZXRob2QgaW4g
YSBwcm9wZXIgd2F5Cj4gLiBpZiB5b3UgY2FuIHByb3ZpZGUgYW4gZXhhbXBsZSB0aGF0IHdvdWxk
IGJlIGdyZWF0Lgo+IHRkcyA9IHJlYWRlci50ZXJtRG9jc0VudW0oc2tpcERvY3MsICJjb250ZW50
IiwgdGVybSk7Cj4gSSBoYXZlIHRyaWVkIHVzaW5nIG51bGwgYXQgc2tpcGRvYyBiZWNhdXNlIGkg
ZG9uJ3Qgd2FudCB0byBza2lwIGFueXRoaW5nIGJ1dAo+IGl0IHRocm91Z2ggZXJyb3IKPgo+IHBs
ZWFzZSBoZWxwCj4KPiAtLQo+IFZpZXcgdGhpcyBtZXNzYWdlIGluIGNvbnRleHQ6IGh0dHA6Ly9s
dWNlbmUuNDcyMDY2Lm4zLm5hYmJsZS5jb20vVGVybURvYy10by1UZXJtRG9jc0VudW0tdHAyNzE2
MDQ2cDI3MTYwNDYuaHRtbAo+IFNlbnQgZnJvbSB0aGUgTHVjZW5lIC0gSmF2YSBVc2VycyBtYWls
aW5nIGxpc3QgYXJjaGl2ZSBhdCBOYWJibGUuY29tLgo+Cj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gVG8gdW5z
dWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3Jn
Cj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5l
LmFwYWNoZS5vcmcKPgo+Cg==


From java-user-return-49104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 22 22:27:29 2011
Return-Path: <java-user-return-49104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62585 invoked from network); 22 Mar 2011 22:27:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Mar 2011 22:27:29 -0000
Received: (qmail 81006 invoked by uid 500); 22 Mar 2011 22:27:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80957 invoked by uid 500); 22 Mar 2011 22:27:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80939 invoked by uid 99); 22 Mar 2011 22:27:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 22:27:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2011 22:27:21 +0000
Received: by qwj9 with SMTP id 9so7047432qwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 15:27:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8OkhC07YmwRXB7NZTAg3BWbYKPR5KizyUR5Qd9SK5Ag=;
        b=QRGJTejYLRa9TarSFA9b13xPO44DJ7pkmBtxDmNr+oS0VLba9jwYO9GIq8QW7MoX8u
         OPen8HfotEJPlNl6xhC/Z+n1B+Awyi0SgxAkLqRd0YCl7LjbkZK3j+3vIGHg8lZ1bA8w
         EECqPbW684Y617OgdrZ6QdbRizLJH/rCOAMkg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=bEKfu1Ley9w2+8ObICyEpJH/NOrgLVMcXiR0SgPaIlmDxO6kn6TyLvR7oBa+FlZRD3
         MNdrDbHbpKsVPy7Z9/+yuV87SP0+zEHLKyoNUQhY5fGmEJwVgdfbx/cNDEzp6z0gpl6M
         Qtrfl+HV0PuztvU4bSQlVsz+U0no/bl+LrN7w=
MIME-Version: 1.0
Received: by 10.224.69.155 with SMTP id z27mr5455253qai.139.1300832820136;
 Tue, 22 Mar 2011 15:27:00 -0700 (PDT)
Received: by 10.229.82.82 with HTTP; Tue, 22 Mar 2011 15:27:00 -0700 (PDT)
In-Reply-To: <AANLkTimu7+RtD-XQN7M+aPEDOOM23ELb7MsahhUFOc4_@mail.gmail.com>
References: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
	<AANLkTinvo8MLZ2uNb_N3gXbkTSYuQgX7Xor7H0jYUO=r@mail.gmail.com>
	<AANLkTimu7+RtD-XQN7M+aPEDOOM23ELb7MsahhUFOc4_@mail.gmail.com>
Date: Tue, 22 Mar 2011 18:27:00 -0400
Message-ID: <AANLkTin8Vxwj4bTj+FwBQhJ8m0h05=05RbFNE=-Rp5S=@mail.gmail.com>
Subject: Re: Results: get per field scores ?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

yes, explain will slow things down, but I'd assumed that
you only cared about this for debugging. What is the use-case
for having it on all the time?

Best
Erick

On Tue, Mar 22, 2011 at 12:40 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> I've been told search explain should be used for debugging only because it
> slows down a lot computations. Is it true ?
>
> On 22 March 2011 14:29, Erick Erickson <erickerickson@gmail.com> wrote:
>
>> Try Searcher.explain.
>>
>> Best
>> Erick
>>
>> On Tue, Mar 22, 2011 at 4:34 AM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > Is there a way to display Lucene scores per field instead of the global
>> one
>> > ?
>> > Both my query and my docs have 3 fields.
>> >
>> > I would like to see the scores for each field in the results. Can I ?
>> >
>> > Or should I run the query 3 times for each single field ?
>> >
>> > thanks
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 00:34:38 2011
Return-Path: <java-user-return-49105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87278 invoked from network); 23 Mar 2011 00:34:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 00:34:38 -0000
Received: (qmail 92177 invoked by uid 500); 23 Mar 2011 00:34:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92136 invoked by uid 500); 23 Mar 2011 00:34:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 4661 invoked by uid 99); 22 Mar 2011 21:38:06 -0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of nitinhardeniya@gmail.com)
Date: Tue, 22 Mar 2011 14:37:41 -0700 (PDT)
From: nitinhardeniya <nitinhardeniya@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTik=QrFX7jC9bKC82PBYa7FpeTSeH_odj-oCVxUQ@mail.gmail.com>
In-Reply-To: <AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
References: <1300816595286-2716046.post@n3.nabble.com> <AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
Subject: Re: TermDoc to TermDocsEnum
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34092_11643036.1300829861346"

------=_Part_34092_11643036.1300829861346
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

hey

no null doesn't work

I have tried
tds=MultiFields.getTermDocsEnum(reader, null, "content", term);

this is not showing error but not it shows error at
getSpans()

Thanks
Nitin

On Wed, Mar 23, 2011 at 1:30 AM, Michael McCandless-2 [via Lucene] <
ml-node+2716623-544966764-77327@n3.nabble.com> wrote:

> Try looking at MIGRATE.txt?
>
> Passing null for the skipDocs should be fine.  Likely you need to use
> MultiFields.getTermDocsEnum, but that entails a performance hit (vs
> going segment by segment yourself).
>
> Mike
>
> http://blog.mikemccandless.com
>
> On Tue, Mar 22, 2011 at 1:56 PM, nitinhardeniya
> <[hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=0&by-user=t>>
> wrote:
>
> > hi
> >
> > I have a code that work fine with lucene 3.2 where i used TermDocs to
> find
> > the corpusTF here is the code
> >
> >
> > public void calculateCorpusTF(IndexReader reader) throws IOException {
> >                // TODO Auto-generated method stub
> >                Iterator it = word.iterator();
> >
> >                Iterator  iwp  = word_prop.iterator();
> >                wordProp wp;
> >                Term ta = null;
> >
> >                        TermDocs tds;
> >        //      DocsEnum tds;
> >                String text;
> >                tfDoc tfcoll;
> >                long freq=0;
> >                OpenBitSet skipDocs = null;
> >                skipDocs = new OpenBitSet(0);
> >                //System.out.println("Length: "+skipDocs.length());
> >                try {
> >
> >                        while(it.hasNext())
> >                        {
> >                                text=it.next();
> >                                wp=iwp.next();
> >
> >                                System.out.println("Word is "+text);
> >                                ta= new Term("content",text);
> >                                //BytesRef term = new
> BytesRef(text.toCharArray(),0,text.length());
> >
> >                                tfcoll = new tfDoc();
> >                                freq=0;
> >
> >
>  tds=reader.termDocs(ta);
> >                                                        //
>  tds=reader.terms("content");
> >
>  if(tds!=null)
> >                                                                {
> >
>  while(tds.next())
> >                                                                        {
> >
> >
>      freq+=tds.freq();
> >                                                                        //
>      System.out.print( text +"  "+ freq);
> >                                                                        }
> >                                                                }
> >
> >                                // New Code -->
> >
> > //                              tds = reader.termDocsEnum(skipDocs,
> "content", term);
> > //                              if(tds!=null)
> > //                              {
> > //                                      while(true) {
> > //                                              freq += tds.freq();
> > //                                              final int docID =
> tds.nextDoc();
> > //                                              if (docID ==
> DocsEnum.NO_MORE_DOCS) {
> > //                                                      break;
> > //                                              }
> > //                                      }
> > //                              }
> > //
> >                                // New code Ends <--
> >
> >                                tfcoll.tfA=freq;
> >                                System.out.print( text +"  "+ freq);
> >                                if(tfcoll.totalTF()==0)
> >                                {
> >                                        //System.out.println("
> "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
> >                                        System.out.println("Text "+text+ "
> Freq "+freq);
> >                                }
> >
> >                                wp.tfColl=tfcoll;
> >                        }
> >                }
> >                catch (Exception e) {
> >                        // TODO: handle exception
> >                        e.printStackTrace();
> >                }
> >
> >        }
> >
> > but now i have to use TermDocEnum because i am using lucene dev4.0 which
> > does not have TermDocs method i was trying to change my code .please
> refer
> > to new code [commented ] and tell me how to use this method in a proper
> way
> > . if you can provide an example that would be great.
> > tds = reader.termDocsEnum(skipDocs, "content", term);
> > I have tried using null at skipdoc because i don't want to skip anything
> but
> > it through error
> >
> > please help
> >
> > --
> > View this message in context:
> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html<http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html?by-user=t>
> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=1&by-user=t>
> > For additional commands, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=2&by-user=t>
> >
> >
>
>
> ------------------------------
>  If you reply to this email, your message will be added to the discussion
> below:
>
> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716623.html
>  To unsubscribe from TermDoc to TermDocsEnum, click here<http://lucene.472066.n3.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=2716046&code=bml0aW5oYXJkZW5peWFAZ21haWwuY29tfDI3MTYwNDZ8LTkwNzg0MTk0MA==>.
>
>



-- 
Nitin Kumar Hardeniya

M.Tech Computational Linguistics
IIIT Hyderabad

SAVE PAPER - THINK BEFORE YOU PRINT


--
View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2717275.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_34092_11643036.1300829861346--

From java-user-return-49106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 00:34:56 2011
Return-Path: <java-user-return-49106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89558 invoked from network); 23 Mar 2011 00:34:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 00:34:56 -0000
Received: (qmail 94096 invoked by uid 500); 23 Mar 2011 00:34:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94050 invoked by uid 500); 23 Mar 2011 00:34:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 4915 invoked by uid 99); 22 Mar 2011 21:39:37 -0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of nitinhardeniya@gmail.com)
Date: Tue, 22 Mar 2011 14:39:12 -0700 (PDT)
From: nitinhardeniya <nitinhardeniya@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTik6bEomAws9JNKKf77oe5hyUTq23XZrNn0-xAKL@mail.gmail.com>
In-Reply-To: <AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
References: <1300816595286-2716046.post@n3.nabble.com> <AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
Subject: Re: TermDoc to TermDocsEnum
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34115_8435118.1300829952570"

------=_Part_34115_8435118.1300829952570
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Where i can find MIGRATE.txt ?

On Wed, Mar 23, 2011 at 3:07 AM, nitin hardeniya
<nitinhardeniya@gmail.com>wrote:

> hey
>
> no null doesn't work
>
> I have tried
> tds=MultiFields.getTermDocsEnum(reader, null, "content", term);
>
> this is not showing error but not it shows error at
> getSpans()
>
> Thanks
> Nitin
>
> On Wed, Mar 23, 2011 at 1:30 AM, Michael McCandless-2 [via Lucene] <
> ml-node+2716623-544966764-77327@n3.nabble.com> wrote:
>
>> Try looking at MIGRATE.txt?
>>
>> Passing null for the skipDocs should be fine.  Likely you need to use
>> MultiFields.getTermDocsEnum, but that entails a performance hit (vs
>> going segment by segment yourself).
>>
>> Mike
>>
>> http://blog.mikemccandless.com
>>
>> On Tue, Mar 22, 2011 at 1:56 PM, nitinhardeniya
>> <[hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=0&by-user=t>>
>> wrote:
>>
>> > hi
>> >
>> > I have a code that work fine with lucene 3.2 where i used TermDocs to
>> find
>> > the corpusTF here is the code
>> >
>> >
>> > public void calculateCorpusTF(IndexReader reader) throws IOException {
>> >                // TODO Auto-generated method stub
>> >                Iterator it = word.iterator();
>> >
>> >                Iterator  iwp  = word_prop.iterator();
>> >                wordProp wp;
>> >                Term ta = null;
>> >
>> >                        TermDocs tds;
>> >        //      DocsEnum tds;
>> >                String text;
>> >                tfDoc tfcoll;
>> >                long freq=0;
>> >                OpenBitSet skipDocs = null;
>> >                skipDocs = new OpenBitSet(0);
>> >                //System.out.println("Length: "+skipDocs.length());
>> >                try {
>> >
>> >                        while(it.hasNext())
>> >                        {
>> >                                text=it.next();
>> >                                wp=iwp.next();
>> >
>> >                                System.out.println("Word is "+text);
>> >                                ta= new Term("content",text);
>> >                                //BytesRef term = new
>> BytesRef(text.toCharArray(),0,text.length());
>> >
>> >                                tfcoll = new tfDoc();
>> >                                freq=0;
>> >
>> >
>>  tds=reader.termDocs(ta);
>> >                                                        //
>>  tds=reader.terms("content");
>> >
>>  if(tds!=null)
>> >                                                                {
>> >
>>  while(tds.next())
>> >                                                                        {
>>
>> >
>> >
>>        freq+=tds.freq();
>> >
>>  //      System.out.print( text +"  "+ freq);
>> >                                                                        }
>>
>> >                                                                }
>> >
>> >                                // New Code -->
>> >
>> > //                              tds = reader.termDocsEnum(skipDocs,
>> "content", term);
>> > //                              if(tds!=null)
>> > //                              {
>> > //                                      while(true) {
>> > //                                              freq += tds.freq();
>> > //                                              final int docID =
>> tds.nextDoc();
>> > //                                              if (docID ==
>> DocsEnum.NO_MORE_DOCS) {
>> > //                                                      break;
>> > //                                              }
>> > //                                      }
>> > //                              }
>> > //
>> >                                // New code Ends <--
>> >
>> >                                tfcoll.tfA=freq;
>> >                                System.out.print( text +"  "+ freq);
>> >                                if(tfcoll.totalTF()==0)
>> >                                {
>> >                                        //System.out.println("
>> "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
>> >                                        System.out.println("Text "+text+
>> " Freq "+freq);
>> >                                }
>> >
>> >                                wp.tfColl=tfcoll;
>> >                        }
>> >                }
>> >                catch (Exception e) {
>> >                        // TODO: handle exception
>> >                        e.printStackTrace();
>> >                }
>> >
>> >        }
>> >
>> > but now i have to use TermDocEnum because i am using lucene dev4.0 which
>>
>> > does not have TermDocs method i was trying to change my code .please
>> refer
>> > to new code [commented ] and tell me how to use this method in a proper
>> way
>> > . if you can provide an example that would be great.
>> > tds = reader.termDocsEnum(skipDocs, "content", term);
>> > I have tried using null at skipdoc because i don't want to skip anything
>> but
>> > it through error
>> >
>> > please help
>> >
>> > --
>> > View this message in context:
>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html<http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html?by-user=t>
>> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=1&by-user=t>
>> > For additional commands, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2716623&i=2&by-user=t>
>> >
>> >
>>
>>
>> ------------------------------
>>  If you reply to this email, your message will be added to the discussion
>> below:
>>
>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716623.html
>>  To unsubscribe from TermDoc to TermDocsEnum, click here<http://lucene.472066.n3.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=2716046&code=bml0aW5oYXJkZW5peWFAZ21haWwuY29tfDI3MTYwNDZ8LTkwNzg0MTk0MA==>.
>>
>>
>
>
>
> --
> Nitin Kumar Hardeniya
>
> M.Tech Computational Linguistics
> IIIT Hyderabad
>
> SAVE PAPER - THINK BEFORE YOU PRINT
>
>
>
>


-- 
Nitin Kumar Hardeniya

M.Tech Computational Linguistics
IIIT Hyderabad

SAVE PAPER - THINK BEFORE YOU PRINT


--
View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2717284.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_34115_8435118.1300829952570--

From java-user-return-49107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 03:08:09 2011
Return-Path: <java-user-return-49107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90239 invoked from network); 23 Mar 2011 03:08:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 03:08:09 -0000
Received: (qmail 41377 invoked by uid 500); 23 Mar 2011 03:08:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41329 invoked by uid 500); 23 Mar 2011 03:08:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41321 invoked by uid 99); 23 Mar 2011 03:08:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 03:08:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 03:08:00 +0000
Received: by fxm7 with SMTP id 7so9679253fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 20:07:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=M/eW0FeX7/u5Y040pwu5TzI0YUoXxPnkVkqosl6+yvI=;
        b=G0GprOrvD/XsbLTPS4BXMvxHkHsNSeS5TzgrHGlyz3kDD106PX9a0EpPoF/cD/EIwM
         q2L3VgZNVWWlreVNUkZGFHT+fyEuEoT6NTQLYxj0LJHicumXz63lBkEt1DvT/f+BCYnj
         qKHIsRbBXlcMZTg3kLz1V5I4nw/mKhupMOXHE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=lGmGcy1AQpSxTCfRyzDpoAdNZXMjs73hmHmWmsaSZ9dvN7z1OeQiZFrSRJDxV/jsBh
         Md9QJdyFvfwncgrniIfyakpNrjX99u8gW6fTjqFnNzbGWIiERAo/+wwlQxJV2rijy8km
         Nz3+kd1ZqDOuRuRGrWcYIwhcGKhyX9WRggc/4=
MIME-Version: 1.0
Received: by 10.223.17.76 with SMTP id r12mr62191faa.142.1300849659928; Tue,
 22 Mar 2011 20:07:39 -0700 (PDT)
Received: by 10.223.145.198 with HTTP; Tue, 22 Mar 2011 20:07:39 -0700 (PDT)
In-Reply-To: <00d401cbe4d2$87356680$95a03380$@thetaphi.de>
References: <E7BD165D7D43436D9FE354ACF61D2D5C@sv.us.sonicwall.com>
	<DDF8BEE611DC4FCBAF067AD315FD8A07@sv.us.sonicwall.com>
	<A6D41B735AA943539590B4862D89AAAD@sv.us.sonicwall.com>
	<AANLkTimW8C4L9dEZq8XfxRyQCMhnYdumX4dkNtOAQnWg@mail.gmail.com>
	<80073E954A3D48DA98B5BC749BDA5835@sv.us.sonicwall.com>
	<00c901cbe4cc$cee2ea30$6ca8be90$@thetaphi.de>
	<5DA406C49994421AA358BC16B8018C22@sv.us.sonicwall.com>
	<00d401cbe4d2$87356680$95a03380$@thetaphi.de>
Date: Tue, 22 Mar 2011 20:07:39 -0700
Message-ID: <AANLkTin8NNcf2royJ_y608JRFeX8TUGRV5Pi0ddewLsf@mail.gmail.com>
Subject: Re: RE: ParallelMultisearcher
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

You should not use the ParallelMultiSearcher. It will not be in the 4.0 rel=
ease.

On Thu, Mar 17, 2011 at 11:38 AM, Uwe Schindler <uwe@thetaphi.de> wrote:
> Hi Ganesh,
>
> this method is also in 2.9.1, it is just inherited from the superclass! Y=
ou
> have to also look at the complete javadocs. Not every method that needs t=
o
> be called must be already implemented in the used class. For PMS in 2.9 i=
t's
> just not fatal to not close it, but you should call it:
> http://lucene.apache.org/java/2_9_1/api/core/org/apache/lucene/search/Mul=
tiS
> earcher.html#close()
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
>> -----Original Message-----
>> From: Ganesh [mailto:emailgane@yahoo.co.in]
>> Sent: Thursday, March 17, 2011 7:09 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: RE: ParallelMultisearcher
>>
>> There is no ParallelMultiSearcher.close() in 2.9.1 and its been added in
> 3.0.
>> Thanks for pointing out. I am not aware of.
>>
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Uwe Schindler" <uwe@thetaphi.de>
>> To: <java-user@lucene.apache.org>
>> Sent: Thursday, March 17, 2011 11:27 PM
>> Subject: [Bulk] RE: ParallelMultisearcher
>>
>>
>> > Hi Ganesh, It's definitely in 3.0.3:
>> >
>> > =C2=A0@Override
>> > =C2=A0public void close() throws IOException {
>> > =C2=A0 =C2=A0executor.shutdown();
>> > =C2=A0 =C2=A0super.close();
>> > =C2=A0}
>> >
>> > This code is in the downloaded .src.zip file of Apache Lucene 3.0.3. A=
re
> you
>> > sure that you call close() on the ParallelMultiSearcher (e.g. when you
> are
>> > done with it or reopen your indexes)? In contrast to Lucene 2.9, PMS
> uses
>> > Java 5's Executors to manage thread pools of workers. The threads are
> only
>> > shutdown on ParallelMultiSearcher.close().
>> >
>> > The entry is missing in Changes.txt, it somehow was merged with the
> other
>> > PMS issue there, that was my fault, sorry (I am the release manager of
> 2.9
>> > and 3.0).
>> >
>> > -----
>> > Uwe Schindler
>> > H.-H.-Meier-Allee 63, D-28213 Bremen
>> > http://www.thetaphi.de
>> > eMail: uwe@thetaphi.de
>> >
>> >
>> >> -----Original Message-----
>> >> From: Ganesh [mailto:emailgane@yahoo.co.in]
>> >> Sent: Thursday, March 17, 2011 6:24 PM
>> >> To: java-user@lucene.apache.org
>> >> Subject: Re: ParallelMultisearcher
>> >>
>> >> I agree but the chang logs of 3.0.3 didn't mention about that. I test=
ed
>> > and
>> >> found that the same problem exists with 3.0.3. I am bit confused.
>> >> http://lucene.apache.org/java/3_0_3/changes/Changes.html
>> >>
>> >> This is show stopper for us as few customers facing big problems. The
>> >> application is crashing frequently.
>> >>
>> >> Regards
>> >> Ganesh
>> >>
>> >> ----- Original Message -----
>> >> From: "Devon H. O'Dell" <devon.odell@gmail.com>
>> >> To: <java-user@lucene.apache.org>
>> >> Sent: Thursday, March 17, 2011 10:35 PM
>> >> Subject: Re: ParallelMultisearcher
>> >>
>> >>
>> >> > 2011/3/17 Ganesh <emailgane@yahoo.co.in>:
>> >> >> Is this bug https://issues.apache.org/jira/browse/LUCENE-2249 got
>> fixed
>> >> in 3.0.3?
>> >> >
>> >> > The linked ticket shows that it was fixed in 3.0.3.
>> >> >
>> >> > --dho
>> >> >
>> >> >> Regards
>> >> >> Ganesh
>> >> >>
>> >> >> ----- Original Message -----
>> >> >> From: "Ganesh" <emailgane@yahoo.co.in>
>> >> >> To: <java-user@lucene.apache.org>
>> >> >> Sent: Thursday, March 17, 2011 7:03 PM
>> >> >> Subject: Re: ParallelMultisearcher
>> >> >>
>> >> >>
>> >> >> I tested the same with Lucene 2.9.1 and found very less thread cou=
nt
>> > but
>> >> with 3.0.2 it is very high. Do i need to revert back to Lucene 2.9.1.
>> >> >>
>> >> >> Regards
>> >> >> Ganesh
>> >> >>
>> >> >> ----- Original Message -----
>> >> >> From: "Ganesh" <emailgane@yahoo.co.in>
>> >> >> To: <java-user@lucene.apache.org>
>> >> >> Sent: Thursday, March 17, 2011 5:17 PM
>> >> >> Subject: ParallelMultisearcher
>> >> >>
>> >> >>
>> >> >> Hello all,
>> >> >>
>> >> >> Is there any issue with ParallelMultiSearcher in Lucene 3.0.2? If =
we
>> > search
>> >> more frequently then OutOfMemoryError is triggered or It is throwing
>> "Not
>> >> able to create native thread".. It is working with 2.9.1.
>> >> >>
>> >> >> I generated Heap Dump and found lot of entries for
>> > ParallelMultiSearcher.
>> >> >>
>> >> >> ParallelMultiSearcher-949-thread-3 java.lang.Thread @ 0x95e6220 10=
4
>> 192
>> >> >> ParallelMultiSearcher-949-thread-1 java.lang.Thread @ 0x95e60f8 10=
4
>> 192
>> >> >> ParallelMultiSearcher-957-thread-2 java.lang.Thread @ 0x95d30c8 10=
4
>> 192
>> >> >> ParallelMultiSearcher-957-thread-3 java.lang.Thread @ 0x95d26e8 10=
4
>> 192
>> >> >> ParallelMultiSearcher-954-thread-2 java.lang.Thread @ 0x95c3fe0 10=
4
>> 192
>> >> >> ParallelMultiSearcher-954-thread-3 java.lang.Thread @ 0x95c15f0 10=
4
>> 192
>> >> >> ParallelMultiSearcher-954-thread-1 java.lang.Thread @ 0x95c14c8 10=
4
>> 192
>> >> >> ParallelMultiSearcher-956-thread-2 java.lang.Thread @ 0x95b8648 10=
4
>> 192
>> >> >>
>> >> >> Regards
>> >> >> Ganesh
>> >> >>
>> >> >>
> ---------------------------------------------------------------------
>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >>
>> >> >>
>> >> >>
> ---------------------------------------------------------------------
>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >>
>> >> >>
>> >> >>
> ---------------------------------------------------------------------
>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >>
>> >> >>
>> >> >
>> >> > -------------------------------------------------------------------=
--
>> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 05:29:45 2011
Return-Path: <java-user-return-49108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19880 invoked from network); 23 Mar 2011 05:29:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 05:29:44 -0000
Received: (qmail 60190 invoked by uid 500); 23 Mar 2011 05:29:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60080 invoked by uid 500); 23 Mar 2011 05:29:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60072 invoked by uid 99); 23 Mar 2011 05:29:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 05:29:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 05:29:34 +0000
Received: by fxm7 with SMTP id 7so9754201fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 22:29:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=B2dHBaK6yfzMbit3pSXefU9QqONuuUXERICDmCRICQE=;
        b=RJjvYt0ct9fB5VlRaJulUrRgvMN56Pcah3RcjDCA1ekzU6dcoQ5n8eyoOyShv++TpS
         wY/wCMdvmTtu+McnWBIIfrHA2E18jkFYYJQkOPTk1twYZaZbaVvblj/ws6T6h14mPaPT
         HUFnNi3++azRcof/np0GHPQgWeLQMV6V2NCDI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=dc6l9mQilFNc8/ktWxIEhSLTAKE7k07ZBXDcSCieXIst0jqAGEoQgapBDAENMBZIpC
         lfnoMO12P8CmVRUDnGG8f5sbVNXBSfx+1BWq87zds4spiJoS96K3MyLD4iO1bO+zjYxH
         LOvQv0NBZJXl/N84Cv7Qbe0KtgqAoJyZNqdDc=
MIME-Version: 1.0
Received: by 10.223.117.134 with SMTP id r6mr7582444faq.147.1300858153704;
 Tue, 22 Mar 2011 22:29:13 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 22:29:13 -0700 (PDT)
In-Reply-To: <AANLkTin8Vxwj4bTj+FwBQhJ8m0h05=05RbFNE=-Rp5S=@mail.gmail.com>
References: <AANLkTim0qNEzsy1_OP5BRvkDn7woDpZoqUYryuP1qi6F@mail.gmail.com>
	<AANLkTinvo8MLZ2uNb_N3gXbkTSYuQgX7Xor7H0jYUO=r@mail.gmail.com>
	<AANLkTimu7+RtD-XQN7M+aPEDOOM23ELb7MsahhUFOc4_@mail.gmail.com>
	<AANLkTin8Vxwj4bTj+FwBQhJ8m0h05=05RbFNE=-Rp5S=@mail.gmail.com>
Date: Wed, 23 Mar 2011 06:29:13 +0100
Message-ID: <AANLkTikrMv1Ar=uLs6=pjxVhDuMtZ2JAw2URj3wF_6Mc@mail.gmail.com>
Subject: Re: Results: get per field scores ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c64a279c9c049f1fa498
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502c64a279c9c049f1fa498
Content-Type: text/plain; charset=ISO-8859-1

I'm not only interested in ordering relevant docs, but measure similarity
per field. (More specificially, i'm passing the results to a classifier..
but this is out of topic)

On 22 March 2011 23:27, Erick Erickson <erickerickson@gmail.com> wrote:

> yes, explain will slow things down, but I'd assumed that
> you only cared about this for debugging. What is the use-case
> for having it on all the time?
>
> Best
> Erick
>
> On Tue, Mar 22, 2011 at 12:40 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > I've been told search explain should be used for debugging only because
> it
> > slows down a lot computations. Is it true ?
> >
> > On 22 March 2011 14:29, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> >> Try Searcher.explain.
> >>
> >> Best
> >> Erick
> >>
> >> On Tue, Mar 22, 2011 at 4:34 AM, Patrick Diviacco
> >> <patrick.diviacco@gmail.com> wrote:
> >> > Is there a way to display Lucene scores per field instead of the
> global
> >> one
> >> > ?
> >> > Both my query and my docs have 3 fields.
> >> >
> >> > I would like to see the scores for each field in the results. Can I ?
> >> >
> >> > Or should I run the query 3 times for each single field ?
> >> >
> >> > thanks
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00504502c64a279c9c049f1fa498--

From java-user-return-49109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 06:51:27 2011
Return-Path: <java-user-return-49109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15843 invoked from network); 23 Mar 2011 06:51:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 06:51:27 -0000
Received: (qmail 5325 invoked by uid 500); 23 Mar 2011 06:51:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5267 invoked by uid 500); 23 Mar 2011 06:51:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5259 invoked by uid 99); 23 Mar 2011 06:51:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 06:51:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 06:51:18 +0000
Received: by fxm7 with SMTP id 7so9792651fxm.35
        for <java-user@lucene.apache.org>; Tue, 22 Mar 2011 23:50:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ePii/78I9a9z/v0n/lOwrf/Y0H8wY9RRDMMx8V1tQe0=;
        b=QmQVqye/DwS7b32GGga3E5TMfTSIL45ANiiB3TFws3w+qQCHgUI03X5l00ZIxVHD92
         2nROMpF6BjOzvviZ6Vplg2aanNKoo9iX+uIqSR9QD40ZYIUVIrL3238DVW5AOGfjJw+S
         UlLGvfeqxZdIHxlOyJIZ1NYd5boet6P2EqVLA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=QzvwmgHF/ke+EsXLXd2FWVrIKLPtq+jO4uccqcQ03/BFUT2A0cO43So1NFdDxWPnco
         VyX8WKjAUiNyBSLq8Gj35+/ZmLSfAS6cy7hMBlsOjeOKWrD2RU4TbgR5hTIxL4tDM0Pg
         kANavZyDsuvCgRtCOFULTLr4gjvvf5UHLa3KY=
MIME-Version: 1.0
Received: by 10.223.27.18 with SMTP id g18mr5042808fac.52.1300863057236; Tue,
 22 Mar 2011 23:50:57 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Tue, 22 Mar 2011 23:50:57 -0700 (PDT)
In-Reply-To: <AANLkTim-i_0s0K48hy2Jy364R2V0WYw=jGnpFrp0VT2d@mail.gmail.com>
References: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
	<963839.8453.qm@web121713.mail.ne1.yahoo.com>
	<AANLkTimrPwj6qWhdNm+oWSWTw06gapRAtw_TeH8PyrTQ@mail.gmail.com>
	<AANLkTim-i_0s0K48hy2Jy364R2V0WYw=jGnpFrp0VT2d@mail.gmail.com>
Date: Wed, 23 Mar 2011 07:50:57 +0100
Message-ID: <AANLkTimhorcOqx=VZVSQVtQSQV+v63EAvqyFWJPWLzFY@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151748e0a86d9430049f20c8a1

--00151748e0a86d9430049f20c8a1
Content-Type: text/plain; charset=ISO-8859-1

Your answer is quite clear, but my question is a bit more specific:
as you seen from my snippet ( I copy it here again), I'm already using
BooleanQuery and QueryParser.parse method.

booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40,
"tags", new
WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]);
 , BooleanClause.Occur.SHOULD);

I'm however wondering if this is correct way to pass single terms to
booleanQuery.

QueryParser.parse method returns a SrndQuery object, which I directly
passing to booleanQuery.add.

Not sure if this is correct. Should I extract single terms instead from
SrndQuery... or something like that, and invoke booleanQuery.add several
times ?

thanks





On 22 March 2011 14:27, Erick Erickson <erickerickson@gmail.com> wrote:

> A good habit to develop is to print out the toString() of the assembled
> queries, that'll get you going pretty quickly understanding what the
> query assembly is all about without having to wait for people to respond.
>
> But the short form is that phrase queries require all the terms to be
> adjacent, which may be what you want but may not.
>
> BooleanQuery is just asking for all the terms. You should probably
> normalize them.
>
> Parsing is something like
> Query query = QueryParser.parse("your text here");
> and the returned query is what you pass to the searcher. This latter
> will apply the analysis chains to your input and is probably perferred.
>
> Best
> Erick
>
> On Tue, Mar 22, 2011 at 3:41 AM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > OK, so I'm currently doing this:
> >
> > booleanQuery.add(new
> QueryParser(org.apache.lucene.util.Version.LUCENE_40,
> > "tags", new
> >
> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]);
> >  , BooleanClause.Occur.SHOULD);
> >
> > I just want to add single terms to my booleanQuery. if I pass a query to
> the
> > add method, am I considering the single terms ?
> >
> > thanks
> >
> >
> >
> > On 21 March 2011 22:15, Ahmet Arslan <iorixxx@yahoo.com> wrote:
> >
> >> > Date: Monday, March 21, 2011, 7:39 PM
> >> > One more thing: It is actually not
> >> > clear to me how to use PhraseQuery... I
> >> > thought I can just pass a phrase to it, but I see only
> >> > add(Term) method...
> >> > should I parse the string by myself to single terms ?
> >>
> >> Yes, you need to do it.
> >>
> >> QueryParser transforms String into Query.
> >>
> >>
> >>
> http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/queryParser/QueryParser.html
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00151748e0a86d9430049f20c8a1--

From java-user-return-49110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 07:34:44 2011
Return-Path: <java-user-return-49110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49960 invoked from network); 23 Mar 2011 07:34:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 07:34:44 -0000
Received: (qmail 19719 invoked by uid 500); 23 Mar 2011 07:34:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19680 invoked by uid 500); 23 Mar 2011 07:34:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19672 invoked by uid 99); 23 Mar 2011 07:34:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:34:42 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:34:36 +0000
Received: by fxm7 with SMTP id 7so9816563fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 00:34:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=w5n/WibxsXwVIeBEzivJwrg0AziypOMLHlAq8N0EKwE=;
        b=TFzkMXbevkcEcK3OApYOZPsjFvoVYLeBTyl1PxIiCV3vsmoi8jMcCrCnIefNEXnOA3
         cVpHyiDd43Ic2YahGEW0xMs5F48KXjuye3ASoHgXrN31bFxkrek+QiG7oQUT13fbWHZt
         a5a4RC7mC5Smo/bPflmwB/7leJZAnPok+O/4k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=dK0kz+EYuoBx5LAcksjyFAmk715nvLLrynu8luQACYMoSbtrvLDrFLV7QOMCJpt5bQ
         JujO7fdOMWahqN/QL7wOZFYqa16cq8gb8B4jDl8TsglmD3jcgr3SMcOGhn4HThQ5+qT9
         J0CzF5IlL38ktJtOG2jEgWw7x95HLlHF2gEQk=
MIME-Version: 1.0
Received: by 10.223.10.141 with SMTP id p13mr851760fap.109.1300865654726; Wed,
 23 Mar 2011 00:34:14 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 00:34:14 -0700 (PDT)
In-Reply-To: <AANLkTimhorcOqx=VZVSQVtQSQV+v63EAvqyFWJPWLzFY@mail.gmail.com>
References: <AANLkTikENwJ+z4mgZX3VAAkhXFuQ1YoECL9SJRGcAaUv@mail.gmail.com>
	<963839.8453.qm@web121713.mail.ne1.yahoo.com>
	<AANLkTimrPwj6qWhdNm+oWSWTw06gapRAtw_TeH8PyrTQ@mail.gmail.com>
	<AANLkTim-i_0s0K48hy2Jy364R2V0WYw=jGnpFrp0VT2d@mail.gmail.com>
	<AANLkTimhorcOqx=VZVSQVtQSQV+v63EAvqyFWJPWLzFY@mail.gmail.com>
Date: Wed, 23 Mar 2011 08:34:14 +0100
Message-ID: <AANLkTikTi-bjC8NutJhYjgus5QGH83T8X02at8fTqTj0@mail.gmail.com>
Subject: Re: Am I correctly parsing the strings ? Terms or Phrases ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174482d0401eff049f216388

--0015174482d0401eff049f216388
Content-Type: text/plain; charset=ISO-8859-1

ups, I've just used toString as you suggested and this is what I got:

*.*:*.* title:Flickrmeetup_01 description:Michael description:R.
description:Ross tags:rochester tags:ny tags:usa tags:flickrmeetup
tags:king76 tags:eos350d tags:canon50mmf14 tags:mikros tags:canon tags:ef
tags:50mm tags:f14 tags:usm tags:canonef50mmf14 tags:canonef50mmf14usm

I can see the tags field repeated multiple times, so it seems to me
correctly parsed... correct ?



On 23 March 2011 07:50, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> Your answer is quite clear, but my question is a bit more specific:
> as you seen from my snippet ( I copy it here again), I'm already using
> BooleanQuery and QueryParser.parse method.
>
> booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40,
> "tags", new
> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]);
>   , BooleanClause.Occur.SHOULD);
>
> I'm however wondering if this is correct way to pass single terms to
> booleanQuery.
>
> QueryParser.parse method returns a SrndQuery object, which I directly
> passing to booleanQuery.add.
>
> Not sure if this is correct. Should I extract single terms instead from
> SrndQuery... or something like that, and invoke booleanQuery.add several
> times ?
>
> thanks
>
>
>
>
>
> On 22 March 2011 14:27, Erick Erickson <erickerickson@gmail.com> wrote:
>
>> A good habit to develop is to print out the toString() of the assembled
>> queries, that'll get you going pretty quickly understanding what the
>> query assembly is all about without having to wait for people to respond.
>>
>> But the short form is that phrase queries require all the terms to be
>> adjacent, which may be what you want but may not.
>>
>> BooleanQuery is just asking for all the terms. You should probably
>> normalize them.
>>
>> Parsing is something like
>> Query query = QueryParser.parse("your text here");
>> and the returned query is what you pass to the searcher. This latter
>> will apply the analysis chains to your input and is probably perferred.
>>
>> Best
>> Erick
>>
>> On Tue, Mar 22, 2011 at 3:41 AM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > OK, so I'm currently doing this:
>> >
>> > booleanQuery.add(new
>> QueryParser(org.apache.lucene.util.Version.LUCENE_40,
>> > "tags", new
>> >
>> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]);
>> >  , BooleanClause.Occur.SHOULD);
>> >
>> > I just want to add single terms to my booleanQuery. if I pass a query to
>> the
>> > add method, am I considering the single terms ?
>> >
>> > thanks
>> >
>> >
>> >
>> > On 21 March 2011 22:15, Ahmet Arslan <iorixxx@yahoo.com> wrote:
>> >
>> >> > Date: Monday, March 21, 2011, 7:39 PM
>> >> > One more thing: It is actually not
>> >> > clear to me how to use PhraseQuery... I
>> >> > thought I can just pass a phrase to it, but I see only
>> >> > add(Term) method...
>> >> > should I parse the string by myself to single terms ?
>> >>
>> >> Yes, you need to do it.
>> >>
>> >> QueryParser transforms String into Query.
>> >>
>> >>
>> >>
>> http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/queryParser/QueryParser.html
>> >>
>> >>
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

--0015174482d0401eff049f216388--

From java-user-return-49111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 07:45:17 2011
Return-Path: <java-user-return-49111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60758 invoked from network); 23 Mar 2011 07:45:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 07:45:17 -0000
Received: (qmail 27557 invoked by uid 500); 23 Mar 2011 07:45:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27509 invoked by uid 500); 23 Mar 2011 07:45:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27498 invoked by uid 99); 23 Mar 2011 07:45:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:45:15 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:45:10 +0000
Received: by fxm7 with SMTP id 7so9823469fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 00:44:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=rTzDKGoEi4VAa5db6J6IJiLAJ8IyDLYs5SMSsU1dUXA=;
        b=g4JRIu6rRY0zaLVZNXdtk6skUd9uvWdpVlExGxBizkotoocng8srlf7E5G14WTz5Hy
         zc0649rX0NptghHPydOsiihdIx0jYuEdXc0BBiOb4m2vwQ30dj8R1auaK80Ochw5bZ76
         3IagmU9NATOWtNhc+8wzimzYgHX5oYXK7F5qI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sE/c5nMafhoQbFQeLrg8ZPIWLG7mpi6NI6AXj7IXOruBaygugMOGk+BZLZG+3yO8gz
         U2ldGcvWY8SAX3zv6KpPS5VegD6JsMkNquma3U55iv+R1y7FZ+dlGV01zYKkIe5t1DYk
         DCKr7QPIaqV/dW+rpE1kndkJ+rsUQWnijpedY=
MIME-Version: 1.0
Received: by 10.223.27.18 with SMTP id g18mr5097274fac.52.1300866289474; Wed,
 23 Mar 2011 00:44:49 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 00:44:49 -0700 (PDT)
In-Reply-To: <AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
	<AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
	<AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
	<AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
	<AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
Date: Wed, 23 Mar 2011 08:44:49 +0100
Message-ID: <AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151748e0a8159ba8049f2189c2

--00151748e0a8159ba8049f2189c2
Content-Type: text/plain; charset=ISO-8859-1

The issue with


My confusion about MatchAllDocsQuery is that I cannot specify which terms in
which fields to search with it. I'm probably wrong.

I currently have a BooleanQuery, that I use to build the query with several
fields and several terms.

Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order to add
all remaining docs ?

thanks




On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:

> MatchAllDocs does not consider only a single field but all fields i.e. it
> takes a *:* query.
>
> *1. *
> *****Snip****
> Query query = new MatchAllDocsQuery();
> TopDocs  td = is.search(query, ir.numDocs());
> ScoreDoc[ ] scoreDocs = td.scoreDocs;
> for(ScoreDoc scoreDoc:scoreDocs){
>
> ... Your code...
>
> }
> ****/Snip***
>
> *2. Collector approach:*
>
> Query query = new MatchAllDocsQuery();
> int hitsPerPage = ir.numDocs();
> TopScoreDocCollector collector = TopScoreDocCollector.create(hitsPerPage,
> true);
> is.search(query, collector);
> ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
> for(ScoreDoc scoreDoc:scoreDocs){
>
> .. Your code..
>
> }
>
> The better part about using a collector based approach is that you could do
> a lot in the collect step i.e. everything that you'd do in the iteration
> post search could also be done while collecting here.
>
> Also, could you also tell me the exact case as to what is it that you are
> trying to achieve. You may have a completely different option that you
> haven't read which someone could advice if they know the exact intent.
>
> Hope this helps.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
> patrick.diviacco@gmail.com> wrote:
>
> > 1. "all" docs
> >
> > 2. because matchalldocs only consider one field at once. I'm searching
> over
> > multiple fields instead.
> >
> > 3. could you tell me more about this ? It might be a solution!
> >
> >
> >
> > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
> >
> > > so a few things
> > > 1. are you looking to get 'all' documents or only docs matching your
> > query?
> > > 2. if its about fetching all docs, why not use the matchalldocs query?
> > > 3. did you try using a collector instead of topdocs?
> > >
> > > --
> > > Anshum Gupta
> > > http://ai-cafe.blogspot.com
> > >
> > >
> > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > > patrick.diviacco@gmail.com> wrote:
> > >
> > > > I don't think the link you suggested can help, but maybe I'm wrong.
> > > >
> > > > Also, the parameter MAX_HITS is not useful, it just limit the
> results,
> > it
> > > > doesn't add the not relevant docs.
> > > >
> > > >
> > > >
> > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > > >
> > > > > Hi Patrick,
> > > > > You may have a look at this, perhaps this will help you with it.
> Let
> > me
> > > > > know
> > > > > if you're still stuck up.
> > > > >
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > > >
> > > > >
> > > > > --
> > > > > Anshum Gupta
> > > > > http://ai-cafe.blogspot.com
> > > > >
> > > > >
> > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
> > > > >
> > > > > > Not sure what your use case actually is, but it sounds like you
> may
> > > be
> > > > > > unclear how Lucene works.
> > > > > >
> > > > > > Each query clause you have will produce an iterator that walks
> over
> > > the
> > > > > > documents that match that clause.  All the documents from the
> > entire,
> > > > > root
> > > > > > query get scored.  The scoring evaluation per document is also
> > > related
> > > > to
> > > > > > the form of your query expression hierarchy.
> > > > > >
> > > > > > So, MatchAllDocsQuery is exactly what you want if you want a
> > document
> > > > > > iterator that includes all documents in the index.  You can
> change
> > > how
> > > > > this
> > > > > > is scored by extending MatchAllDocsQuery and writing a custom
> > scorer.
> > > > > >
> > > > > > Karl
> > > > > >
> > > > > > -----Original Message-----
> > > > > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > > To: java-user@lucene.apache.org
> > > > > > Subject: how to get all documents in the results ?
> > > > > >
> > > > > > I'm using the following code because I want to see the entire
> > > > collection
> > > > > in
> > > > > > my query results:
> > > > > >
> > > > > > //adding wildcards-term to see all results
> > > > > > rest = new TermQuery(new Term("*","*"));
> > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > > >
> > > > > > But it doesn't work, I only see the relevant docs and not all the
> > > other
> > > > > > ones.
> > > > > > How can I get all documents ordered by relevance instead ?
> > > > > >
> > > > > > ps. MatchAllDocsQuery is not a solution because I need to specify
> > my
> > > > own
> > > > > > custom query.
> > > > > >
> > > > > >
> > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
>

--00151748e0a8159ba8049f2189c2--

From java-user-return-49112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 07:57:59 2011
Return-Path: <java-user-return-49112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3175 invoked from network); 23 Mar 2011 07:57:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 07:57:59 -0000
Received: (qmail 37845 invoked by uid 500); 23 Mar 2011 07:57:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37805 invoked by uid 500); 23 Mar 2011 07:57:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37797 invoked by uid 99); 23 Mar 2011 07:57:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:57:56 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:57:52 +0000
Received: by fxm7 with SMTP id 7so9831471fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 00:57:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=FInI749p1wHuybDAw2D+Y55ZSy86ikE0PijHoXJMQgE=;
        b=X25dvmGOPagc3g7ZVYQz5VpZr5CX5D52FJjd+3ScAj7++aMzGH0qsF6eMuZFJrDAIZ
         dAFOYfcBBZnBb0t8cHBZ6NEldTSorzPI/vCJSxVTDP1K3p1gMU/bFqCZctq0iFrTGL20
         6+bPCzyJG7Tx0+S99E6BP7+QnlcCkYoF3OFdo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=m1Zkn39To050RteVkzVmlvopF7D0tc/7E42eb7Fh8VK+tND2NMgDgfs6weFTkuOXjR
         tsK34tsTMn0Xvckty6EaAbe5SIIt0trkx1OT5ryAw4mBA426/880p96gFiAZjo3qjTz6
         dUIiXEV1E/zpPo3EAAUnEe6YiJpmIFOYMyLkg=
MIME-Version: 1.0
Received: by 10.223.117.134 with SMTP id r6mr7721905faq.147.1300867051066;
 Wed, 23 Mar 2011 00:57:31 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 00:57:31 -0700 (PDT)
Date: Wed, 23 Mar 2011 08:57:31 +0100
Message-ID: <AANLkTimByXmxJ77WJ_6V+j=xA+YT1wSkP=BrPMd7faXP@mail.gmail.com>
Subject: Lucene, Luke: unknown format version: -12
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c64a7a9949049f21b69a

--00504502c64a7a9949049f21b69a
Content-Type: text/plain; charset=ISO-8859-1

I've some issues to open my index with Luke. I get the following error
message:

Unknown format version: -12

I build the index using the following code: http://codepad.org/OxGRGTRb

The index type is FSDirectory. Tell me what kind of information you need.

thanks

--00504502c64a7a9949049f21b69a--

From java-user-return-49113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 07:58:13 2011
Return-Path: <java-user-return-49113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3240 invoked from network); 23 Mar 2011 07:58:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 07:58:13 -0000
Received: (qmail 39762 invoked by uid 500); 23 Mar 2011 07:58:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39720 invoked by uid 500); 23 Mar 2011 07:58:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39708 invoked by uid 99); 23 Mar 2011 07:58:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:58:11 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of solmyr72@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 07:58:07 +0000
Received: by iyj12 with SMTP id 12so11394560iyj.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 00:57:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=lVowmW8x59ZQvp4/lrbZcU/zz1L9uJSC2uhoEUqNr2M=;
        b=fcMM8uH0qPDt4o2L1UCLArAD5g3qFe4dEJek7Kd3VYehtbZkvlZK3LyT/R11FM4ZlH
         5PhBjMsBoccurq6tZAdJKpY8C1BZQeYqY+KxhwNWLMopHkna7pR82DTy2rq6+t0oMN+O
         WAM6rfGPKirtzPgPZkaXf5heBoDtlXRTCil8U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=iKwhwx70pKjCHdGTYgM9TfrmJs8FL7W3Jv/tBGi8RSdpcmTUv38wi40tAM1q01GZBB
         7ZBKuyF+RgzYGM9qeiYNE56XhCToV6TycFfDX7AYpGj9y28p32eYtqYoXMDZe2WOC0jo
         f9UrH1VgqJos6OTNv5SJUZufAn/bI2I1x4Am8=
MIME-Version: 1.0
Received: by 10.43.57.131 with SMTP id wg3mr2457427icb.299.1300867066704; Wed,
 23 Mar 2011 00:57:46 -0700 (PDT)
Received: by 10.231.206.81 with HTTP; Wed, 23 Mar 2011 00:57:46 -0700 (PDT)
In-Reply-To: <4D88D732.10108@gmail.com>
References: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
	<4D88D732.10108@gmail.com>
Date: Wed, 23 Mar 2011 09:57:46 +0200
Message-ID: <AANLkTimiVjbG80em48dN4tqzK3rw=mpuo_Os9mC=Ecsf@mail.gmail.com>
Subject: Re: Distributing a Lucene application?
From: sol myr <solmyr72@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec51961e769330b049f21b720

--bcaec51961e769330b049f21b720
Content-Type: text/plain; charset=ISO-8859-1

Thanks :)
Thankfully we don't delete from the database - just mark items as "inactive"
(actual delete occurs only in a yearly cleanup process).
We can live with inaccurate results, including deleted/inactive items.

Have you used DBSight? Would you mind sharing your opinion - did you like it
better than, say, SOLR?
Thanks :)


On Tue, Mar 22, 2011 at 7:06 PM, Chris Lu <chris.lu@gmail.com> wrote:

> Each database having its own index should be fine.
> However, just checking modified timestamp may not be enough, since there
> could be items deleted.
>
> You can check DBSight for this purpose. It can do remote index replication
> across WAN.
> But, if the NY index is synchronized before NY database does, this means
> the NY index could return results not found in NY database, correct?
>
> --
> Chris Lu
> -------------------------
> Instant Scalable Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
> Lucene Database Search in 3 minutes:
> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>
>
>
> On 3/22/2011 1:30 AM, sol myr wrote:
>
>> Hi,
>> What are my options for distributing an application that uses Lucene?
>>
>> Our current application works against a database of INVENTORY. We schedule
>> hourly checks for modified items (timestamp-based), and update a single
>> Lucene index.
>> Now we want to distribute out application, to a Grid, with failover, and a
>> bit of data sharing:
>> Say we have 2 branches - New York and Los Angeles.
>>
>> (1) Inventory of the NY branch is handled by 2 application servers, and 2
>> database copies. They are exact replicates, for failover/load balance.
>> Similarly, the LA branch gets 2 application servers and 2 databases.
>>
>> (2) 90% of the time, each branch "minds its own business" and isn't
>> interested in the other branch's inventory.
>> However on rare occasions, an LA administrator needs to search the NY
>> inventory (we can compromise on data freshness, e.g. show data 10 hours
>> old).
>>
>> Does Lucene have built-in support for any of this?
>> If I'm to do this "from scratch" I'll probably just let each application
>> server maintain its own copy of Lucene index (with data only from its own
>> city, and hourly updates as before).
>> And for the requirement of "LA admin searching the NY inventory" I'd
>> schedule a task to copy the NY index into the LA server, every 10 hours.
>>
>> Is this a reasonable approach? Or are there Lucene-management tools that
>> would handle it better?
>> Thanks :)
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--bcaec51961e769330b049f21b720--

From java-user-return-49114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:01:40 2011
Return-Path: <java-user-return-49114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14692 invoked from network); 23 Mar 2011 08:01:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:01:40 -0000
Received: (qmail 43284 invoked by uid 500); 23 Mar 2011 08:01:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43231 invoked by uid 500); 23 Mar 2011 08:01:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43223 invoked by uid 99); 23 Mar 2011 08:01:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:01:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:01:31 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id F295845E53A
	for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 09:01:10 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VCljZZfccB4M for <java-user@lucene.apache.org>;
	Wed, 23 Mar 2011 09:01:05 +0100 (CET)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 6FCDE45E075
	for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 09:01:05 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTimByXmxJ77WJ_6V+j=xA+YT1wSkP=BrPMd7faXP@mail.gmail.com>
In-Reply-To: <AANLkTimByXmxJ77WJ_6V+j=xA+YT1wSkP=BrPMd7faXP@mail.gmail.com>
Subject: RE: Lucene, Luke: unknown format version: -12
Date: Wed, 23 Mar 2011 09:01:15 +0100
Message-ID: <004d01cbe930$7c341080$749c3180$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGOf1uq2XHcefRREZIuPfZGsk2EXJS1Ydrg
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

You are using a Lucene version that is not yet released (maybe 3.x branch or
trunk). This seems to be not supported by the used Luke version.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Wednesday, March 23, 2011 8:58 AM
> To: java-user@lucene.apache.org
> Subject: Lucene, Luke: unknown format version: -12
> 
> I've some issues to open my index with Luke. I get the following error
> message:
> 
> Unknown format version: -12
> 
> I build the index using the following code: http://codepad.org/OxGRGTRb
> 
> The index type is FSDirectory. Tell me what kind of information you need.
> 
> thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:02:41 2011
Return-Path: <java-user-return-49115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24125 invoked from network); 23 Mar 2011 08:02:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:02:40 -0000
Received: (qmail 45637 invoked by uid 500); 23 Mar 2011 08:02:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45598 invoked by uid 500); 23 Mar 2011 08:02:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45590 invoked by uid 99); 23 Mar 2011 08:02:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:02:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:02:32 +0000
Received: by vws7 with SMTP id 7so7262926vws.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:02:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=xUo86kwx1q0gFqG9+6tjMNYJkWhZi1/Dn+cxMg/5TIg=;
        b=VatGw2iAwO4qK4BbvGlB32C4DYTrGcmKkPbdcOd43n3bX6EzCeGWJ7KUfdpMEAmIJQ
         kjJSREoTUdWcK1HvBvD4tOgTN2yc7qEVFVUwYG1CaJEGreTuufZBCAunA+nuJSA8hbr7
         Desoe2dEOLXPJqBISW8YkgCvavxzirvy7zsNY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=SrnjJQ0NzVOo4NG3N0CETNGSGJUxPAP09GpU2jfOx4ZMAXXMkGA93qyniJU8dmf/1A
         UQlbQog6WOSxpv/RSv7ZZWd6dMIe+NYTM8HU3GRqfVJkO9Vw58KYV5nmTqFJ5RueSYwb
         6cl7o9oLfkdg4hvJlksqVZKRmylP4BpnLqScM=
Received: by 10.52.70.116 with SMTP id l20mr310596vdu.13.1300867331062; Wed,
 23 Mar 2011 01:02:11 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Wed, 23 Mar 2011 01:01:51 -0700 (PDT)
In-Reply-To: <AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
 <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
 <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
 <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
 <AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
 <AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
 <AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com> <AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 23 Mar 2011 13:31:51 +0530
Message-ID: <AANLkTikmGKuERypXx1xAq7fxfejeHamnpFg31tQ2vV9t@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf307abcff2afc5e049f21c71e
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf307abcff2afc5e049f21c71e
Content-Type: text/plain; charset=ISO-8859-1

Hi Patrick,
You *don't* need to add a MatchAllDocs query to anything. If you just want
all docs, just pass it to the searcher.search function and you'd get all
results.
MatchAllDocs query is the same as BooleanQuery , just that MADQ matches all
docs in the index. You wouldn't need to specify anything there.
The below would work and get you all the docs in the index as the result
(provided you specify a limit high enough for the numDocs to match param)

*Query query = new MatchAllDocsQuery();*
*searcher.search(query.....);*

Hope this clarifies your doubt.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Mar 23, 2011 at 1:14 PM, Patrick Diviacco <
patrick.diviacco@gmail.com> wrote:

> The issue with
>
>
> My confusion about MatchAllDocsQuery is that I cannot specify which terms
> in
> which fields to search with it. I'm probably wrong.
>
> I currently have a BooleanQuery, that I use to build the query with several
> fields and several terms.
>
> Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order to
> add
> all remaining docs ?
>
> thanks
>
>
>
>
> On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:
>
> > MatchAllDocs does not consider only a single field but all fields i.e. it
> > takes a *:* query.
> >
> > *1. *
> > *****Snip****
> > Query query = new MatchAllDocsQuery();
> > TopDocs  td = is.search(query, ir.numDocs());
> > ScoreDoc[ ] scoreDocs = td.scoreDocs;
> > for(ScoreDoc scoreDoc:scoreDocs){
> >
> > ... Your code...
> >
> > }
> > ****/Snip***
> >
> > *2. Collector approach:*
> >
> > Query query = new MatchAllDocsQuery();
> > int hitsPerPage = ir.numDocs();
> > TopScoreDocCollector collector = TopScoreDocCollector.create(hitsPerPage,
> > true);
> > is.search(query, collector);
> > ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
> > for(ScoreDoc scoreDoc:scoreDocs){
> >
> > .. Your code..
> >
> > }
> >
> > The better part about using a collector based approach is that you could
> do
> > a lot in the collect step i.e. everything that you'd do in the iteration
> > post search could also be done while collecting here.
> >
> > Also, could you also tell me the exact case as to what is it that you are
> > trying to achieve. You may have a completely different option that you
> > haven't read which someone could advice if they know the exact intent.
> >
> > Hope this helps.
> >
> > --
> > Anshum Gupta
> > http://ai-cafe.blogspot.com
> >
> >
> > On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
> > patrick.diviacco@gmail.com> wrote:
> >
> > > 1. "all" docs
> > >
> > > 2. because matchalldocs only consider one field at once. I'm searching
> > over
> > > multiple fields instead.
> > >
> > > 3. could you tell me more about this ? It might be a solution!
> > >
> > >
> > >
> > > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
> > >
> > > > so a few things
> > > > 1. are you looking to get 'all' documents or only docs matching your
> > > query?
> > > > 2. if its about fetching all docs, why not use the matchalldocs
> query?
> > > > 3. did you try using a collector instead of topdocs?
> > > >
> > > > --
> > > > Anshum Gupta
> > > > http://ai-cafe.blogspot.com
> > > >
> > > >
> > > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > > > patrick.diviacco@gmail.com> wrote:
> > > >
> > > > > I don't think the link you suggested can help, but maybe I'm wrong.
> > > > >
> > > > > Also, the parameter MAX_HITS is not useful, it just limit the
> > results,
> > > it
> > > > > doesn't add the not relevant docs.
> > > > >
> > > > >
> > > > >
> > > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > > > >
> > > > > > Hi Patrick,
> > > > > > You may have a look at this, perhaps this will help you with it.
> > Let
> > > me
> > > > > > know
> > > > > > if you're still stuck up.
> > > > > >
> > > > >
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > > > >
> > > > > >
> > > > > > --
> > > > > > Anshum Gupta
> > > > > > http://ai-cafe.blogspot.com
> > > > > >
> > > > > >
> > > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
> > > > > >
> > > > > > > Not sure what your use case actually is, but it sounds like you
> > may
> > > > be
> > > > > > > unclear how Lucene works.
> > > > > > >
> > > > > > > Each query clause you have will produce an iterator that walks
> > over
> > > > the
> > > > > > > documents that match that clause.  All the documents from the
> > > entire,
> > > > > > root
> > > > > > > query get scored.  The scoring evaluation per document is also
> > > > related
> > > > > to
> > > > > > > the form of your query expression hierarchy.
> > > > > > >
> > > > > > > So, MatchAllDocsQuery is exactly what you want if you want a
> > > document
> > > > > > > iterator that includes all documents in the index.  You can
> > change
> > > > how
> > > > > > this
> > > > > > > is scored by extending MatchAllDocsQuery and writing a custom
> > > scorer.
> > > > > > >
> > > > > > > Karl
> > > > > > >
> > > > > > > -----Original Message-----
> > > > > > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > > > To: java-user@lucene.apache.org
> > > > > > > Subject: how to get all documents in the results ?
> > > > > > >
> > > > > > > I'm using the following code because I want to see the entire
> > > > > collection
> > > > > > in
> > > > > > > my query results:
> > > > > > >
> > > > > > > //adding wildcards-term to see all results
> > > > > > > rest = new TermQuery(new Term("*","*"));
> > > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > > > >
> > > > > > > But it doesn't work, I only see the relevant docs and not all
> the
> > > > other
> > > > > > > ones.
> > > > > > > How can I get all documents ordered by relevance instead ?
> > > > > > >
> > > > > > > ps. MatchAllDocsQuery is not a solution because I need to
> specify
> > > my
> > > > > own
> > > > > > > custom query.
> > > > > > >
> > > > > > >
> > > ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > > > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
>

--20cf307abcff2afc5e049f21c71e--

From java-user-return-49116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:02:47 2011
Return-Path: <java-user-return-49116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25144 invoked from network); 23 Mar 2011 08:02:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:02:47 -0000
Received: (qmail 47594 invoked by uid 500); 23 Mar 2011 08:02:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47558 invoked by uid 500); 23 Mar 2011 08:02:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47550 invoked by uid 99); 23 Mar 2011 08:02:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:02:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:02:40 +0000
Received: by fxm7 with SMTP id 7so9834868fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:02:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=FBBo3azYbuE0ltcrKoCx/xVd4UqhILAtc2pfPbWx2BU=;
        b=kjgMWEjbvvA2E3WNqyeMc+lPPL7N4ae0wgQkvXuRLzXlWnG/RoYFm3l7/6Nrpls79U
         9+n8b2HiKpSGrZZzqCgMn1TFT/R6poVhrBi8Edny+qkp0VQkEPFPsQHvITmyrNml8wg1
         EhBOMy2ICZFPPfCwxvLPYHd4l1pd2fxxe2GBg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=kxN6AaqoUWWCzC+o3XvTna0ShOlFfaH/aqetV2CgE5S3T5uw7GrcAiH9awvXjP0z4O
         fbvd25vN2+1THxMwSZ4wC8VvBDFl55ehcAAceMigxNKQP+yjytO1AYUkyjT6G2KigY2T
         GO5VZ70nIKkPjRrbCZ9D8FaDVanRs2ZSLGIuI=
MIME-Version: 1.0
Received: by 10.223.57.5 with SMTP id a5mr2449918fah.90.1300867338702; Wed, 23
 Mar 2011 01:02:18 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 01:02:18 -0700 (PDT)
In-Reply-To: <AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
	<AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
	<AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
	<AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
	<AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
	<AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
Date: Wed, 23 Mar 2011 09:02:18 +0100
Message-ID: <AANLkTi==axghdpa3LDx46ZGudTiNhAwv4=mg_rKpBo5+@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747b9a49f8e8c049f21c7d2

--00151747b9a49f8e8c049f21c7d2
Content-Type: text/plain; charset=ISO-8859-1

Sorry for spam. I've actually added the following line:

booleanQuery.add(new MatchAllDocsQuery(), BooleanClause.Occur.SHOULD);

and now I get all collection back. So it seems to work...
I'm a bit confused about the score of the not relevant docs:

i.e. the last result is
298736393 107419924 All-text score:0.0018638512

I was expecting the score to be 0, instead.

thanks




On 23 March 2011 08:44, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> The issue with
>
>
> My confusion about MatchAllDocsQuery is that I cannot specify which terms
> in which fields to search with it. I'm probably wrong.
>
> I currently have a BooleanQuery, that I use to build the query with several
> fields and several terms.
>
> Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order to
> add all remaining docs ?
>
> thanks
>
>
>
>
> On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:
>
>> MatchAllDocs does not consider only a single field but all fields i.e. it
>> takes a *:* query.
>>
>> *1. *
>> *****Snip****
>> Query query = new MatchAllDocsQuery();
>> TopDocs  td = is.search(query, ir.numDocs());
>> ScoreDoc[ ] scoreDocs = td.scoreDocs;
>> for(ScoreDoc scoreDoc:scoreDocs){
>>
>> ... Your code...
>>
>> }
>> ****/Snip***
>>
>> *2. Collector approach:*
>>
>> Query query = new MatchAllDocsQuery();
>> int hitsPerPage = ir.numDocs();
>> TopScoreDocCollector collector = TopScoreDocCollector.create(hitsPerPage,
>> true);
>> is.search(query, collector);
>> ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
>> for(ScoreDoc scoreDoc:scoreDocs){
>>
>> .. Your code..
>>
>> }
>>
>> The better part about using a collector based approach is that you could
>> do
>> a lot in the collect step i.e. everything that you'd do in the iteration
>> post search could also be done while collecting here.
>>
>> Also, could you also tell me the exact case as to what is it that you are
>> trying to achieve. You may have a completely different option that you
>> haven't read which someone could advice if they know the exact intent.
>>
>> Hope this helps.
>>
>> --
>> Anshum Gupta
>> http://ai-cafe.blogspot.com
>>
>>
>> On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
>> patrick.diviacco@gmail.com> wrote:
>>
>> > 1. "all" docs
>> >
>> > 2. because matchalldocs only consider one field at once. I'm searching
>> over
>> > multiple fields instead.
>> >
>> > 3. could you tell me more about this ? It might be a solution!
>> >
>> >
>> >
>> > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
>> >
>> > > so a few things
>> > > 1. are you looking to get 'all' documents or only docs matching your
>> > query?
>> > > 2. if its about fetching all docs, why not use the matchalldocs query?
>> > > 3. did you try using a collector instead of topdocs?
>> > >
>> > > --
>> > > Anshum Gupta
>> > > http://ai-cafe.blogspot.com
>> > >
>> > >
>> > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
>> > > patrick.diviacco@gmail.com> wrote:
>> > >
>> > > > I don't think the link you suggested can help, but maybe I'm wrong.
>> > > >
>> > > > Also, the parameter MAX_HITS is not useful, it just limit the
>> results,
>> > it
>> > > > doesn't add the not relevant docs.
>> > > >
>> > > >
>> > > >
>> > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
>> > > >
>> > > > > Hi Patrick,
>> > > > > You may have a look at this, perhaps this will help you with it.
>> Let
>> > me
>> > > > > know
>> > > > > if you're still stuck up.
>> > > > >
>> > > >
>> > >
>> >
>> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
>> > > > >
>> > > > >
>> > > > > --
>> > > > > Anshum Gupta
>> > > > > http://ai-cafe.blogspot.com
>> > > > >
>> > > > >
>> > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com> wrote:
>> > > > >
>> > > > > > Not sure what your use case actually is, but it sounds like you
>> may
>> > > be
>> > > > > > unclear how Lucene works.
>> > > > > >
>> > > > > > Each query clause you have will produce an iterator that walks
>> over
>> > > the
>> > > > > > documents that match that clause.  All the documents from the
>> > entire,
>> > > > > root
>> > > > > > query get scored.  The scoring evaluation per document is also
>> > > related
>> > > > to
>> > > > > > the form of your query expression hierarchy.
>> > > > > >
>> > > > > > So, MatchAllDocsQuery is exactly what you want if you want a
>> > document
>> > > > > > iterator that includes all documents in the index.  You can
>> change
>> > > how
>> > > > > this
>> > > > > > is scored by extending MatchAllDocsQuery and writing a custom
>> > scorer.
>> > > > > >
>> > > > > > Karl
>> > > > > >
>> > > > > > -----Original Message-----
>> > > > > > From: ext Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
>> > > > > > To: java-user@lucene.apache.org
>> > > > > > Subject: how to get all documents in the results ?
>> > > > > >
>> > > > > > I'm using the following code because I want to see the entire
>> > > > collection
>> > > > > in
>> > > > > > my query results:
>> > > > > >
>> > > > > > //adding wildcards-term to see all results
>> > > > > > rest = new TermQuery(new Term("*","*"));
>> > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
>> > > > > >
>> > > > > > But it doesn't work, I only see the relevant docs and not all
>> the
>> > > other
>> > > > > > ones.
>> > > > > > How can I get all documents ordered by relevance instead ?
>> > > > > >
>> > > > > > ps. MatchAllDocsQuery is not a solution because I need to
>> specify
>> > my
>> > > > own
>> > > > > > custom query.
>> > > > > >
>> > > > > >
>> > ---------------------------------------------------------------------
>> > > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > > > > > For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>> > > > > >
>> > > > > >
>> > > > >
>> > > >
>> > >
>> >
>>
>
>

--00151747b9a49f8e8c049f21c7d2--

From java-user-return-49117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:03:39 2011
Return-Path: <java-user-return-49117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33463 invoked from network); 23 Mar 2011 08:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:03:38 -0000
Received: (qmail 49849 invoked by uid 500); 23 Mar 2011 08:03:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49674 invoked by uid 500); 23 Mar 2011 08:03:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49666 invoked by uid 99); 23 Mar 2011 08:03:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:03:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:03:31 +0000
Received: by mail-fx0-f48.google.com with SMTP id 7so9834868fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:03:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=X9mCCNIz+5uPAf+LTMSoPjprgRD97RXOwMzDPSlleFM=;
        b=gfqQUOYHfX6b9ca28MC6kNv2FOQGjftpovksQFm0StnGoR3kJyEsJBR1cP6Q8ng2ik
         N2AhmUIbjeJD6koG75uNfEvfB/P7dbRfrzAjxRlsBzag9ajmjjCN2RPb0myXHkCnex0I
         sdJJIGuNM4LAhOdl9lzm9u1PehC4El5g4Fmr4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=qMtDe7uliYseNPEXYDQGdApiaeRyRA7bXtNFPUmSgbmzq4MB86mfi33ISeydjXSfnC
         Coi9KzFwED1IfzcJPPEkHUf2zoWzssmd/xBfZKlRyn9eVQDOvslCd0t1NZ21EyLUbH9s
         gA7mLa+4AgvMlUFb5eeeh3xXBif/N5+jSecFg=
MIME-Version: 1.0
Received: by 10.223.127.210 with SMTP id h18mr7655577fas.71.1300867391045;
 Wed, 23 Mar 2011 01:03:11 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 01:03:10 -0700 (PDT)
In-Reply-To: <004d01cbe930$7c341080$749c3180$@thetaphi.de>
References: <AANLkTimByXmxJ77WJ_6V+j=xA+YT1wSkP=BrPMd7faXP@mail.gmail.com>
	<004d01cbe930$7c341080$749c3180$@thetaphi.de>
Date: Wed, 23 Mar 2011 09:03:10 +0100
Message-ID: <AANLkTim=Go4oY5YywcuyipPP0GCm4PGbVEe62nft1NOK@mail.gmail.com>
Subject: Re: Lucene, Luke: unknown format version: -12
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354530970be435a049f21cad9

--002354530970be435a049f21cad9
Content-Type: text/plain; charset=ISO-8859-1

argh, yeah exactly.

There is no way to inspect the index without luke ?
Or to use luke with Lucene 4.0 ?

thanks



On 23 March 2011 09:01, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> You are using a Lucene version that is not yet released (maybe 3.x branch
> or
> trunk). This seems to be not supported by the used Luke version.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Wednesday, March 23, 2011 8:58 AM
> > To: java-user@lucene.apache.org
> > Subject: Lucene, Luke: unknown format version: -12
> >
> > I've some issues to open my index with Luke. I get the following error
> > message:
> >
> > Unknown format version: -12
> >
> > I build the index using the following code: http://codepad.org/OxGRGTRb
> >
> > The index type is FSDirectory. Tell me what kind of information you need.
> >
> > thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--002354530970be435a049f21cad9--

From java-user-return-49118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:07:22 2011
Return-Path: <java-user-return-49118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55797 invoked from network); 23 Mar 2011 08:07:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:07:21 -0000
Received: (qmail 52826 invoked by uid 500); 23 Mar 2011 08:07:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52785 invoked by uid 500); 23 Mar 2011 08:07:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52777 invoked by uid 99); 23 Mar 2011 08:07:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:07:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:07:14 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id D8E9745E53A
	for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 09:06:52 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pa5WMzXd00Ie for <java-user@lucene.apache.org>;
	Wed, 23 Mar 2011 09:06:47 +0100 (CET)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 7175A45E075
	for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 09:06:47 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTimByXmxJ77WJ_6V+j=xA+YT1wSkP=BrPMd7faXP@mail.gmail.com>	<004d01cbe930$7c341080$749c3180$@thetaphi.de> <AANLkTim=Go4oY5YywcuyipPP0GCm4PGbVEe62nft1NOK@mail.gmail.com>
In-Reply-To: <AANLkTim=Go4oY5YywcuyipPP0GCm4PGbVEe62nft1NOK@mail.gmail.com>
Subject: RE: Lucene, Luke: unknown format version: -12
Date: Wed, 23 Mar 2011 09:06:57 +0100
Message-ID: <005a01cbe931$48099d10$d81cd730$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGOf1uq2XHcefRREZIuPfZGsk2EXAEuoq7GAUuyjyuUoZDW0A==
Content-Language: de

Hi,

Why do you want to use Lucene trunk? You code is quite simple and does not
use any of the special new features of Lucene trunk, so why no use stable
versions for now?

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Wednesday, March 23, 2011 9:03 AM
> To: java-user@lucene.apache.org
> Subject: Re: Lucene, Luke: unknown format version: -12
> 
> argh, yeah exactly.
> 
> There is no way to inspect the index without luke ?
> Or to use luke with Lucene 4.0 ?
> 
> thanks
> 
> 
> 
> On 23 March 2011 09:01, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > Hi,
> >
> > You are using a Lucene version that is not yet released (maybe 3.x
> > branch or trunk). This seems to be not supported by the used Luke
> > version.
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> > > -----Original Message-----
> > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Wednesday, March 23, 2011 8:58 AM
> > > To: java-user@lucene.apache.org
> > > Subject: Lucene, Luke: unknown format version: -12
> > >
> > > I've some issues to open my index with Luke. I get the following
> > > error
> > > message:
> > >
> > > Unknown format version: -12
> > >
> > > I build the index using the following code:
> > > http://codepad.org/OxGRGTRb
> > >
> > > The index type is FSDirectory. Tell me what kind of information you
need.
> > >
> > > thanks
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:08:42 2011
Return-Path: <java-user-return-49119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55914 invoked from network); 23 Mar 2011 08:08:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:08:41 -0000
Received: (qmail 55174 invoked by uid 500); 23 Mar 2011 08:08:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55118 invoked by uid 500); 23 Mar 2011 08:08:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55108 invoked by uid 99); 23 Mar 2011 08:08:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:08:39 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:08:35 +0000
Received: by fxm7 with SMTP id 7so9838697fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:08:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=JINV+MfrpdXbNLnfPvsMql2I3PiA5BFtHYwnYhgWfEk=;
        b=oyTzbhXvBlK0kelFO6HQKtJP7iAYTu5EH6Fpj+ssJGUZsn1v+3zRo4bvou4amBTx+L
         w8JjdolDZVQlGNGC6Srf473kGk6inFnB16s8WhteW4OW0Z8moYSnfOCjlkLUgTK9ZVmK
         bHMORKe8jujwQzuuYhSnpONXSbAhPNiGqFGag=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=eNhxbLhF9ZgDB+qQc6oG1Nq2HbrFrx29hsXBVN//lmIFNL2zN6ZEVq5HjgPy+BMorT
         QyPgixs1qI+meMw/f5tIwjh+Cg9U3jJrVHs5hxNCVCvROWNnxfjIEFZAYdZcf/6sWM8q
         XjNd+qeH8RQl20HatvrA4v837CbexWs9ZlYCQ=
MIME-Version: 1.0
Received: by 10.223.102.80 with SMTP id f16mr7796998fao.33.1300867693607; Wed,
 23 Mar 2011 01:08:13 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 01:08:13 -0700 (PDT)
In-Reply-To: <AANLkTikmGKuERypXx1xAq7fxfejeHamnpFg31tQ2vV9t@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
	<AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
	<AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
	<AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
	<AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
	<AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
	<AANLkTikmGKuERypXx1xAq7fxfejeHamnpFg31tQ2vV9t@mail.gmail.com>
Date: Wed, 23 Mar 2011 09:08:13 +0100
Message-ID: <AANLkTi=c8sX3Cwf3VKGpTvhvRVE-UYdjpgfsdWr1a8oZ@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a671c6fdb8049f21dc35

--20cf3054a671c6fdb8049f21dc35
Content-Type: text/plain; charset=ISO-8859-1

yeah it is clear. However I don't just want all documents, I still want to
perform my specific query and on the bottom of the relevant docs, to list
all not relevant docs as well. (I need this for successive steps).

However now it seems to work. I've added MatchAllDocsQuery to my
BooleanQuery, and I get the original results plus all remaining docs on
bottom.

 The only thing I don't understand is the fixed score of not relevant docs
(the ones appearing only now with MatchAllDocsQuery).

This is the list (please ignore Time and Harvesine scores).

298736393 298736393 All-text score:9.775101 Time:1.0 Harvesine:1.0 true
298736393 298736445 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
298736393 298736527 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
298736393 298736583 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
true
298736393 298736638 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
true
298736393 298736709 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
true
298736393 298736781 All-text score:3.1505027 Time:0.9999981
Harvesine:-5593.9307 true
298736393 298736848 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
true
298736393 406412394 All-text score:0.62491775 Time:0.9983447
Harvesine:-5593.9307 false
298736393 361767007 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767030 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767061 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767089 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767103 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767123 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 361767146 All-text score:0.44931924 Time:0.9994102
Harvesine:-5593.9307 false
298736393 ?361492738 All-text score:0.13399276 Time:0.99982494
Harvesine:-5593.9307 false
298736393 361492799 All-text score:0.13399276 Time:0.99982494
Harvesine:-5593.9307 false
298736393 85899696 All-text score:0.061811533 Time:0.9680632
Harvesine:-2355.1875 false
298736393 103368776 All-text score:0.032769617 Time:0.855137
Harvesine:-5593.9307 false
298736393 101106927 All-text score:0.029139375 Time:0.8688775
Harvesine:-5593.9307 false
298736393 80793153 All-text score:0.0018638512 Time:0.99774164
Harvesine:-2201.7686 false
298736393 82661153 All-text score:0.0018638512 Time:0.98817354
Harvesine:-5593.9307 false
298736393 84079583 All-text score:0.0018638512 Time:0.9796918
Harvesine:-5593.9307 false
298736393 84079707 All-text score:0.0018638512 Time:0.9796918
Harvesine:-5593.9307 false
298736393 84079911 All-text score:0.0018638512 Time:0.9796918
Harvesine:-5593.9307 false


On 23 March 2011 09:01, Anshum <anshumg@gmail.com> wrote:

> Hi Patrick,
> You *don't* need to add a MatchAllDocs query to anything. If you just want
> all docs, just pass it to the searcher.search function and you'd get all
> results.
> MatchAllDocs query is the same as BooleanQuery , just that MADQ matches all
> docs in the index. You wouldn't need to specify anything there.
> The below would work and get you all the docs in the index as the result
> (provided you specify a limit high enough for the numDocs to match param)
>
> *Query query = new MatchAllDocsQuery();*
> *searcher.search(query.....);*
>
> Hope this clarifies your doubt.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Wed, Mar 23, 2011 at 1:14 PM, Patrick Diviacco <
> patrick.diviacco@gmail.com> wrote:
>
> > The issue with
> >
> >
> > My confusion about MatchAllDocsQuery is that I cannot specify which terms
> > in
> > which fields to search with it. I'm probably wrong.
> >
> > I currently have a BooleanQuery, that I use to build the query with
> several
> > fields and several terms.
> >
> > Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order to
> > add
> > all remaining docs ?
> >
> > thanks
> >
> >
> >
> >
> > On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:
> >
> > > MatchAllDocs does not consider only a single field but all fields i.e.
> it
> > > takes a *:* query.
> > >
> > > *1. *
> > > *****Snip****
> > > Query query = new MatchAllDocsQuery();
> > > TopDocs  td = is.search(query, ir.numDocs());
> > > ScoreDoc[ ] scoreDocs = td.scoreDocs;
> > > for(ScoreDoc scoreDoc:scoreDocs){
> > >
> > > ... Your code...
> > >
> > > }
> > > ****/Snip***
> > >
> > > *2. Collector approach:*
> > >
> > > Query query = new MatchAllDocsQuery();
> > > int hitsPerPage = ir.numDocs();
> > > TopScoreDocCollector collector =
> TopScoreDocCollector.create(hitsPerPage,
> > > true);
> > > is.search(query, collector);
> > > ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
> > > for(ScoreDoc scoreDoc:scoreDocs){
> > >
> > > .. Your code..
> > >
> > > }
> > >
> > > The better part about using a collector based approach is that you
> could
> > do
> > > a lot in the collect step i.e. everything that you'd do in the
> iteration
> > > post search could also be done while collecting here.
> > >
> > > Also, could you also tell me the exact case as to what is it that you
> are
> > > trying to achieve. You may have a completely different option that you
> > > haven't read which someone could advice if they know the exact intent.
> > >
> > > Hope this helps.
> > >
> > > --
> > > Anshum Gupta
> > > http://ai-cafe.blogspot.com
> > >
> > >
> > > On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
> > > patrick.diviacco@gmail.com> wrote:
> > >
> > > > 1. "all" docs
> > > >
> > > > 2. because matchalldocs only consider one field at once. I'm
> searching
> > > over
> > > > multiple fields instead.
> > > >
> > > > 3. could you tell me more about this ? It might be a solution!
> > > >
> > > >
> > > >
> > > > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
> > > >
> > > > > so a few things
> > > > > 1. are you looking to get 'all' documents or only docs matching
> your
> > > > query?
> > > > > 2. if its about fetching all docs, why not use the matchalldocs
> > query?
> > > > > 3. did you try using a collector instead of topdocs?
> > > > >
> > > > > --
> > > > > Anshum Gupta
> > > > > http://ai-cafe.blogspot.com
> > > > >
> > > > >
> > > > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > > > > patrick.diviacco@gmail.com> wrote:
> > > > >
> > > > > > I don't think the link you suggested can help, but maybe I'm
> wrong.
> > > > > >
> > > > > > Also, the parameter MAX_HITS is not useful, it just limit the
> > > results,
> > > > it
> > > > > > doesn't add the not relevant docs.
> > > > > >
> > > > > >
> > > > > >
> > > > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > > > > >
> > > > > > > Hi Patrick,
> > > > > > > You may have a look at this, perhaps this will help you with
> it.
> > > Let
> > > > me
> > > > > > > know
> > > > > > > if you're still stuck up.
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > > > > >
> > > > > > >
> > > > > > > --
> > > > > > > Anshum Gupta
> > > > > > > http://ai-cafe.blogspot.com
> > > > > > >
> > > > > > >
> > > > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com>
> wrote:
> > > > > > >
> > > > > > > > Not sure what your use case actually is, but it sounds like
> you
> > > may
> > > > > be
> > > > > > > > unclear how Lucene works.
> > > > > > > >
> > > > > > > > Each query clause you have will produce an iterator that
> walks
> > > over
> > > > > the
> > > > > > > > documents that match that clause.  All the documents from the
> > > > entire,
> > > > > > > root
> > > > > > > > query get scored.  The scoring evaluation per document is
> also
> > > > > related
> > > > > > to
> > > > > > > > the form of your query expression hierarchy.
> > > > > > > >
> > > > > > > > So, MatchAllDocsQuery is exactly what you want if you want a
> > > > document
> > > > > > > > iterator that includes all documents in the index.  You can
> > > change
> > > > > how
> > > > > > > this
> > > > > > > > is scored by extending MatchAllDocsQuery and writing a custom
> > > > scorer.
> > > > > > > >
> > > > > > > > Karl
> > > > > > > >
> > > > > > > > -----Original Message-----
> > > > > > > > From: ext Patrick Diviacco [mailto:
> patrick.diviacco@gmail.com]
> > > > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > > > > To: java-user@lucene.apache.org
> > > > > > > > Subject: how to get all documents in the results ?
> > > > > > > >
> > > > > > > > I'm using the following code because I want to see the entire
> > > > > > collection
> > > > > > > in
> > > > > > > > my query results:
> > > > > > > >
> > > > > > > > //adding wildcards-term to see all results
> > > > > > > > rest = new TermQuery(new Term("*","*"));
> > > > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > > > > >
> > > > > > > > But it doesn't work, I only see the relevant docs and not all
> > the
> > > > > other
> > > > > > > > ones.
> > > > > > > > How can I get all documents ordered by relevance instead ?
> > > > > > > >
> > > > > > > > ps. MatchAllDocsQuery is not a solution because I need to
> > specify
> > > > my
> > > > > > own
> > > > > > > > custom query.
> > > > > > > >
> > > > > > > >
> > > > ---------------------------------------------------------------------
> > > > > > > > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > > > > > > > For additional commands, e-mail:
> > > java-user-help@lucene.apache.org
> > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
>

--20cf3054a671c6fdb8049f21dc35--

From java-user-return-49120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:15:59 2011
Return-Path: <java-user-return-49120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59378 invoked from network); 23 Mar 2011 08:15:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:15:59 -0000
Received: (qmail 64989 invoked by uid 500); 23 Mar 2011 08:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64943 invoked by uid 500); 23 Mar 2011 08:15:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64935 invoked by uid 99); 23 Mar 2011 08:15:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:15:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:15:51 +0000
Received: by vxi40 with SMTP id 40so8280268vxi.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:15:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=bN8OapJ4+R70RlRcn+N7WJXjKQcclOh7EBEOjR7uDkk=;
        b=JqGrroRC6TmGnU2AWiv4AMp5BlqNN9ZNTVLGaCAoovfZTPcE/5OOklMiNc+59OkBZB
         D7/x3ahe3afBJvrUFAyCY4nQ+p/CQgf48XD9eusQtXLZxiUc8gkUTWd+rfpFMkivKvVG
         qlR+kkunvop9yX7oPllvYZyzTPzu4ellI1LKs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=C2R9HjIRB0e6cuxXHvy4C2c2rlpINw3QVK1qJW+EGy5fgcubMOyo+KQJEgBQi1Rft6
         FzCSQhBfbF5L964STIItutj8PVLS+5BRwrt96lFODdKD5ke4v6Vw3wiYTH9YZGtBMl3c
         xs2MU/TX07TIFdocpLGWw9GFzhhmDPH1OiFR8=
Received: by 10.52.0.101 with SMTP id 5mr799353vdd.293.1300868130081; Wed, 23
 Mar 2011 01:15:30 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.156.162 with HTTP; Wed, 23 Mar 2011 01:15:10 -0700 (PDT)
In-Reply-To: <AANLkTi=c8sX3Cwf3VKGpTvhvRVE-UYdjpgfsdWr1a8oZ@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
 <0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
 <AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
 <AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
 <AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
 <AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
 <AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
 <AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
 <AANLkTikmGKuERypXx1xAq7fxfejeHamnpFg31tQ2vV9t@mail.gmail.com> <AANLkTi=c8sX3Cwf3VKGpTvhvRVE-UYdjpgfsdWr1a8oZ@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 23 Mar 2011 13:45:10 +0530
Message-ID: <AANLkTi=hfy4PP9VVuF0wE2f=omz5EgfJEJxLNG0TojXG@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf304346e8cb0d6b049f21f69a
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf304346e8cb0d6b049f21f69a
Content-Type: text/plain; charset=ISO-8859-1

So functionally I am assuming you've achieved what you'd been aiming for.
About the scores, the matchalldocs does score docs based on norm factors
etc.
therefore the score wouldn't be 0.
--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Mar 23, 2011 at 1:38 PM, Patrick Diviacco <
patrick.diviacco@gmail.com> wrote:

> yeah it is clear. However I don't just want all documents, I still want to
> perform my specific query and on the bottom of the relevant docs, to list
> all not relevant docs as well. (I need this for successive steps).
>
> However now it seems to work. I've added MatchAllDocsQuery to my
> BooleanQuery, and I get the original results plus all remaining docs on
> bottom.
>
>  The only thing I don't understand is the fixed score of not relevant docs
> (the ones appearing only now with MatchAllDocsQuery).
>
> This is the list (please ignore Time and Harvesine scores).
>
> 298736393 298736393 All-text score:9.775101 Time:1.0 Harvesine:1.0 true
> 298736393 298736445 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
> 298736393 298736527 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
> 298736393 298736583 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> true
> 298736393 298736638 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> true
> 298736393 298736709 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> true
> 298736393 298736781 All-text score:3.1505027 Time:0.9999981
> Harvesine:-5593.9307 true
> 298736393 298736848 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> true
> 298736393 406412394 All-text score:0.62491775 Time:0.9983447
> Harvesine:-5593.9307 false
> 298736393 361767007 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767030 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767061 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767089 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767103 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767123 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 361767146 All-text score:0.44931924 Time:0.9994102
> Harvesine:-5593.9307 false
> 298736393 ?361492738 All-text score:0.13399276 Time:0.99982494
> Harvesine:-5593.9307 false
> 298736393 361492799 All-text score:0.13399276 Time:0.99982494
> Harvesine:-5593.9307 false
> 298736393 85899696 All-text score:0.061811533 Time:0.9680632
> Harvesine:-2355.1875 false
> 298736393 103368776 All-text score:0.032769617 Time:0.855137
> Harvesine:-5593.9307 false
> 298736393 101106927 All-text score:0.029139375 Time:0.8688775
> Harvesine:-5593.9307 false
> 298736393 80793153 All-text score:0.0018638512 Time:0.99774164
> Harvesine:-2201.7686 false
> 298736393 82661153 All-text score:0.0018638512 Time:0.98817354
> Harvesine:-5593.9307 false
> 298736393 84079583 All-text score:0.0018638512 Time:0.9796918
> Harvesine:-5593.9307 false
> 298736393 84079707 All-text score:0.0018638512 Time:0.9796918
> Harvesine:-5593.9307 false
> 298736393 84079911 All-text score:0.0018638512 Time:0.9796918
> Harvesine:-5593.9307 false
>
>
> On 23 March 2011 09:01, Anshum <anshumg@gmail.com> wrote:
>
> > Hi Patrick,
> > You *don't* need to add a MatchAllDocs query to anything. If you just
> want
> > all docs, just pass it to the searcher.search function and you'd get all
> > results.
> > MatchAllDocs query is the same as BooleanQuery , just that MADQ matches
> all
> > docs in the index. You wouldn't need to specify anything there.
> > The below would work and get you all the docs in the index as the result
> > (provided you specify a limit high enough for the numDocs to match param)
> >
> > *Query query = new MatchAllDocsQuery();*
> > *searcher.search(query.....);*
> >
> > Hope this clarifies your doubt.
> >
> > --
> > Anshum Gupta
> > http://ai-cafe.blogspot.com
> >
> >
> > On Wed, Mar 23, 2011 at 1:14 PM, Patrick Diviacco <
> > patrick.diviacco@gmail.com> wrote:
> >
> > > The issue with
> > >
> > >
> > > My confusion about MatchAllDocsQuery is that I cannot specify which
> terms
> > > in
> > > which fields to search with it. I'm probably wrong.
> > >
> > > I currently have a BooleanQuery, that I use to build the query with
> > several
> > > fields and several terms.
> > >
> > > Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order
> to
> > > add
> > > all remaining docs ?
> > >
> > > thanks
> > >
> > >
> > >
> > >
> > > On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:
> > >
> > > > MatchAllDocs does not consider only a single field but all fields
> i.e.
> > it
> > > > takes a *:* query.
> > > >
> > > > *1. *
> > > > *****Snip****
> > > > Query query = new MatchAllDocsQuery();
> > > > TopDocs  td = is.search(query, ir.numDocs());
> > > > ScoreDoc[ ] scoreDocs = td.scoreDocs;
> > > > for(ScoreDoc scoreDoc:scoreDocs){
> > > >
> > > > ... Your code...
> > > >
> > > > }
> > > > ****/Snip***
> > > >
> > > > *2. Collector approach:*
> > > >
> > > > Query query = new MatchAllDocsQuery();
> > > > int hitsPerPage = ir.numDocs();
> > > > TopScoreDocCollector collector =
> > TopScoreDocCollector.create(hitsPerPage,
> > > > true);
> > > > is.search(query, collector);
> > > > ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
> > > > for(ScoreDoc scoreDoc:scoreDocs){
> > > >
> > > > .. Your code..
> > > >
> > > > }
> > > >
> > > > The better part about using a collector based approach is that you
> > could
> > > do
> > > > a lot in the collect step i.e. everything that you'd do in the
> > iteration
> > > > post search could also be done while collecting here.
> > > >
> > > > Also, could you also tell me the exact case as to what is it that you
> > are
> > > > trying to achieve. You may have a completely different option that
> you
> > > > haven't read which someone could advice if they know the exact
> intent.
> > > >
> > > > Hope this helps.
> > > >
> > > > --
> > > > Anshum Gupta
> > > > http://ai-cafe.blogspot.com
> > > >
> > > >
> > > > On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
> > > > patrick.diviacco@gmail.com> wrote:
> > > >
> > > > > 1. "all" docs
> > > > >
> > > > > 2. because matchalldocs only consider one field at once. I'm
> > searching
> > > > over
> > > > > multiple fields instead.
> > > > >
> > > > > 3. could you tell me more about this ? It might be a solution!
> > > > >
> > > > >
> > > > >
> > > > > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
> > > > >
> > > > > > so a few things
> > > > > > 1. are you looking to get 'all' documents or only docs matching
> > your
> > > > > query?
> > > > > > 2. if its about fetching all docs, why not use the matchalldocs
> > > query?
> > > > > > 3. did you try using a collector instead of topdocs?
> > > > > >
> > > > > > --
> > > > > > Anshum Gupta
> > > > > > http://ai-cafe.blogspot.com
> > > > > >
> > > > > >
> > > > > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > > > > > patrick.diviacco@gmail.com> wrote:
> > > > > >
> > > > > > > I don't think the link you suggested can help, but maybe I'm
> > wrong.
> > > > > > >
> > > > > > > Also, the parameter MAX_HITS is not useful, it just limit the
> > > > results,
> > > > > it
> > > > > > > doesn't add the not relevant docs.
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > > > > > >
> > > > > > > > Hi Patrick,
> > > > > > > > You may have a look at this, perhaps this will help you with
> > it.
> > > > Let
> > > > > me
> > > > > > > > know
> > > > > > > > if you're still stuck up.
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > > > > > >
> > > > > > > >
> > > > > > > > --
> > > > > > > > Anshum Gupta
> > > > > > > > http://ai-cafe.blogspot.com
> > > > > > > >
> > > > > > > >
> > > > > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com>
> > wrote:
> > > > > > > >
> > > > > > > > > Not sure what your use case actually is, but it sounds like
> > you
> > > > may
> > > > > > be
> > > > > > > > > unclear how Lucene works.
> > > > > > > > >
> > > > > > > > > Each query clause you have will produce an iterator that
> > walks
> > > > over
> > > > > > the
> > > > > > > > > documents that match that clause.  All the documents from
> the
> > > > > entire,
> > > > > > > > root
> > > > > > > > > query get scored.  The scoring evaluation per document is
> > also
> > > > > > related
> > > > > > > to
> > > > > > > > > the form of your query expression hierarchy.
> > > > > > > > >
> > > > > > > > > So, MatchAllDocsQuery is exactly what you want if you want
> a
> > > > > document
> > > > > > > > > iterator that includes all documents in the index.  You can
> > > > change
> > > > > > how
> > > > > > > > this
> > > > > > > > > is scored by extending MatchAllDocsQuery and writing a
> custom
> > > > > scorer.
> > > > > > > > >
> > > > > > > > > Karl
> > > > > > > > >
> > > > > > > > > -----Original Message-----
> > > > > > > > > From: ext Patrick Diviacco [mailto:
> > patrick.diviacco@gmail.com]
> > > > > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > > > > > To: java-user@lucene.apache.org
> > > > > > > > > Subject: how to get all documents in the results ?
> > > > > > > > >
> > > > > > > > > I'm using the following code because I want to see the
> entire
> > > > > > > collection
> > > > > > > > in
> > > > > > > > > my query results:
> > > > > > > > >
> > > > > > > > > //adding wildcards-term to see all results
> > > > > > > > > rest = new TermQuery(new Term("*","*"));
> > > > > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > > > > > >
> > > > > > > > > But it doesn't work, I only see the relevant docs and not
> all
> > > the
> > > > > > other
> > > > > > > > > ones.
> > > > > > > > > How can I get all documents ordered by relevance instead ?
> > > > > > > > >
> > > > > > > > > ps. MatchAllDocsQuery is not a solution because I need to
> > > specify
> > > > > my
> > > > > > > own
> > > > > > > > > custom query.
> > > > > > > > >
> > > > > > > > >
> > > > >
> ---------------------------------------------------------------------
> > > > > > > > > To unsubscribe, e-mail:
> > > java-user-unsubscribe@lucene.apache.org
> > > > > > > > > For additional commands, e-mail:
> > > > java-user-help@lucene.apache.org
> > > > > > > > >
> > > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
>

--20cf304346e8cb0d6b049f21f69a--

From java-user-return-49121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 08:18:01 2011
Return-Path: <java-user-return-49121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64841 invoked from network); 23 Mar 2011 08:18:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 08:18:01 -0000
Received: (qmail 67553 invoked by uid 500); 23 Mar 2011 08:17:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67506 invoked by uid 500); 23 Mar 2011 08:17:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67496 invoked by uid 99); 23 Mar 2011 08:17:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:17:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 08:17:54 +0000
Received: by fxm7 with SMTP id 7so9844804fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 01:17:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ZVEA/jFo/92kBI0VM2YzuHy6wNGkHNQfh0SXh3/fBTs=;
        b=CRP2iPHcBsepa49/wX+Fry78O3OqOC7VBU4SxhuBjHG5YE9PDVUztLOPfge+GT5sZH
         n0Wl3TmM2ordSKP83l8pDNXfTldwGWFoCAiTCq5df6PyImeDCRMabK5PT9iG0itDY8au
         5GiE7G+k5wVMbIzodh1kVu5wzsc0XwjE2shkQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=uv4QuOfFGUBsLIntfvhF5gLjBtkM/fQzeiB6A1ODhAHw9LK55GdTDTrebffAyLJ3Md
         ZD1tq5Wu4HKPD0VJ4U86Iqi7AooRbmKdqn2zdKfHvHhN5fsbjlojwLiXTAmHu9Tn/JVI
         XstzsS3poEWgI4a4FP9V01CZ5+omBZ5BAWCSY=
MIME-Version: 1.0
Received: by 10.223.117.134 with SMTP id r6mr7744566faq.147.1300868253018;
 Wed, 23 Mar 2011 01:17:33 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Wed, 23 Mar 2011 01:17:32 -0700 (PDT)
In-Reply-To: <AANLkTi=hfy4PP9VVuF0wE2f=omz5EgfJEJxLNG0TojXG@mail.gmail.com>
References: <AANLkTinC8BT2WU+OAXGZms+ncYjTTq0gTEo8TB7td30h@mail.gmail.com>
	<0C2ADA45C80B224FAFA38F5DEE16A16E06048B@008-AM1MPN1-037.mgdnok.nokia.com>
	<AANLkTimYKvRGjOQkTPhCJnnC8Ao=rPQxkdimR52HJ=fy@mail.gmail.com>
	<AANLkTimX3GdOLmOUHOZPk-gjz-qYUO3ii1LsDBBB1QDP@mail.gmail.com>
	<AANLkTik+ZWe4XR61Pv9UvYmmob0GsX_p-peN4wyaMZ24@mail.gmail.com>
	<AANLkTimX8mSM-Ou5jUB2Jx8uKuD2qa3RK-Wqf3e-tOYx@mail.gmail.com>
	<AANLkTim-ENE5t5JCzFZNs7-uWp0r1jrJgQ7_ek8VuFAK@mail.gmail.com>
	<AANLkTi=aOUAeB+APqX2DQLs9+2ihjsVDH-P7uYRDk05a@mail.gmail.com>
	<AANLkTikmGKuERypXx1xAq7fxfejeHamnpFg31tQ2vV9t@mail.gmail.com>
	<AANLkTi=c8sX3Cwf3VKGpTvhvRVE-UYdjpgfsdWr1a8oZ@mail.gmail.com>
	<AANLkTi=hfy4PP9VVuF0wE2f=omz5EgfJEJxLNG0TojXG@mail.gmail.com>
Date: Wed, 23 Mar 2011 09:17:32 +0100
Message-ID: <AANLkTikxJq64vH57Bkn7Xk6YFdr_2cMT7ceNykWSQCzP@mail.gmail.com>
Subject: Re: how to get all documents in the results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c64a1eecd6049f21febe

--00504502c64a1eecd6049f21febe
Content-Type: text/plain; charset=ISO-8859-1

ok, yes, I've solved. Thanks for help.

On 23 March 2011 09:15, Anshum <anshumg@gmail.com> wrote:

> So functionally I am assuming you've achieved what you'd been aiming for.
> About the scores, the matchalldocs does score docs based on norm factors
> etc.
> therefore the score wouldn't be 0.
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Wed, Mar 23, 2011 at 1:38 PM, Patrick Diviacco <
> patrick.diviacco@gmail.com> wrote:
>
> > yeah it is clear. However I don't just want all documents, I still want
> to
> > perform my specific query and on the bottom of the relevant docs, to list
> > all not relevant docs as well. (I need this for successive steps).
> >
> > However now it seems to work. I've added MatchAllDocsQuery to my
> > BooleanQuery, and I get the original results plus all remaining docs on
> > bottom.
> >
> >  The only thing I don't understand is the fixed score of not relevant
> docs
> > (the ones appearing only now with MatchAllDocsQuery).
> >
> > This is the list (please ignore Time and Harvesine scores).
> >
> > 298736393 298736393 All-text score:9.775101 Time:1.0 Harvesine:1.0 true
> > 298736393 298736445 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
> > 298736393 298736527 All-text score:3.1505027 Time:1.0 Harvesine:1.0 true
> > 298736393 298736583 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> > true
> > 298736393 298736638 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> > true
> > 298736393 298736709 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> > true
> > 298736393 298736781 All-text score:3.1505027 Time:0.9999981
> > Harvesine:-5593.9307 true
> > 298736393 298736848 All-text score:3.1505027 Time:0.9999981 Harvesine:1.0
> > true
> > 298736393 406412394 All-text score:0.62491775 Time:0.9983447
> > Harvesine:-5593.9307 false
> > 298736393 361767007 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767030 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767061 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767089 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767103 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767123 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 361767146 All-text score:0.44931924 Time:0.9994102
> > Harvesine:-5593.9307 false
> > 298736393 ?361492738 All-text score:0.13399276 Time:0.99982494
> > Harvesine:-5593.9307 false
> > 298736393 361492799 All-text score:0.13399276 Time:0.99982494
> > Harvesine:-5593.9307 false
> > 298736393 85899696 All-text score:0.061811533 Time:0.9680632
> > Harvesine:-2355.1875 false
> > 298736393 103368776 All-text score:0.032769617 Time:0.855137
> > Harvesine:-5593.9307 false
> > 298736393 101106927 All-text score:0.029139375 Time:0.8688775
> > Harvesine:-5593.9307 false
> > 298736393 80793153 All-text score:0.0018638512 Time:0.99774164
> > Harvesine:-2201.7686 false
> > 298736393 82661153 All-text score:0.0018638512 Time:0.98817354
> > Harvesine:-5593.9307 false
> > 298736393 84079583 All-text score:0.0018638512 Time:0.9796918
> > Harvesine:-5593.9307 false
> > 298736393 84079707 All-text score:0.0018638512 Time:0.9796918
> > Harvesine:-5593.9307 false
> > 298736393 84079911 All-text score:0.0018638512 Time:0.9796918
> > Harvesine:-5593.9307 false
> >
> >
> > On 23 March 2011 09:01, Anshum <anshumg@gmail.com> wrote:
> >
> > > Hi Patrick,
> > > You *don't* need to add a MatchAllDocs query to anything. If you just
> > want
> > > all docs, just pass it to the searcher.search function and you'd get
> all
> > > results.
> > > MatchAllDocs query is the same as BooleanQuery , just that MADQ matches
> > all
> > > docs in the index. You wouldn't need to specify anything there.
> > > The below would work and get you all the docs in the index as the
> result
> > > (provided you specify a limit high enough for the numDocs to match
> param)
> > >
> > > *Query query = new MatchAllDocsQuery();*
> > > *searcher.search(query.....);*
> > >
> > > Hope this clarifies your doubt.
> > >
> > > --
> > > Anshum Gupta
> > > http://ai-cafe.blogspot.com
> > >
> > >
> > > On Wed, Mar 23, 2011 at 1:14 PM, Patrick Diviacco <
> > > patrick.diviacco@gmail.com> wrote:
> > >
> > > > The issue with
> > > >
> > > >
> > > > My confusion about MatchAllDocsQuery is that I cannot specify which
> > terms
> > > > in
> > > > which fields to search with it. I'm probably wrong.
> > > >
> > > > I currently have a BooleanQuery, that I use to build the query with
> > > several
> > > > fields and several terms.
> > > >
> > > > Can I just pass MatchAllDocsQuery to BooleanQuery.add method in order
> > to
> > > > add
> > > > all remaining docs ?
> > > >
> > > > thanks
> > > >
> > > >
> > > >
> > > >
> > > > On 22 March 2011 12:42, Anshum <anshumg@gmail.com> wrote:
> > > >
> > > > > MatchAllDocs does not consider only a single field but all fields
> > i.e.
> > > it
> > > > > takes a *:* query.
> > > > >
> > > > > *1. *
> > > > > *****Snip****
> > > > > Query query = new MatchAllDocsQuery();
> > > > > TopDocs  td = is.search(query, ir.numDocs());
> > > > > ScoreDoc[ ] scoreDocs = td.scoreDocs;
> > > > > for(ScoreDoc scoreDoc:scoreDocs){
> > > > >
> > > > > ... Your code...
> > > > >
> > > > > }
> > > > > ****/Snip***
> > > > >
> > > > > *2. Collector approach:*
> > > > >
> > > > > Query query = new MatchAllDocsQuery();
> > > > > int hitsPerPage = ir.numDocs();
> > > > > TopScoreDocCollector collector =
> > > TopScoreDocCollector.create(hitsPerPage,
> > > > > true);
> > > > > is.search(query, collector);
> > > > > ScoreDoc[] scoreDocs = collector.topDocs().scoreDocs;
> > > > > for(ScoreDoc scoreDoc:scoreDocs){
> > > > >
> > > > > .. Your code..
> > > > >
> > > > > }
> > > > >
> > > > > The better part about using a collector based approach is that you
> > > could
> > > > do
> > > > > a lot in the collect step i.e. everything that you'd do in the
> > > iteration
> > > > > post search could also be done while collecting here.
> > > > >
> > > > > Also, could you also tell me the exact case as to what is it that
> you
> > > are
> > > > > trying to achieve. You may have a completely different option that
> > you
> > > > > haven't read which someone could advice if they know the exact
> > intent.
> > > > >
> > > > > Hope this helps.
> > > > >
> > > > > --
> > > > > Anshum Gupta
> > > > > http://ai-cafe.blogspot.com
> > > > >
> > > > >
> > > > > On Tue, Mar 22, 2011 at 4:59 PM, Patrick Diviacco <
> > > > > patrick.diviacco@gmail.com> wrote:
> > > > >
> > > > > > 1. "all" docs
> > > > > >
> > > > > > 2. because matchalldocs only consider one field at once. I'm
> > > searching
> > > > > over
> > > > > > multiple fields instead.
> > > > > >
> > > > > > 3. could you tell me more about this ? It might be a solution!
> > > > > >
> > > > > >
> > > > > >
> > > > > > On 22 March 2011 12:18, Anshum <anshumg@gmail.com> wrote:
> > > > > >
> > > > > > > so a few things
> > > > > > > 1. are you looking to get 'all' documents or only docs matching
> > > your
> > > > > > query?
> > > > > > > 2. if its about fetching all docs, why not use the matchalldocs
> > > > query?
> > > > > > > 3. did you try using a collector instead of topdocs?
> > > > > > >
> > > > > > > --
> > > > > > > Anshum Gupta
> > > > > > > http://ai-cafe.blogspot.com
> > > > > > >
> > > > > > >
> > > > > > > On Tue, Mar 22, 2011 at 4:46 PM, Patrick Diviacco <
> > > > > > > patrick.diviacco@gmail.com> wrote:
> > > > > > >
> > > > > > > > I don't think the link you suggested can help, but maybe I'm
> > > wrong.
> > > > > > > >
> > > > > > > > Also, the parameter MAX_HITS is not useful, it just limit the
> > > > > results,
> > > > > > it
> > > > > > > > doesn't add the not relevant docs.
> > > > > > > >
> > > > > > > >
> > > > > > > >
> > > > > > > > On 22 March 2011 12:10, Anshum <anshumg@gmail.com> wrote:
> > > > > > > >
> > > > > > > > > Hi Patrick,
> > > > > > > > > You may have a look at this, perhaps this will help you
> with
> > > it.
> > > > > Let
> > > > > > me
> > > > > > > > > know
> > > > > > > > > if you're still stuck up.
> > > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
> http://stackoverflow.com/questions/3300265/lucene-3-iterating-over-all-hits
> > > > > > > > >
> > > > > > > > >
> > > > > > > > > --
> > > > > > > > > Anshum Gupta
> > > > > > > > > http://ai-cafe.blogspot.com
> > > > > > > > >
> > > > > > > > >
> > > > > > > > > On Tue, Mar 22, 2011 at 4:10 PM, <karl.wright@nokia.com>
> > > wrote:
> > > > > > > > >
> > > > > > > > > > Not sure what your use case actually is, but it sounds
> like
> > > you
> > > > > may
> > > > > > > be
> > > > > > > > > > unclear how Lucene works.
> > > > > > > > > >
> > > > > > > > > > Each query clause you have will produce an iterator that
> > > walks
> > > > > over
> > > > > > > the
> > > > > > > > > > documents that match that clause.  All the documents from
> > the
> > > > > > entire,
> > > > > > > > > root
> > > > > > > > > > query get scored.  The scoring evaluation per document is
> > > also
> > > > > > > related
> > > > > > > > to
> > > > > > > > > > the form of your query expression hierarchy.
> > > > > > > > > >
> > > > > > > > > > So, MatchAllDocsQuery is exactly what you want if you
> want
> > a
> > > > > > document
> > > > > > > > > > iterator that includes all documents in the index.  You
> can
> > > > > change
> > > > > > > how
> > > > > > > > > this
> > > > > > > > > > is scored by extending MatchAllDocsQuery and writing a
> > custom
> > > > > > scorer.
> > > > > > > > > >
> > > > > > > > > > Karl
> > > > > > > > > >
> > > > > > > > > > -----Original Message-----
> > > > > > > > > > From: ext Patrick Diviacco [mailto:
> > > patrick.diviacco@gmail.com]
> > > > > > > > > > Sent: Tuesday, March 22, 2011 4:23 AM
> > > > > > > > > > To: java-user@lucene.apache.org
> > > > > > > > > > Subject: how to get all documents in the results ?
> > > > > > > > > >
> > > > > > > > > > I'm using the following code because I want to see the
> > entire
> > > > > > > > collection
> > > > > > > > > in
> > > > > > > > > > my query results:
> > > > > > > > > >
> > > > > > > > > > //adding wildcards-term to see all results
> > > > > > > > > > rest = new TermQuery(new Term("*","*"));
> > > > > > > > > > booleanQuery.add(rest, BooleanClause.Occur.SHOULD);
> > > > > > > > > >
> > > > > > > > > > But it doesn't work, I only see the relevant docs and not
> > all
> > > > the
> > > > > > > other
> > > > > > > > > > ones.
> > > > > > > > > > How can I get all documents ordered by relevance instead
> ?
> > > > > > > > > >
> > > > > > > > > > ps. MatchAllDocsQuery is not a solution because I need to
> > > > specify
> > > > > > my
> > > > > > > > own
> > > > > > > > > > custom query.
> > > > > > > > > >
> > > > > > > > > >
> > > > > >
> > ---------------------------------------------------------------------
> > > > > > > > > > To unsubscribe, e-mail:
> > > > java-user-unsubscribe@lucene.apache.org
> > > > > > > > > > For additional commands, e-mail:
> > > > > java-user-help@lucene.apache.org
> > > > > > > > > >
> > > > > > > > > >
> > > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> > >
> >
>

--00504502c64a1eecd6049f21febe--

From java-user-return-49122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 09:49:29 2011
Return-Path: <java-user-return-49122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77297 invoked from network); 23 Mar 2011 09:49:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 09:49:29 -0000
Received: (qmail 39353 invoked by uid 500); 23 Mar 2011 09:49:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39289 invoked by uid 500); 23 Mar 2011 09:49:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39281 invoked by uid 99); 23 Mar 2011 09:49:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:49:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vonhutuan@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:49:19 +0000
Received: by pwi14 with SMTP id 14so1341896pwi.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 02:48:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:content-type:subject:date:message-id:to
         :mime-version:x-mailer;
        bh=gHHYBwHq4yV+pYNccpFAI8P+KrpJFRrfYDe2ahS4dCc=;
        b=PQAjIi6bpM6A6bLuU6ky/Q8u11Na5YbfJJmUMdBp0zBiu6rwfSWqugzLdptiQS0r5d
         i9ifUElZ8I/yu3jym4gVaaEfQ4ncc2YWoAkb0dgmMivlC7ff7Hd/EPIaD/XGXfVyxrQf
         4bCIpAYbVP9dfvBwigAzCpJKfQlisc6TDqQzI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:content-type:subject:date:message-id:to:mime-version:x-mailer;
        b=hlgBoqTlNmgubG2QGMvyBL+ZGPaaAbywGJqDxWpd0jOlToTkPO/ISpwN/Vm7LBNCx/
         /zBhuh786pqbwY2m6H/bnRmg1w7zcUIIVUvLplGLV69rhM3Ap0zpr+LNeHuUb6FPPIEW
         enoS6V95ANajOsm9UrVnUyoMZEMvwLdEacrcw=
Received: by 10.142.187.16 with SMTP id k16mr5133162wff.130.1300873739563;
        Wed, 23 Mar 2011 02:48:59 -0700 (PDT)
Received: from [192.168.1.108] (cm134.sigma224.maxonline.com.sg [218.212.224.134])
        by mx.google.com with ESMTPS id m10sm9863391wfl.23.2011.03.23.02.48.57
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 23 Mar 2011 02:48:58 -0700 (PDT)
From: Vo Nhu Tuan <vonhutuan@gmail.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-3-443989700
Subject: Too many open files error
Date: Wed, 23 Mar 2011 17:48:56 +0800
Message-Id: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

--Apple-Mail-3-443989700
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Hi,

Can someone help me with this problem please? I got these when running =
my program:

java.io.FileNotFoundException: =
/Users/vonhutuan/Documents/workspace/InformationExtractor/index_wordlist/_=
i82.frq (Too many open files)
	at java.io.RandomAccessFile.open(Native Method)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
	at =
org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndexOutput.<init>(Simpl=
eFSDirectory.java:180)
	at =
org.apache.lucene.store.NIOFSDirectory.createOutput(NIOFSDirectory.java:85=
)
	at =
org.apache.lucene.index.FormatPostingsDocsWriter.<init>(FormatPostingsDocs=
Writer.java:47)
	at =
org.apache.lucene.index.FormatPostingsTermsWriter.<init>(FormatPostingsTer=
msWriter.java:33)
	at =
org.apache.lucene.index.FormatPostingsFieldsWriter.<init>(FormatPostingsFi=
eldsWriter.java:59)
	at =
org.apache.lucene.index.FreqProxTermsWriter.flush(FreqProxTermsWriter.java=
:94)
	at org.apache.lucene.index.TermsHash.flush(TermsHash.java:156)
	at =
org.apache.lucene.index.DocInverter.flush(DocInverter.java:72)
	at =
org.apache.lucene.index.DocFieldProcessor.flush(DocFieldProcessor.java:64)=

	at =
org.apache.lucene.index.DocumentsWriter.flush(DocumentsWriter.java:629)
	at =
org.apache.lucene.index.IndexWriter.doFlushInternal(IndexWriter.java:3694)=

	at =
org.apache.lucene.index.IndexWriter.doFlush(IndexWriter.java:3595)
	at =
org.apache.lucene.index.IndexWriter.flush(IndexWriter.java:3585)
	at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2338)
	at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2316)
	at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2286)
	at patterngenerator.TextMatcher.indexText(TextMatcher.java:86)
	at patterngenerator.TextMatcher.<init>(TextMatcher.java:60)
	at =
patterngenerator.PatternGenerator.<init>(PatternGenerator.java:53)
	at Test2.main(Test2.java:64)

What it was doing is:
	writer.optimize();
where writer was an instance of IndexWriter.

As of my program, it indexes many set of documents independently, but =
the index files are store under the same directory. Which means that the =
index files get overwritten when I index a new set of documents.

Tuan=

--Apple-Mail-3-443989700--

From java-user-return-49123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 09:52:54 2011
Return-Path: <java-user-return-49123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79516 invoked from network); 23 Mar 2011 09:52:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 09:52:54 -0000
Received: (qmail 46340 invoked by uid 500); 23 Mar 2011 09:52:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46292 invoked by uid 500); 23 Mar 2011 09:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46284 invoked by uid 99); 23 Mar 2011 09:52:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:52:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:52:44 +0000
Received: by yxd5 with SMTP id 5so4264766yxd.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 02:52:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=cfZLGSGiw63nQ92136UE2N78UMf2aJmAR1pTwhCA0wA=;
        b=IGkMPwxLBv/Q2CWsLVPB1ElE2NYbo/0z1yZ84NAfxR2MR6At3tg9AbOMrKUu2p1K1F
         GI9vCZBqPabGUWfceD58LFzXBAvYRK5Qyx1aoNtCUma1DEv5ePxzWb5IVUIvYn6tZL3O
         I5FO1fye+dlttSnQIH3nGya171EcfHJwsMtvk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=V8W0xKEczewKRqANzg8QBsRW4H/H+zTy4t7orzHjEoTx2oofCxjbE3fyUpDIEdgdzi
         LnVmHIYLbXIMuUhXpROk/XUr3RV1vSyPbHpLRcb/Qx83CXVnd9TWRzdPodGlYy5M2lpx
         29Tup1Q63j6J3SdaZoMEUxf+9W49uUrZOtLSE=
MIME-Version: 1.0
Received: by 10.150.92.17 with SMTP id p17mr6064999ybb.419.1300873943323; Wed,
 23 Mar 2011 02:52:23 -0700 (PDT)
Received: by 10.147.171.13 with HTTP; Wed, 23 Mar 2011 02:52:23 -0700 (PDT)
In-Reply-To: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
References: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
Date: Wed, 23 Mar 2011 17:52:23 +0800
Message-ID: <AANLkTimZ8=APb0N8irkSPVOMdDx+MwYNmEt_C7AxQ4AS@mail.gmail.com>
Subject: Re: Too many open files error
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

use lsof to count the number of opened files
ulimit to modify it. maybe u need ask adminstrator to modify limit.conf

2011/3/23 Vo Nhu Tuan <vonhutuan@gmail.com>:
> Hi,
>
> Can someone help me with this problem please? I got these when running my=
 program:
>
> java.io.FileNotFoundException: /Users/vonhutuan/Documents/workspace/Infor=
mationExtractor/index_wordlist/_i82.frq (Too many open files)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.open(Native Method)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.<init>(RandomAccessFile.java:2=
12)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndex=
Output.<init>(SimpleFSDirectory.java:180)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.NIOFSDirectory.createOutput(NIO=
FSDirectory.java:85)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsDocsWriter.<init>=
(FormatPostingsDocsWriter.java:47)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsTermsWriter.<init=
>(FormatPostingsTermsWriter.java:33)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsFieldsWriter.<ini=
t>(FormatPostingsFieldsWriter.java:59)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FreqProxTermsWriter.flush(FreqP=
roxTermsWriter.java:94)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.TermsHash.flush(TermsHash.java:=
156)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocInverter.flush(DocInverter.j=
ava:72)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocFieldProcessor.flush(DocFiel=
dProcessor.java:64)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.flush(Documents=
Writer.java:629)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlushInternal(Ind=
exWriter.java:3694)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlush(IndexWriter=
.java:3595)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.flush(IndexWriter.j=
ava:3585)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2338)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2316)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2286)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.indexText(TextMatcher.java=
:86)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.<init>(TextMatcher.java:60=
)
> =A0 =A0 =A0 =A0at patterngenerator.PatternGenerator.<init>(PatternGenerat=
or.java:53)
> =A0 =A0 =A0 =A0at Test2.main(Test2.java:64)
>
> What it was doing is:
> =A0 =A0 =A0 =A0writer.optimize();
> where writer was an instance of IndexWriter.
>
> As of my program, it indexes many set of documents independently, but the=
 index files are store under the same directory. Which means that the index=
 files get overwritten when I index a new set of documents.
>
> Tuan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 09:53:11 2011
Return-Path: <java-user-return-49124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79629 invoked from network); 23 Mar 2011 09:53:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 09:53:10 -0000
Received: (qmail 48381 invoked by uid 500); 23 Mar 2011 09:53:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48350 invoked by uid 500); 23 Mar 2011 09:53:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48342 invoked by uid 99); 23 Mar 2011 09:53:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:53:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mindas@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:53:02 +0000
Received: by wwc33 with SMTP id 33so6571060wwc.5
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 02:52:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=Ls6ccTW9bmpsWgdv2d8n0sCqEQedxb2Fmbfq4tS7Yrs=;
        b=Gv4/DWrKAxL4Jd7D9Zagzmt4wIcWZYTXy1H0wWSXAxgi77url1jJ5xsjp2W86XoyzB
         W/mAh9BD6QGbfFJptMota7JqoxycqPU7Zrz+HRubBPrxrXPHKcIRrzlzV0sVXNIys6KW
         Ld60KBflQzI33t1cMqauaJIs0a6pegoUVNZss=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=g6dkiorjweK6x+yWI8ytH6ND+sAwy292USlZYLU5Velf2mn2avEtOjFnMe3JwonOvg
         ekyXf1M7QZsgydPi6BCFWk73io86Cr5gIO7dvsZSih4D1IPi5PyDQwH85wIIJj38pYL6
         QGcj0TWjswjUI6A6eP3ykiWKF/m8EsyK94Fvs=
MIME-Version: 1.0
Received: by 10.216.190.168 with SMTP id e40mr5802285wen.68.1300873961186;
 Wed, 23 Mar 2011 02:52:41 -0700 (PDT)
Received: by 10.216.185.82 with HTTP; Wed, 23 Mar 2011 02:52:41 -0700 (PDT)
In-Reply-To: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
References: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
Date: Wed, 23 Mar 2011 09:52:41 +0000
Message-ID: <AANLkTikyU9TLJPE_MHn3=Jw_aGTNW1__N+FFtLpN3drJ@mail.gmail.com>
Subject: Re: Too many open files error
From: =?ISO-8859-13?Q?Mindaugas_=DEak=F0auskas?= <mindas@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

Have a look at this:

http://wiki.apache.org/lucene-java/LuceneFAQ#Why_am_I_getting_an_IOExceptio=
n_that_says_.22Too_many_open_files.22.3F

m.

On Wed, Mar 23, 2011 at 9:48 AM, Vo Nhu Tuan <vonhutuan@gmail.com> wrote:
> Hi,
>
> Can someone help me with this problem please? I got these when running my=
 program:
>
> java.io.FileNotFoundException: /Users/vonhutuan/Documents/workspace/Infor=
mationExtractor/index_wordlist/_i82.frq (Too many open files)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.open(Native Method)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.<init>(RandomAccessFile.java:2=
12)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndex=
Output.<init>(SimpleFSDirectory.java:180)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.NIOFSDirectory.createOutput(NIO=
FSDirectory.java:85)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsDocsWriter.<init>=
(FormatPostingsDocsWriter.java:47)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsTermsWriter.<init=
>(FormatPostingsTermsWriter.java:33)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsFieldsWriter.<ini=
t>(FormatPostingsFieldsWriter.java:59)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FreqProxTermsWriter.flush(FreqP=
roxTermsWriter.java:94)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.TermsHash.flush(TermsHash.java:=
156)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocInverter.flush(DocInverter.j=
ava:72)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocFieldProcessor.flush(DocFiel=
dProcessor.java:64)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.flush(Documents=
Writer.java:629)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlushInternal(Ind=
exWriter.java:3694)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlush(IndexWriter=
.java:3595)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.flush(IndexWriter.j=
ava:3585)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2338)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2316)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2286)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.indexText(TextMatcher.java=
:86)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.<init>(TextMatcher.java:60=
)
> =A0 =A0 =A0 =A0at patterngenerator.PatternGenerator.<init>(PatternGenerat=
or.java:53)
> =A0 =A0 =A0 =A0at Test2.main(Test2.java:64)
>
> What it was doing is:
> =A0 =A0 =A0 =A0writer.optimize();
> where writer was an instance of IndexWriter.
>
> As of my program, it indexes many set of documents independently, but the=
 index files are store under the same directory. Which means that the index=
 files get overwritten when I index a new set of documents.
>
> Tuan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 09:53:47 2011
Return-Path: <java-user-return-49125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79959 invoked from network); 23 Mar 2011 09:53:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 09:53:46 -0000
Received: (qmail 52039 invoked by uid 500); 23 Mar 2011 09:53:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51978 invoked by uid 500); 23 Mar 2011 09:53:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51970 invoked by uid 99); 23 Mar 2011 09:53:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:53:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 09:53:36 +0000
Received: by mail-yx0-f176.google.com with SMTP id 5so4264766yxd.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 02:53:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=1wy6+Z05Y25byXYOBEv3z+iSnQwAPomFdVOpIblAXVM=;
        b=ph9HPIJAw9ZSPF3+mFxtg20jeC5kS9BQAxiVRZGipZ3wdcekRLOAF7Y+B2oSrblt5W
         GBYWzG5575wPlupkieKHjFDWxkmmTGGOEPVYt59/XiefLUZFCHBdqTNS+E61GGsusGxB
         JE1hvrrryTOLiGzU7Y+Y99XKp/3T0Gu8z73Gg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=X75QBtcOm24QRgsFr/8KzU95r1c/gyh8g/ySoCzEDKJE4L5hHs9XgqNWuZj75XQwQ4
         I9rz7V/09AQxTRA6FXGkEyg+KPlI/QSdF2L7ySljvZBDvScrgAU4LQZSddTv0i84Rray
         YZXkGHrHGglO+szdRVZica/3786wC/w6ZvIN8=
MIME-Version: 1.0
Received: by 10.236.73.230 with SMTP id v66mr8583705yhd.134.1300873996367;
 Wed, 23 Mar 2011 02:53:16 -0700 (PDT)
Received: by 10.147.171.13 with HTTP; Wed, 23 Mar 2011 02:53:16 -0700 (PDT)
In-Reply-To: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
References: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
Date: Wed, 23 Mar 2011 17:53:16 +0800
Message-ID: <AANLkTimLkanBFL1DjN4XyBT_4xV49VxLffqjzU_wgXr-@mail.gmail.com>
Subject: Re: Too many open files error
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

and also try using compound files (cfs)

2011/3/23 Vo Nhu Tuan <vonhutuan@gmail.com>:
> Hi,
>
> Can someone help me with this problem please? I got these when running my=
 program:
>
> java.io.FileNotFoundException: /Users/vonhutuan/Documents/workspace/Infor=
mationExtractor/index_wordlist/_i82.frq (Too many open files)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.open(Native Method)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.<init>(RandomAccessFile.java:2=
12)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndex=
Output.<init>(SimpleFSDirectory.java:180)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.NIOFSDirectory.createOutput(NIO=
FSDirectory.java:85)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsDocsWriter.<init>=
(FormatPostingsDocsWriter.java:47)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsTermsWriter.<init=
>(FormatPostingsTermsWriter.java:33)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsFieldsWriter.<ini=
t>(FormatPostingsFieldsWriter.java:59)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FreqProxTermsWriter.flush(FreqP=
roxTermsWriter.java:94)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.TermsHash.flush(TermsHash.java:=
156)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocInverter.flush(DocInverter.j=
ava:72)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocFieldProcessor.flush(DocFiel=
dProcessor.java:64)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.flush(Documents=
Writer.java:629)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlushInternal(Ind=
exWriter.java:3694)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlush(IndexWriter=
.java:3595)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.flush(IndexWriter.j=
ava:3585)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2338)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2316)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWrite=
r.java:2286)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.indexText(TextMatcher.java=
:86)
> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.<init>(TextMatcher.java:60=
)
> =A0 =A0 =A0 =A0at patterngenerator.PatternGenerator.<init>(PatternGenerat=
or.java:53)
> =A0 =A0 =A0 =A0at Test2.main(Test2.java:64)
>
> What it was doing is:
> =A0 =A0 =A0 =A0writer.optimize();
> where writer was an instance of IndexWriter.
>
> As of my program, it indexes many set of documents independently, but the=
 index files are store under the same directory. Which means that the index=
 files get overwritten when I index a new set of documents.
>
> Tuan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 10:47:08 2011
Return-Path: <java-user-return-49126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44795 invoked from network); 23 Mar 2011 10:47:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 10:47:08 -0000
Received: (qmail 2402 invoked by uid 500); 23 Mar 2011 10:47:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2360 invoked by uid 500); 23 Mar 2011 10:47:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2352 invoked by uid 99); 23 Mar 2011 10:47:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 10:47:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vonhutuan@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 10:46:58 +0000
Received: by pxi3 with SMTP id 3so2003210pxi.12
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 03:46:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:mime-version:content-type:subject:date
         :in-reply-to:to:references:message-id:x-mailer;
        bh=khf8ZG89fYfQmnQRj7MHh8cL24biGJIsdj9wacLjUcI=;
        b=hU9w3BFEtB5ziZx7Bf0NmFETNydSXxwtpU20FrZrA4FQdNOV6PfGYckqWikSC5rHGC
         NmNQFasmY2bZiSci/LIFo8hFJj4iswS1JoX/Gml+erTOXYdvKU5SkNB10VGzHaeiFeDe
         dRozIES6GKK8N4Qiw7xF1LnpalYblMCwDyxMQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:mime-version:content-type:subject:date:in-reply-to:to
         :references:message-id:x-mailer;
        b=UoLn5EraMxr5aG/xRK3qpSlak5+sbtPCAPc+4e/VGLYTPSD64grvU8WIHDP0oo/PbM
         yBAJVa8UiS/IjI92X2/aWZ5rL1nPUqvw1VShvQxC98CD+9DvSypwZfXN4lrPlBxhqD+Y
         qGU5aUNGeK4/WerN9ZqKE6MQ7MPQFWNhbNVTg=
Received: by 10.142.150.10 with SMTP id x10mr5111374wfd.321.1300877197858;
        Wed, 23 Mar 2011 03:46:37 -0700 (PDT)
Received: from [192.168.1.108] (cm134.sigma224.maxonline.com.sg [218.212.224.134])
        by mx.google.com with ESMTPS id m10sm9924886wfl.23.2011.03.23.03.46.35
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 23 Mar 2011 03:46:36 -0700 (PDT)
From: Vo Nhu Tuan <vonhutuan@gmail.com>
Mime-Version: 1.0 (Apple Message framework v1082)
Content-Type: multipart/alternative; boundary=Apple-Mail-1-447445177
Subject: Re: Too many open files error
Date: Wed, 23 Mar 2011 18:46:32 +0800
In-Reply-To: <AANLkTimLkanBFL1DjN4XyBT_4xV49VxLffqjzU_wgXr-@mail.gmail.com>
To: java-user@lucene.apache.org
References: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com> <AANLkTimLkanBFL1DjN4XyBT_4xV49VxLffqjzU_wgXr-@mail.gmail.com>
Message-Id: <7EE94239-A012-444D-A9C2-D207F739A248@gmail.com>
X-Mailer: Apple Mail (2.1082)

--Apple-Mail-1-447445177
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

I have already used compound file and closed everything I can.

Would this line cause problem when called many times?
IndexWriter writer =3D new IndexWriter(FSDirectory.open(indexFile), new =
StandardAnalyzer(Version.LUCENE_30), true, =
IndexWriter.MaxFieldLength.LIMITED);

This FSDirectory.open() is the only thing that I didn't close.

Tuan

On 23-Mar-2011, at 5:53 PM, Li Li wrote:

> and also try using compound files (cfs)
>=20
> 2011/3/23 Vo Nhu Tuan <vonhutuan@gmail.com>:
>> Hi,
>>=20
>> Can someone help me with this problem please? I got these when =
running my program:
>>=20
>> java.io.FileNotFoundException: =
/Users/vonhutuan/Documents/workspace/InformationExtractor/index_wordlist/_=
i82.frq (Too many open files)
>>        at java.io.RandomAccessFile.open(Native Method)
>>        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
>>        at =
org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndexOutput.<init>(Simpl=
eFSDirectory.java:180)
>>        at =
org.apache.lucene.store.NIOFSDirectory.createOutput(NIOFSDirectory.java:85=
)
>>        at =
org.apache.lucene.index.FormatPostingsDocsWriter.<init>(FormatPostingsDocs=
Writer.java:47)
>>        at =
org.apache.lucene.index.FormatPostingsTermsWriter.<init>(FormatPostingsTer=
msWriter.java:33)
>>        at =
org.apache.lucene.index.FormatPostingsFieldsWriter.<init>(FormatPostingsFi=
eldsWriter.java:59)
>>        at =
org.apache.lucene.index.FreqProxTermsWriter.flush(FreqProxTermsWriter.java=
:94)
>>        at org.apache.lucene.index.TermsHash.flush(TermsHash.java:156)
>>        at =
org.apache.lucene.index.DocInverter.flush(DocInverter.java:72)
>>        at =
org.apache.lucene.index.DocFieldProcessor.flush(DocFieldProcessor.java:64)=

>>        at =
org.apache.lucene.index.DocumentsWriter.flush(DocumentsWriter.java:629)
>>        at =
org.apache.lucene.index.IndexWriter.doFlushInternal(IndexWriter.java:3694)=

>>        at =
org.apache.lucene.index.IndexWriter.doFlush(IndexWriter.java:3595)
>>        at =
org.apache.lucene.index.IndexWriter.flush(IndexWriter.java:3585)
>>        at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2338)
>>        at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2316)
>>        at =
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:2286)
>>        at patterngenerator.TextMatcher.indexText(TextMatcher.java:86)
>>        at patterngenerator.TextMatcher.<init>(TextMatcher.java:60)
>>        at =
patterngenerator.PatternGenerator.<init>(PatternGenerator.java:53)
>>        at Test2.main(Test2.java:64)
>>=20
>> What it was doing is:
>>        writer.optimize();
>> where writer was an instance of IndexWriter.
>>=20
>> As of my program, it indexes many set of documents independently, but =
the index files are store under the same directory. Which means that the =
index files get overwritten when I index a new set of documents.
>>=20
>> Tuan
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20


--Apple-Mail-1-447445177--

From java-user-return-49127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 11:04:26 2011
Return-Path: <java-user-return-49127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8391 invoked from network); 23 Mar 2011 11:04:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 11:04:26 -0000
Received: (qmail 24243 invoked by uid 500); 23 Mar 2011 11:04:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24187 invoked by uid 500); 23 Mar 2011 11:04:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24179 invoked by uid 99); 23 Mar 2011 11:04:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 11:04:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 11:04:17 +0000
Received: by iwr19 with SMTP id 19so11585408iwr.35
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 04:03:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=ty1wi8RgnQGWjQJn3uhadJrCzCHcfBW1SkYvCdJYmbw=;
        b=n2zFotE6Vzw/T+wY+dsp0SLK2iHW7FM+VFC2Qknd2BgbvXDjbasF2XsZOdwiFXq7Ne
         TCWr9hLWgD+uAwy9lPvnriBJeXes31OIV9EKty+spPl+QSCZgT69XFWGBcYA0NMKmj8g
         oYofPaQe2bb1RKlflp0sVU3EFnfyO0lN8LXsE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=H0Pe86tG11v8L6DN7FJgbkGDRW/WTrd5pANC2VlwwrFzJLYNxMhhv9veROH/MB6fGH
         h/eG41TCmi5WfXtXuQyTeYiB5ul7m6Pbo7fPrfsmlCQQfH4CbMyRHXLF5tVg1H5Xr3L9
         nYRYJKckt9PYEwsh5b52YRlRWMDduiDtr7FZg=
Received: by 10.43.45.137 with SMTP id uk9mr1939154icb.31.1300878237221; Wed,
 23 Mar 2011 04:03:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Wed, 23 Mar 2011 04:03:37 -0700 (PDT)
In-Reply-To: <7EE94239-A012-444D-A9C2-D207F739A248@gmail.com>
References: <1A060C12-D1F8-4B4A-8AC7-328E5931C264@gmail.com>
 <AANLkTimLkanBFL1DjN4XyBT_4xV49VxLffqjzU_wgXr-@mail.gmail.com> <7EE94239-A012-444D-A9C2-D207F739A248@gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 23 Mar 2011 11:03:37 +0000
Message-ID: <AANLkTi=TZGcEon0TtfP2gGdd9MPkC=fW9Ah3vun-6tRa@mail.gmail.com>
Subject: Re: Too many open files error
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

No.  Certainly not for lucene 3.0.3 on linux anyway.

As someone has already suggested, run lsof to see which files your
process has open.  Maybe you aren't closing the source documents.


--
Ian.


On Wed, Mar 23, 2011 at 10:46 AM, Vo Nhu Tuan <vonhutuan@gmail.com> wrote:
> I have already used compound file and closed everything I can.
>
> Would this line cause problem when called many times?
> IndexWriter writer =3D new IndexWriter(FSDirectory.open(indexFile), new S=
tandardAnalyzer(Version.LUCENE_30), true, IndexWriter.MaxFieldLength.LIMITE=
D);
>
> This FSDirectory.open() is the only thing that I didn't close.
>
> Tuan
>
> On 23-Mar-2011, at 5:53 PM, Li Li wrote:
>
>> and also try using compound files (cfs)
>>
>> 2011/3/23 Vo Nhu Tuan <vonhutuan@gmail.com>:
>>> Hi,
>>>
>>> Can someone help me with this problem please? I got these when running =
my program:
>>>
>>> java.io.FileNotFoundException: /Users/vonhutuan/Documents/workspace/Inf=
ormationExtractor/index_wordlist/_i82.frq (Too many open files)
>>> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.open(Native Method)
>>> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.<init>(RandomAccessFile.java=
:212)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.store.SimpleFSDirectory$SimpleFSInd=
exOutput.<init>(SimpleFSDirectory.java:180)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.store.NIOFSDirectory.createOutput(N=
IOFSDirectory.java:85)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsDocsWriter.<ini=
t>(FormatPostingsDocsWriter.java:47)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsTermsWriter.<in=
it>(FormatPostingsTermsWriter.java:33)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.FormatPostingsFieldsWriter.<i=
nit>(FormatPostingsFieldsWriter.java:59)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.FreqProxTermsWriter.flush(Fre=
qProxTermsWriter.java:94)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.TermsHash.flush(TermsHash.jav=
a:156)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocInverter.flush(DocInverter=
.java:72)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocFieldProcessor.flush(DocFi=
eldProcessor.java:64)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.flush(Documen=
tsWriter.java:629)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlushInternal(I=
ndexWriter.java:3694)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.doFlush(IndexWrit=
er.java:3595)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.flush(IndexWriter=
.java:3585)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWri=
ter.java:2338)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWri=
ter.java:2316)
>>> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.optimize(IndexWri=
ter.java:2286)
>>> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.indexText(TextMatcher.ja=
va:86)
>>> =A0 =A0 =A0 =A0at patterngenerator.TextMatcher.<init>(TextMatcher.java:=
60)
>>> =A0 =A0 =A0 =A0at patterngenerator.PatternGenerator.<init>(PatternGener=
ator.java:53)
>>> =A0 =A0 =A0 =A0at Test2.main(Test2.java:64)
>>>
>>> What it was doing is:
>>> =A0 =A0 =A0 =A0writer.optimize();
>>> where writer was an instance of IndexWriter.
>>>
>>> As of my program, it indexes many set of documents independently, but t=
he index files are store under the same directory. Which means that the ind=
ex files get overwritten when I index a new set of documents.
>>>
>>> Tuan
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 15:12:14 2011
Return-Path: <java-user-return-49128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3314 invoked from network); 23 Mar 2011 15:12:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 15:12:14 -0000
Received: (qmail 39642 invoked by uid 500); 23 Mar 2011 15:12:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39612 invoked by uid 500); 23 Mar 2011 15:12:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39604 invoked by uid 99); 23 Mar 2011 15:12:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 15:12:11 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 15:12:06 +0000
Received: by wwc33 with SMTP id 33so6812416wwc.5
        for <java-user@lucene.apache.org>; Wed, 23 Mar 2011 08:11:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.168.138 with SMTP id u10mr6611724wby.186.1300893104322;
 Wed, 23 Mar 2011 08:11:44 -0700 (PDT)
Received: by 10.227.156.143 with HTTP; Wed, 23 Mar 2011 08:11:44 -0700 (PDT)
In-Reply-To: <AANLkTik6bEomAws9JNKKf77oe5hyUTq23XZrNn0-xAKL@mail.gmail.com>
References: <1300816595286-2716046.post@n3.nabble.com>
	<AANLkTimc3UzzBKHjmLQyCNhcWPhjfmo==x0KwJv=HQPY@mail.gmail.com>
	<AANLkTik6bEomAws9JNKKf77oe5hyUTq23XZrNn0-xAKL@mail.gmail.com>
Date: Wed, 23 Mar 2011 11:11:44 -0400
Message-ID: <AANLkTi=v3MC9X1R86MW=MCd-zOGjokRzo=Q+sF4YuN56@mail.gmail.com>
Subject: Re: TermDoc to TermDocsEnum
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: nitinhardeniya <nitinhardeniya@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

MIGRATE.txt is here:

    https://svn.apache.org/repos/asf/lucene/dev/trunk/lucene/MIGRATE.txt

DocsEnum doesn't have a "getSpans()", so you mean you're hitting a
compilation error?

Maybe step back a bit and describe what you're trying to do...?

Mike

http://blog.mikemccandless.com

On Tue, Mar 22, 2011 at 5:39 PM, nitinhardeniya
<nitinhardeniya@gmail.com> wrote:
> Where i can find MIGRATE.txt ?
>
> On Wed, Mar 23, 2011 at 3:07 AM, nitin hardeniya
> <nitinhardeniya@gmail.com>wrote:
>
>> hey
>>
>> no null doesn't work
>>
>> I have tried
>> tds=3DMultiFields.getTermDocsEnum(reader, null, "content", term);
>>
>> this is not showing error but not it shows error at
>> getSpans()
>>
>> Thanks
>> Nitin
>>
>> On Wed, Mar 23, 2011 at 1:30 AM, Michael McCandless-2 [via Lucene] <
>> ml-node+2716623-544966764-77327@n3.nabble.com> wrote:
>>
>>> Try looking at MIGRATE.txt?
>>>
>>> Passing null for the skipDocs should be fine. =A0Likely you need to use
>>> MultiFields.getTermDocsEnum, but that entails a performance hit (vs
>>> going segment by segment yourself).
>>>
>>> Mike
>>>
>>> http://blog.mikemccandless.com
>>>
>>> On Tue, Mar 22, 2011 at 1:56 PM, nitinhardeniya
>>> <[hidden email]<http://user/SendEmail.jtp?type=3Dnode&node=3D2716623&i=
=3D0&by-user=3Dt>>
>>> wrote:
>>>
>>> > hi
>>> >
>>> > I have a code that work fine with lucene 3.2 where i used TermDocs to
>>> find
>>> > the corpusTF here is the code
>>> >
>>> >
>>> > public void calculateCorpusTF(IndexReader reader) throws IOException =
{
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// TODO Auto-generated method stub
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Iterator it =3D word.iterator();
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Iterator =A0iwp =A0=3D word_prop.itera=
tor();
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0wordProp wp;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Term ta =3D null;
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0TermDocs tds;
>>> > =A0 =A0 =A0 =A0// =A0 =A0 =A0DocsEnum tds;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0String text;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0tfDoc tfcoll;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0long freq=3D0;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0OpenBitSet skipDocs =3D null;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0skipDocs =3D new OpenBitSet(0);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0//System.out.println("Length: "+skipDo=
cs.length());
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0try {
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0while(it.hasNext())
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0{
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0text=
=3Dit.next();
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0wp=3Di=
wp.next();
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System=
.out.println("Word is "+text);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0ta=3D =
new Term("content",text);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0//Byte=
sRef term =3D new
>>> BytesRef(text.toCharArray(),0,text.length());
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0tfcoll=
 =3D new tfDoc();
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0freq=
=3D0;
>>> >
>>> >
>>> =A0tds=3Dreader.termDocs(ta);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0//
>>> =A0tds=3Dreader.terms("content");
>>> >
>>> =A0if(tds!=3Dnull)
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0{
>>> >
>>> =A0while(tds.next())
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=
{
>>>
>>> >
>>> >
>>> =A0 =A0 =A0 =A0freq+=3Dtds.freq();
>>> >
>>> =A0// =A0 =A0 =A0System.out.print( text +" =A0"+ freq);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=
}
>>>
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// New=
 Code -->
>>> >
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0tds =3D=
 reader.termDocsEnum(skipDocs,
>>> "content", term);
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if(tds!=
=3Dnull)
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0{
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0while(true) {
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0freq +=3D tds.freq();
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0final int docID =3D
>>> tds.nextDoc();
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0if (docID =3D=3D
>>> DocsEnum.NO_MORE_DOCS) {
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0break;
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0}
>>> > // =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> > //
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// New=
 code Ends <--
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0tfcoll=
.tfA=3Dfreq;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System=
.out.print( text +" =A0"+ freq);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if(tfc=
oll.totalTF()=3D=3D0)
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0{
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0//System.out.println("
>>> "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0System.out.println("Text "+text+
>>> " Freq "+freq);
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> >
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0wp.tfC=
oll=3Dtfcoll;
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0catch (Exception e) {
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// TODO: handle except=
ion
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
>>> > =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>>> >
>>> > =A0 =A0 =A0 =A0}
>>> >
>>> > but now i have to use TermDocEnum because i am using lucene dev4.0 wh=
ich
>>>
>>> > does not have TermDocs method i was trying to change my code .please
>>> refer
>>> > to new code [commented ] and tell me how to use this method in a prop=
er
>>> way
>>> > . if you can provide an example that would be great.
>>> > tds =3D reader.termDocsEnum(skipDocs, "content", term);
>>> > I have tried using null at skipdoc because i don't want to skip anyth=
ing
>>> but
>>> > it through error
>>> >
>>> > please help
>>> >
>>> > --
>>> > View this message in context:
>>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p27=
16046.html<http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp271=
6046p2716046.html?by-user=3Dt>
>>> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>> >
>>> > ---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=
=3Dnode&node=3D2716623&i=3D1&by-user=3Dt>
>>> > For additional commands, e-mail: [hidden email]<http://user/SendEmail=
.jtp?type=3Dnode&node=3D2716623&i=3D2&by-user=3Dt>
>>> >
>>> >
>>>
>>>
>>> ------------------------------
>>> =A0If you reply to this email, your message will be added to the discus=
sion
>>> below:
>>>
>>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p27=
16623.html
>>> =A0To unsubscribe from TermDoc to TermDocsEnum, click here<http://lucen=
e.472066.n3.nabble.com/template/NamlServlet.jtp?macro=3Dunsubscribe_by_code=
&node=3D2716046&code=3Dbml0aW5oYXJkZW5peWFAZ21haWwuY29tfDI3MTYwNDZ8LTkwNzg0=
MTk0MA=3D=3D>.
>>>
>>>
>>
>>
>>
>> --
>> Nitin Kumar Hardeniya
>>
>> M.Tech Computational Linguistics
>> IIIT Hyderabad
>>
>> SAVE PAPER - THINK BEFORE YOU PRINT
>>
>>
>>
>>
>
>
> --
> Nitin Kumar Hardeniya
>
> M.Tech Computational Linguistics
> IIIT Hyderabad
>
> SAVE PAPER - THINK BEFORE YOU PRINT
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-=
to-TermDocsEnum-tp2716046p2717284.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 19:06:13 2011
Return-Path: <java-user-return-49130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90912 invoked from network); 23 Mar 2011 19:05:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Mar 2011 19:05:50 -0000
Received: (qmail 36380 invoked by uid 500); 23 Mar 2011 18:04:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36341 invoked by uid 500); 23 Mar 2011 18:04:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36331 invoked by uid 99); 23 Mar 2011 18:04:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 18:04:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.253] (HELO nm4-vm0.bullet.mail.ne1.yahoo.com) (98.138.90.253)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Mar 2011 18:03:55 +0000
Received: from [98.138.90.48] by nm4.bullet.mail.ne1.yahoo.com with NNFMP; 23 Mar 2011 18:03:34 -0000
Received: from [98.138.86.156] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 23 Mar 2011 18:03:34 -0000
Received: from [127.0.0.1] by omp1014.mail.ne1.yahoo.com with NNFMP; 23 Mar 2011 18:03:34 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 415124.75846.bm@omp1014.mail.ne1.yahoo.com
Received: (qmail 62209 invoked by uid 60001); 23 Mar 2011 18:03:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1300903414; bh=ZXk7pXnZ8SfwQS7Xjy5oAO/Ow03jer9Fn6eGXtRJxo4=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=tBmfebOVm3Z7yOqOmbE/P67KgAfi9Nwz1exQrdqNVPf0xdY4zq1/evk7J5P2VPC+4AeyukPIjdOd6yObLH/jnWNGh05OgGTTvwdlyELCHjv8j/RQMGtXXV13xTf2irGWKeBRuzTE+6rjndUX3yn5yyHCJXFLdUuRWG+mEIMkBFQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1Hc6LrHmFuxn+HZxEt/1dU0Cw43xYK9ZmShHlAJURwLQ1JfBaM8Qz8OREic/X05P50GYW6BkD1SqVb+W5iFkvdjbxmv3yjpOhyk2oqIMMzcM8Zo6anwibeGPr41o/k40Dg8gzkGDmPKk2i31WY9oSabpEuyMMm5Rx564h3M+kj8=;
Message-ID: <238284.60975.qm@web121717.mail.ne1.yahoo.com>
X-YMail-OSG: crxX0TIVM1mHveBe8TjAJ_VMl9VxqgrDBQwyReT5WneYR2r
 ji9tFNWsNBdFCZ0K0jFqfUUqHPiHfbWsh8f7oG_t.v7Z5EqwKf7crCTmyQQG
 tBP1d9aoLrD60pyA5nvP3qpbi4dN9KSPcaOEEpv8oqQFNlJ2l3qeGOXT1Gif
 Zn4YBhfMLJFcWz4gOUyy.ZB38m0erw1lDkkD0Z1avLoOaIvH_Ep7H1SWyuqu
 m333kaqBTbDEX8cnRX8qeR_QTZqq5lXj8v8mIAvvc.agFIugij.gImqm3EuZ
 .0QacrMaxTqX0S.Q7U6drCfEFdJmnRvXcNBK61F34PmTzqg--
Received: from [95.10.236.185] by web121717.mail.ne1.yahoo.com via HTTP; Wed, 23 Mar 2011 11:03:34 PDT
X-Mailer: YahooMailClassic/12.0.2 YahooMailWebService/0.8.109.295617
Date: Wed, 23 Mar 2011 11:03:34 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Sorting by multiple dependent fields
To: java-user@lucene.apache.org
In-Reply-To: <4D8A1F5E.9080101@timkoop.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

> I'm searching for things near your location (as specified=0A> by longitud=
e and latitude).=A0 I've got the search=0A> working correctly (with the hel=
p of NumericField), but now I=0A> need to sort the results by distance from=
 you.=A0 The=0A> closer things appear at the top of the list.=A0=0A=0AThere=
 is a contrib package for that :  trunk\lucene\contrib\spatial=0A=0A=0A    =
  

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 19:17:41 2011
Return-Path: <java-user-return-49129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11124 invoked from network); 23 Mar 2011 19:17:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 19:17:41 -0000
Received: (qmail 58732 invoked by uid 500); 23 Mar 2011 16:27:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58682 invoked by uid 500); 23 Mar 2011 16:27:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58674 invoked by uid 99); 23 Mar 2011 16:27:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 16:27:40 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [142.161.131.3] (HELO mx-02mtaout01.mts.net) (142.161.131.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 16:27:35 +0000
Received: from wnpgmb021pw-sp03.mts.net ([10.204.128.23])
          by mx-02mtaout01.mts.net with ESMTP
          id <20110323162713.XZOK21427.mx-02mtaout01.mts.net@wnpgmb021pw-sp03.mts.net>
          for <java-user@lucene.apache.org>;
          Wed, 23 Mar 2011 11:27:13 -0500
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AoQCAKq8iU3McAru/2dsb2JhbAAMmD7SAYVpBIU3
X-IronPort-AV: E=Sophos;i="4.63,231,1299477600"; 
   d="scan'208,217";a="163285128"
Received: from stnbmb0124w-ad01-10-238.dynamic.mtsallstream.net (HELO [192.168.30.100]) ([204.112.10.238])
  by wnpgmb021pw-sp03.mts.net with ESMTP; 23 Mar 2011 11:27:12 -0500
Message-ID: <4D8A1F5E.9080101@timkoop.com>
Date: Wed, 23 Mar 2011 11:27:10 -0500
From: Tim Koop <tim@timkoop.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Sorting by multiple dependent fields
Content-Type: multipart/alternative;
 boundary="------------050505060805020009040902"

--------------050505060805020009040902
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I'm trying to sort on two dependent fields.  I realize that if they were 
independent I could use new Sort(SortField...) with lots of SortFields, 
but I need to compute something based on two fields.

Let me explain:

I'm searching for things near your location (as specified by longitude 
and latitude).  I've got the search working correctly (with the help of 
NumericField), but now I need to sort the results by distance from you.  
The closer things appear at the top of the list.  I can't store the 
distance, because I'll never know where you are searching from, so I 
need to calculate it at the time I sort.

How can I do this?  I'm thinking I might need to subclass the Sort 
object.  Or can I subclass the SortField object and give it two field names?

Thanks in advance!

-- 
Tim Koop
<mailto:tim@timkoop.com>
<http://www.timkoop.com>

--------------050505060805020009040902--

From java-user-return-49132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 19:23:19 2011
Return-Path: <java-user-return-49132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39592 invoked from network); 23 Mar 2011 19:23:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 19:23:15 -0000
Received: (qmail 86066 invoked by uid 500); 23 Mar 2011 19:23:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85969 invoked by uid 500); 23 Mar 2011 19:23:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85952 invoked by uid 99); 23 Mar 2011 19:23:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 19:23:11 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Mar 2011 19:23:10 +0000
Received: (qmail 46258 invoked by uid 99); 23 Mar 2011 18:56:10 -0000
Received: from localhost.apache.org (HELO [10.0.0.19]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 18:56:10 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: Grouping...
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <4D887D49.30706@digitorial.co.uk>
Date: Wed, 23 Mar 2011 13:55:30 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <A9C61469-CF4F-4005-9D6E-8AFA5C0AEDA0@apache.org>
References: <4D887D49.30706@digitorial.co.uk>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1084)


On Mar 22, 2011, at 6:43 AM, Dawn Zo=EB Raison wrote:

> Hi Folks,
>=20
> Before I run off and reinvent the wheel here - has anyone done any =
form of result grouping with lucene?
>=20
> My use case looks something like this:
> Newspaper pages are stored as documents in the lucene index.
> I need to list the newpapers that match my criteria in date order, so =
that I can then in a subsequent search enumerate the first n pages from =
each. n is derived from the UI - in this case the screen width the user =
has available.
> Ideally I'd want to pull all papers for a given date - so a way to =
pull a result set that identifies a set of dates that have pages stored =
against them would be ideal. It seems to me that the only way to do this =
at present would be to define a custom collector and aggregate such a =
result set on the fly?
>=20
> My reason for wanting to group is so that I can easily compute the =
next/previous start indexes as the user browses through the timeline. If =
I have to include the (variable) page count each time it gets =
convoluted. More so since some pages may be missing from each paper.
>=20
> Any thoughts appreciated.

Have you looked at Solr and date faceting capabilities?  Also, it has =
result grouping, but I think you are just describing faceting/filtering.

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem docs using Solr/Lucene:
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 19:28:13 2011
Return-Path: <java-user-return-49131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55216 invoked from network); 23 Mar 2011 19:28:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 19:28:12 -0000
Received: (qmail 73673 invoked by uid 500); 23 Mar 2011 18:26:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73631 invoked by uid 500); 23 Mar 2011 18:26:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73623 invoked by uid 99); 23 Mar 2011 18:26:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 18:26:11 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 18:26:05 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.234]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Wed, 23 Mar
 2011 14:25:43 -0400
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 23 Mar 2011 14:25:41 -0400
Subject: RE: TermDoc to TermDocsEnum
Thread-Topic: TermDoc to TermDocsEnum
Thread-Index: AcvoyY/ht9jB7ZRgR/C2tH/Czb4s2wAvMBJA
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF5F4FB67@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <1300816595286-2716046.post@n3.nabble.com>
In-Reply-To: <1300816595286-2716046.post@n3.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

If I understand correctly what you are trying to do as far as getting corpu=
sTF, you might want to look at the implementation of the "-t" flag in  org.=
apache.lucene.misc/HighFreqTerms.java in contib. =20

Take a look at the getTotalTermFreq method in trunk.


http://svn.apache.org/viewvc/lucene/dev/trunk/lucene/contrib/misc/src/java/=
org/apache/lucene/misc/HighFreqTerms.java?view=3Dmarkup

3.x version here:

http://svn.apache.org/viewvc/lucene/dev/branches/branch_3x/lucene/contrib/m=
isc/src/java/org/apache/lucene/misc/HighFreqTerms.java?view=3Dmarkup

Tom
http://www.hathitrust.org/blogs/large-scale-search


-----Original Message-----
From: nitinhardeniya [mailto:nitinhardeniya@gmail.com]=20
Sent: Tuesday, March 22, 2011 1:57 PM
To: java-user@lucene.apache.org
Subject: TermDoc to TermDocsEnum

hi

I have a code that work fine with lucene 3.2 where i used TermDocs to find
the corpusTF here is the code=20


public void calculateCorpusTF(IndexReader reader) throws IOException {
		// TODO Auto-generated method stub
		Iterator it =3D word.iterator();

		Iterator  iwp  =3D word_prop.iterator();
		wordProp wp;
		Term ta =3D null;

			TermDocs tds;
	//	DocsEnum tds;
		String text;
		tfDoc tfcoll; =20
		long freq=3D0;
		OpenBitSet skipDocs =3D null;
		skipDocs =3D new OpenBitSet(0);
		//System.out.println("Length: "+skipDocs.length());
		try {

			while(it.hasNext())
			{=09
				text=3Dit.next();
				wp=3Diwp.next();

				System.out.println("Word is "+text);
				ta=3D new Term("content",text);
				//BytesRef term =3D new BytesRef(text.toCharArray(),0,text.length());

				tfcoll =3D new tfDoc();
				freq=3D0;

								tds=3Dreader.termDocs(ta);
							//	tds=3Dreader.terms("content");
								if(tds!=3Dnull)
								{
									while(tds.next())
									{
								=09
										freq+=3Dtds.freq();
									//	System.out.print( text +"  "+ freq);
									}
								}

				// New Code -->

//				tds =3D reader.termDocsEnum(skipDocs, "content", term);
//				if(tds!=3Dnull)
//				{
//					while(true) {
//						freq +=3D tds.freq();
//						final int docID =3D tds.nextDoc();
//						if (docID =3D=3D DocsEnum.NO_MORE_DOCS) {
//							break;
//						}
//					}
//				}
//			=09
				// New code Ends <--

				tfcoll.tfA=3Dfreq;
				System.out.print( text +"  "+ freq);
				if(tfcoll.totalTF()=3D=3D0)
				{
					//System.out.println(" "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
					System.out.println("Text "+text+ " Freq "+freq);
				}

				wp.tfColl=3Dtfcoll;
			}
		}
		catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
		}

	}

but now i have to use TermDocEnum because i am using lucene dev4.0 which
does not have TermDocs method i was trying to change my code .please refer
to new code [commented ] and tell me how to use this method in a proper way
. if you can provide an example that would be great.
tds =3D reader.termDocsEnum(skipDocs, "content", term);
I have tried using null at skipdoc because i don't want to skip anything bu=
t
it through error

please help

--
View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-to=
-TermDocsEnum-tp2716046p2716046.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 23 20:50:36 2011
Return-Path: <java-user-return-49133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59520 invoked from network); 23 Mar 2011 20:49:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Mar 2011 20:49:59 -0000
Received: (qmail 50463 invoked by uid 500); 23 Mar 2011 20:49:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50419 invoked by uid 500); 23 Mar 2011 20:49:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50411 invoked by uid 99); 23 Mar 2011 20:49:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 20:49:57 +0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.26 is neither permitted nor denied by domain of nitinhardeniya@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2011 20:49:52 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <nitinhardeniya@gmail.com>)
	id 1Q2Uzj-0005qY-Uc
	for java-user@lucene.apache.org; Wed, 23 Mar 2011 13:49:31 -0700
Date: Wed, 23 Mar 2011 13:49:31 -0700 (PDT)
From: nitinhardeniya <nitinhardeniya@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTinh+jyGGY=O_aUot-ZM2esZrioBxvacT9LbDV33@mail.gmail.com>
In-Reply-To: <47316FE3F6BA0D4DADF99663512552680AF5F4FB67@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <1300816595286-2716046.post@n3.nabble.com> <47316FE3F6BA0D4DADF99663512552680AF5F4FB67@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Subject: Re: TermDoc to TermDocsEnum
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18065_1608171.1300913371941"

------=_Part_18065_1608171.1300913371941
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have changed the code according to MIGRATE.txt

but now i am getting an error at

public long getCorpCount(Vector <SpanTermQuery> clauses)
    {
        long count=0;
        try {
            SpanQuery [] clause= new SpanQuery[clauses.size()];
            clause= clauses.toArray(clause);
        //    SpanNearQuery sq = new SpanNearQuery(clause,1,true);
            SpanOrQuery sq=new
SpanOrQuery(clause);                              error here
            Spans spans=sq.getSpans(findFeatures.reader);

            while(spans.next()) //here was the error
            {
                count++;
            }
        }
        catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();
        }

        return count ;
    }


the error log is :

please use MultiFields.getDeletedDocs, or wrap your IndexReader with
SlowMultiReaderWrapper, if you really need a top level Bits deletedDocs
    at
org.apache.lucene.index.DirectoryReader.getDeletedDocs(DirectoryReader.java:371)
    at
org.apache.lucene.search.spans.SpanTermQuery.getSpans(SpanTermQuery.java:84)
    at
org.apache.lucene.search.spans.SpanOrQuery$1.initSpanQueue(SpanOrQuery.java:172)
    at
org.apache.lucene.search.spans.SpanOrQuery$1.next(SpanOrQuery.java:184)
    at rankPhrase.calFeatures.Document.getCorpCount(Document.java:489)
    at rankPhrase.calFeatures.Document.calculateTfCorpus(Document.java:468)
    at
rankPhrase.calFeatures.findFeatures.computeAllFeatures(findFeatures.java:309)
    at
rankPhrase.calFeatures.findFeatures.LoadPhrases(findFeatures.java:235)
    at rankPhrase.calFeatures.findFeatures.main(findFeatures.java:380)

On Wed, Mar 23, 2011 at 11:56 PM, Burton-West, Tom [via Lucene] <
ml-node+2721619-1942655904-77327@n3.nabble.com> wrote:

> Hi,
>
> If I understand correctly what you are trying to do as far as getting
> corpusTF, you might want to look at the implementation of the "-t" flag in
>  org.apache.lucene.misc/HighFreqTerms.java in contib.
>
> Take a look at the getTotalTermFreq method in trunk.
>
>
>
> http://svn.apache.org/viewvc/lucene/dev/trunk/lucene/contrib/misc/src/java/org/apache/lucene/misc/HighFreqTerms.java?view=markup
>
> 3.x version here:
>
>
> http://svn.apache.org/viewvc/lucene/dev/branches/branch_3x/lucene/contrib/misc/src/java/org/apache/lucene/misc/HighFreqTerms.java?view=markup
>
> Tom
> http://www.hathitrust.org/blogs/large-scale-search
>
>
>
> -----Original Message-----
> From: nitinhardeniya [mailto:[hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=0&by-user=t>]
>
> Sent: Tuesday, March 22, 2011 1:57 PM
> To: [hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=1&by-user=t>
> Subject: TermDoc to TermDocsEnum
>
> hi
>
> I have a code that work fine with lucene 3.2 where i used TermDocs to find
> the corpusTF here is the code
>
>
> public void calculateCorpusTF(IndexReader reader) throws IOException {
>                 // TODO Auto-generated method stub
>                 Iterator it = word.iterator();
>
>                 Iterator  iwp  = word_prop.iterator();
>                 wordProp wp;
>                 Term ta = null;
>
>                         TermDocs tds;
>         // DocsEnum tds;
>                 String text;
>                 tfDoc tfcoll;
>                 long freq=0;
>                 OpenBitSet skipDocs = null;
>                 skipDocs = new OpenBitSet(0);
>                 //System.out.println("Length: "+skipDocs.length());
>                 try {
>
>                         while(it.hasNext())
>                         {
>                                 text=it.next();
>                                 wp=iwp.next();
>
>                                 System.out.println("Word is "+text);
>                                 ta= new Term("content",text);
>                                 //BytesRef term = new
> BytesRef(text.toCharArray(),0,text.length());
>
>                                 tfcoll = new tfDoc();
>                                 freq=0;
>
>
> tds=reader.termDocs(ta);
>                                                         //
> tds=reader.terms("content");
>
> if(tds!=null)
>                                                                 {
>
> while(tds.next())
>                                                                         {
>
>
>     freq+=tds.freq();
>                                                                         //
> System.out.print( text +"  "+ freq);
>                                                                         }
>                                                                 }
>
>                                 // New Code -->
>
> // tds = reader.termDocsEnum(skipDocs, "content", term);
> // if(tds!=null)
> // {
> // while(true) {
> // freq += tds.freq();
> // final int docID = tds.nextDoc();
> // if (docID == DocsEnum.NO_MORE_DOCS) {
> // break;
> // }
> // }
> // }
> //
>                                 // New code Ends <--
>
>                                 tfcoll.tfA=freq;
>                                 System.out.print( text +"  "+ freq);
>                                 if(tfcoll.totalTF()==0)
>                                 {
>                                         //System.out.println("
> "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
>                                         System.out.println("Text "+text+ "
> Freq "+freq);
>                                 }
>
>                                 wp.tfColl=tfcoll;
>                         }
>                 }
>                 catch (Exception e) {
>                         // TODO: handle exception
>                         e.printStackTrace();
>                 }
>
>         }
>
> but now i have to use TermDocEnum because i am using lucene dev4.0 which
> does not have TermDocs method i was trying to change my code .please refer
> to new code [commented ] and tell me how to use this method in a proper way
>
> . if you can provide an example that would be great.
> tds = reader.termDocsEnum(skipDocs, "content", term);
> I have tried using null at skipdoc because i don't want to skip anything
> but
> it through error
>
> please help
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html<http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2716046.html?by-user=t>
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=2&by-user=t>
> For additional commands, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=3&by-user=t>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=4&by-user=t>
> For additional commands, e-mail: [hidden email]<http://user/SendEmail.jtp?type=node&node=2721619&i=5&by-user=t>
>
>
>
> ------------------------------
>  If you reply to this email, your message will be added to the discussion
> below:
>
> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2721619.html
>  To unsubscribe from TermDoc to TermDocsEnum, click here<http://lucene.472066.n3.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=2716046&code=bml0aW5oYXJkZW5peWFAZ21haWwuY29tfDI3MTYwNDZ8LTkwNzg0MTk0MA==>.
>
>



-- 
Nitin Kumar Hardeniya

M.Tech Computational Linguistics
IIIT Hyderabad

SAVE PAPER - THINK BEFORE YOU PRINT


--
View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p2722185.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.
------=_Part_18065_1608171.1300913371941--

From java-user-return-49134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 08:52:59 2011
Return-Path: <java-user-return-49134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60592 invoked from network); 24 Mar 2011 08:52:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 08:52:59 -0000
Received: (qmail 12529 invoked by uid 500); 24 Mar 2011 08:52:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11968 invoked by uid 500); 24 Mar 2011 08:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11374 invoked by uid 99); 24 Mar 2011 08:52:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 08:52:51 +0000
X-ASF-Spam-Status: No, hits=3.5 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 08:52:46 +0000
Received: by vxi40 with SMTP id 40so9233729vxi.35
        for <multiple recipients>; Thu, 24 Mar 2011 01:52:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:date:message-id:subject
         :from:to:content-type;
        bh=1tjgiTRwOKL5YHJFYvE7lCNjunsKeaBQH0F1xdJixJg=;
        b=EFqBBRfRwPN8kLkACauH/IYZ/X0WWgcHFLKIcEuQZx/VVKqhrn2Du2SDmgHt+SWjzj
         iv1nbRNmlQSc25bramhqFoqmHO8VDDKXks7APeOC/955oHuoZJ+3D+289p43bYZ+lJgT
         JaMBS4v4x1z3lwJtH91PozM5cToaiA+SGrDCI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:date:message-id:subject:from:to:content-type;
        b=H6hTgGxxIhyEPIu05fbjMOyG3FZI6KSyHpaCGZKB1MFEtm6QtDG+/ntsQj3EcILh8g
         e/w/l5tpA9PGN56A9uaE910pN9cj+sn+a+zGvRtaROSbhqgX5eopLYrtGOunkfthKk7h
         HzDPCOt/hdaplvy3BRvf8OmsrUkkANOuTcnA8=
MIME-Version: 1.0
Received: by 10.52.68.100 with SMTP id v4mr5798999vdt.111.1300956744413; Thu,
 24 Mar 2011 01:52:24 -0700 (PDT)
Received: by 10.52.160.39 with HTTP; Thu, 24 Mar 2011 01:52:24 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
Date: Thu, 24 Mar 2011 09:52:24 +0100
Message-ID: <AANLkTi=re-pXAJ_oWVu1tJLYb7FfU6U6Jch-48zi0bNG@mail.gmail.com>
Subject: BerlinBuzzwords 2011 Early Bird Ticket Period ends on April 7th.
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user <java-user@lucene.apache.org>, dev@lucene.apache.org, 
	solr-user@lucene.apache.org, lucy-user@incubator.apache.org, 
	connectors-dev@incubator.apache.org, connectors-user@incubator.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hey folks,

just a short notice for those who haven't noticed we have only a
limited amount of Early-Bird tickets left and the Early-Bird period is
ends on April 7th. If you want to get one of the 30 remaining tickets
go and get one now here: http://berlinbuzzwords.de/content/tickets

While we are still working on the schedule and selecting speakers we
didn't send out any reject mail yet. So if you have submitted a talk
for BerlinBuzzwords 2011 you don't need to get a Early-Bird ticket
now. All potential speakers will be eligible for Early-Bird discount
even after April 7th.


regards,

Simon

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 09:47:57 2011
Return-Path: <java-user-return-49135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33108 invoked from network); 24 Mar 2011 09:47:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 09:47:57 -0000
Received: (qmail 60352 invoked by uid 500); 24 Mar 2011 09:47:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60292 invoked by uid 500); 24 Mar 2011 09:47:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60284 invoked by uid 99); 24 Mar 2011 09:47:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 09:47:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.252.22.173] (HELO smtp1.voila.fr) (193.252.22.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 09:47:50 +0000
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf4906.voila.fr (SMTP Server) with ESMTP id 0B3147000096
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 10:47:29 +0100 (CET)
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf4906.voila.fr (SMTP Server) with ESMTP id F28387000097
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 10:47:28 +0100 (CET)
Received: from wwinf4614 (wwinf4614 [10.232.13.58])
	by mwinf4906.voila.fr (SMTP Server) with ESMTP id E52C77000096
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 10:47:28 +0100 (CET)
X-ME-UUID: 20110324094728938.E52C77000096@mwinf4906.voila.fr
From: fr.jurain@voila.fr
Reply-To: fr.jurain@voila.fr
To: java-user@lucene.apache.org
Message-ID: <19740961.193831300960048936.JavaMail.www@wwinf4614>
Subject: Re: Wanted: a directory of quick-and-(not too)dirty analyzers for
 multi-language RDF.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [193.194.132.71]
X-Wum-Nature: EMAIL-NATURE
X-WUM-FROM: |~|
X-WUM-TO: |~|
X-WUM-REPLYTO: |~|
Date: Thu, 24 Mar 2011 10:47:28 +0100 (CET)

Hi David,=20
thanks for your advice I'll keep it in mind.

Best regards,=20
      Fran=C3=A7ois Jurain.
=20


> Message du 22/03/11 =C3=A0 17h40
> De : "David Causse" <dcausse@spotter.com>
> A : java-user@lucene.apache.org
> Copie =C3=A0 :=20
> Objet : Re: Wanted: a directory of quick-and-(not too)dirty analyzers for=
 multi-language RDF.
>=20
>=20
> On Tue, Mar 22, 2011 at 04:15:53PM +0100, fr.jurain@voila.fr wrote:
> > The only thing I need is the middle layer: a Java component extending=
=20
> > Lucene, that'd pull a plausible Analyzer out of its magic hat, for ever=
y=20
> > ISO 639-1 language tag however unlikely that turns up in the RDF input.
> > Not just an analyzer, mark: a *plausible* one. I mean one that'll=20
> > generate usable indexes right out of the box in most cases; I cannot=20
> > afford to bring the system back into dev & study the arcanes of=20
> > automatic indexing in just every language we're working with. So=20
> > lucene-contrib + covering the rest with StandardAnalyzer/English=20
> > stopwords is not an option.
>=20
> Hi,
>=20
> maybe you could have a look at java.text.* and specifically BreakIterator
> (Thai analyzer use it) it could be better than STDAnalyzer for a fallback=
.
> Don't forget that if you use multiple analyzers at index time you'll
> have to use multiple analyzers at query time (tricky part of the
> process).
>=20
> Regards.
>=20
> --=20
> David Causse
> Spotter
> http://www.spotter.com/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

____________________________________________________

  Retrouvez les 10 conseils pour =C3=A9conomiser votre carburant sur Voila =
:  http://actu.voila.fr/evenementiel/LeDossierEcologie/l-eco-conduite/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 14:01:02 2011
Return-Path: <java-user-return-49136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20262 invoked from network); 24 Mar 2011 14:01:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 14:01:02 -0000
Received: (qmail 4126 invoked by uid 500); 24 Mar 2011 14:00:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4072 invoked by uid 500); 24 Mar 2011 14:00:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4064 invoked by uid 99); 24 Mar 2011 14:00:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:00:59 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of solmyr72@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:00:52 +0000
Received: by iyj12 with SMTP id 12so13409351iyj.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 07:00:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Z5LtF/prDnT5jArmXkkYZj/E7ljIhm3sBeFqTi+MYl8=;
        b=J//TDtkIt+h18xzxSoSl4tJYSM1quxyx1N35MRmz0KIWKeryIdNsmjCVMTpNB3IbO5
         3cvfYxwMi+xY6IhMuHms6fq7+aq0I1SKA2ZIsLE+QjJHwf1J4F8oGK8v4WxPsmY0zlau
         BX3Abf8uT1wkhfs5C7TWV/4Pmu18v+iarh7Mo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=lEjILjOTVyj98iyx1xeDulFkwVOOj2Bsh5zCRuCJBSxxF/Lv5CQt2y/WP6M7YSm2/s
         qKCaYNgMkN9psuBTd3Pu3KCs0L83b85dD1XKdd8lWq9o5JLrkre8kUWuq1iO8r7l71Zd
         EiSwNZmIwr3EcH39KgXB8DgLHWIOYFTVFTVPM=
MIME-Version: 1.0
Received: by 10.42.241.201 with SMTP id lf9mr26895icb.366.1300975230981; Thu,
 24 Mar 2011 07:00:30 -0700 (PDT)
Received: by 10.231.206.81 with HTTP; Thu, 24 Mar 2011 07:00:30 -0700 (PDT)
Date: Thu, 24 Mar 2011 16:00:30 +0200
Message-ID: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
Subject: Should I use MultiSearcher?
From: sol myr <solmyr72@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf305641dd81171f049f3ae6a5
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf305641dd81171f049f3ae6a5
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I need to search a Catalog.
Most users search *this* year's catalog, but on rare occasions they may ask
for old products (from previous years).
I'm trying to select between 2 options:

1) Keep huge big index for all years (where documents have a "year" field,
so I can filter out the current year, when needed)

2) Keep separate indexes - FSDirectory per year:
FSDirectory.open("c:/index_2009/"),  FSDirectory.open("c:/index_2010/") ...
Most searches will run on the current year's FSDirectory, but if I want old
product I can use MultiSearcher.

Which option sounds better?
The 1st seems easier to code.
But I thought the 2nd might have better performance - especially since most
searches are on the current year.
Moreover, since changes occur only on current year (old products never
change), I though the 2nd approach would be easier on the IndexWriter
(especially on heavy actions like "optimize()").

What do you thing?
Thanks :)

--20cf305641dd81171f049f3ae6a5--

From java-user-return-49137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 14:05:05 2011
Return-Path: <java-user-return-49137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57411 invoked from network); 24 Mar 2011 14:05:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 14:05:05 -0000
Received: (qmail 11249 invoked by uid 500); 24 Mar 2011 14:05:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11189 invoked by uid 500); 24 Mar 2011 14:05:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11181 invoked by uid 99); 24 Mar 2011 14:05:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:05:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:04:55 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 3584245E701
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 15:04:35 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AZgcQAkpmNBZ for <java-user@lucene.apache.org>;
	Thu, 24 Mar 2011 15:04:30 +0100 (CET)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id DFF1745E6FC
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 15:04:29 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
In-Reply-To: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
Subject: RE: Should I use MultiSearcher?
Date: Thu, 24 Mar 2011 15:04:41 +0100
Message-ID: <004e01cbea2c$6ba2e7d0$42e8b770$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQIYp98tJSYdrQwWnkDTK331l4nEX5OjCNng
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Don't use MultiSearcher. Instead create a MultiReader around the separate
IndexReaders for each index and pass that MultiReader to a conventional
IndexSearcher as IndexReader. MultiSearcher is very buggy.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: sol myr [mailto:solmyr72@gmail.com]
> Sent: Thursday, March 24, 2011 3:01 PM
> To: java-user@lucene.apache.org
> Subject: Should I use MultiSearcher?
> 
> Hi,
> 
> I need to search a Catalog.
> Most users search *this* year's catalog, but on rare occasions they may
ask
> for old products (from previous years).
> I'm trying to select between 2 options:
> 
> 1) Keep huge big index for all years (where documents have a "year" field,
so
> I can filter out the current year, when needed)
> 
> 2) Keep separate indexes - FSDirectory per year:
> FSDirectory.open("c:/index_2009/"),  FSDirectory.open("c:/index_2010/")
...
> Most searches will run on the current year's FSDirectory, but if I want
old
> product I can use MultiSearcher.
> 
> Which option sounds better?
> The 1st seems easier to code.
> But I thought the 2nd might have better performance - especially since
most
> searches are on the current year.
> Moreover, since changes occur only on current year (old products never
> change), I though the 2nd approach would be easier on the IndexWriter
> (especially on heavy actions like "optimize()").
> 
> What do you thing?
> Thanks :)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 14:14:15 2011
Return-Path: <java-user-return-49138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68950 invoked from network); 24 Mar 2011 14:14:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 14:14:15 -0000
Received: (qmail 36613 invoked by uid 500); 24 Mar 2011 14:14:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36569 invoked by uid 500); 24 Mar 2011 14:14:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36561 invoked by uid 99); 24 Mar 2011 14:14:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:14:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of devon.odell@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:14:06 +0000
Received: by iyj12 with SMTP id 12so3771iyj.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 07:13:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=4CyZSuGT+AWOffZM7p4epL/jKVmkWg5WKlgLo0kkxFw=;
        b=bs2c1rtqeXQSPFrZyonbERhszT+vljuFNA6SVnUg0OGQOOAlIqmUcGkoi8Re7XnVHZ
         bKujwH1/M0nPMxPqCWZItQdiy/RWHGD4pLjXmvOyJnCxu09QOgYaWFMoU2lI+lBt3+Ac
         ePy1V4eYypEu8Uk+SlhfBDW45fxIYPuk4Igl8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=pXTDcVqBaXbTZha+Au10AmeWk/iBaV2uCoc9nQYx/zNAojQQB4H1VLdbP80ZOdrFT1
         Fn5K3REIGQ4jkhHuxJThm5pllQJ9SRs5AZ0xXmdVWyChGMjQ7vZdbPhPcMhsYJJS6z1r
         RSIpW/ru2AZuddunxb3b/OgSX5VfqcSHSpzBc=
MIME-Version: 1.0
Received: by 10.231.54.100 with SMTP id p36mr7932744ibg.162.1300976025658;
 Thu, 24 Mar 2011 07:13:45 -0700 (PDT)
Received: by 10.231.224.91 with HTTP; Thu, 24 Mar 2011 07:13:45 -0700 (PDT)
In-Reply-To: <004e01cbea2c$6ba2e7d0$42e8b770$@thetaphi.de>
References: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
	<004e01cbea2c$6ba2e7d0$42e8b770$@thetaphi.de>
Date: Thu, 24 Mar 2011 10:13:45 -0400
Message-ID: <AANLkTiktxTLeE9cFQ18nC_oenVYHmWEr-8MfXZY4uySq@mail.gmail.com>
Subject: Re: Should I use MultiSearcher?
From: "Devon H. O'Dell" <devon.odell@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2011/3/24 Uwe Schindler <uwe@thetaphi.de>:
> Don't use MultiSearcher. Instead create a MultiReader around the separate
> IndexReaders for each index and pass that MultiReader to a conventional
> IndexSearcher as IndexReader. MultiSearcher is very buggy.

Could you elaborate on this point at all, Uwe? I'm using
ParallelMultiSearcher with 3.0.3 in an application right now and it
doesn't seem to be very buggy to me, but perhaps I'm missing
something. Switching to MultiReader / IndexSearcher wouldn't be a
problem, but I'm curious as to what exactly is wrong with the
MultiSearcher interface.

Thanks!

--dho

> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
>> -----Original Message-----
>> From: sol myr [mailto:solmyr72@gmail.com]
>> Sent: Thursday, March 24, 2011 3:01 PM
>> To: java-user@lucene.apache.org
>> Subject: Should I use MultiSearcher?
>>
>> Hi,
>>
>> I need to search a Catalog.
>> Most users search *this* year's catalog, but on rare occasions they may
> ask
>> for old products (from previous years).
>> I'm trying to select between 2 options:
>>
>> 1) Keep huge big index for all years (where documents have a "year" fiel=
d,
> so
>> I can filter out the current year, when needed)
>>
>> 2) Keep separate indexes - FSDirectory per year:
>> FSDirectory.open("c:/index_2009/"), =A0FSDirectory.open("c:/index_2010/"=
)
> ...
>> Most searches will run on the current year's FSDirectory, but if I want
> old
>> product I can use MultiSearcher.
>>
>> Which option sounds better?
>> The 1st seems easier to code.
>> But I thought the 2nd might have better performance - especially since
> most
>> searches are on the current year.
>> Moreover, since changes occur only on current year (old products never
>> change), I though the 2nd approach would be easier on the IndexWriter
>> (especially on heavy actions like "optimize()").
>>
>> What do you thing?
>> Thanks :)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 14:28:37 2011
Return-Path: <java-user-return-49139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14371 invoked from network); 24 Mar 2011 14:28:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 14:28:37 -0000
Received: (qmail 60101 invoked by uid 500); 24 Mar 2011 14:28:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60065 invoked by uid 500); 24 Mar 2011 14:28:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60057 invoked by uid 99); 24 Mar 2011 14:28:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:28:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:28:28 +0000
Received: by iyj12 with SMTP id 12so23568iyj.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 07:28:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=carb9QV3rWpWNPj4t/PZ9288mwQF3VoZUFusP6EJzoc=;
        b=NWX5KkTJAJ2QZG5wiYL3+/rsba8yBywA3K4g53eQwA6Cp70JAtcEqrGRd6MxGjMbjv
         J3U4BhS4IbpR5TzM7B+N+D7AwGRiyMhPxNthVowYwMxFndRpHFhKjEWX6GCknkLMyR1j
         iiEZvqfhc69qpdLqVk/ZD1bE+qaXHHjmWFp28=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=bH6ec7WU0X7TT87GCRRLoj7L1PQG3a2bZElbbO0a7mK6PjuijeDyWIVP4fWtiTp4Hu
         xIBIF7UR25Trl1tjtWBHcGRzhxCZUYLjOoo4Yjp3EGSzTR2B75ikQY6+rSvMwJjCYaM9
         2PN1UkcgKWzsPYYn+b445oUVNszpriQ2x7HOo=
Received: by 10.231.180.19 with SMTP id bs19mr1468727ibb.146.1300976887183;
 Thu, 24 Mar 2011 07:28:07 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Thu, 24 Mar 2011 07:27:47 -0700 (PDT)
In-Reply-To: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
References: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 24 Mar 2011 14:27:47 +0000
Message-ID: <AANLkTimxn99_pjAq-StNycGcoRRX-xeP0pTYmBMcDd-9@mail.gmail.com>
Subject: Re: Should I use MultiSearcher?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Care to define huge?  There often isn't a "best" solution but in this
case I think I'd vote for the index-per-year approach.

btw with recent versions of lucene you don't need to call optimize()
very often, if at all, although you might want to run it at the
beginning of each year against the previous year's index, now static.


--
Ian.


On Thu, Mar 24, 2011 at 2:00 PM, sol myr <solmyr72@gmail.com> wrote:
> Hi,
>
> I need to search a Catalog.
> Most users search *this* year's catalog, but on rare occasions they may a=
sk
> for old products (from previous years).
> I'm trying to select between 2 options:
>
> 1) Keep huge big index for all years (where documents have a "year" field=
,
> so I can filter out the current year, when needed)
>
> 2) Keep separate indexes - FSDirectory per year:
> FSDirectory.open("c:/index_2009/"), =A0FSDirectory.open("c:/index_2010/")=
 ...
> Most searches will run on the current year's FSDirectory, but if I want o=
ld
> product I can use MultiSearcher.
>
> Which option sounds better?
> The 1st seems easier to code.
> But I thought the 2nd might have better performance - especially since mo=
st
> searches are on the current year.
> Moreover, since changes occur only on current year (old products never
> change), I though the 2nd approach would be easier on the IndexWriter
> (especially on heavy actions like "optimize()").
>
> What do you thing?
> Thanks :)
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 14:45:20 2011
Return-Path: <java-user-return-49140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63771 invoked from network); 24 Mar 2011 14:45:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 14:45:19 -0000
Received: (qmail 87583 invoked by uid 500); 24 Mar 2011 14:45:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87532 invoked by uid 500); 24 Mar 2011 14:45:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87524 invoked by uid 99); 24 Mar 2011 14:45:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:45:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.218.48 as permitted sender)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 14:45:12 +0000
Received: by yia25 with SMTP id 25so2686yia.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 07:44:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=odv7YxqrOoL2RJo4E7xIzrVpM68a5Fmw1SC9pOpieMg=;
        b=fB4l0IeRCci+tLP208dp7+dLq/xhioHcvNmI1hPHkZFWU1rf3aoScgCTj8ohi1dGre
         EKNDdMF6fzXRcljdWY4x/2wxD3A0kh4d1Z1zHb39IWvjghFpirAOEtS9zE68PqaRHhus
         1JKCceBG3Vhq/YHhntVuRwNMfsgKr/Yq47RPo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=X7L9YnLXj2/eqvK0TvQ+Me6xHgx+y7dT6Pwbwv8jkU+eZb+cM4W/6GxK6LPWR+POpn
         1iNcET6nNKZeRhn69ln7fYlsxrw6mDfgM4lQU6SNHTsjUuduv8hB58gkqabwhBIH+c1l
         JjDuNFDB9YFmXj3Ij27kASSsO+YnAEZSJjDw0=
Received: by 10.42.74.71 with SMTP id v7mr79441icj.232.1300977890422; Thu, 24
 Mar 2011 07:44:50 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Thu, 24 Mar 2011 07:44:30 -0700 (PDT)
In-Reply-To: <AANLkTiktxTLeE9cFQ18nC_oenVYHmWEr-8MfXZY4uySq@mail.gmail.com>
References: <AANLkTikCUYzzxH7dcD6HcVX2ZQOQNKngcNuQSkWwse4a@mail.gmail.com>
 <004e01cbea2c$6ba2e7d0$42e8b770$@thetaphi.de> <AANLkTiktxTLeE9cFQ18nC_oenVYHmWEr-8MfXZY4uySq@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 24 Mar 2011 14:44:30 +0000
Message-ID: <AANLkTinHDvHp516KYe7-znV0EWzyw2+dwLiY__fiAm=8@mail.gmail.com>
Subject: Re: Should I use MultiSearcher?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

https://issues.apache.org/jira/browse/LUCENE-2756.

--
Ian.


On Thu, Mar 24, 2011 at 2:13 PM, Devon H. O'Dell <devon.odell@gmail.com> wr=
ote:
> 2011/3/24 Uwe Schindler <uwe@thetaphi.de>:
>> Don't use MultiSearcher. Instead create a MultiReader around the separat=
e
>> IndexReaders for each index and pass that MultiReader to a conventional
>> IndexSearcher as IndexReader. MultiSearcher is very buggy.
>
> Could you elaborate on this point at all, Uwe? I'm using
> ParallelMultiSearcher with 3.0.3 in an application right now and it
> doesn't seem to be very buggy to me, but perhaps I'm missing
> something. Switching to MultiReader / IndexSearcher wouldn't be a
> problem, but I'm curious as to what exactly is wrong with the
> MultiSearcher interface.
>
> Thanks!
>
> --dho
>
>> Uwe
>>
>> -----
>> Uwe Schindler
>> H.-H.-Meier-Allee 63, D-28213 Bremen
>> http://www.thetaphi.de
>> eMail: uwe@thetaphi.de
>>
>>
>>> -----Original Message-----
>>> From: sol myr [mailto:solmyr72@gmail.com]
>>> Sent: Thursday, March 24, 2011 3:01 PM
>>> To: java-user@lucene.apache.org
>>> Subject: Should I use MultiSearcher?
>>>
>>> Hi,
>>>
>>> I need to search a Catalog.
>>> Most users search *this* year's catalog, but on rare occasions they may
>> ask
>>> for old products (from previous years).
>>> I'm trying to select between 2 options:
>>>
>>> 1) Keep huge big index for all years (where documents have a "year" fie=
ld,
>> so
>>> I can filter out the current year, when needed)
>>>
>>> 2) Keep separate indexes - FSDirectory per year:
>>> FSDirectory.open("c:/index_2009/"), =A0FSDirectory.open("c:/index_2010/=
")
>> ...
>>> Most searches will run on the current year's FSDirectory, but if I want
>> old
>>> product I can use MultiSearcher.
>>>
>>> Which option sounds better?
>>> The 1st seems easier to code.
>>> But I thought the 2nd might have better performance - especially since
>> most
>>> searches are on the current year.
>>> Moreover, since changes occur only on current year (old products never
>>> change), I though the 2nd approach would be easier on the IndexWriter
>>> (especially on heavy actions like "optimize()").
>>>
>>> What do you thing?
>>> Thanks :)
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 17:09:13 2011
Return-Path: <java-user-return-49141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53249 invoked from network); 24 Mar 2011 17:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 17:09:13 -0000
Received: (qmail 81977 invoked by uid 500); 24 Mar 2011 17:09:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81939 invoked by uid 500); 24 Mar 2011 17:09:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81931 invoked by uid 99); 24 Mar 2011 17:09:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 17:09:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL,URIBL_RHS_DOB,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 17:09:04 +0000
Received: by wyb40 with SMTP id 40so180836wyb.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 10:08:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.197.77 with SMTP id ej13mr7973746wbb.128.1300986524114;
 Thu, 24 Mar 2011 10:08:44 -0700 (PDT)
Received: by 10.227.156.143 with HTTP; Thu, 24 Mar 2011 10:08:44 -0700 (PDT)
In-Reply-To: <AANLkTinh+jyGGY=O_aUot-ZM2esZrioBxvacT9LbDV33@mail.gmail.com>
References: <1300816595286-2716046.post@n3.nabble.com>
	<47316FE3F6BA0D4DADF99663512552680AF5F4FB67@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
	<AANLkTinh+jyGGY=O_aUot-ZM2esZrioBxvacT9LbDV33@mail.gmail.com>
Date: Thu, 24 Mar 2011 13:08:44 -0400
Message-ID: <AANLkTikC4OXSj_uHof=-Ao1Xd9+bqf4rC6jrFzsb=fKv@mail.gmail.com>
Subject: Re: TermDoc to TermDocsEnum
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: nitinhardeniya <nitinhardeniya@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Simplest solution is to wrap your findFeatures.reader in a
SlowMultiReaderWrapper (as the exception suggests).

More performant solution is to change your code to visit the
sequential sub-readers of findFeatures.reader, directly.  But if
performance isn't important here, just do the simple solution.

Mike

http://blog.mikemccandless.com

On Wed, Mar 23, 2011 at 4:49 PM, nitinhardeniya
<nitinhardeniya@gmail.com> wrote:
> I have changed the code according to MIGRATE.txt
>
> but now i am getting an error at
>
> public long getCorpCount(Vector <SpanTermQuery> clauses)
> =A0 =A0{
> =A0 =A0 =A0 =A0long count=3D0;
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0SpanQuery [] clause=3D new SpanQuery[clauses.size(=
)];
> =A0 =A0 =A0 =A0 =A0 =A0clause=3D clauses.toArray(clause);
> =A0 =A0 =A0 =A0// =A0 =A0SpanNearQuery sq =3D new SpanNearQuery(clause,1,=
true);
> =A0 =A0 =A0 =A0 =A0 =A0SpanOrQuery sq=3Dnew
> SpanOrQuery(clause); =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0error here
> =A0 =A0 =A0 =A0 =A0 =A0Spans spans=3Dsq.getSpans(findFeatures.reader);
>
> =A0 =A0 =A0 =A0 =A0 =A0while(spans.next()) //here was the error
> =A0 =A0 =A0 =A0 =A0 =A0{
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0count++;
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0catch (Exception e) {
> =A0 =A0 =A0 =A0 =A0 =A0// TODO: handle exception
> =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
> =A0 =A0 =A0 =A0}
>
> =A0 =A0 =A0 =A0return count ;
> =A0 =A0}
>
>
> the error log is :
>
> please use MultiFields.getDeletedDocs, or wrap your IndexReader with
> SlowMultiReaderWrapper, if you really need a top level Bits deletedDocs
> =A0 =A0at
> org.apache.lucene.index.DirectoryReader.getDeletedDocs(DirectoryReader.ja=
va:371)
> =A0 =A0at
> org.apache.lucene.search.spans.SpanTermQuery.getSpans(SpanTermQuery.java:=
84)
> =A0 =A0at
> org.apache.lucene.search.spans.SpanOrQuery$1.initSpanQueue(SpanOrQuery.ja=
va:172)
> =A0 =A0at
> org.apache.lucene.search.spans.SpanOrQuery$1.next(SpanOrQuery.java:184)
> =A0 =A0at rankPhrase.calFeatures.Document.getCorpCount(Document.java:489)
> =A0 =A0at rankPhrase.calFeatures.Document.calculateTfCorpus(Document.java=
:468)
> =A0 =A0at
> rankPhrase.calFeatures.findFeatures.computeAllFeatures(findFeatures.java:=
309)
> =A0 =A0at
> rankPhrase.calFeatures.findFeatures.LoadPhrases(findFeatures.java:235)
> =A0 =A0at rankPhrase.calFeatures.findFeatures.main(findFeatures.java:380)
>
> On Wed, Mar 23, 2011 at 11:56 PM, Burton-West, Tom [via Lucene] <
> ml-node+2721619-1942655904-77327@n3.nabble.com> wrote:
>
>> Hi,
>>
>> If I understand correctly what you are trying to do as far as getting
>> corpusTF, you might want to look at the implementation of the "-t" flag =
in
>> =A0org.apache.lucene.misc/HighFreqTerms.java in contib.
>>
>> Take a look at the getTotalTermFreq method in trunk.
>>
>>
>>
>> http://svn.apache.org/viewvc/lucene/dev/trunk/lucene/contrib/misc/src/ja=
va/org/apache/lucene/misc/HighFreqTerms.java?view=3Dmarkup
>>
>> 3.x version here:
>>
>>
>> http://svn.apache.org/viewvc/lucene/dev/branches/branch_3x/lucene/contri=
b/misc/src/java/org/apache/lucene/misc/HighFreqTerms.java?view=3Dmarkup
>>
>> Tom
>> http://www.hathitrust.org/blogs/large-scale-search
>>
>>
>>
>> -----Original Message-----
>> From: nitinhardeniya [mailto:[hidden email]<http://user/SendEmail.jtp?ty=
pe=3Dnode&node=3D2721619&i=3D0&by-user=3Dt>]
>>
>> Sent: Tuesday, March 22, 2011 1:57 PM
>> To: [hidden email]<http://user/SendEmail.jtp?type=3Dnode&node=3D2721619&=
i=3D1&by-user=3Dt>
>> Subject: TermDoc to TermDocsEnum
>>
>> hi
>>
>> I have a code that work fine with lucene 3.2 where i used TermDocs to fi=
nd
>> the corpusTF here is the code
>>
>>
>> public void calculateCorpusTF(IndexReader reader) throws IOException {
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 // TODO Auto-generated method stub
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 Iterator it =3D word.iterator();
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 Iterator =A0iwp =A0=3D word_prop.iterato=
r();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 wordProp wp;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 Term ta =3D null;
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 TermDocs tds;
>> =A0 =A0 =A0 =A0 // DocsEnum tds;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 String text;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 tfDoc tfcoll;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 long freq=3D0;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 OpenBitSet skipDocs =3D null;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 skipDocs =3D new OpenBitSet(0);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 //System.out.println("Length: "+skipDocs=
.length());
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 try {
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 while(it.hasNext())
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 {
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 text=3Di=
t.next();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 wp=3Diwp=
.next();
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 System.o=
ut.println("Word is "+text);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 ta=3D ne=
w Term("content",text);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 //BytesR=
ef term =3D new
>> BytesRef(text.toCharArray(),0,text.length());
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 tfcoll =
=3D new tfDoc();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 freq=3D0=
;
>>
>>
>> tds=3Dreader.termDocs(ta);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 //
>> tds=3Dreader.terms("content");
>>
>> if(tds!=3Dnull)
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 {
>>
>> while(tds.next())
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 {
>>
>>
>> =A0 =A0 freq+=3Dtds.freq();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 //
>> System.out.print( text +" =A0"+ freq);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 // New C=
ode -->
>>
>> // tds =3D reader.termDocsEnum(skipDocs, "content", term);
>> // if(tds!=3Dnull)
>> // {
>> // while(true) {
>> // freq +=3D tds.freq();
>> // final int docID =3D tds.nextDoc();
>> // if (docID =3D=3D DocsEnum.NO_MORE_DOCS) {
>> // break;
>> // }
>> // }
>> // }
>> //
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 // New c=
ode Ends <--
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 tfcoll.t=
fA=3Dfreq;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 System.o=
ut.print( text +" =A0"+ freq);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 if(tfcol=
l.totalTF()=3D=3D0)
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 {
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 //System.out.println("
>> "+tfcoll.tfA+" "+tfcoll.tfD+" "+tfcoll.tfC);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 System.out.println("Text "+text+ "
>> Freq "+freq);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 wp.tfCol=
l=3Dtfcoll;
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 catch (Exception e) {
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 // TODO: handle exceptio=
n
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 e.printStackTrace();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>>
>> =A0 =A0 =A0 =A0 }
>>
>> but now i have to use TermDocEnum because i am using lucene dev4.0 which
>> does not have TermDocs method i was trying to change my code .please ref=
er
>> to new code [commented ] and tell me how to use this method in a proper =
way
>>
>> . if you can provide an example that would be great.
>> tds =3D reader.termDocsEnum(skipDocs, "content", term);
>> I have tried using null at skipdoc because i don't want to skip anything
>> but
>> it through error
>>
>> please help
>>
>> --
>> View this message in context:
>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p271=
6046.html<http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716=
046p2716046.html?by-user=3Dt>
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=3D=
node&node=3D2721619&i=3D2&by-user=3Dt>
>> For additional commands, e-mail: [hidden email]<http://user/SendEmail.jt=
p?type=3Dnode&node=3D2721619&i=3D3&by-user=3Dt>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: [hidden email]<http://user/SendEmail.jtp?type=3D=
node&node=3D2721619&i=3D4&by-user=3Dt>
>> For additional commands, e-mail: [hidden email]<http://user/SendEmail.jt=
p?type=3Dnode&node=3D2721619&i=3D5&by-user=3Dt>
>>
>>
>>
>> ------------------------------
>> =A0If you reply to this email, your message will be added to the discuss=
ion
>> below:
>>
>> http://lucene.472066.n3.nabble.com/TermDoc-to-TermDocsEnum-tp2716046p272=
1619.html
>> =A0To unsubscribe from TermDoc to TermDocsEnum, click here<http://lucene=
.472066.n3.nabble.com/template/NamlServlet.jtp?macro=3Dunsubscribe_by_code&=
node=3D2716046&code=3Dbml0aW5oYXJkZW5peWFAZ21haWwuY29tfDI3MTYwNDZ8LTkwNzg0M=
Tk0MA=3D=3D>.
>>
>>
>
>
>
> --
> Nitin Kumar Hardeniya
>
> M.Tech Computational Linguistics
> IIIT Hyderabad
>
> SAVE PAPER - THINK BEFORE YOU PRINT
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/TermDoc-=
to-TermDocsEnum-tp2716046p2722185.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 17:49:18 2011
Return-Path: <java-user-return-49142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87683 invoked from network); 24 Mar 2011 17:49:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 17:49:18 -0000
Received: (qmail 38527 invoked by uid 500); 24 Mar 2011 17:49:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38477 invoked by uid 500); 24 Mar 2011 17:49:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38469 invoked by uid 99); 24 Mar 2011 17:49:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 17:49:15 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of deepak.konidena@cornell.edu designates 128.253.83.163 as permitted sender)
Received: from [128.253.83.163] (HELO limestone3.mail.cornell.edu) (128.253.83.163)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 17:49:06 +0000
X-CornellRouted: This message has been Routed already.
Received: from soapstone1.mail.cornell.edu (soapstone1.mail.cornell.edu [128.253.83.143])
	by limestone3.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2OHmb9G003982
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 13:48:41 -0400 (EDT)
Received: from exchange.cornell.edu ([10.16.197.21])
	by soapstone1.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2OHmjQd017235
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 13:48:45 -0400 (EDT)
Received: from mbxa.exchange.cornell.edu ([169.254.1.128]) by
 CASHUB02.exchange.cornell.edu ([10.16.197.21]) with mapi; Thu, 24 Mar 2011
 13:48:40 -0400
From: Deepak Konidena <deepak.konidena@cornell.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 24 Mar 2011 13:48:40 -0400
Subject: Using Fuzzysearch with MultiFieldQueryParser
Thread-Topic: Using Fuzzysearch with MultiFieldQueryParser
Thread-Index: AcvqS7Wy/RpNJcWxQ/eeG/BT+lbhaQ==
Message-ID: <C9B0FC37.5F5%bk392@cornell.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.2.0.101115
acceptlanguage: en-US
x-additional-recipients-added: 1
Content-Type: multipart/alternative;
	boundary="_000_C9B0FC375F5bk392cornelledu_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_C9B0FC375F5bk392cornelledu_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using MultiFieldQueryParser with a custom analyzer for parsing search =
text.

Now,  when I say

MultiFieldQueryParser qp =3D new MultiFieldQueryParser(Version,  new String=
[] {"field1", "field2", "field3"}, customAnalyzer);
qp.setDefaultOperator(QueryParser.AND_OPERATOR);

Query query =3D qp.parse("term1");

The query that gets built is

field1:term1 field2:term1 field3:term1

I am assuming input is treated as a TermQuery and is being searched against=
 the respective fields (field1, field2, field3) in case of single term and =
in case of multiple search terms, a BooleanQuery with an AND of all the ind=
ividual TermQueries.

Now what if  I want to do something like,

Perform a TermQuery on term1 against all the fields, perform a FuzzyQuery o=
n term2, RangeQuery on term3, etc..

And finally do an AND on all the terms?

Please let me know, if am assuming anything wrong here. My understanding is=
 that to break individual terms to be searched using different queries, I w=
ill need to implement a custom QueryParser. If so, how would I start about =
implementing that?


Thanks
Deepak Konidena




--_000_C9B0FC375F5bk392cornelledu_--

From java-user-return-49143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 17:58:54 2011
Return-Path: <java-user-return-49143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92442 invoked from network); 24 Mar 2011 17:58:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 17:58:54 -0000
Received: (qmail 53385 invoked by uid 500); 24 Mar 2011 17:58:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53338 invoked by uid 500); 24 Mar 2011 17:58:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53330 invoked by uid 99); 24 Mar 2011 17:58:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 17:58:51 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.147.195.5] (HELO flicker.bmc.com) (198.147.195.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Mar 2011 17:58:45 +0000
Received: by flicker.bmc.com (Postfix, from userid 13749)
	id ED2B71E6CCF; Thu, 24 Mar 2011 10:58:24 -0700 (MST)
Received: from PHX-HTPRD-01.adprod.bmc.com (phx-htprd-01.adprod.bmc.com [172.24.32.7])
	by flicker.bmc.com (Postfix) with ESMTP id E48001E6B89
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 10:58:24 -0700 (MST)
Received: from PHXCCRPRD02.adprod.bmc.com ([172.24.32.181]) by
 PHX-HTPRD-01.adprod.bmc.com ([172.24.32.7]) with mapi; Thu, 24 Mar 2011
 12:58:52 -0500
From: "Woolf, Ross" <Ross_Woolf@BMC.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Date: Thu, 24 Mar 2011 12:58:23 -0500
Subject: SmartChineseAnalyzer for Traditional Chinese?
Thread-Topic: SmartChineseAnalyzer for Traditional Chinese?
Thread-Index: AcvqTRFbYaHCG65sSDeb4TgCxL4fUA==
Message-ID: <492379B6AA909E4FAF672AACCA0EADC25D19EE0BEE@PHXCCRPRD02.adprod.bmc.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_492379B6AA909E4FAF672AACCA0EADC25D19EE0BEEPHXCCRPRD02ad_"
MIME-Version: 1.0

--_000_492379B6AA909E4FAF672AACCA0EADC25D19EE0BEEPHXCCRPRD02ad_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

As I look at the api for SmartChineseAnalyzer it indicates it is for Simpli=
fied Chinese.  Has anyone attempted modifying it for Traditional Chinese?  =
Or does anyone know of any other "smart" analyzer that is geared towards tr=
aditional Chinese?

Thanks,
Ross

--_000_492379B6AA909E4FAF672AACCA0EADC25D19EE0BEEPHXCCRPRD02ad_--


From java-user-return-49144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 18:32:29 2011
Return-Path: <java-user-return-49144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20720 invoked from network); 24 Mar 2011 18:32:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 18:32:29 -0000
Received: (qmail 94790 invoked by uid 500); 24 Mar 2011 18:32:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94747 invoked by uid 500); 24 Mar 2011 18:32:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94719 invoked by uid 99); 24 Mar 2011 18:32:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 18:32:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of deepak.konidena@cornell.edu designates 128.253.83.163 as permitted sender)
Received: from [128.253.83.163] (HELO limestone3.mail.cornell.edu) (128.253.83.163)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 18:32:18 +0000
X-CornellRouted: This message has been Routed already.
Received: from orchid.mail.cornell.edu (orchid.mail.cornell.edu [132.236.56.61])
	by limestone3.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2OIVnqv022825
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 14:31:53 -0400 (EDT)
Received: from exchange.cornell.edu ([10.16.197.21])
	by orchid.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2OIVphh013863
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 14:31:52 -0400 (EDT)
Received: from mbxa.exchange.cornell.edu ([169.254.1.128]) by
 CASHUB02.exchange.cornell.edu ([10.16.197.21]) with mapi; Thu, 24 Mar 2011
 14:31:52 -0400
From: Deepak Konidena <deepak.konidena@cornell.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 24 Mar 2011 14:31:51 -0400
Subject: Searching partial names using Lucene
Thread-Topic: Searching partial names using Lucene
Thread-Index: AcvqUb5jiGd4gOydRrWc255UMmp4ZQ==
Message-ID: <C9B10656.603%bk392@cornell.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.2.0.101115
acceptlanguage: en-US
x-additional-recipients-added: 1
Content-Type: multipart/alternative;
	boundary="_000_C9B10656603bk392cornelledu_"
MIME-Version: 1.0
x-cornell-routed: Orchid
x-ph: Cornell Routed
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_C9B10656603bk392cornelledu_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I  would like to build a search system where a search for "Dan" would also =
search for "Daniel" and a search for "Will", "William" . Any ideas on how t=
o go about implementing that? I can think of writing a custom Analyzer that=
 would map these partial tokens to their full firstname or lastnames. But i=
s there an Analyzer in lucene contrib modules or elsewhere that does a simi=
lar job for me?

Thanks,
Deepak Konidena.

--_000_C9B10656603bk392cornelledu_--

From java-user-return-49145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 19:15:24 2011
Return-Path: <java-user-return-49145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50368 invoked from network); 24 Mar 2011 19:15:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 19:15:23 -0000
Received: (qmail 64545 invoked by uid 500); 24 Mar 2011 19:15:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64498 invoked by uid 500); 24 Mar 2011 19:15:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64490 invoked by uid 99); 24 Mar 2011 19:15:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 19:15:21 +0000
X-ASF-Spam-Status: No, hits=-0.4 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URIBL_RHS_DOB
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 19:15:16 +0000
Received: by pxi3 with SMTP id 3so67461pxi.12
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 12:14:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=WSMuUpW7uf6mrwr0BXqapK3hKtk9NggafqSDsPhy/KU=;
        b=ZzIA04bOn/eus9CLIJ2NbgX8yZJadXaJ46NAKlqtFZQusysJ9xrg19JPPhq22Mg/TE
         YORAhRHhE7SCfW4Q0+SuEAZNSuw6QAkDEmmqAwFttVlZCZzyHITppqDP3tIK8UI2zH1O
         4m9p01KW1FajdYBglL5y8bRni+aJRXS1U2i7A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=ZhSyxL2pYwxkQSjR3Gf+EQQPyL1qemphntx/KkxTPEYN0mzZtcVHpJGQpkAS1xGS2A
         NNW1yeZ/1zgV8ryBOyDSMnk1oFRb1Ss7Z0Je/EnoX8+oYoebZ2ohZZtMpcN9DWKOYyDe
         lEb3HYHIWnWXZQDrdmpylTIBDKoP0u3N3sscY=
Received: by 10.143.153.18 with SMTP id f18mr6744383wfo.114.1300994095193;
        Thu, 24 Mar 2011 12:14:55 -0700 (PDT)
Received: from [192.168.1.75] (99-99-38-182.lightspeed.sntcca.sbcglobal.net [99.99.38.182])
        by mx.google.com with ESMTPS id d35sm230417wfj.21.2011.03.24.12.14.52
        (version=SSLv3 cipher=OTHER);
        Thu, 24 Mar 2011 12:14:53 -0700 (PDT)
Message-ID: <4D8B97F5.7030700@gmail.com>
Date: Thu, 24 Mar 2011 12:13:57 -0700
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Distributing a Lucene application?
References: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>	<4D88D732.10108@gmail.com> <AANLkTimiVjbG80em48dN4tqzK3rw=mpuo_Os9mC=Ecsf@mail.gmail.com>
In-Reply-To: <AANLkTimiVjbG80em48dN4tqzK3rw=mpuo_Os9mC=Ecsf@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

It's great that the requirement is loose...
But I suppose users would ask for more later.

Well, I worked on DBSight, which covers more than just search. It also includes scheduling indexing, reindexing, and even rendering.
In your case, you just need to specify a SQL and have index up and running in several minutes.
You can even embed a widget to put search UI to any page.

btw, DBSight also has facet search.

Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 2011/3/23 0:57, sol myr wrote:
> Thanks :)
> Thankfully we don't delete from the database - just mark items as "inactive"
> (actual delete occurs only in a yearly cleanup process).
> We can live with inaccurate results, including deleted/inactive items.
>
> Have you used DBSight? Would you mind sharing your opinion - did you like it
> better than, say, SOLR?
> Thanks :)
>
>
> On Tue, Mar 22, 2011 at 7:06 PM, Chris Lu<chris.lu@gmail.com>  wrote:
>
>> Each database having its own index should be fine.
>> However, just checking modified timestamp may not be enough, since there
>> could be items deleted.
>>
>> You can check DBSight for this purpose. It can do remote index replication
>> across WAN.
>> But, if the NY index is synchronized before NY database does, this means
>> the NY index could return results not found in NY database, correct?
>>
>> --
>> Chris Lu
>> -------------------------
>> Instant Scalable Full-Text Search On Any Database/Application
>> site: http://www.dbsight.net
>> demo: http://search.dbsight.com
>> Lucene Database Search in 3 minutes:
>> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>>
>>
>>
>> On 3/22/2011 1:30 AM, sol myr wrote:
>>
>>> Hi,
>>> What are my options for distributing an application that uses Lucene?
>>>
>>> Our current application works against a database of INVENTORY. We schedule
>>> hourly checks for modified items (timestamp-based), and update a single
>>> Lucene index.
>>> Now we want to distribute out application, to a Grid, with failover, and a
>>> bit of data sharing:
>>> Say we have 2 branches - New York and Los Angeles.
>>>
>>> (1) Inventory of the NY branch is handled by 2 application servers, and 2
>>> database copies. They are exact replicates, for failover/load balance.
>>> Similarly, the LA branch gets 2 application servers and 2 databases.
>>>
>>> (2) 90% of the time, each branch "minds its own business" and isn't
>>> interested in the other branch's inventory.
>>> However on rare occasions, an LA administrator needs to search the NY
>>> inventory (we can compromise on data freshness, e.g. show data 10 hours
>>> old).
>>>
>>> Does Lucene have built-in support for any of this?
>>> If I'm to do this "from scratch" I'll probably just let each application
>>> server maintain its own copy of Lucene index (with data only from its own
>>> city, and hourly updates as before).
>>> And for the requirement of "LA admin searching the NY inventory" I'd
>>> schedule a task to copy the NY index into the LA server, every 10 hours.
>>>
>>> Is this a reasonable approach? Or are there Lucene-management tools that
>>> would handle it better?
>>> Thanks :)
>>>
>>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 19:58:37 2011
Return-Path: <java-user-return-49146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89825 invoked from network); 24 Mar 2011 19:58:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 19:58:37 -0000
Received: (qmail 29022 invoked by uid 500); 24 Mar 2011 19:58:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28987 invoked by uid 500); 24 Mar 2011 19:58:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28979 invoked by uid 99); 24 Mar 2011 19:58:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 19:58:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sujit.pal@comcast.net designates 76.96.30.40 as permitted sender)
Received: from [76.96.30.40] (HELO qmta04.emeryville.ca.mail.comcast.net) (76.96.30.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 19:58:25 +0000
Received: from omta24.emeryville.ca.mail.comcast.net ([76.96.30.92])
	by qmta04.emeryville.ca.mail.comcast.net with comcast
	id P6zr1g0021zF43QA47y3Nt; Thu, 24 Mar 2011 19:58:03 +0000
Received: from [10.1.1.36] ([208.106.108.2])
	by omta24.emeryville.ca.mail.comcast.net with comcast
	id P7xZ1g00J038EM48k7xxPR; Thu, 24 Mar 2011 19:58:01 +0000
Subject: Re: Searching partial names using Lucene
From: Sujit Pal <sujit.pal@comcast.net>
Reply-To: sujit.pal@comcast.net
To: java-user@lucene.apache.org
In-Reply-To: <C9B10656.603%bk392@cornell.edu>
References: <C9B10656.603%bk392@cornell.edu>
Content-Type: text/plain
Organization: Personal
Date: Thu, 24 Mar 2011 12:57:33 -0700
Message-Id: <1300996653.14126.58.camel@lysdexic.healthline.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.3 (2.12.3-8.el5_2.3) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I don't know if there is already an analyzer available for this, but you
could use GATE or UIMA for Named Entity Extraction against names and
expand the query to include the extra names that are used synonymously.
You could do this outside Lucene or inline using a custom Lucene
tokenizer that embeds either a GATE or UIMA NER.

If you go the custom route (and you are not familiar with GATE or UIMA),
you may want to take a look at Dr Manu Konchady's book on Lingpipe,
Lucene and GATE - there is code in there to embed a GATE NER into a
Lucene tokenizer (although its not a streaming tokenizer due to the
nature of the NER process). The process would be similar for embedding a
UIMA NER.

GATE (ANNIE) contains data files that list the common synonyms (eg. Bill
== William, Bob == Robert, Tom == Thomas, etc) which you can leverage
with GATE's Jape rule language. Alternatively, you could use the same
data from UIMA using a custom analysis engine (I prefer this route
because this is all Java, easier learning curve and maintainability).

-sujit

On Thu, 2011-03-24 at 14:31 -0400, Deepak Konidena wrote:
> Hi,
> 
> I  would like to build a search system where a search for "Dan" would also search for "Daniel" and a search for "Will", "William" . Any ideas on how to go about implementing that? I can think of writing a custom Analyzer that would map these partial tokens to their full firstname or lastnames. But is there an Analyzer in lucene contrib modules or elsewhere that does a similar job for me?
> 
> Thanks,
> Deepak Konidena.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 22:07:11 2011
Return-Path: <java-user-return-49147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27170 invoked from network); 24 Mar 2011 22:07:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 22:07:10 -0000
Received: (qmail 37126 invoked by uid 500); 24 Mar 2011 22:07:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37087 invoked by uid 500); 24 Mar 2011 22:07:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37078 invoked by uid 99); 24 Mar 2011 22:07:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 22:07:08 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pulkitsinghal@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 22:07:00 +0000
Received: by vxi40 with SMTP id 40so622976vxi.35
        for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 15:06:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=drbRnyWPiHCQQVvsl/yvK/IUktR6myR+wm7Zxx28mGY=;
        b=O+c6A5o2iBwBHUsS3RTHGJjSEMyyLHJLuDzxiprYdfIldYsdfYU386rGOuI8P6YR5Q
         4IN4Fosq3vxqWsrjBQMMDgGdkKcURwIqLMQcDAW4r/rVSZ+9s5saNpNKvAHnrVpoBhCu
         2a/UJgAuXkOwLW5S5fFTGm6aveVVs/HAKYYF4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=G1d9gJ2lPyn9Mj2tEz5f3Co9VOwHrjazDiuw7sDnEs5r5D4wUZdDIc2pxvmPlov8HW
         2paAcs78zcbjCnPS9izAouV7QMyf3Gl3086cP/EmXmK4/ziQOoSUZC2KTSDzcqEejtZA
         EXqQYbiqGmq/E0EgQYdxPXlXM1He4DlbfSAIw=
MIME-Version: 1.0
Received: by 10.52.88.225 with SMTP id bj1mr37123vdb.61.1301004400016; Thu, 24
 Mar 2011 15:06:40 -0700 (PDT)
Received: by 10.220.183.70 with HTTP; Thu, 24 Mar 2011 15:06:39 -0700 (PDT)
Date: Thu, 24 Mar 2011 18:06:39 -0400
Message-ID: <AANLkTi=imM8b69Cdh+HkFzq_vu7Oo605xS1Pu1WG30ts@mail.gmail.com>
Subject: Lucene index limit
From: Pulkit Singhal <pulkitsinghal@gmail.com>
To: Lucene <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Is there some sort of default limit imposed on the Lucene indexes?
I try to index 50k or 60k documents but when I use Luke to go inside
the index and check the total # of entries indexed, it shows that
there are only 32768 entries.
It seems liek some sort of limit ... what should I look at to adjust
this behavior?

Thanks,
- Pulkit

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 24 22:21:35 2011
Return-Path: <java-user-return-49148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60403 invoked from network); 24 Mar 2011 22:21:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Mar 2011 22:21:35 -0000
Received: (qmail 59930 invoked by uid 500); 24 Mar 2011 22:21:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59892 invoked by uid 500); 24 Mar 2011 22:21:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59884 invoked by uid 99); 24 Mar 2011 22:21:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 22:21:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2011 22:21:25 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id DA1C2D36002
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 23:21:05 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hu3YVH5Y7JD3 for <java-user@lucene.apache.org>;
	Thu, 24 Mar 2011 23:21:00 +0100 (CET)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id AC2FFD36001
	for <java-user@lucene.apache.org>; Thu, 24 Mar 2011 23:21:00 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=imM8b69Cdh+HkFzq_vu7Oo605xS1Pu1WG30ts@mail.gmail.com>
In-Reply-To: <AANLkTi=imM8b69Cdh+HkFzq_vu7Oo605xS1Pu1WG30ts@mail.gmail.com>
Subject: RE: Lucene index limit
Date: Thu, 24 Mar 2011 23:21:11 +0100
Message-ID: <000c01cbea71$c7fcab20$57f60160$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHikj5JGE7lXk1jUXIWlT7pcnaSj5QPvq7g
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Are you sure that you not forgot to commit your changes? Maybe that's =
the reason you see only 32768 documents. There is no such low limit, the =
number of documents is limited by Integer.MAX_VALUE, number of terms is =
much higher...

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Pulkit Singhal [mailto:pulkitsinghal@gmail.com]
> Sent: Thursday, March 24, 2011 11:07 PM
> To: Lucene
> Subject: Lucene index limit
>=20
> Is there some sort of default limit imposed on the Lucene indexes?
> I try to index 50k or 60k documents but when I use Luke to go inside =
the
> index and check the total # of entries indexed, it shows that there =
are only
> 32768 entries.
> It seems liek some sort of limit ... what should I look at to adjust =
this
> behavior?
>=20
> Thanks,
> - Pulkit
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 09:56:14 2011
Return-Path: <java-user-return-49149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85556 invoked from network); 25 Mar 2011 09:56:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 09:56:14 -0000
Received: (qmail 84782 invoked by uid 500); 25 Mar 2011 09:56:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84735 invoked by uid 500); 25 Mar 2011 09:56:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84727 invoked by uid 99); 25 Mar 2011 09:56:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 09:56:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pulkitsinghal@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 09:56:04 +0000
Received: by qyk30 with SMTP id 30so698402qyk.14
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 02:55:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:references:in-reply-to:mime-version
         :content-transfer-encoding:content-type:message-id:cc:x-mailer:from
         :subject:date:to;
        bh=CvVePZjkNhrCHmN3in5N6a23122JC7lS/V9w5jGcQVM=;
        b=lge4wPX/3He6HU2eFpmx31gQfpCPMUR3dTpnnDj5kMRZofPYKcQPqNj51HnP2Q5u95
         arDHooc+LjEc+SDv7HJORh1PT8Gtjxx1aFzfsp4+vRAgJfhHf2xL/a/H0/lxxJpST9Rf
         vvJmXZzkDc/9gbRnQW8H9jcwxe9Kmv/QI1Cqs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=references:in-reply-to:mime-version:content-transfer-encoding
         :content-type:message-id:cc:x-mailer:from:subject:date:to;
        b=rX5gNRjp8ki+6fmsrn5l/pJZ3jzCycVbmAQFUeGIafwg4eIqVlrSnLKVT4yuPUqcZZ
         pLe0lipKxm58zOgJnr8hetogitvNtRi9vsD3QtbYg4d4ntafcAvW5iqiZZVFdvPiFuDa
         IQWbV3bPQ7EtCja39T8fHFoXvO379B0Joh9hc=
Received: by 10.229.82.84 with SMTP id a20mr423256qcl.104.1301046943287;
        Fri, 25 Mar 2011 02:55:43 -0700 (PDT)
Received: from [192.168.1.102] (cpe-24-193-154-180.nyc.res.rr.com [24.193.154.180])
        by mx.google.com with ESMTPS id s16sm585031qco.13.2011.03.25.02.55.42
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 25 Mar 2011 02:55:42 -0700 (PDT)
References: <AANLkTi=imM8b69Cdh+HkFzq_vu7Oo605xS1Pu1WG30ts@mail.gmail.com> <000c01cbea71$c7fcab20$57f60160$@thetaphi.de>
In-Reply-To: <000c01cbea71$c7fcab20$57f60160$@thetaphi.de>
Mime-Version: 1.0 (iPhone Mail 8A400)
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii
Message-Id: <C3CD6AA6-C796-44C2-A57D-45C5EDEF9A50@gmail.com>
Cc: "<java-user@lucene.apache.org>" <java-user@lucene.apache.org>
X-Mailer: iPhone Mail (8A400)
From: pulkitsinghal@gmail.com
Subject: Re: Lucene index limit
Date: Fri, 25 Mar 2011 05:54:40 -0400
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Uwe,
Thank you for the reply! With your suggestion I looked deeper into my code t=
o find that the services handing me the data had been updated to set a limit=
. So it wasn't a lucene issue at all.

Sent from my iPhone

On Mar 24, 2011, at 6:21 PM, "Uwe Schindler" <uwe@thetaphi.de> wrote:

> Are you sure that you not forgot to commit your changes? Maybe that's the r=
eason you see only 32768 documents. There is no such low limit, the number o=
f documents is limited by Integer.MAX_VALUE, number of terms is much higher.=
..
>=20
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>=20
>=20
>> -----Original Message-----
>> From: Pulkit Singhal [mailto:pulkitsinghal@gmail.com]
>> Sent: Thursday, March 24, 2011 11:07 PM
>> To: Lucene
>> Subject: Lucene index limit
>>=20
>> Is there some sort of default limit imposed on the Lucene indexes?
>> I try to index 50k or 60k documents but when I use Luke to go inside the
>> index and check the total # of entries indexed, it shows that there are o=
nly
>> 32768 entries.
>> It seems liek some sort of limit ... what should I look at to adjust this=

>> behavior?
>>=20
>> Thanks,
>> - Pulkit
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 09:58:47 2011
Return-Path: <java-user-return-49150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85957 invoked from network); 25 Mar 2011 09:58:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 09:58:46 -0000
Received: (qmail 87852 invoked by uid 500); 25 Mar 2011 09:58:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87810 invoked by uid 500); 25 Mar 2011 09:58:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87802 invoked by uid 99); 25 Mar 2011 09:58:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 09:58:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 09:58:38 +0000
Received: by iym1 with SMTP id 1so431335iym.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 02:58:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=G4dNGfv9vgTmK4sEjoq04mGHi0TTS/2suGlVrYpj5bk=;
        b=dmRaHpg5N8sd4xSKRBH7raFl+5Y1sLKnJuIL3pLShCQaRLEXbfwbyMW6i7LLNYUQY5
         qCN66seK0VI8xFkNgj0r2eIwk+O4xQE0i+uTHkAIGVzbNlPzCcT51YrH/5Jx8eviWizS
         7SYpzPs1T3m2vZvHmiV+eHFE06evnkdkGEyro=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=N+Wzh9pYV5EOWCDljPMQKgEcPQLVNu80c4MbKCChcPWg0asUNt3wa4caNMofyogYMS
         v2j1Y1Z3rdxMNDNMJrq4HZY5VWmxwlUJagQudPdlxHz69h9bMYE9YVaNrlgLzhEbeHnp
         9ZaOC01SCnD4DpuYQ2yXHQ2ugBx7ma+2nDszw=
Received: by 10.231.212.154 with SMTP id gs26mr570967ibb.121.1301047098098;
 Fri, 25 Mar 2011 02:58:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 02:57:58 -0700 (PDT)
In-Reply-To: <1300996653.14126.58.camel@lysdexic.healthline.com>
References: <C9B10656.603%bk392@cornell.edu> <1300996653.14126.58.camel@lysdexic.healthline.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 09:57:58 +0000
Message-ID: <AANLkTikA9VOtrwCfD-P49GgoiKSvw5_R7kCU_qZyoXwH@mail.gmail.com>
Subject: Re: Searching partial names using Lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Have you tried stemming?  Simpler and available in core lucene.  Look
at PorterStemFilter or use your favourite search engine to find more
info and options.

If instead you go the synonym route, there is sample code in Lucene in
Action and a wordnet contrib module you might find useful.


--
Ian.

On Thu, Mar 24, 2011 at 7:57 PM, Sujit Pal <sujit.pal@comcast.net> wrote:
> I don't know if there is already an analyzer available for this, but you
> could use GATE or UIMA for Named Entity Extraction against names and
> expand the query to include the extra names that are used synonymously.
> You could do this outside Lucene or inline using a custom Lucene
> tokenizer that embeds either a GATE or UIMA NER.
>
> If you go the custom route (and you are not familiar with GATE or UIMA),
> you may want to take a look at Dr Manu Konchady's book on Lingpipe,
> Lucene and GATE - there is code in there to embed a GATE NER into a
> Lucene tokenizer (although its not a streaming tokenizer due to the
> nature of the NER process). The process would be similar for embedding a
> UIMA NER.
>
> GATE (ANNIE) contains data files that list the common synonyms (eg. Bill
> =3D=3D William, Bob =3D=3D Robert, Tom =3D=3D Thomas, etc) which you can =
leverage
> with GATE's Jape rule language. Alternatively, you could use the same
> data from UIMA using a custom analysis engine (I prefer this route
> because this is all Java, easier learning curve and maintainability).
>
> -sujit
>
> On Thu, 2011-03-24 at 14:31 -0400, Deepak Konidena wrote:
>> Hi,
>>
>> I =A0would like to build a search system where a search for "Dan" would =
also search for "Daniel" and a search for "Will", "William" . Any ideas on =
how to go about implementing that? I can think of writing a custom Analyzer=
 that would map these partial tokens to their full firstname or lastnames. =
But is there an Analyzer in lucene contrib modules or elsewhere that does a=
 similar job for me?
>>
>> Thanks,
>> Deepak Konidena.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 10:05:16 2011
Return-Path: <java-user-return-49151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33990 invoked from network); 25 Mar 2011 10:05:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 10:05:16 -0000
Received: (qmail 97788 invoked by uid 500); 25 Mar 2011 10:05:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97739 invoked by uid 500); 25 Mar 2011 10:05:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97731 invoked by uid 99); 25 Mar 2011 10:05:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:05:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:05:09 +0000
Received: by iwr19 with SMTP id 19so1280013iwr.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 03:04:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=fA+3ZB1FwxGTH7DP0Nvhs4rF2ee46OjBQGCFRrYegxI=;
        b=V9JlrrrLCOPfdYUqCoSQEpmRSpYjWDYj4mpQe2XzG2kbjFCloIpPw66xSiHOjWyrJp
         1179VME+ZNU+p5ULVuiSy5gvALXj3sbs5SSAPhHPF5a/kjDB6i9g75mel6A3MhgdpQgt
         6uYOA60mvooq8dh7Imykp3pSDFJO4ZHOT/1Y4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=En8erV2C+uIwSZfX8LmeIWkx/fCx0Kul967M4hkO+40WnO3lQ8kQnGwLWCTqn5Yjk9
         sUNgrGbnN+Zl0peVh13nOe0gulkc0dN0H62rgwocplMm72UuCAv0P2xMjPQlvC81vEX+
         z8ytZPy3gj2Vup3hNlmjskxG4oWneUaBwTgKM=
Received: by 10.231.212.154 with SMTP id gs26mr576212ibb.121.1301047489106;
 Fri, 25 Mar 2011 03:04:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 03:04:29 -0700 (PDT)
In-Reply-To: <C9B0FC37.5F5%bk392@cornell.edu>
References: <C9B0FC37.5F5%bk392@cornell.edu>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 10:04:29 +0000
Message-ID: <AANLkTi=SLcaGEeqHO2-pq0pgYcRgZ-dq4DJUmjXhg61u@mail.gmail.com>
Subject: Re: Using Fuzzysearch with MultiFieldQueryParser
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

You'd be better off building a BooleanQuery.

BooleanQuery bq =3D new BooleanQuery();
bq.add(new TermQuery(...), ...);
bq.add(new FuzzyQuery(...),. ...);
etc

See BooleanClause.Occur for options on MUST, SHOULD etc.


--
Ian.

On Thu, Mar 24, 2011 at 5:48 PM, Deepak Konidena
<deepak.konidena@cornell.edu> wrote:
> Hi,
>
> I am using MultiFieldQueryParser with a custom analyzer for parsing searc=
h text.
>
> Now, =A0when I say
>
> MultiFieldQueryParser qp =3D new MultiFieldQueryParser(Version, =A0new St=
ring[] {"field1", "field2", "field3"}, customAnalyzer);
> qp.setDefaultOperator(QueryParser.AND_OPERATOR);
>
> Query query =3D qp.parse("term1");
>
> The query that gets built is
>
> field1:term1 field2:term1 field3:term1
>
> I am assuming input is treated as a TermQuery and is being searched again=
st the respective fields (field1, field2, field3) in case of single term an=
d in case of multiple search terms, a BooleanQuery with an AND of all the i=
ndividual TermQueries.
>
> Now what if =A0I want to do something like,
>
> Perform a TermQuery on term1 against all the fields, perform a FuzzyQuery=
 on term2, RangeQuery on term3, etc..
>
> And finally do an AND on all the terms?
>
> Please let me know, if am assuming anything wrong here. My understanding =
is that to break individual terms to be searched using different queries, I=
 will need to implement a custom QueryParser. If so, how would I start abou=
t implementing that?
>
>
> Thanks
> Deepak Konidena
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 10:15:51 2011
Return-Path: <java-user-return-49152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41652 invoked from network); 25 Mar 2011 10:15:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 10:15:51 -0000
Received: (qmail 8263 invoked by uid 500); 25 Mar 2011 10:15:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8224 invoked by uid 500); 25 Mar 2011 10:15:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8216 invoked by uid 99); 25 Mar 2011 10:15:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:15:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.241.168.151] (HELO mua02.mx.cix.co.uk) (212.241.168.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:15:40 +0000
X-Envelope-From: dawn@digitorial.co.uk
Received: from mail.lemur.co.uk (host86-157-89-99.range86-157.btcentralplus.com [86.157.89.99])
	by mua02.mx.cix.co.uk (8.13.8/8.13.4) with SMTP id p2PAFHLa023788
	for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 10:15:17 GMT
Received: from [192.168.1.250] ([192.168.1.250])
	by mail.lemur.co.uk
	with hMailServer ; Fri, 25 Mar 2011 10:15:17 +0000
Message-ID: <4D8C6B19.5030005@digitorial.co.uk>
Date: Fri, 25 Mar 2011 10:14:49 +0000
From: =?ISO-8859-1?Q?Dawn_Zo=EB_Raison?= <dawn@digitorial.co.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Grouping...
References: <4D887D49.30706@digitorial.co.uk> <A9C61469-CF4F-4005-9D6E-8AFA5C0AEDA0@apache.org>
In-Reply-To: <A9C61469-CF4F-4005-9D6E-8AFA5C0AEDA0@apache.org>
Content-Type: multipart/alternative;
 boundary="------------000605050003090101010605"

--------------000605050003090101010605
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


On 23/03/2011 17:55, Grant Ingersoll wrote:
> Have you looked at Solr and date faceting capabilities?  Also, it has result grouping, but I think you are just describing faceting/filtering.

SOLR is not an option, we are already have the index (>2 million pages 
some with 100,000 terms).
What I'm looking to do is to create some new ways to view the data.

Is there a good FAQ on faceting/filtering I can peruse.

Ta.
-- 

Rgds.
*Dawn Raison*
Technical Director, Digitorial Ltd.



--------------000605050003090101010605--


From java-user-return-49153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 10:31:58 2011
Return-Path: <java-user-return-49153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98286 invoked from network); 25 Mar 2011 10:31:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 10:31:58 -0000
Received: (qmail 24346 invoked by uid 500); 25 Mar 2011 10:31:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24300 invoked by uid 500); 25 Mar 2011 10:31:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24292 invoked by uid 99); 25 Mar 2011 10:31:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:31:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 10:31:50 +0000
Received: by iym1 with SMTP id 1so467228iym.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 03:31:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=HydJYxJdfbpbxkFebC4my345/PmoGf2hbLQW/96ZAwk=;
        b=H81Og65qYL8Zdd2ni8xR7cDUDClAfkcxDFeSA1lNeDUZuYFGl4JbmylqNbV3p8YBYb
         Om7zKaFvTV2gQqUgkkmLlG47BH4ftCDNOZdneyLl2LiGe21Z/6hdwBnH/HrVemXeY0L9
         elEgNjyub64pBgvifgrgABsd+J7K90se4XEc0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=JVgBYeTSR8+DB4FyCT0VhT16AUXMQOoxSOhXx63P7gvv+hQFw0HIrvXz1+EtVb6EPk
         E5/ZnZIYN5AkOYQs9p18vqWeVPp91eoy70f/Ug59mfXrWPgRiVWG9JX0KgG7nC9CkKfs
         XK7XPAskMAhTf0ZKyXTNZJPKwBLOpFjEmAVCM=
Received: by 10.231.36.77 with SMTP id s13mr606409ibd.171.1301049089118; Fri,
 25 Mar 2011 03:31:29 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 03:31:09 -0700 (PDT)
In-Reply-To: <4D8C6B19.5030005@digitorial.co.uk>
References: <4D887D49.30706@digitorial.co.uk> <A9C61469-CF4F-4005-9D6E-8AFA5C0AEDA0@apache.org>
 <4D8C6B19.5030005@digitorial.co.uk>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 10:31:09 +0000
Message-ID: <AANLkTinzsbzNcVQbzWdxCOcmWpqviXfkUOHfzGBLyESL@mail.gmail.com>
Subject: Re: Grouping...
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I'm not aware of a particular FAQ on this.

There is something called bobo-browse  - "Faceted search library based
on Lucene - Google ...
Bobo Browse is an information retrieval technology that provides
navigational browsing into a semi-structured dataset. Beyond the
result set from queries ...".

http://sbdevel.wordpress.com/2010/09/24/sorting-faceting-index-lookup/
and https://issues.apache.org/jira/browse/LUCENE-2369 sound
interesting.


--
Ian.


On Fri, Mar 25, 2011 at 10:14 AM, Dawn Zo=EB Raison <dawn@digitorial.co.uk>=
 wrote:
>
> On 23/03/2011 17:55, Grant Ingersoll wrote:
>>
>> Have you looked at Solr and date faceting capabilities? =A0Also, it has
>> result grouping, but I think you are just describing faceting/filtering.
>
> SOLR is not an option, we are already have the index (>2 million pages so=
me
> with 100,000 terms).
> What I'm looking to do is to create some new ways to view the data.
>
> Is there a good FAQ on faceting/filtering I can peruse.
>
> Ta.
> --
>
> Rgds.
> *Dawn Raison*
> Technical Director, Digitorial Ltd.
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 12:00:16 2011
Return-Path: <java-user-return-49154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66502 invoked from network); 25 Mar 2011 12:00:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 12:00:16 -0000
Received: (qmail 39422 invoked by uid 500); 25 Mar 2011 12:00:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39379 invoked by uid 500); 25 Mar 2011 12:00:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39371 invoked by uid 99); 25 Mar 2011 12:00:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 12:00:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 12:00:05 +0000
Received: by qyk2 with SMTP id 2so7022855qyk.14
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 04:59:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=12GgFyaFNvHCGuxeGVMyYGrJNAH4cL409fPXqDwAXzM=;
        b=U3efP0PTwWpWcvj310MUYs1cA5ltUttugNfLjbSXBjPvn1GxnL2wP7diLOrCUC/w67
         dYZW540AeLGxe013QGnefw3BKcv8itbwOjd12LFcb/6YZsW/fosmpc8+OlyqSaDMEadN
         NQMX4EgW2i/BwFW3e63sPDoBr5nh3FThTcAcA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SSOplql3kLbnjdElqZ6q7BInCXQnqJvAgJnmoLQSbR7ImKDUefxzehVhN/Q7uB/iUR
         FSTAbCnlAmgzMtPWHhqbP2nWufHukfI/QoyB8OBCk+s0Thp7R0vY4DZHkJbGXivp0ibX
         DXBF17bloGaA1hRtTKv+K1p0AQCM1LeUzv8QQ=
MIME-Version: 1.0
Received: by 10.229.197.11 with SMTP id ei11mr552903qcb.87.1301054384973; Fri,
 25 Mar 2011 04:59:44 -0700 (PDT)
Received: by 10.229.75.14 with HTTP; Fri, 25 Mar 2011 04:59:44 -0700 (PDT)
Date: Fri, 25 Mar 2011 12:59:44 +0100
Message-ID: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com>
Subject: using 2 different Analyzer for indexing ?
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00248c17677c73273e049f4d549d
X-Virus-Checked: Checked by ClamAV on apache.org

--00248c17677c73273e049f4d549d
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I would index the same document with 2 different Analyzer.
So I have to create 2 different index.

How can I do that ?

thank you for your help,

Amel.

--00248c17677c73273e049f4d549d--

From java-user-return-49155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 13:31:13 2011
Return-Path: <java-user-return-49155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71915 invoked from network); 25 Mar 2011 13:31:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 13:31:12 -0000
Received: (qmail 68223 invoked by uid 500); 25 Mar 2011 13:31:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68184 invoked by uid 500); 25 Mar 2011 13:31:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68176 invoked by uid 99); 25 Mar 2011 13:31:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:31:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [91.121.16.47] (HELO ns23917.ovh.net) (91.121.16.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:31:02 +0000
Received: (qmail 13787 invoked by uid 508); 25 Mar 2011 13:42:19 -0000
Received: from unknown (HELO spotter-dclnx.intra.spotter.com) (88.182.17.109)
  by ns23917.ovh.net with AES256-SHA encrypted SMTP; 25 Mar 2011 13:42:19 -0000
Received: from techno by spotter-dclnx.intra.spotter.com with local (Exim 4.72)
	(envelope-from <dcausse@spotter.com>)
	id 1Q3770-00031u-MA
	for java-user@lucene.apache.org; Fri, 25 Mar 2011 14:31:34 +0100
Date: Fri, 25 Mar 2011 14:31:34 +0100
From: David Causse <dcausse@spotter.com>
To: java-user@lucene.apache.org
Subject: Re: using 2 different Analyzer for indexing ?
Message-ID: <20110325133134.GG7580@spotter-dclnx>
Mail-Followup-To: David Causse <dcausse@spotter.com>,
	java-user@lucene.apache.org
References: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com>
User-Agent: Mutt/1.5.20 (2009-06-14)
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 25, 2011 at 12:59:44PM +0100, Amel Fraisse wrote:
> Hello,
> 
> I would index the same document with 2 different Analyzer.
> So I have to create 2 different index.
> 
> How can I do that ?

Hi,

within the same index you can have more than one indexed field.
Just add your two indexed fields in the same Document object.

Regards.

-- 
David Causse
Spotter
http://www.spotter.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 13:43:48 2011
Return-Path: <java-user-return-49156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10930 invoked from network); 25 Mar 2011 13:43:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 13:43:47 -0000
Received: (qmail 88514 invoked by uid 500); 25 Mar 2011 13:43:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88463 invoked by uid 500); 25 Mar 2011 13:43:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88455 invoked by uid 99); 25 Mar 2011 13:43:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:43:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:43:39 +0000
Received: by ywo32 with SMTP id 32so558847ywo.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 06:43:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=mXHyvjr9BfUXpSPSutlCQdw5RXgxmosTsci7/rYxzAE=;
        b=r7BvTSk+zDSKmgh61k201pfn1vC8vtkEWmx2on1Ljt57oZRHyXmzxqASpNS37b8oBb
         Ut5F0jPr+RB14LyRxSJKpw9mkUz0fMonhlFBXm2Nwao/bOiV31+w1mVQsXb+VfHNsSXM
         zAdzQ5AHDNkHRiTowH5c+G6IMvbmIwMSIStPU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Dz+9mjF9EK1LgYaUP4IwbOtjs18ndli6hwtiBhxNBegQUbU2aHqZZNl2oW5Boqal/H
         OixXeS39oLtKdE2ULCXdMvyu5ki+To9hsC//LNXbc/G/G8EGQepEzRXp1tCr7XB+yrhx
         i8q5FmDULtQZxli6mG7hfThNKDWhtPMDN84UQ=
Received: by 10.43.64.132 with SMTP id xi4mr1296680icb.165.1301060598091; Fri,
 25 Mar 2011 06:43:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 06:42:58 -0700 (PDT)
In-Reply-To: <20110325133134.GG7580@spotter-dclnx>
References: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com> <20110325133134.GG7580@spotter-dclnx>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 13:42:58 +0000
Message-ID: <AANLkTimZE5J0ZOtcs+uvW4m5e-S6sPLW64VUetJi1Fu7@mail.gmail.com>
Subject: Re: using 2 different Analyzer for indexing ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

And if you want different analyzers for different fields, see
PerFieldAnalyzerWrapper


--
Ian.

On Fri, Mar 25, 2011 at 1:31 PM, David Causse <dcausse@spotter.com> wrote:
> On Fri, Mar 25, 2011 at 12:59:44PM +0100, Amel Fraisse wrote:
>> Hello,
>>
>> I would index the same document with 2 different Analyzer.
>> So I have to create 2 different index.
>>
>> How can I do that ?
>
> Hi,
>
> within the same index you can have more than one indexed field.
> Just add your two indexed fields in the same Document object.
>
> Regards.
>
> --
> David Causse
> Spotter
> http://www.spotter.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 13:44:48 2011
Return-Path: <java-user-return-49157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11141 invoked from network); 25 Mar 2011 13:44:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 13:44:48 -0000
Received: (qmail 90920 invoked by uid 500); 25 Mar 2011 13:44:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90874 invoked by uid 500); 25 Mar 2011 13:44:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90866 invoked by uid 99); 25 Mar 2011 13:44:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:44:46 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:44:39 +0000
Received: by qyk2 with SMTP id 2so7100993qyk.14
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 06:44:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=sMAkIkJc+GCbAzevVMGZE5crKcQBc0Z+Mkf5xIU+6P8=;
        b=VOEoSRFGqvNFz8jnYuSWLEzA75KrtvlGpmYElXGqAHUnJcOhv2zoQKLK/zJMcuBLJk
         7w1+643P+8w5rFeIUaieRe5w96vNRjf6Mde7TB0L2vyckDfZODif3FYw0FRwzMB/fugY
         SnNLFFNIl0Bvj5sQSMnfBznMW4Pt8XxPgG6kI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=KDx+C0HI/CHu7kW3JdYkdmt5/UTplYpWcoghEZ/c3wzjeaakCPTPIcURJnQlv1q1dW
         LYVKpVBFOpEObW8nsUvEx9/8zNphcAZ+Wqu/CY4nrYRpwR4O0zXDgN22XSIo7md7KuYn
         x5RilkPuIUrwcH8cMYA92QDVhWzNlQn42AAWE=
MIME-Version: 1.0
Received: by 10.229.123.201 with SMTP id q9mr657940qcr.125.1301060658752; Fri,
 25 Mar 2011 06:44:18 -0700 (PDT)
Received: by 10.229.75.14 with HTTP; Fri, 25 Mar 2011 06:44:18 -0700 (PDT)
In-Reply-To: <20110325133134.GG7580@spotter-dclnx>
References: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com>
	<20110325133134.GG7580@spotter-dclnx>
Date: Fri, 25 Mar 2011 14:44:18 +0100
Message-ID: <AANLkTi=vAPZOrtNv-uj1s+iVjKEX+7UKTf9MxKGFgVj1@mail.gmail.com>
Subject: Re: using 2 different Analyzer for indexing ?
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org, David Causse <dcausse@spotter.com>
Content-Type: multipart/alternative; boundary=000e0cd23e40656f35049f4eca0e
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd23e40656f35049f4eca0e
Content-Type: text/plain; charset=ISO-8859-1

Hi David,

Thank you David for your response.
But given the nature of my data I prefer construct 2 index.

So how can I configure that in the SolrConfig?

Amel.

2011/3/25 David Causse <dcausse@spotter.com>

> On Fri, Mar 25, 2011 at 12:59:44PM +0100, Amel Fraisse wrote:
> > Hello,
> >
> > I would index the same document with 2 different Analyzer.
> > So I have to create 2 different index.
> >
> > How can I do that ?
>
> Hi,
>
> within the same index you can have more than one indexed field.
> Just add your two indexed fields in the same Document object.
>
> Regards.
>
> --
> David Causse
> Spotter
> http://www.spotter.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd23e40656f35049f4eca0e--

From java-user-return-49158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 13:48:53 2011
Return-Path: <java-user-return-49158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43890 invoked from network); 25 Mar 2011 13:48:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 13:48:53 -0000
Received: (qmail 98627 invoked by uid 500); 25 Mar 2011 13:48:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98591 invoked by uid 500); 25 Mar 2011 13:48:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98583 invoked by uid 99); 25 Mar 2011 13:48:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:48:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 13:48:45 +0000
Received: by iym1 with SMTP id 1so704559iym.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 06:48:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=HgY3kUXhiQKeAS05wJE6WMsSL33otRLqXxr5ihV+HCI=;
        b=f3wX02KlTuZXZ7CKO7T8lA2fJwycadSqcaBNq+JdsCXSFP2XYzJM9B/wOUbel4lQ2e
         O/fcRUkGLQihVQF7xLJ9CDFHM5qN+T0FhCMnKhejBr7L6CBhiO2sng6ApYCEauZQwGYV
         LtLDqdPnA6qvZjHVB1m86/w7Ptvc4yIqTYz34=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=gc7xovPHPhDwbpDMoDddlm9/Vzm3Tywgq5CygTSGGHymqLkm7HOI40yvAuax7txshR
         WDwKBmBTDYgY/97gW7ec0Cuesue3qKFJ0RXYmBPu4Yi6o0FD7hiTf0pxSwgE/nycXPAs
         DoUEY7EyC4cWBOSjjz07Ioecv4nPdWedK3dYY=
Received: by 10.231.185.146 with SMTP id co18mr755310ibb.196.1301060904142;
 Fri, 25 Mar 2011 06:48:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 06:48:04 -0700 (PDT)
In-Reply-To: <AANLkTi=vAPZOrtNv-uj1s+iVjKEX+7UKTf9MxKGFgVj1@mail.gmail.com>
References: <AANLkTikV1ywEk1G6mp8=3TBoLgN61tbfxLQdp5ak6yts@mail.gmail.com>
 <20110325133134.GG7580@spotter-dclnx> <AANLkTi=vAPZOrtNv-uj1s+iVjKEX+7UKTf9MxKGFgVj1@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 13:48:04 +0000
Message-ID: <AANLkTi=5ZmJ+a-Ap90yn2R__fdaVxZvSXgrSiZ2xCRZ5@mail.gmail.com>
Subject: Re: using 2 different Analyzer for indexing ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

SolrConfig?  What's that?  Ahh .. solr.  This is the lucene user list.
 Please see http://lucene.apache.org/solr/mailing_lists.html#Users


--
Ian.


On Fri, Mar 25, 2011 at 1:44 PM, Amel Fraisse <amel.fraisse@gmail.com> wrote:
> Hi David,
>
> Thank you David for your response.
> But given the nature of my data I prefer construct 2 index.
>
> So how can I configure that in the SolrConfig?
>
> Amel.
>
> 2011/3/25 David Causse <dcausse@spotter.com>
>
>> On Fri, Mar 25, 2011 at 12:59:44PM +0100, Amel Fraisse wrote:
>> > Hello,
>> >
>> > I would index the same document with 2 different Analyzer.
>> > So I have to create 2 different index.
>> >
>> > How can I do that ?
>>
>> Hi,
>>
>> within the same index you can have more than one indexed field.
>> Just add your two indexed fields in the same Document object.
>>
>> Regards.
>>
>> --
>> David Causse
>> Spotter
>> http://www.spotter.com/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 14:15:11 2011
Return-Path: <java-user-return-49159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13168 invoked from network); 25 Mar 2011 14:15:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 14:15:11 -0000
Received: (qmail 53116 invoked by uid 500); 25 Mar 2011 14:15:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53009 invoked by uid 500); 25 Mar 2011 14:15:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53001 invoked by uid 99); 25 Mar 2011 14:15:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:15:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of deepak.konidena@cornell.edu designates 128.253.83.163 as permitted sender)
Received: from [128.253.83.163] (HELO limestone3.mail.cornell.edu) (128.253.83.163)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:15:00 +0000
X-CornellRouted: This message has been Routed already.
Received: from orchid.mail.cornell.edu (orchid.mail.cornell.edu [132.236.56.61])
	by limestone3.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEEPbH002816;
	Fri, 25 Mar 2011 10:14:29 -0400 (EDT)
Received: from exchange.cornell.edu ([10.16.197.24])
	by orchid.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEEVER005871;
	Fri, 25 Mar 2011 10:14:32 -0400 (EDT)
Received: from mbxa.exchange.cornell.edu ([169.254.1.128]) by
 cashub05.exchange.cornell.edu ([10.16.197.24]) with mapi; Fri, 25 Mar 2011
 10:14:18 -0400
From: Deepak Konidena <deepak.konidena@cornell.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>,
        "sujit.pal@comcast.net" <sujit.pal@comcast.net>
Date: Fri, 25 Mar 2011 10:14:17 -0400
Subject: Re: Searching partial names using Lucene
Thread-Topic: Searching partial names using Lucene
Thread-Index: Acvq9u1xfQyBN2GCTUeEBQVXvIk4IQ==
Message-ID: <C9B21AC3.622%bk392@cornell.edu>
In-Reply-To: <1300996653.14126.58.camel@lysdexic.healthline.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.2.0.101115
acceptlanguage: en-US
x-additional-recipients-added: 2
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
x-cornell-routed: Orchid
x-ph: Cornell Routed
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the detailed response sujit. UIMA, especially looks like an
interesting option.


On 3/24/11 3:57 PM, "Sujit Pal" <sujit.pal@comcast.net> wrote:

>I don't know if there is already an analyzer available for this, but you
>could use GATE or UIMA for Named Entity Extraction against names and
>expand the query to include the extra names that are used synonymously.
>You could do this outside Lucene or inline using a custom Lucene
>tokenizer that embeds either a GATE or UIMA NER.
>
>If you go the custom route (and you are not familiar with GATE or UIMA),
>you may want to take a look at Dr Manu Konchady's book on Lingpipe,
>Lucene and GATE - there is code in there to embed a GATE NER into a
>Lucene tokenizer (although its not a streaming tokenizer due to the
>nature of the NER process). The process would be similar for embedding a
>UIMA NER.
>
>GATE (ANNIE) contains data files that list the common synonyms (eg. Bill
>=3D=3D William, Bob =3D=3D Robert, Tom =3D=3D Thomas, etc) which you can l=
everage
>with GATE's Jape rule language. Alternatively, you could use the same
>data from UIMA using a custom analysis engine (I prefer this route
>because this is all Java, easier learning curve and maintainability).
>
>-sujit
>
>On Thu, 2011-03-24 at 14:31 -0400, Deepak Konidena wrote:
>> Hi,
>>=20
>> I  would like to build a search system where a search for "Dan" would
>>also search for "Daniel" and a search for "Will", "William" . Any ideas
>>on how to go about implementing that? I can think of writing a custom
>>Analyzer that would map these partial tokens to their full firstname or
>>lastnames. But is there an Analyzer in lucene contrib modules or
>>elsewhere that does a similar job for me?
>>=20
>> Thanks,
>> Deepak Konidena.
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 14:16:57 2011
Return-Path: <java-user-return-49160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16938 invoked from network); 25 Mar 2011 14:16:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 14:16:57 -0000
Received: (qmail 55150 invoked by uid 500); 25 Mar 2011 14:16:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55109 invoked by uid 500); 25 Mar 2011 14:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55101 invoked by uid 99); 25 Mar 2011 14:16:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:16:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of deepak.konidena@cornell.edu designates 128.253.83.164 as permitted sender)
Received: from [128.253.83.164] (HELO limestone4.mail.cornell.edu) (128.253.83.164)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:16:46 +0000
X-CornellRouted: This message has been Routed already.
Received: from orchid.mail.cornell.edu (orchid.mail.cornell.edu [132.236.56.61])
	by limestone4.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEGHdp023976
	for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 10:16:21 -0400 (EDT)
Received: from exchange.cornell.edu ([10.16.197.24])
	by orchid.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEGKCY008696
	for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 10:16:20 -0400 (EDT)
Received: from mbxa.exchange.cornell.edu ([169.254.1.128]) by
 cashub05.exchange.cornell.edu ([10.16.197.24]) with mapi; Fri, 25 Mar 2011
 10:16:20 -0400
From: Deepak Konidena <deepak.konidena@cornell.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 25 Mar 2011 10:16:19 -0400
Subject: Re: Searching partial names using Lucene
Thread-Topic: Searching partial names using Lucene
Thread-Index: Acvq9zXG+S1jWfNZTNySMsZgWVYd0A==
Message-ID: <C9B21B92.629%bk392@cornell.edu>
In-Reply-To: <AANLkTikA9VOtrwCfD-P49GgoiKSvw5_R7kCU_qZyoXwH@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.2.0.101115
acceptlanguage: en-US
x-additional-recipients-added: 1
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
x-cornell-routed: Orchid
x-ph: Cornell Routed
X-Virus-Checked: Checked by ClamAV on apache.org


On 3/25/11 5:57 AM, "Ian Lea" <ian.lea@gmail.com> wrote:

>Have you tried stemming?  Simpler and available in core lucene.  Look
>at PorterStemFilter or use your favourite search engine to find more
>info and options.

Ian,

I did try PorterStemFilter and couldn't get the result I wanted. (Dan =3D=
=3D
Daniel, Will =3D=3D William, etc..)
>
>If instead you go the synonym route, there is sample code in Lucene in
>Action and a wordnet contrib module you might find useful.

Thanks, Will take a look at that.
>
>
>--
>Ian.
>
>On Thu, Mar 24, 2011 at 7:57 PM, Sujit Pal <sujit.pal@comcast.net> wrote:
>> I don't know if there is already an analyzer available for this, but you
>> could use GATE or UIMA for Named Entity Extraction against names and
>> expand the query to include the extra names that are used synonymously.
>> You could do this outside Lucene or inline using a custom Lucene
>> tokenizer that embeds either a GATE or UIMA NER.
>>
>> If you go the custom route (and you are not familiar with GATE or UIMA),
>> you may want to take a look at Dr Manu Konchady's book on Lingpipe,
>> Lucene and GATE - there is code in there to embed a GATE NER into a
>> Lucene tokenizer (although its not a streaming tokenizer due to the
>> nature of the NER process). The process would be similar for embedding a
>> UIMA NER.
>>
>> GATE (ANNIE) contains data files that list the common synonyms (eg. Bill
>> =3D=3D William, Bob =3D=3D Robert, Tom =3D=3D Thomas, etc) which you can=
 leverage
>> with GATE's Jape rule language. Alternatively, you could use the same
>> data from UIMA using a custom analysis engine (I prefer this route
>> because this is all Java, easier learning curve and maintainability).
>>
>> -sujit
>>
>> On Thu, 2011-03-24 at 14:31 -0400, Deepak Konidena wrote:
>>> Hi,
>>>
>>> I  would like to build a search system where a search for "Dan" would
>>>also search for "Daniel" and a search for "Will", "William" . Any ideas
>>>on how to go about implementing that? I can think of writing a custom
>>>Analyzer that would map these partial tokens to their full firstname or
>>>lastnames. But is there an Analyzer in lucene contrib modules or
>>>elsewhere that does a similar job for me?
>>>
>>> Thanks,
>>> Deepak Konidena.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 14:19:01 2011
Return-Path: <java-user-return-49161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23255 invoked from network); 25 Mar 2011 14:19:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 14:19:01 -0000
Received: (qmail 64450 invoked by uid 500); 25 Mar 2011 14:18:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64405 invoked by uid 500); 25 Mar 2011 14:18:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64397 invoked by uid 99); 25 Mar 2011 14:18:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:18:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of deepak.konidena@cornell.edu designates 128.253.83.165 as permitted sender)
Received: from [128.253.83.165] (HELO limestone5.mail.cornell.edu) (128.253.83.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:18:52 +0000
X-CornellRouted: This message has been Routed already.
Received: from orchid.mail.cornell.edu (orchid.mail.cornell.edu [132.236.56.61])
	by limestone5.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEIQip013194
	for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 10:18:30 -0400 (EDT)
Received: from exchange.cornell.edu ([10.16.197.27])
	by orchid.mail.cornell.edu (8.14.4/8.14.4) with ESMTP id p2PEIR4r010742
	for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 10:18:27 -0400 (EDT)
Received: from mbxa.exchange.cornell.edu ([169.254.1.128]) by
 cashub08.exchange.cornell.edu ([10.16.197.27]) with mapi; Fri, 25 Mar 2011
 10:18:26 -0400
From: Deepak Konidena <deepak.konidena@cornell.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 25 Mar 2011 10:18:25 -0400
Subject: Re: Using Fuzzysearch with MultiFieldQueryParser
Thread-Topic: Using Fuzzysearch with MultiFieldQueryParser
Thread-Index: Acvq94E7hdRMtxYYTwuOPMgB8qrLPw==
Message-ID: <C9B21C49.630%bk392@cornell.edu>
In-Reply-To: <AANLkTi=SLcaGEeqHO2-pq0pgYcRgZ-dq4DJUmjXhg61u@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.2.0.101115
acceptlanguage: en-US
x-additional-recipients-added: 1
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
x-cornell-routed: Orchid
x-ph: Cornell Routed
X-Virus-Checked: Checked by ClamAV on apache.org

Ian,

I think you're right. Boolean query is what I am looking for.

Thanks.

On 3/25/11 6:04 AM, "Ian Lea" <ian.lea@gmail.com> wrote:

>You'd be better off building a BooleanQuery.
>
>BooleanQuery bq =3D new BooleanQuery();
>bq.add(new TermQuery(...), ...);
>bq.add(new FuzzyQuery(...),. ...);
>etc
>
>See BooleanClause.Occur for options on MUST, SHOULD etc.
>
>
>--
>Ian.
>
>On Thu, Mar 24, 2011 at 5:48 PM, Deepak Konidena
><deepak.konidena@cornell.edu> wrote:
>> Hi,
>>
>> I am using MultiFieldQueryParser with a custom analyzer for parsing
>>search text.
>>
>> Now,  when I say
>>
>> MultiFieldQueryParser qp =3D new MultiFieldQueryParser(Version,  new
>>String[] {"field1", "field2", "field3"}, customAnalyzer);
>> qp.setDefaultOperator(QueryParser.AND_OPERATOR);
>>
>> Query query =3D qp.parse("term1");
>>
>> The query that gets built is
>>
>> field1:term1 field2:term1 field3:term1
>>
>> I am assuming input is treated as a TermQuery and is being searched
>>against the respective fields (field1, field2, field3) in case of single
>>term and in case of multiple search terms, a BooleanQuery with an AND of
>>all the individual TermQueries.
>>
>> Now what if  I want to do something like,
>>
>> Perform a TermQuery on term1 against all the fields, perform a
>>FuzzyQuery on term2, RangeQuery on term3, etc..
>>
>> And finally do an AND on all the terms?
>>
>> Please let me know, if am assuming anything wrong here. My
>>understanding is that to break individual terms to be searched using
>>different queries, I will need to implement a custom QueryParser. If so,
>>how would I start about implementing that?
>>
>>
>> Thanks
>> Deepak Konidena
>>
>>
>>
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 14:23:46 2011
Return-Path: <java-user-return-49162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42763 invoked from network); 25 Mar 2011 14:23:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 14:23:45 -0000
Received: (qmail 75514 invoked by uid 500); 25 Mar 2011 14:23:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75479 invoked by uid 500); 25 Mar 2011 14:23:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75471 invoked by uid 99); 25 Mar 2011 14:23:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:23:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of az.jassal@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:23:37 +0000
Received: by yxd5 with SMTP id 5so605340yxd.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 07:23:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=V0FXPS9pScDcrFi+ibUruL9torMziIBPCVNXg2mo3qA=;
        b=VCycvclnTDiWJm2d9k+dOwHeLo4POJjy5GeuTkaqA8kCO7ZizNoRo0RHXfqbhOrucf
         G9XyzFTDglpoiRQClpNy5+wqTkU4UBK6HuJTP5tXvFsPVqq2T5WDWfdOfWdLR3KM2tXa
         5wF5zNDhTpKQsJ+kBKvCoHpYwDzTqRLhSO+VQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=NL+taNOZxeNLShAZO0Fn6/Fn8Y2hRS2m70FiXGlj0DtNwT+0ZXVdrxpK1UjbF8tVPJ
         KHObbzgQa/vCU44dSmDBkNgXNPA91fvRm29iKtK1+TZIjzJVLPSkOj0oy3TZuLZ722Ge
         7ZsrmWz6TdxZ7OP+FKSqcIgBEDrjl6oh6ksJo=
MIME-Version: 1.0
Received: by 10.236.109.173 with SMTP id s33mr1247471yhg.151.1301062996744;
 Fri, 25 Mar 2011 07:23:16 -0700 (PDT)
Received: by 10.236.109.34 with HTTP; Fri, 25 Mar 2011 07:23:16 -0700 (PDT)
Date: Fri, 25 Mar 2011 14:23:16 +0000
Message-ID: <AANLkTikT67Ek0vS0iq6bShHvdpxygJcMmGk_f_zMcahN@mail.gmail.com>
Subject: Sorting by NumericField not working
From: Azhar Jassal <az.jassal@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf306849c1c07eb7049f4f5585

--20cf306849c1c07eb7049f4f5585
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm trying to sort results by a NumericField but the results do not sort
(still appear in default score order). The NumericField was indexed using
the code below:

NumericField field = new NumericField(name,
NumericUtils.PRECISION_STEP_DEFAULT, Field.Store.YES, false);
field.setIntValue(value);
document.add(field);

The searcher uses the following code to attempt to sort at search:

Sort sortBySize = new Sort(new SortField[] { new SortField("subj",
SortField.INT) });
TopFieldDocs topDocs = searcher.search(tq, null, limit, sortBySize);

Any ideas please? Is this the right method of sorting using a NumericField?

Az

--20cf306849c1c07eb7049f4f5585--

From java-user-return-49163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 25 14:34:45 2011
Return-Path: <java-user-return-49163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93788 invoked from network); 25 Mar 2011 14:34:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Mar 2011 14:34:45 -0000
Received: (qmail 4275 invoked by uid 500); 25 Mar 2011 14:34:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4239 invoked by uid 500); 25 Mar 2011 14:34:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4231 invoked by uid 99); 25 Mar 2011 14:34:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:34:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2011 14:34:35 +0000
Received: by iym1 with SMTP id 1so766663iym.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 07:34:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=pvAOUI66WQXW/J+xHCXkRckgigej+NzeAU1bbbR0+Ug=;
        b=KfCXvc6t4q8MIfCfdxtvG6SGlkO728FwZE+yYRU3gL9NfjUgwEFHFrZzmPU1YbVvVV
         +kLyADTtXmchJqfcEGh9ti0KP6Ma4aNMKplT+1AguVcVOGkr56xjRJQ+JcT5xHLtoiWg
         q//td7bsBgFZwfgSJVgxtHZTs/9kBwJ//03nM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=qMmnMfqYge+bPQcvaZpJhfAIxJNhNgAiSTCIvQ+3AuqiYD3EFfvTnLipjxsJynoaZl
         uHnrvYH/IGZN9JMp0Jf22dCTHfXsNDCIyhNkT+jOUs4Cd8ei2p+P8asq/gJ+IueYf3xq
         l/+JZzrzl9O7y9tUhWEQccCBkBj4rd3MW53j0=
Received: by 10.231.212.154 with SMTP id gs26mr841035ibb.121.1301063654066;
 Fri, 25 Mar 2011 07:34:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Fri, 25 Mar 2011 07:33:54 -0700 (PDT)
In-Reply-To: <AANLkTikT67Ek0vS0iq6bShHvdpxygJcMmGk_f_zMcahN@mail.gmail.com>
References: <AANLkTikT67Ek0vS0iq6bShHvdpxygJcMmGk_f_zMcahN@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 25 Mar 2011 14:33:54 +0000
Message-ID: <AANLkTikAbmEBr_rPnGQ34zmZFvjx1piTJ1khzfLFiSvw@mail.gmail.com>
Subject: Re: Sorting by NumericField not working
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

>From the javadoc for SortField: Fields must be indexed in order to
sort by them.

>From the javadoc for NumericField:

public NumericField(String name,
                    int precisionStep,
                    Field.Store store,
                    boolean index)

--
Ian.

P.S. Read the javadocs!


On Fri, Mar 25, 2011 at 2:23 PM, Azhar Jassal <az.jassal@gmail.com> wrote:
> Hi,
>
> I'm trying to sort results by a NumericField but the results do not sort
> (still appear in default score order). The NumericField was indexed using
> the code below:
>
> NumericField field = new NumericField(name,
> NumericUtils.PRECISION_STEP_DEFAULT, Field.Store.YES, false);
> field.setIntValue(value);
> document.add(field);
>
> The searcher uses the following code to attempt to sort at search:
>
> Sort sortBySize = new Sort(new SortField[] { new SortField("subj",
> SortField.INT) });
> TopFieldDocs topDocs = searcher.search(tq, null, limit, sortBySize);
>
> Any ideas please? Is this the right method of sorting using a NumericField?
>
> Az
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 26 01:26:17 2011
Return-Path: <java-user-return-49164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40456 invoked from network); 26 Mar 2011 01:26:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 26 Mar 2011 01:26:16 -0000
Received: (qmail 75614 invoked by uid 500); 26 Mar 2011 01:26:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75570 invoked by uid 500); 26 Mar 2011 01:26:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75562 invoked by uid 99); 26 Mar 2011 01:26:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 01:26:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shiyuming.shi@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 01:26:08 +0000
Received: by gwj22 with SMTP id 22so860178gwj.35
        for <java-user@lucene.apache.org>; Fri, 25 Mar 2011 18:25:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:date:from:reply-to:to:references:subject
         :message-id:organization:x-mailer:mime-version:content-type;
        bh=YLK+BfYZVNBUT7cHaMVdT/H0lw82Zl1/a1MvYHr7Q80=;
        b=EW/CmfaXmblz7Zi2MsiNlnJRVgTNp6QuUjZf+ymUuasVBOb3tfgfkRhsKb3rePTG6+
         PEmpoVjSs4Ur2L8z1H2om5zmIeVw5J16jD6KN7Q+FiSvXQsoc5qXnUG0jYbygmp7j/X9
         RYZoW2mRZ7w7ax+Cbolb4J2O2V+Yg49Rzaivg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:reply-to:to:references:subject:message-id:organization
         :x-mailer:mime-version:content-type;
        b=NeLj1HNZnJ0blqMQOIa21yIgRVqOw42h5xOMNjV/L6O1Px0HfghKXw1P+THI1Zh9u4
         M8AvTQCJsQF16LodwFOeiYeYlAiKCmncEaJtFVwIlOOC6pXgmv0onLverdDUAzfWnO98
         X7WuJW3raYlt2Z3jbMOd7Rx8xtpitzp6lM1Ic=
Received: by 10.91.202.22 with SMTP id e22mr1513173agq.186.1301102747499;
        Fri, 25 Mar 2011 18:25:47 -0700 (PDT)
Received: from ibm-cf70912fa10 ([123.116.40.154])
        by mx.google.com with ESMTPS id p4sm796835yhm.87.2011.03.25.18.25.44
        (version=SSLv3 cipher=OTHER);
        Fri, 25 Mar 2011 18:25:46 -0700 (PDT)
Date: Sat, 26 Mar 2011 09:25:52 +0800
From: "=?gb2312?B?yq/T8cP3?=" <shiyuming.shi@gmail.com>
Reply-To: shiyuming.shi@Gmail.com
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
References: <AANLkTikT67Ek0vS0iq6bShHvdpxygJcMmGk_f_zMcahN@mail.gmail.com>
Subject: Re: Sorting by NumericField not working
Message-ID: <201103260925493125965@Gmail.com>
Organization: FreeLance
X-mailer: Foxmail 6, 10, 201, 20 [cn]
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====003_Dragon135122662246_====="

--=====003_Dragon135122662246_=====
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

TnVtZXJpY0ZpZWxkIGluY2x1ZGUgaW50IGZsb2F0IGRvdWJsZSAuLi4gYW5kIHNvIG9uLiBidXQg
eW91ciBzb3J0IHVzZXMgU29ydEZpZWxkLmludCAuICBNYXliZSB0aGF0IGlzIHRoZSBrZXkgcG9p
bnQuIA0KLS0gbmV3YmllIG9mIEx1Y2VuZQ0KDQoNCjIwMTEtMDMtMjYgDQoNCg0KDQrKr9Pxw/cg
DQoNCg0KDQq3orz+yMujuiBBemhhciBKYXNzYWwgDQq3osvNyrG85KO6IDIwMTEtMDMtMjUgIDIy
OjIzOjQ2IA0KytW8/sjLo7ogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnIA0Ks63LzaO6IA0K
1vfM4qO6IFNvcnRpbmcgYnkgTnVtZXJpY0ZpZWxkIG5vdCB3b3JraW5nIA0KIA0KSGksDQoNCkkn
bSB0cnlpbmcgdG8gc29ydCByZXN1bHRzIGJ5IGEgTnVtZXJpY0ZpZWxkIGJ1dCB0aGUgcmVzdWx0
cyBkbyBub3Qgc29ydA0KKHN0aWxsIGFwcGVhciBpbiBkZWZhdWx0IHNjb3JlIG9yZGVyKS4gVGhl
IE51bWVyaWNGaWVsZCB3YXMgaW5kZXhlZCB1c2luZw0KdGhlIGNvZGUgYmVsb3c6DQoNCk51bWVy
aWNGaWVsZCBmaWVsZCA9IG5ldyBOdW1lcmljRmllbGQobmFtZSwNCk51bWVyaWNVdGlscy5QUkVD
SVNJT05fU1RFUF9ERUZBVUxULCBGaWVsZC5TdG9yZS5ZRVMsIGZhbHNlKTsNCmZpZWxkLnNldElu
dFZhbHVlKHZhbHVlKTsNCmRvY3VtZW50LmFkZChmaWVsZCk7DQoNClRoZSBzZWFyY2hlciB1c2Vz
IHRoZSBmb2xsb3dpbmcgY29kZSB0byBhdHRlbXB0IHRvIHNvcnQgYXQgc2VhcmNoOg0KDQpTb3J0
IHNvcnRCeVNpemUgPSBuZXcgU29ydChuZXcgU29ydEZpZWxkW10geyBuZXcgU29ydEZpZWxkKCJz
dWJqIiwNClNvcnRGaWVsZC5JTlQpIH0pOw0KVG9wRmllbGREb2NzIHRvcERvY3MgPSBzZWFyY2hl
ci5zZWFyY2godHEsIG51bGwsIGxpbWl0LCBzb3J0QnlTaXplKTsNCg0KQW55IGlkZWFzIHBsZWFz
ZT8gSXMgdGhpcyB0aGUgcmlnaHQgbWV0aG9kIG9mIHNvcnRpbmcgdXNpbmcgYSBOdW1lcmljRmll
bGQ/DQoNCkF6DQo=

--=====003_Dragon135122662246_=====--


From java-user-return-49165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 26 11:19:28 2011
Return-Path: <java-user-return-49165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4827 invoked from network); 26 Mar 2011 11:19:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 26 Mar 2011 11:19:28 -0000
Received: (qmail 40373 invoked by uid 500); 26 Mar 2011 11:19:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40314 invoked by uid 500); 26 Mar 2011 11:19:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40306 invoked by uid 99); 26 Mar 2011 11:19:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 11:19:24 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 11:19:18 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E799545E87C;
	Sat, 26 Mar 2011 12:18:57 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1xf+G73GfJL9; Sat, 26 Mar 2011 12:18:52 +0100 (CET)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id BC99A45E86F;
	Sat, 26 Mar 2011 12:18:51 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>,
	<shiyuming.shi@Gmail.com>
References: <AANLkTikT67Ek0vS0iq6bShHvdpxygJcMmGk_f_zMcahN@mail.gmail.com> <201103260925493125965@Gmail.com>
In-Reply-To: <201103260925493125965@Gmail.com>
Subject: RE: Sorting by NumericField not working
Date: Sat, 26 Mar 2011 12:19:05 +0100
Message-ID: <008601cbeba7$9e5a1280$db0e3780$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQKmFlZmuEVJ/n9iblqcnFy1avAZygLNL79OknS38oA=
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

No, the problem is easy: To sort against a field you have to index it. =
The
field is only stored. Later versions of Lucene will complain, if the =
field
is not indexed (as far as I remember, there was a commit about this). =
But
currently it is sorting against nothing, so it will do the default =
order.

Data types are correct from your code!

Please note: If you want to use the field *only* for sorting, but no =
numeric
range queries, then use Integer.MAX_VALUE as precisionStep, else you =
index
unneeded terms and bloat your index (see JavaDocs for explanation).

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: =CA=AF=D3=F1=C3=F7 [mailto:shiyuming.shi@gmail.com]
> Sent: Saturday, March 26, 2011 2:26 AM
> To: java-user@lucene.apache.org
> Subject: Re: Sorting by NumericField not working
>=20
> NumericField include int float double ... and so on. but your sort =
uses
> SortField.int .  Maybe that is the key point.
> -- newbie of Lucene
>=20
>=20
> 2011-03-26
>=20
>=20
>=20
> =CA=AF=D3=F1=C3=F7
>=20
>=20
>=20
> =B7=A2=BC=FE=C8=CB=A3=BA Azhar Jassal
> =B7=A2=CB=CD=CA=B1=BC=E4=A3=BA 2011-03-25  22:23:46
> =CA=D5=BC=FE=C8=CB=A3=BA java-user@lucene.apache.org
> =B3=AD=CB=CD=A3=BA
> =D6=F7=CC=E2=A3=BA Sorting by NumericField not working
>=20
> Hi,
>=20
> I'm trying to sort results by a NumericField but the results do not =
sort
> (still appear in default score order). The NumericField was indexed =
using
> the code below:
>=20
> NumericField field =3D new NumericField(name,
> NumericUtils.PRECISION_STEP_DEFAULT, Field.Store.YES, false);
> field.setIntValue(value);
> document.add(field);
>=20
> The searcher uses the following code to attempt to sort at search:
>=20
> Sort sortBySize =3D new Sort(new SortField[] { new SortField("subj",
> SortField.INT) });
> TopFieldDocs topDocs =3D searcher.search(tq, null, limit, sortBySize);
>=20
> Any ideas please? Is this the right method of sorting using a
NumericField?
>=20
> Az


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 26 16:00:22 2011
Return-Path: <java-user-return-49166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96349 invoked from network); 26 Mar 2011 16:00:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 26 Mar 2011 16:00:22 -0000
Received: (qmail 49429 invoked by uid 500); 26 Mar 2011 14:58:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49399 invoked by uid 500); 26 Mar 2011 14:58:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49391 invoked by uid 99); 26 Mar 2011 14:58:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 14:58:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 14:58:12 +0000
Received: by fxm7 with SMTP id 7so2610449fxm.35
        for <java-user@lucene.apache.org>; Sat, 26 Mar 2011 07:57:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=eCzejQj471/Nqyic7YmiuzbgXkVtzqlmGngI0/FwoOs=;
        b=mA8PMaha8OBpgn6pNgsKZtHujMNSHySURTTM2pvoDLgYLiYRDJfQMSpBzRwcOcUDH/
         d5Ydpy0lKzDbO3ilUxrrDzG6Z1DrG9DR/6gxFNK1YhG0EvJQPVNvhBXNnqnazZ97Bt12
         TpacDaZb87bz3WP90blaf1oZHdMf0jQJI7uD0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=bkl85suGtep9//vdOFzrOECfJuyRVZfNVitptegOMsCm6s5bfQkTx6mqtoe77tLVCK
         0922R9msquohgEdnpRHxreMEqZFciNDYx9vIupAEQOUtgtb4o3Pxvir3/tS+GITLoxht
         OyIoDOJ6YVLptmm2DORFtFcviyKN3iygjCJPM=
MIME-Version: 1.0
Received: by 10.223.10.141 with SMTP id p13mr2279942fap.109.1301151469508;
 Sat, 26 Mar 2011 07:57:49 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Sat, 26 Mar 2011 07:57:49 -0700 (PDT)
Date: Sat, 26 Mar 2011 15:57:49 +0100
Message-ID: <AANLkTikn35tyOO3Kyxx9sY6zP4CL3vOBAJ2=JLeNaPx0@mail.gmail.com>
Subject: get the cosine similarity measure as output results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174482d0239d90049f63ef39
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174482d0239d90049f63ef39
Content-Type: text/plain; charset=ISO-8859-1

I'm performing several queries and I get scores per each document which I
have been told being not comparable across queries.

For example, if I get score: 8.234234 for a specific document from a query
A, I cannot compare such score with the document score: 3.342432 of the
query B.

However I need to find a comparable score across queries, and more
specifically the cosine similarity... as similarity measure between my query
document and the documents in the collection.

could you give me some tip about it ?
thanks

--0015174482d0239d90049f63ef39--

From java-user-return-49167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 26 16:17:28 2011
Return-Path: <java-user-return-49167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58013 invoked from network); 26 Mar 2011 16:17:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 26 Mar 2011 16:17:28 -0000
Received: (qmail 91335 invoked by uid 500); 26 Mar 2011 16:17:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91298 invoked by uid 500); 26 Mar 2011 16:17:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91290 invoked by uid 99); 26 Mar 2011 16:17:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 16:17:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2011 16:17:20 +0000
Received: by fxm7 with SMTP id 7so2652464fxm.35
        for <java-user@lucene.apache.org>; Sat, 26 Mar 2011 09:16:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=BMaRi/yQ/8Czs4LZ6fAPd+Lk2Zi0l5NXbKlz8gPe08g=;
        b=m1rDX5cNWv417ke7IsPFZFvuBaQesGLEcFHplkFBwaI/LOUgk1+xKi1lg6wTgSG79h
         ZjKCs78mVfuRoPyo/7IXP/s8YowC7BLi/zSCoPav1PZ+VNMzBVo7hx+XCNBM5Wslc/fZ
         UJC+1aSIRf8ltPWVd6S7ITI5yHzAAzuZF1lUU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=l35NiQ5HYTN87L3muBAJhCpwFlkChIIpYmIOAl0LqfPTOiSUR/x9uvMJtOc9IlCOKw
         k/sDZoTdFs90jRGWuYJylUzDdzSG32171exvfASYI8+rag1e2nOfFI5QLGfaIK3ipYMa
         Oss8IoNb36J984T7QChByeXEXIj04N7atqSxs=
MIME-Version: 1.0
Received: by 10.223.127.210 with SMTP id h18mr2338393fas.71.1301156218111;
 Sat, 26 Mar 2011 09:16:58 -0700 (PDT)
Received: by 10.223.121.193 with HTTP; Sat, 26 Mar 2011 09:16:58 -0700 (PDT)
In-Reply-To: <AANLkTikn35tyOO3Kyxx9sY6zP4CL3vOBAJ2=JLeNaPx0@mail.gmail.com>
References: <AANLkTikn35tyOO3Kyxx9sY6zP4CL3vOBAJ2=JLeNaPx0@mail.gmail.com>
Date: Sat, 26 Mar 2011 17:16:58 +0100
Message-ID: <AANLkTikdAGX6EUzVN969nUiDtOuHtUXKuv2+HUFJH-1q@mail.gmail.com>
Subject: Re: get the cosine similarity measure as output results ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0023545309702d8f1e049f650abb

--0023545309702d8f1e049f650abb
Content-Type: text/plain; charset=ISO-8859-1

Update:

I actually don't understand why if the scores are substantially the cosine
similarity between query and the docs, such scores are not comparable
between queries.

Isn't cosine similarity describing the divergence between vectors ? If I
have vector A and B (my queries) and vector C (a doc), can't I say which
vector is more similar to vector C by considering the score ? In other
words, can't I compare the scores ?

I'm asking this because I've been told I cannot compare the score of a query
with the score of another one.

Furthermore, my queries are docs from the collection: I compare 1 doc from
the Collection against all other docs.

I need some more info about this...
thanks



On 26 March 2011 15:57, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> I'm performing several queries and I get scores per each document which I
> have been told being not comparable across queries.
>
> For example, if I get score: 8.234234 for a specific document from a query
> A, I cannot compare such score with the document score: 3.342432 of the
> query B.
>
> However I need to find a comparable score across queries, and more
> specifically the cosine similarity... as similarity measure between my query
> document and the documents in the collection.
>
> could you give me some tip about it ?
> thanks
>

--0023545309702d8f1e049f650abb--

From java-user-return-49168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 27 02:50:50 2011
Return-Path: <java-user-return-49168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90922 invoked from network); 27 Mar 2011 02:50:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Mar 2011 02:50:50 -0000
Received: (qmail 56196 invoked by uid 500); 27 Mar 2011 02:50:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55448 invoked by uid 500); 27 Mar 2011 02:50:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55440 invoked by uid 99); 27 Mar 2011 02:50:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2011 02:50:46 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FILL_THIS_FORM_SHORT,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mentatseb@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2011 02:50:42 +0000
Received: by vxa37 with SMTP id 37so1734379vxa.35
        for <java-user@lucene.apache.org>; Sat, 26 Mar 2011 19:50:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:date:x-google-sender-auth
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=sdG0SBc/o0YBFaOrlbNE2DJyeVKOMGbUOjh5vmH5xVw=;
        b=jkUmtBreIbG4RCYjBeNRMFebIte/gvXU6N5ZdTR1/ZOVvdqRdbu2vK1HtrmN5mMfRL
         MqAlwz6PD1B/lEn4ZQFott+O6hikv4RkWlcJmzNpykVwQf+d9LT/VsbPDIFYiwDPIosc
         2PMtwOp3ortZ9GmysF9Ke6rtk8RuGr0psYIPw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        b=Bfxai1onNEad9NAHqb/PawEG61rwqeNbx366Q9DUDOlmuhhghlEj/ykknT7J+LCnQY
         rQRY6cGsAapEI4hd/d4Lqahb67xx2flf0vi+rQkvTsP1Hh9v4AoLD82yqlCIlOxoc395
         FqVt7dLp+0VOs+Rwu0aEIl7GdLW3PWsZ68/7M=
MIME-Version: 1.0
Received: by 10.52.68.175 with SMTP id x15mr3450856vdt.163.1301194220336; Sat,
 26 Mar 2011 19:50:20 -0700 (PDT)
Sender: mentatseb@gmail.com
Received: by 10.220.186.13 with HTTP; Sat, 26 Mar 2011 19:50:20 -0700 (PDT)
Date: Sat, 26 Mar 2011 22:50:20 -0400
X-Google-Sender-Auth: D7orpgl1LSYxShbkkung5-NusjQ
Message-ID: <AANLkTim_yf3BL-xmwPDDpQ62NS2V5XTsSNJfniNhUHQa@mail.gmail.com>
Subject: Google Summer of Code proposal with Lucene
From: =?UTF-8?Q?S=C3=A9bastien_Heymann?= <sebastien.heymann@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi all,

Gephi organization (http://gephi.org), open-source graph visualization
plaform is looking for students application about integrating Lucene
to Gephi.

If you look around you, you may notice that networks are everywhere.
For instance, social networks, relationships among people or computer
networks, links between computers. Transportations routes, power
grids, emails networks or the relations between scientific papers are
other examples of networks. The ability to analyze, manipulate and
represent a network is a key-feature for solving difficult problems
and boost knowledge discovery in many disciplines.

You may already know how Google SoC works, basically a student will
receive payment ($5,000) for working on a mentoring open-source
projects.


Short version of the Lucene Proposal:

Networks are generally associated with data. Considering a social
network, people have attributes like age, gender, country and more
subtle info.

In Gephi, attributes are all the data related to nodes and edges and
are organized in a row-column system. Columns could be any type like
String or Double and rows are elements (nodes or edges). The current
system is entirely loaded into memory and obviously becomes very large
when manipulating large graphs with many attributes.
The aim is to use Lucene to store attributes on the disk and index
them in order to be searchable. The system should have a well-designed
cache system to handle heavy read access on some elements. Though the
need is not as critical as the graph structure, several features in
Gephi need in-memory attributes to work properly.

Gephi will sponsor the purchrase of a Lucene book if necessary.

More info:
http://wiki.gephi.org/index.php/Google_Summer_Of_Code_2011#Indexed_Attribut=
es_API_using_Lucene

Instructions to apply:
http://gephi.org/2011/google-summer-of-code-2011/

Quick demonstration video:
http://vimeo.com/9726202

I'm interested with comments about feasability of this project and so on ;)

Best Regards,
S=C3=A9bastien Heymann

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 27 21:16:25 2011
Return-Path: <java-user-return-49169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58557 invoked from network); 27 Mar 2011 21:16:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Mar 2011 21:16:25 -0000
Received: (qmail 37776 invoked by uid 500); 27 Mar 2011 21:16:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37710 invoked by uid 500); 27 Mar 2011 21:16:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37702 invoked by uid 99); 27 Mar 2011 21:16:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2011 21:16:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hari.zlatan@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2011 21:16:15 +0000
Received: by iwr19 with SMTP id 19so4199825iwr.35
        for <java-user@lucene.apache.org>; Sun, 27 Mar 2011 14:15:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=LUBYlVwqUz9rh5qVVtuQcHSNP/z+HX5X+Xow/1ZdIEI=;
        b=Y+doNWGLoTiJXiO9RZiCGInmrk5gr8Zm10UisXYMRz/jduYU7ZQYKG8c6NsgJM4Ozj
         jUCx/5TVWY8q0cUZTK4Nqxp3wFGrp5RRYyks+AAnj3Ff7Dft5cQIDFYtR5HL6lUgiyWP
         srRDlv5UzTxtvl+RAeiEH/ekW20ZYirAZLesc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=cd9P9WEFD3x/nSo5mQJ5J4sXfetBK1HOLu8KUCPUYk8yZRGMnloin/s0C48BDwOz8q
         MHhR9t1F1YsoXF2j3Tn+3BlGkXQgfuZjG7yXsZIvmQ2CxeK1AwF3ISlupMVROXFxYc1P
         GYefxOfbj6ryElg0Qr4FJ9yz5WwfUoyF2r/X4=
MIME-Version: 1.0
Received: by 10.231.17.75 with SMTP id r11mr3373284iba.4.1301260554133; Sun,
 27 Mar 2011 14:15:54 -0700 (PDT)
Received: by 10.231.190.146 with HTTP; Sun, 27 Mar 2011 14:15:54 -0700 (PDT)
Date: Sun, 27 Mar 2011 17:15:54 -0400
Message-ID: <AANLkTikuV0hO-Kx3eWZmb-aZw8mD1xR6bGC-t0=d7xVr@mail.gmail.com>
Subject: Using Lucene with an existing dataset
From: hari narayanan <hari.zlatan@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002215046df716e5b3049f7d555c
X-Virus-Checked: Checked by ClamAV on apache.org

--002215046df716e5b3049f7d555c
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I am completely new to Lucene... I would like to implement a searching
algorithm called GBRank and test it using Lucene on an existing dataset ...
Is it possible ? I dont know how to go about this. Can anyone give me
directions on how to proceed?

Thanks,
Hari

--002215046df716e5b3049f7d555c--

From java-user-return-49170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 27 21:55:06 2011
Return-Path: <java-user-return-49170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91872 invoked from network); 27 Mar 2011 21:55:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Mar 2011 21:55:06 -0000
Received: (qmail 68926 invoked by uid 500); 27 Mar 2011 21:55:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68887 invoked by uid 500); 27 Mar 2011 21:55:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68879 invoked by uid 99); 27 Mar 2011 21:55:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2011 21:55:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [98.139.91.204] (HELO nm5-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 27 Mar 2011 21:54:54 +0000
Received: from [98.139.91.61] by nm5.bullet.mail.sp2.yahoo.com with NNFMP; 27 Mar 2011 21:54:33 -0000
Received: from [98.139.91.25] by tm1.bullet.mail.sp2.yahoo.com with NNFMP; 27 Mar 2011 21:54:33 -0000
Received: from [127.0.0.1] by omp1025.mail.sp2.yahoo.com with NNFMP; 27 Mar 2011 21:54:33 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 808277.5253.bm@omp1025.mail.sp2.yahoo.com
Received: (qmail 11528 invoked by uid 60001); 27 Mar 2011 21:54:33 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1301262873; bh=3l7cDFCrK5gm5IfaUGZGztOekA7e7bPF7OoQdOa8/ZY=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=qZ64CXoaGXbJEygvEu0Q+bKGahxzOeE9hibAgnPMgiPa6pjTgIUa31ShiM2xzAPQVy1666o4LlrL14csWMicAujK4ur2hRwY2TLgBoux+lynTvilj86Yn/FoBzxLNS5FXahXhZ5ZL8SroXh+yTQDiOJWCgk2BX68naQWchCUoWk=
Message-ID: <563952.9572.qm@web1107.biz.mail.sk1.yahoo.com>
X-YMail-OSG: c9kRGhwVM1kj72ZiCXt6AvQZyb59zwD_7XEo.XyeGh6tiTW
 rUA0VHVlnBQEL5NhO6d18Wrz_bu7dM.ZRHVWtc4nBemeQv59didmsvkwDI4X
 Q57oQjQXV5cI6xtXsbTApikYMFNbog4e.Nyi8Rbtue02Hkk3GBPKKPpLnmrt
 NKknFyxlrirPyc08m0ptdi_ZyVLQEuDfO4NwsCQRxetobc4abQSAnOUxMovG
 N6Aplog8BkBuBtebJhiP60KnOQ0ESrmnx81KAXKjpLiihrLMTDlxTTzFPJxb
 Bo5lUSe2TCUHL7CXZ.Sw3Ez1p18PQe9CMIRcM3UBgG4wL88pfPdGlFbLiHEN
 .kG1PpoMm1FiFsAnweAuv
Received: from [24.4.150.172] by web1107.biz.mail.sk1.yahoo.com via HTTP; Sun, 27 Mar 2011 14:54:33 PDT
X-Mailer: YahooMailRC/559 YahooMailWebService/0.8.109.295617
References: <AANLkTikuV0hO-Kx3eWZmb-aZw8mD1xR6bGC-t0=d7xVr@mail.gmail.com>
Date: Sun, 27 Mar 2011 14:54:33 -0700 (PDT)
From: Vijay Raj <vijayraj@sargasdata.com>
Subject: Re: Using Lucene with an existing dataset
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikuV0hO-Kx3eWZmb-aZw8mD1xR6bGC-t0=d7xVr@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Check out the similarity implementation here 
- http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/Similarity.html ,
 to start thinking about custom ranking algorithms. 

You can open a IndexSearcher and set the similarity herewith -
http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/search/Searcher.html#setSimilarity(org.apache.lucene.search.Similarity) . 

 

--
  Vijay



----- Original Message ----
> From: hari narayanan <hari.zlatan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Sun, March 27, 2011 2:15:54 PM
> Subject: Using Lucene with an existing dataset
> 
> Hello,
> 
> I am completely new to Lucene... I would like to implement a  searching
> algorithm called GBRank and test it using Lucene on an existing  dataset ...
> Is it possible ? I dont know how to go about this. Can anyone  give me
> directions on how to proceed?
> 
> Thanks,
> Hari
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:04:37 2011
Return-Path: <java-user-return-49171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88166 invoked from network); 28 Mar 2011 07:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:04:36 -0000
Received: (qmail 25081 invoked by uid 500); 28 Mar 2011 07:04:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24830 invoked by uid 500); 28 Mar 2011 07:04:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24822 invoked by uid 99); 28 Mar 2011 07:04:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:04:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:04:10 +0000
Received: by fxm7 with SMTP id 7so3580108fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 00:03:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=VziqMGnLz0prIq6X8d3g4PqU13fSfChkEUli6hz2wIM=;
        b=tqXhHG5lLtttnigbbv1P1Cg266D32eCUR3coQt0LuyyK4n/qpeZ3S81/FLsmJvoEbP
         bYVYbI4I5eMPaFNKoI197GBmlD2JXDFyy9XuRBCLOfIP1hdF6MW43thNTlHr6/StG5qV
         RjNRBRwOqJGgQMh/ekZHlWEBw1SWy2uwK6ilE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=rDj6MwYYD7IK50Gh2rFm5XmDvGt6okPbbVoJAN43bkxFA1s2WK1V1P4mDco2eeH4JH
         C77Nxj9cBrflkcbg3f9aUfoU6B3pUJaR2FzVlgMwUArQ+4+9YHBsI9pkSGMCIoNr/dkN
         LCnixNDqbF32UdB9blPLLO37074oPLtoSrL68=
MIME-Version: 1.0
Received: by 10.223.127.213 with SMTP id h21mr3973790fas.139.1301295830024;
 Mon, 28 Mar 2011 00:03:50 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 00:03:50 -0700 (PDT)
Date: Mon, 28 Mar 2011 09:03:50 +0200
Message-ID: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
Subject: file formats: MacRoman and UTF-8...
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354530ebcb24242049f858bc3
X-Virus-Checked: Checked by ClamAV on apache.org

--002354530ebcb24242049f858bc3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

When I run my Lucene app and a parse a xml file I get the following error
due to some fonts such as "=E9" written in the text file.

If I save the text file as UTF-8 with my text editor I don't have this
issue, but when I create it with a java app, it is saved as MacRoman.

How can I specify a different format with Java instead ?

thanks

[CODE]Exception in thread "main"
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException:
Invalid byte 1 of 1-byte UTF-8 sequence.
at
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8Reade=
r.java:684)
at
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.java:=
554)
at
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScan=
ner.java:1742)
at
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XMLEntity=
Scanner.java:1416)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$Frag=
mentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2792)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocu=
mentScannerImpl.java:648)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scan=
Document(XMLDocumentFragmentScannerImpl.java:511)
at
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Co=
nfiguration.java:808)
at
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Co=
nfiguration.java:737)
at
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:1=
19)
at
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstract=
SAXParser.java:1205)
at
com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(S=
AXParserImpl.java:522)
at org.apache.commons.digester.Digester.parse(Digester.java:1871)
at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]

--002354530ebcb24242049f858bc3--

From java-user-return-49172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:14:28 2011
Return-Path: <java-user-return-49172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97843 invoked from network); 28 Mar 2011 07:14:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:14:28 -0000
Received: (qmail 32700 invoked by uid 500); 28 Mar 2011 07:14:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32558 invoked by uid 500); 28 Mar 2011 07:14:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32548 invoked by uid 99); 28 Mar 2011 07:14:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:14:20 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.126.187] (HELO moutng.kundenserver.de) (212.227.126.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:14:12 +0000
Received: from ip-2-205-215-79.web.vodafone.de (ip-2-205-215-79.web.vodafone.de [2.205.215.79])
	by mrelayeu.kundenserver.de (node=mrbap1) with ESMTP (Nemesis)
	id 0LwGGE-1Puv0y0nkM-0180Cc; Mon, 28 Mar 2011 09:13:50 +0200
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: file formats: MacRoman and UTF-8...
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
Date: Mon, 28 Mar 2011 09:13:46 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:0l3eZB9wFkb1J/zRDJ1ROY7FupE5LznT9YmaIRHB01u
 +dMZ3dp2B0Ma45sB51PcmlRKsceMvGLzckh4dbgCciDzzPJ6Ux
 tc6UW27vHpH5xXb8Z9RSpcr7PQpsj2j7L96k1b/48a1V9Epl5Y
 ns0FIEl1jQ/BBzt4if8cqjS8i2+ay9QUKyh6XWe90ku28mKDNT
 I+QYP4qM+KmJMJIjpdyH4SQ1OiUqTjo7Lb34tLRA8s=

java -Dfile.encoding=3Dutf-8
should do the trick.

Or... which java app are you using?

paul


Le 28 mars 2011 =E0 09:03, Patrick Diviacco a =E9crit :

> When I run my Lucene app and a parse a xml file I get the following =
error
> due to some fonts such as "=E9" written in the text file.
>=20
> If I save the text file as UTF-8 with my text editor I don't have this
> issue, but when I create it with a java app, it is saved as MacRoman.
>=20
> How can I specify a different format with Java instead ?
>=20
> thanks
>=20
> [CODE]Exception in thread "main"
> =
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException:=

> Invalid byte 1 of 1-byte UTF-8 sequence.
> at
> =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8Read=
er.java:684)
> at
> =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.java=
:554)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntitySca=
nner.java:1742)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XMLEntit=
yScanner.java:1416)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$Fra=
gmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2792)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDoc=
umentScannerImpl.java:648)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.sca=
nDocument(XMLDocumentFragmentScannerImpl.java:511)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11C=
onfiguration.java:808)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11C=
onfiguration.java:737)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:=
119)
> at
> =
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstrac=
tSAXParser.java:1205)
> at
> =
com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(=
SAXParserImpl.java:522)
> at org.apache.commons.digester.Digester.parse(Digester.java:1871)
> at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:16:28 2011
Return-Path: <java-user-return-49173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3200 invoked from network); 28 Mar 2011 07:16:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:16:28 -0000
Received: (qmail 35020 invoked by uid 500); 28 Mar 2011 07:16:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34861 invoked by uid 500); 28 Mar 2011 07:16:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34853 invoked by uid 99); 28 Mar 2011 07:16:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:16:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:16:17 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 3673945E524
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 09:15:57 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GUHo1upMDKVB for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 09:15:52 +0200 (CEST)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 0163A45E214
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 09:15:51 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
In-Reply-To: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
Subject: RE: file formats: MacRoman and UTF-8...
Date: Mon, 28 Mar 2011 09:15:52 +0200
Message-ID: <010401cbed17$f91b55a0$eb5200e0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLxrfhO3GOlQsM64nyeqITsNOdIRpH206kg
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

You have to give the Charset when creating the Writer. If you give no
charset, Java uses the platform default. This question has nothing to do
with Lucene, it is better suited at an XML  or JAVA general forum.

Uwe
-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 9:04 AM
> To: java-user@lucene.apache.org
> Subject: file formats: MacRoman and UTF-8...
>=20
> When I run my Lucene app and a parse a xml file I get the following =
error
due
> to some fonts such as "=E9" written in the text file.
>=20
> If I save the text file as UTF-8 with my text editor I don't have this
issue, but
> when I create it with a java app, it is saved as MacRoman.
>=20
> How can I specify a different format with Java instead ?
>=20
> thanks
>=20
> [CODE]Exception in thread "main"
> =
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceExcepti
> on:
> Invalid byte 1 of 1-byte UTF-8 sequence.
> at
> =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8Re
> ader.java:684)
> at
> =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.ja
> va:554)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityS
> canner.java:1742)
> at
> =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XMLEn
> tityScanner.java:1416)
> at
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> pl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2
> 792)
> at
> com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(X
> MLDocumentScannerImpl.java:648)
> at
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> pl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML
> 11Configuration.java:808)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML
> 11Configuration.java:737)
> at
> =
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.jav
> a:119)
> at
> =
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstra=

> ctSAXParser.java:1205)
> at
> =
com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.par
> se(SAXParserImpl.java:522)
> at org.apache.commons.digester.Digester.parse(Digester.java:1871)
> at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:17:09 2011
Return-Path: <java-user-return-49174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6005 invoked from network); 28 Mar 2011 07:17:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:17:08 -0000
Received: (qmail 37129 invoked by uid 500); 28 Mar 2011 07:17:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37029 invoked by uid 500); 28 Mar 2011 07:17:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37021 invoked by uid 99); 28 Mar 2011 07:17:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:17:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:16:59 +0000
Received: by fxm7 with SMTP id 7so3587575fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 00:16:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=prSjFTApyQgYlN/QUabVEaB5Ku76cGu+eFKlzvETOZ0=;
        b=g0bQU+ktcVDrNUO/XHLx7FETZzfBCghv4crDPEF4ZEEu5f6BO+qotq8Hq5ubmOlsGR
         duI3zDCjXd/2ogYRv5IyHh+Rgc7kaY2YosXXb/8VajK8u+6CajUfvjNSL6A+hylWh7wJ
         C45NRhPh//qyVdmeSlVTfH2ZTkxeP+sTzO6Jo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=uVedv2hk76eMDeZI9SCYVlycMC/PqRdsv1lSXS9oSJLZ1TWcZTG++syR9B7Ge1ZypX
         r6UhpdaH8Na6NpcVp1dAt6vafgqZyk5W3rsvDZRuL1r0zXQZ0e6BOC5iAdIHiT1ZfN8Z
         rS4ShQ0aTzInLMSTP6ZepoGb+C+Vpc6hOVXRA=
MIME-Version: 1.0
Received: by 10.223.86.2 with SMTP id q2mr4034164fal.120.1301296599064; Mon,
 28 Mar 2011 00:16:39 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 00:16:39 -0700 (PDT)
In-Reply-To: <9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
	<9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
Date: Mon, 28 Mar 2011 09:16:39 +0200
Message-ID: <AANLkTin_zQ-j_9czYodh1wM7Zz8Ne_9=8n9a6V9-bNHi@mail.gmail.com>
Subject: Re: file formats: MacRoman and UTF-8...
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30433ee888e585049f85b974
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf30433ee888e585049f85b974
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

hi, I'm using my own code:



Writer writer =3D null;

try {
//File fileOutput =3D new File("output.trectext");
File fileOutput =3D new File(args[1]);
writer =3D new BufferedWriter(new FileWriter(fileOutput));
writer.write(contents.toString());
} catch (FileNotFoundException e) {
e.printStackTrace();
} catch (IOException e) {
e.printStackTrace();
} finally {
try {
if (writer !=3D null) {
writer.close();
}
} catch (IOException e) {
e.printStackTrace();
}
}





On 28 March 2011 09:13, Paul Libbrecht <paul@hoplahup.net> wrote:

> java -Dfile.encoding=3Dutf-8
> should do the trick.
>
> Or... which java app are you using?
>
> paul
>
>
> Le 28 mars 2011 =E0 09:03, Patrick Diviacco a =E9crit :
>
> > When I run my Lucene app and a parse a xml file I get the following err=
or
> > due to some fonts such as "=E9" written in the text file.
> >
> > If I save the text file as UTF-8 with my text editor I don't have this
> > issue, but when I create it with a java app, it is saved as MacRoman.
> >
> > How can I specify a different format with Java instead ?
> >
> > thanks
> >
> > [CODE]Exception in thread "main"
> >
> com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException=
:
> > Invalid byte 1 of 1-byte UTF-8 sequence.
> > at
> >
> com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8Rea=
der.java:684)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.jav=
a:554)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntitySc=
anner.java:1742)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XMLEnti=
tyScanner.java:1416)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$Fr=
agmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2792)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDo=
cumentScannerImpl.java:648)
> > at
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.sc=
anDocument(XMLDocumentFragmentScannerImpl.java:511)
> > at
> >
> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11=
Configuration.java:808)
> > at
> >
> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11=
Configuration.java:737)
> > at
> >
> com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java=
:119)
> > at
> >
> com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abstra=
ctSAXParser.java:1205)
> > at
> >
> com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse=
(SAXParserImpl.java:522)
> > at org.apache.commons.digester.Digester.parse(Digester.java:1871)
> > at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf30433ee888e585049f85b974--

From java-user-return-49175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:31:15 2011
Return-Path: <java-user-return-49175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54645 invoked from network); 28 Mar 2011 07:31:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:31:15 -0000
Received: (qmail 53573 invoked by uid 500); 28 Mar 2011 07:31:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53539 invoked by uid 500); 28 Mar 2011 07:31:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53531 invoked by uid 99); 28 Mar 2011 07:31:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:31:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:31:07 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 1981345E611
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 09:30:45 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id queUAW7DNFy3 for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 09:30:39 +0200 (CEST)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 09E7945E524
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 09:30:38 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>	<9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net> <AANLkTin_zQ-j_9czYodh1wM7Zz8Ne_9=8n9a6V9-bNHi@mail.gmail.com>
In-Reply-To: <AANLkTin_zQ-j_9czYodh1wM7Zz8Ne_9=8n9a6V9-bNHi@mail.gmail.com>
Subject: RE: file formats: MacRoman and UTF-8...
Date: Mon, 28 Mar 2011 09:30:39 +0200
Message-ID: <010b01cbed1a$09c66280$1d532780$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLxrfhO3GOlQsM64nyeqITsNOdIRgKAfosJAbTRmMCR1S0LAA==
Content-Language: de

Hi,

Replace the "stupid":
writer =3D new BufferedWriter(new FileWriter(fileOutput));

by:
writer =3D new BufferedWriter(new OutputStreamWriter(new
FileOutputStream(fileOutput), "UTF-8"));

Unfortunately, you cannot give a charset to FileWriter itself.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 9:17 AM
> To: java-user@lucene.apache.org
> Subject: Re: file formats: MacRoman and UTF-8...
>=20
> hi, I'm using my own code:
>=20
>=20
>=20
> Writer writer =3D null;
>=20
> try {
> //File fileOutput =3D new File("output.trectext"); File fileOutput =3D =
new
> File(args[1]); writer =3D new BufferedWriter(new =
FileWriter(fileOutput));
> writer.write(contents.toString());
> } catch (FileNotFoundException e) {
> e.printStackTrace();
> } catch (IOException e) {
> e.printStackTrace();
> } finally {
> try {
> if (writer !=3D null) {
> writer.close();
> }
> } catch (IOException e) {
> e.printStackTrace();
> }
> }
>=20
>=20
>=20
>=20
>=20
> On 28 March 2011 09:13, Paul Libbrecht <paul@hoplahup.net> wrote:
>=20
> > java -Dfile.encoding=3Dutf-8
> > should do the trick.
> >
> > Or... which java app are you using?
> >
> > paul
> >
> >
> > Le 28 mars 2011 =E0 09:03, Patrick Diviacco a =E9crit :
> >
> > > When I run my Lucene app and a parse a xml file I get the =
following
> > > error due to some fonts such as "=E9" written in the text file.
> > >
> > > If I save the text file as UTF-8 with my text editor I don't have
> > > this issue, but when I create it with a java app, it is saved as
MacRoman.
> > >
> > > How can I specify a different format with Java instead ?
> > >
> > > thanks
> > >
> > > [CODE]Exception in thread "main"
> > >
> >
> =
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceExcepti
> on:
> > > Invalid byte 1 of 1-byte UTF-8 sequence.
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8
> > Reader.java:684)
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.
> > java:554)
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntit
> > yScanner.java:1742)
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XMLE
> > ntityScanner.java:1416)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> pl
> >
> $FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:279
> 2)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(X
> M
> > LDocumentScannerImpl.java:648)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> pl
> > .scanDocument(XMLDocumentFragmentScannerImpl.java:511)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XM
> > L11Configuration.java:808)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XM
> > L11Configuration.java:737)
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.j
> > ava:119)
> > > at
> > >
> > =
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Abs
> > tractSAXParser.java:1205)
> > > at
> > >
> >
> com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.pa
> > rse(SAXParserImpl.java:522)
> > > at org.apache.commons.digester.Digester.parse(Digester.java:1871)
> > > at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:35:58 2011
Return-Path: <java-user-return-49176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87811 invoked from network); 28 Mar 2011 07:35:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:35:58 -0000
Received: (qmail 60764 invoked by uid 500); 28 Mar 2011 07:35:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60642 invoked by uid 500); 28 Mar 2011 07:35:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60634 invoked by uid 99); 28 Mar 2011 07:35:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:35:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:35:49 +0000
Received: by fxm7 with SMTP id 7so3599598fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 00:35:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=KLIHKXDsdzx3GTg1ZRmRHwGomWMxDfR/FJ7fMHgFGUU=;
        b=PiEtwgTrekAshlozFyFIEWKmArC4s1Jx0Ur2XK3Bo6hNTLKiXJurr36397aw8qsorj
         SUUo8dL5U28iviAoMpGby27+W0Ah+1rOt6fV7eHjq5Yw1d4yuLhcbBkQ00Dx/E8wvmGd
         K8bJLAWJWnBDUJYDi50ilBbw6JzNyoeXSxr+E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=mhTI8Z18kcsNz5Zh13X2bnnxiE9X8cjPCgM5yeLvnJUyfAXAF0Vk21ZiokJ5EEvAJ5
         MiaRNnSTzIlpqbaedjYDJoqblVQm8ATUmJViV+mH98fSWpnZjnlC5mv88Cu9pNIkHiuG
         op0XuJXAhNYOdSc2q6uLV+8mKh2tep6DD385I=
MIME-Version: 1.0
Received: by 10.223.6.11 with SMTP id 11mr4058404fax.101.1301297729138; Mon,
 28 Mar 2011 00:35:29 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 00:35:29 -0700 (PDT)
In-Reply-To: <010b01cbed1a$09c66280$1d532780$@thetaphi.de>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
	<9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
	<AANLkTin_zQ-j_9czYodh1wM7Zz8Ne_9=8n9a6V9-bNHi@mail.gmail.com>
	<010b01cbed1a$09c66280$1d532780$@thetaphi.de>
Date: Mon, 28 Mar 2011 09:35:29 +0200
Message-ID: <AANLkTik_ai_eBD1soXwxokyB-dajXU9xKuwus0SXJu9P@mail.gmail.com>
Subject: Re: file formats: MacRoman and UTF-8...
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747849ee472e6049f85fcf3
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747849ee472e6049f85fcf3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

thanks, solved

On 28 March 2011 09:30, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> Replace the "stupid":
> writer =3D new BufferedWriter(new FileWriter(fileOutput));
>
> by:
> writer =3D new BufferedWriter(new OutputStreamWriter(new
> FileOutputStream(fileOutput), "UTF-8"));
>
> Unfortunately, you cannot give a charset to FileWriter itself.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Monday, March 28, 2011 9:17 AM
> > To: java-user@lucene.apache.org
> > Subject: Re: file formats: MacRoman and UTF-8...
> >
> > hi, I'm using my own code:
> >
> >
> >
> > Writer writer =3D null;
> >
> > try {
> > //File fileOutput =3D new File("output.trectext"); File fileOutput =3D =
new
> > File(args[1]); writer =3D new BufferedWriter(new FileWriter(fileOutput)=
);
> > writer.write(contents.toString());
> > } catch (FileNotFoundException e) {
> > e.printStackTrace();
> > } catch (IOException e) {
> > e.printStackTrace();
> > } finally {
> > try {
> > if (writer !=3D null) {
> > writer.close();
> > }
> > } catch (IOException e) {
> > e.printStackTrace();
> > }
> > }
> >
> >
> >
> >
> >
> > On 28 March 2011 09:13, Paul Libbrecht <paul@hoplahup.net> wrote:
> >
> > > java -Dfile.encoding=3Dutf-8
> > > should do the trick.
> > >
> > > Or... which java app are you using?
> > >
> > > paul
> > >
> > >
> > > Le 28 mars 2011 =E0 09:03, Patrick Diviacco a =E9crit :
> > >
> > > > When I run my Lucene app and a parse a xml file I get the following
> > > > error due to some fonts such as "=E9" written in the text file.
> > > >
> > > > If I save the text file as UTF-8 with my text editor I don't have
> > > > this issue, but when I create it with a java app, it is saved as
> MacRoman.
> > > >
> > > > How can I specify a different format with Java instead ?
> > > >
> > > > thanks
> > > >
> > > > [CODE]Exception in thread "main"
> > > >
> > >
> > com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceExcepti
> > on:
> > > > Invalid byte 1 of 1-byte UTF-8 sequence.
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF=
8
> > > Reader.java:684)
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader=
.
> > > java:554)
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEnti=
t
> > > yScanner.java:1742)
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipChar(XML=
E
> > > ntityScanner.java:1416)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> > pl
> > >
> > $FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:279
> > 2)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(X
> > M
> > > LDocumentScannerImpl.java:648)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerIm
> > pl
> > > .scanDocument(XMLDocumentFragmentScannerImpl.java:511)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XM
> > > L11Configuration.java:808)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XM
> > > L11Configuration.java:737)
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.=
j
> > > ava:119)
> > > > at
> > > >
> > > com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Ab=
s
> > > tractSAXParser.java:1205)
> > > > at
> > > >
> > >
> > com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.pa
> > > rse(SAXParserImpl.java:522)
> > > > at org.apache.commons.digester.Digester.parse(Digester.java:1871)
> > > > at CollectionIndexer.main(CollectionIndexer.java:111)[/CODE]
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00151747849ee472e6049f85fcf3--

From java-user-return-49177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 07:44:17 2011
Return-Path: <java-user-return-49177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90352 invoked from network); 28 Mar 2011 07:44:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 07:44:17 -0000
Received: (qmail 78966 invoked by uid 500); 28 Mar 2011 07:44:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78922 invoked by uid 500); 28 Mar 2011 07:44:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78914 invoked by uid 99); 28 Mar 2011 07:44:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:44:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 07:44:08 +0000
Received: by fxm7 with SMTP id 7so3604893fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 00:43:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=7+w/9iXkDNup1bBd3JKxCg/Pt8GDgSj13+MaNyfPGr8=;
        b=Xcps3m6fVK6qpuMtEMQuKOFL43z7tH5zms/kQpP8b+XCZ4HjS1GuzVyIb9DW2ihRj5
         OSRyAGg+/h5JYK25zchj2AzS+4tYIdUr7OhGQYzkNoKHOumnoJkt0nYH3NsQiYNFQLUY
         tAiw07rH2EqSa0M98sENEeff12f6HFlf72Ij0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=L+Ai0nhE2BrXjl6nEeEacnfGIvdHXcbx5qLNeN/StPLRZYK+UVTZkBkqacvm9JEkke
         ky9v3NY4yXj3EvilAdkyY/UneNgcreYwmRSkVzf5Eho4Zhh8ZgbDehYn3575TJfsowNL
         bBWaM+T0IYX2Vyu6Ckdd8GHFhIKJidqUyN34s=
MIME-Version: 1.0
Received: by 10.223.63.212 with SMTP id c20mr4076070fai.63.1301298227303; Mon,
 28 Mar 2011 00:43:47 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 00:43:47 -0700 (PDT)
Date: Mon, 28 Mar 2011 09:43:47 +0200
Message-ID: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
Subject: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747582895e046049f861a69

--00151747582895e046049f861a69
Content-Type: text/plain; charset=ISO-8859-1

Hi,

sorry I've already asked few days ago, but I got no reply and I really need
some help on this..

I'm running several queries against a doc collection. The queries are
documents of the collection itself, I need to measure how similar is each
document to the rest of the collection.

Now, Lucene returns me a score per query, but I've been told such score is
not comparable across queries. Is this correct ?

For example, arem't these scores comparable ?
query1, score:8.324234
query2, score:3.324238

If so, why not ? Isn't the cosine similarity between the query vector and
collection docs vectors ? I really need a comparable measure.

thanks

--00151747582895e046049f861a69--

From java-user-return-49178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 08:04:28 2011
Return-Path: <java-user-return-49178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78126 invoked from network); 28 Mar 2011 08:04:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 08:04:27 -0000
Received: (qmail 6197 invoked by uid 500); 28 Mar 2011 08:04:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6167 invoked by uid 500); 28 Mar 2011 08:04:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6159 invoked by uid 99); 28 Mar 2011 08:04:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:04:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:04:18 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 1875945E6DF
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 10:03:58 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id moC69gv0XYmC for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 10:03:53 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id E6B9345E611
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 10:03:52 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
In-Reply-To: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
Subject: RE: comparing lucene scores across queries
Date: Mon, 28 Mar 2011 10:03:52 +0200
Message-ID: <011801cbed1e$ae127c80$0a377580$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQMGr4W2v5dTGKUR4i7wWeBvnTMJ9ZHM29qQ
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

No, scores are in general not comparable between different queries. The
problem lies in many things:
- Each query has a norm factor that makes it more compareable if they are
sub clauses of a BooleanQuery. But you are right, this norm factor should be
the same. 
- Some queries like FuzzyQuery rely on the terms in index and those matches
the query
- Inside Boolean queries, there is also a coord-factor involved

If you are always using the same simple type of query (e.g. simple
TermQuery, only with different term) on the same index, you can compare the
scores. As soon as you are using complex queries (e.g several terms compared
in a BooleanQuery as QueryParser produces), the scores are no longer
comparable.

You can read more on all factors that are included in scoring:
http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/search/Simila
rity.html

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 9:44 AM
> To: java-user@lucene.apache.org
> Subject: comparing lucene scores across queries
> 
> Hi,
> 
> sorry I've already asked few days ago, but I got no reply and I really
need
> some help on this..
> 
> I'm running several queries against a doc collection. The queries are
> documents of the collection itself, I need to measure how similar is each
> document to the rest of the collection.
> 
> Now, Lucene returns me a score per query, but I've been told such score is
> not comparable across queries. Is this correct ?
> 
> For example, arem't these scores comparable ?
> query1, score:8.324234
> query2, score:3.324238
> 
> If so, why not ? Isn't the cosine similarity between the query vector and
> collection docs vectors ? I really need a comparable measure.
> 
> thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 08:09:31 2011
Return-Path: <java-user-return-49179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89946 invoked from network); 28 Mar 2011 08:09:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 08:09:31 -0000
Received: (qmail 13146 invoked by uid 500); 28 Mar 2011 08:09:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13086 invoked by uid 500); 28 Mar 2011 08:09:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13078 invoked by uid 99); 28 Mar 2011 08:09:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:09:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:09:24 +0000
Received: by fxm7 with SMTP id 7so3621556fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 01:09:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=RLgqIJ9laGLGtEC+0eWTpWHXQG3H0I/8jBwRcRDXA74=;
        b=sYsusFf2CIsH6sYMmrqMBDwFWtb2ipVGOh6l2QiL4si1o47mI+NcDdFry9k8849IPB
         DAZb6GLv1gCus2xFQdpRkzb6TdNe26QKLM4FCRNK6woRkE3Eal72XRPOtaOxbcW0a6Ld
         tAee12lcUO+PtKyor47W/zaXlkAxUse5VeRN4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=OFHBl8/PtUjjXXlJECKMPn1SMdpIQ0SrGHyKEOv0XLA7NdN7JrsRilWgt/bLGtleNu
         s6ggudfJ/YbPXl/8hTVqzblor6nE00WMr+rjOb+HYgwzW9AQbnRyUpzupO0U//k6Vhn2
         MUAjgF7AiSso/o0pJsGB+C0q5QXizhc7oRnQ8=
MIME-Version: 1.0
Received: by 10.223.13.197 with SMTP id d5mr4108954faa.6.1301299739543; Mon,
 28 Mar 2011 01:08:59 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 01:08:59 -0700 (PDT)
In-Reply-To: <011801cbed1e$ae127c80$0a377580$@thetaphi.de>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
Date: Mon, 28 Mar 2011 10:08:59 +0200
Message-ID: <AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174766a0b8c776049f867495

--0015174766a0b8c776049f867495
Content-Type: text/plain; charset=ISO-8859-1

Hi, thanks for reply.

Yeah, I've read the Similarity class documentation several times, but I need
some tip.

My queries are BooleanQueries but they always have the same structure (the
same structure of the docs, they are actually docs from collection): 3
fields.

What if I simplify the similarity scores, by removing coord factor and just
leaving the cosine similarity which is comparable ?

I want to underline the fact that my boolean queries are just a combination
of "field:term" items, and I always have the same 3 fields with different
terms obviously.

Thanks




On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:

> No, scores are in general not comparable between different queries. The
> problem lies in many things:
> - Each query has a norm factor that makes it more compareable if they are
> sub clauses of a BooleanQuery. But you are right, this norm factor should
> be
> the same.
> - Some queries like FuzzyQuery rely on the terms in index and those matches
> the query
> - Inside Boolean queries, there is also a coord-factor involved
>
> If you are always using the same simple type of query (e.g. simple
> TermQuery, only with different term) on the same index, you can compare the
> scores. As soon as you are using complex queries (e.g several terms
> compared
> in a BooleanQuery as QueryParser produces), the scores are no longer
> comparable.
>
> You can read more on all factors that are included in scoring:
>
> http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/search/Simila
> rity.html
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Monday, March 28, 2011 9:44 AM
> > To: java-user@lucene.apache.org
> > Subject: comparing lucene scores across queries
> >
> > Hi,
> >
> > sorry I've already asked few days ago, but I got no reply and I really
> need
> > some help on this..
> >
> > I'm running several queries against a doc collection. The queries are
> > documents of the collection itself, I need to measure how similar is each
> > document to the rest of the collection.
> >
> > Now, Lucene returns me a score per query, but I've been told such score
> is
> > not comparable across queries. Is this correct ?
> >
> > For example, arem't these scores comparable ?
> > query1, score:8.324234
> > query2, score:3.324238
> >
> > If so, why not ? Isn't the cosine similarity between the query vector and
> > collection docs vectors ? I really need a comparable measure.
> >
> > thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015174766a0b8c776049f867495--

From java-user-return-49180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 08:12:18 2011
Return-Path: <java-user-return-49180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90528 invoked from network); 28 Mar 2011 08:12:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 08:12:18 -0000
Received: (qmail 17372 invoked by uid 500); 28 Mar 2011 08:12:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17310 invoked by uid 500); 28 Mar 2011 08:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17302 invoked by uid 99); 28 Mar 2011 08:12:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:12:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:12:08 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E113745E6DF
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 10:11:47 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JUStN2H83TcH for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 10:11:42 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id A9F5F45E524
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 10:11:42 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>	<011801cbed1e$ae127c80$0a377580$@thetaphi.de> <AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
In-Reply-To: <AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
Subject: RE: comparing lucene scores across queries
Date: Mon, 28 Mar 2011 10:11:42 +0200
Message-ID: <011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQMGr4W2v5dTGKUR4i7wWeBvnTMJ9QIfCp+RAbaFMueRrjO24A==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Patrick,

You can disable the coord factor in the constructor of BooleanQuery.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 10:09 AM
> To: java-user@lucene.apache.org
> Subject: Re: comparing lucene scores across queries
> 
> Hi, thanks for reply.
> 
> Yeah, I've read the Similarity class documentation several times, but I
need
> some tip.
> 
> My queries are BooleanQueries but they always have the same structure
> (the same structure of the docs, they are actually docs from collection):
3
> fields.
> 
> What if I simplify the similarity scores, by removing coord factor and
just
> leaving the cosine similarity which is comparable ?
> 
> I want to underline the fact that my boolean queries are just a
combination
> of "field:term" items, and I always have the same 3 fields with different
> terms obviously.
> 
> Thanks
> 
> 
> 
> 
> On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > No, scores are in general not comparable between different queries.
> > The problem lies in many things:
> > - Each query has a norm factor that makes it more compareable if they
> > are sub clauses of a BooleanQuery. But you are right, this norm factor
> > should be the same.
> > - Some queries like FuzzyQuery rely on the terms in index and those
> > matches the query
> > - Inside Boolean queries, there is also a coord-factor involved
> >
> > If you are always using the same simple type of query (e.g. simple
> > TermQuery, only with different term) on the same index, you can
> > compare the scores. As soon as you are using complex queries (e.g
> > several terms compared in a BooleanQuery as QueryParser produces), the
> > scores are no longer comparable.
> >
> > You can read more on all factors that are included in scoring:
> >
> >
> http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/search/
> > Simila
> > rity.html
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> > > -----Original Message-----
> > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Monday, March 28, 2011 9:44 AM
> > > To: java-user@lucene.apache.org
> > > Subject: comparing lucene scores across queries
> > >
> > > Hi,
> > >
> > > sorry I've already asked few days ago, but I got no reply and I
> > > really
> > need
> > > some help on this..
> > >
> > > I'm running several queries against a doc collection. The queries
> > > are documents of the collection itself, I need to measure how
> > > similar is each document to the rest of the collection.
> > >
> > > Now, Lucene returns me a score per query, but I've been told such
> > > score
> > is
> > > not comparable across queries. Is this correct ?
> > >
> > > For example, arem't these scores comparable ?
> > > query1, score:8.324234
> > > query2, score:3.324238
> > >
> > > If so, why not ? Isn't the cosine similarity between the query
> > > vector and collection docs vectors ? I really need a comparable
measure.
> > >
> > > thanks
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 08:36:19 2011
Return-Path: <java-user-return-49181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82643 invoked from network); 28 Mar 2011 08:36:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 08:36:19 -0000
Received: (qmail 44913 invoked by uid 500); 28 Mar 2011 08:36:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44850 invoked by uid 500); 28 Mar 2011 08:36:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44842 invoked by uid 99); 28 Mar 2011 08:36:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:36:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:36:10 +0000
Received: by fxm7 with SMTP id 7so3639415fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 01:35:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=oErXeK5zN0HIgBay6//M+4e2YGFU2ME1kfcsib8QY5A=;
        b=i+3dfkGRVlYx4QCEV9xPc28chc+zzOXK8w8DGyqMFeaZfyt6qiQCg5C5OTAqES+Tbh
         68XnrJHUBYHZf2UyVeokuAXS0OtCrnnw15FK3fApkED0+oELitYGFRmlCdVWug0uNdj0
         88arXne5P4bgQMPuUrVwKqPaOgRgLGIbpxnL8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=En+Dpyh8/zG1zUOOcAGNa9KL5D57vgzFJXXn1wbCqpFbyKYguOy0jK07Hppk+BzRaG
         giH41wzOUM4I68w3cWz/ukbMA85rhGfzC5U2+8qGDhQmbljmuSf30S5I4BntH6iP+kZs
         dtxElxTXn9TlzNwIZufb3qSCebbavrcEN9T9w=
MIME-Version: 1.0
Received: by 10.223.127.213 with SMTP id h21mr4066371fas.139.1301301349877;
 Mon, 28 Mar 2011 01:35:49 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 01:35:49 -0700 (PDT)
In-Reply-To: <011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
Date: Mon, 28 Mar 2011 10:35:49 +0200
Message-ID: <AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354530ebcb4872d049f86d4bc
X-Virus-Checked: Checked by ClamAV on apache.org

--002354530ebcb4872d049f86d4bc
Content-Type: text/plain; charset=ISO-8859-1

Cool, so just to be sure, if I disable the coord factor I can finally
compare my BooleanQuery results ?



On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi Patrick,
>
> You can disable the coord factor in the constructor of BooleanQuery.
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Monday, March 28, 2011 10:09 AM
> > To: java-user@lucene.apache.org
> > Subject: Re: comparing lucene scores across queries
> >
> > Hi, thanks for reply.
> >
> > Yeah, I've read the Similarity class documentation several times, but I
> need
> > some tip.
> >
> > My queries are BooleanQueries but they always have the same structure
> > (the same structure of the docs, they are actually docs from collection):
> 3
> > fields.
> >
> > What if I simplify the similarity scores, by removing coord factor and
> just
> > leaving the cosine similarity which is comparable ?
> >
> > I want to underline the fact that my boolean queries are just a
> combination
> > of "field:term" items, and I always have the same 3 fields with different
> > terms obviously.
> >
> > Thanks
> >
> >
> >
> >
> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> >
> > > No, scores are in general not comparable between different queries.
> > > The problem lies in many things:
> > > - Each query has a norm factor that makes it more compareable if they
> > > are sub clauses of a BooleanQuery. But you are right, this norm factor
> > > should be the same.
> > > - Some queries like FuzzyQuery rely on the terms in index and those
> > > matches the query
> > > - Inside Boolean queries, there is also a coord-factor involved
> > >
> > > If you are always using the same simple type of query (e.g. simple
> > > TermQuery, only with different term) on the same index, you can
> > > compare the scores. As soon as you are using complex queries (e.g
> > > several terms compared in a BooleanQuery as QueryParser produces), the
> > > scores are no longer comparable.
> > >
> > > You can read more on all factors that are included in scoring:
> > >
> > >
> > http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/search/
> > > Simila
> > > rity.html
> > >
> > > -----
> > > Uwe Schindler
> > > H.-H.-Meier-Allee 63, D-28213 Bremen
> > > http://www.thetaphi.de
> > > eMail: uwe@thetaphi.de
> > >
> > >
> > > > -----Original Message-----
> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > Sent: Monday, March 28, 2011 9:44 AM
> > > > To: java-user@lucene.apache.org
> > > > Subject: comparing lucene scores across queries
> > > >
> > > > Hi,
> > > >
> > > > sorry I've already asked few days ago, but I got no reply and I
> > > > really
> > > need
> > > > some help on this..
> > > >
> > > > I'm running several queries against a doc collection. The queries
> > > > are documents of the collection itself, I need to measure how
> > > > similar is each document to the rest of the collection.
> > > >
> > > > Now, Lucene returns me a score per query, but I've been told such
> > > > score
> > > is
> > > > not comparable across queries. Is this correct ?
> > > >
> > > > For example, arem't these scores comparable ?
> > > > query1, score:8.324234
> > > > query2, score:3.324238
> > > >
> > > > If so, why not ? Isn't the cosine similarity between the query
> > > > vector and collection docs vectors ? I really need a comparable
> measure.
> > > >
> > > > thanks
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--002354530ebcb4872d049f86d4bc--

From java-user-return-49182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 08:49:11 2011
Return-Path: <java-user-return-49182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23439 invoked from network); 28 Mar 2011 08:49:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 08:49:10 -0000
Received: (qmail 53674 invoked by uid 500); 28 Mar 2011 08:49:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53637 invoked by uid 500); 28 Mar 2011 08:49:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53629 invoked by uid 99); 28 Mar 2011 08:49:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:49:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 08:49:03 +0000
Received: by fxm7 with SMTP id 7so3647906fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 01:48:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=xcg9SzNPAzwKoMKdO459ETC3i66+wNE/yLhbcuCaxRw=;
        b=UwYRgPE9WEoLdO7wnyznlpD3O5Cgu0GvfX0b7Ov20Vkh46ws2jwbNJGBcyfQ87mF0J
         33En4R3raokdrbmlefUhKyZ4KXfuHHewRWNQL5gbGx+76HSFvqQjMIn9hAJDsepuaaYP
         Z9v4xBkmGGIlahUyQxXvf0G42JBdFIT0JJo80=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vFtntvf2SaPi5aa3I8pHPVqx4qv47HwtYT+RHZlZwo4qhvjJ+mQH6JTTt3cHYfqtKB
         U2cqrwBcvqzMmVAb5DIvujLl57nlCTr91Wfx4QB0oeeKRAKjNF5hOIkoNn8/cbrwJMQM
         Kix7KSdKS8qIxPA0SMv8faLqYMwjwozwR7/os=
MIME-Version: 1.0
Received: by 10.223.1.73 with SMTP id 9mr4204742fae.44.1301302121894; Mon, 28
 Mar 2011 01:48:41 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 01:48:41 -0700 (PDT)
In-Reply-To: <AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
Date: Mon, 28 Mar 2011 10:48:41 +0200
Message-ID: <AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a899b892e8049f870242

--20cf3054a899b892e8049f870242
Content-Type: text/plain; charset=ISO-8859-1

One more thing, instead of extending the BooleanQuery class to remove the
coord factor, can I also extend the Similarity class to do it ?

Still the other question is open: just to be sure, if I disable the coord
factor I can finally compare my BooleanQuery results ?

thanks

>
>
>
> On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:
>
>> Hi Patrick,
>>
>> You can disable the coord factor in the constructor of BooleanQuery.
>>
>> Uwe
>>
>> -----
>> Uwe Schindler
>> H.-H.-Meier-Allee 63, D-28213 Bremen
>> http://www.thetaphi.de
>> eMail: uwe@thetaphi.de
>>
>>
>> > -----Original Message-----
>> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > Sent: Monday, March 28, 2011 10:09 AM
>> > To: java-user@lucene.apache.org
>> > Subject: Re: comparing lucene scores across queries
>> >
>> > Hi, thanks for reply.
>> >
>> > Yeah, I've read the Similarity class documentation several times, but I
>> need
>> > some tip.
>> >
>> > My queries are BooleanQueries but they always have the same structure
>> > (the same structure of the docs, they are actually docs from
>> collection):
>> 3
>> > fields.
>> >
>> > What if I simplify the similarity scores, by removing coord factor and
>> just
>> > leaving the cosine similarity which is comparable ?
>> >
>> > I want to underline the fact that my boolean queries are just a
>> combination
>> > of "field:term" items, and I always have the same 3 fields with
>> different
>> > terms obviously.
>> >
>> > Thanks
>> >
>> >
>> >
>> >
>> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
>> >
>> > > No, scores are in general not comparable between different queries.
>> > > The problem lies in many things:
>> > > - Each query has a norm factor that makes it more compareable if they
>> > > are sub clauses of a BooleanQuery. But you are right, this norm factor
>> > > should be the same.
>> > > - Some queries like FuzzyQuery rely on the terms in index and those
>> > > matches the query
>> > > - Inside Boolean queries, there is also a coord-factor involved
>> > >
>> > > If you are always using the same simple type of query (e.g. simple
>> > > TermQuery, only with different term) on the same index, you can
>> > > compare the scores. As soon as you are using complex queries (e.g
>> > > several terms compared in a BooleanQuery as QueryParser produces), the
>> > > scores are no longer comparable.
>> > >
>> > > You can read more on all factors that are included in scoring:
>> > >
>> > >
>> > http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/search/
>> > > Simila
>> > > rity.html
>> > >
>> > > -----
>> > > Uwe Schindler
>> > > H.-H.-Meier-Allee 63, D-28213 Bremen
>> > > http://www.thetaphi.de
>> > > eMail: uwe@thetaphi.de
>> > >
>> > >
>> > > > -----Original Message-----
>> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > > > Sent: Monday, March 28, 2011 9:44 AM
>> > > > To: java-user@lucene.apache.org
>> > > > Subject: comparing lucene scores across queries
>> > > >
>> > > > Hi,
>> > > >
>> > > > sorry I've already asked few days ago, but I got no reply and I
>> > > > really
>> > > need
>> > > > some help on this..
>> > > >
>> > > > I'm running several queries against a doc collection. The queries
>> > > > are documents of the collection itself, I need to measure how
>> > > > similar is each document to the rest of the collection.
>> > > >
>> > > > Now, Lucene returns me a score per query, but I've been told such
>> > > > score
>> > > is
>> > > > not comparable across queries. Is this correct ?
>> > > >
>> > > > For example, arem't these scores comparable ?
>> > > > query1, score:8.324234
>> > > > query2, score:3.324238
>> > > >
>> > > > If so, why not ? Isn't the cosine similarity between the query
>> > > > vector and collection docs vectors ? I really need a comparable
>> measure.
>> > > >
>> > > > thanks
>> > >
>> > >
>> > > ---------------------------------------------------------------------
>> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > > For additional commands, e-mail: java-user-help@lucene.apache.org
>> > >
>> > >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

--20cf3054a899b892e8049f870242--

From java-user-return-49183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 09:36:50 2011
Return-Path: <java-user-return-49183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78136 invoked from network); 28 Mar 2011 09:36:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 09:36:50 -0000
Received: (qmail 542 invoked by uid 500); 28 Mar 2011 09:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 498 invoked by uid 500); 28 Mar 2011 09:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 490 invoked by uid 99); 28 Mar 2011 09:36:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:36:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:36:41 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id F265745E8E1
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 11:36:19 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gZsgV-r8i2sU for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 11:36:14 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id A768145E89E
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 11:36:14 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com> <AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
In-Reply-To: <AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
Subject: RE: comparing lucene scores across queries
Date: Mon, 28 Mar 2011 11:36:14 +0200
Message-ID: <013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQMGr4W2v5dTGKUR4i7wWeBvnTMJ9QIfCp+RAbaFMucBP5NwlwJSFd/4ApeVR7yRfQDHAA==
Content-Language: de

Hi,

You don't need to extend BooleanQuery, you can just pass "true" in its ctor,
see: http://s.apache.org/QvK 
Of course you can also subclass DefaultSimilarity and return 1 as coord, but
that is more work than passing true to a ctor.

For your type of queries, disabling coord should be enough, but I am not
100% sure! Why not simply try it out?

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 10:49 AM
> To: java-user@lucene.apache.org
> Subject: Re: comparing lucene scores across queries
> 
> One more thing, instead of extending the BooleanQuery class to remove the
> coord factor, can I also extend the Similarity class to do it ?
> 
> Still the other question is open: just to be sure, if I disable the coord
factor I
> can finally compare my BooleanQuery results ?
> 
> thanks
> 
> >
> >
> >
> > On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:
> >
> >> Hi Patrick,
> >>
> >> You can disable the coord factor in the constructor of BooleanQuery.
> >>
> >> Uwe
> >>
> >> -----
> >> Uwe Schindler
> >> H.-H.-Meier-Allee 63, D-28213 Bremen
> >> http://www.thetaphi.de
> >> eMail: uwe@thetaphi.de
> >>
> >>
> >> > -----Original Message-----
> >> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> >> > Sent: Monday, March 28, 2011 10:09 AM
> >> > To: java-user@lucene.apache.org
> >> > Subject: Re: comparing lucene scores across queries
> >> >
> >> > Hi, thanks for reply.
> >> >
> >> > Yeah, I've read the Similarity class documentation several times,
> >> > but I
> >> need
> >> > some tip.
> >> >
> >> > My queries are BooleanQueries but they always have the same
> >> > structure (the same structure of the docs, they are actually docs
> >> > from
> >> collection):
> >> 3
> >> > fields.
> >> >
> >> > What if I simplify the similarity scores, by removing coord factor
> >> > and
> >> just
> >> > leaving the cosine similarity which is comparable ?
> >> >
> >> > I want to underline the fact that my boolean queries are just a
> >> combination
> >> > of "field:term" items, and I always have the same 3 fields with
> >> different
> >> > terms obviously.
> >> >
> >> > Thanks
> >> >
> >> >
> >> >
> >> >
> >> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> >> >
> >> > > No, scores are in general not comparable between different queries.
> >> > > The problem lies in many things:
> >> > > - Each query has a norm factor that makes it more compareable if
> >> > > they are sub clauses of a BooleanQuery. But you are right, this
> >> > > norm factor should be the same.
> >> > > - Some queries like FuzzyQuery rely on the terms in index and
> >> > > those matches the query
> >> > > - Inside Boolean queries, there is also a coord-factor involved
> >> > >
> >> > > If you are always using the same simple type of query (e.g.
> >> > > simple TermQuery, only with different term) on the same index,
> >> > > you can compare the scores. As soon as you are using complex
> >> > > queries (e.g several terms compared in a BooleanQuery as
> >> > > QueryParser produces), the scores are no longer comparable.
> >> > >
> >> > > You can read more on all factors that are included in scoring:
> >> > >
> >> > >
> >> >
> http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/sear
> >> > ch/
> >> > > Simila
> >> > > rity.html
> >> > >
> >> > > -----
> >> > > Uwe Schindler
> >> > > H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> >> > > eMail: uwe@thetaphi.de
> >> > >
> >> > >
> >> > > > -----Original Message-----
> >> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> >> > > > Sent: Monday, March 28, 2011 9:44 AM
> >> > > > To: java-user@lucene.apache.org
> >> > > > Subject: comparing lucene scores across queries
> >> > > >
> >> > > > Hi,
> >> > > >
> >> > > > sorry I've already asked few days ago, but I got no reply and I
> >> > > > really
> >> > > need
> >> > > > some help on this..
> >> > > >
> >> > > > I'm running several queries against a doc collection. The queries
> >> > > > are documents of the collection itself, I need to measure how
> >> > > > similar is each document to the rest of the collection.
> >> > > >
> >> > > > Now, Lucene returns me a score per query, but I've been told such
> >> > > > score
> >> > > is
> >> > > > not comparable across queries. Is this correct ?
> >> > > >
> >> > > > For example, arem't these scores comparable ?
> >> > > > query1, score:8.324234
> >> > > > query2, score:3.324238
> >> > > >
> >> > > > If so, why not ? Isn't the cosine similarity between the query
> >> > > > vector and collection docs vectors ? I really need a comparable
> >> measure.
> >> > > >
> >> > > > thanks
> >> > >
> >> > >
> >> > >
---------------------------------------------------------------------
> >> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> >> > >
> >> > >
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 09:39:15 2011
Return-Path: <java-user-return-49184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79851 invoked from network); 28 Mar 2011 09:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 09:39:14 -0000
Received: (qmail 6115 invoked by uid 500); 28 Mar 2011 09:39:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6072 invoked by uid 500); 28 Mar 2011 09:39:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6064 invoked by uid 99); 28 Mar 2011 09:39:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:39:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:39:07 +0000
Received: by fxm7 with SMTP id 7so3683772fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 02:38:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=7Z6FdSSABrAqAh9DA4uGYx7jELflmHUvFtaVb/bZVzY=;
        b=U5MlpvlsUXZBAZH0EOj56W0SF3RU9wS5Q0w23tZjYZl0WVGHwLJEymjIUf1Bl2A9oH
         BJg93I9lIZMc2cBGrI0+1/hRChDh+W6G25UYOwVtctvAFzpA0GeZsh9KluqNDOB29eQf
         9RAOeosuIBMJABk2v9t4Y4eiWPDGrOinxKZfg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fXR676jsFlWSMeLCHJiufsf6d668sgbGZFxIlknG79jf6Cxqzz+Ad+uJPlfK2IcHjs
         YTJAIiui+ZYef1tvxuqvolg7UNmAcjLZa/BpvBqIArnY7+Jz4wuav2by06foZJf9CKdF
         poKgjeykJuclUICDjH50TNkYLE0iMvxd42q1Q=
MIME-Version: 1.0
Received: by 10.223.63.212 with SMTP id c20mr4195604fai.63.1301305124912; Mon,
 28 Mar 2011 02:38:44 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 02:38:44 -0700 (PDT)
In-Reply-To: <013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
Date: Mon, 28 Mar 2011 11:38:44 +0200
Message-ID: <AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517475828b6fee6049f87b53a

--001517475828b6fee6049f87b53a
Content-Type: text/plain; charset=ISO-8859-1

ok thanks, I will pass well I dunno how to verify it. Even if I try then I
get some scores, but I dunno if comparing them is reliable.


On 28 March 2011 11:36, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> You don't need to extend BooleanQuery, you can just pass "true" in its
> ctor,
> see: http://s.apache.org/QvK
> Of course you can also subclass DefaultSimilarity and return 1 as coord,
> but
> that is more work than passing true to a ctor.
>
> For your type of queries, disabling coord should be enough, but I am not
> 100% sure! Why not simply try it out?
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Monday, March 28, 2011 10:49 AM
> > To: java-user@lucene.apache.org
> > Subject: Re: comparing lucene scores across queries
> >
> > One more thing, instead of extending the BooleanQuery class to remove the
> > coord factor, can I also extend the Similarity class to do it ?
> >
> > Still the other question is open: just to be sure, if I disable the coord
> factor I
> > can finally compare my BooleanQuery results ?
> >
> > thanks
> >
> > >
> > >
> > >
> > > On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:
> > >
> > >> Hi Patrick,
> > >>
> > >> You can disable the coord factor in the constructor of BooleanQuery.
> > >>
> > >> Uwe
> > >>
> > >> -----
> > >> Uwe Schindler
> > >> H.-H.-Meier-Allee 63, D-28213 Bremen
> > >> http://www.thetaphi.de
> > >> eMail: uwe@thetaphi.de
> > >>
> > >>
> > >> > -----Original Message-----
> > >> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > >> > Sent: Monday, March 28, 2011 10:09 AM
> > >> > To: java-user@lucene.apache.org
> > >> > Subject: Re: comparing lucene scores across queries
> > >> >
> > >> > Hi, thanks for reply.
> > >> >
> > >> > Yeah, I've read the Similarity class documentation several times,
> > >> > but I
> > >> need
> > >> > some tip.
> > >> >
> > >> > My queries are BooleanQueries but they always have the same
> > >> > structure (the same structure of the docs, they are actually docs
> > >> > from
> > >> collection):
> > >> 3
> > >> > fields.
> > >> >
> > >> > What if I simplify the similarity scores, by removing coord factor
> > >> > and
> > >> just
> > >> > leaving the cosine similarity which is comparable ?
> > >> >
> > >> > I want to underline the fact that my boolean queries are just a
> > >> combination
> > >> > of "field:term" items, and I always have the same 3 fields with
> > >> different
> > >> > terms obviously.
> > >> >
> > >> > Thanks
> > >> >
> > >> >
> > >> >
> > >> >
> > >> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> > >> >
> > >> > > No, scores are in general not comparable between different
> queries.
> > >> > > The problem lies in many things:
> > >> > > - Each query has a norm factor that makes it more compareable if
> > >> > > they are sub clauses of a BooleanQuery. But you are right, this
> > >> > > norm factor should be the same.
> > >> > > - Some queries like FuzzyQuery rely on the terms in index and
> > >> > > those matches the query
> > >> > > - Inside Boolean queries, there is also a coord-factor involved
> > >> > >
> > >> > > If you are always using the same simple type of query (e.g.
> > >> > > simple TermQuery, only with different term) on the same index,
> > >> > > you can compare the scores. As soon as you are using complex
> > >> > > queries (e.g several terms compared in a BooleanQuery as
> > >> > > QueryParser produces), the scores are no longer comparable.
> > >> > >
> > >> > > You can read more on all factors that are included in scoring:
> > >> > >
> > >> > >
> > >> >
> > http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/sear
> > >> > ch/
> > >> > > Simila
> > >> > > rity.html
> > >> > >
> > >> > > -----
> > >> > > Uwe Schindler
> > >> > > H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> > >> > > eMail: uwe@thetaphi.de
> > >> > >
> > >> > >
> > >> > > > -----Original Message-----
> > >> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > >> > > > Sent: Monday, March 28, 2011 9:44 AM
> > >> > > > To: java-user@lucene.apache.org
> > >> > > > Subject: comparing lucene scores across queries
> > >> > > >
> > >> > > > Hi,
> > >> > > >
> > >> > > > sorry I've already asked few days ago, but I got no reply and I
> > >> > > > really
> > >> > > need
> > >> > > > some help on this..
> > >> > > >
> > >> > > > I'm running several queries against a doc collection. The
> queries
> > >> > > > are documents of the collection itself, I need to measure how
> > >> > > > similar is each document to the rest of the collection.
> > >> > > >
> > >> > > > Now, Lucene returns me a score per query, but I've been told
> such
> > >> > > > score
> > >> > > is
> > >> > > > not comparable across queries. Is this correct ?
> > >> > > >
> > >> > > > For example, arem't these scores comparable ?
> > >> > > > query1, score:8.324234
> > >> > > > query2, score:3.324238
> > >> > > >
> > >> > > > If so, why not ? Isn't the cosine similarity between the query
> > >> > > > vector and collection docs vectors ? I really need a comparable
> > >> measure.
> > >> > > >
> > >> > > > thanks
> > >> > >
> > >> > >
> > >> > >
> ---------------------------------------------------------------------
> > >> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >> > >
> > >> > >
> > >>
> > >>
> > >> ---------------------------------------------------------------------
> > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > >>
> > >>
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001517475828b6fee6049f87b53a--

From java-user-return-49185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 09:45:06 2011
Return-Path: <java-user-return-49185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82714 invoked from network); 28 Mar 2011 09:45:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 09:45:06 -0000
Received: (qmail 16549 invoked by uid 500); 28 Mar 2011 09:45:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16510 invoked by uid 500); 28 Mar 2011 09:45:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16502 invoked by uid 99); 28 Mar 2011 09:45:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:45:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 09:44:58 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id ED74145E9B6
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 11:44:36 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 18NDwfNwBR9m for <java-user@lucene.apache.org>;
	Mon, 28 Mar 2011 11:44:31 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id B51BD45E997
	for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 11:44:31 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de> <AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
In-Reply-To: <AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
Subject: RE: comparing lucene scores across queries
Date: Mon, 28 Mar 2011 11:44:31 +0200
Message-ID: <013601cbed2c$bd777e60$38667b20$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQMGr4W2v5dTGKUR4i7wWeBvnTMJ9QIfCp+RAbaFMucBP5NwlwJSFd/4ApeVR7wBy/RxsAHF14NRkWB016A=
Content-Language: de

Hi,

As you seem to want to do very specific things, it might still be
interesting to provide a modified Similarity (by subclassing
DefaultSimilaity). You could then e.g. return also 1.0 to disable the
queryNorm() which may also be a problem (but it isn't for your queries).
Theoretically, you can change the Similarity to only have the cosine
similarity left over - if you only want to use that one.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Monday, March 28, 2011 11:39 AM
> To: java-user@lucene.apache.org
> Subject: Re: comparing lucene scores across queries
> 
> ok thanks, I will pass well I dunno how to verify it. Even if I try then I
get some
> scores, but I dunno if comparing them is reliable.
> 
> 
> On 28 March 2011 11:36, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > Hi,
> >
> > You don't need to extend BooleanQuery, you can just pass "true" in its
> > ctor,
> > see: http://s.apache.org/QvK
> > Of course you can also subclass DefaultSimilarity and return 1 as
> > coord, but that is more work than passing true to a ctor.
> >
> > For your type of queries, disabling coord should be enough, but I am
> > not 100% sure! Why not simply try it out?
> >
> > Uwe
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> > > -----Original Message-----
> > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Monday, March 28, 2011 10:49 AM
> > > To: java-user@lucene.apache.org
> > > Subject: Re: comparing lucene scores across queries
> > >
> > > One more thing, instead of extending the BooleanQuery class to
> > > remove the coord factor, can I also extend the Similarity class to do
it ?
> > >
> > > Still the other question is open: just to be sure, if I disable the
> > > coord
> > factor I
> > > can finally compare my BooleanQuery results ?
> > >
> > > thanks
> > >
> > > >
> > > >
> > > >
> > > > On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:
> > > >
> > > >> Hi Patrick,
> > > >>
> > > >> You can disable the coord factor in the constructor of
BooleanQuery.
> > > >>
> > > >> Uwe
> > > >>
> > > >> -----
> > > >> Uwe Schindler
> > > >> H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> > > >> eMail: uwe@thetaphi.de
> > > >>
> > > >>
> > > >> > -----Original Message-----
> > > >> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > >> > Sent: Monday, March 28, 2011 10:09 AM
> > > >> > To: java-user@lucene.apache.org
> > > >> > Subject: Re: comparing lucene scores across queries
> > > >> >
> > > >> > Hi, thanks for reply.
> > > >> >
> > > >> > Yeah, I've read the Similarity class documentation several times,
> > > >> > but I
> > > >> need
> > > >> > some tip.
> > > >> >
> > > >> > My queries are BooleanQueries but they always have the same
> > > >> > structure (the same structure of the docs, they are actually docs
> > > >> > from
> > > >> collection):
> > > >> 3
> > > >> > fields.
> > > >> >
> > > >> > What if I simplify the similarity scores, by removing coord
factor
> > > >> > and
> > > >> just
> > > >> > leaving the cosine similarity which is comparable ?
> > > >> >
> > > >> > I want to underline the fact that my boolean queries are just a
> > > >> combination
> > > >> > of "field:term" items, and I always have the same 3 fields with
> > > >> different
> > > >> > terms obviously.
> > > >> >
> > > >> > Thanks
> > > >> >
> > > >> >
> > > >> >
> > > >> >
> > > >> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> > > >> >
> > > >> > > No, scores are in general not comparable between different
> > queries.
> > > >> > > The problem lies in many things:
> > > >> > > - Each query has a norm factor that makes it more compareable
if
> > > >> > > they are sub clauses of a BooleanQuery. But you are right, this
> > > >> > > norm factor should be the same.
> > > >> > > - Some queries like FuzzyQuery rely on the terms in index and
> > > >> > > those matches the query
> > > >> > > - Inside Boolean queries, there is also a coord-factor involved
> > > >> > >
> > > >> > > If you are always using the same simple type of query (e.g.
> > > >> > > simple TermQuery, only with different term) on the same index,
> > > >> > > you can compare the scores. As soon as you are using complex
> > > >> > > queries (e.g several terms compared in a BooleanQuery as
> > > >> > > QueryParser produces), the scores are no longer comparable.
> > > >> > >
> > > >> > > You can read more on all factors that are included in scoring:
> > > >> > >
> > > >> > >
> > > >> >
> > > http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/sear
> > > >> > ch/
> > > >> > > Simila
> > > >> > > rity.html
> > > >> > >
> > > >> > > -----
> > > >> > > Uwe Schindler
> > > >> > > H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> > > >> > > eMail: uwe@thetaphi.de
> > > >> > >
> > > >> > >
> > > >> > > > -----Original Message-----
> > > >> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > >> > > > Sent: Monday, March 28, 2011 9:44 AM
> > > >> > > > To: java-user@lucene.apache.org
> > > >> > > > Subject: comparing lucene scores across queries
> > > >> > > >
> > > >> > > > Hi,
> > > >> > > >
> > > >> > > > sorry I've already asked few days ago, but I got no reply and
I
> > > >> > > > really
> > > >> > > need
> > > >> > > > some help on this..
> > > >> > > >
> > > >> > > > I'm running several queries against a doc collection. The
> > queries
> > > >> > > > are documents of the collection itself, I need to measure how
> > > >> > > > similar is each document to the rest of the collection.
> > > >> > > >
> > > >> > > > Now, Lucene returns me a score per query, but I've been told
> > such
> > > >> > > > score
> > > >> > > is
> > > >> > > > not comparable across queries. Is this correct ?
> > > >> > > >
> > > >> > > > For example, arem't these scores comparable ?
> > > >> > > > query1, score:8.324234
> > > >> > > > query2, score:3.324238
> > > >> > > >
> > > >> > > > If so, why not ? Isn't the cosine similarity between the
query
> > > >> > > > vector and collection docs vectors ? I really need a
comparable
> > > >> measure.
> > > >> > > >
> > > >> > > > thanks
> > > >> > >
> > > >> > >
> > > >> > >
> > ---------------------------------------------------------------------
> > > >> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >> > > For additional commands, e-mail: java-user-
> help@lucene.apache.org
> > > >> > >
> > > >> > >
> > > >>
> > > >>
> > > >>
---------------------------------------------------------------------
> > > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >>
> > > >>
> > > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 10:22:17 2011
Return-Path: <java-user-return-49186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11857 invoked from network); 28 Mar 2011 10:22:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 10:22:16 -0000
Received: (qmail 54076 invoked by uid 500); 28 Mar 2011 10:22:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54031 invoked by uid 500); 28 Mar 2011 10:22:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54023 invoked by uid 99); 28 Mar 2011 10:22:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 10:22:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 10:22:09 +0000
Received: by fxm7 with SMTP id 7so3715867fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 03:21:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ISehn2PxvBw9XKI8ts+N6eHIR8QKJUYFHncS2YDBWaA=;
        b=LeH8YlTVebK5Abay55tnsT99lqApd1FnHAY1o+G+VEDvtlzyFNoEz9oXSOvtvCKcW6
         oiM9zNAQHFV/hTWxdlRLhmX5TVYIOkWgJI/pvSsOdMtR4ahY9IRCOVTB4qjbrjff9p3D
         iKo0Pn5n7ct694i7pqNfb+pfR9o2yvQm5wB2I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=UuAXO2OUAINJKdtb3Iyj5tlMsj3phbPHyxeT04pN9GnufmvaHt8350WSY/I4dbKQ5g
         K85sZg5gq4+nMOWVkNIVvxWEpUrR+0Od8pR+WB0WPFAmfSQcoHnnrCCqtGwgvMMmwwLN
         r9cjFVU//m71zRU63nE6FlbzNFgWWHXRlcgwA=
MIME-Version: 1.0
Received: by 10.223.127.213 with SMTP id h21mr4177960fas.139.1301307707338;
 Mon, 28 Mar 2011 03:21:47 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Mon, 28 Mar 2011 03:21:47 -0700 (PDT)
In-Reply-To: <013601cbed2c$bd777e60$38667b20$@thetaphi.de>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
	<AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
	<013601cbed2c$bd777e60$38667b20$@thetaphi.de>
Date: Mon, 28 Mar 2011 12:21:47 +0200
Message-ID: <AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=002354530ebca3af33049f884faf

--002354530ebca3af33049f884faf
Content-Type: text/plain; charset=ISO-8859-1

I see, well if you say the norm isn't a problem for my case, I will just
disable the coord factor by initializing BooleanQuery(true); and I should be
done.

If this is not correct, please anybody let me know.

On 28 March 2011 11:44, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> As you seem to want to do very specific things, it might still be
> interesting to provide a modified Similarity (by subclassing
> DefaultSimilaity). You could then e.g. return also 1.0 to disable the
> queryNorm() which may also be a problem (but it isn't for your queries).
> Theoretically, you can change the Similarity to only have the cosine
> similarity left over - if you only want to use that one.
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Monday, March 28, 2011 11:39 AM
> > To: java-user@lucene.apache.org
> > Subject: Re: comparing lucene scores across queries
> >
> > ok thanks, I will pass well I dunno how to verify it. Even if I try then
> I
> get some
> > scores, but I dunno if comparing them is reliable.
> >
> >
> > On 28 March 2011 11:36, Uwe Schindler <uwe@thetaphi.de> wrote:
> >
> > > Hi,
> > >
> > > You don't need to extend BooleanQuery, you can just pass "true" in its
> > > ctor,
> > > see: http://s.apache.org/QvK
> > > Of course you can also subclass DefaultSimilarity and return 1 as
> > > coord, but that is more work than passing true to a ctor.
> > >
> > > For your type of queries, disabling coord should be enough, but I am
> > > not 100% sure! Why not simply try it out?
> > >
> > > Uwe
> > >
> > > -----
> > > Uwe Schindler
> > > H.-H.-Meier-Allee 63, D-28213 Bremen
> > > http://www.thetaphi.de
> > > eMail: uwe@thetaphi.de
> > >
> > >
> > > > -----Original Message-----
> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > Sent: Monday, March 28, 2011 10:49 AM
> > > > To: java-user@lucene.apache.org
> > > > Subject: Re: comparing lucene scores across queries
> > > >
> > > > One more thing, instead of extending the BooleanQuery class to
> > > > remove the coord factor, can I also extend the Similarity class to do
> it ?
> > > >
> > > > Still the other question is open: just to be sure, if I disable the
> > > > coord
> > > factor I
> > > > can finally compare my BooleanQuery results ?
> > > >
> > > > thanks
> > > >
> > > > >
> > > > >
> > > > >
> > > > > On 28 March 2011 10:11, Uwe Schindler <uwe@thetaphi.de> wrote:
> > > > >
> > > > >> Hi Patrick,
> > > > >>
> > > > >> You can disable the coord factor in the constructor of
> BooleanQuery.
> > > > >>
> > > > >> Uwe
> > > > >>
> > > > >> -----
> > > > >> Uwe Schindler
> > > > >> H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> > > > >> eMail: uwe@thetaphi.de
> > > > >>
> > > > >>
> > > > >> > -----Original Message-----
> > > > >> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > >> > Sent: Monday, March 28, 2011 10:09 AM
> > > > >> > To: java-user@lucene.apache.org
> > > > >> > Subject: Re: comparing lucene scores across queries
> > > > >> >
> > > > >> > Hi, thanks for reply.
> > > > >> >
> > > > >> > Yeah, I've read the Similarity class documentation several
> times,
> > > > >> > but I
> > > > >> need
> > > > >> > some tip.
> > > > >> >
> > > > >> > My queries are BooleanQueries but they always have the same
> > > > >> > structure (the same structure of the docs, they are actually
> docs
> > > > >> > from
> > > > >> collection):
> > > > >> 3
> > > > >> > fields.
> > > > >> >
> > > > >> > What if I simplify the similarity scores, by removing coord
> factor
> > > > >> > and
> > > > >> just
> > > > >> > leaving the cosine similarity which is comparable ?
> > > > >> >
> > > > >> > I want to underline the fact that my boolean queries are just a
> > > > >> combination
> > > > >> > of "field:term" items, and I always have the same 3 fields with
> > > > >> different
> > > > >> > terms obviously.
> > > > >> >
> > > > >> > Thanks
> > > > >> >
> > > > >> >
> > > > >> >
> > > > >> >
> > > > >> > On 28 March 2011 10:03, Uwe Schindler <uwe@thetaphi.de> wrote:
> > > > >> >
> > > > >> > > No, scores are in general not comparable between different
> > > queries.
> > > > >> > > The problem lies in many things:
> > > > >> > > - Each query has a norm factor that makes it more compareable
> if
> > > > >> > > they are sub clauses of a BooleanQuery. But you are right,
> this
> > > > >> > > norm factor should be the same.
> > > > >> > > - Some queries like FuzzyQuery rely on the terms in index and
> > > > >> > > those matches the query
> > > > >> > > - Inside Boolean queries, there is also a coord-factor
> involved
> > > > >> > >
> > > > >> > > If you are always using the same simple type of query (e.g.
> > > > >> > > simple TermQuery, only with different term) on the same index,
> > > > >> > > you can compare the scores. As soon as you are using complex
> > > > >> > > queries (e.g several terms compared in a BooleanQuery as
> > > > >> > > QueryParser produces), the scores are no longer comparable.
> > > > >> > >
> > > > >> > > You can read more on all factors that are included in scoring:
> > > > >> > >
> > > > >> > >
> > > > >> >
> > > > http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/sear
> > > > >> > ch/
> > > > >> > > Simila
> > > > >> > > rity.html
> > > > >> > >
> > > > >> > > -----
> > > > >> > > Uwe Schindler
> > > > >> > > H.-H.-Meier-Allee 63, D-28213 Bremen http://www.thetaphi.de
> > > > >> > > eMail: uwe@thetaphi.de
> > > > >> > >
> > > > >> > >
> > > > >> > > > -----Original Message-----
> > > > >> > > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > > >> > > > Sent: Monday, March 28, 2011 9:44 AM
> > > > >> > > > To: java-user@lucene.apache.org
> > > > >> > > > Subject: comparing lucene scores across queries
> > > > >> > > >
> > > > >> > > > Hi,
> > > > >> > > >
> > > > >> > > > sorry I've already asked few days ago, but I got no reply
> and
> I
> > > > >> > > > really
> > > > >> > > need
> > > > >> > > > some help on this..
> > > > >> > > >
> > > > >> > > > I'm running several queries against a doc collection. The
> > > queries
> > > > >> > > > are documents of the collection itself, I need to measure
> how
> > > > >> > > > similar is each document to the rest of the collection.
> > > > >> > > >
> > > > >> > > > Now, Lucene returns me a score per query, but I've been told
> > > such
> > > > >> > > > score
> > > > >> > > is
> > > > >> > > > not comparable across queries. Is this correct ?
> > > > >> > > >
> > > > >> > > > For example, arem't these scores comparable ?
> > > > >> > > > query1, score:8.324234
> > > > >> > > > query2, score:3.324238
> > > > >> > > >
> > > > >> > > > If so, why not ? Isn't the cosine similarity between the
> query
> > > > >> > > > vector and collection docs vectors ? I really need a
> comparable
> > > > >> measure.
> > > > >> > > >
> > > > >> > > > thanks
> > > > >> > >
> > > > >> > >
> > > > >> > >
> > > ---------------------------------------------------------------------
> > > > >> > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > >> > > For additional commands, e-mail: java-user-
> > help@lucene.apache.org
> > > > >> > >
> > > > >> > >
> > > > >>
> > > > >>
> > > > >>
> ---------------------------------------------------------------------
> > > > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > > > >>
> > > > >>
> > > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--002354530ebca3af33049f884faf--

From java-user-return-49187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 28 23:58:21 2011
Return-Path: <java-user-return-49187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37831 invoked from network); 28 Mar 2011 23:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Mar 2011 23:58:21 -0000
Received: (qmail 62287 invoked by uid 500); 28 Mar 2011 23:58:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62255 invoked by uid 500); 28 Mar 2011 23:58:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62247 invoked by uid 99); 28 Mar 2011 23:58:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 23:58:18 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2011 23:58:12 +0000
Received: by gxk7 with SMTP id 7so1771613gxk.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 16:57:51 -0700 (PDT)
Received: by 10.91.84.7 with SMTP id m7mr4426735agl.125.1301356669826;
        Mon, 28 Mar 2011 16:57:49 -0700 (PDT)
Received: from bester.local ([65.78.136.75])
        by mx.google.com with ESMTPS id e24sm1769524ana.28.2011.03.28.16.57.47
        (version=SSLv3 cipher=OTHER);
        Mon, 28 Mar 2011 16:57:48 -0700 (PDT)
Date: Mon, 28 Mar 2011 16:57:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: comparing lucene scores across queries
In-Reply-To: <AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1103281646050.21091@bester>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com> <011801cbed1e$ae127c80$0a377580$@thetaphi.de> <AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com> <011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
 <AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com> <AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com> <013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de> <AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
 <013601cbed2c$bd777e60$38667b20$@thetaphi.de> <AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>
User-Agent: Alpine 2.00 (DEB 1167 2008-08-23)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: I see, well if you say the norm isn't a problem for my case, I will just
: disable the coord factor by initializing BooleanQuery(true); and I should be
: done.

querynorm hsouldn't be a problem (since your booleanqueries all have hte 
same structure, and odn't use query boosts ... i assume) but field norm 
might be; i also don't see anything mentioned so far in this thread that 
describes how you'll work arround the tf and idf values being theretically 
unbounded (unless your docs are all of identical length)

ultimatley, attempts at comparing scores across different searches all 
come down to normalizing (either explicitly or implicitly) and normalizing 
requires that you have a "max possible score" you can normalize relative 
to -- not just a "max score for the index", but a max score in the scope 
of all theretical documents (because otherwise the comparison isn't fair 
given an arbitrary corpus)

with the default similarity, you can't really define a "max possible 
score" for a given query because tf and idf are not bounded functions.


There have been a few nice discussions about this general concept over the 
years, here's the first once i found doing a quick search...

http://www.gossamer-threads.com/lists/lucene/java-user/61075





-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 00:32:06 2011
Return-Path: <java-user-return-49188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55906 invoked from network); 29 Mar 2011 00:32:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 00:32:06 -0000
Received: (qmail 99576 invoked by uid 500); 29 Mar 2011 00:32:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99535 invoked by uid 500); 29 Mar 2011 00:32:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99527 invoked by uid 99); 29 Mar 2011 00:32:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 00:32:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trejkaz@trypticon.org designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 00:31:55 +0000
Received: by gya6 with SMTP id 6so1434648gya.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 17:31:27 -0700 (PDT)
Received: by 10.150.160.1 with SMTP id i1mr4353465ybe.223.1301358687218;
        Mon, 28 Mar 2011 17:31:27 -0700 (PDT)
Received: from mail-gx0-f176.google.com (mail-gx0-f176.google.com [209.85.161.176])
        by mx.google.com with ESMTPS id p62sm2217020yhm.91.2011.03.28.17.31.26
        (version=SSLv3 cipher=OTHER);
        Mon, 28 Mar 2011 17:31:26 -0700 (PDT)
Received: by gxk7 with SMTP id 7so1782775gxk.35
        for <java-user@lucene.apache.org>; Mon, 28 Mar 2011 17:31:26 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.236.105.229 with SMTP id k65mr2901790yhg.14.1301358686143;
 Mon, 28 Mar 2011 17:31:26 -0700 (PDT)
Received: by 10.236.109.139 with HTTP; Mon, 28 Mar 2011 17:31:25 -0700 (PDT)
Date: Tue, 29 Mar 2011 11:31:25 +1100
Message-ID: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
Subject: a faster way to addDocument and get the ID just added?
From: Trejkaz <trejkaz@trypticon.org>
To: Lucene Users Mailing List <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all.

I'm trying to parallelise writing documents into an index.  Let's set
aside the fact that 3.1 is much better at this than 3.0.x... but I'm
using 3.0.3.

One of the things I need to know is the doc ID of each document added
so that we can add them into auxiliary database tables which are keyed
by it.  If multiple threads are using the same writer, I can still do
this as follows:

    IndexWriter writer;
    boolean parallel;

    // ...

    private int addDocument(String guid, ...) {
        Document doc = new Document();
        doc.add(new Field("guid", guid, Store.YES, Index.ANALYZED));
        // eliding other fields
        writer.addDocument(doc);

        if (parallel) {
            IndexReader realTimeReader = writer.getReader();
            try {
                TermDocs termDocs = realTimeReader.termDocs();
                try {
                    termDocs.seek(new Term("guid", guid));
                    if (termDocs.next()) {
                        return termDocs.doc();
                    } else {
                        throw new IllegalStateException(String.format(
                            "We added item with GUID %s but it wasn't
found immediately afterwards", guid));
                    }
                } finally {
                    termDocs.close();
                }
            } finally {
                realTimeReader.close();
            }
        } else {
            return writer.maxDoc();
        }
    }

Benchmarking this for a single thread, there is a difference in cost
between doing it using a search and doing it by calling maxDoc(), as
you might expect:

    Time for parallel-safe version: 147.561s
    Time for unsafe version: 62.603s

Is there a way to achieve this result with less overhead?

(Note: for reasons of performance, we cannot use a field to store an
ID to use for database tables, as this is several orders of magnitude
slower when you need to build a filter based on a database query.)

TX

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 06:58:17 2011
Return-Path: <java-user-return-49189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2362 invoked from network); 29 Mar 2011 06:58:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 06:58:16 -0000
Received: (qmail 15202 invoked by uid 500); 29 Mar 2011 06:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15138 invoked by uid 500); 29 Mar 2011 06:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15130 invoked by uid 99); 29 Mar 2011 06:58:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 06:58:14 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.18.3.86] (HELO exprod8og103.obsmtp.com) (64.18.3.86)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Mar 2011 06:58:05 +0000
Received: from source ([216.109.100.75]) by exprod8ob103.postini.com ([64.18.7.12]) with SMTP
	ID DSNKTZGC5vJgwNVXPnr4XRRycJzfXuFKykDa@postini.com; Mon, 28 Mar 2011 23:57:44 PDT
Received: from us-pghmail3.ariba.com ([10.32.16.10]) by outboundpghmail.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 29 Mar 2011 02:57:19 -0400
Received: from in-blrmail2.ariba.com ([10.57.16.56]) by us-pghmail3.ariba.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 29 Mar 2011 02:57:41 -0400
Received: from [10.57.36.182] ([10.57.36.182]) by in-blrmail2.ariba.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 29 Mar 2011 12:27:38 +0530
Message-ID: <4D9182D1.90505@ariba.com>
Date: Tue, 29 Mar 2011 12:27:21 +0530
From: Vinaya Kumar Thimmappa <vthimmappa@ariba.com>
Reply-To: vthimmappa@ariba.com
Organization: Ariba 
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101208 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Japanese/Chinese language support
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de> <AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
In-Reply-To: <AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 29 Mar 2011 06:57:38.0222 (UTC) FILETIME=[97023CE0:01CBEDDE]
X-Virus-Checked: Checked by ClamAV on apache.org

Hello All,

I am looking for Japanese/Chinese stemmer . Does this exists ? do we 
require it ?
(Analyser are already present in lucene)

I did a goggle and did not find any conclusive answer.

Thanks in advance
vinaya

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 07:12:39 2011
Return-Path: <java-user-return-49190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57433 invoked from network); 29 Mar 2011 07:12:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 07:12:39 -0000
Received: (qmail 37792 invoked by uid 500); 29 Mar 2011 07:12:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37747 invoked by uid 500); 29 Mar 2011 07:12:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37739 invoked by uid 99); 29 Mar 2011 07:12:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 07:12:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.94.239.40] (HELO web130120.mail.mud.yahoo.com) (66.94.239.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Mar 2011 07:12:28 +0000
Received: (qmail 72889 invoked by uid 60001); 29 Mar 2011 07:12:06 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1301382726; bh=ikLZakPhL69EvY61mqhLVHhYE8h96ce10eqX3tx4+K4=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=q6/y8Y491oqRRlIIXIK4r+EkKC/SdLudAuG4fj8313umsfoWQcQbSZ4EaD/ma8kZzq1bMwmcZDL8cksvP7xpoyEhZuMyphDazC8ibA+fCxU6LSxzazUs3VELS/2efxIY7lS1Gtbl6xcqgC3QQu/McdzPRtbpYgO68wpYwDiOfF0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=kloK3HCHVN9G+8TnfWqC8iwBaksFrPEL67KROxD8qLJMQj+SBSFzJShLMvHylSh+8WFjUeYEBCiIwgK6wT/ivPLyhFlbtMiw6PHMbLAaCUOpy0TF3JnfYoTP33W6E78Zw72pmNBo9z8zlCvdzD5/rC7dpJJy50/ujw5WP4vqsDo=;
Message-ID: <145460.59283.qm@web130120.mail.mud.yahoo.com>
X-YMail-OSG: nLc17CsVM1lhu6AtbWfVjh.t7WpJqk8SCdMSV8Rocskhl4D
 qA1UrO97_y2hz6SBDyC3rn3ohXM29qxdI1.pTGTyfvCqoleMlmPAY0zYHjvW
 2boNR.AwBH3h953hcQOqHXU8p8cfz.p_Volh8_hT4mDJt1QRAT9Q9TJ8SxPt
 waBGEhYGQYHss.8khJZayZKlWN66RbmG.oWas2oZVFbX57FfyVrpD05BrbRI
 6J1BZWxx4VHuc6Vqq0MQOFOboomJXPZp9reAiTE7zhZaRuFkYEX98REzBfRZ
 15B83HKkkPC0V0AN.PZ70BucXTbEMAWtjH85O5tkVfIPy_2FKXcNpWoeaBwm
 OlDzSBNCmkV5w6lMsRttYkAhYc_A2FD54NYlbRNbEIVvbDez3GrPl.PeW
Received: from [213.55.85.89] by web130120.mail.mud.yahoo.com via HTTP; Tue, 29 Mar 2011 00:12:06 PDT
X-Mailer: YahooMailClassic/12.0.2 YahooMailWebService/0.8.109.295617
Date: Tue, 29 Mar 2011 00:12:06 -0700 (PDT)
From: henok sahilu <henok_sahilu@yahoo.com>
Subject: Definition Extraction 
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1831560125-1301382726=:59283"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1831560125-1301382726=:59283
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hello All
Recently, I am trying to develop an automatic definition extraction system =
for Amharic Language - using machine learning technique (Version Space lear=
ning). Can anyone suggest me some java codes to start with?
Thank You=20
Henok
=A0
--0-1831560125-1301382726=:59283--

From java-user-return-49191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 08:31:55 2011
Return-Path: <java-user-return-49191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16519 invoked from network); 29 Mar 2011 08:31:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 08:31:55 -0000
Received: (qmail 11487 invoked by uid 500); 29 Mar 2011 08:31:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11444 invoked by uid 500); 29 Mar 2011 08:31:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11436 invoked by uid 99); 29 Mar 2011 08:31:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:31:52 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:31:47 +0000
Received: by fxm7 with SMTP id 7so4986809fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 01:31:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=wbPowPbyKViByYnM1payFbMAiiFExaRsbEIRwcNanFw=;
        b=pkPklqDzzhfAS1Cpx4upjt4lzDQ8EEDIVRWtPsXRlOIM8N8UXWKAGyCphZmruc9ptq
         +pVmRrc7FV8JT9vb+tnuu/AP1lTiMnZ+j703TlAzhJYeEYxtO0ovkoHa4HcTN7V5U5gV
         Ryvh2hruACNgcZJPinrAJoRzBpmSBLEkDKxAU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=EQR3ZxXCipJIitjncx5C6KJjmhgdC1/SQT4bvWPWjfaTukXU4i1wM3LoR5Eg08SmAq
         H/PSsVZc/JZJ4E1f+ddD1dxbTjH+uhy4npIuMBK0Dnq3z3vZher2j8uTe3I5xFPEv9Hc
         zKr90RZNMnySTpW+5D9A9aazw444QccInb8E0=
MIME-Version: 1.0
Received: by 10.223.13.197 with SMTP id d5mr329727faa.6.1301387486317; Tue, 29
 Mar 2011 01:31:26 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 01:31:26 -0700 (PDT)
In-Reply-To: <alpine.DEB.2.00.1103281646050.21091@bester>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
	<AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
	<013601cbed2c$bd777e60$38667b20$@thetaphi.de>
	<AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>
	<alpine.DEB.2.00.1103281646050.21091@bester>
Date: Tue, 29 Mar 2011 10:31:26 +0200
Message-ID: <AANLkTikWcFhQ5-o+xbdi2Oo_tF=KON4RGV243tk2Mqqo@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174766a0d64ea3049f9ae238

--0015174766a0d64ea3049f9ae238
Content-Type: text/plain; charset=ISO-8859-1

hey Hoss,

thanks for your reply. I thought I've solved the issue according to Uwe, the
queries without coord function were reasonably comparable, but now you
actually reopened it.

So, I need to be sure I'm making them comparable and I would like to ask the
following.

My BooleanQueries have similar structure. Important: they only contain
TermQueries. The fields are always 3 but the terms number can vary... this
is an example of BooleanQuery (sorry for the syntax):

field1:term1, SHOULD
field1:term2, SHOULD
field2:term1, SHOULD
field2:term2, SHOULD
field2:term3, SHOULD
field3:term1, SHOULD
...

If it is not clear how the BooleanQueries are, I can print some of them for
you. They have same number of fields but different number of terms.

1- Do you still think QueryNorm is not an issue ? Funny, because in the
documentation I can read:
QueryNorm(q) is a normalizing factor used to make scores between queries
comparable. This factor does not affect document ranking (since all ranked
documents are multiplied by the same factor), but rather just attempts to
make scores from different queries (or even different indexes) comparable.

It seems I can compare queries from the documentation.



2- I don't think I'm using queryBoosts, are they enabled by default in the
BooleanQuery ?

3- FieldNorm is not mentioned in Similarity class. How can I disable it ?
SHould I disable it ? Is it a issue ?

4-  If I'm not wrong Uwe told me I can compute comparable cosine
similarities even with documents of different length. Tf and Idf are
unbounded, and my docs have different length. Can't I measure the similarity
between query and doc vectors anyway ?

5 - Again, I've been told I can compare queries and from documentation, I
can see that queryNorm factor normalizes all queries. But you are saying I
should manually normalize them somehow ? It is not clear

thanks
Patrick


> querynorm hsouldn't be a problem (since your booleanqueries all have hte
> same structure, and odn't use query boosts ... i assume) but field norm
> might be; i also don't see anything mentioned so far in this thread that
> describes how you'll work arround the tf and idf values being theretically
> unbounded (unless your docs are all of identical length)
>
> ultimatley, attempts at comparing scores across different searches all
> come down to normalizing (either explicitly or implicitly) and normalizing
> requires that you have a "max possible score" you can normalize relative
> to -- not just a "max score for the index", but a max score in the scope
> of all theretical documents (because otherwise the comparison isn't fair
> given an arbitrary corpus)
>
> with the default similarity, you can't really define a "max possible
> score" for a given query because tf and idf are not bounded functions.
>
>
> There have been a few nice discussions about this general concept over the
> years, here's the first once i found doing a quick search...
>
> http://www.gossamer-threads.com/lists/lucene/java-user/61075
>
>
>
>
>
> -Hoss
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015174766a0d64ea3049f9ae238--

From java-user-return-49192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 08:49:33 2011
Return-Path: <java-user-return-49192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90482 invoked from network); 29 Mar 2011 08:49:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 08:49:33 -0000
Received: (qmail 43089 invoked by uid 500); 29 Mar 2011 08:49:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43021 invoked by uid 500); 29 Mar 2011 08:49:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43013 invoked by uid 99); 29 Mar 2011 08:49:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:49:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:49:22 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E0DE545EAB1
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 10:49:00 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qVLHATyxVgZK for <java-user@lucene.apache.org>;
	Tue, 29 Mar 2011 10:48:58 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 4BB4B45EA97
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 10:48:58 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>	<AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>	<013601cbed2c$bd777e60$38667b20$@thetaphi.de>	<AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>	<alpine.DEB.2.00.1103281646050.21091@bester> <AANLkTikWcFhQ5-o+xbdi2Oo_tF=KON4RGV243tk2Mqqo@mail.gmail.com>
In-Reply-To: <AANLkTikWcFhQ5-o+xbdi2Oo_tF=KON4RGV243tk2Mqqo@mail.gmail.com>
Subject: RE: comparing lucene scores across queries
Date: Tue, 29 Mar 2011 10:48:59 +0200
Message-ID: <01db01cbedee$25b1f4d0$7115de70$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQMGr4W2v5dTGKUR4i7wWeBvnTMJ9QIfCp+RAbaFMucBP5NwlwJSFd/4ApeVR7wBy/RxsAHF14NRAPoBcfECS0Q2BwKKnPhAAaD5tfeRJm6MIA==
Content-Language: de

> thanks for your reply. I thought I've solved the issue according to Uwe,
the
> queries without coord function were reasonably comparable, but now you
> actually reopened it.
> 
> So, I need to be sure I'm making them comparable and I would like to ask
the
> following.
> 
> My BooleanQueries have similar structure. Important: they only contain
> TermQueries. The fields are always 3 but the terms number can vary... this
is
> an example of BooleanQuery (sorry for the syntax):
> 
> field1:term1, SHOULD
> field1:term2, SHOULD
> field2:term1, SHOULD
> field2:term2, SHOULD
> field2:term3, SHOULD
> field3:term1, SHOULD
> ...
> 
> If it is not clear how the BooleanQueries are, I can print some of them
for
> you. They have same number of fields but different number of terms.
> 
> 1- Do you still think QueryNorm is not an issue ? Funny, because in the
> documentation I can read:
> QueryNorm(q) is a normalizing factor used to make scores between queries
> comparable. This factor does not affect document ranking (since all ranked
> documents are multiplied by the same factor), but rather just attempts to
> make scores from different queries (or even different indexes) comparable.
> 
> It seems I can compare queries from the documentation.

But as you are always using the same type of query (TermQuery), the
QueryNorm should not change, so no issue at all. It differs if you have a
variable number of Boolean clauses, the Query norm could help you to make
the queries comparable. But if you only have always the same looking BQ with
exact same number of TQ in it (only different terms) its not an issue at
all. In all other cases, the query norm helps to compare e.g. a BQ with 5 TQ
clauses with another BQ that has 8 TQ clauses.

> 2- I don't think I'm using queryBoosts, are they enabled by default in the
> BooleanQuery ?

Query boost are only active if you do TermQuery.setBoost(anything != 1.0f).

> 3- FieldNorm is not mentioned in Similarity class. How can I disable it ?
> SHould I disable it ? Is it a issue ?

FieldNorm should not be a problem, as it's an indexed feature. So the same
document has always the same FieldNorm (which is a combination of length
norm, indexing document boost). If two queries hit the same document the
scores for this document should be comparable, as the FieldNorm is the same
for both cases.

See point 6) in the Similarity docs: norm(t,d)

> 4-  If I'm not wrong Uwe told me I can compute comparable cosine
similarities
> even with documents of different length. Tf and Idf are unbounded, and my
> docs have different length. Can't I measure the similarity between query
and
> doc vectors anyway ?

The field norm normalizes that. So where is the problem?

> 5 - Again, I've been told I can compare queries and from documentation, I
> can see that queryNorm factor normalizes all queries. But you are saying I
> should manually normalize them somehow ? It is not clear

It only affects different querys (e.g. number of Boolean clauses differ,
type of queries differ).

Uwe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 08:58:44 2011
Return-Path: <java-user-return-49193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95430 invoked from network); 29 Mar 2011 08:58:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 08:58:44 -0000
Received: (qmail 57483 invoked by uid 500); 29 Mar 2011 08:58:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57447 invoked by uid 500); 29 Mar 2011 08:58:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57439 invoked by uid 99); 29 Mar 2011 08:58:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:58:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 08:58:34 +0000
Received: by fxm7 with SMTP id 7so18585fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 01:58:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=aGMt4qCG+yhf5vbUoJRYBDkb2e3vIz3xHnQj3I9tk3c=;
        b=d6dHhG8nF8kWqYx4JbcbsG2IfjGVeMRQUJwpfnoqahGGmH79wX24H/rkjXeN1kav4/
         fmdjvYbXQfPCep0MNXbrXRGLVZ8QNFMbHOpvJHS8mAKnBkCIyD08xK4JfRCVs9j3dZZf
         lA+6x+FVDa4tbKTYDnszCu969mXAjIM+7J5sg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=uh6U6Vqwy6dZzNRLHWEnbuIVTv7Ak+XRBHqS4YkT8NCttnV6mizMmRWgrrgLZg7QKY
         i2j2Jd3jaP8900PW1O7BoJccImx6eTiOAL7FQ6+TO9DXTRvSjP5lrOY1NMAWJukSyruw
         9+uzOUvYaFNl4GlXxGxhX159anVHzY40joAkg=
MIME-Version: 1.0
Received: by 10.223.17.202 with SMTP id t10mr1056134faa.139.1301389094753;
 Tue, 29 Mar 2011 01:58:14 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 01:58:14 -0700 (PDT)
In-Reply-To: <01db01cbedee$25b1f4d0$7115de70$@thetaphi.de>
References: <AANLkTi=v4roj03Dp9iYrAS+o23Duc8bpLu4MnseFTv1R@mail.gmail.com>
	<011801cbed1e$ae127c80$0a377580$@thetaphi.de>
	<AANLkTikE9quCCNmqdMNG3xjqNPbFQrUKdddxXkfO=Suh@mail.gmail.com>
	<011d01cbed1f$c60952e0$521bf8a0$@thetaphi.de>
	<AANLkTikWBx3PuaY8QnoqkHaJeCp6gS--y1B5GP6PpiH+@mail.gmail.com>
	<AANLkTikckm85CPFw9_nXLn1dLEE7S6cL4JDO9J-S0qki@mail.gmail.com>
	<013201cbed2b$9538b7d0$bfaa2770$@thetaphi.de>
	<AANLkTi=UOmA+q5uNntYW=rrP9xx46A_DKfJ9MJYcueKo@mail.gmail.com>
	<013601cbed2c$bd777e60$38667b20$@thetaphi.de>
	<AANLkTinMsunY18q2zX7yM0dOgFynDR9-aKP1u0_+50wE@mail.gmail.com>
	<alpine.DEB.2.00.1103281646050.21091@bester>
	<AANLkTikWcFhQ5-o+xbdi2Oo_tF=KON4RGV243tk2Mqqo@mail.gmail.com>
	<01db01cbedee$25b1f4d0$7115de70$@thetaphi.de>
Date: Tue, 29 Mar 2011 10:58:14 +0200
Message-ID: <AANLkTin-2GvLqvs4Xm7ebJDZnTDxvkQxd6WJz7JazUxr@mail.gmail.com>
Subject: Re: comparing lucene scores across queries
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517478038b517d6049f9b428e
X-Virus-Checked: Checked by ClamAV on apache.org

--001517478038b517d6049f9b428e
Content-Type: text/plain; charset=ISO-8859-1

hey Uwe, so from your last answer, I understand I'm done.. no need to do
anything, I can already compare the queries.

However there is actually a misunderstanding: my booleanqueries have
variable number of boolean clauses because the fields are fixed but the
terms per field are not. So, for example, I have:

BooleanQuery1:
field1:term, SHOULD
field1:term, SHOULD
field2:term, SHOULD
field2:term, SHOULD
field2:term, SHOULD
field3:term, SHOULD

BooleanQuery2:
field1:term, SHOULD
field2:term, SHOULD
field3:term, SHOULD
field3:term, SHOULD
field3:term, SHOULD
field3:term, SHOULD
field3:term, SHOULD

Is any of the points we discussed so far not anymore valid ?

thanks

On 29 March 2011 10:48, Uwe Schindler <uwe@thetaphi.de> wrote:

> > thanks for your reply. I thought I've solved the issue according to Uwe,
> the
> > queries without coord function were reasonably comparable, but now you
> > actually reopened it.
> >
> > So, I need to be sure I'm making them comparable and I would like to ask
> the
> > following.
> >
> > My BooleanQueries have similar structure. Important: they only contain
> > TermQueries. The fields are always 3 but the terms number can vary...
> this
> is
> > an example of BooleanQuery (sorry for the syntax):
> >
> > field1:term1, SHOULD
> > field1:term2, SHOULD
> > field2:term1, SHOULD
> > field2:term2, SHOULD
> > field2:term3, SHOULD
> > field3:term1, SHOULD
> > ...
> >
> > If it is not clear how the BooleanQueries are, I can print some of them
> for
> > you. They have same number of fields but different number of terms.
> >
> > 1- Do you still think QueryNorm is not an issue ? Funny, because in the
> > documentation I can read:
> > QueryNorm(q) is a normalizing factor used to make scores between queries
> > comparable. This factor does not affect document ranking (since all
> ranked
> > documents are multiplied by the same factor), but rather just attempts to
> > make scores from different queries (or even different indexes)
> comparable.
> >
> > It seems I can compare queries from the documentation.
>
> But as you are always using the same type of query (TermQuery), the
> QueryNorm should not change, so no issue at all. It differs if you have a
> variable number of Boolean clauses, the Query norm could help you to make
> the queries comparable. But if you only have always the same looking BQ
> with
> exact same number of TQ in it (only different terms) its not an issue at
> all. In all other cases, the query norm helps to compare e.g. a BQ with 5
> TQ
> clauses with another BQ that has 8 TQ clauses.
>
> > 2- I don't think I'm using queryBoosts, are they enabled by default in
> the
> > BooleanQuery ?
>
> Query boost are only active if you do TermQuery.setBoost(anything != 1.0f).
>
> > 3- FieldNorm is not mentioned in Similarity class. How can I disable it ?
> > SHould I disable it ? Is it a issue ?
>
> FieldNorm should not be a problem, as it's an indexed feature. So the same
> document has always the same FieldNorm (which is a combination of length
> norm, indexing document boost). If two queries hit the same document the
> scores for this document should be comparable, as the FieldNorm is the same
> for both cases.
>
> See point 6) in the Similarity docs: norm(t,d)
>
> > 4-  If I'm not wrong Uwe told me I can compute comparable cosine
> similarities
> > even with documents of different length. Tf and Idf are unbounded, and my
> > docs have different length. Can't I measure the similarity between query
> and
> > doc vectors anyway ?
>
> The field norm normalizes that. So where is the problem?
>
> > 5 - Again, I've been told I can compare queries and from documentation, I
> > can see that queryNorm factor normalizes all queries. But you are saying
> I
> > should manually normalize them somehow ? It is not clear
>
> It only affects different querys (e.g. number of Boolean clauses differ,
> type of queries differ).
>
> Uwe
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001517478038b517d6049f9b428e--

From java-user-return-49194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 09:22:49 2011
Return-Path: <java-user-return-49194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86778 invoked from network); 29 Mar 2011 09:22:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 09:22:49 -0000
Received: (qmail 82806 invoked by uid 500); 29 Mar 2011 09:22:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82762 invoked by uid 500); 29 Mar 2011 09:22:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82753 invoked by uid 99); 29 Mar 2011 09:22:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:22:47 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:22:41 +0000
Received: by fxm7 with SMTP id 7so36534fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 02:22:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=6fR0OcVou0eTF9ovUoHhXRR/7CQ9uwu/jIo5JB332IU=;
        b=mFdtZEvDFtQM1GB+v40UeiYaGZKgy/wy7hxx4jX4IoI5KgAcUfX/dBurpCIEl4iTJE
         3z4ALBiH30Bv5CU22GzJI4ptb122wV21JF1ZrQg/F67g/ByaAPw59aHaYyINTmDXhEAh
         leNmZMkz9fG0IuIWw4o8a3fqEQuc/8K7IBmGQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=V6SOvfIlNi+YPuc3PsSb2szv2dJVEtzxsJUENqlL2ESlGy6p7k489U+38B3ltt5vrS
         vXTvmLlUaXuhitk/Csfvf/aFYVBLA2/Kwqau4OsoretHxBbLi44Onm9poSMvuuurUK9l
         MHRMmxdwp0MfkySUcGuTJFVqMB1IDZBFniIdM=
MIME-Version: 1.0
Received: by 10.223.1.73 with SMTP id 9mr532148fae.44.1301390539465; Tue, 29
 Mar 2011 02:22:19 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 02:22:19 -0700 (PDT)
Date: Tue, 29 Mar 2011 11:22:19 +0200
Message-ID: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
Subject: should I import the XML file into a mysql dataset ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a899d1a431049f9b9803

--20cf3054a899d1a431049f9b9803
Content-Type: text/plain; charset=ISO-8859-1

hi,

I performing multiple queries (stored in a 100MB XML file) against a
collection (indexed with lucene, and it was stored before in a 100MB XML
file).

The process seems pretty long on my machine (more than 2 hours), so I was
wondering if importing the 100MB queries XML file into a mysql dataset and
extract them with Java would dramatically improve the performances (rather
than working with Java + a xml text file).

thanks

--20cf3054a899d1a431049f9b9803--

From java-user-return-49195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 09:44:22 2011
Return-Path: <java-user-return-49195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43633 invoked from network); 29 Mar 2011 09:44:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 09:44:22 -0000
Received: (qmail 4120 invoked by uid 500); 29 Mar 2011 09:44:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4073 invoked by uid 500); 29 Mar 2011 09:44:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4057 invoked by uid 99); 29 Mar 2011 09:44:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:44:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:44:08 +0000
Received: by iwr19 with SMTP id 19so6462549iwr.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 02:43:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=ZG6HhqtMiASsDZQGaojtsc3DMhv9fS1OzIQe2UWLEJk=;
        b=uvhXr/awqkuohbDPPgvv/kaQEbDXd/56MpjLVLA3bZkj+Tz60ZdDdQbvhCVkyg7Mgy
         3S9vY50gZ7PdNEXXQRB43fGPviG0hzVfGcvKEchIcLxti1EaqjFZFgzC97yb/JRjz8iF
         lMjCrKyr/7hdHuF9PTC2UEP8LiSuvFmgCViK0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=tC+ihNJbuVGOUWdC1D1+fmkBpB3/YC5n+uqMD8Jc+fpqOvk2w7PNsMoDqhNlbiNRFC
         V11oAfG2m611T/cLTKBuyM4tqKWPZQq3tvgyLv922eGpFgz2SfmG1H1z5JwWSnKoW24+
         Mow/+OPROn7bOOWecPGnaZaXixT5+Tk0GRFrU=
Received: by 10.231.216.168 with SMTP id hi40mr3788673ibb.196.1301391827123;
 Tue, 29 Mar 2011 02:43:47 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Tue, 29 Mar 2011 02:43:27 -0700 (PDT)
In-Reply-To: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
References: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Mar 2011 10:43:27 +0100
Message-ID: <BANLkTikYo1ct3Bd+0EBuy37pPnLieidwDA@mail.gmail.com>
Subject: Re: should I import the XML file into a mysql dataset ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You need to figure out what is taking the time, for example by reading
the XML file without making any lucene queries.  What XML parsing
process are you using?  Some are faster than others.  A google search
should find loads of info.

If it turns out that it is lucene searching taking most of the time,
see http://wiki.apache.org/lucene-java/ImproveSearchingSpeed


But do the figuring out first - there is little point in speeding up
the bit that is already quick.


--
Ian.


On Tue, Mar 29, 2011 at 10:22 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> hi,
>
> I performing multiple queries (stored in a 100MB XML file) against a
> collection (indexed with lucene, and it was stored before in a 100MB XML
> file).
>
> The process seems pretty long on my machine (more than 2 hours), so I was
> wondering if importing the 100MB queries XML file into a mysql dataset and
> extract them with Java would dramatically improve the performances (rather
> than working with Java + a xml text file).
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 09:44:32 2011
Return-Path: <java-user-return-49196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43707 invoked from network); 29 Mar 2011 09:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 09:44:32 -0000
Received: (qmail 6090 invoked by uid 500); 29 Mar 2011 09:44:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6047 invoked by uid 500); 29 Mar 2011 09:44:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6039 invoked by uid 99); 29 Mar 2011 09:44:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:44:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:44:22 +0000
Received: by fxm7 with SMTP id 7so51969fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 02:44:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=OYYkOMQpR1QYmVhtc65ehq0sgmPJ4Nu/vfSnE0QygtA=;
        b=fJJbBHWgKwCofqBamq2lFnrYCbi0u+cM7H2imuP61LG79sYDFZ1EPNQxELjRoNGiOG
         alDTNetTx87g2PYf1hEhmpsorOEAC0i00apjIT0Ny+d7025tzM60IBsTUqjBEBAj7OCX
         T4yhsAFgDoVV+d7wbzVgx0EuDZK8B66dPUIwk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=H7eoPUcvheTU2vqqKKIeDt6LJ1hgZmEmg/PZ5nDTFmzb51l04Bt6nHzCgV5DaPM4GG
         eu482wNojbBe1588ppx/Rb3tqvmowa0S4AmtszX7iyHWZOFq7dpmSxys6ulYfCGMpRIf
         2Ek++mrH1p6avLq7kfS4UUZgGwahC1k3Q3QSA=
MIME-Version: 1.0
Received: by 10.223.6.11 with SMTP id 11mr5614003fax.101.1301391842328; Tue,
 29 Mar 2011 02:44:02 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 02:44:02 -0700 (PDT)
In-Reply-To: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
References: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
Date: Tue, 29 Mar 2011 11:44:02 +0200
Message-ID: <AANLkTi=dzYkbBSFEEmXT+nwTEHb8DFvV2WeW8AGFhuZP@mail.gmail.com>
Subject: Re: should I import the XML file into a mysql dataset ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747849e79c1c6049f9be64c
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747849e79c1c6049f9be64c
Content-Type: text/plain; charset=ISO-8859-1

My machine is Intel Dual Duo Core with 4GB ram.. is there something wrong
here ?

On 29 March 2011 11:22, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> hi,
>
> I performing multiple queries (stored in a 100MB XML file) against a
> collection (indexed with lucene, and it was stored before in a 100MB XML
> file).
>
> The process seems pretty long on my machine (more than 2 hours), so I was
> wondering if importing the 100MB queries XML file into a mysql dataset and
> extract them with Java would dramatically improve the performances (rather
> than working with Java + a xml text file).
>
> thanks
>

--00151747849e79c1c6049f9be64c--

From java-user-return-49197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 09:49:43 2011
Return-Path: <java-user-return-49197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87305 invoked from network); 29 Mar 2011 09:49:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 09:49:43 -0000
Received: (qmail 9119 invoked by uid 500); 29 Mar 2011 09:49:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9069 invoked by uid 500); 29 Mar 2011 09:49:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9060 invoked by uid 99); 29 Mar 2011 09:49:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:49:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 09:49:34 +0000
Received: by fxm7 with SMTP id 7so55994fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 02:49:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=6vtsReacj4NQsiGBwACvJTr3AlT2AkSDF6SQfzshqPY=;
        b=ZKLup7K/2pfJmP42mXvqJ+OKrH+8T9Fc45E12Qm2pxGXgIr1RIqr5fCyvnlUm6Lmm6
         v1IXqfVJBAXdHCcZaNy0QhtqdhfYgP+3Y7uWo0xkGjOBivTkXmzTzfNyrlpwTigQQ4Go
         7xLPmM92YsaLk19N4TEkHRkqKS2HwM5azHn0Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=a/8ySjOLxsbGhatmfHT6W61s5KMMWvvLkibTyBrc0brMhZH1FijDcx2kB+SgWOQ5lT
         UDGrssha5sYnBANmgpBy39P4/5d+M61CG3Q0uF/8uUKOr+g4QEZiufiJUF2G2eaVjEye
         +3uSbIP6K63RP51keewqcnoX0waHjRpRnezx0=
MIME-Version: 1.0
Received: by 10.223.17.202 with SMTP id t10mr1109719faa.139.1301392153468;
 Tue, 29 Mar 2011 02:49:13 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 02:49:13 -0700 (PDT)
In-Reply-To: <BANLkTikYo1ct3Bd+0EBuy37pPnLieidwDA@mail.gmail.com>
References: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
	<BANLkTikYo1ct3Bd+0EBuy37pPnLieidwDA@mail.gmail.com>
Date: Tue, 29 Mar 2011 11:49:13 +0200
Message-ID: <AANLkTikec8pH8qwiPzDeR0pYsR2rsrg0n1UQyvmt7_8x@mail.gmail.com>
Subject: Re: should I import the XML file into a mysql dataset ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517478038055fd6049f9bf9c9

--001517478038055fd6049f9bf9c9
Content-Type: text/plain; charset=ISO-8859-1

1 - I'm using commons Digester as xml parser, how can I find the bottleneck
? Should I run the code and comment out the Lucene queries part and just
leave the xml parsing ?

2 - I actually also wanted to know the following: how much does it take to
run a 100MB queries text file against each single document of a 100MB
collection ? On a Intel Dual Duo Core with 4GB Ram ? Are we talking about
few hours ? Can I have an estimate ?

thanks



On 29 March 2011 11:43, Ian Lea <ian.lea@gmail.com> wrote:

> You need to figure out what is taking the time, for example by reading
> the XML file without making any lucene queries.  What XML parsing
> process are you using?  Some are faster than others.  A google search
> should find loads of info.
>
> If it turns out that it is lucene searching taking most of the time,
> see http://wiki.apache.org/lucene-java/ImproveSearchingSpeed
>
>
> But do the figuring out first - there is little point in speeding up
> the bit that is already quick.
>
>
> --
> Ian.
>
>
> On Tue, Mar 29, 2011 at 10:22 AM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > hi,
> >
> > I performing multiple queries (stored in a 100MB XML file) against a
> > collection (indexed with lucene, and it was stored before in a 100MB XML
> > file).
> >
> > The process seems pretty long on my machine (more than 2 hours), so I was
> > wondering if importing the 100MB queries XML file into a mysql dataset
> and
> > extract them with Java would dramatically improve the performances
> (rather
> > than working with Java + a xml text file).
> >
> > thanks
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001517478038055fd6049f9bf9c9--

From java-user-return-49198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 10:00:12 2011
Return-Path: <java-user-return-49198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90150 invoked from network); 29 Mar 2011 10:00:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 10:00:12 -0000
Received: (qmail 23303 invoked by uid 500); 29 Mar 2011 10:00:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23264 invoked by uid 500); 29 Mar 2011 10:00:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23256 invoked by uid 99); 29 Mar 2011 10:00:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 10:00:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 10:00:02 +0000
Received: by iwr19 with SMTP id 19so6478086iwr.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 02:59:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=Pel3VRUsWRnH4BOTv5ehnwF8gxm3mUwe3qNVF6hYYUw=;
        b=TSaK913JTLWZ30n/7I2jAjlydrS4n/bPshjuAqQYzSeVWIog9rqeZDvmjK3iP7l/uv
         9WGB/ynBASF8GQdV2nG4SMzS+Ty906RcEmzs3JyJSkqfpE1Bn0wzdcyFe7HLSPlYUDwZ
         nh+O6qYFMPo1EXdIRX/m5CHlbkmn5PUPxB+MU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=Uz1iUYOhE9/Xw6kkEiHg+UwPBndhJPIrndX52qn/SAa9d4Pf0QU7Xo8dS/iZEGByzG
         FRYxVtVgmlXGvINKUPQZPxmuaFJ0WBzHxJXRdMDAc07OeyQdfB3x0UQX/nAjmtDFnx2o
         /E2TlhSbMCFrEwmtbnkO8Opu2VK5VU3BzXlCk=
Received: by 10.231.180.19 with SMTP id bs19mr5368734ibb.146.1301392782126;
 Tue, 29 Mar 2011 02:59:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Tue, 29 Mar 2011 02:59:22 -0700 (PDT)
In-Reply-To: <AANLkTikec8pH8qwiPzDeR0pYsR2rsrg0n1UQyvmt7_8x@mail.gmail.com>
References: <AANLkTik7S2dzRo1rY2bG1oAMGn41581f8vF0SLcv4bYL@mail.gmail.com>
 <BANLkTikYo1ct3Bd+0EBuy37pPnLieidwDA@mail.gmail.com> <AANLkTikec8pH8qwiPzDeR0pYsR2rsrg0n1UQyvmt7_8x@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Mar 2011 10:59:22 +0100
Message-ID: <BANLkTiko_zD_AKheGTRd50GOaSEyYSi0=g@mail.gmail.com>
Subject: Re: should I import the XML file into a mysql dataset ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

> 1 - I'm using commons Digester as xml parser, how can I find the bottlene=
ck
> ? Should I run the code and comment out the Lucene queries part and just
> leave the xml parsing ?

That is what I was suggesting.

> 2 - I actually also wanted to know the following: how much does it take t=
o
> run a 100MB queries text file against each single document of a 100MB
> collection ? On a Intel Dual Duo Core with 4GB Ram ? Are we talking about
> few hours ? Can I have an estimate ?

How many queries are there in the file?
How many documents are there in the lucene index?
How big is the lucene index?
How long does a typical single query take?

What do you mean by "run ... against each single document"?


--
Ian.


> On 29 March 2011 11:43, Ian Lea <ian.lea@gmail.com> wrote:
>
>> You need to figure out what is taking the time, for example by reading
>> the XML file without making any lucene queries. =A0What XML parsing
>> process are you using? =A0Some are faster than others. =A0A google searc=
h
>> should find loads of info.
>>
>> If it turns out that it is lucene searching taking most of the time,
>> see http://wiki.apache.org/lucene-java/ImproveSearchingSpeed
>>
>>
>> But do the figuring out first - there is little point in speeding up
>> the bit that is already quick.
>>
>>
>> --
>> Ian.
>>
>>
>> On Tue, Mar 29, 2011 at 10:22 AM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > hi,
>> >
>> > I performing multiple queries (stored in a 100MB XML file) against a
>> > collection (indexed with lucene, and it was stored before in a 100MB X=
ML
>> > file).
>> >
>> > The process seems pretty long on my machine (more than 2 hours), so I =
was
>> > wondering if importing the 100MB queries XML file into a mysql dataset
>> and
>> > extract them with Java would dramatically improve the performances
>> (rather
>> > than working with Java + a xml text file).
>> >
>> > thanks
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 10:55:21 2011
Return-Path: <java-user-return-49199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80630 invoked from network); 29 Mar 2011 10:55:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 10:55:21 -0000
Received: (qmail 79423 invoked by uid 500); 29 Mar 2011 10:55:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79374 invoked by uid 500); 29 Mar 2011 10:55:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79366 invoked by uid 99); 29 Mar 2011 10:55:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 10:55:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 10:55:13 +0000
Received: by fxm7 with SMTP id 7so109738fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 03:54:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=/1yv35G6wr95hcJycP0V/WqK/R3dKmYGbB/LIGF4nr8=;
        b=rbwcZBGLJrVqyhv6V8Ga6HSzEyQ05UBEFvYPoBL7AU/s55mE24B9R5PjEK54y8bkMa
         294RKBv3PP5L7plT5adQY0K+c8vuL7mFO173ihpO5vyO1suw1jKJlAS5GGA+UcUlWC4n
         phmGPmIGlLKK/BDkmVce6G9P0FoOcLnNOD7N4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=EP6VGfjJ6vt9hOWqX+Bpdeb0IcQuLA8afDr/6pbn61y5riF/5GlnvaW/0HYS0hh/cr
         wCYiE0vAuad9gP3KiFhVOv+JpYqpPZVyCjQLUjfpg6V8E/K3pU4C2OY2TaitRXa9C+Dn
         8gxZr3bAsO9fsywDC5yXdkmHAUxX99ZMBEWvg=
MIME-Version: 1.0
Received: by 10.223.17.202 with SMTP id t10mr1176515faa.139.1301396091712;
 Tue, 29 Mar 2011 03:54:51 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 03:54:51 -0700 (PDT)
Date: Tue, 29 Mar 2011 12:54:51 +0200
Message-ID: <AANLkTin2CXd2jbuwjXH06he6QWv=LJi-+mQ-xScrfRgC@mail.gmail.com>
Subject: Can I run a query against few specific docs of the collection only ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517478038c30279049f9ce38b

--001517478038c30279049f9ce38b
Content-Type: text/plain; charset=ISO-8859-1

hi,

Can I run a query against few specific docs of the collection only ?

Can I filter the built collection according to documents fields content ?

For example I would like to query over documents having field2 = "abc".

thanks

--001517478038c30279049f9ce38b--

From java-user-return-49200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 11:02:07 2011
Return-Path: <java-user-return-49200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96806 invoked from network); 29 Mar 2011 11:02:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 11:02:06 -0000
Received: (qmail 89619 invoked by uid 500); 29 Mar 2011 11:02:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89562 invoked by uid 500); 29 Mar 2011 11:02:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89554 invoked by uid 99); 29 Mar 2011 11:02:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 11:02:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 11:01:57 +0000
Received: by iym1 with SMTP id 1so52471iym.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 04:01:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=m0aAfYbbNjS9/fHHw+5a86pPtLIHUJa52x3PyT6U8M8=;
        b=Rn2vmyWAsx/nQg1CMmEVOn6b0LJSuX+TzvuI2G7r8NOiF8e/QLBm0/9yf85xsPp1vL
         gSlPv8lXiVEz3svSAqKEsenHUPlPOWFLTGUbJnWWEU+HnCr8JF0lSQ8sgL4B641IXu57
         R+aLeeK3PbWIYY3AkcNLDSZgtpVruRa9aGsTs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=C9QtwMyQk965O8X2unP9gy/YLGYb8R/A45HBDf4tcjNqbwxO5BMbfoIzvLGOv4/wly
         AL2YmmbEgV7N4ZrKFApuZXPMcJE484EpJcvYRSpiOmiA4GU5V6N4WXeIE6WYcQnpnyyT
         OhgXLmct+UomseOB2SJDbDKaUJOk70YlGmtWM=
Received: by 10.42.74.71 with SMTP id v7mr4856635icj.232.1301396496124; Tue,
 29 Mar 2011 04:01:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Tue, 29 Mar 2011 04:01:16 -0700 (PDT)
In-Reply-To: <AANLkTin2CXd2jbuwjXH06he6QWv=LJi-+mQ-xScrfRgC@mail.gmail.com>
References: <AANLkTin2CXd2jbuwjXH06he6QWv=LJi-+mQ-xScrfRgC@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Mar 2011 12:01:16 +0100
Message-ID: <BANLkTingP9CAdhkB3AUWgNPCXbSsnjEm_Q@mail.gmail.com>
Subject: Re: Can I run a query against few specific docs of the collection
 only ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

http://wiki.apache.org/lucene-java/LuceneFAQ#How_do_I_restrict_searches_to_only_return_results_from_a_limited_subset_of_documents_in_the_index_.28e.g._for_privacy_reasons.29.3F_What_is_the_best_way_to_approach_this.3F


--
Ian.


On Tue, Mar 29, 2011 at 11:54 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> hi,
>
> Can I run a query against few specific docs of the collection only ?
>
> Can I filter the built collection according to documents fields content ?
>
> For example I would like to query over documents having field2 = "abc".
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 11:21:37 2011
Return-Path: <java-user-return-49201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67658 invoked from network); 29 Mar 2011 11:21:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 11:21:37 -0000
Received: (qmail 8643 invoked by uid 500); 29 Mar 2011 11:21:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8606 invoked by uid 500); 29 Mar 2011 11:21:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8598 invoked by uid 99); 29 Mar 2011 11:21:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 11:21:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 11:21:29 +0000
Received: by fxm7 with SMTP id 7so131621fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 04:21:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=UZS9j435ZdufYuZjx8mFvyIq0jxctrbaaPD04PJ+ocw=;
        b=qzlQA4bviUsLXSkh7MsevjD+Xw6YBNxEzGcC9jWaMBQX02AXcixlsyshUW86Gtx2WW
         /sNGICMUgDoyLK4l3GOV4HK08Gs1resAWjlUHFU7UKU+1OyI8hsUJhmUPHSIRt9P21Cr
         DqKG0nMrnODUB9ItUcOKcDolfqvduSMmywLwA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=aSK5HU/KKsKrWbsQWOfBBWdoeOD0y2IPCABb1cFt1CHL9gpsM8htBuz1n59G4DAtNM
         NJMxmaHhizGM029KbE5brTJuGARfx1/CTSwYL8E0F2/067bzsONHtO0yrGr7RN9QFgSw
         L5Hz55FfbdsTXSAVCr6oGyda+QqvAOo6lJPKo=
MIME-Version: 1.0
Received: by 10.223.2.8 with SMTP id 8mr549298fah.82.1301397668002; Tue, 29
 Mar 2011 04:21:08 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 04:21:07 -0700 (PDT)
Date: Tue, 29 Mar 2011 13:21:07 +0200
Message-ID: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
Subject: cannot find org.apache.lucene.search.TermsFilter
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a48db67a78049f9d4199

--20cf3054a48db67a78049f9d4199
Content-Type: text/plain; charset=ISO-8859-1

I've downloaded the nightly build of Lucene (TRUNK) and I'm referring to the
following documentation:

https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-trunk/javadoc/all/index.html

But I get:
cannot find symbol
symbol  : class TermsFilter
location: package org.apache.lucene.search
import org.apache.lucene.search.TermsFilter;

thanks

--20cf3054a48db67a78049f9d4199--

From java-user-return-49202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 12:21:49 2011
Return-Path: <java-user-return-49202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63015 invoked from network); 29 Mar 2011 12:21:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 12:21:49 -0000
Received: (qmail 96034 invoked by uid 500); 29 Mar 2011 12:21:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95987 invoked by uid 500); 29 Mar 2011 12:21:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95979 invoked by uid 99); 29 Mar 2011 12:21:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:21:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:21:42 +0000
Received: by qyk2 with SMTP id 2so2297174qyk.14
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 05:21:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=ckZ+F4jb0R4bg9aJalZ4e6IPaaN0v0rz/yeVMtZYVkA=;
        b=khDUkfhY/kL2HidU/j4/Y8fWU1NrFCcTt2MZl0CHh829yGKol3gSmfgaCMBf8CgDeq
         gvvypgF+tjSJHwd9GbxDwX+ZwAIzjgWd8AZ3MZwhuXK6K/kZfRFHhIMs5xKm1/zP8abh
         WRd53zc0lXLAVmCnQExIHvErVve9Fnw0xkgIY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=PpmSz7xWo36nVblC3jiqztnacsT5d//IFIXzv1BM0/uP0fbN2FVDpZ3ICoO6fo6+Oe
         TF1ziqoc6QWln30Nnv9v7rks867swLUvwB5ztDNm3dN1CREgTmcf1L/M2NZ/PBGH0nh4
         uQZ6ZMEfCw3kUUvSaPQHL3360B+NyPnxD3VxQ=
MIME-Version: 1.0
Received: by 10.229.111.194 with SMTP id t2mr4456371qcp.48.1301401281506; Tue,
 29 Mar 2011 05:21:21 -0700 (PDT)
Received: by 10.229.72.8 with HTTP; Tue, 29 Mar 2011 05:21:21 -0700 (PDT)
In-Reply-To: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
Date: Tue, 29 Mar 2011 08:21:21 -0400
Message-ID: <AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I'm always skeptical of storing the doc IDs since they can
change out from underneath you (just delete even a single
document and optimize). What is it you're doing with
the doc ID that you couldn't do with the guid? If your "guid list"
were ordered, I can imagine building filters quite quickly from
it using TermDocs.skipTo for instance..

Or is this entirely unreasonable???

Best
Erick

On Mon, Mar 28, 2011 at 8:31 PM, Trejkaz <trejkaz@trypticon.org> wrote:
> Hi all.
>
> I'm trying to parallelise writing documents into an index. =A0Let's set
> aside the fact that 3.1 is much better at this than 3.0.x... but I'm
> using 3.0.3.
>
> One of the things I need to know is the doc ID of each document added
> so that we can add them into auxiliary database tables which are keyed
> by it. =A0If multiple threads are using the same writer, I can still do
> this as follows:
>
> =A0 =A0IndexWriter writer;
> =A0 =A0boolean parallel;
>
> =A0 =A0// ...
>
> =A0 =A0private int addDocument(String guid, ...) {
> =A0 =A0 =A0 =A0Document doc =3D new Document();
> =A0 =A0 =A0 =A0doc.add(new Field("guid", guid, Store.YES, Index.ANALYZED)=
);
> =A0 =A0 =A0 =A0// eliding other fields
> =A0 =A0 =A0 =A0writer.addDocument(doc);
>
> =A0 =A0 =A0 =A0if (parallel) {
> =A0 =A0 =A0 =A0 =A0 =A0IndexReader realTimeReader =3D writer.getReader();
> =A0 =A0 =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0TermDocs termDocs =3D realTimeReader.termD=
ocs();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0termDocs.seek(new Term("guid", gui=
d));
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (termDocs.next()) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0return termDocs.doc();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0} else {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0throw new IllegalStateExce=
ption(String.format(
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0"We added item wit=
h GUID %s but it wasn't
> found immediately afterwards", guid));
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0} finally {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0termDocs.close();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0} finally {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0realTimeReader.close();
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0} else {
> =A0 =A0 =A0 =A0 =A0 =A0return writer.maxDoc();
> =A0 =A0 =A0 =A0}
> =A0 =A0}
>
> Benchmarking this for a single thread, there is a difference in cost
> between doing it using a search and doing it by calling maxDoc(), as
> you might expect:
>
> =A0 =A0Time for parallel-safe version: 147.561s
> =A0 =A0Time for unsafe version: 62.603s
>
> Is there a way to achieve this result with less overhead?
>
> (Note: for reasons of performance, we cannot use a field to store an
> ID to use for database tables, as this is several orders of magnitude
> slower when you need to build a filter based on a database query.)
>
> TX
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 12:27:00 2011
Return-Path: <java-user-return-49203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86002 invoked from network); 29 Mar 2011 12:27:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 12:27:00 -0000
Received: (qmail 3995 invoked by uid 500); 29 Mar 2011 12:26:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3933 invoked by uid 500); 29 Mar 2011 12:26:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3925 invoked by uid 99); 29 Mar 2011 12:26:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:26:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:26:50 +0000
Received: by qwj9 with SMTP id 9so71944qwj.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 05:26:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=qNgybmPWvKrhRNSHKQWCV90MP9GjqhcRh5M9XQDS8DI=;
        b=A1g2sNXSmDy/lX5LKFyoHUVzDAn/eeX9MRL19jrA2C01hlDrrBeokTx6Mi9h5Di41Z
         4bTbOhvZOeF6uk+zg+VS+K3BKYemyttfO9BOAoFrCK/Kg+jsZjZ1IoW8cjchXK4qspYM
         6xGn4Wb73tQnnpc2P4Om6cjDJtLLC8cjI3h68=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=g5ekd/zNOPTVNmWfn+5AUQFC9Lv10VKTyJcdwOJIb8hxxXuAg/4a+cfpBzO8HxP7ii
         5oHmbTmBKhytR9Db3gXEgWqHbNUYztAydQ9vVufdHbr+QYrgvYWb+qrlNN/n9fJMrpjZ
         TkZXfyjuR/2qrRE/LRFoQVLpMV4yTgluP5qCM=
MIME-Version: 1.0
Received: by 10.229.8.209 with SMTP id i17mr526939qci.86.1301401589661; Tue,
 29 Mar 2011 05:26:29 -0700 (PDT)
Received: by 10.229.72.8 with HTTP; Tue, 29 Mar 2011 05:26:29 -0700 (PDT)
In-Reply-To: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
Date: Tue, 29 Mar 2011 08:26:29 -0400
Message-ID: <AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>
Subject: Re: cannot find org.apache.lucene.search.TermsFilter
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

You get this in response to doing what? Are you sure you've unpackaged
the nightly build and aren't inadvertently getting older jars?

Best
Erick

On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> I've downloaded the nightly build of Lucene (TRUNK) and I'm referring to =
the
> following documentation:
>
> https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-trunk/ja=
vadoc/all/index.html
>
> But I get:
> cannot find symbol
> symbol =A0: class TermsFilter
> location: package org.apache.lucene.search
> import org.apache.lucene.search.TermsFilter;
>
> thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 12:35:32 2011
Return-Path: <java-user-return-49204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32377 invoked from network); 29 Mar 2011 12:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 12:35:32 -0000
Received: (qmail 19528 invoked by uid 500); 29 Mar 2011 12:35:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19490 invoked by uid 500); 29 Mar 2011 12:35:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19482 invoked by uid 99); 29 Mar 2011 12:35:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:35:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 12:35:22 +0000
Received: by fxm7 with SMTP id 7so202724fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 05:35:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=p/mq/6K6dVkC02paLZ8WxBYicfd/YphJrCsbvqvq5Mw=;
        b=AVlNGa7fhmQmJrOcf9TQdrZMMz6fKZR3MCE62kstsiffrrSSlyz8mq0PLzupUJTDK4
         buhIiC5vCGScEPVSujQr8aKilhH8iOJJsEeNB9WfZleEpGj3BMe2N5ohX0x6RRb56BhX
         HrxjAOZXMpBKgSZPGqKmiwLGxprKREBSHjWto=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ZsKcCWJjNmOM8jsPPlKXW57ZgguzLfyj7PUD38In1ERbDdrJh1+oySwIIhQAJcf3sA
         FSAb/0y6yu0Zu1zJetriykWYvRoSlahYSvmrez3ZqHjYDYsTQkIDQApihZhNcNrg8XBh
         WE362mNw1+VCKvutn8WaSnkOAa6vfEC6/dGsc=
MIME-Version: 1.0
Received: by 10.223.17.202 with SMTP id t10mr1285306faa.139.1301402102147;
 Tue, 29 Mar 2011 05:35:02 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 05:35:02 -0700 (PDT)
In-Reply-To: <AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
	<AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>
Date: Tue, 29 Mar 2011 14:35:02 +0200
Message-ID: <AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>
Subject: Re: cannot find org.apache.lucene.search.TermsFilter
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517478038022f77049f9e4a9b
X-Virus-Checked: Checked by ClamAV on apache.org

--001517478038022f77049f9e4a9b
Content-Type: text/plain; charset=ISO-8859-1

I get that in response to this:
import org.apache.lucene.search.TermsFilter;

well I'm only using this jar: lucene-core-4.0-20110304.141738-1.jar

and for example this line of my code compiles correctly:

booleanQuery.add(new QueryParser(org.apache.lucene.util.Version.LUCENE_40,
"tags", new
WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phrase[i]),
BooleanClause.Occur.SHOULD);

So, I assume I'm using the nightly build.

Thanks



On 29 March 2011 14:26, Erick Erickson <erickerickson@gmail.com> wrote:

> You get this in response to doing what? Are you sure you've unpackaged
> the nightly build and aren't inadvertently getting older jars?
>
> Best
> Erick
>
> On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > I've downloaded the nightly build of Lucene (TRUNK) and I'm referring to
> the
> > following documentation:
> >
> >
> https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-trunk/javadoc/all/index.html
> >
> > But I get:
> > cannot find symbol
> > symbol  : class TermsFilter
> > location: package org.apache.lucene.search
> > import org.apache.lucene.search.TermsFilter;
> >
> > thanks
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001517478038022f77049f9e4a9b--

From java-user-return-49205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 13:18:41 2011
Return-Path: <java-user-return-49205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49790 invoked from network); 29 Mar 2011 13:18:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 13:18:40 -0000
Received: (qmail 1112 invoked by uid 500); 29 Mar 2011 13:18:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1070 invoked by uid 500); 29 Mar 2011 13:18:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1062 invoked by uid 99); 29 Mar 2011 13:18:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 13:18:38 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 Mar 2011 13:18:37 +0000
Received: (qmail 48208 invoked by uid 99); 29 Mar 2011 13:18:17 -0000
Received: from localhost.apache.org (HELO [10.0.0.12]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 13:18:17 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: Definition Extraction
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <145460.59283.qm@web130120.mail.mud.yahoo.com>
Date: Tue, 29 Mar 2011 09:18:12 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <E3418D0D-61B9-4F67-AC3E-79835EC405FF@apache.org>
References: <145460.59283.qm@web130120.mail.mud.yahoo.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1084)

Java codes to do what?  You might ask machine learning questions over on =
user@mahout.apache.org, but please be provide more details on what you =
are doing.

On Mar 29, 2011, at 3:12 AM, henok sahilu wrote:

> Hello All
> Recently, I am trying to develop an automatic definition extraction =
system for Amharic Language - using machine learning technique (Version =
Space learning). Can anyone suggest me some java codes to start with?
> Thank You=20
> Henok
> =20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem docs using Solr/Lucene:
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 13:36:11 2011
Return-Path: <java-user-return-49206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29739 invoked from network); 29 Mar 2011 13:36:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 13:36:11 -0000
Received: (qmail 37168 invoked by uid 500); 29 Mar 2011 13:36:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37107 invoked by uid 500); 29 Mar 2011 13:36:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37099 invoked by uid 99); 29 Mar 2011 13:36:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 13:36:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vineet.yadav.iiit@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 13:36:01 +0000
Received: by wwi18 with SMTP id 18so140785wwi.5
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 06:35:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=6NFFQCohBOfVvBzzveq51LoKIzDC3ctQ3iAvL6hNlJk=;
        b=BvyFrxu0nY8gelV07KxbvPlotPZdiCsbKGjpy4uZ4cNrZWY7dOQ2bkcmTKnEDn5KNV
         /5gqxQa1yLwiTMCM6vp0EXJU4pOElcpDvpnu/SlosbrDIeo5DzaBQtlI4LuwI8CS5Sks
         GsA7/lTBACjnu036K7ZMAAUx9lE4DyxIc1+Lc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=BfJXQ/HoLAixnoJqkfn1QrFXj1SWr9lk36gfQzillcJD8EXAg4HHwrkK4mkDRXHfYx
         qcBkhUi/FshXn9MCYHlirSfkijojtJ8aYWFoaaaiLxuL4h1QQ5Zvk4lwQ5on5nbBpc0r
         F91UyXXtk8xIdYlFbvwLWkYwovUpyWMBZ4mIU=
MIME-Version: 1.0
Received: by 10.216.16.100 with SMTP id g78mr5088807weg.55.1301405740797; Tue,
 29 Mar 2011 06:35:40 -0700 (PDT)
Received: by 10.216.188.202 with HTTP; Tue, 29 Mar 2011 06:35:40 -0700 (PDT)
In-Reply-To: <145460.59283.qm@web130120.mail.mud.yahoo.com>
References: <145460.59283.qm@web130120.mail.mud.yahoo.com>
Date: Tue, 29 Mar 2011 19:05:40 +0530
Message-ID: <AANLkTinUrjd1+=WgpvWCUi5tPE64ezEajvMv_pcQQZQv@mail.gmail.com>
Subject: Re: Definition Extraction
From: vineet yadav <vineet.yadav.iiit@gmail.com>
To: java-user@lucene.apache.org
Cc: henok sahilu <henok_sahilu@yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

If you are using Machine learning techniques for concept learning then
you can use mahout library. Mahout has plenty of clustering
algorithms(https://cwiki.apache.org/confluence/display/MAHOUT/Algorithms)
which are useful for concept learning.
Thanks
Vineet Yadav
On Tue, Mar 29, 2011 at 12:42 PM, henok sahilu <henok_sahilu@yahoo.com> wrote:
> Hello All
> Recently, I am trying to develop an automatic definition extraction system for Amharic Language - using machine learning technique (Version Space learning). Can anyone suggest me some java codes to start with?
> Thank You
> Henok
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 14:01:33 2011
Return-Path: <java-user-return-49207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89320 invoked from network); 29 Mar 2011 14:01:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 14:01:33 -0000
Received: (qmail 78821 invoked by uid 500); 29 Mar 2011 14:01:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78776 invoked by uid 500); 29 Mar 2011 14:01:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78766 invoked by uid 99); 29 Mar 2011 14:01:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 14:01:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 14:01:24 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 723DD45EA35
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 16:01:03 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mAPQI2My635t for <java-user@lucene.apache.org>;
	Tue, 29 Mar 2011 16:00:58 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 5A0AC45EA04
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 16:00:58 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>	<AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com> <AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>
In-Reply-To: <AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>
Subject: RE: cannot find org.apache.lucene.search.TermsFilter
Date: Tue, 29 Mar 2011 16:00:59 +0200
Message-ID: <022e01cbee19$bba7f1d0$32f7d570$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLK5rCy+PVCNtuPChQdgXT00BFo0wIYmQEOAlsSdnySIshpIA==
Content-Language: de

Hi,

The TermsFilter is not in Lucene Core. You have to use one of the contrib
JARS (I think it is contrib-queries, so should be lucene-queries.jar).

Uwe
-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Tuesday, March 29, 2011 2:35 PM
> To: java-user@lucene.apache.org
> Subject: Re: cannot find org.apache.lucene.search.TermsFilter
> 
> I get that in response to this:
> import org.apache.lucene.search.TermsFilter;
> 
> well I'm only using this jar: lucene-core-4.0-20110304.141738-1.jar
> 
> and for example this line of my code compiles correctly:
> 
> booleanQuery.add(new
> QueryParser(org.apache.lucene.util.Version.LUCENE_40,
> "tags", new
> WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phr
> ase[i]),
> BooleanClause.Occur.SHOULD);
> 
> So, I assume I'm using the nightly build.
> 
> Thanks
> 
> 
> 
> On 29 March 2011 14:26, Erick Erickson <erickerickson@gmail.com> wrote:
> 
> > You get this in response to doing what? Are you sure you've unpackaged
> > the nightly build and aren't inadvertently getting older jars?
> >
> > Best
> > Erick
> >
> > On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
> > <patrick.diviacco@gmail.com> wrote:
> > > I've downloaded the nightly build of Lucene (TRUNK) and I'm
> > > referring to
> > the
> > > following documentation:
> > >
> > >
> > https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-
> trunk
> > /javadoc/all/index.html
> > >
> > > But I get:
> > > cannot find symbol
> > > symbol  : class TermsFilter
> > > location: package org.apache.lucene.search import
> > > org.apache.lucene.search.TermsFilter;
> > >
> > > thanks
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 14:09:59 2011
Return-Path: <java-user-return-49208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33901 invoked from network); 29 Mar 2011 14:09:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 14:09:59 -0000
Received: (qmail 94131 invoked by uid 500); 29 Mar 2011 14:09:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93866 invoked by uid 500); 29 Mar 2011 14:09:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93782 invoked by uid 99); 29 Mar 2011 14:09:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 14:09:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erik.hatcher@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 14:09:45 +0000
Received: by gxk7 with SMTP id 7so98925gxk.35
        for <multiple recipients>; Tue, 29 Mar 2011 07:09:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:content-type:content-transfer-encoding
         :subject:date:message-id:to:mime-version:x-mailer;
        bh=w/e3DbGK1lO1UBywqL764WPkGOnX7yAagpcovVI6eJQ=;
        b=Gmglv7NlEnMzVRstaz62EnoQGWbqhHE3rntnplHIlpKg5VRkToRU+DsIGW6h04yDdJ
         vTzQ1NnXKCF4HQBujPpNA4O4uizF8BAzg/AInsh8h1HzoJlNgN867d9MFaXCStI1kd11
         RKFrzWI/38OFCXTK+cGKMA+KLVO8cuobnknQE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:content-type:content-transfer-encoding:subject:date:message-id
         :to:mime-version:x-mailer;
        b=H93DN0tFCnXip8p5BGcCpBqXfO6KZxRzxR87nmrSs+l5BwWL52ocJr6qrSjuLrhYRV
         AJqYDTWxSgbfr91gRwoA9Zl4MbiJrwUWgUSB3wc62CTmeCHrC7S1oUf01NDuvNv9EzdS
         UYOSHQ7cWxdpi2coGbpSZYjYovnno6PibExyA=
Received: by 10.236.144.230 with SMTP id n66mr4055246yhj.41.1301407763938;
        Tue, 29 Mar 2011 07:09:23 -0700 (PDT)
Received: from [10.0.1.21] (c-71-63-2-238.hsd1.va.comcast.net [71.63.2.238])
        by mx.google.com with ESMTPS id i10sm2476839yhd.10.2011.03.29.07.09.21
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 29 Mar 2011 07:09:22 -0700 (PDT)
From: Erik Hatcher <erik.hatcher@gmail.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: [infomercial] Lucene Refcard at DZone
Date: Tue, 29 Mar 2011 10:09:20 -0400
Message-Id: <C6D7B27C-177F-4784-985F-4839CFD3C4FD@gmail.com>
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org,
 general@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

I've written an "Understanding Lucene" refcard that has just been =
published at DZone.  See here for details:

   =
http://www.lucidimagination.com/blog/2011/03/28/understanding-lucene-by-er=
ik-hatcher-free-dzone-refcard-now-available/

If you're new to Lucene or Solr, this refcard will be a nice grounding =
in the fundamental concepts.  For you old timers, pass it on to your =
friends and coworkers :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 15:41:46 2011
Return-Path: <java-user-return-49209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30865 invoked from network); 29 Mar 2011 15:41:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 15:41:46 -0000
Received: (qmail 4669 invoked by uid 500); 29 Mar 2011 15:41:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4627 invoked by uid 500); 29 Mar 2011 15:41:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4619 invoked by uid 99); 29 Mar 2011 15:41:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 15:41:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 15:41:39 +0000
Received: by fxm7 with SMTP id 7so462035fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 08:41:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=3Nlzr0m0bDr6IOG5pIxQtxpJd9PCG75ed3X9XZ2+4Ho=;
        b=hiJrLVNbuEfAumfzeYiUJCM8AngKxO7qpEsDWTP8KeFqGnyHMh14/LkEwLroeU2CLe
         jquJ8sHsKUlV2sL2trWrNDSh5CIe4DtTFVfgzeWcKQL/TTwfj9jjPOLKw8aPBA0lIQQt
         kdTSKiUmxXMUeIKxYQfhmIXmZTIe8/RybE0Qk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ITV7JIGiUoufcbV4DyGH8lvM42r6GzrzeLLFfjAIfnACzhusE0M2WY/lzhlHrQ71x8
         1CK0Wl5YgnjTvrYz/w1yc3i7ExfH4saEv0VLwc6BRVAZplMVuQCqQuChTNPPjK5CvDV1
         I2cW0znoTxo/6o6Sd7vFXvbWfuD+gh7YYpl8A=
MIME-Version: 1.0
Received: by 10.223.86.2 with SMTP id q2mr6020720fal.120.1301413277641; Tue,
 29 Mar 2011 08:41:17 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 08:41:17 -0700 (PDT)
In-Reply-To: <022e01cbee19$bba7f1d0$32f7d570$@thetaphi.de>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
	<AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>
	<AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>
	<022e01cbee19$bba7f1d0$32f7d570$@thetaphi.de>
Date: Tue, 29 Mar 2011 17:41:17 +0200
Message-ID: <AANLkTi=zxH6g9qQfJ-hF_FeDTCmL2JZO395Ly1AHbw0o@mail.gmail.com>
Subject: Re: cannot find org.apache.lucene.search.TermsFilter
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30433ee81eae93049fa0e418

--20cf30433ee81eae93049fa0e418
Content-Type: text/plain; charset=ISO-8859-1

Ok, the svn repository I can only find the source files. Should I build the
jar by myself or is there a packaged jar to download ?

thanks

On 29 March 2011 16:00, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi,
>
> The TermsFilter is not in Lucene Core. You have to use one of the contrib
> JARS (I think it is contrib-queries, so should be lucene-queries.jar).
>
> Uwe
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > Sent: Tuesday, March 29, 2011 2:35 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: cannot find org.apache.lucene.search.TermsFilter
> >
> > I get that in response to this:
> > import org.apache.lucene.search.TermsFilter;
> >
> > well I'm only using this jar: lucene-core-4.0-20110304.141738-1.jar
> >
> > and for example this line of my code compiles correctly:
> >
> > booleanQuery.add(new
> > QueryParser(org.apache.lucene.util.Version.LUCENE_40,
> > "tags", new
> > WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phr
> > ase[i]),
> > BooleanClause.Occur.SHOULD);
> >
> > So, I assume I'm using the nightly build.
> >
> > Thanks
> >
> >
> >
> > On 29 March 2011 14:26, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > > You get this in response to doing what? Are you sure you've unpackaged
> > > the nightly build and aren't inadvertently getting older jars?
> > >
> > > Best
> > > Erick
> > >
> > > On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
> > > <patrick.diviacco@gmail.com> wrote:
> > > > I've downloaded the nightly build of Lucene (TRUNK) and I'm
> > > > referring to
> > > the
> > > > following documentation:
> > > >
> > > >
> > > https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-
> > trunk
> > > /javadoc/all/index.html
> > > >
> > > > But I get:
> > > > cannot find symbol
> > > > symbol  : class TermsFilter
> > > > location: package org.apache.lucene.search import
> > > > org.apache.lucene.search.TermsFilter;
> > > >
> > > > thanks
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf30433ee81eae93049fa0e418--

From java-user-return-49210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 16:07:26 2011
Return-Path: <java-user-return-49210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33198 invoked from network); 29 Mar 2011 16:07:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 16:07:26 -0000
Received: (qmail 46052 invoked by uid 500); 29 Mar 2011 16:07:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46020 invoked by uid 500); 29 Mar 2011 16:07:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46012 invoked by uid 99); 29 Mar 2011 16:07:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 16:07:23 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 16:07:16 +0000
Received: by fxm7 with SMTP id 7so501493fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 09:06:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vREwfoZn7sMnfyOhVD10jtfsTIVVt5SOVk8J6xb+mDk=;
        b=C9vk2/9AdM+APh+I20Mu0IY4z0jeOLYi0XNYriJEyaUJqgx72lM2dvPWMuOSt36HjR
         8MyZfqqxx1IbIpadz20CjC8KYa2Yt+TZl3UuqSBKySt+uL9PXicEwCqDELEh8pbpe/1s
         Q6i0F5khAInM18CMRXKGFWxPHosbYr5SX0o+Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=h3E0fkGV1EcWszMY12R70+e9TEbA0p3MdzKlF3AxDqG37LEEZHJ/BiEkrYb/a8tFJ7
         Bs1jHjjklF5pQXdLswJ/7LEM6oAcSjbjUS5XZr/B5DAmXZOFemJjVukW95qw9znA8XvH
         S0aNQF9G4mX4AVyNfF+fdf7O4yEpEZhN4k1q8=
MIME-Version: 1.0
Received: by 10.223.6.11 with SMTP id 11mr6053383fax.101.1301414814743; Tue,
 29 Mar 2011 09:06:54 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 09:06:54 -0700 (PDT)
In-Reply-To: <AANLkTi=zxH6g9qQfJ-hF_FeDTCmL2JZO395Ly1AHbw0o@mail.gmail.com>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>
	<AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>
	<AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>
	<022e01cbee19$bba7f1d0$32f7d570$@thetaphi.de>
	<AANLkTi=zxH6g9qQfJ-hF_FeDTCmL2JZO395Ly1AHbw0o@mail.gmail.com>
Date: Tue, 29 Mar 2011 18:06:54 +0200
Message-ID: <AANLkTinu=4gt5Mh2h0HaZVoFbfZRQjfJ_fcvd7i8Cdpb@mail.gmail.com>
Subject: Re: cannot find org.apache.lucene.search.TermsFilter
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151747849ebcfeaf049fa13f70
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747849ebcfeaf049fa13f70
Content-Type: text/plain; charset=ISO-8859-1

Nevermind, I've compiled it using ant. solved thanks

On 29 March 2011 17:41, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> Ok, the svn repository I can only find the source files. Should I build the
> jar by myself or is there a packaged jar to download ?
>
> thanks
>
>
> On 29 March 2011 16:00, Uwe Schindler <uwe@thetaphi.de> wrote:
>
>> Hi,
>>
>> The TermsFilter is not in Lucene Core. You have to use one of the contrib
>> JARS (I think it is contrib-queries, so should be lucene-queries.jar).
>>
>> Uwe
>> -----
>> Uwe Schindler
>> H.-H.-Meier-Allee 63, D-28213 Bremen
>> http://www.thetaphi.de
>> eMail: uwe@thetaphi.de
>>
>>
>> > -----Original Message-----
>> > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
>> > Sent: Tuesday, March 29, 2011 2:35 PM
>> > To: java-user@lucene.apache.org
>> > Subject: Re: cannot find org.apache.lucene.search.TermsFilter
>> >
>> > I get that in response to this:
>> > import org.apache.lucene.search.TermsFilter;
>> >
>> > well I'm only using this jar: lucene-core-4.0-20110304.141738-1.jar
>> >
>> > and for example this line of my code compiles correctly:
>> >
>> > booleanQuery.add(new
>> > QueryParser(org.apache.lucene.util.Version.LUCENE_40,
>> > "tags", new
>> > WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(phr
>> > ase[i]),
>> > BooleanClause.Occur.SHOULD);
>> >
>> > So, I assume I'm using the nightly build.
>> >
>> > Thanks
>> >
>> >
>> >
>> > On 29 March 2011 14:26, Erick Erickson <erickerickson@gmail.com> wrote:
>> >
>> > > You get this in response to doing what? Are you sure you've unpackaged
>> > > the nightly build and aren't inadvertently getting older jars?
>> > >
>> > > Best
>> > > Erick
>> > >
>> > > On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
>> > > <patrick.diviacco@gmail.com> wrote:
>> > > > I've downloaded the nightly build of Lucene (TRUNK) and I'm
>> > > > referring to
>> > > the
>> > > > following documentation:
>> > > >
>> > > >
>> > > https://hudson.apache.org/hudson/view/G-L/view/Lucene/job/Lucene-
>> > trunk
>> > > /javadoc/all/index.html
>> > > >
>> > > > But I get:
>> > > > cannot find symbol
>> > > > symbol  : class TermsFilter
>> > > > location: package org.apache.lucene.search import
>> > > > org.apache.lucene.search.TermsFilter;
>> > > >
>> > > > thanks
>> > > >
>> > >
>> > > ---------------------------------------------------------------------
>> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > > For additional commands, e-mail: java-user-help@lucene.apache.org
>> > >
>> > >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

--00151747849ebcfeaf049fa13f70--

From java-user-return-49211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 18:40:46 2011
Return-Path: <java-user-return-49211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30157 invoked from network); 29 Mar 2011 18:40:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 18:40:45 -0000
Received: (qmail 65685 invoked by uid 500); 29 Mar 2011 18:40:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65648 invoked by uid 500); 29 Mar 2011 18:40:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65640 invoked by uid 99); 29 Mar 2011 18:40:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 18:40:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 18:40:37 +0000
Received: by fxm7 with SMTP id 7so718420fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 11:40:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Lb/pttSXO03DhqYm1i8TGbcMgtjrdizj+LRhTkI3tVU=;
        b=kZaz50yhkOUqna7Mw7a7et4yD5Hzy9sMNUjSnl1Z50Xg4UVFYBJyDE/QhX9iZHToMJ
         oP5iAsEQ1wN3hmbxkMxboHyAyeStHas7QUFP0WtnrTI+1kyL+iOscx9EhLnVsBElfzqw
         9/gxBcpA2HLXPHzKXgJJmKAK4QMX72ZI7gC/k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Rngghooi2HNMgIJcy/Q418mYXRiwvWxJNGrXWZqwwIybTOFgzuhNcEgo4iER0nPmsp
         5/g8jNA8SuKSnNoQQAZWYp5bLlxrwadbHrmtZ0lNsbsSJzMT6ffQDcLQMALwQguLNiTK
         Sz1TYc+PpTDbEcA1O59sPMglH13IShy9WjK24=
MIME-Version: 1.0
Received: by 10.223.17.202 with SMTP id t10mr121971faa.139.1301424015979; Tue,
 29 Mar 2011 11:40:15 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 11:40:15 -0700 (PDT)
Date: Tue, 29 Mar 2011 20:40:15 +0200
Message-ID: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
Subject: Filter to retrieve random documents without specific terms ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174780382cb6fd049fa3642a

--0015174780382cb6fd049fa3642a
Content-Type: text/plain; charset=ISO-8859-1

Is there a Filter to get a limited number of random collection docs from the
index which DO NOT contain a specific term ?

i.e. term="pizza"

I want to run the query against 10 random documents of the collection that
do not contain the term "pizza".

thanks

--0015174780382cb6fd049fa3642a--

From java-user-return-49212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 19:00:35 2011
Return-Path: <java-user-return-49212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82136 invoked from network); 29 Mar 2011 19:00:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 19:00:34 -0000
Received: (qmail 2225 invoked by uid 500); 29 Mar 2011 19:00:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2181 invoked by uid 500); 29 Mar 2011 19:00:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2173 invoked by uid 99); 29 Mar 2011 19:00:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:00:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:00:24 +0000
Received: by fxm7 with SMTP id 7so744206fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 12:00:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=SXs3vuYYQAxp1ofCzqqtJNQGkyOLKSHF9O68A2+0OyE=;
        b=oUGOGvb2QZKfdrd22wGFMAtnUh0Tf8S1zjohbTNXJhutkRH5xDQNoWKEdnwCJC3u3k
         lCce7u9BbMa/1cQYgMffgGJfw7f7G8GRb8/c0HYnEVmsTBMGPO6j+TV4RIfJEWQ8hrta
         f/KXvExuIhqiH4TErHRZr95DXKvijw6C2F3Ks=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=i3IWutybQoD50qdIPAP06WrAZbpwm0sDd6J5W9szV8F0crMS8t7Q9x0uitXN/awxVq
         HGsp+zZHmoVYZu1bRSoqbuVPge+8Aq2cDv6cNlK1FYmV0BEQJU74cq3Yo+4ETDsuDcYD
         c+o2mMR2LJJHaoVrYXPRfeIKBU1BH3DO+frrY=
MIME-Version: 1.0
Received: by 10.223.9.137 with SMTP id l9mr207755fal.25.1301425204437; Tue, 29
 Mar 2011 12:00:04 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 12:00:04 -0700 (PDT)
In-Reply-To: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
Date: Tue, 29 Mar 2011 21:00:04 +0200
Message-ID: <AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517476200032192049fa3ab2e
X-Virus-Checked: Checked by ClamAV on apache.org

--001517476200032192049fa3ab2e
Content-Type: text/plain; charset=ISO-8859-1

Ok I've solved the first part of the problem. I'm now selecting all
documents that do not contain a given term with a BooleanFilter
and FilterClause, MUST NOT.

I still have to understand how to retrieve random documents and limit the
number of retrieved docs to N.

thanks

On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:

> Is there a Filter to get a limited number of random collection docs from
> the index which DO NOT contain a specific term ?
>
> i.e. term="pizza"
>
> I want to run the query against 10 random documents of the collection that
> do not contain the term "pizza".
>
> thanks
>

--001517476200032192049fa3ab2e--

From java-user-return-49213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 19:19:12 2011
Return-Path: <java-user-return-49213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50048 invoked from network); 29 Mar 2011 19:19:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 19:19:12 -0000
Received: (qmail 61351 invoked by uid 500); 29 Mar 2011 19:19:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61298 invoked by uid 500); 29 Mar 2011 19:19:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61290 invoked by uid 99); 29 Mar 2011 19:19:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:19:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:19:03 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 15D7845EC37
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 21:18:42 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CKG6G8yGvkE0 for <java-user@lucene.apache.org>;
	Tue, 29 Mar 2011 21:18:37 +0200 (CEST)
Received: from VEGA (port-92-196-105-92.dynamic.qsc.de [92.196.105.92])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id CE1F545EC29
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 21:18:36 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=N4xuMCNGn2WzU-Zx6AxX4ZGnxzo1-A1FaRp6S@mail.gmail.com>	<AANLkTimiFUkjJSatqo0TxjY8s32ysNNwAcPkzD+a005X@mail.gmail.com>	<AANLkTimkkxJeQDKT0waTA=cUokc+6Qb4_zCbgUoC5wsW@mail.gmail.com>	<022e01cbee19$bba7f1d0$32f7d570$@thetaphi.de> <AANLkTi=zxH6g9qQfJ-hF_FeDTCmL2JZO395Ly1AHbw0o@mail.gmail.com>
In-Reply-To: <AANLkTi=zxH6g9qQfJ-hF_FeDTCmL2JZO395Ly1AHbw0o@mail.gmail.com>
Subject: RE: cannot find org.apache.lucene.search.TermsFilter
Date: Tue, 29 Mar 2011 21:18:37 +0200
Message-ID: <025201cbee46$1b793200$526b9600$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLK5rCy+PVCNtuPChQdgXT00BFo0wIYmQEOAlsSdnwBYxe7ywIwbnbgkgaBOpA=
Content-Language: de

It is in the zip/tar.gz file from Hudson under contrib! Alternatively load
the maven artifacts from Lucene's Maven Build in Hudson:
https://builds.apache.org/hudson/job/Lucene-Solr-Maven-trunk/lastSuccessfulB
uild/artifact/maven_artifacts/org/apache/lucene/

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> Sent: Tuesday, March 29, 2011 5:41 PM
> To: java-user@lucene.apache.org
> Subject: Re: cannot find org.apache.lucene.search.TermsFilter
> 
> Ok, the svn repository I can only find the source files. Should I build
the jar by
> myself or is there a packaged jar to download ?
> 
> thanks
> 
> On 29 March 2011 16:00, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > Hi,
> >
> > The TermsFilter is not in Lucene Core. You have to use one of the
> > contrib JARS (I think it is contrib-queries, so should be
lucene-queries.jar).
> >
> > Uwe
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> > > -----Original Message-----
> > > From: Patrick Diviacco [mailto:patrick.diviacco@gmail.com]
> > > Sent: Tuesday, March 29, 2011 2:35 PM
> > > To: java-user@lucene.apache.org
> > > Subject: Re: cannot find org.apache.lucene.search.TermsFilter
> > >
> > > I get that in response to this:
> > > import org.apache.lucene.search.TermsFilter;
> > >
> > > well I'm only using this jar: lucene-core-4.0-20110304.141738-1.jar
> > >
> > > and for example this line of my code compiles correctly:
> > >
> > > booleanQuery.add(new
> > > QueryParser(org.apache.lucene.util.Version.LUCENE_40,
> > > "tags", new
> > > WhitespaceAnalyzer(org.apache.lucene.util.Version.LUCENE_40)).parse(
> > > phr
> > > ase[i]),
> > > BooleanClause.Occur.SHOULD);
> > >
> > > So, I assume I'm using the nightly build.
> > >
> > > Thanks
> > >
> > >
> > >
> > > On 29 March 2011 14:26, Erick Erickson <erickerickson@gmail.com>
> wrote:
> > >
> > > > You get this in response to doing what? Are you sure you've
> > > > unpackaged the nightly build and aren't inadvertently getting older
> jars?
> > > >
> > > > Best
> > > > Erick
> > > >
> > > > On Tue, Mar 29, 2011 at 7:21 AM, Patrick Diviacco
> > > > <patrick.diviacco@gmail.com> wrote:
> > > > > I've downloaded the nightly build of Lucene (TRUNK) and I'm
> > > > > referring to
> > > > the
> > > > > following documentation:
> > > > >
> > > > >
> > > > https://hudson.apache.org/hudson/view/G-
> L/view/Lucene/job/Lucene-
> > > trunk
> > > > /javadoc/all/index.html
> > > > >
> > > > > But I get:
> > > > > cannot find symbol
> > > > > symbol  : class TermsFilter
> > > > > location: package org.apache.lucene.search import
> > > > > org.apache.lucene.search.TermsFilter;
> > > > >
> > > > > thanks
> > > > >
> > > >
> > > > ------------------------------------------------------------------
> > > > --- To unsubscribe, e-mail:
> > > > java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 19:49:08 2011
Return-Path: <java-user-return-49214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70066 invoked from network); 29 Mar 2011 19:49:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 19:49:08 -0000
Received: (qmail 23494 invoked by uid 500); 29 Mar 2011 19:49:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23459 invoked by uid 500); 29 Mar 2011 19:49:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23451 invoked by uid 99); 29 Mar 2011 19:49:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:49:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:48:59 +0000
Received: by iwr19 with SMTP id 19so683990iwr.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 12:48:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=TCBUjfr9b6S6gsN8EbbYZlcQ5dKMfW0PZUe5irU6P8k=;
        b=qT4stlaMLVEzN5EM7aUmlH6iCs/WtRVmUGbxGM9NAGp70KqgE/b0mwstxMmIE0I/3u
         Kn3CcmGwTNliJ7nY88Lhc62/IGyZaoOx7QHTuoIxxlHJjyvEIiwQHbZRhEyHN+6e1J9s
         etQBrmjBpK9Zfci/ZmOEhneefDhlarBYl4D3s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=jNhHWxxjCWPtgqG0mBxXrvsyv11mCuQfQt2THsXu8nvhr6vnP6zDuYMiaPO/70EAi1
         guMrMyzpZmV4ioowET3RJiox0l2TQ9jW+DZgENWyivE8Jgc6vfDVZeftq1D0q0vSTjtV
         LCHkj9JmB2lKqsVPzvr8+3fwt1ZG1BEuAQdpg=
Received: by 10.231.201.76 with SMTP id ez12mr290163ibb.96.1301428119105; Tue,
 29 Mar 2011 12:48:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Tue, 29 Mar 2011 12:48:19 -0700 (PDT)
In-Reply-To: <AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com> <AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Mar 2011 20:48:19 +0100
Message-ID: <BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Here are a couple of ideas.

Plan A.

Think of a number, say 10, retrieve n * 10 docids in your search and
then loop round java.util.Random.nextInt(n * 10) until you've got
enough.

Plan B.

Reverse your MUST NOT search to get a list of docids that you don't
want, then loop round Random.nextInt(indexreader.numDocs()), selecting
those that are not deleted (!indexreader.isDeleted(docid)) and are not
in your exclusion list.


I'm sure there are other ways, probably better.


--
Ian.


On Tue, Mar 29, 2011 at 8:00 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> Ok I've solved the first part of the problem. I'm now selecting all
> documents that do not contain a given term with a BooleanFilter
> and FilterClause, MUST NOT.
>
> I still have to understand how to retrieve random documents and limit the
> number of retrieved docs to N.
>
> thanks
>
> On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.com> wrote:
>
>> Is there a Filter to get a limited number of random collection docs from
>> the index which DO NOT contain a specific term ?
>>
>> i.e. term="pizza"
>>
>> I want to run the query against 10 random documents of the collection that
>> do not contain the term "pizza".
>>
>> thanks
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 19:56:16 2011
Return-Path: <java-user-return-49215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79155 invoked from network); 29 Mar 2011 19:56:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 19:56:16 -0000
Received: (qmail 41429 invoked by uid 500); 29 Mar 2011 19:56:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41371 invoked by uid 500); 29 Mar 2011 19:56:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41358 invoked by uid 99); 29 Mar 2011 19:56:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:56:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 19:56:07 +0000
Received: by fxm7 with SMTP id 7so819161fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 12:55:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=cu3t4qsWzFh8Dx6a9iSpvlZzymkdWEQK0QcoNmygtBk=;
        b=s+rvyWMrVelphfWs83wpMnrkQS9bizVF6bka/NZ3pX4lnvvLsTjrSFpOw4sXZn5MaF
         q2O/2L4+YQfU8RszjjvLbXbHShw0SQ47WJH0uq+J94Py7eXn5sTf6PYMvxnnozdjBLMa
         TdjW3KOxSO00vmt6dk3LA+JHwoiS2yIp1KP08=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ni/Q/MwsNHkb6xaPcxnAyhg1aysGzoK9Wm6Ab7vC8H/QPD4khaagkFjxz8l5g3enUS
         y4Z3lIQVofrN0W8OtJRgi4ZyFTWGnfAX2kfHXC8nlWMNalNhq5Lf9UgZuyffha9Ky1r6
         c/sO9oEjpKwqqTi64iTkxduZidZKvbSEC6EMk=
MIME-Version: 1.0
Received: by 10.223.13.197 with SMTP id d5mr298983faa.6.1301428546342; Tue, 29
 Mar 2011 12:55:46 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 12:55:46 -0700 (PDT)
In-Reply-To: <BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
	<AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
	<BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com>
Date: Tue, 29 Mar 2011 21:55:46 +0200
Message-ID: <AANLkTimrHosEsMLBDqA3qaKnbFs6Zxm1dOhd4hiZHx=5@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174766a0349016049fa47285

--0015174766a0349016049fa47285
Content-Type: text/plain; charset=ISO-8859-1

Plan A sounds better because I don't want to consider the entire collection
and then remove results from it.

However, the same code has to work with 2 different collections. The first
one has 30.000 docs the other one 90.000.

How can I get the total amount of docs from a collection ?
thanks




On 29 March 2011 21:48, Ian Lea <ian.lea@gmail.com> wrote:

> Here are a couple of ideas.
>
> Plan A.
>
> Think of a number, say 10, retrieve n * 10 docids in your search and
> then loop round java.util.Random.nextInt(n * 10) until you've got
> enough.
>
> Plan B.
>
> Reverse your MUST NOT search to get a list of docids that you don't
> want, then loop round Random.nextInt(indexreader.numDocs()), selecting
> those that are not deleted (!indexreader.isDeleted(docid)) and are not
> in your exclusion list.
>
>
> I'm sure there are other ways, probably better.
>
>
> --
> Ian.
>
>
> On Tue, Mar 29, 2011 at 8:00 PM, Patrick Diviacco
> <patrick.diviacco@gmail.com> wrote:
> > Ok I've solved the first part of the problem. I'm now selecting all
> > documents that do not contain a given term with a BooleanFilter
> > and FilterClause, MUST NOT.
> >
> > I still have to understand how to retrieve random documents and limit the
> > number of retrieved docs to N.
> >
> > thanks
> >
> > On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.com>
> wrote:
> >
> >> Is there a Filter to get a limited number of random collection docs from
> >> the index which DO NOT contain a specific term ?
> >>
> >> i.e. term="pizza"
> >>
> >> I want to run the query against 10 random documents of the collection
> that
> >> do not contain the term "pizza".
> >>
> >> thanks
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015174766a0349016049fa47285--

From java-user-return-49216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 20:13:00 2011
Return-Path: <java-user-return-49216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35329 invoked from network); 29 Mar 2011 20:12:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 20:12:59 -0000
Received: (qmail 81779 invoked by uid 500); 29 Mar 2011 20:12:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81734 invoked by uid 500); 29 Mar 2011 20:12:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81726 invoked by uid 99); 29 Mar 2011 20:12:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 20:12:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 20:12:49 +0000
Received: by iwr19 with SMTP id 19so713432iwr.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 13:12:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=G7QoiGkQPjpvcu/HjXNEZrO5TBdfTEAhMeDK/A+0mgU=;
        b=D+lsmNMvXPfLAbCKKol9gxipE9ibWG2xtIXqXi696eg/xQTEjIjduJib6xWg1hwhU8
         x5XS6fWKw5f1xbrOVzOBok/BT09ezUm80DYMJgFMWf5yUMTYRwjEmFjW7hVpxMvYULs9
         Ma78IZxRXp58tIFZP9Ux9niOcgeaDAQsUyomI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=x/a5H6pIaqp/z/f/6Wy4d0IR6UplOvXvh+IKPFnSz+ZWX+W3pktTLrYaNt9/TadjiC
         el7e816X1eVb+2xQLMoxqfqvj/Y+524uoQAKrDp29FtqnqgqL2+Bm0XfDyOoTyyzHh0W
         0pg+jNCNEwTCCGQl6C+GTE5vD7k6eQT5Buixs=
Received: by 10.231.36.77 with SMTP id s13mr296446ibd.171.1301429548197; Tue,
 29 Mar 2011 13:12:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Tue, 29 Mar 2011 13:12:08 -0700 (PDT)
In-Reply-To: <AANLkTimrHosEsMLBDqA3qaKnbFs6Zxm1dOhd4hiZHx=5@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
 <AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
 <BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com> <AANLkTimrHosEsMLBDqA3qaKnbFs6Zxm1dOhd4hiZHx=5@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Mar 2011 21:12:08 +0100
Message-ID: <BANLkTinS7sHJmaXEoj5AK9xgqwKh4UuwSA@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

> Plan A sounds better because I don't want to consider the entire collection
> and then remove results from it.

Fine, your choice.

> However, the same code has to work with 2 different collections. The first
> one has 30.000 docs the other one 90.000.

No problem.  The number of docs is irrelevant.

> How can I get the total amount of docs from a collection ?

IndexReader.numDocs().  See also maxDoc() and numDeletedDocs().


--
Ian.

> On 29 March 2011 21:48, Ian Lea <ian.lea@gmail.com> wrote:
>
>> Here are a couple of ideas.
>>
>> Plan A.
>>
>> Think of a number, say 10, retrieve n * 10 docids in your search and
>> then loop round java.util.Random.nextInt(n * 10) until you've got
>> enough.
>>
>> Plan B.
>>
>> Reverse your MUST NOT search to get a list of docids that you don't
>> want, then loop round Random.nextInt(indexreader.numDocs()), selecting
>> those that are not deleted (!indexreader.isDeleted(docid)) and are not
>> in your exclusion list.
>>
>>
>> I'm sure there are other ways, probably better.
>>
>>
>> --
>> Ian.
>>
>>
>> On Tue, Mar 29, 2011 at 8:00 PM, Patrick Diviacco
>> <patrick.diviacco@gmail.com> wrote:
>> > Ok I've solved the first part of the problem. I'm now selecting all
>> > documents that do not contain a given term with a BooleanFilter
>> > and FilterClause, MUST NOT.
>> >
>> > I still have to understand how to retrieve random documents and limit the
>> > number of retrieved docs to N.
>> >
>> > thanks
>> >
>> > On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.com>
>> wrote:
>> >
>> >> Is there a Filter to get a limited number of random collection docs from
>> >> the index which DO NOT contain a specific term ?
>> >>
>> >> i.e. term="pizza"
>> >>
>> >> I want to run the query against 10 random documents of the collection
>> that
>> >> do not contain the term "pizza".
>> >>
>> >> thanks
>> >>
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 22:02:12 2011
Return-Path: <java-user-return-49217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 745 invoked from network); 29 Mar 2011 22:02:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 22:02:12 -0000
Received: (qmail 2499 invoked by uid 500); 29 Mar 2011 22:02:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2465 invoked by uid 500); 29 Mar 2011 22:02:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2457 invoked by uid 99); 29 Mar 2011 22:02:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 22:02:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrick.diviacco@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 22:02:02 +0000
Received: by fxm7 with SMTP id 7so965374fxm.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 15:01:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=7fGBLaum+JvqRmqGHPjBv1374djWotIy7DgN33/6fRo=;
        b=gINThGsB5X3a/tk3u4qUJFCHHrlZQto/etMgOyL8dQgqLXi6S74bO+/FWJUUlDwyw6
         fJJd6lZcieauqEHwD30xuKBJFz9PkfA8a1vWUNjDYGbpGEh+kl4Ds5kdy1kFcbi5pJwt
         4m/z330EaDRh/4mc1HAF4cyMpkfxN2kIL+sz8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=CNve+EUs+sv2/pAUEKy6bZWtsSOnEoldimidArbaOPVFis0KsTB64jfGEn4O217OLz
         Tp4w1K5WF8eFSBSd1mM08JmWE+CNEP8n6PATytxXxB1fgeM2UZohozHpZ4hPUM+fRAIt
         uo0SqWPtjXQgm/1j1iU2BMnEjrIMV88KCEqUQ=
MIME-Version: 1.0
Received: by 10.223.63.212 with SMTP id c20mr410771fai.63.1301436101196; Tue,
 29 Mar 2011 15:01:41 -0700 (PDT)
Received: by 10.223.16.215 with HTTP; Tue, 29 Mar 2011 15:01:41 -0700 (PDT)
In-Reply-To: <BANLkTinS7sHJmaXEoj5AK9xgqwKh4UuwSA@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
	<AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
	<BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com>
	<AANLkTimrHosEsMLBDqA3qaKnbFs6Zxm1dOhd4hiZHx=5@mail.gmail.com>
	<BANLkTinS7sHJmaXEoj5AK9xgqwKh4UuwSA@mail.gmail.com>
Date: Wed, 30 Mar 2011 00:01:41 +0200
Message-ID: <AANLkTi=VVquk3SXutCWS5DiY1cm2piKg73SU1Pkq3VMv@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
From: Patrick Diviacco <patrick.diviacco@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517475828827b97049fa634fa

--001517475828827b97049fa634fa
Content-Type: text/plain; charset=ISO-8859-1

One last thing, how do I check if the random document does not contain the
term ?

In other words, I cannot just pass the TermsFilter but I need to check if
the retrieved random document is valid or not to know if I have enough.

Any code example is appreciated.. so far I have this one, to retrieve docs
without that specific term.

BooleanFilter termsNOTFilter = new BooleanFilter();
FilterClause notTermClause = new FilterClause(termsFilter,
org.apache.lucene.search.BooleanClause.Occur.MUST_NOT);
termsNOTFilter.add(notTermClause);

thanks




On 29 March 2011 22:12, Ian Lea <ian.lea@gmail.com> wrote:

> > Plan A sounds better because I don't want to consider the entire
> collection
> > and then remove results from it.
>
> Fine, your choice.
>
> > However, the same code has to work with 2 different collections. The
> first
> > one has 30.000 docs the other one 90.000.
>
> No problem.  The number of docs is irrelevant.
>
> > How can I get the total amount of docs from a collection ?
>
> IndexReader.numDocs().  See also maxDoc() and numDeletedDocs().
>
>
> --
> Ian.
>
> > On 29 March 2011 21:48, Ian Lea <ian.lea@gmail.com> wrote:
> >
> >> Here are a couple of ideas.
> >>
> >> Plan A.
> >>
> >> Think of a number, say 10, retrieve n * 10 docids in your search and
> >> then loop round java.util.Random.nextInt(n * 10) until you've got
> >> enough.
> >>
> >> Plan B.
> >>
> >> Reverse your MUST NOT search to get a list of docids that you don't
> >> want, then loop round Random.nextInt(indexreader.numDocs()), selecting
> >> those that are not deleted (!indexreader.isDeleted(docid)) and are not
> >> in your exclusion list.
> >>
> >>
> >> I'm sure there are other ways, probably better.
> >>
> >>
> >> --
> >> Ian.
> >>
> >>
> >> On Tue, Mar 29, 2011 at 8:00 PM, Patrick Diviacco
> >> <patrick.diviacco@gmail.com> wrote:
> >> > Ok I've solved the first part of the problem. I'm now selecting all
> >> > documents that do not contain a given term with a BooleanFilter
> >> > and FilterClause, MUST NOT.
> >> >
> >> > I still have to understand how to retrieve random documents and limit
> the
> >> > number of retrieved docs to N.
> >> >
> >> > thanks
> >> >
> >> > On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.com>
> >> wrote:
> >> >
> >> >> Is there a Filter to get a limited number of random collection docs
> from
> >> >> the index which DO NOT contain a specific term ?
> >> >>
> >> >> i.e. term="pizza"
> >> >>
> >> >> I want to run the query against 10 random documents of the collection
> >> that
> >> >> do not contain the term "pizza".
> >> >>
> >> >> thanks
> >> >>
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001517475828827b97049fa634fa--

From java-user-return-49218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 22:57:33 2011
Return-Path: <java-user-return-49218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84169 invoked from network); 29 Mar 2011 22:57:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 22:57:33 -0000
Received: (qmail 98704 invoked by uid 500); 29 Mar 2011 22:57:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98625 invoked by uid 500); 29 Mar 2011 22:57:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98617 invoked by uid 99); 29 Mar 2011 22:57:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 22:57:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [132.249.20.60] (HELO billthecat.sdsc.edu) (132.249.20.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 22:57:22 +0000
Received: from [192.168.11.51] (c-67-180-28-210.hsd1.ca.comcast.net [67.180.28.210])
	(authenticated bits=0)
	by billthecat.sdsc.edu (8.14.2/8.14.1/SDSCrelay/16) with ESMTP id p2TMux94003834
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 15:57:00 -0700 (PDT)
Message-ID: <4D9263B4.5050609@sdsc.edu>
Date: Tue, 29 Mar 2011 15:56:52 -0700
From: Christopher Condit <condit@sdsc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Best practice for stemming and exact matching
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com> <9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
In-Reply-To: <9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I have Lucene indexes build using a shingled, stemmed custom analyzer.
I have a new requirement that exact searches match correctly.
ie: bar AND "nachos"
will only fetch results with plural nachos. Right now, with the
stemming, singular nacho results are returned as well. I realize that
I'm going to have to create a separate field for this so I made a new
field suffixed with _exact and used a SimpleAnalyzer on it.

The problem is that after my QueryParser parses the query it's already
mucked up the PhraseQuery with the custom analyzer (stemming down to
nacho). I thought I could traverse the query tree and switch the field
and the query text, but if I do that I don't know which part of the
query the clause came from. Ideally I'd like to have the parser use the
custom analyzer for everything unless it's going to parse a clause into
a PhraseQuery or a MultiPhraseQuery, in which case it uses the
SimpleAnalyzer and looks in the _exact field - but I can't figure out
the best way to accomplish this.

Has anyone else encountered the same problem?
Is there a best practice for doing this - or something much easier that
I'm missing?

Thanks,
Chris



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 29 23:22:03 2011
Return-Path: <java-user-return-49219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70420 invoked from network); 29 Mar 2011 23:22:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 29 Mar 2011 23:22:03 -0000
Received: (qmail 40826 invoked by uid 500); 29 Mar 2011 23:22:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40781 invoked by uid 500); 29 Mar 2011 23:22:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40773 invoked by uid 99); 29 Mar 2011 23:22:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 23:22:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2011 23:21:55 +0000
Received: by bwz8 with SMTP id 8so900784bwz.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 16:21:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=9r+nZcC+k1p7e8E45LppbfL4A4Sh71f81ZzOtZHXHCs=;
        b=WTHN8OMFTMizX4JuANcTNfI284wIaIXTmyilgzUon5uVlQp1ou5bOzfoTwRJUvW87g
         53XZsUZuVxBxcXWB2WMINksWVYdOPWv0ZGFCPBEIN6YY3BLYXsy8aOvmhwBrXMu2LrKM
         488XiXTXLCShFs6+BksL4hzHPSRolHH3uhbC4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Zrq9nPfonyu2qc4tIk0kZNY9QeMNYZz+0TlzwXlpNIpMR37k+9S2Y8WNWhF2j/1rdF
         iTQKOBYqr3MaPXYJZCVJXZTBhNvw3esYOpMh7guTdTrdXTDTuFtyL6Om1gyL2KzC2bTr
         28zpd8UomJybs0TPzE+L3vSnW1nQ87HzJLKVI=
Received: by 10.204.73.206 with SMTP id r14mr383864bkj.181.1301440893077; Tue,
 29 Mar 2011 16:21:33 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.71.80 with HTTP; Tue, 29 Mar 2011 16:21:13 -0700 (PDT)
In-Reply-To: <4D9263B4.5050609@sdsc.edu>
References: <AANLkTikyR4sCCg=fZtNisQNZif2WNiwa2V8AV7qY_qm2@mail.gmail.com>
 <9CC6AD51-AA5F-4F48-BA95-F2EFE758A33F@hoplahup.net> <4D9263B4.5050609@sdsc.edu>
From: Robert Muir <rcmuir@gmail.com>
Date: Tue, 29 Mar 2011 19:21:13 -0400
Message-ID: <AANLkTi=ARWj+62BmYbsVt1d5Jx-M1O-YH0qPxzBWmnhi@mail.gmail.com>
Subject: Re: Best practice for stemming and exact matching
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 29, 2011 at 6:56 PM, Christopher Condit <condit@sdsc.edu> wrote:

> Ideally I'd like to have the parser use the
> custom analyzer for everything unless it's going to parse a clause into
> a PhraseQuery or a MultiPhraseQuery, in which case it uses the
> SimpleAnalyzer and looks in the _exact field - but I can't figure out
> the best way to accomplish this.

You might be interested in the example i added to the QP tests in
https://issues.apache.org/jira/browse/LUCENE-2892,
it does something similar to what you are doing.

your situation is probably even easier than my example actually:

@Override
protected Query getFieldQuery(String field, String queryText, boolean
quoted) throws ParseException {
  if (quoted) {
    field = field + "_exact"; // lie about the field to superclass if
the user quoted it.
  }
  return super.getFieldQuery(field, queryText, quoted);
}

if you are using perfieldanalyzerwrapper so that these "_exact" fields
don't use stemming, then it should just work.
you'll need branch_3.x or trunk for this, but looks like 3.1 is close

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 01:47:17 2011
Return-Path: <java-user-return-49220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60165 invoked from network); 30 Mar 2011 01:47:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 01:47:16 -0000
Received: (qmail 92350 invoked by uid 500); 30 Mar 2011 01:47:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92315 invoked by uid 500); 30 Mar 2011 01:47:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92307 invoked by uid 99); 30 Mar 2011 01:47:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 01:47:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trejkaz@trypticon.org designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 01:47:06 +0000
Received: by yxd5 with SMTP id 5so449095yxd.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 18:46:45 -0700 (PDT)
Received: by 10.236.189.73 with SMTP id b49mr729993yhn.345.1301449605809;
        Tue, 29 Mar 2011 18:46:45 -0700 (PDT)
Received: from mail-gw0-f48.google.com (mail-gw0-f48.google.com [74.125.83.48])
        by mx.google.com with ESMTPS id u29sm2786626yhn.71.2011.03.29.18.46.44
        (version=SSLv3 cipher=OTHER);
        Tue, 29 Mar 2011 18:46:44 -0700 (PDT)
Received: by gwj22 with SMTP id 22so449518gwj.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 18:46:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.236.185.38 with SMTP id t26mr722658yhm.164.1301449603702; Tue,
 29 Mar 2011 18:46:43 -0700 (PDT)
Received: by 10.236.109.139 with HTTP; Tue, 29 Mar 2011 18:46:43 -0700 (PDT)
In-Reply-To: <AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
Date: Wed, 30 Mar 2011 12:46:43 +1100
Message-ID: <AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Trejkaz <trejkaz@trypticon.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 29, 2011 at 11:21 PM, Erick Erickson
<erickerickson@gmail.com> wrote:
> I'm always skeptical of storing the doc IDs since they can
> change out from underneath you (just delete even a single
> document and optimize).

We never delete documents.  Even when a feature request came in to
update documents (i.e. delete the old one and add a new version), we
ended up keeping the old version around, partially because we didn't
want the IDs to shift (which is a bit of a recursive argument), but
also because it's forensically sound to have the previous versions
around so people can see what edits were made.

> What is it you're doing with the doc ID that you couldn't do with the guid? If your "guid list"
> were ordered, I can imagine building filters quite quickly from
> it using TermDocs.skipTo for instance..

The main problem with filters is that DocIdBitSet's iterator has to
return the doc IDs in order.

Even if our GUIDs are in order (they would be, as it would be the
primary key on tables using them), they won't be in the same order as
the IDs of the docs they came from.  So for each row in the ResultSet,
you need to do a TermDocs.seek(Term).  This not only costs the
additional I/O (and it's a lot more than the original database query
was), but you have to read every row in the ResultSet just to get the
first doc ID.

Contrast this with using doc IDs for the database query.  You don't
need to hit the index at all since you already have the result.  And
the docs come back in order, so you don't even have to iterate the
entire result set - you can read the first 100 rows and then read more
rows if/when they are needed.  And if the caller is using skipTo then
this can be incorporated into the database query to avoid returning
rows which are only going to be discarded anyway.

Integer fields should have improved things a little in terms of the
amount of I/O required to do the query (at least I would hope that
this is the case - I haven't done any tests yet and we can't use them
yet for backwards compatibility reasons) but they don't remove the
problem of needing to iterate every document in the result set
up-front.

TX

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 06:15:21 2011
Return-Path: <java-user-return-49221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34430 invoked from network); 30 Mar 2011 06:15:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 06:15:21 -0000
Received: (qmail 97478 invoked by uid 500); 30 Mar 2011 06:15:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97341 invoked by uid 500); 30 Mar 2011 06:15:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97328 invoked by uid 99); 30 Mar 2011 06:15:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 06:15:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 06:15:12 +0000
Received: by ywo32 with SMTP id 32so518350ywo.35
        for <java-user@lucene.apache.org>; Tue, 29 Mar 2011 23:14:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=CjPfXtRw3sjKBiO15lSZeVoqwEWaCWZlHNRNk3W5Sjg=;
        b=Jtbl5TZ59rN3DfedDhlOM49XLG9doF7Wb9OzkfkUaZy3ZsaAsJuWBsXUF+GZoAoMZK
         npJ33ZxXQrylHhrc90M3zZPMzCB1iUEAcOhYAiDOPDNnGiXbZpa7yub3U0O0basAdInW
         FIGPSglavVoowYZbVz/Zl4oP0zAwRyURBjPyQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=lNXz/NMHj9aFc/PplNnbqn0L0RJrU3cyb95unvb4z/enbSUpeJ5SSyxY2n9kvJAiYB
         IQMBh1p7tZeMb/NwKtpr0kArQuyaWnzKT1WITzsHY+m+eN84AsdZ2JXeoJiSJJMEhkKp
         E83x4kLI/Y0E35AdzcOPRIiDlpaRM9oPEfv3I=
MIME-Version: 1.0
Received: by 10.236.200.130 with SMTP id z2mr1082980yhn.34.1301465691591; Tue,
 29 Mar 2011 23:14:51 -0700 (PDT)
Received: by 10.147.171.13 with HTTP; Tue, 29 Mar 2011 23:14:51 -0700 (PDT)
In-Reply-To: <AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
	<AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
Date: Wed, 30 Mar 2011 14:14:51 +0800
Message-ID: <AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

merge will also change docid
all segments' docId begin with 0

2011/3/30 Trejkaz <trejkaz@trypticon.org>:
> On Tue, Mar 29, 2011 at 11:21 PM, Erick Erickson
> <erickerickson@gmail.com> wrote:
>> I'm always skeptical of storing the doc IDs since they can
>> change out from underneath you (just delete even a single
>> document and optimize).
>
> We never delete documents. =A0Even when a feature request came in to
> update documents (i.e. delete the old one and add a new version), we
> ended up keeping the old version around, partially because we didn't
> want the IDs to shift (which is a bit of a recursive argument), but
> also because it's forensically sound to have the previous versions
> around so people can see what edits were made.
>
>> What is it you're doing with the doc ID that you couldn't do with the gu=
id? If your "guid list"
>> were ordered, I can imagine building filters quite quickly from
>> it using TermDocs.skipTo for instance..
>
> The main problem with filters is that DocIdBitSet's iterator has to
> return the doc IDs in order.
>
> Even if our GUIDs are in order (they would be, as it would be the
> primary key on tables using them), they won't be in the same order as
> the IDs of the docs they came from. =A0So for each row in the ResultSet,
> you need to do a TermDocs.seek(Term). =A0This not only costs the
> additional I/O (and it's a lot more than the original database query
> was), but you have to read every row in the ResultSet just to get the
> first doc ID.
>
> Contrast this with using doc IDs for the database query. =A0You don't
> need to hit the index at all since you already have the result. =A0And
> the docs come back in order, so you don't even have to iterate the
> entire result set - you can read the first 100 rows and then read more
> rows if/when they are needed. =A0And if the caller is using skipTo then
> this can be incorporated into the database query to avoid returning
> rows which are only going to be discarded anyway.
>
> Integer fields should have improved things a little in terms of the
> amount of I/O required to do the query (at least I would hope that
> this is the case - I haven't done any tests yet and we can't use them
> yet for backwards compatibility reasons) but they don't remove the
> problem of needing to iterate every document in the result set
> up-front.
>
> TX
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 09:21:51 2011
Return-Path: <java-user-return-49222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55658 invoked from network); 30 Mar 2011 09:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 09:21:51 -0000
Received: (qmail 9236 invoked by uid 500); 30 Mar 2011 09:21:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9109 invoked by uid 500); 30 Mar 2011 09:21:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9101 invoked by uid 99); 30 Mar 2011 09:21:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 09:21:48 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 09:21:42 +0000
Received: by vws7 with SMTP id 7so1286515vws.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 02:21:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=nwoNgG4fzDiAdnpF5Dke2SCImg9jr4XQsmbov069j9Y=;
        b=E1FPHKfzffovaHB7Q6khSDUR5Y0trt5cB+QT2Pr0GwLi0JiIca6R7/H6yff3DGbruC
         L2FMOuS1sMW1UblJKqr/m0eb0s2y+/gorJXuba3TWQHLxitmPrmYmKAgMSkrwiHqaJa7
         n9L2nwzVke0N1lETQRd34LaqnNh2RnWdOnMTw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=O4bnqT7IKjX6ycuzuJTu4wEo54uKr3VHgQmhSO++I4pM3zzzTqirXqfa6ADKTzySWN
         iYF/+DU9P4h8XMNChOXp5UwLNzmNFBioBJqYbMjfNElminkTOvNkey6N+KCC3DQo5CUe
         Eo3vjNWJH90jRhOKMHW0uUAXw1MgpPdBf7dnA=
MIME-Version: 1.0
Received: by 10.52.95.211 with SMTP id dm19mr1235017vdb.71.1301476881450; Wed,
 30 Mar 2011 02:21:21 -0700 (PDT)
Received: by 10.52.164.65 with HTTP; Wed, 30 Mar 2011 02:21:21 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
	<AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
	<AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
Date: Wed, 30 Mar 2011 11:21:21 +0200
Message-ID: <AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Li Li <fancyerii@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 30, 2011 at 8:14 AM, Li Li <fancyerii@gmail.com> wrote:
> merge will also change docid
> all segments' docId begin with 0

for all released version this is not true. Before trunk (and I think
its in 3.1 also) merge only merged continuous segments so the actual
per-segment ID might change but the global document ID doesn't if you
only add documents. But this should not be considered a feature. In
upcoming version this does not work anymore since merges can now be
non-continuous.

Anyway, I strongly discourage to rely on lucene document IDs you
should not do this at all. Can't you use your own ID mechanism?

simon
>
> 2011/3/30 Trejkaz <trejkaz@trypticon.org>:
>> On Tue, Mar 29, 2011 at 11:21 PM, Erick Erickson
>> <erickerickson@gmail.com> wrote:
>>> I'm always skeptical of storing the doc IDs since they can
>>> change out from underneath you (just delete even a single
>>> document and optimize).
>>
>> We never delete documents. =C2=A0Even when a feature request came in to
>> update documents (i.e. delete the old one and add a new version), we
>> ended up keeping the old version around, partially because we didn't
>> want the IDs to shift (which is a bit of a recursive argument), but
>> also because it's forensically sound to have the previous versions
>> around so people can see what edits were made.
>>
>>> What is it you're doing with the doc ID that you couldn't do with the g=
uid? If your "guid list"
>>> were ordered, I can imagine building filters quite quickly from
>>> it using TermDocs.skipTo for instance..
>>
>> The main problem with filters is that DocIdBitSet's iterator has to
>> return the doc IDs in order.
>>
>> Even if our GUIDs are in order (they would be, as it would be the
>> primary key on tables using them), they won't be in the same order as
>> the IDs of the docs they came from. =C2=A0So for each row in the ResultS=
et,
>> you need to do a TermDocs.seek(Term). =C2=A0This not only costs the
>> additional I/O (and it's a lot more than the original database query
>> was), but you have to read every row in the ResultSet just to get the
>> first doc ID.
>>
>> Contrast this with using doc IDs for the database query. =C2=A0You don't
>> need to hit the index at all since you already have the result. =C2=A0An=
d
>> the docs come back in order, so you don't even have to iterate the
>> entire result set - you can read the first 100 rows and then read more
>> rows if/when they are needed. =C2=A0And if the caller is using skipTo th=
en
>> this can be incorporated into the database query to avoid returning
>> rows which are only going to be discarded anyway.
>>
>> Integer fields should have improved things a little in terms of the
>> amount of I/O required to do the query (at least I would hope that
>> this is the case - I haven't done any tests yet and we can't use them
>> yet for backwards compatibility reasons) but they don't remove the
>> problem of needing to iterate every document in the result set
>> up-front.
>>
>> TX
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 09:45:45 2011
Return-Path: <java-user-return-49223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24932 invoked from network); 30 Mar 2011 09:45:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 09:45:45 -0000
Received: (qmail 38648 invoked by uid 500); 30 Mar 2011 09:45:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38604 invoked by uid 500); 30 Mar 2011 09:45:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38596 invoked by uid 99); 30 Mar 2011 09:45:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 09:45:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 09:45:35 +0000
Received: by iym1 with SMTP id 1so1523431iym.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 02:45:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=AFN4od2S3x78kTvov3wHLOBCKMan/RDHikvKZMGiCCc=;
        b=P1/wGEqY4ucC9oaiP6cCsKJgqIK7XMxv/M3XedwltYdDuRcW4J/0HwTfHheBehvl1d
         LVZHX+2GJ1xw/BhDAqdi8ZPY9KVKAwoIj0bWYKdXuUf28eos57rH0mNTeDXOY9yV5mH1
         htBb9VswoIneTJM/wZEyG/YWi6TYA+N/nZQ/Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=xkSLJEw+IPa8reqNdZOmQBbxDyCSb4k/W9Tc3f8s/XFNu5OaXAYD4x2G9VFgHnEljp
         a0a6CN9vm9KtzcdMI5PuzxqDPW9HoNfpz8cM12yFY8n4eYeBWFz+w6WNi84NIS7IQ2td
         pdMthjY8OcNn0QJHUeOmviNpTiMAVWCVfc34c=
Received: by 10.231.212.154 with SMTP id gs26mr1019220ibb.121.1301478314123;
 Wed, 30 Mar 2011 02:45:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Wed, 30 Mar 2011 02:44:54 -0700 (PDT)
In-Reply-To: <AANLkTi=VVquk3SXutCWS5DiY1cm2piKg73SU1Pkq3VMv@mail.gmail.com>
References: <AANLkTikK6bx-q6LONS2VcahmsE0FQgzC9HZaGpaGjNkw@mail.gmail.com>
 <AANLkTik7S2vc2+fP74TxugooLb4yZ2LhynS6w+A_8qG1@mail.gmail.com>
 <BANLkTi=7TUow4B_+s_=NUWxzwTYg6+4R7Q@mail.gmail.com> <AANLkTimrHosEsMLBDqA3qaKnbFs6Zxm1dOhd4hiZHx=5@mail.gmail.com>
 <BANLkTinS7sHJmaXEoj5AK9xgqwKh4UuwSA@mail.gmail.com> <AANLkTi=VVquk3SXutCWS5DiY1cm2piKg73SU1Pkq3VMv@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 30 Mar 2011 10:44:54 +0100
Message-ID: <BANLkTi=k02A0C6qMB-kSCfo4icsF3djh4g@mail.gmail.com>
Subject: Re: Filter to retrieve random documents without specific terms ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

If your query explicitly excludes certain terms then surely you can be
confident that matched docs will not contain those terms, and if your
random docs are a subset of those matched docs they won't contain them
either.


--
Ian.


On Tue, Mar 29, 2011 at 11:01 PM, Patrick Diviacco
<patrick.diviacco@gmail.com> wrote:
> One last thing, how do I check if the random document does not contain th=
e
> term ?
>
> In other words, I cannot just pass the TermsFilter but I need to check if
> the retrieved random document is valid or not to know if I have enough.
>
> Any code example is appreciated.. so far I have this one, to retrieve doc=
s
> without that specific term.
>
> BooleanFilter termsNOTFilter =3D new BooleanFilter();
> FilterClause notTermClause =3D new FilterClause(termsFilter,
> org.apache.lucene.search.BooleanClause.Occur.MUST_NOT);
> termsNOTFilter.add(notTermClause);
>
> thanks
>
>
>
>
> On 29 March 2011 22:12, Ian Lea <ian.lea@gmail.com> wrote:
>
>> > Plan A sounds better because I don't want to consider the entire
>> collection
>> > and then remove results from it.
>>
>> Fine, your choice.
>>
>> > However, the same code has to work with 2 different collections. The
>> first
>> > one has 30.000 docs the other one 90.000.
>>
>> No problem. =A0The number of docs is irrelevant.
>>
>> > How can I get the total amount of docs from a collection ?
>>
>> IndexReader.numDocs(). =A0See also maxDoc() and numDeletedDocs().
>>
>>
>> --
>> Ian.
>>
>> > On 29 March 2011 21:48, Ian Lea <ian.lea@gmail.com> wrote:
>> >
>> >> Here are a couple of ideas.
>> >>
>> >> Plan A.
>> >>
>> >> Think of a number, say 10, retrieve n * 10 docids in your search and
>> >> then loop round java.util.Random.nextInt(n * 10) until you've got
>> >> enough.
>> >>
>> >> Plan B.
>> >>
>> >> Reverse your MUST NOT search to get a list of docids that you don't
>> >> want, then loop round Random.nextInt(indexreader.numDocs()), selectin=
g
>> >> those that are not deleted (!indexreader.isDeleted(docid)) and are no=
t
>> >> in your exclusion list.
>> >>
>> >>
>> >> I'm sure there are other ways, probably better.
>> >>
>> >>
>> >> --
>> >> Ian.
>> >>
>> >>
>> >> On Tue, Mar 29, 2011 at 8:00 PM, Patrick Diviacco
>> >> <patrick.diviacco@gmail.com> wrote:
>> >> > Ok I've solved the first part of the problem. I'm now selecting all
>> >> > documents that do not contain a given term with a BooleanFilter
>> >> > and FilterClause, MUST NOT.
>> >> >
>> >> > I still have to understand how to retrieve random documents and lim=
it
>> the
>> >> > number of retrieved docs to N.
>> >> >
>> >> > thanks
>> >> >
>> >> > On 29 March 2011 20:40, Patrick Diviacco <patrick.diviacco@gmail.co=
m>
>> >> wrote:
>> >> >
>> >> >> Is there a Filter to get a limited number of random collection doc=
s
>> from
>> >> >> the index which DO NOT contain a specific term ?
>> >> >>
>> >> >> i.e. term=3D"pizza"
>> >> >>
>> >> >> I want to run the query against 10 random documents of the collect=
ion
>> >> that
>> >> >> do not contain the term "pizza".
>> >> >>
>> >> >> thanks
>> >> >>
>> >> >
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 10:35:51 2011
Return-Path: <java-user-return-49224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12386 invoked from network); 30 Mar 2011 10:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 10:35:51 -0000
Received: (qmail 26277 invoked by uid 500); 30 Mar 2011 10:35:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26227 invoked by uid 500); 30 Mar 2011 10:35:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26219 invoked by uid 99); 30 Mar 2011 10:35:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 10:35:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of d.barabash@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 10:35:41 +0000
Received: by vxa37 with SMTP id 37so1323447vxa.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 03:35:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=52tRgXVx5Oy2S7RxDdHXlRWA9SEy21ZXxd+NKucgZnU=;
        b=T0NkWnw4mrBzjwg51GPFYASlnBKtKlsFA9aTgtZ1w6NgDyLQduPfamN3snDtLEGr46
         tayBTBN5YkWVqLO1vg1/eUaRSZXIr8Qfpm0Y2OcSPIxE3h+Q+zKVDzT8VU1SwYkX7jZr
         IirS+fc3p5si7FMd6jaQ+5og6dygxQUZWX3QA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=JrQqdVV11ms9Ipxbr0LlclkTd1U/JVykdtRnk4nRGliybmM5mDSVKfCVjW/bG4lU1D
         3gzepbG6O+339AtsE1gwjyW/QcqQ3zgw3M6iLEqAXlUhkfUzgpzdWNXop3+DeO+eSAYX
         55eH0trAOeQklXpYRKwBu/6ZSKTrpCPC70ywU=
MIME-Version: 1.0
Received: by 10.52.69.205 with SMTP id g13mr1306046vdu.241.1301481320661; Wed,
 30 Mar 2011 03:35:20 -0700 (PDT)
Received: by 10.220.118.67 with HTTP; Wed, 30 Mar 2011 03:35:20 -0700 (PDT)
Date: Wed, 30 Mar 2011 13:35:20 +0300
Message-ID: <AANLkTimAmMFY0Wjv-BzqutPHn4ETdGftUAYB=KpcNAbX@mail.gmail.com>
Subject: Spatial search: collect distances
From: Dmytro Barabash <d.barabash@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all!
I need 1) sort search results by distance from some point and 2) show
these distances for end-user together with other document information.
1) is simple =96 like an example in =93Lucene in action=94: there are
latitude and longitude fields for each document in index,
MyDistanceComparatorSource (extends FieldComparatorSource) return
MyDistanceScoreDocLookupComparator, which know how to calculate and
compare distances, and MyDistanceComparatorSource pass to Sort=92s
constructor. Sorting is fine.
For 2) I probably should write MyCollector =96 wrapper for
TopFieldCollector, that will collect information about distances.
But how (nice) to get already calculated distances in MyCollector, if
these distances are so deeply (in topFieldCollector.comparator)? Or
maybe this way is wrong?
Thanks in advance!
Dmytro

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 12:19:26 2011
Return-Path: <java-user-return-49225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20993 invoked from network); 30 Mar 2011 12:19:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 12:19:26 -0000
Received: (qmail 56924 invoked by uid 500); 30 Mar 2011 12:19:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56882 invoked by uid 500); 30 Mar 2011 12:19:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56874 invoked by uid 99); 30 Mar 2011 12:19:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 12:19:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of d.barabash@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 12:19:16 +0000
Received: by vws7 with SMTP id 7so1408721vws.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 05:18:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=YRFVr2zqJty1VKc77Op/Qfxmt5ugQ4OyXagZo4jrt3w=;
        b=HpZ1OZUIsbTcFw0fLRdbGYLbvEs1yFyylvU74Yo4vuZpdJYvat0dIT17Wgk2F/r/t/
         bP0vs7zOiDEZx+E0W6oSidpw+bukXLb4kEBSoCQ7h/2QHDPDhEA1fsyenLMcxuA8QDdB
         S4tq74CbTGhtMTUS912XYZLjIz98iOEfW8NxY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=R3fVhRrvEjKprZgv8KKgF+Bkeu/nsdO3/X8Rd13+kimOpJJcjDVqJDNRk29kUAI7gK
         GBSvHrHJxHr/kCU3g7W/j2DCSdwa8+/G2+tnpnDSLI6hwze9xyc8aKUhnZjsIuBNUMp0
         V1DVJ981+ElTQCkPjcJsLMoWWU53ryfgQlOfU=
MIME-Version: 1.0
Received: by 10.52.172.242 with SMTP id bf18mr1454199vdc.161.1301487535774;
 Wed, 30 Mar 2011 05:18:55 -0700 (PDT)
Received: by 10.220.118.67 with HTTP; Wed, 30 Mar 2011 05:18:55 -0700 (PDT)
In-Reply-To: <AANLkTimAmMFY0Wjv-BzqutPHn4ETdGftUAYB=KpcNAbX@mail.gmail.com>
References: <AANLkTimAmMFY0Wjv-BzqutPHn4ETdGftUAYB=KpcNAbX@mail.gmail.com>
Date: Wed, 30 Mar 2011 15:18:55 +0300
Message-ID: <AANLkTimE_3kBC5oA2B3nqifLjjrt_NY+TQ+HrkfCituj@mail.gmail.com>
Subject: Re: Spatial search: collect distances
From: Dmytro Barabash <d.barabash@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I am sorry to trouble, problem solved (in fact problem is absent :) ).
Calculated distances saved in ScoreDoc (actually  FieldDoc).

2011/3/30 Dmytro Barabash <d.barabash@gmail.com>:
> Hi all!
> I need 1) sort search results by distance from some point and 2) show
> these distances for end-user together with other document information.
> 1) is simple =96 like an example in =93Lucene in action=94: there are
> latitude and longitude fields for each document in index,
> MyDistanceComparatorSource (extends FieldComparatorSource) return
> MyDistanceScoreDocLookupComparator, which know how to calculate and
> compare distances, and MyDistanceComparatorSource pass to Sort=92s
> constructor. Sorting is fine.
> For 2) I probably should write MyCollector =96 wrapper for
> TopFieldCollector, that will collect information about distances.
> But how (nice) to get already calculated distances in MyCollector, if
> these distances are so deeply (in topFieldCollector.comparator)? Or
> maybe this way is wrong?
> Thanks in advance!
> Dmytro
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 30 13:28:37 2011
Return-Path: <java-user-return-49226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61462 invoked from network); 30 Mar 2011 13:28:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 30 Mar 2011 13:28:36 -0000
Received: (qmail 54480 invoked by uid 500); 30 Mar 2011 13:28:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54439 invoked by uid 500); 30 Mar 2011 13:28:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54431 invoked by uid 99); 30 Mar 2011 13:28:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 13:28:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of devon.odell@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 13:28:28 +0000
Received: by iym1 with SMTP id 1so1784187iym.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 06:28:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=H0/JhypQLHvHsX9TMerBrMKJizZF4rs98IL7hbmB8mA=;
        b=ovpQdnbNwZAze5Z/kWzGHBkboBr1StrgVmHS9iEgJEnxOOTFjngEVT2lZT3CnHIEVK
         OirM42zhr1BvlB7vSBy60sjUZgtZ2q4v1pW5pg9MvLtMdzrrbiDLZ3GrkwK7x+RHhcub
         eEQf/TFbAcDwuRtbrUjVG7xYjoFCTxFn9ieI4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=es9uG4pkt8ztUuoZE7v9hDhMSrz5F713OUqsxEVYwwZ/UsGG8owzwzmLdDomzOjB1T
         gsIJe+B//ngVXaCvRxmzso+Ge7MNUdg1zmTkBLD1iepxhGcQ/cYayEOps4tWlLR8nLed
         CIwgz+TBLqwCcov6376lK2qnWA8GyN6dhInQw=
MIME-Version: 1.0
Received: by 10.231.67.201 with SMTP id s9mr1169354ibi.176.1301491687391; Wed,
 30 Mar 2011 06:28:07 -0700 (PDT)
Received: by 10.231.34.135 with HTTP; Wed, 30 Mar 2011 06:28:07 -0700 (PDT)
In-Reply-To: <AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
	<AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
	<AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
	<AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
Date: Wed, 30 Mar 2011 09:28:07 -0400
Message-ID: <AANLkTi=ZyTg-T5R7h0+ZfyA+9jTh9i17niSVudUmpL_r@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: "Devon H. O'Dell" <devon.odell@gmail.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2011/3/30 Simon Willnauer <simon.willnauer@googlemail.com>:
> On Wed, Mar 30, 2011 at 8:14 AM, Li Li <fancyerii@gmail.com> wrote:
>> merge will also change docid
>> all segments' docId begin with 0
>
> for all released version this is not true. Before trunk (and I think
> its in 3.1 also) merge only merged continuous segments so the actual
> per-segment ID might change but the global document ID doesn't if you
> only add documents. But this should not be considered a feature. In
> upcoming version this does not work anymore since merges can now be
> non-continuous.
>
> Anyway, I strongly discourage to rely on lucene document IDs you
> should not do this at all. Can't you use your own ID mechanism?

At least in a project I'm working on with an add-only scenario, this
is not sufficient. I need to do sorting and deduplication (on a set of
billions of records), which requires me to implement my own collector.
Having a cache that maps a global document ID to the global ID of the
document it sorts / deduplicates to is a *huge* win for this
application, where normally a resultset of 10,000 records might take a
minute (or more) to retrieve with only ~50 million documents, it
instead takes under a second.

In upcoming versions, will it be possible to disable non-contiguous
segment merges? I can keep per-reader caches, but that causes a lot of
cache thrashing on the index that is currently being written to. Or is
there a better suggested way to do things like this that doesn't
require relying on document IDs (and is just as fast)?

--dho

> simon
>>
>> 2011/3/30 Trejkaz <trejkaz@trypticon.org>:
>>> On Tue, Mar 29, 2011 at 11:21 PM, Erick Erickson
>>> <erickerickson@gmail.com> wrote:
>>>> I'm always skeptical of storing the doc IDs since they can
>>>> change out from underneath you (just delete even a single
>>>> document and optimize).
>>>
>>> We never delete documents. =A0Even when a feature request came in to
>>> update documents (i.e. delete the old one and add a new version), we
>>> ended up keeping the old version around, partially because we didn't
>>> want the IDs to shift (which is a bit of a recursive argument), but
>>> also because it's forensically sound to have the previous versions
>>> around so people can see what edits were made.
>>>
>>>> What is it you're doing with the doc ID that you couldn't do with the =
guid? If your "guid list"
>>>> were ordered, I can imagine building filters quite quickly from
>>>> it using TermDocs.skipTo for instance..
>>>
>>> The main problem with filters is that DocIdBitSet's iterator has to
>>> return the doc IDs in order.
>>>
>>> Even if our GUIDs are in order (they would be, as it would be the
>>> primary key on tables using them), they won't be in the same order as
>>> the IDs of the docs they came from. =A0So for each row in the ResultSet=
,
>>> you need to do a TermDocs.seek(Term). =A0This not only costs the
>>> additional I/O (and it's a lot more than the original database query
>>> was), but you have to read every row in the ResultSet just to get the
>>> first doc ID.
>>>
>>> Contrast this with using doc IDs for the database query. =A0You don't
>>> need to hit the index at all since you already have the result. =A0And
>>> the docs come back in order, so you don't even have to iterate the
>>> entire result set - you can read the first 100 rows and then read more
>>> rows if/when they are needed. =A0And if the caller is using skipTo then
>>> this can be incorporated into the database query to avoid returning
>>> rows which are only going to be discarded anyway.
>>>
>>> Integer fields should have improved things a little in terms of the
>>> amount of I/O required to do the query (at least I would hope that
>>> this is the case - I haven't done any tests yet and we can't use them
>>> yet for backwards compatibility reasons) but they don't remove the
>>> problem of needing to iterate every document in the result set
>>> up-front.
>>>
>>> TX
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 01:47:06 2011
Return-Path: <java-user-return-49230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20813 invoked from network); 31 Mar 2011 01:47:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 01:47:06 -0000
Received: (qmail 7045 invoked by uid 500); 30 Mar 2011 23:57:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7003 invoked by uid 500); 30 Mar 2011 23:57:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6995 invoked by uid 99); 30 Mar 2011 23:57:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:57:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:57:38 +0000
Received: by vws7 with SMTP id 7so2286942vws.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 16:57:16 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.220.182.203 with SMTP id cd11mr475608vcb.264.1301529435718;
 Wed, 30 Mar 2011 16:57:15 -0700 (PDT)
Received: by 10.220.59.199 with HTTP; Wed, 30 Mar 2011 16:57:15 -0700 (PDT)
Date: Wed, 30 Mar 2011 16:57:15 -0700
Message-ID: <AANLkTimwo+JgbLao_DdMoHTxKpCqO+jFOPkc=1g=F8sF@mail.gmail.com>
Subject: Re: minimum string length for fuzzy search
From: Andy Yang <andy@stitcher.com>
To: java-user@lucene.apache.org
Cc: Erick Erickson <erickerickson@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

My question should really be on "fuzzy search". Is there a minimum
length requirement for fuzzy search to start? For example, would
"an~0.8" kick off fuzzy search?

Thanks,
Andy

On Wed, Mar 30, 2011 at 4:02 PM, Erick Erickson <erickerickson@gmail.com> wrote:
> Uhhhm, doesn't "term1 term2"~5 work? If not, why not?
>
> You might get some use from
> http://lucene.apache.org/java/2_4_0/queryparsersyntax.html
>
> Or if that's not germane, perhaps you can explain your use case.
>
> Best
> Erick
>
> On Wed, Mar 30, 2011 at 5:49 PM, Andy Yang <andy@stitcher.com> wrote:
>> Is there a minimum string length requirement for proximity search? For
>> example, would "a~" or "an~" trigger proximity search? The result
>> would be horrible if there is no such requirement.
>>
>> Thanks,
>> Andy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 01:52:42 2011
Return-Path: <java-user-return-49228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48570 invoked from network); 31 Mar 2011 01:52:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 01:52:41 -0000
Received: (qmail 27182 invoked by uid 500); 30 Mar 2011 23:02:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27144 invoked by uid 500); 30 Mar 2011 23:02:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27135 invoked by uid 99); 30 Mar 2011 23:02:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:02:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:02:34 +0000
Received: by qyk30 with SMTP id 30so1606561qyk.14
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 16:02:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=DyK7DmpHenm3zxjXoNu3DyaO5j6jC2Rk3sJXwoof/r8=;
        b=oWpgaVwdpvyatWyhvFGHX9AMWs1lp5nmi3H9uI0raZCe7BOnHEJ2kcG1dFpkrGHNfn
         QAJF/uUU+cSzU2boBEdPlaKNJ4n5LlpiVHuKq6xzHpXiaJM//4uhzQDeYVbfMpt0GdiE
         0pOyKvwD15sODsnLk9xDIKj7Oi6aGs5V1IECQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=txEpHBWIMEZtvEP5STIl/Q49uK4+869zQpe27T94Q7RXXRWWotJu+19+bvnq/OguBe
         PTqoif82dBmD1QSy6khGS0c1fOUzfDajVYuIVZ8r8KWisQ0W5n6A7CP6FSKM8+mrnAEQ
         q8r4R6ufYv0s3UbhmkVSn4JF3HTBWiwzyZems=
MIME-Version: 1.0
Received: by 10.224.40.208 with SMTP id l16mr1706743qae.72.1301526133839; Wed,
 30 Mar 2011 16:02:13 -0700 (PDT)
Received: by 10.229.72.8 with HTTP; Wed, 30 Mar 2011 16:02:13 -0700 (PDT)
In-Reply-To: <AANLkTi=j3p=DfQicYfESJqx3ZqNJzcS2UrA=m0aS4-Dm@mail.gmail.com>
References: <AANLkTi=j3p=DfQicYfESJqx3ZqNJzcS2UrA=m0aS4-Dm@mail.gmail.com>
Date: Wed, 30 Mar 2011 19:02:13 -0400
Message-ID: <AANLkTin1PZFvc_-8SxBzkgqKSBmjaQ3bJ2A6u7+pYSJW@mail.gmail.com>
Subject: Re: minimum string length for proximity search
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Uhhhm, doesn't "term1 term2"~5 work? If not, why not?

You might get some use from
http://lucene.apache.org/java/2_4_0/queryparsersyntax.html

Or if that's not germane, perhaps you can explain your use case.

Best
Erick

On Wed, Mar 30, 2011 at 5:49 PM, Andy Yang <andy@stitcher.com> wrote:
> Is there a minimum string length requirement for proximity search? For
> example, would "a~" or "an~" trigger proximity search? The result
> would be horrible if there is no such requirement.
>
> Thanks,
> Andy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 01:54:14 2011
Return-Path: <java-user-return-49227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49488 invoked from network); 31 Mar 2011 01:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 01:54:14 -0000
Received: (qmail 40598 invoked by uid 500); 30 Mar 2011 21:50:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40557 invoked by uid 500); 30 Mar 2011 21:50:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40549 invoked by uid 99); 30 Mar 2011 21:50:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 21:50:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 21:50:05 +0000
Received: by vxa37 with SMTP id 37so2164201vxa.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 14:49:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.220.182.203 with SMTP id cd11mr444103vcb.264.1301521783690;
 Wed, 30 Mar 2011 14:49:43 -0700 (PDT)
Received: by 10.220.59.199 with HTTP; Wed, 30 Mar 2011 14:49:43 -0700 (PDT)
Date: Wed, 30 Mar 2011 14:49:43 -0700
Message-ID: <AANLkTi=j3p=DfQicYfESJqx3ZqNJzcS2UrA=m0aS4-Dm@mail.gmail.com>
Subject: minimum string length for proximity search
From: Andy Yang <andy@stitcher.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Is there a minimum string length requirement for proximity search? For
example, would "a~" or "an~" trigger proximity search? The result
would be horrible if there is no such requirement.

Thanks,
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 02:01:09 2011
Return-Path: <java-user-return-49229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59315 invoked from network); 31 Mar 2011 02:01:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 02:01:09 -0000
Received: (qmail 37874 invoked by uid 500); 30 Mar 2011 23:11:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37829 invoked by uid 500); 30 Mar 2011 23:11:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37821 invoked by uid 99); 30 Mar 2011 23:11:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:11:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Mar 2011 23:11:03 +0000
Received: by vxa37 with SMTP id 37so2238354vxa.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 16:10:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.52.77.70 with SMTP id q6mr2449326vdw.159.1301526642491; Wed,
 30 Mar 2011 16:10:42 -0700 (PDT)
Received: by 10.220.59.199 with HTTP; Wed, 30 Mar 2011 16:10:42 -0700 (PDT)
In-Reply-To: <AANLkTin1PZFvc_-8SxBzkgqKSBmjaQ3bJ2A6u7+pYSJW@mail.gmail.com>
References: <AANLkTi=j3p=DfQicYfESJqx3ZqNJzcS2UrA=m0aS4-Dm@mail.gmail.com>
	<AANLkTin1PZFvc_-8SxBzkgqKSBmjaQ3bJ2A6u7+pYSJW@mail.gmail.com>
Date: Wed, 30 Mar 2011 16:10:42 -0700
Message-ID: <AANLkTikDCZ2PmV=oyVbLNk4MRY+QQkWssnb3bPNSd35W@mail.gmail.com>
Subject: Re: minimum string length for proximity search
From: Andy Yang <andy@stitcher.com>
To: java-user@lucene.apache.org
Cc: Erick Erickson <erickerickson@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

We are trying to do proximity search for multi-terms and we don't care
the order of the terms. Therefore "term1 term2"~5 probably will not
get you "term2 term1" if both terms are long. So instead of applying
distance at the end, we apply distance to each word, "term1~2
term2~2". I am wondering if we should skip short words if it is not
done automatically by the engine.

Thanks,
Andy

On Wed, Mar 30, 2011 at 4:02 PM, Erick Erickson <erickerickson@gmail.com> wrote:
> Uhhhm, doesn't "term1 term2"~5 work? If not, why not?
>
> You might get some use from
> http://lucene.apache.org/java/2_4_0/queryparsersyntax.html
>
> Or if that's not germane, perhaps you can explain your use case.
>
> Best
> Erick
>
> On Wed, Mar 30, 2011 at 5:49 PM, Andy Yang <andy@stitcher.com> wrote:
>> Is there a minimum string length requirement for proximity search? For
>> example, would "a~" or "an~" trigger proximity search? The result
>> would be horrible if there is no such requirement.
>>
>> Thanks,
>> Andy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 05:35:07 2011
Return-Path: <java-user-return-49231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89314 invoked from network); 31 Mar 2011 05:35:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 05:35:07 -0000
Received: (qmail 30236 invoked by uid 500); 31 Mar 2011 05:35:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30075 invoked by uid 500); 31 Mar 2011 05:35:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30067 invoked by uid 99); 31 Mar 2011 05:35:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 05:35:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trejkaz@trypticon.org designates 74.125.83.66 as permitted sender)
Received: from [74.125.83.66] (HELO mail-gw0-f66.google.com) (74.125.83.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 05:34:53 +0000
Received: by gwb17 with SMTP id 17so346527gwb.5
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 22:34:32 -0700 (PDT)
Received: by 10.90.61.8 with SMTP id j8mr2530391aga.76.1301549671445;
        Wed, 30 Mar 2011 22:34:31 -0700 (PDT)
Received: from mail-gw0-f48.google.com (mail-gw0-f48.google.com [74.125.83.48])
        by mx.google.com with ESMTPS id b3sm841142ana.50.2011.03.30.22.34.30
        (version=SSLv3 cipher=OTHER);
        Wed, 30 Mar 2011 22:34:30 -0700 (PDT)
Received: by gwj22 with SMTP id 22so1099160gwj.35
        for <java-user@lucene.apache.org>; Wed, 30 Mar 2011 22:34:30 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.236.197.35 with SMTP id s23mr635528yhn.57.1301549669972; Wed,
 30 Mar 2011 22:34:29 -0700 (PDT)
Received: by 10.236.109.143 with HTTP; Wed, 30 Mar 2011 22:34:29 -0700 (PDT)
In-Reply-To: <AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
	<AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
	<AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
	<AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
Date: Thu, 31 Mar 2011 16:34:29 +1100
Message-ID: <AANLkTinL2d9VqpPb2f2ANVPgx8cL1wmGK-YvXDByNNwf@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Trejkaz <trejkaz@trypticon.org>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 30, 2011 at 8:21 PM, Simon Willnauer
<simon.willnauer@googlemail.com> wrote:
> Before trunk (and I think
> its in 3.1 also) merge only merged continuous segments so the actual
> per-segment ID might change but the global document ID doesn't if you
> only add documents. But this should not be considered a feature. In
> upcoming version this does not work anymore since merges can now be
> non-continuous.

This myth was busted some time ago:
https://issues.apache.org/jira/browse/LUCENE-2506?#comment-12935973

Summary: selecting segments to merge is decided by MergePolicy, and a
MergePolicy which does not upset ordering will be remain in existence.

> Anyway, I strongly discourage to rely on lucene document IDs you
> should not do this at all. Can't you use your own ID mechanism?

This has pretty much already been covered in my reply to the previous
person that suggested that solution, not to mention in the initial
email which started the thread.

Summary: the overheads are simply not acceptable.

So far the only remotely helpful suggestion I have heard anywhere is
to keep two gigantic int[] arrays in memory, mapping the IDs in each
direction.  This would work if we had an infinite amount of memory to
play with, but unfortunately we don't.  1 billion item indexes are
expected to work, and we can't just tell everyone to buy 8 GB more RAM
when we update to the next version of our app.  If we were a
server-side app, *maybe* we could...

TX

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 07:40:36 2011
Return-Path: <java-user-return-49232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97878 invoked from network); 31 Mar 2011 07:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 07:40:36 -0000
Received: (qmail 41880 invoked by uid 500); 31 Mar 2011 07:40:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41835 invoked by uid 500); 31 Mar 2011 07:40:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41826 invoked by uid 99); 31 Mar 2011 07:40:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 07:40:28 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=RCVD_DOUBLE_IP_LOOSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [87.193.196.100] (HELO mail1.postdirekt.de) (87.193.196.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 07:40:22 +0000
Received: from S03BO006.postdirekt.loc (unknown [172.22.233.4])
	by mail1.postdirekt.de (Postfix) with ESMTP id 5FE20170B44
	for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 09:40:01 +0200 (CEST)
Received: from [172.22.233.4] by [87.193.196.98] with ESMTP; Thu, 31 Mar 2011 10:02:25 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: minimum string length for fuzzy search
Date: Thu, 31 Mar 2011 09:40:00 +0200
Message-ID: <C1BF4EE0DD0C3E45A85C037F8A742ED002CF820F@S03BO006.postdirekt.loc>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: minimum string length for fuzzy search
Thread-Index: AcvvNkVvnHfV6vplS5yVu4Ei2JEUugAPwhDg
References: <AANLkTimwo+JgbLao_DdMoHTxKpCqO+jFOPkc=1g=F8sF@mail.gmail.com>
From: "Biedermann,S.,Fa. Post Direkt" <S.Biedermann@postdirekt.de>
To: <java-user@lucene.apache.org>

This is how I understand the process (in 3.0.2):

No, there is no length requirement.=20

What happens in a fuzzy query is that it first rewrites to a Boolean =
query that contains all the terms as term queries that fuzzy match to =
the given pattern. In this rewrite all index terms must be fuzzy =
matched.=20

After rewriting, the rewritten query is "executed".

Since 'an~0.8' can only match 'an' because of the '~0.8',  the =
"executed" query only contains the term query 'an'. But the rewriting =
iterates through all of the terms. This may be very slow.


-----Urspr=FCngliche Nachricht-----
Von: Andy Yang [mailto:andy@stitcher.com]=20
Gesendet: Donnerstag, 31. M=E4rz 2011 01:57
An: java-user@lucene.apache.org
Cc: Erick Erickson
Betreff: Re: minimum string length for fuzzy search

My question should really be on "fuzzy search". Is there a minimum
length requirement for fuzzy search to start? For example, would
"an~0.8" kick off fuzzy search?

Thanks,
Andy

On Wed, Mar 30, 2011 at 4:02 PM, Erick Erickson =
<erickerickson@gmail.com> wrote:
> Uhhhm, doesn't "term1 term2"~5 work? If not, why not?
>
> You might get some use from
> http://lucene.apache.org/java/2_4_0/queryparsersyntax.html
>
> Or if that's not germane, perhaps you can explain your use case.
>
> Best
> Erick
>
> On Wed, Mar 30, 2011 at 5:49 PM, Andy Yang <andy@stitcher.com> wrote:
>> Is there a minimum string length requirement for proximity search? =
For
>> example, would "a~" or "an~" trigger proximity search? The result
>> would be horrible if there is no such requirement.
>>
>> Thanks,
>> Andy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 09:20:50 2011
Return-Path: <java-user-return-49233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21587 invoked from network); 31 Mar 2011 09:20:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 09:20:50 -0000
Received: (qmail 35422 invoked by uid 500); 31 Mar 2011 09:20:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35292 invoked by uid 500); 31 Mar 2011 09:20:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35278 invoked by uid 99); 31 Mar 2011 09:20:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 09:20:45 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of solmyr72@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 09:20:41 +0000
Received: by iym1 with SMTP id 1so3159717iym.35
        for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 02:20:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=jU8RWCAtGF20EFoo5VxhT6qI8Tm06/+qI1bqACx3s84=;
        b=SMp7y56SHPqPylHRWYVX1zzjaxwEvWA9BR+M5Yq3NcKGSsz5DhcJidsdG37N3axUuo
         Fg8/pkqZMaR5zFszuXnus9QBXjfXnlAovssjrerSoGpyHeA8c859QDs9gM7QTZeroDpL
         XGWiVI73rKUl9Gde5KiwGO2pAtktIqGkrH0To=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=hGLG2eDWNsqMbOZ5958tLp43fRP9Y+uAdldRiFbLzJw9svCXa4IyB9uUDNadGII8mM
         JMXJfqplmZaTtsijK7BU59DspMP6iCxX1XLyh9lNiIb5GA7N1SQnRxdiWuDH2TVhbdNI
         nwOBjo41OEM6baFAjXo8wG175Bs6oV6Z8Embw=
MIME-Version: 1.0
Received: by 10.43.57.131 with SMTP id wg3mr1409876icb.299.1301563220492; Thu,
 31 Mar 2011 02:20:20 -0700 (PDT)
Received: by 10.231.206.81 with HTTP; Thu, 31 Mar 2011 02:20:20 -0700 (PDT)
In-Reply-To: <4D8B97F5.7030700@gmail.com>
References: <AANLkTikDRNdHuUMGdFt1fCE_4d7ADEAZHzD2jthO9+qZ@mail.gmail.com>
	<4D88D732.10108@gmail.com>
	<AANLkTimiVjbG80em48dN4tqzK3rw=mpuo_Os9mC=Ecsf@mail.gmail.com>
	<4D8B97F5.7030700@gmail.com>
Date: Thu, 31 Mar 2011 11:20:20 +0200
Message-ID: <AANLkTikVW30A-PLfjTfi4CEbCSME-DCvvBBKdYVhmNFj@mail.gmail.com>
Subject: Re: Distributing a Lucene application?
From: sol myr <solmyr72@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec51961e76900ec049fc3cdd8

--bcaec51961e76900ec049fc3cdd8
Content-Type: text/plain; charset=ISO-8859-1

Thanks very much, sounds great :)

On Thu, Mar 24, 2011 at 9:13 PM, Chris Lu <chris.lu@gmail.com> wrote:

> It's great that the requirement is loose...
> But I suppose users would ask for more later.
>
> Well, I worked on DBSight, which covers more than just search. It also
> includes scheduling indexing, reindexing, and even rendering.
> In your case, you just need to specify a SQL and have index up and running
> in several minutes.
> You can even embed a widget to put search UI to any page.
>
> btw, DBSight also has facet search.
>
>
> Chris Lu
> -------------------------
> Instant Scalable Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
> Lucene Database Search in 3 minutes:
>
> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>
>
> On 2011/3/23 0:57, sol myr wrote:
>
>> Thanks :)
>> Thankfully we don't delete from the database - just mark items as
>> "inactive"
>> (actual delete occurs only in a yearly cleanup process).
>> We can live with inaccurate results, including deleted/inactive items.
>>
>> Have you used DBSight? Would you mind sharing your opinion - did you like
>> it
>> better than, say, SOLR?
>> Thanks :)
>>
>>
>> On Tue, Mar 22, 2011 at 7:06 PM, Chris Lu<chris.lu@gmail.com>  wrote:
>>
>>  Each database having its own index should be fine.
>>> However, just checking modified timestamp may not be enough, since there
>>> could be items deleted.
>>>
>>> You can check DBSight for this purpose. It can do remote index
>>> replication
>>> across WAN.
>>> But, if the NY index is synchronized before NY database does, this means
>>> the NY index could return results not found in NY database, correct?
>>>
>>> --
>>> Chris Lu
>>> -------------------------
>>> Instant Scalable Full-Text Search On Any Database/Application
>>> site: http://www.dbsight.net
>>> demo: http://search.dbsight.com
>>> Lucene Database Search in 3 minutes:
>>>
>>> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>>>
>>>
>>>
>>> On 3/22/2011 1:30 AM, sol myr wrote:
>>>
>>>  Hi,
>>>> What are my options for distributing an application that uses Lucene?
>>>>
>>>> Our current application works against a database of INVENTORY. We
>>>> schedule
>>>> hourly checks for modified items (timestamp-based), and update a single
>>>> Lucene index.
>>>> Now we want to distribute out application, to a Grid, with failover, and
>>>> a
>>>> bit of data sharing:
>>>> Say we have 2 branches - New York and Los Angeles.
>>>>
>>>> (1) Inventory of the NY branch is handled by 2 application servers, and
>>>> 2
>>>> database copies. They are exact replicates, for failover/load balance.
>>>> Similarly, the LA branch gets 2 application servers and 2 databases.
>>>>
>>>> (2) 90% of the time, each branch "minds its own business" and isn't
>>>> interested in the other branch's inventory.
>>>> However on rare occasions, an LA administrator needs to search the NY
>>>> inventory (we can compromise on data freshness, e.g. show data 10 hours
>>>> old).
>>>>
>>>> Does Lucene have built-in support for any of this?
>>>> If I'm to do this "from scratch" I'll probably just let each application
>>>> server maintain its own copy of Lucene index (with data only from its
>>>> own
>>>> city, and hourly updates as before).
>>>> And for the requirement of "LA admin searching the NY inventory" I'd
>>>> schedule a task to copy the NY index into the LA server, every 10 hours.
>>>>
>>>> Is this a reasonable approach? Or are there Lucene-management tools that
>>>> would handle it better?
>>>> Thanks :)
>>>>
>>>>
>>>>  ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--bcaec51961e76900ec049fc3cdd8--

From java-user-return-49234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 09:32:49 2011
Return-Path: <java-user-return-49234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69152 invoked from network); 31 Mar 2011 09:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 09:32:49 -0000
Received: (qmail 46901 invoked by uid 500); 31 Mar 2011 09:32:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46751 invoked by uid 500); 31 Mar 2011 09:32:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46743 invoked by uid 99); 31 Mar 2011 09:32:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 09:32:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 09:32:42 +0000
Received: by iym1 with SMTP id 1so3171976iym.35
        for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 02:32:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=TI4UZOSDvLCc+YNOQSKVRk1tQfLk9vCCTvK3oZ5nQBo=;
        b=Rr8flTUoi0GwqBT2ow3Fdt8xpFM/kG7fNAoo4KM7sumCeqL3EacrjpWN80oLo11svQ
         i4pLGL3qzVesZplVNJrI/UxXT+a24laGD6UN0N/43s68Y5LsjF0+OZqpPACdeKNPHpTD
         KdmzrtLD6QJh+MFCr7mihD7yO8YDf/ExvJTB8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=qIhXDJ3KBFZTtLnNBhug4MKcWZKbmmR8O/PK3pvpyjUNMLwlF30XiuNWeWnwAdR1Pi
         IBc+qQ4PWrX/jrRcM0mwV6U2ABqDpcCm4+mF+yFCqRzxqruklPey6PbB8Vb8g1U+puDq
         YhgF5d0H6BEWMvCFgJdxjvVgeynRIFh6LhA0w=
Received: by 10.231.212.154 with SMTP id gs26mr2436005ibb.121.1301563942119;
 Thu, 31 Mar 2011 02:32:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.199.134 with HTTP; Thu, 31 Mar 2011 02:32:02 -0700 (PDT)
In-Reply-To: <AANLkTinL2d9VqpPb2f2ANVPgx8cL1wmGK-YvXDByNNwf@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
 <AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
 <AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
 <AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
 <AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com> <AANLkTinL2d9VqpPb2f2ANVPgx8cL1wmGK-YvXDByNNwf@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 31 Mar 2011 10:32:02 +0100
Message-ID: <BANLkTimJ=KsvtnN4jMWEDUx3BAmzXGNisg@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

>> Subject: a faster way to addDocument and get the ID just added?

Might it be possible to come up with a version of
IndexWriter.addDocument() that returns the docid rather than void?
Answering that question is way out of my league, but it would
presumably be quick.


--
Ian.


On Thu, Mar 31, 2011 at 6:34 AM, Trejkaz <trejkaz@trypticon.org> wrote:
> On Wed, Mar 30, 2011 at 8:21 PM, Simon Willnauer
> <simon.willnauer@googlemail.com> wrote:
>> Before trunk (and I think
>> its in 3.1 also) merge only merged continuous segments so the actual
>> per-segment ID might change but the global document ID doesn't if you
>> only add documents. But this should not be considered a feature. In
>> upcoming version this does not work anymore since merges can now be
>> non-continuous.
>
> This myth was busted some time ago:
> https://issues.apache.org/jira/browse/LUCENE-2506?#comment-12935973
>
> Summary: selecting segments to merge is decided by MergePolicy, and a
> MergePolicy which does not upset ordering will be remain in existence.
>
>> Anyway, I strongly discourage to rely on lucene document IDs you
>> should not do this at all. Can't you use your own ID mechanism?
>
> This has pretty much already been covered in my reply to the previous
> person that suggested that solution, not to mention in the initial
> email which started the thread.
>
> Summary: the overheads are simply not acceptable.
>
> So far the only remotely helpful suggestion I have heard anywhere is
> to keep two gigantic int[] arrays in memory, mapping the IDs in each
> direction. =A0This would work if we had an infinite amount of memory to
> play with, but unfortunately we don't. =A01 billion item indexes are
> expected to work, and we can't just tell everyone to buy 8 GB more RAM
> when we update to the next version of our app. =A0If we were a
> server-side app, *maybe* we could...
>
> TX
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 12:14:40 2011
Return-Path: <java-user-return-49235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17904 invoked from network); 31 Mar 2011 12:14:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 12:14:39 -0000
Received: (qmail 99196 invoked by uid 500); 31 Mar 2011 12:14:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99124 invoked by uid 500); 31 Mar 2011 12:14:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99116 invoked by uid 99); 31 Mar 2011 12:14:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 12:14:37 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of solmyr72@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 12:14:29 +0000
Received: by iwr19 with SMTP id 19so3355384iwr.35
        for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 05:14:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=ZTCO+jPouOy3cIksOvHRyaKRSXe7k6APlF1aJyTCyCc=;
        b=Xfgsn7elouVMdiJHm04N8CjEhNod9q7gyZKfg8Bc82grIufPE5lNuPZYQs1KTlFgqe
         wgqfUerib6y5nwUsmj8bLdAat9+xdIaYYv6kJLk9nHrpUl6Qz86Nj4V2pPpRPxsw91jK
         g6XayisJN9CeVsrtjohJlnK4peQXb1S6jb0Mg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=vmkyVej1eKOYHah2gjrjY9k/5Yur5VGN1NJgaoud3LC57lVFwBPjrB56B8Z0iwAb7K
         n9+eZERvqBUiRwkGnIhBNxHys9HDn4cbURInSPNY+6mNp+76k4jg25pz7ORhtlVSY+z/
         NKf0chLg2dQ+2fNMCH401m0l++U6QNcgI2e+E=
MIME-Version: 1.0
Received: by 10.43.57.131 with SMTP id wg3mr1676348icb.299.1301573648821; Thu,
 31 Mar 2011 05:14:08 -0700 (PDT)
Received: by 10.231.206.81 with HTTP; Thu, 31 Mar 2011 05:14:08 -0700 (PDT)
Date: Thu, 31 Mar 2011 14:14:08 +0200
Message-ID: <AANLkTi=GTPwYPA=-bnu4PtGunwGs_2yRyZCvwM=g1xeZ@mail.gmail.com>
Subject: Performance and index size (rephrased question)
From: sol myr <solmyr72@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec51961e7fcae01049fc63abb
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec51961e7fcae01049fc63abb
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm rephrasing a previous performance question, in light of new data...
I have a Lucene index of about 0.5 GB.
Currently performance is good - up to 200 milliseconds per search (with
complex boolean queries, but never retrieving more than 200 top results).

The question: how much can the index grow, before there's noticeable
performance degradation?

1) Does anyone please have production experience with, say, 5 GB index? 10
GB?
If so, are there recommendations about merge policy, file size
configuration, etc?
If it degrades, I have other solutions (involving a change in logic), but I
don't want to get into it unless necessary.

2) Also, about 5% of my documents are editable (= the application
occasionally deletes them, and adds a modified document instead).
The other 90% are "immutable" (never deleted/edited).
Can Lucene take advantage of this? E.g. will it be smart enough to keep
changes in a single small file (which needs to be optimized), while the
other files remain unchanged?

Thanks :)

--bcaec51961e7fcae01049fc63abb--

From java-user-return-49236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 12:41:00 2011
Return-Path: <java-user-return-49236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23740 invoked from network); 31 Mar 2011 12:41:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 12:41:00 -0000
Received: (qmail 50828 invoked by uid 500); 31 Mar 2011 12:40:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50792 invoked by uid 500); 31 Mar 2011 12:40:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50784 invoked by uid 99); 31 Mar 2011 12:40:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 12:40:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 12:40:51 +0000
Received: by qyk2 with SMTP id 2so4213611qyk.14
        for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 05:40:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=816aFa6ia/HwQBK3k/VzwwA31+rWaS7Tt33ELUEHcPE=;
        b=vv5IXuFAEJf6ZmxWpSYstZZmy5F2mlduvNAp+aYvSTzYoq+NbTC50lj/BMBTYEpVjZ
         v7CeeJ1+anTVwxxHw6uK1WqGanTdC7D0CLPU05UQE/g9c7s2m7AW1l9GQciwKSwQagO5
         j75DrIsGLR8O1QRMOv6N8eKSfHwfLyC0gVGaA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=VD5DGIFzRcKdoI6ZUots2jHsGlLZs8Aa+dfGAi26ntetWGwxvN3eRJEQRzajK203SI
         TAQTHtw6LpUuiZ0VmO4BGPSY1C6ZWh0328NYU9gQuTJXmV74iCr3u7LGBm8ZUUz9OSuD
         QCL0dlmpbhG8fcimUtMmOIAiTlCa3kGukKAE0=
MIME-Version: 1.0
Received: by 10.229.8.209 with SMTP id i17mr2129431qci.86.1301574728298; Thu,
 31 Mar 2011 05:32:08 -0700 (PDT)
Received: by 10.229.72.8 with HTTP; Thu, 31 Mar 2011 05:32:08 -0700 (PDT)
In-Reply-To: <AANLkTi=GTPwYPA=-bnu4PtGunwGs_2yRyZCvwM=g1xeZ@mail.gmail.com>
References: <AANLkTi=GTPwYPA=-bnu4PtGunwGs_2yRyZCvwM=g1xeZ@mail.gmail.com>
Date: Thu, 31 Mar 2011 08:32:08 -0400
Message-ID: <AANLkTinMuexf6Y0VQ1=8Y2kF=w+K=SAfEVFKPN=5zr=r@mail.gmail.com>
Subject: Re: Performance and index size (rephrased question)
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

5-10 G indexes are pretty small by Lucene/Solr standards, so
given reasonable hardware resources this should be no problem.
That said, only measurement will nail this down. But an
often-used rule of thumb is that you need to consider some
better strategies in the 40G range.

CAUTION: you haven't specified what hardware you're running on,
64/32 bit? Memory available? Other things running on your
machine?

You might want to review:
http://wiki.apache.org/solr/UsingMailingLists

As to your second question, why do you care? If you simply
optimize every so often (say daily or weekly) you'll reclaim all
the space anyway and avoid operational/programmatic
complexity. I'd venture that you won't notice any performance
difference unless you're changing your documents at a
furious rate.

Best
Erick

On Thu, Mar 31, 2011 at 8:14 AM, sol myr <solmyr72@gmail.com> wrote:
> Hi,
>
> I'm rephrasing a previous performance question, in light of new data...
> I have a Lucene index of about 0.5 GB.
> Currently performance is good - up to 200 milliseconds per search (with
> complex boolean queries, but never retrieving more than 200 top results).
>
> The question: how much can the index grow, before there's noticeable
> performance degradation?
>
> 1) Does anyone please have production experience with, say, 5 GB index? 10
> GB?
> If so, are there recommendations about merge policy, file size
> configuration, etc?
> If it degrades, I have other solutions (involving a change in logic), but I
> don't want to get into it unless necessary.
>
> 2) Also, about 5% of my documents are editable (= the application
> occasionally deletes them, and adds a modified document instead).
> The other 90% are "immutable" (never deleted/edited).
> Can Lucene take advantage of this? E.g. will it be smart enough to keep
> changes in a single small file (which needs to be optimized), while the
> other files remain unchanged?
>
> Thanks :)
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 15:21:56 2011
Return-Path: <java-user-return-49237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74966 invoked from network); 31 Mar 2011 15:21:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 15:21:56 -0000
Received: (qmail 46038 invoked by uid 500); 31 Mar 2011 15:21:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45963 invoked by uid 500); 31 Mar 2011 15:21:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45955 invoked by uid 99); 31 Mar 2011 15:21:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 15:21:54 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 15:21:48 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <aenema_rm@yahoo.it>)
	id 1Q5Jge-0007oF-2S
	for java-user@lucene.apache.org; Thu, 31 Mar 2011 08:21:28 -0700
Date: Thu, 31 Mar 2011 08:21:28 -0700 (PDT)
From: Aenima <aenema_rm@yahoo.it>
To: java-user@lucene.apache.org
Message-ID: <1301584888068-2759044.post@n3.nabble.com>
Subject: Storing Semantic Role labeling information with Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi to everyone,
I'm new with Lucene and I'm trying to store SRL information in Lucene
indexes. Since it is a metadata I thought that payloads could be of some
use, but I need to store String not a numerical value. I need to be able to
search by word as well as by SRL information.
Is it possible to do it with payloads or should I use something else? At
present I'm working with Lucene 2.9.4

Thanks in advance

--
View this message in context: http://lucene.472066.n3.nabble.com/Storing-Semantic-Role-labeling-information-with-Lucene-tp2759044p2759044.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 18:30:08 2011
Return-Path: <java-user-return-49238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6425 invoked from network); 31 Mar 2011 18:30:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 18:30:08 -0000
Received: (qmail 73543 invoked by uid 500); 31 Mar 2011 18:30:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73308 invoked by uid 500); 31 Mar 2011 18:30:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73177 invoked by uid 99); 31 Mar 2011 18:30:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 18:30:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of grant.ingersoll@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 18:29:54 +0000
Received: by qwj9 with SMTP id 9so2319309qwj.35
        for <multiple recipients>; Thu, 31 Mar 2011 11:29:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:content-type:content-transfer-encoding
         :subject:date:message-id:to:mime-version:x-mailer;
        bh=Afqvx9nsMcZ3WIXMqGlPM1QLNKXS/KwIpWy2XBhRFKI=;
        b=DbpRjf/L+Az89KZFW99ChOIPkMp4FbvE29AIT7QkSUX8yHFQz2aEw+DpIyumh649L0
         tJVWuT1cWfY17LSpRNUyykq+r7zm6TkzYyZDuT1c7v9+/69cEdlvHiAnS4taaB0sjsC+
         6XQSFwbB8hDlcP+o/WthOmIh2qs9pDaGvXMzs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:content-type:content-transfer-encoding:subject:date:message-id
         :to:mime-version:x-mailer;
        b=LQ/VMY11QcdWLHT2Q16W93E7tSwWrc8otRIX7RLtMlFQxaiGlhdCdVS9f7cv4AsHQd
         h/zSZULnmE0xe2YY3AIprRx91r4dYNrtdsmKK4j4uSYPL7REbayQo9I/aab9eJfBDPzU
         IQT0+wPyq6o95I8vhs70ofvcg/GJMTEdaByAo=
Received: by 10.229.12.193 with SMTP id y1mr2635816qcy.92.1301596173722;
        Thu, 31 Mar 2011 11:29:33 -0700 (PDT)
Received: from [10.0.0.77] (adsl-065-013-152-164.sip.rdu.bellsouth.net [65.13.152.164])
        by mx.google.com with ESMTPS id m7sm944778qcg.41.2011.03.31.11.29.31
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 31 Mar 2011 11:29:32 -0700 (PDT)
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Apache Lucene 3.1.0 is available
Date: Thu, 31 Mar 2011 14:29:30 -0400
Message-Id: <D8AF50AB-C2CF-4BDD-8832-D22008EC9417@apache.org>
To: announce@apache.org,
 java-user@lucene.apache.org,
 general list <general@lucene.apache.org>,
 dev@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1084)
X-Mailer: Apple Mail (2.1084)
X-Virus-Checked: Checked by ClamAV on apache.org

March 2011, Apache Lucene 3.1 available
The Lucene PMC is pleased to announce the release of Apache Lucene 3.1.

This release contains numerous bug fixes, optimizations, and
improvements, some of which are highlighted below.  The release
is available for immediate download at =
http://www.apache.org/dyn/closer.cgi/lucene/java (see note below).
See the CHANGES.txt
file included with the release for a full list of details.

Lucene 3.1 Release Highlights

* Numerous performance improvements: faster exact PhraseQuery; merging
  favors segments with deletions; primary key lookup is faster;
  IndexWriter.addIndexes(Directory[]) uses file copy instead of
  merging; various Directory performance improvements; compound file
  is dynamically turned off for large segments; fully deleted segments
  are dropped on commit; faster snowball analyzers (in contrib);
  ConcurrentMergeScheduler is more careful about setting priority of
  merge threads.

* ReusableAnalyzerBase makes it easier to reuse TokenStreams
  correctly.

* Improved Analysis capabilities: Improved Unicode support, including
  Unicode 4, more friendly term handling (CharTermAttribute), easier
  object reuse and better support for protected words in lossy token
  filters (e.g. stemmers).

* ConstantScoreQuery now allows directly wrapping a Query.

* IndexWriter is now configured with a new separate builder API,
  IndexWriterConfig.  You can now control IndexWriter's previously
  fixed internal thread limit by calling setMaxThreadStates.

* IndexWriter.getReader is replaced by IndexReader.open(IndexWriter).
  In addition you can now specify whether deletes should be resolved
  when you open an NRT reader.

* MultiSearcher is deprecated; ParallelMultiSearcher has been
  absorbed directly into IndexSearcher.

* On 64bit Windows and Solaris JVMs, MMapDirectory is now the
  default implementation (returned by FSDirectory.open).
  MMapDirectory also enables unmapping if the JVM supports it.

* New TotalHitCountCollector just counts total number of hits.

* ReaderFinishedListener API enables external caches to evict entries
  once a segment is finished.

Note: The Apache Software Foundation uses an extensive mirroring network =
for distributing releases.  It is possible that the mirror you are using =
may not have replicated the release yet.  If that is the case, please =
try another mirror.  This also goes for Maven access.=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-49239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 18:46:58 2011
Return-Path: <java-user-return-49239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72237 invoked from network); 31 Mar 2011 18:46:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 18:46:56 -0000
Received: (qmail 7426 invoked by uid 500); 31 Mar 2011 18:46:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7254 invoked by uid 500); 31 Mar 2011 18:46:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7190 invoked by uid 99); 31 Mar 2011 18:46:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 18:46:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 31 Mar 2011 18:46:46 +0000
Received: (qmail 67441 invoked by uid 99); 31 Mar 2011 18:46:26 -0000
Received: from localhost.apache.org (HELO [10.0.0.77]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 18:46:26 +0000
From: Grant Ingersoll <gsingers@apache.org>
Content-Type: multipart/alternative; boundary=Apple-Mail-184--980065980
Subject: Apache Lucene 3.1.0
Date: Thu, 31 Mar 2011 14:46:04 -0400
Message-Id: <3A461979-22BD-47D0-A2BF-0B9B89A13535@apache.org>
To: announce@apache.org,
 java-user@lucene.apache.org,
 general list <general@lucene.apache.org>,
 dev@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1084)
X-Mailer: Apple Mail (2.1084)

--Apple-Mail-184--980065980
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

March 2011, Apache Lucene 3.1 available
The Lucene PMC is pleased to announce the release of Apache Lucene 3.1.

This release contains numerous bug fixes, optimizations, and
improvements, some of which are highlighted below.  The release
is available for immediate download at =
http://www.apache.org/dyn/closer.cgi/lucene/java (see note below).
See the CHANGES.txt
file included with the release for a full list of details.

Lucene 3.1 Release Highlights

* Numerous performance improvements: faster exact PhraseQuery; merging
 favors segments with deletions; primary key lookup is faster;
 IndexWriter.addIndexes(Directory[]) uses file copy instead of
 merging; various Directory performance improvements; compound file
 is dynamically turned off for large segments; fully deleted segments
 are dropped on commit; faster snowball analyzers (in contrib);
 ConcurrentMergeScheduler is more careful about setting priority of
 merge threads.

* ReusableAnalyzerBase makes it easier to reuse TokenStreams
 correctly.

* Improved Analysis capabilities: Improved Unicode support, including
 Unicode 4, more friendly term handling (CharTermAttribute), easier
 object reuse and better support for protected words in lossy token
 filters (e.g. stemmers).

* ConstantScoreQuery now allows directly wrapping a Query.

* IndexWriter is now configured with a new separate builder API,
 IndexWriterConfig.  You can now control IndexWriter's previously
 fixed internal thread limit by calling setMaxThreadStates.

* IndexWriter.getReader is replaced by IndexReader.open(IndexWriter).
 In addition you can now specify whether deletes should be resolved
 when you open an NRT reader.

* MultiSearcher is deprecated; ParallelMultiSearcher has been
 absorbed directly into IndexSearcher.

* On 64bit Windows and Solaris JVMs, MMapDirectory is now the
 default implementation (returned by FSDirectory.open).
 MMapDirectory also enables unmapping if the JVM supports it.

* New TotalHitCountCollector just counts total number of hits.

* ReaderFinishedListener API enables external caches to evict entries
 once a segment is finished.

Note: The Apache Software Foundation uses an extensive mirroring network =
for distributing releases.  It is possible that the mirror you are using =
may not have replicated the release yet.  If that is the case, please =
try another mirror.  This also goes for Maven access.

--------------------------
Grant Ingersoll
Lucene Revolution -- Lucene and Solr User Conference
May 25-26 in San Francisco
www.lucenerevolution.org


--Apple-Mail-184--980065980--

From java-user-return-49240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 31 19:10:32 2011
Return-Path: <java-user-return-49240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55628 invoked from network); 31 Mar 2011 19:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 31 Mar 2011 19:10:32 -0000
Received: (qmail 40214 invoked by uid 500); 31 Mar 2011 19:10:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40173 invoked by uid 500); 31 Mar 2011 19:10:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40160 invoked by uid 99); 31 Mar 2011 19:10:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 19:10:30 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 Mar 2011 19:10:23 +0000
Received: by vws7 with SMTP id 7so3311534vws.35
        for <java-user@lucene.apache.org>; Thu, 31 Mar 2011 12:10:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=rNuORC8lHc8Pg8bqgV/nGucKeaGxgk1v+INbDHobj+I=;
        b=UqzPlibivmwyDYst3h2/QCcxjcf4Qn0PTqRj9ajDK8nXvlTnTaGb35U8ybDBTKoRld
         9ZTMjW4t/jMewYSCKg2Pm0UqDQww2OZkZIAU0YgKQEDHqO6PNWXb2Aw3cxwU5pfDzgOC
         ccR7Qesp8Jm8yir/gOAiAKkXUqsipNRYa8xWE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=TQaKbtbkarl2qyhjOWlMrpATRtbkI8jQhixCGnS8c54Z/++yzLBQLYDH6MqK8lSawB
         HQLMXTjjfENRvhBdBVCMKZIiX2v5FxEALmQeAjYxHATBklRCDFFKtqx60j10M13x6WZV
         9g+nR46bvh0smcT8a2Vg/6os/CAK/mP1UpTuk=
MIME-Version: 1.0
Received: by 10.52.95.211 with SMTP id dm19mr4045936vdb.71.1301598602069; Thu,
 31 Mar 2011 12:10:02 -0700 (PDT)
Received: by 10.52.164.65 with HTTP; Thu, 31 Mar 2011 12:10:01 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <BANLkTimJ=KsvtnN4jMWEDUx3BAmzXGNisg@mail.gmail.com>
References: <AANLkTikMY=eVoCCAoVZoQdgj-b4EuKvxXxoh1cnHY5=q@mail.gmail.com>
	<AANLkTi=zJxmB5Gt-W+FrN+QZPkhMiPYMMMy5ij=MmLAh@mail.gmail.com>
	<AANLkTi=xBrJcLvmA6QjWQgdjRXya0nZBV9GmpVwePtPJ@mail.gmail.com>
	<AANLkTi=M7z1Ztzu_L1uPocuFiGj03tKrh-QoVaMjURFb@mail.gmail.com>
	<AANLkTin-8NTb7zJgtAUwNTMtdfkA_ORwovBBGPxdwzk+@mail.gmail.com>
	<AANLkTinL2d9VqpPb2f2ANVPgx8cL1wmGK-YvXDByNNwf@mail.gmail.com>
	<BANLkTimJ=KsvtnN4jMWEDUx3BAmzXGNisg@mail.gmail.com>
Date: Thu, 31 Mar 2011 21:10:01 +0200
Message-ID: <AANLkTin6YGqgW=SWSw7WvbdT+CJiGy=Ub+kf=+JDeBF2@mail.gmail.com>
Subject: Re: a faster way to addDocument and get the ID just added?
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Ian Lea <ian.lea@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hey Ian,

On Thu, Mar 31, 2011 at 11:32 AM, Ian Lea <ian.lea@gmail.com> wrote:
>>> Subject: a faster way to addDocument and get the ID just added?
>
> Might it be possible to come up with a version of
> IndexWriter.addDocument() that returns the docid rather than void?
> Answering that question is way out of my league, but it would
> presumably be quick.
>
With the current trunk I think we could do that since doc IDs are
assigned in DocumentsWriter and we only have one instance of this
although we are indexing into multiple mem segments and merge on
flush. But, (yeah there must be a but :) we are working on
DocumentsWriterPerThread to exploit extra concurrency for 4.0 where
this doesn't work anymore since we indexing a segment per thread which
is not merged on flush but written directly to disk.

With 4.0 we will also have Column Stride Fields which might help with
this issue which enables you to use your own docIds stored in a fast
accessible integrated column based storage. It might not be as fast as
docIds directly but reasonable since it can be access with a low
footprint iterator during scoring.

maybe that helps once 4.0 is there

simon
> --
> Ian.
>
>
> On Thu, Mar 31, 2011 at 6:34 AM, Trejkaz <trejkaz@trypticon.org> wrote:
>> On Wed, Mar 30, 2011 at 8:21 PM, Simon Willnauer
>> <simon.willnauer@googlemail.com> wrote:
>>> Before trunk (and I think
>>> its in 3.1 also) merge only merged continuous segments so the actual
>>> per-segment ID might change but the global document ID doesn't if you
>>> only add documents. But this should not be considered a feature. In
>>> upcoming version this does not work anymore since merges can now be
>>> non-continuous.
>>
>> This myth was busted some time ago:
>> https://issues.apache.org/jira/browse/LUCENE-2506?#comment-12935973
>>
>> Summary: selecting segments to merge is decided by MergePolicy, and a
>> MergePolicy which does not upset ordering will be remain in existence.
>>
>>> Anyway, I strongly discourage to rely on lucene document IDs you
>>> should not do this at all. Can't you use your own ID mechanism?
>>
>> This has pretty much already been covered in my reply to the previous
>> person that suggested that solution, not to mention in the initial
>> email which started the thread.
>>
>> Summary: the overheads are simply not acceptable.
>>
>> So far the only remotely helpful suggestion I have heard anywhere is
>> to keep two gigantic int[] arrays in memory, mapping the IDs in each
>> direction. =C2=A0This would work if we had an infinite amount of memory =
to
>> play with, but unfortunately we don't. =C2=A01 billion item indexes are
>> expected to work, and we can't just tell everyone to buy 8 GB more RAM
>> when we update to the next version of our app. =C2=A0If we were a
>> server-side app, *maybe* we could...
>>
>> TX
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


