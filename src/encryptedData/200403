From lucene-user-return-7310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 11:24:48 2004
Return-Path: <lucene-user-return-7310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36601 invoked from network); 1 Mar 2004 11:24:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 11:24:48 -0000
Received: (qmail 12970 invoked by uid 500); 1 Mar 2004 11:24:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12914 invoked by uid 500); 1 Mar 2004 11:24:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12853 invoked from network); 1 Mar 2004 11:24:13 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 1 Mar 2004 11:24:13 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 7C3927AA2
	for <lucene-user@jakarta.apache.org>; Mon,  1 Mar 2004 12:24:26 +0100 (MET)
Message-ID: <40431D6A.7020601@infoworks.at>
Date: Mon, 01 Mar 2004 12:24:26 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Best Practices for indexing in Web application
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Lucene Users,
I have a web application using Oracle as the database and I want to add 
fulltext query capablities. My idea was to extend the existing insert, 
update and delete methods of my backend classes to add, delete/add and 
delete respectively.

I'm new to Lucene and after a bit of googling and reading I found a few 
issues which I do not know how to resolve in the moment.

1. Concurrency of IndexWriter and IndexReader
It seems that it is not allowed to open an IndexWriter and an 
IndexReader at the same time. But if one user is changing records in the 
database (and therefore changing documents in the Lucene index) and 
another user is querying the index, I would need to open them both.

2. Optimizing the index
This is maybe related to my first issue.
I assume that while optimizing the index no queries are allowed. How 
often should the index be optimized?

Thanks in advance
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 12:07:11 2004
Return-Path: <lucene-user-return-7311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70319 invoked from network); 1 Mar 2004 12:07:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 12:07:11 -0000
Received: (qmail 81231 invoked by uid 500); 1 Mar 2004 12:07:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81204 invoked by uid 500); 1 Mar 2004 12:07:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81170 invoked from network); 1 Mar 2004 12:07:03 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 1 Mar 2004 12:07:03 -0000
Message-ID: <20040301120703.86665.qmail@web12701.mail.yahoo.com>
Received: from [194.152.216.71] by web12701.mail.yahoo.com via HTTP; Mon, 01 Mar 2004 04:07:03 PST
Date: Mon, 1 Mar 2004 04:07:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Best Practices for indexing in Web application
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40431D6A.7020601@infoworks.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Michael Steiger <mslists@infoworks.at> wrote:
> Hello Lucene Users,
> I have a web application using Oracle as the database and I want to
> add 
> fulltext query capablities. My idea was to extend the existing
> insert, 
> update and delete methods of my backend classes to add, delete/add
> and 
> delete respectively.
> 
> I'm new to Lucene and after a bit of googling and reading I found a
> few 
> issues which I do not know how to resolve in the moment.
> 
> 1. Concurrency of IndexWriter and IndexReader
> It seems that it is not allowed to open an IndexWriter and an 
> IndexReader at the same time. But if one user is changing records in
> the 
> database (and therefore changing documents in the Lucene index) and 
> another user is querying the index, I would need to open them both.

This problem should be easily solvable through synchronizing on an
object that is used as a shared lock.

> 2. Optimizing the index
> This is maybe related to my first issue.
> I assume that while optimizing the index no queries are allowed. How 
> often should the index be optimized?

Queries are allowed while an index is being optimized.
You can optimize as often as you'd like, but the recommended approach
is to optimize only when you know your index won't change for a while,
or if you are running out of file descriptors.

This is covered in at least one of the Lucene articles (links on the
site).

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 12:09:37 2004
Return-Path: <lucene-user-return-7312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71417 invoked from network); 1 Mar 2004 12:09:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 12:09:37 -0000
Received: (qmail 84915 invoked by uid 500); 1 Mar 2004 12:09:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84872 invoked by uid 500); 1 Mar 2004 12:09:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84788 invoked from network); 1 Mar 2004 12:09:22 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 1 Mar 2004 12:09:22 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id BD20B19B730
	for <lucene-user@jakarta.apache.org>; Mon,  1 Mar 2004 13:09:21 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i21C9LlT025392
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 13:09:21 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i21C9KH1025388;
	Mon, 1 Mar 2004 13:09:20 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16451.10224.765292.230234@tanto-xipolis.de>
Date: Mon, 1 Mar 2004 13:09:20 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
In-Reply-To: <40431D6A.7020601@infoworks.at>
References: <40431D6A.7020601@infoworks.at>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Steiger writes:
> Hello Lucene Users,
> I have a web application using Oracle as the database and I want to add 
> fulltext query capablities. My idea was to extend the existing insert, 
> update and delete methods of my backend classes to add, delete/add and 
> delete respectively.
> 
> I'm new to Lucene and after a bit of googling and reading I found a few 
> issues which I do not know how to resolve in the moment.
> 
> 1. Concurrency of IndexWriter and IndexReader
> It seems that it is not allowed to open an IndexWriter and an 
> IndexReader at the same time. But if one user is changing records in the 
> database (and therefore changing documents in the Lucene index) and 
> another user is querying the index, I would need to open them both.
> 
No.
You can have one IndexWriter and an arbitray number of IndexReaders, that
don't write to the index.
Despite it's name IndexReader is used for deletions. Since this is a write
operation, it cannot be done, while a IndexWrite is open.
But that's the only limitation.

IndexReaders will not see changes introduced by writers until they are
closed and reopened. And one should be aware that keeping the Readers open
after changes means that the associated files are kept open, which may result
in too many open files.

> 2. Optimizing the index
> This is maybe related to my first issue.
> I assume that while optimizing the index no queries are allowed. How 
> often should the index be optimized?
> 
AFAIK there's no problem with searching during optimizing of an index.

IIRC the FAQ says, that optimizing should only be done, if you know, that
your index won't change for some time.
As far as I understand lucenes indexing, the reason is, that lucene will
automatically merge the index files (based on MergeFactor), which is, 
what optimizing does.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 13:34:25 2004
Return-Path: <lucene-user-return-7313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21196 invoked from network); 1 Mar 2004 13:34:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 13:34:25 -0000
Received: (qmail 17808 invoked by uid 500); 1 Mar 2004 13:34:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17501 invoked by uid 500); 1 Mar 2004 13:34:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17478 invoked from network); 1 Mar 2004 13:34:16 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 1 Mar 2004 13:34:16 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org; Mon, 1 Mar 2004 08:34:15 -0500
Received: from ny2535.corp.bloomberg.com (ny2535.bloomberg.com [172.20.73.26])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id i21DYDM04059
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 08:34:15 -0500 (EST)
Received: from ny2526.corp.bloomberg.com (unverified) by ny2535.corp.bloomberg.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T6811f7d287ac14491ae1c@ny2535.corp.bloomberg.com> for <lucene-user@jakarta.apache.org>;
 Mon, 1 Mar 2004 08:34:12 -0500
content-class: urn:content-classes:message
Subject: RE: Concurrency
Date: Mon, 1 Mar 2004 08:34:12 -0500
Message-Id: <3B530EF12E388B408ECC3162BA8C00F427CA10@ny2526.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Thread-Topic: Concurrency
Thread-Index: AcP+J9PBE+haDso5Tg+Tl1mk9GeyvwBaZd2A
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

when a file gets deleted under Unix, the name is removed from the file =
system but the file doesn't go away until the INode is deleted. this =
happens when the last process using the file closes it. if you create a =
new file with the same name, while the old one is open, you get a new =
INode. in Windows, the file system name and file are managed as a single =
entity.

Herb....

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Saturday, February 28, 2004 1:22 PM
To: Lucene Users List
Subject: RE: Concurrency


I'm not sure what happens on Windows, but this should work just fine
under UNIX.  The files still really do exist on disk, I believe, they
are just not visible after you delete them, and under UNIX the process
will still have a references to deleted index files (inodes is the
proper term in this context, I think) even after optimization, so
IndexSearcher will work.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 17:33:41 2004
Return-Path: <lucene-user-return-7314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78066 invoked from network); 1 Mar 2004 17:33:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 17:33:41 -0000
Received: (qmail 84945 invoked by uid 500); 1 Mar 2004 17:33:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84905 invoked by uid 500); 1 Mar 2004 17:33:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84862 invoked from network); 1 Mar 2004 17:33:07 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 1 Mar 2004 17:33:07 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004030117331101300hanete>; Mon, 1 Mar 2004 17:33:11 +0000
Message-ID: <404373CB.7080909@apache.org>
Date: Mon, 01 Mar 2004 09:32:59 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing multiple instances of the same field for each document
References: <042b01c3fd85$43e143e0$3c03a8c0@Pangloss> <403FD019.5020404@apache.org> <21DE5C06-699E-11D8-A87F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <21DE5C06-699E-11D8-A87F-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> On Feb 27, 2004, at 6:17 PM, Doug Cutting wrote:
> 
>> I think it's document.add().  Fields are pushed onto the front, rather 
>> than added to the end.
> 
> 
> Ah, ok.... DocumentFieldList/DocumentFieldEnumeration are the culprits.
> 
> This is certainly a bug.

Yes, a bug that's been there since the genesis of Lucene, six years ago. 
  It is surprising that something like this could go so long unnoticed.

I just fixed this in CVS.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 19:10:49 2004
Return-Path: <lucene-user-return-7315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28607 invoked from network); 1 Mar 2004 19:10:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 19:10:49 -0000
Received: (qmail 13097 invoked by uid 500); 1 Mar 2004 19:10:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13075 invoked by uid 500); 1 Mar 2004 19:10:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13047 invoked from network); 1 Mar 2004 19:10:33 -0000
Received: from unknown (HELO fargus.sitescape.com) (65.202.208.227)
  by daedalus.apache.org with SMTP; 1 Mar 2004 19:10:33 -0000
Received: from Pangloss ([216.195.213.27])
	by fargus.sitescape.com (8.11.6/8.11.6) with ESMTP id i21J59t03726
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 14:05:10 -0500
From: "Roy Klein" <klein@sitescape.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing multiple instances of the same field for each document
Date: Mon, 1 Mar 2004 14:10:25 -0500
Message-ID: <046b01c3ffc0$dc298c60$3c03a8c0@Pangloss>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <F469B915-6AC0-11D8-A970-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't have access to the process that created the XML, it was done in
the past.

As I stated in the beginning of this thread, this is just an example of
the type of thing I'm trying to accomplish.

I think the real issue herein is that the fields are being inserted in
reverse order.  Here's the comments in the code (for Document.add()):

  /** Adds a field to a document.  Several fields may be added with
   * the same name.  In this case, if the fields are indexed, their text
is
   * treated as though appended for the purposes of search. */

I guess it doesn't specify the order they're appended, however, when I
read that comment, I thought that it meant "in the order added".  It's a
pretty simple change to the Document class to make this work as I'd
expect it.  From Doug's initial response, I think he expected this
behavior as well.


Thanks again for all your help!

    Roy


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Sunday, February 29, 2004 9:10 AM
To: Lucene Users List
Subject: Re: Indexing multiple instances of the same field for each
document


What you are doing is really the job of an Analyzer.  You are doing 
pre-analysis, when instead you could do all of this within the context 
of a custom analyzer and avoid many of these issues altogether.

Do you use the XML only during indexing?  If so, you could bypass the 
whole conversion to XML and then back through Digester all within an 
analyzer.

Or am I missing something that prevents you from doing it this way?

	Erik


On Feb 28, 2004, at 10:05 PM, Roy Klein wrote:
> Erik,
> Here's a brief example of the type of thing I'm trying to do:
>
> I have a file that contains the words:
>
> The quick brown fox jumped over the lazy dog.
>
> I run that file through a utility that produces the following xml
> document:
> <document>
>   <field name=wordposition1>
>     <word>The</word>
>   </field>
>   <field name=wordposition2>
>     <word>quick</word>
>     <word>fast</word>
>     <word>speedy</word>
>   </field>
>   <field name=wordposition3>
>     <word>brown</word>
>     <word>tan</word>
>     <word>dark</word>
>   </field>
>   .
>   .
>   .
>
> I parse that document (via the digester), and add all the words from 
> each of the fields to one lucene field: "contents".  The tricky part 
> is that I want to have each word position contain all the words at 
> that position in the lucene index.  I.e. word location 1 in the index 
> contains "The", word location 2: "quick, fast, and speedy", word 
> location 3: "brown, tan, and dark", etc.
>
> That way, all the following phrase queries will match this document:
> 	"fast tan"
> 	"quick brown"
>       "fast brown"
>
> I wrote a "TermAnalyzer" that adds all the words from a field into the

> index at the same position. (via setPositionIncrement(0)).  That way I

> can simply add each set of words to the "contents" field, and it'll 
> just keep adding them to the same field.  However, since it's 
> reversing them,
> I can't match phrases.
>
>
>     Roy


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 19:11:08 2004
Return-Path: <lucene-user-return-7316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28762 invoked from network); 1 Mar 2004 19:11:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 19:11:08 -0000
Received: (qmail 14061 invoked by uid 500); 1 Mar 2004 19:10:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14040 invoked by uid 500); 1 Mar 2004 19:10:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13983 invoked from network); 1 Mar 2004 19:10:53 -0000
Received: from unknown (HELO fargus.sitescape.com) (65.202.208.227)
  by daedalus.apache.org with SMTP; 1 Mar 2004 19:10:53 -0000
Received: from Pangloss ([216.195.213.27])
	by fargus.sitescape.com (8.11.6/8.11.6) with ESMTP id i21J5Tt03740
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 14:05:29 -0500
From: "Roy Klein" <klein@sitescape.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing multiple instances of the same field for each document
Date: Mon, 1 Mar 2004 14:10:45 -0500
Message-ID: <046c01c3ffc0$e7c8b500$3c03a8c0@Pangloss>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <404373CB.7080909@apache.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug!

I was in the midst of testing my fix to it and noticed your checkin...

    Roy

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Monday, March 01, 2004 12:33 PM
To: Lucene Users List
Subject: Re: Indexing multiple instances of the same field for each
document


Erik Hatcher wrote:
> On Feb 27, 2004, at 6:17 PM, Doug Cutting wrote:
> 
>> I think it's document.add().  Fields are pushed onto the front, 
>> rather
>> than added to the end.
> 
> 
> Ah, ok.... DocumentFieldList/DocumentFieldEnumeration are the 
> culprits.
> 
> This is certainly a bug.

Yes, a bug that's been there since the genesis of Lucene, six years ago.

  It is surprising that something like this could go so long unnoticed.

I just fixed this in CVS.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 20:47:25 2004
Return-Path: <lucene-user-return-7317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82918 invoked from network); 1 Mar 2004 20:47:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 20:47:24 -0000
Received: (qmail 78715 invoked by uid 500); 1 Mar 2004 20:47:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78545 invoked by uid 500); 1 Mar 2004 20:47:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78529 invoked from network); 1 Mar 2004 20:47:08 -0000
Received: from unknown (HELO mta.micromuse.com) (194.131.185.92)
  by daedalus.apache.org with SMTP; 1 Mar 2004 20:47:08 -0000
Received: from tropo.com ([10.0.0.157])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id i21KlBH30190
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 20:47:12 GMT
Message-ID: <4043A14F.7030009@tropo.com>
Date: Mon, 01 Mar 2004 12:47:11 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: StrlenFilter contribution and discussion
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Out of curiosity - does anyone use a Filter based on string (token) 
length. Use case is, say, you're indexing email msgs and if an 
attachment is uuencoded into lines of 60 or whatever characters then you 
  don't want to index tokens that are so long as they can't possibly be 
of use later and just eat up disk space.

Plz feel free to add this to sandbox with whatever license is appropriate.

The code is easy:

/**
  * Removes words that are too long and too short from the stream
  */
public final class StrlenFilter
	extends TokenFilter
{
	/**
	 * Build a filter that removes words that are too long or too short 
from the text.
	 */
	public StrlenFilter(TokenStream in, int min, int max)
	{
		input = in;
		this.min = min;
		this.max =max;
	}

	/** Returns the next input Token whose termText() is the right len
	 */
	public final Token next() throws IOException
	{
		// return the first non-stop word found
		for (Token token = input.next(); token != null; token = input.next())
		{
			final int len = token.termText().length();
			if ( len >= min && len <= max)
				return token;
			// note: else we ignore it but should we index each part of it?
		}
		// reached EOS -- return null		
		return null;
	}
	final int min;
	final int max;
}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 22:36:09 2004
Return-Path: <lucene-user-return-7318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44925 invoked from network); 1 Mar 2004 22:36:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 22:36:09 -0000
Received: (qmail 10435 invoked by uid 500); 1 Mar 2004 22:35:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10414 invoked by uid 500); 1 Mar 2004 22:35:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10399 invoked from network); 1 Mar 2004 22:35:50 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 1 Mar 2004 22:35:50 -0000
Received: from supun.office (host-157.media.net [66.113.64.157])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i21MZtED005171
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 14:35:56 -0800
Subject: FuzzyQuery info
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1078180555.13375.22.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 01 Mar 2004 14:35:55 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

where is a good starting place to find out how to use FuzzyQuery?

I don't know too much about Fuzzy logic or set theory in general so
pointers to that kind of info would be helpful too.

what do some of you use FuzzyQuery for? any examples simple would be
helpful

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 01 22:49:43 2004
Return-Path: <lucene-user-return-7319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52475 invoked from network); 1 Mar 2004 22:49:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Mar 2004 22:49:43 -0000
Received: (qmail 33020 invoked by uid 500); 1 Mar 2004 22:49:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32997 invoked by uid 500); 1 Mar 2004 22:49:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32984 invoked from network); 1 Mar 2004 22:49:24 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 1 Mar 2004 22:49:24 -0000
Message-ID: <20040301224917.66508.qmail@web12703.mail.yahoo.com>
Received: from [83.131.124.20] by web12703.mail.yahoo.com via HTTP; Mon, 01 Mar 2004 14:49:17 PST
Date: Mon, 1 Mar 2004 14:49:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FuzzyQuery info
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  supun@office.vtourist.com
In-Reply-To: <1078180555.13375.22.camel@supun.office>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest Lucene's unit tests.
You could use FuzzyQuery when you are unsure about the exact spelling,
or you could use it to automatically re-run users' queries when they
yield no hits, or...

Otis

--- Supun Edirisinghe <supun@office.vtourist.com> wrote:
> where is a good starting place to find out how to use FuzzyQuery?
> 
> I don't know too much about Fuzzy logic or set theory in general so
> pointers to that kind of info would be helpful too.
> 
> what do some of you use FuzzyQuery for? any examples simple would be
> helpful
> 
> thanks
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 00:05:56 2004
Return-Path: <lucene-user-return-7320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89774 invoked from network); 2 Mar 2004 00:05:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 00:05:56 -0000
Received: (qmail 42340 invoked by uid 500); 2 Mar 2004 00:05:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42317 invoked by uid 500); 2 Mar 2004 00:05:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42304 invoked from network); 2 Mar 2004 00:05:36 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 2 Mar 2004 00:05:36 -0000
Received: from supun.office (host-157.media.net [66.113.64.157])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i2205gED006733
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 1 Mar 2004 16:05:43 -0800
Subject: Re: FuzzyQuery info
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040301224917.66508.qmail@web12703.mail.yahoo.com>
References: <20040301224917.66508.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1078185942.13375.30.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 01 Mar 2004 16:05:42 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thanks Otis, I'll look into the unit tests.

is there any documentation on FuzzyQuery or articles written on it? ( I
mean besides the API pages.) 

thanks

On Mon, 2004-03-01 at 14:49, Otis Gospodnetic wrote:
> I suggest Lucene's unit tests.
> You could use FuzzyQuery when you are unsure about the exact spelling,
> or you could use it to automatically re-run users' queries when they
> yield no hits, or...
> 
> Otis
> 
> --- Supun Edirisinghe <supun@office.vtourist.com> wrote:
> > where is a good starting place to find out how to use FuzzyQuery?
> > 
> > I don't know too much about Fuzzy logic or set theory in general so
> > pointers to that kind of info would be helpful too.
> > 
> > what do some of you use FuzzyQuery for? any examples simple would be
> > helpful
> > 
> > thanks
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 00:17:56 2004
Return-Path: <lucene-user-return-7321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94691 invoked from network); 2 Mar 2004 00:17:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 00:17:56 -0000
Received: (qmail 56735 invoked by uid 500); 2 Mar 2004 00:17:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56614 invoked by uid 500); 2 Mar 2004 00:17:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56600 invoked from network); 2 Mar 2004 00:17:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 2 Mar 2004 00:17:36 -0000
Received: (cpmta 28367 invoked from network); 1 Mar 2004 16:17:42 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 1 Mar 2004 16:17:42 -0800
X-Sent: 2 Mar 2004 00:17:42 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <1078185942.13375.30.camel@supun.office>
References: <20040301224917.66508.qmail@web12703.mail.yahoo.com> <1078185942.13375.30.camel@supun.office>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <02C64E6C-6BDF-11D8-8489-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: FuzzyQuery info
Date: Mon, 1 Mar 2004 19:17:37 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 1, 2004, at 7:05 PM, Supun Edirisinghe wrote:
> is there any documentation on FuzzyQuery or articles written on it? ( I
> mean besides the API pages.)

I cover it a little in this article:

	<http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 04:05:58 2004
Return-Path: <lucene-user-return-7322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12304 invoked from network); 2 Mar 2004 04:05:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 04:05:58 -0000
Received: (qmail 42920 invoked by uid 500); 2 Mar 2004 04:05:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42809 invoked by uid 500); 2 Mar 2004 04:05:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42794 invoked from network); 2 Mar 2004 04:05:34 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 2 Mar 2004 04:05:34 -0000
Received: from kelvin (adsl-210-193-14-223.qala.com.sg [210.193.14.223])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i2243jXC020983
	for <lucene-user@jakarta.apache.org>; Tue, 2 Mar 2004 12:03:46 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Tue, 2 Mar 2004 12:06:07 +0800
Message-ID: <2004321267.823458@kelvin>
In-Reply-To: <40431D6A.7020601@infoworks.at>
Subject: Re: Best Practices for indexing in Web application
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



On Mon, 01 Mar 2004 12:24:26 +0100, Michael Steiger said:
> 1. Concurrency of IndexWriter and IndexReader
> It seems that it is not allowed to open an IndexWriter and an
> IndexReader at the same time. But if one user is changing records in the
> database (and therefore changing documents in the Lucene index) and
> another user is querying the index, I would need to open them both.

Not necessarily so. Shouldn't you be using an IndexSearcher to query the=
 index 
instead of an IndexReader? IndexReader should be used primarily for deleting=
 and 
low-level document retrieval via Terms.

> 
> 2. Optimizing the index
> This is maybe related to my first issue.
> I assume that while optimizing the index no queries are allowed. How
> often should the index be optimized?
>

Again, IndexSearcher has no problem with the index being modified (via 
optimizing, or otherwise) whilst searching. However, you'll need to have=
 some 
way of refreshing your IndexSearcher when this happens, otherwise the 
IndexSearcher  would be obsolete.

Kelvin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 12:48:46 2004
Return-Path: <lucene-user-return-7323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90919 invoked from network); 2 Mar 2004 12:48:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 12:48:46 -0000
Received: (qmail 12920 invoked by uid 500); 2 Mar 2004 12:48:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12584 invoked by uid 500); 2 Mar 2004 12:48:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12563 invoked from network); 2 Mar 2004 12:48:37 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 2 Mar 2004 12:48:37 -0000
Message-ID: <20040302124838.56046.qmail@web12707.mail.yahoo.com>
Received: from [194.152.209.196] by web12707.mail.yahoo.com via HTTP; Tue, 02 Mar 2004 04:48:38 PST
Date: Tue, 2 Mar 2004 04:48:38 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: StrlenFilter contribution and discussion
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4043A14F.7030009@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I remember you sending this once before....a long time ago.
This time I'll stick it in sandbox/contributions/analyzers/...
Thanks!

Otis

--- David Spencer <dave-lucene-user@tropo.com> wrote:
> 
> Out of curiosity - does anyone use a Filter based on string (token) 
> length. Use case is, say, you're indexing email msgs and if an 
> attachment is uuencoded into lines of 60 or whatever characters then
> you 
>   don't want to index tokens that are so long as they can't possibly
> be 
> of use later and just eat up disk space.
> 
> Plz feel free to add this to sandbox with whatever license is
> appropriate.
> 
> The code is easy:
> 
> /**
>   * Removes words that are too long and too short from the stream
>   */
> public final class StrlenFilter
> 	extends TokenFilter
> {
> 	/**
> 	 * Build a filter that removes words that are too long or too short 
> from the text.
> 	 */
> 	public StrlenFilter(TokenStream in, int min, int max)
> 	{
> 		input = in;
> 		this.min = min;
> 		this.max =max;
> 	}
> 
> 	/** Returns the next input Token whose termText() is the right len
> 	 */
> 	public final Token next() throws IOException
> 	{
> 		// return the first non-stop word found
> 		for (Token token = input.next(); token != null; token =
> input.next())
> 		{
> 			final int len = token.termText().length();
> 			if ( len >= min && len <= max)
> 				return token;
> 			// note: else we ignore it but should we index each part of it?
> 		}
> 		// reached EOS -- return null		
> 		return null;
> 	}
> 	final int min;
> 	final int max;
> }
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 13:27:54 2004
Return-Path: <lucene-user-return-7324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15504 invoked from network); 2 Mar 2004 13:27:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 13:27:53 -0000
Received: (qmail 85896 invoked by uid 500); 2 Mar 2004 13:27:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85867 invoked by uid 500); 2 Mar 2004 13:27:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85848 invoked from network); 2 Mar 2004 13:27:45 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 2 Mar 2004 13:27:45 -0000
Received: (qmail 28475 invoked by uid 0); 2 Mar 2004 13:27:45 -0000
Received: from 129.241.253.34 by www39.gmx.net with HTTP;
	Tue, 2 Mar 2004 14:27:45 +0100 (MET)
Date: Tue, 2 Mar 2004 14:27:45 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Search one keyword in two fields - How?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <13630.1078234065@www39.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

hat do I need to search for one single keyword in two fields of one index?
Can someone provide an easy example or tell me where to find it?

Cheers,
Karl

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 13:35:47 2004
Return-Path: <lucene-user-return-7325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19712 invoked from network); 2 Mar 2004 13:35:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 13:35:47 -0000
Received: (qmail 5932 invoked by uid 500); 2 Mar 2004 13:35:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5859 invoked by uid 500); 2 Mar 2004 13:35:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5794 invoked from network); 2 Mar 2004 13:35:36 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 2 Mar 2004 13:35:36 -0000
Message-ID: <20040302133534.20345.qmail@web12705.mail.yahoo.com>
Received: from [194.152.209.196] by web12705.mail.yahoo.com via HTTP; Tue, 02 Mar 2004 05:35:34 PST
Date: Tue, 2 Mar 2004 05:35:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search one keyword in two fields - How?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <13630.1078234065@www39.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can use MultiFieldQueryParser, or you can construct a BooleanQuery
with two TermQueries as its two clauses, and combine them with OR.

Otis

--- Karl Koch <TheRanger@gmx.net> wrote:
> Hi,
> 
> hat do I need to search for one single keyword in two fields of one
> index?
> Can someone provide an easy example or tell me where to find it?
> 
> Cheers,
> Karl
> 
> -- 
> +++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter
> Virenschutz +++
> 100% Virenerkennung nach Wildlist. Infos:
> http://www.gmx.net/virenschutz
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 18:19:41 2004
Return-Path: <lucene-user-return-7326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22916 invoked from network); 2 Mar 2004 18:19:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 18:19:41 -0000
Received: (qmail 94024 invoked by uid 500); 2 Mar 2004 18:19:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93997 invoked by uid 500); 2 Mar 2004 18:19:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93976 invoked from network); 2 Mar 2004 18:19:25 -0000
Received: from unknown (HELO web25007.mail.ukl.yahoo.com) (217.12.10.43)
  by daedalus.apache.org with SMTP; 2 Mar 2004 18:19:25 -0000
Message-ID: <20040302181928.5992.qmail@web25007.mail.ukl.yahoo.com>
Received: from [217.26.77.145] by web25007.mail.ukl.yahoo.com via HTTP; Tue, 02 Mar 2004 18:19:28 GMT
Date: Tue, 2 Mar 2004 18:19:28 +0000 (GMT)
From: =?iso-8859-1?q?Clandes=20Tino?= <clandestino_bgd@yahoo.co.uk>
Subject: Highlighting problem
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all, 
I have incorporated highlighting package
(http://home.clara.net/markharwood/lucene/highlight.htm)
but I am worried about the following issue.

If I want to display "body" field contents best
segments, containing term from query highlighted, I
have to define Field "body" as Stored.

So, complete process would be like this:
Index related work:
1. parse uploaded document into temp ASCII file
2. read ASCII file and append its content to String 
3. make Field as Text(String name, String value)

Search related work:
1. Retrieve field body String value from the hit
(again - only way to do this - as I have understood 
is to declare Field body as Stored)
2. pass the String value to Highlighter methods.
 
Besides that in Lucene FAQ I have read that body
fields are not good candidates to be declared as
Stored. Index size is one obvious reason, but I am
wondering, how it implies Lucene search performance in
general?

Has somebody an idea how to include highlight
functionality in Unstored Field?

Regards and thanx in advance
Milan     



	
	
		
___________________________________________________________
Yahoo! Messenger - Communicate instantly..."Ping" 
your friends today! Download Messenger Now 
http://uk.messenger.yahoo.com/download/index.html

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 18:24:04 2004
Return-Path: <lucene-user-return-7327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25665 invoked from network); 2 Mar 2004 18:24:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 18:24:04 -0000
Received: (qmail 3079 invoked by uid 500); 2 Mar 2004 18:23:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2956 invoked by uid 500); 2 Mar 2004 18:23:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2940 invoked from network); 2 Mar 2004 18:23:50 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 2 Mar 2004 18:23:50 -0000
Received: from supun.office (host-157.media.net [66.113.64.157])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i22INrED021659
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 2 Mar 2004 10:23:54 -0800
Subject: Re: FuzzyQuery info
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <02C64E6C-6BDF-11D8-8489-000393A564E6@ehatchersolutions.com>
References: <20040301224917.66508.qmail@web12703.mail.yahoo.com>
	 <1078185942.13375.30.camel@supun.office>
	 <02C64E6C-6BDF-11D8-8489-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1078251833.21458.10.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 02 Mar 2004 10:23:53 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thanks, Erik, it was exactly what I was looking for. seems like you are
a very active writer in the java community--great work

now, one more question: what are the big performance hits from using a
FuzzyQuery. what are some bad cases to use it(eg. many words in the
phrase? long strings? ) would it be better to read up on the Levenshtein
algorithm or to get into the internals of Lucene and compare what is
done in FuzzyQuery as opposed to something simpler like PhraseQuery 

thanks.

On Mon, 2004-03-01 at 16:17, Erik Hatcher wrote:
> On Mar 1, 2004, at 7:05 PM, Supun Edirisinghe wrote:
> > is there any documentation on FuzzyQuery or articles written on it? ( I
> > mean besides the API pages.)
> 
> I cover it a little in this article:
> 
> 	<http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 18:31:16 2004
Return-Path: <lucene-user-return-7328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30946 invoked from network); 2 Mar 2004 18:31:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 18:31:16 -0000
Received: (qmail 19161 invoked by uid 500); 2 Mar 2004 18:31:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19138 invoked by uid 500); 2 Mar 2004 18:31:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19124 invoked from network); 2 Mar 2004 18:31:02 -0000
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by daedalus.apache.org with SMTP; 2 Mar 2004 18:31:02 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 02 Mar 2004 13:31:05 -0500
Message-Id: <s0448c99.013@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 02 Mar 2004 13:30:36 -0500
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Term Vector support
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>> dror@zapatec.com 02/27/04 12:09PM >>>
Hi folks,

I'm trying to get a better understanding of term vector support. Looking
at lucene-dev I'm understanding that with each document you store the
list of terms and their frequencies. Is this correct?=20
What uses are there for term vector other than "more like this"?


>
You can do more formal relevance feedback models and other more advanced =
IR techniques.  Presumably you could implement some other scoring =
capabilities that require the term vector.  You can access the frequency =
information on a document vector basis (kind of like termDocs, etc. which =
are term based on the index).

Some of these require some imagination to get to, but I think they can be =
done.  Pick up a good book on IR and you can see where the formulas use =
term (sometimes called document) vectors. =20

I am sure there are other uses as well.


-Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 18:43:46 2004
Return-Path: <lucene-user-return-7329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40167 invoked from network); 2 Mar 2004 18:43:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 18:43:46 -0000
Received: (qmail 60587 invoked by uid 500); 2 Mar 2004 18:43:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60566 invoked by uid 500); 2 Mar 2004 18:43:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60552 invoked from network); 2 Mar 2004 18:43:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 2 Mar 2004 18:43:31 -0000
Received: (cpmta 15968 invoked from network); 2 Mar 2004 10:43:35 -0800
Received: from 128.143.104.90 (HELO ?128.143.104.90?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Mar 2004 10:43:35 -0800
X-Sent: 2 Mar 2004 18:43:35 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <1078251833.21458.10.camel@supun.office>
References: <20040301224917.66508.qmail@web12703.mail.yahoo.com> <1078185942.13375.30.camel@supun.office> <02C64E6C-6BDF-11D8-8489-000393A564E6@ehatchersolutions.com> <1078251833.21458.10.camel@supun.office>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8160AB9D-6C79-11D8-814C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: FuzzyQuery info
Date: Tue, 2 Mar 2004 13:43:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 2, 2004, at 1:23 PM, Supun Edirisinghe wrote:
> now, one more question: what are the big performance hits from using a
> FuzzyQuery. what are some bad cases to use it(eg. many words in the
> phrase? long strings? ) would it be better to read up on the 
> Levenshtein
> algorithm or to get into the internals of Lucene and compare what is
> done in FuzzyQuery as opposed to something simpler like PhraseQuery

To do a FuzzyQuery, *every* term in the field needs to be enumerated 
and checked.  This may or may not be a problem depending on the size of 
your index, but it is definitely worth noting.

What are you trying to accomplish?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 21:11:48 2004
Return-Path: <lucene-user-return-7330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40901 invoked from network); 2 Mar 2004 21:11:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 21:11:48 -0000
Received: (qmail 89749 invoked by uid 500); 2 Mar 2004 21:11:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89687 invoked by uid 500); 2 Mar 2004 21:11:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89565 invoked from network); 2 Mar 2004 21:11:29 -0000
Received: from unknown (HELO ridge.aps.org) (149.28.1.5)
  by daedalus.apache.org with SMTP; 2 Mar 2004 21:11:29 -0000
Received: from aps.org (ws-duval.aps.org [149.28.3.184])
	by ridge.aps.org (8.9.3+Sun/8.9.3) with ESMTP id QAA05684
	for <lucene-user@jakarta.apache.org>; Tue, 2 Mar 2004 16:11:34 -0500 (EST)
Message-ID: <4044F886.9060107@aps.org>
Date: Tue, 02 Mar 2004 16:11:34 -0500
From: Michael Duval <duval@aps.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i386; en-US; rv:1.4) Gecko/20030624 Netscape/7.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: java.io.tmpdir as lock dir .... once again
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello All,

I've come across my first gotcha with the system property 
"java.io.tmpdir" as the lock directory.

Over here at APS we run lucene in two different servlet containers on 
two different servers for both performance
and security reasons.  One container gives read access to the collection 
and the other is contantly updating the collection.
The collection is NFS mounted from both servers.   This worked fine 
until the lucene update 1.3.   Now the lock files are being
written to the temp dir's in each of the respective containers root 
dir's.   This of course breaks the locking scheme.

I could have changed the tmpdir prop to write files back into the 
collection directory but this would also pollute
the tmpdir with other non-related files.  My solution was as follows:

I've hacked the code for the time being by updating FSDirectory and 
replaced all System.getProperty("java.io.tmpdir")
calls with a call to a new method "getLockDir()".   This method checks 
for a "lucene.lockdir" prop before the
"java.io.tmpdir" prop giving the end user a bit more flexibility in 
where locks are stored.

Here is the method:

  /** Allow flexible locking directories - Michael R. Duval 3/02/04 */
  private String getLockDir() {
        String lockDir;

        if ((lockDir = System.getProperty("lucene.lockdir")) == null)
                return System.getProperty("java.io.tmpdir");
        else
                return  lockDir;
  }

Hopefully a solution similar to this will make it in to one of the next 
distributions.

Thanks and Cheers,

Mike

-- 
Michael R. Duval <duval@aps.org >
E-Journal Programmer/Analyst
The American Physical Society
1 Research Road
Ridge, NY 11961

www.aps.org
631 591 4127



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 22:07:30 2004
Return-Path: <lucene-user-return-7331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75581 invoked from network); 2 Mar 2004 22:07:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 22:07:30 -0000
Received: (qmail 94868 invoked by uid 500); 2 Mar 2004 22:07:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94835 invoked by uid 500); 2 Mar 2004 22:07:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94816 invoked from network); 2 Mar 2004 22:07:11 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 2 Mar 2004 22:07:11 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 46AA57AA2
	for <lucene-user@jakarta.apache.org>; Tue,  2 Mar 2004 23:07:16 +0100 (MET)
Message-ID: <40450594.4090502@infoworks.at>
Date: Tue, 02 Mar 2004 23:07:16 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <40431D6A.7020601@infoworks.at> <16451.10224.765292.230234@tanto-xipolis.de>
In-Reply-To: <16451.10224.765292.230234@tanto-xipolis.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:

> Michael Steiger writes:
> 
>>Hello Lucene Users,
>>I have a web application using Oracle as the database and I want to add 
>>fulltext query capablities. My idea was to extend the existing insert, 
>>update and delete methods of my backend classes to add, delete/add and 
>>delete respectively.
>>
>>I'm new to Lucene and after a bit of googling and reading I found a few 
>>issues which I do not know how to resolve in the moment.
>>
>>1. Concurrency of IndexWriter and IndexReader
>>It seems that it is not allowed to open an IndexWriter and an 
>>IndexReader at the same time. But if one user is changing records in the 
>>database (and therefore changing documents in the Lucene index) and 
>>another user is querying the index, I would need to open them both.
>>
> 
> No.
> You can have one IndexWriter and an arbitray number of IndexReaders, that
> don't write to the index.
> Despite it's name IndexReader is used for deletions. Since this is a write
> operation, it cannot be done, while a IndexWrite is open.
> But that's the only limitation.

OK, misunderstanding found. I already know that IndexReader is mostly 
used for deletions but I thought that I can not have Reader and Writer 
objects open at the same time. I now understand that I can have multiple 
Readers but the delete operations must be synchronized with open Writers.


> IndexReaders will not see changes introduced by writers until they are
> closed and reopened. And one should be aware that keeping the Readers open
> after changes means that the associated files are kept open, which may result
> in too many open files.

OK. I only wanted to open a Reader for deletions and close it 
afterwards. So this should be no problem.


>>2. Optimizing the index
>>This is maybe related to my first issue.
>>I assume that while optimizing the index no queries are allowed. How 
>>often should the index be optimized?
>>
> 
> AFAIK there's no problem with searching during optimizing of an index.
> 
> IIRC the FAQ says, that optimizing should only be done, if you know, that
> your index won't change for some time.
> As far as I understand lucenes indexing, the reason is, that lucene will
> automatically merge the index files (based on MergeFactor), which is, 
> what optimizing does.

My problem is that I do not know in advance if or when the "index won't 
change for some time". I think of running a counter for all updates 
(add, delete) and optimize after some threshold.

Thanks for your help
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 22:08:26 2004
Return-Path: <lucene-user-return-7332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76326 invoked from network); 2 Mar 2004 22:08:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 22:08:26 -0000
Received: (qmail 96872 invoked by uid 500); 2 Mar 2004 22:08:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96848 invoked by uid 500); 2 Mar 2004 22:08:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96833 invoked from network); 2 Mar 2004 22:08:08 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 2 Mar 2004 22:08:08 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 2E8BA7AA2
	for <lucene-user@jakarta.apache.org>; Tue,  2 Mar 2004 23:08:14 +0100 (MET)
Message-ID: <404505CE.5060706@infoworks.at>
Date: Tue, 02 Mar 2004 23:08:14 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <20040301120703.86665.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20040301120703.86665.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> --- Michael Steiger <mslists@infoworks.at> wrote:
> 
>>Hello Lucene Users,
>>I have a web application using Oracle as the database and I want to
>>add 
>>fulltext query capablities. My idea was to extend the existing
>>insert, 
>>update and delete methods of my backend classes to add, delete/add
>>and 
>>delete respectively.
>>
>>I'm new to Lucene and after a bit of googling and reading I found a
>>few 
>>issues which I do not know how to resolve in the moment.
>>
>>1. Concurrency of IndexWriter and IndexReader
>>It seems that it is not allowed to open an IndexWriter and an 
>>IndexReader at the same time. But if one user is changing records in
>>the 
>>database (and therefore changing documents in the Lucene index) and 
>>another user is querying the index, I would need to open them both.
> 
> 
> This problem should be easily solvable through synchronizing on an
> object that is used as a shared lock.

Misunderstanding solved due another response. Should be no problem anymore.


>>2. Optimizing the index
>>This is maybe related to my first issue.
>>I assume that while optimizing the index no queries are allowed. How 
>>often should the index be optimized?
> 
> 
> Queries are allowed while an index is being optimized.
> You can optimize as often as you'd like, but the recommended approach
> is to optimize only when you know your index won't change for a while,
> or if you are running out of file descriptors.
> 
> This is covered in at least one of the Lucene articles (links on the
> site).

Otis,
thanks for your help
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 22:10:18 2004
Return-Path: <lucene-user-return-7333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77277 invoked from network); 2 Mar 2004 22:10:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 22:10:18 -0000
Received: (qmail 99034 invoked by uid 500); 2 Mar 2004 22:10:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98823 invoked by uid 500); 2 Mar 2004 22:09:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98808 invoked from network); 2 Mar 2004 22:09:59 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 2 Mar 2004 22:09:59 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 0EFD57AA2
	for <lucene-user@jakarta.apache.org>; Tue,  2 Mar 2004 23:10:05 +0100 (MET)
Message-ID: <4045063C.6040307@infoworks.at>
Date: Tue, 02 Mar 2004 23:10:04 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <2004321267.823458@kelvin>
In-Reply-To: <2004321267.823458@kelvin>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kelvin Tan wrote:

> 
> On Mon, 01 Mar 2004 12:24:26 +0100, Michael Steiger said:
> 
>>1. Concurrency of IndexWriter and IndexReader
>>It seems that it is not allowed to open an IndexWriter and an
>>IndexReader at the same time. But if one user is changing records in the
>>database (and therefore changing documents in the Lucene index) and
>>another user is querying the index, I would need to open them both.
> 
> 
> Not necessarily so. Shouldn't you be using an IndexSearcher to query the index 
> instead of an IndexReader? IndexReader should be used primarily for deleting and 
> low-level document retrieval via Terms.

I am using an IndexSearcher for querying the index but for deletions I 
need to use the IndexReader. I now know that I can have Readers and a 
Writer open concurrently but IndexReader.delete can only be used if no 
Writer is open.

>>2. Optimizing the index
>>This is maybe related to my first issue.
>>I assume that while optimizing the index no queries are allowed. How
>>often should the index be optimized?
>>
> 
> 
> Again, IndexSearcher has no problem with the index being modified (via 
> optimizing, or otherwise) whilst searching. However, you'll need to have some 
> way of refreshing your IndexSearcher when this happens, otherwise the 
> IndexSearcher  would be obsolete.

I want to open the IndexSearcher only while searching and close it 
afterwards.

Thanks
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 22:15:40 2004
Return-Path: <lucene-user-return-7334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79550 invoked from network); 2 Mar 2004 22:15:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 22:15:40 -0000
Received: (qmail 9605 invoked by uid 500); 2 Mar 2004 22:15:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9577 invoked by uid 500); 2 Mar 2004 22:15:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9563 invoked from network); 2 Mar 2004 22:15:22 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 2 Mar 2004 22:15:22 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 245807AA2
	for <lucene-user@jakarta.apache.org>; Tue,  2 Mar 2004 23:15:28 +0100 (MET)
Message-ID: <4045077F.1050004@infoworks.at>
Date: Tue, 02 Mar 2004 23:15:27 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Problem with search results
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,
I have now partly integrated my Oracle based web-application with Lucene 
but there is one search result I do not understand.

I'm using the Standardanalyzer for Document.add and for the 
QueryParser.parse methods.

One field in one document1 added as Field.Text contains "Sysh1"
One field in another document2 added as Field.Text contains "Sysh1-1"

If I search for Term("name", "sysh1") the result is correct: document1
If I search for Term("name", "sysh1-1") the result is not correct. It is 
also document1.

Has anyone an idea how this can happen?

Thanks
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 22:54:52 2004
Return-Path: <lucene-user-return-7335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1720 invoked from network); 2 Mar 2004 22:54:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 22:54:52 -0000
Received: (qmail 11573 invoked by uid 500); 2 Mar 2004 22:54:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11540 invoked by uid 500); 2 Mar 2004 22:54:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11526 invoked from network); 2 Mar 2004 22:54:32 -0000
Received: from unknown (HELO jive.servlets.net) (209.162.192.250)
  by daedalus.apache.org with SMTP; 2 Mar 2004 22:54:32 -0000
Received: from jivesoftware.com (ool-4353cbf6.dyn.optonline.net [67.83.203.246])
	(authenticated bits=0)
	by jive.servlets.net (8.12.8/8.12.8) with ESMTP id i22MsaId026072
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 2 Mar 2004 14:54:38 -0800
Message-ID: <40451039.2090504@jivesoftware.com>
Date: Tue, 02 Mar 2004 17:52:41 -0500
From: Matt Tucker <matt@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Highlighting problem
References: <20040302181928.5992.qmail@web25007.mail.ukl.yahoo.com>
In-Reply-To: <20040302181928.5992.qmail@web25007.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Clandes,

I'm not sure what the "body" field is that you're indexing. If it's a 
database record, one option may be to store the database primary key for 
the record as a field value -- basically a document ID. In that case, 
you would do the search and get back matching document ID's. You could 
then pull the bodies from the database and send them through the 
hilighting routine without ever needing to store the full body value in 
Lucene.

Regards,
Matt

Clandes Tino wrote:

> Hi all, 
> I have incorporated highlighting package
> (http://home.clara.net/markharwood/lucene/highlight.htm)
> but I am worried about the following issue.
> 
> If I want to display "body" field contents best
> segments, containing term from query highlighted, I
> have to define Field "body" as Stored.
> 
> So, complete process would be like this:
> Index related work:
> 1. parse uploaded document into temp ASCII file
> 2. read ASCII file and append its content to String 
> 3. make Field as Text(String name, String value)
> 
> Search related work:
> 1. Retrieve field body String value from the hit
> (again - only way to do this - as I have understood 
> is to declare Field body as Stored)
> 2. pass the String value to Highlighter methods.
>  
> Besides that in Lucene FAQ I have read that body
> fields are not good candidates to be declared as
> Stored. Index size is one obvious reason, but I am
> wondering, how it implies Lucene search performance in
> general?
> 
> Has somebody an idea how to include highlight
> functionality in Unstored Field?
> 
> Regards and thanx in advance
> Milan     
> 
> 
> 
> 	
> 	
> 		
> ___________________________________________________________
> Yahoo! Messenger - Communicate instantly..."Ping" 
> your friends today! Download Messenger Now 
> http://uk.messenger.yahoo.com/download/index.html
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 23:07:45 2004
Return-Path: <lucene-user-return-7336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9313 invoked from network); 2 Mar 2004 23:07:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 23:07:45 -0000
Received: (qmail 46358 invoked by uid 500); 2 Mar 2004 23:07:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46331 invoked by uid 500); 2 Mar 2004 23:07:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46316 invoked from network); 2 Mar 2004 23:07:26 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 2 Mar 2004 23:07:26 -0000
Message-ID: <20040302230729.51638.qmail@web12706.mail.yahoo.com>
Received: from [83.131.117.31] by web12706.mail.yahoo.com via HTTP; Tue, 02 Mar 2004 15:07:29 PST
Date: Tue, 2 Mar 2004 15:07:29 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Problem with search results
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4045077F.1050004@infoworks.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

And if you do not use QueryParser, then things work?
If so, then this is likely caused by the fact that your Term contains a
'special' character, '-'.

Otis


--- Michael Steiger <mslists@infoworks.at> wrote:
> Hello,
> I have now partly integrated my Oracle based web-application with
> Lucene 
> but there is one search result I do not understand.
> 
> I'm using the Standardanalyzer for Document.add and for the 
> QueryParser.parse methods.
> 
> One field in one document1 added as Field.Text contains "Sysh1"
> One field in another document2 added as Field.Text contains "Sysh1-1"
> 
> If I search for Term("name", "sysh1") the result is correct:
> document1
> If I search for Term("name", "sysh1-1") the result is not correct. It
> is 
> also document1.
> 
> Has anyone an idea how this can happen?
> 
> Thanks
> Michael
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 23:12:21 2004
Return-Path: <lucene-user-return-7337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12058 invoked from network); 2 Mar 2004 23:12:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 23:12:21 -0000
Received: (qmail 56788 invoked by uid 500); 2 Mar 2004 23:12:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56754 invoked by uid 500); 2 Mar 2004 23:12:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56739 invoked from network); 2 Mar 2004 23:12:01 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 2 Mar 2004 23:12:01 -0000
Message-ID: <20040302231203.53407.qmail@web12706.mail.yahoo.com>
Received: from [83.131.117.31] by web12706.mail.yahoo.com via HTTP; Tue, 02 Mar 2004 15:12:03 PST
Date: Tue, 2 Mar 2004 15:12:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: java.io.tmpdir as lock dir .... once again
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4044F886.9060107@aps.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This looks nice.
However, what happens if you have two Java processes that work on the
same index, and give it different lock directories?
They'll mess up the index.

Should we try to prevent this by not offering this option, or should we
offer it, document it well, and leave it up to the user to play by the
rules or not?

I'm leaning towards the latter, but I think some Lucene developers
would be more conservative.

Otis


--- Michael Duval <duval@aps.org> wrote:
> 
> Hello All,
> 
> I've come across my first gotcha with the system property 
> "java.io.tmpdir" as the lock directory.
> 
> Over here at APS we run lucene in two different servlet containers on
> 
> two different servers for both performance
> and security reasons.  One container gives read access to the
> collection 
> and the other is contantly updating the collection.
> The collection is NFS mounted from both servers.   This worked fine 
> until the lucene update 1.3.   Now the lock files are being
> written to the temp dir's in each of the respective containers root 
> dir's.   This of course breaks the locking scheme.
> 
> I could have changed the tmpdir prop to write files back into the 
> collection directory but this would also pollute
> the tmpdir with other non-related files.  My solution was as follows:
> 
> I've hacked the code for the time being by updating FSDirectory and 
> replaced all System.getProperty("java.io.tmpdir")
> calls with a call to a new method "getLockDir()".   This method
> checks 
> for a "lucene.lockdir" prop before the
> "java.io.tmpdir" prop giving the end user a bit more flexibility in 
> where locks are stored.
> 
> Here is the method:
> 
>   /** Allow flexible locking directories - Michael R. Duval 3/02/04
> */
>   private String getLockDir() {
>         String lockDir;
> 
>         if ((lockDir = System.getProperty("lucene.lockdir")) == null)
>                 return System.getProperty("java.io.tmpdir");
>         else
>                 return  lockDir;
>   }
> 
> Hopefully a solution similar to this will make it in to one of the
> next 
> distributions.
> 
> Thanks and Cheers,
> 
> Mike
> 
> -- 
> Michael R. Duval <duval@aps.org >
> E-Journal Programmer/Analyst
> The American Physical Society
> 1 Research Road
> Ridge, NY 11961
> 
> www.aps.org
> 631 591 4127
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 02 23:37:25 2004
Return-Path: <lucene-user-return-7338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27792 invoked from network); 2 Mar 2004 23:37:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Mar 2004 23:37:25 -0000
Received: (qmail 17560 invoked by uid 500); 2 Mar 2004 23:37:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17512 invoked by uid 500); 2 Mar 2004 23:37:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17498 invoked from network); 2 Mar 2004 23:37:05 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 2 Mar 2004 23:37:05 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i22NbBX19449
	for <lucene-user@jakarta.apache.org>; Tue, 2 Mar 2004 18:37:12 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 2 Mar 2004 18:37:11 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.tmpdir as lock dir .... once again
In-Reply-To: <20040302231203.53407.qmail@web12706.mail.yahoo.com>
Message-ID: <Pine.LNX.4.33.0403021829400.15613-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've done something similar to configure my merge factor (but it was
outside my code), and am planning on setting the limit on boolean queries
this way as well. I think it's pretty clean especially if you use
org.apache.lucene.xxx properties with decent default values.

Adding this feature could probably better document the hazards of use an
index lock in a distributed system, considering many people like to know
the implications of running lucene in a web (and potentially replicated)
env.

my 2c,
sv

On Tue, 2 Mar 2004, Otis Gospodnetic wrote:

> This looks nice.
> However, what happens if you have two Java processes that work on the
> same index, and give it different lock directories?
> They'll mess up the index.

If you sell people coffee, they can always burn themselves. Might as well
warn them.

> Should we try to prevent this by not offering this option, or should we
> offer it, document it well, and leave it up to the user to play by the
> rules or not?
>
> I'm leaning towards the latter, but I think some Lucene developers
> would be more conservative.
>
> Otis
>
>
> --- Michael Duval <duval@aps.org> wrote:
> >
> > Hello All,
> >
> > I've come across my first gotcha with the system property
> > "java.io.tmpdir" as the lock directory.
> >
> > Over here at APS we run lucene in two different servlet containers on
> >
> > two different servers for both performance
> > and security reasons.  One container gives read access to the
> > collection
> > and the other is contantly updating the collection.
> > The collection is NFS mounted from both servers.   This worked fine
> > until the lucene update 1.3.   Now the lock files are being
> > written to the temp dir's in each of the respective containers root
> > dir's.   This of course breaks the locking scheme.
> >
> > I could have changed the tmpdir prop to write files back into the
> > collection directory but this would also pollute
> > the tmpdir with other non-related files.  My solution was as follows:
> >
> > I've hacked the code for the time being by updating FSDirectory and
> > replaced all System.getProperty("java.io.tmpdir")
> > calls with a call to a new method "getLockDir()".   This method
> > checks
> > for a "lucene.lockdir" prop before the
> > "java.io.tmpdir" prop giving the end user a bit more flexibility in
> > where locks are stored.
> >
> > Here is the method:
> >
> >   /** Allow flexible locking directories - Michael R. Duval 3/02/04
> > */
> >   private String getLockDir() {
> >         String lockDir;
> >
> >         if ((lockDir = System.getProperty("lucene.lockdir")) == null)
> >                 return System.getProperty("java.io.tmpdir");
> >         else
> >                 return  lockDir;
> >   }
> >
> > Hopefully a solution similar to this will make it in to one of the
> > next
> > distributions.
> >
> > Thanks and Cheers,
> >
> > Mike
> >
> > --
> > Michael R. Duval <duval@aps.org >
> > E-Journal Programmer/Analyst
> > The American Physical Society
> > 1 Research Road
> > Ridge, NY 11961
> >
> > www.aps.org
> > 631 591 4127
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 03:43:54 2004
Return-Path: <lucene-user-return-7339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72892 invoked from network); 3 Mar 2004 03:43:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 03:43:54 -0000
Received: (qmail 82161 invoked by uid 500); 3 Mar 2004 03:43:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82135 invoked by uid 500); 3 Mar 2004 03:43:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82114 invoked from network); 3 Mar 2004 03:43:30 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 3 Mar 2004 03:43:30 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Content-Class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Subject: RE: java.io.tmpdir as lock dir .... once again
Date: Tue, 2 Mar 2004 22:43:02 -0500
Message-ID: <D8F6E34643CC234E99CF8FDC1CAC1E57036F94@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: java.io.tmpdir as lock dir .... once again
thread-index: AcQAmuFGJ3aMyjFxSoiNEwDvwiuVuAANl5O0
From: "Hui Ouyang" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SSBoYWQgdG8gZG8gc29tZXRoaW5nIHNpbWlsYXIgdG8gbWFrZSB0aGUgYXBwbGljYXRpb24gd29y
a3Mgd2l0aCBsdWNlbmUgMS4zIGZpbmFsIHdoZW4gdXBncmFkaW5nIGZyb20gMS4zIFJDMS4gSSB0
aGluayBpdCBpcyBiZXR0ZXIgdG8gbWFpbnRhaW4gYmFjayBjb21wYXRpYWJsZSBzbyBleGlzdGlu
ZyB1c2VycyBhcmUgbm90IGFmZmVjdGVkIHRvbyBtdWNoIHdoZW4gYSBuZXcgcmVsZWFzZSBpcyBh
dmFpbGFibGUuDQpSZWdhcmRzLA0KSHVpDQoNCgktLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSAN
CglGcm9tOiBNaWNoYWVsIER1dmFsIFttYWlsdG86ZHV2YWxAYXBzLm9yZ10gDQoJU2VudDogVHVl
IDMvMi8yMDA0IDQ6MTEgUE0gDQoJVG86IGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZyAN
CglDYzogDQoJU3ViamVjdDogamF2YS5pby50bXBkaXIgYXMgbG9jayBkaXIgLi4uLiBvbmNlIGFn
YWluDQoJDQoJDQoNCg0KCUhlbGxvIEFsbCwNCgkNCglJJ3ZlIGNvbWUgYWNyb3NzIG15IGZpcnN0
IGdvdGNoYSB3aXRoIHRoZSBzeXN0ZW0gcHJvcGVydHkNCgkiamF2YS5pby50bXBkaXIiIGFzIHRo
ZSBsb2NrIGRpcmVjdG9yeS4NCgkNCglPdmVyIGhlcmUgYXQgQVBTIHdlIHJ1biBsdWNlbmUgaW4g
dHdvIGRpZmZlcmVudCBzZXJ2bGV0IGNvbnRhaW5lcnMgb24NCgl0d28gZGlmZmVyZW50IHNlcnZl
cnMgZm9yIGJvdGggcGVyZm9ybWFuY2UNCglhbmQgc2VjdXJpdHkgcmVhc29ucy4gIE9uZSBjb250
YWluZXIgZ2l2ZXMgcmVhZCBhY2Nlc3MgdG8gdGhlIGNvbGxlY3Rpb24NCglhbmQgdGhlIG90aGVy
IGlzIGNvbnRhbnRseSB1cGRhdGluZyB0aGUgY29sbGVjdGlvbi4NCglUaGUgY29sbGVjdGlvbiBp
cyBORlMgbW91bnRlZCBmcm9tIGJvdGggc2VydmVycy4gICBUaGlzIHdvcmtlZCBmaW5lDQoJdW50
aWwgdGhlIGx1Y2VuZSB1cGRhdGUgMS4zLiAgIE5vdyB0aGUgbG9jayBmaWxlcyBhcmUgYmVpbmcN
Cgl3cml0dGVuIHRvIHRoZSB0ZW1wIGRpcidzIGluIGVhY2ggb2YgdGhlIHJlc3BlY3RpdmUgY29u
dGFpbmVycyByb290DQoJZGlyJ3MuICAgVGhpcyBvZiBjb3Vyc2UgYnJlYWtzIHRoZSBsb2NraW5n
IHNjaGVtZS4NCgkNCglJIGNvdWxkIGhhdmUgY2hhbmdlZCB0aGUgdG1wZGlyIHByb3AgdG8gd3Jp
dGUgZmlsZXMgYmFjayBpbnRvIHRoZQ0KCWNvbGxlY3Rpb24gZGlyZWN0b3J5IGJ1dCB0aGlzIHdv
dWxkIGFsc28gcG9sbHV0ZQ0KCXRoZSB0bXBkaXIgd2l0aCBvdGhlciBub24tcmVsYXRlZCBmaWxl
cy4gIE15IHNvbHV0aW9uIHdhcyBhcyBmb2xsb3dzOg0KCQ0KCUkndmUgaGFja2VkIHRoZSBjb2Rl
IGZvciB0aGUgdGltZSBiZWluZyBieSB1cGRhdGluZyBGU0RpcmVjdG9yeSBhbmQNCglyZXBsYWNl
ZCBhbGwgU3lzdGVtLmdldFByb3BlcnR5KCJqYXZhLmlvLnRtcGRpciIpDQoJY2FsbHMgd2l0aCBh
IGNhbGwgdG8gYSBuZXcgbWV0aG9kICJnZXRMb2NrRGlyKCkiLiAgIFRoaXMgbWV0aG9kIGNoZWNr
cw0KCWZvciBhICJsdWNlbmUubG9ja2RpciIgcHJvcCBiZWZvcmUgdGhlDQoJImphdmEuaW8udG1w
ZGlyIiBwcm9wIGdpdmluZyB0aGUgZW5kIHVzZXIgYSBiaXQgbW9yZSBmbGV4aWJpbGl0eSBpbg0K
CXdoZXJlIGxvY2tzIGFyZSBzdG9yZWQuDQoJDQoJSGVyZSBpcyB0aGUgbWV0aG9kOg0KCQ0KCSAg
LyoqIEFsbG93IGZsZXhpYmxlIGxvY2tpbmcgZGlyZWN0b3JpZXMgLSBNaWNoYWVsIFIuIER1dmFs
IDMvMDIvMDQgKi8NCgkgIHByaXZhdGUgU3RyaW5nIGdldExvY2tEaXIoKSB7DQoJICAgICAgICBT
dHJpbmcgbG9ja0RpcjsNCgkNCgkgICAgICAgIGlmICgobG9ja0RpciA9IFN5c3RlbS5nZXRQcm9w
ZXJ0eSgibHVjZW5lLmxvY2tkaXIiKSkgPT0gbnVsbCkNCgkgICAgICAgICAgICAgICAgcmV0dXJu
IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5pby50bXBkaXIiKTsNCgkgICAgICAgIGVsc2UNCgkg
ICAgICAgICAgICAgICAgcmV0dXJuICBsb2NrRGlyOw0KCSAgfQ0KCQ0KCUhvcGVmdWxseSBhIHNv
bHV0aW9uIHNpbWlsYXIgdG8gdGhpcyB3aWxsIG1ha2UgaXQgaW4gdG8gb25lIG9mIHRoZSBuZXh0
DQoJZGlzdHJpYnV0aW9ucy4NCgkNCglUaGFua3MgYW5kIENoZWVycywNCgkNCglNaWtlDQoJDQoJ
LS0NCglNaWNoYWVsIFIuIER1dmFsIDxkdXZhbEBhcHMub3JnID4NCglFLUpvdXJuYWwgUHJvZ3Jh
bW1lci9BbmFseXN0DQoJVGhlIEFtZXJpY2FuIFBoeXNpY2FsIFNvY2lldHkNCgkxIFJlc2VhcmNo
IFJvYWQNCglSaWRnZSwgTlkgMTE5NjENCgkNCgl3d3cuYXBzLm9yZw0KCTYzMSA1OTEgNDEyNw0K
CQ0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11
c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJDQoJDQoN
Cg==


From lucene-user-return-7340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 06:08:20 2004
Return-Path: <lucene-user-return-7340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24641 invoked from network); 3 Mar 2004 06:08:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 06:08:19 -0000
Received: (qmail 20729 invoked by uid 500); 3 Mar 2004 06:07:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20533 invoked by uid 500); 3 Mar 2004 06:07:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20518 invoked from network); 3 Mar 2004 06:07:52 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 3 Mar 2004 06:07:52 -0000
Received: from ctx.com.au (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.10/8.12.10) with ESMTP id i23681V1013862
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 00:08:02 -0600
Message-ID: <4045767F.3000802@ctx.com.au>
Date: Wed, 03 Mar 2004 17:09:03 +1100
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.tmpdir as lock dir .... once again
References: <D8F6E34643CC234E99CF8FDC1CAC1E57036F94@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <D8F6E34643CC234E99CF8FDC1CAC1E57036F94@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I had to do something similar to make the application works with
> lucene 1.3 final when upgrading from 1.3 RC1. I think it is better to
> maintain back compatiable so existing users are not affected too much
> when a new release is available.

I'd like to "me too" this sentiment. That change caused me a little churn.

=Matt




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:31:00 2004
Return-Path: <lucene-user-return-7341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9489 invoked from network); 3 Mar 2004 07:31:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:31:00 -0000
Received: (qmail 9454 invoked by uid 500); 3 Mar 2004 07:30:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9295 invoked by uid 500); 3 Mar 2004 07:30:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9280 invoked from network); 3 Mar 2004 07:30:31 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:30:31 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 101DB19B75A
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:30:43 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i237UglT010188
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 08:30:42 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i237UgG7010184;
	Wed, 3 Mar 2004 08:30:42 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16453.35234.327338.752619@tanto-xipolis.de>
Date: Wed, 3 Mar 2004 08:30:42 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
In-Reply-To: <40450594.4090502@infoworks.at>
References: <40431D6A.7020601@infoworks.at>
	<16451.10224.765292.230234@tanto-xipolis.de>
	<40450594.4090502@infoworks.at>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Steiger writes:
> 
> My problem is that I do not know in advance if or when the "index won't 
> change for some time". I think of running a counter for all updates 
> (add, delete) and optimize after some threshold.
> 
That's what lucene does anyway. 
Adding documents means adding segments, and when the number of segments
reaches a certain limit, lucene merges these segments.
Optimizing also just merges the segments. So if you introduce your own 
calculation when a merge should be done, your just doubling the effort.
OTOH it might be worth thinking about optimizing the index at times, when
there won't be much searches on the index (e.g. nightly). Depending on
the number of daily updates this might prevent merges during days, when
there is more search access (while searches can be done parallel to 
optimizing, the additional task on the same machine will slow down them
a bit).
There's are two articles about lucenes indexing details written by
Otis Gospodnetic that are linked on the lucene web page, that might
be worth reading. Especially the second (Advanced Text Indexing with Lucene).

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:34:25 2004
Return-Path: <lucene-user-return-7342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10836 invoked from network); 3 Mar 2004 07:34:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:34:24 -0000
Received: (qmail 12681 invoked by uid 500); 3 Mar 2004 07:33:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12542 invoked by uid 500); 3 Mar 2004 07:33:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12528 invoked from network); 3 Mar 2004 07:33:56 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:33:56 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 5560B7AA2
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:34:07 +0100 (MET)
Message-ID: <40458A6F.3060000@infoworks.at>
Date: Wed, 03 Mar 2004 08:34:07 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem with search results
References: <20040302230729.51638.qmail@web12706.mail.yahoo.com>
In-Reply-To: <20040302230729.51638.qmail@web12706.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> And if you do not use QueryParser, then things work?
> If so, then this is likely caused by the fact that your Term contains a
> 'special' character, '-'.

Otis,
correct. If I use a plain TermQuery it works.
That means if I want to use the QueryParser I must quote the special 
characters.

Thanks
Michael


> --- Michael Steiger <mslists@infoworks.at> wrote:
> 
>>Hello,
>>I have now partly integrated my Oracle based web-application with
>>Lucene 
>>but there is one search result I do not understand.
>>
>>I'm using the Standardanalyzer for Document.add and for the 
>>QueryParser.parse methods.
>>
>>One field in one document1 added as Field.Text contains "Sysh1"
>>One field in another document2 added as Field.Text contains "Sysh1-1"
>>
>>If I search for Term("name", "sysh1") the result is correct:
>>document1
>>If I search for Term("name", "sysh1-1") the result is not correct. It
>>is 
>>also document1.
>>
>>Has anyone an idea how this can happen?
>>
>>Thanks
>>Michael
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:42:53 2004
Return-Path: <lucene-user-return-7343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15043 invoked from network); 3 Mar 2004 07:42:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:42:52 -0000
Received: (qmail 21555 invoked by uid 500); 3 Mar 2004 07:42:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21401 invoked by uid 500); 3 Mar 2004 07:42:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21382 invoked from network); 3 Mar 2004 07:42:23 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:42:23 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 3A77819B719
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:42:35 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i237gYlT010445
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 08:42:35 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i237gYuS010441;
	Wed, 3 Mar 2004 08:42:34 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16453.35946.787787.616831@tanto-xipolis.de>
Date: Wed, 3 Mar 2004 08:42:34 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
In-Reply-To: <4045063C.6040307@infoworks.at>
References: <2004321267.823458@kelvin>
	<4045063C.6040307@infoworks.at>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Steiger writes:
> 
> I am using an IndexSearcher for querying the index but for deletions I 
> need to use the IndexReader. I now know that I can have Readers and a 
> Writer open concurrently but IndexReader.delete can only be used if no 
> Writer is open.
> 
You should be aware that an IndexSearcher uses a readonly IndexReader.
So you can't ignore it for your considerations.
> 
> I want to open the IndexSearcher only while searching and close it 
> afterwards.
> 
Depends on your application, but if you can, it's better to keep IndexSearcher
open until the index changes.
Otherwise you will have to open all the index files for each search.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:47:00 2004
Return-Path: <lucene-user-return-7344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17390 invoked from network); 3 Mar 2004 07:47:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:47:00 -0000
Received: (qmail 26196 invoked by uid 500); 3 Mar 2004 07:46:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26174 invoked by uid 500); 3 Mar 2004 07:46:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26161 invoked from network); 3 Mar 2004 07:46:31 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:46:31 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 6FE7719B719
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:46:43 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i237khlT010459
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 08:46:43 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i237khd9010455;
	Wed, 3 Mar 2004 08:46:43 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16453.36195.136474.991139@tanto-xipolis.de>
Date: Wed, 3 Mar 2004 08:46:43 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: java.io.tmpdir as lock dir .... once again
In-Reply-To: <20040302231203.53407.qmail@web12706.mail.yahoo.com>
References: <4044F886.9060107@aps.org>
	<20040302231203.53407.qmail@web12706.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic writes:
> This looks nice.
> However, what happens if you have two Java processes that work on the
> same index, and give it different lock directories?
> They'll mess up the index.
> 
Is that different to having two java processes using different java.io.tempdir?
I had that problem (one running in tomcat and one from the command line).
I don't think that making the need to choose the same directory for the
lock more explicit will increase the problems.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:51:52 2004
Return-Path: <lucene-user-return-7345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19865 invoked from network); 3 Mar 2004 07:51:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:51:52 -0000
Received: (qmail 31712 invoked by uid 500); 3 Mar 2004 07:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31686 invoked by uid 500); 3 Mar 2004 07:51:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31658 invoked from network); 3 Mar 2004 07:51:23 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:51:23 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 3A3617AA2
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:51:35 +0100 (MET)
Message-ID: <40458E87.6090202@infoworks.at>
Date: Wed, 03 Mar 2004 08:51:35 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <40431D6A.7020601@infoworks.at>	<16451.10224.765292.230234@tanto-xipolis.de>	<40450594.4090502@infoworks.at> <16453.35234.327338.752619@tanto-xipolis.de>
In-Reply-To: <16453.35234.327338.752619@tanto-xipolis.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:

> Michael Steiger writes:
> 
>>My problem is that I do not know in advance if or when the "index won't 
>>change for some time". I think of running a counter for all updates 
>>(add, delete) and optimize after some threshold.
>>
> 
> That's what lucene does anyway. 
> Adding documents means adding segments, and when the number of segments
> reaches a certain limit, lucene merges these segments.
> Optimizing also just merges the segments. So if you introduce your own 
> calculation when a merge should be done, your just doubling the effort.
> OTOH it might be worth thinking about optimizing the index at times, when
> there won't be much searches on the index (e.g. nightly). Depending on
> the number of daily updates this might prevent merges during days, when
> there is more search access (while searches can be done parallel to 
> optimizing, the additional task on the same machine will slow down them
> a bit).

I was indeed thinking about doing optimization during nights but only 
after my application-specific threshold would be reached.

> There's are two articles about lucenes indexing details written by
> Otis Gospodnetic that are linked on the lucene web page, that might
> be worth reading. Especially the second (Advanced Text Indexing with Lucene).
Thanks, I have already seen these articles.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:57:35 2004
Return-Path: <lucene-user-return-7346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24290 invoked from network); 3 Mar 2004 07:57:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:57:35 -0000
Received: (qmail 42801 invoked by uid 500); 3 Mar 2004 07:57:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42738 invoked by uid 500); 3 Mar 2004 07:57:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42717 invoked from network); 3 Mar 2004 07:57:06 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:57:06 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id 7975A7AA2
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:57:17 +0100 (MET)
Message-ID: <40458FDD.2080508@infoworks.at>
Date: Wed, 03 Mar 2004 08:57:17 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <2004321267.823458@kelvin>	<4045063C.6040307@infoworks.at> <16453.35946.787787.616831@tanto-xipolis.de>
In-Reply-To: <16453.35946.787787.616831@tanto-xipolis.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:

> Michael Steiger writes:
> 
>>I am using an IndexSearcher for querying the index but for deletions I 
>>need to use the IndexReader. I now know that I can have Readers and a 
>>Writer open concurrently but IndexReader.delete can only be used if no 
>>Writer is open.
>>
> 
> You should be aware that an IndexSearcher uses a readonly IndexReader.
> So you can't ignore it for your considerations.
I thought so.
I'm wondering that there are no samples for this job. I do not think 
that I am the first one looking for this.

>>I want to open the IndexSearcher only while searching and close it 
>>afterwards.
>>
> 
> Depends on your application, but if you can, it's better to keep IndexSearcher
> open until the index changes.
> Otherwise you will have to open all the index files for each search.

Good tip. So I have to synchronize (logically) my search routine with 
any updates and if the index changes I have to close the Searcher and 
reopen it.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 07:59:40 2004
Return-Path: <lucene-user-return-7347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25866 invoked from network); 3 Mar 2004 07:59:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 07:59:38 -0000
Received: (qmail 47953 invoked by uid 500); 3 Mar 2004 07:59:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47931 invoked by uid 500); 3 Mar 2004 07:59:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47916 invoked from network); 3 Mar 2004 07:59:00 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 3 Mar 2004 07:59:00 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 3970F19B719
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 08:59:12 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i237xClT010552
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 08:59:12 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i237xC59010548;
	Wed, 3 Mar 2004 08:59:12 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16453.36944.9653.473554@tanto-xipolis.de>
Date: Wed, 3 Mar 2004 08:59:12 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Problem with search results
In-Reply-To: <20040302230729.51638.qmail@web12706.mail.yahoo.com>
References: <4045077F.1050004@infoworks.at>
	<20040302230729.51638.qmail@web12706.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic writes:
> And if you do not use QueryParser, then things work?
> If so, then this is likely caused by the fact that your Term contains a
> 'special' character, '-'.
> 
Actually I was going to suggest a fix for '-' within words in the
query parser.

The was a suggested fix, that changed both StandardAnalyzer and QueryParser,
which was rejected, I guess because of the StandardAnalyzer change.

Now I think this can be fixed in the query parser alone by simply allowing
'-' within words.
That is change
<#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
to
<#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >

As a result, query parser will read '-' within words (such as tft-monitor
or Sysh1-1) as one word, which will be tokenized by the used analyzer
and end up in a term query or phrase query depending if it create one ore
more tokens.
So with StandardAnalyzer a query
tft-monitor would get a phrase query "tft monitor" and Sysh1-1 a term query
for "Sysh1-1". 
Searching tft-monitor as a phrase "tft monitor" is not exact but the best
aproximation possible once you indexed tft-monitor as tokens tft and monitor.

The effect of '-' not occuring within a word is not changed, so
tft -monitor will still search for 'tft AND NOT monitor'.

Is that a change that would be acceptable?
I didn't find the time to look at the regression tests though.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 08:02:48 2004
Return-Path: <lucene-user-return-7348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28487 invoked from network); 3 Mar 2004 08:02:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 08:02:48 -0000
Received: (qmail 53749 invoked by uid 500); 3 Mar 2004 08:02:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53728 invoked by uid 500); 3 Mar 2004 08:02:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53712 invoked from network); 3 Mar 2004 08:02:18 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 3 Mar 2004 08:02:18 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 27B5A19B719
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 09:02:30 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2382UlT010604
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 09:02:30 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i2382Tid010600;
	Wed, 3 Mar 2004 09:02:29 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16453.37141.866008.379348@tanto-xipolis.de>
Date: Wed, 3 Mar 2004 09:02:29 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
In-Reply-To: <40458FDD.2080508@infoworks.at>
References: <2004321267.823458@kelvin>
	<4045063C.6040307@infoworks.at>
	<16453.35946.787787.616831@tanto-xipolis.de>
	<40458FDD.2080508@infoworks.at>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Steiger writes:
> > 
> > Depends on your application, but if you can, it's better to keep IndexSearcher
> > open until the index changes.
> > Otherwise you will have to open all the index files for each search.
> 
> Good tip. So I have to synchronize (logically) my search routine with 
> any updates and if the index changes I have to close the Searcher and 
> reopen it.
> 
Right. The hard part is, that you shouldn't close the searcher when there
still is access the that searcher.
E.g. if you have a szenario
- do search
- index changes
- access search results
you cannot close the searcher until you accessed all search results.
But that can be done by a little bit of reference counting.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 11:53:36 2004
Return-Path: <lucene-user-return-7349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40051 invoked from network); 3 Mar 2004 11:53:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 11:53:35 -0000
Received: (qmail 46128 invoked by uid 500); 3 Mar 2004 11:53:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46086 invoked by uid 500); 3 Mar 2004 11:53:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46063 invoked from network); 3 Mar 2004 11:53:28 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 3 Mar 2004 11:53:28 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 4BFF483EA3
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 14:53:26 +0300 (MSK)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.6)
  with HTTP id 85759728 for lucene-user@jakarta.apache.org; Wed, 03 Mar 2004 14:53:25 +0300
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: Highlighting problem
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.6
Date: Wed, 03 Mar 2004 14:53:25 +0300
Message-ID: <web-85759728@mail5.rambler.ru>
In-Reply-To: <20040302181928.5992.qmail@web25007.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!
For you Mark Harwood has made a file HighlightExtractorTest in which 
the principle of work Highlight is specified.
Besides by replacing tags <B> for example on < B style = " 
color:black; background-color:#ffff66 " >, receive yellow Highlight. 
If to apply conformity found word and color, it will turn out as at 
Google and etc.
Best regards,
Vladimir.

On Tue, 2 Mar 2004 18:19:28 +0000 (GMT)
  Clandes Tino <clandestino_bgd@yahoo.co.uk> wrote:
>Hi all, 
>I have incorporated highlighting package
>(http://home.clara.net/markharwood/lucene/highlight.htm)
>but I am worried about the following issue.
>
>If I want to display "body" field content?s best
>segments, containing term from query highlighted, I
>have to define Field "body" as Stored.
>
>So, complete process would be like this:
>Index related work:
>1. parse uploaded document into temp ASCII file
>2. read ASCII file and append its content to String 
>3. make Field as Text(String name, String value)
>
>Search related work:
>1. Retrieve field ?body? String value from the hit
>(again - only way to do this - as I have understood ?
>is to declare Field ?body? as Stored)
>2. pass the String value to Highlighter methods.
> 
>Besides that in Lucene FAQ I have read that ?body?
>fields are not good candidates to be declared as
>Stored. Index size is one obvious reason, but I am
>wondering, how it implies Lucene search performance in
>general?
>
>Has somebody an idea how to include highlight
>functionality in Unstored Field?
>
>Regards and thanx in advance
>Milan     
>
>
>
>	
>	
>		
>___________________________________________________________
>Yahoo! Messenger - Communicate instantly..."Ping" 
>your friends today! Download Messenger Now 
>http://uk.messenger.yahoo.com/download/index.html
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 16:14:18 2004
Return-Path: <lucene-user-return-7350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25493 invoked from network); 3 Mar 2004 16:14:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 16:14:18 -0000
Received: (qmail 27186 invoked by uid 500); 3 Mar 2004 16:14:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27128 invoked by uid 500); 3 Mar 2004 16:14:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27083 invoked from network); 3 Mar 2004 16:14:04 -0000
Received: from unknown (HELO hotmail.com) (64.4.49.27)
  by daedalus.apache.org with SMTP; 3 Mar 2004 16:14:04 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 3 Mar 2004 08:14:07 -0800
Received: from 199.68.77.225 by by14fd.bay14.hotmail.msn.com with HTTP;
	Wed, 03 Mar 2004 16:14:06 GMT
X-Originating-IP: [199.68.77.225]
X-Originating-Email: [umamahesh78@hotmail.com]
X-Sender: umamahesh78@hotmail.com
From: "umamahesh bayireddya" <umamahesh78@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Highlighting problem
Date: Wed, 03 Mar 2004 21:44:06 +0530
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY14-F27SGfM7QugGl0001bdae@hotmail.com>
X-OriginalArrivalTime: 03 Mar 2004 16:14:07.0079 (UTC) FILETIME=[8DBAFF70:01C4013A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi

I am trying to use highlighting package 
(http://home.clara.net/markharwood/lucene/highlight.htm)
in that i have to use query.rewrite(reader) method which is not in 
QueryParser object.
how to fix this

_________________________________________________________________
INDIA TODAY @ Rs. 5 for 5 years ! 
http://www.indiatoday.com/itoday/intlsubscription/itsubs/it_offer.html 
Subcribe Now ...


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 17:20:18 2004
Return-Path: <lucene-user-return-7351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76063 invoked from network); 3 Mar 2004 17:20:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 17:20:18 -0000
Received: (qmail 32509 invoked by uid 500); 3 Mar 2004 17:19:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32470 invoked by uid 500); 3 Mar 2004 17:19:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32427 invoked from network); 3 Mar 2004 17:19:47 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 3 Mar 2004 17:19:47 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004030317195001300dc9jke>; Wed, 3 Mar 2004 17:19:50 +0000
Message-ID: <404613A5.5020904@apache.org>
Date: Wed, 03 Mar 2004 09:19:33 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.tmpdir as lock dir .... once again
References: <4044F886.9060107@aps.org>
In-Reply-To: <4044F886.9060107@aps.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Duval wrote:
  > I've hacked the code for the time being by updating FSDirectory and
> replaced all System.getProperty("java.io.tmpdir")
> calls with a call to a new method "getLockDir()".   This method checks 
> for a "lucene.lockdir" prop before the
> "java.io.tmpdir" prop giving the end user a bit more flexibility in 
> where locks are stored.

In general, I support this change.

> Here is the method:
> 
>  /** Allow flexible locking directories - Michael R. Duval 3/02/04 */
>  private String getLockDir() {
>        String lockDir;
> 
>        if ((lockDir = System.getProperty("lucene.lockdir")) == null)
>                return System.getProperty("java.io.tmpdir");
>        else
>                return  lockDir;
>  }

In particular, I have some quibbles.  The property should be named 
something like "org.apache.lucene.lockdir", not just "lucene.lockdir". 
And there's no reason to look it up each time: it can just be a static.

private static final String LOCK_DIR =
   System.getProperty("org.apache.lucene.lockdir",
                      System.getProperty("java.io.tmpdir"));

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 17:25:19 2004
Return-Path: <lucene-user-return-7352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77973 invoked from network); 3 Mar 2004 17:25:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 17:25:19 -0000
Received: (qmail 45457 invoked by uid 500); 3 Mar 2004 17:24:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45429 invoked by uid 500); 3 Mar 2004 17:24:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45381 invoked from network); 3 Mar 2004 17:24:47 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 3 Mar 2004 17:24:47 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20040303172450015000nb6oe>; Wed, 3 Mar 2004 17:24:50 +0000
Message-ID: <404614D2.7090902@apache.org>
Date: Wed, 03 Mar 2004 09:24:34 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <2004321267.823458@kelvin>	<4045063C.6040307@infoworks.at> <16453.35946.787787.616831@tanto-xipolis.de> <40458FDD.2080508@infoworks.at>
In-Reply-To: <40458FDD.2080508@infoworks.at>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Steiger wrote:
> I'm wondering that there are no samples for this job. I do not think 
> that I am the first one looking for this.

If you found this confusing, and would have been helped by some 
examples, please take the time to donate some good examples.  Lucene  is 
free, but requires donations to improve.

(Even if you don't, just by asking these questions, prodding others to 
answer, you've helped a lot of folks.)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 17:34:13 2004
Return-Path: <lucene-user-return-7353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83253 invoked from network); 3 Mar 2004 17:34:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 17:34:13 -0000
Received: (qmail 68536 invoked by uid 500); 3 Mar 2004 17:34:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68472 invoked by uid 500); 3 Mar 2004 17:34:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68456 invoked from network); 3 Mar 2004 17:34:00 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 3 Mar 2004 17:34:00 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004030317340201600buepoe>; Wed, 3 Mar 2004 17:34:03 +0000
Message-ID: <404616FA.3040907@apache.org>
Date: Wed, 03 Mar 2004 09:33:46 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem with search results
References: <4045077F.1050004@infoworks.at>	<20040302230729.51638.qmail@web12706.mail.yahoo.com> <16453.36944.9653.473554@tanto-xipolis.de>
In-Reply-To: <16453.36944.9653.473554@tanto-xipolis.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:
> Now I think this can be fixed in the query parser alone by simply allowing
> '-' within words.
> That is change
> <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
> to
> <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> 
> As a result, query parser will read '-' within words (such as tft-monitor
> or Sysh1-1) as one word, which will be tokenized by the used analyzer
> and end up in a term query or phrase query depending if it create one ore
> more tokens.

Other characters which are also candidates for this sort of treatment 
include "/", "@", ".", "'", and "+".

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 17:55:01 2004
Return-Path: <lucene-user-return-7354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99215 invoked from network); 3 Mar 2004 17:55:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 17:55:00 -0000
Received: (qmail 29728 invoked by uid 500); 3 Mar 2004 17:54:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29707 invoked by uid 500); 3 Mar 2004 17:54:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29595 invoked from network); 3 Mar 2004 17:54:45 -0000
Received: from unknown (HELO fsv-extmail1.looksmart.com) (64.241.242.93)
  by daedalus.apache.org with SMTP; 3 Mar 2004 17:54:45 -0000
Received: from LOOKSMART10574 ([172.16.128.20])
	by fsv-extmail1.looksmart.com (8.12.10/8.12.10) with SMTP id i23HsmWQ011557
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 09:54:48 -0800
Message-ID: <008d01c40148$6f7d1d00$514011ac@LOOKSMART10574>
From: "Michael A. Schoen" <schoenm@earthlink.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Fw: [Plucene] Plucene::Plugin::WeightedQueryParser
Date: Wed, 3 Mar 2004 09:53:23 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This recently submitted query parser for Plucene (the perl port of lucene)
seems very handy.

Does something similar already exist for Lucene? Any volunteers? It seems
like a pretty straightforward extension to MultiFieldQueryParser.

----- Original Message ----- 
From: "Simon Cozens" <simon@simon-cozens.org>
To: <plucene@kasei.com>
Sent: Monday, February 23, 2004 6:40 AM
Subject: [Plucene] Plucene::Plugin::WeightedQueryParser


> NAME
>     Plucene::Plugin::WeightedQueryParser - Specify weights for unqualified
>     terms
>
> SYNOPSIS
>       use Plucene::Plugin::WeightedQueryParser;
>       my $parser = Plucene::WeightedQueryParser->new({
>               analyzer =>
Plucene::Plugin::Analyzer::PorterAnalyzer->new(),
>               weights  => {
>                 title => 5,
>                 subtitle => 2,
>                 body => 1
>               }
>       });
>       $parser->parse($q);
>
> DESCRIPTION
>     Quite often, you want unqualified search terms ("hello") to search in
>     either the title, the body or some other part of you document. The
usual
>     way to do this is to create another field, "content", and throw
>     everything in that, then make that the default field for unqualified
>     terms.
>
>     That's fine, until you want to add different weighting for terms - so
>     terms found in the title of a document come first, then those in the
>     subtitle, then the body of the document.
>
>     This module automatically remaps unqualified search terms, such as
>     "hello" to "(title:hello^5 OR subtitle:hello^2 OR body:hello^1)",
based
>     on the weights passed in to the constructor.
>
> AUTHOR
>     Simon Cozens, "simon@cpan.org"
>
>     Development of this module was made possible by the generous
sponsorship
>     of Text Matters, http://www.textmatters.com/
>
>     This module may be distributed under the same terms as Plucene itself.
>
> -- 
> For detailed information on the "info" command, type "man info".
>     - plan9 has a bad day
> _______________________________________________
> Plucene mailing list
> Plucene@kasei.com
> http://www.kasei.com/mailman/listinfo/plucene


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 18:38:25 2004
Return-Path: <lucene-user-return-7355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26394 invoked from network); 3 Mar 2004 18:38:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 18:38:25 -0000
Received: (qmail 35963 invoked by uid 500); 3 Mar 2004 18:37:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35936 invoked by uid 500); 3 Mar 2004 18:37:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35882 invoked from network); 3 Mar 2004 18:37:55 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 3 Mar 2004 18:37:55 -0000
Received: from supun.office (host-157.media.net [66.113.64.157])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i23IbwWg009754
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 10:37:59 -0800
Subject: Re: FuzzyQuery info
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8160AB9D-6C79-11D8-814C-000393A564E6@ehatchersolutions.com>
References: <20040301224917.66508.qmail@web12703.mail.yahoo.com>
	 <1078185942.13375.30.camel@supun.office>
	 <02C64E6C-6BDF-11D8-8489-000393A564E6@ehatchersolutions.com>
	 <1078251833.21458.10.camel@supun.office>
	 <8160AB9D-6C79-11D8-814C-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1078339078.27873.26.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 03 Mar 2004 10:37:58 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thanks again for the info, Erik.

I am looking at a great big index; I expect that we will always have .
So, the FuzzyQuery is less viable now. 

as for what I'm trying to do: We have a site search that uses Lucene in
a basic way. It needs to be improved and I'm trying to research all the
features of Lucene that we are not using. The reason for looking at
FuzzyQuery was because terms in our database get mispelled and get typed
in wierd ways by our users. The searches are done through a web
interface on a very busy site, so performance is also a big issue. Alot
of user generated content is indexed. 

thanks for your help.


Also, Jim Hargrave  had a good explaination too:

As I understand it the Levenshtein algorithm is applied to each term in
the index - then a Boolean query (OR) is formed from all the htis above
a certain threshold. The Leven. algorithm is quadratic - so can be slow
for larger strings. Smaller strings aren' too bad. However, if you have
thousands of terms in your index this can be VERY slow. Especially if
the query is redone for every 50 Lucene hits (see previous post on
wildcard performace).
 
IMHO, this is a part of Lucene that could be better. Using an "agrep"
type algorithm would speed things up. 
 
Jim


On Tue, 2004-03-02 at 10:43, Erik Hatcher wrote:
> On Mar 2, 2004, at 1:23 PM, Supun Edirisinghe wrote:
> > now, one more question: what are the big performance hits from using a
> > FuzzyQuery. what are some bad cases to use it(eg. many words in the
> > phrase? long strings? ) would it be better to read up on the 
> > Levenshtein
> > algorithm or to get into the internals of Lucene and compare what is
> > done in FuzzyQuery as opposed to something simpler like PhraseQuery
> 
> To do a FuzzyQuery, *every* term in the field needs to be enumerated 
> and checked.  This may or may not be a problem depending on the size of 
> your index, but it is definitely worth noting.
> 
> What are you trying to accomplish?
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 20:01:16 2004
Return-Path: <lucene-user-return-7356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76356 invoked from network); 3 Mar 2004 20:01:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 20:01:16 -0000
Received: (qmail 48231 invoked by uid 500); 3 Mar 2004 20:00:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48194 invoked by uid 500); 3 Mar 2004 20:00:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48144 invoked from network); 3 Mar 2004 20:00:55 -0000
Received: from unknown (HELO mail.infoworks.at) (213.129.255.146)
  by daedalus.apache.org with SMTP; 3 Mar 2004 20:00:55 -0000
Received: from infoworks.at (mister2.infoworks.at [192.168.1.2])
	by mail.infoworks.at (Postfix) with ESMTP id D529F7AA2
	for <lucene-user@jakarta.apache.org>; Wed,  3 Mar 2004 21:00:58 +0100 (MET)
Message-ID: <40463977.6010402@infoworks.at>
Date: Wed, 03 Mar 2004 21:00:55 +0100
From: Michael Steiger <mslists@infoworks.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best Practices for indexing in Web application
References: <2004321267.823458@kelvin>	<4045063C.6040307@infoworks.at> <16453.35946.787787.616831@tanto-xipolis.de> <40458FDD.2080508@infoworks.at> <404614D2.7090902@apache.org>
In-Reply-To: <404614D2.7090902@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Michael Steiger wrote:
> 
>> I'm wondering that there are no samples for this job. I do not think 
>> that I am the first one looking for this.
> 
> 
> If you found this confusing, and would have been helped by some 
> examples, please take the time to donate some good examples.  Lucene  is 
> free, but requires donations to improve.
> 
> (Even if you don't, just by asking these questions, prodding others to 
> answer, you've helped a lot of folks.)

Doug,
first of all thanks for all of your work!

If I write some code which is donatable (does this word really exist? 
;-)) I will do so. But I heard today that the project I was trying to 
extend with Lucene has been stopped. No more work for the next time on 
fulltext and Lucene. But maybe I'll find some sparetime and finish the 
work I was starting now.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 20:09:56 2004
Return-Path: <lucene-user-return-7357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81049 invoked from network); 3 Mar 2004 20:09:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 20:09:56 -0000
Received: (qmail 62824 invoked by uid 500); 3 Mar 2004 20:09:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62782 invoked by uid 500); 3 Mar 2004 20:09:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62713 invoked from network); 3 Mar 2004 20:09:29 -0000
Received: from unknown (HELO ridge.aps.org) (149.28.1.5)
  by daedalus.apache.org with SMTP; 3 Mar 2004 20:09:29 -0000
Received: from aps.org (ws-duval.aps.org [149.28.3.184])
	by ridge.aps.org (8.9.3+Sun/8.9.3) with ESMTP id PAA13336
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 15:09:33 -0500 (EST)
Message-ID: <40463B7D.3030203@aps.org>
Date: Wed, 03 Mar 2004 15:09:33 -0500
From: Michael Duval <duval@aps.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i386; en-US; rv:1.4) Gecko/20030624 Netscape/7.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.tmpdir as lock dir .... once again
References: <4044F886.9060107@aps.org> <404613A5.5020904@apache.org>
In-Reply-To: <404613A5.5020904@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I agree with both the property name change and also making it static.

Mike

Doug Cutting wrote:

> Michael Duval wrote:
>  > I've hacked the code for the time being by updating FSDirectory and
>
>> replaced all System.getProperty("java.io.tmpdir")
>> calls with a call to a new method "getLockDir()".   This method 
>> checks for a "lucene.lockdir" prop before the
>> "java.io.tmpdir" prop giving the end user a bit more flexibility in 
>> where locks are stored.
>
>
> In general, I support this change.
>
>> Here is the method:
>>
>>  /** Allow flexible locking directories - Michael R. Duval 3/02/04 */
>>  private String getLockDir() {
>>        String lockDir;
>>
>>        if ((lockDir = System.getProperty("lucene.lockdir")) == null)
>>                return System.getProperty("java.io.tmpdir");
>>        else
>>                return  lockDir;
>>  }
>
>
> In particular, I have some quibbles.  The property should be named 
> something like "org.apache.lucene.lockdir", not just "lucene.lockdir". 
> And there's no reason to look it up each time: it can just be a static.
>
> private static final String LOCK_DIR =
>   System.getProperty("org.apache.lucene.lockdir",
>                      System.getProperty("java.io.tmpdir"));
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 20:35:05 2004
Return-Path: <lucene-user-return-7358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7447 invoked from network); 3 Mar 2004 20:35:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 20:35:05 -0000
Received: (qmail 28336 invoked by uid 500); 3 Mar 2004 20:34:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28315 invoked by uid 500); 3 Mar 2004 20:34:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28295 invoked from network); 3 Mar 2004 20:34:48 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 3 Mar 2004 20:34:48 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i23KYquv009055
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 15:34:52 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i23KYqlu009051
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 15:34:52 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 3 Mar 2004 15:34:52 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Sys properties Was: java.io.tmpdir as lock dir .... once again
In-Reply-To: <40463B7D.3030203@aps.org>
Message-ID: <Pine.LNX.4.44.0403031525180.8532-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As I've stated in my earlier mail, I like this change. More importantly, 
could this become a "standard" way of changing configurations at runtime? 
For example, the default merge factor could also be set in this manner.

sv

On Wed, 3 Mar 2004, Michael Duval wrote:

> 
> I agree with both the property name change and also making it static.
> 
> Mike
> 
> Doug Cutting wrote:
> 
> > Michael Duval wrote:
> >  > I've hacked the code for the time being by updating FSDirectory and
> >
> >> replaced all System.getProperty("java.io.tmpdir")
> >> calls with a call to a new method "getLockDir()".   This method 
> >> checks for a "lucene.lockdir" prop before the
> >> "java.io.tmpdir" prop giving the end user a bit more flexibility in 
> >> where locks are stored.
> >
> >
> > In general, I support this change.
> >
> >> Here is the method:
> >>
> >>  /** Allow flexible locking directories - Michael R. Duval 3/02/04 */
> >>  private String getLockDir() {
> >>        String lockDir;
> >>
> >>        if ((lockDir = System.getProperty("lucene.lockdir")) == null)
> >>                return System.getProperty("java.io.tmpdir");
> >>        else
> >>                return  lockDir;
> >>  }
> >
> >
> > In particular, I have some quibbles.  The property should be named 
> > something like "org.apache.lucene.lockdir", not just "lucene.lockdir". 
> > And there's no reason to look it up each time: it can just be a static.
> >
> > private static final String LOCK_DIR =
> >   System.getProperty("org.apache.lucene.lockdir",
> >                      System.getProperty("java.io.tmpdir"));
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 20:46:51 2004
Return-Path: <lucene-user-return-7359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14786 invoked from network); 3 Mar 2004 20:46:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 20:46:51 -0000
Received: (qmail 52644 invoked by uid 500); 3 Mar 2004 20:46:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52620 invoked by uid 500); 3 Mar 2004 20:46:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52606 invoked from network); 3 Mar 2004 20:46:34 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 3 Mar 2004 20:46:34 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <20040303204639012000i0qde>; Wed, 3 Mar 2004 20:46:39 +0000
Message-ID: <4046441F.3050302@apache.org>
Date: Wed, 03 Mar 2004 12:46:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
References: <Pine.LNX.4.44.0403031525180.8532-100000@mere.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.44.0403031525180.8532-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stephane James Vaucher wrote:
> As I've stated in my earlier mail, I like this change. More importantly, 
> could this become a "standard" way of changing configurations at runtime? 
> For example, the default merge factor could also be set in this manner.

Sure, that's reasonable, so this would be something like:

private static final int DEFAULT_MERGE_FACTOR =
 
Integer.parseInt(System.getProperty("org.apache.lucene.mergeFactor","10"));

In IndexWriter.java.

What other candidates are there for this treatment?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 21:06:30 2004
Return-Path: <lucene-user-return-7360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27205 invoked from network); 3 Mar 2004 21:06:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 21:06:30 -0000
Received: (qmail 88687 invoked by uid 500); 3 Mar 2004 21:06:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88666 invoked by uid 500); 3 Mar 2004 21:06:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88651 invoked from network); 3 Mar 2004 21:06:13 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 3 Mar 2004 21:06:13 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i23L6Huv009146
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 16:06:17 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i23L6HNa009142
	for <lucene-user@jakarta.apache.org>; Wed, 3 Mar 2004 16:06:17 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 3 Mar 2004 16:06:17 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
In-Reply-To: <4046441F.3050302@apache.org>
Message-ID: <Pine.LNX.4.44.0403031554300.8532-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How about (looking big rather than small):

- MaxClause from BooleanQuery (I know there has been discussions on 
the dev list, but I haven't been following it)
- default commit_lock_name
- default commit_lock_timeout
- default maxFieldLength
- default maxMergeDocs
- default mergeFactor
- default minMergeDocs
- default write_lock_name
- default write_lock_timeout

I'm currently configuring parts of my app using sys properties, 
particularly the mergeFactor because my prod system has 2GB of RAM and is 
windows based and my dev machine has 256MB and is linux. If no one takes a 
crack at this, I'll see what I can do in 2 weeks, after my vacations.

Cheers,
sv

On Wed, 3 Mar 2004, Doug Cutting wrote:

> Stephane James Vaucher wrote:
> > As I've stated in my earlier mail, I like this change. More importantly, 
> > could this become a "standard" way of changing configurations at runtime? 
> > For example, the default merge factor could also be set in this manner.
> 
> Sure, that's reasonable, so this would be something like:
> 
> private static final int DEFAULT_MERGE_FACTOR =
>  
> Integer.parseInt(System.getProperty("org.apache.lucene.mergeFactor","10"));
> 
> In IndexWriter.java.
> 
> What other candidates are there for this treatment?
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 21:22:46 2004
Return-Path: <lucene-user-return-7361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38095 invoked from network); 3 Mar 2004 21:22:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 21:22:46 -0000
Received: (qmail 21105 invoked by uid 500); 3 Mar 2004 21:22:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21047 invoked by uid 500); 3 Mar 2004 21:22:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20992 invoked from network); 3 Mar 2004 21:22:16 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 3 Mar 2004 21:22:16 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 3 Mar 2004 16:21:45 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Wed, 3 Mar 2004 16:25:38 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
thread-index: AcQBYI+L+sjxHLQhSeeKsSID+kQa2wABHsLw
In-Reply-To: <4046441F.3050302@apache.org>
Message-ID: <GERMANYfJHtS1CG3CvY00003589@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 03 Mar 2004 21:21:45.0921 (UTC) FILETIME=[880EC310:01C40165]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anoterh similar issue. If we could have a parameter to control the max
number of the files within the index, that is going to avoid the problem of
running of the file handler issue.
When the file number within one index reaches the limit, optimization is
going to be called.
Right now, if the file number within one index out of the limit of your
window system, you lost the index.
Thank you for the consideration.

Regards,
hui

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Wednesday, March 03, 2004 3:46 PM
To: Lucene Users List
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again

Stephane James Vaucher wrote:
> As I've stated in my earlier mail, I like this change. More importantly, 
> could this become a "standard" way of changing configurations at runtime? 
> For example, the default merge factor could also be set in this manner.

Sure, that's reasonable, so this would be something like:

private static final int DEFAULT_MERGE_FACTOR =
 
Integer.parseInt(System.getProperty("org.apache.lucene.mergeFactor","10"));

In IndexWriter.java.

What other candidates are there for this treatment?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 03 21:49:18 2004
Return-Path: <lucene-user-return-7362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56319 invoked from network); 3 Mar 2004 21:49:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Mar 2004 21:49:18 -0000
Received: (qmail 81618 invoked by uid 500); 3 Mar 2004 21:49:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81591 invoked by uid 500); 3 Mar 2004 21:49:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81578 invoked from network); 3 Mar 2004 21:49:01 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 3 Mar 2004 21:49:01 -0000
Message-ID: <20040303214907.76005.qmail@web12705.mail.yahoo.com>
Received: from [83.131.124.182] by web12705.mail.yahoo.com via HTTP; Wed, 03 Mar 2004 13:49:07 PST
Date: Wed, 3 Mar 2004 13:49:07 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FuzzyQuery info
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  supun@office.vtourist.com
In-Reply-To: <1078339078.27873.26.camel@supun.office>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

For solving misspellings, you could try encoding and indexing the
content using soundex or double metaphone algoright.
There is at least one free product that uses Lucene and those two
algos, and it's linked from one of the pages on Lucene site.
Phonetix?

Otis



--- Supun Edirisinghe <supun@office.vtourist.com> wrote:
> thanks again for the info, Erik.
> 
> I am looking at a great big index; I expect that we will always have
> .
> So, the FuzzyQuery is less viable now. 
> 
> as for what I'm trying to do: We have a site search that uses Lucene
> in
> a basic way. It needs to be improved and I'm trying to research all
> the
> features of Lucene that we are not using. The reason for looking at
> FuzzyQuery was because terms in our database get mispelled and get
> typed
> in wierd ways by our users. The searches are done through a web
> interface on a very busy site, so performance is also a big issue.
> Alot
> of user generated content is indexed. 
> 
> thanks for your help.
> 
> 
> Also, Jim Hargrave  had a good explaination too:
> 
> As I understand it the Levenshtein algorithm is applied to each term
> in
> the index - then a Boolean query (OR) is formed from all the htis
> above
> a certain threshold. The Leven. algorithm is quadratic - so can be
> slow
> for larger strings. Smaller strings aren' too bad. However, if you
> have
> thousands of terms in your index this can be VERY slow. Especially if
> the query is redone for every 50 Lucene hits (see previous post on
> wildcard performace).
>  
> IMHO, this is a part of Lucene that could be better. Using an "agrep"
> type algorithm would speed things up. 
>  
> Jim
> 
> 
> On Tue, 2004-03-02 at 10:43, Erik Hatcher wrote:
> > On Mar 2, 2004, at 1:23 PM, Supun Edirisinghe wrote:
> > > now, one more question: what are the big performance hits from
> using a
> > > FuzzyQuery. what are some bad cases to use it(eg. many words in
> the
> > > phrase? long strings? ) would it be better to read up on the 
> > > Levenshtein
> > > algorithm or to get into the internals of Lucene and compare what
> is
> > > done in FuzzyQuery as opposed to something simpler like
> PhraseQuery
> > 
> > To do a FuzzyQuery, *every* term in the field needs to be
> enumerated 
> > and checked.  This may or may not be a problem depending on the
> size of 
> > your index, but it is definitely worth noting.
> > 
> > What are you trying to accomplish?
> > 
> > 	Erik
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 02:21:47 2004
Return-Path: <lucene-user-return-7363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88670 invoked from network); 4 Mar 2004 02:21:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 02:21:47 -0000
Received: (qmail 6658 invoked by uid 500); 4 Mar 2004 02:21:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6576 invoked by uid 500); 4 Mar 2004 02:21:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6562 invoked from network); 4 Mar 2004 02:21:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 4 Mar 2004 02:21:23 -0000
Received: (cpmta 12650 invoked from network); 3 Mar 2004 18:21:32 -0800
Received: from 128.143.184.115 (HELO ?128.143.184.115?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 3 Mar 2004 18:21:32 -0800
X-Sent: 4 Mar 2004 02:21:32 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <GERMANYfJHtS1CG3CvY00003589@germany.prod.thop-ny.triplehop.com>
References: <GERMANYfJHtS1CG3CvY00003589@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A508619E-6D82-11D8-8CAF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Wed, 3 Mar 2004 21:21:28 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Mar 3, 2004, at 4:25 PM, hui wrote:
> Anoterh similar issue. If we could have a parameter to control the max
> number of the files within the index, that is going to avoid the 
> problem of
> running of the file handler issue.
> When the file number within one index reaches the limit, optimization 
> is
> going to be called.
> Right now, if the file number within one index out of the limit of your
> window system, you lost the index.
> Thank you for the consideration.

Have you tried using the compound file format introduced in 1.3?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 06:08:16 2004
Return-Path: <lucene-user-return-7364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98447 invoked from network); 4 Mar 2004 06:08:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 06:08:16 -0000
Received: (qmail 66995 invoked by uid 500); 4 Mar 2004 06:07:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66969 invoked by uid 500); 4 Mar 2004 06:07:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66948 invoked from network); 4 Mar 2004 06:07:49 -0000
Received: from unknown (HELO ms-smtp-02.tampabay.rr.com) (65.32.5.132)
  by daedalus.apache.org with SMTP; 4 Mar 2004 06:07:49 -0000
Received: from Electron (73.189.33.65.cfl.rr.com [65.33.189.73])
	by ms-smtp-02.tampabay.rr.com (8.12.10/8.12.7) with SMTP id i2467v82029576
	for <lucene-user@jakarta.apache.org>; Thu, 4 Mar 2004 01:07:58 -0500 (EST)
Message-ID: <000b01c401af$a3658320$6402a8c0@Electron>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: New Word Document text extractor released
Date: Thu, 4 Mar 2004 01:12:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Version 0.4 of the TextMining.org text extraction library has been released!

I have finally gotten around to releasing a new version of the
textmining.org text extractor. This is a pure java library for extracting
text from Word 6.0/97/2000/XP/2003.

Some highlights from this release:

-I removed support for PDF documents. I was only wrapping the excellent
PDFBox (http://www.pdfbox.org) library with a few lines of code.
-I added support for Word 6.0 documents.
-The extractor will no longer extract text that has been deleted but is
still in the document because of revision tracking
-I added two exceptions, PasswordProtectedException and FastSavedException,
for more graceful failures.
-Fixed bugs
-Updated the license to Apache 2.0

A special thanks to BeeText Inc. (http://www.beetext.com)  They are a
software company that is on the cutting edge of software development for
translation professionals. Besides that, they sponsored all of the above
changes. Remember...support companies that support open source!

-Ryan Ackley


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 10:54:39 2004
Return-Path: <lucene-user-return-7365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69490 invoked from network); 4 Mar 2004 10:54:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 10:54:39 -0000
Received: (qmail 14810 invoked by uid 500); 4 Mar 2004 10:54:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14673 invoked by uid 500); 4 Mar 2004 10:54:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14652 invoked from network); 4 Mar 2004 10:54:07 -0000
Received: from unknown (HELO post.cas.de) (195.226.106.11)
  by daedalus.apache.org with SMTP; 4 Mar 2004 10:54:07 -0000
Received: from localhost (localhost [127.0.0.1])
	by post.cas.de (Postfix) with ESMTP id C51922B134
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 11:56:26 +0100 (CET)
Received: from cas-mail-01.home.cas.de (unknown [10.6.16.5])
	by post.cas.de (Postfix) with ESMTP id 166132B04A
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 11:56:19 +0100 (CET)
Received: by cas-mail-01.home.cas.de with Internet Mail Service (5.5.2657.72)
	id <GG46VPL0>; Thu, 4 Mar 2004 11:54:12 +0100
Message-ID: <003D0E8D844C604D8DD476F73ED1B403A295B6@cas-mail-01.home.cas.de>
From: Marti Alemany <marti.alemany@yellowmap.de>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Lucene in pJava = Java 1.1.8
Date: Thu, 4 Mar 2004 11:53:26 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C401D6.EC0CFDC0"
X-Virus-Scanned: McAfee
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C401D6.EC0CFDC0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,

I am trying to rune Lucene in a Mobile Phone with pJava. I have found a =
old
email which say they have been succesful with the version 1.2rc2 of =
Lucene.
Where can we download old versions of Lucene ?=20

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg01120.html=


Best Regards From Karlsruhe /=20
Herzliche Gr=FC=DFe aus Karlsruhe,

Mart=ED Bayo Alemany
Yellowmap AG
Software Research and Development
Telefon: 0049-721-9638-519



------_=_NextPart_001_01C401D6.EC0CFDC0--

From lucene-user-return-7366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 11:00:55 2004
Return-Path: <lucene-user-return-7366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73431 invoked from network); 4 Mar 2004 11:00:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 11:00:55 -0000
Received: (qmail 27532 invoked by uid 500); 4 Mar 2004 11:00:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27488 invoked by uid 500); 4 Mar 2004 11:00:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27449 invoked from network); 4 Mar 2004 11:00:21 -0000
Received: from unknown (HELO post.cas.de) (195.226.106.11)
  by daedalus.apache.org with SMTP; 4 Mar 2004 11:00:21 -0000
Received: from localhost (localhost [127.0.0.1])
	by post.cas.de (Postfix) with ESMTP id 4BA622A9E6
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 12:02:41 +0100 (CET)
Received: from cas-mail-01.home.cas.de (unknown [10.6.16.5])
	by post.cas.de (Postfix) with ESMTP id 9707A29C97
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 12:02:39 +0100 (CET)
Received: by cas-mail-01.home.cas.de with Internet Mail Service (5.5.2657.72)
	id <GG46VPPH>; Thu, 4 Mar 2004 12:00:33 +0100
Message-ID: <003D0E8D844C604D8DD476F73ED1B403A295B8@cas-mail-01.home.cas.de>
From: Marti Alemany <marti.alemany@yellowmap.de>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: AW: Lucene in pJava = Java 1.1.8
Date: Thu, 4 Mar 2004 12:00:32 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C401D7.E97B8800"
X-Virus-Scanned: McAfee
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C401D7.E97B8800
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Sorry I have already found it ;-)

http://dev.eclipse.org/viewcvs/index.cgi/org.apache.lucene/Attic/lucene-=
1.2-
rc2.jar


-----Urspr=FCngliche Nachricht-----
Von: Marti Alemany [mailto:marti.alemany@yellowmap.de]
Gesendet: Donnerstag, 4. M=E4rz 2004 11:53
An: 'lucene-user@jakarta.apache.org'
Betreff: Lucene in pJava =3D Java 1.1.8


Hi all,

I am trying to rune Lucene in a Mobile Phone with pJava. I have found a =
old
email which say they have been succesful with the version 1.2rc2 of =
Lucene.
Where can we download old versions of Lucene ?=20

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg01120.html=


Best Regards From Karlsruhe /=20
Herzliche Gr=FC=DFe aus Karlsruhe,

Mart=ED Bayo Alemany
Yellowmap AG
Software Research and Development
Telefon: 0049-721-9638-519



------_=_NextPart_001_01C401D7.E97B8800--

From lucene-user-return-7367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 12:54:12 2004
Return-Path: <lucene-user-return-7367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29056 invoked from network); 4 Mar 2004 12:54:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 12:54:11 -0000
Received: (qmail 91604 invoked by uid 500); 4 Mar 2004 12:54:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91575 invoked by uid 500); 4 Mar 2004 12:54:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91559 invoked from network); 4 Mar 2004 12:54:03 -0000
Received: from unknown (HELO eione.de) (195.52.240.103)
  by daedalus.apache.org with SMTP; 4 Mar 2004 12:54:03 -0000
Received: from [195.52.240.103] by thomas-daily-web
  (ArGoSoft Mail Server Pro for WinNT/2000/XP, Version 1.8 (1.8.2.3)); Thu, 4 Mar 2004 13:55:59 +0100
Message-ID: <200403041354040390.0109A04E@xita.thomas-daily.de>
References: <200403041009350687.003C1C2F@xita.thomas-daily.de>
X-Mailer: Calypso Version 3.30.00.00 (4)
Date: Thu, 04 Mar 2004 13:54:04 +0100
From: "Kenneth Aitken" <kenneth_aitken@freenet.de>
To: lucene-user@jakarta.apache.org
Subject: Simultaneous index update and searching
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We are wanting to develop a search system using Lucene and need to be able=
 to update our index frequently, while allowing searches to be performed=
 with little interruption.
In this context, the FAQ Question 41 from the SEARCHING SECTION (41. Can I=
 modify the index while performing ongoing searches?) makes it clear that=
 one must use work-arounds, because Lucene is not thread-safe in this=
 regard.

However, the FAQ answer is stated to have been written in June 2001.=
 Because that is so long ago, I would like to ask: 
Is the answer to Question 41 still current, or is Lucene now thread-safe=
 with simultaneous index modifications and searches?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 12:55:59 2004
Return-Path: <lucene-user-return-7368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30051 invoked from network); 4 Mar 2004 12:55:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 12:55:58 -0000
Received: (qmail 95922 invoked by uid 500); 4 Mar 2004 12:55:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95892 invoked by uid 500); 4 Mar 2004 12:55:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95879 invoked from network); 4 Mar 2004 12:55:50 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 4 Mar 2004 12:55:50 -0000
Message-ID: <20040304125551.23317.qmail@web12704.mail.yahoo.com>
Received: from [194.152.216.29] by web12704.mail.yahoo.com via HTTP; Thu, 04 Mar 2004 04:55:51 PST
Date: Thu, 4 Mar 2004 04:55:51 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Simultaneous index update and searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200403041354040390.0109A04E@xita.thomas-daily.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes.  You can search and update the index at the same time.

Otis

--- Kenneth Aitken <kenneth_aitken@freenet.de> wrote:
> We are wanting to develop a search system using Lucene and need to be
> able to update our index frequently, while allowing searches to be
> performed with little interruption.
> In this context, the FAQ Question 41 from the SEARCHING SECTION (41.
> Can I modify the index while performing ongoing searches?) makes it
> clear that one must use work-arounds, because Lucene is not
> thread-safe in this regard.
> 
> However, the FAQ answer is stated to have been written in June 2001.
> Because that is so long ago, I would like to ask:
> Is the answer to Question 41 still current, or is Lucene now
> thread-safe with simultaneous index modifications and searches?
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 14:39:05 2004
Return-Path: <lucene-user-return-7369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31306 invoked from network); 4 Mar 2004 14:39:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 14:39:05 -0000
Received: (qmail 92790 invoked by uid 500); 4 Mar 2004 14:38:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92690 invoked by uid 500); 4 Mar 2004 14:38:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92606 invoked from network); 4 Mar 2004 14:38:52 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 4 Mar 2004 14:38:52 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 4 Mar 2004 09:38:17 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Thu, 4 Mar 2004 09:42:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
thread-index: AcQBj1fogyVjSVGGR6WPBlvwzYg8NQAZpo7w
In-Reply-To: <A508619E-6D82-11D8-8CAF-000393A564E6@ehatchersolutions.com>
Message-ID: <GERMANYFs4h7IA4ILTl00003717@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 04 Mar 2004 14:38:17.0405 (UTC) FILETIME=[55121ED0:01C401F6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not yet. For the compound file format, when the files get bigger, if I add
few new files frequently, the bigger files has to be updated. Will that
affect lot on the search and produce heavier disk I/O compared with the
traditional index format? It seems OS cache makes quite difference when the
files not changed differently.

Regards,
Hui

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, March 03, 2004 9:21 PM
To: Lucene Users List
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again


On Mar 3, 2004, at 4:25 PM, hui wrote:
> Anoterh similar issue. If we could have a parameter to control the max
> number of the files within the index, that is going to avoid the 
> problem of
> running of the file handler issue.
> When the file number within one index reaches the limit, optimization 
> is
> going to be called.
> Right now, if the file number within one index out of the limit of your
> window system, you lost the index.
> Thank you for the consideration.

Have you tried using the compound file format introduced in 1.3?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 16:54:39 2004
Return-Path: <lucene-user-return-7370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13051 invoked from network); 4 Mar 2004 16:54:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 16:54:39 -0000
Received: (qmail 6840 invoked by uid 500); 4 Mar 2004 16:54:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6808 invoked by uid 500); 4 Mar 2004 16:54:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6741 invoked from network); 4 Mar 2004 16:54:00 -0000
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by daedalus.apache.org with SMTP; 4 Mar 2004 16:54:00 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc12) with ESMTP
          id <200403041654030140085im7e>; Thu, 4 Mar 2004 16:54:03 +0000
Message-ID: <40475F19.3010107@apache.org>
Date: Thu, 04 Mar 2004 08:53:45 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
References: <GERMANYFs4h7IA4ILTl00003717@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANYFs4h7IA4ILTl00003717@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hui wrote:
> Not yet. For the compound file format, when the files get bigger, if I add
> few new files frequently, the bigger files has to be updated. Will that
> affect lot on the search and produce heavier disk I/O compared with the
> traditional index format? It seems OS cache makes quite difference when the
> files not changed differently.

The compound format slows indexing performance slightly, but should not 
affect search performance much.  It radically reduces the number of file 
handles used when searching, by a factor of eight or more, depending on 
how many indexed fields you have.

Perhaps the compound format should be the default format in 1.4.  Can 
folks provide any benchmarks for how it affects performance?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 16:55:53 2004
Return-Path: <lucene-user-return-7371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13744 invoked from network); 4 Mar 2004 16:55:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 16:55:52 -0000
Received: (qmail 12836 invoked by uid 500); 4 Mar 2004 16:55:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12799 invoked by uid 500); 4 Mar 2004 16:55:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12685 invoked from network); 4 Mar 2004 16:55:02 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 4 Mar 2004 16:55:02 -0000
Received: (qmail 7165 invoked from network); 4 Mar 2004 16:55:03 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.228.100])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 4 Mar 2004 16:55:03 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id E37FC22DF
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 17:55:05 +0100 (CET)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: "Did you mean" for multiple terms
Date: Thu, 4 Mar 2004 17:55:05 +0100
User-Agent: KMail/1.6
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200403041755.05222.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Consider the query "+michael +jackson" not to return any hits because there's 
no "michael" in index, but there is "jackson" (e.g. janet...). Is there any 
reasonable approach how to determine whether one or multiple terms of a query 
- and which - do let the query fail?

Kind Regards
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 19:29:36 2004
Return-Path: <lucene-user-return-7372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20452 invoked from network); 4 Mar 2004 19:29:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 19:29:36 -0000
Received: (qmail 65111 invoked by uid 500); 4 Mar 2004 19:29:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65085 invoked by uid 500); 4 Mar 2004 19:29:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65049 invoked from network); 4 Mar 2004 19:29:12 -0000
Received: from unknown (HELO wall.quontis.com) (66.120.216.177)
  by daedalus.apache.org with SMTP; 4 Mar 2004 19:29:12 -0000
Received: from bigone (unknown [10.6.18.112])
	by wall.quontis.com (Postfix) with ESMTP id 3631E9EA9C
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 10:49:52 -0800 (PST)
From: "Jochen Frey" <lucenelist@quontis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Query: A ? B
Date: Thu, 4 Mar 2004 11:29:11 -0800
Message-ID: <005601c4021e$f8a23170$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <4009BBB9.7030301@getopt.org>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Everyone.

I am trying to figure out how create a query that matches

A ? B

Where ? is exactly one token. Can anyone tell me how to do that?


Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens (just =
use a
PhraseQuery and set slop to 1). However, if I require exactly one =
word/token
between 'A' and 'B'?


BTW, I know a very clumsy way of doing this, but I really don't like it: =
For
each indexed token insert a token (for example 'X') at the same
token-position. Then the query would be: "A X B" and everybody (except =
the
indexing performance as well as the size on disk) would be happy.

There's got to be an easier way. Right?

Thanks in advance!
Jochen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 19:50:19 2004
Return-Path: <lucene-user-return-7373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30787 invoked from network); 4 Mar 2004 19:50:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 19:50:19 -0000
Received: (qmail 24236 invoked by uid 500); 4 Mar 2004 19:50:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24146 invoked by uid 500); 4 Mar 2004 19:50:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24109 invoked from network); 4 Mar 2004 19:50:03 -0000
Received: from unknown (HELO web25206.mail.ukl.yahoo.com) (217.12.10.66)
  by daedalus.apache.org with SMTP; 4 Mar 2004 19:50:03 -0000
Message-ID: <20040304195007.91522.qmail@web25206.mail.ukl.yahoo.com>
Received: from [202.3.241.21] by web25206.mail.ukl.yahoo.com via HTTP; Thu, 04 Mar 2004 20:50:07 CET
Date: Thu, 4 Mar 2004 20:50:07 +0100 (CET)
From: =?iso-8859-1?q?Alex=20Botin?= <opt_utc@yahoo.fr>
Subject: Re: Highlighting problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY14-F27SGfM7QugGl0001bdae@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi !

you have to use Lucene's latest version, ie
lucene-1.3-final.jar.



 --- umamahesh bayireddya <umamahesh78@hotmail.com> a
crit: > hi
> 
> I am trying to use highlighting package 
>
(http://home.clara.net/markharwood/lucene/highlight.htm)
> in that i have to use query.rewrite(reader) method
> which is not in 
> QueryParser object.
> how to fix this
> 
>
_________________________________________________________________
> INDIA TODAY @ Rs. 5 for 5 years ! 
>
http://www.indiatoday.com/itoday/intlsubscription/itsubs/it_offer.html
> 
> Subcribe Now ...
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  


	

	
		
Yahoo! Mail : votre e-mail personnel et gratuit qui vous suit partout ! 
Crez votre Yahoo! Mail sur http://fr.benefits.yahoo.com/

Dialoguez en direct avec vos amis grce  Yahoo! Messenger !Tlchargez Yahoo! Messenger sur http://fr.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 20:00:26 2004
Return-Path: <lucene-user-return-7374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35178 invoked from network); 4 Mar 2004 20:00:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 20:00:26 -0000
Received: (qmail 40837 invoked by uid 500); 4 Mar 2004 20:00:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40807 invoked by uid 500); 4 Mar 2004 20:00:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40794 invoked from network); 4 Mar 2004 20:00:10 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 4 Mar 2004 20:00:10 -0000
Message-ID: <20040304200012.17694.qmail@web12702.mail.yahoo.com>
Received: from [83.131.122.170] by web12702.mail.yahoo.com via HTTP; Thu, 04 Mar 2004 12:00:12 PST
Date: Thu, 4 Mar 2004 12:00:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query: A ? B
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <005601c4021e$f8a23170$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use WildcardQuery: A?B

Otis

--- Jochen Frey <lucenelist@quontis.com> wrote:
> Hi Everyone.
> 
> I am trying to figure out how create a query that matches
> 
> A ? B
> 
> Where ? is exactly one token. Can anyone tell me how to do that?
> 
> 
> Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens (just
> use a
> PhraseQuery and set slop to 1). However, if I require exactly one
> word/token
> between 'A' and 'B'?
> 
> 
> BTW, I know a very clumsy way of doing this, but I really don't like
> it: For
> each indexed token insert a token (for example 'X') at the same
> token-position. Then the query would be: "A X B" and everybody
> (except the
> indexing performance as well as the size on disk) would be happy.
> 
> There's got to be an easier way. Right?
> 
> Thanks in advance!
> Jochen
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 20:12:35 2004
Return-Path: <lucene-user-return-7375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41277 invoked from network); 4 Mar 2004 20:12:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 20:12:35 -0000
Received: (qmail 61864 invoked by uid 500); 4 Mar 2004 20:12:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61659 invoked by uid 500); 4 Mar 2004 20:12:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61635 invoked from network); 4 Mar 2004 20:12:19 -0000
Received: from unknown (HELO web25208.mail.ukl.yahoo.com) (217.12.10.68)
  by daedalus.apache.org with SMTP; 4 Mar 2004 20:12:19 -0000
Message-ID: <20040304201223.94542.qmail@web25208.mail.ukl.yahoo.com>
Received: from [202.3.241.21] by web25208.mail.ukl.yahoo.com via HTTP; Thu, 04 Mar 2004 21:12:23 CET
Date: Thu, 4 Mar 2004 21:12:23 +0100 (CET)
From: =?iso-8859-1?q?Alex=20Botin?= <opt_utc@yahoo.fr>
Subject: Index directory not recognized as a directory
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16453.37141.866008.379348@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello everyone !

I've been using a web application with a search engine
made with Lucene on my computer.
Then I uploaded my application and my index directory
to the server. However, when I try to search for
documents I get this message :

java.io.IOException:
/var/tomcat4/http:/wwww.mySite.com/myIndex not a
directory

I have tryed several addressing methods, I checked the
rights to access the index directory that actually
allow reading to any user.

Any idea ?

Thanks in advance,

Alex.


	

	
		
Yahoo! Mail : votre e-mail personnel et gratuit qui vous suit partout ! 
Crez votre Yahoo! Mail sur http://fr.benefits.yahoo.com/

Dialoguez en direct avec vos amis grce  Yahoo! Messenger !Tlchargez Yahoo! Messenger sur http://fr.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 21:30:03 2004
Return-Path: <lucene-user-return-7376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86592 invoked from network); 4 Mar 2004 21:30:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 21:30:03 -0000
Received: (qmail 12638 invoked by uid 500); 4 Mar 2004 21:29:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12613 invoked by uid 500); 4 Mar 2004 21:29:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12599 invoked from network); 4 Mar 2004 21:29:46 -0000
Received: from unknown (HELO wall.quontis.com) (66.120.216.177)
  by daedalus.apache.org with SMTP; 4 Mar 2004 21:29:46 -0000
Received: from bigone (unknown [10.6.18.112])
	by wall.quontis.com (Postfix) with ESMTP id 59C539EA9C
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 12:50:28 -0800 (PST)
From: "Jochen Frey" <lucenelist@quontis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Query: A ? B
Date: Thu, 4 Mar 2004 13:29:47 -0800
Message-ID: <006a01c4022f$d1a29c70$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20040304200012.17694.qmail@web12702.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis:

Maybe I don't understand this right, but I *think* I am looking for
something different:

I am trying to write a query like this: "my * house" which should match =
"my
own house", "my red house", "my small house", but should not match "my
house" ... you get the idea.

If I am not mistaken, a wildcard query only works if the wildcard is =
within
a word (or token), and it would allow me to do things like "g*" matching
"green", "great", ...etc. I don't know how to make that work for multi =
words
scenarios.

Here is what I tried WildcardQuery in the unit test (TestBasics):

Query query =3D new WildcardQuery(new Term("field","six hundred * =
five"));

Thanks!
Jochen

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Thursday, March 04, 2004 12:00 PM
To: Lucene Users List
Subject: Re: Query: A ? B

Use WildcardQuery: A?B

Otis

--- Jochen Frey <lucenelist@quontis.com> wrote:
> Hi Everyone.
>=20
> I am trying to figure out how create a query that matches
>=20
> A ? B
>=20
> Where ? is exactly one token. Can anyone tell me how to do that?
>=20
>=20
> Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens (just
> use a
> PhraseQuery and set slop to 1). However, if I require exactly one
> word/token
> between 'A' and 'B'?
>=20
>=20
> BTW, I know a very clumsy way of doing this, but I really don't like
> it: For
> each indexed token insert a token (for example 'X') at the same
> token-position. Then the query would be: "A X B" and everybody
> (except the
> indexing performance as well as the size on disk) would be happy.
>=20
> There's got to be an easier way. Right?
>=20
> Thanks in advance!
> Jochen
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 21:51:52 2004
Return-Path: <lucene-user-return-7377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57067 invoked from network); 4 Mar 2004 21:51:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 21:51:52 -0000
Received: (qmail 56724 invoked by uid 500); 4 Mar 2004 21:51:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56418 invoked by uid 500); 4 Mar 2004 21:51:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56405 invoked from network); 4 Mar 2004 21:51:33 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 4 Mar 2004 21:51:33 -0000
Received: (cpmta 10832 invoked from network); 4 Mar 2004 13:51:39 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 4 Mar 2004 13:51:39 -0800
X-Sent: 4 Mar 2004 21:51:39 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <006a01c4022f$d1a29c70$7012060a@bigone>
References: <006a01c4022f$d1a29c70$7012060a@bigone>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1C6C0008-6E26-11D8-9F39-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query: A ? B
Date: Thu, 4 Mar 2004 16:51:37 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Right.... Otis was confused by what you were asking.

Google supports what you are asking for, I believe, although I don't 
recall if an '*' indicates one or more or just one.

As far as I know, there is no easy way to do the exact distance like 
you desire.  You could always clone the PhraseQuery stuff into a custom 
Query that uses an == instead of a < for the slop.  Although you'll 
also need to tweak this to disallow reversing of terms too.  Slop 
handles terms out of order too.  Maybe the new span feature can do 
this?

	Erik


On Mar 4, 2004, at 4:29 PM, Jochen Frey wrote:

> Otis:
>
> Maybe I don't understand this right, but I *think* I am looking for
> something different:
>
> I am trying to write a query like this: "my * house" which should 
> match "my
> own house", "my red house", "my small house", but should not match "my
> house" ... you get the idea.
>
> If I am not mistaken, a wildcard query only works if the wildcard is 
> within
> a word (or token), and it would allow me to do things like "g*" 
> matching
> "green", "great", ...etc. I don't know how to make that work for multi 
> words
> scenarios.
>
> Here is what I tried WildcardQuery in the unit test (TestBasics):
>
> Query query = new WildcardQuery(new Term("field","six hundred * 
> five"));
>
> Thanks!
> Jochen
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Thursday, March 04, 2004 12:00 PM
> To: Lucene Users List
> Subject: Re: Query: A ? B
>
> Use WildcardQuery: A?B
>
> Otis
>
> --- Jochen Frey <lucenelist@quontis.com> wrote:
>> Hi Everyone.
>>
>> I am trying to figure out how create a query that matches
>>
>> A ? B
>>
>> Where ? is exactly one token. Can anyone tell me how to do that?
>>
>>
>> Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens (just
>> use a
>> PhraseQuery and set slop to 1). However, if I require exactly one
>> word/token
>> between 'A' and 'B'?
>>
>>
>> BTW, I know a very clumsy way of doing this, but I really don't like
>> it: For
>> each indexed token insert a token (for example 'X') at the same
>> token-position. Then the query would be: "A X B" and everybody
>> (except the
>> indexing performance as well as the size on disk) would be happy.
>>
>> There's got to be an easier way. Right?
>>
>> Thanks in advance!
>> Jochen
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 22:40:16 2004
Return-Path: <lucene-user-return-7378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98440 invoked from network); 4 Mar 2004 22:40:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 22:40:16 -0000
Received: (qmail 35447 invoked by uid 500); 4 Mar 2004 22:39:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35426 invoked by uid 500); 4 Mar 2004 22:39:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35412 invoked from network); 4 Mar 2004 22:39:52 -0000
Received: from unknown (HELO wall.quontis.com) (66.120.216.177)
  by daedalus.apache.org with SMTP; 4 Mar 2004 22:39:52 -0000
Received: from bigone (unknown [10.6.18.112])
	by wall.quontis.com (Postfix) with ESMTP id 8E8659EA9C
	for <lucene-user@jakarta.apache.org>; Thu,  4 Mar 2004 14:00:35 -0800 (PST)
From: "Jochen Frey" <lucenelist@quontis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Query: A ? B
Date: Thu, 4 Mar 2004 14:39:54 -0800
Message-ID: <008001c40239$9d420ec0$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1C6C0008-6E26-11D8-9F39-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I know my way around the Span feature reasonably well ... and I
don't think it can be used for what I want to do.

But I would love to be proven wrong on this one.

:)

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Thursday, March 04, 2004 1:52 PM
To: Lucene Users List
Subject: Re: Query: A ? B

Right.... Otis was confused by what you were asking.

Google supports what you are asking for, I believe, although I don't 
recall if an '*' indicates one or more or just one.

As far as I know, there is no easy way to do the exact distance like 
you desire.  You could always clone the PhraseQuery stuff into a custom 
Query that uses an == instead of a < for the slop.  Although you'll 
also need to tweak this to disallow reversing of terms too.  Slop 
handles terms out of order too.  Maybe the new span feature can do 
this?

	Erik


On Mar 4, 2004, at 4:29 PM, Jochen Frey wrote:

> Otis:
>
> Maybe I don't understand this right, but I *think* I am looking for
> something different:
>
> I am trying to write a query like this: "my * house" which should 
> match "my
> own house", "my red house", "my small house", but should not match "my
> house" ... you get the idea.
>
> If I am not mistaken, a wildcard query only works if the wildcard is 
> within
> a word (or token), and it would allow me to do things like "g*" 
> matching
> "green", "great", ...etc. I don't know how to make that work for multi 
> words
> scenarios.
>
> Here is what I tried WildcardQuery in the unit test (TestBasics):
>
> Query query = new WildcardQuery(new Term("field","six hundred * 
> five"));
>
> Thanks!
> Jochen
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Thursday, March 04, 2004 12:00 PM
> To: Lucene Users List
> Subject: Re: Query: A ? B
>
> Use WildcardQuery: A?B
>
> Otis
>
> --- Jochen Frey <lucenelist@quontis.com> wrote:
>> Hi Everyone.
>>
>> I am trying to figure out how create a query that matches
>>
>> A ? B
>>
>> Where ? is exactly one token. Can anyone tell me how to do that?
>>
>>
>> Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens (just
>> use a
>> PhraseQuery and set slop to 1). However, if I require exactly one
>> word/token
>> between 'A' and 'B'?
>>
>>
>> BTW, I know a very clumsy way of doing this, but I really don't like
>> it: For
>> each indexed token insert a token (for example 'X') at the same
>> token-position. Then the query would be: "A X B" and everybody
>> (except the
>> indexing performance as well as the size on disk) would be happy.
>>
>> There's got to be an easier way. Right?
>>
>> Thanks in advance!
>> Jochen
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 04 23:22:17 2004
Return-Path: <lucene-user-return-7379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65054 invoked from network); 4 Mar 2004 23:22:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Mar 2004 23:22:17 -0000
Received: (qmail 10278 invoked by uid 500); 4 Mar 2004 23:21:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10257 invoked by uid 500); 4 Mar 2004 23:21:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10238 invoked from network); 4 Mar 2004 23:21:57 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 4 Mar 2004 23:21:57 -0000
Message-ID: <20040304232203.57414.qmail@web12707.mail.yahoo.com>
Received: from [195.29.51.126] by web12707.mail.yahoo.com via HTTP; Thu, 04 Mar 2004 15:22:03 PST
Date: Thu, 4 Mar 2004 15:22:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Query: A ? B
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <006a01c4022f$d1a29c70$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah, sorry, I had misread your email, thinking you were asking a way to
match a single character.
The only thing that comes to my tired mind now is a phrase query with a
slop of 1, but that doesn't gurantee order, I believe.

Otis

--- Jochen Frey <lucenelist@quontis.com> wrote:
> Otis:
> 
> Maybe I don't understand this right, but I *think* I am looking for
> something different:
> 
> I am trying to write a query like this: "my * house" which should
> match "my
> own house", "my red house", "my small house", but should not match
> "my
> house" ... you get the idea.
> 
> If I am not mistaken, a wildcard query only works if the wildcard is
> within
> a word (or token), and it would allow me to do things like "g*"
> matching
> "green", "great", ...etc. I don't know how to make that work for
> multi words
> scenarios.
> 
> Here is what I tried WildcardQuery in the unit test (TestBasics):
> 
> Query query = new WildcardQuery(new Term("field","six hundred *
> five"));
> 
> Thanks!
> Jochen
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Thursday, March 04, 2004 12:00 PM
> To: Lucene Users List
> Subject: Re: Query: A ? B
> 
> Use WildcardQuery: A?B
> 
> Otis
> 
> --- Jochen Frey <lucenelist@quontis.com> wrote:
> > Hi Everyone.
> > 
> > I am trying to figure out how create a query that matches
> > 
> > A ? B
> > 
> > Where ? is exactly one token. Can anyone tell me how to do that?
> > 
> > 
> > Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens
> (just
> > use a
> > PhraseQuery and set slop to 1). However, if I require exactly one
> > word/token
> > between 'A' and 'B'?
> > 
> > 
> > BTW, I know a very clumsy way of doing this, but I really don't
> like
> > it: For
> > each indexed token insert a token (for example 'X') at the same
> > token-position. Then the query would be: "A X B" and everybody
> > (except the
> > indexing performance as well as the size on disk) would be happy.
> > 
> > There's got to be an easier way. Right?
> > 
> > Thanks in advance!
> > Jochen
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 08:20:56 2004
Return-Path: <lucene-user-return-7380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59697 invoked from network); 5 Mar 2004 08:20:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 08:20:56 -0000
Received: (qmail 28182 invoked by uid 500); 5 Mar 2004 08:20:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28151 invoked by uid 500); 5 Mar 2004 08:20:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28113 invoked from network); 5 Mar 2004 08:20:26 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 5 Mar 2004 08:20:26 -0000
Received: from kelvin (adsl-210-193-14-201.qala.com.sg [210.193.14.201])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i258IdIQ027147
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 16:18:40 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Fri, 5 Mar 2004 16:21:07 +0800
Message-ID: <20043516217.664097@kelvin>
Subject: Query validation in web app
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene reacts pretty badly to non-wellformed queries, not throwing a 
checked/unchecked Exception but throwing an Error. The error message is also=
 
unintelligible to a user (non-developer).

How are people checking/validating queries from a web-app?

I have some checked-in code in sandbox that does javascript validation, but=
 I 
wonder if there's a smarter way to do query validation..

k


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 09:17:02 2004
Return-Path: <lucene-user-return-7381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90290 invoked from network); 5 Mar 2004 09:17:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 09:17:02 -0000
Received: (qmail 5231 invoked by uid 500); 5 Mar 2004 09:16:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5209 invoked by uid 500); 5 Mar 2004 09:16:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5194 invoked from network); 5 Mar 2004 09:16:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 5 Mar 2004 09:16:31 -0000
Received: (cpmta 19779 invoked from network); 5 Mar 2004 01:16:44 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 5 Mar 2004 01:16:44 -0800
X-Sent: 5 Mar 2004 09:16:44 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <20040304232203.57414.qmail@web12707.mail.yahoo.com>
References: <20040304232203.57414.qmail@web12707.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D17D5085-6E85-11D8-A0D2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query: A ? B
Date: Fri, 5 Mar 2004 04:16:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Actually a slop of 1 does guarantee order... it is either an exact 
match or 1 term off.  It takes a slop of 2 or greater for reverse order 
matches.

But it is not exactly 1 term off, which is what Jochen wants.  *shrug*

	Erik


On Mar 4, 2004, at 6:22 PM, Otis Gospodnetic wrote:

> Ah, sorry, I had misread your email, thinking you were asking a way to
> match a single character.
> The only thing that comes to my tired mind now is a phrase query with a
> slop of 1, but that doesn't gurantee order, I believe.
>
> Otis
>
> --- Jochen Frey <lucenelist@quontis.com> wrote:
>> Otis:
>>
>> Maybe I don't understand this right, but I *think* I am looking for
>> something different:
>>
>> I am trying to write a query like this: "my * house" which should
>> match "my
>> own house", "my red house", "my small house", but should not match
>> "my
>> house" ... you get the idea.
>>
>> If I am not mistaken, a wildcard query only works if the wildcard is
>> within
>> a word (or token), and it would allow me to do things like "g*"
>> matching
>> "green", "great", ...etc. I don't know how to make that work for
>> multi words
>> scenarios.
>>
>> Here is what I tried WildcardQuery in the unit test (TestBasics):
>>
>> Query query = new WildcardQuery(new Term("field","six hundred *
>> five"));
>>
>> Thanks!
>> Jochen
>>
>> -----Original Message-----
>> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>> Sent: Thursday, March 04, 2004 12:00 PM
>> To: Lucene Users List
>> Subject: Re: Query: A ? B
>>
>> Use WildcardQuery: A?B
>>
>> Otis
>>
>> --- Jochen Frey <lucenelist@quontis.com> wrote:
>>> Hi Everyone.
>>>
>>> I am trying to figure out how create a query that matches
>>>
>>> A ? B
>>>
>>> Where ? is exactly one token. Can anyone tell me how to do that?
>>>
>>>
>>> Obviously it's easy to match 'A * B' where '*' is 0 or 1 tokens
>> (just
>>> use a
>>> PhraseQuery and set slop to 1). However, if I require exactly one
>>> word/token
>>> between 'A' and 'B'?
>>>
>>>
>>> BTW, I know a very clumsy way of doing this, but I really don't
>> like
>>> it: For
>>> each indexed token insert a token (for example 'X') at the same
>>> token-position. Then the query would be: "A X B" and everybody
>>> (except the
>>> indexing performance as well as the size on disk) would be happy.
>>>
>>> There's got to be an easier way. Right?
>>>
>>> Thanks in advance!
>>> Jochen
>>>
>>>
>>>
>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 09:18:48 2004
Return-Path: <lucene-user-return-7382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91174 invoked from network); 5 Mar 2004 09:18:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 09:18:48 -0000
Received: (qmail 7189 invoked by uid 500); 5 Mar 2004 09:18:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6947 invoked by uid 500); 5 Mar 2004 09:18:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6934 invoked from network); 5 Mar 2004 09:18:18 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 5 Mar 2004 09:18:18 -0000
Received: (cpmta 21664 invoked from network); 5 Mar 2004 01:18:30 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 5 Mar 2004 01:18:30 -0800
X-Sent: 5 Mar 2004 09:18:30 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <20043516217.664097@kelvin>
References: <20043516217.664097@kelvin>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <110B94FA-6E86-11D8-A0D2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query validation in web app
Date: Fri, 5 Mar 2004 04:18:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kelvin,

In what scenarios does QueryParser fail without throwing a 
ParseException?

I think we should fix those cases to ensure a ParseException is thrown.

	Erik


On Mar 5, 2004, at 3:21 AM, Kelvin Tan wrote:

> Lucene reacts pretty badly to non-wellformed queries, not throwing a
> checked/unchecked Exception but throwing an Error. The error message 
> is also
> unintelligible to a user (non-developer).
>
> How are people checking/validating queries from a web-app?
>
> I have some checked-in code in sandbox that does javascript 
> validation, but I
> wonder if there's a smarter way to do query validation..
>
> k
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 09:46:19 2004
Return-Path: <lucene-user-return-7383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2325 invoked from network); 5 Mar 2004 09:46:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 09:46:19 -0000
Received: (qmail 38451 invoked by uid 500); 5 Mar 2004 09:45:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38419 invoked by uid 500); 5 Mar 2004 09:45:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38400 invoked from network); 5 Mar 2004 09:45:47 -0000
Received: from unknown (HELO visor.qala.com.sg) (210.193.2.43)
  by daedalus.apache.org with SMTP; 5 Mar 2004 09:45:47 -0000
Received: from kelvin (adsl-210-193-14-201.qala.com.sg [210.193.14.201])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id i259jv001981
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 17:45:58 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Fri, 5 Mar 2004 17:46:27 +0800
Message-ID: <200435174627.575142@kelvin>
In-Reply-To: <110B94FA-6E86-11D8-A0D2-000393A564E6@ehatchersolutions.com>
Subject: Re: Query validation in web app
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 5 Mar 2004 04:18:29 -0500, Erik Hatcher said:
> Kelvin,
> 
> In what scenarios does QueryParser fail without throwing a
> ParseException?
> 
> I think we should fix those cases to ensure a ParseException is thrown.
> 
> Erik
> 
> 

Sorry, my bad. Was it ever throwing Errors? Probably not, but somehow I had=
 the 
impression it was..

Kelvin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 10:35:32 2004
Return-Path: <lucene-user-return-7384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24327 invoked from network); 5 Mar 2004 10:35:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 10:35:32 -0000
Received: (qmail 93716 invoked by uid 500); 5 Mar 2004 10:35:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93697 invoked by uid 500); 5 Mar 2004 10:34:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93684 invoked from network); 5 Mar 2004 10:34:59 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Mar 2004 10:34:59 -0000
Received: (cpmta 12669 invoked from network); 5 Mar 2004 02:35:13 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Mar 2004 02:35:13 -0800
X-Sent: 5 Mar 2004 10:35:13 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <200435174627.575142@kelvin>
References: <200435174627.575142@kelvin>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C826386A-6E90-11D8-A0D2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query validation in web app
Date: Fri, 5 Mar 2004 05:35:11 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was one condition we tightened up recently where a ParseException 
was not being thrown, but now it is.

This was when there were too many boolean queries, and this exception 
is now converted to a ParseException.

	Erik

On Mar 5, 2004, at 4:46 AM, Kelvin Tan wrote:

> On Fri, 5 Mar 2004 04:18:29 -0500, Erik Hatcher said:
>> Kelvin,
>>
>> In what scenarios does QueryParser fail without throwing a
>> ParseException?
>>
>> I think we should fix those cases to ensure a ParseException is 
>> thrown.
>>
>> Erik
>>
>>
>
> Sorry, my bad. Was it ever throwing Errors? Probably not, but somehow 
> I had the
> impression it was..
>
> Kelvin
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 11:18:41 2004
Return-Path: <lucene-user-return-7385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46115 invoked from network); 5 Mar 2004 11:18:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 11:18:41 -0000
Received: (qmail 63250 invoked by uid 500); 5 Mar 2004 11:18:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63225 invoked by uid 500); 5 Mar 2004 11:18:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63211 invoked from network); 5 Mar 2004 11:18:08 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 5 Mar 2004 11:18:08 -0000
Received: (qmail 14722 invoked from network); 5 Mar 2004 11:15:39 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.222.49])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 5 Mar 2004 11:15:39 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 1338D193B
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 12:15:41 +0100 (CET)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: Storing numbers
Date: Fri, 5 Mar 2004 12:15:40 +0100
User-Agent: KMail/1.6
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200403051215.40713.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I want to store numbers (id) in my index:

	long id = 1069421083284;
	doc.add(Field.UnStored("in", String.valueOf(id)));	

But searching for "id:1069421083284" doesn't return any hits.

Well, did I misunderstand something? UnStored is the number is stored but not 
index (analyzed), isn't it? Anyway, Field.Text doesn't work either.

TIA
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 11:27:57 2004
Return-Path: <lucene-user-return-7386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50415 invoked from network); 5 Mar 2004 11:27:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 11:27:57 -0000
Received: (qmail 74193 invoked by uid 500); 5 Mar 2004 11:27:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74171 invoked by uid 500); 5 Mar 2004 11:27:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74157 invoked from network); 5 Mar 2004 11:27:24 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 5 Mar 2004 11:27:24 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id B57CE19B83E
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 12:27:36 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i25BRYlT003925
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 12:27:34 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i25BRQfi003915;
	Fri, 5 Mar 2004 12:27:26 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16456.25630.495112.295104@tanto-xipolis.de>
Date: Fri, 5 Mar 2004 12:27:26 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
In-Reply-To: <200403051215.40713.lucene@nitwit.de>
References: <200403051215.40713.lucene@nitwit.de>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

lucene@nitwit.de writes:
> Hi!
> 
> I want to store numbers (id) in my index:
> 
> 	long id = 1069421083284;
> 	doc.add(Field.UnStored("in", String.valueOf(id)));	
> 
> But searching for "id:1069421083284" doesn't return any hits.

If your field is named 'in' you shouldn't search in 'id'. Right?

> 
> Well, did I misunderstand something? UnStored is the number is stored but not 
> index (analyzed), isn't it? Anyway, Field.Text doesn't work either.
> 
Well, indexing and analyzing are different things.
UnStored means, the number is not stored (as the name says) but indexed.
And IIRC it's analyzed before indexing. Shouldn't make a difference for
a single number.

What I'd use in this case is an unstored keyword (given that you really don't
want to have the id returned from lucene, which is the consequence of
not storing).
I'm not sure if there's a method to create such a field, but you can do it
by setting the flags directly.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 13:40:28 2004
Return-Path: <lucene-user-return-7387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29312 invoked from network); 5 Mar 2004 13:40:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 13:40:28 -0000
Received: (qmail 85831 invoked by uid 500); 5 Mar 2004 13:40:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85811 invoked by uid 500); 5 Mar 2004 13:40:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85795 invoked from network); 5 Mar 2004 13:40:19 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 5 Mar 2004 13:40:19 -0000
Received: (qmail 22618 invoked from network); 5 Mar 2004 13:40:18 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.225.169])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 5 Mar 2004 13:40:18 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 108C424DF
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 14:40:19 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: "Did you mean" for multiple terms
Date: Fri, 5 Mar 2004 14:40:18 +0100
User-Agent: KMail/1.6
References: <200403041755.05222.lucene@nitwit.de>
In-Reply-To: <200403041755.05222.lucene@nitwit.de>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200403051440.18470.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 04 March 2004 17:55, lucene@nitwit.de wrote:
> Consider the query "+michael +jackson" not to return any hits because
> there's no "michael" in index, but there is "jackson" (e.g. janet...). Is
> there any reasonable approach how to determine whether one or multiple
> terms of a query - and which - do let the query fail?

In order to illustrate, google for "george buhs" - it will suggest "george 
bush".

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 13:54:27 2004
Return-Path: <lucene-user-return-7388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37619 invoked from network); 5 Mar 2004 13:54:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 13:54:27 -0000
Received: (qmail 25979 invoked by uid 500); 5 Mar 2004 13:54:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25854 invoked by uid 500); 5 Mar 2004 13:54:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25840 invoked from network); 5 Mar 2004 13:54:18 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 5 Mar 2004 13:54:18 -0000
Received: (qmail 27770 invoked from network); 5 Mar 2004 13:51:59 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.225.169])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 5 Mar 2004 13:51:59 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 912E32337
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 14:52:00 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 14:51:59 +0100
User-Agent: KMail/1.6
References: <200403051215.40713.lucene@nitwit.de> <16456.25630.495112.295104@tanto-xipolis.de>
In-Reply-To: <16456.25630.495112.295104@tanto-xipolis.de>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200403051451.59892.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 05 March 2004 12:27, Morus Walter wrote:
> > 	doc.add(Field.UnStored("in", String.valueOf(id)));
> >
> > But searching for "id:1069421083284" doesn't return any hits.
>
> If your field is named 'in' you shouldn't search in 'id'. Right?
>
> Well, indexing and analyzing are different things.
> UnStored means, the number is not stored (as the name says) but indexed.
> And IIRC it's analyzed before indexing. Shouldn't make a difference for
> a single number.
>
> What I'd use in this case is an unstored keyword (given that you really
> don't want to have the id returned from lucene, which is the consequence of
> not storing).

Sorry, typo :-)

I do have severeal docs in index and each doc does have an id. And I just want 
to find a particular doc by its id. 

	doc.add(Field.UnIndexed("id", String.valueOf(id)));

doesn't work either. And as I mentioned not even Field.Text does work....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 14:25:54 2004
Return-Path: <lucene-user-return-7389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65304 invoked from network); 5 Mar 2004 14:25:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 14:25:53 -0000
Received: (qmail 97815 invoked by uid 500); 5 Mar 2004 14:25:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97648 invoked by uid 500); 5 Mar 2004 14:25:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97626 invoked from network); 5 Mar 2004 14:25:43 -0000
Received: from unknown (HELO cnhkmh01.bea.com) (202.130.140.27)
  by daedalus.apache.org with SMTP; 5 Mar 2004 14:25:43 -0000
Received: from CNHKEX01.apac.bea.com (cnhkex01.bea.com [10.128.0.15])
	by cnhkmh01.bea.com (Switch-3.0.5/Switch-3.0.0) with SMTP id i25EPi1e000858
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 22:25:44 +0800
Received: from bea.com ([10.128.5.140]) by CNHKEX01.apac.bea.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 5 Mar 2004 22:25:42 +0800
Message-ID: <4047FAF4.8040807@bea.com>
Date: Fri, 05 Mar 2004 09:28:44 +0530
From: prasen <prasen@bea.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: using lucene to search in a 1 huge file. (aka "grep -n")
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 05 Mar 2004 14:25:43.0219 (UTC) FILETIME=[BDF43830:01C402BD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi guys,
   I am relatively new to Lucene. Can lucene be used to speed-up search 
for a string in one huge file( ~  TerraBytes ) based on its libe 
numbers.  Something like "grep -n <pattern> <filename>" where the 
indexing will be done only on one file and based on either 
line-numbers/blocks.

prasen




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 14:40:28 2004
Return-Path: <lucene-user-return-7390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74873 invoked from network); 5 Mar 2004 14:40:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 14:40:28 -0000
Received: (qmail 42726 invoked by uid 500); 5 Mar 2004 14:40:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42704 invoked by uid 500); 5 Mar 2004 14:40:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42691 invoked from network); 5 Mar 2004 14:40:17 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 5 Mar 2004 14:40:17 -0000
Message-ID: <20040305144019.79276.qmail@web12706.mail.yahoo.com>
Received: from [194.152.209.202] by web12706.mail.yahoo.com via HTTP; Fri, 05 Mar 2004 06:40:19 PST
Date: Fri, 5 Mar 2004 06:40:19 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: using lucene to search in a 1 huge file. (aka "grep -n")
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4047FAF4.8040807@bea.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In order for this to make sense, you would have to split your huge file
into either lines or blocks, whichever you want to be your indexing and
search/hit unit, and convert those to Lucene Documents, which you would
then index.
Searching would then return the line/block where matches are found.

Otis


--- prasen <prasen@bea.com> wrote:
> Hi guys,
>    I am relatively new to Lucene. Can lucene be used to speed-up
> search 
> for a string in one huge file( ~  TerraBytes ) based on its libe 
> numbers.  Something like "grep -n <pattern> <filename>" where the 
> indexing will be done only on one file and based on either 
> line-numbers/blocks.
> 
> prasen
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 14:43:22 2004
Return-Path: <lucene-user-return-7391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76790 invoked from network); 5 Mar 2004 14:43:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 14:43:21 -0000
Received: (qmail 47984 invoked by uid 500); 5 Mar 2004 14:43:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47932 invoked by uid 500); 5 Mar 2004 14:43:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47918 invoked from network); 5 Mar 2004 14:43:12 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 5 Mar 2004 14:43:12 -0000
Message-ID: <20040305144252.79622.qmail@web12706.mail.yahoo.com>
Received: from [194.152.209.202] by web12706.mail.yahoo.com via HTTP; Fri, 05 Mar 2004 06:42:52 PST
Date: Fri, 5 Mar 2004 06:42:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Storing numbers
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200403051215.40713.lucene@nitwit.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Either store it as a Keyword Field, which does not get Analyzed, or use
that per-field Analyzer wrapper class.
Your problem is most likely that you are using something like
StandardAnalyzer that, I believe, throws out numbers from its input
before indexing (i.e. your numbers are not getting indexed in the first
place).  Try with Field.Keyword.

Otis

--- lucene@nitwit.de wrote:
> Hi!
> 
> I want to store numbers (id) in my index:
> 
> 	long id = 1069421083284;
> 	doc.add(Field.UnStored("in", String.valueOf(id)));	
> 
> But searching for "id:1069421083284" doesn't return any hits.
> 
> Well, did I misunderstand something? UnStored is the number is stored
> but not 
> index (analyzed), isn't it? Anyway, Field.Text doesn't work either.
> 
> TIA
> Timo
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 16:27:37 2004
Return-Path: <lucene-user-return-7392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51529 invoked from network); 5 Mar 2004 16:27:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 16:27:37 -0000
Received: (qmail 45382 invoked by uid 500); 5 Mar 2004 16:27:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45348 invoked by uid 500); 5 Mar 2004 16:27:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45334 invoked from network); 5 Mar 2004 16:27:24 -0000
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by daedalus.apache.org with SMTP; 5 Mar 2004 16:27:24 -0000
Received: from beani.library.ucsf.edu (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i25GRR322525
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 08:27:27 -0800 (PST)
Message-Id: <5.1.1.5.2.20040305082842.00ae0cd0@Mail.library.ucsf.edu>
X-Sender: devarenn@Mail.library.ucsf.edu
X-Mailer: QUALCOMM Windows Eudora Version 5.1.1
Date: Fri, 05 Mar 2004 08:32:31 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: Storing numbers
In-Reply-To: <20040305144252.79622.qmail@web12706.mail.yahoo.com>
References: <200403051215.40713.lucene@nitwit.de>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I thought it is the StopAnalyzer that weeds out numbers.  StandardAnalyzer 
keeps in them in I believe as I ran into the same issue using the jsp demo 
code and just replaced StopAnalyzer  with StandardAnalyzer  and numbers 
were searchable.  This assumes you index with a StandardAnalyzer  though.

Claude

At 06:42 AM 3/5/2004 -0800, Otis Gospodnetic wrote:
>Either store it as a Keyword Field, which does not get Analyzed, or use
>that per-field Analyzer wrapper class.
>Your problem is most likely that you are using something like
>StandardAnalyzer that, I believe, throws out numbers from its input
>before indexing (i.e. your numbers are not getting indexed in the first
>place).  Try with Field.Keyword.
>
>Otis
>
>--- lucene@nitwit.de wrote:
> > Hi!
> >
> > I want to store numbers (id) in my index:
> >
> >       long id = 1069421083284;
> >       doc.add(Field.UnStored("in", String.valueOf(id)));
> >
> > But searching for "id:1069421083284" doesn't return any hits.
> >
> > Well, did I misunderstand something? UnStored is the number is stored
> > but not
> > index (analyzed), isn't it? Anyway, Field.Text doesn't work either.
> >
> > TIA
> > Timo
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 16:47:16 2004
Return-Path: <lucene-user-return-7393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65351 invoked from network); 5 Mar 2004 16:47:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 16:47:16 -0000
Received: (qmail 6443 invoked by uid 500); 5 Mar 2004 16:46:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6394 invoked by uid 500); 5 Mar 2004 16:46:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6325 invoked from network); 5 Mar 2004 16:46:42 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 5 Mar 2004 16:46:42 -0000
Received: (qmail 8726 invoked from network); 5 Mar 2004 16:46:44 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.225.169])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 5 Mar 2004 16:46:44 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 8DCAC252C
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 17:46:58 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 17:46:57 +0100
User-Agent: KMail/1.6
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com>
In-Reply-To: <20040305144252.79622.qmail@web12706.mail.yahoo.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200403051746.57985.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 05 March 2004 15:42, Otis Gospodnetic wrote:
> Try with Field.Keyword.

Ok, works.

Another problem: Range searches don't work.

	"id:(1 TO 1069421083284)"

does return only 1 hit - 1069421083284.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 17:02:09 2004
Return-Path: <lucene-user-return-7394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74101 invoked from network); 5 Mar 2004 17:02:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 17:02:08 -0000
Received: (qmail 42609 invoked by uid 500); 5 Mar 2004 17:01:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42383 invoked by uid 500); 5 Mar 2004 17:01:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42363 invoked from network); 5 Mar 2004 17:01:56 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Mar 2004 17:01:56 -0000
Received: (cpmta 20476 invoked from network); 5 Mar 2004 09:01:58 -0800
Received: from 128.143.26.2 (HELO ?128.143.26.2?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Mar 2004 09:01:58 -0800
X-Sent: 5 Mar 2004 17:01:58 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <200403051746.57985.lucene@nitwit.de>
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <200403051746.57985.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 12:01:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terms in Lucene are text.  If you want to deal with number ranges, you 
need to pad them.

"000000000001" for example.  Be sure all numbers have the same width 
and zero padded.

Lucene use lexicographical ordering, so you must be sure things collate 
in this way.

	Erik

On Mar 5, 2004, at 11:46 AM, lucene@nitwit.de wrote:

> On Friday 05 March 2004 15:42, Otis Gospodnetic wrote:
>> Try with Field.Keyword.
>
> Ok, works.
>
> Another problem: Range searches don't work.
>
> 	"id:(1 TO 1069421083284)"
>
> does return only 1 hit - 1069421083284.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 17:19:42 2004
Return-Path: <lucene-user-return-7395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86951 invoked from network); 5 Mar 2004 17:19:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 17:19:41 -0000
Received: (qmail 89582 invoked by uid 500); 5 Mar 2004 17:19:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89553 invoked by uid 500); 5 Mar 2004 17:19:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89527 invoked from network); 5 Mar 2004 17:19:28 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 5 Mar 2004 17:19:28 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i25HJVI08099
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 12:19:31 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 5 Mar 2004 12:19:31 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
In-Reply-To: <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0403051217530.7147-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Weird idea, how about transforming your long into a Date and using a
DateFilter to use a ranged query?

sv

On Fri, 5 Mar 2004, Erik Hatcher wrote:

> Terms in Lucene are text.  If you want to deal with number ranges, you
> need to pad them.
>
> "000000000001" for example.  Be sure all numbers have the same width
> and zero padded.
>
> Lucene use lexicographical ordering, so you must be sure things collate
> in this way.
>
> 	Erik
>
> On Mar 5, 2004, at 11:46 AM, lucene@nitwit.de wrote:
>
> > On Friday 05 March 2004 15:42, Otis Gospodnetic wrote:
> >> Try with Field.Keyword.
> >
> > Ok, works.
> >
> > Another problem: Range searches don't work.
> >
> > 	"id:(1 TO 1069421083284)"
> >
> > does return only 1 hit - 1069421083284.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 17:34:44 2004
Return-Path: <lucene-user-return-7396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95351 invoked from network); 5 Mar 2004 17:34:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 17:34:43 -0000
Received: (qmail 19270 invoked by uid 500); 5 Mar 2004 17:34:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19245 invoked by uid 500); 5 Mar 2004 17:34:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19229 invoked from network); 5 Mar 2004 17:34:30 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 5 Mar 2004 17:34:30 -0000
Received: (qmail 13338 invoked from network); 5 Mar 2004 17:34:32 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.225.169])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 5 Mar 2004 17:34:32 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 0C33424C3
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 18:34:51 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 18:34:50 +0100
User-Agent: KMail/1.6
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <200403051746.57985.lucene@nitwit.de> <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com>
In-Reply-To: <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200403051834.50725.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 05 March 2004 18:01, Erik Hatcher wrote:
> "000000000001" for example.  Be sure all numbers have the same width
> and zero padded.

And what about a range like 100 TO 1000?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 17:39:07 2004
Return-Path: <lucene-user-return-7397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98372 invoked from network); 5 Mar 2004 17:39:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 17:39:06 -0000
Received: (qmail 26597 invoked by uid 500); 5 Mar 2004 17:38:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26572 invoked by uid 500); 5 Mar 2004 17:38:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26550 invoked from network); 5 Mar 2004 17:38:52 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 5 Mar 2004 17:38:52 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i25Hct708267
	for <lucene-user@jakarta.apache.org>; Fri, 5 Mar 2004 12:38:55 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 5 Mar 2004 12:38:55 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
In-Reply-To: <200403051834.50725.lucene@nitwit.de>
Message-ID: <Pine.LNX.4.33.0403051238070.7147-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 5 Mar 2004 lucene@nitwit.de wrote:

> On Friday 05 March 2004 18:01, Erik Hatcher wrote:
> > "000000000001" for example.  Be sure all numbers have the same width
> > and zero padded.
>
> And what about a range like 100 TO 1000?

You mean 0100 To 1000 or 000000000000100 to 000000000001000 ;)

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 19:11:04 2004
Return-Path: <lucene-user-return-7398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52337 invoked from network); 5 Mar 2004 19:11:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 19:11:04 -0000
Received: (qmail 30016 invoked by uid 500); 5 Mar 2004 19:10:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29988 invoked by uid 500); 5 Mar 2004 19:10:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29974 invoked from network); 5 Mar 2004 19:10:48 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Mar 2004 19:10:48 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id BCA495D27
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 11:10:52 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id i25JAqOi044056
	for lucene-user@jakarta.apache.org; Fri, 5 Mar 2004 11:10:52 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Mar 2004 11:10:52 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query validation in web app
Message-ID: <20040305191052.GX87033@rlx11.zapatec.com>
References: <20043516217.664097@kelvin>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20043516217.664097@kelvin>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Mar 05, 2004 at 04:21:07PM +0800, Kelvin Tan wrote:
> Lucene reacts pretty badly to non-wellformed queries, not throwing a
> checked/unchecked Exception but throwing an Error. The error message is also
> unintelligible to a user (non-developer).
> 
> How are people checking/validating queries from a web-app?

Look at the javascript validator in the Lucene sandbox. A quite elegant
solution, unless you're opposed to using javascript.

> 
> I have some checked-in code in sandbox that does javascript validation, but I
> wonder if there's a smarter way to do query validation..
> 
> k
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 20:12:46 2004
Return-Path: <lucene-user-return-7399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84189 invoked from network); 5 Mar 2004 20:12:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 20:12:46 -0000
Received: (qmail 57263 invoked by uid 500); 5 Mar 2004 20:12:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57228 invoked by uid 500); 5 Mar 2004 20:12:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57215 invoked from network); 5 Mar 2004 20:12:30 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 5 Mar 2004 20:12:30 -0000
Message-ID: <20040305201235.37662.qmail@web12706.mail.yahoo.com>
Received: from [83.131.115.110] by web12706.mail.yahoo.com via HTTP; Fri, 05 Mar 2004 12:12:35 PST
Date: Fri, 5 Mar 2004 12:12:35 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query validation in web app
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040305191052.GX87033@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Funny - Kelvin Tan is the author of that code :)

Otis

--- Dror Matalon <dror@zapatec.com> wrote:
> On Fri, Mar 05, 2004 at 04:21:07PM +0800, Kelvin Tan wrote:
> > Lucene reacts pretty badly to non-wellformed queries, not throwing
> a
> > checked/unchecked Exception but throwing an Error. The error
> message is also
> > unintelligible to a user (non-developer).
> > 
> > How are people checking/validating queries from a web-app?
> 
> Look at the javascript validator in the Lucene sandbox. A quite
> elegant
> solution, unless you're opposed to using javascript.
> 
> > 
> > I have some checked-in code in sandbox that does javascript
> validation, but I
> > wonder if there's a smarter way to do query validation..
> > 
> > k
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 21:16:56 2004
Return-Path: <lucene-user-return-7400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22069 invoked from network); 5 Mar 2004 21:16:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 21:16:56 -0000
Received: (qmail 62159 invoked by uid 500); 5 Mar 2004 21:16:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62129 invoked by uid 500); 5 Mar 2004 21:16:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62116 invoked from network); 5 Mar 2004 21:16:38 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 5 Mar 2004 21:16:38 -0000
Received: (cpmta 15491 invoked from network); 5 Mar 2004 13:16:43 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 5 Mar 2004 13:16:43 -0800
X-Sent: 5 Mar 2004 21:16:43 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <200403051834.50725.lucene@nitwit.de>
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <200403051746.57985.lucene@nitwit.de> <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com> <200403051834.50725.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 16:16:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another quite cool option is to subclass QueryParser, and override 
getRangeQuery.  Do the padding there.  This will allow users to type in 
normal looking numbers, and the padding happens automatically.  You'll 
need to be sure that numbers padded during indexing matches what 
getRangeQuery does (oh, say through a common function :).

In fact, this is a great example for LIA.  I'll add it!  And I'll post 
the code back here in a day or so after I write it.

	Erik


On Mar 5, 2004, at 12:34 PM, lucene@nitwit.de wrote:

> On Friday 05 March 2004 18:01, Erik Hatcher wrote:
>> "000000000001" for example.  Be sure all numbers have the same width
>> and zero padded.
>
> And what about a range like 100 TO 1000?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 05 21:22:20 2004
Return-Path: <lucene-user-return-7401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24074 invoked from network); 5 Mar 2004 21:22:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Mar 2004 21:22:19 -0000
Received: (qmail 71222 invoked by uid 500); 5 Mar 2004 21:21:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71184 invoked by uid 500); 5 Mar 2004 21:21:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71142 invoked from network); 5 Mar 2004 21:21:49 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Mar 2004 21:21:49 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 7535E5D27
	for <lucene-user@jakarta.apache.org>; Fri,  5 Mar 2004 13:21:55 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id i25LLtsj044721
	for lucene-user@jakarta.apache.org; Fri, 5 Mar 2004 13:21:55 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Mar 2004 13:21:55 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query validation in web app
Message-ID: <20040305212155.GA87033@rlx11.zapatec.com>
References: <20040305191052.GX87033@rlx11.zapatec.com> <20040305201235.37662.qmail@web12706.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20040305201235.37662.qmail@web12706.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was responding to 

> > How are people checking/validating queries from a web-app?

So should I be embarrassed or should Kelvin be flattered :-)?


On Fri, Mar 05, 2004 at 12:12:35PM -0800, Otis Gospodnetic wrote:
> Funny - Kelvin Tan is the author of that code :)
> 
> Otis
> 
> --- Dror Matalon <dror@zapatec.com> wrote:
> > On Fri, Mar 05, 2004 at 04:21:07PM +0800, Kelvin Tan wrote:
> > > Lucene reacts pretty badly to non-wellformed queries, not throwing
> > a
> > > checked/unchecked Exception but throwing an Error. The error
> > message is also
> > > unintelligible to a user (non-developer).
> > > 
> > > How are people checking/validating queries from a web-app?
> > 
> > Look at the javascript validator in the Lucene sandbox. A quite
> > elegant
> > solution, unless you're opposed to using javascript.
> > 
> > > 
> > > I have some checked-in code in sandbox that does javascript
> > validation, but I
> > > wonder if there's a smarter way to do query validation..
> > > 
> > > k
> > > 
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > -- 
> > Dror Matalon
> > Zapatec Inc 
> > 1700 MLK Way
> > Berkeley, CA 94709
> > http://www.fastbuzz.com
> > http://www.zapatec.com
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 06 00:18:24 2004
Return-Path: <lucene-user-return-7402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84991 invoked from network); 6 Mar 2004 00:18:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Mar 2004 00:18:23 -0000
Received: (qmail 99437 invoked by uid 500); 6 Mar 2004 00:18:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99159 invoked by uid 500); 6 Mar 2004 00:18:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99143 invoked from network); 6 Mar 2004 00:18:03 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 6 Mar 2004 00:18:03 -0000
Received: (cpmta 12895 invoked from network); 5 Mar 2004 16:18:10 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 5 Mar 2004 16:18:10 -0800
X-Sent: 6 Mar 2004 00:18:10 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com>
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <200403051746.57985.lucene@nitwit.de> <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com> <200403051834.50725.lucene@nitwit.de> <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing numbers
Date: Fri, 5 Mar 2004 19:18:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 5, 2004, at 4:16 PM, Erik Hatcher wrote:
> Another quite cool option is to subclass QueryParser, and override 
> getRangeQuery.  Do the padding there.  This will allow users to type 
> in normal looking numbers, and the padding happens automatically.  
> You'll need to be sure that numbers padded during indexing matches 
> what getRangeQuery does (oh, say through a common function :).

Ok, here is a solution to storing integers and being able to use 
QueryParser cleanly.  First a utility to pad the numbers:

public class NumberUtils {
   private static final DecimalFormat formatter =
       new DecimalFormat("00000"); // make this as wide as you need

   public static String pad(int n) {
     return formatter.format(n);
   }
}

Index the relevant fields using the pad function:

       doc.add(Field.Keyword("id", NumberUtils.pad(i)));

Create a custom QueryParser subclass:

public class CustomQueryParser extends QueryParser {
   public CustomQueryParser(String field, Analyzer analyzer) {
     super(field, analyzer);
   }

   protected Query getRangeQuery(String field, Analyzer analyzer,
                                 String part1, String part2,
                                 boolean inclusive)
       throws ParseException {
     if ("id".equals(field)) {
       try {
         int num1 = Integer.parseInt(part1);
         int num2 = Integer.parseInt(part2);
         return new RangeQuery(new Term(field, NumberUtils.pad(num1)),
                               new Term(field, NumberUtils.pad(num2)),
                               inclusive);
       } catch (NumberFormatException e) {
         throw new ParseException(e.getMessage());
       }
     }

     return super.getRangeQuery(field, analyzer, part1, part2,
         inclusive);
   }
}

Only the "id" field is treated special, but your logic may vary.

Then use the custom QueryParser:

     CustomQueryParser parser =
         new CustomQueryParser("field", analyzer);

     Query query = parser.parse("id:[37 TO 346]");

     assertEquals("padded", "id:[00037 TO 00346]",
                            query.toString("field"));

Thanks for the idea for a good example for the upcoming Lucene in 
Action book... it's been added!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 06 06:18:08 2004
Return-Path: <lucene-user-return-7403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96884 invoked from network); 6 Mar 2004 06:18:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Mar 2004 06:18:08 -0000
Received: (qmail 76181 invoked by uid 500); 6 Mar 2004 06:17:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76162 invoked by uid 500); 6 Mar 2004 06:17:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76144 invoked from network); 6 Mar 2004 06:17:40 -0000
Received: from unknown (HELO cnhkmh01.bea.com) (202.130.140.27)
  by daedalus.apache.org with SMTP; 6 Mar 2004 06:17:40 -0000
Received: from CNHKEX01.apac.bea.com (cnhkex01.bea.com [10.128.0.15])
	by cnhkmh01.bea.com (Switch-3.0.5/Switch-3.0.0) with SMTP id i266Hr1e009203
	for <lucene-user@jakarta.apache.org>; Sat, 6 Mar 2004 14:17:55 +0800
Received: from bea.com ([10.61.4.88]) by CNHKEX01.apac.bea.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Sat, 6 Mar 2004 14:17:46 +0800
Message-ID: <40496CF6.2030804@bea.com>
Date: Sat, 06 Mar 2004 11:47:26 +0530
From: prasen <prasen@bea.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: using lucene to search in a 1 huge file. (aka "grep -n")
References: <20040305144019.79276.qmail@web12706.mail.yahoo.com>
In-Reply-To: <20040305144019.79276.qmail@web12706.mail.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------000109020101020905090200"
X-OriginalArrivalTime: 06 Mar 2004 06:17:47.0932 (UTC) FILETIME=[BEEFADC0:01C40342]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------000109020101020905090200
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Any tutorial/samples on how to use indices, and use them in your search  ?

thanks-n-appreciate a lot,
prasen

Otis Gospodnetic wrote:

>In order for this to make sense, you would have to split your huge file
>into either lines or blocks, whichever you want to be your indexing and
>search/hit unit, and convert those to Lucene Documents, which you would
>then index.
>Searching would then return the line/block where matches are found.
>
>Otis
>
>
>--- prasen <prasen@bea.com> wrote:
>  
>
>>Hi guys,
>>   I am relatively new to Lucene. Can lucene be used to speed-up
>>search 
>>for a string in one huge file( ~  TerraBytes ) based on its libe 
>>numbers.  Something like "grep -n <pattern> <filename>" where the 
>>indexing will be done only on one file and based on either 
>>line-numbers/blocks.
>>
>>prasen
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>

--------------000109020101020905090200--


From lucene-user-return-7404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 06 06:52:32 2004
Return-Path: <lucene-user-return-7404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5423 invoked from network); 6 Mar 2004 06:52:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Mar 2004 06:52:31 -0000
Received: (qmail 4135 invoked by uid 500); 6 Mar 2004 06:52:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4110 invoked by uid 500); 6 Mar 2004 06:52:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4097 invoked from network); 6 Mar 2004 06:52:04 -0000
Received: from unknown (HELO veneer.qala.com.sg) (210.193.2.57)
  by daedalus.apache.org with SMTP; 6 Mar 2004 06:52:04 -0000
Received: from kelvin (adsl-210-193-14-103.qala.com.sg [210.193.14.103])
	by veneer.qala.com.sg (8.12.10/8.12.10) with SMTP id i266uEJc018407
	for <lucene-user@jakarta.apache.org>; Sat, 6 Mar 2004 14:56:15 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 5
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Sat, 6 Mar 2004 14:52:44 +0800
Message-ID: <200436145244.625625@kelvin>
In-Reply-To: <20040305212155.GA87033@rlx11.zapatec.com>
Subject: Re: Query validation in web app
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Neither! :-) I was just wondering if there were better ways to do it, that's=
 
all. I'm a regex newbie and I found it rather difficult to validate the=
 entire 
Lucene query syntax (including escaping!) using regex. 

Anyway, I'm writing unit tests for the query validator right now courtesy of=
 
jsunit...

Kelvin

On Fri, 5 Mar 2004 13:21:55 -0800, Dror Matalon said:
> I was responding to
> 
>>> How are people checking/validating queries from a web-app?
> 
> So should I be embarrassed or should Kelvin be flattered :-)?
> 
> 
> On Fri, Mar 05, 2004 at 12:12:35PM -0800, Otis Gospodnetic wrote:
>> Funny - Kelvin Tan is the author of that code :)
>> 
>> Otis
>> 
>> --- Dror Matalon <dror@zapatec.com> wrote:
>>> On Fri, Mar 05, 2004 at 04:21:07PM +0800, Kelvin Tan wrote:
>>>> Lucene reacts pretty badly to non-wellformed queries, not throwing
>>> a
>>>> checked/unchecked Exception but throwing an Error. The error
>>> message is also
>>>> unintelligible to a user (non-developer).
>>>> 
>>>> How are people checking/validating queries from a web-app?
>>> 
>>> Look at the javascript validator in the Lucene sandbox. A quite
>>> elegant
>>> solution, unless you're opposed to using javascript.
>>> 
>>>> 
>>>> I have some checked-in code in sandbox that does javascript
>>> validation, but I
>>>> wonder if there's a smarter way to do query validation..
>>>> 
>>>> k
>>>> 
>>>> 
>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>>> 
>>> 
>>> --
>>> Dror Matalon
>>> Zapatec Inc
>>> 1700 MLK Way
>>> Berkeley, CA 94709
>>> http://www.fastbuzz.com
>>> http://www.zapatec.com
>>> 
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 06 08:31:01 2004
Return-Path: <lucene-user-return-7405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38318 invoked from network); 6 Mar 2004 08:31:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Mar 2004 08:31:00 -0000
Received: (qmail 68504 invoked by uid 500); 6 Mar 2004 08:30:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68202 invoked by uid 500); 6 Mar 2004 08:30:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68188 invoked from network); 6 Mar 2004 08:30:31 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 6 Mar 2004 08:30:31 -0000
Received: from [212.227.126.223] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AzXCl-0006qy-00
	for lucene-user@jakarta.apache.org; Sat, 06 Mar 2004 09:30:43 +0100
Received: from [80.128.68.116] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AzXCl-0000J0-00
	for lucene-user@jakarta.apache.org; Sat, 06 Mar 2004 09:30:43 +0100
Received: by eco (Postfix, from userid 1000)
	id DAB1512270; Sat,  6 Mar 2004 09:32:31 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16457.35999.841490.255727@onlinehome.de>
Date: Sat, 6 Mar 2004 09:32:31 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Problem with search results
In-Reply-To: <404616FA.3040907@apache.org>
References: <4045077F.1050004@infoworks.at>
	<20040302230729.51638.qmail@web12706.mail.yahoo.com>
	<16453.36944.9653.473554@tanto-xipolis.de>
	<404616FA.3040907@apache.org>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting writes:
> Morus Walter wrote:
> > Now I think this can be fixed in the query parser alone by simply allowing
> > '-' within words.
> > That is change
> > <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
> > to
> > <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> > 
> > As a result, query parser will read '-' within words (such as tft-monitor
> > or Sysh1-1) as one word, which will be tokenized by the used analyzer
> > and end up in a term query or phrase query depending if it create one ore
> > more tokens.
> 
> Other characters which are also candidates for this sort of treatment 
> include "/", "@", ".", "'", and "+".
> 
_TERM_START_CHAR is
| <#_TERM_START_CHAR: ( ~[ " ", "\t", "\n", "\r", "+", "-", "!", "(", ")", 
     ":", "^", "[", "]", "\"", "{", "}", "~", "*", "?" ]

so / @ . ' are already allowed in terms.
(:, ^, ~, * and ? cannot be added, parenthesis don't make sense.)
So I end up with
<#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" | "+" ) >

The regression tests show no error, so I entered that in bugzilla.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 06 10:47:09 2004
Return-Path: <lucene-user-return-7406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68682 invoked from network); 6 Mar 2004 10:47:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Mar 2004 10:47:09 -0000
Received: (qmail 61186 invoked by uid 500); 6 Mar 2004 10:46:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61163 invoked by uid 500); 6 Mar 2004 10:46:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61149 invoked from network); 6 Mar 2004 10:46:37 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 6 Mar 2004 10:46:37 -0000
Received: (cpmta 23591 invoked from network); 6 Mar 2004 02:46:50 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 6 Mar 2004 02:46:50 -0800
X-Sent: 6 Mar 2004 10:46:50 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <40496CF6.2030804@bea.com>
References: <20040305144019.79276.qmail@web12706.mail.yahoo.com> <40496CF6.2030804@bea.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <90F20AF7-6F5B-11D8-8E28-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: using lucene to search in a 1 huge file. (aka "grep -n")
Date: Sat, 6 Mar 2004 05:46:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 6, 2004, at 1:17 AM, prasen wrote:
> Any tutorial/samples on how to use indices, and use them in your 
> search  ?

Sure, tons.  See the articles/resources section of the Lucene website.

Otis has written several.  I've written a few articles at java.net on 
Lucene.  And there are a handful of others as well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 02:34:39 2004
Return-Path: <lucene-user-return-7407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71249 invoked from network); 7 Mar 2004 02:34:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 02:34:39 -0000
Received: (qmail 65729 invoked by uid 500); 7 Mar 2004 02:34:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65531 invoked by uid 500); 7 Mar 2004 02:34:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65517 invoked from network); 7 Mar 2004 02:34:16 -0000
Received: from unknown (HELO fusedmedia.net) (202.136.4.222)
  by daedalus.apache.org with SMTP; 7 Mar 2004 02:34:16 -0000
Received: from e0p1d6 (cm63.sigma51.maxonline.com.sg [218.212.51.63])
	(authenticated bits=0)
	by fusedmedia.net (8.12.5/8.12.5) with ESMTP id i273cl9c026633
	for <lucene-user@jakarta.apache.org>; Sun, 7 Mar 2004 11:38:47 +0800
Message-ID: <002501c403ec$7295c680$3f33d4da@e0p1d6>
From: "Iskandar Salim" <iskandar@fused.com.sg>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene Search Taglib
Date: Sun, 7 Mar 2004 10:32:34 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0022_01C4042F.809A0CD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0022_01C4042F.809A0CD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I've written a taglib for querying lucene indices and have uploaded the
taglib at http://blog.javaxp.net/files/lucene-taglib.zip for anyone =
wanting
to check it out. It's a hefty 903kb as it includes the Lucene
libraries and a sample index :P . There's a demo at
http://www.javaxp.net/lucene-taglib/

Anyway, I could not get the current lucene taglib from the cvs to work =
as
expected and gave up trying to modify it and getting it to work, so I =
wrote
a new one, my very first taglib :P, with ideas and code borrowed/copied =
from
the JSTL taglib.

I've tested the taglib on Tomcat 4.1.18 and Tomcat 5.1.19 on JRE 1.4.2

I'll be making a few enhancements/cleanup/docs these few days and would
greatly appreciate any feedback/ideas on features that the taglib should
have
and whether the taglib is done right at all.

Thanks & Regards,
Iskandar Salim


------=_NextPart_000_0022_01C4042F.809A0CD0--


From lucene-user-return-7408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 03:19:06 2004
Return-Path: <lucene-user-return-7408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83043 invoked from network); 7 Mar 2004 03:19:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 03:19:06 -0000
Received: (qmail 96982 invoked by uid 500); 7 Mar 2004 03:18:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96901 invoked by uid 500); 7 Mar 2004 03:18:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96830 invoked from network); 7 Mar 2004 03:18:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 7 Mar 2004 03:18:42 -0000
Received: (cpmta 21136 invoked from network); 6 Mar 2004 19:18:50 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.102?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 6 Mar 2004 19:18:50 -0800
X-Sent: 7 Mar 2004 03:18:50 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <002501c403ec$7295c680$3f33d4da@e0p1d6>
References: <002501c403ec$7295c680$3f33d4da@e0p1d6>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <214C3554-6FE6-11D8-BB32-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Search Taglib
Date: Sat, 6 Mar 2004 22:18:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I, too, gave up on the sandbox taglib.  I apologize for even committing 
it without giving it more of a workout.  I gave a good effort to fix it 
up a couple of months ago, but there was more work to do than I was 
willing to put in.

I have not heard from the original contributor, and I specifically 
asked on the list for assistance with getting it cleaned up.  I would 
gladly throw away what is in the sandbox for your code.

If your code is designated as ASL 2.0 on all the files per the Apache 
licensing guidelines and you wish to donate it to the sandbox, just say 
the word.

	Erik


On Mar 6, 2004, at 9:32 PM, Iskandar Salim wrote:

> Hi,
>
> I've written a taglib for querying lucene indices and have uploaded the
> taglib at http://blog.javaxp.net/files/lucene-taglib.zip for anyone 
> wanting
> to check it out. It's a hefty 903kb as it includes the Lucene
> libraries and a sample index :P . There's a demo at
> http://www.javaxp.net/lucene-taglib/
>
> Anyway, I could not get the current lucene taglib from the cvs to work 
> as
> expected and gave up trying to modify it and getting it to work, so I 
> wrote
> a new one, my very first taglib :P, with ideas and code 
> borrowed/copied from
> the JSTL taglib.
>
> I've tested the taglib on Tomcat 4.1.18 and Tomcat 5.1.19 on JRE 1.4.2
>
> I'll be making a few enhancements/cleanup/docs these few days and would
> greatly appreciate any feedback/ideas on features that the taglib 
> should
> have
> and whether the taglib is done right at all.
>
> Thanks & Regards,
> Iskandar Salim
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 04:08:01 2004
Return-Path: <lucene-user-return-7409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97548 invoked from network); 7 Mar 2004 04:08:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 04:08:01 -0000
Received: (qmail 33677 invoked by uid 500); 7 Mar 2004 04:07:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33650 invoked by uid 500); 7 Mar 2004 04:07:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33634 invoked from network); 7 Mar 2004 04:07:36 -0000
Received: from unknown (HELO fusedmedia.net) (202.136.4.222)
  by daedalus.apache.org with SMTP; 7 Mar 2004 04:07:36 -0000
Received: from e0p1d6 (cm49.sigma55.maxonline.com.sg [218.212.55.49])
	(authenticated bits=0)
	by fusedmedia.net (8.12.5/8.12.5) with ESMTP id i275C99c028047
	for <lucene-user@jakarta.apache.org>; Sun, 7 Mar 2004 13:12:10 +0800
Message-ID: <000b01c403f9$7d0a3ee0$3137d4da@e0p1d6>
From: "Iskandar Salim" <iskandar@fused.com.sg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002501c403ec$7295c680$3f33d4da@e0p1d6> <214C3554-6FE6-11D8-BB32-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene Search Taglib
Date: Sun, 7 Mar 2004 12:05:54 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

Sure, I'd like to donate it to the sandbox, if it's alright.
I'll update the files to reflect the ASL 2.0 license.

Regards
Iskandar

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Sunday, March 07, 2004 11:18 AM
Subject: Re: Lucene Search Taglib


> I, too, gave up on the sandbox taglib.  I apologize for even committing 
> it without giving it more of a workout.  I gave a good effort to fix it 
> up a couple of months ago, but there was more work to do than I was 
> willing to put in.
> 
> I have not heard from the original contributor, and I specifically 
> asked on the list for assistance with getting it cleaned up.  I would 
> gladly throw away what is in the sandbox for your code.
> 
> If your code is designated as ASL 2.0 on all the files per the Apache 
> licensing guidelines and you wish to donate it to the sandbox, just say 
> the word.
> 
> Erik
> 
> 
> On Mar 6, 2004, at 9:32 PM, Iskandar Salim wrote:
> 
> > Hi,
> >
> > I've written a taglib for querying lucene indices and have uploaded the
> > taglib at http://blog.javaxp.net/files/lucene-taglib.zip for anyone 
> > wanting
> > to check it out. It's a hefty 903kb as it includes the Lucene
> > libraries and a sample index :P . There's a demo at
> > http://www.javaxp.net/lucene-taglib/
> >
> > Anyway, I could not get the current lucene taglib from the cvs to work 
> > as
> > expected and gave up trying to modify it and getting it to work, so I 
> > wrote
> > a new one, my very first taglib :P, with ideas and code 
> > borrowed/copied from
> > the JSTL taglib.
> >
> > I've tested the taglib on Tomcat 4.1.18 and Tomcat 5.1.19 on JRE 1.4.2
> >
> > I'll be making a few enhancements/cleanup/docs these few days and would
> > greatly appreciate any feedback/ideas on features that the taglib 
> > should
> > have
> > and whether the taglib is done right at all.
> >
> > Thanks & Regards,
> > Iskandar Salim
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 10:05:06 2004
Return-Path: <lucene-user-return-7410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8465 invoked from network); 7 Mar 2004 10:05:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 10:05:05 -0000
Received: (qmail 57594 invoked by uid 500); 7 Mar 2004 10:04:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57574 invoked by uid 500); 7 Mar 2004 10:04:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57559 invoked from network); 7 Mar 2004 10:04:34 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 7 Mar 2004 10:04:34 -0000
Message-ID: <20040307100448.5610.qmail@web12702.mail.yahoo.com>
Received: from [195.29.54.233] by web12702.mail.yahoo.com via HTTP; Sun, 07 Mar 2004 02:04:48 PST
Date: Sun, 7 Mar 2004 02:04:48 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene Search Taglib
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <000b01c403f9$7d0a3ee0$3137d4da@e0p1d6>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please just open a new 'bug' in Bugzilla and attach the archive file to
is (this will have to be a 2 step process: first create bug, then go
back to it and attach the code).

Prefixing the Subject line with [PATCH] will also make it stand out,
and will put it in our 'patch queue'.

Thanks,
Otis

--- Iskandar Salim <iskandar@fused.com.sg> wrote:
> Hi Erik,
> 
> Sure, I'd like to donate it to the sandbox, if it's alright.
> I'll update the files to reflect the ASL 2.0 license.
> 
> Regards
> Iskandar
> 
> ----- Original Message ----- 
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Sunday, March 07, 2004 11:18 AM
> Subject: Re: Lucene Search Taglib
> 
> 
> > I, too, gave up on the sandbox taglib.  I apologize for even
> committing 
> > it without giving it more of a workout.  I gave a good effort to
> fix it 
> > up a couple of months ago, but there was more work to do than I was
> 
> > willing to put in.
> > 
> > I have not heard from the original contributor, and I specifically 
> > asked on the list for assistance with getting it cleaned up.  I
> would 
> > gladly throw away what is in the sandbox for your code.
> > 
> > If your code is designated as ASL 2.0 on all the files per the
> Apache 
> > licensing guidelines and you wish to donate it to the sandbox, just
> say 
> > the word.
> > 
> > Erik
> > 
> > 
> > On Mar 6, 2004, at 9:32 PM, Iskandar Salim wrote:
> > 
> > > Hi,
> > >
> > > I've written a taglib for querying lucene indices and have
> uploaded the
> > > taglib at http://blog.javaxp.net/files/lucene-taglib.zip for
> anyone 
> > > wanting
> > > to check it out. It's a hefty 903kb as it includes the Lucene
> > > libraries and a sample index :P . There's a demo at
> > > http://www.javaxp.net/lucene-taglib/
> > >
> > > Anyway, I could not get the current lucene taglib from the cvs to
> work 
> > > as
> > > expected and gave up trying to modify it and getting it to work,
> so I 
> > > wrote
> > > a new one, my very first taglib :P, with ideas and code 
> > > borrowed/copied from
> > > the JSTL taglib.
> > >
> > > I've tested the taglib on Tomcat 4.1.18 and Tomcat 5.1.19 on JRE
> 1.4.2
> > >
> > > I'll be making a few enhancements/cleanup/docs these few days and
> would
> > > greatly appreciate any feedback/ideas on features that the taglib
> 
> > > should
> > > have
> > > and whether the taglib is done right at all.
> > >
> > > Thanks & Regards,
> > > Iskandar Salim
> > >
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 11:28:03 2004
Return-Path: <lucene-user-return-7411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24284 invoked from network); 7 Mar 2004 11:28:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 11:28:03 -0000
Received: (qmail 95581 invoked by uid 500); 7 Mar 2004 11:27:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95551 invoked by uid 500); 7 Mar 2004 11:27:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95536 invoked from network); 7 Mar 2004 11:27:30 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 7 Mar 2004 11:27:30 -0000
Received: (qmail 2138 invoked from network); 7 Mar 2004 11:27:43 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.229.85])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 7 Mar 2004 11:27:43 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 817DE254F
	for <lucene-user@jakarta.apache.org>; Sun,  7 Mar 2004 12:27:44 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
Date: Sun, 7 Mar 2004 12:27:43 +0100
User-Agent: KMail/1.6
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com> <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com>
In-Reply-To: <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200403071227.44182.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 5 Mar 2004 19:18:04 -0500, Erik Hatcher <erik@ehatchersolutions.com> 
wrote:

> Thanks for the idea for a good example for the upcoming Lucene in Action  
> book... it's been added!

Thanks for mentioning me in the book ;)

What about boolean fields? It's certainly not a good idea to use "true" or 
"false" strings...

BTW, isn't it slow to treat everything as strings?

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 07 14:21:05 2004
Return-Path: <lucene-user-return-7412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69954 invoked from network); 7 Mar 2004 14:21:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Mar 2004 14:21:05 -0000
Received: (qmail 82021 invoked by uid 500); 7 Mar 2004 14:20:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81990 invoked by uid 500); 7 Mar 2004 14:20:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81976 invoked from network); 7 Mar 2004 14:20:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 7 Mar 2004 14:20:55 -0000
Received: (cpmta 2171 invoked from network); 7 Mar 2004 06:20:56 -0800
Received: from 128.143.103.26 (HELO ?128.143.103.26?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 7 Mar 2004 06:20:56 -0800
X-Sent: 7 Mar 2004 14:20:56 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <200403071227.44182.lucene@nitwit.de>
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com> <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com> <200403071227.44182.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A466D836-7042-11D8-9D5B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing numbers
Date: Sun, 7 Mar 2004 09:20:53 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 7, 2004, at 6:27 AM, lucene@nitwit.de wrote:
> On Fri, 5 Mar 2004 19:18:04 -0500, Erik Hatcher 
> <erik@ehatchersolutions.com>
> wrote:
>
>> Thanks for the idea for a good example for the upcoming Lucene in 
>> Action
>> book... it's been added!
>
> Thanks for mentioning me in the book ;)

Well, I actually already had a comment in the book about why you'd 
override getRangeQuery, and it said this:

   * handle number ranges by padding to match how numbers were indexed

You did give me the incentive to flesh this out into an example.

I also created a variant of this to parse range queries like this 
field:[1/1/04 TO 12/31/04] into YYYYMMDD syntax so it becomes 
field:[20040101 TO 20041231].  This is very handy when dealing with 
dates in a typically more sensible YYYYMMDD format and allowing users 
to deal with them naturally also.

> What about boolean fields? It's certainly not a good idea to use 
> "true" or
> "false" strings...

What about them?  It all depends on how you want users to be able to 
query based on that flag.  Do you want them to say field:true?  
field:on?  field:yes?  How you translate things in QueryParser is up to 
you - and this may of course have some impact on how you index.  You 
could use "0" and "1" instead, and do the translation in a QueryParser 
subclass if you like.

> BTW, isn't it slow to treat everything as strings?

Ummm, yeah.... Lucene is real slow!  :)

You tell us.... is it slow with your data and environment?  If so, give 
us some more details on the scenario.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 08:49:10 2004
Return-Path: <lucene-user-return-7413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72338 invoked from network); 8 Mar 2004 08:49:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 08:49:10 -0000
Received: (qmail 61921 invoked by uid 500); 8 Mar 2004 08:48:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61785 invoked by uid 500); 8 Mar 2004 08:48:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61769 invoked from network); 8 Mar 2004 08:48:38 -0000
Received: from unknown (HELO fusedmedia.net) (202.136.4.222)
  by daedalus.apache.org with SMTP; 8 Mar 2004 08:48:38 -0000
Received: from e0p1d6 (cm103.sigma48.maxonline.com.sg [218.212.48.103])
	(authenticated bits=0)
	by fusedmedia.net (8.12.5/8.12.5) with ESMTP id i289ri9c000634
	for <lucene-user@jakarta.apache.org>; Mon, 8 Mar 2004 17:53:44 +0800
Message-ID: <001f01c404e9$e9eef820$0500a8c0@e0p1d6>
From: "Iskandar Salim" <iskandar@fused.com.sg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Lucene Taglib
Date: Mon, 8 Mar 2004 16:46:56 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001C_01C4052C.F7E75790"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001C_01C4052C.F7E75790
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I've worked on a bit on the taglib and added an "index" and "field" tag =
for
basic indexing capability, though I don't think it's really useful, =
apart
from, in my case quick prototyping of web applications. What do you guys
think? I'm new to Lucene and taglibs so I may have missed out lots of
things.

For the curious, you see the 'in progress' examples and docs at
http://www.javaxp.net/lucene-examples/ and =
http://www.javaxp.net/lucene-doc/
resp.
or download the distribution
http://www.javaxp.net/lucene-taglib/lucene-taglib.zip or
http://www.javaxp.net/lucene-taglib/lucene-taglib.tar.gz

Erik, is there any requirements for the java package names? e.g. ... to =
be
named as org.apache.lucene.taglib etc.
BTW, I've included the ASL 2.0 license in the source files.

Regards,
Iskandar

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Sunday, March 07, 2004 11:18 AM
Subject: Re: Lucene Search Taglib


> I, too, gave up on the sandbox taglib.  I apologize for even =
committing
> it without giving it more of a workout.  I gave a good effort to fix =
it
> up a couple of months ago, but there was more work to do than I was
> willing to put in.
>
> I have not heard from the original contributor, and I specifically
> asked on the list for assistance with getting it cleaned up.  I would
> gladly throw away what is in the sandbox for your code.
>
> If your code is designated as ASL 2.0 on all the files per the Apache
> licensing guidelines and you wish to donate it to the sandbox, just =
say
> the word.
>
> Erik
>
>
> On Mar 6, 2004, at 9:32 PM, Iskandar Salim wrote:
>
> > Hi,
> >
> > I've written a taglib for querying lucene indices and have uploaded =
the
> > taglib at http://blog.javaxp.net/files/lucene-taglib.zip for anyone
> > wanting
> > to check it out. It's a hefty 903kb as it includes the Lucene
> > libraries and a sample index :P . There's a demo at
> > http://www.javaxp.net/lucene-taglib/
> >
> > Anyway, I could not get the current lucene taglib from the cvs to =
work
> > as
> > expected and gave up trying to modify it and getting it to work, so =
I
> > wrote
> > a new one, my very first taglib :P, with ideas and code
> > borrowed/copied from
> > the JSTL taglib.
> >
> > I've tested the taglib on Tomcat 4.1.18 and Tomcat 5.1.19 on JRE =
1.4.2
> >
> > I'll be making a few enhancements/cleanup/docs these few days and =
would
> > greatly appreciate any feedback/ideas on features that the taglib
> > should
> > have
> > and whether the taglib is done right at all.
> >
> > Thanks & Regards,
> > Iskandar Salim
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------=_NextPart_000_001C_01C4052C.F7E75790--


From lucene-user-return-7414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 11:48:41 2004
Return-Path: <lucene-user-return-7414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61585 invoked from network); 8 Mar 2004 11:48:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 11:48:41 -0000
Received: (qmail 43951 invoked by uid 500); 8 Mar 2004 11:48:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43822 invoked by uid 500); 8 Mar 2004 11:48:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43807 invoked from network); 8 Mar 2004 11:48:34 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 8 Mar 2004 11:48:34 -0000
Received: (cpmta 27195 invoked from network); 8 Mar 2004 03:48:33 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 8 Mar 2004 03:48:33 -0800
X-Sent: 8 Mar 2004 11:48:33 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <001f01c404e9$e9eef820$0500a8c0@e0p1d6>
References: <001f01c404e9$e9eef820$0500a8c0@e0p1d6>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <838375F5-70F6-11D8-956C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Taglib
Date: Mon, 8 Mar 2004 06:48:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 8, 2004, at 3:46 AM, Iskandar Salim wrote:
> I've worked on a bit on the taglib and added an "index" and "field" 
> tag for
> basic indexing capability, though I don't think it's really useful, 
> apart
> from, in my case quick prototyping of web applications. What do you 
> guys
> think? I'm new to Lucene and taglibs so I may have missed out lots of
> things.

I don't think a taglib is a useful place to put indexing code.  Your 
mileage may vary, but there are so many flags to control (field type, 
analyzer, boost, etc) that it is more cleanly done directly with the 
Lucene API.

> For the curious, you see the 'in progress' examples and docs at
> http://www.javaxp.net/lucene-examples/ and 
> http://www.javaxp.net/lucene-doc/
>

Nice work fleshing out documentation!

> Erik, is there any requirements for the java package names? e.g. ... 
> to be
> named as org.apache.lucene.taglib etc.

Yes, that package name is the best one probably.

> BTW, I've included the ASL 2.0 license in the source files.

Thanks!

A few comments/suggestions:

- What if I wanted an index to live in a RAMDirectory and have it live 
in application scope?  My suggestion here is instead of using a path 
for the index, use a Directory.  This allows greater freedom for the 
developer, and it should be pretty easy to craft a JSTL expression to 
wrap a string path into an FSDirectory (I don't know JSTL, but if it 
cannot do this then I'm disappointed - I'm in the Tapestry/OGNL world 
myself, where it would be trivial).

- Or, perhaps you may want a long-lived IndexSearcher so that a 
Directory is only needed to construct the IndexSearcher?

- I haven't looked at your code, but is 'keywords' passed directly to 
QueryParser?  If so, perhaps that should be renamed 'query' instead 
since keywords is more domain-specific and has sort of a special 
meaning in Lucene as a Field.Keyword

- What about allowing specification of an Analyzer?  Look at how this 
is done in the sandbox contributions/ant area in IndexTask.  I allowed 
the user to specify high level strings like 'whitespace', 'stop', 
'standard', etc. as well as a fully-qualified classname.  I can only 
assume you have it hardcoded to use a particular analyzer, which is not 
going to be generally useful.

- It would also be nice if you allowed for an optional filter to be 
specified - in this case I think it would probably suffice to just 
allow a Filter instance to be passed in rather than the taglib itself 
constructing one.  This allows capabilities like search-within-search 
and more.

- What is the 'content' attribute for the search tag?  Is that the 
default field?  If so, again, I think it would be best to named the 
similarly to the Lucene terminology - just call it 'field', or 
'defaultField'.

- SortedMap?  What are you sorting on?  Is count necessary since you 
can just ask the map what its size is?

In general it looks fine though, although I cringe seeing the amount of 
"code" your examples have in it with all the scriptlet junk.  It seems 
quite yucky to me given that I'm now in the elegant Tapestry world 
where I could hide the *entire* tag in an HTML template with something 
like this:

    <table jwcid="results"/>

and no, I'm not kidding, and yes, there would be more behind the scenes 
but separate from the "view".  And the example includes all the paging 
controls.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 15:31:54 2004
Return-Path: <lucene-user-return-7415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1883 invoked from network); 8 Mar 2004 15:31:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 15:31:53 -0000
Received: (qmail 98307 invoked by uid 500); 8 Mar 2004 15:31:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98261 invoked by uid 500); 8 Mar 2004 15:31:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98248 invoked from network); 8 Mar 2004 15:31:43 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 8 Mar 2004 15:31:43 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 8 Mar 2004 10:31:08 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Mon, 8 Mar 2004 10:34:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQCCUsI96DCwSMsTFSbDtkqJx22SgDFjS9g
In-Reply-To: <40475F19.3010107@apache.org>
Message-ID: <GERMANY7QJYyFfqDfcw00003f98@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 08 Mar 2004 15:31:08.0937 (UTC) FILETIME=[611A7F90:01C40522]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Hi,

Here is the indexing performance testing result for the two index formats.


1000 megahertz Intel Pentium III (2 installed)
32 kilobyte primary memory cache
256 kilobyte secondary memory cache

SCSI Hard drive 145.45 GB  
RAm 3G

Windows 2000 Advanced Server, Service Pack 2

JDK 140
JVM memory 512m

Indexed files: local 66100 local text files around 400m

Index time: 
compound format is 89 seconds slower.

compound format:
1389507 total milliseconds
non-compound format:
1300534 total milliseconds

The index size is 85m with 4 fields only. The files are stored in the index.
The compound format has only 3 files and the other has 13 files. 

Search Time (with only top 10 retrieved, no indexing at the same time, only
one thread search, indices are optimized and opened)
Do not see too much constant difference for the simple situation.

compound format:
Query: iraq
4275 total within(ms) 110
Query: war
5728 total within(ms) 0
Query: iraq AND war
3182 total within(ms) 16

non-compound format:
Query: war
5728 total within(ms) 125
Query: iraq war
6821 total within(ms) 31
Query: iraq AND war
3182 total within(ms) 0



-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Thursday, March 04, 2004 11:54 AM
To: Lucene Users List
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again

hui wrote:
> Not yet. For the compound file format, when the files get bigger, if I add
> few new files frequently, the bigger files has to be updated. Will that
> affect lot on the search and produce heavier disk I/O compared with the
> traditional index format? It seems OS cache makes quite difference when
the
> files not changed differently.

The compound format slows indexing performance slightly, but should not 
affect search performance much.  It radically reduces the number of file 
handles used when searching, by a factor of eight or more, depending on 
how many indexed fields you have.

Perhaps the compound format should be the default format in 1.4.  Can 
folks provide any benchmarks for how it affects performance?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 15:58:28 2004
Return-Path: <lucene-user-return-7416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15685 invoked from network); 8 Mar 2004 15:58:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 15:58:28 -0000
Received: (qmail 54817 invoked by uid 500); 8 Mar 2004 15:58:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54795 invoked by uid 500); 8 Mar 2004 15:58:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54771 invoked from network); 8 Mar 2004 15:58:16 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 8 Mar 2004 15:58:16 -0000
Received: from getopt.org (gw.ampiro.com [80.252.165.66] (may be forged))
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i28FwJn26040
	for <lucene-user@jakarta.apache.org>; Mon, 8 Mar 2004 09:58:20 -0600
Message-ID: <404C97E2.60000@getopt.org>
Date: Mon, 08 Mar 2004 16:57:22 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
References: <GERMANY7QJYyFfqDfcw00003f98@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANY7QJYyFfqDfcw00003f98@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hui wrote:

> 
> 
> 
> Hi,
> 
> Here is the indexing performance testing result for the two index formats.

A shameless plug: you can use Luke (http://www.getopt.org/luke) to 
convert the same index between compound/non-compound formats. Which 
could be useful to rule out any possible differences in the 
indexing/inserting process between the runs. Luke provides you also with 
a simple time measurement for query execution. Just FYI.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 16:19:40 2004
Return-Path: <lucene-user-return-7417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29201 invoked from network); 8 Mar 2004 16:19:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 16:19:40 -0000
Received: (qmail 3548 invoked by uid 500); 8 Mar 2004 16:19:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3526 invoked by uid 500); 8 Mar 2004 16:19:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3513 invoked from network); 8 Mar 2004 16:19:29 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 8 Mar 2004 16:19:29 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 8 Mar 2004 11:18:55 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Mon, 8 Mar 2004 11:22:49 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQFJhtpFwlf+v5YRsq8/IQPGq9BYQAA0gmQ
In-Reply-To: <404C97E2.60000@getopt.org>
Message-ID: <GERMANYWjySuLYhE1E200003fad@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 08 Mar 2004 16:18:56.0343 (UTC) FILETIME=[0E35EE70:01C40529]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you, the converting option from Luke is really helpful for migrate
existing user index.
Regards,
Hui

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org] 
Sent: Monday, March 08, 2004 10:57 AM
To: Lucene Users List
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again

hui wrote:

> 
> 
> 
> Hi,
> 
> Here is the indexing performance testing result for the two index formats.

A shameless plug: you can use Luke (http://www.getopt.org/luke) to 
convert the same index between compound/non-compound formats. Which 
could be useful to rule out any possible differences in the 
indexing/inserting process between the runs. Luke provides you also with 
a simple time measurement for query execution. Just FYI.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 18:02:28 2004
Return-Path: <lucene-user-return-7418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1514 invoked from network); 8 Mar 2004 18:02:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 18:02:27 -0000
Received: (qmail 30945 invoked by uid 500); 8 Mar 2004 18:02:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30919 invoked by uid 500); 8 Mar 2004 18:02:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30905 invoked from network); 8 Mar 2004 18:02:14 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 8 Mar 2004 18:02:14 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <20040308180217016005ud6me>; Mon, 8 Mar 2004 18:02:17 +0000
Message-ID: <404CB50F.5020206@apache.org>
Date: Mon, 08 Mar 2004 10:01:51 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
References: <20040305144252.79622.qmail@web12706.mail.yahoo.com> <200403051746.57985.lucene@nitwit.de> <CE72D5DA-6EC6-11D8-9D2B-000393A564E6@ehatchersolutions.com> <200403051834.50725.lucene@nitwit.de> <6403491C-6EEA-11D8-9D27-000393A564E6@ehatchersolutions.com> <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com>
In-Reply-To: <BCAD7523-6F03-11D8-B6CE-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
>   private static final DecimalFormat formatter =
>       new DecimalFormat("00000"); // make this as wide as you need

For ints, ten digits is probably safest.  Since Lucene uses prefix 
compression on the term dictionary, you don't pay a penalty at search 
time for long shared prefixes.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 18:16:53 2004
Return-Path: <lucene-user-return-7419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11244 invoked from network); 8 Mar 2004 18:16:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 18:16:53 -0000
Received: (qmail 53066 invoked by uid 500); 8 Mar 2004 18:16:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53042 invoked by uid 500); 8 Mar 2004 18:16:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53029 invoked from network); 8 Mar 2004 18:16:37 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 8 Mar 2004 18:16:37 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004030818164001100fhlrue>; Mon, 8 Mar 2004 18:16:40 +0000
Message-ID: <404CB86E.8000308@apache.org>
Date: Mon, 08 Mar 2004 10:16:14 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
References: <GERMANY7QJYyFfqDfcw00003f98@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANY7QJYyFfqDfcw00003f98@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hui wrote:
> Index time: 
> compound format is 89 seconds slower.
> 
> compound format:
> 1389507 total milliseconds
> non-compound format:
> 1300534 total milliseconds
> 
> The index size is 85m with 4 fields only. The files are stored in the index.
> The compound format has only 3 files and the other has 13 files. 

Thanks for performing this benchmark!

It looks like the compound format is around 7% slower when indexing.  To 
my thinking that's acceptable, given the dramatic reduction in file 
handles.  If folks really need maximal indexing performance, then they 
can explicitly disable the compound format.

Would anyone object to making compound format the default for Lucene 
1.4?  This is an incompatible change, but I don't think it should break 
applications.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 19:14:55 2004
Return-Path: <lucene-user-return-7420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46310 invoked from network); 8 Mar 2004 19:14:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 19:14:55 -0000
Received: (qmail 80155 invoked by uid 500); 8 Mar 2004 19:14:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80110 invoked by uid 500); 8 Mar 2004 19:14:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80005 invoked from network); 8 Mar 2004 19:14:37 -0000
Received: from unknown (HELO web25008.mail.ukl.yahoo.com) (217.12.10.44)
  by daedalus.apache.org with SMTP; 8 Mar 2004 19:14:37 -0000
Message-ID: <20040308191441.39587.qmail@web25008.mail.ukl.yahoo.com>
Received: from [217.26.77.145] by web25008.mail.ukl.yahoo.com via HTTP; Mon, 08 Mar 2004 19:14:41 GMT
Date: Mon, 8 Mar 2004 19:14:41 +0000 (GMT)
From: =?iso-8859-1?q?Clandes=20Tino?= <clandestino_bgd@yahoo.co.uk>
Subject: Caching and paging search results
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all, 
could someone describe his expirience in
implementation of caching, sorting and paging search
results.
Is Stateful Session bean appropriate for this?
My wish is to obtain all search hits only in first
call, and after that, to iterate through Hit
Collection and display cached results.
I have checked SearchBean in contribution section, but
it does not provide real caching and paging.
 
Regards and thanx in advance!
Milan



	
	
		
___________________________________________________________
Yahoo! Messenger - Communicate instantly..."Ping" 
your friends today! Download Messenger Now 
http://uk.messenger.yahoo.com/download/index.html

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 19:34:20 2004
Return-Path: <lucene-user-return-7421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63834 invoked from network); 8 Mar 2004 19:34:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 19:34:19 -0000
Received: (qmail 20134 invoked by uid 500); 8 Mar 2004 19:34:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20105 invoked by uid 500); 8 Mar 2004 19:34:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20090 invoked from network); 8 Mar 2004 19:34:05 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 8 Mar 2004 19:34:05 -0000
Received: (cpmta 5164 invoked from network); 8 Mar 2004 11:34:09 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.13?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 8 Mar 2004 11:34:09 -0800
X-Sent: 8 Mar 2004 19:34:09 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <20040308191441.39587.qmail@web25008.mail.ukl.yahoo.com>
References: <20040308191441.39587.qmail@web25008.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8F978FDA-7137-11D8-9720-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Caching and paging search results
Date: Mon, 8 Mar 2004 14:34:05 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In the RealWorld... many applications actually just re-run a search and 
jump to the appropriate page within the hits.... searching is generally 
plenty fast enough to alleviate concerns of caching.

However, if you need to cache Hits, you need to be sure to keep around 
the originating IndexSearcher as well.

A stateful session bean could be used, but I'd opt for a much simpler 
solution as a first pass, such as the first point of just re-running a 
search from scratch.

	Erik

On Mar 8, 2004, at 2:14 PM, Clandes Tino wrote:

> Hi all,
> could someone describe his expirience in
> implementation of caching, sorting and paging search
> results.
> Is Stateful Session bean appropriate for this?
> My wish is to obtain all search hits only in first
> call, and after that, to iterate through Hit
> Collection and display cached results.
> I have checked SearchBean in contribution section, but
> it does not provide real caching and paging.
>
> Regards and thanx in advance!
> Milan
>
>
>
> 	
> 	
> 		
> ___________________________________________________________
> Yahoo! Messenger - Communicate instantly..."Ping"
> your friends today! Download Messenger Now
> http://uk.messenger.yahoo.com/download/index.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 19:34:52 2004
Return-Path: <lucene-user-return-7422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64244 invoked from network); 8 Mar 2004 19:34:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 19:34:52 -0000
Received: (qmail 23169 invoked by uid 500); 8 Mar 2004 19:34:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23130 invoked by uid 500); 8 Mar 2004 19:34:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23083 invoked from network); 8 Mar 2004 19:34:32 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 8 Mar 2004 19:34:32 -0000
Message-ID: <20040308193436.77055.qmail@web12706.mail.yahoo.com>
Received: from [195.29.51.89] by web12706.mail.yahoo.com via HTTP; Mon, 08 Mar 2004 11:34:36 PST
Date: Mon, 8 Mar 2004 11:34:36 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <404CB86E.8000308@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I can't explain why, but I feel like the old index format should stay
by default.  I feel like I'd rather a (slightly) faster index, and
switch to the compound one when/IF I encounter problems, than have a
safer, but slower index, and never realize that there is a faster
option available.

Weak argument, I know, but some instinct in me thinks that the current
mode should remain.

Otis


--- Doug Cutting <cutting@apache.org> wrote:
> hui wrote:
> > Index time: 
> > compound format is 89 seconds slower.
> > 
> > compound format:
> > 1389507 total milliseconds
> > non-compound format:
> > 1300534 total milliseconds
> > 
> > The index size is 85m with 4 fields only. The files are stored in
> the index.
> > The compound format has only 3 files and the other has 13 files. 
> 
> Thanks for performing this benchmark!
> 
> It looks like the compound format is around 7% slower when indexing. 
> To 
> my thinking that's acceptable, given the dramatic reduction in file 
> handles.  If folks really need maximal indexing performance, then
> they 
> can explicitly disable the compound format.
> 
> Would anyone object to making compound format the default for Lucene 
> 1.4?  This is an incompatible change, but I don't think it should
> break 
> applications.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 19:46:37 2004
Return-Path: <lucene-user-return-7423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71132 invoked from network); 8 Mar 2004 19:46:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 19:46:36 -0000
Received: (qmail 39338 invoked by uid 500); 8 Mar 2004 19:46:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39314 invoked by uid 500); 8 Mar 2004 19:46:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39301 invoked from network); 8 Mar 2004 19:46:21 -0000
Received: from unknown (HELO mclean.mail.mindspring.net) (207.69.200.57)
  by daedalus.apache.org with SMTP; 8 Mar 2004 19:46:21 -0000
Received: from h-69-3-83-137.mclnva23.dynamic.covad.net ([69.3.83.137] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B0Qhl-00074j-00
	for lucene-user@jakarta.apache.org; Mon, 08 Mar 2004 14:46:25 -0500
Message-ID: <237201c40545$c7959d90$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040308193436.77055.qmail@web12706.mail.yahoo.com>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Mon, 8 Mar 2004 14:44:32 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I tend to agree (but with the same uncertainty as to why I feel that way).

Regards,

Terry
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, March 08, 2004 2:34 PM
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again


> I can't explain why, but I feel like the old index format should stay
> by default.  I feel like I'd rather a (slightly) faster index, and
> switch to the compound one when/IF I encounter problems, than have a
> safer, but slower index, and never realize that there is a faster
> option available.
> 
> Weak argument, I know, but some instinct in me thinks that the current
> mode should remain.
> 
> Otis
> 
> 
> --- Doug Cutting <cutting@apache.org> wrote:
> > hui wrote:
> > > Index time: 
> > > compound format is 89 seconds slower.
> > > 
> > > compound format:
> > > 1389507 total milliseconds
> > > non-compound format:
> > > 1300534 total milliseconds
> > > 
> > > The index size is 85m with 4 fields only. The files are stored in
> > the index.
> > > The compound format has only 3 files and the other has 13 files. 
> > 
> > Thanks for performing this benchmark!
> > 
> > It looks like the compound format is around 7% slower when indexing. 
> > To 
> > my thinking that's acceptable, given the dramatic reduction in file 
> > handles.  If folks really need maximal indexing performance, then
> > they 
> > can explicitly disable the compound format.
> > 
> > Would anyone object to making compound format the default for Lucene 
> > 1.4?  This is an incompatible change, but I don't think it should
> > break 
> > applications.
> > 
> > Doug
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 21:37:54 2004
Return-Path: <lucene-user-return-7424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48580 invoked from network); 8 Mar 2004 21:37:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 21:37:53 -0000
Received: (qmail 37322 invoked by uid 500); 8 Mar 2004 21:37:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37266 invoked by uid 500); 8 Mar 2004 21:37:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37222 invoked from network); 8 Mar 2004 21:37:36 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 8 Mar 2004 21:37:36 -0000
Received: from h00e07dd8f05b.ne.client2.attbi.com ([24.60.185.190] helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with esmtp (Exim 4.24)
	id 1B0SRR-00078I-8a
	for lucene-user@jakarta.apache.org; Mon, 08 Mar 2004 15:37:41 -0600
Message-Id: <6.0.0.22.0.20040308163336.02520d30@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Mon, 08 Mar 2004 16:37:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Filtering out duplicate documents...
In-Reply-To: <200402292254.i1TMsWdA020794@server0027.freedom2surf.net>
References: <200402292254.i1TMsWdA020794@server0027.freedom2surf.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm looking for a way to filter out duplicate documents from an index 
(either while indexing, or after the fact).  It seems like there should be 
an approach of comparing the terms for two documents, but I'm wondering if 
any other folks (i.e. nutch) have come up with a solution to this problem.

Obviously you can compute the Levenstein distance on the text, but that is 
way too computationally intensive to scale.  So the goal is to find 
something that would be workable in a production system.  For example, a 
given NYT article, and its printer friendly version should be deemed to be 
the same.

-Mike



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 21:42:56 2004
Return-Path: <lucene-user-return-7425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52754 invoked from network); 8 Mar 2004 21:42:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 21:42:53 -0000
Received: (qmail 43409 invoked by uid 500); 8 Mar 2004 21:42:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43385 invoked by uid 500); 8 Mar 2004 21:42:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43367 invoked from network); 8 Mar 2004 21:42:36 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 8 Mar 2004 21:42:36 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org; Mon, 8 Mar 2004 16:42:41 -0500
Received: from ny2535-dr.corp.bloomberg.com (ny2535-dr.bloomberg.com [172.20.193.74])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id i28Lge807616
	for <lucene-user@jakarta.apache.org>; Mon, 8 Mar 2004 16:42:40 -0500 (EST)
Received: from pn1528.corp.bloomberg.com (unverified) by ny2535-dr.corp.bloomberg.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T6837c38784ac14c14a57c@ny2535-dr.corp.bloomberg.com> for <lucene-user@jakarta.apache.org>;
 Mon, 8 Mar 2004 16:42:39 -0500
Received: from ny2526.corp.bloomberg.com ([172.20.73.28]) by pn1528.corp.bloomberg.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 8 Mar 2004 16:42:39 -0500
content-class: urn:content-classes:message
Subject: RE: Filtering out duplicate documents...
Date: Mon, 8 Mar 2004 16:42:39 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <3B530EF12E388B408ECC3162BA8C00F441E67A@ny2526.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
X-MS-TNEF-Correlator: 
Thread-Topic: Filtering out duplicate documents...
Thread-Index: AcQFVZ26otPQO40PRCGRj9A8C7dByAAADsPw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Mar 2004 21:42:39.0695 (UTC) FILETIME=[476E3DF0:01C40556]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

that kind of fuzzy equality is an area of open research. you need to =
define what is an acceptable error rate for Type 1 and Type 2 errors =
before you can think about implementations that scale better. approaches =
range from identifying document vocabulary and statistics to raw hashing =
of the input text.

Herb...

-----Original Message-----
From: Michael Giles [mailto:mgiles@visionstudio.com]
Sent: Monday, March 08, 2004 4:38 PM
To: Lucene Users List
Subject: Filtering out duplicate documents...


Obviously you can compute the Levenstein distance on the text, but that =
is=20
way too computationally intensive to scale.  So the goal is to find=20
something that would be workable in a production system.  For example, a =

given NYT article, and its printer friendly version should be deemed to =
be=20
the same.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 21:54:38 2004
Return-Path: <lucene-user-return-7426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61451 invoked from network); 8 Mar 2004 21:54:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 21:54:38 -0000
Received: (qmail 71430 invoked by uid 500); 8 Mar 2004 21:54:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71403 invoked by uid 500); 8 Mar 2004 21:54:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71389 invoked from network); 8 Mar 2004 21:54:20 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 8 Mar 2004 21:54:20 -0000
Received: (cpmta 12335 invoked from network); 8 Mar 2004 13:54:25 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.13?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 8 Mar 2004 13:54:25 -0800
X-Sent: 8 Mar 2004 21:54:25 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <6.0.0.22.0.20040308163336.02520d30@mail.visionstudio.com>
References: <200402292254.i1TMsWdA020794@server0027.freedom2surf.net> <6.0.0.22.0.20040308163336.02520d30@mail.visionstudio.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <288F4E94-714B-11D8-9720-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Filtering out duplicate documents...
Date: Mon, 8 Mar 2004 16:54:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My impression is the new term vector support should at least make this 
type of comparison feasible in some manner.  I'd be interested to see 
what you come up with if you give this a try.  You will need the latest 
CVS codebase.

	Erik


On Mar 8, 2004, at 4:37 PM, Michael Giles wrote:

> I'm looking for a way to filter out duplicate documents from an index 
> (either while indexing, or after the fact).  It seems like there 
> should be an approach of comparing the terms for two documents, but 
> I'm wondering if any other folks (i.e. nutch) have come up with a 
> solution to this problem.
>
> Obviously you can compute the Levenstein distance on the text, but 
> that is way too computationally intensive to scale.  So the goal is to 
> find something that would be workable in a production system.  For 
> example, a given NYT article, and its printer friendly version should 
> be deemed to be the same.
>
> -Mike
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 08 23:07:48 2004
Return-Path: <lucene-user-return-7427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1117 invoked from network); 8 Mar 2004 23:07:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Mar 2004 23:07:48 -0000
Received: (qmail 15209 invoked by uid 500); 8 Mar 2004 23:07:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15186 invoked by uid 500); 8 Mar 2004 23:07:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15173 invoked from network); 8 Mar 2004 23:07:29 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 8 Mar 2004 23:07:29 -0000
Received: from supun.office (host-157.media.net [66.113.64.157])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i28N7VWg002138
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 8 Mar 2004 15:07:32 -0800
Subject: which query matched in a Boolean query
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1078787239.8875.26.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 08 Mar 2004 15:07:19 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a BooleanQuery that takes 3 TermQueries

for example (title:colombo OR txt:colombo OR city:colombo)

I would like to mark hits that match in the field title in red on
display, txt in blue, and city in green. and maybe those that match in 2
fields in another color

is this possible?

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 01:30:48 2004
Return-Path: <lucene-user-return-7428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20877 invoked from network); 9 Mar 2004 01:30:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 01:30:48 -0000
Received: (qmail 22038 invoked by uid 500); 9 Mar 2004 01:30:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22009 invoked by uid 500); 9 Mar 2004 01:30:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21996 invoked from network); 9 Mar 2004 01:30:26 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 9 Mar 2004 01:30:26 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz2.forethought.net with esmtp (Exim 4.30)
	id 1B0W4o-0003pt-R8
	for lucene-user@jakarta.apache.org; Mon, 08 Mar 2004 18:30:34 -0700
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Caching and paging search results
Date: Mon, 8 Mar 2004 18:32:22 -0700
User-Agent: KMail/1.5
References: <20040308191441.39587.qmail@web25008.mail.ukl.yahoo.com> <8F978FDA-7137-11D8-9720-000393A564E6@ehatchersolutions.com>
In-Reply-To: <8F978FDA-7137-11D8-9720-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200403081832.22214.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 08 March 2004 12:34, Erik Hatcher wrote:
> In the RealWorld... many applications actually just re-run a search and
> jump to the appropriate page within the hits.... searching is generally
> plenty fast enough to alleviate concerns of caching.
>
> However, if you need to cache Hits, you need to be sure to keep around
> the originating IndexSearcher as well.

Further, oftentimes search index only contains key to actual content indexed 
(which itself is stored as a file, in database, or so)... so it's enough to 
cache just set of such ids, not actual search result objects.
And assuming ids are simple (int id, short String), such information can be 
stored in, say, user session.
In system I'm working on, we store up to 500 hits, only storing document id 
(int) and hit quality (byte), stored in session.

-+ Tatu +-

>
> A stateful session bean could be used, but I'd opt for a much simpler
> solution as a first pass, such as the first point of just re-running a
> search from scratch.
>
> 	Erik
>
> On Mar 8, 2004, at 2:14 PM, Clandes Tino wrote:
> > Hi all,
> > could someone describe his expirience in
> > implementation of caching, sorting and paging search
> > results.
> > Is Stateful Session bean appropriate for this?
> > My wish is to obtain all search hits only in first
> > call, and after that, to iterate through Hit
> > Collection and display cached results.
> > I have checked SearchBean in contribution section, but
> > it does not provide real caching and paging.
> >
> > Regards and thanx in advance!
> > Milan
> >
> >
> >
> >
> >
> >
> > ___________________________________________________________
> > Yahoo! Messenger - Communicate instantly..."Ping"
> > your friends today! Download Messenger Now
> > http://uk.messenger.yahoo.com/download/index.html
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 01:50:27 2004
Return-Path: <lucene-user-return-7429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33438 invoked from network); 9 Mar 2004 01:50:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 01:50:27 -0000
Received: (qmail 50518 invoked by uid 500); 9 Mar 2004 01:50:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50496 invoked by uid 500); 9 Mar 2004 01:50:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50482 invoked from network); 9 Mar 2004 01:50:05 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 01:50:05 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i291oGtG019086
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 8 Mar 2004 17:50:16 -0800
Message-ID: <404D22CF.7050705@newsmonster.org>
Date: Mon, 08 Mar 2004 17:50:07 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: DocumentWriter, StopFilter should use HashMap... (patch)
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigEA41EB2151CB80A5DD053B0F"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigEA41EB2151CB80A5DD053B0F
Content-Type: multipart/mixed;
 boundary="------------080702000603030801070007"

This is a multi-part message in MIME format.
--------------080702000603030801070007
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I'm looking at StopFilter.java right now...

I did a kill -3 java and a number of my threads were blocked here:

"ksa-task-thread-34" prio=1 tid=0xad89fbe8 nid=0x1c6e waiting for 
monitor entry [b9bff000..b9bff8d0]
        at java.util.Hashtable.get(Hashtable.java:332)
        - waiting to lock <0x61569720> (a java.util.Hashtable)
        at org.apache.lucene.analysis.StopFilter.next(StopFilter.java:94)
        at 
org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.java:170)
        at 
org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java:111)
        at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:257)
        at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
        at 
ksa.index.AdvancedIndexWriter.addDocument(AdvancedIndexWriter.java:136)
        at 
ksa.robot.FeedTaskParserListener.onItemEnd(FeedTaskParserListener.java:331)

Is there ANY reason to keep this as a Hashtable?  It's just preventing 
inversion across multiple threads.  They all have to lock on this hashtable.

Note that this guy is initialized ONCE and no more puts take place so I 
don't see why not.  It's readonly after the StopFilter is created.

I think this might really end up speeding up indexing a bit.  No hard 
benchmarks yet though.  Right now though it's just an inefficiency that 
should be removed.

I've attached a quick implementation. 

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------080702000603030801070007
Content-Type: text/plain;
 name="StopFilter.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="StopFilter.java"

package org.apache.lucene.analysis;

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import java.util.*;

/** Removes stop words from a token stream. */

public final class StopFilter extends TokenFilter {

  //Note: this could migrate to using a HashSet
  private HashMap table;

  /** Constructs a filter which removes words from the input
    TokenStream that are named in the array of words. */
  public StopFilter(TokenStream in, String[] stopWords) {
    super(in);
    table = makeStopTable(stopWords);
  }

  /** Constructs a filter which removes words from the input
    TokenStream that are named in the HashMap. */
  public StopFilter(TokenStream in, HashMap stopTable) {
    super(in);
    table = stopTable;
  }
  
  /** Builds a HashMap from an array of stop words, appropriate for passing
    into the StopFilter constructor.  This permits this table construction to
    be cached once when an Analyzer is constructed. */
  public static final HashMap makeStopTable(String[] stopWords) {
      HashMap stopTable = new HashMap(stopWords.length);

      for (int i = 0; i < stopWords.length; i++)
          stopTable.put(stopWords[i], stopWords[i]);

      return stopTable;
  }

  /** Returns the next input Token whose termText() is not a stop word. */
  public final Token next() throws IOException {
    // return the first non-stop word found
    for (Token token = input.next(); token != null; token = input.next())
      if (table.get(token.termText) == null)
	return token;
    // reached EOS -- return null
    return null;
  }
}

--------------080702000603030801070007
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------080702000603030801070007--

--------------enigEA41EB2151CB80A5DD053B0F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATSLV6E2NBJnxRBIRAhAOAJ9BZHai8nArrdrbylsLe9OKeFT4fwCghuG7
2tUqzdktaZ5pEhXjtbs6ZfQ=
=XuA4
-----END PGP SIGNATURE-----

--------------enigEA41EB2151CB80A5DD053B0F--

From lucene-user-return-7430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 02:54:04 2004
Return-Path: <lucene-user-return-7430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65587 invoked from network); 9 Mar 2004 02:54:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 02:54:03 -0000
Received: (qmail 18759 invoked by uid 500); 9 Mar 2004 02:53:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18728 invoked by uid 500); 9 Mar 2004 02:53:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18715 invoked from network); 9 Mar 2004 02:53:40 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 9 Mar 2004 02:53:40 -0000
Received: (cpmta 7265 invoked from network); 8 Mar 2004 18:53:49 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 8 Mar 2004 18:53:49 -0800
X-Sent: 9 Mar 2004 02:53:49 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404D22CF.7050705@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Mon, 8 Mar 2004 21:53:45 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't see any reason for this to be a Hashtable.

It seems an acceptable alternative to not share analyzer/filter  
instances across threads - they don't really take up much space, so is  
there a reason to share them?  Or I'm guessing you're sharing it  
implicitly through an IndexWriter, huh?

I'll away further feedback before committing this change, but seems  
reasonable to me.

	Erik


On Mar 8, 2004, at 8:50 PM, Kevin A. Burton wrote:
> I'm looking at StopFilter.java right now...
>
> I did a kill -3 java and a number of my threads were blocked here:
>
> "ksa-task-thread-34" prio=1 tid=0xad89fbe8 nid=0x1c6e waiting for  
> monitor entry [b9bff000..b9bff8d0]
>        at java.util.Hashtable.get(Hashtable.java:332)
>        - waiting to lock <0x61569720> (a java.util.Hashtable)
>        at  
> org.apache.lucene.analysis.StopFilter.next(StopFilter.java:94)
>        at  
> org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.ja 
> va:170)
>        at  
> org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java: 
> 111)
>        at  
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:257)
>        at  
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
>        at  
> ksa.index.AdvancedIndexWriter.addDocument(AdvancedIndexWriter.java: 
> 136)
>        at  
> ksa.robot.FeedTaskParserListener.onItemEnd(FeedTaskParserListener.java: 
> 331)
>
> Is there ANY reason to keep this as a Hashtable?  It's just preventing  
> inversion across multiple threads.  They all have to lock on this  
> hashtable.
>
> Note that this guy is initialized ONCE and no more puts take place so  
> I don't see why not.  It's readonly after the StopFilter is created.
>
> I think this might really end up speeding up indexing a bit.  No hard  
> benchmarks yet though.  Right now though it's just an inefficiency  
> that should be removed.
>
> I've attached a quick implementation.
> Kevin
>
> -- 
>
> Please reply using PGP:
>
>    http://peerfear.org/pubkey.asc
>    NewsMonster - http://www.newsmonster.org/
>    Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>
> package org.apache.lucene.analysis;
>
> /* ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software  
> itself,
>  *    if and wherever such third-party acknowledgments normally appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
>
> import java.io.IOException;
> import java.util.*;
>
> /** Removes stop words from a token stream. */
>
> public final class StopFilter extends TokenFilter {
>
>   //Note: this could migrate to using a HashSet
>   private HashMap table;
>
>   /** Constructs a filter which removes words from the input
>     TokenStream that are named in the array of words. */
>   public StopFilter(TokenStream in, String[] stopWords) {
>     super(in);
>     table = makeStopTable(stopWords);
>   }
>
>   /** Constructs a filter which removes words from the input
>     TokenStream that are named in the HashMap. */
>   public StopFilter(TokenStream in, HashMap stopTable) {
>     super(in);
>     table = stopTable;
>   }
>
>   /** Builds a HashMap from an array of stop words, appropriate for  
> passing
>     into the StopFilter constructor.  This permits this table  
> construction to
>     be cached once when an Analyzer is constructed. */
>   public static final HashMap makeStopTable(String[] stopWords) {
>       HashMap stopTable = new HashMap(stopWords.length);
>
>       for (int i = 0; i < stopWords.length; i++)
>           stopTable.put(stopWords[i], stopWords[i]);
>
>       return stopTable;
>   }
>
>   /** Returns the next input Token whose termText() is not a stop  
> word. */
>   public final Token next() throws IOException {
>     // return the first non-stop word found
>     for (Token token = input.next(); token != null; token =  
> input.next())
>       if (table.get(token.termText) == null)
> 	return token;
>     // reached EOS -- return null
>     return null;
>   }
> }
> <burton.vcf>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 03:23:31 2004
Return-Path: <lucene-user-return-7431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75616 invoked from network); 9 Mar 2004 03:23:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 03:23:31 -0000
Received: (qmail 47909 invoked by uid 500); 9 Mar 2004 03:23:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47846 invoked by uid 500); 9 Mar 2004 03:23:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47821 invoked from network); 9 Mar 2004 03:23:07 -0000
Received: from unknown (HELO fusedmedia.net) (202.136.4.222)
  by daedalus.apache.org with SMTP; 9 Mar 2004 03:23:07 -0000
Received: from e0p1d6 (cm44.sigma50.maxonline.com.sg [218.212.50.44])
	(authenticated bits=0)
	by fusedmedia.net (8.12.5/8.12.5) with ESMTP id i294ST9c023568
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 12:28:29 +0800
Message-ID: <002901c40585$992cdd20$2c32d4da@e0p1d6>
From: "Iskandar Salim" <iskandar@fused.com.sg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001f01c404e9$e9eef820$0500a8c0@e0p1d6> <838375F5-70F6-11D8-956C-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene Taglib
Date: Tue, 9 Mar 2004 11:21:22 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the tips and comments.

Regards,
Iskandar

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, March 08, 2004 7:48 PM
Subject: Re: Lucene Taglib


> On Mar 8, 2004, at 3:46 AM, Iskandar Salim wrote:
> > I've worked on a bit on the taglib and added an "index" and "field" 
> > tag for
> > basic indexing capability, though I don't think it's really useful, 
> > apart
> > from, in my case quick prototyping of web applications. What do you 
> > guys
> > think? I'm new to Lucene and taglibs so I may have missed out lots of
> > things.
> 
> I don't think a taglib is a useful place to put indexing code.  Your 
> mileage may vary, but there are so many flags to control (field type, 
> analyzer, boost, etc) that it is more cleanly done directly with the 
> Lucene API.
> 
> > For the curious, you see the 'in progress' examples and docs at
> > http://www.javaxp.net/lucene-examples/ and 
> > http://www.javaxp.net/lucene-doc/
> >
> 
> Nice work fleshing out documentation!
> 
> > Erik, is there any requirements for the java package names? e.g. ... 
> > to be
> > named as org.apache.lucene.taglib etc.
> 
> Yes, that package name is the best one probably.
> 
> > BTW, I've included the ASL 2.0 license in the source files.
> 
> Thanks!
> 
> A few comments/suggestions:
> 
> - What if I wanted an index to live in a RAMDirectory and have it live 
> in application scope?  My suggestion here is instead of using a path 
> for the index, use a Directory.  This allows greater freedom for the 
> developer, and it should be pretty easy to craft a JSTL expression to 
> wrap a string path into an FSDirectory (I don't know JSTL, but if it 
> cannot do this then I'm disappointed - I'm in the Tapestry/OGNL world 
> myself, where it would be trivial).
> 
> - Or, perhaps you may want a long-lived IndexSearcher so that a 
> Directory is only needed to construct the IndexSearcher?
> 
> - I haven't looked at your code, but is 'keywords' passed directly to 
> QueryParser?  If so, perhaps that should be renamed 'query' instead 
> since keywords is more domain-specific and has sort of a special 
> meaning in Lucene as a Field.Keyword
> 
> - What about allowing specification of an Analyzer?  Look at how this 
> is done in the sandbox contributions/ant area in IndexTask.  I allowed 
> the user to specify high level strings like 'whitespace', 'stop', 
> 'standard', etc. as well as a fully-qualified classname.  I can only 
> assume you have it hardcoded to use a particular analyzer, which is not 
> going to be generally useful.
> 
> - It would also be nice if you allowed for an optional filter to be 
> specified - in this case I think it would probably suffice to just 
> allow a Filter instance to be passed in rather than the taglib itself 
> constructing one.  This allows capabilities like search-within-search 
> and more.
> 
> - What is the 'content' attribute for the search tag?  Is that the 
> default field?  If so, again, I think it would be best to named the 
> similarly to the Lucene terminology - just call it 'field', or 
> 'defaultField'.
> 
> - SortedMap?  What are you sorting on?  Is count necessary since you 
> can just ask the map what its size is?
> 
> In general it looks fine though, although I cringe seeing the amount of 
> "code" your examples have in it with all the scriptlet junk.  It seems 
> quite yucky to me given that I'm now in the elegant Tapestry world 
> where I could hide the *entire* tag in an HTML template with something 
> like this:
> 
>     <table jwcid="results"/>
> 
> and no, I'm not kidding, and yes, there would be more behind the scenes 
> but separate from the "view".  And the example includes all the paging 
> controls.
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 03:51:49 2004
Return-Path: <lucene-user-return-7432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87712 invoked from network); 9 Mar 2004 03:51:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 03:51:49 -0000
Received: (qmail 79563 invoked by uid 500); 9 Mar 2004 03:51:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79344 invoked by uid 500); 9 Mar 2004 03:51:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79327 invoked from network); 9 Mar 2004 03:51:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 9 Mar 2004 03:51:23 -0000
Received: (cpmta 29880 invoked from network); 8 Mar 2004 19:51:33 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 8 Mar 2004 19:51:33 -0800
X-Sent: 9 Mar 2004 03:51:33 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <002901c40585$992cdd20$2c32d4da@e0p1d6>
References: <001f01c404e9$e9eef820$0500a8c0@e0p1d6> <838375F5-70F6-11D8-956C-000393A564E6@ehatchersolutions.com> <002901c40585$992cdd20$2c32d4da@e0p1d6>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0BE16F5F-717D-11D8-B5FE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Taglib
Date: Mon, 8 Mar 2004 22:51:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 8, 2004, at 10:21 PM, Iskandar Salim wrote:
> Thanks for the tips and comments.

Also, there was a big smiley implicit in my JSP taglib rantings below.  
Certainly no offense intended.  I've paid my Struts/taglib dues and am 
now deep into a completely different web development paradigm that I 
find quite enjoyable and refreshing.

Your taglib is a nicely done.

	Erik



>
> Regards,
> Iskandar
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, March 08, 2004 7:48 PM
> Subject: Re: Lucene Taglib
>
>
>> On Mar 8, 2004, at 3:46 AM, Iskandar Salim wrote:
>>> I've worked on a bit on the taglib and added an "index" and "field"
>>> tag for
>>> basic indexing capability, though I don't think it's really useful,
>>> apart
>>> from, in my case quick prototyping of web applications. What do you
>>> guys
>>> think? I'm new to Lucene and taglibs so I may have missed out lots of
>>> things.
>>
>> I don't think a taglib is a useful place to put indexing code.  Your
>> mileage may vary, but there are so many flags to control (field type,
>> analyzer, boost, etc) that it is more cleanly done directly with the
>> Lucene API.
>>
>>> For the curious, you see the 'in progress' examples and docs at
>>> http://www.javaxp.net/lucene-examples/ and
>>> http://www.javaxp.net/lucene-doc/
>>>
>>
>> Nice work fleshing out documentation!
>>
>>> Erik, is there any requirements for the java package names? e.g. ...
>>> to be
>>> named as org.apache.lucene.taglib etc.
>>
>> Yes, that package name is the best one probably.
>>
>>> BTW, I've included the ASL 2.0 license in the source files.
>>
>> Thanks!
>>
>> A few comments/suggestions:
>>
>> - What if I wanted an index to live in a RAMDirectory and have it live
>> in application scope?  My suggestion here is instead of using a path
>> for the index, use a Directory.  This allows greater freedom for the
>> developer, and it should be pretty easy to craft a JSTL expression to
>> wrap a string path into an FSDirectory (I don't know JSTL, but if it
>> cannot do this then I'm disappointed - I'm in the Tapestry/OGNL world
>> myself, where it would be trivial).
>>
>> - Or, perhaps you may want a long-lived IndexSearcher so that a
>> Directory is only needed to construct the IndexSearcher?
>>
>> - I haven't looked at your code, but is 'keywords' passed directly to
>> QueryParser?  If so, perhaps that should be renamed 'query' instead
>> since keywords is more domain-specific and has sort of a special
>> meaning in Lucene as a Field.Keyword
>>
>> - What about allowing specification of an Analyzer?  Look at how this
>> is done in the sandbox contributions/ant area in IndexTask.  I allowed
>> the user to specify high level strings like 'whitespace', 'stop',
>> 'standard', etc. as well as a fully-qualified classname.  I can only
>> assume you have it hardcoded to use a particular analyzer, which is 
>> not
>> going to be generally useful.
>>
>> - It would also be nice if you allowed for an optional filter to be
>> specified - in this case I think it would probably suffice to just
>> allow a Filter instance to be passed in rather than the taglib itself
>> constructing one.  This allows capabilities like search-within-search
>> and more.
>>
>> - What is the 'content' attribute for the search tag?  Is that the
>> default field?  If so, again, I think it would be best to named the
>> similarly to the Lucene terminology - just call it 'field', or
>> 'defaultField'.
>>
>> - SortedMap?  What are you sorting on?  Is count necessary since you
>> can just ask the map what its size is?
>>
>> In general it looks fine though, although I cringe seeing the amount 
>> of
>> "code" your examples have in it with all the scriptlet junk.  It seems
>> quite yucky to me given that I'm now in the elegant Tapestry world
>> where I could hide the *entire* tag in an HTML template with something
>> like this:
>>
>>     <table jwcid="results"/>
>>
>> and no, I'm not kidding, and yes, there would be more behind the 
>> scenes
>> but separate from the "view".  And the example includes all the paging
>> controls.
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 04:40:27 2004
Return-Path: <lucene-user-return-7433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5228 invoked from network); 9 Mar 2004 04:40:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 04:40:27 -0000
Received: (qmail 35100 invoked by uid 500); 9 Mar 2004 04:40:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35078 invoked by uid 500); 9 Mar 2004 04:40:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35055 invoked from network); 9 Mar 2004 04:40:01 -0000
Received: from unknown (HELO fusedmedia.net) (202.136.4.222)
  by daedalus.apache.org with SMTP; 9 Mar 2004 04:40:01 -0000
Received: from e0p1d6 (cm44.sigma50.maxonline.com.sg [218.212.50.44])
	(authenticated bits=0)
	by fusedmedia.net (8.12.5/8.12.5) with ESMTP id i295jJ9c025883
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 13:45:21 +0800
Message-ID: <001d01c40590$55761cd0$2c32d4da@e0p1d6>
From: "Iskandar Salim" <iskandar@fused.com.sg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001f01c404e9$e9eef820$0500a8c0@e0p1d6> <838375F5-70F6-11D8-956C-000393A564E6@ehatchersolutions.com> <002901c40585$992cdd20$2c32d4da@e0p1d6> <0BE16F5F-717D-11D8-B5FE-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene Taglib
Date: Tue, 9 Mar 2004 12:38:11 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 09, 2004 11:51 AM
Subject: Re: Lucene Taglib


> Also, there was a big smiley implicit in my JSP taglib rantings below.  
> Certainly no offense intended.

None taken. :)

>  I've paid my Struts/taglib dues and am 
> now deep into a completely different web development paradigm that I 
> find quite enjoyable and refreshing.

Heard too many good things about Tapestry. Have to learn it some day ;)

Regards,
Iskandar


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 08:28:00 2004
Return-Path: <lucene-user-return-7434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31783 invoked from network); 9 Mar 2004 08:28:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 08:27:59 -0000
Received: (qmail 81067 invoked by uid 500); 9 Mar 2004 08:27:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80884 invoked by uid 500); 9 Mar 2004 08:27:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80868 invoked from network); 9 Mar 2004 08:27:30 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 9 Mar 2004 08:27:30 -0000
Message-ID: <20040309082742.52671.qmail@web12704.mail.yahoo.com>
Received: from [194.152.224.29] by web12704.mail.yahoo.com via HTTP; Tue, 09 Mar 2004 00:27:42 PST
Date: Tue, 9 Mar 2004 00:27:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <404D22CF.7050705@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I really don't think this will make any noticable difference, but why
not.  Could you please send a diff -uN patch, please?
I made the same changes locally about a year ago, but have since thrown
away my local changes (for no good reason that I recall).

Thanks,
Otis

--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> I'm looking at StopFilter.java right now...
> 
> I did a kill -3 java and a number of my threads were blocked here:
> 
> "ksa-task-thread-34" prio=1 tid=0xad89fbe8 nid=0x1c6e waiting for 
> monitor entry [b9bff000..b9bff8d0]
>         at java.util.Hashtable.get(Hashtable.java:332)
>         - waiting to lock <0x61569720> (a java.util.Hashtable)
>         at
> org.apache.lucene.analysis.StopFilter.next(StopFilter.java:94)
>         at 
>
org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.java:170)
>         at 
>
org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java:111)
>         at 
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:257)
>         at 
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
>         at 
>
ksa.index.AdvancedIndexWriter.addDocument(AdvancedIndexWriter.java:136)
>         at 
>
ksa.robot.FeedTaskParserListener.onItemEnd(FeedTaskParserListener.java:331)
> 
> Is there ANY reason to keep this as a Hashtable?  It's just
> preventing 
> inversion across multiple threads.  They all have to lock on this
> hashtable.
> 
> Note that this guy is initialized ONCE and no more puts take place so
> I 
> don't see why not.  It's readonly after the StopFilter is created.
> 
> I think this might really end up speeding up indexing a bit.  No hard
> 
> benchmarks yet though.  Right now though it's just an inefficiency
> that 
> should be removed.
> 
> I've attached a quick implementation. 
> 
> Kevin
> 
> -- 
> 
> Please reply using PGP:
> 
>     http://peerfear.org/pubkey.asc    
> 
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> > package org.apache.lucene.analysis;
> 
> /*
> ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above
> copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software
> itself,
>  *    if and wherever such third-party acknowledgments normally
> appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission.
> For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
> AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  *
> ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
> 
> import java.io.IOException;
> import java.util.*;
> 
> /** Removes stop words from a token stream. */
> 
> public final class StopFilter extends TokenFilter {
> 
>   //Note: this could migrate to using a HashSet
>   private HashMap table;
> 
>   /** Constructs a filter which removes words from the input
>     TokenStream that are named in the array of words. */
>   public StopFilter(TokenStream in, String[] stopWords) {
>     super(in);
>     table = makeStopTable(stopWords);
>   }
> 
>   /** Constructs a filter which removes words from the input
>     TokenStream that are named in the HashMap. */
>   public StopFilter(TokenStream in, HashMap stopTable) {
>     super(in);
>     table = stopTable;
>   }
>   
>   /** Builds a HashMap from an array of stop words, appropriate for
> passing
>     into the StopFilter constructor.  This permits this table
> construction to
>     be cached once when an Analyzer is constructed. */
>   public static final HashMap makeStopTable(String[] stopWords) {
>       HashMap stopTable = new HashMap(stopWords.length);
> 
>       for (int i = 0; i < stopWords.length; i++)
>           stopTable.put(stopWords[i], stopWords[i]);
> 
>       return stopTable;
>   }
> 
>   /** Returns the next input Token whose termText() is not a stop
> word. */
>   public final Token next() throws IOException {
>     // return the first non-stop word found
>     for (Token token = input.next(); token != null; token =
> input.next())
>       if (table.get(token.termText) == null)
> 	return token;
>     // reached EOS -- return null
>     return null;
>   }
> }
> > begin:vcard
> fn:Kevin Burton
> n:Burton;Kevin
> email;internet:burton@newsmonster.org
> x-mozilla-html:TRUE
> version:2.1
> end:vcard
> 
> 

> ATTACHMENT part 2 application/pgp-signature name=signature.asc



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 09:49:37 2004
Return-Path: <lucene-user-return-7435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 643 invoked from network); 9 Mar 2004 09:49:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 09:49:37 -0000
Received: (qmail 1176 invoked by uid 500); 9 Mar 2004 09:49:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1148 invoked by uid 500); 9 Mar 2004 09:49:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1133 invoked from network); 9 Mar 2004 09:49:07 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 09:49:07 -0000
Received: from newsmonster.org (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i299nNtG019799
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 01:49:24 -0800
Message-ID: <404D8AA2.6030109@newsmonster.org>
Date: Tue, 09 Mar 2004 01:13:06 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <20040309082742.52671.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20040309082742.52671.qmail@web12704.mail.yahoo.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig0B743C6EB3909A907AF21A60"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig0B743C6EB3909A907AF21A60
Content-Type: multipart/mixed;
 boundary="------------070603000109010801060907"

This is a multi-part message in MIME format.
--------------070603000109010801060907
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Otis Gospodnetic wrote:

>I really don't think this will make any noticable difference, but why
>not.  Could you please send a diff -uN patch, please?
>I made the same changes locally about a year ago, but have since thrown
>away my local changes (for no good reason that I recall).
>  
>
Just diff it locally... it's just a search replace for Hashtable -> 
HashMap...

Pretty trivial.

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------070603000109010801060907
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------070603000109010801060907--

--------------enig0B743C6EB3909A907AF21A60
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATYqk6E2NBJnxRBIRAiveAJ9/7j73lDukvanJ1hNwxN+eVocG6ACguDnT
E9ZawRBlduAjnrLGUraHQP4=
=HXa1
-----END PGP SIGNATURE-----

--------------enig0B743C6EB3909A907AF21A60--

From lucene-user-return-7436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 09:51:55 2004
Return-Path: <lucene-user-return-7436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2374 invoked from network); 9 Mar 2004 09:51:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 09:51:55 -0000
Received: (qmail 5656 invoked by uid 500); 9 Mar 2004 09:51:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5626 invoked by uid 500); 9 Mar 2004 09:51:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5612 invoked from network); 9 Mar 2004 09:51:25 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 09:51:25 -0000
Received: from newsmonster.org (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i299petG019804
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 01:51:41 -0800
Message-ID: <404D8B2E.2020701@newsmonster.org>
Date: Tue, 09 Mar 2004 01:15:26 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com>
In-Reply-To: <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig1602172177538F2AE32ABA5D"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig1602172177538F2AE32ABA5D
Content-Type: multipart/mixed;
 boundary="------------010801080606000705030706"

This is a multi-part message in MIME format.
--------------010801080606000705030706
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> I don't see any reason for this to be a Hashtable.
>
> It seems an acceptable alternative to not share analyzer/filter  
> instances across threads - they don't really take up much space, so 
> is  there a reason to share them?  Or I'm guessing you're sharing it  
> implicitly through an IndexWriter, huh?
>
> I'll away further feedback before committing this change, but seems  
> reasonable to me.
>
Yeah... I'm using a RAMDirectory and adding documents to it across 
multiple threads... some of them index at the same time.

The patch is super small... the only difference is that it's using a 
HashMap which isn't synchronized... it can't hurt anything...

but feedback is a good thing :)

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------010801080606000705030706
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------010801080606000705030706--

--------------enig1602172177538F2AE32ABA5D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATYsu6E2NBJnxRBIRAhOrAJ9AtrBS7jRinbSoi9P8ZtfAsgP6GACgmMdI
rfdnWyh6oHf7MCuPgksCMBU=
=xyFW
-----END PGP SIGNATURE-----

--------------enig1602172177538F2AE32ABA5D--

From lucene-user-return-7437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 11:12:59 2004
Return-Path: <lucene-user-return-7437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64001 invoked from network); 9 Mar 2004 11:12:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 11:12:59 -0000
Received: (qmail 53284 invoked by uid 500); 9 Mar 2004 11:12:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53190 invoked by uid 500); 9 Mar 2004 11:12:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53174 invoked from network); 9 Mar 2004 11:12:26 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 9 Mar 2004 11:12:26 -0000
Received: (cpmta 24332 invoked from network); 9 Mar 2004 03:12:40 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 9 Mar 2004 03:12:40 -0800
X-Sent: 9 Mar 2004 11:12:40 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404D8B2E.2020701@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Tue, 9 Mar 2004 06:12:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, one issue you didn't consider is changing a public method 
signature.  I will make this change, but leave the Hashtable signature 
method there.  I suppose we could change the signature to use a Map 
instead, but I believe there are some issues with doing something like 
this if you do not recompile your own source code against a new Lucene 
JAR.... so I will simply provide another signature too.

	Erik


On Mar 9, 2004, at 4:15 AM, Kevin A. Burton wrote:

> Erik Hatcher wrote:
>
>> I don't see any reason for this to be a Hashtable.
>>
>> It seems an acceptable alternative to not share analyzer/filter  
>> instances across threads - they don't really take up much space, so 
>> is  there a reason to share them?  Or I'm guessing you're sharing it  
>> implicitly through an IndexWriter, huh?
>>
>> I'll away further feedback before committing this change, but seems  
>> reasonable to me.
>>
> Yeah... I'm using a RAMDirectory and adding documents to it across 
> multiple threads... some of them index at the same time.
>
> The patch is super small... the only difference is that it's using a 
> HashMap which isn't synchronized... it can't hurt anything...
>
> but feedback is a good thing :)
>
> Kevin
>
> -- 
>
> Please reply using PGP:
>
>    http://peerfear.org/pubkey.asc
>    NewsMonster - http://www.newsmonster.org/
>    Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>
> <burton.vcf>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 15:48:38 2004
Return-Path: <lucene-user-return-7438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73157 invoked from network); 9 Mar 2004 15:48:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 15:48:38 -0000
Received: (qmail 51169 invoked by uid 500); 9 Mar 2004 15:48:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51147 invoked by uid 500); 9 Mar 2004 15:48:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51133 invoked from network); 9 Mar 2004 15:48:26 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 9 Mar 2004 15:48:26 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 9 Mar 2004 10:47:52 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sys properties Was: java.io.tmpdir as lock dir .... once again
Date: Tue, 9 Mar 2004 10:51:45 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQFOXD7LYz9Z7oSQsmfnHzXQu7/gwAsZq/g
In-Reply-To: <404CB86E.8000308@apache.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <GERMANYjrNgPdBsaERe0000427a@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 09 Mar 2004 15:47:52.0749 (UTC) FILETIME=[E1D5CDD0:01C405ED]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I did the testing on searching/indexing larger documents for the two index
formats. The indexing application indices the 66k documents incrementally up
to 10 times. At the same time, the search program wakes every 20 minutes to
open the index and do the search.

For the indexing, when indexing on the 9th 66k document, the compound index
case need 500 seconds more but it could be the machine is running other
schedule jobs. (I run the non-compound index case immediately after compound
index case; the first 66k for non-compound index also needs 300-400 seconds
more). So the index speed difference is within 10%.
There is no too much difference on the search itself. But for the compound
index case, the opening index reaches around 1 second twice. I saw this
happened for non-compound index format before, but it looks like compound
index format has higher frequency on this issue.


Regards,
Hui

Indexing time:
non-compound index
2:1709393 total milliseconds index total docs:66100
3:1322806 total milliseconds index total docs:66100
4:1387652 total milliseconds index total docs:66100
5:1371401 total milliseconds index total docs:66100
6:1378230 total milliseconds index total docs:66100
7:1375276 total milliseconds index total docs:66100
8:1411543 total milliseconds index total docs:66100
9:1533842 total milliseconds index total docs:66100
10:1722148 total milliseconds index total docs:66100
11:1893729 total milliseconds index total docs:66100

compound index
2:1437950 total milliseconds index total docs:66100
3:1406980 total milliseconds index total docs:66100
4:1427058 total milliseconds index total docs:66100
5:1462169 total milliseconds index total docs:66100
6:1461356 total milliseconds index total docs:66100
7:1657923 total milliseconds index total docs:66100
8:1901755 total milliseconds index total docs:66100
9:2041649 total milliseconds index total docs:66100


search time:

non-compound index

0 open index time:235
5551 total within(ms) 187
7326 total within(ms) 31
8698 total within(ms) 47
4179 total within(ms) 16
198 total within(ms) 47
1 open index time:63
8242 total within(ms) 15
10918 total within(ms) 0
13022 total within(ms) 16
6138 total within(ms) 15
332 total within(ms) 15
2 open index time:47
12194 total within(ms) 15
16210 total within(ms) 0
19305 total within(ms) 125
9099 total within(ms) 15
485 total within(ms) 31
3 open index time:47
16461 total within(ms) 16
21924 total within(ms) 0
26107 total within(ms) 31
12278 total within(ms) 15
655 total within(ms) 16
4 open index time:47
19857 total within(ms) 16
26560 total within(ms) 15
31583 total within(ms) 31
14834 total within(ms) 15
784 total within(ms) 15
5 open index time:78
23357 total within(ms) 16
31234 total within(ms) 16
37169 total within(ms) 31
17422 total within(ms) 32
895 total within(ms) 47
6 open index time:47
27208 total within(ms) 78
36371 total within(ms) 31
43276 total within(ms) 32
20303 total within(ms) 31
1054 total within(ms) 31
7 open index time:31
30073 total within(ms) 16
40270 total within(ms) 15
47977 total within(ms) 31
22366 total within(ms) 32
1202 total within(ms) 31
8 open index time:63
34133 total within(ms) 31
45709 total within(ms) 32
54424 total within(ms) 31
25418 total within(ms) 31
1354 total within(ms) 62
9 open index time:62
37845 total within(ms) 47
50582 total within(ms) 16
60236 total within(ms) 47
28191 total within(ms) 31
1505 total within(ms) 47
10 open index time:46
41416 total within(ms) 32
55456 total within(ms) 31
65980 total within(ms) 109
30892 total within(ms) 47
1641 total within(ms) 47
11 open index time:31
44121 total within(ms) 78
58992 total within(ms) 31
70242 total within(ms) 62
32871 total within(ms) 31
1729 total within(ms) 47
12 open index time:47
46718 total within(ms) 31
62473 total within(ms) 15
74415 total within(ms) 47
34776 total within(ms) 31
1862 total within(ms) 47
13 open index time:0
47025 total within(ms) 32
63008 total within(ms) 31
75031 total within(ms) 47
35002 total within(ms) 31
1870 total within(ms) 31
14 open index time:0
47025 total within(ms) 31
63008 total within(ms) 31
75031 total within(ms) 47
35002 total within(ms) 31
1870 total within(ms) 32

compound index

0 open index time:203
7876 total within(ms) 125
10326 total within(ms) 0
12317 total within(ms) 32
5885 total within(ms) 16
315 total within(ms) 31
1 open index time:62
10562 total within(ms) 16
14127 total within(ms) 0
16793 total within(ms) 16
7896 total within(ms) 15
385 total within(ms) 15
2 open index time:1016
14466 total within(ms) 15
19304 total within(ms) 0
22944 total within(ms) 31
10826 total within(ms) 15
546 total within(ms) 16
3 open index time:15
17123 total within(ms) 16
22947 total within(ms) 15
27326 total within(ms) 15
12744 total within(ms) 125
680 total within(ms) 31
4 open index time:63
21148 total within(ms) 15
28245 total within(ms) 15
33659 total within(ms) 31
15734 total within(ms) 31
842 total within(ms) 63
5 open index time:47
25019 total within(ms) 16
33398 total within(ms) 16
39772 total within(ms) 32
18645 total within(ms) 32
995 total within(ms) 47
6 open index time:47
28367 total within(ms) 15
37970 total within(ms) 31
45169 total within(ms) 46
21168 total within(ms) 31
1112 total within(ms) 31
7 open index time:31
31424 total within(ms) 31
42002 total within(ms) 16
49994 total within(ms) 31
23432 total within(ms) 32
1223 total within(ms) 47
8 open index time:46
33895 total within(ms) 32
45292 total within(ms) 47
53957 total within(ms) 47
25230 total within(ms) 32
1352 total within(ms) 47
9 open index time:63
37320 total within(ms) 31
49922 total within(ms) 15
59412 total within(ms) 47
27830 total within(ms) 31
1474 total within(ms) 62
10 open index time:984
38475 total within(ms) 16
51552 total within(ms) 16
61389 total within(ms) 47
28638 total within(ms) 46
1530 total within(ms) 157

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Monday, March 08, 2004 1:16 PM
To: Lucene Users List
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again

hui wrote:
> Index time: 
> compound format is 89 seconds slower.
> 
> compound format:
> 1389507 total milliseconds
> non-compound format:
> 1300534 total milliseconds
> 
> The index size is 85m with 4 fields only. The files are stored in the
index.
> The compound format has only 3 files and the other has 13 files. 

Thanks for performing this benchmark!

It looks like the compound format is around 7% slower when indexing.  To 
my thinking that's acceptable, given the dramatic reduction in file 
handles.  If folks really need maximal indexing performance, then they 
can explicitly disable the compound format.

Would anyone object to making compound format the default for Lucene 
1.4?  This is an incompatible change, but I don't think it should break 
applications.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 16:39:16 2004
Return-Path: <lucene-user-return-7439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16008 invoked from network); 9 Mar 2004 16:39:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 16:39:16 -0000
Received: (qmail 32043 invoked by uid 500); 9 Mar 2004 16:39:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31905 invoked by uid 500); 9 Mar 2004 16:39:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31734 invoked from network); 9 Mar 2004 16:39:00 -0000
Received: from unknown (HELO mailhost.pasteur) (213.244.24.91)
  by daedalus.apache.org with SMTP; 9 Mar 2004 16:39:00 -0000
Received: from srvmail.pasteur (srvmail.pasteur [172.31.1.50])
	by mailhost.pasteur (8.12.3/8.12.3) with ESMTP id i29GcptR018536
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 17:38:51 +0100
Received: from pcsqli (pcsqli.pasteur [172.31.9.19])
	by srvmail.pasteur (Postfix) with SMTP id AC858173498
	for <lucene-user@jakarta.apache.org>; Tue,  9 Mar 2004 17:39:02 +0100 (CET)
Message-ID: <005601c405f5$447d3840$13091fac@pcsqli>
From: "Stephane NOBILET" <snobilet@sqli.com>
To: <lucene-user@jakarta.apache.org>
Subject: Wildcards problem
Date: Tue, 9 Mar 2004 17:40:44 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0053_01C405FD.A624F080"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0053_01C405FD.A624F080
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello !

version : lucene 1.3 final

I search : comptable, I find the document.
I search : compt*, I find so
but : comp*, I don' find my document.

Have you meet this problem ?

Thanks

excuse me for my english...

------=_NextPart_000_0053_01C405FD.A624F080--


From lucene-user-return-7440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 16:45:24 2004
Return-Path: <lucene-user-return-7440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20391 invoked from network); 9 Mar 2004 16:45:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 16:45:23 -0000
Received: (qmail 46339 invoked by uid 500); 9 Mar 2004 16:45:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46319 invoked by uid 500); 9 Mar 2004 16:45:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46306 invoked from network); 9 Mar 2004 16:45:11 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 9 Mar 2004 16:45:11 -0000
Message-ID: <20040309164513.47423.qmail@web12707.mail.yahoo.com>
Received: from [194.152.224.29] by web12707.mail.yahoo.com via HTTP; Tue, 09 Mar 2004 08:45:13 PST
Date: Tue, 9 Mar 2004 08:45:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wildcards problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <005601c405f5$447d3840$13091fac@pcsqli>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That doesn't sound right :(
Can you send a self-sufficient code that adds an example document to
the index and then runs the comp* query that shows this problem?

Thanks,
Otis


--- Stephane NOBILET <snobilet@sqli.com> wrote:
> Hello !
> 
> version : lucene 1.3 final
> 
> I search : comptable, I find the document.
> I search : compt*, I find so
> but : comp*, I don' find my document.
> 
> Have you meet this problem ?
> 
> Thanks
> 
> excuse me for my english...
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 16:53:28 2004
Return-Path: <lucene-user-return-7441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29070 invoked from network); 9 Mar 2004 16:53:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 16:53:28 -0000
Received: (qmail 73081 invoked by uid 500); 9 Mar 2004 16:53:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73056 invoked by uid 500); 9 Mar 2004 16:53:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73040 invoked from network); 9 Mar 2004 16:53:14 -0000
Received: from unknown (HELO mailhost.pasteur) (213.244.24.91)
  by daedalus.apache.org with SMTP; 9 Mar 2004 16:53:14 -0000
Received: from srvmail.pasteur (srvmail.pasteur [172.31.1.50])
	by mailhost.pasteur (8.12.3/8.12.3) with ESMTP id i29Gr5tR018845
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 17:53:05 +0100
Received: from pcsqli (pcsqli.pasteur [172.31.9.19])
	by srvmail.pasteur (Postfix) with SMTP id 8570D173498
	for <lucene-user@jakarta.apache.org>; Tue,  9 Mar 2004 17:53:16 +0100 (CET)
Message-ID: <007501c405f7$416dc370$13091fac@pcsqli>
From: "Stephane NOBILET" <snobilet@sqli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040309164513.47423.qmail@web12707.mail.yahoo.com>
Subject: Re: Wildcards problem
Date: Tue, 9 Mar 2004 17:54:58 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

index classique :

writer = new IndexWriter( indexPath , new MagicAnalyzer(), false );
writer.mergeFactor = 20;
writer.addDocument(PublicationDocument.getDocument(publi.getId(), filter) );
writer.close()

search :
QueryParser queryParser = new QueryParser( "content", new MagicAnalyzer() );
queryParser.setOperator( QueryParser.DEFAULT_OPERATOR_AND );
query = queryParser.parse( text );


dans MagicAnalyser : tokenStream () :
            result = new AccentFilter(result);
            result = new StandardFilter(result);
            result = new LowerCaseFilter(result);
            result = new StopFilter(result, stopTable);
            result = new SpecialFilter(result);
            result = new PlurielFilter(result);

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 09, 2004 5:45 PM
Subject: Re: Wildcards problem


> That doesn't sound right :(
> Can you send a self-sufficient code that adds an example document to
> the index and then runs the comp* query that shows this problem?
>
> Thanks,
> Otis
>
>
> --- Stephane NOBILET <snobilet@sqli.com> wrote:
> > Hello !
> >
> > version : lucene 1.3 final
> >
> > I search : comptable, I find the document.
> > I search : compt*, I find so
> > but : comp*, I don' find my document.
> >
> > Have you meet this problem ?
> >
> > Thanks
> >
> > excuse me for my english...
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 17:01:58 2004
Return-Path: <lucene-user-return-7442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37625 invoked from network); 9 Mar 2004 17:01:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 17:01:58 -0000
Received: (qmail 2041 invoked by uid 500); 9 Mar 2004 17:01:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2018 invoked by uid 500); 9 Mar 2004 17:01:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2004 invoked from network); 9 Mar 2004 17:01:45 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 9 Mar 2004 17:01:45 -0000
Message-ID: <20040309170148.65778.qmail@web12705.mail.yahoo.com>
Received: from [194.152.224.29] by web12705.mail.yahoo.com via HTTP; Tue, 09 Mar 2004 09:01:48 PST
Date: Tue, 9 Mar 2004 09:01:48 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wildcards problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <007501c405f7$416dc370$13091fac@pcsqli>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry, I can't run this (not self-sufficient, etc.)
MagicAnalyzer?  Sounds like the place I would suspect first.

Otis

--- Stephane NOBILET <snobilet@sqli.com> wrote:
> index classique :
> 
> writer = new IndexWriter( indexPath , new MagicAnalyzer(), false );
> writer.mergeFactor = 20;
> writer.addDocument(PublicationDocument.getDocument(publi.getId(),
> filter) );
> writer.close()
> 
> search :
> QueryParser queryParser = new QueryParser( "content", new
> MagicAnalyzer() );
> queryParser.setOperator( QueryParser.DEFAULT_OPERATOR_AND );
> query = queryParser.parse( text );
> 
> 
> dans MagicAnalyser : tokenStream () :
>             result = new AccentFilter(result);
>             result = new StandardFilter(result);
>             result = new LowerCaseFilter(result);
>             result = new StopFilter(result, stopTable);
>             result = new SpecialFilter(result);
>             result = new PlurielFilter(result);
> 
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, March 09, 2004 5:45 PM
> Subject: Re: Wildcards problem
> 
> 
> > That doesn't sound right :(
> > Can you send a self-sufficient code that adds an example document
> to
> > the index and then runs the comp* query that shows this problem?
> >
> > Thanks,
> > Otis
> >
> >
> > --- Stephane NOBILET <snobilet@sqli.com> wrote:
> > > Hello !
> > >
> > > version : lucene 1.3 final
> > >
> > > I search : comptable, I find the document.
> > > I search : compt*, I find so
> > > but : comp*, I don' find my document.
> > >
> > > Have you meet this problem ?
> > >
> > > Thanks
> > >
> > > excuse me for my english...
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 17:07:38 2004
Return-Path: <lucene-user-return-7443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41981 invoked from network); 9 Mar 2004 17:07:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 17:07:37 -0000
Received: (qmail 11688 invoked by uid 500); 9 Mar 2004 17:07:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11581 invoked by uid 500); 9 Mar 2004 17:07:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11564 invoked from network); 9 Mar 2004 17:07:25 -0000
Received: from unknown (HELO outbound1.sopragroup.com) (81.80.239.198)
  by daedalus.apache.org with SMTP; 9 Mar 2004 17:07:25 -0000
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id i29H7O5B021901
          for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 18:07:26 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Wildcards problem
Date: Tue, 9 Mar 2004 18:06:21 +0100
Message-ID: <5933531F07A5144E9E53E1AA45257E4B832329@wexchbe03.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcards problem
Thread-Index: AcQF9wrvanLAk48TSH+v6PGFq1nRxgAARDVg
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 09 Mar 2004 17:07:55.0984 (UTC) FILETIME=[10C94D00:01C405F9]
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As you seems to be French (So do I), I suppose that your classes =
AccentFilter, SpecialFilter and  PlurielFilter are dedicated to French =
documents analysis.=20
I would be interested in these classes (could you send them to me ?) .
I was on the way to create an accent filter and propose it to the lucene =
sandbox.

-----Message d'origine-----
De : Stephane NOBILET [mailto:snobilet@sqli.com]
Envoy=E9 : mardi 9 mars 2004 17:55
=C0 : Lucene Users List
Objet : Re: Wildcards problem


index classique :

writer =3D new IndexWriter( indexPath , new MagicAnalyzer(), false );
writer.mergeFactor =3D 20;
writer.addDocument(PublicationDocument.getDocument(publi.getId(), =
filter) );
writer.close()

search :
QueryParser queryParser =3D new QueryParser( "content", new =
MagicAnalyzer() );
queryParser.setOperator( QueryParser.DEFAULT_OPERATOR_AND );
query =3D queryParser.parse( text );


dans MagicAnalyser : tokenStream () :
            result =3D new AccentFilter(result);
            result =3D new StandardFilter(result);
            result =3D new LowerCaseFilter(result);
            result =3D new StopFilter(result, stopTable);
            result =3D new SpecialFilter(result);
            result =3D new PlurielFilter(result);

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 09, 2004 5:45 PM
Subject: Re: Wildcards problem


> That doesn't sound right :(
> Can you send a self-sufficient code that adds an example document to
> the index and then runs the comp* query that shows this problem?
>
> Thanks,
> Otis
>
>
> --- Stephane NOBILET <snobilet@sqli.com> wrote:
> > Hello !
> >
> > version : lucene 1.3 final
> >
> > I search : comptable, I find the document.
> > I search : compt*, I find so
> > but : comp*, I don' find my document.
> >
> > Have you meet this problem ?
> >
> > Thanks
> >
> > excuse me for my english...
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 17:17:11 2004
Return-Path: <lucene-user-return-7444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47317 invoked from network); 9 Mar 2004 17:17:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 17:17:11 -0000
Received: (qmail 31572 invoked by uid 500); 9 Mar 2004 17:16:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31475 invoked by uid 500); 9 Mar 2004 17:16:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31376 invoked from network); 9 Mar 2004 17:16:52 -0000
Received: from unknown (HELO mailhost.pasteur) (213.244.24.91)
  by daedalus.apache.org with SMTP; 9 Mar 2004 17:16:52 -0000
Received: from srvmail.pasteur (srvmail.pasteur [172.31.1.50])
	by mailhost.pasteur (8.12.3/8.12.3) with ESMTP id i29HGgtR019153;
	Tue, 9 Mar 2004 18:16:42 +0100
Received: from pcsqli (pcsqli.pasteur [172.31.9.19])
	by srvmail.pasteur (Postfix) with SMTP
	id 9BCA0173498; Tue,  9 Mar 2004 18:16:53 +0100 (CET)
Message-ID: <009a01c405fa$8e25c7a0$13091fac@pcsqli>
From: "Stephane NOBILET" <snobilet@sqli.com>
To: "Paladin  " <paladin3@club-internet.fr>,
   "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <005601c405f5$447d3840$13091fac@pcsqli> <001f01c405f6$0f0165a0$5f96223e@strongho78bbzo> <006501c405f6$74f03710$13091fac@pcsqli> <003101c405f8$84602be0$5f96223e@strongho78bbzo>
Subject: Re: Wildcards problem
Date: Tue, 9 Mar 2004 18:18:35 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

donc c'est possible que lorsque je cherche comp* ma requte dveloppe
contienne les mots comme
comptage, compte ( d'ailleurs il me ramne des docs contenants ces mots )
mais pas comptable car il y a trop de lettre ????

c'est possible ?

il n'y a pas un paramtre qui limite le nombre de mots dans la requte
dveloppe ? ou le nombre de caractres derrire "* " ?






----- Original Message -----
From: "Paladin " <paladin3@club-internet.fr>
To: "Stephane NOBILET" <snobilet@sqli.com>
Sent: Tuesday, March 09, 2004 6:04 PM
Subject: Re: Wildcards problem


Attention ;)
La recherche peut tomber en erreur meme si il y a peu de documents, en fait
ca vient surtout de la taille de la requt "developp" (l o je travaille
si tu recherches les articles "francais" ca marche (3 millions de
documents), si tu recherche les 14* (ce qui correspond aux articles
francais; 3 millions toujours) ca ne marche plus (nuance de taille, je me
suis battu avec pendant 1 mois pour comprendre exactement le mcanisme de ce
plantage et grer correctement le problme).
Pour expliquer le phnomne de l'* on va prendre une liste numrique.
1400 bleu
1401 bleu
1403 bleu
1410 bleu
1412 bleu
Si tu recher sur "bleu" ta requt "developp" ne contiendra que "bleu", si
tu recherche 14*, ta requete va contenir 1400 ou 1401 ou.... 1412. D'ou un
plantage mmoire AVANT la recherche.
Cela dit ca n'a pas l'air d'tre le cas ici car dans ce cas lucene ne doit
rien ramener (en 1.2 en tout cas, ca a peut etre changer en 1.3 !)

Il faut ( mon avis) vrifier l'indexation de tes documents et l'analyseur
de requete.
Essaye de poster un morceau de ton code comme otis te le suggre (je vois
que c'est fait et je pense comme lui meme si je n'carte pas un problme
memoire du a la requete)

----- Original Message -----
From: "Stephane NOBILET" <snobilet@sqli.com>
To: "Paladin " <paladin3@club-internet.fr>
Sent: Tuesday, March 09, 2004 5:49 PM
Subject: Re: Wildcards problem


> Non elle ne tombe pas en erreur car elle me ramne d'autres documents ...
>
> et on retrouve ce pb lorsqu'il y a peu de document !!!
>
>
>
>
> ----- Original Message -----




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 17:48:23 2004
Return-Path: <lucene-user-return-7445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66158 invoked from network); 9 Mar 2004 17:48:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 17:48:23 -0000
Received: (qmail 13386 invoked by uid 500); 9 Mar 2004 17:47:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13334 invoked by uid 500); 9 Mar 2004 17:47:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13282 invoked from network); 9 Mar 2004 17:47:54 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 9 Mar 2004 17:47:54 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20040309174748015005f9lse>; Tue, 9 Mar 2004 17:47:49 +0000
Message-ID: <404E0320.9010303@apache.org>
Date: Tue, 09 Mar 2004 09:47:12 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com>
In-Reply-To: <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Well, one issue you didn't consider is changing a public method 
> signature.  I will make this change, but leave the Hashtable signature 
> method there.  I suppose we could change the signature to use a Map 
> instead, but I believe there are some issues with doing something like 
> this if you do not recompile your own source code against a new Lucene 
> JAR.... so I will simply provide another signature too.

This is also a problem for folks who're implementing analyzers which use 
StopFilter.  For example:

public MyAnalyzer extends Analyzer {

   private static Hashtable stopTable =
     StopFilter.makeStopTable(stopWords);

   public TokenStream tokenStream(String field, Reader reader) {
     ... new StopFilter(stopTable) ...

}

This would no longer compile with the change Kevin proposes.

To make things back-compatible we must:

1. Keep but deprectate StopFilter(Hashtable) constructor;
2. Keep but deprecate StopFilter.makeStopTable(String[]);
3. Add a new constructor: StopFilter(HashMap);
4. Add a new method: StopFilter.makeStopMap(String[]);

Does that make sense?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 17:52:48 2004
Return-Path: <lucene-user-return-7446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68957 invoked from network); 9 Mar 2004 17:52:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 17:52:48 -0000
Received: (qmail 29673 invoked by uid 500); 9 Mar 2004 17:52:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29648 invoked by uid 500); 9 Mar 2004 17:52:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29635 invoked from network); 9 Mar 2004 17:52:34 -0000
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by daedalus.apache.org with SMTP; 9 Mar 2004 17:52:34 -0000
Received: from petmystone.com ([4.21.127.43])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i29Hqb405302
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 11:52:37 -0600
Message-ID: <404E046B.50707@petmystone.com>
Date: Tue, 09 Mar 2004 12:52:43 -0500
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Search Bean contribution question
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

List,

I bit off more than I could chew for a noob to Struts and got lost 
trying to follow ACO's advice in the demo to apply MVC practices to 
Lucene. I have had some success with Struts now and I'm getting the hang 
of it in some other applications, converting one or two as well.

I found the SearchBean implementation in the sandbox. Can this be 
succesfully employed in a Struts application? For instance, applying MVC 
to the demo, an exercise I'm trying to under take.

Many thanks,
Tim


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 18:48:50 2004
Return-Path: <lucene-user-return-7447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99762 invoked from network); 9 Mar 2004 18:48:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 18:48:50 -0000
Received: (qmail 70131 invoked by uid 500); 9 Mar 2004 18:48:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69968 invoked by uid 500); 9 Mar 2004 18:48:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69911 invoked from network); 9 Mar 2004 18:48:35 -0000
Received: from unknown (HELO mta.micromuse.com) (194.131.185.92)
  by daedalus.apache.org with SMTP; 9 Mar 2004 18:48:35 -0000
Received: from tropo.com ([10.0.0.157])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id i29ImaH09117
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 18:48:38 GMT
Message-ID: <404E1184.9010302@tropo.com>
Date: Tue, 09 Mar 2004 10:48:36 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org>
In-Reply-To: <404E0320.9010303@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Maybe I missed something but I always thought the stop list should be a 
Set, not a Map (or Hashtable/Dictionary). After all, all you need to 
know is existence and that's what a Set does.

Doug Cutting wrote:

> Erik Hatcher wrote:
> 
>> Well, one issue you didn't consider is changing a public method 
>> signature.  I will make this change, but leave the Hashtable signature 
>> method there.  I suppose we could change the signature to use a Map 
>> instead, but I believe there are some issues with doing something like 
>> this if you do not recompile your own source code against a new Lucene 
>> JAR.... so I will simply provide another signature too.
> 
> 
> This is also a problem for folks who're implementing analyzers which use 
> StopFilter.  For example:
> 
> public MyAnalyzer extends Analyzer {
> 
>   private static Hashtable stopTable =
>     StopFilter.makeStopTable(stopWords);
> 
>   public TokenStream tokenStream(String field, Reader reader) {
>     ... new StopFilter(stopTable) ...
> 
> }
> 
> This would no longer compile with the change Kevin proposes.
> 
> To make things back-compatible we must:
> 
> 1. Keep but deprectate StopFilter(Hashtable) constructor;
> 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> 3. Add a new constructor: StopFilter(HashMap);
> 4. Add a new method: StopFilter.makeStopMap(String[]);
> 
> Does that make sense?
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:03:21 2004
Return-Path: <lucene-user-return-7448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8457 invoked from network); 9 Mar 2004 19:03:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:03:20 -0000
Received: (qmail 5683 invoked by uid 500); 9 Mar 2004 19:03:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5655 invoked by uid 500); 9 Mar 2004 19:03:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5642 invoked from network); 9 Mar 2004 19:03:06 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:03:06 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004030919031001200irsk9e>; Tue, 9 Mar 2004 19:03:10 +0000
Message-ID: <404E14D1.3010006@apache.org>
Date: Tue, 09 Mar 2004 11:02:41 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1184.9010302@tropo.com>
In-Reply-To: <404E1184.9010302@tropo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David Spencer wrote:
> Maybe I missed something but I always thought the stop list should be a 
> Set, not a Map (or Hashtable/Dictionary). After all, all you need to 
> know is existence and that's what a Set does.

Good point.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:21:29 2004
Return-Path: <lucene-user-return-7449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26978 invoked from network); 9 Mar 2004 19:21:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:21:29 -0000
Received: (qmail 51786 invoked by uid 500); 9 Mar 2004 19:21:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51561 invoked by uid 500); 9 Mar 2004 19:21:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51537 invoked from network); 9 Mar 2004 19:21:15 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:21:15 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29JLEtG020660
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 11:21:19 -0800
Message-ID: <404E10B3.60401@newsmonster.org>
Date: Tue, 09 Mar 2004 10:45:07 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org>
In-Reply-To: <404E0320.9010303@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigF928A68CAA64BB5454E40340"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigF928A68CAA64BB5454E40340
Content-Type: multipart/mixed;
 boundary="------------000003050209090806020905"

This is a multi-part message in MIME format.
--------------000003050209090806020905
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> Erik Hatcher wrote:
>
>> Well, one issue you didn't consider is changing a public method 
>> signature.  I will make this change, but leave the Hashtable 
>> signature method there.  I suppose we could change the signature to 
>> use a Map instead, but I believe there are some issues with doing 
>> something like this if you do not recompile your own source code 
>> against a new Lucene JAR.... so I will simply provide another 
>> signature too.
>
>
> This is also a problem for folks who're implementing analyzers which 
> use StopFilter.  For example:
>
> public MyAnalyzer extends Analyzer {
>
>   private static Hashtable stopTable =
>     StopFilter.makeStopTable(stopWords);
>
>   public TokenStream tokenStream(String field, Reader reader) {
>     ... new StopFilter(stopTable) ...
>
> }
>
> This would no longer compile with the change Kevin proposes.
>
> To make things back-compatible we must:
>
> 1. Keep but deprectate StopFilter(Hashtable) constructor;
> 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> 3. Add a new constructor: StopFilter(HashMap);
> 4. Add a new method: StopFilter.makeStopMap(String[]);
>
> Does that make sense?

Ah... ok... good point.  If no one does this I'll take care of it...

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------000003050209090806020905
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------000003050209090806020905--

--------------enigF928A68CAA64BB5454E40340
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAThC06E2NBJnxRBIRAv96AKDg6nHbZ1vajUJ+UAnHEOl/E9+GoACfSIvd
nzv4GwRZ3MOdJpccJycVQ8Q=
=+XIt
-----END PGP SIGNATURE-----

--------------enigF928A68CAA64BB5454E40340--

From lucene-user-return-7450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:22:54 2004
Return-Path: <lucene-user-return-7450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28223 invoked from network); 9 Mar 2004 19:22:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:22:53 -0000
Received: (qmail 59263 invoked by uid 500); 9 Mar 2004 19:22:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59239 invoked by uid 500); 9 Mar 2004 19:22:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59225 invoked from network); 9 Mar 2004 19:22:38 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:22:38 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29JMgtG020663
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 11:22:43 -0800
Message-ID: <404E110C.4080401@newsmonster.org>
Date: Tue, 09 Mar 2004 10:46:36 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1184.9010302@tropo.com>
In-Reply-To: <404E1184.9010302@tropo.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig5A58F453819ADF2BFF9A7F53"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig5A58F453819ADF2BFF9A7F53
Content-Type: multipart/mixed;
 boundary="------------000604000808050009060105"

This is a multi-part message in MIME format.
--------------000604000808050009060105
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

David Spencer wrote:

>
> Maybe I missed something but I always thought the stop list should be 
> a Set, not a Map (or Hashtable/Dictionary). After all, all you need to 
> know is existence and that's what a Set does.

It stores the word as the key and the value...

I don't care either way... There was no HashSet back when this was 
written. I was just going to leave it as a HashMap so that in the future 
if we ever wanted to change the value we could...

Either way.

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------000604000808050009060105
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------000604000808050009060105--

--------------enig5A58F453819ADF2BFF9A7F53
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAThEM6E2NBJnxRBIRAjYSAKDUBQzE1RcZr9xhDCBRt2vA1K3ghACePGrc
DRU19kFLdn7sOTpcMCpwk0Y=
=Vssj
-----END PGP SIGNATURE-----

--------------enig5A58F453819ADF2BFF9A7F53--

From lucene-user-return-7451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:37:13 2004
Return-Path: <lucene-user-return-7451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38191 invoked from network); 9 Mar 2004 19:37:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:37:13 -0000
Received: (qmail 1219 invoked by uid 500); 9 Mar 2004 19:36:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1197 invoked by uid 500); 9 Mar 2004 19:36:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1182 invoked from network); 9 Mar 2004 19:36:57 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:36:57 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29Jb1tG020679
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 11:37:02 -0800
Message-ID: <404E1465.4030503@newsmonster.org>
Date: Tue, 09 Mar 2004 11:00:53 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org>
In-Reply-To: <404E0320.9010303@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigF874C552CCBAA54D54857853"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigF874C552CCBAA54D54857853
Content-Type: multipart/mixed;
 boundary="------------010300010004030804000104"

This is a multi-part message in MIME format.
--------------010300010004030804000104
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> Erik Hatcher wrote:
>
>> Well, one issue you didn't consider is changing a public method 
>> signature.  I will make this change, but leave the Hashtable 
>> signature method there.  I suppose we could change the signature to 
>> use a Map instead, but I believe there are some issues with doing 
>> something like this if you do not recompile your own source code 
>> against a new Lucene JAR.... so I will simply provide another 
>> signature too.
>
>
> This would no longer compile with the change Kevin proposes.
>
> To make things back-compatible we must:
>
> 1. Keep but deprectate StopFilter(Hashtable) constructor;
> 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> 3. Add a new constructor: StopFilter(HashMap);
> 4. Add a new method: StopFilter.makeStopMap(String[]);
>
> Does that make sense?
>
This patch and attachment take care of this problem... 

It does make this class more complex than it needs to be... but 1/2 of 
the methods are deprecated.

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------010300010004030804000104
Content-Type: text/plain;
 name="StopFilter.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="StopFilter.java"

package org.apache.lucene.analysis;

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import java.util.*;

/** Removes stop words from a token stream. */

public final class StopFilter extends TokenFilter {

  //Note: this could migrate to using a HashSet
  private HashMap map;

  /** Constructs a filter which removes words from the input
    TokenStream that are named in the array of words. */
  public StopFilter(TokenStream in, String[] stopWords) {
    super(in);
    map = makeStopMap(stopWords);
  }

  /** Constructs a filter which removes words from the input
    TokenStream that are named in the HashMap. */
  public StopFilter(TokenStream in, HashMap stopMap) {
    super(in);
    map = stopMap;
  }

  /**
   * @deprecated Use HashMap instead.
   */
  public StopFilter(TokenStream in, Hashtable stopTable) {
    super(in);
    map = new HashMap();

    Enumeration keys = stopTable.keys();
    while ( keys.hasMoreElements() ) {
        Object key = keys.nextElement();
        map.put( key, stopTable.get( key ) );
    } 

  }

  /** Builds a HashMap from an array of stop words, appropriate for passing
    into the StopFilter constructor.  This permits this table construction to
    be cached once when an Analyzer is constructed. */
  public static final HashMap makeStopMap(String[] stopWords) {
      HashMap stopMap = new HashMap(stopWords.length);

      for (int i = 0; i < stopWords.length; i++)
          stopMap.put(stopWords[i], stopWords[i]);

      return stopMap;
  }

  /**
   * 
   * @deprecated Use makeStopMap instead.
   * @see #makeStopMap
   */
  public static final Hashtable makeStopTable(String[] stopWords) {
    Hashtable stopTable = new Hashtable(stopWords.length);
    for (int i = 0; i < stopWords.length; i++)
      stopTable.put(stopWords[i], stopWords[i]);
    return stopTable;
  }
    
  /** Returns the next input Token whose termText() is not a stop word. */
  public final Token next() throws IOException {
    // return the first non-stop word found
    for (Token token = input.next(); token != null; token = input.next())
      if (map.get(token.termText) == null)
	return token;
    // reached EOS -- return null
    return null;
  }
}

--------------010300010004030804000104
Content-Type: text/plain;
 name="StopFilter.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="StopFilter.patch"

--- StopFilter.orig	2004-03-09 10:48:25.061757372 -0800
+++ StopFilter.java	2004-03-09 10:56:25.581970732 -0800
@@ -55,43 +55,73 @@
  */
 
 import java.io.IOException;
-import java.util.Hashtable;
+import java.util.*;
 
 /** Removes stop words from a token stream. */
 
 public final class StopFilter extends TokenFilter {
 
-  private Hashtable table;
+  //Note: this could migrate to using a HashSet
+  private HashMap map;
 
   /** Constructs a filter which removes words from the input
     TokenStream that are named in the array of words. */
   public StopFilter(TokenStream in, String[] stopWords) {
     super(in);
-    table = makeStopTable(stopWords);
+    map = makeStopMap(stopWords);
   }
 
   /** Constructs a filter which removes words from the input
-    TokenStream that are named in the Hashtable. */
+    TokenStream that are named in the HashMap. */
+  public StopFilter(TokenStream in, HashMap stopMap) {
+    super(in);
+    map = stopMap;
+  }
+
+  /**
+   * @deprecated Use HashMap instead.
+   */
   public StopFilter(TokenStream in, Hashtable stopTable) {
     super(in);
-    table = stopTable;
+    map = new HashMap();
+
+    Enumeration keys = stopTable.keys();
+    while ( keys.hasMoreElements() ) {
+        Object key = keys.nextElement();
+        map.put( key, stopTable.get( key ) );
+    } 
+
   }
-  
-  /** Builds a Hashtable from an array of stop words, appropriate for passing
+
+  /** Builds a HashMap from an array of stop words, appropriate for passing
     into the StopFilter constructor.  This permits this table construction to
     be cached once when an Analyzer is constructed. */
+  public static final HashMap makeStopMap(String[] stopWords) {
+      HashMap stopMap = new HashMap(stopWords.length);
+
+      for (int i = 0; i < stopWords.length; i++)
+          stopMap.put(stopWords[i], stopWords[i]);
+
+      return stopMap;
+  }
+
+  /**
+   * 
+   * @deprecated Use makeStopMap instead.
+   * @see #makeStopMap
+   */
   public static final Hashtable makeStopTable(String[] stopWords) {
     Hashtable stopTable = new Hashtable(stopWords.length);
     for (int i = 0; i < stopWords.length; i++)
       stopTable.put(stopWords[i], stopWords[i]);
     return stopTable;
   }
-
+    
   /** Returns the next input Token whose termText() is not a stop word. */
   public final Token next() throws IOException {
     // return the first non-stop word found
     for (Token token = input.next(); token != null; token = input.next())
-      if (table.get(token.termText) == null)
+      if (map.get(token.termText) == null)
 	return token;
     // reached EOS -- return null
     return null;

--------------010300010004030804000104
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------010300010004030804000104--

--------------enigF874C552CCBAA54D54857853
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAThRn6E2NBJnxRBIRArMyAJ9TvbtTUjy55aPYJ6somTeMAOXOIQCgrcth
LGzRK/08A5aigiBOp/vBltI=
=24mJ
-----END PGP SIGNATURE-----

--------------enigF874C552CCBAA54D54857853--

From lucene-user-return-7452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:39:44 2004
Return-Path: <lucene-user-return-7452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40145 invoked from network); 9 Mar 2004 19:39:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:39:44 -0000
Received: (qmail 15144 invoked by uid 500); 9 Mar 2004 19:39:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15112 invoked by uid 500); 9 Mar 2004 19:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15098 invoked from network); 9 Mar 2004 19:39:27 -0000
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:39:27 -0000
Received: from petmystone.com ([4.21.127.43])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i29JdWp18010
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 13:39:32 -0600
Message-ID: <404E1D74.1020206@petmystone.com>
Date: Tue, 09 Mar 2004 14:39:32 -0500
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
References: <200403051215.40713.lucene@nitwit.de>
In-Reply-To: <200403051215.40713.lucene@nitwit.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

lucene@nitwit.de wrote:

> Hi!
> 
> I want to store numbers (id) in my index:
> 
> 	long id = 1069421083284;
> 	doc.add(Field.UnStored("in", String.valueOf(id)));	
> 
> But searching for "id:1069421083284" doesn't return any hits.
> 
> Well, did I misunderstand something? UnStored is the number is stored but not 
> index (analyzed), isn't it? Anyway, Field.Text doesn't work either.
> 
> TIA
> Timo

Craig Walls wrote an excellent article in JDJ at the end of 2002 
regarding Lucene (not shown in any of the resources BTW). He documents 
using Lucene along side a database as well as provides two classes (and 
others unrelated) that extend the functionality of the StopAnalyzer to 
include numbers and or alpha numerics.

Check out the article at: 
http://www.sys-con.com/story/print.cfm?storyid=37296

HTH,
Tim

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:42:34 2004
Return-Path: <lucene-user-return-7453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41551 invoked from network); 9 Mar 2004 19:42:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:42:34 -0000
Received: (qmail 26847 invoked by uid 500); 9 Mar 2004 19:42:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26684 invoked by uid 500); 9 Mar 2004 19:42:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26670 invoked from network); 9 Mar 2004 19:42:18 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:42:18 -0000
Received: from h00e07dd8f05b.ne.client2.attbi.com ([24.60.185.190] helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with esmtp (Exim 4.24)
	id 1B0n7O-0005Xu-Mz
	for lucene-user@jakarta.apache.org; Tue, 09 Mar 2004 13:42:22 -0600
Message-Id: <6.0.0.22.0.20040309144152.0256c340@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 09 Mar 2004 14:42:17 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Storing numbers
In-Reply-To: <404E1D74.1020206@petmystone.com>
References: <200403051215.40713.lucene@nitwit.de>
 <404E1D74.1020206@petmystone.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_104258203==.ALT"
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_104258203==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Tim,

Looks like you can only access it with a subscription.  :(  Sounds good, 
though.

-Mike

At 02:39 PM 3/9/2004, you wrote:
>lucene@nitwit.de wrote:
>
>>Hi!
>>I want to store numbers (id) in my index:
>>         long id = 1069421083284;
>>         doc.add(Field.UnStored("in", String.valueOf(id)));
>>But searching for "id:1069421083284" doesn't return any hits.
>>Well, did I misunderstand something? UnStored is the number is stored but 
>>not index (analyzed), isn't it? Anyway, Field.Text doesn't work either.
>>TIA
>>Timo
>
>Craig Walls wrote an excellent article in JDJ at the end of 2002 regarding 
>Lucene (not shown in any of the resources BTW). He documents using Lucene 
>along side a database as well as provides two classes (and others 
>unrelated) that extend the functionality of the StopAnalyzer to include 
>numbers and or alpha numerics.
>
>Check out the article at: http://www.sys-con.com/story/print.cfm?storyid=37296
>
>HTH,
>Tim
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

________________________________________________________________________
Save and share anything you find online - Furl @ http://www.furl.net  
--=====================_104258203==.ALT--



From lucene-user-return-7454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 19:51:08 2004
Return-Path: <lucene-user-return-7454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46838 invoked from network); 9 Mar 2004 19:51:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 19:51:07 -0000
Received: (qmail 56127 invoked by uid 500); 9 Mar 2004 19:50:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56093 invoked by uid 500); 9 Mar 2004 19:50:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56040 invoked from network); 9 Mar 2004 19:50:52 -0000
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by daedalus.apache.org with SMTP; 9 Mar 2004 19:50:52 -0000
Received: from petmystone.com ([4.21.127.43])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i29JovH19567
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 13:50:57 -0600
Message-ID: <404E2026.8050809@petmystone.com>
Date: Tue, 09 Mar 2004 14:51:02 -0500
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
References: <200403051215.40713.lucene@nitwit.de> <404E1D74.1020206@petmystone.com> <6.0.0.22.0.20040309144152.0256c340@mail.visionstudio.com>
In-Reply-To: <6.0.0.22.0.20040309144152.0256c340@mail.visionstudio.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Giles wrote:

> Tim,
> 
> Looks like you can only access it with a subscription.  :(  Sounds good, 
> though.
> 
> -Mike

Really? I don't have a subscription. Got to it via the archives actually 
now that I think about it:

Try Volume 7, Issue 12.

Sorry about that bad URL. But Sys-Con must set a cookie (yep) following 
the sub splash. Try the link again. I just deleted my cookie, got a 
sub-splash and then tried the archive again and it worked.

Odd, but it works. Get it before sys-con is on to us. :)

Tim

> 
> At 02:39 PM 3/9/2004, you wrote:
> 
>> lucene@nitwit.de wrote:
>>
>>> Hi!
>>> I want to store numbers (id) in my index:
>>>         long id = 1069421083284;
>>>         doc.add(Field.UnStored("in", String.valueOf(id)));
>>> But searching for "id:1069421083284" doesn't return any hits.
>>> Well, did I misunderstand something? UnStored is the number is stored 
>>> but not index (analyzed), isn't it? Anyway, Field.Text doesn't work 
>>> either.
>>> TIA
>>> Timo
>>
>>
>> Craig Walls wrote an excellent article in JDJ at the end of 2002 
>> regarding Lucene (not shown in any of the resources BTW). He documents 
>> using Lucene along side a database as well as provides two classes 
>> (and others unrelated) that extend the functionality of the 
>> StopAnalyzer to include numbers and or alpha numerics.
>>
>> Check out the article at: 
>> http://www.sys-con.com/story/print.cfm?storyid=37296
>>
>> HTH,
>> Tim
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> ________________________________________________________________________
> Save and share anything you find online - Furl @ http://www.furl.net 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 20:45:54 2004
Return-Path: <lucene-user-return-7455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90756 invoked from network); 9 Mar 2004 20:45:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 20:45:54 -0000
Received: (qmail 94503 invoked by uid 500); 9 Mar 2004 20:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94425 invoked by uid 500); 9 Mar 2004 20:45:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94412 invoked from network); 9 Mar 2004 20:45:38 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 20:45:38 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29KjgtG020768
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 12:45:43 -0800
Message-ID: <404E247E.2050507@newsmonster.org>
Date: Tue, 09 Mar 2004 12:09:34 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1184.9010302@tropo.com> <404E14D1.3010006@apache.org>
In-Reply-To: <404E14D1.3010006@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig1DCDEF1712F5A9C51FCB5931"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig1DCDEF1712F5A9C51FCB5931
Content-Type: multipart/mixed;
 boundary="------------090406090802080807030301"

This is a multi-part message in MIME format.
--------------090406090802080807030301
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> David Spencer wrote:
>
>> Maybe I missed something but I always thought the stop list should be 
>> a Set, not a Map (or Hashtable/Dictionary). After all, all you need 
>> to know is existence and that's what a Set does.
>
>
> Good point.

It's easy to migrate to a HashSet... either way...   I was thinking 
about the same thing myself...

Kevin

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------090406090802080807030301
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------090406090802080807030301--

--------------enig1DCDEF1712F5A9C51FCB5931
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATiSA6E2NBJnxRBIRAhYSAJ9JQxZrlIjPtb6Rz5Ju5+WZLDJYhACaAoyG
qhY5MKWKh+nibSgq51EjguY=
=L7RN
-----END PGP SIGNATURE-----

--------------enig1DCDEF1712F5A9C51FCB5931--

From lucene-user-return-7456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 21:16:07 2004
Return-Path: <lucene-user-return-7456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11533 invoked from network); 9 Mar 2004 21:16:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 21:16:07 -0000
Received: (qmail 65646 invoked by uid 500); 9 Mar 2004 21:15:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65623 invoked by uid 500); 9 Mar 2004 21:15:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65598 invoked from network); 9 Mar 2004 21:15:49 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 21:15:49 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29LFhtG020808
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 13:15:44 -0800
Message-ID: <404E2B87.7050905@newsmonster.org>
Date: Tue, 09 Mar 2004 12:39:35 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: FSDirectory should have getFile() (patch)
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig74D3F2EAF8867DEB0A27F183"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig74D3F2EAF8867DEB0A27F183
Content-Type: multipart/mixed;
 boundary="------------000206090609090600080401"

This is a multi-part message in MIME format.
--------------000206090609090600080401
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Another patch... when using FSDirectory it makes sense to be able to get 
the file it was created with.  It's a private member anyway... I just 
added a getter.

This way you don't have to move around two lists or maintain maps...

-- 

Please reply using PGP:

    http://peerfear.org/pubkey.asc    

    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------000206090609090600080401
Content-Type: text/plain;
 name="FSDirectory.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="FSDirectory.java"

package org.apache.lucene.store;

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001, 2003 The Apache Software Foundation.  All
 * rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import java.io.File;
import java.io.RandomAccessFile;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.util.Hashtable;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;

import org.apache.lucene.util.Constants;

/**
 * Straightforward implementation of {@link Directory} as a directory of files.
 * <p>If the system property 'disableLuceneLocks' has the String value of
 * "true", lock creation will be disabled.
 *
 * @see Directory
 * @author Doug Cutting
 */
public final class FSDirectory extends Directory {
  /** This cache of directories ensures that there is a unique Directory
   * instance per path, so that synchronization on the Directory can be used to
   * synchronize access between readers and writers.
   *
   * This should be a WeakHashMap, so that entries can be GC'd, but that would
   * require Java 1.2.  Instead we use refcounts...
   */
  private static final Hashtable DIRECTORIES = new Hashtable();

  private static final boolean DISABLE_LOCKS =
      Boolean.getBoolean("disableLuceneLocks") || Constants.JAVA_1_1;

  private static MessageDigest DIGESTER;
 
  static {
    try {
      DIGESTER = MessageDigest.getInstance("MD5");
    } catch (NoSuchAlgorithmException e) {
        throw new RuntimeException(e.toString());
    }
  }

  /** A buffer optionally used in renameTo method */
  private byte[] buffer = null;

  /** Returns the directory instance for the named location.
   *
   * <p>Directories are cached, so that, for a given canonical path, the same
   * FSDirectory instance will always be returned.  This permits
   * synchronization on directories.
   *
   * @param path the path to the directory.
   * @param create if true, create, or erase any existing contents.
   * @return the FSDirectory for the named file.  */
  public static FSDirectory getDirectory(String path, boolean create)
      throws IOException {
    return getDirectory(new File(path), create);
  }

  /** Returns the directory instance for the named location.
   *
   * <p>Directories are cached, so that, for a given canonical path, the same
   * FSDirectory instance will always be returned.  This permits
   * synchronization on directories.
   *
   * @param file the path to the directory.
   * @param create if true, create, or erase any existing contents.
   * @return the FSDirectory for the named file.  */
  public static FSDirectory getDirectory(File file, boolean create)
    throws IOException {
    file = new File(file.getCanonicalPath());
    FSDirectory dir;
    synchronized (DIRECTORIES) {
      dir = (FSDirectory)DIRECTORIES.get(file);
      if (dir == null) {
        dir = new FSDirectory(file, create);
        DIRECTORIES.put(file, dir);
      } else if (create) {
        dir.create();
      }
    }
    synchronized (dir) {
      dir.refCount++;
    }
    return dir;
  }

  private File directory = null;
  private int refCount;

  private FSDirectory(File path, boolean create) throws IOException {
    directory = path;

    if (create)
      create();

    if (!directory.isDirectory())
      throw new IOException(path + " not a directory");
  }

  private synchronized void create() throws IOException {
    if (!directory.exists())
      if (!directory.mkdir())
        throw new IOException("Cannot create directory: " + directory);

    String[] files = directory.list();            // clear old files
    for (int i = 0; i < files.length; i++) {
      File file = new File(directory, files[i]);
      if (!file.delete())
        throw new IOException("couldn't delete " + files[i]);
    }
    
    String lockPrefix = getLockPrefix().toString(); // clear old locks
    File tmpdir = new File(System.getProperty("java.io.tmpdir"));
    files = tmpdir.list();
    for (int i = 0; i < files.length; i++) {      
      if (!files[i].startsWith(lockPrefix))
        continue;
      File file = new File(tmpdir, files[i]);
      if (!file.delete())
        throw new IOException("couldn't delete " + files[i]);
    }
  }

  /** Returns an array of strings, one for each file in the directory. */
  public final String[] list() throws IOException {
    return directory.list();
  }

  /** Returns true iff a file with the given name exists. */
  public final boolean fileExists(String name) throws IOException {
    File file = new File(directory, name);
    return file.exists();
  }

  /** Returns the time the named file was last modified. */
  public final long fileModified(String name) throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Returns the time the named file was last modified. */
  public static final long fileModified(File directory, String name)
       throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Set the modified time of an existing file to now. */
  public void touchFile(String name) throws IOException {
    File file = new File(directory, name);
    file.setLastModified(System.currentTimeMillis());
  }

  /** Returns the length in bytes of a file in the directory. */
  public final long fileLength(String name) throws IOException {
    File file = new File(directory, name);
    return file.length();
  }

  /** Removes an existing file in the directory. */
  public final void deleteFile(String name) throws IOException {
    File file = new File(directory, name);
    if (!file.delete())
      throw new IOException("couldn't delete " + name);
  }

  /** Renames an existing file in the directory. */
  public final synchronized void renameFile(String from, String to)
      throws IOException {
    File old = new File(directory, from);
    File nu = new File(directory, to);

    /* This is not atomic.  If the program crashes between the call to
       delete() and the call to renameTo() then we're screwed, but I've
       been unable to figure out how else to do this... */

    if (nu.exists())
      if (!nu.delete())
        throw new IOException("couldn't delete " + to);

    // Rename the old file to the new one. Unfortunately, the renameTo()
    // method does not work reliably under some JVMs.  Therefore, if the
    // rename fails, we manually rename by copying the old file to the new one
    if (!old.renameTo(nu)) {
      java.io.InputStream in = null;
      java.io.OutputStream out = null;
      try {
        in = new FileInputStream(old);
        out = new FileOutputStream(nu);
        // see if the buffer needs to be initialized. Initialization is
        // only done on-demand since many VM's will never run into the renameTo
        // bug and hence shouldn't waste 1K of mem for no reason.
        if (buffer == null) {
          buffer = new byte[1024];
        }
        int len;
        while ((len = in.read(buffer)) >= 0) {
          out.write(buffer, 0, len);
        }

        // delete the old file.
        old.delete();
      }
      catch (IOException ioe) {
        throw new IOException("couldn't rename " + from + " to " + to);
      }
      finally {
        if (in != null) {
          try {
            in.close();
          } catch (IOException e) {
            throw new RuntimeException("could not close input stream: " + e.getMessage());
          }
        }
        if (out != null) {
          try {
            out.close();
          } catch (IOException e) {
            throw new RuntimeException("could not close output stream: " + e.getMessage());
          }
        }
      }
    }
  }

  /** Creates a new, empty file in the directory with the given name.
      Returns a stream writing this file. */
  public final OutputStream createFile(String name) throws IOException {
    return new FSOutputStream(new File(directory, name));
  }

  /** Returns a stream reading an existing file. */
  public final InputStream openFile(String name) throws IOException {
    return new FSInputStream(new File(directory, name));
  }

  /**
   * So we can do some byte-to-hexchar conversion below
   */
  private static final char[] HEX_DIGITS =
  {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};

  /** Constructs a {@link Lock} with the specified name.  Locks are implemented
   * with {@link File#createNewFile() }.
   *
   * <p>In JDK 1.1 or if system property <I>disableLuceneLocks</I> is the
   * string "true", locks are disabled.  Assigning this property any other
   * string will <B>not</B> prevent creation of lock files.  This is useful for
   * using Lucene on read-only medium, such as CD-ROM.
   *
   * @param name the name of the lock file
   * @return an instance of <code>Lock</code> holding the lock
   */
  public final Lock makeLock(String name) {
    StringBuffer buf = getLockPrefix();
    buf.append("-");
    buf.append(name);

    // make the lock file in tmp, where anyone can create files.
    final File lockFile = new File(System.getProperty("java.io.tmpdir"),
                                   buf.toString());

    return new Lock() {
      public boolean obtain() throws IOException {
        if (DISABLE_LOCKS)
          return true;
        return lockFile.createNewFile();
      }
      public void release() {
        if (DISABLE_LOCKS)
          return;
        lockFile.delete();
      }
      public boolean isLocked() {
        if (DISABLE_LOCKS)
          return false;
        return lockFile.exists();
      }

      public String toString() {
        return "Lock@" + lockFile;
      }
    };
  }

  private StringBuffer getLockPrefix() {
    String dirName;                               // name to be hashed
    try {
      dirName = directory.getCanonicalPath();
    } catch (IOException e) {
      throw new RuntimeException(e.toString());
    }
    
    byte digest[];
    synchronized (DIGESTER) {
      digest = DIGESTER.digest(dirName.getBytes());
    }
    StringBuffer buf = new StringBuffer();
    buf.append("lucene-");
    for (int i = 0; i < digest.length; i++) {
      int b = digest[i];
      buf.append(HEX_DIGITS[(b >> 4) & 0xf]);
      buf.append(HEX_DIGITS[b & 0xf]);
    }

    return buf;
  }

  /** Closes the store to future operations. */
  public final synchronized void close() throws IOException {
    if (--refCount <= 0) {
      synchronized (DIRECTORIES) {
        DIRECTORIES.remove(directory);
      }
    }
  }

  /**
   * Return the File used to create this directory.
   *
   */
  public File getFile() {
    return this.directory;
  }

  /** For debug output. */
  public String toString() {
    return "FSDirectory@" + directory;
  }
}


final class FSInputStream extends InputStream {
  private class Descriptor extends RandomAccessFile {
    /* DEBUG */
    //private String name;
    /* DEBUG */
    public long position;
    public Descriptor(File file, String mode) throws IOException {
      super(file, mode);
      /* DEBUG */
      //name = file.toString();
      //debug_printInfo("OPEN");
      /* DEBUG */
    }
    
    /* DEBUG */
    //public void close() throws IOException {
    //  debug_printInfo("CLOSE");
    //    super.close();
    //}
    //
    //private void debug_printInfo(String op) {
    //  try { throw new Exception(op + " <" + name + ">"); 
    //  } catch (Exception e) {
    //    java.io.StringWriter sw = new java.io.StringWriter();
    //    java.io.PrintWriter pw = new java.io.PrintWriter(sw);
    //    e.printStackTrace(pw);
    //    System.out.println(sw.getBuffer().toString());
    //  }
    //}
    /* DEBUG */
  }

  Descriptor file = null;
  boolean isClone;

  public FSInputStream(File path) throws IOException {
    file = new Descriptor(path, "r");
    length = file.length();
  }

  /** InputStream methods */
  protected final void readInternal(byte[] b, int offset, int len)
       throws IOException {
    synchronized (file) {
      long position = getFilePointer();
      if (position != file.position) {
        file.seek(position);
        file.position = position;
      }
      int total = 0;
      do {
        int i = file.read(b, offset+total, len-total);
        if (i == -1)
          throw new IOException("read past EOF");
        file.position += i;
        total += i;
      } while (total < len);
    }
  }

  public final void close() throws IOException {
    if (!isClone)
      file.close();
  }

  /** Random-access methods */
  protected final void seekInternal(long position) throws IOException {
  }

  protected final void finalize() throws IOException {
    close();            // close the file
  }

  public Object clone() {
    FSInputStream clone = (FSInputStream)super.clone();
    clone.isClone = true;
    return clone;
  }
  
  /** Method used for testing. Returns true if the underlying
   *  file descriptor is valid.
   */
  boolean isFDValid() throws IOException {
    return file.getFD().valid();
  }
}


final class FSOutputStream extends OutputStream {
  RandomAccessFile file = null;

  public FSOutputStream(File path) throws IOException {
    file = new RandomAccessFile(path, "rw");
  }

  /** output methods: */
  public final void flushBuffer(byte[] b, int size) throws IOException {
    file.write(b, 0, size);
  }
  public final void close() throws IOException {
    super.close();
    file.close();
  }

  /** Random-access methods */
  public final void seek(long pos) throws IOException {
    super.seek(pos);
    file.seek(pos);
  }
  public final long length() throws IOException {
    return file.length();
  }

  protected final void finalize() throws IOException {
    file.close();          // close the file
  }

}

--------------000206090609090600080401
Content-Type: text/plain;
 name="FSDirectory.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="FSDirectory.patch"

--- FSDirectory.orig	2004-03-09 12:34:16.516147824 -0800
+++ FSDirectory.java	2004-03-09 12:37:41.638088923 -0800
@@ -372,6 +372,14 @@
     }
   }
 
+  /**
+   * Return the File used to create this directory.
+   *
+   */
+  public File getFile() {
+    return this.directory;
+  }
+
   /** For debug output. */
   public String toString() {
     return "FSDirectory@" + directory;

--------------000206090609090600080401
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------000206090609090600080401--

--------------enig74D3F2EAF8867DEB0A27F183
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATiuI6E2NBJnxRBIRApZvAKCOy9QCGXVu0zg966jBAilxfKVNlgCffGuB
5StxXCZ4m+2el8L/N8sVihs=
=Uno2
-----END PGP SIGNATURE-----

--------------enig74D3F2EAF8867DEB0A27F183--

From lucene-user-return-7457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 09 23:58:48 2004
Return-Path: <lucene-user-return-7457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12486 invoked from network); 9 Mar 2004 23:58:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Mar 2004 23:58:48 -0000
Received: (qmail 87116 invoked by uid 500); 9 Mar 2004 23:58:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87082 invoked by uid 500); 9 Mar 2004 23:58:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87067 invoked from network); 9 Mar 2004 23:58:27 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 9 Mar 2004 23:58:27 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i29NwYtG021150
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 15:58:35 -0800
Message-ID: <404E51B1.3000905@newsmonster.org>
Date: Tue, 09 Mar 2004 15:22:25 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: IndexWriter should call println not print (patch)
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig8D626C108CF70144EF16A258"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig8D626C108CF70144EF16A258
Content-Type: multipart/mixed;
 boundary="------------060504060105030107080806"

This is a multi-part message in MIME format.
--------------060504060105030107080806
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Just a small patch... the infoStream is calling print() not println() 
and this screws up output a big... the debug message is actually kind of 
nice:

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------060504060105030107080806
Content-Type: text/plain;
 name="IndexWriter.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="IndexWriter.patch"

--- IndexWriter.orig	2004-03-09 15:20:01.489862371 -0800
+++ IndexWriter.java	2004-03-09 15:20:10.644342341 -0800
@@ -419,7 +419,7 @@
     for (int i = minSegment; i < segmentInfos.size(); i++) {
       SegmentInfo si = segmentInfos.info(i);
       if (infoStream != null)
-	infoStream.print(" " + si.name + " (" + si.docCount + " docs)");
+	infoStream.println(" " + si.name + " (" + si.docCount + " docs)");
       IndexReader reader = new SegmentReader(si);
       merger.add(reader);
       if ((reader.directory()==this.directory) || // if we own the directory

--------------060504060105030107080806
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------060504060105030107080806--

--------------enig8D626C108CF70144EF16A258
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATlGz6E2NBJnxRBIRArDFAJ4j+rPWk6dvZ/SJxxWxAQQsGC97IACgl5rH
xQ7J7hNDw8oj28S0p0erRdI=
=/yWf
-----END PGP SIGNATURE-----

--------------enig8D626C108CF70144EF16A258--

From lucene-user-return-7458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 00:27:20 2004
Return-Path: <lucene-user-return-7458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25600 invoked from network); 10 Mar 2004 00:27:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 00:27:20 -0000
Received: (qmail 24281 invoked by uid 500); 10 Mar 2004 00:27:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24242 invoked by uid 500); 10 Mar 2004 00:27:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24221 invoked from network); 10 Mar 2004 00:27:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 10 Mar 2004 00:27:00 -0000
Received: (cpmta 24988 invoked from network); 9 Mar 2004 16:27:07 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 9 Mar 2004 16:27:07 -0800
X-Sent: 10 Mar 2004 00:27:07 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404E1465.4030503@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Tue, 9 Mar 2004 19:27:03 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin - I've made this change and committed it, using a Set.

Let me know if there are any issues with what I've committed - I 
believe I've faithfully preserved backwards compatibility.

	Erik

p.s. ...

On Mar 9, 2004, at 2:00 PM, Kevin A. Burton wrote:
>   public StopFilter(TokenStream in, Hashtable stopTable) {
>     super(in);
>     map = new HashMap();
>
>     Enumeration keys = stopTable.keys();
>     while ( keys.hasMoreElements() ) {
>         Object key = keys.nextElement();
>         map.put( key, stopTable.get( key ) );
>     }

By the way, the ctor to HashMap can take a Map, which Hashtable is also 
:))


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 02:39:21 2004
Return-Path: <lucene-user-return-7459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94654 invoked from network); 10 Mar 2004 02:39:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 02:39:21 -0000
Received: (qmail 83695 invoked by uid 500); 10 Mar 2004 02:39:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83211 invoked by uid 500); 10 Mar 2004 02:38:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83196 invoked from network); 10 Mar 2004 02:38:58 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 10 Mar 2004 02:38:58 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i2A2d6N13513
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 03:39:06 +0100
Received: from g40.incze.hu (localhost.localdomain [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i2A2d68a009882
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 03:39:06 +0100
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i2A2d5TT009880
	for lucene-user@jakarta.apache.org; Wed, 10 Mar 2004 03:39:05 +0100
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Wed, 10 Mar 2004 03:39:05 +0100
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Message-ID: <20040310023905.GG4628@incze.adsl.enternet.hu>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <404E0320.9010303@apache.org>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> This would no longer compile with the change Kevin proposes.
> 
> To make things back-compatible we must:
> 
> 1. Keep but deprectate StopFilter(Hashtable) constructor;
> 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> 3. Add a new constructor: StopFilter(HashMap);

If you'd use StopFilter(Map), then it'd be back compatible
to users using HasTable in their constructor. I'm not sure
in olde Java versions but 1.4 java Hasstable implements
Map. (And OTOH why HashMap and not Map?)

> 4. Add a new method: StopFilter.makeStopMap(String[]);
> 
> Does that make sense?
> 
> Doug


incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 03:48:16 2004
Return-Path: <lucene-user-return-7460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30025 invoked from network); 10 Mar 2004 03:48:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 03:48:15 -0000
Received: (qmail 52233 invoked by uid 500); 10 Mar 2004 03:47:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52208 invoked by uid 500); 10 Mar 2004 03:47:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52195 invoked from network); 10 Mar 2004 03:47:52 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 10 Mar 2004 03:47:52 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2A3m3tG021631
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 19:48:03 -0800
Message-ID: <404E877B.1060405@newsmonster.org>
Date: Tue, 09 Mar 2004 19:11:55 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigE14F0552682C1D65257C1E58"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigE14F0552682C1D65257C1E58
Content-Type: multipart/mixed;
 boundary="------------000306000902030305040106"

This is a multi-part message in MIME format.
--------------000306000902030305040106
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> Kevin - I've made this change and committed it, using a Set.
>
> Let me know if there are any issues with what I've committed - I 
> believe I've faithfully preserved backwards compatibility.
>
Great... I'll take a look!

> p.s. ...
>
> On Mar 9, 2004, at 2:00 PM, Kevin A. Burton wrote:
>
>>   public StopFilter(TokenStream in, Hashtable stopTable) {
>>     super(in);
>>     map = new HashMap();
>>
>>     Enumeration keys = stopTable.keys();
>>     while ( keys.hasMoreElements() ) {
>>         Object key = keys.nextElement();
>>         map.put( key, stopTable.get( key ) );
>>     }
>
>
> By the way, the ctor to HashMap can take a Map, which Hashtable is 
> also :))
>
Crap... good point.. Actually that was the FIRST thing I checked but my 
javadoc index wasn't up to date... long story.  Actually I was pissed to 
find out that it didn't implement a map interface...  :)

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------000306000902030305040106
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------000306000902030305040106--

--------------enigE14F0552682C1D65257C1E58
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATod76E2NBJnxRBIRAlwEAKCj+TSk6mSjQ0ryLxIiOltgGCtBggCcDyCt
qIP4LAioKEipV8XUrCp4E8A=
=OE+L
-----END PGP SIGNATURE-----

--------------enigE14F0552682C1D65257C1E58--

From lucene-user-return-7461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 03:59:39 2004
Return-Path: <lucene-user-return-7461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33977 invoked from network); 10 Mar 2004 03:59:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 03:59:39 -0000
Received: (qmail 61235 invoked by uid 500); 10 Mar 2004 03:59:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61215 invoked by uid 500); 10 Mar 2004 03:59:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61202 invoked from network); 10 Mar 2004 03:59:15 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 10 Mar 2004 03:59:15 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2A3xGtG021648
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 9 Mar 2004 19:59:27 -0800
Message-ID: <404E8A1C.6060809@newsmonster.org>
Date: Tue, 09 Mar 2004 19:23:08 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig1BA490FCF3954E5BC16BC0E7"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig1BA490FCF3954E5BC16BC0E7
Content-Type: multipart/mixed;
 boundary="------------050208050504080708010003"

This is a multi-part message in MIME format.
--------------050208050504080708010003
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> Kevin - I've made this change and committed it, using a Set.
>
> Let me know if there are any issues with what I've committed - I 
> believe I've faithfully preserved backwards compatibility.

Actually... Erik.. I don't think your Hashtable constructor will work...

By default Hashtable.keySet returns a SynchronizedSet. (on JDK 1.4.2). 
so were're back to where we started:

>  public StopFilter(TokenStream in, Hashtable stopTable) {
>    super(in);
>    table = stopTable.keySet();
>  }
>  
>
You need do make it a HashSet:

   table = new HashSet( stopTable.keySet() );

Also... while you're at it... the private variable name is 'table' which 
this HashSet certainly is *not* ;)

Probably makes sense to just call this variable 'hashset' and then force 
the type to be HashSet since it's necessary for this to be a HashSet to 
maintain any decent performance.  You'll need to update your second 
constructor to require a HashSet too.. would be very bad to let callers 
use another set impl... TreeSet and SortedSet would still be too slow...

Anyway... I had this feature in my patch ;)

Thanks!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------050208050504080708010003
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------050208050504080708010003--

--------------enig1BA490FCF3954E5BC16BC0E7
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFATooc6E2NBJnxRBIRAuGSAKDRqTCBmxwEVsWD5tb1wh3HlYSIGwCdGsVa
IaqJ7BWOT2IivVEqCgKC+m0=
=Pk20
-----END PGP SIGNATURE-----

--------------enig1BA490FCF3954E5BC16BC0E7--

From lucene-user-return-7462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 10:02:31 2004
Return-Path: <lucene-user-return-7462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35371 invoked from network); 10 Mar 2004 10:02:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 10:02:31 -0000
Received: (qmail 51027 invoked by uid 500); 10 Mar 2004 10:01:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51006 invoked by uid 500); 10 Mar 2004 10:01:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50992 invoked from network); 10 Mar 2004 10:01:57 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 10 Mar 2004 10:01:57 -0000
Received: (cpmta 23060 invoked from network); 10 Mar 2004 02:02:10 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 10 Mar 2004 02:02:10 -0800
X-Sent: 10 Mar 2004 10:02:10 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404E8A1C.6060809@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Wed, 10 Mar 2004 05:02:06 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 9, 2004, at 10:23 PM, Kevin A. Burton wrote:
> You need do make it a HashSet:
>
>   table = new HashSet( stopTable.keySet() );

Done.

> Also... while you're at it... the private variable name is 'table' 
> which this HashSet certainly is *not* ;)

Well, depends on your definition of 'table' I suppose :)  I changed it 
to a type-agnostic stopWords.

> Probably makes sense to just call this variable 'hashset' and then 
> force the type to be HashSet since it's necessary for this to be a 
> HashSet to maintain any decent performance.  You'll need to update 
> your second constructor to require a HashSet too.. would be very bad 
> to let callers use another set impl... TreeSet and SortedSet would 
> still be too slow...

I refuse to expose HashSet... sorry!  :)  But I did wrap what is passed 
in, like above, in a HashSet in my latest commit.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 15:23:10 2004
Return-Path: <lucene-user-return-7463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1937 invoked from network); 10 Mar 2004 15:23:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 15:23:09 -0000
Received: (qmail 65324 invoked by uid 500); 10 Mar 2004 15:23:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65116 invoked by uid 500); 10 Mar 2004 15:22:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65094 invoked from network); 10 Mar 2004 15:22:58 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 10 Mar 2004 15:22:58 -0000
Received: (qmail 8597 invoked from network); 10 Mar 2004 15:22:55 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.221.96])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 10 Mar 2004 15:22:55 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 35B112628
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 16:22:55 +0100 (CET)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Storing numbers
Date: Wed, 10 Mar 2004 16:22:54 +0100
User-Agent: KMail/1.6.1
References: <200403051215.40713.lucene@nitwit.de> <6.0.0.22.0.20040309144152.0256c340@mail.visionstudio.com> <404E2026.8050809@petmystone.com>
In-Reply-To: <404E2026.8050809@petmystone.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200403101622.54945.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 09 March 2004 20:51, Timothy Stone wrote:
> Michael Giles wrote:
> > Tim,
> >
> > Looks like you can only access it with a subscription.  :(  Sounds good,
> > though.
> >
> Really? I don't have a subscription. Got to it via the archives actually
> now that I think about it:
>
> Try Volume 7, Issue 12.

I also need an subscription for: 
http://www.sys-con.com/story/search.cfm?pub=1&ss=lucene

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 15:25:35 2004
Return-Path: <lucene-user-return-7464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4046 invoked from network); 10 Mar 2004 15:25:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 15:25:35 -0000
Received: (qmail 73244 invoked by uid 500); 10 Mar 2004 15:25:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73224 invoked by uid 500); 10 Mar 2004 15:25:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73185 invoked from network); 10 Mar 2004 15:25:01 -0000
Received: from unknown (HELO smtp.inet-systems.net) (216.162.39.2)
  by daedalus.apache.org with SMTP; 10 Mar 2004 15:25:01 -0000
Received: from ATLWS2 [216.162.35.168] by smtp.inet-systems.net
  (SMTPD32-7.07) id A48E3E200098; Wed, 10 Mar 2004 10:30:22 -0500
Reply-To: <markd@enkia.com>
From: "Mark Devaney" <markd@enkia.com>
To: <lucene-user@jakarta.apache.org>
Subject: Large document collections?
Date: Wed, 10 Mar 2004 10:26:00 -0500
Message-ID: <KOEJIIGCKGAOKLBGBLNMKEAICAAA.markd@enkia.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-RBL-Warning: REVDNS: This E-mail was sent from a mail server 216.162.35.168 with no reverse DNS entry.
X-Note: This E-mail was scanned for spam by mx.inet-systems.net.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm looking for information on the largest document collection that Lucene
has been used to index, the biggest benchmark I've been able to find so far
is 1MM documents.

I'd like to generate some benchmarks for large collections (1-100MM) records
and would like to know if this is feasible without using distributed
indexes, etc.  It's mostly to construct a performance profile relating
indexing/retrieval time and storage requirements to the number of documents.

Thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 16:05:20 2004
Return-Path: <lucene-user-return-7465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36758 invoked from network); 10 Mar 2004 16:05:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 16:05:20 -0000
Received: (qmail 99293 invoked by uid 500); 10 Mar 2004 16:05:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99260 invoked by uid 500); 10 Mar 2004 16:05:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99245 invoked from network); 10 Mar 2004 16:05:08 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 10 Mar 2004 16:05:08 -0000
Message-ID: <20040310160453.63905.qmail@web12707.mail.yahoo.com>
Received: from [195.29.121.223] by web12707.mail.yahoo.com via HTTP; Wed, 10 Mar 2004 08:04:53 PST
Date: Wed, 10 Mar 2004 08:04:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Large document collections?
To: Lucene Users List <lucene-user@jakarta.apache.org>, markd@enkia.com
In-Reply-To: <KOEJIIGCKGAOKLBGBLNMKEAICAAA.markd@enkia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think even a 100K or 1MM doc collection will give you an idea about
the retrieval time/storage requirements (which, of course, are highly
dependent on what you index and how you index it).  I know several
people have created collections with up to 50MM docs on a single
machine (not sure about number of CPUs, etc.)

Otis


--- Mark Devaney <markd@enkia.com> wrote:
> I'm looking for information on the largest document collection that
> Lucene
> has been used to index, the biggest benchmark I've been able to find
> so far
> is 1MM documents.
> 
> I'd like to generate some benchmarks for large collections (1-100MM)
> records
> and would like to know if this is feasible without using distributed
> indexes, etc.  It's mostly to construct a performance profile
> relating
> indexing/retrieval time and storage requirements to the number of
> documents.
> 
> Thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 16:20:32 2004
Return-Path: <lucene-user-return-7466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48742 invoked from network); 10 Mar 2004 16:20:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 16:20:32 -0000
Received: (qmail 40227 invoked by uid 500); 10 Mar 2004 16:20:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40203 invoked by uid 500); 10 Mar 2004 16:20:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40170 invoked from network); 10 Mar 2004 16:20:20 -0000
Received: from unknown (HELO sherri.harvard.edu) (128.103.149.87)
  by daedalus.apache.org with SMTP; 10 Mar 2004 16:20:20 -0000
Received: from h003792 (dhcp-61-202.harvard.edu [128.103.61.202])
	by camail.harvard.edu (Postfix) with SMTP id E89F31FD5A
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 11:20:22 -0500 (EST)
From: "Olga Dadasheva" <olga_dadasheva@harvard.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Storing numbers
Date: Wed, 10 Mar 2004 11:20:22 -0500
Message-ID: <CAEOLEAGBMGFPGBJNHJNMEBOCBAA.olga_dadasheva@harvard.edu>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <200403101622.54945.lucene@nitwit.de>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Try this link and scroll to top:
http://www.sys-con.com/story/?storyid=37296&DE=1#RES

Thank you, Tim - excelent article.



-----Original Message-----
From: lucene@nitwit.de [mailto:lucene@nitwit.de]
Sent: Wednesday, March 10, 2004 10:23 AM
To: Lucene Users List
Subject: Re: Storing numbers


On Tuesday 09 March 2004 20:51, Timothy Stone wrote:
> Michael Giles wrote:
> > Tim,
> >
> > Looks like you can only access it with a subscription.  :(  Sounds good,
> > though.
> >
> Really? I don't have a subscription. Got to it via the archives actually
> now that I think about it:
>
> Try Volume 7, Issue 12.

I also need an subscription for:
http://www.sys-con.com/story/search.cfm?pub=1&ss=lucene

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 16:26:46 2004
Return-Path: <lucene-user-return-7467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54698 invoked from network); 10 Mar 2004 16:26:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 16:26:46 -0000
Received: (qmail 57889 invoked by uid 500); 10 Mar 2004 16:26:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57838 invoked by uid 500); 10 Mar 2004 16:26:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57780 invoked from network); 10 Mar 2004 16:26:19 -0000
Received: from unknown (HELO relay-3v.club-internet.fr) (194.158.96.114)
  by daedalus.apache.org with SMTP; 10 Mar 2004 16:26:19 -0000
Received: from strongho78bbzo (l03m-19-84.d1.club-internet.fr [62.34.206.84])
	by relay-3v.club-internet.fr (Postfix) with SMTP
	id 583543CBD; Wed, 10 Mar 2004 17:26:21 +0100 (CET)
Message-ID: <001101c406bc$6e6caa10$54ce223e@strongho78bbzo>
Reply-To: "Paladin  " <paladin3@club-internet.fr>
From: "Paladin  " <paladin3@club-internet.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<markd@enkia.com>
References: <KOEJIIGCKGAOKLBGBLNMKEAICAAA.markd@enkia.com>
Subject: Re: Large document collections?
Date: Wed, 10 Mar 2004 17:25:59 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use several collections, one of 1 200 000 documents, one of 3 800 000 and
another one of 12 000 000 documents (for the biggests) and the performances
are quite good (except for search with wildcards).
Our machine have 1 giga bites of memory and 2 CPU.


----- Original Message ----- 
From: "Mark Devaney" <markd@enkia.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 10, 2004 4:26 PM
Subject: Large document collections?


> I'm looking for information on the largest document collection that Lucene
> has been used to index, the biggest benchmark I've been able to find so
far
> is 1MM documents.
>
> I'd like to generate some benchmarks for large collections (1-100MM)
records
> and would like to know if this is feasible without using distributed
> indexes, etc.  It's mostly to construct a performance profile relating
> indexing/retrieval time and storage requirements to the number of
documents.
>
> Thanks.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 16:35:43 2004
Return-Path: <lucene-user-return-7468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63122 invoked from network); 10 Mar 2004 16:35:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 16:35:43 -0000
Received: (qmail 87329 invoked by uid 500); 10 Mar 2004 16:35:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87300 invoked by uid 500); 10 Mar 2004 16:35:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87283 invoked from network); 10 Mar 2004 16:35:30 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 10 Mar 2004 16:35:30 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id DAC18FB062
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 17:35:29 +0100 (CET)
Message-ID: <404F4419.9080807@imente.com>
Date: Wed, 10 Mar 2004 17:36:41 +0100
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Large document collections?
References: <KOEJIIGCKGAOKLBGBLNMKEAICAAA.markd@enkia.com> <001101c406bc$6e6caa10$54ce223e@strongho78bbzo>
In-Reply-To: <001101c406bc$6e6caa10$54ce223e@strongho78bbzo>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you please provide some queries and their performance?

Thanks

Paladin wrote:

>I use several collections, one of 1 200 000 documents, one of 3 800 000 and
>another one of 12 000 000 documents (for the biggests) and the performances
>are quite good (except for search with wildcards).
>Our machine have 1 giga bites of memory and 2 CPU.
>
>
>----- Original Message ----- 
>From: "Mark Devaney" <markd@enkia.com>
>To: <lucene-user@jakarta.apache.org>
>Sent: Wednesday, March 10, 2004 4:26 PM
>Subject: Large document collections?
>
>
>  
>
>>I'm looking for information on the largest document collection that Lucene
>>has been used to index, the biggest benchmark I've been able to find so
>>    
>>
>far
>  
>
>>is 1MM documents.
>>
>>I'd like to generate some benchmarks for large collections (1-100MM)
>>    
>>
>records
>  
>
>>and would like to know if this is feasible without using distributed
>>indexes, etc.  It's mostly to construct a performance profile relating
>>indexing/retrieval time and storage requirements to the number of
>>    
>>
>documents.
>  
>
>>Thanks.
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

-- 
Albert Vila Puig
http://www.imente.com
[iMente, El mayor agregador de titulares en espaol]
Le invitamos a visitar nuestra nueva web y probar nuestros servicios


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 18:35:34 2004
Return-Path: <lucene-user-return-7469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55437 invoked from network); 10 Mar 2004 18:35:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 18:35:34 -0000
Received: (qmail 75306 invoked by uid 500); 10 Mar 2004 18:35:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75281 invoked by uid 500); 10 Mar 2004 18:35:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75266 invoked from network); 10 Mar 2004 18:35:19 -0000
Received: from unknown (HELO relay-3v.club-internet.fr) (194.158.96.114)
  by daedalus.apache.org with SMTP; 10 Mar 2004 18:35:19 -0000
Received: from strongho78bbzo (l03m-19-84.d1.club-internet.fr [62.34.206.84])
	by relay-3v.club-internet.fr (Postfix) with SMTP id 9E7CC3C54
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 19:35:22 +0100 (CET)
Message-ID: <001701c406ce$75325900$54ce223e@strongho78bbzo>
Reply-To: "Paladin  " <paladin3@club-internet.fr>
From: "Paladin  " <paladin3@club-internet.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <KOEJIIGCKGAOKLBGBLNMKEAICAAA.markd@enkia.com> <001101c406bc$6e6caa10$54ce223e@strongho78bbzo> <404F4419.9080807@imente.com>
Subject: Re: Large document collections?
Date: Wed, 10 Mar 2004 19:35:26 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well usually the time of response are 5-10 sec max, it depends of the
queries (except for queries with a wildcard).
i put a time out of 30 seconds for all the queries.
queries with wildcard can fail because of java.lang.out.of.memories error
you can try yourself on the website of my compagny (but the website seems
down for the moment)
if you want the adress send me a mail out of the list please, i'll explain
you in details how to make your own test and how our software works

----- Original Message ----- 
From: "Albert Vila Puig" <avp@imente.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 10, 2004 5:36 PM
Subject: Re: Large document collections?


> Can you please provide some queries and their performance?
>
> Thanks
>
> Paladin wrote:
>
> >I use several collections, one of 1 200 000 documents, one of 3 800 000
and
> >another one of 12 000 000 documents (for the biggests) and the
performances
> >are quite good (except for search with wildcards).
> >Our machine have 1 giga bites of memory and 2 CPU.
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 20:36:10 2004
Return-Path: <lucene-user-return-7470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57325 invoked from network); 10 Mar 2004 20:36:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 20:36:07 -0000
Received: (qmail 46443 invoked by uid 500); 10 Mar 2004 20:35:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46059 invoked by uid 500); 10 Mar 2004 20:35:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46046 invoked from network); 10 Mar 2004 20:35:52 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 10 Mar 2004 20:35:52 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2AKa2tG023246
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 12:36:02 -0800
Message-ID: <404F73B2.5020503@newsmonster.org>
Date: Wed, 10 Mar 2004 11:59:46 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com>
In-Reply-To: <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig11756C7B1EE7947890841A85"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig11756C7B1EE7947890841A85
Content-Type: multipart/mixed;
 boundary="------------030908080008010609010005"

This is a multi-part message in MIME format.
--------------030908080008010609010005
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

>
>> Also... while you're at it... the private variable name is 'table' 
>> which this HashSet certainly is *not* ;)
>
>
> Well, depends on your definition of 'table' I suppose :)  I changed it 
> to a type-agnostic stopWords.

Did you know that internally HashSet uses a HashMap?

I sure didn't!

hashset.contains() maps to hashmap.containsKey()

It uses a key -> value mapping to a generic PRESENT Object... hm. 

>> Probably makes sense to just call this variable 'hashset' and then 
>> force the type to be HashSet since it's necessary for this to be a 
>> HashSet to maintain any decent performance.  You'll need to update 
>> your second constructor to require a HashSet too.. would be very bad 
>> to let callers use another set impl... TreeSet and SortedSet would 
>> still be too slow...
>
> I refuse to expose HashSet... sorry!  :)  But I did wrap what is 
> passed in, like above, in a HashSet in my latest commit. 

Hm... You're doing this EVEN if the caller passes a HashSet directly?!

Why do you have a problem exposing a HashSet/Map... it SHOULD be a Hash 
based implementation.  Doing anything else is just wrong and would 
seriously slow down Lucene indexing.

Also... you're HashSet constructor has to copy values from the original 
HashSet into the new HashSet ... not very clean and this can just be 
removed by forcing the caller to use a HashSet (which they should).

:)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------030908080008010609010005
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------030908080008010609010005--

--------------enig11756C7B1EE7947890841A85
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAT3O36E2NBJnxRBIRAtvDAKDhalGaYDYluScSRph4YOCWa72LngCghFe1
vO4DMqJeeTZVGHZFkvCs1Ro=
=xXu5
-----END PGP SIGNATURE-----

--------------enig11756C7B1EE7947890841A85--

From lucene-user-return-7471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 10 23:33:54 2004
Return-Path: <lucene-user-return-7471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10322 invoked from network); 10 Mar 2004 23:33:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Mar 2004 23:33:52 -0000
Received: (qmail 29181 invoked by uid 500); 10 Mar 2004 23:33:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29129 invoked by uid 500); 10 Mar 2004 23:33:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29093 invoked from network); 10 Mar 2004 23:33:27 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 10 Mar 2004 23:33:27 -0000
Received: (cpmta 19745 invoked from network); 10 Mar 2004 15:33:33 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 10 Mar 2004 15:33:33 -0800
X-Sent: 10 Mar 2004 23:33:33 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404F73B2.5020503@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Wed, 10 Mar 2004 18:33:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 10, 2004, at 2:59 PM, Kevin A. Burton wrote:
>> I refuse to expose HashSet... sorry!  :)  But I did wrap what is 
>> passed in, like above, in a HashSet in my latest commit.
>
> Hm... You're doing this EVEN if the caller passes a HashSet directly?!

Well it was in the ctor.  But I guess I'm not seeing all the times the 
filter is being constructed to make this a cause a performance hit.

> Why do you have a problem exposing a HashSet/Map... it SHOULD be a 
> Hash based implementation.  Doing anything else is just wrong and 
> would seriously slow down Lucene indexing.

Just semantically, it is a "set" of stop words - so in theory it 
shouldn't matter the actual implementation.  I'm an interface purist at 
heart.

> Also... you're HashSet constructor has to copy values from the 
> original HashSet into the new HashSet ... not very clean and this can 
> just be removed by forcing the caller to use a HashSet (which they 
> should).

I've caved in and gone HashSet all the way.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 01:37:50 2004
Return-Path: <lucene-user-return-7472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74168 invoked from network); 11 Mar 2004 01:37:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 01:37:50 -0000
Received: (qmail 77403 invoked by uid 500); 11 Mar 2004 01:37:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77228 invoked by uid 500); 11 Mar 2004 01:37:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77197 invoked from network); 11 Mar 2004 01:37:28 -0000
Received: from unknown (HELO mail.savagebeast.com) (64.204.123.110)
  by daedalus.apache.org with SMTP; 11 Mar 2004 01:37:28 -0000
Received: from jeffwong (192-168-1-193.SavageBeast.com [192.168.1.193])
	by mail.savagebeast.com (8.9.3p2/8.9.3) with SMTP id RAA04071
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 17:37:20 -0800
Message-ID: <000501c40708$f0b4f3a0$c101a8c0@jeffwong>
From: "Jeff Wong" <jeffwong@savagebeast.com>
To: <lucene-user@jakarta.apache.org>
Subject: 1.3-final builds as 1.4-rc1-dev?
Date: Wed, 10 Mar 2004 17:34:05 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I noticed that Lucene 1.3-final source builds a JAR file whose version
number is "1.4-rc1-dev".  What does this mean?  Will 1.4-final build as
"1.5-rc1-dev"?

Just Curious,

Jeff


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 02:11:53 2004
Return-Path: <lucene-user-return-7473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87049 invoked from network); 11 Mar 2004 02:11:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 02:11:53 -0000
Received: (qmail 17702 invoked by uid 500); 11 Mar 2004 02:11:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17680 invoked by uid 500); 11 Mar 2004 02:11:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17650 invoked from network); 11 Mar 2004 02:11:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 11 Mar 2004 02:11:31 -0000
Received: (cpmta 28400 invoked from network); 10 Mar 2004 18:11:39 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 10 Mar 2004 18:11:39 -0800
X-Sent: 11 Mar 2004 02:11:39 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <000501c40708$f0b4f3a0$c101a8c0@jeffwong>
References: <000501c40708$f0b4f3a0$c101a8c0@jeffwong>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6AF2BD0A-7301-11D8-9199-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.3-final builds as 1.4-rc1-dev?
Date: Wed, 10 Mar 2004 21:11:33 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It means we screwed up the timing somehow and changed the build file 
version after we built the binary version, is my guess.

We'll be more careful with the 1.4 release and make sure this doesn't 
happen then.

	Erik

On Mar 10, 2004, at 8:34 PM, Jeff Wong wrote:

> Hello,
>
> I noticed that Lucene 1.3-final source builds a JAR file whose version
> number is "1.4-rc1-dev".  What does this mean?  Will 1.4-final build as
> "1.5-rc1-dev"?
>
> Just Curious,
>
> Jeff
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 02:46:14 2004
Return-Path: <lucene-user-return-7474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8433 invoked from network); 11 Mar 2004 02:46:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 02:46:14 -0000
Received: (qmail 56042 invoked by uid 500); 11 Mar 2004 02:45:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56016 invoked by uid 500); 11 Mar 2004 02:45:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55999 invoked from network); 11 Mar 2004 02:45:51 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 11 Mar 2004 02:45:51 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004031102455501600edf3he>; Thu, 11 Mar 2004 02:45:56 +0000
Message-ID: <404FD2C0.10007@apache.org>
Date: Wed, 10 Mar 2004 18:45:20 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.3-final builds as 1.4-rc1-dev?
References: <000501c40708$f0b4f3a0$c101a8c0@jeffwong>
In-Reply-To: <000501c40708$f0b4f3a0$c101a8c0@jeffwong>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jeff Wong wrote:
> I noticed that Lucene 1.3-final source builds a JAR file whose version
> number is "1.4-rc1-dev".  What does this mean?  Will 1.4-final build as
> "1.5-rc1-dev"?

Probably.  If you modify the sources of a 1.3-final release, and build 
them, you're not building 1.3-final, but a derivative.  We could call it 
1.3-dev or something, but that would be strange, as 1.3 development is 
closed.  All development is now towards 1.4-based releases.  As a 
side-effect, even if you make no changes to the 1.3-final sources and 
build them, it builds as 1.4-rc1-dev.  I think that is still safer than 
calling it 1.3-final, since 1.3-final should be reserved for the exact 
jar file downloaded from Apache.  In general, anything ending with -dev 
doesn't have any guarantees, and the version before that is only meant 
to be suggestive.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 02:51:09 2004
Return-Path: <lucene-user-return-7475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10093 invoked from network); 11 Mar 2004 02:51:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 02:51:09 -0000
Received: (qmail 61383 invoked by uid 500); 11 Mar 2004 02:50:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61180 invoked by uid 500); 11 Mar 2004 02:50:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61167 invoked from network); 11 Mar 2004 02:50:46 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 11 Mar 2004 02:50:46 -0000
Received: (cpmta 18935 invoked from network); 10 Mar 2004 18:50:55 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 10 Mar 2004 18:50:55 -0800
X-Sent: 11 Mar 2004 02:50:55 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404FD2C0.10007@apache.org>
References: <000501c40708$f0b4f3a0$c101a8c0@jeffwong> <404FD2C0.10007@apache.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E71B6499-7306-11D8-9199-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.3-final builds as 1.4-rc1-dev?
Date: Wed, 10 Mar 2004 21:50:49 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 10, 2004, at 9:45 PM, Doug Cutting wrote:
> Jeff Wong wrote:
>> I noticed that Lucene 1.3-final source builds a JAR file whose version
>> number is "1.4-rc1-dev".  What does this mean?  Will 1.4-final build 
>> as
>> "1.5-rc1-dev"?
>
> Probably.  If you modify the sources of a 1.3-final release, and build 
> them, you're not building 1.3-final, but a derivative.  We could call 
> it 1.3-dev or something, but that would be strange, as 1.3 development 
> is closed.  All development is now towards 1.4-based releases.  As a 
> side-effect, even if you make no changes to the 1.3-final sources and 
> build them, it builds as 1.4-rc1-dev.  I think that is still safer 
> than calling it 1.3-final, since 1.3-final should be reserved for the 
> exact jar file downloaded from Apache.  In general, anything ending 
> with -dev doesn't have any guarantees, and the version before that is 
> only meant to be suggestive.

Ah... this seems perfectly reasonable!  And I concur.... if its not the 
exact JAR then it shouldn't have the "final" stamp of approval.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 03:28:48 2004
Return-Path: <lucene-user-return-7476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23692 invoked from network); 11 Mar 2004 03:28:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 03:28:48 -0000
Received: (qmail 1553 invoked by uid 500); 11 Mar 2004 03:28:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1522 invoked by uid 500); 11 Mar 2004 03:28:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1506 invoked from network); 11 Mar 2004 03:28:24 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 11 Mar 2004 03:28:24 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <200403110328330160079mcee>; Thu, 11 Mar 2004 03:28:33 +0000
Message-ID: <404FDCC1.3060604@apache.org>
Date: Wed, 10 Mar 2004 19:28:01 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com>
In-Reply-To: <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com>
Content-Type: multipart/mixed;
 boundary="------------010108060608090401030209"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------010108060608090401030209
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:
>> Also... you're HashSet constructor has to copy values from the 
>> original HashSet into the new HashSet ... not very clean and this can 
>> just be removed by forcing the caller to use a HashSet (which they 
>> should).
> 
> I've caved in and gone HashSet all the way.

Did you not see my message suggesting a way to both not expose HashSet 
publicly and also not to copy values?  If not, I attached it.

Doug



--------------010108060608090401030209
Content-Type: message/rfc822;
 name="Attached Message"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Attached Message"

Return-Path: <lucene-dev-return-5656-apmail-cutting=apache.org@jakarta.apache.org>
Delivered-To: doug-lucene@cottrell-cutting.net
Received: (qmail 47939 invoked by uid 89); 10 Mar 2004 18:09:01 -0000
Received: from unknown (HELO minotaur.apache.org) (209.237.227.194)
  by londo-mx2.swishmail.com with SMTP; 10 Mar 2004 18:09:01 -0000
Received: (qmail 36170 invoked by uid 1209); 10 Mar 2004 18:09:03 -0000
Delivered-To: cutting@locus.apache.org
Received: (qmail 36149 invoked from network); 10 Mar 2004 18:09:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur.apache.org with SMTP; 10 Mar 2004 18:09:03 -0000
Received: (qmail 10990 invoked by uid 500); 10 Mar 2004 18:08:52 -0000
Delivered-To: apmail-cutting@apache.org
Received: (qmail 10966 invoked by uid 500); 10 Mar 2004 18:08:52 -0000
Mailing-List: contact lucene-dev-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-dev-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-dev-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-dev-help@jakarta.apache.org>
List-Post: <mailto:lucene-dev@jakarta.apache.org>
List-Id: "Lucene Developers List" <lucene-dev.jakarta.apache.org>
Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
Delivered-To: mailing list lucene-dev@jakarta.apache.org
Received: (qmail 10953 invoked from network); 10 Mar 2004 18:08:52 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 10 Mar 2004 18:08:52 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <20040310180855011009ap6qe>; Wed, 10 Mar 2004 18:08:55 +0000
Message-ID: <404F5998.1040900@apache.org>
Date: Wed, 10 Mar 2004 10:08:24 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Developers List <lucene-dev@jakarta.apache.org>
Subject: Re: cvs commit: jakarta-lucene/src/java/org/apache/lucene/analysis
 StopFilter.java
References: <20040310095957.30714.qmail@minotaur.apache.org>
In-Reply-To: <20040310095957.30714.qmail@minotaur.apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ehatcher@apache.org wrote:
>   -  public StopFilter(TokenStream in, Set stopTable) {
>   +  public StopFilter(TokenStream in, Set stopWords) {
>        super(in);
>   -    table = stopTable;
>   +    this.stopWords = new HashSet(stopWords);
>      }

This always allocates a new HashSet, which, if the stop list is large, 
and documents are small, could impact performance.

Perhaps we can replace this with something like:

public StopFilter(TokenStream in, Set stopWords) {
   this(in, stopWords instanceof HashSet ? ((HashSet)stopWords)
            : new HashSet(stopWords));
}

and then add another constructor:

private StopFilter(TokenStream in, HashSet stopWords) {
   super(in);
   this.stopWords = stopTable;
}

Also, if we want the implementation to always be a HashSet internally, 
for performance, we ought to declare the field to be a HashSet, no?

The competing goals here are:
   1. Not to expose publicly the implementation of the Set;
   2. Not to copy the contents of the Set when folks pass the value of 
makeStopSet.
   3. Use the most efficient implementation internally.

I think the changes above meet all of these.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-dev-help@jakarta.apache.org



--------------010108060608090401030209
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------010108060608090401030209--

From lucene-user-return-7477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 04:00:54 2004
Return-Path: <lucene-user-return-7477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34272 invoked from network); 11 Mar 2004 04:00:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 04:00:54 -0000
Received: (qmail 36521 invoked by uid 500); 11 Mar 2004 04:00:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36253 invoked by uid 500); 11 Mar 2004 04:00:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36239 invoked from network); 11 Mar 2004 04:00:29 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 04:00:29 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2B40itG024183
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 10 Mar 2004 20:00:45 -0800
Message-ID: <404FDBEA.3010200@newsmonster.org>
Date: Wed, 10 Mar 2004 19:24:26 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org>
In-Reply-To: <404FDCC1.3060604@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigE2AA2A3D7EEBBE5559CC4BB9"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigE2AA2A3D7EEBBE5559CC4BB9
Content-Type: multipart/mixed;
 boundary="------------050704020405000106000106"

This is a multi-part message in MIME format.
--------------050704020405000106000106
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> Erik Hatcher wrote:
>
>>> Also... you're HashSet constructor has to copy values from the 
>>> original HashSet into the new HashSet ... not very clean and this 
>>> can just be removed by forcing the caller to use a HashSet (which 
>>> they should).
>>
>>
>> I've caved in and gone HashSet all the way.
>
>
> Did you not see my message suggesting a way to both not expose HashSet 
> publicly and also not to copy values?  If not, I attached it.
>
For the record I didn't see it... but it echos my points...

Thanks!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------050704020405000106000106
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@newsmonster.org
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------050704020405000106000106--

--------------enigE2AA2A3D7EEBBE5559CC4BB9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAT9vq6E2NBJnxRBIRAjwOAKCk5jNZEYWvk6NRZ3oH2Wrz2jZ3PQCfcd1t
iab+iketdcO9/CRteturcZA=
=aZBY
-----END PGP SIGNATURE-----

--------------enigE2AA2A3D7EEBBE5559CC4BB9--

From lucene-user-return-7478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 04:13:34 2004
Return-Path: <lucene-user-return-7478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39333 invoked from network); 11 Mar 2004 04:13:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 04:13:34 -0000
Received: (qmail 50614 invoked by uid 500); 11 Mar 2004 04:13:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50388 invoked by uid 500); 11 Mar 2004 04:13:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50374 invoked from network); 11 Mar 2004 04:13:09 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 11 Mar 2004 04:13:09 -0000
Received: (cpmta 21157 invoked from network); 10 Mar 2004 20:13:19 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 10 Mar 2004 20:13:19 -0800
X-Sent: 11 Mar 2004 04:13:19 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <404FDCC1.3060604@apache.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Wed, 10 Mar 2004 23:13:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 10, 2004, at 10:28 PM, Doug Cutting wrote:
> Erik Hatcher wrote:
>>> Also... you're HashSet constructor has to copy values from the 
>>> original HashSet into the new HashSet ... not very clean and this 
>>> can just be removed by forcing the caller to use a HashSet (which 
>>> they should).
>> I've caved in and gone HashSet all the way.
>
> Did you not see my message suggesting a way to both not expose HashSet 
> publicly and also not to copy values?  If not, I attached it.

Yes, I saw it.  But is there a reason not to just expose HashSet given 
that it is the data structure that is most efficient?  I bought into 
Kevin's arguments that it made sense to just expose HashSet.

As for copying values - that is only happening now if you use the 
Hashtable or String[] constructor.

	Erik


>
> Doug
>
>
>
> From: Doug Cutting <cutting@apache.org>
> Date: March 10, 2004 1:08:24 PM EST
> To: Lucene Developers List <lucene-dev@jakarta.apache.org>
> Subject: Re: cvs commit: 
> jakarta-lucene/src/java/org/apache/lucene/analysis StopFilter.java
> Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
>
>
> ehatcher@apache.org wrote:
>>   -  public StopFilter(TokenStream in, Set stopTable) {
>>   +  public StopFilter(TokenStream in, Set stopWords) {
>>        super(in);
>>   -    table = stopTable;
>>   +    this.stopWords = new HashSet(stopWords);
>>      }
>
> This always allocates a new HashSet, which, if the stop list is large, 
> and documents are small, could impact performance.
>
> Perhaps we can replace this with something like:
>
> public StopFilter(TokenStream in, Set stopWords) {
>   this(in, stopWords instanceof HashSet ? ((HashSet)stopWords)
>            : new HashSet(stopWords));
> }
>
> and then add another constructor:
>
> private StopFilter(TokenStream in, HashSet stopWords) {
>   super(in);
>   this.stopWords = stopTable;
> }
>
> Also, if we want the implementation to always be a HashSet internally, 
> for performance, we ought to declare the field to be a HashSet, no?
>
> The competing goals here are:
>   1. Not to expose publicly the implementation of the Set;
>   2. Not to copy the contents of the Set when folks pass the value of 
> makeStopSet.
>   3. Use the most efficient implementation internally.
>
> I think the changes above meet all of these.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 05:15:26 2004
Return-Path: <lucene-user-return-7479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63054 invoked from network); 11 Mar 2004 05:15:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 05:15:26 -0000
Received: (qmail 11169 invoked by uid 500); 11 Mar 2004 05:15:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11020 invoked by uid 500); 11 Mar 2004 05:15:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10997 invoked from network); 11 Mar 2004 05:15:00 -0000
Received: from unknown (HELO web41602.mail.yahoo.com) (66.218.93.102)
  by daedalus.apache.org with SMTP; 11 Mar 2004 05:15:00 -0000
Message-ID: <20040311051510.98442.qmail@web41602.mail.yahoo.com>
Received: from [24.218.28.17] by web41602.mail.yahoo.com via HTTP; Wed, 10 Mar 2004 21:15:10 PST
Date: Wed, 10 Mar 2004 21:15:10 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: incomplete word match
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a situation where I need to be able to find
incomplete word matches, for example a search for the
string 'ape' would return matches for 'grapes'
'naples' 'staples' etc.  I have been searching the
archives of this user list and can't seem to find any
example of someone doing this. 

At one point I recall finding someone's site (on
Google) who indicated that their search engine was
Lucene, and they offered the capability of doing this
type of matching. However I can't seem to find that
site again to save my life!  

Has anyone been successful in implementing this type
of matching with Lucene? If so, would you be able to
share some insight as to how you did it? 

Thanks in advance! 

-TP

__________________________________
Do you Yahoo!?
Yahoo! Search - Find what youre looking for faster
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 10:29:46 2004
Return-Path: <lucene-user-return-7480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43410 invoked from network); 11 Mar 2004 10:29:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 10:29:46 -0000
Received: (qmail 98138 invoked by uid 500); 11 Mar 2004 10:29:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98037 invoked by uid 500); 11 Mar 2004 10:29:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98021 invoked from network); 11 Mar 2004 10:29:14 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 10:29:14 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BATTtG024623
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 02:29:35 -0800
Message-ID: <40503F7E.2040708@newsmonster.org>
Date: Thu, 11 Mar 2004 02:29:18 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Real time indexing and distribution to lucene on separate boxes (long)
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig82E08543F0FB4B60B9986018"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig82E08543F0FB4B60B9986018
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


I'm curious to find out what others are doing in this situation.

I have two boxes... the indexer and the searcher.  The indexer is taking
documents and indexing them and creating indexes in a RAMDirectory (for
efficiency) and is then writing these indexes to disk as we begin to run 
out of
memory.  Usually these aren't very big... 15->100M or so.

Obviously I'm dividing the indexing and searching onto dedicated boxes to
improve efficiency.  The real issue though is that the searchers need to 
be live
all the time as indexes are being added at runtime.

So if that wasn't clear.  I actually have to push out fresh indexes 
WHILE users
are searching them.  Not a very easy thing to do.

Here's my question.  What are the optimum ways to then distribute these 
index
segments to the secondary searcher boxes.  I don't want to use the 
MultiSearcher
because it's slow once we have too many indexes (see my PS)

Here's what I'm currently thinking:

1.  Have the indexes sync'd to the searcher as shards directly.  This 
doesn't
scale as I would have to use the MultiSearcher which is slow when it has too
many indexes.  (And ideally we would want an optimized index).

2. Merge everything into one index on the indexer.  Lock the searcher, 
then copy
over the new index via rsync.  The problem here is that the searcher 
would need
to lock up while the sync is happening to prevent reads on the index.  
If I do
this enough and the system is optimzed I think I would only have to 
block for 5
seconds or so but that's STILL very long.

3. Have two directories on the searcher.  The indexer would then sync to 
a tmp
directory and then at run time swap them via a rename once the sync is over.
The downside here is that this will take up 2x disk space on the 
searcher.  The
upside is that the box will only slow down while the rsync is happening.

4. Do a LIVE index merge on the production box.  This might be an 
interesting
approach.  The major question I have is whether you can do an 
optimize/merge on
an index that's currently being used.  I *think* it might be possible 
but I'm
not sure.  This isn't as fast as performing the merge on the indexer 
before hand
but it does have the benefits of both worlds.

If anyone has any other ideas I would be all ears...

PS.. Random question.  The performance of the MultiSearcher is Mlog(N) 
correct?
Where N is the number of documents in the index and M is the number of 
indexes?
Is this about right?

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig82E08543F0FB4B60B9986018
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUD+A6E2NBJnxRBIRAkCEAKDWXhjxqKU8TnyKHhmWYq7CoOAuEACg3LRM
s5BYkA9HTc1R7pUBcCMjg6Y=
=Q/4o
-----END PGP SIGNATURE-----

--------------enig82E08543F0FB4B60B9986018--

From lucene-user-return-7481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 10:54:00 2004
Return-Path: <lucene-user-return-7481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57747 invoked from network); 11 Mar 2004 10:54:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 10:54:00 -0000
Received: (qmail 41949 invoked by uid 500); 11 Mar 2004 10:53:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41642 invoked by uid 500); 11 Mar 2004 10:53:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41628 invoked from network); 11 Mar 2004 10:53:29 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 10:53:29 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BArAtG024655
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 02:53:11 -0800
Message-ID: <4050450A.1080400@newsmonster.org>
Date: Thu, 11 Mar 2004 02:52:58 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: int vs long and document ids on 64bit machines.
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig65420E22ACF00B52B675234E"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig65420E22ACF00B52B675234E
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

A discussion I had a while back had someone note (Doug?) that the 
decision to go with 32bit ints for document IDs was that on 32 bit 
machines that 64bits weren't threadsafe.

Does anyone know how JDK 1.4.2 works on Itanium, Opteron (AMD64)? 

How hard would it be to build a lucene64 that used 64bit document 
handles (longs) for 64bit procesors?!  Is it just a recompile?  Will the 
file format break and need updating?!

Also ... what are the symptoms of a Lucene build using 64bit ints on 
32bit processors.  Right now we're personally stuck on 32bit machines 
but I would like to see us migrate to 64 bit boxes over the next 6 
months...

Anyway... thinking out loud.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig65420E22ACF00B52B675234E
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUEUN6E2NBJnxRBIRAuThAKDI8b2QxT7rKXYBrXJBFzrPYcv1tQCdEQKF
kUYJ7OUaDE1oGT1njW4UKqo=
=F76S
-----END PGP SIGNATURE-----

--------------enig65420E22ACF00B52B675234E--

From lucene-user-return-7482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 12:29:12 2004
Return-Path: <lucene-user-return-7482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9961 invoked from network); 11 Mar 2004 12:29:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 12:29:11 -0000
Received: (qmail 83786 invoked by uid 500); 11 Mar 2004 12:29:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83488 invoked by uid 500); 11 Mar 2004 12:29:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83471 invoked from network); 11 Mar 2004 12:29:04 -0000
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by daedalus.apache.org with SMTP; 11 Mar 2004 12:29:04 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with ESMTP id i2BCT3hd077577
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 13:29:03 +0100 (CET)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: incomplete word match
Date: Thu, 11 Mar 2004 13:29:02 +0100
User-Agent: KMail/1.5.4
References: <20040311051510.98442.qmail@web41602.mail.yahoo.com>
In-Reply-To: <20040311051510.98442.qmail@web41602.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200403111329.03112.paul.elschot@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 11 March 2004 06:15, Tomcat Programmer wrote:
> I have a situation where I need to be able to find
> incomplete word matches, for example a search for the
> string 'ape' would return matches for 'grapes'
> 'naples' 'staples' etc.  I have been searching the
> archives of this user list and can't seem to find any
> example of someone doing this.
>
> At one point I recall finding someone's site (on
> Google) who indicated that their search engine was
> Lucene, and they offered the capability of doing this
> type of matching. However I can't seem to find that
> site again to save my life!
>
> Has anyone been successful in implementing this type
> of matching with Lucene? If so, would you be able to
> share some insight as to how you did it?

I havn't actually done this, but I would make a first attempt
by indexing all the suffixes in a separate field and use a PrefixQuery
to search.  You would index eg. google as:
google oogle ogle gle le e
all on the same position. To search for substring ogl you
would query ogl* on the field.
To save space you might impose a minimum substring length.
The minimum query length should preferably be the same.
Your index will grow quite a bit, but it's difficult to say how much. 

You can do this by providing your own TokenStream on the field
that returns each substring as a Token with a getPositionIncrement()
of zero just after the the normal full Token (google) with an
increment of 1. See also:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/Token.html

Paul


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 12:32:40 2004
Return-Path: <lucene-user-return-7483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12065 invoked from network); 11 Mar 2004 12:32:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 12:32:40 -0000
Received: (qmail 88244 invoked by uid 500); 11 Mar 2004 12:32:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88225 invoked by uid 500); 11 Mar 2004 12:32:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88209 invoked from network); 11 Mar 2004 12:32:31 -0000
Received: from unknown (HELO sccmmhc02.asp.att.net) (204.127.203.184)
  by daedalus.apache.org with SMTP; 11 Mar 2004 12:32:31 -0000
Received: from [10.1.210.204] (unknown[208.0.121.20])
          by sccmmhc02.asp.att.net (sccmmhc02) with SMTP
          id <20040311123231mm2005dpvqe>
          (Authid: sganyo@insightbb.com);
          Thu, 11 Mar 2004 12:32:31 +0000
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com>
Content-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-77--231047307; protocol="application/pkcs7-signature"
Message-Id: <13EBFB06-7357-11D8-B209-000A95D01A94@ganyo.com>
From: Scott ganyo <scott@ganyo.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Thu, 11 Mar 2004 07:24:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-77--231047307
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

I don't buy it.  HashSet is but one implementation of a Set.  By 
choosing the HashSet implementation you are not only tying the class to 
a hash-based implementation, you are trying the interface to *that 
specific* hash-based implementation or it's subclasses.  In the end, 
either you buy the concept of the interface and its abstraction or you 
don't.  I firmly believe in using interfaces as they were intended to 
be used.

Scott

P.S. In fact, HashSet isn't always going to be the most efficient 
anyway.  Just for one example:  Consider possible implementations if I 
have only 1 or 2 entries.

On Mar 10, 2004, at 11:13 PM, Erik Hatcher wrote:

> On Mar 10, 2004, at 10:28 PM, Doug Cutting wrote:
>> Erik Hatcher wrote:
>>>> Also... you're HashSet constructor has to copy values from the 
>>>> original HashSet into the new HashSet ... not very clean and this 
>>>> can just be removed by forcing the caller to use a HashSet (which 
>>>> they should).
>>> I've caved in and gone HashSet all the way.
>>
>> Did you not see my message suggesting a way to both not expose 
>> HashSet publicly and also not to copy values?  If not, I attached it.
>
> Yes, I saw it.  But is there a reason not to just expose HashSet given 
> that it is the data structure that is most efficient?  I bought into 
> Kevin's arguments that it made sense to just expose HashSet.
>
> As for copying values - that is only happening now if you use the 
> Hashtable or String[] constructor.
>
> 	Erik
>
>
>>
>> Doug
>>
>>
>>
>> From: Doug Cutting <cutting@apache.org>
>> Date: March 10, 2004 1:08:24 PM EST
>> To: Lucene Developers List <lucene-dev@jakarta.apache.org>
>> Subject: Re: cvs commit: 
>> jakarta-lucene/src/java/org/apache/lucene/analysis StopFilter.java
>> Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
>>
>>
>> ehatcher@apache.org wrote:
>>>   -  public StopFilter(TokenStream in, Set stopTable) {
>>>   +  public StopFilter(TokenStream in, Set stopWords) {
>>>        super(in);
>>>   -    table = stopTable;
>>>   +    this.stopWords = new HashSet(stopWords);
>>>      }
>>
>> This always allocates a new HashSet, which, if the stop list is 
>> large, and documents are small, could impact performance.
>>
>> Perhaps we can replace this with something like:
>>
>> public StopFilter(TokenStream in, Set stopWords) {
>>   this(in, stopWords instanceof HashSet ? ((HashSet)stopWords)
>>            : new HashSet(stopWords));
>> }
>>
>> and then add another constructor:
>>
>> private StopFilter(TokenStream in, HashSet stopWords) {
>>   super(in);
>>   this.stopWords = stopTable;
>> }
>>
>> Also, if we want the implementation to always be a HashSet 
>> internally, for performance, we ought to declare the field to be a 
>> HashSet, no?
>>
>> The competing goals here are:
>>   1. Not to expose publicly the implementation of the Set;
>>   2. Not to copy the contents of the Set when folks pass the value of 
>> makeStopSet.
>>   3. Use the most efficient implementation internally.
>>
>> I think the changes above meet all of these.
>>
>> Doug
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

--Apple-Mail-77--231047307
Content-Transfer-Encoding: base64
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Disposition: attachment;
	filename=smime.p7s

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGEjCCAssw
ggI0oAMCAQICAwtKHTANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDMxMjA4MTk0NTI5WhcNMDQxMjA3MTk0NTI5WjBBMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMR4wHAYJKoZIhvcNAQkBFg9zY290dEBnYW55by5jb20w
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC2ptQeyZPoLu2i4pPIHtrUiJ05HhAcXGyf
qMsrhx45ToVW4qrKmBNBfARFOe+PWiYUun8U7wKi3GmVWfxvQ7yqeiUu6DnLWMVGmFgx8xZQiIG2
6aa9to5xGL/SOTo7ET2+cSx7zX7CKiFSMALKrVzCXiAunGFp6ONkpqOCMj3Mk0U8QxFIkN3yuTO+
f7a9VH0tM6SPjyOWnR6SMbtU6WBlfO4JWCKnE2u1zzh6vOiYfjiKRpWYkaZu9BCYHAYHNwAHosT5
JaaY/+hV7QSlxHERz08kQv9V3K6PRIr6Ey68BeZnQbZp6E3ua9DWmlZL9gnbRPDob0kMbNiBJTkW
Zo9fAgMBAAGjLDAqMBoGA1UdEQQTMBGBD3Njb3R0QGdhbnlvLmNvbTAMBgNVHRMBAf8EAjAAMA0G
CSqGSIb3DQEBBAUAA4GBAFEM8YLGdg6q71DscLXqUrklI8I3OQ3KpkWMrPHiAnMH3ZG82xyGMe/v
/pRCT60gaC9xLoRi8AmMeUB8ykcVsgGi5YfrO2k4LbFR52tYk9fg0OU7VtpGZW0ehJuiuPrIupX8
R58ex+L0qZcGQ7c/f1ZyGZiaDNV/iQneGskM8p8wMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0B
AQUFADCB0TELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2Fw
ZSBUb3duMRowGAYDVQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlv
biBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENB
MSswKQYJKoZIhvcNAQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAw
MDAwMFoXDTEzMDcxNjIzNTk1OVowYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25z
dWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1
aW5nIENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/
ox7svc31W/Iadr1/DDph8r9RzgHU5VAKMNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2JCoT
zyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wIDAQABo4GU
MIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybC50aGF3
dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJlZW1haWxDQS5jcmwwCwYDVR0PBAQDAgEGMCkGA1UdEQQi
MCCkHjAcMRowGAYDVQQDExFQcml2YXRlTGFiZWwyLTEzODANBgkqhkiG9w0BAQUFAAOBgQBIjNFQ
g+oLLswNo2asZw9/r6y+whehQ5aUnX9MIbj4Nh+qLZ82L8D0HFAgk3A8/a3hYWLD2ToZfoSxmRsA
xRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowgT2Vfldr394fWxghOrvbqNOUQGls1TXfjViF4gtwhGTXe
JLHTHUb/XV9lTzGCAucwggLjAgEBMGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBD
b25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJ
c3N1aW5nIENBAgMLSh0wCQYFKw4DAhoFAKCCAVMwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAc
BgkqhkiG9w0BCQUxDxcNMDQwMzExMTIyNDQ0WjAjBgkqhkiG9w0BCQQxFgQUXqR9JrD+9VaGLlMU
EjbC+OC4TAUweAYJKwYBBAGCNxAEMWswaTBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhhd3Rl
IENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWls
IElzc3VpbmcgQ0ECAwtKHTB6BgsqhkiG9w0BCRACCzFroGkwYjELMAkGA1UEBhMCWkExJTAjBgNV
BAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25h
bCBGcmVlbWFpbCBJc3N1aW5nIENBAgMLSh0wDQYJKoZIhvcNAQEBBQAEggEArnNjSHO+EpyQfCRt
fVuBpRBdmdWZ6MzpG8JjQs5wxh4TFhFUzW5ABO17Pz/rklPKEqWwrzJLUw1Pgbl+rKb3y7P+CBjx
PaiDjicVGVrZYkhCCu3Yd6tHOQcwFXvkRv+ZXSOzb3+t6Z1upUmwL965c8yHSO2QWMqyTR9ogSEQ
lB0Z7xuZuZNul6o9ZjJO9AbtuYR4A8WWeWIlIDva5zXKf6c5OzOJDQ91pmGCneX1mFYvU4PYMPY/
dA/eHKC9H7SRJv1UXRvxrq01fSsIg0zNfMLdP8kHthugsZJGJ+LM8HDMqiVjVsyKWT+UzftV1Lbz
WJzatlXbDNqXnNpPHxIHtAAAAAAAAA==

--Apple-Mail-77--231047307--


From lucene-user-return-7484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 13:39:15 2004
Return-Path: <lucene-user-return-7484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64807 invoked from network); 11 Mar 2004 13:39:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 13:39:15 -0000
Received: (qmail 93310 invoked by uid 500); 11 Mar 2004 13:39:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93286 invoked by uid 500); 11 Mar 2004 13:39:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93271 invoked from network); 11 Mar 2004 13:39:06 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 11 Mar 2004 13:39:06 -0000
Message-ID: <20040311133903.88838.qmail@web12708.mail.yahoo.com>
Received: from [194.152.216.94] by web12708.mail.yahoo.com via HTTP; Thu, 11 Mar 2004 05:39:03 PST
Date: Thu, 11 Mar 2004 05:39:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Real time indexing and distribution to lucene on separate boxes (long)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40503F7E.2040708@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I like option 3.  I've done it before, and it worked well.  I dealt
with very small indices, though, and if your indices are several tens
or hundred gigs, this may be hard for you.

Option 4: search can be performed on an index that is being modified
(update, delete, insert, optimize).  You'd just have to make sure not
to recreate new IndexSearcher too frequently, if your index is being
modified often.  Just change it every X index modification or every X
minutes, and you'll be fine.

Otis


--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> 
> I'm curious to find out what others are doing in this situation.
> 
> I have two boxes... the indexer and the searcher.  The indexer is
> taking
> documents and indexing them and creating indexes in a RAMDirectory
> (for
> efficiency) and is then writing these indexes to disk as we begin to
> run 
> out of
> memory.  Usually these aren't very big... 15->100M or so.
> 
> Obviously I'm dividing the indexing and searching onto dedicated
> boxes to
> improve efficiency.  The real issue though is that the searchers need
> to 
> be live
> all the time as indexes are being added at runtime.
> 
> So if that wasn't clear.  I actually have to push out fresh indexes 
> WHILE users
> are searching them.  Not a very easy thing to do.
> 
> Here's my question.  What are the optimum ways to then distribute
> these 
> index
> segments to the secondary searcher boxes.  I don't want to use the 
> MultiSearcher
> because it's slow once we have too many indexes (see my PS)
> 
> Here's what I'm currently thinking:
> 
> 1.  Have the indexes sync'd to the searcher as shards directly.  This
> 
> doesn't
> scale as I would have to use the MultiSearcher which is slow when it
> has too
> many indexes.  (And ideally we would want an optimized index).
> 
> 2. Merge everything into one index on the indexer.  Lock the
> searcher, 
> then copy
> over the new index via rsync.  The problem here is that the searcher 
> would need
> to lock up while the sync is happening to prevent reads on the index.
>  
> If I do
> this enough and the system is optimzed I think I would only have to 
> block for 5
> seconds or so but that's STILL very long.
> 
> 3. Have two directories on the searcher.  The indexer would then sync
> to 
> a tmp
> directory and then at run time swap them via a rename once the sync
> is over.
> The downside here is that this will take up 2x disk space on the 
> searcher.  The
> upside is that the box will only slow down while the rsync is
> happening.
> 
> 4. Do a LIVE index merge on the production box.  This might be an 
> interesting
> approach.  The major question I have is whether you can do an 
> optimize/merge on
> an index that's currently being used.  I *think* it might be possible
> 
> but I'm
> not sure.  This isn't as fast as performing the merge on the indexer 
> before hand
> but it does have the benefits of both worlds.
> 
> If anyone has any other ideas I would be all ears...
> 
> PS.. Random question.  The performance of the MultiSearcher is
> Mlog(N) 
> correct?
> Where N is the number of documents in the index and M is the number
> of 
> indexes?
> Is this about right?
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> 

> ATTACHMENT part 2 application/pgp-signature name=signature.asc



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:05:32 2004
Return-Path: <lucene-user-return-7485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59249 invoked from network); 11 Mar 2004 17:05:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:05:31 -0000
Received: (qmail 85368 invoked by uid 500); 11 Mar 2004 17:05:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85347 invoked by uid 500); 11 Mar 2004 17:05:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85331 invoked from network); 11 Mar 2004 17:05:17 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:05:17 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004031117052001200qn65he>; Thu, 11 Mar 2004 17:05:20 +0000
Message-ID: <40509C2F.5010906@apache.org>
Date: Thu, 11 Mar 2004 09:04:47 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com>
In-Reply-To: <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Yes, I saw it.  But is there a reason not to just expose HashSet given 
> that it is the data structure that is most efficient?  I bought into 
> Kevin's arguments that it made sense to just expose HashSet.

Just the general principal that one shouldn't expose more of the 
implementation than one must.  I can imagine faster things than a 
HashSet for this, e.g., a well-coded letter tree (trie) could be a bit 
faster, since it would only touch each character in the key once.  But 
it's not a big deal, perhaps not worth fixing at this point.

I proposed a solution that both respected this concern (yours, as I 
recall) while at the same time avoiding copying.  It doesn't need to be 
an either/or situation.  We can easily hide the implementation, avoid 
copying, and use the most efficient implementation internally.  If you 
no longer care about hiding the implementation, then I guess this is 
moot.  Before we started this exercise the implementation was exposed, 
so things have gotten no worse, only better.  But they could have gotten 
just a little bit better yet!

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:21:50 2004
Return-Path: <lucene-user-return-7486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73277 invoked from network); 11 Mar 2004 17:21:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:21:50 -0000
Received: (qmail 28516 invoked by uid 500); 11 Mar 2004 17:21:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28493 invoked by uid 500); 11 Mar 2004 17:21:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28479 invoked from network); 11 Mar 2004 17:21:36 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:21:36 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004031117213901200qf0tee>; Thu, 11 Mar 2004 17:21:39 +0000
Message-ID: <4050A003.7030007@apache.org>
Date: Thu, 11 Mar 2004 09:21:07 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Real time indexing and distribution to lucene on separate boxes
 (long)
References: <40503F7E.2040708@newsmonster.org>
In-Reply-To: <40503F7E.2040708@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
  > 3. Have two directories on the searcher.  The indexer would then 
sync to
> a tmp
> directory and then at run time swap them via a rename once the sync is 
> over.
> The downside here is that this will take up 2x disk space on the 
> searcher.  The
> upside is that the box will only slow down while the rsync is happening.

For maximal search performance, this is your best bet.  Disk space is 
cheap.  At some point all newly issued queries start going against the 
new index, and, pretty soon, you can close and delete the old index. 
But you never have to stop searching.  Disk i/o will spike a bit during 
the changeover, as the new working set is swapped in.

Note that, if folks are paging through results by re-querying (the 
standard method) and the index is updated then things can get funky. 
One approach is to hang onto the old index longer, to make this less 
likely.  In any case, you might want to add an index-id to the search 
parameters, so that, if a next-page is issued when the index is no 
longer there you can give some sort of "stale query" error.

> PS.. Random question.  The performance of the MultiSearcher is Mlog(N) 
> correct?
> Where N is the number of documents in the index and M is the number of 
> indexes?
> Is this about right?

No.

The added cost of a MultiSearcher is mostly proportional to just M, the 
number of indexes.  The normal cost of searching is still mostly 
proportional to N, the number of documents.  So M+N would probably be 
more accurate.  There is a log(M) here and there, to, e.g., figure out 
which index a doc id belongs to, but I doubt these are significant.

The significant costs of a MultiSearcher over an IndexSearcher are that 
it adds more term dictionary reads (one per query term per index) and 
more seeks (also one per query term per index, or two if you're using 
phrases).

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:34:04 2004
Return-Path: <lucene-user-return-7487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85143 invoked from network); 11 Mar 2004 17:34:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:34:04 -0000
Received: (qmail 62998 invoked by uid 500); 11 Mar 2004 17:33:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62811 invoked by uid 500); 11 Mar 2004 17:33:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62798 invoked from network); 11 Mar 2004 17:33:51 -0000
Received: from unknown (HELO mail.seeqa.com) (64.81.59.34)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:33:51 -0000
Received: from Spooler by mail.seeqa.com (Mercury/32 v3.31) ID MO001FFB;
    11 Mar 04 09:35:57 -0800
Received: from spooler by mail.seeqa.com (Mercury/32 v3.31); 11 Mar 04 09:35:48 -0800
Received: from seeqa.com (64.81.59.34) by mail.seeqa.com (Mercury/32 v3.31) with ESMTP ID MG001FFA;
   11 Mar 04 09:35:41 -0800
Message-ID: <4050A36D.4080209@seeqa.com>
Date: Thu, 11 Mar 2004 09:35:41 -0800
From: Chris Kimm <chris@seeqa.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: update performance
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The standard pattern for updating an index - removing a document then 
re-adding the modified document to the index - is currently a 
significant performance bottleneck in my application.  I sometimes need 
to update ~1000 documents at a time.  The major cost of this pattern as 
far as I can see is IndexWriter.close ().   Average times for an update 
to an FSDirectory look like this:

delete document: 7 ms
create document: 6 ms
add document: 11 ms
IndexWriter.close: 59 ms

Is there a way to synchronize IndexWriter and IndexReader so that a call 
to IndexWriter.close is not required for each update?  I guess I mean to 
ask if there is a *simple* way to do this.  I imagine that one could 
write an IndexUpdater class which manages the synchronization of Locks, 
temp files, etc.

Thanks,

Chris




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:36:55 2004
Return-Path: <lucene-user-return-7488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88182 invoked from network); 11 Mar 2004 17:36:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:36:55 -0000
Received: (qmail 69576 invoked by uid 500); 11 Mar 2004 17:36:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69536 invoked by uid 500); 11 Mar 2004 17:36:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69520 invoked from network); 11 Mar 2004 17:36:39 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:36:39 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004031117364201200qh10ae>; Thu, 11 Mar 2004 17:36:42 +0000
Message-ID: <4050A389.4080204@apache.org>
Date: Thu, 11 Mar 2004 09:36:09 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: int vs long and document ids on 64bit machines.
References: <4050450A.1080400@newsmonster.org>
In-Reply-To: <4050450A.1080400@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> A discussion I had a while back had someone note (Doug?) that the 
> decision to go with 32bit ints for document IDs was that on 32 bit 
> machines that 64bits weren't threadsafe.

Somone, not me, perhaps provided that rationalization, which isn't a bad 
one.  In fact, the situation was more that, in 1997, when I started 
Lucene, 2 billion documents seemed like a lot for a Java-based search 
engine which was designed to scale to perhaps millions of documents, but 
probably not to the world.  Java was slow then, remember?

> Does anyone know how JDK 1.4.2 works on Itanium, Opteron (AMD64)?
> How hard would it be to build a lucene64 that used 64bit document 
> handles (longs) for 64bit procesors?!  Is it just a recompile?  Will the 
> file format break and need updating?!

I think the file format is 64-bit safe.  But the code changes would be 
quite numerous.  No doubt we should make this change someday.  Do you 
anticipate more than 2 billion documents in your Lucene index sometime 
soon, e.g., this year?

Also, with Java, it's not just a recompile, it's a lot of code changes.

> Also ... what are the symptoms of a Lucene build using 64bit ints on 
> 32bit processors.  Right now we're personally stuck on 32bit machines 
> but I would like to see us migrate to 64 bit boxes over the next 6 
> months...

Java's int datatype is defined as 32 bit.  So there are no 64-bit ints. 
  There are longs.  I doubt longs are much slower than ints to deal with 
on most JVMs today.  However a long[] is twice as big as an int[], and 
an array may only be indexed by an int.  Currently Lucene uses a byte[] 
indexed by document number to store normalization factors.  This would 
not work if document numbers are longs.  Filters index bit vectors with 
document numbers, and that also would not work if document numbers were 
longs.  Working around these will not only take some code, it may also 
impact performance a bit.

I suspect that Java will soon evolve to better embrace 64-bit machines. 
  Someday assignment of longs will be atomic.  (This is hinted at in the 
language spec.)  Someday arrays will probably be indexable by longs. 
I'd prefer to wait until these changes happen before changing Lucene's 
document numbers to longs.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:40:57 2004
Return-Path: <lucene-user-return-7489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94593 invoked from network); 11 Mar 2004 17:40:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:40:57 -0000
Received: (qmail 81573 invoked by uid 500); 11 Mar 2004 17:40:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81536 invoked by uid 500); 11 Mar 2004 17:40:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81523 invoked from network); 11 Mar 2004 17:40:44 -0000
Received: from unknown (HELO server1.hostmon.com) (66.139.76.19)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:40:44 -0000
Received: (qmail 30116 invoked by uid 532); 11 Mar 2004 17:37:27 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.61.  Clear:. 
 Processed in 0.137339 secs); 11 Mar 2004 17:37:27 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 11 Mar 2004 17:37:27 -0000
Message-ID: <4050A49F.4000804@tropo.com>
Date: Thu, 11 Mar 2004 09:40:47 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: incomplete word match
References: <20040311051510.98442.qmail@web41602.mail.yahoo.com>
In-Reply-To: <20040311051510.98442.qmail@web41602.mail.yahoo.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SubstringQuery, my humble contribution.

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06388.html

Tomcat Programmer wrote:

>I have a situation where I need to be able to find
>incomplete word matches, for example a search for the
>string 'ape' would return matches for 'grapes'
>'naples' 'staples' etc.  I have been searching the
>archives of this user list and can't seem to find any
>example of someone doing this. 
>
>At one point I recall finding someone's site (on
>Google) who indicated that their search engine was
>Lucene, and they offered the capability of doing this
>type of matching. However I can't seem to find that
>site again to save my life!  
>
>Has anyone been successful in implementing this type
>of matching with Lucene? If so, would you be able to
>share some insight as to how you did it? 
>
>Thanks in advance! 
>
>-TP
>
>__________________________________
>Do you Yahoo!?
>Yahoo! Search - Find what youre looking for faster
>http://search.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 17:59:29 2004
Return-Path: <lucene-user-return-7490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9297 invoked from network); 11 Mar 2004 17:59:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 17:59:29 -0000
Received: (qmail 27023 invoked by uid 500); 11 Mar 2004 17:59:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27002 invoked by uid 500); 11 Mar 2004 17:59:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26987 invoked from network); 11 Mar 2004 17:59:14 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 11 Mar 2004 17:59:14 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004031117591701200qkf94e>; Thu, 11 Mar 2004 17:59:17 +0000
Message-ID: <4050A8D4.10900@apache.org>
Date: Thu, 11 Mar 2004 09:58:44 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: update performance
References: <4050A36D.4080209@seeqa.com>
In-Reply-To: <4050A36D.4080209@seeqa.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It sounds like you're not batching your updates.

The most efficient approch to update 1000 documents would be to:

   1. Open an IndexReader;
   2. Delete all 1000 documents.
   3. Close the reader;
   4. Open an IndexWriter;
   5. Add all 1000 updated documents;
   6. Close the IndexWriter.

Is that what you're doing?

Doug

Chris Kimm wrote:
> The standard pattern for updating an index - removing a document then 
> re-adding the modified document to the index - is currently a 
> significant performance bottleneck in my application.  I sometimes need 
> to update ~1000 documents at a time.  The major cost of this pattern as 
> far as I can see is IndexWriter.close ().   Average times for an update 
> to an FSDirectory look like this:
> 
> delete document: 7 ms
> create document: 6 ms
> add document: 11 ms
> IndexWriter.close: 59 ms
> 
> Is there a way to synchronize IndexWriter and IndexReader so that a call 
> to IndexWriter.close is not required for each update?  I guess I mean to 
> ask if there is a *simple* way to do this.  I imagine that one could 
> write an IndexUpdater class which manages the synchronization of Locks, 
> temp files, etc.
> 
> Thanks,
> 
> Chris
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 18:27:57 2004
Return-Path: <lucene-user-return-7491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35863 invoked from network); 11 Mar 2004 18:27:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 18:27:57 -0000
Received: (qmail 97056 invoked by uid 500); 11 Mar 2004 18:27:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97034 invoked by uid 500); 11 Mar 2004 18:27:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97021 invoked from network); 11 Mar 2004 18:27:42 -0000
Received: from unknown (HELO mail.seeqa.com) (64.81.59.34)
  by daedalus.apache.org with SMTP; 11 Mar 2004 18:27:42 -0000
Received: from Spooler by mail.seeqa.com (Mercury/32 v3.31) ID MO00201C;
    11 Mar 04 10:29:49 -0800
Received: from spooler by mail.seeqa.com (Mercury/32 v3.31); 11 Mar 04 10:29:42 -0800
Received: from seeqa.com (64.81.59.34) by mail.seeqa.com (Mercury/32 v3.31) with ESMTP ID MG00201B;
   11 Mar 04 10:29:38 -0800
Message-ID: <4050B012.7040104@seeqa.com>
Date: Thu, 11 Mar 2004 10:29:38 -0800
From: Chris Kimm <chris@seeqa.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: update performance
References: <4050A36D.4080209@seeqa.com> <4050A8D4.10900@apache.org>
In-Reply-To: <4050A8D4.10900@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Unfortunately, I'm not able to batch the updates.  The application needs 
to make some descisions based on what each document looks like before 
and  after the update, so I have to do it one at a time.  I guess this 
is not a common useage scenario for Lucene.  Otherwise, an update() 
might already be built in somewhere.

Is there anything in the locking/sync framework which precludes saving 
the cost of closing the Directory object and deleting the temp lock file 
each time an update is made?

-Chris

Doug Cutting wrote:

> It sounds like you're not batching your updates.
> 
> The most efficient approch to update 1000 documents would be to:
> 
>   1. Open an IndexReader;
>   2. Delete all 1000 documents.
>   3. Close the reader;
>   4. Open an IndexWriter;
>   5. Add all 1000 updated documents;
>   6. Close the IndexWriter.
> 
> Is that what you're doing?
> 
> Doug
> 
> Chris Kimm wrote:
> 
>> The standard pattern for updating an index - removing a document then 
>> re-adding the modified document to the index - is currently a 
>> significant performance bottleneck in my application.  I sometimes 
>> need to update ~1000 documents at a time.  The major cost of this 
>> pattern as far as I can see is IndexWriter.close ().   Average times 
>> for an update to an FSDirectory look like this:
>>
>> delete document: 7 ms
>> create document: 6 ms
>> add document: 11 ms
>> IndexWriter.close: 59 ms
>>
>> Is there a way to synchronize IndexWriter and IndexReader so that a 
>> call to IndexWriter.close is not required for each update?  I guess I 
>> mean to ask if there is a *simple* way to do this.  I imagine that one 
>> could write an IndexUpdater class which manages the synchronization of 
>> Locks, temp files, etc.
>>
>> Thanks,
>>
>> Chris
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:13:11 2004
Return-Path: <lucene-user-return-7492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71174 invoked from network); 11 Mar 2004 19:13:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:13:10 -0000
Received: (qmail 1520 invoked by uid 500); 11 Mar 2004 19:12:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1494 invoked by uid 500); 11 Mar 2004 19:12:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1471 invoked from network); 11 Mar 2004 19:12:55 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:12:55 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004031119130001300k577ce>; Thu, 11 Mar 2004 19:13:00 +0000
Message-ID: <4050BA1B.9090906@apache.org>
Date: Thu, 11 Mar 2004 11:12:27 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: update performance
References: <4050A36D.4080209@seeqa.com> <4050A8D4.10900@apache.org> <4050B012.7040104@seeqa.com>
In-Reply-To: <4050B012.7040104@seeqa.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Kimm wrote:
> Unfortunately, I'm not able to batch the updates.  The application needs 
> to make some descisions based on what each document looks like before 
> and  after the update, so I have to do it one at a time.

Are these decisions dependent on other documents?  If not, you should be 
able to queue the updates and apply them as a batch, no?

> I guess this 
> is not a common useage scenario for Lucene.  Otherwise, an update() 
> might already be built in somewhere.

Rather, Lucene's API makes it convenient to do what is efficient, and 
less convenient to do what is inefficient.  Batching is inherently more 
efficient.

> Is there anything in the locking/sync framework which precludes saving 
> the cost of closing the Directory object and deleting the temp lock file 
> each time an update is made?

You could disable locking, but I doubt it will make it much faster.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:14:43 2004
Return-Path: <lucene-user-return-7493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72533 invoked from network); 11 Mar 2004 19:14:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:14:43 -0000
Received: (qmail 6825 invoked by uid 500); 11 Mar 2004 19:14:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6804 invoked by uid 500); 11 Mar 2004 19:14:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6775 invoked from network); 11 Mar 2004 19:14:26 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:14:26 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BJEetG025414
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 11:14:40 -0800
Message-ID: <4050BA90.1060201@newsmonster.org>
Date: Thu, 11 Mar 2004 11:14:24 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: int vs long and document ids on 64bit machines.
References: <4050450A.1080400@newsmonster.org> <4050A389.4080204@apache.org>
In-Reply-To: <4050A389.4080204@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig7D0F99099C93D63EB09D8F50"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig7D0F99099C93D63EB09D8F50
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

>
> Somone, not me, perhaps provided that rationalization, which isn't a 
> bad one.  In fact, the situation was more that, in 1997, when I 
> started Lucene, 2 billion documents seemed like a lot for a Java-based 
> search engine which was designed to scale to perhaps millions of 
> documents, but probably not to the world.  Java was slow then, remember?

Yes... agreed.

>> Does anyone know how JDK 1.4.2 works on Itanium, Opteron (AMD64)?
>> How hard would it be to build a lucene64 that used 64bit document 
>> handles (longs) for 64bit procesors?!  Is it just a recompile?  Will 
>> the file format break and need updating?!
>
>
> I think the file format is 64-bit safe.  But the code changes would be 
> quite numerous.  No doubt we should make this change someday.  Do you 
> anticipate more than 2 billion documents in your Lucene index sometime 
> soon, e.g., this year?
>
> Also, with Java, it's not just a recompile, it's a lot of code changes.

Weill ... the refactor should at LEAST be pretty easy... just start 
changing int->long and follow up until the code compiles.  Not sure if 
it's that easy.

>> Also ... what are the symptoms of a Lucene build using 64bit ints on 
>> 32bit processors.  Right now we're personally stuck on 32bit machines 
>> but I would like to see us migrate to 64 bit boxes over the next 6 
>> months...
>
>
> Java's int datatype is defined as 32 bit.  So there are no 64-bit 
> ints.  There are longs.  I doubt longs are much slower than ints to 
> deal with on most JVMs today.  However a long[] is twice as big as an 
> int[], and an array may only be indexed by an int.  Currently Lucene 
> uses a byte[] indexed by document number to store normalization 
> factors.  This would not work if document numbers are longs.  Filters 
> index bit vectors with document numbers, and that also would not work 
> if document numbers were longs.  Working around these will not only 
> take some code, it may also impact performance a bit.
>
> I suspect that Java will soon evolve to better embrace 64-bit 
> machines.  Someday assignment of longs will be atomic.  (This is 
> hinted at in the language spec.)  Someday arrays will probably be 
> indexable by longs. I'd prefer to wait until these changes happen 
> before changing Lucene's document numbers to longs.
>
At some point I might take a look at the code and see how hard it would 
be... Thanks for you notes... I'll probably use these in the future.

The main problem that with indexes that have lots of SMALL documents you 
could see yourself running out of ints.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig7D0F99099C93D63EB09D8F50
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAULqV6E2NBJnxRBIRAkpfAKDYN9j/55QC6GofeocNoLp/Iy7q4wCgjOHS
/WoQnyXmGpaoOeXS0yzWFyA=
=E6IM
-----END PGP SIGNATURE-----

--------------enig7D0F99099C93D63EB09D8F50--

From lucene-user-return-7494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:24:30 2004
Return-Path: <lucene-user-return-7494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80393 invoked from network); 11 Mar 2004 19:24:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:24:29 -0000
Received: (qmail 31683 invoked by uid 500); 11 Mar 2004 19:24:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31653 invoked by uid 500); 11 Mar 2004 19:24:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31640 invoked from network); 11 Mar 2004 19:24:13 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:24:13 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BJORtG025427
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 11:24:27 -0800
Message-ID: <4050BCE0.7020802@newsmonster.org>
Date: Thu, 11 Mar 2004 11:24:16 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Real time indexing and distribution to lucene on separate boxes
 (long)
References: <20040311133903.88838.qmail@web12708.mail.yahoo.com>
In-Reply-To: <20040311133903.88838.qmail@web12708.mail.yahoo.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigD4809CCB98D443725CF48357"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigD4809CCB98D443725CF48357
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Otis Gospodnetic wrote:

>I like option 3.  I've done it before, and it worked well.  I dealt
>with very small indices, though, and if your indices are several tens
>or hundred gigs, this may be hard for you.
>
>Option 4: search can be performed on an index that is being modified
>(update, delete, insert, optimize).  You'd just have to make sure not
>to recreate new IndexSearcher too frequently, if your index is being
>modified often.  Just change it every X index modification or every X
>minutes, and you'll be fine.
>  
>
Right now I'm thinking about #4... Disk may be cheap but a fast RAID 10 
array with 100G twice isn't THAT cheap... That's the worse case scenario 
of course and most modern search clusters use cheap hardware though...

Also... since the new indexes are SO small (~100M) the merges would 
probably be easier on the machine than just doing a whole new write.  Of 
course it's hard to make that argument with a 100G RAID array but we're 
using rysnc to avoid distribution of network IO so the CPU computation 
and network read would slow things down.

The only way around this is the re-upload the whole 100G index but even 
over gigabit ethernet this will take 15 minutes.  This doesn't scale as 
we add more searchers.

Thanks for the feedback!  I think now tha tI know that optmize is safe 
as long as I don't create a new reader... I'll be fine.  I do have think 
about how I'm going to handle search result nav.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigD4809CCB98D443725CF48357
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAULzg6E2NBJnxRBIRAq+gAJ95MygLt8WHV/lVLFdbfhcmdYxsbwCfTAkO
noMrtk+Ojsoavf3tiEEH/p4=
=DekW
-----END PGP SIGNATURE-----

--------------enigD4809CCB98D443725CF48357--

From lucene-user-return-7495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:26:52 2004
Return-Path: <lucene-user-return-7495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81921 invoked from network); 11 Mar 2004 19:26:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:26:52 -0000
Received: (qmail 36140 invoked by uid 500); 11 Mar 2004 19:26:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36002 invoked by uid 500); 11 Mar 2004 19:26:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35987 invoked from network); 11 Mar 2004 19:26:37 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:26:37 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BJQptG025435
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 11:26:51 -0800
Message-ID: <4050BD70.7080804@newsmonster.org>
Date: Thu, 11 Mar 2004 11:26:40 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: update performance
References: <4050A36D.4080209@seeqa.com> <4050A8D4.10900@apache.org> <4050B012.7040104@seeqa.com>
In-Reply-To: <4050B012.7040104@seeqa.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigDF51B07BE586B9952448E59C"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigDF51B07BE586B9952448E59C
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Chris Kimm wrote:

> Unfortunately, I'm not able to batch the updates.  The application 
> needs to make some descisions based on what each document looks like 
> before and  after the update, so I have to do it one at a time.  I 
> guess this is not a common useage scenario for Lucene.  Otherwise, an 
> update() might already be built in somewhere.
>
> Is there anything in the locking/sync framework which precludes saving 
> the cost of closing the Directory object and deleting the temp lock 
> file each time an update is made?
>
Use a RAM directory... then when you're pretty sure you're done call 
IndexWriter.addIndexes() on the disk index.

Will that work for you?

You can also do this every N documents, or minutes, or memory usage, and 
have the commit work with a synchronized thread.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigDF51B07BE586B9952448E59C
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUL1w6E2NBJnxRBIRAh5GAJwISw56IY51S0wA/DS2UvwIowbDUQCdEnNH
b2KpN7mn5iC+3DKQtI5ssVs=
=Iv8i
-----END PGP SIGNATURE-----

--------------enigDF51B07BE586B9952448E59C--

From lucene-user-return-7496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:28:55 2004
Return-Path: <lucene-user-return-7496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83348 invoked from network); 11 Mar 2004 19:28:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:28:55 -0000
Received: (qmail 38966 invoked by uid 500); 11 Mar 2004 19:28:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38944 invoked by uid 500); 11 Mar 2004 19:28:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38931 invoked from network); 11 Mar 2004 19:28:40 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:28:40 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 51CD5A941
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 11:28:45 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id i2BJSiCT068988
	for lucene-user@jakarta.apache.org; Thu, 11 Mar 2004 11:28:44 -0800 (PST)
	(envelope-from dror)
Date: Thu, 11 Mar 2004 11:28:44 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Real time indexing and distribution to lucene on separate boxes (long)
Message-ID: <20040311192844.GR87033@rlx11.zapatec.com>
References: <40503F7E.2040708@newsmonster.org> <4050A003.7030007@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <4050A003.7030007@apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To clarify how option 3 works:

You have dira where the search is done and dirb where the indexing is
done. dirb grows when you add new items to it, and at some point you
swap and dirb becomes dira, but what do you do then?

Also, how do you write from the indexer to the directory on the search box?

We had two different ideas on how to do this, we ended up
implementing option 2, but you need to have support for snapshots to be
able to do it.

1. Similar idea to what you were suggesting, but optimizing the index:
	1. The searcher reads from dira.
	2. The writer writes to dirb which contains only *new* documents that
	aren't in dira.
	3. Periodically the writer stops writing and merges/optimizes dira and
	dirb to dirc.
	4. When done, the writer removes dirb and starts writing to it new
	documents. 
	5. The searcher notices that dirc is ready. Renames dira to something
	else, renames dirc to dira.


The main problem with this approach is that the merging/optimizing can
be slow on large indexes. Even on fast machines with fast disks merging
several Gigs takes a while.

2. The index is NFS mounted. The indexer keeps writing to the index, and
at defined times, creates a NFS snapshot of the index. It then creates
an entry in a db to let the searcher know that a new snapshot has been
created.
The searcher checks once a minute the db to see if there's a new
snapshot. If there is one, it opens the index in the new snapshot and
swaps it for the old one. The code to do this is synchronized.

The nice thing about this solution is that you don't have just one copy
of the index and don't do any copying. But you need to use NFS and
snapshots.


Dror

On Thu, Mar 11, 2004 at 09:21:07AM -0800, Doug Cutting wrote:
> Kevin A. Burton wrote:
>  > 3. Have two directories on the searcher.  The indexer would then 
> sync to
> >a tmp
> >directory and then at run time swap them via a rename once the sync is 
> >over.
> >The downside here is that this will take up 2x disk space on the 
> >searcher.  The
> >upside is that the box will only slow down while the rsync is happening.
> 
> For maximal search performance, this is your best bet.  Disk space is 
> cheap.  At some point all newly issued queries start going against the 
> new index, and, pretty soon, you can close and delete the old index. 
> But you never have to stop searching.  Disk i/o will spike a bit during 
> the changeover, as the new working set is swapped in.
> 
> Note that, if folks are paging through results by re-querying (the 
> standard method) and the index is updated then things can get funky. 
> One approach is to hang onto the old index longer, to make this less 
> likely.  In any case, you might want to add an index-id to the search 
> parameters, so that, if a next-page is issued when the index is no 
> longer there you can give some sort of "stale query" error.
> 
> >PS.. Random question.  The performance of the MultiSearcher is Mlog(N) 
> >correct?
> >Where N is the number of documents in the index and M is the number of 
> >indexes?
> >Is this about right?
> 
> No.
> 
> The added cost of a MultiSearcher is mostly proportional to just M, the 
> number of indexes.  The normal cost of searching is still mostly 
> proportional to N, the number of documents.  So M+N would probably be 
> more accurate.  There is a log(M) here and there, to, e.g., figure out 
> which index a doc id belongs to, but I doubt these are significant.
> 
> The significant costs of a MultiSearcher over an IndexSearcher are that 
> it adds more term dictionary reads (one per query term per index) and 
> more seeks (also one per query term per index, or two if you're using 
> phrases).
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 19:29:11 2004
Return-Path: <lucene-user-return-7497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83517 invoked from network); 11 Mar 2004 19:29:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 19:29:11 -0000
Received: (qmail 39853 invoked by uid 500); 11 Mar 2004 19:28:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39824 invoked by uid 500); 11 Mar 2004 19:28:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39811 invoked from network); 11 Mar 2004 19:28:56 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 11 Mar 2004 19:28:56 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 11 Mar 2004 14:28:25 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: int vs long and document ids on 64bit machines.
Date: Thu, 11 Mar 2004 14:32:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQHnQSAJaH3pucKSHaeVUICTC0/VAAAeU4Q
In-Reply-To: <4050BA90.1060201@newsmonster.org>
Message-ID: <GERMANYchK6m7swxvR300004884@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 11 Mar 2004 19:28:25.0359 (UTC) FILETIME=[05E959F0:01C4079F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If the document id is going to be changed, is it possible to define an
interface so the user could provide other implementation to replace the
default one? For example, the document unique timestamp or other fields as
long as they are long could be used. In this way, we can easily get another
sorting option rather than the default score sorting. Still not sure whether
it is a good idea or not though.

Regards,
hui

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org] 
Sent: Thursday, March 11, 2004 2:14 PM
To: Lucene Users List
Subject: Re: int vs long and document ids on 64bit machines.

Doug Cutting wrote:

>
> Somone, not me, perhaps provided that rationalization, which isn't a 
> bad one.  In fact, the situation was more that, in 1997, when I 
> started Lucene, 2 billion documents seemed like a lot for a Java-based 
> search engine which was designed to scale to perhaps millions of 
> documents, but probably not to the world.  Java was slow then, remember?

Yes... agreed.

>> Does anyone know how JDK 1.4.2 works on Itanium, Opteron (AMD64)?
>> How hard would it be to build a lucene64 that used 64bit document 
>> handles (longs) for 64bit procesors?!  Is it just a recompile?  Will 
>> the file format break and need updating?!
>
>
> I think the file format is 64-bit safe.  But the code changes would be 
> quite numerous.  No doubt we should make this change someday.  Do you 
> anticipate more than 2 billion documents in your Lucene index sometime 
> soon, e.g., this year?
>
> Also, with Java, it's not just a recompile, it's a lot of code changes.

Weill ... the refactor should at LEAST be pretty easy... just start 
changing int->long and follow up until the code compiles.  Not sure if 
it's that easy.

>> Also ... what are the symptoms of a Lucene build using 64bit ints on 
>> 32bit processors.  Right now we're personally stuck on 32bit machines 
>> but I would like to see us migrate to 64 bit boxes over the next 6 
>> months...
>
>
> Java's int datatype is defined as 32 bit.  So there are no 64-bit 
> ints.  There are longs.  I doubt longs are much slower than ints to 
> deal with on most JVMs today.  However a long[] is twice as big as an 
> int[], and an array may only be indexed by an int.  Currently Lucene 
> uses a byte[] indexed by document number to store normalization 
> factors.  This would not work if document numbers are longs.  Filters 
> index bit vectors with document numbers, and that also would not work 
> if document numbers were longs.  Working around these will not only 
> take some code, it may also impact performance a bit.
>
> I suspect that Java will soon evolve to better embrace 64-bit 
> machines.  Someday assignment of longs will be atomic.  (This is 
> hinted at in the language spec.)  Someday arrays will probably be 
> indexable by longs. I'd prefer to wait until these changes happen 
> before changing Lucene's document numbers to longs.
>
At some point I might take a look at the code and see how hard it would 
be... Thanks for you notes... I'll probably use these in the future.

The main problem that with indexes that have lots of SMALL documents you 
could see yourself running out of ints.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 20:38:03 2004
Return-Path: <lucene-user-return-7498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44640 invoked from network); 11 Mar 2004 20:38:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 20:38:02 -0000
Received: (qmail 63672 invoked by uid 500); 11 Mar 2004 20:37:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63539 invoked by uid 500); 11 Mar 2004 20:37:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63526 invoked from network); 11 Mar 2004 20:37:46 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 11 Mar 2004 20:37:46 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004031120375101600ljsqte>; Thu, 11 Mar 2004 20:37:51 +0000
Message-ID: <4050CDFE.9090502@apache.org>
Date: Thu, 11 Mar 2004 12:37:18 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: int vs long and document ids on 64bit machines.
References: <GERMANYchK6m7swxvR300004884@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANYchK6m7swxvR300004884@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hui wrote:
> If the document id is going to be changed, is it possible to define an
> interface so the user could provide other implementation to replace the
> default one? For example, the document unique timestamp or other fields as
> long as they are long could be used.

I don't think that would be a good idea.  Lucene's index format requires 
document ids to increase as documents are added, and things are *much* 
more efficient when the numbering is dense.

> In this way, we can easily get another
> sorting option rather than the default score sorting. Still not sure whether
> it is a good idea or not though.

There is good result sorting support in the latest CVS that will be in 1.4.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 20:44:56 2004
Return-Path: <lucene-user-return-7499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49219 invoked from network); 11 Mar 2004 20:44:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 20:44:55 -0000
Received: (qmail 74804 invoked by uid 500); 11 Mar 2004 20:44:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74776 invoked by uid 500); 11 Mar 2004 20:44:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74751 invoked from network); 11 Mar 2004 20:44:40 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 11 Mar 2004 20:44:40 -0000
Received: (cpmta 28748 invoked from network); 11 Mar 2004 12:44:43 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.13?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 11 Mar 2004 12:44:43 -0800
X-Sent: 11 Mar 2004 20:44:43 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <40509C2F.5010906@apache.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com> <40509C2F.5010906@apache.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DC633163-739C-11D8-9627-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Thu, 11 Mar 2004 15:44:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will refactor again using Set with no copying this time (except for 
the String[] and Hashtable) constructors.  This was my original 
preference, but I got caught up in the arguments by Kevin and lost my 
ideals temporarily :)

I expect to do this later tonight or tomorrow.

	Erik


On Mar 11, 2004, at 12:04 PM, Doug Cutting wrote:

> Erik Hatcher wrote:
>> Yes, I saw it.  But is there a reason not to just expose HashSet 
>> given that it is the data structure that is most efficient?  I bought 
>> into Kevin's arguments that it made sense to just expose HashSet.
>
> Just the general principal that one shouldn't expose more of the 
> implementation than one must.  I can imagine faster things than a 
> HashSet for this, e.g., a well-coded letter tree (trie) could be a bit 
> faster, since it would only touch each character in the key once.  But 
> it's not a big deal, perhaps not worth fixing at this point.
>
> I proposed a solution that both respected this concern (yours, as I 
> recall) while at the same time avoiding copying.  It doesn't need to 
> be an either/or situation.  We can easily hide the implementation, 
> avoid copying, and use the most efficient implementation internally.  
> If you no longer care about hiding the implementation, then I guess 
> this is moot.  Before we started this exercise the implementation was 
> exposed, so things have gotten no worse, only better.  But they could 
> have gotten just a little bit better yet!
>
> Cheers,
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 21:42:32 2004
Return-Path: <lucene-user-return-7500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96383 invoked from network); 11 Mar 2004 21:42:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 21:42:32 -0000
Received: (qmail 86067 invoked by uid 500); 11 Mar 2004 21:42:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85895 invoked by uid 500); 11 Mar 2004 21:42:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85881 invoked from network); 11 Mar 2004 21:42:14 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 21:42:14 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BLgTtG025742
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 13:42:30 -0800
Message-ID: <4050DD34.9060008@newsmonster.org>
Date: Thu, 11 Mar 2004 13:42:12 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Real time indexing and distribution to lucene on separate boxes
 (long)
References: <40503F7E.2040708@newsmonster.org> <4050A003.7030007@apache.org> <20040311192844.GR87033@rlx11.zapatec.com>
In-Reply-To: <20040311192844.GR87033@rlx11.zapatec.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig27CD216604E8BAD06A4C2853"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig27CD216604E8BAD06A4C2853
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Matalon wrote:

>To clarify how option 3 works:
>
>You have dira where the search is done and dirb where the indexing is
>done. dirb grows when you add new items to it, and at some point you
>swap and dirb becomes dira, but what do you do then?
>  
>
The Searcher reloads and points to dira...

>Also, how do you write from the indexer to the directory on the search box?
>  
>
We rsync the content over...

>2. The index is NFS mounted. The indexer keeps writing to the index, and
>at defined times, creates a NFS snapshot of the index. It then creates
>an entry in a db to let the searcher know that a new snapshot has been
>created.
>The searcher checks once a minute the db to see if there's a new
>snapshot. If there is one, it opens the index in the new snapshot and
>swaps it for the old one. The code to do this is synchronized.
>
>The nice thing about this solution is that you don't have just one copy
>of the index and don't do any copying. But you need to use NFS and
>snapshots.
>  
>
Well... right now I'm thinking that if I can do a merge on the box with 
< 200M per commit that this won't be too much of a burden on the 
searchers as long as it happens at regular intervals. 

Right now though I'm going to have to test this to make sure I can keep 
doing a query and an index merge on the same box with the merge 
happening in a diff process.

Going to send off an email about this in a minute :)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig27CD216604E8BAD06A4C2853
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUN026E2NBJnxRBIRArQjAJ0ee7jqqv2BI4gDgU1vI42mjTTNuwCgwz8Q
2qf3wz7T8GQ9hKa1zsWrvZk=
=8Lmr
-----END PGP SIGNATURE-----

--------------enig27CD216604E8BAD06A4C2853--

From lucene-user-return-7501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 22:19:35 2004
Return-Path: <lucene-user-return-7501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23965 invoked from network); 11 Mar 2004 22:19:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 22:19:35 -0000
Received: (qmail 47734 invoked by uid 500); 11 Mar 2004 22:19:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47716 invoked by uid 500); 11 Mar 2004 22:19:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47699 invoked from network); 11 Mar 2004 22:19:17 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 22:19:17 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BMJWtG025826
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 14:19:33 -0800
Message-ID: <4050E5E4.3050909@newsmonster.org>
Date: Thu, 11 Mar 2004 14:19:16 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com> <13EBFB06-7357-11D8-B209-000A95D01A94@ganyo.com>
In-Reply-To: <13EBFB06-7357-11D8-B209-000A95D01A94@ganyo.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig5E18EB6200A5326BF25ABEF2"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig5E18EB6200A5326BF25ABEF2
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Scott ganyo wrote:

> I don't buy it.  HashSet is but one implementation of a Set.  By 
> choosing the HashSet implementation you are not only tying the class 
> to a hash-based implementation, you are trying the interface to *that 
> specific* hash-based implementation or it's subclasses.  In the end, 
> either you buy the concept of the interface and its abstraction or you 
> don't.  I firmly believe in using interfaces as they were intended to 
> be used.

An interface isn't just the concept of a Java interface but ALSO the 
implied and required semantics.

TreeSet, etc are too slow to be used with the StopFitler thus we should 
prevent their use. 

We require HashSet/Map...

> Scott
>
> P.S. In fact, HashSet isn't always going to be the most efficient 
> anyway.  Just for one example:  Consider possible implementations if I 
> have only 1 or 2 entries.
>
HashSet is not always the most efficient... if you need to do runtime 
inserts and bulk removal TreeSet/Map might be more efficient.  Also if 
you need to sort the map then you're stuck with a tree.

KEvin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig5E18EB6200A5326BF25ABEF2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUOXq6E2NBJnxRBIRAv3eAKCY+3SUpb5wFM5/b+11qJy74jzvJwCfRHxd
/UIqItKpen4xNR0qDjS61Dc=
=II79
-----END PGP SIGNATURE-----

--------------enig5E18EB6200A5326BF25ABEF2--

From lucene-user-return-7502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 22:22:44 2004
Return-Path: <lucene-user-return-7502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26017 invoked from network); 11 Mar 2004 22:22:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 22:22:44 -0000
Received: (qmail 53246 invoked by uid 500); 11 Mar 2004 22:22:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53220 invoked by uid 500); 11 Mar 2004 22:22:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53204 invoked from network); 11 Mar 2004 22:22:26 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 11 Mar 2004 22:22:25 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2BMMatG025831
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Mar 2004 14:22:42 -0800
Message-ID: <4050E6A1.90406@newsmonster.org>
Date: Thu, 11 Mar 2004 14:22:25 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com> <40509C2F.5010906@apache.org> <DC633163-739C-11D8-9627-000393A564E6@ehatchersolutions.com>
In-Reply-To: <DC633163-739C-11D8-9627-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig6287F4181BC9EEC9C097A21D"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig6287F4181BC9EEC9C097A21D
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> I will refactor again using Set with no copying this time (except for 
> the String[] and Hashtable) constructors.  This was my original 
> preference, but I got caught up in the arguments by Kevin and lost my 
> ideals temporarily :)
>
> I expect to do this later tonight or tomorrow.

How about this as a compromise...

No copy on constructor... use a Set but in the documentation summarize 
this conversation and point out that the user should use a HashSet and 
NOT any other type of set and that it will result in a copy..

I think Doug's comment about a potentially faster impl in the future was 
a good point...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig6287F4181BC9EEC9C097A21D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAUOai6E2NBJnxRBIRAjM0AKCyT+6b8JeRmyRVvzihBVTtrNeQvQCbB4m/
OFJ6qqcAxY2xAvnoYXUjUhM=
=SRaX
-----END PGP SIGNATURE-----

--------------enig6287F4181BC9EEC9C097A21D--

From lucene-user-return-7503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 11 22:35:12 2004
Return-Path: <lucene-user-return-7503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33219 invoked from network); 11 Mar 2004 22:35:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Mar 2004 22:35:12 -0000
Received: (qmail 74375 invoked by uid 500); 11 Mar 2004 22:34:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74351 invoked by uid 500); 11 Mar 2004 22:34:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74293 invoked from network); 11 Mar 2004 22:34:52 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 11 Mar 2004 22:34:52 -0000
Received: (cpmta 7277 invoked from network); 11 Mar 2004 14:34:58 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.13?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 11 Mar 2004 14:34:58 -0800
X-Sent: 11 Mar 2004 22:34:58 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <4050E6A1.90406@newsmonster.org>
References: <404D22CF.7050705@newsmonster.org> <FB8841D0-7174-11D8-B5FE-000393A564E6@ehatchersolutions.com> <404D8B2E.2020701@newsmonster.org> <ABB50D9A-71BA-11D8-A12C-000393A564E6@ehatchersolutions.com> <404E0320.9010303@apache.org> <404E1465.4030503@newsmonster.org> <A772A854-7229-11D8-BB6F-000393A564E6@ehatchersolutions.com> <404E8A1C.6060809@newsmonster.org> <FC7E847E-7279-11D8-83FF-000393A564E6@ehatchersolutions.com> <404F73B2.5020503@newsmonster.org> <55DCBB78-72EB-11D8-A324-000393A564E6@ehatchersolutions.com> <404FDCC1.3060604@apache.org> <6A2FF582-7312-11D8-9199-000393A564E6@ehatchersolutions.com> <40509C2F.5010906@apache.org> <DC633163-739C-11D8-9627-000393A564E6@ehatchersolutions.com> <4050E6A1.90406@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <512093FC-73AC-11D8-9627-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
Date: Thu, 11 Mar 2004 17:34:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Part of the dilemma of which implementation to actually be used will be 
solved implicit since our function to construct the Set will return a 
HashSet - and this will surely be the method most folks would use.  But 
I will be sure to note in the Javadoc that the implementation of the 
Set is important.

	Erik

On Mar 11, 2004, at 5:22 PM, Kevin A. Burton wrote:

> Erik Hatcher wrote:
>
>> I will refactor again using Set with no copying this time (except for 
>> the String[] and Hashtable) constructors.  This was my original 
>> preference, but I got caught up in the arguments by Kevin and lost my 
>> ideals temporarily :)
>>
>> I expect to do this later tonight or tomorrow.
>
> How about this as a compromise...
>
> No copy on constructor... use a Set but in the documentation summarize 
> this conversation and point out that the user should use a HashSet and 
> NOT any other type of set and that it will result in a copy..
>
> I think Doug's comment about a potentially faster impl in the future 
> was a good point...
>
> Kevin
>
> -- 
>
> Please reply using PGP.
>
>    http://peerfear.org/pubkey.asc          NewsMonster - 
> http://www.newsmonster.org/
>    Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 12 00:44:01 2004
Return-Path: <lucene-user-return-7504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88657 invoked from network); 12 Mar 2004 00:44:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Mar 2004 00:44:01 -0000
Received: (qmail 58061 invoked by uid 500); 12 Mar 2004 00:43:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58031 invoked by uid 500); 12 Mar 2004 00:43:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58002 invoked from network); 12 Mar 2004 00:43:30 -0000
Received: from unknown (HELO web40601.mail.yahoo.com) (66.218.78.138)
  by daedalus.apache.org with SMTP; 12 Mar 2004 00:43:30 -0000
Message-ID: <20040312004338.19432.qmail@web40601.mail.yahoo.com>
Received: from [128.205.153.72] by web40601.mail.yahoo.com via HTTP; Thu, 11 Mar 2004 16:43:37 PST
Date: Thu, 11 Mar 2004 16:43:37 -0800 (PST)
From: Ashwin Shripathi Raj <smartdalton_21@yahoo.com>
Reply-To: smartdalton_21@yahoo.com
Subject: Retrieving sections of a document
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

 I have a large HTML document broken up into sections.
On a search, I need to retrieve only the sections in
which the keyword was found. Does Lucene support
passage retrieval or do I have to split up the HTML
file into seperate documents and return their name as
the result. 
What am looking for is the return of the section names
or target spots in which the keywords were found. 

Thanks,

Raj



=====

www.cse.buffalo.edu/~sg47


__________________________________
Do you Yahoo!?
Yahoo! Search - Find what youre looking for faster
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 12 01:33:28 2004
Return-Path: <lucene-user-return-7505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11726 invoked from network); 12 Mar 2004 01:33:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Mar 2004 01:33:28 -0000
Received: (qmail 17984 invoked by uid 500); 12 Mar 2004 01:33:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17950 invoked by uid 500); 12 Mar 2004 01:33:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17934 invoked from network); 12 Mar 2004 01:33:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 12 Mar 2004 01:33:06 -0000
Received: (cpmta 20860 invoked from network); 11 Mar 2004 17:33:14 -0800
Received: from 128.143.103.29 (HELO ?128.143.103.29?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 11 Mar 2004 17:33:14 -0800
X-Sent: 12 Mar 2004 01:33:14 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <20040312004338.19432.qmail@web40601.mail.yahoo.com>
References: <20040312004338.19432.qmail@web40601.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <3A941C65-73C5-11D8-8035-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Retrieving sections of a document
Date: Thu, 11 Mar 2004 20:33:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would think your best bet is to index each "section" as a separate=20
Document, with a field that refers to the HTML file itself somehow.

	Erik

On Mar 11, 2004, at 7:43 PM, Ashwin Shripathi Raj wrote:

> Hi,
>
>  I have a large HTML document broken up into sections.
> On a search, I need to retrieve only the sections in
> which the keyword was found. Does Lucene support
> passage retrieval or do I have to split up the HTML
> file into seperate documents and return their name as
> the result.
> What am looking for is the return of the section names
> or target spots in which the keywords were found.
>
> Thanks,
>
> Raj
>
>
>
> =3D=3D=3D=3D=3D
>
> www.cse.buffalo.edu/~sg47
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! Search - Find what you=92re looking for faster
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 12 01:33:53 2004
Return-Path: <lucene-user-return-7506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12377 invoked from network); 12 Mar 2004 01:33:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Mar 2004 01:33:52 -0000
Received: (qmail 19044 invoked by uid 500); 12 Mar 2004 01:33:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19023 invoked by uid 500); 12 Mar 2004 01:33:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19007 invoked from network); 12 Mar 2004 01:33:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 12 Mar 2004 01:33:31 -0000
Received: (cpmta 29185 invoked from network); 11 Mar 2004 17:33:39 -0800
Received: from 128.143.103.29 (HELO ?128.143.103.29?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 11 Mar 2004 17:33:39 -0800
X-Sent: 12 Mar 2004 01:33:39 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <20040312004338.19432.qmail@web40601.mail.yahoo.com>
References: <20040312004338.19432.qmail@web40601.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <3A941C65-73C5-11D8-8035-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Retrieving sections of a document
Date: Thu, 11 Mar 2004 20:33:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would think your best bet is to index each "section" as a separate=20
Document, with a field that refers to the HTML file itself somehow.

	Erik

On Mar 11, 2004, at 7:43 PM, Ashwin Shripathi Raj wrote:

> Hi,
>
>  I have a large HTML document broken up into sections.
> On a search, I need to retrieve only the sections in
> which the keyword was found. Does Lucene support
> passage retrieval or do I have to split up the HTML
> file into seperate documents and return their name as
> the result.
> What am looking for is the return of the section names
> or target spots in which the keywords were found.
>
> Thanks,
>
> Raj
>
>
>
> =3D=3D=3D=3D=3D
>
> www.cse.buffalo.edu/~sg47
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! Search - Find what you=92re looking for faster
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 12 12:26:16 2004
Return-Path: <lucene-user-return-7507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15751 invoked from network); 12 Mar 2004 12:26:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Mar 2004 12:26:15 -0000
Received: (qmail 79542 invoked by uid 500); 12 Mar 2004 12:26:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79517 invoked by uid 500); 12 Mar 2004 12:26:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79504 invoked from network); 12 Mar 2004 12:26:07 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 12 Mar 2004 12:26:07 -0000
Message-ID: <20040312122608.95800.qmail@web12703.mail.yahoo.com>
Received: from [194.152.224.93] by web12703.mail.yahoo.com via HTTP; Fri, 12 Mar 2004 04:26:08 PST
Date: Fri, 12 Mar 2004 04:26:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Real time indexing and distribution to lucene on separate boxes (long)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4050BCE0.7020802@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> Otis Gospodnetic wrote:
> 
> >I like option 3.  I've done it before, and it worked well.  I dealt
> >with very small indices, though, and if your indices are several
> tens
> >or hundred gigs, this may be hard for you.
> >
> >Option 4: search can be performed on an index that is being modified
> >(update, delete, insert, optimize).  You'd just have to make sure
> not
> >to recreate new IndexSearcher too frequently, if your index is being
> >modified often.  Just change it every X index modification or every
> X
> >minutes, and you'll be fine.
> >  
> >
> Right now I'm thinking about #4... Disk may be cheap but a fast RAID
> 10 
> array with 100G twice isn't THAT cheap... That's the worse case

Yes, but not everything needs to be on a fast RAID (you probabably are
using SCSI disks in RAID, which is what makes it expensive.  RAID
requires only a RAID controller).
You could have a Searcher machine with a set of cheap EIDE disks, and
use those as a copy target disks, which are not searched.
Once you transfer your indices there, you copy them on fast SCSI RAID
disks.

> Also... since the new indexes are SO small (~100M) the merges would 
> probably be easier on the machine than just doing a whole new write. 
> Of 
> course it's hard to make that argument with a 100G RAID array but
> we're 
> using rysnc to avoid distribution of network IO so the CPU
> computation 
> and network read would slow things down.
> 
> The only way around this is the re-upload the whole 100G index but
> even 
> over gigabit ethernet this will take 15 minutes.  This doesn't scale
> as we add more searchers.

I wonder what happens if you try compressing the indices before copying
them over the network.
I wonder if it makes a difference whether you use compound vs.
traditional directories.
I wonder what the index size is if you use DbDirectory instead of
FSDirectory.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 12 19:37:07 2004
Return-Path: <lucene-user-return-7508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30315 invoked from network); 12 Mar 2004 19:37:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Mar 2004 19:37:07 -0000
Received: (qmail 33309 invoked by uid 500); 12 Mar 2004 19:36:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33289 invoked by uid 500); 12 Mar 2004 19:36:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33273 invoked from network); 12 Mar 2004 19:36:51 -0000
Received: from unknown (HELO dc2-web5.assortedinternet.com) (66.36.233.100)
  by daedalus.apache.org with SMTP; 12 Mar 2004 19:36:51 -0000
Received: from c-24-6-66-124.client.comcast.net ([24.6.66.124] helo=fd1625gf)
	by dc2-web5.assortedinternet.com with asmtp (Exim 4.24)
	id 1B1sSm-0003bL-57
	for lucene-user@jakarta.apache.org; Fri, 12 Mar 2004 14:36:56 -0500
From: "Philippe Ombredanne" <pombredanne@nexb.com>
To: <lucene-user@jakarta.apache.org>
Subject: An InvertedDateField implementation : comments?
Date: Fri, 12 Mar 2004 11:40:48 -0800
Message-ID: <01b401c40869$ed1e22e0$6c62400a@fd1625gf>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_01B5_01C40826.DEFAE2E0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - dc2-web5.assortedinternet.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - nexb.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01B5_01C40826.DEFAE2E0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear Lucene enthusiasts,
Following the discussion thread on backward terms enumeration,
http://issues.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.
apache.org&msgId=3D1381575, I have created a draft inverted date field
simple implementation.

I need it badly as we manage versions of documents with Lucene, and that
is a cool way to get to the latest version.

The route I took is to take the complement to the implied MAX_DATE from
DateField as the largest long that can be managed on 9 bytes(DATE_LEN)
that means zzzzzzzzz parsed to long, and as a date sometimes in April
5188.....(;-)

You can still keep a somewhat compact date (9 bytes), and get the right
ordering.
Things that may need additional work for a fully functional inverted
date feature:
- An InvertedDateFilter,
- updates to QueryParser and Field to manage inverted dates and inverted
date ranges, and semantics like "Most recent document"

I have attached my draft implementation of an InvertedDateField helper
class, delegating most of its work to DateField, and dealing properly
with inversions conversions to and from inverted date Strings, to and
from Dates, times, and inverted times.
I still keep the constraints/limitations of DateField, but manage the
inversion.
By the way, why is DateField.DATE_LEN private?

I have also added a simple test class.

I am donating this code and assign copyright to the ASF as a
contribution.
What about making it part of the base package?

Comments on the approach are badly needed.
Another approach was that posted by Matt Quail is to manage a LongField.
See below.
Cheers
Philippe

-----Original Message-----
From: Matt Quail [mailto:matt@ctx.com.au]=20
Sent: Saturday, February 28, 2004 8:17 PM
To: Philippe Ombredanne
Subject: Re: Iterating TermEnum backwards - looking for the inverted
date


Philippe,

Your class certainly looks adequate. While you were implementing yours,=20
I implemented a full "LongField" class :D

I posted it here:
http://issues.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-dev@jakarta.=
a
pache.org&msgNo=3D5329

It correctly encodes all long values (including negative values). This=20
means to store an "inverted" date, you can just make it negative. Long=20
values are encoded into a string 14 characters long.

I handle the '-' case by prefixing positive numbers with a character=20
greater than '-' (I use '0').

=3DMatt


------=_NextPart_000_01B5_01C40826.DEFAE2E0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_01B5_01C40826.DEFAE2E0--



From lucene-user-return-7509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 13 07:07:06 2004
Return-Path: <lucene-user-return-7509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49062 invoked from network); 13 Mar 2004 07:07:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Mar 2004 07:07:06 -0000
Received: (qmail 8836 invoked by uid 500); 13 Mar 2004 07:06:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8810 invoked by uid 500); 13 Mar 2004 07:06:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8796 invoked from network); 13 Mar 2004 07:06:38 -0000
Received: from unknown (HELO mr4.zonelabs.com) (208.185.174.145)
  by daedalus.apache.org with SMTP; 13 Mar 2004 07:06:38 -0000
Received: from exgate2.zonelabs.com ([172.16.211.234])
	by mr4.zonelabs.com (8.12.11/8.12.11/BCH2.0) with ESMTP id i2D76nWw028308
	for <lucene-user@jakarta.apache.org>; Fri, 12 Mar 2004 23:06:49 -0800 (PST)
Received: from exmb2.zonelabs.com ([172.16.211.235]) by exgate2.zonelabs.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 12 Mar 2004 23:06:44 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C408C9.BDFBEBA2"
Subject: Zero hits for queries ending with a number
Date: Fri, 12 Mar 2004 23:06:44 -0800
Message-ID: <8F1F77F368665043BDA3C9AA04F70B3003A19E@exmb2.zonelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Zero hits for queries ending with a number
Thread-Index: AcQIyb39mghuh64oT7ib44YCliPHhw==
From: "Morris Mizrahi" <mmizrahi@zonelabs.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 13 Mar 2004 07:06:44.0394 (UTC) FILETIME=[BE1878A0:01C408C9]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C408C9.BDFBEBA2
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hey everyone.

=20

My document object for my lucene index has a "url" field.

I have created "url" as a Text field. =20

The problem I am having is that searches with a "url" that end with a
number, e.g. "e:\k2_beta1", don't return any hits even though there is
data that should match this search criteria. If you have a "url" that
ends with a letter, e.g. "e:\k2_alpha", the search works fine and
returns the correct hits.

=20

Here are some code snippets of my work:

IndexCreation:

writer =3D new IndexWriter("index", new StandardAnalyzer(), true);

 =20

create the "url" as a Text field:

            doc.add(Field.Text("url", url));

=20

search code:

        Analyzer analyzer =3D new StandardAnalyzer();

        DateFilter filter =3D ((SearchForm) form).getDateFilter();

        Searcher searcher =3D new
IndexSearcher(IndexReader.open(indexPath));

        Query query =3D QueryParser.parse(terms, "contents", analyzer);

        Hits hits =3D searcher.search(query, filter);

=20

I have tried changing the "url" field from Text to Keyword.=20

This didn't work and also caused my searches for any "url" to fail.=20

I am using lucene 1.2

=20

I know I need the proper combinations of Analyzer and Field type.=20

=20

Any help would be appreciated.

=20

Thanks.

=20

        Morris

=20


------_=_NextPart_001_01C408C9.BDFBEBA2--

From lucene-user-return-7510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 13 10:06:19 2004
Return-Path: <lucene-user-return-7510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12022 invoked from network); 13 Mar 2004 10:06:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Mar 2004 10:06:19 -0000
Received: (qmail 36507 invoked by uid 500); 13 Mar 2004 10:05:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36489 invoked by uid 500); 13 Mar 2004 10:05:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36472 invoked from network); 13 Mar 2004 10:05:48 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 13 Mar 2004 10:05:48 -0000
Message-ID: <20040313100601.26492.qmail@web12708.mail.yahoo.com>
Received: from [195.29.51.114] by web12708.mail.yahoo.com via HTTP; Sat, 13 Mar 2004 02:06:01 PST
Date: Sat, 13 Mar 2004 02:06:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Zero hits for queries ending with a number
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8F1F77F368665043BDA3C9AA04F70B3003A19E@exmb2.zonelabs.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Field.Keyword is suitable for storing data like Url.  Give that a try.

Otis

--- Morris Mizrahi <mmizrahi@zonelabs.com> wrote:
> Hey everyone.
> 
>  
> 
> My document object for my lucene index has a "url" field.
> 
> I have created "url" as a Text field.  
> 
> The problem I am having is that searches with a "url" that end with a
> number, e.g. "e:\k2_beta1", don't return any hits even though there
> is
> data that should match this search criteria. If you have a "url" that
> ends with a letter, e.g. "e:\k2_alpha", the search works fine and
> returns the correct hits.
> 
>  
> 
> Here are some code snippets of my work:
> 
> IndexCreation:
> 
> writer = new IndexWriter("index", new StandardAnalyzer(), true);
> 
>   
> 
> create the "url" as a Text field:
> 
>             doc.add(Field.Text("url", url));
> 
>  
> 
> search code:
> 
>         Analyzer analyzer = new StandardAnalyzer();
> 
>         DateFilter filter = ((SearchForm) form).getDateFilter();
> 
>         Searcher searcher = new
> IndexSearcher(IndexReader.open(indexPath));
> 
>         Query query = QueryParser.parse(terms, "contents", analyzer);
> 
>         Hits hits = searcher.search(query, filter);
> 
>  
> 
> I have tried changing the "url" field from Text to Keyword. 
> 
> This didn't work and also caused my searches for any "url" to fail. 
> 
> I am using lucene 1.2
> 
>  
> 
> I know I need the proper combinations of Analyzer and Field type. 
> 
>  
> 
> Any help would be appreciated.
> 
>  
> 
> Thanks.
> 
>  
> 
>         Morris
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 13 11:00:54 2004
Return-Path: <lucene-user-return-7511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27717 invoked from network); 13 Mar 2004 11:00:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Mar 2004 11:00:54 -0000
Received: (qmail 70069 invoked by uid 500); 13 Mar 2004 11:00:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70039 invoked by uid 500); 13 Mar 2004 11:00:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70026 invoked from network); 13 Mar 2004 11:00:22 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 13 Mar 2004 11:00:22 -0000
Received: from [212.227.126.223] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1B26se-0001mv-00
	for lucene-user@jakarta.apache.org; Sat, 13 Mar 2004 12:00:36 +0100
Received: from [80.128.77.115] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1B26se-0000Ow-00
	for lucene-user@jakarta.apache.org; Sat, 13 Mar 2004 12:00:36 +0100
Received: by eco (Postfix, from userid 1000)
	id 9C7B7124E2; Sat, 13 Mar 2004 12:02:28 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16466.59972.520403.253337@onlinehome.de>
Date: Sat, 13 Mar 2004 12:02:28 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
In-Reply-To: <20040313100601.26492.qmail@web12708.mail.yahoo.com>
References: <8F1F77F368665043BDA3C9AA04F70B3003A19E@exmb2.zonelabs.com>
	<20040313100601.26492.qmail@web12708.mail.yahoo.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic writes:
> Field.Keyword is suitable for storing data like Url.  Give that a try.
> 
Hmm. I don't think keyword fields can be used with query parser,
which is probably one of the problems here.
He did try keyword fields.

IMO it should work with a text field and the same analyzer for indexing
and query parser though it might return additional hits. The latter issue
is why it's usually a bad idea not to use keyword for url values, I agree 
with that.
It should be possible to see what's going wrong from looking at 
a) the tokens generated by the analyzer and
b) the parsed query (using the to_string method).
But I'm just curious to understand why it's not working.

At the end, I'd also suggest a keyword field and not using query parser
for this field. Creating queries without query parser isn't hard.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 13 11:14:03 2004
Return-Path: <lucene-user-return-7512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32182 invoked from network); 13 Mar 2004 11:14:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Mar 2004 11:14:03 -0000
Received: (qmail 78982 invoked by uid 500); 13 Mar 2004 11:13:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78961 invoked by uid 500); 13 Mar 2004 11:13:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78937 invoked from network); 13 Mar 2004 11:13:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 13 Mar 2004 11:13:30 -0000
Received: (cpmta 14838 invoked from network); 13 Mar 2004 03:13:43 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 13 Mar 2004 03:13:43 -0800
X-Sent: 13 Mar 2004 11:13:43 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <16466.59972.520403.253337@onlinehome.de>
References: <8F1F77F368665043BDA3C9AA04F70B3003A19E@exmb2.zonelabs.com> <20040313100601.26492.qmail@web12708.mail.yahoo.com> <16466.59972.520403.253337@onlinehome.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7A8E2FFF-74DF-11D8-98E7-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 13 Mar 2004 06:13:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 13, 2004, at 6:02 AM, Morus Walter wrote:
> Otis Gospodnetic writes:
>> Field.Keyword is suitable for storing data like Url.  Give that a try.
>>
> Hmm. I don't think keyword fields can be used with query parser,
> which is probably one of the problems here.
> He did try keyword fields.

Look in the archives for KeywordAnalyzer (custom).... and 
PerFieldAnalyzerWrapper (built-in).... using a combination of these you 
can use keyword fields.  Or, first try just using WhitespaceAnalyzer.

It is almost always the analyzer that is the cause of confusion - folks 
just get lulled into forgetting about its role because Lucene is so 
easy to use... until this type of issue bites you.

It is a wacky combination though - and notorious for causing confusion.

Perhaps someone could create a wiki page for this scenario where we can 
flesh out examples/solutions?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 13 16:46:30 2004
Return-Path: <lucene-user-return-7513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13104 invoked from network); 13 Mar 2004 16:46:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Mar 2004 16:46:30 -0000
Received: (qmail 33075 invoked by uid 500); 13 Mar 2004 16:46:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32853 invoked by uid 500); 13 Mar 2004 16:46:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32835 invoked from network); 13 Mar 2004 16:46:16 -0000
Received: from unknown (HELO mail3.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 13 Mar 2004 16:46:16 -0000
Received: from 192.168.8.246 by mail3.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Sat, 13 Mar 2004 09:49:30 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Sat, 13 Mar 2004 09:45:56 -0700
Message-ID: <s052d854.099@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Sat, 13 Mar 2004 09:45:44 -0700
From: "Charlie Smith" <smithcw@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: UNIX command-line indexing script?
MIME-Version: 1.0
X-WSS-ID: 6C4DE410143124-01-01
Content-Type: multipart/alternative;
 boundary="=__PartE9C8F7A8.0__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=__PartE9C8F7A8.0__=
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit

Anyone written a simple UNIX command-line indexing script which will read a
bunch off different kinds of docs and index them?  I'd like to make a cron job
out of this so as to be able to come back and read it later during a search.
 
PERL or JAVA script would be fine.
 
 

--=__PartE9C8F7A8.0__=--


From lucene-user-return-7514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 14 20:23:34 2004
Return-Path: <lucene-user-return-7514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22886 invoked from network); 14 Mar 2004 20:23:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Mar 2004 20:23:34 -0000
Received: (qmail 35788 invoked by uid 500); 14 Mar 2004 20:23:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35656 invoked by uid 500); 14 Mar 2004 20:23:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35630 invoked from network); 14 Mar 2004 20:23:17 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 14 Mar 2004 20:23:17 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2EKNME02022
	for <lucene-user@jakarta.apache.org>; Sun, 14 Mar 2004 15:23:22 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sun, 14 Mar 2004 15:23:22 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
In-Reply-To: <404E1465.4030503@newsmonster.org>
Message-ID: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Back from a weeks' vacation, so this reply is a little late, maybe out of
order as well ;). Comment inline:

On Tue, 9 Mar 2004, Kevin A. Burton wrote:

> Doug Cutting wrote:
>
> > Erik Hatcher wrote:
> >
> >> Well, one issue you didn't consider is changing a public method
> >> signature.  I will make this change, but leave the Hashtable
> >> signature method there.  I suppose we could change the signature to
> >> use a Map instead, but I believe there are some issues with doing
> >> something like this if you do not recompile your own source code
> >> against a new Lucene JAR.... so I will simply provide another
> >> signature too.
> >
> >
> > This would no longer compile with the change Kevin proposes.
> >
> > To make things back-compatible we must:
> >
> > 1. Keep but deprectate StopFilter(Hashtable) constructor;
> > 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> > 3. Add a new constructor: StopFilter(HashMap);
> > 4. Add a new method: StopFilter.makeStopMap(String[]);

Why impose implementation details in the constructor? Shouldn't the
constructor use a Map (not a HashMap), a Set, or a String array?

sv

> >
> > Does that make sense?
> >
> This patch and attachment take care of this problem...
>
> It does make this class more complex than it needs to be... but 1/2 of
> the methods are deprecated.
>
> Kevin
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 14 20:29:23 2004
Return-Path: <lucene-user-return-7515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25424 invoked from network); 14 Mar 2004 20:29:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Mar 2004 20:29:22 -0000
Received: (qmail 39587 invoked by uid 500); 14 Mar 2004 20:29:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39364 invoked by uid 500); 14 Mar 2004 20:29:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39350 invoked from network); 14 Mar 2004 20:29:07 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 14 Mar 2004 20:29:07 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2EKTC702082
	for <lucene-user@jakarta.apache.org>; Sun, 14 Mar 2004 15:29:12 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sun, 14 Mar 2004 15:29:12 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DocumentWriter, StopFilter should use HashMap... (patch)
In-Reply-To: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca>
Message-ID: <Pine.LNX.4.33.0403141528440.1627-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just found the rest of the thread. I'll shut up now ;)

sv

On Sun, 14 Mar 2004, Stephane James Vaucher wrote:

> Back from a weeks' vacation, so this reply is a little late, maybe out of
> order as well ;). Comment inline:
>
> On Tue, 9 Mar 2004, Kevin A. Burton wrote:
>
> > Doug Cutting wrote:
> >
> > > Erik Hatcher wrote:
> > >
> > >> Well, one issue you didn't consider is changing a public method
> > >> signature.  I will make this change, but leave the Hashtable
> > >> signature method there.  I suppose we could change the signature to
> > >> use a Map instead, but I believe there are some issues with doing
> > >> something like this if you do not recompile your own source code
> > >> against a new Lucene JAR.... so I will simply provide another
> > >> signature too.
> > >
> > >
> > > This would no longer compile with the change Kevin proposes.
> > >
> > > To make things back-compatible we must:
> > >
> > > 1. Keep but deprectate StopFilter(Hashtable) constructor;
> > > 2. Keep but deprecate StopFilter.makeStopTable(String[]);
> > > 3. Add a new constructor: StopFilter(HashMap);
> > > 4. Add a new method: StopFilter.makeStopMap(String[]);
>
> Why impose implementation details in the constructor? Shouldn't the
> constructor use a Map (not a HashMap), a Set, or a String array?
>
> sv
>
> > >
> > > Does that make sense?
> > >
> > This patch and attachment take care of this problem...
> >
> > It does make this class more complex than it needs to be... but 1/2 of
> > the methods are deprecated.
> >
> > Kevin
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 14 20:52:47 2004
Return-Path: <lucene-user-return-7516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37961 invoked from network); 14 Mar 2004 20:52:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Mar 2004 20:52:47 -0000
Received: (qmail 69376 invoked by uid 500); 14 Mar 2004 20:52:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69250 invoked by uid 500); 14 Mar 2004 20:52:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69237 invoked from network); 14 Mar 2004 20:52:30 -0000
Received: from unknown (HELO priv-edtnes40.telusplanet.net) (199.185.220.224)
  by daedalus.apache.org with SMTP; 14 Mar 2004 20:52:30 -0000
Received: from wen ([216.232.202.222]) by priv-edtnes40.telusplanet.net
          (InterMail vM.6.00.05.02 201-2115-109-103-20031105) with SMTP
          id <20040314205236.NNGY20416.priv-edtnes40.telusplanet.net@wen>
          for <lucene-user@jakarta.apache.org>;
          Sun, 14 Mar 2004 13:52:36 -0700
Message-ID: <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net>
From: "redpineseed" <redpineseed@telus.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca>
Subject: Date Range and proximity search
Date: Sun, 14 Mar 2004 12:52:31 -0800
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
Disposition-Notification-To: "redpineseed" <redpineseed@telus.net>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi all,

I tried the demo, and Date range and proximity search did not return
anything. are these two features functioning at all? tia

Philip



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 00:00:34 2004
Return-Path: <lucene-user-return-7517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15043 invoked from network); 15 Mar 2004 00:00:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 00:00:34 -0000
Received: (qmail 47186 invoked by uid 500); 15 Mar 2004 00:00:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47167 invoked by uid 500); 15 Mar 2004 00:00:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47146 invoked from network); 15 Mar 2004 00:00:14 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 15 Mar 2004 00:00:14 -0000
Received: (cpmta 20080 invoked from network); 14 Mar 2004 16:00:21 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 14 Mar 2004 16:00:21 -0800
X-Sent: 15 Mar 2004 00:00:21 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net>
References: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca> <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BDBBC648-7613-11D8-9B26-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Range and proximity search
Date: Sun, 14 Mar 2004 19:00:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To be honest, I'm way out of the loop of the demo and needs to be 
re-written.  It is on my to-do list!

But, date range and proximity searches most definitely work.  Can you 
be more specific about what you index and how you searched?  Perhaps 
even a working test case?

	Erik


On Mar 14, 2004, at 3:52 PM, redpineseed wrote:
> hi all,
>
> I tried the demo, and Date range and proximity search did not return
> anything. are these two features functioning at all? tia
>
> Philip
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 00:26:21 2004
Return-Path: <lucene-user-return-7518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20655 invoked from network); 15 Mar 2004 00:26:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 00:26:21 -0000
Received: (qmail 65104 invoked by uid 500); 15 Mar 2004 00:26:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65035 invoked by uid 500); 15 Mar 2004 00:26:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65011 invoked from network); 15 Mar 2004 00:26:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 15 Mar 2004 00:26:00 -0000
Received: (cpmta 20936 invoked from network); 14 Mar 2004 16:25:47 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 14 Mar 2004 16:25:47 -0800
X-Sent: 15 Mar 2004 00:25:47 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net>
References: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca> <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BDBBC648-7613-11D8-9B26-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Range and proximity search
Date: Sun, 14 Mar 2004 19:00:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To be honest, I'm way out of the loop of the demo and needs to be 
re-written.  It is on my to-do list!

But, date range and proximity searches most definitely work.  Can you 
be more specific about what you index and how you searched?  Perhaps 
even a working test case?

	Erik


On Mar 14, 2004, at 3:52 PM, redpineseed wrote:
> hi all,
>
> I tried the demo, and Date range and proximity search did not return
> anything. are these two features functioning at all? tia
>
> Philip
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 03:03:30 2004
Return-Path: <lucene-user-return-7519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75765 invoked from network); 15 Mar 2004 03:03:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 03:03:29 -0000
Received: (qmail 95679 invoked by uid 500); 15 Mar 2004 03:03:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95652 invoked by uid 500); 15 Mar 2004 03:03:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95638 invoked from network); 15 Mar 2004 03:03:06 -0000
Received: from unknown (HELO priv-edtnes51.telusplanet.net) (199.185.220.223)
  by daedalus.apache.org with SMTP; 15 Mar 2004 03:03:06 -0000
Received: from wen ([216.232.202.222]) by priv-edtnes51.telusplanet.net
          (InterMail vM.6.00.05.02 201-2115-109-103-20031105) with SMTP
          id <20040315030315.KFY17509.priv-edtnes51.telusplanet.net@wen>;
          Sun, 14 Mar 2004 20:03:15 -0700
Message-ID: <000501c40a3a$0870af00$decae8d8@bc.hsia.telus.net>
From: "redpineseed" <redpineseed@telus.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <erik@ehatchersolutions.com>
References: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca> <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net> <BDBBC648-7613-11D8-9B26-000393A564E6@ehatchersolutions.com>
Subject: TO Erik Hatcher   Re: Date Range and proximity search
Date: Sun, 14 Mar 2004 19:03:02 -0800
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
Disposition-Notification-To: "redpineseed" <redpineseed@telus.net>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi Erik,

thanks for the reply. I did not do a new index. I just used the sample index
downloaded from nutch site.  it would be great if you have some working
query strings to show me. thanks.

philip


----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Sunday, March 14, 2004 4:00 PM
Subject: Re: Date Range and proximity search


To be honest, I'm way out of the loop of the demo and needs to be
re-written.  It is on my to-do list!

But, date range and proximity searches most definitely work.  Can you
be more specific about what you index and how you searched?  Perhaps
even a working test case?

Erik


On Mar 14, 2004, at 3:52 PM, redpineseed wrote:
> hi all,
>
> I tried the demo, and Date range and proximity search did not return
> anything. are these two features functioning at all? tia
>
> Philip
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 05:00:35 2004
Return-Path: <lucene-user-return-7520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26072 invoked from network); 15 Mar 2004 05:00:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 05:00:35 -0000
Received: (qmail 7930 invoked by uid 500); 15 Mar 2004 05:00:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7904 invoked by uid 500); 15 Mar 2004 05:00:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7889 invoked from network); 15 Mar 2004 05:00:10 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 15 Mar 2004 05:00:10 -0000
Received: (cpmta 22075 invoked from network); 14 Mar 2004 21:00:19 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 14 Mar 2004 21:00:19 -0800
X-Sent: 15 Mar 2004 05:00:19 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <000501c40a3a$0870af00$decae8d8@bc.hsia.telus.net>
References: <Pine.LNX.4.33.0403141520180.1627-100000@hercule.cirano.qc.ca> <000701c40a06$4582d460$decae8d8@bc.hsia.telus.net> <BDBBC648-7613-11D8-9B26-000393A564E6@ehatchersolutions.com> <000501c40a3a$0870af00$decae8d8@bc.hsia.telus.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A5F13AE2-763D-11D8-8BA1-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Range and proximity search
Date: Mon, 15 Mar 2004 00:00:15 -0500
To: lucene-user@jakarta.apache.org
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please keep discussion on the e-mail list.  I'm not familiar with the 
fields and types that Nutch uses first-hand, but you should take this 
up on the Nutch list rather than the Lucene list.

I do know that Nutch uses a custom query parser, so perhaps it does not 
allow range and proximity queries?

	Erik


On Mar 14, 2004, at 10:03 PM, redpineseed wrote:

> hi Erik,
>
> thanks for the reply. I did not do a new index. I just used the sample 
> index
> downloaded from nutch site.  it would be great if you have some working
> query strings to show me. thanks.
>
> philip
>
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Sunday, March 14, 2004 4:00 PM
> Subject: Re: Date Range and proximity search
>
>
> To be honest, I'm way out of the loop of the demo and needs to be
> re-written.  It is on my to-do list!
>
> But, date range and proximity searches most definitely work.  Can you
> be more specific about what you index and how you searched?  Perhaps
> even a working test case?
>
> Erik
>
>
> On Mar 14, 2004, at 3:52 PM, redpineseed wrote:
>> hi all,
>>
>> I tried the demo, and Date range and proximity search did not return
>> anything. are these two features functioning at all? tia
>>
>> Philip
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 10:36:17 2004
Return-Path: <lucene-user-return-7521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22772 invoked from network); 15 Mar 2004 10:36:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 10:36:17 -0000
Received: (qmail 64767 invoked by uid 500); 15 Mar 2004 10:35:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64741 invoked by uid 500); 15 Mar 2004 10:35:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64724 invoked from network); 15 Mar 2004 10:35:44 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 15 Mar 2004 10:35:44 -0000
Received: (cpmta 21289 invoked from network); 15 Mar 2004 02:35:57 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 15 Mar 2004 02:35:57 -0800
X-Sent: 15 Mar 2004 10:35:57 GMT
Mime-Version: 1.0 (Apple Message framework v612)
In-Reply-To: <s052d854.099@wh-inet.gmhwh.org>
References: <s052d854.099@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <88937119-766C-11D8-8BA1-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: UNIX command-line indexing script?
Date: Mon, 15 Mar 2004 05:35:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.612)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have a look at the Ant <index> task in the Lucene sandbox.  You're on 
your own, currently, to build this and understand it, but I use it 
frequently.  In fact, the sample index from our book is generated with 
this:

     <index index="${build.dir}/index"
       documenthandler="lia.common.TestDataDocumentHandler">
       <fileset dir="${data.dir}"/>
       <config basedir="${data.dir}"/>
     </index>

You can plug in your own DocumentHandler implementation to index 
different document types however you like.  The default one indexes 
.txt and .html files, but a custom implementation can do its own thing. 
  Again, to write a DocumentHandler that knows about various document 
types is not hard you will have to write your own at the moment.

Despite the (minor) amount of work you'll have to do to start using 
<index> - the infrastructure adds a lot of value: an incremental file 
system indexer (only new docs get indexed on successive runs).  
Plugging this into cron would be trivial.

	Erik

On Mar 13, 2004, at 11:45 AM, Charlie Smith wrote:

> Anyone written a simple UNIX command-line indexing script which will 
> read a
> bunch off different kinds of docs and index them?  I'd like to make a 
> cron job
> out of this so as to be able to come back and read it later during a 
> search.
>
> PERL or JAVA script would be fine.
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 10:38:06 2004
Return-Path: <lucene-user-return-7522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24285 invoked from network); 15 Mar 2004 10:38:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 10:38:06 -0000
Received: (qmail 69220 invoked by uid 500); 15 Mar 2004 10:37:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69197 invoked by uid 500); 15 Mar 2004 10:37:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69183 invoked from network); 15 Mar 2004 10:37:31 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 15 Mar 2004 10:37:31 -0000
Message-ID: <20040315103745.9363.qmail@web12705.mail.yahoo.com>
Received: from [194.152.209.14] by web12705.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 02:37:45 PST
Date: Mon, 15 Mar 2004 02:37:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Reader Text input as field for HTML data text leading to "null" retrieval
To: lucene-user@jakarta.apache.org
Cc: ajitender@aalayance.com
In-Reply-To: <012e01c40a78$a2629720$8d01a8c0@india.aalayance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Re-directing this message to lucene-user list.

That is the correct behaviour.
Use
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#Text(java.lang.String,%20java.lang.String)
if you want to be able to retrieve the original value of the indexed
text.

Otis

--- jitender ahuja <ajitender@aalayance.com> wrote:
> I am working to make an index using Lucene over HTML files. I intend
> to use the Reader as the type of the text field so as to not store
> the Html files verbatim in the index. But the data retrieval yields
> null as the text retrieved.
> 
> However, if I do not use the Reader class as the Text field type,
> then I get whole file back .Also, the index directory size is nearly
> four times more now.
> 
> <br><br>
> 
> The indexer code that deals with the Reader data type is:
> 
> <br>
> 
> <p> public class IndexData{
> 
> <p> protected static final String INDEX_FOLDER = "C:\\Temp\\DB_GT11";
> 
> <pre>public static void main(String[] args)
> 
>       {
> 
>         try{
> 
>               IndexData objDBdex = new IndexData();
> 
>               boolean createDex = !objDBdex.indexExists();
> 
> </pre>
> 
>      <p>IndexWriter writ = new IndexWriter(INDEX_FOLDER, new
> StandardAnalyzer(), createDex);
> 
> <pre>
> 
>          for(int i=0; i<args.length; i++){
> 
>         System.out.println("Indexing File" +args[i]);
> 
>         InputStream is = new FileInputStream(args[i]);
> 
>         Document doc = new Document();
> 
>        doc.add(Field.UnIndexed("path", args[i]));</pre>
> 
>       <p> BufferedReader rdr = new BufferedReader((Reader)new
> InputStreamReader(is));
> 
> <pre>
> 
>       StringBuffer fileBuffer = new StringBuffer();
> 
>      String line;
> 
>      while ((line = rdr.readLine()) != null ) {
> 
>     fileBuffer.append(line);
> 
>    }
> 
>       System.out.println("File contents from buffer: ");
> 
>       System.out.println(fileBuffer.toString());
> 
>       StringReader ab = new StringReader(fileBuffer.toString());
> 
>       doc.add(Field.Text("body", (Reader)ab));
> 
>       writ.addDocument(doc);
> 
>       is.close();
> 
>     }
> 
>      writ.close();
> 
>     }
> 
>      catch(IOException ex) {
> 
>              ex.printStackTrace();
> 
>      }
> 
>   }
> 
>    public boolean indexExists(){
> 
>         return false;
> 
>     }
> 
>   }
> 
> </pre>
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 10:39:57 2004
Return-Path: <lucene-user-return-7523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25478 invoked from network); 15 Mar 2004 10:39:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 10:39:57 -0000
Received: (qmail 75396 invoked by uid 500); 15 Mar 2004 10:39:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75196 invoked by uid 500); 15 Mar 2004 10:39:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75180 invoked from network); 15 Mar 2004 10:39:25 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 15 Mar 2004 10:39:25 -0000
Message-ID: <20040315103939.45704.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.14] by web12702.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 02:39:39 PST
Date: Mon, 15 Mar 2004 02:39:39 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: UNIX command-line indexing script?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <88937119-766C-11D8-8BA1-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To add to this.
The upcoming Lucene in Action book has ready to use code that will
handle and index files in most popular file formats.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> Have a look at the Ant <index> task in the Lucene sandbox.  You're on
> 
> your own, currently, to build this and understand it, but I use it 
> frequently.  In fact, the sample index from our book is generated
> with 
> this:
> 
>      <index index="${build.dir}/index"
>        documenthandler="lia.common.TestDataDocumentHandler">
>        <fileset dir="${data.dir}"/>
>        <config basedir="${data.dir}"/>
>      </index>
> 
> You can plug in your own DocumentHandler implementation to index 
> different document types however you like.  The default one indexes 
> .txt and .html files, but a custom implementation can do its own
> thing. 
>   Again, to write a DocumentHandler that knows about various document
> 
> types is not hard you will have to write your own at the moment.
> 
> Despite the (minor) amount of work you'll have to do to start using 
> <index> - the infrastructure adds a lot of value: an incremental file
> 
> system indexer (only new docs get indexed on successive runs).  
> Plugging this into cron would be trivial.
> 
> 	Erik
> 
> On Mar 13, 2004, at 11:45 AM, Charlie Smith wrote:
> 
> > Anyone written a simple UNIX command-line indexing script which
> will 
> > read a
> > bunch off different kinds of docs and index them?  I'd like to make
> a 
> > cron job
> > out of this so as to be able to come back and read it later during
> a 
> > search.
> >
> > PERL or JAVA script would be fine.
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 18:19:47 2004
Return-Path: <lucene-user-return-7524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36173 invoked from network); 15 Mar 2004 18:19:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 18:19:46 -0000
Received: (qmail 67724 invoked by uid 500); 15 Mar 2004 18:19:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67611 invoked by uid 500); 15 Mar 2004 18:19:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67596 invoked from network); 15 Mar 2004 18:19:33 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 15 Mar 2004 18:19:33 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Mon, 15 Mar 2004 11:22:21 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Mon, 15 Mar 2004 11:18:44 -0700
Message-ID: <s0559114.003@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 15 Mar 2004 11:18:25 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org,
	otis_gospodnetic@yahoo.com
Subject: Re: UNIX command-line indexing script?
MIME-Version: 1.0
X-WSS-ID: 6C4B2BD7398182-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So, how upcoming is this book going to be?

>>> otis_gospodnetic@yahoo.com 3/15/2004 3:39:39 AM >>>
To add to this.
The upcoming Lucene in Action book has ready to use code that will
handle and index files in most popular file formats.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> Have a look at the Ant <index> task in the Lucene sandbox.  You're on
> 
> your own, currently, to build this and understand it, but I use it 
> frequently.  In fact, the sample index from our book is generated
> with 
> this:
> 
>      <index index="${build.dir}/index"
>        documenthandler="lia.common.TestDataDocumentHandler">
>        <fileset dir="${data.dir}"/>
>        <config basedir="${data.dir}"/>
>      </index>
> 
> You can plug in your own DocumentHandler implementation to index 
> different document types however you like.  The default one indexes 
> .txt and .html files, but a custom implementation can do its own
> thing. 
>   Again, to write a DocumentHandler that knows about various document
> 
> types is not hard you will have to write your own at the moment.
> 
> Despite the (minor) amount of work you'll have to do to start using 
> <index> - the infrastructure adds a lot of value: an incremental file
> 
> system indexer (only new docs get indexed on successive runs).  
> Plugging this into cron would be trivial.
> 
> 	Erik
> 
> On Mar 13, 2004, at 11:45 AM, Charlie Smith wrote:
> 
> > Anyone written a simple UNIX command-line indexing script which
> will 
> > read a
> > bunch off different kinds of docs and index them?  I'd like to make
> a 
> > cron job
> > out of this so as to be able to come back and read it later during
> a 
> > search.
> >
> > PERL or JAVA script would be fine.
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 18:23:32 2004
Return-Path: <lucene-user-return-7525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39532 invoked from network); 15 Mar 2004 18:23:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 18:23:31 -0000
Received: (qmail 76488 invoked by uid 500); 15 Mar 2004 18:23:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76421 invoked by uid 500); 15 Mar 2004 18:23:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76355 invoked from network); 15 Mar 2004 18:23:08 -0000
Received: from unknown (HELO web60805.mail.yahoo.com) (216.155.196.68)
  by daedalus.apache.org with SMTP; 15 Mar 2004 18:23:08 -0000
Message-ID: <20040315182311.44965.qmail@web60805.mail.yahoo.com>
Received: from [4.78.21.2] by web60805.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 10:23:11 PST
Date: Mon, 15 Mar 2004 10:23:11 -0800 (PST)
From: Gabe <gjz22@yahoo.com>
Subject: java.io.IOException: Lock obtain timed out
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I am using Lucene 1.3 final and am having an error
that I can't seem to shake. Basically, I am updating a
Document in the index incrementally by calling an
IndexReader to remove the document. This works. Then,
I close the IndexReader with the following code:

reader.unlock(reader.directory());
reader.close();

I put the first of the two lines in to try to force
the lock to disable. According to the logging, this
code is being called and the IndexReader is being
closed.

However, then I open a writer to add the document, I
get the following.

java.io.IOException: Lock obtain timed out
        at
org.apache.lucene.store.Lock.obtain(Lock.java:97)
        at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
        at 

...

I open the writer by calling:
return new IndexWriter(INDEX_DIR, analyzer, false);

where analyzer=new StandardAnalyzer();

I get the reader by calling:
IndexReader reader=IndexReader.open(INDEX_DIR);

Thanks for any help,
Gabe

__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 18:28:39 2004
Return-Path: <lucene-user-return-7526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43286 invoked from network); 15 Mar 2004 18:28:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 18:28:39 -0000
Received: (qmail 85103 invoked by uid 500); 15 Mar 2004 18:28:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85079 invoked by uid 500); 15 Mar 2004 18:28:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85066 invoked from network); 15 Mar 2004 18:28:25 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 15 Mar 2004 18:28:25 -0000
Message-ID: <20040315182829.63708.qmail@web12708.mail.yahoo.com>
Received: from [194.152.209.14] by web12708.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 10:28:29 PST
Date: Mon, 15 Mar 2004 10:28:29 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: java.io.IOException: Lock obtain timed out
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040315182311.44965.qmail@web60805.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no need for that .unlock call, just .close()

Otis

--- Gabe <gjz22@yahoo.com> wrote:
> 
> I am using Lucene 1.3 final and am having an error
> that I can't seem to shake. Basically, I am updating a
> Document in the index incrementally by calling an
> IndexReader to remove the document. This works. Then,
> I close the IndexReader with the following code:
> 
> reader.unlock(reader.directory());
> reader.close();
> 
> I put the first of the two lines in to try to force
> the lock to disable. According to the logging, this
> code is being called and the IndexReader is being
> closed.
> 
> However, then I open a writer to add the document, I
> get the following.
> 
> java.io.IOException: Lock obtain timed out
>         at
> org.apache.lucene.store.Lock.obtain(Lock.java:97)
>         at
> org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
>         at 
> 
> ...
> 
> I open the writer by calling:
> return new IndexWriter(INDEX_DIR, analyzer, false);
> 
> where analyzer=new StandardAnalyzer();
> 
> I get the reader by calling:
> IndexReader reader=IndexReader.open(INDEX_DIR);
> 
> Thanks for any help,
> Gabe
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 18:30:11 2004
Return-Path: <lucene-user-return-7527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44429 invoked from network); 15 Mar 2004 18:30:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 18:30:10 -0000
Received: (qmail 89365 invoked by uid 500); 15 Mar 2004 18:29:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89252 invoked by uid 500); 15 Mar 2004 18:29:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89238 invoked from network); 15 Mar 2004 18:29:54 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 15 Mar 2004 18:29:54 -0000
Message-ID: <20040315182958.90523.qmail@web12704.mail.yahoo.com>
Received: from [194.152.209.14] by web12704.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 10:29:58 PST
Date: Mon, 15 Mar 2004 10:29:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: UNIX command-line indexing script?
To: lucene-user@jakarta.apache.org
In-Reply-To: <s0559114.004@wh-inet.gmhwh.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik and I are putting finishing touches on it, so by Summer (this one
;)).

Otis

--- Charlie Smith <SmithCW@ldschurch.org> wrote:
> So, how upcoming is this book going to be?
> 
> >>> otis_gospodnetic@yahoo.com 3/15/2004 3:39:39 AM >>>
> To add to this.
> The upcoming Lucene in Action book has ready to use code that will
> handle and index files in most popular file formats.
> 
> Otis
> 
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> > Have a look at the Ant <index> task in the Lucene sandbox.  You're
> on
> > 
> > your own, currently, to build this and understand it, but I use it 
> > frequently.  In fact, the sample index from our book is generated
> > with 
> > this:
> > 
> >      <index index="${build.dir}/index"
> >        documenthandler="lia.common.TestDataDocumentHandler">
> >        <fileset dir="${data.dir}"/>
> >        <config basedir="${data.dir}"/>
> >      </index>
> > 
> > You can plug in your own DocumentHandler implementation to index 
> > different document types however you like.  The default one indexes
> 
> > .txt and .html files, but a custom implementation can do its own
> > thing. 
> >   Again, to write a DocumentHandler that knows about various
> document
> > 
> > types is not hard you will have to write your own at the moment.
> > 
> > Despite the (minor) amount of work you'll have to do to start using
> 
> > <index> - the infrastructure adds a lot of value: an incremental
> file
> > 
> > system indexer (only new docs get indexed on successive runs).  
> > Plugging this into cron would be trivial.
> > 
> > 	Erik
> > 
> > On Mar 13, 2004, at 11:45 AM, Charlie Smith wrote:
> > 
> > > Anyone written a simple UNIX command-line indexing script which
> > will 
> > > read a
> > > bunch off different kinds of docs and index them?  I'd like to
> make
> > a 
> > > cron job
> > > out of this so as to be able to come back and read it later
> during
> > a 
> > > search.
> > >
> > > PERL or JAVA script would be fine.
> > >
> > >
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 18:53:29 2004
Return-Path: <lucene-user-return-7528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64850 invoked from network); 15 Mar 2004 18:53:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 18:53:29 -0000
Received: (qmail 40207 invoked by uid 500); 15 Mar 2004 18:53:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40002 invoked by uid 500); 15 Mar 2004 18:53:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39987 invoked from network); 15 Mar 2004 18:53:15 -0000
Received: from unknown (HELO web60803.mail.yahoo.com) (216.155.196.66)
  by daedalus.apache.org with SMTP; 15 Mar 2004 18:53:15 -0000
Message-ID: <20040315185319.92134.qmail@web60803.mail.yahoo.com>
Received: from [4.78.21.2] by web60803.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 10:53:19 PST
Date: Mon, 15 Mar 2004 10:53:19 -0800 (PST)
From: Gabe <gjz22@yahoo.com>
Subject: Re: java.io.IOException: Lock obtain timed out
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040315182829.63708.qmail@web12708.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Otis,

I only put the unlock call in because I had the error
in the first place. Removing it, the IOException still
occurs, when trying to instantiate the IndexWriter.

Thanks,
Gabe

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> There is no need for that .unlock call, just
> .close()
> 
> Otis
> 
> --- Gabe <gjz22@yahoo.com> wrote:
> > 
> > I am using Lucene 1.3 final and am having an error
> > that I can't seem to shake. Basically, I am
> updating a
> > Document in the index incrementally by calling an
> > IndexReader to remove the document. This works.
> Then,
> > I close the IndexReader with the following code:
> > 
> > reader.unlock(reader.directory());
> > reader.close();
> > 
> > I put the first of the two lines in to try to
> force
> > the lock to disable. According to the logging,
> this
> > code is being called and the IndexReader is being
> > closed.
> > 
> > However, then I open a writer to add the document,
> I
> > get the following.
> > 
> > java.io.IOException: Lock obtain timed out
> >         at
> > org.apache.lucene.store.Lock.obtain(Lock.java:97)
> >         at
> >
>
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> >         at 
> > 
> > ...
> > 
> > I open the writer by calling:
> > return new IndexWriter(INDEX_DIR, analyzer,
> false);
> > 
> > where analyzer=new StandardAnalyzer();
> > 
> > I get the reader by calling:
> > IndexReader reader=IndexReader.open(INDEX_DIR);
> > 
> > Thanks for any help,
> > Gabe
> > 
> > __________________________________
> > Do you Yahoo!?
> > Yahoo! Mail - More reliable, more storage, less
> spam
> > http://mail.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 19:17:06 2004
Return-Path: <lucene-user-return-7529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83233 invoked from network); 15 Mar 2004 19:17:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 19:17:05 -0000
Received: (qmail 92673 invoked by uid 500); 15 Mar 2004 19:16:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92652 invoked by uid 500); 15 Mar 2004 19:16:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92637 invoked from network); 15 Mar 2004 19:16:50 -0000
Received: from unknown (HELO NIHHUBIMS.hub.nih.gov) (128.231.90.111)
  by daedalus.apache.org with SMTP; 15 Mar 2004 19:16:50 -0000
Received: by nihhubims.hub.nih.gov with Internet Mail Service (5.5.2657.72)
	id <GYGV91AA>; Mon, 15 Mar 2004 14:16:54 -0500
Message-ID: <C761DBF11F04AE4CB11521B0DF7F6536D7C880@nihexchange28.nih.gov>
From: "Nguyen, Tri (NIH/NLM/LHC)" <nguyent@ceb.nlm.nih.gov>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: java.io.IOException: Lock obtain timed out
Date: Mon, 15 Mar 2004 14:13:30 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Did you close your writer if an Exception occured?

I had a similiar problem, but it was fixed when i close the writer in the
finally block.

Below is my original code (which generate Mjava.io.Exception: Lock obtain
timed out when an Exception is thrown)

public static void index(File indexDir, List cList, boolean ow) 
throws Exception{
    IndexWriter writer = null;
    try{  
        writer = new IndexWriter(indexDir, new MyAnalyzer(), overwrite); 
    	  // index documents
    }
    catch(Exception e){
	  writer = new IndexWriter(indexDir, new MyAnalyzer(), true);
        try{    	  
            // index documents 
        }
        catch(Exception ee){ 
            throw ee;  
        }
    }
    writer.close();  // never reaches this statement if the catch block is
called.  
}


// revised code to force a close on the IndexWriter
public static void index(File indexDir, List cList, boolean ow) 
throws Exception{
    IndexWriter writer = null;
    try{  
        writer = new IndexWriter(indexDir, new MyAnalyzer(), overwrite); 
    	  // index documents
        writer.close();
    }
    catch(Exception e){
	  writer = new IndexWriter(indexDir, new MyAnalyzer(), true);
        try{    	  
            // index documents 
        }
        catch(Exception ee){ 
            throw ee;  
        }
        finally{ 
            writer.close(); 
        } 
    }
}



-----Original Message-----


From: Gabe [mailto:gjz22@yahoo.com] 
Sent: Monday, March 15, 2004 1:53 PM
To: Lucene Users List
Subject: Re: java.io.IOException: Lock obtain timed out


Otis,

I only put the unlock call in because I had the error
in the first place. Removing it, the IOException still
occurs, when trying to instantiate the IndexWriter.

Thanks,
Gabe

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> There is no need for that .unlock call, just
> .close()
> 
> Otis
> 
> --- Gabe <gjz22@yahoo.com> wrote:
> > 
> > I am using Lucene 1.3 final and am having an error
> > that I can't seem to shake. Basically, I am
> updating a
> > Document in the index incrementally by calling an
> > IndexReader to remove the document. This works.
> Then,
> > I close the IndexReader with the following code:
> > 
> > reader.unlock(reader.directory());
> > reader.close();
> > 
> > I put the first of the two lines in to try to
> force
> > the lock to disable. According to the logging,
> this
> > code is being called and the IndexReader is being
> > closed.
> > 
> > However, then I open a writer to add the document,
> I
> > get the following.
> > 
> > java.io.IOException: Lock obtain timed out
> >         at
> > org.apache.lucene.store.Lock.obtain(Lock.java:97)
> >         at
> >
>
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> >         at 
> > 
> > ...
> > 
> > I open the writer by calling:
> > return new IndexWriter(INDEX_DIR, analyzer,
> false);
> > 
> > where analyzer=new StandardAnalyzer();
> > 
> > I get the reader by calling:
> > IndexReader reader=IndexReader.open(INDEX_DIR);
> > 
> > Thanks for any help,
> > Gabe
> > 
> > __________________________________
> > Do you Yahoo!?
> > Yahoo! Mail - More reliable, more storage, less
> spam
> > http://mail.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 19:46:37 2004
Return-Path: <lucene-user-return-7530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6926 invoked from network); 15 Mar 2004 19:46:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 19:46:37 -0000
Received: (qmail 80538 invoked by uid 500); 15 Mar 2004 19:46:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80517 invoked by uid 500); 15 Mar 2004 19:46:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80497 invoked from network); 15 Mar 2004 19:46:21 -0000
Received: from unknown (HELO web60806.mail.yahoo.com) (216.155.196.69)
  by daedalus.apache.org with SMTP; 15 Mar 2004 19:46:21 -0000
Message-ID: <20040315194625.633.qmail@web60806.mail.yahoo.com>
Received: from [4.78.21.2] by web60806.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 11:46:25 PST
Date: Mon, 15 Mar 2004 11:46:25 -0800 (PST)
From: Gabe <gjz22@yahoo.com>
Subject: RE: java.io.IOException: Lock obtain timed out
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <C761DBF11F04AE4CB11521B0DF7F6536D7C880@nihexchange28.nih.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I notice in your "catch" clause you always set the
writer to be true... (i.e. new IndexWriter(INDEX_DIR,
analyzer, true). 

If I am not mistaken reading the docs, this overwrites
the entire index, no? That is why I was setting that
variable to false when doing an incremental update.
When I reindex all documents, I have had no problem.

Gabe

--- "Nguyen, Tri (NIH/NLM/LHC)"
<nguyent@ceb.nlm.nih.gov> wrote:
> Did you close your writer if an Exception occured?
> 
> I had a similiar problem, but it was fixed when i
> close the writer in the
> finally block.
> 
> Below is my original code (which generate
> Mjava.io.Exception: Lock obtain
> timed out when an Exception is thrown)
> 
> public static void index(File indexDir, List cList,
> boolean ow) 
> throws Exception{
>     IndexWriter writer = null;
>     try{  
>         writer = new IndexWriter(indexDir, new
> MyAnalyzer(), overwrite); 
>     	  // index documents
>     }
>     catch(Exception e){
> 	  writer = new IndexWriter(indexDir, new
> MyAnalyzer(), true);
>         try{    	  
>             // index documents 
>         }
>         catch(Exception ee){ 
>             throw ee;  
>         }
>     }
>     writer.close();  // never reaches this statement
> if the catch block is
> called.  
> }
> 
> 
> // revised code to force a close on the IndexWriter
> public static void index(File indexDir, List cList,
> boolean ow) 
> throws Exception{
>     IndexWriter writer = null;
>     try{  
>         writer = new IndexWriter(indexDir, new
> MyAnalyzer(), overwrite); 
>     	  // index documents
>         writer.close();
>     }
>     catch(Exception e){
> 	  writer = new IndexWriter(indexDir, new
> MyAnalyzer(), true);
>         try{    	  
>             // index documents 
>         }
>         catch(Exception ee){ 
>             throw ee;  
>         }
>         finally{ 
>             writer.close(); 
>         } 
>     }
> }
> 
> 
> 
> -----Original Message-----
> 
> 
> From: Gabe [mailto:gjz22@yahoo.com] 
> Sent: Monday, March 15, 2004 1:53 PM
> To: Lucene Users List
> Subject: Re: java.io.IOException: Lock obtain timed
> out
> 
> 
> Otis,
> 
> I only put the unlock call in because I had the
> error
> in the first place. Removing it, the IOException
> still
> occurs, when trying to instantiate the IndexWriter.
> 
> Thanks,
> Gabe
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> > There is no need for that .unlock call, just
> > .close()
> > 
> > Otis
> > 
> > --- Gabe <gjz22@yahoo.com> wrote:
> > > 
> > > I am using Lucene 1.3 final and am having an
> error
> > > that I can't seem to shake. Basically, I am
> > updating a
> > > Document in the index incrementally by calling
> an
> > > IndexReader to remove the document. This works.
> > Then,
> > > I close the IndexReader with the following code:
> > > 
> > > reader.unlock(reader.directory());
> > > reader.close();
> > > 
> > > I put the first of the two lines in to try to
> > force
> > > the lock to disable. According to the logging,
> > this
> > > code is being called and the IndexReader is
> being
> > > closed.
> > > 
> > > However, then I open a writer to add the
> document,
> > I
> > > get the following.
> > > 
> > > java.io.IOException: Lock obtain timed out
> > >         at
> > >
> org.apache.lucene.store.Lock.obtain(Lock.java:97)
> > >         at
> > >
> >
>
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> > >         at 
> > > 
> > > ...
> > > 
> > > I open the writer by calling:
> > > return new IndexWriter(INDEX_DIR, analyzer,
> > false);
> > > 
> > > where analyzer=new StandardAnalyzer();
> > > 
> > > I get the reader by calling:
> > > IndexReader reader=IndexReader.open(INDEX_DIR);
> > > 
> > > Thanks for any help,
> > > Gabe
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > Yahoo! Mail - More reliable, more storage, less
> > spam
> > > http://mail.yahoo.com
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam
> http://mail.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 15 21:19:07 2004
Return-Path: <lucene-user-return-7531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32131 invoked from network); 15 Mar 2004 21:19:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Mar 2004 21:19:07 -0000
Received: (qmail 60141 invoked by uid 500); 15 Mar 2004 21:18:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60091 invoked by uid 500); 15 Mar 2004 21:18:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59908 invoked from network); 15 Mar 2004 21:18:46 -0000
Received: from unknown (HELO web60805.mail.yahoo.com) (216.155.196.68)
  by daedalus.apache.org with SMTP; 15 Mar 2004 21:18:46 -0000
Message-ID: <20040315211850.7334.qmail@web60805.mail.yahoo.com>
Received: from [4.78.21.2] by web60805.mail.yahoo.com via HTTP; Mon, 15 Mar 2004 13:18:50 PST
Date: Mon, 15 Mar 2004 13:18:50 -0800 (PST)
From: Gabe <gjz22@yahoo.com>
Subject: RE: java.io.IOException: Lock obtain timed out
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <C761DBF11F04AE4CB11521B0DF7F6536D7C880@nihexchange28.nih.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I figured it out. an errant open IndexWriter. 


--- "Nguyen, Tri (NIH/NLM/LHC)"
<nguyent@ceb.nlm.nih.gov> wrote:
> Did you close your writer if an Exception occured?
> 
> I had a similiar problem, but it was fixed when i
> close the writer in the
> finally block.
> 
> Below is my original code (which generate
> Mjava.io.Exception: Lock obtain
> timed out when an Exception is thrown)
> 
> public static void index(File indexDir, List cList,
> boolean ow) 
> throws Exception{
>     IndexWriter writer = null;
>     try{  
>         writer = new IndexWriter(indexDir, new
> MyAnalyzer(), overwrite); 
>     	  // index documents
>     }
>     catch(Exception e){
> 	  writer = new IndexWriter(indexDir, new
> MyAnalyzer(), true);
>         try{    	  
>             // index documents 
>         }
>         catch(Exception ee){ 
>             throw ee;  
>         }
>     }
>     writer.close();  // never reaches this statement
> if the catch block is
> called.  
> }
> 
> 
> // revised code to force a close on the IndexWriter
> public static void index(File indexDir, List cList,
> boolean ow) 
> throws Exception{
>     IndexWriter writer = null;
>     try{  
>         writer = new IndexWriter(indexDir, new
> MyAnalyzer(), overwrite); 
>     	  // index documents
>         writer.close();
>     }
>     catch(Exception e){
> 	  writer = new IndexWriter(indexDir, new
> MyAnalyzer(), true);
>         try{    	  
>             // index documents 
>         }
>         catch(Exception ee){ 
>             throw ee;  
>         }
>         finally{ 
>             writer.close(); 
>         } 
>     }
> }
> 
> 
> 
> -----Original Message-----
> 
> 
> From: Gabe [mailto:gjz22@yahoo.com] 
> Sent: Monday, March 15, 2004 1:53 PM
> To: Lucene Users List
> Subject: Re: java.io.IOException: Lock obtain timed
> out
> 
> 
> Otis,
> 
> I only put the unlock call in because I had the
> error
> in the first place. Removing it, the IOException
> still
> occurs, when trying to instantiate the IndexWriter.
> 
> Thanks,
> Gabe
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> > There is no need for that .unlock call, just
> > .close()
> > 
> > Otis
> > 
> > --- Gabe <gjz22@yahoo.com> wrote:
> > > 
> > > I am using Lucene 1.3 final and am having an
> error
> > > that I can't seem to shake. Basically, I am
> > updating a
> > > Document in the index incrementally by calling
> an
> > > IndexReader to remove the document. This works.
> > Then,
> > > I close the IndexReader with the following code:
> > > 
> > > reader.unlock(reader.directory());
> > > reader.close();
> > > 
> > > I put the first of the two lines in to try to
> > force
> > > the lock to disable. According to the logging,
> > this
> > > code is being called and the IndexReader is
> being
> > > closed.
> > > 
> > > However, then I open a writer to add the
> document,
> > I
> > > get the following.
> > > 
> > > java.io.IOException: Lock obtain timed out
> > >         at
> > >
> org.apache.lucene.store.Lock.obtain(Lock.java:97)
> > >         at
> > >
> >
>
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> > >         at 
> > > 
> > > ...
> > > 
> > > I open the writer by calling:
> > > return new IndexWriter(INDEX_DIR, analyzer,
> > false);
> > > 
> > > where analyzer=new StandardAnalyzer();
> > > 
> > > I get the reader by calling:
> > > IndexReader reader=IndexReader.open(INDEX_DIR);
> > > 
> > > Thanks for any help,
> > > Gabe
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > Yahoo! Mail - More reliable, more storage, less
> > spam
> > > http://mail.yahoo.com
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam
> http://mail.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 06:07:42 2004
Return-Path: <lucene-user-return-7532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89864 invoked from network); 16 Mar 2004 06:07:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 06:07:42 -0000
Received: (qmail 98468 invoked by uid 500); 16 Mar 2004 06:07:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98439 invoked by uid 500); 16 Mar 2004 06:07:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98424 invoked from network); 16 Mar 2004 06:07:15 -0000
Received: from unknown (HELO bulldogs.minterellison.com) (203.9.73.201)
  by daedalus.apache.org with SMTP; 16 Mar 2004 06:07:15 -0000
Received: from sydswww.minterellison.com (unverified) by 
    bulldogs.minterellison.com (Content Technologies SMTPRS 4.3.12) with 
    ESMTP id <T68610e28810a3ceac9928@bulldogs.minterellison.com> for 
    <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 17:08:36 +1100
Received: from MENNET-MTA by sydswww.minterellison.com with Novell_GroupWise; 
    Tue, 16 Mar 2004 17:07:05 +1100
Message-Id: <s0573439.055@sydswww.minterellison.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 16 Mar 2004 17:06:53 +1100
From: "Tuan Jean Tee" <tuanjean.tee@minterellison.com>
To: <lucene-user@jakarta.apache.org>
Subject: Can lucene index both Big5 and GB2312 encoding character?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can I find out if I  have both Big5 and GB2312 encoded HTML files in two
separate directories, and when I build the index, does Lucene able to
distinguish the character set? or Lucene only work with single
encoding.

Thank you.


IMPORTANT -

This email and any attachments are confidential and may be privileged in which case neither is intended to be waived. If you have received this message in error, please notify us and remove it from your system. It is your responsibility to check any attachments for viruses and defects before opening or sending them on. Where applicable, liability is limited by the Solicitors Scheme approved under the Professional Standards Act 1994 (NSW). Minter Ellison collects personal information to provide and market our services. For more information about use, disclosure and access, see our privacy policy at www.minterellison.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 08:31:51 2004
Return-Path: <lucene-user-return-7533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62221 invoked from network); 16 Mar 2004 08:31:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 08:31:50 -0000
Received: (qmail 63698 invoked by uid 500); 16 Mar 2004 08:31:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63677 invoked by uid 500); 16 Mar 2004 08:31:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63658 invoked from network); 16 Mar 2004 08:31:20 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 16 Mar 2004 08:31:20 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2G9FP4J022246
	for <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 15:00:29 +0545
Message-ID: <008a01c40b31$161bcc00$994033ca@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: <lucene-user@jakarta.apache.org>
Subject: CJK Analyzer indexing japanese word document
Date: Tue, 16 Mar 2004 14:16:30 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I am using a CJKAnalyzer from apache sandbox , I have set the java
file.encoding setting to SJIS
and  i am able to index and search the japanese html page . I can see the
index dumps as i expected , However when i index a word document containing
japanese characters it is not indexing as expected . Do I need to change
anything with CJKTokenizer and CJKAnalyzer classes?
I have been able to index a word document with StandardAnalyzers.

thanks in advace
chandan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 11:42:30 2004
Return-Path: <lucene-user-return-7534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83123 invoked from network); 16 Mar 2004 11:42:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 11:42:30 -0000
Received: (qmail 24737 invoked by uid 500); 16 Mar 2004 11:42:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24698 invoked by uid 500); 16 Mar 2004 11:42:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24585 invoked from network); 16 Mar 2004 11:42:16 -0000
Received: from unknown (HELO rediffmail.com) (203.199.83.247)
  by daedalus.apache.org with SMTP; 16 Mar 2004 11:42:16 -0000
Received: (qmail 858 invoked by uid 510); 16 Mar 2004 11:42:12 -0000
Date: 16 Mar 2004 11:42:12 -0000
Message-ID: <20040316114212.857.qmail@mailweb34.rediffmail.com>
Received: from unknown (202.88.231.166) by rediffmail.com via HTTP; 16 mar 2004 11:42:12 -0000
MIME-Version: 1.0
From: "Linto Joseph Mathew" <lintojm@rediffmail.com>
Reply-To: "Linto Joseph Mathew" <lintojm@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: UNIX command-line indexing script?
Content-type: multipart/alternative;
	boundary="Next_1079437332---0-203.199.83.247-846"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1079437332---0-203.199.83.247-846
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

=0AI  have wrote one that will index PDF,DOC,XLS,XML,HTML,TXT and plain/tex=
t files. I wrote this based on demo application and using other =0Aopen sou=
re componets POI by Apache (for doc and exel) and PDFBox. I modified client=
 interface also. Now its looks like google. Still i have to do a couple of =
things.=0A  1) At present i'm using UNIX 'file' command to check it is plai=
n text.=0A     This will spwan process and take more time. The advantage th=
is is        in unix based mechines where file extention is not important.(=
 it         uses magic numbers. )=0A  2) The information such as Index Loca=
tion, Directory, URL, etc. should      be kept in an xml file. So that it c=
am be dynamic.=0A  3) Categeory =0A  =0A=0ASince apache guys provided good =
frame work every thing made easy. Thanks guys!=0A=0A=0ALinto=0A=0A=0A=0A=0A=
On Sat, 13 Mar 2004 Charlie Smith wrote :=0A>Anyone written a simple UNIX c=
ommand-line indexing script which will read a=0A>bunch off different kinds =
of docs and index them?  I'd like to make a cron job=0A>out of this so as t=
o be able to come back and read it later during a search.=0A>=0A>PERL or JA=
VA script would be fine.=0A>=0A>=0A
--Next_1079437332---0-203.199.83.247-846--


From lucene-user-return-7535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 12:56:05 2004
Return-Path: <lucene-user-return-7535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47373 invoked from network); 16 Mar 2004 12:56:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 12:56:05 -0000
Received: (qmail 24027 invoked by uid 500); 16 Mar 2004 12:55:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24002 invoked by uid 500); 16 Mar 2004 12:55:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23971 invoked from network); 16 Mar 2004 12:55:57 -0000
Received: from unknown (HELO redhat.sirma.bg) (62.213.161.130)
  by daedalus.apache.org with SMTP; 16 Mar 2004 12:55:57 -0000
Received: from ROSENM (rossenm.sirma.int [192.168.128.33])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id i2GCn9hk001298
	for <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 14:49:14 +0200
Message-ID: <006a01c40b56$1c3c66b0$2180a8c0@ROSENM>
From: "Rosen Marinov" <rosenm@sirma.bg>
To: <lucene-user@jakarta.apache.org>
Subject: Search in all fields
Date: Tue, 16 Mar 2004 14:56:29 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0067_01C40B66.DD18DB60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Scanned: by Sirma Antivirus System             
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0067_01C40B66.DD18DB60
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

In QueryParser.parse method I must give which is the default field.

Does this means ttah non-adressed queris are executed only over
this field?

The main question is:
How I can search in all fields in all documents in the index?
Note that I don't know field names, there can be thousands field=20
names in all documnets.

10x in advance.


------=_NextPart_000_0067_01C40B66.DD18DB60--



From lucene-user-return-7536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 13:12:04 2004
Return-Path: <lucene-user-return-7536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63191 invoked from network); 16 Mar 2004 13:12:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 13:12:04 -0000
Received: (qmail 59813 invoked by uid 500); 16 Mar 2004 13:11:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59790 invoked by uid 500); 16 Mar 2004 13:11:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59764 invoked from network); 16 Mar 2004 13:11:55 -0000
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by daedalus.apache.org with SMTP; 16 Mar 2004 13:11:55 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 16 Mar 2004 08:11:56 -0500
Message-Id: <s056b6cc.076@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 16 Mar 2004 08:11:34 -0500
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Search in all fields
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


You can use the MultiFieldQueryParser, which will generate a query against =
all of the fields you specify, or you could index all of your documents =
into one or two common fields and search against them.  Since you have a =
lot of fields, I would guess the latter is the better choice. =20


>>> rosenm@sirma.bg 03/16/04 07:56AM >>>
In QueryParser.parse method I must give which is the default field.

Does this means ttah non-adressed queris are executed only over
this field?

The main question is:
How I can search in all fields in all documents in the index?
Note that I don't know field names, there can be thousands field=20
names in all documnets.

10x in advance.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 15:01:16 2004
Return-Path: <lucene-user-return-7537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88132 invoked from network); 16 Mar 2004 15:01:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 15:01:16 -0000
Received: (qmail 11742 invoked by uid 500); 16 Mar 2004 15:01:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11621 invoked by uid 500); 16 Mar 2004 15:01:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11608 invoked from network); 16 Mar 2004 15:01:05 -0000
Received: from unknown (HELO smtp-out1.blueyonder.co.uk) (195.188.213.4)
  by daedalus.apache.org with SMTP; 16 Mar 2004 15:01:05 -0000
Received: from mabel ([82.35.43.120]) by smtp-out1.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.5600);
	 Tue, 16 Mar 2004 15:01:06 +0000
Message-ID: <06f701c40b67$79a24070$0400a8c0@mabel>
From: "Sam Hough" <sam@redspr.com>
To: <lucene-user@jakarta.apache.org>
Subject: order of Field objects within Document
Date: Tue, 16 Mar 2004 15:00:52 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 16 Mar 2004 15:01:06.0795 (UTC) FILETIME=[823F73B0:01C40B67]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can anybody confirm that no guarantee is given that Fields retain
their order within a Document?

Version 1.3 seems to (although reversing the order
on occasion).

Doesnt seem likely but would be really useful for my current application ;)
Im just asking for clarification not a change of spec although a comment 
in the JavaDoc for Document making it explicit might be handy.

Thanks

Sam

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 15:31:04 2004
Return-Path: <lucene-user-return-7538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18711 invoked from network); 16 Mar 2004 15:31:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 15:31:04 -0000
Received: (qmail 89443 invoked by uid 500); 16 Mar 2004 15:30:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89414 invoked by uid 500); 16 Mar 2004 15:30:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89391 invoked from network); 16 Mar 2004 15:30:53 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.196)
  by daedalus.apache.org with SMTP; 16 Mar 2004 15:30:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 16 Mar 2004 07:30:55 -0800
Received: from 219.142.129.241 by bay9-dav61.bay9.hotmail.com with DAV;
	Tue, 16 Mar 2004 15:30:54 +0000
X-Originating-IP: [219.142.129.241]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <008a01c40b31$161bcc00$994033ca@chandan>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Tue, 16 Mar 2004 23:30:46 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV61NUTvl7PDq00000a86@hotmail.com>
X-OriginalArrivalTime: 16 Mar 2004 15:30:55.0031 (UTC) FILETIME=[AC1E9C70:01C40B6B]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

c29tZSBLb3JlYW4gZnJpZW5kcyB0ZWxsIG1lIHRoZXkgdXNlIGl0IHN1Y2Nlc3NmdWxseSBmb3Ig
S29yZWFuLiBTbyBJIHRoaW5rIGl0cyBhbHNvIHdvcmsgZm9yIEphcGFuZXNlLiBtb3N0bHkgdGhl
IHByb2JsZW0gaXMgbG9jYWxlIHNldHRpbmdzDQoNClBsZWFzZSBjaGVjayB3ZWJsdWNlbmUgcHJv
amVjdCBmb3IgeG1sIGluZGV4aW5nIHNhbXBsZXM6DQpodHRwOi8vc291cmNlZm9yZ2UubmV0L3By
b2plY3RzL3dlYmx1Y2VuZS8gDQoNCkNoZSBEb25nDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0t
LS0tIA0KRnJvbTogIkNoYW5kYW4gVGFtcmFrYXIiIDxjaGFuZGFuQGNjbmVwLmNvbS5ucD4NClRv
OiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KU2VudDogVHVlc2RheSwgTWFyY2gg
MTYsIDIwMDQgNDozMSBQTQ0KU3ViamVjdDogQ0pLIEFuYWx5emVyIGluZGV4aW5nIGphcGFuZXNl
IHdvcmQgZG9jdW1lbnQNCg0KDQo+IA0KPiBJIGFtIHVzaW5nIGEgQ0pLQW5hbHl6ZXIgZnJvbSBh
cGFjaGUgc2FuZGJveCAsIEkgaGF2ZSBzZXQgdGhlIGphdmENCj4gZmlsZS5lbmNvZGluZyBzZXR0
aW5nIHRvIFNKSVMNCj4gYW5kICBpIGFtIGFibGUgdG8gaW5kZXggYW5kIHNlYXJjaCB0aGUgamFw
YW5lc2UgaHRtbCBwYWdlIC4gSSBjYW4gc2VlIHRoZQ0KPiBpbmRleCBkdW1wcyBhcyBpIGV4cGVj
dGVkICwgSG93ZXZlciB3aGVuIGkgaW5kZXggYSB3b3JkIGRvY3VtZW50IGNvbnRhaW5pbmcNCj4g
amFwYW5lc2UgY2hhcmFjdGVycyBpdCBpcyBub3QgaW5kZXhpbmcgYXMgZXhwZWN0ZWQgLiBEbyBJ
IG5lZWQgdG8gY2hhbmdlDQo+IGFueXRoaW5nIHdpdGggQ0pLVG9rZW5pemVyIGFuZCBDSktBbmFs
eXplciBjbGFzc2VzPw0KPiBJIGhhdmUgYmVlbiBhYmxlIHRvIGluZGV4IGEgd29yZCBkb2N1bWVu
dCB3aXRoIFN0YW5kYXJkQW5hbHl6ZXJzLg0KPiANCj4gdGhhbmtzIGluIGFkdmFjZQ0KPiBjaGFu
ZGFuDQo+IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWls
OiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5v
cmcNCj4gDQo+IA==


From lucene-user-return-7539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 17:40:56 2004
Return-Path: <lucene-user-return-7539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43616 invoked from network); 16 Mar 2004 17:40:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 17:40:55 -0000
Received: (qmail 11350 invoked by uid 500); 16 Mar 2004 17:40:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11325 invoked by uid 500); 16 Mar 2004 17:40:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11285 invoked from network); 16 Mar 2004 17:40:42 -0000
Received: from unknown (HELO zuni.dc.primus.com) (65.107.195.215)
  by daedalus.apache.org with SMTP; 16 Mar 2004 17:40:42 -0000
Received: from zuni.dc.primus.com (localhost [127.0.0.1])
	by zuni.dc.primus.com (8.12.9p2/8.12.9) with ESMTP id i2GHlEHP001317
	for <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 12:47:14 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
Received: (from bhl@localhost)
	by zuni.dc.primus.com (8.12.9p2/8.12.9/Submit) id i2GHlDRq001316
	for lucene-user@jakarta.apache.org; Tue, 16 Mar 2004 12:47:13 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
X-Authentication-Warning: zuni.dc.primus.com: bhl set sender to bhl@bigredswitch.com using -f
Date: Tue, 16 Mar 2004 12:47:13 -0500
From: Brandon Lee <bhl@bigredswitch.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: FAQ 3.41 (modify index while searching)
Message-ID: <20040316174713.GA98555@zuni.dc.primus.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi.  In the Lucene FAQ, 3.41; it's stated:
  http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq#q41

  41. Can I modify the index while performing ongoing searches ?

  Yes and no. At the time of writing this FAQ (June 2001), Lucene is not
  thread safe in this regard. Here is a quote from Doug Cutting, the
  creator of Lucene:

        The problems are only when you add documents or optimize an
        index, and then search with an IndexReader that was constructed
        before those changes to the index were made. 

  A possible work around is to perform the index updates in a parable
  and separate index and switch to the new index when its updating is
  ...

Is this still true?  Looking on the mailing list, it seems like people
are doing this w/ the caveat that any Readers created will not include
documents added by any subsequent Writers.

Also, this FAQ does not state the consequences of this - will Lucene
crash if using a Reader where a subsequent Writer adds documents?  How
about in the case of optimize?

Thanks for any help.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 17:49:45 2004
Return-Path: <lucene-user-return-7540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50861 invoked from network); 16 Mar 2004 17:49:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 17:49:45 -0000
Received: (qmail 47197 invoked by uid 500); 16 Mar 2004 17:49:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47161 invoked by uid 500); 16 Mar 2004 17:49:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47096 invoked from network); 16 Mar 2004 17:49:24 -0000
Received: from unknown (HELO zuni.dc.primus.com) (65.107.195.215)
  by daedalus.apache.org with SMTP; 16 Mar 2004 17:49:24 -0000
Received: from zuni.dc.primus.com (localhost [127.0.0.1])
	by zuni.dc.primus.com (8.12.9p2/8.12.9) with ESMTP id i2GHtuHP001362
	for <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 12:55:56 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
Received: (from bhl@localhost)
	by zuni.dc.primus.com (8.12.9p2/8.12.9/Submit) id i2GHtuIe001361
	for lucene-user@jakarta.apache.org; Tue, 16 Mar 2004 12:55:56 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
X-Authentication-Warning: zuni.dc.primus.com: bhl set sender to bhl@bigredswitch.com using -f
Date: Tue, 16 Mar 2004 12:55:56 -0500
From: Brandon Lee <bhl@bigredswitch.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: FAQ 3.41 (modify index while searching)
Message-ID: <20040316175556.GA1340@zuni.dc.primus.com>
References: <20040316174713.GA98555@zuni.dc.primus.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20040316174713.GA98555@zuni.dc.primus.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ooops, sorry, found this on the mailing list referring to 3.41: (maybe
someone should update the FAQ item?)


  From: Doug Cutting <cutting@lucene.com>
  Subject: Re: Searching while optimizing
  Date: Wed, 20 Aug 2003 12:25:41 -0700

  That is an old FAQ item.  Lucene has been thread safe for a while now.


* Brandon Lee <bhl@bigredswitch.com> [2004-03-16 12:51]:
| Hi.  In the Lucene FAQ, 3.41; it's stated:
|   http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq#q41
| 
|   41. Can I modify the index while performing ongoing searches ?
| 
|   Yes and no. At the time of writing this FAQ (June 2001), Lucene is not
|   thread safe in this regard. Here is a quote from Doug Cutting, the
|   creator of Lucene:
| 
|         The problems are only when you add documents or optimize an
|         index, and then search with an IndexReader that was constructed
|         before those changes to the index were made. 
| 
|   A possible work around is to perform the index updates in a parable
|   and separate index and switch to the new index when its updating is
|   ...
| 
| Is this still true?  Looking on the mailing list, it seems like people
| are doing this w/ the caveat that any Readers created will not include
| documents added by any subsequent Writers.
| 
| Also, this FAQ does not state the consequences of this - will Lucene
| crash if using a Reader where a subsequent Writer adds documents?  How
| about in the case of optimize?
| 
| Thanks for any help.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 19:20:08 2004
Return-Path: <lucene-user-return-7541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34786 invoked from network); 16 Mar 2004 19:20:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 19:20:08 -0000
Received: (qmail 38472 invoked by uid 500); 16 Mar 2004 19:19:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38449 invoked by uid 500); 16 Mar 2004 19:19:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38436 invoked from network); 16 Mar 2004 19:19:53 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 16 Mar 2004 19:19:53 -0000
Message-ID: <20040316191958.59883.qmail@web12707.mail.yahoo.com>
Received: from [195.29.121.110] by web12707.mail.yahoo.com via HTTP; Tue, 16 Mar 2004 11:19:58 PST
Date: Tue, 16 Mar 2004 11:19:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FAQ 3.41 (modify index while searching)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040316175556.GA1340@zuni.dc.primus.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>From the quick scan of the entry, I would say the entry is still true.
This is not an issue of being thread safe or not, really.

The jGuru Lucene FAQ is more up to date anyway, so I suggest you check
that one.

Otis

--- Brandon Lee <bhl@bigredswitch.com> wrote:
> Ooops, sorry, found this on the mailing list referring to 3.41:
> (maybe
> someone should update the FAQ item?)
> 
> 
>   From: Doug Cutting <cutting@lucene.com>
>   Subject: Re: Searching while optimizing
>   Date: Wed, 20 Aug 2003 12:25:41 -0700
> 
>   That is an old FAQ item.  Lucene has been thread safe for a while
> now.
> 
> 
> * Brandon Lee <bhl@bigredswitch.com> [2004-03-16 12:51]:
> | Hi.  In the Lucene FAQ, 3.41; it's stated:
> |  
>
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq#q41
> | 
> |   41. Can I modify the index while performing ongoing searches ?
> | 
> |   Yes and no. At the time of writing this FAQ (June 2001), Lucene
> is not
> |   thread safe in this regard. Here is a quote from Doug Cutting,
> the
> |   creator of Lucene:
> | 
> |         The problems are only when you add documents or optimize an
> |         index, and then search with an IndexReader that was
> constructed
> |         before those changes to the index were made. 
> | 
> |   A possible work around is to perform the index updates in a
> parable
> |   and separate index and switch to the new index when its updating
> is
> |   ...
> | 
> | Is this still true?  Looking on the mailing list, it seems like
> people
> | are doing this w/ the caveat that any Readers created will not
> include
> | documents added by any subsequent Writers.
> | 
> | Also, this FAQ does not state the consequences of this - will
> Lucene
> | crash if using a Reader where a subsequent Writer adds documents? 
> How
> | about in the case of optimize?
> | 
> | Thanks for any help.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 22:43:29 2004
Return-Path: <lucene-user-return-7542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60050 invoked from network); 16 Mar 2004 22:43:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 22:43:29 -0000
Received: (qmail 81562 invoked by uid 500); 16 Mar 2004 22:42:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81529 invoked by uid 500); 16 Mar 2004 22:42:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81484 invoked from network); 16 Mar 2004 22:42:40 -0000
Received: from unknown (HELO slc-xchg1.slc.mainstreamdata.com) (209.63.42.32)
  by daedalus.apache.org with SMTP; 16 Mar 2004 22:42:40 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: CJK Analyzer indexing japanese word document
Date: Tue, 16 Mar 2004 15:42:46 -0700
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E83C09B3@dilbert.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: CJK Analyzer indexing japanese word document
Thread-Index: AcQLa63BKKM8YGVmQMaLliviCIT5aAAOj1QA
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have used this analyzer with Japanese and it works fine.  In fact, I'm
currently doing English, several western European languages, traditional
and simplified Chinese and Japanese.  I throw them all in the same index
and have had no problem other than my users wanted the search limited by
language.  I solved that problem by simply adding a keyword field to the
Document which has the 2-letter language code.  I then automatically add
the term indicating the language as an additional constraint when the
user specifies the search. =20

You do need to be sure that the Shift-JIS gets converted to unicode
before you put it in the Document (and pass it to the analyzer).
Internally, I believe lucene wants everything in unicode (as any good
java program would). Originally, I had problems with Asian languages and
eventually determined my xml parser wasn't translating my Shift-JIS,
Big5, etc. to unicode.  Once I fixed that, life was good.

-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com]=20
Sent: Tuesday, March 16, 2004 8:31 AM
To: Lucene Users List
Subject: Re: CJK Analyzer indexing japanese word document

some Korean friends tell me they use it successfully for Korean. So I
think its also work for Japanese. mostly the problem is locale settings

Please check weblucene project for xml indexing samples:
http://sourceforge.net/projects/weblucene/=20

Che Dong
----- Original Message -----
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 16, 2004 4:31 PM
Subject: CJK Analyzer indexing japanese word document


>=20
> I am using a CJKAnalyzer from apache sandbox , I have set the java
> file.encoding setting to SJIS
> and  i am able to index and search the japanese html page . I can see
the
> index dumps as i expected , However when i index a word document
containing
> japanese characters it is not indexing as expected . Do I need to
change
> anything with CJKTokenizer and CJKAnalyzer classes?
> I have been able to index a word document with StandardAnalyzers.
>=20
> thanks in advace
> chandan
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 16 23:08:15 2004
Return-Path: <lucene-user-return-7543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70473 invoked from network); 16 Mar 2004 23:08:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Mar 2004 23:08:15 -0000
Received: (qmail 28879 invoked by uid 500); 16 Mar 2004 23:07:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28857 invoked by uid 500); 16 Mar 2004 23:07:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28842 invoked from network); 16 Mar 2004 23:07:55 -0000
Received: from unknown (HELO slc-xchg1.slc.mainstreamdata.com) (209.63.42.32)
  by daedalus.apache.org with SMTP; 16 Mar 2004 23:07:55 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can lucene index both Big5 and GB2312 encoding character?
Date: Tue, 16 Mar 2004 16:08:02 -0700
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E83C09B8@dilbert.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can lucene index both Big5 and GB2312 encoding character?
Thread-Index: AcQLHPYsN7G5ZPFZTlGlZG5KcmORlAAi0qMA
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe that Lucene only indexes Unicode (or as Henry Ford might say
"you can search any encoding as long as it's Unicode").  Therefore, you
have to translate Big5 and GB1312 to Unicode before you put them in the
index.  Your code that reads in the html needs to be smart enough to
notice how the html is encoded and make the translation before it
creates the Document.  Likewise, your search terms need to be Unicode.=20

Btw--you will also need to use something like Che Dong's CJK Analyzer.
I don't believe the standard analyzer's will handle Asian languages in
any kind of reasonable fashion.

Disclaimer: I am new to Lucene (about 6 months) and to processing Asian
languages.  In my defense, I do have a number of happy users using
Lucene to search Japanese and Chinese XML files for things of interest.

-----Original Message-----
From: Tuan Jean Tee [mailto:tuanjean.tee@minterellison.com]=20
Sent: Monday, March 15, 2004 11:07 PM
To: lucene-user@jakarta.apache.org
Subject: Can lucene index both Big5 and GB2312 encoding character?

Can I find out if I  have both Big5 and GB2312 encoded HTML files in two
separate directories, and when I build the index, does Lucene able to
distinguish the character set? or Lucene only work with single encoding.

Thank you.


IMPORTANT -

This email and any attachments are confidential and may be privileged in
which case neither is intended to be waived. If you have received this
message in error, please notify us and remove it from your system. It is
your responsibility to check any attachments for viruses and defects
before opening or sending them on. Where applicable, liability is
limited by the Solicitors Scheme approved under the Professional
Standards Act 1994 (NSW). Minter Ellison collects personal information
to provide and market our services. For more information about use,
disclosure and access, see our privacy policy at www.minterellison.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 01:39:59 2004
Return-Path: <lucene-user-return-7544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27383 invoked from network); 17 Mar 2004 01:39:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 01:39:59 -0000
Received: (qmail 24055 invoked by uid 500); 17 Mar 2004 01:39:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23863 invoked by uid 500); 17 Mar 2004 01:39:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23850 invoked from network); 17 Mar 2004 01:39:37 -0000
Received: from unknown (HELO shim1.irt.drexel.edu) (144.118.29.71)
  by daedalus.apache.org with SMTP; 17 Mar 2004 01:39:37 -0000
Received: from conversion-daemon.shim1.irt.drexel.edu by shim1.irt.drexel.edu
 (iPlanet Messaging Server 5.2 HotFix 1.17 (built Jun 23 2003))
 id <0HUP003015WTJE@shim1.irt.drexel.edu> for lucene-user@jakarta.apache.org;
 Tue, 16 Mar 2004 20:39:45 -0500 (EST)
Received: from drexel.edu ([192.168.5.136])
 by shim1.irt.drexel.edu (iPlanet Messaging Server 5.2 HotFix 1.17 (built Jun
 23 2003)) with ESMTP id <0HUP00DMA5Y9BZ@shim1.irt.drexel.edu> for
 lucene-user@jakarta.apache.org; Tue, 16 Mar 2004 20:39:45 -0500 (EST)
Received: from [192.168.5.137] by mail1.prvt.drexel.edu (mshttpd); Tue,
 16 Mar 2004 20:39:45 -0500
Date: Tue, 16 Mar 2004 20:39:45 -0500
From: xx28@drexel.edu
Subject: Re: RE: CJK Analyzer indexing japanese word document
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1c76faa1c782bb.1c782bb1c76faa@drexel.edu>
MIME-version: 1.0
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.17 (built Jun 23 2003)
Content-type: text/plain; charset=us-ascii
Content-language: en
Content-transfer-encoding: 7BIT
Content-disposition: inline
X-Accept-Language: en
Priority: normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My experience tells me that CJKAnalyzer needs to be improved somehow....

For example, single word "X*" search works perfectly, however, multiple words wildcard "XX*" never works.

----- Original Message -----
From: Scott Smith <ssmith@mainstreamdata.com>
Date: Tuesday, March 16, 2004 5:42 pm
Subject: RE: CJK Analyzer indexing japanese word document

> I have used this analyzer with Japanese and it works fine.  In 
> fact, I'm
> currently doing English, several western European languages, 
> traditionaland simplified Chinese and Japanese.  I throw them all 
> in the same index
> and have had no problem other than my users wanted the search 
> limited by
> language.  I solved that problem by simply adding a keyword field 
> to the
> Document which has the 2-letter language code.  I then 
> automatically add
> the term indicating the language as an additional constraint when the
> user specifies the search.  
> 
> You do need to be sure that the Shift-JIS gets converted to unicode
> before you put it in the Document (and pass it to the analyzer).
> Internally, I believe lucene wants everything in unicode (as any good
> java program would). Originally, I had problems with Asian 
> languages and
> eventually determined my xml parser wasn't translating my Shift-JIS,
> Big5, etc. to unicode.  Once I fixed that, life was good.
> 
> -----Original Message-----
> From: Che Dong [chedong@hotmail.com] 
> Sent: Tuesday, March 16, 2004 8:31 AM
> To: Lucene Users List
> Subject: Re: CJK Analyzer indexing japanese word document
> 
> some Korean friends tell me they use it successfully for Korean. 
> So I
> think its also work for Japanese. mostly the problem is locale 
> settings
> Please check weblucene project for xml indexing samples:
> http://sourceforge.net/projects/weblucene/ 
> 
> Che Dong
> ----- Original Message -----
> From: "Chandan Tamrakar" <chandan@ccnep.com.np>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, March 16, 2004 4:31 PM
> Subject: CJK Analyzer indexing japanese word document
> 
> 
> > 
> > I am using a CJKAnalyzer from apache sandbox , I have set the java
> > file.encoding setting to SJIS
> > and  i am able to index and search the japanese html page . I 
> can see
> the
> > index dumps as i expected , However when i index a word document
> containing
> > japanese characters it is not indexing as expected . Do I need to
> change
> > anything with CJKTokenizer and CJKAnalyzer classes?
> > I have been able to index a word document with StandardAnalyzers.
> > 
> > thanks in advace
> > chandan
> > 
> > 
> > 
> > -----------------------------------------------------------------
> ----
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> -------------------------------------------------------------------
> --
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 01:55:39 2004
Return-Path: <lucene-user-return-7545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35117 invoked from network); 17 Mar 2004 01:55:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 01:55:39 -0000
Received: (qmail 43969 invoked by uid 500); 17 Mar 2004 01:55:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43883 invoked by uid 500); 17 Mar 2004 01:55:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43814 invoked from network); 17 Mar 2004 01:55:15 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 17 Mar 2004 01:55:15 -0000
Received: from supun.office (adsl-69-104-69-113.dsl.irvnca.pacbell.net [69.104.69.113])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i2H1tNM0004972
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 16 Mar 2004 17:55:23 -0800
Subject: phrases
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1079488522.9051.33.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 16 Mar 2004 17:55:23 -0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a field called buisnessname and this field contains keywords like
"Georgian House" "Georgian" "The Georgian House Hotel" "Georgian blah
blee bloo Hotel" along with 10,000s of other documents that have the
word 'Hotel' somewhere in the businessname field. 

When I do a phrase query on "Georgian Hotel" I get only the one document
back. I would like to get that one back as the top result but also the
other stuff that has "Georgian" and "Hotel" too. Also, I'd like to have
"Georgian House Hotel" show up before "Georgian blah blee bloo Hotel" 

Right now I do an or'd boolean queary with 
each of the words in the the search string as a Term in business name 
as well as
the entire search string as an exact PhraseQuery and boost that by 3.

But this doesn't allow me to ensure that "The Georgian House Hotel" will
come before "Georgian blah blee bloo Hotel". (there are other fields
queried besides business name) and in my instance of the index,
"Georgian blah blee bloo Hotel" comes out with a better score because of
other fields). I would like the the closeness of the phrase to be taken
into account. any ideas on constructing a good query for this situation?


thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 02:08:59 2004
Return-Path: <lucene-user-return-7546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42217 invoked from network); 17 Mar 2004 02:08:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 02:08:59 -0000
Received: (qmail 57493 invoked by uid 500); 17 Mar 2004 02:08:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57466 invoked by uid 500); 17 Mar 2004 02:08:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57451 invoked from network); 17 Mar 2004 02:08:37 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 17 Mar 2004 02:08:37 -0000
Received: (cpmta 16398 invoked from network); 16 Mar 2004 18:08:45 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 16 Mar 2004 18:08:45 -0800
X-Sent: 17 Mar 2004 02:08:45 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1c76faa1c782bb.1c782bb1c76faa@drexel.edu>
References: <1c76faa1c782bb.1c782bb1c76faa@drexel.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <02204C28-77B8-11D8-B355-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Tue, 16 Mar 2004 21:08:40 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 16, 2004, at 8:39 PM, xx28@drexel.edu wrote:
> My experience tells me that CJKAnalyzer needs to be improved 
> somehow....
>
> For example, single word "X*" search works perfectly, however, 
> multiple words wildcard "XX*" never works.

Well, in this case it is QueryParser, not the analyzer, as the culprit. 
  QueryParser does not analyze wildcard expressions - that is just the 
nature of the beast.

You could override this behavior by subclassing and overriding 
getPrefixQuery (or getWildcardQuery too, perhaps - a single trailing 
asterisk is a prefix query though).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 02:10:37 2004
Return-Path: <lucene-user-return-7547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42733 invoked from network); 17 Mar 2004 02:10:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 02:10:37 -0000
Received: (qmail 59408 invoked by uid 500); 17 Mar 2004 02:10:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59130 invoked by uid 500); 17 Mar 2004 02:10:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59115 invoked from network); 17 Mar 2004 02:10:15 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 17 Mar 2004 02:10:15 -0000
Received: (cpmta 15644 invoked from network); 16 Mar 2004 18:10:23 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 16 Mar 2004 18:10:23 -0800
X-Sent: 17 Mar 2004 02:10:23 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1079488522.9051.33.camel@supun.office>
References: <1079488522.9051.33.camel@supun.office>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3CEA72E8-77B8-11D8-B355-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: phrases
Date: Tue, 16 Mar 2004 21:10:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try setting the slop factor on your phrase query.  This should 
accomplish what you want.  Set it to something like 10 and see what you 
get.

	Erik


On Mar 16, 2004, at 8:55 PM, Supun Edirisinghe wrote:

> I have a field called buisnessname and this field contains keywords 
> like
> "Georgian House" "Georgian" "The Georgian House Hotel" "Georgian blah
> blee bloo Hotel" along with 10,000s of other documents that have the
> word 'Hotel' somewhere in the businessname field.
>
> When I do a phrase query on "Georgian Hotel" I get only the one 
> document
> back. I would like to get that one back as the top result but also the
> other stuff that has "Georgian" and "Hotel" too. Also, I'd like to have
> "Georgian House Hotel" show up before "Georgian blah blee bloo Hotel"
>
> Right now I do an or'd boolean queary with
> each of the words in the the search string as a Term in business name
> as well as
> the entire search string as an exact PhraseQuery and boost that by 3.
>
> But this doesn't allow me to ensure that "The Georgian House Hotel" 
> will
> come before "Georgian blah blee bloo Hotel". (there are other fields
> queried besides business name) and in my instance of the index,
> "Georgian blah blee bloo Hotel" comes out with a better score because 
> of
> other fields). I would like the the closeness of the phrase to be taken
> into account. any ideas on constructing a good query for this 
> situation?
>
>
> thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 02:30:16 2004
Return-Path: <lucene-user-return-7548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57633 invoked from network); 17 Mar 2004 02:30:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 02:30:16 -0000
Received: (qmail 87821 invoked by uid 500); 17 Mar 2004 02:29:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87798 invoked by uid 500); 17 Mar 2004 02:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87784 invoked from network); 17 Mar 2004 02:29:53 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.83)
  by daedalus.apache.org with SMTP; 17 Mar 2004 02:29:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 16 Mar 2004 18:30:02 -0800
Received: from 202.43.217.195 by bay9-dav26.bay9.hotmail.com with DAV;
	Wed, 17 Mar 2004 02:30:02 +0000
X-Originating-IP: [202.43.217.195]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A60AC49BA89F4F4D9D86F2B7519111E83C09B3@dilbert.mainstreamdata.com>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Wed, 17 Mar 2004 10:29:56 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV26Vc4Iu1B6g00009d42@hotmail.com>
X-OriginalArrivalTime: 17 Mar 2004 02:30:02.0434 (UTC) FILETIME=[C0356A20:01C40BC7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

WWVzLCBzdG9yZSBkYXRhIGluIFVuaWNvZGUgaW5zaWRlIGFuZCBwcmVzZW50IHRvIGxvY2FsaXpl
IG91dHNpZGUgLg0KDQpmb3IgQ2hpbmVzZSB1c2VycyBjYW4gcmVhZCBteSBkb2N1bWVudHMgb24g
SmF2YSB1bmljb2RlIHByb2Nlc3M6DQpodHRwOi8vd3d3LmNoZWRvbmcuY29tL3RlY2gvaGVsbG9f
dW5pY29kZS5odG1sDQpodHRwOi8vd3d3LmNoZWRvbmcuY29tL3RlY2gvdW5pY29kZV9qYXZhLmh0
bWwNCg0KQ2hlIERvbmcNCmh0dHA6Ly93d3cuY2hlZG9uZy5jb20vDQoNCi0tLS0tIE9yaWdpbmFs
IE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiU2NvdHQgU21pdGgiIDxzc21pdGhAbWFpbnN0cmVhbWRh
dGEuY29tPg0KVG86ICJMdWNlbmUgVXNlcnMgTGlzdCIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBh
Y2hlLm9yZz4NClNlbnQ6IFdlZG5lc2RheSwgTWFyY2ggMTcsIDIwMDQgNjo0MiBBTQ0KU3ViamVj
dDogUkU6IENKSyBBbmFseXplciBpbmRleGluZyBqYXBhbmVzZSB3b3JkIGRvY3VtZW50DQoNCg0K
SSBoYXZlIHVzZWQgdGhpcyBhbmFseXplciB3aXRoIEphcGFuZXNlIGFuZCBpdCB3b3JrcyBmaW5l
LiAgSW4gZmFjdCwgSSdtDQpjdXJyZW50bHkgZG9pbmcgRW5nbGlzaCwgc2V2ZXJhbCB3ZXN0ZXJu
IEV1cm9wZWFuIGxhbmd1YWdlcywgdHJhZGl0aW9uYWwNCmFuZCBzaW1wbGlmaWVkIENoaW5lc2Ug
YW5kIEphcGFuZXNlLiAgSSB0aHJvdyB0aGVtIGFsbCBpbiB0aGUgc2FtZSBpbmRleA0KYW5kIGhh
dmUgaGFkIG5vIHByb2JsZW0gb3RoZXIgdGhhbiBteSB1c2VycyB3YW50ZWQgdGhlIHNlYXJjaCBs
aW1pdGVkIGJ5DQpsYW5ndWFnZS4gIEkgc29sdmVkIHRoYXQgcHJvYmxlbSBieSBzaW1wbHkgYWRk
aW5nIGEga2V5d29yZCBmaWVsZCB0byB0aGUNCkRvY3VtZW50IHdoaWNoIGhhcyB0aGUgMi1sZXR0
ZXIgbGFuZ3VhZ2UgY29kZS4gIEkgdGhlbiBhdXRvbWF0aWNhbGx5IGFkZA0KdGhlIHRlcm0gaW5k
aWNhdGluZyB0aGUgbGFuZ3VhZ2UgYXMgYW4gYWRkaXRpb25hbCBjb25zdHJhaW50IHdoZW4gdGhl
DQp1c2VyIHNwZWNpZmllcyB0aGUgc2VhcmNoLiAgDQoNCllvdSBkbyBuZWVkIHRvIGJlIHN1cmUg
dGhhdCB0aGUgU2hpZnQtSklTIGdldHMgY29udmVydGVkIHRvIHVuaWNvZGUNCmJlZm9yZSB5b3Ug
cHV0IGl0IGluIHRoZSBEb2N1bWVudCAoYW5kIHBhc3MgaXQgdG8gdGhlIGFuYWx5emVyKS4NCklu
dGVybmFsbHksIEkgYmVsaWV2ZSBsdWNlbmUgd2FudHMgZXZlcnl0aGluZyBpbiB1bmljb2RlIChh
cyBhbnkgZ29vZA0KamF2YSBwcm9ncmFtIHdvdWxkKS4gT3JpZ2luYWxseSwgSSBoYWQgcHJvYmxl
bXMgd2l0aCBBc2lhbiBsYW5ndWFnZXMgYW5kDQpldmVudHVhbGx5IGRldGVybWluZWQgbXkgeG1s
IHBhcnNlciB3YXNuJ3QgdHJhbnNsYXRpbmcgbXkgU2hpZnQtSklTLA0KQmlnNSwgZXRjLiB0byB1
bmljb2RlLiAgT25jZSBJIGZpeGVkIHRoYXQsIGxpZmUgd2FzIGdvb2QuDQoNCi0tLS0tT3JpZ2lu
YWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBDaGUgRG9uZyBbbWFpbHRvOmNoZWRvbmdAaG90bWFpbC5j
b21dIA0KU2VudDogVHVlc2RheSwgTWFyY2ggMTYsIDIwMDQgODozMSBBTQ0KVG86IEx1Y2VuZSBV
c2VycyBMaXN0DQpTdWJqZWN0OiBSZTogQ0pLIEFuYWx5emVyIGluZGV4aW5nIGphcGFuZXNlIHdv
cmQgZG9jdW1lbnQNCg0Kc29tZSBLb3JlYW4gZnJpZW5kcyB0ZWxsIG1lIHRoZXkgdXNlIGl0IHN1
Y2Nlc3NmdWxseSBmb3IgS29yZWFuLiBTbyBJDQp0aGluayBpdHMgYWxzbyB3b3JrIGZvciBKYXBh
bmVzZS4gbW9zdGx5IHRoZSBwcm9ibGVtIGlzIGxvY2FsZSBzZXR0aW5ncw0KDQpQbGVhc2UgY2hl
Y2sgd2VibHVjZW5lIHByb2plY3QgZm9yIHhtbCBpbmRleGluZyBzYW1wbGVzOg0KaHR0cDovL3Nv
dXJjZWZvcmdlLm5ldC9wcm9qZWN0cy93ZWJsdWNlbmUvIA0KDQpDaGUgRG9uZw0KLS0tLS0gT3Jp
Z2luYWwgTWVzc2FnZSAtLS0tLQ0KRnJvbTogIkNoYW5kYW4gVGFtcmFrYXIiIDxjaGFuZGFuQGNj
bmVwLmNvbS5ucD4NClRvOiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KU2VudDog
VHVlc2RheSwgTWFyY2ggMTYsIDIwMDQgNDozMSBQTQ0KU3ViamVjdDogQ0pLIEFuYWx5emVyIGlu
ZGV4aW5nIGphcGFuZXNlIHdvcmQgZG9jdW1lbnQNCg0KDQo+IA0KPiBJIGFtIHVzaW5nIGEgQ0pL
QW5hbHl6ZXIgZnJvbSBhcGFjaGUgc2FuZGJveCAsIEkgaGF2ZSBzZXQgdGhlIGphdmENCj4gZmls
ZS5lbmNvZGluZyBzZXR0aW5nIHRvIFNKSVMNCj4gYW5kICBpIGFtIGFibGUgdG8gaW5kZXggYW5k
IHNlYXJjaCB0aGUgamFwYW5lc2UgaHRtbCBwYWdlIC4gSSBjYW4gc2VlDQp0aGUNCj4gaW5kZXgg
ZHVtcHMgYXMgaSBleHBlY3RlZCAsIEhvd2V2ZXIgd2hlbiBpIGluZGV4IGEgd29yZCBkb2N1bWVu
dA0KY29udGFpbmluZw0KPiBqYXBhbmVzZSBjaGFyYWN0ZXJzIGl0IGlzIG5vdCBpbmRleGluZyBh
cyBleHBlY3RlZCAuIERvIEkgbmVlZCB0bw0KY2hhbmdlDQo+IGFueXRoaW5nIHdpdGggQ0pLVG9r
ZW5pemVyIGFuZCBDSktBbmFseXplciBjbGFzc2VzPw0KPiBJIGhhdmUgYmVlbiBhYmxlIHRvIGlu
ZGV4IGEgd29yZCBkb2N1bWVudCB3aXRoIFN0YW5kYXJkQW5hbHl6ZXJzLg0KPiANCj4gdGhhbmtz
IGluIGFkdmFjZQ0KPiBjaGFuZGFuDQo+IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1
bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNo
ZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVs
cEBqYWthcnRhLmFwYWNoZS5vcmcNCj4gDQo+IA0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2Ny
aWJlLCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0K
Rm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRh
LmFwYWNoZS5vcmcNCg0K


From lucene-user-return-7549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 02:56:21 2004
Return-Path: <lucene-user-return-7549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65600 invoked from network); 17 Mar 2004 02:56:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 02:56:21 -0000
Received: (qmail 8558 invoked by uid 500); 17 Mar 2004 02:55:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8536 invoked by uid 500); 17 Mar 2004 02:55:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8523 invoked from network); 17 Mar 2004 02:55:57 -0000
Received: from unknown (HELO veneer.qala.com.sg) (210.193.2.57)
  by daedalus.apache.org with SMTP; 17 Mar 2004 02:55:57 -0000
Received: from kelvin (adsl-210-193-14-200.qala.com.sg [210.193.14.200])
	by veneer.qala.com.sg (8.12.10/8.12.10) with SMTP id i2H30DBc024243
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 11:00:14 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 5
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Wed, 17 Mar 2004 10:56:43 +0800
Message-ID: <2004317105643.066162@kelvin>
In-Reply-To: <s056b6cc.076@gwia201.syr.edu>
Subject: Re: Search in all fields
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



On Tue, 16 Mar 2004 08:11:34 -0500, Grant Ingersoll said:
> 
> You can use the MultiFieldQueryParser, which will generate a query against=
 all 
of the fields you
> specify, or you could index all of your documents into one or two common 
fields and search
> against them.  Since you have a lot of fields, I would guess the latter is=
 the 
better choice.
> 

Don't you mean "add one or two common fields to all your documents"? Or am I=
 
mistaken.

Anyway, I believe adding of this common field constitutes a best-practice,=
 since 
you definitely need these fields if one wishes to perform a date-range-only=
 
search.

Would probably be a good idea to start a best-practices page in the Wiki.

K

> 
>>>> rosenm@sirma.bg 03/16/04 07:56AM >>>
> In QueryParser.parse method I must give which is the default field.
> 
> Does this means ttah non-adressed queris are executed only over
> this field?
> 
> The main question is:
> How I can search in all fields in all documents in the index?
> Note that I don't know field names, there can be thousands field
> names in all documnets.
> 
> 10x in advance.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 04:37:58 2004
Return-Path: <lucene-user-return-7550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98859 invoked from network); 17 Mar 2004 04:37:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 04:37:58 -0000
Received: (qmail 40231 invoked by uid 500); 17 Mar 2004 04:37:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40088 invoked by uid 500); 17 Mar 2004 04:37:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40047 invoked from network); 17 Mar 2004 04:37:30 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 17 Mar 2004 04:37:30 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2H5Lk4J001596
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 11:06:52 +0545
Message-ID: <005601c40bd9$9108fa70$994033ca@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A60AC49BA89F4F4D9D86F2B7519111E83C09B3@dilbert.mainstreamdata.com>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Wed, 17 Mar 2004 10:22:29 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thanks smith  . How do i convert SJIS encoding to be converted into unicode
? As far as i know java converts ascii and latin1 into unicode by default
which xml parsers you are using to translate to unicode ?

----- Original Message -----
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 17, 2004 4:27 AM
Subject: RE: CJK Analyzer indexing japanese word document


> I have used this analyzer with Japanese and it works fine.  In fact, I'm
> currently doing English, several western European languages, traditional
> and simplified Chinese and Japanese.  I throw them all in the same index
> and have had no problem other than my users wanted the search limited by
> language.  I solved that problem by simply adding a keyword field to the
> Document which has the 2-letter language code.  I then automatically add
> the term indicating the language as an additional constraint when the
> user specifies the search.
>
> You do need to be sure that the Shift-JIS gets converted to unicode
> before you put it in the Document (and pass it to the analyzer).
> Internally, I believe lucene wants everything in unicode (as any good
> java program would). Originally, I had problems with Asian languages and
> eventually determined my xml parser wasn't translating my Shift-JIS,
> Big5, etc. to unicode.  Once I fixed that, life was good.
>
> -----Original Message-----
> From: Che Dong [mailto:chedong@hotmail.com]
> Sent: Tuesday, March 16, 2004 8:31 AM
> To: Lucene Users List
> Subject: Re: CJK Analyzer indexing japanese word document
>
> some Korean friends tell me they use it successfully for Korean. So I
> think its also work for Japanese. mostly the problem is locale settings
>
> Please check weblucene project for xml indexing samples:
> http://sourceforge.net/projects/weblucene/
>
> Che Dong
> ----- Original Message -----
> From: "Chandan Tamrakar" <chandan@ccnep.com.np>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, March 16, 2004 4:31 PM
> Subject: CJK Analyzer indexing japanese word document
>
>
> >
> > I am using a CJKAnalyzer from apache sandbox , I have set the java
> > file.encoding setting to SJIS
> > and  i am able to index and search the japanese html page . I can see
> the
> > index dumps as i expected , However when i index a word document
> containing
> > japanese characters it is not indexing as expected . Do I need to
> change
> > anything with CJKTokenizer and CJKAnalyzer classes?
> > I have been able to index a word document with StandardAnalyzers.
> >
> > thanks in advace
> > chandan
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 05:54:03 2004
Return-Path: <lucene-user-return-7551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28113 invoked from network); 17 Mar 2004 05:54:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 05:54:03 -0000
Received: (qmail 17273 invoked by uid 500); 17 Mar 2004 05:53:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17226 invoked by uid 500); 17 Mar 2004 05:53:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17065 invoked from network); 17 Mar 2004 05:53:28 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.110)
  by daedalus.apache.org with SMTP; 17 Mar 2004 05:53:28 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 16 Mar 2004 21:53:39 -0800
Received: from 202.43.217.195 by bay9-dav6.bay9.hotmail.com with DAV;
	Wed, 17 Mar 2004 05:53:39 +0000
X-Originating-IP: [202.43.217.195]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A60AC49BA89F4F4D9D86F2B7519111E83C09B3@dilbert.mainstreamdata.com> <005601c40bd9$9108fa70$994033ca@chandan>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Wed, 17 Mar 2004 13:53:32 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV6P8VZz2fgtL00026929@hotmail.com>
X-OriginalArrivalTime: 17 Mar 2004 05:53:39.0712 (UTC) FILETIME=[32461800:01C40BE4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

cGxlYXNlIGNoZWNrIHRoZSBqYXZhIGkvbydzICBCeXRlU3RyZWFtID09PiBDaGFyYWN0b3JTdHJl
YW0NCg0KQ2hlIERvbmcNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiQ2hh
bmRhbiBUYW1yYWthciIgPGNoYW5kYW5AY2NuZXAuY29tLm5wPg0KVG86ICJMdWNlbmUgVXNlcnMg
TGlzdCIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNlbnQ6IFdlZG5lc2RheSwg
TWFyY2ggMTcsIDIwMDQgMTI6MzcgUE0NClN1YmplY3Q6IFJlOiBDSksgQW5hbHl6ZXIgaW5kZXhp
bmcgamFwYW5lc2Ugd29yZCBkb2N1bWVudA0KDQoNCj4gdGhhbmtzIHNtaXRoICAuIEhvdyBkbyBp
IGNvbnZlcnQgU0pJUyBlbmNvZGluZyB0byBiZSBjb252ZXJ0ZWQgaW50byB1bmljb2RlDQo+ID8g
QXMgZmFyIGFzIGkga25vdyBqYXZhIGNvbnZlcnRzIGFzY2lpIGFuZCBsYXRpbjEgaW50byB1bmlj
b2RlIGJ5IGRlZmF1bHQNCj4gd2hpY2ggeG1sIHBhcnNlcnMgeW91IGFyZSB1c2luZyB0byB0cmFu
c2xhdGUgdG8gdW5pY29kZSA/DQo+IA0KPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+
IEZyb206ICJTY290dCBTbWl0aCIgPHNzbWl0aEBtYWluc3RyZWFtZGF0YS5jb20+DQo+IFRvOiAi
THVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQo+IFNl
bnQ6IFdlZG5lc2RheSwgTWFyY2ggMTcsIDIwMDQgNDoyNyBBTQ0KPiBTdWJqZWN0OiBSRTogQ0pL
IEFuYWx5emVyIGluZGV4aW5nIGphcGFuZXNlIHdvcmQgZG9jdW1lbnQNCj4gDQo+IA0KPiA+IEkg
aGF2ZSB1c2VkIHRoaXMgYW5hbHl6ZXIgd2l0aCBKYXBhbmVzZSBhbmQgaXQgd29ya3MgZmluZS4g
IEluIGZhY3QsIEknbQ0KPiA+IGN1cnJlbnRseSBkb2luZyBFbmdsaXNoLCBzZXZlcmFsIHdlc3Rl
cm4gRXVyb3BlYW4gbGFuZ3VhZ2VzLCB0cmFkaXRpb25hbA0KPiA+IGFuZCBzaW1wbGlmaWVkIENo
aW5lc2UgYW5kIEphcGFuZXNlLiAgSSB0aHJvdyB0aGVtIGFsbCBpbiB0aGUgc2FtZSBpbmRleA0K
PiA+IGFuZCBoYXZlIGhhZCBubyBwcm9ibGVtIG90aGVyIHRoYW4gbXkgdXNlcnMgd2FudGVkIHRo
ZSBzZWFyY2ggbGltaXRlZCBieQ0KPiA+IGxhbmd1YWdlLiAgSSBzb2x2ZWQgdGhhdCBwcm9ibGVt
IGJ5IHNpbXBseSBhZGRpbmcgYSBrZXl3b3JkIGZpZWxkIHRvIHRoZQ0KPiA+IERvY3VtZW50IHdo
aWNoIGhhcyB0aGUgMi1sZXR0ZXIgbGFuZ3VhZ2UgY29kZS4gIEkgdGhlbiBhdXRvbWF0aWNhbGx5
IGFkZA0KPiA+IHRoZSB0ZXJtIGluZGljYXRpbmcgdGhlIGxhbmd1YWdlIGFzIGFuIGFkZGl0aW9u
YWwgY29uc3RyYWludCB3aGVuIHRoZQ0KPiA+IHVzZXIgc3BlY2lmaWVzIHRoZSBzZWFyY2guDQo+
ID4NCj4gPiBZb3UgZG8gbmVlZCB0byBiZSBzdXJlIHRoYXQgdGhlIFNoaWZ0LUpJUyBnZXRzIGNv
bnZlcnRlZCB0byB1bmljb2RlDQo+ID4gYmVmb3JlIHlvdSBwdXQgaXQgaW4gdGhlIERvY3VtZW50
IChhbmQgcGFzcyBpdCB0byB0aGUgYW5hbHl6ZXIpLg0KPiA+IEludGVybmFsbHksIEkgYmVsaWV2
ZSBsdWNlbmUgd2FudHMgZXZlcnl0aGluZyBpbiB1bmljb2RlIChhcyBhbnkgZ29vZA0KPiA+IGph
dmEgcHJvZ3JhbSB3b3VsZCkuIE9yaWdpbmFsbHksIEkgaGFkIHByb2JsZW1zIHdpdGggQXNpYW4g
bGFuZ3VhZ2VzIGFuZA0KPiA+IGV2ZW50dWFsbHkgZGV0ZXJtaW5lZCBteSB4bWwgcGFyc2VyIHdh
c24ndCB0cmFuc2xhdGluZyBteSBTaGlmdC1KSVMsDQo+ID4gQmlnNSwgZXRjLiB0byB1bmljb2Rl
LiAgT25jZSBJIGZpeGVkIHRoYXQsIGxpZmUgd2FzIGdvb2QuDQo+ID4NCj4gPiAtLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KPiA+IEZyb206IENoZSBEb25nIFttYWlsdG86Y2hlZG9uZ0Bob3Rt
YWlsLmNvbV0NCj4gPiBTZW50OiBUdWVzZGF5LCBNYXJjaCAxNiwgMjAwNCA4OjMxIEFNDQo+ID4g
VG86IEx1Y2VuZSBVc2VycyBMaXN0DQo+ID4gU3ViamVjdDogUmU6IENKSyBBbmFseXplciBpbmRl
eGluZyBqYXBhbmVzZSB3b3JkIGRvY3VtZW50DQo+ID4NCj4gPiBzb21lIEtvcmVhbiBmcmllbmRz
IHRlbGwgbWUgdGhleSB1c2UgaXQgc3VjY2Vzc2Z1bGx5IGZvciBLb3JlYW4uIFNvIEkNCj4gPiB0
aGluayBpdHMgYWxzbyB3b3JrIGZvciBKYXBhbmVzZS4gbW9zdGx5IHRoZSBwcm9ibGVtIGlzIGxv
Y2FsZSBzZXR0aW5ncw0KPiA+DQo+ID4gUGxlYXNlIGNoZWNrIHdlYmx1Y2VuZSBwcm9qZWN0IGZv
ciB4bWwgaW5kZXhpbmcgc2FtcGxlczoNCj4gPiBodHRwOi8vc291cmNlZm9yZ2UubmV0L3Byb2pl
Y3RzL3dlYmx1Y2VuZS8NCj4gPg0KPiA+IENoZSBEb25nDQo+ID4gLS0tLS0gT3JpZ2luYWwgTWVz
c2FnZSAtLS0tLQ0KPiA+IEZyb206ICJDaGFuZGFuIFRhbXJha2FyIiA8Y2hhbmRhbkBjY25lcC5j
b20ubnA+DQo+ID4gVG86IDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQo+ID4gU2Vu
dDogVHVlc2RheSwgTWFyY2ggMTYsIDIwMDQgNDozMSBQTQ0KPiA+IFN1YmplY3Q6IENKSyBBbmFs
eXplciBpbmRleGluZyBqYXBhbmVzZSB3b3JkIGRvY3VtZW50DQo+ID4NCj4gPg0KPiA+ID4NCj4g
PiA+IEkgYW0gdXNpbmcgYSBDSktBbmFseXplciBmcm9tIGFwYWNoZSBzYW5kYm94ICwgSSBoYXZl
IHNldCB0aGUgamF2YQ0KPiA+ID4gZmlsZS5lbmNvZGluZyBzZXR0aW5nIHRvIFNKSVMNCj4gPiA+
IGFuZCAgaSBhbSBhYmxlIHRvIGluZGV4IGFuZCBzZWFyY2ggdGhlIGphcGFuZXNlIGh0bWwgcGFn
ZSAuIEkgY2FuIHNlZQ0KPiA+IHRoZQ0KPiA+ID4gaW5kZXggZHVtcHMgYXMgaSBleHBlY3RlZCAs
IEhvd2V2ZXIgd2hlbiBpIGluZGV4IGEgd29yZCBkb2N1bWVudA0KPiA+IGNvbnRhaW5pbmcNCj4g
PiA+IGphcGFuZXNlIGNoYXJhY3RlcnMgaXQgaXMgbm90IGluZGV4aW5nIGFzIGV4cGVjdGVkIC4g
RG8gSSBuZWVkIHRvDQo+ID4gY2hhbmdlDQo+ID4gPiBhbnl0aGluZyB3aXRoIENKS1Rva2VuaXpl
ciBhbmQgQ0pLQW5hbHl6ZXIgY2xhc3Nlcz8NCj4gPiA+IEkgaGF2ZSBiZWVuIGFibGUgdG8gaW5k
ZXggYSB3b3JkIGRvY3VtZW50IHdpdGggU3RhbmRhcmRBbmFseXplcnMuDQo+ID4gPg0KPiA+ID4g
dGhhbmtzIGluIGFkdmFjZQ0KPiA+ID4gY2hhbmRhbg0KPiA+ID4NCj4gPiA+DQo+ID4gPg0KPiA+
ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tDQo+ID4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNl
ci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gPiA+IEZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQo+ID4g
Pg0KPiA+ID4NCj4gPg0KPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiA+IEZvciBh
ZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFj
aGUub3JnDQo+ID4NCj4gPg0KPiA+DQo+IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1
bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNo
ZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVs
cEBqYWthcnRhLmFwYWNoZS5vcmcNCj4gDQo+IA==


From lucene-user-return-7552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 13:26:03 2004
Return-Path: <lucene-user-return-7552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96255 invoked from network); 17 Mar 2004 13:26:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 13:26:03 -0000
Received: (qmail 71028 invoked by uid 500); 17 Mar 2004 13:25:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71005 invoked by uid 500); 17 Mar 2004 13:25:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70986 invoked from network); 17 Mar 2004 13:25:53 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 17 Mar 2004 13:25:53 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 3E922838D5
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 16:25:53 +0300 (MSK)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 349202 for lucene-user@jakarta.apache.org; Wed, 17 Mar 2004 16:25:48 +0300
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Patchs for RussianAnalyzer
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 17 Mar 2004 16:25:48 +0300
Message-ID: <web-349202@mail5.rambler.ru>
In-Reply-To: <20040317122956.3F1BF179618@mx7.rambler.ru>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="_===349202====mail5.rambler.ru===_"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--_===349202====mail5.rambler.ru===_
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit

Dear developers!

The user using RussianAnalyzer writes to you of Lucene. There is one 
problem at work only with it 
of Analyzer it is parameter of the Russian coding (you it know as the 
set of the code tables for one 
language always causes admiration). East Europe or the population the 
using applied programs in 
Russian use the coding windows-1251 as basic or widely widespread 
client a platform MS Windows. 
There is an opinion to update constructor without parameters 
establishing default "Cp1251".

See attached file: RussianAnalyzerPatchs.tgz
RussianAnalyzer.java.path
RussianLetterTokenizer.java.patch
RussianLowerCaseFilter.java.patch
RussianStemFilter.java.patch
TestRussianAnalyzer.java.path

Such updating will remove mess (for the beginners in Lucene or 
beginners of Russian) and will facilitate use Analyzers at switchings 
multilanguage search. 

Regards,
Vladimir Yuryev.

--_===349202====mail5.rambler.ru===_
Content-Type: application/x-gzip
Content-Disposition: attachment;
 filename="RussianAnalyzerPatchs.tgz"
Content-Transfer-Encoding: base64

H4sIAJhKWEAAA+1d/1fbuLLfX+Gv0OXdczasQ74BpaV33zaF0PotJLwk9Mvu2bPXJKa4DTHP
dqDcPfzvb0aybEuWHIekbLcrndOSSCNpZiSNpNFHSn8Whp4zbU+dyd1/3KD20blxatdONLr8
bmWh0Ww0njzZ+a4BYU/622js7D7ZffIdkLSeNLZ3W80G0D9pbe9+RxqrY0EfZmHkBIR8d3M3
C+7cGy3dvPS/aLCnY/fzPukrusH6j8uH9f7BgFx4E3ef1C/9K7c+ugmvZ+cTb1T/6HxygsjZ
msxG7tSthwFG3Th1P/hQd66d0aVbj5Mc5Cr0wnowq6sYrd6sB24UeO6NN/1AAvgTev6UNGtP
1sfexQXZmpGtAL6ppdza2lImrDVb5AS6Rgu6KGk829/Z3t95Srawy65h0ZZlafLtpfmazf2d
3f1WnG/9xQuy1ay2nu0Rq1ndbj4lL16sb4Gsn5wPLgHBa0zwGhO8xgWvBbPn61vrW/UfyAra
5Mf1LfIDGV66pE1rIwP/Irp1Apcce1Bt6FbJGzeIVdhEYprhwL++C7wPlxGpjDZRuqayjCN/
Nh07EeSuEdKeTAjNE9IiAjd0gxt3XEsK7btjL4SmO59hDuJMx2QWusSbktCfBSOXxpx7Uye4
Ixd+cBVWya0XXYKu6F9/FtFirnxoaG9Eq60SZOPaDa68KHLH5Drwb7wxfIgunQj+c6GgycS/
xb4y8qdjDzMx/jDjlRvtJ+w1axKHIfEvOGsjfwzkYD9ArsgBlrFs59y/waRYV7QUCFM/At1W
gcQLyQQKxHLS2qmYImtQ62jieFfQqxJ2Wnl2oNqMejg7IPMYutCX4ghq5cUgydgfza7caeTw
NoQxTHxICciVE7mB50zCtBlo+0EiLyErTyrqdo32Lnc63oIOEUh1eNPRZJYtDGTOllPlhXsX
wM9dleklziWJBaNv6t9O3PEHLH+f54SwMUTdMF0muUNo/rirj90bd+JfAxvnd1mJMOiHBalc
RtH1fr1+e3vLxzvavM3aBi+gPQGtTUF1k7u4gUQmQa13xLm+dh1sCipPwpQXhe7kQlQA6Aka
A7gNSDgbocK8YAx2J4jupJJD6BfBlTOZ8PLTFtlhLTJ1rkAHG0y+DVr4hl5YSsB54XTH1Lpt
sEaBfkjOXRz10N98bHA/CNEYouKv/MjlDRAmHQZ6FBgRcgHpTDuJ8LFNgCweWogALcCU2YIw
pCbpyA94OfnkKrmeuE6IowV6GrQ5a54XaSul6titkdOYsSKOsKViEUegVjfR1kZVo5YqNgHN
lyo529ReQNugKhhACDqZcVxHxYY6EWr42h6QQe9o+Lbd7xD4fNrvvbEPO4fk3/9uDyDi++9J
u3sI/96TzrvTfmcwgLRen9gnp8d255AWAnn77e7Q7gyqxO4eHJ8d2t1XVfLybEi6vSE5tk/s
IeQa9qpQX4dnzWSjpfSOyEmnf/Aaotov7WN7+J7WfGQPu1ArOYJK2+S03R/aB2fH7T45Peuf
9gYdAozT/If24OC4bZ90DmEesrtQNem86XSHZPC6fXxMa26ftg/gTyLvUe+se9ge2r0uiEQL
sYcDctDrDvs2cN/rD8jLDvDffnncYQyAGg7tfudgiJKmnw5AZcD2MWviwWnnwIYvoLEOyNru
v6+iyqDcQed/z4AQEslh+6T9qjMglbzGaCFZrUGjHJz1OycoDahpcPZyMLSHZ8MOedXrHQ6w
8EGn/8Y+6Ayek+MeaKt3RAs5G3SqUNOwTRmAYkCbQAKfX54NbKpXuzvs9Ptnp6iFTfK69xaU
Bry2z7ChoQFY23Sp6KDDXv89soA6oW1UJW9fdyC+jyqnmmujSgagwYNhhowV0wdx+sOMzKTb
eXVsv+p0DzqY2sOS3tqDziY0qz1AAptV/bYN9Z4NeU/B1gQO2cdMF67SNif2EWkfvrFpX2XE
0FUGdtytYuUMzg5ex81AB8TKllrxcitrFcC+wLIuoquJG38yA2sDMzhanXRmv3JgqoKJ5Qom
MFqEB3MzTKEznE1hWJ+7l87kosToJmj0YIkUuHExuFJgU5E/nZM5sYihy3L/Sz15/TdVWR0X
qd7VtR9ERatZvlx+XoZ4EPnXRx5OiKXIh/4ndzqIAte5ep7hhm5rPb/Wd0GrmZJoPCh8Unvt
hJeRcz5xVYkDN9LlYUm4NmcNzYXD9RjfH5CJM/0wgzV+jQxm11gIrq+I+5lO85Nk+RWCrLd+
MA5Jhf3BJSst9daDlXQ8j3i4ZYOJBFazMKNsss7ahknowplNImgpqSzoeHR2nU0nbkgrduL1
BUxarG7sm9fuCNbQ2cX5C2cGMwxsjl/6AVD0Pk3doErOaz5+eBH4H2CXUBv5V4z4Jt4z/NMe
q/eT1RvcktF9Ub2xXYftVbKrgq4cjXC92Pl8Tf4ZdyW2T4TdI6oIVp7Au1Qs1eAUROQR61t/
QGYI9TqZuDARBiH7DpPjDaynQCsg9YiMLmE6bZMfSeO5Pv0lpDcL0t9Aeqsg/RWkbxekH0L6
TkF6B9J3C9J/eQ0ET4oIIH2vIN2G9KdF6b8DwbMCgp9RQ0UqPEaCIh2eIEGRErtIUKTFHhIU
qfEUCYr02EeCIj0OkKBIkUMkKNLkGRIUafII+1KRJt8hQZEmh8hlq0iVB9hfWkW6HFCKImUO
XrNSivT5ut3Hrt0qUul7JChSKc7gSFOk1TaOkFaRWm1U/HaRXm20AttNasKp4aBmHAOsuWKz
HN1de7B4T6x5YlprnLSureDX3379jfTPYLXR7v4+GPZOf3/b6x9iW8WWCsMf7ftq5ttLWLZU
yS9yHKz8jmlKR055n4sAUlVcleRqYtG2OrqniMblHDSOkPJG/AbVVMmJIm4gx4E0A1V5ctVv
qPg5ooGsjDiuSl4pSmAp7+RoUXuQ8VAu9VDW2yGV5pfXCkJUZo5YZEXFXq5ZIcL+vZqLOpNj
Bor2Y9GqhsIUGMJyZXlJfpFF/oXpRd1eYvW23HltBY+23ENsuWl+Fr9RlefierkIqtxci/1M
9SFS53jCCNh2yXQnVdKV9XNCa6J6k/vlidylujIzXSpLrl+w6MFrObKTi1B0oK7CNHQV3HVl
obtU6HdyXK50seeJyaCKl3LEIdUatplcGCR2cxGyjlicrYjLFTaUIw5Ys3QVPfVUzn9KG/JQ
juvLdYumayAXM1R0zyEXPz+8kqQeDnNF0okcl8vfURDleOopesow7bqK+Dw3bN5BTSrakqXn
GBEHgNh1zlSVv2MGPmc846bMCRHHS9zGsSe5yJxueCQd7u9zSUzajiZe4rHdoWUpI21VpMgK
lMa+3StXIQfoi/SmIXPzJrs6uqVL3N/pLlm3JoF9Ks2Nf38kU/eWxLvXyqa6Wli84FZS2May
LVVSBem713img35jdzryx+hPxwzbLTLxb91ghK4Dbe7TwIVNqzcFQUastpCMHPRskMiBbTzz
p8bZkZ8BpcCdoEZItuLipVG5YgK2l5T2j5XN7CoszgXayVSJTNXOph4e9sTRz9MsqUIzDXAF
vA9YQiUlzQZO8RZbslJc2+ZmXN+9qpVezrzJmO3p+VZbVo1aclFTm4w2owz0YtdSjaQaLS26
KCSvaEFp0h7+wbtx2dKbqNfeZeSEARwF0EkhJhlJX0L2tPCcuHUyBMKQBJnNBJOIHbkFzjSc
QF+m4/0Kj0ScmGniBIFzV4WRD1+S0lLdxHyKIyLeiiRi51ulqBck2WCUx1YjjspvaWoTd/oh
uvwtoyc0BRVvGhGPulrgz7+wpJgSvlvWZsYQioMl5g3k4/ziyMxV+6uXrZErhWuRqge1W6Va
o18FPYmSvpxdXECnA6q4vlRillTZlCpLRPzIRPwIImZYTkT9KIiqEJd1PFpvDc97pmM+Zn7N
lPfrx99+k1m4F7+CgkEnwA0vLfKZBALvmUyBG82CKeZb+dgkLyJ/7JNR4GJbOHQS4n5C6rj2
wJ5H9EiO0i82lhOX7YoGc3ZSTPf4n9w7OksWWq4DKiGoh2Qc0OT20sPTVozx/oOpkwnVV+R+
jvjBbXIuzlzTiepSFcbtQ9pC2efYHmyGdLimjukMO4zrCxB4A9/jdUJSYC7w3DhjH8CMzQxa
NWPcqtQ2xXSDyL1i0epmy3IZpZ8rsRW78NzJuEtPMJnI0PPwT77psgVB70TnNmsktbgVVk41
MWfPs31ckV2Ut8Jo5mdP1ZJkifvQvBpTzRVXxscjUKSd7n7dKokUstatVSGFrEWQQkBMMyyJ
FLIEpBAvdAVIIWs1SCErixTi7C2PFLJWgRTi7KwEKbQCjhApZC2NFLJUSCEu6rJIIevBSCHr
4UihNOsDkULW6pBCWQUshRTiLbIEUshaDVKId5hlkULWMkghro4VIIXUalkYKWQtjxTiQi2N
FLJWghSylkQKWatAClmrQApZq0AKWatAClkrQgpZq0EKWatBClmrQQpZMlLIWhVSKBlZyyGF
rNUghaylkEJWIVLIwh0DLFIXQQqVIM4ihUqQC0ihlBsZKWQVIYXyiRQOpM7DknBtzhp69Ugh
ax5SyFoxUoj32dJIIWvFSCHWlR6CFLL+gMxEQApZ8eSoQwpp02OkkDY9Rgpp02OkkDY9Rgpp
02OkkDadI4X0BAwppE2PkUL69BgppCXgSCEtAUcKaQk4UkhLwJFCWgKOFNIScKSQloAjhbQE
HCmkJeBIIS0BRwppCThSSEvAkUJ6HjhSSEuRIIX0gnKkUAFFghTS0mSQQloajhTSV5QihfQD
mCOF9D2YI4X0FBwpZMWGg5pxDKWQQjFpXVtBEVLI4ptFihRKv6VIISFOQAoJKe9zEQwplItj
x5mKaFsd3VNEpwCUNOWN+C0565bjBnKcgDwRUnq5CAYJEOIGsjJkpJAi5Z0cLWovRQqlcYey
3kSkkBDPkUJCpMiKir1csyZIITHqTI4ZKNpPRgqJKQlSKI3OS/KLLLICKZQmitXbcue1FTza
cg+x5ab5WfyWQDGEuF4uIosUElKGMnWOJwEplEanSCEhTkQKCUlil+rKzAhIITmaIoWEyE4u
QtGBugrT0FVw15WFTpFCQlyudLHnickxUkiIkJFCQmI3FyHrKEUKyXG5woZyRA4plKaeyvlT
pJAQ15frFk3XQC5mqOieOaSQIoljc+SkEzkul7+jIMrx1FP0FBEpJMfnuVEgheT0HCPiABC7
zpmqchEplMaLSKFcvMRtBikkRuZ0k0MKiUkpUkgVL/GYQQrlIm1VpMgKIoXot3vlKmRhpJB6
TVKIFFJVW4QU4kQPQwrx3MsghdRCykghkGuNCrWWnnXzfbKArkECKGutAFFkra3psUQHp83W
Lq4i19bmo4eACEIxXIgViMfT1tp9WTmKzu7nSKhC0FhrK5Q6C54RRXq4ROWRCEDLuopGfCXo
AOlRA6QIRZbqgCyEOsDC2bjnpiA7+lQIMKnLl0OAUdrMVkMHnEgIHo4AYzZMZUsWQ5k8QE41
Amz1sgudWBR3VQgwXloeASZYusUQYLImHoYAS7KXQoClE1z6kZDFEGBCxrIIMCHTAggwId9C
CDAhpyQu63glEWBCznvxayECzFJkyiLAVjw2y9tdRr/YWNYa4wcO5lK2WK2dFSLA4iJTFa4K
AcYLzIWHI8CUzfZgBJjcdMsjwDJ9/CEIMHX2QgRYYY2FCDDFeKQIMN7p7tdX//6XWpGrfQau
+P23VmNnt5m8/7bd2Ab6vd0ne+b9t8cI4vtvqm7wNT8Dp+JX+xpcS3gNrlUoc+ZROFU6vg13
6I7whLJFGrv7zcZ+s5m8DdfKvg2nzi49Efdkf1d8Iu7ZE3whrgmlmxfizAtx5oU480KceSHO
vBBnXogzL8SZF+LMC3HfxgtxujfZCla56EtPltLis2s6DwhOjYkDJmBLPA4GlGlBl86YLW/o
BDfx/U+4AJhdZ14TQ/1AkczjtcGduPEufoNNgTAhnU/cK7b4gFokhigTXoRTWkiPz2AmgVWc
FzKGKpu4xrz0x2wQMB/S2HfD6fcRwbmYXMI/mArHUDLMQTFvyBc/W8MF2yeX0COHFp2Cf+7Z
T2lxlVt3MtnCYqacz5Ax2vh8uEdpG5+P9phEm0n3XP4xOPVmDTdmdB9Vb7Yo0pPvpmD1GQrv
wSUvwgkIT7kNedsKXSV9F+4HekwK60BcsDnUNSPzVeZVgbyPUnZFxZ4tb1olso9dvucYzmAu
rnjT7CXAwmur6iuosF51ca3hT6HrjnivCuP+E8JoDS/uEvI/Xky86ae09/1X0vsw6+Z9/h0J
HzsbLmV9H0Y8LLFDKi2WQPOQUV40WFxWFB18tCldho49XtAs7pz747Emyt0hx+pHYKZ5rl+9
36SK9ZXnb0hfgF11zYVMcyHTXMg0FzLNhUxzIdNcyDQXMs2FTHMh8xu7kKm7All+Y5695fhI
G3PrcTfm1mo35tbiG/PV3b18+Macd5yHb8yTa5glN+ZzQbwld+UJZjWz+S6JYL1fpJ787l9Z
rxajtKYGG5Xb63Py+Xt9GSRdZq8vg3UK9voSPC2z3S5ECir3+jq0oHKvnwPYqSvPY+Hivf6X
hN58FUGNhHpc/E9rby/B/+w09ij+p9Ey+J/HCBL+R9ENvmr8j4JfLf5nW8D/bBfKnMX/KNKL
8T/bAv5HmV3C/zxNsnP8z1OG/9kx+B+D/zH4H4P/Mfgfg/8x+B+D/zH4H4P/+UbwP/PeZlv0
Vx8f9PuQHD/UpZMavaNFfZLshhZMN/R2OsHr6dX43hsuCZiTscK9jBubia9ilYAZ5e4GdzLl
ADP6Z9GkkhPfXEbvCWSmHPpFukmVvbj1ZSEwgpC0WjIFcSqbkD/wb8PEm233Op9H7jX22Vz1
LB/W4k2vZ1GNlZDIyt1LEbqXprPJRI1ewRQhT3zfLfqMJUc1UMzVMF9yops23u5Fys9A66Mr
jcYI7/ar3WSUruzPKlBidkFUdnJGftKQlZRQ+Ur5vULQqXs7/BwJl2Z5Mdms9Tq/D4p0dLjJ
TYEl0Q+sLPq5woqH9W4NfTZR7+IixGuZGAG9l38VlcubJi7PoHcMesegdwx6x6B3DHrHoHcM
esegdwx65xtD75TdVpelf9Bj6hz9s7pt9QrhLg/eVs97bbzMtpoDXkpgVwr31MsCWOjMtdQe
XsZ/ZBnhcYVv78h8LLaHV74Vo9jDWyJCJbOHV6FS2B4+k6dgD5+hKrOHnwN1Uezh9Q9jLbWH
z8JecoIW7+ETatUeXmqK5fbwGc5ye/hvHpXzeCH3LtFqoT80zMH/tHZ20vd/drdbQP9kt9Uw
+J/HCCL+R+oGXzP0R2JVi/rZEVA/OzpJM4AfKWmt9Yz8jzPFtcE2ae7tN5/u724nWJ+dLNZH
zinDfJ7tb+8JMJ9mc5fifFpNg/MxOB+D8zE4H4PzMTgfg/MxOB+D8zE4n78Jzqc8bmdRRFCC
85EuNmbcSNIjQuy9ZLZADCO8gMd/k4I9BU0nPiht4qZLkFsHF1/htRew+f8VGFxhL5Cssqlj
ioRgqydjnAeS15khl8aFeO5CG8HM54T09XKPOk9z2w3ChtG5O3Jm6e9oZNLpPTEQ4VNI2Eop
/dENnPyx70DnSm5NbhTAmRYENBHB95rbteEOjW6t6o1mHXZayQZrATRTRs4iIFP2sRxsDZjW
YQTFful48RS3EO03+Rdw2K3D2NHIXVsM9JMlyLCFS+Qw/vujCBASna+Zh6FXgZ3K1Ck+Pn0V
X/rLoHmUrwklb4736V/2mzJT5rzP6ItpqoqLNBQOf2m00xvIipvn3i2CZqHPtsKVnfXsbirA
WBLWScRl8djMwz7uJHS1uWOHKP7sQazOGv5lzGQcwVm9c47/Edbc/0P7nKeWsGNSpVm2E6cp
7HVZMbLPlEZm/KbVfGEYYh7urt08t/dKlUUZsFSGStlV8Ol8J/tLsfURLOfT3+Ph4wDd3nRJ
fJGYRVqA2EtufG+Mv0zLO6t6MKlfmuK9/h/zOgY9lkjHSPxJKa/BiRmcmMGJGZyYwYkZnJjB
iRmcmMGJGZzY3wInVh73tSiiLMGJFbllhCekvoxbhq+yv6RbxvpCbpkcHG5BQNwK3DLz0HBz
3DKZl5/W+UNF5dwy6l90VbllBII5bpk8AE/rk9Fg7wqdLpqfbdU9KLWAP2hxXjJQMPX7Ust5
f5S/CVfO+6N6U2qe90eHkhMRfenOPvlIvT+63At4f3LPUBV6f+b9BOQy3p9cYRgk70/xL0dm
vT+yzpRd5cHeH2UvKev9UfWTnPdH17Q6749C3m8eYTh0w0j6lc2VIwCL8X/buzt7Cf5vZ297
F9//apr3vx4nxPg/XTd4fARgBJzMQQDqmNViAHcFDOCuXlpEAeoS11oN0htFMQ7w6X5jb393
L8EB7lIcoDavjARs7UNpWSRgq0Ff/GrtbBskoEECGiSgQQIaJKBBAhokoEECGiSgQQJ+I0jA
j7OpF9UuAjBV6PSs4XIZnarPFb8K+MPzBSCEMtCvBOQwRf0hF/QmMvVRyMv3OQA4JdhNv0HB
zQjzqzYbddgCJPsIaDjYb8NkXPCLd4piU89qrMoE7ca9njY6zZh+kkfp36LTPAWiaSlDB13q
Z1MPl7U5erE4/BkDHQkrp4giLoTdUC4qRElxBJtLAp3TOfSCTCJ/xJ47lc6uU6ejDnAWlxL7
TbHgyuAOPUS1D24EkzvModFdZSMm29jMgeiyjizcy8baKwd2k1s3cEQHLk/IeZPjWuLoLMYr
1iz5UURAYaG5Bq/k4WNcCxnaSqKZWAtVsjFnx55RRC36HIHaFEi1jZhiQ3zBS+iEf64YsFfl
UlxGVwtJITrxoVUDpxalcZUNWAjCMi9uLTGv5gc1mGJUGtH8KEWeWUG3CmHmd7M0D73V/vy5
HnQnHtB4U9UrexjoLX1GpXxtT4GYPAcdfsoDG1X1M5H5xXT2LeUkSw8mFwZ7hznyCxpaoTfZ
7a8gEfhgcuaJftLE72eza6Cogvxxv6qNJn7oCpIKXUBK1xo1NOXlLFq9HptP2JXUwF5Powl9
BIDN87CsmdQOwYSLrD/YDCJf0kuD8e/einrAyLjIvPVYncnDari9Ixte6G89fbr7bKuptHCP
wBPYL8pSbLwKWFrMXMlq/9IGC+srYa04W39jG4Uq+NoMVLGJoh1UZ6YUiVobhSvFsjaKIHGO
FYx8BCuB1ZS2Eo/AE1gJytJ8K/FgO52AH8obnNTayFm/tLXB+kpYm1Smv7G9QRX8tewN7eo6
e6NINFdCzJUQcyXEXAkxV0LMlRBzJcRcCTFXQsyVkG/lSoj+fC7/4+A/PF/gLol846PE3ZP0
+sec87nimxDKWw/Ln89Zqh++LnU+x689lDifs+ZRSudzEr3qfE5Nkj2fKywkfkG4oBAlhXg+
lySWO58Tod4POJ9TvjVc7nxOhpmv7nwuRa4n53MCRl1zsJUD+H+587lcVdmTrczrvPL53J8o
huJ8rqwUC5/PWbleoXVA5TSic0DlmJXO53Lp87tZmifxRemuRWh9UZZIp/BFzbvTEvui5Ksn
qvoLfVECveiL0je0Qm95d5RG9aI7Kkf0kya+wB2lfnw7dz6nHl5Sutao6c/nZIu2yPnc8mYw
PpHJviJOz+dkPXwF53M5C/fnn8892FzJav/SBoudz821Vpytv7GNis/nvioDVWyixCM4xRhR
2ai18odz8W1WfiYHH7+e0ziL3qz9Ss7hKDPLn8BBIYufvaU1623I2tpaoemA9LXsARuN0LOJ
6al5WGO9ZK3IHkCyygys8bxrfMTDx/s4Q5nxDWTSsMbC+NEX/aIYvqm40pDFhJ8yn4uHZsKq
8vhK6J7Z6HvFGDTj7xHH39cz0sxgWsFg+ubvhZtgggkmmGCCCSaYYIIJJphgggkmmGCCCSaY
YIIJJphgggl/vfD/zdXUCgAYAQA=


--_===349202====mail5.rambler.ru===_
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--_===349202====mail5.rambler.ru===_--

From lucene-user-return-7553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 15:02:35 2004
Return-Path: <lucene-user-return-7553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63585 invoked from network); 17 Mar 2004 15:02:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 15:02:35 -0000
Received: (qmail 16568 invoked by uid 500); 17 Mar 2004 15:02:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16399 invoked by uid 500); 17 Mar 2004 15:02:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16367 invoked from network); 17 Mar 2004 15:02:18 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 17 Mar 2004 15:02:18 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 4CEA7854F1
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 18:02:19 +0300 (MSK)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 380345 for lucene-user@jakarta.apache.org; Wed, 17 Mar 2004 18:02:12 +0300
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Patchs for RussianAnalyzer
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 17 Mar 2004 18:02:12 +0300
Message-ID: <web-380345@mail5.rambler.ru>
In-Reply-To: <web-349202@mail5.rambler.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear developers!

The user using RussianAnalyzer writes to you of Lucene. There is one 
problem at work only with it of Analyzer it is parameter of the 
Russian coding (you it know as the set of the code tables for one 
language always causes admiration). East Europe or the population the 
using applied programs in Russian use the coding windows-1251 as basic 
or widely widespread client a platform MS Windows. There is an opinion 
to update constructor without parameters establishing default 
"Cp1251".
Such updating will remove mess (for the beginners in Lucene or 
beginners of Russian) and will facilitate use Analyzers at switchings 
multilanguage search. 
#########################################################
Index: RussianAnalyzer.java
===================================================================
RCS file: 
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/ru/RussianAnalyzer.java,v
retrieving revision 1.6
diff -u -r1.6 RussianAnalyzer.java
--- RussianAnalyzer.java        12 Mar 2004 09:43:48 -0000      1.6
+++ RussianAnalyzer.java        17 Mar 2004 11:45:28 -0000
@@ -1,297 +1,318 @@
-package org.apache.lucene.analysis.ru;
-
-/* 
====================================================================
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 2001 The Apache Software Foundation.  All rights
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer.
- *
- * 2. Redistributions in binary form must reproduce the above 
copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution,
- *    if any, must include the following acknowledgment:
- *       "This product includes software developed by the
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowledgment may appear in the software 
itself,
- *    if and wherever such third-party acknowledgments normally 
appear.
- *
- * 4. The names "Apache" and "Apache Software Foundation" and
- *    "Apache Lucene" must not be used to endorse or promote products
- *    derived from this software without prior written permission. 
For
- *    written permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache",
- *    "Apache Lucene", nor may "Apache" appear in their name, without
- *    prior written permission of the Apache Software Foundation.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * 
====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- */
-
-import org.apache.lucene.analysis.Analyzer;
-import org.apache.lucene.analysis.StopFilter;
-import org.apache.lucene.analysis.TokenStream;
-
-import java.io.Reader;
-import java.util.Hashtable;
-import java.util.Set;
-import java.util.HashSet;
-
-/**
- * Analyzer for Russian language. Supports an external list of 
stopwords (words that
- * will not be indexed at all).
- * A default set of stopwords is used unless an alternative list is 
specified.
- *
- * @author  Boris Okner, b.okner@rogers.com
- * @version $Id: RussianAnalyzer.java,v 1.6 2004/03/12 09:43:48 
ehatcher Exp $
- */
-public final class RussianAnalyzer extends Analyzer
-{
-    // letters
-    private static char A = 0;
-    private static char B = 1;
-    private static char V = 2;
-    private static char G = 3;
-    private static char D = 4;
-    private static char E = 5;
-    private static char ZH = 6;
-    private static char Z = 7;
-    private static char I = 8;
-    private static char I_ = 9;
-    private static char K = 10;
-    private static char L = 11;
-    private static char M = 12;
-    private static char N = 13;
-    private static char O = 14;
-    private static char P = 15;
-    private static char R = 16;
-    private static char S = 17;
-    private static char T = 18;
-    private static char U = 19;
-    private static char F = 20;
-    private static char X = 21;
-    private static char TS = 22;
-    private static char CH = 23;
-    private static char SH = 24;
-    private static char SHCH = 25;
-    private static char HARD = 26;
-    private static char Y = 27;
-    private static char SOFT = 28;
-    private static char AE = 29;
-    private static char IU = 30;
-    private static char IA = 31;
-
-    /**
-     * List of typical Russian stopwords.
-     */
-    private static char[][] RUSSIAN_STOP_WORDS = {
-        {A},
-        {B, E, Z},
-        {B, O, L, E, E},
-        {B, Y},
-        {B, Y, L},
-        {B, Y, L, A},
-        {B, Y, L, I},
-        {B, Y, L, O},
-        {B, Y, T, SOFT},
-        {V},
-        {V, A, M},
-        {V, A, S},
-        {V, E, S, SOFT},
-        {V, O},
-        {V, O, T},
-        {V, S, E},
-        {V, S, E, G, O},
-        {V, S, E, X},
-        {V, Y},
-        {G, D, E},
-        {D, A},
-        {D, A, ZH, E},
-        {D, L, IA},
-        {D, O},
-        {E, G, O},
-        {E, E},
-        {E, I_,},
-        {E, IU},
-        {E, S, L, I},
-        {E, S, T, SOFT},
-        {E, SHCH, E},
-        {ZH, E},
-        {Z, A},
-        {Z, D, E, S, SOFT},
-        {I},
-        {I, Z},
-        {I, L, I},
-        {I, M},
-        {I, X},
-        {K},
-        {K, A, K},
-        {K, O},
-        {K, O, G, D, A},
-        {K, T, O},
-        {L, I},
-        {L, I, B, O},
-        {M, N, E},
-        {M, O, ZH, E, T},
-        {M, Y},
-        {N, A},
-        {N, A, D, O},
-        {N, A, SH},
-        {N, E},
-        {N, E, G, O},
-        {N, E, E},
-        {N, E, T},
-        {N, I},
-        {N, I, X},
-        {N, O},
-        {N, U},
-        {O},
-        {O, B},
-        {O, D, N, A, K, O},
-        {O, N},
-        {O, N, A},
-        {O, N, I},
-        {O, N, O},
-        {O, T},
-        {O, CH, E, N, SOFT},
-        {P, O},
-        {P, O, D},
-        {P, R, I},
-        {S},
-        {S, O},
-        {T, A, K},
-        {T, A, K, ZH, E},
-        {T, A, K, O, I_},
-        {T, A, M},
-        {T, E},
-        {T, E, M},
-        {T, O},
-        {T, O, G, O},
-        {T, O, ZH, E},
-        {T, O, I_},
-        {T, O, L, SOFT, K, O},
-        {T, O, M},
-        {T, Y},
-        {U},
-        {U, ZH, E},
-        {X, O, T, IA},
-        {CH, E, G, O},
-        {CH, E, I_},
-        {CH, E, M},
-        {CH, T, O},
-        {CH, T, O, B, Y},
-        {CH, SOFT, E},
-        {CH, SOFT, IA},
-        {AE, T, A},
-        {AE, T, I},
-        {AE, T, O},
-        {IA}
-    };
-
-    /**
-     * Contains the stopwords used with the StopFilter.
-     */
-    private Set stopSet = new HashSet();
-
-    /**
-     * Charset for Russian letters.
-     * Represents encoding for 32 lowercase Russian letters.
-     * Predefined charsets can be taken from RussianCharSets class
-     */
-    private char[] charset;
-
-
-    public RussianAnalyzer() {
-        charset = RussianCharsets.UnicodeRussian;
-        stopSet = StopFilter.makeStopSet(
-                    makeStopWords(RussianCharsets.UnicodeRussian));
-    }
-
-    /**
-     * Builds an analyzer.
-     */
-    public RussianAnalyzer(char[] charset)
-    {
-        this.charset = charset;
-        stopSet = StopFilter.makeStopSet(makeStopWords(charset));
-    }
-
-    /**
-     * Builds an analyzer with the given stop words.
-     */
-    public RussianAnalyzer(char[] charset, String[] stopwords)
-    {
-        this.charset = charset;
-        stopSet = StopFilter.makeStopSet(stopwords);
-    }
-
-    // Takes russian stop words and translates them to a String 
array, using
-    // the given charset
-    private static String[] makeStopWords(char[] charset)
-    {
-        String[] res = new String[RUSSIAN_STOP_WORDS.length];
-        for (int i = 0; i < res.length; i++)
-        {
-            char[] theStopWord = RUSSIAN_STOP_WORDS[i];
-            // translate the word,using the charset
-            StringBuffer theWord = new StringBuffer();
-            for (int j = 0; j < theStopWord.length; j++)
-            {
-                theWord.append(charset[theStopWord[j]]);
-            }
-            res[i] = theWord.toString();
-        }
-        return res;
-    }
-
-    /**
-     * Builds an analyzer with the given stop words.
-     * @todo create a Set version of this ctor
-     */
-    public RussianAnalyzer(char[] charset, Hashtable stopwords)
-    {
-        this.charset = charset;
-        stopSet = new HashSet(stopwords.keySet());
-    }
-
-    /**
-     * Creates a TokenStream which tokenizes all the text in the 
provided Reader.
-     *
-     * @return  A TokenStream build from a RussianLetterTokenizer 
filtered with
-     *                  RussianLowerCaseFilter, StopFilter, and 
RussianStemFilter
-     */
-    public TokenStream tokenStream(String fieldName, Reader reader)
-    {
-        TokenStream result = new RussianLetterTokenizer(reader, 
charset);
-        result = new RussianLowerCaseFilter(result, charset);
-        result = new StopFilter(result, stopSet);
-        result = new RussianStemFilter(result, charset);
-        return result;
-    }
-}
+package org.apache.lucene.analysis.ru;
+
+/* 
====================================================================
+ * The Apache Software License, Version 1.1
+ *
+ * Copyright (c) 2001 The Apache Software Foundation.  All rights
+ * reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above 
copyright
+ *    notice, this list of conditions and the following disclaimer in
+ *    the documentation and/or other materials provided with the
+ *    distribution.
+ *
+ * 3. The end-user documentation included with the redistribution,
+ *    if any, must include the following acknowledgment:
+ *       "This product includes software developed by the
+ *        Apache Software Foundation (http://www.apache.org/)."
+ *    Alternately, this acknowledgment may appear in the software 
itself,
+ *    if and wherever such third-party acknowledgments normally 
appear.
+ *
+ * 4. The names "Apache" and "Apache Software Foundation" and
+ *    "Apache Lucene" must not be used to endorse or promote products
+ *    derived from this software without prior written permission. 
For
+ *    written permission, please contact apache@apache.org.
+ *
+ * 5. Products derived from this software may not be called "Apache",
+ *    "Apache Lucene", nor may "Apache" appear in their name, without
+ *    prior written permission of the Apache Software Foundation.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ * 
====================================================================
+ *
+ * This software consists of voluntary contributions made by many
+ * individuals on behalf of the Apache Software Foundation.  For more
+ * information on the Apache Software Foundation, please see
+ * <http://www.apache.org/>.
+ */
+
+import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.analysis.StopFilter;
+import org.apache.lucene.analysis.TokenStream;
+
+import java.io.Reader;
+import java.util.Hashtable;
+import java.util.Set;
+import java.util.HashSet;
+
+/**
+ * Analyzer for Russian language. Supports an external list of 
stopwords (words that
+ * will not be indexed at all).
+ * A default set of stopwords is used unless an alternative list is 
specified.
+ *
+ * @author  Boris Okner, b.okner@rogers.com
+ * @version $Id: RussianAnalyzer.java,v 1.6 2004/03/12 09:43:48 
ehatcher Exp $
+ */
+public final class RussianAnalyzer extends Analyzer
+{
+    // letters
+    private static char A = 0;
+    private static char B = 1;
+    private static char V = 2;
+    private static char G = 3;
+    private static char D = 4;
+    private static char E = 5;
+    private static char ZH = 6;
+    private static char Z = 7;
+    private static char I = 8;
+    private static char I_ = 9;
+    private static char K = 10;
+    private static char L = 11;
+    private static char M = 12;
+    private static char N = 13;
+    private static char O = 14;
+    private static char P = 15;
+    private static char R = 16;
+    private static char S = 17;
+    private static char T = 18;
+    private static char U = 19;
+    private static char F = 20;
+    private static char X = 21;
+    private static char TS = 22;
+    private static char CH = 23;
+    private static char SH = 24;
+    private static char SHCH = 25;
+    private static char HARD = 26;
+    private static char Y = 27;
+    private static char SOFT = 28;
+    private static char AE = 29;
+    private static char IU = 30;
+    private static char IA = 31;
+
+    /**
+     * List of typical Russian stopwords.
+     */
+    private static char[][] RUSSIAN_STOP_WORDS = {
+        {A},
+        {B, E, Z},
+        {B, O, L, E, E},
+        {B, Y},
+        {B, Y, L},
+        {B, Y, L, A},
+        {B, Y, L, I},
+        {B, Y, L, O},
+        {B, Y, T, SOFT},
+        {V},
+        {V, A, M},
+        {V, A, S},
+        {V, E, S, SOFT},
+        {V, O},
+        {V, O, T},
+        {V, S, E},
+        {V, S, E, G, O},
+        {V, S, E, X},
+        {V, Y},
+        {G, D, E},
+        {D, A},
+        {D, A, ZH, E},
+        {D, L, IA},
+        {D, O},
+        {E, G, O},
+        {E, E},
+        {E, I_,},
+        {E, IU},
+        {E, S, L, I},
+        {E, S, T, SOFT},
+        {E, SHCH, E},
+        {ZH, E},
+        {Z, A},
+        {Z, D, E, S, SOFT},
+        {I},
+        {I, Z},
+        {I, L, I},
+        {I, M},
+        {I, X},
+        {K},
+        {K, A, K},
+        {K, O},
+        {K, O, G, D, A},
+        {K, T, O},
+        {L, I},
+        {L, I, B, O},
+        {M, N, E},
+        {M, O, ZH, E, T},
+        {M, Y},
+        {N, A},
+        {N, A, D, O},
+        {N, A, SH},
+        {N, E},
+        {N, E, G, O},
+        {N, E, E},
+        {N, E, T},
+        {N, I},
+        {N, I, X},
+        {N, O},
+        {N, U},
+        {O},
+        {O, B},
+        {O, D, N, A, K, O},
+        {O, N},
+        {O, N, A},
+        {O, N, I},
+        {O, N, O},
+        {O, T},
+        {O, CH, E, N, SOFT},
+        {P, O},
+        {P, O, D},
+        {P, R, I},
+        {S},
+        {S, O},
+        {T, A, K},
+        {T, A, K, ZH, E},
+        {T, A, K, O, I_},
+        {T, A, M},
+        {T, E},
+        {T, E, M},
+        {T, O},
+        {T, O, G, O},
+        {T, O, ZH, E},
+        {T, O, I_},
+        {T, O, L, SOFT, K, O},
+        {T, O, M},
+        {T, Y},
+        {U},
+        {U, ZH, E},
+        {X, O, T, IA},
+        {CH, E, G, O},
+        {CH, E, I_},
+        {CH, E, M},
+        {CH, T, O},
+        {CH, T, O, B, Y},
+        {CH, SOFT, E},
+        {CH, SOFT, IA},
+        {AE, T, A},
+        {AE, T, I},
+        {AE, T, O},
+        {IA}
+    };
+
+    /**
+     * Contains the stopwords used with the StopFilter.
+     */
+    private Set stopSet = new HashSet();
+
+    /**
+     * Charset for Russian letters.
+     * Represents encoding for 32 lowercase Russian letters.
+     * Predefined charsets can be taken from RussianCharSets class
+     */
+    private char[] charset;
+
+       /**
+        * Builds default an analyzer.
+        */
+       public RussianAnalyzer() {
+               charset = RussianCharsets.CP1251;
+               stopSet = StopFilter.makeStopSet(
+ 
                                      makeStopWords(RussianCharsets.CP1251));
+       }
+
+       /**
+        * Builds default an analyzer with the given stop words.
+        */
+       public RussianAnalyzer(String[] stopwords)
+       {
+               charset = RussianCharsets.CP1251;
+               stopSet = StopFilter.makeStopSet(stopwords);
+       }
+
+       /**
+       * Builds default an analyzer with the given stop words.
+       * @todo create a Set version of this ctor
+       */
+   public RussianAnalyzer(Hashtable stopwords)
+   {
+          charset = RussianCharsets.CP1251;
+          stopSet = new HashSet(stopwords.keySet());
+   }
+
+      /**
+     * Builds an analyzer.
+     */
+    public RussianAnalyzer(char[] charset)
+    {
+        this.charset = charset;
+        stopSet = StopFilter.makeStopSet(makeStopWords(charset));
+    }
+
+    /**
+     * Builds an analyzer with the given stop words.
+     */
+    public RussianAnalyzer(char[] charset, String[] stopwords)
+    {
+        this.charset = charset;
+        stopSet = StopFilter.makeStopSet(stopwords);
+    }
+
+    // Takes russian stop words and translates them to a String 
array, using
+    // the given charset
+    private static String[] makeStopWords(char[] charset)
+    {
+        String[] res = new String[RUSSIAN_STOP_WORDS.length];
+        for (int i = 0; i < res.length; i++)
+        {
+            char[] theStopWord = RUSSIAN_STOP_WORDS[i];
+            // translate the word,using the charset
+            StringBuffer theWord = new StringBuffer();
+            for (int j = 0; j < theStopWord.length; j++)
+            {
+                theWord.append(charset[theStopWord[j]]);
+            }
+            res[i] = theWord.toString();
+        }
+        return res;
+    }
+
+    /**
+     * Builds an analyzer with the given stop words.
+     * @todo create a Set version of this ctor
+     */
+    public RussianAnalyzer(char[] charset, Hashtable stopwords)
+    {
+        this.charset = charset;
+        stopSet = new HashSet(stopwords.keySet());
+    }
+
+    /**
+     * Creates a TokenStream which tokenizes all the text in the 
provided Reader.
+     *
+     * @return  A TokenStream build from a RussianLetterTokenizer 
filtered with
+     *                  RussianLowerCaseFilter, StopFilter, and 
RussianStemFilter
+     */
+    public TokenStream tokenStream(String fieldName, Reader reader)
+    {
+        TokenStream result = new RussianLetterTokenizer(reader, 
charset);
+        result = new RussianLowerCaseFilter(result, charset);
+        result = new StopFilter(result, stopSet);
+        result = new RussianStemFilter(result, charset);
+        return result;
+    }
+}
##########################################
Index: RussianLetterTokenizer.java
===================================================================
RCS file: 
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/ru/RussianLetterTokenizer.java,v
retrieving revision 1.2
diff -u -r1.2 RussianLetterTokenizer.java
--- RussianLetterTokenizer.java 12 Dec 2002 05:10:11 -0000      1.2
+++ RussianLetterTokenizer.java 17 Mar 2004 11:46:58 -0000
@@ -1,96 +1,102 @@
-package org.apache.lucene.analysis.ru;
-
-/* 
====================================================================
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 2001 The Apache Software Foundation.  All rights
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer.
- *
- * 2. Redistributions in binary form must reproduce the above 
copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution,
- *    if any, must include the following acknowledgment:
- *       "This product includes software developed by the
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowledgment may appear in the software 
itself,
- *    if and wherever such third-party acknowledgments normally 
appear.
- *
- * 4. The names "Apache" and "Apache Software Foundation" and
- *    "Apache Lucene" must not be used to endorse or promote products
- *    derived from this software without prior written permission. 
For
- *    written permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache",
- *    "Apache Lucene", nor may "Apache" appear in their name, without
- *    prior written permission of the Apache Software Foundation.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * 
====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- */
-
-import java.io.Reader;
-import org.apache.lucene.analysis.CharTokenizer;
-
-/**
- * A RussianLetterTokenizer is a tokenizer that extends 
LetterTokenizer by additionally looking up letters
- * in a given "russian charset". The problem with LeterTokenizer is 
that it uses Character.isLetter() method,
- * which doesn't know how to detect letters in encodings like CP1252 
and KOI8
- * (well-known problems with 0xD7 and 0xF7 chars)
- *
- * @author  Boris Okner, b.okner@rogers.com
- * @version $Id: RussianLetterTokenizer.java,v 1.2 2002/12/12 
05:10:11 otis Exp $
- */
-
-public class RussianLetterTokenizer extends CharTokenizer
-{
-    /** Construct a new LetterTokenizer. */
-    private char[] charset;
-
-    public RussianLetterTokenizer(Reader in, char[] charset)
-    {
-        super(in);
-        this.charset = charset;
-    }
-
-    /**
-     * Collects only characters which satisfy
-     * {@link Character#isLetter(char)}.
-     */
-    protected boolean isTokenChar(char c)
-    {
-        if (Character.isLetter(c))
-            return true;
-        for (int i = 0; i < charset.length; i++)
-        {
-            if (c == charset[i])
-                return true;
-        }
-        return false;
-    }
-}
+package org.apache.lucene.analysis.ru;
+
+/* 
====================================================================
+ * The Apache Software License, Version 1.1
+ *
+ * Copyright (c) 2001 The Apache Software Foundation.  All rights
+ * reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above 
copyright
+ *    notice, this list of conditions and the following disclaimer in
+ *    the documentation and/or other materials provided with the
+ *    distribution.
+ *
+ * 3. The end-user documentation included with the redistribution,
+ *    if any, must include the following acknowledgment:
+ *       "This product includes software developed by the
+ *        Apache Software Foundation (http://www.apache.org/)."
+ *    Alternately, this acknowledgment may appear in the software 
itself,
+ *    if and wherever such third-party acknowledgments normally 
appear.
+ *
+ * 4. The names "Apache" and "Apache Software Foundation" and
+ *    "Apache Lucene" must not be used to endorse or promote products
+ *    derived from this software without prior written permission. 
For
+ *    written permission, please contact apache@apache.org.
+ *
+ * 5. Products derived from this software may not be called "Apache",
+ *    "Apache Lucene", nor may "Apache" appear in their name, without
+ *    prior written permission of the Apache Software Foundation.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ * 
====================================================================
+ *
+ * This software consists of voluntary contributions made by many
+ * individuals on behalf of the Apache Software Foundation.  For more
+ * information on the Apache Software Foundation, please see
+ * <http://www.apache.org/>.
+ */
+
+import java.io.Reader;
+import org.apache.lucene.analysis.CharTokenizer;
+
+/**
+ * A RussianLetterTokenizer is a tokenizer that extends 
LetterTokenizer by additionally looking up letters
+ * in a given "russian charset". The problem with LeterTokenizer is 
that it uses Character.isLetter() method,
+ * which doesn't know how to detect letters in encodings like CP1252 
and KOI8
+ * (well-known problems with 0xD7 and 0xF7 chars)
+ *
+ * @author  Boris Okner, b.okner@rogers.com
+ * @version $Id: RussianLetterTokenizer.java,v 1.2 2002/12/12 
05:10:11 otis Exp $
+ */
+
+public class RussianLetterTokenizer extends CharTokenizer
+{
+    /** Construct a new LetterTokenizer. */
+    private char[] charset;
+
+       public RussianLetterTokenizer(Reader in)
+       {
+               super(in);
+               charset = RussianCharsets.CP1251;
+       }
+
+       public RussianLetterTokenizer(Reader in, char[] charset)
+       {
+               super(in);
+               this.charset = charset;
+       }
+
+    /**
+     * Collects only characters which satisfy
+     * {@link Character#isLetter(char)}.
+     */
+    protected boolean isTokenChar(char c)
+    {
+        if (Character.isLetter(c))
+            return true;
+        for (int i = 0; i < charset.length; i++)
+        {
+            if (c == charset[i])
+                return true;
+        }
+        return false;
+    }
############################################################
Index: RussianLowerCaseFilter.java
===================================================================
RCS file: 
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/ru/RussianLowerCaseFilter.java,v
retrieving revision 1.3
diff -u -r1.3 RussianLowerCaseFilter.java
--- RussianLowerCaseFilter.java 12 Dec 2002 05:10:11 -0000      1.3
+++ RussianLowerCaseFilter.java 17 Mar 2004 11:48:11 -0000
@@ -1,98 +1,104 @@
-package org.apache.lucene.analysis.ru;
-
-/* 
====================================================================
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 2001 The Apache Software Foundation.  All rights
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer.
- *
- * 2. Redistributions in binary form must reproduce the above 
copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution,
- *    if any, must include the following acknowledgment:
- *       "This product includes software developed by the
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowledgment may appear in the software 
itself,
- *    if and wherever such third-party acknowledgments normally 
appear.
- *
- * 4. The names "Apache" and "Apache Software Foundation" and
- *    "Apache Lucene" must not be used to endorse or promote products
- *    derived from this software without prior written permission. 
For
- *    written permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache",
- *    "Apache Lucene", nor may "Apache" appear in their name, without
- *    prior written permission of the Apache Software Foundation.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * 
====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- */
-
-import org.apache.lucene.analysis.TokenFilter;
-import org.apache.lucene.analysis.Token;
-import org.apache.lucene.analysis.TokenStream;
-
-/**
- * Normalizes token text to lower case, analyzing given ("russian") 
charset.
- *
- * @author  Boris Okner, b.okner@rogers.com
- * @version $Id: RussianLowerCaseFilter.java,v 1.3 2002/12/12 
05:10:11 otis Exp $
- */
-public final class RussianLowerCaseFilter extends TokenFilter
-{
-    char[] charset;
-
-    public RussianLowerCaseFilter(TokenStream in, char[] charset)
-    {
-        super(in);
-        this.charset = charset;
-    }
-
-    public final Token next() throws java.io.IOException
-    {
-        Token t = input.next();
-
-        if (t == null)
-            return null;
-
-        String txt = t.termText();
-
-        char[] chArray = txt.toCharArray();
-        for (int i = 0; i < chArray.length; i++)
-        {
-            chArray[i] = RussianCharsets.toLowerCase(chArray[i], 
charset);
-        }
-
-        String newTxt = new String(chArray);
-        // create new token
-        Token newToken = new Token(newTxt, t.startOffset(), 
t.endOffset());
-
-        return newToken;
-    }
-}
+package org.apache.lucene.analysis.ru;
+
+/* 
====================================================================
+ * The Apache Software License, Version 1.1
+ *
+ * Copyright (c) 2001 The Apache Software Foundation.  All rights
+ * reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above 
copyright
+ *    notice, this list of conditions and the following disclaimer in
+ *    the documentation and/or other materials provided with the
+ *    distribution.
+ *
+ * 3. The end-user documentation included with the redistribution,
+ *    if any, must include the following acknowledgment:
+ *       "This product includes software developed by the
+ *        Apache Software Foundation (http://www.apache.org/)."
+ *    Alternately, this acknowledgment may appear in the software 
itself,
+ *    if and wherever such third-party acknowledgments normally 
appear.
+ *
+ * 4. The names "Apache" and "Apache Software Foundation" and
+ *    "Apache Lucene" must not be used to endorse or promote products
+ *    derived from this software without prior written permission. 
For
+ *    written permission, please contact apache@apache.org.
+ *
+ * 5. Products derived from this software may not be called "Apache",
+ *    "Apache Lucene", nor may "Apache" appear in their name, without
+ *    prior written permission of the Apache Software Foundation.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ * 
====================================================================
+ *
+ * This software consists of voluntary contributions made by many
+ * individuals on behalf of the Apache Software Foundation.  For more
+ * information on the Apache Software Foundation, please see
+ * <http://www.apache.org/>.
+ */
+
+import org.apache.lucene.analysis.TokenFilter;
+import org.apache.lucene.analysis.Token;
+import org.apache.lucene.analysis.TokenStream;
+
+/**
+ * Normalizes token text to lower case, analyzing given ("russian") 
charset.
+ *
+ * @author  Boris Okner, b.okner@rogers.com
+ * @version $Id: RussianLowerCaseFilter.java,v 1.3 2002/12/12 
05:10:11 otis Exp $
+ */
+public final class RussianLowerCaseFilter extends TokenFilter
+{
+    char[] charset;
+
+       public RussianLowerCaseFilter(TokenStream in)
+       {
+               super(in);
+               charset = RussianCharsets.CP1251;
+       }
+
+    public RussianLowerCaseFilter(TokenStream in, char[] charset)
+    {
+        super(in);
+        this.charset = charset;
+    }
+
+    public final Token next() throws java.io.IOException
+    {
+        Token t = input.next();
+
+        if (t == null)
+            return null;
+
+        String txt = t.termText();
+
+        char[] chArray = txt.toCharArray();
+        for (int i = 0; i < chArray.length; i++)
+        {
+            chArray[i] = RussianCharsets.toLowerCase(chArray[i], 
charset);
+        }
+
+        String newTxt = new String(chArray);
+        // create new token
+        Token newToken = new Token(newTxt, t.startOffset(), 
t.endOffset());
+
+        return newToken;
+    }
+}
##########################################################
Index: RussianStemFilter.java
===================================================================
RCS file: 
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/ru/RussianStemFilter.java,v
retrieving revision 1.4
diff -u -r1.4 RussianStemFilter.java
--- RussianStemFilter.java      29 Jan 2003 17:18:53 -0000      1.4
+++ RussianStemFilter.java      17 Mar 2004 11:49:37 -0000
@@ -1,115 +1,121 @@
-package org.apache.lucene.analysis.ru;
-
-/* 
====================================================================
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 2001 The Apache Software Foundation.  All rights
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer.
- *
- * 2. Redistributions in binary form must reproduce the above 
copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution,
- *    if any, must include the following acknowledgment:
- *       "This product includes software developed by the
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowledgment may appear in the software 
itself,
- *    if and wherever such third-party acknowledgments normally 
appear.
- *
- * 4. The names "Apache" and "Apache Software Foundation" and
- *    "Apache Lucene" must not be used to endorse or promote products
- *    derived from this software without prior written permission. 
For
- *    written permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache",
- *    "Apache Lucene", nor may "Apache" appear in their name, without
- *    prior written permission of the Apache Software Foundation.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * 
====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- */
-
-import org.apache.lucene.analysis.Token;
-import org.apache.lucene.analysis.TokenFilter;
-import org.apache.lucene.analysis.TokenStream;
-import java.io.IOException;
-
-/**
- * A filter that stems Russian words. The implementation was inspired 
by GermanStemFilter.
- * The input should be filtered by RussianLowerCaseFilter before 
passing it to RussianStemFilter ,
- * because RussianStemFilter only works  with lowercase part of any 
"russian" charset.
- *
- * @author    Boris Okner, b.okner@rogers.com
- * @version   $Id: RussianStemFilter.java,v 1.4 2003/01/29 17:18:53 
otis Exp $
- */
-public final class RussianStemFilter extends TokenFilter
-{
-    /**
-     * The actual token in the input stream.
-     */
-    private Token token = null;
-    private RussianStemmer stemmer = null;
-
-    public RussianStemFilter(TokenStream in, char[] charset)
-    {
-        super(in);
-        stemmer = new RussianStemmer(charset);
-    }
-
-    /**
-     * @return  Returns the next token in the stream, or null at EOS
-     */
-    public final Token next() throws IOException
-    {
-        if ((token = input.next()) == null)
-        {
-            return null;
-        }
-        else
-        {
-            String s = stemmer.stem(token.termText());
-            if (!s.equals(token.termText()))
-            {
-                return new Token(s, token.startOffset(), 
token.endOffset(),
-                    token.type());
-            }
-            return token;
-        }
-    }
-
-    /**
-     * Set a alternative/custom RussianStemmer for this filter.
-     */
-    public void setStemmer(RussianStemmer stemmer)
-    {
-        if (stemmer != null)
-        {
-            this.stemmer = stemmer;
-        }
-    }
-}
+package org.apache.lucene.analysis.ru;
+
+/* 
====================================================================
+ * The Apache Software License, Version 1.1
+ *
+ * Copyright (c) 2001 The Apache Software Foundation.  All rights
+ * reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above 
copyright
+ *    notice, this list of conditions and the following disclaimer in
+ *    the documentation and/or other materials provided with the
+ *    distribution.
+ *
+ * 3. The end-user documentation included with the redistribution,
+ *    if any, must include the following acknowledgment:
+ *       "This product includes software developed by the
+ *        Apache Software Foundation (http://www.apache.org/)."
+ *    Alternately, this acknowledgment may appear in the software 
itself,
+ *    if and wherever such third-party acknowledgments normally 
appear.
+ *
+ * 4. The names "Apache" and "Apache Software Foundation" and
+ *    "Apache Lucene" must not be used to endorse or promote products
+ *    derived from this software without prior written permission. 
For
+ *    written permission, please contact apache@apache.org.
+ *
+ * 5. Products derived from this software may not be called "Apache",
+ *    "Apache Lucene", nor may "Apache" appear in their name, without
+ *    prior written permission of the Apache Software Foundation.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ * 
====================================================================
+ *
+ * This software consists of voluntary contributions made by many
+ * individuals on behalf of the Apache Software Foundation.  For more
+ * information on the Apache Software Foundation, please see
+ * <http://www.apache.org/>.
+ */
+
+import org.apache.lucene.analysis.Token;
+import org.apache.lucene.analysis.TokenFilter;
+import org.apache.lucene.analysis.TokenStream;
+import java.io.IOException;
+
+/**
+ * A filter that stems Russian words. The implementation was inspired 
by GermanStemFilter.
+ * The input should be filtered by RussianLowerCaseFilter before 
passing it to RussianStemFilter ,
+ * because RussianStemFilter only works  with lowercase part of any 
"russian" charset.
+ *
+ * @author    Boris Okner, b.okner@rogers.com
+ * @version   $Id: RussianStemFilter.java,v 1.4 2003/01/29 17:18:53 
otis Exp $
+ */
+public final class RussianStemFilter extends TokenFilter
+{
+    /**
+     * The actual token in the input stream.
+     */
+    private Token token = null;
+    private RussianStemmer stemmer = null;
+
+       public RussianStemFilter(TokenStream in)
+       {
+               super(in);
+               stemmer = new RussianStemmer(RussianCharsets.CP1251);
+       }
+
+       public RussianStemFilter(TokenStream in, char[] charset)
+       {
+               super(in);
+               stemmer = new RussianStemmer(charset);
+       }
+
+    /**
+     * @return  Returns the next token in the stream, or null at EOS
+     */
+    public final Token next() throws IOException
+    {
+        if ((token = input.next()) == null)
+        {
+            return null;
+        }
+        else
+        {
+            String s = stemmer.stem(token.termText());
+            if (!s.equals(token.termText()))
+            {
+                return new Token(s, token.startOffset(), 
token.endOffset(),
+                    token.type());
+            }
+            return token;
+        }
+    }
+
+    /**
+     * Set a alternative/custom RussianStemmer for this filter.
+     */
+    public void setStemmer(RussianStemmer stemmer)
+    {
+        if (stemmer != null)
+        {
+            this.stemmer = stemmer;
+        }
+    }
+}
##################################################
Index: TestRussianAnalyzer.java
===================================================================
RCS file: 
/home/cvspublic/jakarta-lucene/src/test/org/apache/lucene/analysis/ru/TestRussianAnalyzer.java,v
retrieving revision 1.5
diff -u -r1.5 TestRussianAnalyzer.java
--- TestRussianAnalyzer.java    20 Oct 2003 18:07:57 -0000      1.5
+++ TestRussianAnalyzer.java    17 Mar 2004 11:42:20 -0000
@@ -1,208 +1,243 @@
-package org.apache.lucene.analysis.ru;
-
-/* 
====================================================================
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 2001 The Apache Software Foundation.  All rights
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer.
- *
- * 2. Redistributions in binary form must reproduce the above 
copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution,
- *    if any, must include the following acknowledgment:
- *       "This product includes software developed by the
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowledgment may appear in the software 
itself,
- *    if and wherever such third-party acknowledgments normally 
appear.
- *
- * 4. The names "Apache" and "Apache Software Foundation" and
- *    "Apache Lucene" must not be used to endorse or promote products
- *    derived from this software without prior written permission. 
For
- *    written permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache",
- *    "Apache Lucene", nor may "Apache" appear in their name, without
- *    prior written permission of the Apache Software Foundation.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * 
====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- */
-
-import junit.framework.TestCase;
-
-import java.io.*;
-
-import org.apache.lucene.analysis.TokenStream;
-import org.apache.lucene.analysis.Token;
-
-/**
- * Test case for RussianAnalyzer.
- *
- * @author    Boris Okner
- * @version   $Id: TestRussianAnalyzer.java,v 1.5 2003/10/20 18:07:57 
ehatcher Exp $
- */
-
-public class TestRussianAnalyzer extends TestCase
-{
-    private InputStreamReader inWords;
-
-    private InputStreamReader sampleUnicode;
-
-    private Reader inWordsKOI8;
-
-    private Reader sampleKOI8;
-
-    private Reader inWords1251;
-
-    private Reader sample1251;
-
-    private File dataDir;
-
-    protected void setUp() throws Exception
-    {
-      dataDir = new File(System.getProperty("dataDir"));
-    }
-
-    public void testUnicode() throws IOException
-    {
-        RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.UnicodeRussian);
-        inWords =
-            new InputStreamReader(
-                new FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/testUnicode.txt")),
-                "Unicode");
-
-        sampleUnicode =
-            new InputStreamReader(
-                new FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/resUnicode.htm")),
-                "Unicode");
-
-        TokenStream in = ra.tokenStream("all", inWords);
-
-        RussianLetterTokenizer sample =
-            new RussianLetterTokenizer(
-                sampleUnicode,
-                RussianCharsets.UnicodeRussian);
-
-        for (;;)
-        {
-            Token token = in.next();
-
-            if (token == null)
-            {
-                break;
-            }
-
-            Token sampleToken = sample.next();
-            assertEquals(
-                "Unicode",
-                token.termText(),
-                sampleToken == null
-                ? null
-                : sampleToken.termText());
-        }
-
-        inWords.close();
-        sampleUnicode.close();
-    }
-
-    public void testKOI8() throws IOException
-    {
-        //System.out.println(new java.util.Date());
-        RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.KOI8);
-        // KOI8
-        inWordsKOI8 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/testKOI8.txt")), 
"iso-8859-1");
-
-        sampleKOI8 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/resKOI8.htm")), 
"iso-8859-1");
-
-        TokenStream in = ra.tokenStream("all", inWordsKOI8);
-        RussianLetterTokenizer sample =
-            new RussianLetterTokenizer(
-                sampleKOI8,
-                RussianCharsets.KOI8);
-
-        for (;;)
-        {
-            Token token = in.next();
-
-            if (token == null)
-            {
-                break;
-            }
-
-            Token sampleToken = sample.next();
-            assertEquals(
-                "KOI8",
-                token.termText(),
-                sampleToken == null
-                ? null
-                : sampleToken.termText());
-
-        }
-
-        inWordsKOI8.close();
-        sampleKOI8.close();
-    }
-
-    public void test1251() throws IOException
-    {
-        // 1251
-        inWords1251 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/test1251.txt")), 
"iso-8859-1");
-
-        sample1251 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/res1251.htm")), 
"iso-8859-1");
-
-        RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.CP1251);
-        TokenStream in = ra.tokenStream("", inWords1251);
-        RussianLetterTokenizer sample =
-            new RussianLetterTokenizer(
-                sample1251,
-                RussianCharsets.CP1251);
-
-        for (;;)
-        {
-            Token token = in.next();
-
-            if (token == null)
-            {
-                break;
-            }
-
-            Token sampleToken = sample.next();
-            assertEquals(
-                "1251",
-                token.termText(),
-                sampleToken == null
-                ? null
-                : sampleToken.termText());
-
-        }
-
-        inWords1251.close();
-        sample1251.close();
-    }
-}
+package org.apache.lucene.analysis.ru;
+
+/* 
====================================================================
+ * The Apache Software License, Version 1.1
+ *
+ * Copyright (c) 2001 The Apache Software Foundation.  All rights
+ * reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above 
copyright
+ *    notice, this list of conditions and the following disclaimer in
+ *    the documentation and/or other materials provided with the
+ *    distribution.
+ *
+ * 3. The end-user documentation included with the redistribution,
+ *    if any, must include the following acknowledgment:
+ *       "This product includes software developed by the
+ *        Apache Software Foundation (http://www.apache.org/)."
+ *    Alternately, this acknowledgment may appear in the software 
itself,
+ *    if and wherever such third-party acknowledgments normally 
appear.
+ *
+ * 4. The names "Apache" and "Apache Software Foundation" and
+ *    "Apache Lucene" must not be used to endorse or promote products
+ *    derived from this software without prior written permission. 
For
+ *    written permission, please contact apache@apache.org.
+ *
+ * 5. Products derived from this software may not be called "Apache",
+ *    "Apache Lucene", nor may "Apache" appear in their name, without
+ *    prior written permission of the Apache Software Foundation.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ * 
====================================================================
+ *
+ * This software consists of voluntary contributions made by many
+ * individuals on behalf of the Apache Software Foundation.  For more
+ * information on the Apache Software Foundation, please see
+ * <http://www.apache.org/>.
+ */
+
+import junit.framework.TestCase;
+
+import java.io.*;
+
+import org.apache.lucene.analysis.TokenStream;
+import org.apache.lucene.analysis.Token;
+
+/**
+ * Test case for RussianAnalyzer.
+ *
+ * @author    Boris Okner
+ * @version   $Id: TestRussianAnalyzer.java,v 1.5 2003/10/20 18:07:57 
ehatcher Exp $
+ */
+
+public class TestRussianAnalyzer extends TestCase
+{
+    private InputStreamReader inWords;
+
+    private InputStreamReader sampleUnicode;
+
+    private Reader inWordsKOI8;
+
+    private Reader sampleKOI8;
+
+    private Reader inWords1251;
+
+    private Reader sample1251;
+
+    private File dataDir;
+
+    protected void setUp() throws Exception
+    {
+      dataDir = new File(System.getProperty("dataDir"));
+    }
+
+    public void testUnicode() throws IOException
+    {
+        RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.UnicodeRussian);
+        inWords =
+            new InputStreamReader(
+                new FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/testUnicode.txt")),
+                "Unicode");
+
+        sampleUnicode =
+            new InputStreamReader(
+                new FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/resUnicode.htm")),
+                "Unicode");
+
+        TokenStream in = ra.tokenStream("all", inWords);
+
+        RussianLetterTokenizer sample =
+            new RussianLetterTokenizer(
+                sampleUnicode,
+                RussianCharsets.UnicodeRussian);
+
+        for (;;)
+        {
+            Token token = in.next();
+
+            if (token == null)
+            {
+                break;
+            }
+
+            Token sampleToken = sample.next();
+            assertEquals(
+                "Unicode",
+                token.termText(),
+                sampleToken == null
+                ? null
+                : sampleToken.termText());
+        }
+
+        inWords.close();
+        sampleUnicode.close();
+    }
+
+    public void testKOI8() throws IOException
+    {
+        //System.out.println(new java.util.Date());
+        RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.KOI8);
+        // KOI8
+        inWordsKOI8 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/testKOI8.txt")), 
"iso-8859-1");
+
+        sampleKOI8 = new InputStreamReader(new FileInputStream(new 
File(dataDir, "/org/apache/lucene/analysis/ru/resKOI8.htm")), 
"iso-8859-1");
+
+        TokenStream in = ra.tokenStream("all", inWordsKOI8);
+        RussianLetterTokenizer sample =
+            new RussianLetterTokenizer(
+                sampleKOI8,
+                RussianCharsets.KOI8);
+
+        for (;;)
+        {
+            Token token = in.next();
+
+            if (token == null)
+            {
+                break;
+            }
+
+            Token sampleToken = sample.next();
+            assertEquals(
+                "KOI8",
+                token.termText(),
+                sampleToken == null
+                ? null
+                : sampleToken.termText());
+
+        }
+
+        inWordsKOI8.close();
+        sampleKOI8.close();
+    }
+
+       public void test1251() throws IOException
+       {
+               // 1251
+               inWords1251 = new InputStreamReader(new 
FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/test1251.txt")), "iso-8859-1");
+
+               sample1251 = new InputStreamReader(new 
FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/res1251.htm")), "iso-8859-1");
+
+               RussianAnalyzer ra = new 
RussianAnalyzer(RussianCharsets.CP1251);
+               TokenStream in = ra.tokenStream("", inWords1251);
+               RussianLetterTokenizer sample =
+                       new RussianLetterTokenizer(
+                               sample1251,
+                               RussianCharsets.CP1251);
+
+               for (;;)
+               {
+                       Token token = in.next();
+
+                       if (token == null)
+                       {
+                               break;
+                       }
+
+                       Token sampleToken = sample.next();
+                       assertEquals(
+                               "1251",
+                               token.termText(),
+                               sampleToken == null
+                               ? null
+                               : sampleToken.termText());
+
+               }
+
+               inWords1251.close();
+               sample1251.close();
+       }
+       public void test() throws IOException
+       {
+               // 1251
+               inWords1251 = new InputStreamReader(new 
FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/test1251.txt")), "iso-8859-1");
+
+               sample1251 = new InputStreamReader(new 
FileInputStream(new File(dataDir, 
"/org/apache/lucene/analysis/ru/res1251.htm")), "iso-8859-1");
+
+               RussianAnalyzer ra = new RussianAnalyzer();
+               TokenStream in = ra.tokenStream("", inWords1251);
+               RussianLetterTokenizer sample =
+                       new RussianLetterTokenizer(
+                               sample1251);
+
+               for (;;)
+               {
+                       Token token = in.next();
+
+                       if (token == null)
+                       {
+                               break;
+                       }
+
+                       Token sampleToken = sample.next();
+                       assertEquals(
+                               "1251",
+                               token.termText(),
+                               sampleToken == null
+                               ? null
+                               : sampleToken.termText());
+
+               }
+
+               inWords1251.close();
+               sample1251.close();
+       }
+}
#############################################

I am sorry, if in the first letter there was a virus. I work on Linux, 
but can be...

Regards,
Vladimir Yuryev.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 20:13:10 2004
Return-Path: <lucene-user-return-7554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69374 invoked from network); 17 Mar 2004 20:13:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 20:13:10 -0000
Received: (qmail 21701 invoked by uid 500); 17 Mar 2004 20:12:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21678 invoked by uid 500); 17 Mar 2004 20:12:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21658 invoked from network); 17 Mar 2004 20:12:53 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 17 Mar 2004 20:12:53 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1B3hPO-0005Em-00
	for lucene-user@jakarta.apache.org; Wed, 17 Mar 2004 15:12:58 -0500
Subject: Demoting results
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Message-Id: <1079554377.16890.69.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Wed, 17 Mar 2004 15:12:57 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there any way to build a query where the occurrence of a particular
Term (in a Keyword field) causes the rank of the document to be
decreased?  I have various types of documents, and some of them are less
interesting than others, so I want them to be pushed towards the bottom
of the results ranking.  However, I do not want to eliminate them
entirely, so I can't use a boolean not.

Using negative weights would seem logical here, but apparently has no
effect on rankings - negative weights appear to be treated as zeros.

Any ideas would be appreciated.

Thanks,
Boris


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 20:44:44 2004
Return-Path: <lucene-user-return-7555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93619 invoked from network); 17 Mar 2004 20:44:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 20:44:44 -0000
Received: (qmail 89861 invoked by uid 500); 17 Mar 2004 20:44:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89655 invoked by uid 500); 17 Mar 2004 20:44:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89634 invoked from network); 17 Mar 2004 20:44:28 -0000
Received: from unknown (HELO zuni.dc.primus.com) (65.107.195.215)
  by daedalus.apache.org with SMTP; 17 Mar 2004 20:44:28 -0000
Received: from zuni.dc.primus.com (localhost [127.0.0.1])
	by zuni.dc.primus.com (8.12.9p2/8.12.9) with ESMTP id i2HKpAHP008530
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 15:51:10 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
Received: (from bhl@localhost)
	by zuni.dc.primus.com (8.12.9p2/8.12.9/Submit) id i2HKolB0008529
	for lucene-user@jakarta.apache.org; Wed, 17 Mar 2004 15:50:47 -0500 (EST)
	(envelope-from bhl@bigredswitch.com)
X-Authentication-Warning: zuni.dc.primus.com: bhl set sender to bhl@bigredswitch.com using -f
Date: Wed, 17 Mar 2004 15:50:47 -0500
From: Brandon Lee <bhl@bigredswitch.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Field Tokenization
Message-ID: <20040317205047.GA8360@zuni.dc.primus.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi.  I would like to tokenize different fields in a document w/
different analyzers but it doesn't seem possible because analyzers are
associated w/ documents but not Fields.  Is there a reason for this?

For example, I'd like:

  Document : Field=Text   - porter w/ stop words analyzer
             Field=Author - whitespace lower-cased analyzer

If I add Field=Author as a Keyword Field (non-tokenized), the document
states that it will add it as a single word (I want separate words but
not through the porter stemmer).

I know that query would be more complicated but I'm willing to code
around that.

Thanks for any enlightenment.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 17 20:55:22 2004
Return-Path: <lucene-user-return-7556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98517 invoked from network); 17 Mar 2004 20:55:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Mar 2004 20:55:21 -0000
Received: (qmail 4172 invoked by uid 500); 17 Mar 2004 20:55:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4148 invoked by uid 500); 17 Mar 2004 20:55:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4134 invoked from network); 17 Mar 2004 20:55:05 -0000
Received: from unknown (HELO gw2.sciquest.com) (216.136.12.35)
  by daedalus.apache.org with SMTP; 17 Mar 2004 20:55:05 -0000
Received: from MERCURY.sciquest.com ([10.0.4.6])
	by gw2.sciquest.com (8.12.9/8.12.9/SQ-GW-1.20040116) with ESMTP id i2HKt9sl063552
	for <lucene-user@jakarta.apache.org>; Wed, 17 Mar 2004 15:55:10 -0500
Received: by mercury.sciquest.com with Internet Mail Service (5.5.2653.19)
	id <ZQ5CM1P5>; Wed, 17 Mar 2004 15:55:13 -0500
Message-ID: <8F091C3698D5D3119040009027E30B2A081DC39B@mercury.sciquest.com>
From: Alexey Lef <alexey@sciquest.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Field Tokenization
Date: Wed, 17 Mar 2004 15:55:05 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can do it using PerFieldAnalyzerWrapper.
See
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/PerFiel
dAnalyzerWrapper.html for details.

Alexey

-----Original Message-----
From: Brandon Lee [mailto:bhl@bigredswitch.com]
Sent: Wednesday, March 17, 2004 3:51 PM
To: Lucene Users List
Subject: Field Tokenization


Hi.  I would like to tokenize different fields in a document w/
different analyzers but it doesn't seem possible because analyzers are
associated w/ documents but not Fields.  Is there a reason for this?

For example, I'd like:

  Document : Field=Text   - porter w/ stop words analyzer
             Field=Author - whitespace lower-cased analyzer

If I add Field=Author as a Keyword Field (non-tokenized), the document
states that it will add it as a single word (I want separate words but
not through the porter stemmer).

I know that query would be more complicated but I'm willing to code
around that.

Thanks for any enlightenment.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 01:09:18 2004
Return-Path: <lucene-user-return-7557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26081 invoked from network); 18 Mar 2004 01:09:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 01:09:18 -0000
Received: (qmail 12626 invoked by uid 500); 18 Mar 2004 01:08:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12598 invoked by uid 500); 18 Mar 2004 01:08:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12581 invoked from network); 18 Mar 2004 01:08:56 -0000
Received: from unknown (HELO web40410.mail.yahoo.com) (66.218.78.107)
  by daedalus.apache.org with SMTP; 18 Mar 2004 01:08:56 -0000
Message-ID: <20040318010904.66355.qmail@web40410.mail.yahoo.com>
Received: from [199.181.134.220] by web40410.mail.yahoo.com via HTTP; Wed, 17 Mar 2004 17:09:04 PST
Date: Wed, 17 Mar 2004 17:09:04 -0800 (PST)
From: Reece <reecewilton2@yahoo.com>
Subject: Searches containing a dollar sign $
To: lucene-user@jakarta.apache.org
In-Reply-To: <1079571672.3178.ezmlm@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a field that has a dollar sign in it like this:
  abc$def

I perform the following queries using the
StandardAnalyzer:

1). myField:abc$def - work
2). myField:abc*    - work
3). myField:abc$*   - no work

Why doesn't the third query work?  Is there an
analyzer that will handle all three of these queries?

Thanks,
Reece

__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 16:03:49 2004
Return-Path: <lucene-user-return-7558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18475 invoked from network); 18 Mar 2004 16:03:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 16:03:49 -0000
Received: (qmail 83563 invoked by uid 500); 18 Mar 2004 16:03:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83507 invoked by uid 500); 18 Mar 2004 16:03:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83489 invoked from network); 18 Mar 2004 16:03:35 -0000
Received: from unknown (HELO main.mvdb.net) (65.248.4.171)
  by daedalus.apache.org with SMTP; 18 Mar 2004 16:03:35 -0000
Received: (qmail 16380 invoked from network); 18 Mar 2004 16:03:34 -0000
Received: from unknown (HELO ?192.168.201.105?) (217.170.24.222)
  by 65.248.4.171 with SMTP; 18 Mar 2004 16:03:34 -0000
Subject: Using lucene as search engine to replace sql queries
From: Martin van den Bemt <mllist@mvdb.net>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Message-Id: <1079625813.4628.73.camel@jedi.mvdb.net>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Thu, 18 Mar 2004 17:03:34 +0100
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everyone,

We have a database where in one table it contains an id and a name.
(like 1,Human 2,Man 3,Dutch)
The second table contains an id, a relationId and a reference to the
previous table.
So if a relation with id 1 is human is a Man and is Dutch the table will
contain  
1, 1, 1
2, 1, 2
3, 1, 3
You probably get the picture. 

We want to be able to eg query all humans that are Dutch. (we don't care
if it is a man or woman). Using sql can be quite horrific for these kind
of queries.

I thought that maybe Lucene could do the indexing for us instead of the
sql database.

It is not uncommon that the table with names contain about 3 million
entries and the relationship table can be a multiple of 3 million.

The question is :

- Is Lucene capable of handling huge amounts of data ?
- The result always must be EXACT. So no fuzzy stuff. If it has the
keywords in the index, show it, else never show it (so a query for
Human, Man, Dutch, should not return any people from Belgium). (I assume
this should be possible)
- Besides the index information we want to be able to store some extra
data (like a description), that can be used to create an object we can
use in our system.
- Is Lucene the way to go for this use scenario ?

Thanx for your help.

-- 
Mvgr,
Martin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 16:10:25 2004
Return-Path: <lucene-user-return-7559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27502 invoked from network); 18 Mar 2004 16:10:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 16:10:24 -0000
Received: (qmail 7847 invoked by uid 500); 18 Mar 2004 16:10:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7808 invoked by uid 500); 18 Mar 2004 16:10:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7767 invoked from network); 18 Mar 2004 16:10:02 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 18 Mar 2004 16:10:02 -0000
Message-ID: <20040318161004.26868.qmail@web12702.mail.yahoo.com>
Received: from [194.152.226.172] by web12702.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 08:10:04 PST
Date: Thu, 18 Mar 2004 08:10:04 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Using lucene as search engine to replace sql queries
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1079625813.4628.73.camel@jedi.mvdb.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Answers below.

> We have a database where in one table it contains an id and a name.
> (like 1,Human 2,Man 3,Dutch)
> The second table contains an id, a relationId and a reference to the
> previous table.
> So if a relation with id 1 is human is a Man and is Dutch the table
> will
> contain  
> 1, 1, 1
> 2, 1, 2
> 3, 1, 3
> You probably get the picture. 
> 
> We want to be able to eg query all humans that are Dutch. (we don't
> care
> if it is a man or woman). Using sql can be quite horrific for these
> kind
> of queries.
> 
> I thought that maybe Lucene could do the indexing for us instead of
> the sql database.
> 
> It is not uncommon that the table with names contain about 3 million
> entries and the relationship table can be a multiple of 3 million.
> 
> The question is :
> 
> - Is Lucene capable of handling huge amounts of data ?

"Huge" is not very specific, and capacity also depends on hardware and
several other factors.  3 million documents (and yours would be small),
is easy for Lucene.

> - The result always must be EXACT. So no fuzzy stuff. If it has the
> keywords in the index, show it, else never show it (so a query for
> Human, Man, Dutch, should not return any people from Belgium). (I
> assume
> this should be possible)

Sounds like you just need to limit queries to Boolean operators: AND OR
and NOT.  You can do that by creating queries manually, or changing the
QueryParser to allow only such queries.

> - Besides the index information we want to be able to store some
> extra
> data (like a description), that can be used to create an object we
> can
> use in our system.

No problem.  See Lucene's Field class.

> - Is Lucene the way to go for this use scenario ?

I am not sure.  RDMBS are the tool to use for queries that use Boolean
logic.  You still could use Lucene to index your data by converting
each row in your database to a Lucene Document.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7560-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 16:20:15 2004
Return-Path: <lucene-user-return-7560-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33815 invoked from network); 18 Mar 2004 16:20:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 16:20:15 -0000
Received: (qmail 38039 invoked by uid 500); 18 Mar 2004 16:20:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38013 invoked by uid 500); 18 Mar 2004 16:20:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37996 invoked from network); 18 Mar 2004 16:20:02 -0000
Received: from unknown (HELO hamhock.hoovers.com) (66.179.38.26)
  by daedalus.apache.org with SMTP; 18 Mar 2004 16:20:02 -0000
Received: from exchange.hoovers.com (gamma.hoovers.com [66.179.38.8])
	by hamhock.hoovers.com (HamHock-OUTBOUND) with ESMTP id 8CA4B8AF7C
	for <lucene-user@jakarta.apache.org>; Thu, 18 Mar 2004 10:20:04 -0600 (CST)
Received: by gamma.hoovers.com with Internet Mail Service (5.5.2657.72)
	id <HCNSNAT3>; Thu, 18 Mar 2004 10:20:04 -0600
Message-ID: <4810C017B52BD4118EEA00B0D020B0ED1408543D@gamma.hoovers.com>
From: Tim Jones <TJones@hoovers.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Re: Using lucene as search engine to replace sql queries
Date: Thu, 18 Mar 2004 10:20:03 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It seems like you could do it in Lucene:

 - the first table (Human/Man/Dutch) would be considered
   Terms in Lucene (each record would correspond to a Term)
 - the second table would be turned into a Document for each
   unique id in the table (for example, one document would be the
   relationship id 1 example you give).


> -----Original Message-----
> From: Martin van den Bemt [mailto:mllist@mvdb.net]
> Sent: Thursday, March 18, 2004 10:04 AM
> To: lucene-user@jakarta.apache.org
> Subject: Using lucene as search engine to replace sql queries
> 
> Hi everyone,
> 
> We have a database where in one table it contains an id and a name.
> (like 1,Human 2,Man 3,Dutch)
> The second table contains an id, a relationId and a reference to the
> previous table.
> So if a relation with id 1 is human is a Man and is Dutch the 
> table will
> contain  
> 1, 1, 1
> 2, 1, 2
> 3, 1, 3
> You probably get the picture. 
> 
> We want to be able to eg query all humans that are Dutch. (we 
> don't care
> if it is a man or woman). Using sql can be quite horrific for 
> these kind
> of queries.
> 
> I thought that maybe Lucene could do the indexing for us 
> instead of the
> sql database.
> 
> It is not uncommon that the table with names contain about 3 million
> entries and the relationship table can be a multiple of 3 million.
> 
> The question is :
> 
> - Is Lucene capable of handling huge amounts of data ?
> - The result always must be EXACT. So no fuzzy stuff. If it has the
> keywords in the index, show it, else never show it (so a query for
> Human, Man, Dutch, should not return any people from 
> Belgium). (I assume
> this should be possible)
> - Besides the index information we want to be able to store some extra
> data (like a description), that can be used to create an object we can
> use in our system.
> - Is Lucene the way to go for this use scenario ?
> 
> Thanx for your help.
> 
> -- 
> Mvgr,
> Martin

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 16:45:10 2004
Return-Path: <lucene-user-return-7561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56644 invoked from network); 18 Mar 2004 16:45:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 16:45:10 -0000
Received: (qmail 40603 invoked by uid 500); 18 Mar 2004 16:43:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40566 invoked by uid 500); 18 Mar 2004 16:43:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40538 invoked from network); 18 Mar 2004 16:43:54 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 18 Mar 2004 16:43:54 -0000
Message-ID: <20040318164355.84464.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.172] by web12703.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 08:43:55 PST
Date: Thu, 18 Mar 2004 08:43:55 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searches containing a dollar sign $
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040318010904.66355.qmail@web40410.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you indexing your documents with the same Analyzer?
Are you using QueryParser?
Are you able to get query 3) to work when using queries directly,
without a QueryParser?

Otis

--- Reece <reecewilton2@yahoo.com> wrote:
> Hi,
> 
> I have a field that has a dollar sign in it like this:
>   abc$def
> 
> I perform the following queries using the
> StandardAnalyzer:
> 
> 1). myField:abc$def - work
> 2). myField:abc*    - work
> 3). myField:abc$*   - no work
> 
> Why doesn't the third query work?  Is there an
> analyzer that will handle all three of these queries?
> 
> Thanks,
> Reece
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 16:49:20 2004
Return-Path: <lucene-user-return-7562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58759 invoked from network); 18 Mar 2004 16:49:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 16:49:20 -0000
Received: (qmail 56898 invoked by uid 500); 18 Mar 2004 16:47:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56871 invoked by uid 500); 18 Mar 2004 16:47:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56854 invoked from network); 18 Mar 2004 16:47:39 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 18 Mar 2004 16:47:39 -0000
Message-ID: <20040318164722.36669.qmail@web12702.mail.yahoo.com>
Received: from [194.152.226.172] by web12702.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 08:47:22 PST
Date: Thu, 18 Mar 2004 08:47:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: order of Field objects within Document
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <06f701c40b67$79a24070$0400a8c0@mabel>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe Document's fields() method will always give you the fields in
the same order for a given Document instance.
It may not be consistent accross multiple Document instances, though,
if you add Fields to your Document in a different order.

Otis


--- Sam Hough <sam@redspr.com> wrote:
> Can anybody confirm that no guarantee is given that Fields retain
> their order within a Document?
> 
> Version 1.3 seems to (although reversing the order
> on occasion).
> 
> Doesnt seem likely but would be really useful for my current
> application ;)
> Im just asking for clarification not a change of spec although a
> comment 
> in the JavaDoc for Document making it explicit might be handy.
> 
> Thanks
> 
> Sam
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 17:01:43 2004
Return-Path: <lucene-user-return-7563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73516 invoked from network); 18 Mar 2004 17:01:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 17:01:43 -0000
Received: (qmail 11963 invoked by uid 500); 18 Mar 2004 17:01:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11942 invoked by uid 500); 18 Mar 2004 17:01:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11919 invoked from network); 18 Mar 2004 17:01:27 -0000
Received: from unknown (HELO main.mvdb.net) (65.248.4.171)
  by daedalus.apache.org with SMTP; 18 Mar 2004 17:01:27 -0000
Received: (qmail 3457 invoked from network); 18 Mar 2004 17:01:24 -0000
Received: from unknown (HELO ?192.168.201.105?) (217.170.24.222)
  by 65.248.4.171 with SMTP; 18 Mar 2004 17:01:24 -0000
Subject: Re: Using lucene as search engine to replace sql queries
From: Martin van den Bemt <mllist@mvdb.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040318161004.26868.qmail@web12702.mail.yahoo.com>
References: <20040318161004.26868.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain
Message-Id: <1079629280.4628.146.camel@jedi.mvdb.net>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Thu, 18 Mar 2004 18:01:20 +0100
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanx for the quick reply.. I already started working on it :) 

> > - Is Lucene the way to go for this use scenario ?
> 
> I am not sure.  RDMBS are the tool to use for queries that use Boolean
> logic.  You still could use Lucene to index your data by converting
> each row in your database to a Lucene Document.
> 

The problem with boolean data in an RDMS, is that you will end up with
huge query statements, which doesn't make the database any faster,
unless you do some real db optimalisation, which can be pretty hard when
you try to be db independent. I am confident (implementing a test
scenario already) that Lucene will give us what we need..

Thanx for the quick reply..

> Otis
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
-- 
Mvgr,
Martin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 18:20:11 2004
Return-Path: <lucene-user-return-7564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32100 invoked from network); 18 Mar 2004 18:20:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 18:20:10 -0000
Received: (qmail 60901 invoked by uid 500); 18 Mar 2004 18:19:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60874 invoked by uid 500); 18 Mar 2004 18:19:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60845 invoked from network); 18 Mar 2004 18:19:44 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 18 Mar 2004 18:19:44 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20040318181947015005q64pe>; Thu, 18 Mar 2004 18:19:48 +0000
Message-ID: <4059E812.90904@apache.org>
Date: Thu, 18 Mar 2004 10:18:58 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: order of Field objects within Document
References: <06f701c40b67$79a24070$0400a8c0@mabel>
In-Reply-To: <06f701c40b67$79a24070$0400a8c0@mabel>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sam Hough wrote:
> Can anybody confirm that no guarantee is given that Fields retain
> their order within a Document?
> 
> Version 1.3 seems to (although reversing the order
> on occasion).

In 1.3 they're reversed as added, then reversed as read, so that hits 
have fields in their added order.  In 1.4 I've fixed this so that 
they're always in order.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 18:33:06 2004
Return-Path: <lucene-user-return-7565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43496 invoked from network); 18 Mar 2004 18:33:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 18:33:06 -0000
Received: (qmail 96977 invoked by uid 500); 18 Mar 2004 18:32:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96950 invoked by uid 500); 18 Mar 2004 18:32:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96934 invoked from network); 18 Mar 2004 18:32:51 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 18 Mar 2004 18:32:51 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004031818325301100lg67le>; Thu, 18 Mar 2004 18:32:54 +0000
Message-ID: <4059EB24.7030302@apache.org>
Date: Thu, 18 Mar 2004 10:32:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
References: <1079554377.16890.69.camel@yuff.moxyledge.org>
In-Reply-To: <1079554377.16890.69.camel@yuff.moxyledge.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have you tried assigning these very small boosts (0 < boost < 1) and 
assigning other query clauses relatively large boosts (boost > 1)?

Boris Goldowsky wrote:
> Is there any way to build a query where the occurrence of a particular
> Term (in a Keyword field) causes the rank of the document to be
> decreased?  I have various types of documents, and some of them are less
> interesting than others, so I want them to be pushed towards the bottom
> of the results ranking.  However, I do not want to eliminate them
> entirely, so I can't use a boolean not.
> 
> Using negative weights would seem logical here, but apparently has no
> effect on rankings - negative weights appear to be treated as zeros.
> 
> Any ideas would be appreciated.
> 
> Thanks,
> Boris
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 18:56:19 2004
Return-Path: <lucene-user-return-7566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60497 invoked from network); 18 Mar 2004 18:56:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 18:56:19 -0000
Received: (qmail 67736 invoked by uid 500); 18 Mar 2004 18:56:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67704 invoked by uid 500); 18 Mar 2004 18:56:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67676 invoked from network); 18 Mar 2004 18:56:04 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 18 Mar 2004 18:56:04 -0000
Message-ID: <20040318185605.43875.qmail@web12706.mail.yahoo.com>
Received: from [194.152.226.172] by web12706.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 10:56:05 PST
Date: Thu, 18 Mar 2004 10:56:05 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.44.0403031554300.8532-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I added support for all items listed below, except commit/write lock
file name.  I don't see why one would want to change that, considering
those files are still limited to the index directory.

Otis

--- Stephane James Vaucher <vauchers@cirano.qc.ca> wrote:
> How about (looking big rather than small):
> 
> - MaxClause from BooleanQuery (I know there has been discussions on 
> the dev list, but I haven't been following it)
> - default commit_lock_name
> - default commit_lock_timeout
> - default maxFieldLength
> - default maxMergeDocs
> - default mergeFactor
> - default minMergeDocs
> - default write_lock_name
> - default write_lock_timeout
> 
> I'm currently configuring parts of my app using sys properties, 
> particularly the mergeFactor because my prod system has 2GB of RAM
> and is 
> windows based and my dev machine has 256MB and is linux. If no one
> takes a 
> crack at this, I'll see what I can do in 2 weeks, after my vacations.
> 
> Cheers,
> sv
> 
> On Wed, 3 Mar 2004, Doug Cutting wrote:
> 
> > Stephane James Vaucher wrote:
> > > As I've stated in my earlier mail, I like this change. More
> importantly, 
> > > could this become a "standard" way of changing configurations at
> runtime? 
> > > For example, the default merge factor could also be set in this
> manner.
> > 
> > Sure, that's reasonable, so this would be something like:
> > 
> > private static final int DEFAULT_MERGE_FACTOR =
> >  
> >
>
Integer.parseInt(System.getProperty("org.apache.lucene.mergeFactor","10"));
> > 
> > In IndexWriter.java.
> > 
> > What other candidates are there for this treatment?
> > 
> > Doug
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:06:15 2004
Return-Path: <lucene-user-return-7567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65988 invoked from network); 18 Mar 2004 19:06:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:06:15 -0000
Received: (qmail 90841 invoked by uid 500); 18 Mar 2004 19:06:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90819 invoked by uid 500); 18 Mar 2004 19:05:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90803 invoked from network); 18 Mar 2004 19:05:59 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:05:59 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2IJ63iI007344
	for <lucene-user@jakarta.apache.org>; Thu, 18 Mar 2004 14:06:03 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2IJ63ZG007340
	for <lucene-user@jakarta.apache.org>; Thu, 18 Mar 2004 14:06:03 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 18 Mar 2004 14:06:02 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sys properties Was: java.io.tmpdir as lock dir .... once again
In-Reply-To: <20040318185605.43875.qmail@web12706.mail.yahoo.com>
Message-ID: <Pine.LNX.4.44.0403181402130.7040-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, I was going to submit a patch for this feature this week-end.

sv

On Thu, 18 Mar 2004, Otis Gospodnetic wrote:

> I added support for all items listed below, except commit/write lock
> file name.  I don't see why one would want to change that, considering
> those files are still limited to the index directory.
> 
> Otis
> 
> --- Stephane James Vaucher <vauchers@cirano.qc.ca> wrote:
> > How about (looking big rather than small):
> > 
> > - MaxClause from BooleanQuery (I know there has been discussions on 
> > the dev list, but I haven't been following it)
> > - default commit_lock_name
> > - default commit_lock_timeout
> > - default maxFieldLength
> > - default maxMergeDocs
> > - default mergeFactor
> > - default minMergeDocs
> > - default write_lock_name
> > - default write_lock_timeout
> > 
> > I'm currently configuring parts of my app using sys properties, 
> > particularly the mergeFactor because my prod system has 2GB of RAM
> > and is 
> > windows based and my dev machine has 256MB and is linux. If no one
> > takes a 
> > crack at this, I'll see what I can do in 2 weeks, after my vacations.
> > 
> > Cheers,
> > sv
> > 
> > On Wed, 3 Mar 2004, Doug Cutting wrote:
> > 
> > > Stephane James Vaucher wrote:
> > > > As I've stated in my earlier mail, I like this change. More
> > importantly, 
> > > > could this become a "standard" way of changing configurations at
> > runtime? 
> > > > For example, the default merge factor could also be set in this
> > manner.
> > > 
> > > Sure, that's reasonable, so this would be something like:
> > > 
> > > private static final int DEFAULT_MERGE_FACTOR =
> > >  
> > >
> >
> Integer.parseInt(System.getProperty("org.apache.lucene.mergeFactor","10"));
> > > 
> > > In IndexWriter.java.
> > > 
> > > What other candidates are there for this treatment?
> > > 
> > > Doug
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:06:35 2004
Return-Path: <lucene-user-return-7568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66245 invoked from network); 18 Mar 2004 19:06:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:06:35 -0000
Received: (qmail 91844 invoked by uid 500); 18 Mar 2004 19:06:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91822 invoked by uid 500); 18 Mar 2004 19:06:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91809 invoked from network); 18 Mar 2004 19:06:20 -0000
Received: from unknown (HELO merc95.na.sas.com) (149.173.6.5)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:06:20 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by merc95.na.sas.com with InterScan Messaging Security Suite; Thu, 18 Mar 2004 14:06:24 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searches containing a dollar sign $
Date: Thu, 18 Mar 2004 14:06:23 -0500
Message-ID: <187D6D956106D84E9D8B280F6458FE1402F3DD5D@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searches containing a dollar sign $
Thread-Index: AcQNCFzwS9p1W+6rQkuZF6ZEAdyHPgAEggiw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think Erik Hatcher commented on a similar problem the other day. When =
QueryParser handles a * query which it creates as a prefix query, the =
token the prefix query is built from is not analyzed.

StandardAnalyzer would turn abc$def into two tokens "abc" and "def"

QueryParser would take query 2 and build a PrefixQuery with "abc" as the =
prefix and query 3 as a PrefixQuery with "abc$" as the prefix.

There are probably a million valid reasons why this is appropriate =
default behavior for QueryParser. One off the top of my head is that =
with a stemming analyzer, you may not get an approriate stem if you =
analyzed the prefix. In this case, if this is not appropriate behavior =
for your application, you should probably create a custom query parser =
with different behavior.

Eric

Here is the snip of QueryParser.jj that builds the query objects. The =
only one that is analyzed is the field query. The term productions =
generally break on whitespace and special unescaped query operators (see =
the .jj file for the full details):

       term=3D<TERM>
       | term=3D<PREFIXTERM> { prefix=3Dtrue; }
       | term=3D<WILDTERM> { wildcard=3Dtrue; }
       | term=3D<NUMBER>
     )
     [ <FUZZY> { fuzzy=3Dtrue; } ]
     [ <CARAT> boost=3D<NUMBER> [ <FUZZY> { fuzzy=3Dtrue; } ] ]
     {
       String termImage=3DdiscardEscapeChar(term.image);
       if (wildcard) {
       q =3D getWildcardQuery(field, termImage);
       } else if (prefix) {
         q =3D getPrefixQuery(field,
           discardEscapeChar(term.image.substring
          (0, term.image.length()-1)));
       } else if (fuzzy) {
         q =3D getFuzzyQuery(field, termImage);
       } else {
         q =3D getFieldQuery(field, analyzer, termImage);
       }
     }

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Thursday, March 18, 2004 11:44 AM
To: Lucene Users List
Subject: Re: Searches containing a dollar sign $


Are you indexing your documents with the same Analyzer?
Are you using QueryParser?
Are you able to get query 3) to work when using queries directly, =
without a QueryParser?

Otis

--- Reece <reecewilton2@yahoo.com> wrote:
> Hi,
>=20
> I have a field that has a dollar sign in it like this:
>   abc$def
>=20
> I perform the following queries using the
> StandardAnalyzer:
>=20
> 1). myField:abc$def - work
> 2). myField:abc*    - work
> 3). myField:abc$*   - no work
>=20
> Why doesn't the third query work?  Is there an
> analyzer that will handle all three of these queries?
>=20
> Thanks,
> Reece
>=20
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam=20
> http://mail.yahoo.com
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:17:41 2004
Return-Path: <lucene-user-return-7569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75391 invoked from network); 18 Mar 2004 19:17:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:17:41 -0000
Received: (qmail 16914 invoked by uid 500); 18 Mar 2004 19:17:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16879 invoked by uid 500); 18 Mar 2004 19:17:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16846 invoked from network); 18 Mar 2004 19:17:14 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:17:14 -0000
X-Info: This message was accepted for relay by
	smtp02.mrf.mail.rcn.net as the sender used SMTP authentication
X-Trace: UmFuZG9tSVa1oyR7Bwt9xw9U2dY/1YO53ejRTNOjeqo6g0UBoNvkQB2mwnWtTIJW
Received: from [130.57.22.69] (helo=rnoel-dell.rcn.com)
	by smtp02.mrf.mail.rcn.net with asmtp (Exim 3.35 #4)
	id 1B4314-0001Fn-00
	for lucene-user@jakarta.apache.org; Thu, 18 Mar 2004 14:17:18 -0500
Message-Id: <5.2.1.1.0.20040318141516.01e03d58@mail.novell.com>
X-Sender: rnoel@pop.rcn.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Thu, 18 Mar 2004 14:17:49 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Rick Noel <rnoel@rcn.com>
Subject: Getting offset information of hits
In-Reply-To: <20040318185605.43875.qmail@web12706.mail.yahoo.com>
References: <Pine.LNX.4.44.0403031554300.8532-100000@mere.cirano.qc.ca>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm new to Lucene and am trying to implement excerpts and highlighting.  I am
trying to figure out how I can get offset information from the Hits
class.  TermPositions doesn't appear to get me the offset information that
the Token class provides.  Is there a way of getting this information at 
search time?

-Rick


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:20:08 2004
Return-Path: <lucene-user-return-7570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77071 invoked from network); 18 Mar 2004 19:20:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:20:08 -0000
Received: (qmail 31160 invoked by uid 500); 18 Mar 2004 19:19:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31136 invoked by uid 500); 18 Mar 2004 19:19:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31122 invoked from network); 18 Mar 2004 19:19:52 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:19:52 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i2IJJsOJ013014
	for <lucene-user@jakarta.apache.org>; Thu, 18 Mar 2004 11:19:55 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i2IJJs7Q013011
	for <lucene-user@jakarta.apache.org>; Thu, 18 Mar 2004 11:19:54 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Thu, 18 Mar
 2004 11:19:54 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <47b75547bdc0.47bdc047b755@lbl.gov>
Date: Thu, 18 Mar 2004 11:19:54 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: Re: Using lucene as search engine to replace sql queries
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use lucene to index several (currently 8) large
(greater than 3 million records each) databases. 
These databases have a table structure that is
optimized to support the graphical display of large
numbers of alignments between biologically-relevant
sequences.  Unfortunately, that structure is quite
suboptimal for knowledge-discovery type queries
(e.g., searching for all the sequences that are
characterized as being involved in a particular
biological or molecular function).  So I export the
data and construct more biologically-informative
Lucene documents.  Typical indexes are 500-600Mb per
organism, and I have a ParallellMultiSearcher using
RemoteSearchables to spread the search load over
several servers.  Search speed is quite acceptable
(as long as post search sorting of results isn't
required).

So I would say using Lucene to replace some of the
RDMBS query functionality is quite feasible and
yields good performance.  

--David Goodstein
  Joint Genome Institute

----- Original Message -----
From: Martin van den Bemt <mllist@mvdb.net>
Date: Thursday, March 18, 2004 9:01 am
Subject: Re: Using lucene as search engine to
replace sql queries

> Thanx for the quick reply.. I already started
working on it :) 
> 
> > > - Is Lucene the way to go for this use scenario ?
> > 
> > I am not sure.  RDMBS are the tool to use for
queries that use 
> Boolean> logic.  You still could use Lucene to
index your data by 
> converting> each row in your database to a Lucene
Document.
> > 
> 
> The problem with boolean data in an RDMS, is that
you will end up with
> huge query statements, which doesn't make the
database any faster,
> unless you do some real db optimalisation, which
can be pretty hard 
> whenyou try to be db independent. I am confident
(implementing a test
> scenario already) that Lucene will give us what we
need..
> 
> Thanx for the quick reply..
> 
> > Otis
> > 
> > 
> >
------------------------------------------------------------------
> ---
> > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> -- 
> Mvgr,
> Martin
> 
> 
>
--------------------------------------------------------------------
> -
> To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:20:35 2004
Return-Path: <lucene-user-return-7571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77255 invoked from network); 18 Mar 2004 19:20:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:20:35 -0000
Received: (qmail 32243 invoked by uid 500); 18 Mar 2004 19:20:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32209 invoked by uid 500); 18 Mar 2004 19:20:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32186 invoked from network); 18 Mar 2004 19:20:17 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:20:17 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Thu, 18 Mar 2004 12:23:23 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Thu, 18 Mar 2004 12:19:45 -0700
Message-ID: <s05993e1.075@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 18 Mar 2004 12:19:17 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: robot searching
MIME-Version: 1.0
X-WSS-ID: 6C4728A116317-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Will lucene do a robot search on urls?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:32:19 2004
Return-Path: <lucene-user-return-7572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86182 invoked from network); 18 Mar 2004 19:32:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:32:19 -0000
Received: (qmail 59824 invoked by uid 500); 18 Mar 2004 19:32:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59781 invoked by uid 500); 18 Mar 2004 19:32:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59671 invoked from network); 18 Mar 2004 19:32:02 -0000
Received: from unknown (HELO main.mvdb.net) (65.248.4.171)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:32:02 -0000
Received: (qmail 25793 invoked from network); 18 Mar 2004 19:32:05 -0000
Received: from unknown (HELO ?192.168.201.105?) (217.170.24.222)
  by 65.248.4.171 with SMTP; 18 Mar 2004 19:32:05 -0000
Subject: Re: Using lucene as search engine to replace sql queries
From: Martin van den Bemt <mllist@mvdb.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <47b75547bdc0.47bdc047b755@lbl.gov>
References: <47b75547bdc0.47bdc047b755@lbl.gov>
Content-Type: text/plain
Message-Id: <1079638324.4628.158.camel@jedi.mvdb.net>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Thu, 18 Mar 2004 20:32:04 +0100
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanx for the info.
I just implemented it (that was quite simple!) and it seems to work ok
and the way we want..
(no integration with the actual RDBMS yet, but a coworker will handle
that)..

Mvgr,
Martin

On Thu, 2004-03-18 at 20:19, DMGoodstein@lbl.gov wrote:
> I use lucene to index several (currently 8) large
> (greater than 3 million records each) databases. 
> These databases have a table structure that is
> optimized to support the graphical display of large
> numbers of alignments between biologically-relevant
> sequences.  Unfortunately, that structure is quite
> suboptimal for knowledge-discovery type queries
> (e.g., searching for all the sequences that are
> characterized as being involved in a particular
> biological or molecular function).  So I export the
> data and construct more biologically-informative
> Lucene documents.  Typical indexes are 500-600Mb per
> organism, and I have a ParallellMultiSearcher using
> RemoteSearchables to spread the search load over
> several servers.  Search speed is quite acceptable
> (as long as post search sorting of results isn't
> required).
> 
> So I would say using Lucene to replace some of the
> RDMBS query functionality is quite feasible and
> yields good performance.  
> 
> --David Goodstein
>   Joint Genome Institute



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:45:04 2004
Return-Path: <lucene-user-return-7573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 574 invoked from network); 18 Mar 2004 19:45:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:45:03 -0000
Received: (qmail 15996 invoked by uid 500); 18 Mar 2004 19:44:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15967 invoked by uid 500); 18 Mar 2004 19:44:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15946 invoked from network); 18 Mar 2004 19:44:48 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:44:48 -0000
Message-ID: <20040318194452.30005.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.172] by web12703.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 11:44:52 PST
Date: Thu, 18 Mar 2004 11:44:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: robot searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <s05993e1.075@wh-inet.gmhwh.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

www.nutch.org

--- Charlie Smith <SmithCW@ldschurch.org> wrote:
> Will lucene do a robot search on urls?
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 19:52:21 2004
Return-Path: <lucene-user-return-7574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5883 invoked from network); 18 Mar 2004 19:52:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 19:52:21 -0000
Received: (qmail 38352 invoked by uid 500); 18 Mar 2004 19:51:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38200 invoked by uid 500); 18 Mar 2004 19:51:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38141 invoked from network); 18 Mar 2004 19:51:49 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 18 Mar 2004 19:51:49 -0000
Message-ID: <20040318195154.51482.qmail@web12707.mail.yahoo.com>
Received: from [194.152.226.172] by web12707.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 11:51:54 PST
Date: Thu, 18 Mar 2004 11:51:54 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Getting offset information of hits
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5.2.1.1.0.20040318141516.01e03d58@mail.novell.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

See highlighter link on the Contributions page.

Otis

--- Rick Noel <rnoel@rcn.com> wrote:
> I'm new to Lucene and am trying to implement excerpts and
> highlighting.  I am
> trying to figure out how I can get offset information from the Hits
> class.  TermPositions doesn't appear to get me the offset information
> that
> the Token class provides.  Is there a way of getting this information
> at 
> search time?
> 
> -Rick
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 20:09:31 2004
Return-Path: <lucene-user-return-7575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17792 invoked from network); 18 Mar 2004 20:09:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 20:09:31 -0000
Received: (qmail 74201 invoked by uid 500); 18 Mar 2004 20:09:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74006 invoked by uid 500); 18 Mar 2004 20:09:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73993 invoked from network); 18 Mar 2004 20:09:16 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.238.177)
  by daedalus.apache.org with SMTP; 18 Mar 2004 20:09:16 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Thu, 18 Mar 2004 13:12:08 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Thu, 18 Mar 2004 13:08:43 -0700
Message-ID: <s0599f5b.090@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 18 Mar 2004 13:08:20 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: title search
MIME-Version: 1.0
X-WSS-ID: 6C44DD1214325-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can Lucene search titles as well as content?




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 18 21:15:07 2004
Return-Path: <lucene-user-return-7576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65353 invoked from network); 18 Mar 2004 21:15:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Mar 2004 21:15:07 -0000
Received: (qmail 37683 invoked by uid 500); 18 Mar 2004 21:14:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37658 invoked by uid 500); 18 Mar 2004 21:14:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37644 invoked from network); 18 Mar 2004 21:14:49 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 18 Mar 2004 21:14:49 -0000
Message-ID: <20040318211455.69516.qmail@web12707.mail.yahoo.com>
Received: from [195.29.139.15] by web12707.mail.yahoo.com via HTTP; Thu, 18 Mar 2004 13:14:55 PST
Date: Thu, 18 Mar 2004 13:14:55 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: title search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <s0599f5b.090@wh-inet.gmhwh.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes.
But keep in mind Lucene is NOT a 'web search engine'.
It is a full-text indexing and searching _API_.
In other words, it is up to you to create different fields and search
them.  This is described in a number of Lucene article, whose links are
published on Lucene's site.

Otis

--- Charlie Smith <SmithCW@ldschurch.org> wrote:
> Can Lucene search titles as well as content?
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 10:26:46 2004
Return-Path: <lucene-user-return-7577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3507 invoked from network); 19 Mar 2004 10:26:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 10:26:46 -0000
Received: (qmail 65747 invoked by uid 500); 19 Mar 2004 10:26:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65715 invoked by uid 500); 19 Mar 2004 10:26:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65684 invoked from network); 19 Mar 2004 10:26:13 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 19 Mar 2004 10:26:13 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2JBAt4J001761
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 16:56:04 +0545
Message-ID: <005101c40d9c$9aa74810$2403a8c0@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <Pine.LNX.4.44.0403031554300.8532-100000@mere.cirano.qc.ca> <5.2.1.1.0.20040318141516.01e03d58@mail.novell.com>
Subject: Re: Indexing HTML
Date: Fri, 19 Mar 2004 16:11:10 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How do I index a HTM document which may have any encoding like
EUC,SJIS,Western European or UTF 8. Can  I parse and extract the html into
string and than convert into Text file in UNICODE ?
Is this an appropiate way  to index HTML files ? Can anyone suggest me a
simple parser other than a parser found in demo of lucene ?

Also how do i find the "encoding " of files ? Whenever there are ANSI text
files containing japanese characters i am not able to convert into UTF-16
lucene is indexing properly when I convert into SJIS

thnks
chandan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 10:39:39 2004
Return-Path: <lucene-user-return-7578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9736 invoked from network); 19 Mar 2004 10:39:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 10:39:39 -0000
Received: (qmail 82183 invoked by uid 500); 19 Mar 2004 10:39:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82160 invoked by uid 500); 19 Mar 2004 10:39:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82130 invoked from network); 19 Mar 2004 10:39:04 -0000
Received: from unknown (HELO conscius.com) (62.243.211.122)
  by daedalus.apache.org with SMTP; 19 Mar 2004 10:39:04 -0000
Received: from [192.168.5.6] (HELO post.conscius.com)
  by conscius.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 430206 for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 11:39:17 +0100
Received: from conscius.com
	([192.168.5.209])
	by post.conscius.com; Fri, 19 Mar 2004 11:39:06 +0100
Message-ID: <405ACDD4.2010101@conscius.com>
Date: Fri, 19 Mar 2004 11:39:16 +0100
From: =?ISO-8859-1?Q?Dennis_Thrys=F8e?= <dth@conscius.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: PrefixQuery and hieracical queries problem
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm seeking any kind of advice that I can find to solve a problem I've 
run into with using lucene.

I'm integrating lucene as an alternative to other methods of indexing 
and searching that already exist in our product. Therefore it would be 
best if I could make the integration of lucene live up to the existing 
requirements.

What is indexed as lucene documents is structured in a tree (just like 
files in a filesystem), and the feature that I am working on is 
restricting a search to a certain part of this tree.

To implement this I used a PrefixQuery with the path to the folder to 
search below. Since the PrefixQuery creates a boolean query with a 
clause for each mathching term, this is a problem if there are more than 
1024 subfolders below the selected folder.

One way of getting around this would be if maxClauseCount could be set 
for a PrefixQuery, but there are problems with this.

Picking a number for this would be hard. In order to support very large 
installations a value of a million or so would have to be used. This 
would probably not perform very well.

The only alternative I can think of would be to store a whitespace 
seperated list of all ancestors along with a document:

/foo /foo/bar /foo/bar/baz

But this has two drawbacks: Index storage space used, and the cost of 
indexing (finding all ancestors).

So my question boils down to: Are there any alternatives to solve this 
scenario in an efficient way?


Thanks in advance,

Dennis Thryse



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 11:31:30 2004
Return-Path: <lucene-user-return-7579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32255 invoked from network); 19 Mar 2004 11:31:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 11:31:30 -0000
Received: (qmail 57924 invoked by uid 500); 19 Mar 2004 11:31:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57886 invoked by uid 500); 19 Mar 2004 11:31:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57791 invoked from network); 19 Mar 2004 11:31:14 -0000
Received: from unknown (HELO scbaprssxmrl.sg.standardchartered.com) (203.126.142.230)
  by daedalus.apache.org with SMTP; 19 Mar 2004 11:31:14 -0000
From: Harshavardhan.NM@in.standardchartered.com
Received: from DLC400ISMSHV ([10.128.31.183])
          by aprsmaadmn00005.in.standardchartered.com (Lotus Domino Release 5.0.5)
          with ESMTP id 2004031916573583:165684 ;
          Fri, 19 Mar 2004 16:57:35 +0530 
To: lucene-user@jakarta.apache.org
Subject: Ampersand not included
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OF540A0EF1.D895A6FA-ON65256E5C.003EC3F3@in.standardchartered.com>
Date: Fri, 19 Mar 2004 16:55:30 +0530
X-MIMETrack: Serialize by Notes Client on Harshavardhan NM/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/19/2004 04:55:30 PM,
	Serialize complete at 03/19/2004 04:55:30 PM,
	Itemize by SMTP Server on APRSMAADMN00005/Servers/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/19/2004 04:57:35 PM,
	Serialize by Router on APRSMAADMN00005/Servers/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/19/2004 05:06:53 PM,
	Serialize complete at 03/19/2004 05:06:53 PM
MIME-Version: 1.0
Content-type: multipart/mixed; boundary="=_IS_MIME_Boundary"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_IS_MIME_Boundary
Content-Type: text/plain;charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

----------------------------------------------------------

This email is confidential. If you are not the addressee tell the sender immediately and destroy this email without using, sending or storing it. Emails are not secure and may suffer errors, viruses, delay, interception and amendment. Standard Chartered PLC and subsidiaries ("SCGroup") do not accept liability for damage caused by this email and may monitor email traffic. Unless expressly stated, any opinions are the sender's and are not approved by SCGroup and this email is not an offer, solicitation, recommendation or agreement of any kind.



Standard Chartered Bank ("SCB") is a member of SCGroup incorporated in England with limited liability. SCB's principal office is 1 Aldermanbury Square, London, EC2V 7SB, UK. SCB is authorised and regulated by the Financial Services Authority ("FSA") and in FSA's register under no. 114276. SCB's VAT no. is GB244106593. FSA is the lead regulator for the SCGroup. For regulators in other countries contact the local compliance officer.

---------------------------------------------------------


--=_IS_MIME_Boundary
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--=_IS_MIME_Boundary--

From lucene-user-return-7580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 12:39:16 2004
Return-Path: <lucene-user-return-7580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73042 invoked from network); 19 Mar 2004 12:39:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 12:39:16 -0000
Received: (qmail 66515 invoked by uid 500); 19 Mar 2004 12:39:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66371 invoked by uid 500); 19 Mar 2004 12:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66356 invoked from network); 19 Mar 2004 12:39:09 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 19 Mar 2004 12:39:09 -0000
Received: from ctx.com.au (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.10/8.12.10) with ESMTP id i2JCd7m8030475
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 06:39:09 -0600
Message-ID: <405AEA2A.5020401@ctx.com.au>
Date: Fri, 19 Mar 2004 23:40:10 +1100
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com>
In-Reply-To: <405ACDD4.2010101@conscius.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dennis Thryse wrote:
> The only alternative I can think of would be to store a whitespace 
> seperated list of all ancestors along with a document:
> 
> /foo /foo/bar /foo/bar/baz

I think you will find that this kind of approach works very well (as it 
has for me). But instead of adding one field named "path" with 
space-seperated values, just add multiple "path" fields to the one document.

=Matt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 12:51:31 2004
Return-Path: <lucene-user-return-7581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77637 invoked from network); 19 Mar 2004 12:51:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 12:51:31 -0000
Received: (qmail 81750 invoked by uid 500); 19 Mar 2004 12:51:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81720 invoked by uid 500); 19 Mar 2004 12:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81700 invoked from network); 19 Mar 2004 12:51:23 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 19 Mar 2004 12:51:23 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i2JCpPq24159
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 06:51:25 -0600
Message-ID: <405AEC51.3040205@getopt.org>
Date: Fri, 19 Mar 2004 13:49:21 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com>
In-Reply-To: <405ACDD4.2010101@conscius.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dennis Thryse wrote:
> Hi,

> The only alternative I can think of would be to store a whitespace 
> seperated list of all ancestors along with a document:
> 
> /foo /foo/bar /foo/bar/baz
> 
> But this has two drawbacks: Index storage space used, and the cost of 
> indexing (finding all ancestors).
> 
> So my question boils down to: Are there any alternatives to solve this 
> scenario in an efficient way?

What about using PhraseQuery, and store the path with all but first path 
separator replaced by whitespace (i.e. "/foo bar baz one two three"). 
Then you could query for "/foo bar", "/foo bar baz", and so on...

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 12:58:50 2004
Return-Path: <lucene-user-return-7582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80882 invoked from network); 19 Mar 2004 12:58:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 12:58:50 -0000
Received: (qmail 116 invoked by uid 500); 19 Mar 2004 12:58:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99990 invoked by uid 500); 19 Mar 2004 12:58:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99969 invoked from network); 19 Mar 2004 12:58:41 -0000
Received: from unknown (HELO conscius.com) (62.243.211.122)
  by daedalus.apache.org with SMTP; 19 Mar 2004 12:58:41 -0000
Received: from [192.168.5.6] (HELO post.conscius.com)
  by conscius.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 430318 for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 13:58:40 +0100
Received: from conscius.com
	([192.168.5.209])
	by post.conscius.com; Fri, 19 Mar 2004 13:58:36 +0100
Message-ID: <405AEE86.4000404@conscius.com>
Date: Fri, 19 Mar 2004 13:58:46 +0100
From: =?ISO-8859-1?Q?Dennis_Thrys=F8e?= <dth@conscius.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org>
In-Reply-To: <405AEC51.3040205@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> What about using PhraseQuery, and store the path with all but first path 
> separator replaced by whitespace (i.e. "/foo bar baz one two three"). 
> Then you could query for "/foo bar", "/foo bar baz", and so on...

That sounds like a really good suggestion. I'll try that. Thanks.

-dennis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 14:39:26 2004
Return-Path: <lucene-user-return-7583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50860 invoked from network); 19 Mar 2004 14:39:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 14:39:25 -0000
Received: (qmail 5572 invoked by uid 500); 19 Mar 2004 14:39:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5540 invoked by uid 500); 19 Mar 2004 14:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5483 invoked from network); 19 Mar 2004 14:39:08 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 19 Mar 2004 14:39:08 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1B4L9R-0000mu-00
	for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 09:39:09 -0500
Subject: Re: Demoting results
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4059EB24.7030302@apache.org>
References: <1079554377.16890.69.camel@yuff.moxyledge.org>
	 <4059EB24.7030302@apache.org>
Content-Type: text/plain
Message-Id: <1079707146.9255.26.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Fri, 19 Mar 2004 09:39:09 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I asked:
> > Is there any way to build a query where the occurrence of a particular
> > Term (in a Keyword field) causes the rank of the document to be
> > decreased?

On Thu, 2004-03-18 at 13:32, Doug Cutting wrote:
> Have you tried assigning these very small boosts (0 < boost < 1) and 
> assigning other query clauses relatively large boosts (boost > 1)?

Thanks for the suggestion!  Unfortunately it doesn't have the desired
effect.  I wanted 
  title: asparagus
  various fields...
  doctype: bad

to score lower than 
  title: asparagus
  various similar fields...
  doctype: good

I was trying to formulate a query like, say 
  +(title: asparagus) (doctype:bad)^-3

which would make sure the "bad" document was ranked lower than any other
value for doctype.  But negative boosts are illegal. 

I tried your suggestion of putting large boost on the first clause and a
small one (0.01) on the second, but the "bad" document is still ranked 
higher than the good one -- it gets a slight improvement from the
doctype:bad match, times 0.01, which is a very slight improvement but
still positive.  Then it gets a big boost because it has a 1.0 rather
than a 0.5 coordination factor, so the bad item gets top billing.

I think I've identified a few ways to solve the puzzle, though:

(a) enumerate all the possible "good" types of documents and search for
them, rather than the single bad one.  Harder to maintain since doctypes
can be introduced, but possible.

(b) attach boost values less than one to the "bad" Documents at indexing
time.  Not as flexible as modifying the query, but plausible.

(c) a more complex query like this:
 (title:asparagus) OR (title:asparagus -doctype:bad)
 so for good documents both clauses will match and the coordination
factor will be in their favor.  This increases query complexity (they
aren't really simple one-term queries like this toy example), but
hopefully that will not be a performance issue.

Bng





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 15:15:19 2004
Return-Path: <lucene-user-return-7584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67259 invoked from network); 19 Mar 2004 15:15:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 15:15:19 -0000
Received: (qmail 75461 invoked by uid 500); 19 Mar 2004 15:15:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75437 invoked by uid 500); 19 Mar 2004 15:15:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75422 invoked from network); 19 Mar 2004 15:15:08 -0000
Received: from unknown (HELO conscius.com) (62.243.211.122)
  by daedalus.apache.org with SMTP; 19 Mar 2004 15:15:08 -0000
Received: from [192.168.5.6] (HELO post.conscius.com)
  by conscius.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 430465 for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 16:15:10 +0100
Received: from conscius.com
	([192.168.5.209])
	by post.conscius.com; Fri, 19 Mar 2004 16:15:00 +0100
Message-ID: <405B0E7D.4050107@conscius.com>
Date: Fri, 19 Mar 2004 16:15:09 +0100
From: =?ISO-8859-1?Q?Dennis_Thrys=F8e?= <dth@conscius.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org>
In-Reply-To: <405AEC51.3040205@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> What about using PhraseQuery, and store the path with all but first path 
> separator replaced by whitespace (i.e. "/foo bar baz one two three"). 
> Then you could query for "/foo bar", "/foo bar baz", and so on...

Hi,

It doesn't seem to work though - unless I'm missing something.

I've tried to index the field both as Keyword and as UnStored.

I'm constructing a PhraseQuery myself (no query parser used), so I don't 
know if I should add a single or multiple terms to the PhraseQuery.

The following (simplified) debug output gives no hits:

ADDING: Document<org.apache.lucene.document.Field@7bc0ac 
Keyword<name:art> Keyword<uri:/dt art>>

SEARCHING: +(name:art) +uri:"/dt "


-dennis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 15:32:51 2004
Return-Path: <lucene-user-return-7585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76394 invoked from network); 19 Mar 2004 15:32:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 15:32:51 -0000
Received: (qmail 28934 invoked by uid 500); 19 Mar 2004 15:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28896 invoked by uid 500); 19 Mar 2004 15:32:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28839 invoked from network); 19 Mar 2004 15:32:42 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 19 Mar 2004 15:32:42 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i2JFWjU14586
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 09:32:45 -0600
Message-ID: <405B121A.6070706@getopt.org>
Date: Fri, 19 Mar 2004 16:30:34 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org> <405B0E7D.4050107@conscius.com>
In-Reply-To: <405B0E7D.4050107@conscius.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dennis Thryse wrote:

> Andrzej Bialecki wrote:
> 
>> What about using PhraseQuery, and store the path with all but first 
>> path separator replaced by whitespace (i.e. "/foo bar baz one two 
>> three"). Then you could query for "/foo bar", "/foo bar baz", and so 
>> on...
> 
> 
> Hi,
> 
> It doesn't seem to work though - unless I'm missing something.
> 
> I've tried to index the field both as Keyword and as UnStored.
> 
> I'm constructing a PhraseQuery myself (no query parser used), so I don't 
> know if I should add a single or multiple terms to the PhraseQuery.
> 
> The following (simplified) debug output gives no hits:
> 
> ADDING: Document<org.apache.lucene.document.Field@7bc0ac 
> Keyword<name:art> Keyword<uri:/dt art>>
> 
> SEARCHING: +(name:art) +uri:"/dt "

Why the trailing space?

Anyway.. I should've added that for Phrase Queries to work the text must 
be tokenized. So, the best way in this case would be to use 
WhitespaceAnalyzer for the uri field, and store it as Field.Text(...).



-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 15:37:24 2004
Return-Path: <lucene-user-return-7586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79399 invoked from network); 19 Mar 2004 15:37:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 15:37:24 -0000
Received: (qmail 38796 invoked by uid 500); 19 Mar 2004 15:37:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38776 invoked by uid 500); 19 Mar 2004 15:37:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38753 invoked from network); 19 Mar 2004 15:37:14 -0000
Received: from unknown (HELO conscius.com) (62.243.211.122)
  by daedalus.apache.org with SMTP; 19 Mar 2004 15:37:14 -0000
Received: from [192.168.5.6] (HELO post.conscius.com)
  by conscius.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 430491 for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 16:37:15 +0100
Received: from conscius.com
	([192.168.5.209])
	by post.conscius.com; Fri, 19 Mar 2004 16:37:10 +0100
Message-ID: <405B13AF.2030707@conscius.com>
Date: Fri, 19 Mar 2004 16:37:19 +0100
From: =?ISO-8859-1?Q?Dennis_Thrys=F8e?= <dth@conscius.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org> <405B0E7D.4050107@conscius.com> <405B121A.6070706@getopt.org>
In-Reply-To: <405B121A.6070706@getopt.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> Dennis Thryse wrote:
> 
>> Andrzej Bialecki wrote:
>>
>>> What about using PhraseQuery, and store the path with all but first 
>>> path separator replaced by whitespace (i.e. "/foo bar baz one two 
>>> three"). Then you could query for "/foo bar", "/foo bar baz", and so 
>>> on...
>>
>>
>>
>> Hi,
>>
>> It doesn't seem to work though - unless I'm missing something.
>>
>> I've tried to index the field both as Keyword and as UnStored.
>>
>> I'm constructing a PhraseQuery myself (no query parser used), so I 
>> don't know if I should add a single or multiple terms to the PhraseQuery.
>>
>> The following (simplified) debug output gives no hits:
>>
>> ADDING: Document<org.apache.lucene.document.Field@7bc0ac 
>> Keyword<name:art> Keyword<uri:/dt art>>
>>
>> SEARCHING: +(name:art) +uri:"/dt "
> 
> 
> Why the trailing space?

Because in this case the paths to folders actually end with a path 
seperator character. I guess I'll just remove it.

> Anyway.. I should've added that for Phrase Queries to work the text must 
> be tokenized. So, the best way in this case would be to use 
> WhitespaceAnalyzer for the uri field, and store it as Field.Text(...).

Right, thanks. I was just experimenting with that, but the stop analyzer 
seems to remove the leading slash.

I'll try your suggestion.


Thanks,

-dennis

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 15:54:50 2004
Return-Path: <lucene-user-return-7587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90340 invoked from network); 19 Mar 2004 15:54:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 15:54:50 -0000
Received: (qmail 12465 invoked by uid 500); 19 Mar 2004 15:54:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12434 invoked by uid 500); 19 Mar 2004 15:54:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12411 invoked from network); 19 Mar 2004 15:54:37 -0000
Received: from unknown (HELO conscius.com) (62.243.211.122)
  by daedalus.apache.org with SMTP; 19 Mar 2004 15:54:37 -0000
Received: from [192.168.5.6] (HELO post.conscius.com)
  by conscius.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 430509 for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 16:54:38 +0100
Received: from conscius.com
	([192.168.5.209])
	by post.conscius.com; Fri, 19 Mar 2004 16:54:35 +0100
Message-ID: <405B17C4.5000900@conscius.com>
Date: Fri, 19 Mar 2004 16:54:44 +0100
From: =?ISO-8859-1?Q?Dennis_Thrys=F8e?= <dth@conscius.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org> <405B0E7D.4050107@conscius.com> <405B121A.6070706@getopt.org>
In-Reply-To: <405B121A.6070706@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> Anyway.. I should've added that for Phrase Queries to work the text must 
> be tokenized. So, the best way in this case would be to use
> WhitespaceAnalyzer for the uri field, 

I've figured out how to use the WhitespaceAnalyzer for creating the 
PhraseQuery, but I suspect I should use the same analyzer when indexing 
(sot the leading slash isn't removed).

This is a problem though, because I'm using the StopAnalyzer. Have I 
overlooked a way to specify a specific analyzer for a single field when 
indexing?

> and store it as Field.Text(...).

Or UnStored?

-dennis

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:24:31 2004
Return-Path: <lucene-user-return-7588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4222 invoked from network); 19 Mar 2004 16:24:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:24:30 -0000
Received: (qmail 78992 invoked by uid 500); 19 Mar 2004 16:24:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78969 invoked by uid 500); 19 Mar 2004 16:24:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78907 invoked from network); 19 Mar 2004 16:24:18 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:24:18 -0000
Received: (qmail 9025 invoked by uid 0); 19 Mar 2004 16:24:20 -0000
Received: from 193.63.235.44 by www49.gmx.net with HTTP;
	Fri, 19 Mar 2004 17:24:19 +0100 (MET)
Date: Fri, 19 Mar 2004 17:24:19 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <405B17C4.5000900@conscius.com>
Subject: Lucene index - information
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <15251.1079713459@www49.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I create an standard index, what does Lucene store in this index?

What should be stored in an index at least? Just a link to the file and
keywords? Or also wordnumbers? What else?

Does somebody know a paper which discusses this problem of "what to put in
an good universal IR index" ?

Cheers,
Karl

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:51:13 2004
Return-Path: <lucene-user-return-7589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16549 invoked from network); 19 Mar 2004 16:51:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:51:13 -0000
Received: (qmail 17075 invoked by uid 500); 19 Mar 2004 16:51:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17051 invoked by uid 500); 19 Mar 2004 16:51:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17021 invoked from network); 19 Mar 2004 16:51:01 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:51:01 -0000
Message-ID: <20040319165100.70406.qmail@web12704.mail.yahoo.com>
Received: from [195.29.121.93] by web12704.mail.yahoo.com via HTTP; Fri, 19 Mar 2004 08:51:00 PST
Date: Fri, 19 Mar 2004 08:51:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: PrefixQuery and hieracical queries problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <405B17C4.5000900@conscius.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

PerFieldAnalyzerWrapper ?

Otis

--- Dennis_Thryse <dth@conscius.com> wrote:
> Andrzej Bialecki wrote:
> > Anyway.. I should've added that for Phrase Queries to work the text
> must 
> > be tokenized. So, the best way in this case would be to use
> > WhitespaceAnalyzer for the uri field, 
> 
> I've figured out how to use the WhitespaceAnalyzer for creating the 
> PhraseQuery, but I suspect I should use the same analyzer when
> indexing 
> (sot the leading slash isn't removed).
> 
> This is a problem though, because I'm using the StopAnalyzer. Have I 
> overlooked a way to specify a specific analyzer for a single field
> when 
> indexing?
> 
> > and store it as Field.Text(...).
> 
> Or UnStored?
> 
> -dennis
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:52:00 2004
Return-Path: <lucene-user-return-7590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16924 invoked from network); 19 Mar 2004 16:52:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:52:00 -0000
Received: (qmail 21528 invoked by uid 500); 19 Mar 2004 16:51:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21494 invoked by uid 500); 19 Mar 2004 16:51:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21481 invoked from network); 19 Mar 2004 16:51:47 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:51:47 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i2JGppW25997
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 10:51:52 -0600
Message-ID: <405B24A5.9060207@getopt.org>
Date: Fri, 19 Mar 2004 17:49:41 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org> <405B0E7D.4050107@conscius.com> <405B121A.6070706@getopt.org> <405B17C4.5000900@conscius.com>
In-Reply-To: <405B17C4.5000900@conscius.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dennis Thryse wrote:

> Andrzej Bialecki wrote:
> 
>> Anyway.. I should've added that for Phrase Queries to work the text 
>> must be tokenized. So, the best way in this case would be to use
>> WhitespaceAnalyzer for the uri field, 
> 
> 
> I've figured out how to use the WhitespaceAnalyzer for creating the 
> PhraseQuery, but I suspect I should use the same analyzer when indexing 
> (sot the leading slash isn't removed).
> 
> This is a problem though, because I'm using the StopAnalyzer. Have I 
> overlooked a way to specify a specific analyzer for a single field when 
> indexing?

  PerFieldAnalyzerWrapper.

> 
>> and store it as Field.Text(...).
> 
> 
> Or UnStored?

Yes - if you don't need to retrieve it later; because you cannot get 
back the content of an UnStored field, as the name itself suggests.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:52:48 2004
Return-Path: <lucene-user-return-7591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17468 invoked from network); 19 Mar 2004 16:52:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:52:48 -0000
Received: (qmail 23535 invoked by uid 500); 19 Mar 2004 16:52:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23508 invoked by uid 500); 19 Mar 2004 16:52:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23494 invoked from network); 19 Mar 2004 16:52:35 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:52:35 -0000
Message-ID: <20040319165237.70719.qmail@web12704.mail.yahoo.com>
Received: from [195.29.121.93] by web12704.mail.yahoo.com via HTTP; Fri, 19 Mar 2004 08:52:37 PST
Date: Fri, 19 Mar 2004 08:52:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene index - information
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <15251.1079713459@www49.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Uh, there are lots of ways to construct an inverted index.
Citeseer will give you more than you can read on this topic.

As for Lucene, see File Formats section on the site.

Otis

--- Karl Koch <TheRanger@gmx.net> wrote:
> If I create an standard index, what does Lucene store in this index?
> 
> What should be stored in an index at least? Just a link to the file
> and
> keywords? Or also wordnumbers? What else?
> 
> Does somebody know a paper which discusses this problem of "what to
> put in
> an good universal IR index" ?
> 
> Cheers,
> Karl
> 
> -- 
> +++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter
> Virenschutz +++
> 100% Virenerkennung nach Wildlist. Infos:
> http://www.gmx.net/virenschutz
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:55:46 2004
Return-Path: <lucene-user-return-7592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19229 invoked from network); 19 Mar 2004 16:55:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:55:46 -0000
Received: (qmail 33293 invoked by uid 500); 19 Mar 2004 16:55:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33248 invoked by uid 500); 19 Mar 2004 16:55:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33218 invoked from network); 19 Mar 2004 16:55:30 -0000
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:55:30 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc12) with ESMTP
          id <2004031916553301400f4eo9e>; Fri, 19 Mar 2004 16:55:33 +0000
Message-ID: <405B25D2.7030409@apache.org>
Date: Fri, 19 Mar 2004 08:54:42 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
References: <1079554377.16890.69.camel@yuff.moxyledge.org>	 <4059EB24.7030302@apache.org> <1079707146.9255.26.camel@yuff.moxyledge.org>
In-Reply-To: <1079707146.9255.26.camel@yuff.moxyledge.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Boris Goldowsky wrote:
> On Thu, 2004-03-18 at 13:32, Doug Cutting wrote:
>>Have you tried assigning these very small boosts (0 < boost < 1) and 
>>assigning other query clauses relatively large boosts (boost > 1)?
> 
> I was trying to formulate a query like, say 
>   +(title: asparagus) (doctype:bad)^-3
> 
> which would make sure the "bad" document was ranked lower than any other
> value for doctype.  But negative boosts are illegal. 
> 
> I tried your suggestion of putting large boost on the first clause and a
> small one (0.01) on the second, but the "bad" document is still ranked 
> higher than the good one -- it gets a slight improvement from the
> doctype:bad match, times 0.01, which is a very slight improvement but
> still positive.  Then it gets a big boost because it has a 1.0 rather
> than a 0.5 coordination factor, so the bad item gets top billing.

I don't think you understood my proposal.  You should try boosting the 
documents when you add them.  Instead of adding a "doctype" field with 
"good" and "bad" values, use Document.setBoost(0.01) at index time.

Also, you could disable coordination if you like by defining your own 
Similarity class.

> I think I've identified a few ways to solve the puzzle, though:
> 
> (a) enumerate all the possible "good" types of documents and search for
> them, rather than the single bad one.  Harder to maintain since doctypes
> can be introduced, but possible.

That would indeed work better in an additive scoring system like this.

> (b) attach boost values less than one to the "bad" Documents at indexing
> time.  Not as flexible as modifying the query, but plausible.

Yes, that's what I proposed.  You can reset boost values later now too.

> (c) a more complex query like this:
>  (title:asparagus) OR (title:asparagus -doctype:bad)
>  so for good documents both clauses will match and the coordination
> factor will be in their favor.  This increases query complexity (they
> aren't really simple one-term queries like this toy example), but
> hopefully that will not be a performance issue.

I think modifying the coordination function would be better.  Note that, 
in the current CVS codebase, you can modify the Similarity 
implementation on a per-clause basis.  So you could construct a query 
that had negative coordination, i.e., that gives lower scores when more 
clauses match.  This could be done by subclassing BooleanQuery and 
overriding its getSimilarity(Searcher) method.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 16:59:22 2004
Return-Path: <lucene-user-return-7593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21230 invoked from network); 19 Mar 2004 16:59:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 16:59:22 -0000
Received: (qmail 40075 invoked by uid 500); 19 Mar 2004 16:59:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40048 invoked by uid 500); 19 Mar 2004 16:59:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40034 invoked from network); 19 Mar 2004 16:59:10 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 19 Mar 2004 16:59:10 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004031916591301300dqgbqe>; Fri, 19 Mar 2004 16:59:13 +0000
Message-ID: <405B26AF.8020502@apache.org>
Date: Fri, 19 Mar 2004 08:58:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
References: <1079554377.16890.69.camel@yuff.moxyledge.org>	 <4059EB24.7030302@apache.org> <1079707146.9255.26.camel@yuff.moxyledge.org> <405B25D2.7030409@apache.org>
In-Reply-To: <405B25D2.7030409@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
>> On Thu, 2004-03-18 at 13:32, Doug Cutting wrote:
>>
>>> Have you tried assigning these very small boosts (0 < boost < 1) and 
>>> assigning other query clauses relatively large boosts (boost > 1)?
> 
> I don't think you understood my proposal.  You should try boosting the 
> documents when you add them.  Instead of adding a "doctype" field with 
> "good" and "bad" values, use Document.setBoost(0.01) at index time.

Sorry.  My mistake.  You did understand my proposal, it was just a bad 
proposal.  Boosting documents is a better approach, but is less 
flexible.  I think the final proposal in my previous message might be 
the best approach (defining a custom coordination function for these 
query clauses).

Again, sorry for the false accusation,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 17:24:26 2004
Return-Path: <lucene-user-return-7594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35120 invoked from network); 19 Mar 2004 17:24:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 17:24:26 -0000
Received: (qmail 11904 invoked by uid 500); 19 Mar 2004 17:24:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11861 invoked by uid 500); 19 Mar 2004 17:24:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11787 invoked from network); 19 Mar 2004 17:24:10 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 19 Mar 2004 17:24:10 -0000
Received: (qmail 9008 invoked by uid 0); 19 Mar 2004 17:24:12 -0000
Received: from 193.63.235.44 by www6.gmx.net with HTTP;
	Fri, 19 Mar 2004 18:24:13 +0100 (MET)
Date: Fri, 19 Mar 2004 18:24:13 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <20040319165237.70719.qmail@web12704.mail.yahoo.com>
Subject: VSpace Model Index <-> Prob. Model Index - Difference?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <18735.1079717053@www6.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello group,

coming back to the discussion about probabilistic and vector space model
(which occured here some time ago), I would like to ask something related.

I only know the index structure Lucene offers. Does a IR system, based on
the probabilistic model (e.g. Okapi) look different from a VS model? If yes,
why? 

I hope this questions is not too stupid. I am mainly interested because of
some theoretical background...

Karl

> Uh, there are lots of ways to construct an inverted index.
> Citeseer will give you more than you can read on this topic.
> 
> As for Lucene, see File Formats section on the site.
> 
> Otis
> 
> --- Karl Koch <TheRanger@gmx.net> wrote:
> > If I create an standard index, what does Lucene store in this index?
> > 
> > What should be stored in an index at least? Just a link to the file
> > and
> > keywords? Or also wordnumbers? What else?
> > 
> > Does somebody know a paper which discusses this problem of "what to
> > put in
> > an good universal IR index" ?
> > 
> > Cheers,
> > Karl
> > 
> > -- 
> > +++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter
> > Virenschutz +++
> > 100% Virenerkennung nach Wildlist. Infos:
> > http://www.gmx.net/virenschutz
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 19 21:22:50 2004
Return-Path: <lucene-user-return-7595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48242 invoked from network); 19 Mar 2004 21:22:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Mar 2004 21:22:50 -0000
Received: (qmail 95948 invoked by uid 500); 19 Mar 2004 21:22:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95920 invoked by uid 500); 19 Mar 2004 21:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95906 invoked from network); 19 Mar 2004 21:22:33 -0000
Received: from unknown (HELO mta.micromuse.com) (194.131.185.92)
  by daedalus.apache.org with SMTP; 19 Mar 2004 21:22:33 -0000
Received: from tropo.com ([10.0.0.157])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id i2JLMVH03646
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 21:22:37 GMT
Message-ID: <405B6496.5030900@tropo.com>
Date: Fri, 19 Mar 2004 13:22:30 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene index - information
References: <405B17C4.5000900@conscius.com> <15251.1079713459@www49.gmx.net>
In-Reply-To: <15251.1079713459@www49.gmx.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

> If I create an standard index, what does Lucene store in this index?
> 
> What should be stored in an index at least? Just a link to the file and
> keywords? Or also wordnumbers? What else?
> 
> Does somebody know a paper which discusses this problem of "what to put in
> an good universal IR index" ?


Well if you want a textbook I found "Managing Gigabytes" to have 
excellent coverage of the internals and messy details of search/indexes.

http://www.amazon.com/exec/obidos/ASIN/1558605703/tropoA
http://www.cs.mu.oz.au/mg/



> 
> Cheers,
> Karl
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 20 01:00:59 2004
Return-Path: <lucene-user-return-7596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18592 invoked from network); 20 Mar 2004 01:00:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Mar 2004 01:00:59 -0000
Received: (qmail 75307 invoked by uid 500); 20 Mar 2004 01:00:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75051 invoked by uid 500); 20 Mar 2004 01:00:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75032 invoked from network); 20 Mar 2004 01:00:38 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 20 Mar 2004 01:00:38 -0000
Received: from h-66-167-144-221.mclnva23.dynamic.covad.net ([66.167.144.221] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B4Ur0-0001TX-00
	for lucene-user@jakarta.apache.org; Fri, 19 Mar 2004 20:00:46 -0500
Message-ID: <13f101c40e17$1bf3b690$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: SpanXXQuery Usage
Date: Fri, 19 Mar 2004 20:03:08 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_13EE_01C40DED.32E3B2D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_13EE_01C40DED.32E3B2D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Is there any documentation (other than that in the source) on how to use =
the new SpanxxQuery features?  Specifically: SpanNearQuery, =
SpanNotQuery, SpanFirstQuery and SpanOrQuery? =20

Regards,

Terry

------=_NextPart_000_13EE_01C40DED.32E3B2D0--


From lucene-user-return-7597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 20 02:58:59 2004
Return-Path: <lucene-user-return-7597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56689 invoked from network); 20 Mar 2004 02:58:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Mar 2004 02:58:59 -0000
Received: (qmail 72845 invoked by uid 500); 20 Mar 2004 02:58:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72669 invoked by uid 500); 20 Mar 2004 02:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72656 invoked from network); 20 Mar 2004 02:58:35 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 20 Mar 2004 02:58:35 -0000
Received: from ctx.com.au (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.10/8.12.10) with ESMTP id i2K2wilR025280
	for <lucene-user@jakarta.apache.org>; Fri, 19 Mar 2004 20:58:44 -0600
Message-ID: <405BB3A5.6010306@ctx.com.au>
Date: Sat, 20 Mar 2004 13:59:49 +1100
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PrefixQuery and hieracical queries problem
References: <405ACDD4.2010101@conscius.com> <405AEC51.3040205@getopt.org> <405AEE86.4000404@conscius.com>
In-Reply-To: <405AEE86.4000404@conscius.com>
Content-Type: multipart/mixed;
 boundary="------------030909000302010104080601"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------030909000302010104080601
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Dennis,

I've attached some sample code that works well for my needs. You should
find it scales very well, even when you search for a "parentpath" near
the root.

The output I get from running this program is:

query:  name:rt.jar
   D:\opt\j2sdk1.4.2\jre\lib\rt.jar

query:  name:LICENSE
   D:\opt\j2sdk1.4.2\jre\LICENSE
   D:\opt\j2sdk1.4.2\LICENSE

query:  fullpath:"D:\opt\j2sdk1.4.2\LICENSE"
   D:\opt\j2sdk1.4.2\LICENSE

query:  parentpath:"D:\opt\j2sdk1.4.2\include"
   D:\opt\j2sdk1.4.2\include\jawt.h
   D:\opt\j2sdk1.4.2\include\jni.h
   D:\opt\j2sdk1.4.2\include\jvmdi.h
   D:\opt\j2sdk1.4.2\include\jvmpi.h
   D:\opt\j2sdk1.4.2\include\win32\jawt_md.h
   D:\opt\j2sdk1.4.2\include\win32\jni_md.h



=Matt



Dennis Thryse wrote:
> Andrzej Bialecki wrote:
> 
>> What about using PhraseQuery, and store the path with all but first 
>> path separator replaced by whitespace (i.e. "/foo bar baz one two 
>> three"). Then you could query for "/foo bar", "/foo bar baz", and so 
>> on...
> 
> 
> That sounds like a really good suggestion. I'll try that. Thanks.
> 
> -dennis
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 




--------------030909000302010104080601
Content-Type: text/plain;
 name="HieracicalTreeExample.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="HieracicalTreeExample.java"


import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.Hits;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.queryParser.ParseException;

import java.io.File;
import java.io.IOException;

/**
 * This code is in the public domain
 *
 * @author Matt Quail (http://madbean.com/)
 */
public class HieracicalTreeExample {
    private static final Analyzer ANALYZER = new WhitespaceAnalyzer();
    private static final File sIndexDir = new File("d:/tmp/store");

    public static void main(String[] args) throws Exception {
        File treeRoot = new File("D:\\opt\\j2sdk1.4.2");
        indexTree(treeRoot);
        IndexReader reader = IndexReader.open(sIndexDir);
        IndexSearcher searcher = new IndexSearcher(reader);

        doSearch(searcher, "name:rt.jar");
        doSearch(searcher, "name:LICENSE");
        doSearch(searcher, "fullpath:\"D:\\opt\\j2sdk1.4.2\\LICENSE\"");
        doSearch(searcher, "parentpath:\"D:\\opt\\j2sdk1.4.2\\include\"");

        searcher.close();
    }

    private static void doSearch(IndexSearcher searcher, String query) throws ParseException, IOException {
        System.out.println();
        System.out.println("query:  " + query);
        Query q = QueryParser.parse(query, "name", ANALYZER);
        Hits hits = searcher.search(q);
        for (int i = 0; i < hits.length(); i++) {
            Document doc = hits.doc(i);
            System.out.println(" " + doc.get("fullpath"));
        }
    }

    private static void indexTree(File treeRoot) throws IOException {
        IndexWriter w = new IndexWriter(sIndexDir, ANALYZER, true);
        indexDir(w, treeRoot);
        w.close();
    }

    private static void indexDir(IndexWriter w, File dir) throws IOException {
        File[] children = dir.listFiles();
        for (int i = 0; i < children.length; i++) {
            File child = children[i];
            if (child.isDirectory()) {
                indexDir(w, child);
            } else if (child.isFile()) {
                indexFile(w, child);
            }
        }
    }

    private static void indexFile(IndexWriter w, File file) throws IOException {
//        System.out.println("indexing " + file);
        Document doc = new Document();
        doc.add(Field.Keyword("name", file.getName()));
        doc.add(Field.Keyword("fullpath", file.getPath()));
        File parent = file.getParentFile();
        while (parent != null) {
            doc.add(new Field("parentpath", parent.getPath(), false, true, false));
            parent = parent.getParentFile();
        }
        w.addDocument(doc);
    }
}



--------------030909000302010104080601
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------030909000302010104080601--

From lucene-user-return-7598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 20 23:25:10 2004
Return-Path: <lucene-user-return-7598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80312 invoked from network); 20 Mar 2004 23:25:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Mar 2004 23:25:09 -0000
Received: (qmail 55894 invoked by uid 500); 20 Mar 2004 23:24:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55853 invoked by uid 500); 20 Mar 2004 23:24:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55839 invoked from network); 20 Mar 2004 23:24:50 -0000
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by daedalus.apache.org with SMTP; 20 Mar 2004 23:24:50 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i2KNOtmt051368
	for <lucene-user@jakarta.apache.org>; Sun, 21 Mar 2004 00:24:56 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: VSpace Model Index <-> Prob. Model Index - Difference?
Date: Sun, 21 Mar 2004 00:24:55 +0100
User-Agent: KMail/1.5.4
References: <20040319165237.70719.qmail@web12704.mail.yahoo.com> <18735.1079717053@www6.gmx.net>
In-Reply-To: <18735.1079717053@www6.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200403210024.55414.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl,

On Friday 19 March 2004 18:24, Karl Koch wrote:
> Hello group,
>
> coming back to the discussion about probabilistic and vector space model
> (which occured here some time ago), I would like to ask something related.
>
> I only know the index structure Lucene offers. Does a IR system, based on
> the probabilistic model (e.g. Okapi) look different from a VS model? If
> yes, why?
>
> I hope this questions is not too stupid. I am mainly interested because of
> some theoretical background...
>
> Karl

First off: I don't know about the fine points between probabilistic and VS 
models.

Sometime ago I made a quick comparison between
the default scoring method of lucene and the okapi model.
Of the top of my head I remember this (it is
not complete):

Similarities:
- both do term weighting by inverse document frequency,
- both normalize for document length, effectively using term density.
- both have a saturation for this term density.
Differences:
Okapi can also use the document length in by itself.
Lucene has a factor (coord) for the overlap between a query and a document
(ie. the number of matching query terms present in a document).
The term density saturation functions are different, too:
Lucene uses square root, okapi uses an (increasing) reciprocal, however
in practice the limit if the reciprocal is far from reached.

When the overlap is ignored, from a practical view point, I would
be surprised if the two methods would order a given set of
docs much different for the same query.
I'd expect most differences in the 'middle' due to the differences
in the form (2nd derivative) of the saturation functions.

Coming back to your question:

> I only know the index structure Lucene offers. Does a IR system, based on
> the probabilistic model (e.g. Okapi) look different from a VS model? If
> yes, why?

My guess is that, in practice (ie. in the orderings of documents for queries),
the two systems are much more similar than different.

> I hope this questions is not too stupid. I am mainly interested because of
> some theoretical background...

Do you intend to do a theoretical comparison of the scoring
functions of Lucene and Okapi? AFAIK this has not been investigated.

Kind regards,
Ype Kingma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 21 11:59:11 2004
Return-Path: <lucene-user-return-7599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75643 invoked from network); 21 Mar 2004 11:59:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Mar 2004 11:59:11 -0000
Received: (qmail 3881 invoked by uid 500); 21 Mar 2004 11:59:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3857 invoked by uid 500); 21 Mar 2004 11:59:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3844 invoked from network); 21 Mar 2004 11:59:04 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 21 Mar 2004 11:59:04 -0000
Received: from h-68-166-69-213.mclnva23.dynamic.covad.net ([68.166.69.213] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B51bc-00018C-00
	for lucene-user@jakarta.apache.org; Sun, 21 Mar 2004 06:59:04 -0500
Message-ID: <156401c40f3c$3f302230$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Final Hits
Date: Sun, 21 Mar 2004 07:01:29 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_1561_01C40F12.56048020"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_1561_01C40F12.56048020
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Does anyone know why the Hits class is final (thus preventing it from =
being subclassed)?=20

Regards,

Terry

------=_NextPart_000_1561_01C40F12.56048020--


From lucene-user-return-7600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 07:43:18 2004
Return-Path: <lucene-user-return-7600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83994 invoked from network); 22 Mar 2004 07:43:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 07:43:18 -0000
Received: (qmail 13856 invoked by uid 500); 22 Mar 2004 07:42:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13820 invoked by uid 500); 22 Mar 2004 07:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13757 invoked from network); 22 Mar 2004 07:42:29 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 22 Mar 2004 07:42:29 -0000
Message-ID: <20040322074242.77633.qmail@web12708.mail.yahoo.com>
Received: from [194.152.224.7] by web12708.mail.yahoo.com via HTTP; Sun, 21 Mar 2004 23:42:42 PST
Date: Sun, 21 Mar 2004 23:42:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene XML example
To: lucene-user@jakarta.apache.org
Cc: hgadm@cswebmail.com
In-Reply-To: <20040320034920.15567.h013.c014.wm@mail.cswebmail.com.criticalpath.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

See http://www-106.ibm.com/developerworks/library/j-lucene/ for the
working code.

Otis

--- hgadm@cswebmail.com wrote:
> Dear all,
> 
> I downloaded an example from Philip Ogren (quite old,
> think it was 2001) and compiled the XML indexing demo -
> OK.
> 
> Run - OK, no errors, did return
> 
> Index Path = sampleindex
> XML File = sample.xml
> XSL File = sample.xsl
> 
> to the command window.
> 
> But a look into \sampleindex did not show anything apart
> the 16 byte 'segments' file ???
> 
> Any ideas what went wrong ? 
> Any help is greatly appreciated !
> 
> I tried to reach Philip at his old email but this is no
> longer active.
> 
> *** Are there stable sourceforge projects that
> implement XML indexing with Lucene ? ***
> 
> Thanks and best regards,
> 
> Holger Adelmann
> 
> ___________________________________________________
> The ALL NEW CS2000 from CompuServe
>  Better!  Faster! More Powerful!
>  250 FREE hours! Sign-on Now!
>  http://www.compuserve.com/trycsrv/cs2000/webmail/
> 
> ------- End of forwarded message -------
> 
> ___________________________________________________
> The ALL NEW CS2000 from CompuServe
>  Better!  Faster! More Powerful!
>  250 FREE hours! Sign-on Now!
>  http://www.compuserve.com/trycsrv/cs2000/webmail/
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 07:46:28 2004
Return-Path: <lucene-user-return-7601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85091 invoked from network); 22 Mar 2004 07:46:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 07:46:28 -0000
Received: (qmail 22349 invoked by uid 500); 22 Mar 2004 07:46:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22155 invoked by uid 500); 22 Mar 2004 07:46:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22142 invoked from network); 22 Mar 2004 07:46:00 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 22 Mar 2004 07:46:00 -0000
Message-ID: <20040322074612.78685.qmail@web12708.mail.yahoo.com>
Received: from [194.152.224.7] by web12708.mail.yahoo.com via HTTP; Sun, 21 Mar 2004 23:46:12 PST
Date: Sun, 21 Mar 2004 23:46:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: SpanXXQuery Usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <13f101c40e17$1bf3b690$6501a8c0@POWERPACK>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Only in unit tests, so far.

Otis

--- Terry Steichen <terry@net-frame.com> wrote:
> Is there any documentation (other than that in the source) on how to
> use the new SpanxxQuery features?  Specifically: SpanNearQuery,
> SpanNotQuery, SpanFirstQuery and SpanOrQuery?  
> 
> Regards,
> 
> Terry
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 11:34:40 2004
Return-Path: <lucene-user-return-7602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26272 invoked from network); 22 Mar 2004 11:34:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 11:34:40 -0000
Received: (qmail 53127 invoked by uid 500); 22 Mar 2004 11:34:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53078 invoked by uid 500); 22 Mar 2004 11:34:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53017 invoked from network); 22 Mar 2004 11:34:30 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 22 Mar 2004 11:34:30 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B5NhO-0002PI-00
	for lucene-user@jakarta.apache.org; Mon, 22 Mar 2004 06:34:30 -0500
Message-ID: <167601c41001$fc4c5850$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040322074612.78685.qmail@web12708.mail.yahoo.com>
Subject: Re: SpanXXQuery Usage
Date: Mon, 22 Mar 2004 06:36:58 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,

Can you give me/us a rough idea of what these are supposed to do?  It's hard
to extrapolate the terse unit test code into much of a general notion.  I
searched the archives with little success.

Regards,

Terry

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, March 22, 2004 2:46 AM
Subject: Re: SpanXXQuery Usage


> Only in unit tests, so far.
>
> Otis
>
> --- Terry Steichen <terry@net-frame.com> wrote:
> > Is there any documentation (other than that in the source) on how to
> > use the new SpanxxQuery features?  Specifically: SpanNearQuery,
> > SpanNotQuery, SpanFirstQuery and SpanOrQuery?
> >
> > Regards,
> >
> > Terry
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 11:46:36 2004
Return-Path: <lucene-user-return-7603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35366 invoked from network); 22 Mar 2004 11:46:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 11:46:35 -0000
Received: (qmail 67991 invoked by uid 500); 22 Mar 2004 11:46:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67965 invoked by uid 500); 22 Mar 2004 11:46:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67922 invoked from network); 22 Mar 2004 11:46:28 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 22 Mar 2004 11:46:28 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2MCVh4J015647
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 18:16:44 +0545
Message-ID: <005b01c41003$4f54f290$1e646464@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040322074612.78685.qmail@web12708.mail.yahoo.com> <167601c41001$fc4c5850$6501a8c0@POWERPACK>
Subject: Indexing japanese PDF documents
Date: Mon, 22 Mar 2004 17:31:27 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using latest PDFbox library for parsing . I can parse a english
documents successfully but when I parse a document containing english and
japanese I do not get as I expected .

Have anyone tried using PDFBox library for parsing a japanese documents ? Or
do i need to use other parser like xPDF ,Jpedal ?

Thanks in advace
Chandan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 11:58:38 2004
Return-Path: <lucene-user-return-7604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48580 invoked from network); 22 Mar 2004 11:58:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 11:58:38 -0000
Received: (qmail 99995 invoked by uid 500); 22 Mar 2004 11:58:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99339 invoked by uid 500); 22 Mar 2004 11:58:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99322 invoked from network); 22 Mar 2004 11:58:20 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 22 Mar 2004 11:58:20 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2MChV4J015839;
	Mon, 22 Mar 2004 18:28:37 +0545
Message-ID: <007801c41004$f6126210$1e646464@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <ssmith@mainstreamdata.com>
References: <A60AC49BA89F4F4D9D86F2B7519111E83C09B3@dilbert.mainstreamdata.com>
Subject: Re: CJK Analyzer indexing japanese word document
Date: Mon, 22 Mar 2004 17:43:14 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi scott,
 Tnks for ur advise now i am using POI to convert word documents and made
sure that i convert into unicode before I put into lucene for indexing .
and working perfectly fine. Which parser is best for parsing PDF documents i
tried pdfbox but seems it doesnt work well with japanese characters
any suggestion ?

thnks
----- Original Message -----
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 17, 2004 4:27 AM
Subject: RE: CJK Analyzer indexing japanese word document


> I have used this analyzer with Japanese and it works fine.  In fact, I'm
> currently doing English, several western European languages, traditional
> and simplified Chinese and Japanese.  I throw them all in the same index
> and have had no problem other than my users wanted the search limited by
> language.  I solved that problem by simply adding a keyword field to the
> Document which has the 2-letter language code.  I then automatically add
> the term indicating the language as an additional constraint when the
> user specifies the search.
>
> You do need to be sure that the Shift-JIS gets converted to unicode
> before you put it in the Document (and pass it to the analyzer).
> Internally, I believe lucene wants everything in unicode (as any good
> java program would). Originally, I had problems with Asian languages and
> eventually determined my xml parser wasn't translating my Shift-JIS,
> Big5, etc. to unicode.  Once I fixed that, life was good.
>
> -----Original Message-----
> From: Che Dong [mailto:chedong@hotmail.com]
> Sent: Tuesday, March 16, 2004 8:31 AM
> To: Lucene Users List
> Subject: Re: CJK Analyzer indexing japanese word document
>
> some Korean friends tell me they use it successfully for Korean. So I
> think its also work for Japanese. mostly the problem is locale settings
>
> Please check weblucene project for xml indexing samples:
> http://sourceforge.net/projects/weblucene/
>
> Che Dong
> ----- Original Message -----
> From: "Chandan Tamrakar" <chandan@ccnep.com.np>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, March 16, 2004 4:31 PM
> Subject: CJK Analyzer indexing japanese word document
>
>
> >
> > I am using a CJKAnalyzer from apache sandbox , I have set the java
> > file.encoding setting to SJIS
> > and  i am able to index and search the japanese html page . I can see
> the
> > index dumps as i expected , However when i index a word document
> containing
> > japanese characters it is not indexing as expected . Do I need to
> change
> > anything with CJKTokenizer and CJKAnalyzer classes?
> > I have been able to index a word document with StandardAnalyzers.
> >
> > thanks in advace
> > chandan
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 12:06:54 2004
Return-Path: <lucene-user-return-7605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53668 invoked from network); 22 Mar 2004 12:06:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 12:06:54 -0000
Received: (qmail 18112 invoked by uid 500); 22 Mar 2004 12:06:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18019 invoked by uid 500); 22 Mar 2004 12:06:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18006 invoked from network); 22 Mar 2004 12:06:47 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 22 Mar 2004 12:06:47 -0000
Received: (cpmta 19196 invoked from network); 22 Mar 2004 04:06:47 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 22 Mar 2004 04:06:47 -0800
X-Sent: 22 Mar 2004 12:06:47 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <156401c40f3c$3f302230$6501a8c0@POWERPACK>
References: <156401c40f3c$3f302230$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <680AE466-7BF9-11D8-8D11-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Final Hits
Date: Mon, 22 Mar 2004 06:06:53 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How exactly would you take advantage of a subclassable Hits class?


On Mar 21, 2004, at 6:01 AM, Terry Steichen wrote:

> Does anyone know why the Hits class is final (thus preventing it from 
> being subclassed)?
>
> Regards,
>
> Terry


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 12:31:32 2004
Return-Path: <lucene-user-return-7606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64361 invoked from network); 22 Mar 2004 12:31:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 12:31:32 -0000
Received: (qmail 56501 invoked by uid 500); 22 Mar 2004 12:31:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56306 invoked by uid 500); 22 Mar 2004 12:31:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56282 invoked from network); 22 Mar 2004 12:31:24 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 22 Mar 2004 12:31:24 -0000
Message-ID: <20040322123125.54318.qmail@web12702.mail.yahoo.com>
Received: from [194.152.226.224] by web12702.mail.yahoo.com via HTTP; Mon, 22 Mar 2004 04:31:25 PST
Date: Mon, 22 Mar 2004 04:31:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing japanese PDF documents
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: ben@csh.rit.edu
In-Reply-To: <005b01c41003$4f54f290$1e646464@chandan>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have not tried these other tools yet.
Have you asked Ben Litchfield, the PDFBox author, about handling of
Japanese text?

Otis

--- Chandan Tamrakar <chandan@ccnep.com.np> wrote:
> I am using latest PDFbox library for parsing . I can parse a english
> documents successfully but when I parse a document containing english
> and
> japanese I do not get as I expected .
> 
> Have anyone tried using PDFBox library for parsing a japanese
> documents ? Or
> do i need to use other parser like xPDF ,Jpedal ?
> 
> Thanks in advace
> Chandan
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 13:09:07 2004
Return-Path: <lucene-user-return-7607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81532 invoked from network); 22 Mar 2004 13:09:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 13:09:07 -0000
Received: (qmail 9191 invoked by uid 500); 22 Mar 2004 13:09:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8996 invoked by uid 500); 22 Mar 2004 13:08:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8982 invoked from network); 22 Mar 2004 13:08:59 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 22 Mar 2004 13:08:59 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id A2352899
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 08:08:59 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 600EE144E; Mon, 22 Mar 2004 08:08:59 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 3A5C713A8
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 08:08:59 -0500 (EST)
Date: Mon, 22 Mar 2004 08:08:59 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing japanese PDF documents
In-Reply-To: <20040322123125.54318.qmail@web12702.mail.yahoo.com>
Message-ID: <Pine.GSO.4.53.0403220807310.1827@fury.csh.rit.edu>
References: <20040322123125.54318.qmail@web12702.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Yes he did, but I was away the past couple days.  As this is more of a
PDFBox issue I responded in the PDFBox forums, please follow the thread
there if you are interested.

Ben



On Mon, 22 Mar 2004, Otis Gospodnetic wrote:

> I have not tried these other tools yet.
> Have you asked Ben Litchfield, the PDFBox author, about handling of
> Japanese text?
>
> Otis
>
> --- Chandan Tamrakar <chandan@ccnep.com.np> wrote:
> > I am using latest PDFbox library for parsing . I can parse a english
> > documents successfully but when I parse a document containing english
> > and
> > japanese I do not get as I expected .
> >
> > Have anyone tried using PDFBox library for parsing a japanese
> > documents ? Or
> > do i need to use other parser like xPDF ,Jpedal ?
> >
> > Thanks in advace
> > Chandan
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 13:26:23 2004
Return-Path: <lucene-user-return-7608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93170 invoked from network); 22 Mar 2004 13:26:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 13:26:23 -0000
Received: (qmail 46604 invoked by uid 500); 22 Mar 2004 13:26:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46393 invoked by uid 500); 22 Mar 2004 13:26:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46379 invoked from network); 22 Mar 2004 13:26:15 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 22 Mar 2004 13:26:15 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1B5PRY-0001IH-00
	for lucene-user@jakarta.apache.org; Mon, 22 Mar 2004 08:26:16 -0500
Subject: Re: Demoting results
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <405B26AF.8020502@apache.org>
References: <1079554377.16890.69.camel@yuff.moxyledge.org>
	 <4059EB24.7030302@apache.org> <1079707146.9255.26.camel@yuff.moxyledge.org>
	 <405B25D2.7030409@apache.org> <405B26AF.8020502@apache.org>
Content-Type: text/plain
Message-Id: <1079961975.26763.6.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Mon, 22 Mar 2004 08:26:15 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2004-03-19 at 11:58, Doug Cutting wrote:
> Doug Cutting wrote:
> >> On Thu, 2004-03-18 at 13:32, Doug Cutting wrote:
> >>
> >>> Have you tried assigning these very small boosts (0 < boost < 1) and 
> >>> assigning other query clauses relatively large boosts (boost > 1)?
> > 
> > I don't think you understood my proposal.  You should try boosting the 
> > documents when you add them.  Instead of adding a "doctype" field with 
> > "good" and "bad" values, use Document.setBoost(0.01) at index time.
> 
> Sorry.  My mistake.  You did understand my proposal, it was just a bad 
> proposal.  Boosting documents is a better approach, but is less 
> flexible.  I think the final proposal in my previous message might be 
> the best approach (defining a custom coordination function for these 
> query clauses).

Thanks for the ideas - I love the flexibility of Lucene that there are
so many ways to accomplish what at first seemed so difficult.

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 13:33:54 2004
Return-Path: <lucene-user-return-7609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97228 invoked from network); 22 Mar 2004 13:33:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 13:33:54 -0000
Received: (qmail 61195 invoked by uid 500); 22 Mar 2004 13:33:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61170 invoked by uid 500); 22 Mar 2004 13:33:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61113 invoked from network); 22 Mar 2004 13:33:44 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 22 Mar 2004 13:33:44 -0000
Message-ID: <20040322133345.72679.qmail@web12706.mail.yahoo.com>
Received: from [194.152.226.224] by web12706.mail.yahoo.com via HTTP; Mon, 22 Mar 2004 05:33:45 PST
Date: Mon, 22 Mar 2004 05:33:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Specifation of the Key words to be searched
To: lucene-user@jakarta.apache.org
Cc: ajitender@aalayance.com
In-Reply-To: <00ff01c41011$00ff8250$8d01a8c0@india.aalayance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Re-directing to lucene-user list.

One way of doing this is by writing a custom Analyzer that throws away
words you don't want to index (see an example of custom Analyzer in
jGuru FAQ).  Another way would be to just re-use the existing Analyzers
and add words you don't want indexed to the Analyzer's stop list.

Otis


--- jitender ahuja <ajitender@aalayance.com> wrote:
> Sir,
>        I am implementing lucene for a database as part of my masters'
> project. I desire to reduce the index directory size by specifying
> the key words to be indexed for the "Text" field specified as Reader
> type. This Key words' specification, if possible, will further reduce
> the Index directory size, but am unable to figure out how to do the
> same. 
> Kindly specify the means to achieve the same.
> 
> Regards,
> Jitender


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 13:54:18 2004
Return-Path: <lucene-user-return-7610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10604 invoked from network); 22 Mar 2004 13:54:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 13:54:18 -0000
Received: (qmail 2417 invoked by uid 500); 22 Mar 2004 13:54:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2385 invoked by uid 500); 22 Mar 2004 13:54:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2372 invoked from network); 22 Mar 2004 13:54:09 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 22 Mar 2004 13:54:09 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B5PsY-0005Aa-00
	for lucene-user@jakarta.apache.org; Mon, 22 Mar 2004 08:54:10 -0500
Message-ID: <16c201c41015$7f9efce0$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <156401c40f3c$3f302230$6501a8c0@POWERPACK> <680AE466-7BF9-11D8-8D11-000393A564E6@ehatchersolutions.com>
Subject: Re: Final Hits
Date: Mon, 22 Mar 2004 08:56:38 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

There are a number of different possibilities which I'm still evaluating.
But if there is some significant reason for *not* subclassing Hits
(performance?), that will have a major bearing on whether the approach I'm
evaluating makes sense.

So, let me rephrase my question: Is the "final" nature of Hits due to some
performance reason, or simply because no one has previously expressed any
interest in subclassing it?  Or, putting it in reverse, is there any
technical problem likely to arise from removing the "final" attribute(s)?

Regards,

Terry

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, March 22, 2004 7:06 AM
Subject: Re: Final Hits


> How exactly would you take advantage of a subclassable Hits class?
>
>
> On Mar 21, 2004, at 6:01 AM, Terry Steichen wrote:
>
> > Does anyone know why the Hits class is final (thus preventing it from
> > being subclassed)?
> >
> > Regards,
> >
> > Terry
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 15:31:30 2004
Return-Path: <lucene-user-return-7611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75400 invoked from network); 22 Mar 2004 15:31:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 15:31:29 -0000
Received: (qmail 67371 invoked by uid 500); 22 Mar 2004 15:31:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67346 invoked by uid 500); 22 Mar 2004 15:31:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67332 invoked from network); 22 Mar 2004 15:31:18 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 22 Mar 2004 15:31:18 -0000
Received: (cpmta 3848 invoked from network); 22 Mar 2004 07:31:20 -0800
Received: from 128.143.171.136 (HELO ?128.143.171.136?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 22 Mar 2004 07:31:20 -0800
X-Sent: 22 Mar 2004 15:31:20 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <16c201c41015$7f9efce0$6501a8c0@POWERPACK>
References: <156401c40f3c$3f302230$6501a8c0@POWERPACK> <680AE466-7BF9-11D8-8D11-000393A564E6@ehatchersolutions.com> <16c201c41015$7f9efce0$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F9428354-7C15-11D8-9871-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Final Hits
Date: Mon, 22 Mar 2004 09:31:22 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry,

I'm still quite curious how you plan to take advantage of a 
subclassable Hits.  Are you going to create your own IndexSearcher with 
returns your subclass somehow?

You could use a HitCollector (which is what is used under the covers of 
the Hits returning methods anyway) to emulate whatever it is you're 
trying to do, I suspect.

As for 'final'.... Doug did a great thing by designing Lucene tight and 
controlled with private/package scoped access and final modifiers in 
lots of places.  There is no technical issue with removing the final, 
but we would need to see a pretty compelling detailed reason to do so.

	Erik


On Mar 22, 2004, at 7:56 AM, Terry Steichen wrote:

> Erik,
>
> There are a number of different possibilities which I'm still 
> evaluating.
> But if there is some significant reason for *not* subclassing Hits
> (performance?), that will have a major bearing on whether the approach 
> I'm
> evaluating makes sense.
>
> So, let me rephrase my question: Is the "final" nature of Hits due to 
> some
> performance reason, or simply because no one has previously expressed 
> any
> interest in subclassing it?  Or, putting it in reverse, is there any
> technical problem likely to arise from removing the "final" 
> attribute(s)?
>
> Regards,
>
> Terry
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, March 22, 2004 7:06 AM
> Subject: Re: Final Hits
>
>
>> How exactly would you take advantage of a subclassable Hits class?
>>
>>
>> On Mar 21, 2004, at 6:01 AM, Terry Steichen wrote:
>>
>>> Does anyone know why the Hits class is final (thus preventing it from
>>> being subclassed)?
>>>
>>> Regards,
>>>
>>> Terry
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 20:02:49 2004
Return-Path: <lucene-user-return-7612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27879 invoked from network); 22 Mar 2004 20:02:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 20:02:48 -0000
Received: (qmail 64804 invoked by uid 500); 22 Mar 2004 20:02:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64781 invoked by uid 500); 22 Mar 2004 20:02:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64745 invoked from network); 22 Mar 2004 20:02:31 -0000
Received: from unknown (HELO mail.porkfriedrice.net) (24.147.21.219)
  by daedalus.apache.org with SMTP; 22 Mar 2004 20:02:31 -0000
Received: from porkfriedrice.net (h00095b237fdb.ne.client2.attbi.com [24.218.230.104])
	by mail.porkfriedrice.net (8.12.9/8.12.9) with ESMTP id i2MJ78vq023456
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 14:07:09 -0500 (EST)
Message-ID: <405F466A.9040800@porkfriedrice.net>
Date: Mon, 22 Mar 2004 15:02:50 -0500
From: Dan <danl001@porkfriedrice.net>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: code works with 1.3-rc1 but not with 1.3-final??
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have some code that creates a lucene index. It has been working fine 
with lucene-1.3-rc1.jar but I wanted to upgrade to lucene-1.3-final.jar. 
I did this and the indexer breaks. I get the following error when 
running the index with 1.3-final:

Optimizing the index
IOException: /home/danl001/index-Mar-22-14_31_30/_ni.f43 (Too many open 
files)
Indexed 884 files in 8 directories
Index creation took 242 seconds
%

So it appears the the code that uses 1.3-final breaks on the call to 
optimize(). Does anyone know what is wrong?

Again, the ONLY change between the working version and the version that 
breaks on optimize is the jar file I use. lucene-1.3-rc1.jar works. 
lucene-1.3-final.jar doesnt. Wierd huh?

I've tested this on both Unix (solaris) and on windows. In both cases, 
I'm using jdk 1.4.2_03.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 22 22:56:37 2004
Return-Path: <lucene-user-return-7613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21166 invoked from network); 22 Mar 2004 22:56:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Mar 2004 22:56:37 -0000
Received: (qmail 38407 invoked by uid 500); 22 Mar 2004 22:55:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38357 invoked by uid 500); 22 Mar 2004 22:55:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38302 invoked from network); 22 Mar 2004 22:55:58 -0000
Received: from unknown (HELO tango.casebank.com) (209.167.138.140)
  by daedalus.apache.org with SMTP; 22 Mar 2004 22:55:58 -0000
Received: from aatamer ([172.17.232.22]) by tango.casebank.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 22 Mar 2004 17:55:57 -0500
From: "Allen Atamer" <aatamer@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: termPosition does not iterate properly in Lucene 1.3 rc1
Date: Mon, 22 Mar 2004 18:02:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcQQSJ2K6Xn+M1CMQxWgOQnsnnycYwAGHLGQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <405F466A.9040800@porkfriedrice.net>
Message-ID: <TANGODQDCbl1VpBRV5a00003884@tango.casebank.com>
X-OriginalArrivalTime: 22 Mar 2004 22:55:57.0546 (UTC) FILETIME=[D6898CA0:01C41060]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene does not iterate through the termPositions on one of my indexed data
sources. It used to iterate properly through this data source, but not
anymore. I tried on a different indexed data source and it iterates
properly. The Lucene index directory does not have any lock files either.

My code is as follows

TermPositions termPos = reader.termPositions(aTerm);
while (termPos.next()) {
        // get doc
        String docID = reader.document(termPos.doc()).get(keyName);
...
}

Is there anything wrong with that? Thanks for your help,

Allen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 03:08:25 2004
Return-Path: <lucene-user-return-7614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30192 invoked from network); 23 Mar 2004 03:08:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 03:08:24 -0000
Received: (qmail 7257 invoked by uid 500); 23 Mar 2004 03:08:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7235 invoked by uid 500); 23 Mar 2004 03:08:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7220 invoked from network); 23 Mar 2004 03:08:01 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 23 Mar 2004 03:08:01 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2N38KtG026578
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 19:08:21 -0800
Message-ID: <405FAA15.4030908@newsmonster.org>
Date: Mon, 22 Mar 2004 19:08:05 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: code works with 1.3-rc1 but not with 1.3-final??
References: <405F466A.9040800@porkfriedrice.net>
In-Reply-To: <405F466A.9040800@porkfriedrice.net>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig066D073E433FA76F827C6316"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig066D073E433FA76F827C6316
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Dan wrote:

> I have some code that creates a lucene index. It has been working fine 
> with lucene-1.3-rc1.jar but I wanted to upgrade to 
> lucene-1.3-final.jar. I did this and the indexer breaks. I get the 
> following error when running the index with 1.3-final:
>
> Optimizing the index
> IOException: /home/danl001/index-Mar-22-14_31_30/_ni.f43 (Too many 
> open files)
> Indexed 884 files in 8 directories
> Index creation took 242 seconds
> %
>
No... it's you... ;)

Read the FAQ and then run

ulimit -n 1000000 or so...

You need to increase your file handles.  Chance are you never noticed 
this before but the problem was still present.  If you're on a Linux box 
you would be amazed to find out that you're only about 200 file handles 
away from running out of your per-user quota file quota.

You might have to su as root to change this.. RedHat is more strict 
because it uses the glibc resource restrictions thingy. (who's name 
slips my mind at the moment). 

Debian is configured better here as per defaults.

Also a google query would have solved this for you very quickly ;)..

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig066D073E433FA76F827C6316
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAX6oX6E2NBJnxRBIRArzoAKDiIirHrB4fla2z4ZYMa8BkrbqrxwCgr8rl
oWwvGNKWQX8NZHszXzpeMms=
=mMWb
-----END PGP SIGNATURE-----

--------------enig066D073E433FA76F827C6316--

From lucene-user-return-7615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 03:21:51 2004
Return-Path: <lucene-user-return-7615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34189 invoked from network); 23 Mar 2004 03:21:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 03:21:51 -0000
Received: (qmail 24065 invoked by uid 500); 23 Mar 2004 03:21:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24037 invoked by uid 500); 23 Mar 2004 03:21:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23903 invoked from network); 23 Mar 2004 03:21:24 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 23 Mar 2004 03:21:24 -0000
Received: from ctx.com.au (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i2N3LV6F031156
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 21:21:32 -0600
Message-ID: <405FAD7D.6030607@ctx.com.au>
Date: Tue, 23 Mar 2004 14:22:37 +1100
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: code works with 1.3-rc1 but not with 1.3-final??
References: <405F466A.9040800@porkfriedrice.net> <405FAA15.4030908@newsmonster.org>
In-Reply-To: <405FAA15.4030908@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Or use IndexWriter.setUseCompundFile(true) to reduce the number of files
created by Lucene.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#setUseCompoundFile(boolean)

=Matt

Kevin A. Burton wrote:

> Dan wrote:
> 
>> I have some code that creates a lucene index. It has been working fine 
>> with lucene-1.3-rc1.jar but I wanted to upgrade to 
>> lucene-1.3-final.jar. I did this and the indexer breaks. I get the 
>> following error when running the index with 1.3-final:
>>
>> Optimizing the index
>> IOException: /home/danl001/index-Mar-22-14_31_30/_ni.f43 (Too many 
>> open files)
>> Indexed 884 files in 8 directories
>> Index creation took 242 seconds
>> %
>>
> No... it's you... ;)
> 
> Read the FAQ and then run
> 
> ulimit -n 1000000 or so...
> 
> You need to increase your file handles.  Chance are you never noticed 
> this before but the problem was still present.  If you're on a Linux box 
> you would be amazed to find out that you're only about 200 file handles 
> away from running out of your per-user quota file quota.
> 
> You might have to su as root to change this.. RedHat is more strict 
> because it uses the glibc resource restrictions thingy. (who's name 
> slips my mind at the moment).
> Debian is configured better here as per defaults.
> 
> Also a google query would have solved this for you very quickly ;)..
> 
> Kevin
> 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 07:59:52 2004
Return-Path: <lucene-user-return-7616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30805 invoked from network); 23 Mar 2004 07:59:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 07:59:52 -0000
Received: (qmail 64916 invoked by uid 500); 23 Mar 2004 07:59:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64823 invoked by uid 500); 23 Mar 2004 07:59:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64810 invoked from network); 23 Mar 2004 07:59:22 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 23 Mar 2004 07:59:22 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2N7xltG027156
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 22 Mar 2004 23:59:47 -0800
Message-ID: <405FEE63.50900@newsmonster.org>
Date: Mon, 22 Mar 2004 23:59:31 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lock timeout should show the index it failed on...
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig211A110DDA55C6727D610614"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig211A110DDA55C6727D610614
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Just an RFE... if a lock times out we should probably throw the name of 
the FSDirectory (or if it's a RAMDirectory) ...

I'm lazy so this is a reminder for either myself to do this or wait 
until one of you guys take care of it :)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig211A110DDA55C6727D610614
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAX+5l6E2NBJnxRBIRAjG3AJ92sMDwm2V2XkpsF/1SuCtbE6ON6wCeM+Gk
jysxJSw1fdhCaDTeLcfedwc=
=soos
-----END PGP SIGNATURE-----

--------------enig211A110DDA55C6727D610614--

From lucene-user-return-7617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 09:04:34 2004
Return-Path: <lucene-user-return-7617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71728 invoked from network); 23 Mar 2004 09:04:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 09:04:33 -0000
Received: (qmail 79153 invoked by uid 500); 23 Mar 2004 09:04:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79132 invoked by uid 500); 23 Mar 2004 09:04:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79116 invoked from network); 23 Mar 2004 09:04:03 -0000
Received: from unknown (HELO smtp4.clb.oleane.net) (213.56.31.20)
  by daedalus.apache.org with SMTP; 23 Mar 2004 09:04:03 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp4.clb.oleane.net with ESMTP id i2N94Djg023699
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 10:04:14 +0100
Message-ID: <001701c410b5$ba2f6610$690010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <405F466A.9040800@porkfriedrice.net> <405FAA15.4030908@newsmonster.org> <405FAD7D.6030607@ctx.com.au>
Subject: Re: code works with 1.3-rc1 but not with 1.3-final??
Date: Tue, 23 Mar 2004 10:03:34 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Or set a big value with minMergeDocs on IndexWriter and keep a low
mergeFactor (ie 10). You'll have a small number of files on your disk and
the indexing should be faster as well.

----- Original Message -----
From: "Matt Quail" <matt@ctx.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 23, 2004 4:22 AM
Subject: Re: code works with 1.3-rc1 but not with 1.3-final??


> Or use IndexWriter.setUseCompundFile(true) to reduce the number of files
> created by Lucene.
>
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWrite
r.html#setUseCompoundFile(boolean)
>
> =Matt
>
> Kevin A. Burton wrote:
>
> > Dan wrote:
> >
> >> I have some code that creates a lucene index. It has been working fine
> >> with lucene-1.3-rc1.jar but I wanted to upgrade to
> >> lucene-1.3-final.jar. I did this and the indexer breaks. I get the
> >> following error when running the index with 1.3-final:
> >>
> >> Optimizing the index
> >> IOException: /home/danl001/index-Mar-22-14_31_30/_ni.f43 (Too many
> >> open files)
> >> Indexed 884 files in 8 directories
> >> Index creation took 242 seconds
> >> %
> >>
> > No... it's you... ;)
> >
> > Read the FAQ and then run
> >
> > ulimit -n 1000000 or so...
> >
> > You need to increase your file handles.  Chance are you never noticed
> > this before but the problem was still present.  If you're on a Linux box
> > you would be amazed to find out that you're only about 200 file handles
> > away from running out of your per-user quota file quota.
> >
> > You might have to su as root to change this.. RedHat is more strict
> > because it uses the glibc resource restrictions thingy. (who's name
> > slips my mind at the moment).
> > Debian is configured better here as per defaults.
> >
> > Also a google query would have solved this for you very quickly ;)..
> >
> > Kevin
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 15:04:35 2004
Return-Path: <lucene-user-return-7618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92714 invoked from network); 23 Mar 2004 15:04:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 15:04:35 -0000
Received: (qmail 97532 invoked by uid 500); 23 Mar 2004 15:04:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97478 invoked by uid 500); 23 Mar 2004 15:04:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97449 invoked from network); 23 Mar 2004 15:04:22 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.158)
  by daedalus.apache.org with SMTP; 23 Mar 2004 15:04:22 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B5nS3-00068P-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 16:04:23 +0100
Message-ID: <00cc01c410e8$4eddeac0$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: <lucene-user@jakarta.apache.org>
Subject: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 16:05:40 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hallo,

I run in following problem. Perhaps somebody can help me.

I have a index with different ids in the same field
something like

<s>00000000
<s>45678565
<s>87854546

Situation: I have different documents with the entry <s>00000000 in the same
index.


document 1)

<s>324235678565
<s>324dssd5678565
<s>45678324565
<s>00000000
<s>8785454324326


document 2)

<s>324235678565
<s>00000000
<s>45678324565
<s>8785454324326



when I search for "  s:00000000 "  I receive both docs, but document 1 has a
better scoring than document 2.
The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's Field[2],
so this seems to effect scoring.

How can I disable this behaviour, so doc 1 has the same scoring as doc 2???
Which method do I have to overwrite in DefaultSimilarity.
Has anybody any idea, any help.

Thanks

yo







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 15:59:02 2004
Return-Path: <lucene-user-return-7619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30503 invoked from network); 23 Mar 2004 15:59:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 15:59:02 -0000
Received: (qmail 64968 invoked by uid 500); 23 Mar 2004 15:58:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64769 invoked by uid 500); 23 Mar 2004 15:58:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64732 invoked from network); 23 Mar 2004 15:58:50 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 23 Mar 2004 15:58:50 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B5oIm-0001Qm-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 10:58:52 -0500
Message-ID: <191201c410f0$16c2ff10$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4>
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 11:01:22 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joachim,

I believe you'll have to replace the default Similarity class with one of
your own.  Not sure exactly what the settings should be - maybe some other
list members can give you specifics.  Otherwise, you'll probably have to
experiment with it.

Regards,

Terry

----- Original Message -----
From: "Joachim Schreiber" <yoschr@web.de>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 23, 2004 10:05 AM
Subject: Similarity - position in Field[] effects scoring - how to change?


> Hallo,
>
> I run in following problem. Perhaps somebody can help me.
>
> I have a index with different ids in the same field
> something like
>
> <s>00000000
> <s>45678565
> <s>87854546
>
> Situation: I have different documents with the entry <s>00000000 in the
same
> index.
>
>
> document 1)
>
> <s>324235678565
> <s>324dssd5678565
> <s>45678324565
> <s>00000000
> <s>8785454324326
>
>
> document 2)
>
> <s>324235678565
> <s>00000000
> <s>45678324565
> <s>8785454324326
>
>
>
> when I search for "  s:00000000 "  I receive both docs, but document 1 has
a
> better scoring than document 2.
> The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
Field[2],
> so this seems to effect scoring.
>
> How can I disable this behaviour, so doc 1 has the same scoring as doc
2???
> Which method do I have to overwrite in DefaultSimilarity.
> Has anybody any idea, any help.
>
> Thanks
>
> yo
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:04:27 2004
Return-Path: <lucene-user-return-7620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34535 invoked from network); 23 Mar 2004 16:04:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:04:26 -0000
Received: (qmail 80493 invoked by uid 500); 23 Mar 2004 16:04:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80454 invoked by uid 500); 23 Mar 2004 16:04:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80440 invoked from network); 23 Mar 2004 16:04:12 -0000
Received: from unknown (HELO smtp6.clb.oleane.net) (213.56.31.26)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:04:12 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp6.clb.oleane.net with ESMTP id i2NG4C6b005814
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 17:04:13 +0100
Message-ID: <005701c410f0$66537f00$690010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4>
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:03:34 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joachim,

Why don't you use the method explain of IndexSearcher?
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/IndexSear
cher.html

This is the best way to find why your documents are different. I suspect the
lengthNorm  method, which is used at indexation time.

Julien


----- Original Message -----
From: "Joachim Schreiber" <yoschr@web.de>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 23, 2004 4:05 PM
Subject: Similarity - position in Field[] effects scoring - how to change?


> Hallo,
>
> I run in following problem. Perhaps somebody can help me.
>
> I have a index with different ids in the same field
> something like
>
> <s>00000000
> <s>45678565
> <s>87854546
>
> Situation: I have different documents with the entry <s>00000000 in the
same
> index.
>
>
> document 1)
>
> <s>324235678565
> <s>324dssd5678565
> <s>45678324565
> <s>00000000
> <s>8785454324326
>
>
> document 2)
>
> <s>324235678565
> <s>00000000
> <s>45678324565
> <s>8785454324326
>
>
>
> when I search for "  s:00000000 "  I receive both docs, but document 1 has
a
> better scoring than document 2.
> The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
Field[2],
> so this seems to effect scoring.
>
> How can I disable this behaviour, so doc 1 has the same scoring as doc
2???
> Which method do I have to overwrite in DefaultSimilarity.
> Has anybody any idea, any help.
>
> Thanks
>
> yo
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:30:23 2004
Return-Path: <lucene-user-return-7621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51509 invoked from network); 23 Mar 2004 16:30:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:30:22 -0000
Received: (qmail 58333 invoked by uid 500); 23 Mar 2004 16:30:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58313 invoked by uid 500); 23 Mar 2004 16:30:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58299 invoked from network); 23 Mar 2004 16:30:10 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.208)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:30:10 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B5on6-0006Kb-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 17:30:12 +0100
Message-ID: <013601c410f4$4fb345b0$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: <lucene-user@jakarta.apache.org>
Subject: RE: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:31:36 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks to Daniel the solutions is quite simple.

Use the latest cvs src from the head and try the new sorting feature, it
works very well ;-)

This should be documented anywhere, perhaps in the wiki !

cool new feature!

yo



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:40:10 2004
Return-Path: <lucene-user-return-7622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56825 invoked from network); 23 Mar 2004 16:40:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:40:10 -0000
Received: (qmail 81567 invoked by uid 500); 23 Mar 2004 16:39:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81491 invoked by uid 500); 23 Mar 2004 16:39:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81419 invoked from network); 23 Mar 2004 16:39:52 -0000
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:39:52 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i2NGdr9R093631
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 17:39:54 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:39:53 +0100
User-Agent: KMail/1.5.4
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4>
In-Reply-To: <00cc01c410e8$4eddeac0$0b01a8c0@p4>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200403231739.53650.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 23 March 2004 16:05, Joachim Schreiber wrote:
> Hallo,
>
> I run in following problem. Perhaps somebody can help me.
>
> I have a index with different ids in the same field
> something like
>
> <s>00000000
> <s>45678565
> <s>87854546
>
> Situation: I have different documents with the entry <s>00000000 in the
> same index.
>
>
> document 1)
>
> <s>324235678565
> <s>324dssd5678565
> <s>45678324565
> <s>00000000
> <s>8785454324326
>
>
> document 2)
>
> <s>324235678565
> <s>00000000
> <s>45678324565
> <s>8785454324326
>
>
>
> when I search for "  s:00000000 "  I receive both docs, but document 1 has
> a better scoring than document 2.

Since the s field of document 2 is shorter, I'd expect document 2 to score 
higher. As mentioned, lengthNorm() is responsible for this.
Something does not add up here. Are the documents in the same index?

> The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
> Field[2], so this seems to effect scoring.

Lucene's default scoring is independent of absolute term positions.

> How can I disable this behaviour, so doc 1 has the same scoring as doc 2???

Simply ignore the score. The easiest way is to use the low level scoring API
with your own HitCollector. Just make sure not to retrieve document field
values until you collected all your hits.

> Which method do I have to overwrite in DefaultSimilarity.
> Has anybody any idea, any help.

In which order to you want the resulting documents presented?
The low level api gives them in index order when the query consists
of single search term, afaik.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:46:48 2004
Return-Path: <lucene-user-return-7623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60703 invoked from network); 23 Mar 2004 16:46:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:46:47 -0000
Received: (qmail 99360 invoked by uid 500); 23 Mar 2004 16:46:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99328 invoked by uid 500); 23 Mar 2004 16:46:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99308 invoked from network); 23 Mar 2004 16:46:35 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.209)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:46:35 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B5p2z-0006WP-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 17:46:37 +0100
Message-ID: <000a01c410f6$83b34660$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4> <005701c410f0$66537f00$690010ac@teck>
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:47:19 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>
> Why don't you use the method explain of IndexSearcher?
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/IndexSear
> cher.html
>
> This is the best way to find why your documents are different. I suspect
the
> lengthNorm  method, which is used at indexation time.

Yes but i think this is not a good choice because we have to receive all
docs.
this is not possible because i have hits with 300 000 and more


yo

>
> Julien
>
>
> > Hallo,
> >
> > I run in following problem. Perhaps somebody can help me.
> >
> > I have a index with different ids in the same field
> > something like
> >
> > <s>00000000
> > <s>45678565
> > <s>87854546
> >
> > Situation: I have different documents with the entry <s>00000000 in the
> same
> > index.
> >
> >
> > document 1)
> >
> > <s>324235678565
> > <s>324dssd5678565
> > <s>45678324565
> > <s>00000000
> > <s>8785454324326
> >
> >
> > document 2)
> >
> > <s>324235678565
> > <s>00000000
> > <s>45678324565
> > <s>8785454324326
> >
> >
> >
> > when I search for "  s:00000000 "  I receive both docs, but document 1
has
> a
> > better scoring than document 2.
> > The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
> Field[2],
> > so this seems to effect scoring.
> >
> > How can I disable this behaviour, so doc 1 has the same scoring as doc
> 2???
> > Which method do I have to overwrite in DefaultSimilarity.
> > Has anybody any idea, any help.
> >
> > Thanks
> >
> > yo
> >



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:48:14 2004
Return-Path: <lucene-user-return-7624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61400 invoked from network); 23 Mar 2004 16:48:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:48:14 -0000
Received: (qmail 1878 invoked by uid 500); 23 Mar 2004 16:48:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1856 invoked by uid 500); 23 Mar 2004 16:48:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1836 invoked from network); 23 Mar 2004 16:48:02 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.158)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:48:02 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B5p4O-0006vH-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 17:48:04 +0100
Message-ID: <000d01c410f6$b7b22080$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4> <191201c410f0$16c2ff10$6501a8c0@POWERPACK>
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:48:50 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry,

>
> I believe you'll have to replace the default Similarity class with one of
> your own.  Not sure exactly what the settings should be - maybe some other
> list members can give you specifics.  Otherwise, you'll probably have to
> experiment with it.

I tried the new sort feature from cvs and it works well !

But it's interesting, nobody knows exactly how scoring works (seems to me)
;-)

thanks

yo


>
> Regards,
>
> Terry
>
> ----- Original Message -----
> From: "Joachim Schreiber" <yoschr@web.de>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, March 23, 2004 10:05 AM
> Subject: Similarity - position in Field[] effects scoring - how to change?
>
>
> > Hallo,
> >
> > I run in following problem. Perhaps somebody can help me.
> >
> > I have a index with different ids in the same field
> > something like
> >
> > <s>00000000
> > <s>45678565
> > <s>87854546
> >
> > Situation: I have different documents with the entry <s>00000000 in the
> same
> > index.
> >
> >
> > document 1)
> >
> > <s>324235678565
> > <s>324dssd5678565
> > <s>45678324565
> > <s>00000000
> > <s>8785454324326
> >
> >
> > document 2)
> >
> > <s>324235678565
> > <s>00000000
> > <s>45678324565
> > <s>8785454324326
> >
> >
> >
> > when I search for "  s:00000000 "  I receive both docs, but document 1
has
> a
> > better scoring than document 2.
> > The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
> Field[2],
> > so this seems to effect scoring.
> >
> > How can I disable this behaviour, so doc 1 has the same scoring as doc
> 2???
> > Which method do I have to overwrite in DefaultSimilarity.
> > Has anybody any idea, any help.
> >
> > Thanks
> >
> > yo
> >
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 16:54:02 2004
Return-Path: <lucene-user-return-7625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64789 invoked from network); 23 Mar 2004 16:54:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 16:54:02 -0000
Received: (qmail 15762 invoked by uid 500); 23 Mar 2004 16:53:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15733 invoked by uid 500); 23 Mar 2004 16:53:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15717 invoked from network); 23 Mar 2004 16:53:49 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.209)
  by daedalus.apache.org with SMTP; 23 Mar 2004 16:53:49 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B5p9z-0008N9-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 17:53:51 +0100
Message-ID: <001301c410f7$8696c1d0$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4> <200403231739.53650.ykingma@xs4all.nl>
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 17:54:37 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> On Tuesday 23 March 2004 16:05, Joachim Schreiber wrote:
> > Hallo,
> >
> > I run in following problem. Perhaps somebody can help me.
> >
> > I have a index with different ids in the same field
> > something like
> >
> > <s>00000000
> > <s>45678565
> > <s>87854546
> >
> > Situation: I have different documents with the entry <s>00000000 in the
> > same index.
> >
> >
> > document 1)
> >
> > <s>324235678565
> > <s>324dssd5678565
> > <s>45678324565
> > <s>00000000
> > <s>8785454324326
> >
> >
> > document 2)
> >
> > <s>324235678565
> > <s>00000000
> > <s>45678324565
> > <s>8785454324326
> >
> >
> >
> > when I search for "  s:00000000 "  I receive both docs, but document 1
has
> > a better scoring than document 2.
>
> Since the s field of document 2 is shorter, I'd expect document 2 to score
> higher. As mentioned, lengthNorm() is responsible for this.
> Something does not add up here. Are the documents in the same index?
>
> > The position of <s>00000000 in doc 1 is Field[4] and in doc 2 it's
> > Field[2], so this seems to effect scoring.
>
> Lucene's default scoring is independent of absolute term positions.
>

hm...

> > How can I disable this behaviour, so doc 1 has the same scoring as doc
2???
>
> Simply ignore the score. The easiest way is to use the low level scoring
API
> with your own HitCollector. Just make sure not to retrieve document field
> values until you collected all your hits.

you think its possible to order by e.g. date field without retrieving all
the values from the index??

>
> > Which method do I have to overwrite in DefaultSimilarity.
> > Has anybody any idea, any help.
>
> In which order to you want the resulting documents presented?
> The low level api gives them in index order when the query consists
> of single search term, afaik.

in index order is ok but not very flexibel

Regards,
yo

>
> Regards,
> Ype
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 17:01:00 2004
Return-Path: <lucene-user-return-7626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68514 invoked from network); 23 Mar 2004 17:00:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 17:00:59 -0000
Received: (qmail 31854 invoked by uid 500); 23 Mar 2004 17:00:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31801 invoked by uid 500); 23 Mar 2004 17:00:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31734 invoked from network); 23 Mar 2004 17:00:44 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 23 Mar 2004 17:00:44 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2NH0lw18213
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 11:00:47 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: Query syntax on Keyword field question
Date: Tue, 23 Mar 2004 10:57:20 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C83@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQQ9+d+3EMv/Nf/R42b32xc+dXQEg==
From: "Chad Small" <Chad.Small@definityhealth.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGVsbG8sDQogDQpIb3cgY2FuIEkgZm9ybWF0IGEgcXVlcnkgdG8gZ2V0IGEgaGl0Pw0KIA0KSSdt
IHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5emVyKCkgYXQgYm90aCBpbmRleCBhbmQgc2VhcmNoIHRp
bWUuDQogDQpJZiBJJ20gaW5kZXhpbmcgYSBmaWVsZCBsaWtlIHRoaXM6DQogDQpsdWNlbmVEb2N1
bWVudC5hZGQoRmllbGQuS2V5d29yZCgiY2F0ZWdvcnkiLCJIVy1OQ0lfVE9QSUNTIikpOw0KDQpJ
J3ZlIHRyaWVkIHRoZSBmb2xsb3dpbmcgd2l0aCBubyBzdWNjZXNzOg0KIA0KLy8gICAgICBTdHJp
bmcgc2VhcmNoQXJncyA9ICJIV1xcLU5DSV9UT1BJQ1MiOw0KLy8gICAgICBTdHJpbmcgc2VhcmNo
QXJncyA9ICJIV1xcLU5DSV9UT1BJQ1MiLnRvTG93ZXJDYXNlKCk7DQovLyAgICAgIFN0cmluZyBz
ZWFyY2hBcmdzID0gIitIVytOQ0krVE9QSUNTIjsNCiAgICAgIC8vdGhpcyB3b3JrcyB3aXRoIC5U
ZXh0IGZpZWxkDQovLyAgICAgIFN0cmluZyBzZWFyY2hBcmdzID0gIitodytuY2krdG9waWNzIjsN
Ci8vICAgICAgU3RyaW5nIHNlYXJjaEFyZ3MgPSAiaHcgbmNpIHRvcGljcyI7DQogDQp0aGFua3Ms
DQpjaGFkLg0K


From lucene-user-return-7627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 17:03:36 2004
Return-Path: <lucene-user-return-7627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70199 invoked from network); 23 Mar 2004 17:03:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 17:03:36 -0000
Received: (qmail 39503 invoked by uid 500); 23 Mar 2004 17:03:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39458 invoked by uid 500); 23 Mar 2004 17:03:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39443 invoked from network); 23 Mar 2004 17:03:23 -0000
Received: from unknown (HELO wall.quontis.com) (66.120.216.177)
  by daedalus.apache.org with SMTP; 23 Mar 2004 17:03:23 -0000
Received: from bigone (unknown [10.6.18.112])
	by wall.quontis.com (Postfix) with ESMTP id E901A9EB28
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 08:24:31 -0800 (PST)
From: "Jochen Frey" <lucenelist@quontis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: SpanXXQuery Usage
Date: Tue, 23 Mar 2004 09:03:22 -0800
Message-ID: <002d01c410f8$bf9b5b20$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <167601c41001$fc4c5850$6501a8c0@POWERPACK>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry,

With regular queries (non-Span-queries) you cannot request that results =
of
OR / AND / NOT operations are near to one another (i.e. (A or B) near (C =
or
D)). The span queries solve that problem by allowing any span query to =
be
used in a SpanNearQuery (and vice versa). There are other applications =
for
this as well, but this is one of them.

Hope that helps to get you started. Examples for the use can be found in =
the
unit tests (TestBasics.java, I believe).

Cheers,
Jochen

-----Original Message-----
From: Terry Steichen [mailto:terry@net-frame.com]=20
Sent: Monday, March 22, 2004 3:37 AM
To: Lucene Users List
Subject: Re: SpanXXQuery Usage

Otis,

Can you give me/us a rough idea of what these are supposed to do?  It's =
hard
to extrapolate the terse unit test code into much of a general notion.  =
I
searched the archives with little success.

Regards,

Terry

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, March 22, 2004 2:46 AM
Subject: Re: SpanXXQuery Usage


> Only in unit tests, so far.
>
> Otis
>
> --- Terry Steichen <terry@net-frame.com> wrote:
> > Is there any documentation (other than that in the source) on how to
> > use the new SpanxxQuery features?  Specifically: SpanNearQuery,
> > SpanNotQuery, SpanFirstQuery and SpanOrQuery?
> >
> > Regards,
> >
> > Terry
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 17:58:51 2004
Return-Path: <lucene-user-return-7628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97567 invoked from network); 23 Mar 2004 17:58:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 17:58:50 -0000
Received: (qmail 60090 invoked by uid 500); 23 Mar 2004 17:58:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60031 invoked by uid 500); 23 Mar 2004 17:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59846 invoked from network); 23 Mar 2004 17:58:33 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 23 Mar 2004 17:58:33 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2NHwbw20119
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 11:58:37 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C41100.771A3E98"
Subject: RE: Query syntax on Keyword field question
Date: Tue, 23 Mar 2004 11:58:36 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C85@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C85@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQQ9+d+3EMv/Nf/R42b32xc+dXQEgAB6S0b
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41100.771A3E98
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SSBoYXZlIHNpbmNlIGxlYXJuZWQgdGhhdCB1c2luZyB0aGUgVGVybVF1ZXJ5IGluc3RlYWQgb2Yg
dGhlIE11bHRpRmllbGRRdWVyeVBhcnNlciB3b3JrcyBmb3IgdGhlIGtleXdvcmQgZmllbGQgaW4g
cXVlc3Rpb24gYmVsb3cgKEhXLU5DSV9UT1BJQ1MpLg0KIA0KYXBpUXVlcnkgPSBuZXcgQm9vbGVh
blF1ZXJ5KCk7DQphcGlRdWVyeS5hZGQobmV3IFRlcm1RdWVyeShuZXcgVGVybSgiY2F0ZWdvcnki
LCAiSFctTkNJX1RPUElDUyIpKSwgdHJ1ZSwgZmFsc2UpOw0KIA0KVGhpcyBmaW5kcyBhIG1hdGNo
Lg0KIA0KSSBmb3VuZCBhIG1lc3NhZ2UgdGhhdCB0YWxrZWQgYWJvdXQgaGF2aW5nIHRvIHVzZSB0
aGUgdGhlIFF1ZXJ5IEFQSSB3aGVuIHNlYXJjaGluZyBLZXl3b3JkIGZpZWxkcyBpbiB0aGUgaW5k
ZXguICBJcyB0aGlzIHRydWU/DQogDQpJcyB0aGVyZSBub3QgYSB3YXkgdG8gZ2V0IHRoZSBNdWx0
aUZpZWxkUXVlcnlQYXJzZXIgdG8gZmluZCBhIG1hdGNoIG9uIHRoaXMga2V5d29yZD8NCiANCnRo
YW5rcywNCmNoYWQuDQoNCgktLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBDaGFk
IFNtYWxsIA0KCVNlbnQ6IFR1ZSAzLzIzLzIwMDQgMTA6NTcgQU0gDQoJVG86IGx1Y2VuZS11c2Vy
QGpha2FydGEuYXBhY2hlLm9yZyANCglDYzogDQoJU3ViamVjdDogUXVlcnkgc3ludGF4IG9uIEtl
eXdvcmQgZmllbGQgcXVlc3Rpb24NCgkNCgkNCg0KCUhlbGxvLA0KCQ0KCUhvdyBjYW4gSSBmb3Jt
YXQgYSBxdWVyeSB0byBnZXQgYSBoaXQ/DQoJDQoJSSdtIHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5
emVyKCkgYXQgYm90aCBpbmRleCBhbmQgc2VhcmNoIHRpbWUuDQoJDQoJSWYgSSdtIGluZGV4aW5n
IGEgZmllbGQgbGlrZSB0aGlzOg0KCQ0KCWx1Y2VuZURvY3VtZW50LmFkZChGaWVsZC5LZXl3b3Jk
KCJjYXRlZ29yeSIsIkhXLU5DSV9UT1BJQ1MiKSk7DQoJDQoJSSd2ZSB0cmllZCB0aGUgZm9sbG93
aW5nIHdpdGggbm8gc3VjY2VzczoNCgkNCgkvLyAgICAgIFN0cmluZyBzZWFyY2hBcmdzID0gIkhX
XFwtTkNJX1RPUElDUyI7DQoJLy8gICAgICBTdHJpbmcgc2VhcmNoQXJncyA9ICJIV1xcLU5DSV9U
T1BJQ1MiLnRvTG93ZXJDYXNlKCk7DQoJLy8gICAgICBTdHJpbmcgc2VhcmNoQXJncyA9ICIrSFcr
TkNJK1RPUElDUyI7DQoJICAgICAgLy90aGlzIHdvcmtzIHdpdGggLlRleHQgZmllbGQNCgkvLyAg
ICAgIFN0cmluZyBzZWFyY2hBcmdzID0gIitodytuY2krdG9waWNzIjsNCgkvLyAgICAgIFN0cmlu
ZyBzZWFyY2hBcmdzID0gImh3IG5jaSB0b3BpY3MiOw0KCQ0KCXRoYW5rcywNCgljaGFkLg0KCQ0K
DQo=


------_=_NextPart_001_01C41100.771A3E98
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C41100.771A3E98--

From lucene-user-return-7629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 18:00:20 2004
Return-Path: <lucene-user-return-7629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98573 invoked from network); 23 Mar 2004 18:00:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 18:00:20 -0000
Received: (qmail 62424 invoked by uid 500); 23 Mar 2004 18:00:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62388 invoked by uid 500); 23 Mar 2004 18:00:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62367 invoked from network); 23 Mar 2004 18:00:06 -0000
Received: from unknown (HELO smtp-out5.xs4all.nl) (194.109.24.6)
  by daedalus.apache.org with SMTP; 23 Mar 2004 18:00:06 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out5.xs4all.nl (8.12.10/8.12.10) with ESMTP id i2NI087U004478
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 19:00:09 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Similarity - position in Field[] effects scoring - how to change?
Date: Tue, 23 Mar 2004 19:00:08 +0100
User-Agent: KMail/1.5.4
References: <00cc01c410e8$4eddeac0$0b01a8c0@p4> <200403231739.53650.ykingma@xs4all.nl> <001301c410f7$8696c1d0$0b01a8c0@p4>
In-Reply-To: <001301c410f7$8696c1d0$0b01a8c0@p4>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200403231900.08316.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joachim,

...
>
> you think its possible to order by e.g. date field without retrieving all
> the values from the index??

Yes, the new sorting feature from CVS does that, see Doug's
last note on the subject. (It might have been on lucene-dev,
I didn't keep a copy).

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 18:40:14 2004
Return-Path: <lucene-user-return-7630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29888 invoked from network); 23 Mar 2004 18:40:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 18:40:13 -0000
Received: (qmail 70163 invoked by uid 500); 23 Mar 2004 18:39:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70136 invoked by uid 500); 23 Mar 2004 18:39:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70109 invoked from network); 23 Mar 2004 18:39:58 -0000
Received: from unknown (HELO scog-ws4.gsa.gov) (159.142.144.59)
  by daedalus.apache.org with SMTP; 23 Mar 2004 18:39:58 -0000
Received: from 159.142.144.55 by scog-ws4.gsa.gov with ESMTP (GSA
 Internet E-Mail System (MMS v5.6.0)); Tue, 23 Mar 2004 13:39:56 -0500
X-Server-Uuid: 448ECD41-23CB-4316-909E-453F36A16C5C
From: brad.hendricks@gsa.gov
Subject: Search and Update one index with two processes simultaneously
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 6.0.1CF1 March 04, 2003
Message-ID: <OF340549D5.EA50C7BB-ON85256E60.0064120B-85256E60.00668807@gsa.gov>
Sender: brad.hendricks@gsa.gov
Date: Tue, 23 Mar 2004 13:39:54 -0500
X-MIMETrack: Serialize by Router on SCOG-NOTESSMTP1/GSAEXTERNAL(Release
 5.0.8 |June 18, 2001) at 03/23/2004 01:39:56 PM
MIME-Version: 1.0
X-WSS-ID: 6C7E5BF621C1138798-02-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Is it possible to have two separate process, one performing searches, and
the other performing updates on the same index?  I have a system in
production that uses this design and occasionally the search program grinds
to a halt.  I first suspected that this was just a load issue, but there
isn't that much load (peak times average 2-3 requests per second, with
occasional bursts of 10-20 requests) and I can't replicate the problem.
The logs show that when the slowdown occurs we are usually answering
requests to search at first, but ongoing searches have stopped finishing
(somewhere inside IndexSearcher.search()).  There doesn't seem to be a
single expensive query that might be bringing us to our kness either.  So,
I was wondering if maybe it is possible that this is a race condition
caused by our update program, which is a separate program that updates the
index while it is being searched.

Some basic info:

The search program uses a single IndexSearcher to perform all searches.
Results are collected with a HitCollector which uses the same IndexSearcher
to extract each document - there is a requirement that the documents be
returned in a specific order, so we have an external structure to determine
the order, once the ID (not the internal ID) has been extracted.
A separate HitCollector is used for each search.
This IndexSearcher in the search program is swapped for a new one when the
update program has finished an update cycle and notifies the search
program.
The index is about 90k documents, average query returns less than 100 hits.

Thanks for any information, or just for your opinion.

Brad



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 19:50:16 2004
Return-Path: <lucene-user-return-7631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63254 invoked from network); 23 Mar 2004 19:50:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 19:50:15 -0000
Received: (qmail 95819 invoked by uid 500); 23 Mar 2004 19:49:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95790 invoked by uid 500); 23 Mar 2004 19:49:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95729 invoked from network); 23 Mar 2004 19:49:55 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 23 Mar 2004 19:49:55 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1B5ruS-0001Vz-00
	for lucene-user@jakarta.apache.org; Tue, 23 Mar 2004 14:50:00 -0500
Subject: Cover density ranking?
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200403210024.55414.ykingma@xs4all.nl>
References: <20040319165237.70719.qmail@web12704.mail.yahoo.com>
	 <18735.1079717053@www6.gmx.net>  <200403210024.55414.ykingma@xs4all.nl>
Content-Type: text/plain
Message-Id: <1080071399.10252.11.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Tue, 23 Mar 2004 14:49:59 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Since there have been a few discussions recently of overriding various
aspects of Lucene's ranking formula, I got to wondering how difficult it
might be to implement something more different from the base tf/idf
ranking system that Lucene has built in.

How difficult would it be to implement something like Cover Density
ranking for Lucene?  Has anyone tried it?  

Cover density is described at http://citeseer.ist.psu.edu/558750.html ,
and is supposed to be particularly good for short queries of the type
that you get in many web applications.

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 23 20:38:50 2004
Return-Path: <lucene-user-return-7632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94827 invoked from network); 23 Mar 2004 20:38:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Mar 2004 20:38:50 -0000
Received: (qmail 78477 invoked by uid 500); 23 Mar 2004 20:38:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78444 invoked by uid 500); 23 Mar 2004 20:38:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78427 invoked from network); 23 Mar 2004 20:38:26 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 23 Mar 2004 20:38:26 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2004032320383101500f0se8e>; Tue, 23 Mar 2004 20:38:31 +0000
Message-ID: <4060A00C.5020201@apache.org>
Date: Tue, 23 Mar 2004 12:37:32 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Cover density ranking?
References: <20040319165237.70719.qmail@web12704.mail.yahoo.com>	 <18735.1079717053@www6.gmx.net>  <200403210024.55414.ykingma@xs4all.nl> <1080071399.10252.11.camel@yuff.moxyledge.org>
In-Reply-To: <1080071399.10252.11.camel@yuff.moxyledge.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Boris Goldowsky wrote:
> How difficult would it be to implement something like Cover Density
> ranking for Lucene?  Has anyone tried it?  
> 
> Cover density is described at http://citeseer.ist.psu.edu/558750.html ,
> and is supposed to be particularly good for short queries of the type
> that you get in many web applications.

I just glanced at the paper, so my analysis may be wrong, but I think 
one could implement cover density ranking in Lucene with spans (only in 
CVS, not in 1.3).  I think spans correspond to covers in this paper. 
But you'd need to alter SpanScorer.java to implement the cover scoring 
described in that paper.  And you'd probably need to use a custom 
Similarity implementation, which disables most other scoring (tf=1.0, 
idf=1.0, etc.), but exaggerates coordination.  Finally, you'd need to 
construct span queries.  Or something like that.

If someone tries this, please tell us how it works.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 01:10:33 2004
Return-Path: <lucene-user-return-7633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9433 invoked from network); 24 Mar 2004 01:10:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 01:10:33 -0000
Received: (qmail 28820 invoked by uid 500); 24 Mar 2004 01:10:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28777 invoked by uid 500); 24 Mar 2004 01:10:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28758 invoked from network); 24 Mar 2004 01:10:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 24 Mar 2004 01:10:11 -0000
Received: (cpmta 2869 invoked from network); 23 Mar 2004 17:10:18 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 23 Mar 2004 17:10:18 -0800
X-Sent: 24 Mar 2004 01:10:18 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C85@elwood.definityhealth.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C85@elwood.definityhealth.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <02249B62-7D30-11D8-B848-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query syntax on Keyword field question
Date: Tue, 23 Mar 2004 20:10:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

QueryParser and Field.Keyword fields are a strange mix.  For some 
background, check the archives as this has been covered pretty 
extensively.

A quick answer is yes you can use MFQP and QP with keyword fields, 
however you need to be careful which analyzer you use.  
PerFieldAnalyzerWrapper is a good solution - you'll just need to use an 
analyzer for your keyword field which simply tokenizes the whole string 
as one chunk.  Perhaps such an analyzer should be made part of the 
core?

	Erik

On Mar 23, 2004, at 12:58 PM, Chad Small wrote:

> I have since learned that using the TermQuery instead of the 
> MultiFieldQueryParser works for the keyword field in question below 
> (HW-NCI_TOPICS).
>
> apiQuery = new BooleanQuery();
> apiQuery.add(new TermQuery(new Term("category", "HW-NCI_TOPICS")), 
> true, false);
>
> This finds a match.
>
> I found a message that talked about having to use the the Query API 
> when searching Keyword fields in the index.  Is this true?
>
> Is there not a way to get the MultiFieldQueryParser to find a match on 
> this keyword?
>
> thanks,
> chad.
>
> 	-----Original Message-----
> 	From: Chad Small
> 	Sent: Tue 3/23/2004 10:57 AM
> 	To: lucene-user@jakarta.apache.org
> 	Cc:
> 	Subject: Query syntax on Keyword field question
> 	
> 	
>
> 	Hello,
> 	
> 	How can I format a query to get a hit?
> 	
> 	I'm using the StandardAnalyzer() at both index and search time.
> 	
> 	If I'm indexing a field like this:
> 	
> 	luceneDocument.add(Field.Keyword("category","HW-NCI_TOPICS"));
> 	
> 	I've tried the following with no success:
> 	
> 	//      String searchArgs = "HW\\-NCI_TOPICS";
> 	//      String searchArgs = "HW\\-NCI_TOPICS".toLowerCase();
> 	//      String searchArgs = "+HW+NCI+TOPICS";
> 	      //this works with .Text field
> 	//      String searchArgs = "+hw+nci+topics";
> 	//      String searchArgs = "hw nci topics";
> 	
> 	thanks,
> 	chad.
> 	
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 02:09:11 2004
Return-Path: <lucene-user-return-7634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36259 invoked from network); 24 Mar 2004 02:09:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 02:09:10 -0000
Received: (qmail 94729 invoked by uid 500); 24 Mar 2004 02:08:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94711 invoked by uid 500); 24 Mar 2004 02:08:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94683 invoked from network); 24 Mar 2004 02:08:48 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 24 Mar 2004 02:08:48 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i2O28tN20812
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 03:08:55 +0100
Received: from g40.incze.hu (localhost.localdomain [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i2O28t8a013982
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 03:08:55 +0100
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i2O28thV013980
	for lucene-user@jakarta.apache.org; Wed, 24 Mar 2004 03:08:55 +0100
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Wed, 24 Mar 2004 03:08:55 +0100
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query syntax on Keyword field question
Message-ID: <20040324020855.GB13140@incze.adsl.enternet.hu>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C85@elwood.definityhealth.com> <02249B62-7D30-11D8-B848-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <02249B62-7D30-11D8-B848-000393A564E6@ehatchersolutions.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Mar 23, 2004 at 08:10:15PM -0500, Erik Hatcher wrote:
> QueryParser and Field.Keyword fields are a strange mix.  For some 
> background, check the archives as this has been covered pretty 
> extensively.
> 
> A quick answer is yes you can use MFQP and QP with keyword fields, 
> however you need to be careful which analyzer you use.  
> PerFieldAnalyzerWrapper is a good solution - you'll just need to use an 
> analyzer for your keyword field which simply tokenizes the whole string 
> as one chunk.  Perhaps such an analyzer should be made part of the 
> core?
> 
> 	Erik

I've implemented suche an analyzer but it's only partial solution
if your keyword field contains spaces, as the QP would split
the query, e.g.:

NOTTOKNIZED:(term with spaces*)

would give you no hit even with an not tokenized field
"term with spaces and other useful things". The full solution
would be to be able to tell the QP not to split at spaces,
either by 'do not split till apos' syntax, or by the good ol'
backslash: do\ not\ notice\ these\ spaces.

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 02:48:26 2004
Return-Path: <lucene-user-return-7635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60446 invoked from network); 24 Mar 2004 02:48:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 02:48:26 -0000
Received: (qmail 40060 invoked by uid 500); 24 Mar 2004 02:48:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40032 invoked by uid 500); 24 Mar 2004 02:48:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40016 invoked from network); 24 Mar 2004 02:48:02 -0000
Received: from unknown (HELO ns2.definityhealth.com) (209.117.208.66)
  by daedalus.apache.org with SMTP; 24 Mar 2004 02:48:02 -0000
Received: from elwood.definityhealth.com ([10.19.3.122])
	by ns2.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2O2mBZ30504
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 20:48:11 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C4114A.720FCDD0"
Subject: RE: Query syntax on Keyword field question
Date: Tue, 23 Mar 2004 20:48:11 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C8E@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C8E@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRRPp5P8HYMSRARZaEFU5j3cx1tQABE4sw
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4114A.720FCDD0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

VGhhbmtzLXlvdSBFcmlrIGFuZCBJbmN6ZS4gIEkgbm93IHVuZGVyc3RhbmQgdGhlIGlzc3VlIGFu
ZCBJJ20gdHJ5aW5nIHRvIGNyZWF0ZSBhICJLZXl3b3JkQW5hbHl6ZXIiIGFzIHN1Z2dlc3RlZCBm
cm9tIHlvdSBib29rIGV4Y2VycHQsIEVyaWs6DQogDQpodHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcv
ZXllYnJvd3NlL1JlYWRNc2c/bGlzdE5hbWU9bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3Jn
Jm1zZ05vPTY3MjcNCiANCkhvd2V2ZXIsIG5vdCBiZWluZyBhbGwgdGhhdCBmYW1pbGlhciB3aXRo
IHRoZSBBbmFseXplciBmcmFtZXdvcmssIEknbSBub3Qgc3VyZSBob3cgdG8gaW1wbGVtZW50IHRo
ZSAiS2V5d29yZEFuYWx5emVyIiBldmVuIHRob3VnaCBpdCBtaWdodCBiZSAidHJpdmlhbCIgOikg
IEFueSBoaW50cywgY29kZSwgb3IgbWVzc2FnZXMgdG8gbG9vayBhdD8NCiANCjw8ZnJvbSBtZXNz
YWdlIGxpbmsgYWJvdmU+Pg0KT2ssIGhlcmUgaXMgdGhlIHNlY3Rpb24gZnJvbSBMdWNlbmUgaW4g
QWN0aW9uLiAgSSdsbCBsZWF2ZSB0aGUgDQpkZXZlbG9wbWVudCBvZiBLZXl3b3JkQW5hbHl6ZXIg
YXMgYW4gZXhlcmNpc2UgZm9yIHRoZSByZWFkZXIgKGFsdGhvdWdoIA0KaXRzIGltcGxlbWVudGF0
aW9uIGlzIHRyaXZpYWwsIG9uZSBvZiB0aGUgc2ltcGxlc3QgYW5hbHl6ZXJzIHBvc3NpYmxlIC0g
DQpvbmx5IGVtaXQgb25lIHRva2VuIG9mIHRoZSBlbnRpcmUgY29udGVudHMpLiAgSSBob3BlIHRo
aXMgaGVscHMuDQoNCkVyaWsNCg0KPj4NCnRoYW5rcyBhZ2FpbiwNCmNoYWQuDQoNCgktLS0tLU9y
aWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBJbmN6ZSBMYWpvcyBbbWFpbHRvOmluY3plQG1h
aWwubWF0YXYuaHVdIA0KCVNlbnQ6IFR1ZSAzLzIzLzIwMDQgODowOCBQTSANCglUbzogTHVjZW5l
IFVzZXJzIExpc3QgDQoJQ2M6IA0KCVN1YmplY3Q6IFJlOiBRdWVyeSBzeW50YXggb24gS2V5d29y
ZCBmaWVsZCBxdWVzdGlvbg0KCQ0KCQ0KDQoJT24gVHVlLCBNYXIgMjMsIDIwMDQgYXQgMDg6MTA6
MTVQTSAtMDUwMCwgRXJpayBIYXRjaGVyIHdyb3RlOg0KCT4gUXVlcnlQYXJzZXIgYW5kIEZpZWxk
LktleXdvcmQgZmllbGRzIGFyZSBhIHN0cmFuZ2UgbWl4LiAgRm9yIHNvbWUNCgk+IGJhY2tncm91
bmQsIGNoZWNrIHRoZSBhcmNoaXZlcyBhcyB0aGlzIGhhcyBiZWVuIGNvdmVyZWQgcHJldHR5DQoJ
PiBleHRlbnNpdmVseS4NCgk+DQoJPiBBIHF1aWNrIGFuc3dlciBpcyB5ZXMgeW91IGNhbiB1c2Ug
TUZRUCBhbmQgUVAgd2l0aCBrZXl3b3JkIGZpZWxkcywNCgk+IGhvd2V2ZXIgeW91IG5lZWQgdG8g
YmUgY2FyZWZ1bCB3aGljaCBhbmFseXplciB5b3UgdXNlLiANCgk+IFBlckZpZWxkQW5hbHl6ZXJX
cmFwcGVyIGlzIGEgZ29vZCBzb2x1dGlvbiAtIHlvdSdsbCBqdXN0IG5lZWQgdG8gdXNlIGFuDQoJ
PiBhbmFseXplciBmb3IgeW91ciBrZXl3b3JkIGZpZWxkIHdoaWNoIHNpbXBseSB0b2tlbml6ZXMg
dGhlIHdob2xlIHN0cmluZw0KCT4gYXMgb25lIGNodW5rLiAgUGVyaGFwcyBzdWNoIGFuIGFuYWx5
emVyIHNob3VsZCBiZSBtYWRlIHBhcnQgb2YgdGhlDQoJPiBjb3JlPw0KCT4NCgk+ICAgICAgIEVy
aWsNCgkNCglJJ3ZlIGltcGxlbWVudGVkIHN1Y2hlIGFuIGFuYWx5emVyIGJ1dCBpdCdzIG9ubHkg
cGFydGlhbCBzb2x1dGlvbg0KCWlmIHlvdXIga2V5d29yZCBmaWVsZCBjb250YWlucyBzcGFjZXMs
IGFzIHRoZSBRUCB3b3VsZCBzcGxpdA0KCXRoZSBxdWVyeSwgZS5nLjoNCgkNCglOT1RUT0tOSVpF
RDoodGVybSB3aXRoIHNwYWNlcyopDQoJDQoJd291bGQgZ2l2ZSB5b3Ugbm8gaGl0IGV2ZW4gd2l0
aCBhbiBub3QgdG9rZW5pemVkIGZpZWxkDQoJInRlcm0gd2l0aCBzcGFjZXMgYW5kIG90aGVyIHVz
ZWZ1bCB0aGluZ3MiLiBUaGUgZnVsbCBzb2x1dGlvbg0KCXdvdWxkIGJlIHRvIGJlIGFibGUgdG8g
dGVsbCB0aGUgUVAgbm90IHRvIHNwbGl0IGF0IHNwYWNlcywNCgllaXRoZXIgYnkgJ2RvIG5vdCBz
cGxpdCB0aWxsIGFwb3MnIHN5bnRheCwgb3IgYnkgdGhlIGdvb2Qgb2wnDQoJYmFja3NsYXNoOiBk
b1wgbm90XCBub3RpY2VcIHRoZXNlXCBzcGFjZXMuDQoJDQoJaW5jemUNCgkNCgktLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0NCglUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWth
cnRhLmFwYWNoZS5vcmcNCglGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUt
dXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KCQ0KCQ0KDQo=


------_=_NextPart_001_01C4114A.720FCDD0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C4114A.720FCDD0--

From lucene-user-return-7636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 05:29:04 2004
Return-Path: <lucene-user-return-7636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52532 invoked from network); 24 Mar 2004 05:29:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 05:29:04 -0000
Received: (qmail 62438 invoked by uid 500); 24 Mar 2004 05:28:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62301 invoked by uid 500); 24 Mar 2004 05:28:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62285 invoked from network); 24 Mar 2004 05:28:37 -0000
Received: from unknown (HELO ns2.definityhealth.com) (209.117.208.66)
  by daedalus.apache.org with SMTP; 24 Mar 2004 05:28:37 -0000
Received: from elwood.definityhealth.com ([10.19.3.122])
	by ns2.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2O5SlZ32505
	for <lucene-user@jakarta.apache.org>; Tue, 23 Mar 2004 23:28:47 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C41160.E1CC9328"
Subject: RE: Query syntax on Keyword field question
Date: Tue, 23 Mar 2004 23:28:47 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C90@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C90@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRRPp5P8HYMSRARZaEFU5j3cx1tQABE4swAAVsafo=
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41160.E1CC9328
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SGVyZSBpcyBteSBhdHRlbXB0IGF0IGEgS2V5d29yZEFuYWx5emVyIC0gYWx0aG91Z2ggaXMgbm90
IHdvcmtpbmc/ICBFeGN1c2UgdGhlIGxlbmd0aCBvZiB0aGUgbWVzc2FnZSwgYnV0IHdhbnRlZCB0
byBnaXZlIGFjdHVhbCBjb2RlLg0KIA0KcGFja2FnZSBkb21haW4ubHVjZW5lc2VhcmNoOw0KIA0K
aW1wb3J0IGphdmEuaW8uKjsNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5BbmFs
eXplcjsNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5DaGFyVG9rZW5pemVyOw0K
aW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLlRva2VuU3RyZWFtOw0KIA0KcHVibGlj
IGNsYXNzIEtleXdvcmRBbmFseXplciBleHRlbmRzIEFuYWx5emVyDQp7DQogICBwdWJsaWMgVG9r
ZW5TdHJlYW0gdG9rZW5TdHJlYW0oU3RyaW5nIHMsIFJlYWRlciByZWFkZXIpDQogICB7DQogICAg
ICByZXR1cm4gbmV3IEtleXdvcmRUb2tlbml6ZXIocmVhZGVyKTsNCiAgIH0NCiANCiAgIHByaXZh
dGUgY2xhc3MgS2V5d29yZFRva2VuaXplciBleHRlbmRzIENoYXJUb2tlbml6ZXINCiAgIHsNCiAg
ICAgIHB1YmxpYyBLZXl3b3JkVG9rZW5pemVyKFJlYWRlciBpbikNCiAgICAgIHsNCiAgICAgICAg
IHN1cGVyKGluKTsNCiAgICAgIH0NCiAgICAgIC8qKg0KICAgICAgICogQ29sbGVjdHMgYWxsIGNo
YXJhY3RlcnMuDQogICAgICAgKi8NCiAgICAgIHByb3RlY3RlZCBib29sZWFuIGlzVG9rZW5DaGFy
KGNoYXIgYykNCiAgICAgIHsNCiAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgfQ0K
DQpIb3dldmVyLCB0aGlzIHRlc3Q6IGZhaWxzDQogDQpwdWJsaWMgY2xhc3MgS2V5d29yZEFuYWx5
emVyVGVzdCBleHRlbmRzIFRlc3RDYXNlDQp7DQogICBSQU1EaXJlY3RvcnkgZGlyZWN0b3J5Ow0K
ICAgcHJpdmF0ZSBJbmRleFNlYXJjaGVyIHNlYXJjaGVyOw0KIA0KICAgcHVibGljIHZvaWQgc2V0
VXAoKSB0aHJvd3MgRXhjZXB0aW9uDQogICB7DQogICAgICBkaXJlY3RvcnkgPSBuZXcgUkFNRGly
ZWN0b3J5KCk7DQogICAgICBJbmRleFdyaXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIoZGly
ZWN0b3J5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBT
dGFuZGFyZEFuYWx5emVyKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdHJ1ZSk7DQogICAgICBEb2N1bWVudCBkb2MgPSBuZXcgRG9jdW1lbnQoKTsNCiAgICAg
IGRvYy5hZGQoRmllbGQuS2V5d29yZCgiY2F0ZWdvcnkiLCAiSFctTkNJX1RPUElDUyIpKTsNCiAg
ICAgIGRvYy5hZGQoRmllbGQuVGV4dCgiZGVzY3JpcHRpb24iLCAiSWxsaWRpdW0gU3BhY2UgTW9k
dWxhdG9yIikpOw0KICAgICAgd3JpdGVyLmFkZERvY3VtZW50KGRvYyk7DQogICAgICB3cml0ZXIu
Y2xvc2UoKTsNCiAgICAgIHNlYXJjaGVyID0gbmV3IEluZGV4U2VhcmNoZXIoZGlyZWN0b3J5KTsN
CiAgIH0NCiANCnB1YmxpYyB2b2lkIHRlc3RQZXJGaWVsZEFuYWx5emVyKCkgdGhyb3dzIEV4Y2Vw
dGlvbg0KICAgew0KICAgICAgYW5hbHl6ZSgiSFctTkNJX1RPUElDUyIpOw0KIA0KICAgICAgUGVy
RmllbGRBbmFseXplcldyYXBwZXIgYW5hbHl6ZXIgPSBuZXcgUGVyRmllbGRBbmFseXplcldyYXBw
ZXIobmV3IFN0YW5kYXJkQW5hbHl6ZXIoKSk7DQogICAgICBhbmFseXplci5hZGRBbmFseXplcigi
Y2F0ZWdvcnkiLCBuZXcgS2V5d29yZEFuYWx5emVyKCkpOyAgIC8vfCMxDQogICAgICBRdWVyeSBx
dWVyeSA9IFF1ZXJ5UGFyc2VyLnBhcnNlKCJjYXRlZ29yeTpIVy1OQ0lfVE9QSUNTIEFORCBTUEFD
RSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiIs
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5emVyKTsNCiAgICAg
IEhpdHMgaGl0cyA9IHNlYXJjaGVyLnNlYXJjaChxdWVyeSk7DQogICAgICBTeXN0ZW0ub3V0LnBy
aW50bG4oInF1ZXJ5LlRvU3RyaW5nID0gIiArIHF1ZXJ5LnRvU3RyaW5nKCJkZXNjcmlwdGlvbiIp
KTsNCiAgICAgIGFzc2VydEVxdWFscygiSFctTkNJX1RPUElDUyBrZXB0IGFzLWlzIiwNCiAgICAg
ICAgICAgICAgICAgICAiY2F0ZWdvcnk6SFctTkNJX1RPUElDUyArc3BhY2UiLCBxdWVyeS50b1N0
cmluZygiZGVzY3JpcHRpb24iKSk7DQogICAgICBhc3NlcnRFcXVhbHMoImRvYyBmb3VuZCEiLCAx
LCBoaXRzLmxlbmd0aCgpKTsNCiAgIH0NCiANCiAgIHByaXZhdGUgdm9pZCBhbmFseXplKFN0cmlu
ZyB0ZXh0KSB0aHJvd3MgRXhjZXB0aW9uDQogICB7DQogICAgICBBbmFseXplcltdIGFuYWx5emVy
cyA9IG5ldyBBbmFseXplcltdew0KICAgICAgICAgbmV3IFdoaXRlc3BhY2VBbmFseXplcigpLA0K
ICAgICAgICAgbmV3IFNpbXBsZUFuYWx5emVyKCksDQogICAgICAgICBuZXcgU3RvcEFuYWx5emVy
KCksDQogICAgICAgICBuZXcgU3RhbmRhcmRBbmFseXplcigpLA0KICAgICAgICAgbmV3IEtleXdv
cmRBbmFseXplcigpLA0KICAgICAgICAgLy9uZXcgU25vd2JhbGxBbmFseXplcigiRW5nbGlzaCIs
IFN0b3BBbmFseXplci5FTkdMSVNIX1NUT1BfV09SRFMpDQogICAgICB9Ow0KICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKCJBbmFsenlpbmcgXCIiICsgdGV4dCArICJcIiIpOw0KICAgICAgZm9yIChp
bnQgaSA9IDA7IGkgPCBhbmFseXplcnMubGVuZ3RoOyBpKyspDQogICAgICB7DQogICAgICAgICBB
bmFseXplciBhbmFseXplciA9IGFuYWx5emVyc1tpXTsNCiAgICAgICAgIFN5c3RlbS5vdXQucHJp
bnRsbigiXHQiICsgYW5hbHl6ZXIuZ2V0Q2xhc3MoKS5nZXROYW1lKCkgKyAiOiIpOw0KICAgICAg
ICAgU3lzdGVtLm91dC5wcmludCgiXHRcdCIpOw0KICAgICAgICAgVG9rZW5TdHJlYW0gc3RyZWFt
ID0gYW5hbHl6ZXIudG9rZW5TdHJlYW0oImNhdGVnb3J5IiwgbmV3IFN0cmluZ1JlYWRlcih0ZXh0
KSk7DQogICAgICAgICB3aGlsZSAodHJ1ZSkNCiAgICAgICAgIHsNCiAgICAgICAgICAgIFRva2Vu
IHRva2VuID0gc3RyZWFtLm5leHQoKTsNCiAgICAgICAgICAgIGlmICh0b2tlbiA9PSBudWxsKSBi
cmVhazsNCiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnQoIlsiICsgdG9rZW4udGVybVRleHQo
KSArICJdICIpOw0KICAgICAgICAgfQ0KICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJcbiIp
Ow0KICAgICAgfQ0KICAgfQ0KfQ0KIA0KV2l0aCB0aGlzIG91dHB1dDoNCiANCkFuYWx6eWluZyAi
SFctTkNJX1RPUElDUyINCiBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5XaGl0ZXNwYWNlQW5h
bHl6ZXI6DQogIFtIVy1OQ0lfVE9QSUNTXSANCiBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5T
aW1wbGVBbmFseXplcjoNCiAgW2h3XSBbbmNpXSBbdG9waWNzXSANCiBvcmcuYXBhY2hlLmx1Y2Vu
ZS5hbmFseXNpcy5TdG9wQW5hbHl6ZXI6DQogIFtod10gW25jaV0gW3RvcGljc10gDQogb3JnLmFw
YWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcjoNCiAgW2h3XSBb
bmNpXSBbdG9waWNzXSANCiBoZWFsdGhlY2FyZS5kb21haW4ubHVjZW5lc2VhcmNoLktleXdvcmRB
bmFseXplcjoNCiAgW0hXLU5DSV9UT1BJQ1NdIA0KIA0KcXVlcnkuVG9TdHJpbmcgPSBjYXRlZ29y
eTpIVyAtIm5jaSB0b3BpY3MiICtzcGFjZQ0KDQpqdW5pdC5mcmFtZXdvcmsuQ29tcGFyaXNvbkZh
aWx1cmU6IEhXLU5DSV9UT1BJQ1Mga2VwdCBhcy1pcyANCkV4cGVjdGVkOitjYXRlZ29yeTpIVy1O
Q0lfVE9QSUNTICtzcGFjZQ0KQWN0dWFsICA6Y2F0ZWdvcnk6SFcgLSJuY2kgdG9waWNzIiArc3Bh
Y2UNCiANClNlZSBhbnl0aGluZz8NCnRoYW5rcywNCmNoYWQuDQoNCgktLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLSANCglGcm9tOiBDaGFkIFNtYWxsIA0KCVNlbnQ6IFR1ZSAzLzIzLzIwMDQgODo0
OCBQTSANCglUbzogTHVjZW5lIFVzZXJzIExpc3QgDQoJQ2M6IA0KCVN1YmplY3Q6IFJFOiBRdWVy
eSBzeW50YXggb24gS2V5d29yZCBmaWVsZCBxdWVzdGlvbg0KCQ0KCQ0KDQoJVGhhbmtzLXlvdSBF
cmlrIGFuZCBJbmN6ZS4gIEkgbm93IHVuZGVyc3RhbmQgdGhlIGlzc3VlIGFuZCBJJ20gdHJ5aW5n
IHRvIGNyZWF0ZSBhICJLZXl3b3JkQW5hbHl6ZXIiIGFzIHN1Z2dlc3RlZCBmcm9tIHlvdSBib29r
IGV4Y2VycHQsIEVyaWs6DQoJDQoJaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2V5ZWJyb3dzZS9S
ZWFkTXNnP2xpc3ROYW1lPWx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZyZtc2dObz02NzI3
DQoJDQoJSG93ZXZlciwgbm90IGJlaW5nIGFsbCB0aGF0IGZhbWlsaWFyIHdpdGggdGhlIEFuYWx5
emVyIGZyYW1ld29yaywgSSdtIG5vdCBzdXJlIGhvdyB0byBpbXBsZW1lbnQgdGhlICJLZXl3b3Jk
QW5hbHl6ZXIiIGV2ZW4gdGhvdWdoIGl0IG1pZ2h0IGJlICJ0cml2aWFsIiA6KSAgQW55IGhpbnRz
LCBjb2RlLCBvciBtZXNzYWdlcyB0byBsb29rIGF0Pw0KCQ0KCTw8ZnJvbSBtZXNzYWdlIGxpbmsg
YWJvdmU+Pg0KCU9rLCBoZXJlIGlzIHRoZSBzZWN0aW9uIGZyb20gTHVjZW5lIGluIEFjdGlvbi4g
IEknbGwgbGVhdmUgdGhlDQoJZGV2ZWxvcG1lbnQgb2YgS2V5d29yZEFuYWx5emVyIGFzIGFuIGV4
ZXJjaXNlIGZvciB0aGUgcmVhZGVyIChhbHRob3VnaA0KCWl0cyBpbXBsZW1lbnRhdGlvbiBpcyB0
cml2aWFsLCBvbmUgb2YgdGhlIHNpbXBsZXN0IGFuYWx5emVycyBwb3NzaWJsZSAtDQoJb25seSBl
bWl0IG9uZSB0b2tlbiBvZiB0aGUgZW50aXJlIGNvbnRlbnRzKS4gIEkgaG9wZSB0aGlzIGhlbHBz
Lg0KCQ0KCUVyaWsNCgkNCgk+Pg0KCXRoYW5rcyBhZ2FpbiwNCgljaGFkLg0KCQ0KCSAgICAgICAg
LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCgkgICAgICAgIEZyb206IEluY3plIExham9zIFtt
YWlsdG86aW5jemVAbWFpbC5tYXRhdi5odV0NCgkgICAgICAgIFNlbnQ6IFR1ZSAzLzIzLzIwMDQg
ODowOCBQTQ0KCSAgICAgICAgVG86IEx1Y2VuZSBVc2VycyBMaXN0DQoJICAgICAgICBDYzoNCgkg
ICAgICAgIFN1YmplY3Q6IFJlOiBRdWVyeSBzeW50YXggb24gS2V5d29yZCBmaWVsZCBxdWVzdGlv
bg0KCSAgICAgICANCgkgICAgICAgDQoJDQoJICAgICAgICBPbiBUdWUsIE1hciAyMywgMjAwNCBh
dCAwODoxMDoxNVBNIC0wNTAwLCBFcmlrIEhhdGNoZXIgd3JvdGU6DQoJICAgICAgICA+IFF1ZXJ5
UGFyc2VyIGFuZCBGaWVsZC5LZXl3b3JkIGZpZWxkcyBhcmUgYSBzdHJhbmdlIG1peC4gIEZvciBz
b21lDQoJICAgICAgICA+IGJhY2tncm91bmQsIGNoZWNrIHRoZSBhcmNoaXZlcyBhcyB0aGlzIGhh
cyBiZWVuIGNvdmVyZWQgcHJldHR5DQoJICAgICAgICA+IGV4dGVuc2l2ZWx5Lg0KCSAgICAgICAg
Pg0KCSAgICAgICAgPiBBIHF1aWNrIGFuc3dlciBpcyB5ZXMgeW91IGNhbiB1c2UgTUZRUCBhbmQg
UVAgd2l0aCBrZXl3b3JkIGZpZWxkcywNCgkgICAgICAgID4gaG93ZXZlciB5b3UgbmVlZCB0byBi
ZSBjYXJlZnVsIHdoaWNoIGFuYWx5emVyIHlvdSB1c2UuDQoJICAgICAgICA+IFBlckZpZWxkQW5h
bHl6ZXJXcmFwcGVyIGlzIGEgZ29vZCBzb2x1dGlvbiAtIHlvdSdsbCBqdXN0IG5lZWQgdG8gdXNl
IGFuDQoJICAgICAgICA+IGFuYWx5emVyIGZvciB5b3VyIGtleXdvcmQgZmllbGQgd2hpY2ggc2lt
cGx5IHRva2VuaXplcyB0aGUgd2hvbGUgc3RyaW5nDQoJICAgICAgICA+IGFzIG9uZSBjaHVuay4g
IFBlcmhhcHMgc3VjaCBhbiBhbmFseXplciBzaG91bGQgYmUgbWFkZSBwYXJ0IG9mIHRoZQ0KCSAg
ICAgICAgPiBjb3JlPw0KCSAgICAgICAgPg0KCSAgICAgICAgPiAgICAgICBFcmlrDQoJICAgICAg
IA0KCSAgICAgICAgSSd2ZSBpbXBsZW1lbnRlZCBzdWNoZSBhbiBhbmFseXplciBidXQgaXQncyBv
bmx5IHBhcnRpYWwgc29sdXRpb24NCgkgICAgICAgIGlmIHlvdXIga2V5d29yZCBmaWVsZCBjb250
YWlucyBzcGFjZXMsIGFzIHRoZSBRUCB3b3VsZCBzcGxpdA0KCSAgICAgICAgdGhlIHF1ZXJ5LCBl
LmcuOg0KCSAgICAgICANCgkgICAgICAgIE5PVFRPS05JWkVEOih0ZXJtIHdpdGggc3BhY2VzKikN
CgkgICAgICAgDQoJICAgICAgICB3b3VsZCBnaXZlIHlvdSBubyBoaXQgZXZlbiB3aXRoIGFuIG5v
dCB0b2tlbml6ZWQgZmllbGQNCgkgICAgICAgICJ0ZXJtIHdpdGggc3BhY2VzIGFuZCBvdGhlciB1
c2VmdWwgdGhpbmdzIi4gVGhlIGZ1bGwgc29sdXRpb24NCgkgICAgICAgIHdvdWxkIGJlIHRvIGJl
IGFibGUgdG8gdGVsbCB0aGUgUVAgbm90IHRvIHNwbGl0IGF0IHNwYWNlcywNCgkgICAgICAgIGVp
dGhlciBieSAnZG8gbm90IHNwbGl0IHRpbGwgYXBvcycgc3ludGF4LCBvciBieSB0aGUgZ29vZCBv
bCcNCgkgICAgICAgIGJhY2tzbGFzaDogZG9cIG5vdFwgbm90aWNlXCB0aGVzZVwgc3BhY2VzLg0K
CSAgICAgICANCgkgICAgICAgIGluY3plDQoJICAgICAgIA0KCSAgICAgICAgLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
DQoJICAgICAgICBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmli
ZUBqYWthcnRhLmFwYWNoZS5vcmcNCgkgICAgICAgIEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBl
LW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJICAgICAgIA0KCSAg
ICAgICANCgkNCgkNCg0K


------_=_NextPart_001_01C41160.E1CC9328
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C41160.E1CC9328--

From lucene-user-return-7637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 07:43:33 2004
Return-Path: <lucene-user-return-7637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28443 invoked from network); 24 Mar 2004 07:43:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 07:43:33 -0000
Received: (qmail 36292 invoked by uid 500); 24 Mar 2004 07:43:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36269 invoked by uid 500); 24 Mar 2004 07:43:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36248 invoked from network); 24 Mar 2004 07:43:03 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 24 Mar 2004 07:43:03 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id C9E5619B7D4
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:43:14 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2O7hEEw031003
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:43:14 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i2O7hEaE030999;
	Wed, 24 Mar 2004 08:43:14 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16481.15378.53669.464562@tanto-xipolis.de>
Date: Wed, 24 Mar 2004 08:43:14 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query syntax on Keyword field question
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C90@elwood.definityhealth.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C90@elwood.definityhealth.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chad Small writes:
> Here is my attempt at a KeywordAnalyzer - although is not working?  Excuse the length of the message, but wanted to give actual code.
>  
> With this output:
>  
> Analzying "HW-NCI_TOPICS"
>  org.apache.lucene.analysis.WhitespaceAnalyzer:
>   [HW-NCI_TOPICS] 
>  org.apache.lucene.analysis.SimpleAnalyzer:
>   [hw] [nci] [topics] 
>  org.apache.lucene.analysis.StopAnalyzer:
>   [hw] [nci] [topics] 
>  org.apache.lucene.analysis.standard.StandardAnalyzer:
>   [hw] [nci] [topics] 
>  healthecare.domain.lucenesearch.KeywordAnalyzer:
>   [HW-NCI_TOPICS] 
>  
> query.ToString = category:HW -"nci topics" +space
> 
> junit.framework.ComparisonFailure: HW-NCI_TOPICS kept as-is 
> Expected:+category:HW-NCI_TOPICS +space
> Actual  :category:HW -"nci topics" +space
>  

Well query parser does not allow `-' within words currently.
So before your analyzer is called, query parser reads one word HW, a `-'
operator, one word NCI_TOPICS.
The latter is analyzed as "nci topics" because it's not in field category
anymore, I guess.

I suggested to change this. See
http://issues.apache.org/bugzilla/show_bug.cgi?id=27491

Either you escape the - using category:HW\-NCI_TOPICS in your query
(untested. and I don't know where the escape character will be removed)
or you apply my suggested change.

Another option for using keywords with query parser might be adding a
keyword syntax to the query parser.
Something like category:key("HW-NCI_TOPICS") or category="HW-NCI_TOPICS".

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 13:43:46 2004
Return-Path: <lucene-user-return-7638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29643 invoked from network); 24 Mar 2004 13:43:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 13:43:46 -0000
Received: (qmail 24511 invoked by uid 500); 24 Mar 2004 13:43:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24403 invoked by uid 500); 24 Mar 2004 13:43:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24330 invoked from network); 24 Mar 2004 13:43:35 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 24 Mar 2004 13:43:35 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2ODhaw10799
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 07:43:36 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C411A5.70EF63B0"
Subject: RE: Query syntax on Keyword field question
Date: Wed, 24 Mar 2004 07:39:33 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C91@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C91@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRc68v013EulQVQKq9PEAWJqGBQwALsjA4
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411A5.70EF63B0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

R3JlYXQgaW5mbyBNb3J1cywNCiANCkFmdGVyIG1ha2luZyB0aGUgImVzY2FwZSB0aGUgZGFzaCIg
Y2hhbmdlIHRvIHRoZSBRdWVyeVBhcnNlcjoNCiANClF1ZXJ5IHF1ZXJ5ID0gUXVlcnlQYXJzZXIu
cGFyc2UoIitjYXRlZ29yeTpIV1xcLU5DSV9UT1BJQ1MgQU5EIFNQQUNFIiwNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIiwNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHl6ZXIpOw0KICAgICAgSGl0cyBoaXRzID0gc2Vh
cmNoZXIuc2VhcmNoKHF1ZXJ5KTsNCiAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigicXVlcnkuVG9T
dHJpbmcgPSAiICsgcXVlcnkudG9TdHJpbmcoImRlc2NyaXB0aW9uIikpOw0KICAgICAgYXNzZXJ0
RXF1YWxzKCJIVy1OQ0lfVE9QSUNTIGtlcHQgYXMtaXMiLA0KICAgICAgICAgICAgICAgICAgICIr
Y2F0ZWdvcnk6SFdcXC1OQ0lfVE9QSUNTICtzcGFjZSIsIHF1ZXJ5LnRvU3RyaW5nKCJkZXNjcmlw
dGlvbiIpKTsgIDwtLS0tLS1ub3RlIHRoYXQgdGhpcyBwYXNzZXMgd2l0aCB0aGUgZXNjYXBlIHB1
dCBpbiwgc28gbm90ICJhcy1pcyIuDQogICAgICBhc3NlcnRFcXVhbHMoImRvYyBmb3VuZCEiLCAx
LCBoaXRzLmxlbmd0aCgpKTsNCiANCkknbSBzdGlsbCBnZXR0aW5nIHRoaXMgb3V0cHV0Og0KIA0K
IGRvbWFpbi5sdWNlbmVzZWFyY2guS2V5d29yZEFuYWx5emVyOg0KICBbSFctTkNJX1RPUElDU10g
DQogDQpxdWVyeS5Ub1N0cmluZyA9ICtjYXRlZ29yeTpIV1wtTkNJX1RPUElDUyArc3BhY2UNCiAN
Cmp1bml0LmZyYW1ld29yay5Bc3NlcnRpb25GYWlsZWRFcnJvcjogZG9jIGZvdW5kISBleHBlY3Rl
ZDo8MT4gYnV0IHdhczo8MD4NCiANCkl0IGxvb2sgbGlrZSBidWcsIGh0dHA6Ly9pc3N1ZXMuYXBh
Y2hlLm9yZy9idWd6aWxsYS9zaG93X2J1Zy5jZ2k/aWQ9Mjc0OTEgPGh0dHA6Ly9pc3N1ZXMuYXBh
Y2hlLm9yZy9idWd6aWxsYS9zaG93X2J1Zy5jZ2k/aWQ9Mjc0OTE+ICwgd2FzIGZpeGVkIHRvZGF5
Og0KIA0KLS0tLS0tLSBBZGRpdGlvbmFsIENvbW1lbnRzIEZyb20gT3RpcyBHb3Nwb2RuZXRpYyA8
bWFpbHRvOm90aXNAYXBhY2hlLm9yZz4gIDIwMDQtMDMtMjQgMTA6MTAgLS0tLS0tLQ0KDQpBbHRo
b3VnaCB0ZnQtbW9uaXRvciBzaG91bGQgbm90IHJlYWxseSByZXN1bHQgaW4gYSBwaHJhc2UgcXVl
cnkgInRmdCBtb25pdG9yIiwgSQ0KYWdyZWUgdGhhdCB0aGlzIGlzIGJldHRlciB0aGFuIGNvbnZl
cnRpbmcgaXQgdG8gdGZ0IEFORCBOT1QgbW9uaXRvciAodGZ0IC1tb25pdG9yKS4NCk1vcmVvdmVy
LCBJIGhhdmUgc2VlbiBxdWVyeSBzeW50YXggd2hlcmUgJy0nIGNoYXJhY3RlcnMgYXJlIHVzZWQg
Zm9yIHBocmFzZQ0KcXVlcmllcyBpbnN0ZWFkIG9yIGluIGFkZGl0aW9uIHRvIHF1b3Rlcywgc28g
b25lIGNvdWxkIHVzZSBlaXRoZXIgbW9ydXMtd2FsdGVyDQpvciAibW9ydXMgd2FsdGVyIi4NCg0K
SSBhcHBsaWVkIHlvdXIgY2hhbmdlLCBhcyBpdCBkb2Vzbid0IGxvb2sgbGlrZSBpdCBicmVha3Mg
YW55dGhpbmcsIGFuZCBJIGhvcGUNCm5vYm9keSByZWxpZWQgb24gaWxsIGJlaGF2aW91ciB3aGVy
ZSB0ZnQtbW9uaXRvciB3b3VsZCByZXN1bHQgaW4gQU5EIE5PVCBxdWVyeS4NCi0tLS0tLS0tLS0t
DQpCdXQgSSBhc3N1bWUgdGhpcyBmaXggd29uJ3QgY29tZSBvdXQgZm9yIHNvbWUgdGltZS4gIElz
IHRoZXJlIGEgd2F5IEkgY2FuIGdldCB0aGlzIGZpeCBzb29uZXI/ICANCkknbSB1cCBhZ2FpbnN0
IGEgZGVhZGxpbmUgYW5kIHdvdWxkIHZlcnkgbXVjaCBsaWtlIHRoaXMgZnVuY3Rpb25hbGl0eS4g
DQogDQpBbmQgdG8gZ28gb25lIG1vcmUgc3RlcCB3aXRoIHRoZSBLZXl3b3JkQW5hbHl6ZXIgdGhh
dCBJIHdyb3RlLCBjaGFuZ2luZyB0aGlzIG1ldGhvZCB0byBza2lwIHRoZSBlc2NhcGU6DQogICAg
cHJvdGVjdGVkIGJvb2xlYW4gaXNUb2tlbkNoYXIoY2hhciBjKQ0KICAgIHsNCiAgICAgICAgIGlm
IChjID09ICdcXCcpDQogICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAg
ICAgICB9DQogICAgICAgICBlbHNlDQogICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gdHJ1
ZTsNCiAgICAgICAgIH0NCiAgICAgIH0NClRoZSB0ZXN0IHRoZW4gcmV0dXJucyB3aXRoIGEgc3Bh
Y2U6DQogaGVhbHRoZWNhcmUuZG9tYWluLmx1Y2VuZXNlYXJjaC5LZXl3b3JkQW5hbHl6ZXI6DQog
IFtIVy1OQ0lfVE9QSUNTXSANCnF1ZXJ5LlRvU3RyaW5nID0gK2NhdGVnb3J5OiJIVyAtTkNJX1RP
UElDUyIgK3NwYWNlDQpqdW5pdC5mcmFtZXdvcmsuQ29tcGFyaXNvbkZhaWx1cmU6IEhXLU5DSV9U
T1BJQ1Mga2VwdCBhcy1pcyANCkV4cGVjdGVkOitjYXRlZ29yeTpIV1wtTkNJX1RPUElDUyArc3Bh
Y2UNCkFjdHVhbCAgOitjYXRlZ29yeToiSFcgLU5DSV9UT1BJQ1MiICtzcGFjZSAgIDwtLS0tbm90
ZSBzcGFjZSB3aGVyZSBlc2NhcGUgd2FzLg0KdGhhbmtzLA0KY2hhZC4NCg0KCS0tLS0tT3JpZ2lu
YWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IE1vcnVzIFdhbHRlciBbbWFpbHRvOm1vcnVzLndhbHRl
ckB0YW50by5kZV0gDQoJU2VudDogV2VkIDMvMjQvMjAwNCAxOjQzIEFNIA0KCVRvOiBMdWNlbmUg
VXNlcnMgTGlzdCANCglDYzogDQoJU3ViamVjdDogUkU6IFF1ZXJ5IHN5bnRheCBvbiBLZXl3b3Jk
IGZpZWxkIHF1ZXN0aW9uDQoJDQoJDQoNCglDaGFkIFNtYWxsIHdyaXRlczoNCgk+IEhlcmUgaXMg
bXkgYXR0ZW1wdCBhdCBhIEtleXdvcmRBbmFseXplciAtIGFsdGhvdWdoIGlzIG5vdCB3b3JraW5n
PyAgRXhjdXNlIHRoZSBsZW5ndGggb2YgdGhlIG1lc3NhZ2UsIGJ1dCB3YW50ZWQgdG8gZ2l2ZSBh
Y3R1YWwgY29kZS4NCgk+IA0KCT4gV2l0aCB0aGlzIG91dHB1dDoNCgk+IA0KCT4gQW5hbHp5aW5n
ICJIVy1OQ0lfVE9QSUNTIg0KCT4gIG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLldoaXRlc3Bh
Y2VBbmFseXplcjoNCgk+ICAgW0hXLU5DSV9UT1BJQ1NdDQoJPiAgb3JnLmFwYWNoZS5sdWNlbmUu
YW5hbHlzaXMuU2ltcGxlQW5hbHl6ZXI6DQoJPiAgIFtod10gW25jaV0gW3RvcGljc10NCgk+ICBv
cmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5TdG9wQW5hbHl6ZXI6DQoJPiAgIFtod10gW25jaV0g
W3RvcGljc10NCgk+ICBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFy
ZEFuYWx5emVyOg0KCT4gICBbaHddIFtuY2ldIFt0b3BpY3NdDQoJPiAgaGVhbHRoZWNhcmUuZG9t
YWluLmx1Y2VuZXNlYXJjaC5LZXl3b3JkQW5hbHl6ZXI6DQoJPiAgIFtIVy1OQ0lfVE9QSUNTXQ0K
CT4gDQoJPiBxdWVyeS5Ub1N0cmluZyA9IGNhdGVnb3J5OkhXIC0ibmNpIHRvcGljcyIgK3NwYWNl
DQoJPg0KCT4ganVuaXQuZnJhbWV3b3JrLkNvbXBhcmlzb25GYWlsdXJlOiBIVy1OQ0lfVE9QSUNT
IGtlcHQgYXMtaXMNCgk+IEV4cGVjdGVkOitjYXRlZ29yeTpIVy1OQ0lfVE9QSUNTICtzcGFjZQ0K
CT4gQWN0dWFsICA6Y2F0ZWdvcnk6SFcgLSJuY2kgdG9waWNzIiArc3BhY2UNCgk+IA0KCQ0KCVdl
bGwgcXVlcnkgcGFyc2VyIGRvZXMgbm90IGFsbG93IGAtJyB3aXRoaW4gd29yZHMgY3VycmVudGx5
Lg0KCVNvIGJlZm9yZSB5b3VyIGFuYWx5emVyIGlzIGNhbGxlZCwgcXVlcnkgcGFyc2VyIHJlYWRz
IG9uZSB3b3JkIEhXLCBhIGAtJw0KCW9wZXJhdG9yLCBvbmUgd29yZCBOQ0lfVE9QSUNTLg0KCVRo
ZSBsYXR0ZXIgaXMgYW5hbHl6ZWQgYXMgIm5jaSB0b3BpY3MiIGJlY2F1c2UgaXQncyBub3QgaW4g
ZmllbGQgY2F0ZWdvcnkNCglhbnltb3JlLCBJIGd1ZXNzLg0KCQ0KCUkgc3VnZ2VzdGVkIHRvIGNo
YW5nZSB0aGlzLiBTZWUNCglodHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcvYnVnemlsbGEvc2hvd19i
dWcuY2dpP2lkPTI3NDkxDQoJDQoJRWl0aGVyIHlvdSBlc2NhcGUgdGhlIC0gdXNpbmcgY2F0ZWdv
cnk6SFdcLU5DSV9UT1BJQ1MgaW4geW91ciBxdWVyeQ0KCSh1bnRlc3RlZC4gYW5kIEkgZG9uJ3Qg
a25vdyB3aGVyZSB0aGUgZXNjYXBlIGNoYXJhY3RlciB3aWxsIGJlIHJlbW92ZWQpDQoJb3IgeW91
IGFwcGx5IG15IHN1Z2dlc3RlZCBjaGFuZ2UuDQoJDQoJQW5vdGhlciBvcHRpb24gZm9yIHVzaW5n
IGtleXdvcmRzIHdpdGggcXVlcnkgcGFyc2VyIG1pZ2h0IGJlIGFkZGluZyBhDQoJa2V5d29yZCBz
eW50YXggdG8gdGhlIHF1ZXJ5IHBhcnNlci4NCglTb21ldGhpbmcgbGlrZSBjYXRlZ29yeTprZXko
IkhXLU5DSV9UT1BJQ1MiKSBvciBjYXRlZ29yeT0iSFctTkNJX1RPUElDUyIuDQoJDQoJSFRIDQoJ
ICAgICAgICBNb3J1cw0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3Jn
DQoJDQoJDQoNCg==


------_=_NextPart_001_01C411A5.70EF63B0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C411A5.70EF63B0--

From lucene-user-return-7639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 13:55:34 2004
Return-Path: <lucene-user-return-7639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40129 invoked from network); 24 Mar 2004 13:55:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 13:55:33 -0000
Received: (qmail 59002 invoked by uid 500); 24 Mar 2004 13:55:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58971 invoked by uid 500); 24 Mar 2004 13:55:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58958 invoked from network); 24 Mar 2004 13:55:23 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 Mar 2004 13:55:23 -0000
Message-ID: <20040324135525.12319.qmail@web12707.mail.yahoo.com>
Received: from [195.29.121.244] by web12707.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 05:55:25 PST
Date: Wed, 24 Mar 2004 05:55:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Query syntax on Keyword field question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C91@elwood.definityhealth.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you can't wait for a release, you'll have to check out Lucene
directly from CVS, or get one of the nightly builds.

Otis

--- Chad Small <Chad.Small@definityhealth.com> wrote:
> Great info Morus,
>  
> After making the "escape the dash" change to the QueryParser:
>  
> Query query = QueryParser.parse("+category:HW\\-NCI_TOPICS AND
> SPACE",
>                                       "description",
>                                       analyzer);
>       Hits hits = searcher.search(query);
>       System.out.println("query.ToString = " +
> query.toString("description"));
>       assertEquals("HW-NCI_TOPICS kept as-is",
>                    "+category:HW\\-NCI_TOPICS +space",
> query.toString("description"));  <------note that this passes with
> the escape put in, so not "as-is".
>       assertEquals("doc found!", 1, hits.length());
>  
> I'm still getting this output:
>  
>  domain.lucenesearch.KeywordAnalyzer:
>   [HW-NCI_TOPICS] 
>  
> query.ToString = +category:HW\-NCI_TOPICS +space
>  
> junit.framework.AssertionFailedError: doc found! expected:<1> but
> was:<0>
>  
> It look like bug,
> http://issues.apache.org/bugzilla/show_bug.cgi?id=27491
> <http://issues.apache.org/bugzilla/show_bug.cgi?id=27491> , was fixed
> today:
>  
> ------- Additional Comments From Otis Gospodnetic
> <mailto:otis@apache.org>  2004-03-24 10:10 -------
> 
> Although tft-monitor should not really result in a phrase query "tft
> monitor", I
> agree that this is better than converting it to tft AND NOT monitor
> (tft -monitor).
> Moreover, I have seen query syntax where '-' characters are used for
> phrase
> queries instead or in addition to quotes, so one could use either
> morus-walter
> or "morus walter".
> 
> I applied your change, as it doesn't look like it breaks anything,
> and I hope
> nobody relied on ill behaviour where tft-monitor would result in AND
> NOT query.
> -----------
> But I assume this fix won't come out for some time.  Is there a way I
> can get this fix sooner?  
> I'm up against a deadline and would very much like this
> functionality. 
>  
> And to go one more step with the KeywordAnalyzer that I wrote,
> changing this method to skip the escape:
>     protected boolean isTokenChar(char c)
>     {
>          if (c == '\\')
>          {
>             return false;
>          }
>          else
>          {
>             return true;
>          }
>       }
> The test then returns with a space:
>  healthecare.domain.lucenesearch.KeywordAnalyzer:
>   [HW-NCI_TOPICS] 
> query.ToString = +category:"HW -NCI_TOPICS" +space
> junit.framework.ComparisonFailure: HW-NCI_TOPICS kept as-is 
> Expected:+category:HW\-NCI_TOPICS +space
> Actual  :+category:"HW -NCI_TOPICS" +space   <----note space where
> escape was.
> thanks,
> chad.
> 
> 	-----Original Message----- 
> 	From: Morus Walter [mailto:morus.walter@tanto.de] 
> 	Sent: Wed 3/24/2004 1:43 AM 
> 	To: Lucene Users List 
> 	Cc: 
> 	Subject: RE: Query syntax on Keyword field question
> 	
> 	
> 
> 	Chad Small writes:
> 	> Here is my attempt at a KeywordAnalyzer - although is not working?
>  Excuse the length of the message, but wanted to give actual code.
> 	> 
> 	> With this output:
> 	> 
> 	> Analzying "HW-NCI_TOPICS"
> 	>  org.apache.lucene.analysis.WhitespaceAnalyzer:
> 	>   [HW-NCI_TOPICS]
> 	>  org.apache.lucene.analysis.SimpleAnalyzer:
> 	>   [hw] [nci] [topics]
> 	>  org.apache.lucene.analysis.StopAnalyzer:
> 	>   [hw] [nci] [topics]
> 	>  org.apache.lucene.analysis.standard.StandardAnalyzer:
> 	>   [hw] [nci] [topics]
> 	>  healthecare.domain.lucenesearch.KeywordAnalyzer:
> 	>   [HW-NCI_TOPICS]
> 	> 
> 	> query.ToString = category:HW -"nci topics" +space
> 	>
> 	> junit.framework.ComparisonFailure: HW-NCI_TOPICS kept as-is
> 	> Expected:+category:HW-NCI_TOPICS +space
> 	> Actual  :category:HW -"nci topics" +space
> 	> 
> 	
> 	Well query parser does not allow `-' within words currently.
> 	So before your analyzer is called, query parser reads one word HW, a
> `-'
> 	operator, one word NCI_TOPICS.
> 	The latter is analyzed as "nci topics" because it's not in field
> category
> 	anymore, I guess.
> 	
> 	I suggested to change this. See
> 	http://issues.apache.org/bugzilla/show_bug.cgi?id=27491
> 	
> 	Either you escape the - using category:HW\-NCI_TOPICS in your query
> 	(untested. and I don't know where the escape character will be
> removed)
> 	or you apply my suggested change.
> 	
> 	Another option for using keywords with query parser might be adding
> a
> 	keyword syntax to the query parser.
> 	Something like category:key("HW-NCI_TOPICS") or
> category="HW-NCI_TOPICS".
> 	
> 	HTH
> 	        Morus
> 	
> 
> ---------------------------------------------------------------------
> 	To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 	
> 	
> 
> >
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:00:15 2004
Return-Path: <lucene-user-return-7640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44839 invoked from network); 24 Mar 2004 14:00:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:00:15 -0000
Received: (qmail 70843 invoked by uid 500); 24 Mar 2004 14:00:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70822 invoked by uid 500); 24 Mar 2004 14:00:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70806 invoked from network); 24 Mar 2004 14:00:05 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:00:05 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 4F5A619B7C9
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 15:00:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2OE06Ew003472
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 15:00:06 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i2OE05Bn003468;
	Wed, 24 Mar 2004 15:00:05 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16481.37989.874319.193174@tanto-xipolis.de>
Date: Wed, 24 Mar 2004 15:00:05 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query syntax on Keyword field question
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C91@elwood.definityhealth.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C91@elwood.definityhealth.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chad,

> But I assume this fix won't come out for some time.  Is there a way I can get this fix sooner?  
> I'm up against a deadline and would very much like this functionality. 

Just get lucenes sources, change the line and recompile.
The difficult part is to get a copy of JavaCC 2 (3 won't do), but I think
this can be found in the archives.

>  
> And to go one more step with the KeywordAnalyzer that I wrote, changing this method to skip the escape:
>     protected boolean isTokenChar(char c)
>     {
>          if (c == '\\')
>          {
>             return false;
>          }
>          else
>          {
>             return true;
>          }
>       }
> The test then returns with a space:
>  healthecare.domain.lucenesearch.KeywordAnalyzer:
>   [HW-NCI_TOPICS] 
> query.ToString = +category:"HW -NCI_TOPICS" +space
> junit.framework.ComparisonFailure: HW-NCI_TOPICS kept as-is 
> Expected:+category:HW\-NCI_TOPICS +space
> Actual  :+category:"HW -NCI_TOPICS" +space   <----note space where escape was.

Sure. If \ isn't a token char, it end's the token.
So you will have to look for a different way of implementing the
analyzer. Shouldn't be that difficult since you have only one token.

Maybe it should be the job of the query parser to remove the escape character
(would make more sense to me at least) but that would be another change
of the query parser...

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:07:38 2004
Return-Path: <lucene-user-return-7641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51498 invoked from network); 24 Mar 2004 14:07:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:07:38 -0000
Received: (qmail 94137 invoked by uid 500); 24 Mar 2004 14:07:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94112 invoked by uid 500); 24 Mar 2004 14:07:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94093 invoked from network); 24 Mar 2004 14:07:27 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:07:27 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2OE7Sw11414
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:07:28 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C411A9.57565F10"
Subject: RE: Query syntax on Keyword field question
Date: Wed, 24 Mar 2004 08:07:28 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C92@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C92@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRqFO+v9JdyofRRiyhyP+cZyCxxwAANOPb
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411A9.57565F10
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

dGhhbmtzLiAgSSB3YXMgaW4gdGhlIHByb2Nlc3Mgb2YgZ2V0dGluZyBqYXZhY2MzLjIgc2V0dXAu
ICBJJ2xsIGhhdmUgdG8gaHVudCBmb3IgMi54Lg0KIA0KY2hhZC4NCg0KCS0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tIA0KCUZyb206IE1vcnVzIFdhbHRlciBbbWFpbHRvOm1vcnVzLndhbHRlckB0
YW50by5kZV0gDQoJU2VudDogV2VkIDMvMjQvMjAwNCA4OjAwIEFNIA0KCVRvOiBMdWNlbmUgVXNl
cnMgTGlzdCANCglDYzogDQoJU3ViamVjdDogUkU6IFF1ZXJ5IHN5bnRheCBvbiBLZXl3b3JkIGZp
ZWxkIHF1ZXN0aW9uDQoJDQoJDQoNCglIaSBDaGFkLA0KCQ0KCT4gQnV0IEkgYXNzdW1lIHRoaXMg
Zml4IHdvbid0IGNvbWUgb3V0IGZvciBzb21lIHRpbWUuICBJcyB0aGVyZSBhIHdheSBJIGNhbiBn
ZXQgdGhpcyBmaXggc29vbmVyPyANCgk+IEknbSB1cCBhZ2FpbnN0IGEgZGVhZGxpbmUgYW5kIHdv
dWxkIHZlcnkgbXVjaCBsaWtlIHRoaXMgZnVuY3Rpb25hbGl0eS4NCgkNCglKdXN0IGdldCBsdWNl
bmVzIHNvdXJjZXMsIGNoYW5nZSB0aGUgbGluZSBhbmQgcmVjb21waWxlLg0KCVRoZSBkaWZmaWN1
bHQgcGFydCBpcyB0byBnZXQgYSBjb3B5IG9mIEphdmFDQyAyICgzIHdvbid0IGRvKSwgYnV0IEkg
dGhpbmsNCgl0aGlzIGNhbiBiZSBmb3VuZCBpbiB0aGUgYXJjaGl2ZXMuDQoJDQoJPiANCgk+IEFu
ZCB0byBnbyBvbmUgbW9yZSBzdGVwIHdpdGggdGhlIEtleXdvcmRBbmFseXplciB0aGF0IEkgd3Jv
dGUsIGNoYW5naW5nIHRoaXMgbWV0aG9kIHRvIHNraXAgdGhlIGVzY2FwZToNCgk+ICAgICBwcm90
ZWN0ZWQgYm9vbGVhbiBpc1Rva2VuQ2hhcihjaGFyIGMpDQoJPiAgICAgew0KCT4gICAgICAgICAg
aWYgKGMgPT0gJ1xcJykNCgk+ICAgICAgICAgIHsNCgk+ICAgICAgICAgICAgIHJldHVybiBmYWxz
ZTsNCgk+ICAgICAgICAgIH0NCgk+ICAgICAgICAgIGVsc2UNCgk+ICAgICAgICAgIHsNCgk+ICAg
ICAgICAgICAgIHJldHVybiB0cnVlOw0KCT4gICAgICAgICAgfQ0KCT4gICAgICAgfQ0KCT4gVGhl
IHRlc3QgdGhlbiByZXR1cm5zIHdpdGggYSBzcGFjZToNCgk+ICBoZWFsdGhlY2FyZS5kb21haW4u
bHVjZW5lc2VhcmNoLktleXdvcmRBbmFseXplcjoNCgk+ICAgW0hXLU5DSV9UT1BJQ1NdDQoJPiBx
dWVyeS5Ub1N0cmluZyA9ICtjYXRlZ29yeToiSFcgLU5DSV9UT1BJQ1MiICtzcGFjZQ0KCT4ganVu
aXQuZnJhbWV3b3JrLkNvbXBhcmlzb25GYWlsdXJlOiBIVy1OQ0lfVE9QSUNTIGtlcHQgYXMtaXMN
Cgk+IEV4cGVjdGVkOitjYXRlZ29yeTpIV1wtTkNJX1RPUElDUyArc3BhY2UNCgk+IEFjdHVhbCAg
OitjYXRlZ29yeToiSFcgLU5DSV9UT1BJQ1MiICtzcGFjZSAgIDwtLS0tbm90ZSBzcGFjZSB3aGVy
ZSBlc2NhcGUgd2FzLg0KCQ0KCVN1cmUuIElmIFwgaXNuJ3QgYSB0b2tlbiBjaGFyLCBpdCBlbmQn
cyB0aGUgdG9rZW4uDQoJU28geW91IHdpbGwgaGF2ZSB0byBsb29rIGZvciBhIGRpZmZlcmVudCB3
YXkgb2YgaW1wbGVtZW50aW5nIHRoZQ0KCWFuYWx5emVyLiBTaG91bGRuJ3QgYmUgdGhhdCBkaWZm
aWN1bHQgc2luY2UgeW91IGhhdmUgb25seSBvbmUgdG9rZW4uDQoJDQoJTWF5YmUgaXQgc2hvdWxk
IGJlIHRoZSBqb2Igb2YgdGhlIHF1ZXJ5IHBhcnNlciB0byByZW1vdmUgdGhlIGVzY2FwZSBjaGFy
YWN0ZXINCgkod291bGQgbWFrZSBtb3JlIHNlbnNlIHRvIG1lIGF0IGxlYXN0KSBidXQgdGhhdCB3
b3VsZCBiZSBhbm90aGVyIGNoYW5nZQ0KCW9mIHRoZSBxdWVyeSBwYXJzZXIuLi4NCgkNCglNb3J1
cw0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2Vy
LXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlvbmFsIGNvbW1hbmRz
LCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJDQoJDQoNCg==


------_=_NextPart_001_01C411A9.57565F10
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C411A9.57565F10--

From lucene-user-return-7642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:08:55 2004
Return-Path: <lucene-user-return-7642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52519 invoked from network); 24 Mar 2004 14:08:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:08:55 -0000
Received: (qmail 97472 invoked by uid 500); 24 Mar 2004 14:08:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97438 invoked by uid 500); 24 Mar 2004 14:08:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97418 invoked from network); 24 Mar 2004 14:08:44 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:08:44 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2OE8jw11510
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:08:45 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C411A9.852D2F00"
Subject: RE: Query syntax on Keyword field question
Date: Wed, 24 Mar 2004 08:08:45 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C93@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C93@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRqFO+v9JdyofRRiyhyP+cZyCxxwAANOPbAAAS6sQ=
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411A9.852D2F00
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

Rm9yIG90aGVycyByZWZlcmVuY2UgLSBoZXJlIGlzIHRoZSBvbGQgdmVyc2lvbiB1cmw6DQogDQpo
dHRwczovL2phdmFjYy5kZXYuamF2YS5uZXQvc2VydmxldHMvUHJvamVjdERvY3VtZW50TGlzdD9m
b2xkZXJJRD0yMTINCg0KCS0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IENoYWQg
U21hbGwgDQoJU2VudDogV2VkIDMvMjQvMjAwNCA4OjA3IEFNIA0KCVRvOiBMdWNlbmUgVXNlcnMg
TGlzdCANCglDYzogDQoJU3ViamVjdDogUkU6IFF1ZXJ5IHN5bnRheCBvbiBLZXl3b3JkIGZpZWxk
IHF1ZXN0aW9uDQoJDQoJDQoNCgl0aGFua3MuICBJIHdhcyBpbiB0aGUgcHJvY2VzcyBvZiBnZXR0
aW5nIGphdmFjYzMuMiBzZXR1cC4gIEknbGwgaGF2ZSB0byBodW50IGZvciAyLnguDQoJDQoJY2hh
ZC4NCgkNCgkgICAgICAgIC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQoJICAgICAgICBGcm9t
OiBNb3J1cyBXYWx0ZXIgW21haWx0bzptb3J1cy53YWx0ZXJAdGFudG8uZGVdDQoJICAgICAgICBT
ZW50OiBXZWQgMy8yNC8yMDA0IDg6MDAgQU0NCgkgICAgICAgIFRvOiBMdWNlbmUgVXNlcnMgTGlz
dA0KCSAgICAgICAgQ2M6DQoJICAgICAgICBTdWJqZWN0OiBSRTogUXVlcnkgc3ludGF4IG9uIEtl
eXdvcmQgZmllbGQgcXVlc3Rpb24NCgkgICAgICAgDQoJICAgICAgIA0KCQ0KCSAgICAgICAgSGkg
Q2hhZCwNCgkgICAgICAgDQoJICAgICAgICA+IEJ1dCBJIGFzc3VtZSB0aGlzIGZpeCB3b24ndCBj
b21lIG91dCBmb3Igc29tZSB0aW1lLiAgSXMgdGhlcmUgYSB3YXkgSSBjYW4gZ2V0IHRoaXMgZml4
IHNvb25lcj8NCgkgICAgICAgID4gSSdtIHVwIGFnYWluc3QgYSBkZWFkbGluZSBhbmQgd291bGQg
dmVyeSBtdWNoIGxpa2UgdGhpcyBmdW5jdGlvbmFsaXR5Lg0KCSAgICAgICANCgkgICAgICAgIEp1
c3QgZ2V0IGx1Y2VuZXMgc291cmNlcywgY2hhbmdlIHRoZSBsaW5lIGFuZCByZWNvbXBpbGUuDQoJ
ICAgICAgICBUaGUgZGlmZmljdWx0IHBhcnQgaXMgdG8gZ2V0IGEgY29weSBvZiBKYXZhQ0MgMiAo
MyB3b24ndCBkbyksIGJ1dCBJIHRoaW5rDQoJICAgICAgICB0aGlzIGNhbiBiZSBmb3VuZCBpbiB0
aGUgYXJjaGl2ZXMuDQoJICAgICAgIA0KCSAgICAgICAgPg0KCSAgICAgICAgPiBBbmQgdG8gZ28g
b25lIG1vcmUgc3RlcCB3aXRoIHRoZSBLZXl3b3JkQW5hbHl6ZXIgdGhhdCBJIHdyb3RlLCBjaGFu
Z2luZyB0aGlzIG1ldGhvZCB0byBza2lwIHRoZSBlc2NhcGU6DQoJICAgICAgICA+ICAgICBwcm90
ZWN0ZWQgYm9vbGVhbiBpc1Rva2VuQ2hhcihjaGFyIGMpDQoJICAgICAgICA+ICAgICB7DQoJICAg
ICAgICA+ICAgICAgICAgIGlmIChjID09ICdcXCcpDQoJICAgICAgICA+ICAgICAgICAgIHsNCgkg
ICAgICAgID4gICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KCSAgICAgICAgPiAgICAgICAgICB9
DQoJICAgICAgICA+ICAgICAgICAgIGVsc2UNCgkgICAgICAgID4gICAgICAgICAgew0KCSAgICAg
ICAgPiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCgkgICAgICAgID4gICAgICAgICAgfQ0KCSAg
ICAgICAgPiAgICAgICB9DQoJICAgICAgICA+IFRoZSB0ZXN0IHRoZW4gcmV0dXJucyB3aXRoIGEg
c3BhY2U6DQoJICAgICAgICA+ICBoZWFsdGhlY2FyZS5kb21haW4ubHVjZW5lc2VhcmNoLktleXdv
cmRBbmFseXplcjoNCgkgICAgICAgID4gICBbSFctTkNJX1RPUElDU10NCgkgICAgICAgID4gcXVl
cnkuVG9TdHJpbmcgPSArY2F0ZWdvcnk6IkhXIC1OQ0lfVE9QSUNTIiArc3BhY2UNCgkgICAgICAg
ID4ganVuaXQuZnJhbWV3b3JrLkNvbXBhcmlzb25GYWlsdXJlOiBIVy1OQ0lfVE9QSUNTIGtlcHQg
YXMtaXMNCgkgICAgICAgID4gRXhwZWN0ZWQ6K2NhdGVnb3J5OkhXXC1OQ0lfVE9QSUNTICtzcGFj
ZQ0KCSAgICAgICAgPiBBY3R1YWwgIDorY2F0ZWdvcnk6IkhXIC1OQ0lfVE9QSUNTIiArc3BhY2Ug
ICA8LS0tLW5vdGUgc3BhY2Ugd2hlcmUgZXNjYXBlIHdhcy4NCgkgICAgICAgDQoJICAgICAgICBT
dXJlLiBJZiBcIGlzbid0IGEgdG9rZW4gY2hhciwgaXQgZW5kJ3MgdGhlIHRva2VuLg0KCSAgICAg
ICAgU28geW91IHdpbGwgaGF2ZSB0byBsb29rIGZvciBhIGRpZmZlcmVudCB3YXkgb2YgaW1wbGVt
ZW50aW5nIHRoZQ0KCSAgICAgICAgYW5hbHl6ZXIuIFNob3VsZG4ndCBiZSB0aGF0IGRpZmZpY3Vs
dCBzaW5jZSB5b3UgaGF2ZSBvbmx5IG9uZSB0b2tlbi4NCgkgICAgICAgDQoJICAgICAgICBNYXli
ZSBpdCBzaG91bGQgYmUgdGhlIGpvYiBvZiB0aGUgcXVlcnkgcGFyc2VyIHRvIHJlbW92ZSB0aGUg
ZXNjYXBlIGNoYXJhY3Rlcg0KCSAgICAgICAgKHdvdWxkIG1ha2UgbW9yZSBzZW5zZSB0byBtZSBh
dCBsZWFzdCkgYnV0IHRoYXQgd291bGQgYmUgYW5vdGhlciBjaGFuZ2UNCgkgICAgICAgIG9mIHRo
ZSBxdWVyeSBwYXJzZXIuLi4NCgkgICAgICAgDQoJICAgICAgICBNb3J1cw0KCSAgICAgICANCgkg
ICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KCSAgICAgICAgVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVj
ZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJICAgICAgICBGb3IgYWRk
aXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hl
Lm9yZw0KCSAgICAgICANCgkgICAgICAgDQoJDQoJDQoNCg==


------_=_NextPart_001_01C411A9.852D2F00
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C411A9.852D2F00--

From lucene-user-return-7643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:29:21 2004
Return-Path: <lucene-user-return-7643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74960 invoked from network); 24 Mar 2004 14:29:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:29:21 -0000
Received: (qmail 57787 invoked by uid 500); 24 Mar 2004 14:29:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57763 invoked by uid 500); 24 Mar 2004 14:29:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57748 invoked from network); 24 Mar 2004 14:29:11 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:29:11 -0000
Message-ID: <20040324142913.18067.qmail@web12707.mail.yahoo.com>
Received: from [195.29.121.244] by web12707.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 06:29:13 PST
Date: Wed, 24 Mar 2004 06:29:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Query syntax on Keyword field question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C92@elwood.definityhealth.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

JavaCC 3.2 works for me.

Otis

--- Chad Small <Chad.Small@definityhealth.com> wrote:
> thanks.  I was in the process of getting javacc3.2 setup.  I'll have
> to hunt for 2.x.
>  
> chad.
> 
> 	-----Original Message----- 
> 	From: Morus Walter [mailto:morus.walter@tanto.de] 
> 	Sent: Wed 3/24/2004 8:00 AM 
> 	To: Lucene Users List 
> 	Cc: 
> 	Subject: RE: Query syntax on Keyword field question
> 	
> 	
> 
> 	Hi Chad,
> 	
> 	> But I assume this fix won't come out for some time.  Is there a
> way I can get this fix sooner? 
> 	> I'm up against a deadline and would very much like this
> functionality.
> 	
> 	Just get lucenes sources, change the line and recompile.
> 	The difficult part is to get a copy of JavaCC 2 (3 won't do), but I
> think
> 	this can be found in the archives.
> 	
> 	> 
> 	> And to go one more step with the KeywordAnalyzer that I wrote,
> changing this method to skip the escape:
> 	>     protected boolean isTokenChar(char c)
> 	>     {
> 	>          if (c == '\\')
> 	>          {
> 	>             return false;
> 	>          }
> 	>          else
> 	>          {
> 	>             return true;
> 	>          }
> 	>       }
> 	> The test then returns with a space:
> 	>  healthecare.domain.lucenesearch.KeywordAnalyzer:
> 	>   [HW-NCI_TOPICS]
> 	> query.ToString = +category:"HW -NCI_TOPICS" +space
> 	> junit.framework.ComparisonFailure: HW-NCI_TOPICS kept as-is
> 	> Expected:+category:HW\-NCI_TOPICS +space
> 	> Actual  :+category:"HW -NCI_TOPICS" +space   <----note space where
> escape was.
> 	
> 	Sure. If \ isn't a token char, it end's the token.
> 	So you will have to look for a different way of implementing the
> 	analyzer. Shouldn't be that difficult since you have only one token.
> 	
> 	Maybe it should be the job of the query parser to remove the escape
> character
> 	(would make more sense to me at least) but that would be another
> change
> 	of the query parser...
> 	
> 	Morus
> 	
> 
> ---------------------------------------------------------------------
> 	To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 	
> 	
> 
> >
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:35:27 2004
Return-Path: <lucene-user-return-7644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78607 invoked from network); 24 Mar 2004 14:35:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:35:27 -0000
Received: (qmail 81402 invoked by uid 500); 24 Mar 2004 14:34:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81357 invoked by uid 500); 24 Mar 2004 14:34:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81289 invoked from network); 24 Mar 2004 14:34:13 -0000
Received: from unknown (HELO ns2.definityhealth.com) (209.117.208.66)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:34:13 -0000
Received: from elwood.definityhealth.com ([10.19.3.122])
	by ns2.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2OEYFZ07108
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:34:15 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C411AD.14F52328"
Subject: RE: Query syntax on Keyword field question
Date: Wed, 24 Mar 2004 08:34:15 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C94@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C94@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRrGShLc7/6+58SSuWFgZdEQBxuAAAIJwE
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411AD.14F52328
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SSdtIGdldHRpbmcgdGhpcyB3aXRoIDMuMjoNCiANCmphdmFjYy1jaGVjazoNCkJVSUxEIEZBSUxF
RA0KZmlsZTpEOi9hcHBsaWNhdGlvbnMvbHVjZW5lLTEuMy1maW5hbC9idWlsZC54bWw6OTc6DQog
ICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMNCiAgICAgIEphdmFDQyBub3QgZm91bmQuDQogICAgICBKYXZhQ0MgSG9t
ZTogL2FwcGxpY2F0aW9ucy9qYXZhY2MtMy4yL2Jpbg0KICAgICAgSmF2YUNDIEpBUjogRDpcYXBw
bGljYXRpb25zXGphdmFjYy0zLjJcYmluXGJpblxsaWJcamF2YWNjLmphcg0KICAgICAgUGxlYXNl
IGRvd25sb2FkIGFuZCBpbnN0YWxsIEphdmFDQyBmcm9tOg0KICAgICAgPGh0dHA6Ly9qYXZhY2Mu
ZGV2LmphdmEubmV0Pg0KICAgICAgVGhlbiwgY3JlYXRlIGEgYnVpbGQucHJvcGVydGllcyBmaWxl
IGVpdGhlciBpbiB5b3VyIGhvbWUNCiAgICAgIGRpcmVjdG9yeSwgb3Igd2l0aGluIHRoZSBMdWNl
bmUgZGlyZWN0b3J5IGFuZCBzZXQgdGhlIGphdmFjYy5ob21lDQogICAgICBwcm9wZXJ0eSB0byB0
aGUgcGF0aCB3aGVyZSBKYXZhQ0MgaXMgaW5zdGFsbGVkLiBGb3IgZXhhbXBsZSwNCiAgICAgIGlm
IHlvdSBpbnN0YWxsZWQgSmF2YUNDIGluIC91c3IvbG9jYWwvamF2YS9qYXZhY2MtMy4yLCB0aGVu
IHNldCB0aGUNCiAgICAgIGphdmFjYy5ob21lIHByb3BlcnR5IHRvOg0KICAgICAgamF2YWNjLmhv
bWU9L3Vzci9sb2NhbC9qYXZhL2phdmFjYy0zLjINCiAgICAgIElmIHlvdSBnZXQgYW4gZXJyb3Ig
bGlrZSB0aGUgb25lIGJlbG93LCB0aGVuIHlvdSBoYXZlIG5vdCBpbnN0YWxsZWQNCiAgICAgIHRo
aW5ncyBjb3JyZWN0bHkuIFBsZWFzZSBjaGVjayBhbGwgeW91ciBwYXRocyBhbmQgdHJ5IGFnYWlu
Lg0KICAgICAgamF2YS5sYW5nLk5vQ2xhc3NEZWZGb3VuZEVycm9yOiBvcmcuamF2YWNjLnBhcnNl
ci5NYWluDQogICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCiANCmV2ZW4gdGhvdWdoIEkgcHV0IGEgYnVpbGQucHJv
cGVydGllcyBmaWxlIGluIG15IHJvb3QgbHVjZW5lIGRpcmVjdG9yeSB3aXRoIHRoaXMgaW4gaXQ6
DQpqYXZhY2MuaG9tZT0vYXBwbGljYXRpb25zL2phdmFjYy0zLjIvYmluDQogDQpobW0/DQoNCgkt
LS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBPdGlzIEdvc3BvZG5ldGljIFttYWls
dG86b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb21dIA0KCVNlbnQ6IFdlZCAzLzI0LzIwMDQgODoy
OSBBTSANCglUbzogTHVjZW5lIFVzZXJzIExpc3QgDQoJQ2M6IA0KCVN1YmplY3Q6IFJFOiBRdWVy
eSBzeW50YXggb24gS2V5d29yZCBmaWVsZCBxdWVzdGlvbg0KCQ0KCQ0KDQoJSmF2YUNDIDMuMiB3
b3JrcyBmb3IgbWUuDQoJDQoJT3Rpcw0KCQ0KCS0tLSBDaGFkIFNtYWxsIDxDaGFkLlNtYWxsQGRl
ZmluaXR5aGVhbHRoLmNvbT4gd3JvdGU6DQoJPiB0aGFua3MuICBJIHdhcyBpbiB0aGUgcHJvY2Vz
cyBvZiBnZXR0aW5nIGphdmFjYzMuMiBzZXR1cC4gIEknbGwgaGF2ZQ0KCT4gdG8gaHVudCBmb3Ig
Mi54Lg0KCT4gDQoJPiBjaGFkLg0KCT4NCgk+ICAgICAgIC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0t
LS0tDQoJPiAgICAgICBGcm9tOiBNb3J1cyBXYWx0ZXIgW21haWx0bzptb3J1cy53YWx0ZXJAdGFu
dG8uZGVdDQoJPiAgICAgICBTZW50OiBXZWQgMy8yNC8yMDA0IDg6MDAgQU0NCgk+ICAgICAgIFRv
OiBMdWNlbmUgVXNlcnMgTGlzdA0KCT4gICAgICAgQ2M6DQoJPiAgICAgICBTdWJqZWN0OiBSRTog
UXVlcnkgc3ludGF4IG9uIEtleXdvcmQgZmllbGQgcXVlc3Rpb24NCgk+ICAgICAgDQoJPiAgICAg
IA0KCT4NCgk+ICAgICAgIEhpIENoYWQsDQoJPiAgICAgIA0KCT4gICAgICAgPiBCdXQgSSBhc3N1
bWUgdGhpcyBmaXggd29uJ3QgY29tZSBvdXQgZm9yIHNvbWUgdGltZS4gIElzIHRoZXJlIGENCgk+
IHdheSBJIGNhbiBnZXQgdGhpcyBmaXggc29vbmVyPw0KCT4gICAgICAgPiBJJ20gdXAgYWdhaW5z
dCBhIGRlYWRsaW5lIGFuZCB3b3VsZCB2ZXJ5IG11Y2ggbGlrZSB0aGlzDQoJPiBmdW5jdGlvbmFs
aXR5Lg0KCT4gICAgICANCgk+ICAgICAgIEp1c3QgZ2V0IGx1Y2VuZXMgc291cmNlcywgY2hhbmdl
IHRoZSBsaW5lIGFuZCByZWNvbXBpbGUuDQoJPiAgICAgICBUaGUgZGlmZmljdWx0IHBhcnQgaXMg
dG8gZ2V0IGEgY29weSBvZiBKYXZhQ0MgMiAoMyB3b24ndCBkbyksIGJ1dCBJDQoJPiB0aGluaw0K
CT4gICAgICAgdGhpcyBjYW4gYmUgZm91bmQgaW4gdGhlIGFyY2hpdmVzLg0KCT4gICAgICANCgk+
ICAgICAgID4NCgk+ICAgICAgID4gQW5kIHRvIGdvIG9uZSBtb3JlIHN0ZXAgd2l0aCB0aGUgS2V5
d29yZEFuYWx5emVyIHRoYXQgSSB3cm90ZSwNCgk+IGNoYW5naW5nIHRoaXMgbWV0aG9kIHRvIHNr
aXAgdGhlIGVzY2FwZToNCgk+ICAgICAgID4gICAgIHByb3RlY3RlZCBib29sZWFuIGlzVG9rZW5D
aGFyKGNoYXIgYykNCgk+ICAgICAgID4gICAgIHsNCgk+ICAgICAgID4gICAgICAgICAgaWYgKGMg
PT0gJ1xcJykNCgk+ICAgICAgID4gICAgICAgICAgew0KCT4gICAgICAgPiAgICAgICAgICAgICBy
ZXR1cm4gZmFsc2U7DQoJPiAgICAgICA+ICAgICAgICAgIH0NCgk+ICAgICAgID4gICAgICAgICAg
ZWxzZQ0KCT4gICAgICAgPiAgICAgICAgICB7DQoJPiAgICAgICA+ICAgICAgICAgICAgIHJldHVy
biB0cnVlOw0KCT4gICAgICAgPiAgICAgICAgICB9DQoJPiAgICAgICA+ICAgICAgIH0NCgk+ICAg
ICAgID4gVGhlIHRlc3QgdGhlbiByZXR1cm5zIHdpdGggYSBzcGFjZToNCgk+ICAgICAgID4gIGhl
YWx0aGVjYXJlLmRvbWFpbi5sdWNlbmVzZWFyY2guS2V5d29yZEFuYWx5emVyOg0KCT4gICAgICAg
PiAgIFtIVy1OQ0lfVE9QSUNTXQ0KCT4gICAgICAgPiBxdWVyeS5Ub1N0cmluZyA9ICtjYXRlZ29y
eToiSFcgLU5DSV9UT1BJQ1MiICtzcGFjZQ0KCT4gICAgICAgPiBqdW5pdC5mcmFtZXdvcmsuQ29t
cGFyaXNvbkZhaWx1cmU6IEhXLU5DSV9UT1BJQ1Mga2VwdCBhcy1pcw0KCT4gICAgICAgPiBFeHBl
Y3RlZDorY2F0ZWdvcnk6SFdcLU5DSV9UT1BJQ1MgK3NwYWNlDQoJPiAgICAgICA+IEFjdHVhbCAg
OitjYXRlZ29yeToiSFcgLU5DSV9UT1BJQ1MiICtzcGFjZSAgIDwtLS0tbm90ZSBzcGFjZSB3aGVy
ZQ0KCT4gZXNjYXBlIHdhcy4NCgk+ICAgICAgDQoJPiAgICAgICBTdXJlLiBJZiBcIGlzbid0IGEg
dG9rZW4gY2hhciwgaXQgZW5kJ3MgdGhlIHRva2VuLg0KCT4gICAgICAgU28geW91IHdpbGwgaGF2
ZSB0byBsb29rIGZvciBhIGRpZmZlcmVudCB3YXkgb2YgaW1wbGVtZW50aW5nIHRoZQ0KCT4gICAg
ICAgYW5hbHl6ZXIuIFNob3VsZG4ndCBiZSB0aGF0IGRpZmZpY3VsdCBzaW5jZSB5b3UgaGF2ZSBv
bmx5IG9uZSB0b2tlbi4NCgk+ICAgICAgDQoJPiAgICAgICBNYXliZSBpdCBzaG91bGQgYmUgdGhl
IGpvYiBvZiB0aGUgcXVlcnkgcGFyc2VyIHRvIHJlbW92ZSB0aGUgZXNjYXBlDQoJPiBjaGFyYWN0
ZXINCgk+ICAgICAgICh3b3VsZCBtYWtlIG1vcmUgc2Vuc2UgdG8gbWUgYXQgbGVhc3QpIGJ1dCB0
aGF0IHdvdWxkIGJlIGFub3RoZXINCgk+IGNoYW5nZQ0KCT4gICAgICAgb2YgdGhlIHF1ZXJ5IHBh
cnNlci4uLg0KCT4gICAgICANCgk+ICAgICAgIE1vcnVzDQoJPiAgICAgIA0KCT4NCgk+IC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQ0KCT4gICAgICAgVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVjZW5lLXVzZXItdW5z
dWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJPiAgICAgICBGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KCT4gICAg
ICANCgk+ICAgICAgDQoJPg0KCT4gPg0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCT4gVG8gdW5zdWJzY3JpYmUs
IGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJPiBG
b3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEu
YXBhY2hlLm9yZw0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3Jn
DQoJDQoJDQoNCg==


------_=_NextPart_001_01C411AD.14F52328
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C411AD.14F52328--

From lucene-user-return-7645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:44:18 2004
Return-Path: <lucene-user-return-7645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84878 invoked from network); 24 Mar 2004 14:44:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:44:18 -0000
Received: (qmail 20395 invoked by uid 500); 24 Mar 2004 14:44:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20373 invoked by uid 500); 24 Mar 2004 14:44:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20358 invoked from network); 24 Mar 2004 14:44:07 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:44:07 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 795B619B7C9
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 15:44:08 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2OEi8Ew004250
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 15:44:08 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i2OEi8wd004246;
	Wed, 24 Mar 2004 15:44:08 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16481.40632.325060.844014@tanto-xipolis.de>
Date: Wed, 24 Mar 2004 15:44:08 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query syntax on Keyword field question
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C94@elwood.definityhealth.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C94@elwood.definityhealth.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chad Small writes:
> I'm getting this with 3.2:
>  
> javacc-check:
> BUILD FAILED
> file:D:/applications/lucene-1.3-final/build.xml:97:
>       ##################################################################
>       JavaCC not found.
>       JavaCC Home: /applications/javacc-3.2/bin
>       JavaCC JAR: D:\applications\javacc-3.2\bin\bin\lib\javacc.jar
>       Please download and install JavaCC from:
>       <http://javacc.dev.java.net>
>       Then, create a build.properties file either in your home
>       directory, or within the Lucene directory and set the javacc.home
>       property to the path where JavaCC is installed. For example,
>       if you installed JavaCC in /usr/local/java/javacc-3.2, then set the
>       javacc.home property to:
>       javacc.home=/usr/local/java/javacc-3.2
>       If you get an error like the one below, then you have not installed
>       things correctly. Please check all your paths and try again.
>       java.lang.NoClassDefFoundError: org.javacc.parser.Main
>       ##################################################################
>  
> even though I put a build.properties file in my root lucene directory with this in it:
> javacc.home=/applications/javacc-3.2/bin
>  
I never tried javacc 3.2 but I thought there were issues with query parser
and/or standard analyzer.
Seems I'm wrong or outdated.

In your case the problem seems to be installation of javacc.

I guess the /bin directory should not be part of javacc.home.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 14:46:39 2004
Return-Path: <lucene-user-return-7646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86843 invoked from network); 24 Mar 2004 14:46:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 14:46:39 -0000
Received: (qmail 29011 invoked by uid 500); 24 Mar 2004 14:46:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28962 invoked by uid 500); 24 Mar 2004 14:46:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28884 invoked from network); 24 Mar 2004 14:46:10 -0000
Received: from unknown (HELO ns2.definityhealth.com) (209.117.208.66)
  by daedalus.apache.org with SMTP; 24 Mar 2004 14:46:10 -0000
Received: from elwood.definityhealth.com ([10.19.3.122])
	by ns2.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2OEkBZ07305
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 08:46:11 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C411AE.BFB18420"
Subject: RE: Query syntax on Keyword field question
Date: Wed, 24 Mar 2004 08:46:11 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C95@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02C95@elwood.definityhealth.com>
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRrGShLc7/6+58SSuWFgZdEQBxuAAAIJwEAABlisI=
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411AE.BFB18420
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

QWhoLCB3aXRob3V0IHRoZSBiaW4gb24gdGhlIGphdmFjYy5ob21lIC0gMy4yIHNlZW1zIHRvIHdv
cmsgZm9yIG1lIHRvLg0KDQoJLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0gDQoJRnJvbTogQ2hh
ZCBTbWFsbCANCglTZW50OiBXZWQgMy8yNC8yMDA0IDg6MzQgQU0gDQoJVG86IEx1Y2VuZSBVc2Vy
cyBMaXN0IA0KCUNjOiANCglTdWJqZWN0OiBSRTogUXVlcnkgc3ludGF4IG9uIEtleXdvcmQgZmll
bGQgcXVlc3Rpb24NCgkNCgkNCg0KCUknbSBnZXR0aW5nIHRoaXMgd2l0aCAzLjI6DQoJDQoJamF2
YWNjLWNoZWNrOg0KCUJVSUxEIEZBSUxFRA0KCWZpbGU6RDovYXBwbGljYXRpb25zL2x1Y2VuZS0x
LjMtZmluYWwvYnVpbGQueG1sOjk3Og0KCSAgICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KCSAgICAgIEphdmFDQyBu
b3QgZm91bmQuDQoJICAgICAgSmF2YUNDIEhvbWU6IC9hcHBsaWNhdGlvbnMvamF2YWNjLTMuMi9i
aW4NCgkgICAgICBKYXZhQ0MgSkFSOiBEOlxhcHBsaWNhdGlvbnNcamF2YWNjLTMuMlxiaW5cYmlu
XGxpYlxqYXZhY2MuamFyDQoJICAgICAgUGxlYXNlIGRvd25sb2FkIGFuZCBpbnN0YWxsIEphdmFD
QyBmcm9tOg0KCSAgICAgIDxodHRwOi8vamF2YWNjLmRldi5qYXZhLm5ldD4NCgkgICAgICBUaGVu
LCBjcmVhdGUgYSBidWlsZC5wcm9wZXJ0aWVzIGZpbGUgZWl0aGVyIGluIHlvdXIgaG9tZQ0KCSAg
ICAgIGRpcmVjdG9yeSwgb3Igd2l0aGluIHRoZSBMdWNlbmUgZGlyZWN0b3J5IGFuZCBzZXQgdGhl
IGphdmFjYy5ob21lDQoJICAgICAgcHJvcGVydHkgdG8gdGhlIHBhdGggd2hlcmUgSmF2YUNDIGlz
IGluc3RhbGxlZC4gRm9yIGV4YW1wbGUsDQoJICAgICAgaWYgeW91IGluc3RhbGxlZCBKYXZhQ0Mg
aW4gL3Vzci9sb2NhbC9qYXZhL2phdmFjYy0zLjIsIHRoZW4gc2V0IHRoZQ0KCSAgICAgIGphdmFj
Yy5ob21lIHByb3BlcnR5IHRvOg0KCSAgICAgIGphdmFjYy5ob21lPS91c3IvbG9jYWwvamF2YS9q
YXZhY2MtMy4yDQoJICAgICAgSWYgeW91IGdldCBhbiBlcnJvciBsaWtlIHRoZSBvbmUgYmVsb3cs
IHRoZW4geW91IGhhdmUgbm90IGluc3RhbGxlZA0KCSAgICAgIHRoaW5ncyBjb3JyZWN0bHkuIFBs
ZWFzZSBjaGVjayBhbGwgeW91ciBwYXRocyBhbmQgdHJ5IGFnYWluLg0KCSAgICAgIGphdmEubGFu
Zy5Ob0NsYXNzRGVmRm91bmRFcnJvcjogb3JnLmphdmFjYy5wYXJzZXIuTWFpbg0KCSAgICAgICMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIw0KCQ0KCWV2ZW4gdGhvdWdoIEkgcHV0IGEgYnVpbGQucHJvcGVydGllcyBmaWxlIGlu
IG15IHJvb3QgbHVjZW5lIGRpcmVjdG9yeSB3aXRoIHRoaXMgaW4gaXQ6DQoJamF2YWNjLmhvbWU9
L2FwcGxpY2F0aW9ucy9qYXZhY2MtMy4yL2Jpbg0KCQ0KCWhtbT8NCgkNCgkgICAgICAgIC0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tDQoJICAgICAgICBGcm9tOiBPdGlzIEdvc3BvZG5ldGljIFtt
YWlsdG86b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb21dDQoJICAgICAgICBTZW50OiBXZWQgMy8y
NC8yMDA0IDg6MjkgQU0NCgkgICAgICAgIFRvOiBMdWNlbmUgVXNlcnMgTGlzdA0KCSAgICAgICAg
Q2M6DQoJICAgICAgICBTdWJqZWN0OiBSRTogUXVlcnkgc3ludGF4IG9uIEtleXdvcmQgZmllbGQg
cXVlc3Rpb24NCgkgICAgICAgDQoJICAgICAgIA0KCQ0KCSAgICAgICAgSmF2YUNDIDMuMiB3b3Jr
cyBmb3IgbWUuDQoJICAgICAgIA0KCSAgICAgICAgT3Rpcw0KCSAgICAgICANCgkgICAgICAgIC0t
LSBDaGFkIFNtYWxsIDxDaGFkLlNtYWxsQGRlZmluaXR5aGVhbHRoLmNvbT4gd3JvdGU6DQoJICAg
ICAgICA+IHRoYW5rcy4gIEkgd2FzIGluIHRoZSBwcm9jZXNzIG9mIGdldHRpbmcgamF2YWNjMy4y
IHNldHVwLiAgSSdsbCBoYXZlDQoJICAgICAgICA+IHRvIGh1bnQgZm9yIDIueC4NCgkgICAgICAg
ID4NCgkgICAgICAgID4gY2hhZC4NCgkgICAgICAgID4NCgkgICAgICAgID4gICAgICAgLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCgkgICAgICAgID4gICAgICAgRnJvbTogTW9ydXMgV2FsdGVy
IFttYWlsdG86bW9ydXMud2FsdGVyQHRhbnRvLmRlXQ0KCSAgICAgICAgPiAgICAgICBTZW50OiBX
ZWQgMy8yNC8yMDA0IDg6MDAgQU0NCgkgICAgICAgID4gICAgICAgVG86IEx1Y2VuZSBVc2VycyBM
aXN0DQoJICAgICAgICA+ICAgICAgIENjOg0KCSAgICAgICAgPiAgICAgICBTdWJqZWN0OiBSRTog
UXVlcnkgc3ludGF4IG9uIEtleXdvcmQgZmllbGQgcXVlc3Rpb24NCgkgICAgICAgID4gICAgIA0K
CSAgICAgICAgPiAgICAgDQoJICAgICAgICA+DQoJICAgICAgICA+ICAgICAgIEhpIENoYWQsDQoJ
ICAgICAgICA+ICAgICANCgkgICAgICAgID4gICAgICAgPiBCdXQgSSBhc3N1bWUgdGhpcyBmaXgg
d29uJ3QgY29tZSBvdXQgZm9yIHNvbWUgdGltZS4gIElzIHRoZXJlIGENCgkgICAgICAgID4gd2F5
IEkgY2FuIGdldCB0aGlzIGZpeCBzb29uZXI/DQoJICAgICAgICA+ICAgICAgID4gSSdtIHVwIGFn
YWluc3QgYSBkZWFkbGluZSBhbmQgd291bGQgdmVyeSBtdWNoIGxpa2UgdGhpcw0KCSAgICAgICAg
PiBmdW5jdGlvbmFsaXR5Lg0KCSAgICAgICAgPiAgICAgDQoJICAgICAgICA+ICAgICAgIEp1c3Qg
Z2V0IGx1Y2VuZXMgc291cmNlcywgY2hhbmdlIHRoZSBsaW5lIGFuZCByZWNvbXBpbGUuDQoJICAg
ICAgICA+ICAgICAgIFRoZSBkaWZmaWN1bHQgcGFydCBpcyB0byBnZXQgYSBjb3B5IG9mIEphdmFD
QyAyICgzIHdvbid0IGRvKSwgYnV0IEkNCgkgICAgICAgID4gdGhpbmsNCgkgICAgICAgID4gICAg
ICAgdGhpcyBjYW4gYmUgZm91bmQgaW4gdGhlIGFyY2hpdmVzLg0KCSAgICAgICAgPiAgICAgDQoJ
ICAgICAgICA+ICAgICAgID4NCgkgICAgICAgID4gICAgICAgPiBBbmQgdG8gZ28gb25lIG1vcmUg
c3RlcCB3aXRoIHRoZSBLZXl3b3JkQW5hbHl6ZXIgdGhhdCBJIHdyb3RlLA0KCSAgICAgICAgPiBj
aGFuZ2luZyB0aGlzIG1ldGhvZCB0byBza2lwIHRoZSBlc2NhcGU6DQoJICAgICAgICA+ICAgICAg
ID4gICAgIHByb3RlY3RlZCBib29sZWFuIGlzVG9rZW5DaGFyKGNoYXIgYykNCgkgICAgICAgID4g
ICAgICAgPiAgICAgew0KCSAgICAgICAgPiAgICAgICA+ICAgICAgICAgIGlmIChjID09ICdcXCcp
DQoJICAgICAgICA+ICAgICAgID4gICAgICAgICAgew0KCSAgICAgICAgPiAgICAgICA+ICAgICAg
ICAgICAgIHJldHVybiBmYWxzZTsNCgkgICAgICAgID4gICAgICAgPiAgICAgICAgICB9DQoJICAg
ICAgICA+ICAgICAgID4gICAgICAgICAgZWxzZQ0KCSAgICAgICAgPiAgICAgICA+ICAgICAgICAg
IHsNCgkgICAgICAgID4gICAgICAgPiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCgkgICAgICAg
ID4gICAgICAgPiAgICAgICAgICB9DQoJICAgICAgICA+ICAgICAgID4gICAgICAgfQ0KCSAgICAg
ICAgPiAgICAgICA+IFRoZSB0ZXN0IHRoZW4gcmV0dXJucyB3aXRoIGEgc3BhY2U6DQoJICAgICAg
ICA+ICAgICAgID4gIGhlYWx0aGVjYXJlLmRvbWFpbi5sdWNlbmVzZWFyY2guS2V5d29yZEFuYWx5
emVyOg0KCSAgICAgICAgPiAgICAgICA+ICAgW0hXLU5DSV9UT1BJQ1NdDQoJICAgICAgICA+ICAg
ICAgID4gcXVlcnkuVG9TdHJpbmcgPSArY2F0ZWdvcnk6IkhXIC1OQ0lfVE9QSUNTIiArc3BhY2UN
CgkgICAgICAgID4gICAgICAgPiBqdW5pdC5mcmFtZXdvcmsuQ29tcGFyaXNvbkZhaWx1cmU6IEhX
LU5DSV9UT1BJQ1Mga2VwdCBhcy1pcw0KCSAgICAgICAgPiAgICAgICA+IEV4cGVjdGVkOitjYXRl
Z29yeTpIV1wtTkNJX1RPUElDUyArc3BhY2UNCgkgICAgICAgID4gICAgICAgPiBBY3R1YWwgIDor
Y2F0ZWdvcnk6IkhXIC1OQ0lfVE9QSUNTIiArc3BhY2UgICA8LS0tLW5vdGUgc3BhY2Ugd2hlcmUN
CgkgICAgICAgID4gZXNjYXBlIHdhcy4NCgkgICAgICAgID4gICAgIA0KCSAgICAgICAgPiAgICAg
ICBTdXJlLiBJZiBcIGlzbid0IGEgdG9rZW4gY2hhciwgaXQgZW5kJ3MgdGhlIHRva2VuLg0KCSAg
ICAgICAgPiAgICAgICBTbyB5b3Ugd2lsbCBoYXZlIHRvIGxvb2sgZm9yIGEgZGlmZmVyZW50IHdh
eSBvZiBpbXBsZW1lbnRpbmcgdGhlDQoJICAgICAgICA+ICAgICAgIGFuYWx5emVyLiBTaG91bGRu
J3QgYmUgdGhhdCBkaWZmaWN1bHQgc2luY2UgeW91IGhhdmUgb25seSBvbmUgdG9rZW4uDQoJICAg
ICAgICA+ICAgICANCgkgICAgICAgID4gICAgICAgTWF5YmUgaXQgc2hvdWxkIGJlIHRoZSBqb2Ig
b2YgdGhlIHF1ZXJ5IHBhcnNlciB0byByZW1vdmUgdGhlIGVzY2FwZQ0KCSAgICAgICAgPiBjaGFy
YWN0ZXINCgkgICAgICAgID4gICAgICAgKHdvdWxkIG1ha2UgbW9yZSBzZW5zZSB0byBtZSBhdCBs
ZWFzdCkgYnV0IHRoYXQgd291bGQgYmUgYW5vdGhlcg0KCSAgICAgICAgPiBjaGFuZ2UNCgkgICAg
ICAgID4gICAgICAgb2YgdGhlIHF1ZXJ5IHBhcnNlci4uLg0KCSAgICAgICAgPiAgICAgDQoJICAg
ICAgICA+ICAgICAgIE1vcnVzDQoJICAgICAgICA+ICAgICANCgkgICAgICAgID4NCgkgICAgICAg
ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tDQoJICAgICAgICA+ICAgICAgIFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCSAgICAgICAgPiAg
ICAgICBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGph
a2FydGEuYXBhY2hlLm9yZw0KCSAgICAgICAgPiAgICAgDQoJICAgICAgICA+ICAgICANCgkgICAg
ICAgID4NCgkgICAgICAgID4gPg0KCSAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJICAgICAgICA+IFRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBh
Y2hlLm9yZw0KCSAgICAgICAgPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNl
bmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KCSAgICAgICANCgkgICAgICAgDQoJICAg
ICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NCgkgICAgICAgIFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2Vu
ZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCSAgICAgICAgRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5v
cmcNCgkgICAgICAgDQoJICAgICAgIA0KCQ0KCQ0KDQo=


------_=_NextPart_001_01C411AE.BFB18420
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C411AE.BFB18420--

From lucene-user-return-7647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 16:54:55 2004
Return-Path: <lucene-user-return-7647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66603 invoked from network); 24 Mar 2004 16:54:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 16:54:54 -0000
Received: (qmail 10224 invoked by uid 500); 24 Mar 2004 16:52:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10151 invoked by uid 500); 24 Mar 2004 16:52:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10110 invoked from network); 24 Mar 2004 16:52:40 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 24 Mar 2004 16:52:40 -0000
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id i2OGebZr021368
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 11:40:37 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0HV300401ABPFW@lmco.com> for lucene-user@jakarta.apache.org; Wed, 24 Mar 2004 11:40:37 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0HV3008QRABFFG@lmco.com> for lucene-user@jakarta.apache.org; Wed, 24 Mar 2004 11:40:37 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 24 Mar 2004 11:40:34 -0500
Date: Wed, 24 Mar 2004 11:40:34 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: lucene usage without website
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1F23F@emss04m14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRPgSP7d3vBNHhQlCYAyI0+uNkRQAgBHhA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 24 Mar 2004 16:40:35.0007 (UTC) FILETIME=[BAE254F0:01C411BE]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I want to create a knowledgebase but it needs to be something that does
not require a server to run constantly (like with using jsp). I just
needs to run on the Windows platform.  Lucene works well with Windows
using an applet right?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 17:04:40 2004
Return-Path: <lucene-user-return-7648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73027 invoked from network); 24 Mar 2004 17:04:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 17:04:40 -0000
Received: (qmail 51317 invoked by uid 500); 24 Mar 2004 17:03:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51277 invoked by uid 500); 24 Mar 2004 17:03:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51171 invoked from network); 24 Mar 2004 17:03:56 -0000
Received: from unknown (HELO outbound1.sopragroup.com) (81.80.239.198)
  by daedalus.apache.org with SMTP; 24 Mar 2004 17:03:56 -0000
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id i2OH3s5B026580
          for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 18:03:55 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: lucene usage without website
Date: Wed, 24 Mar 2004 18:03:54 +0100
Message-ID: <5933531F07A5144E9E53E1AA45257E4B913BDE@wexchbe03.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query syntax on Keyword field question
Thread-Index: AcQRPgSP7d3vBNHhQlCYAyI0+uNkRQAgBHhAAADGmJA=
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 24 Mar 2004 17:05:02.0062 (UTC) FILETIME=[255128E0:01C411C2]
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene is not dedicated to a special application type.=20
Your can integrate it's fonctionnalities in any program that can invoke =
java APIs.

In particular I don't think that Lucene can be invoked from an applet as =
the applet API does not permit to read and write local files.



-----Message d'origine-----
De : Pleasant, Tracy [mailto:tracy.pleasant@lmco.com]
Envoy=E9 : mercredi 24 mars 2004 17:41
=C0 : Lucene Users List
Objet : lucene usage without website



I want to create a knowledgebase but it needs to be something that does
not require a server to run constantly (like with using jsp). I just
needs to run on the Windows platform.  Lucene works well with Windows
using an applet right?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 17:13:51 2004
Return-Path: <lucene-user-return-7649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78298 invoked from network); 24 Mar 2004 17:13:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 17:13:51 -0000
Received: (qmail 83891 invoked by uid 500); 24 Mar 2004 17:10:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83859 invoked by uid 500); 24 Mar 2004 17:10:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83821 invoked from network); 24 Mar 2004 17:10:47 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 24 Mar 2004 17:10:47 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 24 Mar 2004 12:10:15 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: multiple indices seacher
Date: Wed, 24 Mar 2004 12:14:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQRPgSP7d3vBNHhQlCYAyI0+uNkRQAgBHhAAADZ47A=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1F23F@emss04m14.us.lmco.com>
Message-ID: <GERMANYRG7RY9EZB6U60000662a@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 24 Mar 2004 17:10:15.0656 (UTC) FILETIME=[E03BCE80:01C411C2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

The MultiSearcher 1.3 final keeps throwing exception when rewriting query.

java.lang.UnsupportedOperationException
org.apache.lucene.search.Query:combine:139
org.apache.lucene.search.MultiSearcher:rewrite:203

I still use the Query object before the rewriting, so the search seems
working fine.

Does anyone know how to avoid this problem?  Thx. I have to call "rewrite"
in order to avoid the cached searcher's I/O problem.

Regards,
Hui



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 20:41:49 2004
Return-Path: <lucene-user-return-7650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22496 invoked from network); 24 Mar 2004 20:41:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 20:41:49 -0000
Received: (qmail 97494 invoked by uid 500); 24 Mar 2004 20:41:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97383 invoked by uid 500); 24 Mar 2004 20:41:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97360 invoked from network); 24 Mar 2004 20:41:33 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 24 Mar 2004 20:41:33 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Wed, 24 Mar 2004 13:44:59 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Wed, 24 Mar 2004 13:41:30 -0700
Message-ID: <s061900a.010@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Wed, 24 Mar 2004 13:41:06 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
cc: fchsupport@fch.ldschurch.org
Subject: analyzer for word perfect?
MIME-Version: 1.0
X-WSS-ID: 6C7F2CC1797751-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there an analyzer for WordPerfect files?

I have a need to be able to index WP files as well as MS files, pdfs, etc.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 20:58:20 2004
Return-Path: <lucene-user-return-7651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32313 invoked from network); 24 Mar 2004 20:58:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 20:58:19 -0000
Received: (qmail 40957 invoked by uid 500); 24 Mar 2004 20:58:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40656 invoked by uid 500); 24 Mar 2004 20:58:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40631 invoked from network); 24 Mar 2004 20:58:06 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 24 Mar 2004 20:58:06 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i2OKw7N20245
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 21:58:07 +0100
Received: from g40.incze.hu (localhost.localdomain [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i2OKw78a017126
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 21:58:07 +0100
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i2OKw6Ep017124
	for lucene-user@jakarta.apache.org; Wed, 24 Mar 2004 21:58:06 +0100
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Wed, 24 Mar 2004 21:58:06 +0100
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query syntax on Keyword field question
Message-ID: <20040324205806.GC13140@incze.adsl.enternet.hu>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C8E@elwood.definityhealth.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02C8E@elwood.definityhealth.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Mar 23, 2004 at 08:48:11PM -0600, Chad Small wrote:
> Thanks-you Erik and Incze.  I now understand the issue
> and I'm trying to create a "KeywordAnalyzer" as suggested
> from you book excerpt, Erik:
>  
> http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6727
>  
> However, not being all that familiar with the Analyzer framework,
> I'm not sure how to implement the "KeywordAnalyzer" even though
> it might be "trivial" :)  Any hints, code, or messages to look at?
>  

Actually, what I've written was not an analyzer, but a NotTokenizingTokenizer,
as I have a very specia analyzer (different needs for different
field catgories) and this is used in that (the code is far from the
phase of any kind of optimization, but you can see the logic):

---
package hu.emnl.lucene.analyzer;

import java.io.IOException;
import java.io.Reader;

import org.apache.lucene.analysis.Token;
import org.apache.lucene.analysis.Tokenizer;

public class NotTokenizingTokenizer extends Tokenizer {

	public NotTokenizingTokenizer() {
		super();
	}

	public NotTokenizingTokenizer(Reader input) {
		super(input);
	}

	public Token next() throws IOException {
		Token t = null;
		int c = input.read();
		if (c >= 0) {
			StringBuffer sb = new StringBuffer();  
			do {
				sb.append((char) c);
				c = input.read();
			} while (c >= 0);
			t = new Token(new String(sb), 0, sb.length());
		}
		return t;
	}
}
---

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 21:25:29 2004
Return-Path: <lucene-user-return-7652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49135 invoked from network); 24 Mar 2004 21:25:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 21:25:29 -0000
Received: (qmail 99867 invoked by uid 500); 24 Mar 2004 21:25:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99839 invoked by uid 500); 24 Mar 2004 21:25:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99823 invoked from network); 24 Mar 2004 21:25:14 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 24 Mar 2004 21:25:14 -0000
Received: from 204.127.197.111 ([204.127.197.111])
          by comcast.net (rwcrmhc13) with SMTP
          id <2004032421251701500s5a0ge>; Wed, 24 Mar 2004 21:25:17 +0000
Received: from [12.110.19.201] by 204.127.197.111;
	Wed, 24 Mar 2004 21:25:16 +0000
From: danrapp@comcast.net
To: lucene-user@jakarta.apache.org
Subject: Searching for a phrase that contains quote character
Date: Wed, 24 Mar 2004 21:25:16 +0000
Message-Id: <032420042125.18437.4061FCBC0007A26B000048052200737478FF8F8F9E8D919E@comcast.net>
X-Mailer: AT&T Message Center Version 1 (Mar 22 2004)
X-Authenticated-Sender: ZGFucmFwcEBjb21jYXN0Lm5ldA==
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'd like to search for a phrase that contains the quote character. I've tried 
escaping the quote character, but am receiving a ParseException from the 
QueryParser:

For example to search for the phrase:

     this is a "test"

I'm trying the following

     QueryParser.parse("field:\"This is a \\\"test\\\"\"", "field", new StandardAnalyzer());

This results in:

org.apache.lucene.queryParser.ParseException: Lexical error at line 1, column 31.  Encountered: <EOF> after : ""
	at org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:111)
	at org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:87)
        ...

What is the proper way to accomplish this?

--Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 21:32:54 2004
Return-Path: <lucene-user-return-7653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52795 invoked from network); 24 Mar 2004 21:32:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 21:32:54 -0000
Received: (qmail 17335 invoked by uid 500); 24 Mar 2004 21:32:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17281 invoked by uid 500); 24 Mar 2004 21:32:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17225 invoked from network); 24 Mar 2004 21:32:21 -0000
Received: from unknown (HELO athos.duhs.duke.edu) (152.16.195.41)
  by daedalus.apache.org with SMTP; 24 Mar 2004 21:32:21 -0000
Received: from goldberry.notes.duke.edu (goldberry.notes.duke.edu [152.16.18.14])
	by athos.duhs.duke.edu (8.12.11/8.12.11) with ESMTP id i2OLWMnB409234
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 16:32:22 -0500
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
From: Russell S Koonts <koont004@mc.duke.edu>
Subject: Cannot access hits
Date: Wed, 24 Mar 2004 16:32:21 -0500
Message-ID: <OF3A2B0B8A.CA89D937-ON85256E61.00765144-85256E61.007651AA@notes.duke.edu>
X-MIMETrack: Serialize by Router on goldberry.notes.duke.edu/DUMC_Services/mc/Duke(Release
 6.0.3HF22 | October 10, 2003) at 03/24/2004 16:32:22
Content-type: text/plain; charset=US-ASCII
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Greetings.  I have recently had to re-install my web server.  Once
completed, however, I cannot get the Lucene search to work. It worked
before the crash and it works on my laptop.  When conducting searches now,
I get the following message:

org.apache.cocoon.ProcessingException: Cannot access hits:
java.io.IOException: Permission denied

for full message see:

http://archives.mc.duke.edu/search?queryString=Davison

Can anyone suggest a place to start looking to add the correct permissions?

Thank you,

Russell


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 21:37:46 2004
Return-Path: <lucene-user-return-7654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55269 invoked from network); 24 Mar 2004 21:37:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 21:37:46 -0000
Received: (qmail 30628 invoked by uid 500); 24 Mar 2004 21:37:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30604 invoked by uid 500); 24 Mar 2004 21:37:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30589 invoked from network); 24 Mar 2004 21:37:31 -0000
Received: from unknown (HELO mail.alterpoint.com) (209.163.186.166)
  by daedalus.apache.org with SMTP; 24 Mar 2004 21:37:31 -0000
Subject: Changes to QueryParser.jj: Status?
From: Ravi Rao <rrao@alterpoint.com>
To: lucene-user@jakarta.apache.org
Cc: Ravi Rao <rrao@alterpoint.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <1080164253.23174.108.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5-2.norlug 
Date: Wed, 24 Mar 2004 15:37:33 -0600
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear All,

Some time ago there was a discussion on modifying the definitions of
tokens in QueryParser so that the character '-' (dash), and others,
will be treated as part of a word.

Can someone please tell me the status of that discussion.  Will these
changes actually be reflected in the code...soon?

Thanks,
-- 
Ravi/

PS: The title of the thread in the previous discussion was
'Problem with search results'

Ravi(ndra) Rao
AlterPoint Inc.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 21:58:49 2004
Return-Path: <lucene-user-return-7655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66033 invoked from network); 24 Mar 2004 21:58:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 21:58:49 -0000
Received: (qmail 77524 invoked by uid 500); 24 Mar 2004 21:58:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77465 invoked by uid 500); 24 Mar 2004 21:58:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77410 invoked from network); 24 Mar 2004 21:58:14 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 24 Mar 2004 21:58:14 -0000
Message-ID: <20040324215810.8403.qmail@web12708.mail.yahoo.com>
Received: from [195.29.132.221] by web12708.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 13:58:10 PST
Date: Wed, 24 Mar 2004 13:58:10 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Cannot access hits
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OF3A2B0B8A.CA89D937-ON85256E61.00765144-85256E61.007651AA@notes.duke.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The source of your problem is simple UNIX permission:

java.io.IOException: Permission denied
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createNewFile(File.java:688)
	at org.apache.lucene.store.FSDirectory$1.obtain(Unknown Source)

Figure out what directory Java's java.io.tmpdir system property points
to, and make sure that directory is writable by the user that runs that
Tomcat server.

Otis



--- Russell S Koonts <koont004@mc.duke.edu> wrote:
> 
> 
> 
> 
> Greetings.  I have recently had to re-install my web server.  Once
> completed, however, I cannot get the Lucene search to work. It worked
> before the crash and it works on my laptop.  When conducting searches
> now,
> I get the following message:
> 
> org.apache.cocoon.ProcessingException: Cannot access hits:
> java.io.IOException: Permission denied
> 
> for full message see:
> 
> http://archives.mc.duke.edu/search?queryString=Davison
> 
> Can anyone suggest a place to start looking to add the correct
> permissions?
> 
> Thank you,
> 
> Russell
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 22:02:00 2004
Return-Path: <lucene-user-return-7656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67961 invoked from network); 24 Mar 2004 22:02:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 22:02:00 -0000
Received: (qmail 87344 invoked by uid 500); 24 Mar 2004 22:01:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87309 invoked by uid 500); 24 Mar 2004 22:01:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87267 invoked from network); 24 Mar 2004 22:01:42 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 24 Mar 2004 22:01:42 -0000
Message-ID: <20040324220145.9124.qmail@web12708.mail.yahoo.com>
Received: from [195.29.132.221] by web12708.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 14:01:45 PST
Date: Wed, 24 Mar 2004 14:01:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: analyzer for word perfect?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <s061900a.010@wh-inet.gmhwh.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I just finished writing a chapter for Lucene in Action that deals with
that.

PDF: pdfbox.org
MS Word/Excel: jakarta.apache.org/poi
WP: http://www.google.com/search?q=java+word+perfect+parser

Note that what you need are parsers.  The term Analyzer has a special
meaning in Lucene realm.

Otis


--- Charlie Smith <SmithCW@ldschurch.org> wrote:
> Is there an analyzer for WordPerfect files?
> 
> I have a need to be able to index WP files as well as MS files, pdfs,
> etc.
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 22:05:32 2004
Return-Path: <lucene-user-return-7657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70064 invoked from network); 24 Mar 2004 22:05:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 22:05:32 -0000
Received: (qmail 96362 invoked by uid 500); 24 Mar 2004 22:05:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96323 invoked by uid 500); 24 Mar 2004 22:05:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96272 invoked from network); 24 Mar 2004 22:05:09 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 24 Mar 2004 22:05:09 -0000
Message-ID: <20040324220512.98275.qmail@web12704.mail.yahoo.com>
Received: from [195.29.132.221] by web12704.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 14:05:12 PST
Date: Wed, 24 Mar 2004 14:05:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Changes to QueryParser.jj: Status?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1080164253.23174.108.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I committed those changes to CVS today.  There is a bug entry in
Bugzilla from Morus Walter, which is now marked as fixed.

Otis

--- Ravi Rao <rrao@alterpoint.com> wrote:
> Dear All,
> 
> Some time ago there was a discussion on modifying the definitions of
> tokens in QueryParser so that the character '-' (dash), and others,
> will be treated as part of a word.
> 
> Can someone please tell me the status of that discussion.  Will these
> changes actually be reflected in the code...soon?
> 
> Thanks,
> -- 
> Ravi/
> 
> PS: The title of the thread in the previous discussion was
> 'Problem with search results'
> 
> Ravi(ndra) Rao
> AlterPoint Inc.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 22:58:57 2004
Return-Path: <lucene-user-return-7658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99209 invoked from network); 24 Mar 2004 22:58:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 22:58:57 -0000
Received: (qmail 36954 invoked by uid 500); 24 Mar 2004 22:58:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36931 invoked by uid 500); 24 Mar 2004 22:58:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36907 invoked from network); 24 Mar 2004 22:58:41 -0000
Received: from unknown (HELO mr3.zonelabs.com) (208.185.174.144)
  by daedalus.apache.org with SMTP; 24 Mar 2004 22:58:41 -0000
Received: from exgate1.zonelabs.com ([172.16.211.232])
	by mr3.zonelabs.com (8.12.11/8.12.11/BCH2.0) with ESMTP id i2OMwi0h024192
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 14:58:44 -0800 (PST)
Received: from exmb2.zonelabs.com ([172.16.211.235]) by exgate1.zonelabs.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 24 Mar 2004 14:58:39 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Zero hits for queries ending with a number
Date: Wed, 24 Mar 2004 14:58:38 -0800
Message-ID: <8F1F77F368665043BDA3C9AA04F70B3003CD92@exmb2.zonelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Zero hits for queries ending with a number
Thread-Index: AcQI7E+WG+ZFB+J2QnSGzZz8KYRWsAJBbfjQ
From: "Morris Mizrahi" <mmizrahi@zonelabs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 24 Mar 2004 22:58:39.0334 (UTC) FILETIME=[8BCBF060:01C411F3]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks to Otis, Morus, and Erik for their responses to my question.

I see that my question is also related to the posting: "Query syntax on
Keyword field question".

I tried all of your suggestions.=20
When using:
a) the tokens generated by the analyzer and
b) the parsed query (using the to_string method).
to debug StandardAnalyzer, I saw that it does properly pass in the
string with the number attached to it. I don't understand why Field.Text
did not work with StandardAnalyzer.

I tried WhitespaceAnalyzer and that did not work.

I have tried implementing a custom analyzer like KeywordAnalyzer, and
using PerFieldAnalyzerWrapper.

I think the custom analyzer I created is not properly doing what a
KeywordAnalyzer would do.

Erik, could you please post what KeywordAnalyzer should look like?

I can't wait until the book you guys are developing comes out.

Thanks very much.

           Morris


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Saturday, March 13, 2004 3:14 AM
To: Lucene Users List
Subject: Re: Zero hits for queries ending with a number

On Mar 13, 2004, at 6:02 AM, Morus Walter wrote:
> Otis Gospodnetic writes:
>> Field.Keyword is suitable for storing data like Url.  Give that a
try.
>>
> Hmm. I don't think keyword fields can be used with query parser,
> which is probably one of the problems here.
> He did try keyword fields.

Look in the archives for KeywordAnalyzer (custom).... and=20
PerFieldAnalyzerWrapper (built-in).... using a combination of these you=20
can use keyword fields.  Or, first try just using WhitespaceAnalyzer.

It is almost always the analyzer that is the cause of confusion - folks=20
just get lulled into forgetting about its role because Lucene is so=20
easy to use... until this type of issue bites you.

It is a wacky combination though - and notorious for causing confusion.

Perhaps someone could create a wiki page for this scenario where we can=20
flesh out examples/solutions?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 23:46:48 2004
Return-Path: <lucene-user-return-7659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17927 invoked from network); 24 Mar 2004 23:46:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 23:46:48 -0000
Received: (qmail 43135 invoked by uid 500); 24 Mar 2004 23:46:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43109 invoked by uid 500); 24 Mar 2004 23:46:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43092 invoked from network); 24 Mar 2004 23:46:31 -0000
Received: from unknown (HELO tmgate1.thomsonmedia.com) (12.111.30.74)
  by daedalus.apache.org with SMTP; 24 Mar 2004 23:46:31 -0000
Received: from tm1ssex02.tm.thomsonmedia.com (12-111-30-89.thomsonmedia.com [12.111.30.89])
	by tmgate1.thomsonmedia.com (Switch-3.1.4/Switch-3.1.0) with ESMTP id i2ONkXaq009756
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 18:46:34 -0500 (EST)
Received: by tm1ssex02.tm.thomsonmedia.com with Internet Mail Service (5.5.2657.72)
	id <19PZF6S2>; Wed, 24 Mar 2004 18:46:33 -0500
Message-ID: <606DAA4C8E184B46839705D0BEBCC8530157DF79@tmpenex01.tm.thomsonmedia.com>
From: "Surowiec, William" <William.Surowiec@thomsonmedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: possible parse problem
Date: Wed, 24 Mar 2004 18:46:33 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C411FA.3CBB6CD5"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C411FA.3CBB6CD5
Content-Type: text/plain;
	charset="iso-8859-1"

I get distinctly different results (java exception versus request 
completion) for two queries:
 
this AND is
this OR is
 
I realize these are "dumb" queries, but they illustrate the problem. 
The first gets:
 
error: java.lang.ArrayIndexOutOfBoundsException: -1 at 
java.util.Vector.elementAt(Vector.java:434) at 
org.apache.lucene.queryParser.QueryParser.addClause(QueryParser.java:181) at

org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:493) at 
org.apache.lucene.queryParser.QueryParser.Clause(QueryParser.java:525) at 
org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:464) at 
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:108) at 
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:87) at ((MY
CODE))
 
the second finds no results.

Used the latest stable release downloaded today, 1,3 final.
 
Please accept this as an observation on a surprise, not a complaint.
 
Thanks
 
Bill

"This communication is intended solely for the addressee and is
confidential and not for third party unauthorized distribution."


------_=_NextPart_001_01C411FA.3CBB6CD5--

From lucene-user-return-7660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 24 23:55:05 2004
Return-Path: <lucene-user-return-7660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21286 invoked from network); 24 Mar 2004 23:55:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Mar 2004 23:55:05 -0000
Received: (qmail 68083 invoked by uid 500); 24 Mar 2004 23:54:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67885 invoked by uid 500); 24 Mar 2004 23:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67872 invoked from network); 24 Mar 2004 23:54:48 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 24 Mar 2004 23:54:48 -0000
Message-ID: <20040324235452.6578.qmail@web12701.mail.yahoo.com>
Received: from [83.131.116.202] by web12701.mail.yahoo.com via HTTP; Wed, 24 Mar 2004 15:54:52 PST
Date: Wed, 24 Mar 2004 15:54:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: possible parse problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <606DAA4C8E184B46839705D0BEBCC8530157DF79@tmpenex01.tm.thomsonmedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Known issue, already files as a bug, and may even have a patch in
Bugzilla.

Otis

--- "Surowiec, William" <William.Surowiec@thomsonmedia.com> wrote:
> I get distinctly different results (java exception versus request 
> completion) for two queries:
>  
> this AND is
> this OR is
>  
> I realize these are "dumb" queries, but they illustrate the problem. 
> The first gets:
>  
> error: java.lang.ArrayIndexOutOfBoundsException: -1 at 
> java.util.Vector.elementAt(Vector.java:434) at 
>
org.apache.lucene.queryParser.QueryParser.addClause(QueryParser.java:181)
> at
> 
> org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:493)
> at 
>
org.apache.lucene.queryParser.QueryParser.Clause(QueryParser.java:525)
> at 
> org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:464)
> at 
> org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:108)
> at 
> org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:87)
> at ((MY
> CODE))
>  
> the second finds no results.
> 
> Used the latest stable release downloaded today, 1,3 final.
>  
> Please accept this as an observation on a surprise, not a complaint.
>  
> Thanks
>  
> Bill
> 
> "This communication is intended solely for the addressee and is
> confidential and not for third party unauthorized distribution."
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 00:45:08 2004
Return-Path: <lucene-user-return-7661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43092 invoked from network); 25 Mar 2004 00:45:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 00:45:08 -0000
Received: (qmail 62485 invoked by uid 500); 25 Mar 2004 00:44:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62456 invoked by uid 500); 25 Mar 2004 00:44:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62439 invoked from network); 25 Mar 2004 00:44:51 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 25 Mar 2004 00:44:51 -0000
Received: (cpmta 15795 invoked from network); 24 Mar 2004 16:44:55 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 24 Mar 2004 16:44:55 -0800
X-Sent: 25 Mar 2004 00:44:55 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <8F1F77F368665043BDA3C9AA04F70B3003CD92@exmb2.zonelabs.com>
References: <8F1F77F368665043BDA3C9AA04F70B3003CD92@exmb2.zonelabs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A0BD0998-7DF5-11D8-AD31-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Wed, 24 Mar 2004 19:44:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 24, 2004, at 5:58 PM, Morris Mizrahi wrote:
> I think the custom analyzer I created is not properly doing what a
> KeywordAnalyzer would do.
>
> Erik, could you please post what KeywordAnalyzer should look like?

It should simply "tokenize" the entire input as a single token.  Incze 
Lajos posted a NonTokenizingTokenizer early today, in fact, that does 
the trick.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 01:48:10 2004
Return-Path: <lucene-user-return-7662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68616 invoked from network); 25 Mar 2004 01:48:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 01:48:10 -0000
Received: (qmail 68131 invoked by uid 500); 25 Mar 2004 01:47:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68104 invoked by uid 500); 25 Mar 2004 01:47:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68084 invoked from network); 25 Mar 2004 01:47:51 -0000
Received: from unknown (HELO mr3.zonelabs.com) (208.185.174.144)
  by daedalus.apache.org with SMTP; 25 Mar 2004 01:47:51 -0000
Received: from exgate1.zonelabs.com ([172.16.211.232])
	by mr3.zonelabs.com (8.12.11/8.12.11/BCH2.0) with ESMTP id i2P1ltOs007724
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 17:47:55 -0800 (PST)
Received: from exmb2.zonelabs.com ([172.16.211.235]) by exgate1.zonelabs.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 24 Mar 2004 17:47:51 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Zero hits for queries ending with a number
Date: Wed, 24 Mar 2004 17:47:50 -0800
Message-ID: <8F1F77F368665043BDA3C9AA04F70B3003CD93@exmb2.zonelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Zero hits for queries ending with a number
Thread-Index: AcQSAnORhMFQJ0j9R5itXTBJwTho0gABz5cg
From: "Morris Mizrahi" <mmizrahi@zonelabs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 25 Mar 2004 01:47:51.0064 (UTC) FILETIME=[2EB30180:01C4120B]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Erik and Incze.
Sorry for this lengthy post.

Here is the class:
import org.apache.lucene.analysis.*;
import org.apache.lucene.analysis.standard.StandardFilter;

import java.io.Reader;

import java.util.Hashtable;

public class KeywordAnalyzer extends Analyzer {
    public static final String[] STOP_WORDS =3D
StopAnalyzer.ENGLISH_STOP_WORDS;
    private Hashtable stopTable;

    public KeywordAnalyzer() {
        this(STOP_WORDS);
    }

    public KeywordAnalyzer(String[] stopWords) {
        stopTable =3D StopFilter.makeStopTable(stopWords);
    }

    public TokenStream tokenStream(String fieldName, Reader reader) {
        TokenStream result =3D new NotTokenizingTokenizer(reader);
        result =3D new StandardFilter(result);
        result =3D new LowerCaseFilter(result);
        result =3D new StopFilter(result, stopTable);

        return result;
    }
}


I have retried everything with the new KeywordAnalyzer class,
PerFieldAnalyzerWrapper, and with Field.Keyword. I don't get results for
any searches, it doesn't even matter whether there is a number at the
end or not.

Using query.toString("url"):

Query query =3D QueryParser.parse(terms, "contents", analyzer);	       =20
logger.info("search method: query.toString for url=3D " +
            query.toString("url"));

I can see what the analyzer is searching for.

How do I determine what is the value stored in the index by
Field.Keyword?

I've tried:

            doc.add(Field.Keyword("url", url));=20
            System.out.println("url: doc toString method=3D " +
doc.toString());

But I don't know if this is the correct value that is compared with what
the analyzer sends in.

Thanks for the help.

            Morris




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, March 24, 2004 4:45 PM
To: Lucene Users List
Subject: Re: Zero hits for queries ending with a number

On Mar 24, 2004, at 5:58 PM, Morris Mizrahi wrote:
> I think the custom analyzer I created is not properly doing what a
> KeywordAnalyzer would do.
>
> Erik, could you please post what KeywordAnalyzer should look like?

It should simply "tokenize" the entire input as a single token.  Incze=20
Lajos posted a NonTokenizingTokenizer early today, in fact, that does=20
the trick.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 03:41:52 2004
Return-Path: <lucene-user-return-7663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16422 invoked from network); 25 Mar 2004 03:41:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 03:41:51 -0000
Received: (qmail 14767 invoked by uid 500); 25 Mar 2004 03:41:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14741 invoked by uid 500); 25 Mar 2004 03:41:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14728 invoked from network); 25 Mar 2004 03:41:30 -0000
Received: from unknown (HELO ns2.definityhealth.com) (209.117.208.66)
  by daedalus.apache.org with SMTP; 25 Mar 2004 03:41:30 -0000
Received: from elwood.definityhealth.com ([10.19.3.122])
	by ns2.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2P3faZ19843
	for <lucene-user@jakarta.apache.org>; Wed, 24 Mar 2004 21:41:36 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: How to order search results by Field value?
Date: Wed, 24 Mar 2004 21:40:38 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to order search results by Field value?
Thread-Index: AcQSGvAycgIvyb4wR26xtptVZyUFlA==
From: "Chad Small" <Chad.Small@definityhealth.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

V2FzIHRoZXJlIGFueSBjb25jbHVzaW9uIHRvIG1lc3NhZ2U6DQogDQpodHRwOi8vaXNzdWVzLmFw
YWNoZS5vcmcvZXllYnJvd3NlL1JlYWRNc2c/bGlzdE5hbWU9bHVjZW5lLXVzZXJAamFrYXJ0YS5h
cGFjaGUub3JnJm1zZ05vPTY3NjINCiANClJlZ2FyZGluZyAiT3JkZXJpbmcgYnkgYSBGaWVsZCI/
ICBJIGhhdmUgYSBzaW1pbGFyIG5lZWQgYW5kIGRpZG4ndCBzZWUgdGhlIHJlc29sdXNpb24gaW4g
dGhhdCB0aHJlYWQuICBJcyBpdCBhIGN1cnJlbnQgcGF0Y2ggdG8gdGhlIDEuMy1maW5hbCwgSSBj
b3VsZCBzZWUgb25lPyAgDQogDQpNeSBvdGhlciBvcHRpb24sIEkgZ3Vlc3MsIGlzIGp1c3QgdG8g
Y29kZSBhIGNvbXBhcmF0b3Igb24gYSBjb2xsZWN0aW9uIGJ1aWxkIG9mZiBvZiB0aGUgSGl0cy4N
CiANCnRoYW5rcywNCmNoYWQuDQo=


From lucene-user-return-7664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 04:20:03 2004
Return-Path: <lucene-user-return-7664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32936 invoked from network); 25 Mar 2004 04:20:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 04:20:03 -0000
Received: (qmail 58942 invoked by uid 500); 25 Mar 2004 04:19:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58913 invoked by uid 500); 25 Mar 2004 04:19:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58895 invoked from network); 25 Mar 2004 04:19:42 -0000
Received: from unknown (HELO smtp.web.de) (217.72.192.208)
  by daedalus.apache.org with SMTP; 25 Mar 2004 04:19:42 -0000
Received: from [212.202.56.132] (helo=p4)
	by smtp.web.de with asmtp (WEB.DE 4.99 #1)
	id 1B6MLM-0000f1-00
	for lucene-user@jakarta.apache.org; Thu, 25 Mar 2004 05:19:48 +0100
Message-ID: <003101c41220$920bb230$0b01a8c0@p4>
From: "Joachim Schreiber" <yoschr@web.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com>
Subject: Re: How to order search results by Field value?
Date: Thu, 25 Mar 2004 05:20:56 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: yoschr@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chad,


> Was there any conclusion to message:
>
>
http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6762
>
> Regarding "Ordering by a Field"?  I have a similar need and didn't see the
resolusion in that thread.  Is it a current patch to the 1.3-final, I could
see one?

You can see the resolution in the latest CVS ;-)

yo


>
> My other option, I guess, is just to code a comparator on a collection
build off of the Hits.
>
> thanks,
> chad.
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 10:17:24 2004
Return-Path: <lucene-user-return-7665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49171 invoked from network); 25 Mar 2004 10:17:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 10:17:23 -0000
Received: (qmail 24036 invoked by uid 500); 25 Mar 2004 10:17:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24000 invoked by uid 500); 25 Mar 2004 10:17:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23981 invoked from network); 25 Mar 2004 10:17:03 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 25 Mar 2004 10:17:03 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2PAGurl002193
	for <lucene-user@jakarta.apache.org>; Thu, 25 Mar 2004 11:16:56 +0100
Message-ID: <004501c41252$51f49c20$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4>
Subject: Re: How to order search results by Field value?
Date: Thu, 25 Mar 2004 11:17:04 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> You can see the resolution in the latest CVS ;-)

Just to clarify things: Does the current solution require all fields
that can be used for sorting to be loaded and kept in memory? (I guess
you can answer this question faster than I can figure it out by myself
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 15:38:52 2004
Return-Path: <lucene-user-return-7666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96816 invoked from network); 25 Mar 2004 15:38:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 15:38:51 -0000
Received: (qmail 61789 invoked by uid 500); 25 Mar 2004 15:38:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61745 invoked by uid 500); 25 Mar 2004 15:38:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61713 invoked from network); 25 Mar 2004 15:38:25 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 25 Mar 2004 15:38:25 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004032515382601600qtov1e>; Thu, 25 Mar 2004 15:38:26 +0000
Message-ID: <4062FCB3.1090907@apache.org>
Date: Thu, 25 Mar 2004 07:37:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente>
In-Reply-To: <004501c41252$51f49c20$c300000a@caliente>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric Jain wrote:
> Just to clarify things: Does the current solution require all fields
> that can be used for sorting to be loaded and kept in memory? (I guess
> you can answer this question faster than I can figure it out by myself
> :-)

Field values are loaded into memory.  But values are kept in an array of 
the appropirate type, so the memory used is not large, and loading is 
done via TermDocs, so it's very fast.  But, if you have a million 
documents, a sorter will use 4MB (and cache it for subsequent searches too).

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 17:41:33 2004
Return-Path: <lucene-user-return-7667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2665 invoked from network); 25 Mar 2004 17:41:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 17:41:33 -0000
Received: (qmail 631 invoked by uid 500); 25 Mar 2004 17:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 581 invoked by uid 500); 25 Mar 2004 17:40:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 510 invoked from network); 25 Mar 2004 17:40:26 -0000
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by daedalus.apache.org with SMTP; 25 Mar 2004 17:40:26 -0000
Received: from neo ([61.11.105.205])
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i2PIe7S06986
	for <lucene-user@jakarta.apache.org>; Thu, 25 Mar 2004 12:40:07 -0600
Message-Id: <200403251840.i2PIe7S06986@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Problem while Indexing Pdf files 
Date: Thu, 25 Mar 2004 23:09:00 +0530
Keywords: Support
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcP9RV2DTcQh9iXlTJKLGRWzw/NrqgABpxuwBVDkTSA=
In-Reply-To: <200402271705.i1RH53s15368@plain.rackshack.net>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi, 

I have to index PDF files. For that I am using pdfbox. But when I try to
extract text from pdf file using pdfbox I get the following error:

java.io.IOException: Error: No 'ToUnicode' and no 'Encoding' for Font

	at org.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:347)

	at
org.pdfbox.util.PDFStreamEngine.showString(PDFStreamEngine.java:169)

	at
org.pdfbox.util.PDFTextStripper.showString(PDFTextStripper.java:461)

	at
org.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:692)

	at
org.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:128)

	at
org.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:268)

	at
org.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:200)

	at
org.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:172)

	at
org.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:120)

	at org.pdfbox.ExtractText.main(ExtractText.java:213)

	at test.LuceneExampleIndexer.indexFile(LuceneExampleIndexer.java:67)

	at
test.LuceneExampleIndexer.indexDirectory(LuceneExampleIndexer.java:47)

	at test.LuceneExampleIndexer.index(LuceneExampleIndexer.java:30)

	at test.LuceneExampleIndexer.main(LuceneExampleIndexer.java:118)


Please tell me how to go about it.

Thanks,
Ankur 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 17:48:41 2004
Return-Path: <lucene-user-return-7668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6989 invoked from network); 25 Mar 2004 17:48:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 17:48:41 -0000
Received: (qmail 22841 invoked by uid 500); 25 Mar 2004 17:48:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22815 invoked by uid 500); 25 Mar 2004 17:48:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22798 invoked from network); 25 Mar 2004 17:48:27 -0000
Received: from unknown (HELO cmailg3.svr.pol.co.uk) (195.92.195.173)
  by daedalus.apache.org with SMTP; 25 Mar 2004 17:48:27 -0000
Received: from modem-3635.iguana.dialup.pol.co.uk ([81.76.254.51] helo=squirtle)
	by cmailg3.svr.pol.co.uk with esmtp (Exim 4.14)
	id 1B6Yxx-0006Bl-M0
	for lucene-user@jakarta.apache.org; Thu, 25 Mar 2004 17:48:30 +0000
From: "John Colvin" <john@mygeneration.fsnet.co.uk>
To: <lucene-user@jakarta.apache.org>
Subject: Problems indexing with keywords
Date: Sun, 25 Apr 2004 17:48:23 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQq5R8l10/Vu01XTKWBkQ/gZ8ezfw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-Id: <E1B6Yxx-0006Bl-M0.2004-03-25-17-48-30@cmailg3.svr.pol.co.uk>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi
I am creating an index with StandardAnalyzer and searching with the same.

I have added keyword fields to the index which contain something like this:

Rev_.12.04.2004
/root/navroot/10 Modules/drawer 1/drawer 2/job AK

When searching with the StandardAnalyzer I get nothing back when searching
for 'fieldname:Rev*' or as a prefix of the above
path'field:"/root/navroot/10 Modules*"'. If I don't add the '*' I still get
0 results.

 Can someone give me an indication of what I need to do to get this working,
I gather I need a custom analyzer but Im not sure what is required within.

Thx in advance
John






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 18:40:00 2004
Return-Path: <lucene-user-return-7669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38614 invoked from network); 25 Mar 2004 18:40:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 18:40:00 -0000
Received: (qmail 35408 invoked by uid 500); 25 Mar 2004 18:39:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35386 invoked by uid 500); 25 Mar 2004 18:39:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35370 invoked from network); 25 Mar 2004 18:39:45 -0000
Received: from unknown (HELO smtp.kelkoo.net) (62.23.206.102)
  by daedalus.apache.org with SMTP; 25 Mar 2004 18:39:45 -0000
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id i2PIdlsT028656
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 25 Mar 2004 19:39:47 +0100
Message-ID: <4063276B.8010206@kelkoo.net>
Date: Thu, 25 Mar 2004 19:39:39 +0100
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems indexing with keywords
References: <E1B6Yxx-0006Bl-M0.2004-03-25-17-48-30@cmailg3.svr.pol.co.uk>
In-Reply-To: <E1B6Yxx-0006Bl-M0.2004-03-25-17-48-30@cmailg3.svr.pol.co.uk>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
when you index your field as a keyword, it's not indexed and thus the 
analyzer is not used for this field during the indexation.
But, if you make a search using the query parser with the 
StandardAnalyzer, it will be used for the parsing.
So, I suppose that in your query 'fieldname:Rev*', the 'R' is lowercased 
by the analyzer. And, as in your index you have the term 
'field:Rev_.12...', your requests don't return anything.

I hope this helps,
Franck Brisbart


John Colvin wrote:
> Hi
> I am creating an index with StandardAnalyzer and searching with the same.
> 
> I have added keyword fields to the index which contain something like this:
> 
> Rev_.12.04.2004
> /root/navroot/10 Modules/drawer 1/drawer 2/job AK
> 
> When searching with the StandardAnalyzer I get nothing back when searching
> for 'fieldname:Rev*' or as a prefix of the above
> path'field:"/root/navroot/10 Modules*"'. If I don't add the '*' I still get
> 0 results.
> 
>  Can someone give me an indication of what I need to do to get this working,
> I gather I need a custom analyzer but Im not sure what is required within.
> 
> Thx in advance
> John
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 18:55:35 2004
Return-Path: <lucene-user-return-7670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46470 invoked from network); 25 Mar 2004 18:55:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 18:55:35 -0000
Received: (qmail 82315 invoked by uid 500); 25 Mar 2004 18:55:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82293 invoked by uid 500); 25 Mar 2004 18:55:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82278 invoked from network); 25 Mar 2004 18:55:18 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 25 Mar 2004 18:55:18 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP
	id 17FDAA0E; Thu, 25 Mar 2004 13:55:22 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id CB828144E; Thu, 25 Mar 2004 13:55:21 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP
	id A7D77135C; Thu, 25 Mar 2004 13:55:21 -0500 (EST)
Date: Thu, 25 Mar 2004 13:55:21 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Ankur Goel <ankurg@brickred.com>
Cc: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Re: Problem while Indexing Pdf files 
In-Reply-To: <200403251840.i2PIe7S06986@plain.rackshack.net>
Message-ID: <Pine.GSO.4.53.0403251354030.24425@fury.csh.rit.edu>
References: <200403251840.i2PIe7S06986@plain.rackshack.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


The latest release of PDFBox changed the way it dealt with fonts and
introduced this bug, please try the version in CVS and let me know if you
are still having a problem.

Ben


On Thu, 25 Mar 2004, Ankur Goel wrote:

>
> Hi,
>
> I have to index PDF files. For that I am using pdfbox. But when I try to
> extract text from pdf file using pdfbox I get the following error:
>
> java.io.IOException: Error: No 'ToUnicode' and no 'Encoding' for Font
>
> 	at org.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:347)
>
> 	at
> org.pdfbox.util.PDFStreamEngine.showString(PDFStreamEngine.java:169)
>
> 	at
> org.pdfbox.util.PDFTextStripper.showString(PDFTextStripper.java:461)
>
> 	at
> org.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:692)
>
> 	at
> org.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:128)
>
> 	at
> org.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:268)
>
> 	at
> org.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:200)
>
> 	at
> org.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:172)
>
> 	at
> org.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:120)
>
> 	at org.pdfbox.ExtractText.main(ExtractText.java:213)
>
> 	at test.LuceneExampleIndexer.indexFile(LuceneExampleIndexer.java:67)
>
> 	at
> test.LuceneExampleIndexer.indexDirectory(LuceneExampleIndexer.java:47)
>
> 	at test.LuceneExampleIndexer.index(LuceneExampleIndexer.java:30)
>
> 	at test.LuceneExampleIndexer.main(LuceneExampleIndexer.java:118)
>
>
> Please tell me how to go about it.
>
> Thanks,
> Ankur
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 22:10:11 2004
Return-Path: <lucene-user-return-7671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78384 invoked from network); 25 Mar 2004 22:10:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 22:10:10 -0000
Received: (qmail 54492 invoked by uid 500); 25 Mar 2004 22:09:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54415 invoked by uid 500); 25 Mar 2004 22:09:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54213 invoked from network); 25 Mar 2004 22:09:23 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 25 Mar 2004 22:09:23 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2PM9Qrl015399
	for <lucene-user@jakarta.apache.org>; Thu, 25 Mar 2004 23:09:26 +0100
Message-ID: <003f01c412b5$da679ae0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org>
Subject: Re: How to order search results by Field value?
Date: Thu, 25 Mar 2004 23:09:33 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> if you have a million documents, a sorter will use 4MB

That's reasonable. What I didn't quite understand yet: If I sort on a
string field, will Lucene need to keep all values in memory all the
time, or only during startup?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 22:24:48 2004
Return-Path: <lucene-user-return-7672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90989 invoked from network); 25 Mar 2004 22:24:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 22:24:48 -0000
Received: (qmail 1069 invoked by uid 500); 25 Mar 2004 22:24:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 999 invoked by uid 500); 25 Mar 2004 22:24:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 984 invoked from network); 25 Mar 2004 22:24:30 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 25 Mar 2004 22:24:30 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004032522243201600fptf9e>; Thu, 25 Mar 2004 22:24:36 +0000
Message-ID: <40635BE0.60701@apache.org>
Date: Thu, 25 Mar 2004 14:23:28 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente>
In-Reply-To: <003f01c412b5$da679ae0$c300000a@caliente>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric Jain wrote:
> That's reasonable. What I didn't quite understand yet: If I sort on a
> string field, will Lucene need to keep all values in memory all the
> time, or only during startup?

It will cache one instance of each unique value.  So if you have a 
million documents and string sort results on a field that only has 100 
different values, it will createa a 1M element array of pointers to 100 
unique strings.  But if the field has 1M different values, then the 
array will hold 1M unique strings.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 22:39:32 2004
Return-Path: <lucene-user-return-7673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1722 invoked from network); 25 Mar 2004 22:39:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 22:39:31 -0000
Received: (qmail 38982 invoked by uid 500); 25 Mar 2004 22:39:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38960 invoked by uid 500); 25 Mar 2004 22:39:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38943 invoked from network); 25 Mar 2004 22:39:13 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 25 Mar 2004 22:39:13 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2PMdGrl016765
	for <lucene-user@jakarta.apache.org>; Thu, 25 Mar 2004 23:39:16 +0100
Message-ID: <004e01c412ba$053da6c0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org>
Subject: Re: How to order search results by Field value?
Date: Thu, 25 Mar 2004 23:39:23 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> But if the field has 1M different values, then
> the array will hold 1M unique strings.

The strings according to which I need to sort are unique identifiers :-(

I will need to have a look at the code, but I assume that in principal
it should be possible to replace the strings with sequential integers
once the sorting is done?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 22:55:32 2004
Return-Path: <lucene-user-return-7674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12436 invoked from network); 25 Mar 2004 22:55:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 22:55:32 -0000
Received: (qmail 68063 invoked by uid 500); 25 Mar 2004 22:55:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68039 invoked by uid 500); 25 Mar 2004 22:55:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68024 invoked from network); 25 Mar 2004 22:55:13 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 25 Mar 2004 22:55:13 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004032522551901100m03gve>; Thu, 25 Mar 2004 22:55:19 +0000
Message-ID: <40636317.1050401@apache.org>
Date: Thu, 25 Mar 2004 14:54:15 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente>
In-Reply-To: <004e01c412ba$053da6c0$c300000a@caliente>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric Jain wrote:
> I will need to have a look at the code, but I assume that in principal
> it should be possible to replace the strings with sequential integers
> once the sorting is done?

I don't understand the question.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Mar 25 23:26:47 2004
Return-Path: <lucene-user-return-7675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39013 invoked from network); 25 Mar 2004 23:26:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Mar 2004 23:26:46 -0000
Received: (qmail 32116 invoked by uid 500); 25 Mar 2004 23:26:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32068 invoked by uid 500); 25 Mar 2004 23:26:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32053 invoked from network); 25 Mar 2004 23:26:27 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 25 Mar 2004 23:26:27 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2PNQSrl018789
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 00:26:29 +0100
Message-ID: <005601c412c0$9da53fd0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org>
Subject: Re: How to order search results by Field value?
Date: Fri, 26 Mar 2004 00:26:35 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>> I will need to have a look at the code, but I assume that in
>> principal it should be possible to replace the strings with
>> sequential integers once the sorting is done?
>
> I don't understand the question.

I need to: Sort by a field containing 1M distinct strings. While I can't
afford to waste much memory for the entire duration of the application,
loading all strings into memory temporarily is possible. A solution may
therefore be to load all strings into memory, sort them, and then
replace them with sequentially numbered integers. The question is: Could
this approach work, or did I overlook anything?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 01:08:23 2004
Return-Path: <lucene-user-return-7676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3619 invoked from network); 26 Mar 2004 01:08:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 01:08:23 -0000
Received: (qmail 87055 invoked by uid 500); 26 Mar 2004 01:07:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87017 invoked by uid 500); 26 Mar 2004 01:07:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86990 invoked from network); 26 Mar 2004 01:07:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.84)
  by daedalus.apache.org with SMTP; 26 Mar 2004 01:07:50 -0000
Received: (cpmta 28983 invoked from network); 25 Mar 2004 17:07:56 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.84) with SMTP; 25 Mar 2004 17:07:56 -0800
X-Sent: 26 Mar 2004 01:07:56 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <005601c412c0$9da53fd0$c300000a@caliente>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to order search results by Field value?
Date: Thu, 25 Mar 2004 20:07:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Why not do the unique sequential number replacement at index time 
rather than query time?

	Erik

On Mar 25, 2004, at 6:26 PM, Eric Jain wrote:

>>> I will need to have a look at the code, but I assume that in
>>> principal it should be possible to replace the strings with
>>> sequential integers once the sorting is done?
>>
>> I don't understand the question.
>
> I need to: Sort by a field containing 1M distinct strings. While I 
> can't
> afford to waste much memory for the entire duration of the application,
> loading all strings into memory temporarily is possible. A solution may
> therefore be to load all strings into memory, sort them, and then
> replace them with sequentially numbered integers. The question is: 
> Could
> this approach work, or did I overlook anything?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 02:34:58 2004
Return-Path: <lucene-user-return-7677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55233 invoked from network); 26 Mar 2004 02:34:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 02:34:58 -0000
Received: (qmail 89863 invoked by uid 500); 26 Mar 2004 02:34:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89841 invoked by uid 500); 26 Mar 2004 02:34:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89826 invoked from network); 26 Mar 2004 02:34:35 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 26 Mar 2004 02:34:35 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Thu, 25 Mar 2004 19:37:54 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Thu, 25 Mar 2004 19:34:25 -0700
Message-ID: <s0633441.004@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 25 Mar 2004 19:34:06 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
cc: fchsupport@fch.ldschurch.org
Subject: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7D4808974523-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I need to get solution to following error ASAP.  Please help me with this.
I'm getting following error returned from call to 

<snip>

        try {
        searcher = new IndexSearcher(
                        IndexReader.open(indexName)     //create an
indexSearcher for our page
                );
        } catch (Exception e) {                         //any error that
happens is probably due
                                                        //to a permission
problem or non-existant
                                                        //or otherwise corrupt
index
%>
                <p>ERROR opening the Index - contact sysadmin!</p>
                <p>While parsing query: <%=e.getMessage()%></p>
<%                error = true;                                  //don't do
anything up to the footer
        }



Output:
ERROR opening the Index - contact sysadmin!

While parsing query:
/opt/famhistdev/fhstage/jbin/.docSearcher/indexes/fhstage_update/_3ff.f6 (Too
many open files)

</snip>

Charlie
3/25/04



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 07:20:29 2004
Return-Path: <lucene-user-return-7678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67879 invoked from network); 26 Mar 2004 07:20:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 07:20:29 -0000
Received: (qmail 13011 invoked by uid 500); 26 Mar 2004 07:20:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12922 invoked by uid 500); 26 Mar 2004 07:20:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12895 invoked from network); 26 Mar 2004 07:20:00 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 26 Mar 2004 07:20:00 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 8BB6519B730
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 08:20:11 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2Q7KBEw023083
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 08:20:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i2Q7KAwK023079;
	Fri, 26 Mar 2004 08:20:10 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16483.55722.690163.436144@tanto-xipolis.de>
Date: Fri, 26 Mar 2004 08:20:10 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
In-Reply-To: <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com>
	<003101c41220$920bb230$0b01a8c0@p4>
	<004501c41252$51f49c20$c300000a@caliente>
	<4062FCB3.1090907@apache.org>
	<003f01c412b5$da679ae0$c300000a@caliente>
	<40635BE0.60701@apache.org>
	<004e01c412ba$053da6c0$c300000a@caliente>
	<40636317.1050401@apache.org>
	<005601c412c0$9da53fd0$c300000a@caliente>
	<02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher writes:
> Why not do the unique sequential number replacement at index time 
> rather than query time?
> 
how would you do that? This requires to know the ids that will be added
in future.
Let's say you start with strings 'a' and 'b'. Later you add a document
with 'aa'. How do you know that you should make 'a' 1 and 'b' 3 to be
prepared for 'aa'?

To me Erics suggestion makes sense.
The problem might be however: you have to sort all values, while keeping
the strings means that you sort only the hits.
And you should be aware that you have to rebuild the array each time the
index changes.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 08:53:23 2004
Return-Path: <lucene-user-return-7679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25670 invoked from network); 26 Mar 2004 08:53:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 08:53:23 -0000
Received: (qmail 74278 invoked by uid 500); 26 Mar 2004 08:52:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74253 invoked by uid 500); 26 Mar 2004 08:52:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74237 invoked from network); 26 Mar 2004 08:52:53 -0000
Received: from unknown (HELO services.india.aalayance.com) (203.200.48.226)
  by daedalus.apache.org with SMTP; 26 Mar 2004 08:52:53 -0000
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id D35CFC1907
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 14:23:04 +0530 (IST)
Message-ID: <02e501c4130f$594a3850$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: <lucene-user@jakarta.apache.org>
Subject: running lucene
Date: Fri, 26 Mar 2004 14:20:11 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_02E2_01C4133D.72D17940"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_02E2_01C4133D.72D17940
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
     I know how to run demo version but not the whole from the command =
line. Can someone tell me the same or refer to a link that details the =
same.
Regards,
Jitender
------=_NextPart_000_02E2_01C4133D.72D17940--


From lucene-user-return-7680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 09:32:38 2004
Return-Path: <lucene-user-return-7680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56464 invoked from network); 26 Mar 2004 09:32:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 09:32:38 -0000
Received: (qmail 34490 invoked by uid 500); 26 Mar 2004 09:32:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34464 invoked by uid 500); 26 Mar 2004 09:32:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34448 invoked from network); 26 Mar 2004 09:32:07 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 26 Mar 2004 09:32:07 -0000
Received: (cpmta 10895 invoked from network); 26 Mar 2004 01:32:19 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 26 Mar 2004 01:32:19 -0800
X-Sent: 26 Mar 2004 09:32:19 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s0633441.004@wh-inet.gmhwh.org>
References: <s0633441.004@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <78BA3D5F-7F08-11D8-9E96-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Fri, 26 Mar 2004 04:32:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are using Lucene 1.3, try using the index in "compound" format.   
You will have to rebuild (or convert) your index to this format.  The  
handy utility Luke will convert an index easily.

	Erik


On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:

> I need to get solution to following error ASAP.  Please help me with  
> this.
> I'm getting following error returned from call to
>
> <snip>
>
>         try {
>         searcher = new IndexSearcher(
>                         IndexReader.open(indexName)     //create an
> indexSearcher for our page
>                 );
>         } catch (Exception e) {                         //any error  
> that
> happens is probably due
>                                                         //to a  
> permission
> problem or non-existant
>                                                         //or otherwise  
> corrupt
> index
> %>
>                 <p>ERROR opening the Index - contact sysadmin!</p>
>                 <p>While parsing query: <%=e.getMessage()%></p>
> <%                error = true;                                   
> //don't do
> anything up to the footer
>         }
>
>
>
> Output:
> ERROR opening the Index - contact sysadmin!
>
> While parsing query:
> /opt/famhistdev/fhstage/jbin/.docSearcher/indexes/fhstage_update/ 
> _3ff.f6 (Too
> many open files)
>
> </snip>
>
> Charlie
> 3/25/04
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 09:47:55 2004
Return-Path: <lucene-user-return-7681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65769 invoked from network); 26 Mar 2004 09:47:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 09:47:55 -0000
Received: (qmail 64198 invoked by uid 500); 26 Mar 2004 09:47:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64174 invoked by uid 500); 26 Mar 2004 09:47:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64159 invoked from network); 26 Mar 2004 09:47:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 26 Mar 2004 09:47:23 -0000
Received: (cpmta 23690 invoked from network); 26 Mar 2004 01:47:36 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 26 Mar 2004 01:47:36 -0800
X-Sent: 26 Mar 2004 09:47:36 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <16483.55722.690163.436144@tanto-xipolis.de>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to order search results by Field value?
Date: Fri, 26 Mar 2004 04:47:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 2:20 AM, Morus Walter wrote:
> Erik Hatcher writes:
>> Why not do the unique sequential number replacement at index time
>> rather than query time?
>>
> how would you do that? This requires to know the ids that will be added
> in future.
> Let's say you start with strings 'a' and 'b'. Later you add a document
> with 'aa'. How do you know that you should make 'a' 1 and 'b' 3 to be
> prepared for 'aa'?

Good point.  I haven't thought through this scenario well enough yet.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 12:47:57 2004
Return-Path: <lucene-user-return-7682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60119 invoked from network); 26 Mar 2004 12:47:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 12:47:57 -0000
Received: (qmail 40509 invoked by uid 500); 26 Mar 2004 12:47:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40471 invoked by uid 500); 26 Mar 2004 12:47:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40413 invoked from network); 26 Mar 2004 12:47:47 -0000
Received: from unknown (HELO ms-smtp-02.tampabay.rr.com) (65.32.5.132)
  by daedalus.apache.org with SMTP; 26 Mar 2004 12:47:47 -0000
Received: from Electron (130.191.33.65.cfl.rr.com [65.33.191.130])
	by ms-smtp-02.tampabay.rr.com (8.12.10/8.12.7) with SMTP id i2QClf86021157
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 07:47:46 -0500 (EST)
Message-ID: <003201c41331$2c055a10$6402a8c0@Electron>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Fw: PowerPoint to Text
Date: Fri, 26 Mar 2004 07:52:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I haven't tested this out but I thought this would be of interest to Lucene
users. I may eventually add this to the textmining.org libraries.

-Ryan

----- Original Message ----- 
From: "Koundinya (Sudhakar Chavali)" <sudhakar_koundinya@yahoo.com>
To: "POI Users List" <poi-user@jakarta.apache.org>; "Ryan Ackley"
<sackley@apache.org>
Sent: Friday, March 26, 2004 12:32 AM
Subject: PowerPoint to Text


> Hi All,
>
> We have done initail ground work for extracting PowerPoint 2
> text. We would like to say thanks to POI group. Though the base
> work is rough, we are able to extract the text from PowerPoint.
>
> Sorry for bad programming. But hope this wll be helpful to make
> the good program from this scrath by the efficient developers.
>
>
> Here is the sample. When ever there are modifictaions, we will
> post the information.
>
>
> import java.io.*;
> import java.util.*;
> import org.apache.poi.hpsf.*;
> import org.apache.poi.poifs.eventfilesystem.*;
> import org.apache.poi.util.HexDump;
> import org.apache.poi.util.LittleEndian;
>
> public class PPT2Text
> {
> public static void main(String[] args)
> throws IOException
> {
> final String filename = args[0];
> POIFSReader r = new POIFSReader();
>
> /* Register a listener for *all* documents. */
> r.registerListener(new MyPOIFSReaderListener());
> r.read(new FileInputStream(filename));
> }
>
>
>
> static class MyPOIFSReaderListener implements
> POIFSReaderListener
> {
>
> static int filename=1;
>
> public void processPOIFSReaderEvent(POIFSReaderEvent event)
> {
> PropertySet ps = null;
>
>
> try
> {
>
> org.apache.poi.poifs.filesystem.DocumentInputStream
> dis=null;
>
> System.out.println("\n\n");
> System.out.println(event.getPath()+event.getName());
> dis=event.getStream();
> /*
> byte btoWrite[]= new byte[12];
>
> dis.read(btoWrite);
>
> System.out.println("Version
> :"+LittleEndian.getUnsignedByte(btoWrite,0));
> System.out.println("Instance
> :"+LittleEndian.getUShort(btoWrite,0));
> System.out.println("Type
> :"+LittleEndian.getUShort(btoWrite,2));
> System.out.println("Len
> :"+LittleEndian.getLong(btoWrite,4));
>
> */
>
> FileOutputStream fos= new
> FileOutputStream(""+filename+".txt");
>
> byte btoWrite[]= new byte[dis.available()];
> dis.read(btoWrite,0,dis.available());
> for(int i=0;i<btoWrite.length-20;i++)
> {
> //System.out.println("Version
> :"+LittleEndian.getUnsignedByte(btoWrite,i+0));
> //System.out.println("Instance
> :"+LittleEndian.getUShort(btoWrite,i+0));
> //System.out.println("Type
> :"+LittleEndian.getUShort(btoWrite,i+2));
> //System.out.println("Len
> :"+LittleEndian.getUInt(btoWrite,i+4));
>
> long type=LittleEndian.getUShort(btoWrite,i+2);
> long size=LittleEndian.getUInt(btoWrite,i+4);
> if (type==4008)
> {
> fos.write(btoWrite,i+4+1,(int)size+3);
>
> }
>
> }
>
> filename++;
> //System.out.println(event.getStream().toString());
> //ps = PropertySetFactory.create(event.getStream());
> }
> catch (Exception ex)
> {
> //System.out.println("No property set stream: \"" +
> event.getPath() +
> // event.getName() + "\"");
> System.out.println(ex);
> return;
> }
> }
> }
>
>
> }
>
>
>
>
>
>
> thanks,
> Sudhakar
>
>
>
>
> =====
> "No one can earn a million dollars honestly."- William Jennings Bryan
(1860-1925)
>
> "Make everything as simple as possible, but not simpler."- Albert Einstein
(1879-1955)
>
> "It is dangerous to be sincere unless you are also stupid."- George
Bernard Shaw (1856-1950)
>
> __________________________________
> Do you Yahoo!?
> Yahoo! Finance Tax Center - File online. File on time.
> http://taxes.yahoo.com/filing.html


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 13:49:51 2004
Return-Path: <lucene-user-return-7683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97834 invoked from network); 26 Mar 2004 13:49:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 13:49:50 -0000
Received: (qmail 38793 invoked by uid 500); 26 Mar 2004 13:49:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38760 invoked by uid 500); 26 Mar 2004 13:49:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38746 invoked from network); 26 Mar 2004 13:49:39 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 26 Mar 2004 13:49:39 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i2QDqiO30162
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 07:52:44 -0600
Message-ID: <40643535.2070407@koberg.com>
Date: Fri, 26 Mar 2004 05:50:45 -0800
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de> <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com>
In-Reply-To: <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On Mar 26, 2004, at 2:20 AM, Morus Walter wrote:
> 
>> Erik Hatcher writes:
>>
>>> Why not do the unique sequential number replacement at index time
>>> rather than query time?
>>>
>> how would you do that? This requires to know the ids that will be added
>> in future.
>> Let's say you start with strings 'a' and 'b'. Later you add a document
>> with 'aa'. How do you know that you should make 'a' 1 and 'b' 3 to be
>> prepared for 'aa'?
> 
> 
> Good point.  I haven't thought through this scenario well enough yet.

Hi,

You could form your results into XML and do a simple XSL transformation 
to get what you want.

<results hits="3" searchStr="boo" searchField="contents">
   <result id="a123" label="bbb"/>
   <result id="c124" label="aaa"/>
   <result id="b124" label="ccc"/>
</results>

<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet
   xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
   version="1.0">

   <!-- send sort by param from server, else use default -->
   <xsl:param name="sortBy" select="'label'"/>

   <xsl:template match="results">

     <div class="searchInfo">
       <xsl:text>You're search for </xsl:text>
       <xsl:value-of select="@searchStr"/>
       <xsl:text> in </xsl:text>
       <xsl:value-of select="@searchField"/>
       <xsl:text> returned </xsl:text>
       <xsl:value-of select="@hits"/>
       <xsl:text> results.</xsl:text>
     </div>

     <div class="results">
       <xsl:choose>
         <xsl:when test="$sortBy='id'">
           <xsl:apply-templates select="result">
             <xsl:sort select="@id"/>
           </xsl:apply-templates>
         </xsl:when>
         <xsl:otherwise>
           <xsl:apply-templates select="result">
             <xsl:sort select="@label"/>
           </xsl:apply-templates>
         </xsl:otherwise>
       </xsl:choose>
     </div>

   </xsl:template>

   <xsl:template match="result">

     <div class="result">
       <span class="resultId">
         <xsl:value-of select="@id"/>
       </span>
       <span class="resultLabel">
         <xsl:value-of select="@label"/>
       </span>
     </div>

   </xsl:template>

</xsl:stylesheet>

best,
-Rob


> 
>     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 15:07:02 2004
Return-Path: <lucene-user-return-7684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54377 invoked from network); 26 Mar 2004 15:07:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 15:07:02 -0000
Received: (qmail 53038 invoked by uid 500); 26 Mar 2004 15:06:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53014 invoked by uid 500); 26 Mar 2004 15:06:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52969 invoked from network); 26 Mar 2004 15:06:46 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 26 Mar 2004 15:06:46 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2QF6irl008773
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 16:06:45 +0100
Message-ID: <000701c41343$fa89d4d0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de> <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com> <40643535.2070407@koberg.com>
Subject: Re: How to order search results by Field value?
Date: Fri, 26 Mar 2004 16:06:55 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> You could form your results into XML and do a simple XSL
> transformation to get what you want.

Cool! What's the name of the XSLT processor you are using that can sort
1M records in memory?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 15:13:26 2004
Return-Path: <lucene-user-return-7685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58545 invoked from network); 26 Mar 2004 15:13:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 15:13:25 -0000
Received: (qmail 75247 invoked by uid 500); 26 Mar 2004 15:13:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75216 invoked by uid 500); 26 Mar 2004 15:13:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75200 invoked from network); 26 Mar 2004 15:13:14 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 26 Mar 2004 15:13:14 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i2QFGKO30481
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 09:16:20 -0600
Message-ID: <406448CE.2070508@koberg.com>
Date: Fri, 26 Mar 2004 07:14:22 -0800
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de> <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com> <40643535.2070407@koberg.com> <000701c41343$fa89d4d0$c300000a@caliente>
In-Reply-To: <000701c41343$fa89d4d0$c300000a@caliente>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric Jain wrote:

>>You could form your results into XML and do a simple XSL
>>transformation to get what you want.
> 
> 
> Cool! What's the name of the XSLT processor you are using that can sort
> 1M records in memory?

jd.xslt is known to handle extremely large sources:

http://www.aztecrider.com/xslt/

Alternativley, and much better performing you could use STX, see:

http://www.xml.com/pub/a/2003/02/26/stx.html

and:

http://stx.sourceforge.net/documents/

best,
-Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 15:22:48 2004
Return-Path: <lucene-user-return-7686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64629 invoked from network); 26 Mar 2004 15:22:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 15:22:48 -0000
Received: (qmail 97285 invoked by uid 500); 26 Mar 2004 15:22:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97262 invoked by uid 500); 26 Mar 2004 15:22:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97248 invoked from network); 26 Mar 2004 15:22:37 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 26 Mar 2004 15:22:37 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i2QFPhO30537
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 09:25:43 -0600
Message-ID: <40644B01.8080106@koberg.com>
Date: Fri, 26 Mar 2004 07:23:45 -0800
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to order search results by Field value?
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de> <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com> <40643535.2070407@koberg.com> <000701c41343$fa89d4d0$c300000a@caliente> <406448CE.2070508@koberg.com>
In-Reply-To: <406448CE.2070508@koberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Robert Koberg wrote:

> Eric Jain wrote:
> 
>>> You could form your results into XML and do a simple XSL
>>> transformation to get what you want.
>>
>>
>>
>> Cool! What's the name of the XSLT processor you are using that can sort
>> 1M records in memory?
> 
> 
> jd.xslt is known to handle extremely large sources:
> 
> http://www.aztecrider.com/xslt/
> 
> Alternativley, and much better performing you could use STX, see:
> 
> http://www.xml.com/pub/a/2003/02/26/stx.html
> 
> and:
> 
> http://stx.sourceforge.net/documents/


Hmmm... let me take that back before you spend time on STX. I don't 
think STX can do a sort. I will check. jd.xslt is probably the best bet, 
but development was stopped in 2003.

Do your search queries really result in 1MB of results? Is that a huge 
number of hits or are your fields extremely large?


> 
> best,
> -Rob
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 15:38:27 2004
Return-Path: <lucene-user-return-7687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76472 invoked from network); 26 Mar 2004 15:38:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 15:38:26 -0000
Received: (qmail 42971 invoked by uid 500); 26 Mar 2004 15:38:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42948 invoked by uid 500); 26 Mar 2004 15:38:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42933 invoked from network); 26 Mar 2004 15:38:15 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 26 Mar 2004 15:38:15 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i2QFcDrl010578
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 16:38:13 +0100
Message-ID: <000901c41348$603c3cb0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02C9C@elwood.definityhealth.com> <003101c41220$920bb230$0b01a8c0@p4> <004501c41252$51f49c20$c300000a@caliente> <4062FCB3.1090907@apache.org> <003f01c412b5$da679ae0$c300000a@caliente> <40635BE0.60701@apache.org> <004e01c412ba$053da6c0$c300000a@caliente> <40636317.1050401@apache.org> <005601c412c0$9da53fd0$c300000a@caliente> <02C3C777-7EC2-11D8-9173-000393A564E6@ehatchersolutions.com> <16483.55722.690163.436144@tanto-xipolis.de> <9BBE0CD6-7F0A-11D8-9E96-000393A564E6@ehatchersolutions.com> <40643535.2070407@koberg.com> <000701c41343$fa89d4d0$c300000a@caliente> <406448CE.2070508@koberg.com> <40644B01.8080106@koberg.com>
Subject: Re: How to order search results by Field value?
Date: Fri, 26 Mar 2004 16:38:24 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Do your search queries really result in 1MB of results? Is that a huge
> number of hits or are your fields extremely large?

The fields are not more than a dozen characters long, but there can
easily be several hundred thousand hits. Of course usually only the top
N hits need to be displayed, but somehow you need to determine what
those are...

Currently what I am doing is this: For each field by which one may need
to sort an array of all document IDs is kept, correctly sorted. This
array is built at startup, or rebuilt whenever the index is modified.
When a query is run, the results are stored into a bitset (position =
docid). For each docid in the presorted array I then check if the
corresponding bit in the bitset is set, and if yes, I add the docid to a
list of final results (or directly call some code). This procedure works
and is fast, but rather awkward (wasted memory, complicated
updates...) - hope to replace it one day :-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 17:26:38 2004
Return-Path: <lucene-user-return-7688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56847 invoked from network); 26 Mar 2004 17:26:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 17:26:38 -0000
Received: (qmail 22248 invoked by uid 500); 26 Mar 2004 17:26:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22199 invoked by uid 500); 26 Mar 2004 17:26:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22183 invoked from network); 26 Mar 2004 17:26:24 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.37)
  by daedalus.apache.org with SMTP; 26 Mar 2004 17:26:24 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 10:29:23 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 10:25:52 -0700
Message-ID: <s0640530.040@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 10:25:37 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
cc: johnbrown1024@netscape.net
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7AB7F91045454-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm using lucene-1.2.jar as part of the build for this docSearcher application.
Would these recommendations work for this or should I upgrade to lucene 1.3.

In doing so, I'm not sure if a rewrite of the docSearcher will be necessary or
not.


>>>Daniel Naber wrote on 3/26/04:
Try IndexWriter.setUseCompoundFile(true) to limit the number of files.

>>> Erik Hatcher 3/26/2004 2:32:16 AM >>>
If you are using Lucene 1.3, try using the index in "compound" format.   
You will have to rebuild (or convert) your index to this format.  The  
handy utility Luke will convert an index easily.

	Erik


On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:

> I need to get solution to following error ASAP.  Please help me with  
> this.
> I'm getting following error returned from call to
>
> <snip>
>
>         try {
>         searcher = new IndexSearcher(
>                         IndexReader.open(indexName)     //create an
> indexSearcher for our page
>                 );
>         } catch (Exception e) {                         //any error  
> that
> happens is probably due
>                                                         //to a  
> permission
> problem or non-existant
>                                                         //or otherwise  
> corrupt
> index
> %>
>                 <p>ERROR opening the Index - contact sysadmin!</p>
>                 <p>While parsing query: <%=e.getMessage()%></p>
> <%                error = true;                                   
> //don't do
> anything up to the footer
>         }
>
>
>
> Output:
> ERROR opening the Index - contact sysadmin!
>
> While parsing query:
> /opt/famhistdev/fhstage/jbin/.docSearcher/indexes/fhstage_update/ 
> _3ff.f6 (Too
> many open files)
>
> </snip>
>
> Charlie
> 3/25/04
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7689-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 17:41:29 2004
Return-Path: <lucene-user-return-7689-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67486 invoked from network); 26 Mar 2004 17:41:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 17:41:28 -0000
Received: (qmail 53423 invoked by uid 500); 26 Mar 2004 17:41:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53396 invoked by uid 500); 26 Mar 2004 17:41:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53380 invoked from network); 26 Mar 2004 17:41:13 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 26 Mar 2004 17:41:13 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 10:44:31 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 10:41:00 -0700
Message-ID: <s06408bc.064@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 10:40:46 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
cc: lintojm@rediffmail.com
Subject: Re: UNIX command-line indexing script?
MIME-Version: 1.0
X-WSS-ID: 6C7AB4751047459-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So, Linto,

 Did you write this in PERL or JAVA.  Would you be willing to part with copy of
source?



>Linto wrote on 3/16/04

>I  have wrote one that will index PDF,DOC,XLS,XML,HTML,TXT and plain/text
files. I wrote this based on >demo application and using other 
>open soure componets POI by Apache (for doc and exel) and PDFBox. I modified
client interface also. Now i>ts looks like google. Still i have to do a couple
of things.
 > 1) At present i'm using UNIX 'file' command to check it is plain text.
  >   This will spwan process and take more time. The advantage this is       
in unix based mechines where file >extention is not important.( it         uses
magic numbers. )
>  2) The information such as Index Location, Directory, URL, etc. should     
be kept in an xml file. So that it >cam be dynamic.
>  3) Categeory 
>  
>
>Since apache guys provided good frame work every thing made easy. Thanks
guys!
>

>Linto




On Sat, 13 Mar 2004 Charlie Smith wrote :
>Anyone written a simple UNIX command-line indexing script which will read a
>bunch off different kinds of docs and index them?  I'd like to make a cron
job
>out of this so as to be able to come back and read it later during a search.
>
>PERL or JAVA script would be fine.
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 18:24:03 2004
Return-Path: <lucene-user-return-7690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6433 invoked from network); 26 Mar 2004 18:24:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 18:24:03 -0000
Received: (qmail 56930 invoked by uid 500); 26 Mar 2004 18:23:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56894 invoked by uid 500); 26 Mar 2004 18:23:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56694 invoked from network); 26 Mar 2004 18:23:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 26 Mar 2004 18:23:43 -0000
Received: (cpmta 7181 invoked from network); 26 Mar 2004 10:23:47 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 26 Mar 2004 10:23:47 -0800
X-Sent: 26 Mar 2004 18:23:47 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s0640530.040@wh-inet.gmhwh.org>
References: <s0640530.040@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B6E32F74-7F52-11D8-A6C0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Fri, 26 Mar 2004 13:23:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The compound format was added to Lucene 1.3 and was not part of 1.2.  
I'd definitely recommend upgrading.  Heck, Lucene 1.4 could be released 
any day now :)

	Erik


On Mar 26, 2004, at 12:25 PM, Charlie Smith wrote:

> I'm using lucene-1.2.jar as part of the build for this docSearcher 
> application.
> Would these recommendations work for this or should I upgrade to 
> lucene 1.3.
>
> In doing so, I'm not sure if a rewrite of the docSearcher will be 
> necessary or
> not.
>
>
>>>> Daniel Naber wrote on 3/26/04:
> Try IndexWriter.setUseCompoundFile(true) to limit the number of files.
>
>>>> Erik Hatcher 3/26/2004 2:32:16 AM >>>
> If you are using Lucene 1.3, try using the index in "compound" format.
> You will have to rebuild (or convert) your index to this format.  The
> handy utility Luke will convert an index easily.
>
> 	Erik
>
>
> On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:
>
>> I need to get solution to following error ASAP.  Please help me with
>> this.
>> I'm getting following error returned from call to
>>
>> <snip>
>>
>>         try {
>>         searcher = new IndexSearcher(
>>                         IndexReader.open(indexName)     //create an
>> indexSearcher for our page
>>                 );
>>         } catch (Exception e) {                         //any error
>> that
>> happens is probably due
>>                                                         //to a
>> permission
>> problem or non-existant
>>                                                         //or otherwise
>> corrupt
>> index
>> %>
>>                 <p>ERROR opening the Index - contact sysadmin!</p>
>>                 <p>While parsing query: <%=e.getMessage()%></p>
>> <%                error = true;
>> //don't do
>> anything up to the footer
>>         }
>>
>>
>>
>> Output:
>> ERROR opening the Index - contact sysadmin!
>>
>> While parsing query:
>> /opt/famhistdev/fhstage/jbin/.docSearcher/indexes/fhstage_update/
>> _3ff.f6 (Too
>> many open files)
>>
>> </snip>
>>
>> Charlie
>> 3/25/04
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 18:33:25 2004
Return-Path: <lucene-user-return-7691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11121 invoked from network); 26 Mar 2004 18:33:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 18:33:25 -0000
Received: (qmail 80448 invoked by uid 500); 26 Mar 2004 18:33:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80426 invoked by uid 500); 26 Mar 2004 18:33:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80410 invoked from network); 26 Mar 2004 18:33:09 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 26 Mar 2004 18:33:09 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2QIXDw20130
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 12:33:13 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C41360.C8B55F58"
Subject: RE: too many files open error
Date: Fri, 26 Mar 2004 12:33:07 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
Thread-Topic: too many files open error
Thread-Index: AcQTX4H88i2iv7J4Q8aln2bpZQtpcwAALJPV
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41360.C8B55F58
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SXMgdGhpcyA6KSBzZXJpb3VzPyAgDQogDQpCZWNhdXNlIHdlIGhhdmUgYSBuZWVkL2ludGVyZXN0
IGluIHRoZSBuZXcgZmllbGQgc29ydGluZyBjYXBhYmlsaXRpZXMgYW5kIFF1ZXJ5UGFyc2VyIGtl
eXdvcmQgaGFuZGxpbmcgb2YgZGFzaGVzICgiLSIpIHRoYXQgd291bGQgYmUgaW4gMS40LCBJIGJl
bGlldmUuICBJdCdzIHNvIG11Y2ggZWFzaWVyIHRvIGV4cGxhaW4gdGhhdCB3ZSdsbCB1c2UgYSAi
ZmluYWwiIHJlbGVhc2Ugb2YgTHVjZW5lIGluc3RlYWQgb2YgYSAiZGV2IGJ1aWxkIiBMdWNlbmUu
ICANCiANCklmIHNvLCB3aGF0IHdvdWxkIGFuIGV4cGVjdGVkIHJlbGVhc2UgZGF0ZSBiZT8NCiAN
CnRoYW5rcywNCmNoYWQuDQoNCgktLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBF
cmlrIEhhdGNoZXIgW21haWx0bzplcmlrQGVoYXRjaGVyc29sdXRpb25zLmNvbV0gDQoJU2VudDog
RnJpIDMvMjYvMjAwNCAxMjoyMyBQTSANCglUbzogTHVjZW5lIFVzZXJzIExpc3QgDQoJQ2M6IA0K
CVN1YmplY3Q6IFJlOiB0b28gbWFueSBmaWxlcyBvcGVuIGVycm9yDQoJDQoJDQoNCglUaGUgY29t
cG91bmQgZm9ybWF0IHdhcyBhZGRlZCB0byBMdWNlbmUgMS4zIGFuZCB3YXMgbm90IHBhcnQgb2Yg
MS4yLiANCglJJ2QgZGVmaW5pdGVseSByZWNvbW1lbmQgdXBncmFkaW5nLiAgSGVjaywgTHVjZW5l
IDEuNCBjb3VsZCBiZSByZWxlYXNlZA0KCWFueSBkYXkgbm93IDopDQoJDQoJICAgICAgICBFcmlr
DQoJDQoJDQoJT24gTWFyIDI2LCAyMDA0LCBhdCAxMjoyNSBQTSwgQ2hhcmxpZSBTbWl0aCB3cm90
ZToNCgkNCgk+IEknbSB1c2luZyBsdWNlbmUtMS4yLmphciBhcyBwYXJ0IG9mIHRoZSBidWlsZCBm
b3IgdGhpcyBkb2NTZWFyY2hlcg0KCT4gYXBwbGljYXRpb24uDQoJPiBXb3VsZCB0aGVzZSByZWNv
bW1lbmRhdGlvbnMgd29yayBmb3IgdGhpcyBvciBzaG91bGQgSSB1cGdyYWRlIHRvDQoJPiBsdWNl
bmUgMS4zLg0KCT4NCgk+IEluIGRvaW5nIHNvLCBJJ20gbm90IHN1cmUgaWYgYSByZXdyaXRlIG9m
IHRoZSBkb2NTZWFyY2hlciB3aWxsIGJlDQoJPiBuZWNlc3Nhcnkgb3INCgk+IG5vdC4NCgk+DQoJ
Pg0KCT4+Pj4gRGFuaWVsIE5hYmVyIHdyb3RlIG9uIDMvMjYvMDQ6DQoJPiBUcnkgSW5kZXhXcml0
ZXIuc2V0VXNlQ29tcG91bmRGaWxlKHRydWUpIHRvIGxpbWl0IHRoZSBudW1iZXIgb2YgZmlsZXMu
DQoJPg0KCT4+Pj4gRXJpayBIYXRjaGVyIDMvMjYvMjAwNCAyOjMyOjE2IEFNID4+Pg0KCT4gSWYg
eW91IGFyZSB1c2luZyBMdWNlbmUgMS4zLCB0cnkgdXNpbmcgdGhlIGluZGV4IGluICJjb21wb3Vu
ZCIgZm9ybWF0Lg0KCT4gWW91IHdpbGwgaGF2ZSB0byByZWJ1aWxkIChvciBjb252ZXJ0KSB5b3Vy
IGluZGV4IHRvIHRoaXMgZm9ybWF0LiAgVGhlDQoJPiBoYW5keSB1dGlsaXR5IEx1a2Ugd2lsbCBj
b252ZXJ0IGFuIGluZGV4IGVhc2lseS4NCgk+DQoJPiAgICAgICBFcmlrDQoJPg0KCT4NCgk+IE9u
IE1hciAyNSwgMjAwNCwgYXQgOTozNCBQTSwgQ2hhcmxpZSBTbWl0aCB3cm90ZToNCgk+DQoJPj4g
SSBuZWVkIHRvIGdldCBzb2x1dGlvbiB0byBmb2xsb3dpbmcgZXJyb3IgQVNBUC4gIFBsZWFzZSBo
ZWxwIG1lIHdpdGgNCgk+PiB0aGlzLg0KCT4+IEknbSBnZXR0aW5nIGZvbGxvd2luZyBlcnJvciBy
ZXR1cm5lZCBmcm9tIGNhbGwgdG8NCgk+Pg0KCT4+IDxzbmlwPg0KCT4+DQoJPj4gICAgICAgICB0
cnkgew0KCT4+ICAgICAgICAgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hlcigNCgk+PiAgICAg
ICAgICAgICAgICAgICAgICAgICBJbmRleFJlYWRlci5vcGVuKGluZGV4TmFtZSkgICAgIC8vY3Jl
YXRlIGFuDQoJPj4gaW5kZXhTZWFyY2hlciBmb3Igb3VyIHBhZ2UNCgk+PiAgICAgICAgICAgICAg
ICAgKTsNCgk+PiAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7ICAgICAgICAgICAgICAg
ICAgICAgICAgIC8vYW55IGVycm9yDQoJPj4gdGhhdA0KCT4+IGhhcHBlbnMgaXMgcHJvYmFibHkg
ZHVlDQoJPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAvL3RvIGENCgk+PiBwZXJtaXNzaW9uDQoJPj4gcHJvYmxlbSBvciBub24tZXhpc3Rh
bnQNCgk+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIC8vb3Igb3RoZXJ3aXNlDQoJPj4gY29ycnVwdA0KCT4+IGluZGV4DQoJPj4gJT4NCgk+
PiAgICAgICAgICAgICAgICAgPHA+RVJST1Igb3BlbmluZyB0aGUgSW5kZXggLSBjb250YWN0IHN5
c2FkbWluITwvcD4NCgk+PiAgICAgICAgICAgICAgICAgPHA+V2hpbGUgcGFyc2luZyBxdWVyeTog
PCU9ZS5nZXRNZXNzYWdlKCklPjwvcD4NCgk+PiA8JSAgICAgICAgICAgICAgICBlcnJvciA9IHRy
dWU7DQoJPj4gLy9kb24ndCBkbw0KCT4+IGFueXRoaW5nIHVwIHRvIHRoZSBmb290ZXINCgk+PiAg
ICAgICAgIH0NCgk+Pg0KCT4+DQoJPj4NCgk+PiBPdXRwdXQ6DQoJPj4gRVJST1Igb3BlbmluZyB0
aGUgSW5kZXggLSBjb250YWN0IHN5c2FkbWluIQ0KCT4+DQoJPj4gV2hpbGUgcGFyc2luZyBxdWVy
eToNCgk+PiAvb3B0L2ZhbWhpc3RkZXYvZmhzdGFnZS9qYmluLy5kb2NTZWFyY2hlci9pbmRleGVz
L2Zoc3RhZ2VfdXBkYXRlLw0KCT4+IF8zZmYuZjYgKFRvbw0KCT4+IG1hbnkgb3BlbiBmaWxlcykN
Cgk+Pg0KCT4+IDwvc25pcD4NCgk+Pg0KCT4+IENoYXJsaWUNCgk+PiAzLzI1LzA0DQoJPj4NCgk+
Pg0KCT4+DQoJPj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJPj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVj
ZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJPj4gRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcN
Cgk+DQoJPg0KCT4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNl
bmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCgk+IEZvciBhZGRpdGlvbmFs
IGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJ
Pg0KCT4NCgk+DQoJPg0KCT4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJPiBUbyB1bnN1YnNjcmliZSwgZS1tYWls
OiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCgk+IEZvciBhZGRp
dGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUu
b3JnDQoJDQoJDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVjZW5l
LXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJRm9yIGFkZGl0aW9uYWwgY29t
bWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCgkNCgkN
Cg0K


------_=_NextPart_001_01C41360.C8B55F58
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C41360.C8B55F58--

From lucene-user-return-7692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 18:55:45 2004
Return-Path: <lucene-user-return-7692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21705 invoked from network); 26 Mar 2004 18:55:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 18:55:44 -0000
Received: (qmail 35733 invoked by uid 500); 26 Mar 2004 18:55:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35711 invoked by uid 500); 26 Mar 2004 18:55:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35688 invoked from network); 26 Mar 2004 18:55:29 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 26 Mar 2004 18:55:29 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 11:58:31 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 11:54:59 -0700
Message-ID: <s0641a13.063@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 11:54:35 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7AA2DD1071544-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there another source for the pdfbox than the sourceforge link from
pdfbox.org?

I'd like to get the linux/unix version, and wonder if the source there is ok to
use?
Couldn't this be made available to jakarta, or maybe it has?


>> Otis wrote on 3/24/04
>>Subject:    Re: analyzer for word perfect?
>
>I just finished writing a chapter for Lucene in Action that deals with
>that.

>PDF: pdfbox.org
>MS Word/Excel: jakarta.apache.org/poi
>WP: http://www.google.com/search?q=java+word+perfect+parser 

>Note that what you need are parsers.  The term Analyzer has a special
>meaning in Lucene realm.

>Otis


>--- Charlie Smith  wrote:
>> Is there an analyzer for WordPerfect files?
>> 
>> I have a need to be able to index WP files as well as MS files, pdfs,
>> etc.
>> 
>> 
> -- Otis wrote on 3/24/04
>Subject:    Re: analyzer for word perfect?
>
>I just finished writing a chapter for Lucene in Action that deals with
>that.

>PDF: pdfbox.org
>MS Word/Excel: jakarta.apache.org/poi
>WP: http://www.google.com/search?q=java+word+perfect+parser 

>Note that what you need are parsers.  The term Analyzer has a special
>meaning in Lucene realm.

>Otis


>--- Charlie Smith  wrote:
>> Is there an analyzer for WordPerfect files?
>> 
>> I have a need to be able to index WP files as well as MS files, pdfs,
>> etc.
>> 
>> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 19:16:25 2004
Return-Path: <lucene-user-return-7693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30536 invoked from network); 26 Mar 2004 19:16:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 19:16:25 -0000
Received: (qmail 81013 invoked by uid 500); 26 Mar 2004 19:16:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80991 invoked by uid 500); 26 Mar 2004 19:16:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80978 invoked from network); 26 Mar 2004 19:16:10 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 26 Mar 2004 19:16:10 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 6522A144
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 14:16:14 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 33B5F1456; Fri, 26 Mar 2004 14:16:14 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 10033144E
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 14:16:13 -0500 (EST)
Date: Fri, 26 Mar 2004 14:16:13 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: too many files open error
In-Reply-To: <s0641a13.063@wh-inet.gmhwh.org>
Message-ID: <Pine.GSO.4.53.0403261414430.23678@fury.csh.rit.edu>
References: <s0641a13.063@wh-inet.gmhwh.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


As PDFBox is an all Java solution there is no specific linux/unix version.
The source that is available with the downloaded package should suit your
needs.  What does the sourceforge site not provide for you?

Ben




On Fri, 26 Mar 2004, Charlie Smith wrote:

> Is there another source for the pdfbox than the sourceforge link from
> pdfbox.org?
>
> I'd like to get the linux/unix version, and wonder if the source there is ok to
> use?
> Couldn't this be made available to jakarta, or maybe it has?
>
>
> >> Otis wrote on 3/24/04
> >>Subject:    Re: analyzer for word perfect?
> >
> >I just finished writing a chapter for Lucene in Action that deals with
> >that.
>
> >PDF: pdfbox.org
> >MS Word/Excel: jakarta.apache.org/poi
> >WP: http://www.google.com/search?q=java+word+perfect+parser
>
> >Note that what you need are parsers.  The term Analyzer has a special
> >meaning in Lucene realm.
>
> >Otis
>
>
> >--- Charlie Smith  wrote:
> >> Is there an analyzer for WordPerfect files?
> >>
> >> I have a need to be able to index WP files as well as MS files, pdfs,
> >> etc.
> >>
> >>
> > -- Otis wrote on 3/24/04
> >Subject:    Re: analyzer for word perfect?
> >
> >I just finished writing a chapter for Lucene in Action that deals with
> >that.
>
> >PDF: pdfbox.org
> >MS Word/Excel: jakarta.apache.org/poi
> >WP: http://www.google.com/search?q=java+word+perfect+parser
>
> >Note that what you need are parsers.  The term Analyzer has a special
> >meaning in Lucene realm.
>
> >Otis
>
>
> >--- Charlie Smith  wrote:
> >> Is there an analyzer for WordPerfect files?
> >>
> >> I have a need to be able to index WP files as well as MS files, pdfs,
> >> etc.
> >>
> >>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 19:25:46 2004
Return-Path: <lucene-user-return-7694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34540 invoked from network); 26 Mar 2004 19:25:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 19:25:46 -0000
Received: (qmail 96973 invoked by uid 500); 26 Mar 2004 19:25:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96806 invoked by uid 500); 26 Mar 2004 19:25:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96786 invoked from network); 26 Mar 2004 19:25:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 26 Mar 2004 19:25:30 -0000
Received: (cpmta 5531 invoked from network); 26 Mar 2004 11:25:33 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 26 Mar 2004 11:25:33 -0800
X-Sent: 26 Mar 2004 19:25:33 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5954A786-7F5B-11D8-BA93-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Fri, 26 Mar 2004 14:25:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 1:33 PM, Chad Small wrote:
> Is this :) serious?

This is open-source.   I'm only as serious as it would take for someone 
to push it through.  I don't know what the timeline is, although lots 
of new features are available.

> Because we have a need/interest in the new field sorting capabilities 
> and QueryParser keyword handling of dashes ("-") that would be in 1.4, 
> I believe.  It's so much easier to explain that we'll use a "final" 
> release of Lucene instead of a "dev build" Lucene.

Why explain it?!  Just show great results and let that be the 
explanation :)

>
> If so, what would an expected release date be?

*shrug* - feel free to lobby for it.  I don't know what else is planned 
before a release.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 19:52:20 2004
Return-Path: <lucene-user-return-7695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45952 invoked from network); 26 Mar 2004 19:52:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 19:52:20 -0000
Received: (qmail 73607 invoked by uid 500); 26 Mar 2004 19:52:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73483 invoked by uid 500); 26 Mar 2004 19:52:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73467 invoked from network); 26 Mar 2004 19:52:04 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 26 Mar 2004 19:52:04 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i2QJq9w22343
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 13:52:09 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C4136B.21AC3188"
Subject: Lucene 1.4 - lobby for final release
Date: Fri, 26 Mar 2004 13:47:12 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
Thread-Topic: too many files open error
Thread-Index: AcQTaCDnXtn9kL0qSKCJ8MBhRGKtEgAAHBcV
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4136B.21AC3188
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

dGhhbmtzIEVyaWsuICBPayB0aGlzIGlzIG15IG9mZmljaWFsIGxvYmJ5IGVmZm9ydCBmb3IgdGhl
IHJlbGVhc2Ugb2YgMS40IHRvIGZpbmFsIHN0YXR1cy4gIEFueW9uZSBlbHNlIG5lZWQvd2FudCBh
IDEuNCByZWxlYXNlPw0KIA0KRG9lcyBhbnlvbmUgaGF2ZSBhbnkgaW5mb3JtYXRpb24gb24gMS40
IHJlbGVhc2UgcGxhbnM/DQogDQp0aGFua3MsDQpjaGFkLg0KDQoJLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0gDQoJRnJvbTogRXJpayBIYXRjaGVyIFttYWlsdG86ZXJpa0BlaGF0Y2hlcnNvbHV0
aW9ucy5jb21dIA0KCVNlbnQ6IEZyaSAzLzI2LzIwMDQgMToyNSBQTSANCglUbzogTHVjZW5lIFVz
ZXJzIExpc3QgDQoJQ2M6IA0KCVN1YmplY3Q6IFJlOiB0b28gbWFueSBmaWxlcyBvcGVuIGVycm9y
DQoJDQoJDQoNCglPbiBNYXIgMjYsIDIwMDQsIGF0IDE6MzMgUE0sIENoYWQgU21hbGwgd3JvdGU6
DQoJPiBJcyB0aGlzIDopIHNlcmlvdXM/DQoJDQoJVGhpcyBpcyBvcGVuLXNvdXJjZS4gICBJJ20g
b25seSBhcyBzZXJpb3VzIGFzIGl0IHdvdWxkIHRha2UgZm9yIHNvbWVvbmUNCgl0byBwdXNoIGl0
IHRocm91Z2guICBJIGRvbid0IGtub3cgd2hhdCB0aGUgdGltZWxpbmUgaXMsIGFsdGhvdWdoIGxv
dHMNCglvZiBuZXcgZmVhdHVyZXMgYXJlIGF2YWlsYWJsZS4NCgkNCgk+IEJlY2F1c2Ugd2UgaGF2
ZSBhIG5lZWQvaW50ZXJlc3QgaW4gdGhlIG5ldyBmaWVsZCBzb3J0aW5nIGNhcGFiaWxpdGllcw0K
CT4gYW5kIFF1ZXJ5UGFyc2VyIGtleXdvcmQgaGFuZGxpbmcgb2YgZGFzaGVzICgiLSIpIHRoYXQg
d291bGQgYmUgaW4gMS40LA0KCT4gSSBiZWxpZXZlLiAgSXQncyBzbyBtdWNoIGVhc2llciB0byBl
eHBsYWluIHRoYXQgd2UnbGwgdXNlIGEgImZpbmFsIg0KCT4gcmVsZWFzZSBvZiBMdWNlbmUgaW5z
dGVhZCBvZiBhICJkZXYgYnVpbGQiIEx1Y2VuZS4NCgkNCglXaHkgZXhwbGFpbiBpdD8hICBKdXN0
IHNob3cgZ3JlYXQgcmVzdWx0cyBhbmQgbGV0IHRoYXQgYmUgdGhlDQoJZXhwbGFuYXRpb24gOikN
CgkNCgk+DQoJPiBJZiBzbywgd2hhdCB3b3VsZCBhbiBleHBlY3RlZCByZWxlYXNlIGRhdGUgYmU/
DQoJDQoJKnNocnVnKiAtIGZlZWwgZnJlZSB0byBsb2JieSBmb3IgaXQuICBJIGRvbid0IGtub3cg
d2hhdCBlbHNlIGlzIHBsYW5uZWQNCgliZWZvcmUgYSByZWxlYXNlLg0KCQ0KCSAgICAgICAgRXJp
aw0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11
c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJDQoJDQoN
Cg==


------_=_NextPart_001_01C4136B.21AC3188
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C4136B.21AC3188--

From lucene-user-return-7696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 20:33:16 2004
Return-Path: <lucene-user-return-7696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70141 invoked from network); 26 Mar 2004 20:33:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 20:33:16 -0000
Received: (qmail 60820 invoked by uid 500); 26 Mar 2004 20:32:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60789 invoked by uid 500); 26 Mar 2004 20:32:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60701 invoked from network); 26 Mar 2004 20:32:53 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 26 Mar 2004 20:32:53 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2QKWviI017340
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 15:32:57 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2QKWvP5017336
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 15:32:57 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 26 Mar 2004 15:32:57 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.4 - lobby for final release
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
Message-ID: <Pine.LNX.4.44.0403261520090.16551-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm personally a fan of a release small but often approach, but what are 
the new features available in 1.4 (a list would be nice, on the wiki 
perhaps)? Will there be interim builds available to try these new features 
out soon?

There seem to be no nightly builds on:

http://cvs.apache.org/builds/jakarta-lucene/nightly/

cheers,
sv

On Fri, 26 Mar 2004, Chad Small wrote:

> thanks Erik.  Ok this is my official lobby effort for the release of 1.4 to final status.  Anyone else need/want a 1.4 release?
>  
> Does anyone have any information on 1.4 release plans?
>  
> thanks,
> chad.
> 
> 	-----Original Message----- 
> 	From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> 	Sent: Fri 3/26/2004 1:25 PM 
> 	To: Lucene Users List 
> 	Cc: 
> 	Subject: Re: too many files open error
> 	
> 	
> 
> 	On Mar 26, 2004, at 1:33 PM, Chad Small wrote:
> 	> Is this :) serious?
> 	
> 	This is open-source.   I'm only as serious as it would take for someone
> 	to push it through.  I don't know what the timeline is, although lots
> 	of new features are available.
> 	
> 	> Because we have a need/interest in the new field sorting capabilities
> 	> and QueryParser keyword handling of dashes ("-") that would be in 1.4,
> 	> I believe.  It's so much easier to explain that we'll use a "final"
> 	> release of Lucene instead of a "dev build" Lucene.
> 	
> 	Why explain it?!  Just show great results and let that be the
> 	explanation :)
> 	
> 	>
> 	> If so, what would an expected release date be?
> 	
> 	*shrug* - feel free to lobby for it.  I don't know what else is planned
> 	before a release.
> 	
> 	        Erik
> 	
> 	
> 	---------------------------------------------------------------------
> 	To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 	
> 	
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 21:16:59 2004
Return-Path: <lucene-user-return-7697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90867 invoked from network); 26 Mar 2004 21:16:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 21:16:59 -0000
Received: (qmail 35931 invoked by uid 500); 26 Mar 2004 21:16:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35907 invoked by uid 500); 26 Mar 2004 21:16:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35888 invoked from network); 26 Mar 2004 21:16:41 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.37)
  by daedalus.apache.org with SMTP; 26 Mar 2004 21:16:41 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 14:15:20 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 14:16:19 -0700
Message-ID: <s0643b33.020@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 14:16:06 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: ben@csh.rit.edu,
	lucene-user@jakarta.apache.org
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7A42E21409528-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't want to get into a debate that involves slamming source forge. They
provide a great service.
However to answer your question:
1. Reliable downloads.   They don't always seem to complete.
2. An orgainized tree stucture  into available apps
3. A nicer presentation.  GUI look and feel is very gooy.
4. Sloppy forums.   Answers to questions take a long time or never.  Look and
feel is ugly.
    I guess lack of forum organization. Notification of answered questions is
not there.  Or doesn't appear to be.

On the other hand, it's much better than nothing.  



Back to the problem of (too many files open):

I'm really having difficulty recompiling all the java routines in the program
that I have.  Being new to Java, 
it's probably just my inexperience, but I hope to be able to get this done
soon. Though any help along these
lines would be greatly appreciated.

Specifically, inside the Index.java file is a call to:
                                        iw = new IndexWriter(di.indexerPath,
new StandardAnalyzer(), false);
                                        iw.setUseCompoundFilter(true);

I added the 2nd line per recommendation earlier on this topic.

In trying to recompile the Index.java file I get following errors:
Index.java:125: cannot resolve symbol
symbol  : method didParse ()
location: class PdfToText
                       else if  (pp.didParse()) {
                                            ^
Index.java:352: cannot resolve symbol
symbol  : method setUseCompoundFilter (boolean)
location: class org.apache.lucene.index.IndexWriter
                                        iw.setUseCompoundFilter(true);
                                          ^
Index.java:444: cannot resolve symbol
symbol  : method setUseCompoundFilter (boolean)
location: class org.apache.lucene.index.IndexWriter
                                iw.setUseCompoundFilter(true);
                                  ^
./EmailThread.java:2: package javax.mail does not exist
import javax.mail.*;
^
./EmailThread.java:3: package javax.mail.internet does not exist
import javax.mail.internet.*;
^
./WordToText.java:5: package org.apache.poi.hdf.extractor does not exist
import org.apache.poi.hdf.extractor.WordDocument;

...
and it keeps going to about 58 errors.  Hey it was peaking out over 100, so I'm
making
some improvement. 

Any help would be appreciated.



>>> ben@csh.rit.edu 3/26/2004 12:16:13 PM >>>

As PDFBox is an all Java solution there is no specific linux/unix version.
The source that is available with the downloaded package should suit your
needs.  What does the sourceforge site not provide for you?

Ben




On Fri, 26 Mar 2004, Charlie Smith wrote:

> Is there another source for the pdfbox than the sourceforge link from
> pdfbox.org?
>
> I'd like to get the linux/unix version, and wonder if the source there is ok
to
> use?
> Couldn't this be made available to jakarta, or maybe it has?
>
>
> >> Otis wrote on 3/24/04
> >>Subject:    Re: analyzer for word perfect?
> >
> >I just finished writing a chapter for Lucene in Action that deals with
> >that.
>
> >PDF: pdfbox.org
> >MS Word/Excel: jakarta.apache.org/poi
> >WP: http://www.google.com/search?q=java+word+perfect+parser 
>
> >Note that what you need are parsers.  The term Analyzer has a special
> >meaning in Lucene realm.
>
> >Otis
>
>
> >--- Charlie Smith  wrote:
> >> Is there an analyzer for WordPerfect files?
> >>
> >> I have a need to be able to index WP files as well as MS files, pdfs,
> >> etc.
> >>
> >>
> > -- Otis wrote on 3/24/04
> >Subject:    Re: analyzer for word perfect?
> >
> >I just finished writing a chapter for Lucene in Action that deals with
> >that.
>
> >PDF: pdfbox.org
> >MS Word/Excel: jakarta.apache.org/poi
> >WP: http://www.google.com/search?q=java+word+perfect+parser 
>
> >Note that what you need are parsers.  The term Analyzer has a special
> >meaning in Lucene realm.
>
> >Otis
>
>
> >--- Charlie Smith  wrote:
> >> Is there an analyzer for WordPerfect files?
> >>
> >> I have a need to be able to index WP files as well as MS files, pdfs,
> >> etc.
> >>
> >>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 21:37:58 2004
Return-Path: <lucene-user-return-7698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 888 invoked from network); 26 Mar 2004 21:37:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 21:37:57 -0000
Received: (qmail 64365 invoked by uid 500); 26 Mar 2004 21:37:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64227 invoked by uid 500); 26 Mar 2004 21:37:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64200 invoked from network); 26 Mar 2004 21:37:40 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.38)
  by daedalus.apache.org with SMTP; 26 Mar 2004 21:37:40 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 14:40:39 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 14:37:07 -0700
Message-ID: <s0644013.064@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 14:36:37 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: I downloaded latest 1.3 of lucene (lucene-1.3-final ), searched
 for setUse and only found setUseComp
MIME-Version: 1.0
X-WSS-ID: 6C7A7CDC1095380-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I downloaded latest 1.3 of lucene (lucene-1.3-final ), searched for setUse and
only found setUseCompoundFile().  No routine called setUseCompoundFile().



>> On 3/26/04 Eric wrote:
The compound format was added to Lucene 1.3 and was not part of 1.2.  
>I'd definitely recommend upgrading.  Heck, Lucene 1.4 could be released 
>any day now :)

>   Erik


On Mar 26, 2004, at 12:25 PM, Charlie Smith wrote:

> I'm using lucene-1.2.jar as part of the build for this docSearcher 
> application.
> Would these recommendations work for this or should I upgrade to 
> lucene 1.3.
>
> In doing so, I'm not sure if a rewrite of the docSearcher will be 
> necessary or
> not.
>
>
>>>> Daniel Naber wrote on 3/26/04:
> Try IndexWriter.setUseCompoundFile(true) to limit the number of files.
>
>>>> Erik Hatcher 3/26/2004 2:32:16 AM >>>
> If you are using Lucene 1.3, try using the index in "compound" format.
> You will have to rebuild (or convert) your index to this format.  The
> handy utility Luke will convert an index easily.
>
>    Erik
>
>
> On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:
>
>> I need to get solution to following error ASAP.  Please help me with
>> this.
>> I'm getting following error returned from call to
>>
>> 
>>
>>         try {
>>         searcher = new IndexSearcher(
>>                         IndexReader.open(indexName)     //create an
>> indexSearcher for our page
>>                 );
>>         } catch (Exception e)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 21:41:49 2004
Return-Path: <lucene-user-return-7699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2167 invoked from network); 26 Mar 2004 21:41:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 21:41:49 -0000
Received: (qmail 71484 invoked by uid 500); 26 Mar 2004 21:41:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71459 invoked by uid 500); 26 Mar 2004 21:41:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71446 invoked from network); 26 Mar 2004 21:41:32 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 26 Mar 2004 21:41:32 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004032621413701100miogse>; Fri, 26 Mar 2004 21:41:38 +0000
Message-ID: <4064A350.7040107@apache.org>
Date: Fri, 26 Mar 2004 13:40:32 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.4 - lobby for final release
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chad Small wrote:
> thanks Erik.  Ok this is my official lobby effort for the release of 1.4 to final status.  Anyone else need/want a 1.4 release?
>  
> Does anyone have any information on 1.4 release plans?

I'd like to make an RC once I manage to fix bug #27799, which will 
hopefully be soon.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 22:04:24 2004
Return-Path: <lucene-user-return-7700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14352 invoked from network); 26 Mar 2004 22:04:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 22:04:24 -0000
Received: (qmail 11841 invoked by uid 500); 26 Mar 2004 22:03:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11798 invoked by uid 500); 26 Mar 2004 22:03:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11686 invoked from network); 26 Mar 2004 22:03:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 26 Mar 2004 22:03:55 -0000
Received: (cpmta 12339 invoked from network); 26 Mar 2004 14:04:01 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Mar 2004 14:04:01 -0800
X-Sent: 26 Mar 2004 22:04:01 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s0644013.064@wh-inet.gmhwh.org>
References: <s0644013.064@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <748B4D06-7F71-11D8-9A2C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: I downloaded latest 1.3 of lucene (lucene-1.3-final ), searched for setUse and only found setUseComp
Date: Fri, 26 Mar 2004 17:03:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 4:36 PM, Charlie Smith wrote:
> I downloaded latest 1.3 of lucene (lucene-1.3-final ), searched for 
> setUse and
> only found setUseCompoundFile().  No routine called 
> setUseCompoundFile().

Huh?  I must be missing something.  
IndexWriter.setUseCompoundFile(boolean compound) is most definitely a 
Lucene 1.3 feature.

	Erik


>
>
>
>>> On 3/26/04 Eric wrote:
> The compound format was added to Lucene 1.3 and was not part of 1.2.
>> I'd definitely recommend upgrading.  Heck, Lucene 1.4 could be 
>> released
>> any day now :)
>
>>   Erik
>
>
> On Mar 26, 2004, at 12:25 PM, Charlie Smith wrote:
>
>> I'm using lucene-1.2.jar as part of the build for this docSearcher
>> application.
>> Would these recommendations work for this or should I upgrade to
>> lucene 1.3.
>>
>> In doing so, I'm not sure if a rewrite of the docSearcher will be
>> necessary or
>> not.
>>
>>
>>>>> Daniel Naber wrote on 3/26/04:
>> Try IndexWriter.setUseCompoundFile(true) to limit the number of files.
>>
>>>>> Erik Hatcher 3/26/2004 2:32:16 AM >>>
>> If you are using Lucene 1.3, try using the index in "compound" format.
>> You will have to rebuild (or convert) your index to this format.  The
>> handy utility Luke will convert an index easily.
>>
>>    Erik
>>
>>
>> On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:
>>
>>> I need to get solution to following error ASAP.  Please help me with
>>> this.
>>> I'm getting following error returned from call to
>>>
>>>
>>>
>>>         try {
>>>         searcher = new IndexSearcher(
>>>                         IndexReader.open(indexName)     //create an
>>> indexSearcher for our page
>>>                 );
>>>         } catch (Exception e)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 22:15:12 2004
Return-Path: <lucene-user-return-7701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19426 invoked from network); 26 Mar 2004 22:15:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 22:15:12 -0000
Received: (qmail 24632 invoked by uid 500); 26 Mar 2004 22:14:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24458 invoked by uid 500); 26 Mar 2004 22:14:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24445 invoked from network); 26 Mar 2004 22:14:54 -0000
Received: from unknown (HELO mail.gmhwh.org) (12.110.19.37)
  by daedalus.apache.org with SMTP; 26 Mar 2004 22:14:54 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 15:13:23 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 14:54:03 -0700
Message-ID: <s064440b.003@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 14:53:32 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: lucene-user@jakarta.apache.org
cc: JohnBrown1024@netscape.net
Subject: Re: I downloaded latest 1.3 of lucene (lucene-1.3-final ),
 searchedfor setUse and only found setUseComp
MIME-Version: 1.0
X-WSS-ID: 6C7A74891434704-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OOps,   I meant to say I found no setUseCompoundFilter().  I read the note
wrong
and tried to compile with ...Filter  not ...File.
There is a setUseCompoundFile(), which is what was recommended.

So, got rid of that problem   whew.  now have others like:
Index.java:125: cannot resolve symbol
symbol  : method didParse ()
location: class PdfToText
                       else if  (pp.didParse()) {
                                            ^
./EmailThread.java:2: package javax.mail does not exist
import javax.mail.*;
^
./EmailThread.java:3: package javax.mail.internet does not exist
import javax.mail.internet.*;
^
./WordToText.java:5: package org.apache.poi.hdf.extractor does not exist
import org.apache.poi.hdf.extractor.WordDocument;
                                    ^
./WordToText.java:11: cannot resolve symbol
symbol  : class WordDocument
location: class WordToText
    WordDocument wd;



>>> Charlie Smith wrote on  3/26/2004 2:36:37 PM >>>
I downloaded latest 1.3 of lucene (lucene-1.3-final ), searched for setUse and
only found setUseCompoundFile().  No routine called setUseCompoundFile().



>> On 3/26/04 Eric wrote:
The compound format was added to Lucene 1.3 and was not part of 1.2.  
>I'd definitely recommend upgrading.  Heck, Lucene 1.4 could be released 
>any day now :)

>   Erik


On Mar 26, 2004, at 12:25 PM, Charlie Smith wrote:

> I'm using lucene-1.2.jar as part of the build for this docSearcher 
> application.
> Would these recommendations work for this or should I upgrade to 
> lucene 1.3.
>
> In doing so, I'm not sure if a rewrite of the docSearcher will be 
> necessary or
> not.
>
>
>>>> Daniel Naber wrote on 3/26/04:
> Try IndexWriter.setUseCompoundFile(true) to limit the number of files.
>
>>>> Erik Hatcher 3/26/2004 2:32:16 AM >>>
> If you are using Lucene 1.3, try using the index in "compound" format.
> You will have to rebuild (or convert) your index to this format.  The
> handy utility Luke will convert an index easily.
>
>    Erik
>
>
> On Mar 25, 2004, at 9:34 PM, Charlie Smith wrote:
>
>> I need to get solution to following error ASAP.  Please help me with
>> this.
>> I'm getting following error returned from call to
>>
>> 
>>
>>         try {
>>         searcher = new IndexSearcher(
>>                         IndexReader.open(indexName)     //create an
>> indexSearcher for our page
>>                 );
>>         } catch (Exception e)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 22:19:52 2004
Return-Path: <lucene-user-return-7702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22349 invoked from network); 26 Mar 2004 22:19:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 22:19:52 -0000
Received: (qmail 32262 invoked by uid 500); 26 Mar 2004 22:19:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32231 invoked by uid 500); 26 Mar 2004 22:19:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32165 invoked from network); 26 Mar 2004 22:19:17 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 26 Mar 2004 22:19:17 -0000
Received: (cpmta 23673 invoked from network); 26 Mar 2004 14:19:21 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Mar 2004 14:19:21 -0800
X-Sent: 26 Mar 2004 22:19:21 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0403261520090.16551-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0403261520090.16551-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A034277A-7F73-11D8-9A2C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.4 - lobby for final release
Date: Fri, 26 Mar 2004 17:19:19 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 3:32 PM, Stephane James Vaucher wrote:
> I'm personally a fan of a release small but often approach, but what 
> are
> the new features available in 1.4 (a list would be nice, on the wiki
> perhaps)? Will there be interim builds available to try these new 
> features
> out soon?

There is a CHANGES.txt in the root of the jakarta-lucene CVS repository 
that stays pretty much current and accurate.  I'm pasting it below for 
the 1.3 -> CVS HEAD changes.

>
> There seem to be no nightly builds on:
>
> http://cvs.apache.org/builds/jakarta-lucene/nightly/
>

I guess at this time you will have to build it yourself from CVS.  
There is one show-stopper before we can release an RC1.  We must fully 
convert to ASL 2.0 (meaning every single source file needs the license 
header as well as any other files that can be tagged with it).  I know 
Otis has changed some files, but we need a full sweep.  There have been 
some utilities posted in a committers area to facilitate this change 
more automatically if we want to use them.

	Erik

excerpt from CHANGES.txt

1.4 RC1

  1. Changed the format of the .tis file, so that:

     - it has a format version number, which makes it easier to
       back-compatibly change file formats in the future.

     - the term count is now stored as a long.  This was the one aspect
       of the Lucene's file formats which limited index size.

     - a few internal index parameters are now stored in the index, so
       that they can (in theory) now be changed from index to index,
       although there is not yet an API to do so.

     These changes are back compatible.  The new code can read old
     indexes.  But old code will not be able read new indexes. (cutting)

  2. Added an optimized implementation of TermDocs.skipTo().  A skip
     table is now stored for each term in the .frq file.  This only
     adds a percent or two to overall index size, but can substantially
     speedup many searches.  (cutting)

  3. Restructured the Scorer API and all Scorer implementations to take
     advantage of an optimized TermDocs.skipTo() implementation.  In
     particular, PhraseQuerys and conjunctive BooleanQuerys are
     faster when one clause has substantially fewer matches than the
     others.  (A conjunctive BooleanQuery is a BooleanQuery where all
     clauses are required.)  (cutting)

  4. Added new class ParallelMultiSearcher.  Combined with
     RemoteSearchable this makes it easy to implement distributed
     search systems.  (Jean-Francois Halleux via cutting)

  5. Added support for hit sorting.  Results may now be sorted by any
     indexed field.  For details see the javadoc for
     Searcher#search(Query, Sort).  (Tim Jones via Cutting)

  6. Changed FSDirectory to auto-create a full directory tree that it
     needs by using mkdirs() instead of mkdir().  (Mladen Turk via Otis)

  7. Added a new span-based query API.  This implements, among other
     things, nested phrases.  See javadocs for details.  (Doug Cutting)

  8. Added new method Query.getSimilarity(Searcher), and changed
     scorers to use it.  This permits one to subclass a Query class so
     that it can specify it's own Similarity implementation, perhaps
     one that delegates through that of the Searcher.  (Julien Nioche
     via Cutting)

  9. Added MultiReader, an IndexReader that combines multiple other
     IndexReaders.  (Cutting)

10. Added support for term vectors.  See Field#isTermVectorStored().
     (Grant Ingersoll, Cutting & Dmitry)

11. Fixed the old bug with escaping of special characters in query
     strings: http://issues.apache.org/bugzilla/show_bug.cgi?id=24665
     (Jean-Francois Halleux via Otis)

12. Added support for overriding default values for the following,
     using system properties:
       - default commit lock timeout
       - default maxFieldLength
       - default maxMergeDocs
       - default mergeFactor
       - default minMergeDocs
       - default write lock timeout
     (Otis)

13. Changed QueryParser.jj to allow '-' and '+' within tokens:
     http://issues.apache.org/bugzilla/show_bug.cgi?id=27491
     (Morus Walter via Otis)

14. Changed so that the compound index format is used by default.
     This makes indexing a bit slower, but vastly reduces the chances
     of file handle problems.  (Cutting)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 22:35:25 2004
Return-Path: <lucene-user-return-7703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29022 invoked from network); 26 Mar 2004 22:35:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 22:35:25 -0000
Received: (qmail 59515 invoked by uid 500); 26 Mar 2004 22:35:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59492 invoked by uid 500); 26 Mar 2004 22:35:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59473 invoked from network); 26 Mar 2004 22:35:07 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 26 Mar 2004 22:35:07 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2QMZCiI019808
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 17:35:12 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2QMZCxw019804
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 17:35:12 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 26 Mar 2004 17:35:12 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.4 - lobby for final release
In-Reply-To: <A034277A-7F73-11D8-9A2C-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0403261730380.16551-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I hope nobody minds, I've added a link on the wiki to the head of 
CHANGES.txt. I'm not sure if anyone is "maintaining the wiki", if not, I 
can take a look at it. I could maybe rearrange things to look like 
<sample-site>:
http://wiki.apache.org/avalon
</sample-site>

Any comments? I'll probably just go ahead and do it and await critisism ;) 

cheers,
sv

On Fri, 26 Mar 2004, Erik Hatcher wrote:

> On Mar 26, 2004, at 3:32 PM, Stephane James Vaucher wrote:
> > I'm personally a fan of a release small but often approach, but what 
> > are
> > the new features available in 1.4 (a list would be nice, on the wiki
> > perhaps)? Will there be interim builds available to try these new 
> > features
> > out soon?
> 
> There is a CHANGES.txt in the root of the jakarta-lucene CVS repository 
> that stays pretty much current and accurate.  I'm pasting it below for 
> the 1.3 -> CVS HEAD changes.
> 
> >
> > There seem to be no nightly builds on:
> >
> > http://cvs.apache.org/builds/jakarta-lucene/nightly/
> >
> 
> I guess at this time you will have to build it yourself from CVS.  
> There is one show-stopper before we can release an RC1.  We must fully 
> convert to ASL 2.0 (meaning every single source file needs the license 
> header as well as any other files that can be tagged with it).  I know 
> Otis has changed some files, but we need a full sweep.  There have been 
> some utilities posted in a committers area to facilitate this change 
> more automatically if we want to use them.
> 
> 	Erik
> 
> excerpt from CHANGES.txt
> 
> 1.4 RC1
> 
>   1. Changed the format of the .tis file, so that:
> 
>      - it has a format version number, which makes it easier to
>        back-compatibly change file formats in the future.
> 
>      - the term count is now stored as a long.  This was the one aspect
>        of the Lucene's file formats which limited index size.
> 
>      - a few internal index parameters are now stored in the index, so
>        that they can (in theory) now be changed from index to index,
>        although there is not yet an API to do so.
> 
>      These changes are back compatible.  The new code can read old
>      indexes.  But old code will not be able read new indexes. (cutting)
> 
>   2. Added an optimized implementation of TermDocs.skipTo().  A skip
>      table is now stored for each term in the .frq file.  This only
>      adds a percent or two to overall index size, but can substantially
>      speedup many searches.  (cutting)
> 
>   3. Restructured the Scorer API and all Scorer implementations to take
>      advantage of an optimized TermDocs.skipTo() implementation.  In
>      particular, PhraseQuerys and conjunctive BooleanQuerys are
>      faster when one clause has substantially fewer matches than the
>      others.  (A conjunctive BooleanQuery is a BooleanQuery where all
>      clauses are required.)  (cutting)
> 
>   4. Added new class ParallelMultiSearcher.  Combined with
>      RemoteSearchable this makes it easy to implement distributed
>      search systems.  (Jean-Francois Halleux via cutting)
> 
>   5. Added support for hit sorting.  Results may now be sorted by any
>      indexed field.  For details see the javadoc for
>      Searcher#search(Query, Sort).  (Tim Jones via Cutting)
> 
>   6. Changed FSDirectory to auto-create a full directory tree that it
>      needs by using mkdirs() instead of mkdir().  (Mladen Turk via Otis)
> 
>   7. Added a new span-based query API.  This implements, among other
>      things, nested phrases.  See javadocs for details.  (Doug Cutting)
> 
>   8. Added new method Query.getSimilarity(Searcher), and changed
>      scorers to use it.  This permits one to subclass a Query class so
>      that it can specify it's own Similarity implementation, perhaps
>      one that delegates through that of the Searcher.  (Julien Nioche
>      via Cutting)
> 
>   9. Added MultiReader, an IndexReader that combines multiple other
>      IndexReaders.  (Cutting)
> 
> 10. Added support for term vectors.  See Field#isTermVectorStored().
>      (Grant Ingersoll, Cutting & Dmitry)
> 
> 11. Fixed the old bug with escaping of special characters in query
>      strings: http://issues.apache.org/bugzilla/show_bug.cgi?id=24665
>      (Jean-Francois Halleux via Otis)
> 
> 12. Added support for overriding default values for the following,
>      using system properties:
>        - default commit lock timeout
>        - default maxFieldLength
>        - default maxMergeDocs
>        - default mergeFactor
>        - default minMergeDocs
>        - default write lock timeout
>      (Otis)
> 
> 13. Changed QueryParser.jj to allow '-' and '+' within tokens:
>      http://issues.apache.org/bugzilla/show_bug.cgi?id=27491
>      (Morus Walter via Otis)
> 
> 14. Changed so that the compound index format is used by default.
>      This makes indexing a bit slower, but vastly reduces the chances
>      of file handle problems.  (Cutting)
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Mar 26 23:00:47 2004
Return-Path: <lucene-user-return-7704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38027 invoked from network); 26 Mar 2004 23:00:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Mar 2004 23:00:46 -0000
Received: (qmail 96306 invoked by uid 500); 26 Mar 2004 23:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96278 invoked by uid 500); 26 Mar 2004 23:00:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96249 invoked from network); 26 Mar 2004 23:00:27 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 26 Mar 2004 23:00:27 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2QN0XiI020046
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 18:00:33 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2QN0XGK020042
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 18:00:33 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 26 Mar 2004 18:00:33 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Documentation and presentations
In-Reply-To: <A034277A-7F73-11D8-9A2C-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0403261748420.16551-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello lucene community,

I'll be presenting lucene at the GUJM (Java Users Group of Montreal), 
mid-April, could you send me references, articles, presentations not 
readily available on the lucene site (at 
http://jakarta.apache.org/lucene/docs/resources.html)?

Otis or Erik, I'll mention that you have written a book on lucene. When 
will it be out?

I'll also see if I can rearrange the wiki using the information you send 
me, and I'll contribute my presentation (in french).

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 00:08:11 2004
Return-Path: <lucene-user-return-7705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60462 invoked from network); 27 Mar 2004 00:08:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 00:08:10 -0000
Received: (qmail 78329 invoked by uid 500); 27 Mar 2004 00:07:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78307 invoked by uid 500); 27 Mar 2004 00:07:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67977 invoked from network); 27 Mar 2004 00:01:10 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 27 Mar 2004 00:01:10 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2R01ItG005246
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 16:01:19 -0800
Message-ID: <4064C44C.1010606@newsmonster.org>
Date: Fri, 26 Mar 2004 16:01:16 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.4 - lobby for final release
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CAE@elwood.definityhealth.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigC2FB56AC4FCC9711BC883851"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigC2FB56AC4FCC9711BC883851
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Chad Small wrote:

>thanks Erik.  Ok this is my official lobby effort for the release of 1.4 to final status.  Anyone else need/want a 1.4 release?
> 
>Does anyone have any information on 1.4 release plans?
>  
>
Just an FYI... I've noticed a fatal bug that was introduced in 1.3rc2 -> 
final.  I've had to use 1.3rc2 in our application.  The problem is that 
during an index merge Lucene will get stuck in an infinte loop and never 
terminate.

I haven't had much time to debug it but I just reverted back and we were 
fine.

I'll yield to whatever decision you guys make as I don't have a patch or 
a better diagnosis of the problem.

Thanks!

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigC2FB56AC4FCC9711BC883851
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAZMRN6E2NBJnxRBIRAoIfAKCgeslT+nBkp9TmpihAfDthyoajPACcD6Z/
7ZfSkPna2GXoq4zWdyRrU0Q=
=XOpV
-----END PGP SIGNATURE-----

--------------enigC2FB56AC4FCC9711BC883851--

From lucene-user-return-7706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 00:13:08 2004
Return-Path: <lucene-user-return-7706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62862 invoked from network); 27 Mar 2004 00:13:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 00:13:08 -0000
Received: (qmail 87537 invoked by uid 500); 27 Mar 2004 00:12:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87512 invoked by uid 500); 27 Mar 2004 00:12:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87499 invoked from network); 27 Mar 2004 00:12:48 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 27 Mar 2004 00:12:48 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2R0CutG005346
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Fri, 26 Mar 2004 16:12:56 -0800
Message-ID: <4064C706.6000702@newsmonster.org>
Date: Fri, 26 Mar 2004 16:12:54 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC: fchsupport@fch.ldschurch.org
Subject: Re: too many files open error
References: <s0633441.004@wh-inet.gmhwh.org>
In-Reply-To: <s0633441.004@wh-inet.gmhwh.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigA0A8F5DFF2917E8F9C968A8D"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigA0A8F5DFF2917E8F9C968A8D
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Charlie Smith wrote:

>/opt/famhistdev/fhstage/jbin/.docSearcher/indexes/fhstage_update/_3ff.f6 (Too
>many open files)
>  
>
Just a suggestion... why not put a URL string in the "Too many open 
files".  Exception.   Tons of people keep running into this problem and 
we keep wasting both our time annd their time. 

We could just link to the FAQ entry.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigA0A8F5DFF2917E8F9C968A8D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAZMcG6E2NBJnxRBIRAvjBAJ4wGHGJYn3QzSpbYKTYPJ3pQyaOfwCeLAQ2
9EIj+JcGFTnCaM7w8aetd94=
=Rpw3
-----END PGP SIGNATURE-----

--------------enigA0A8F5DFF2917E8F9C968A8D--

From lucene-user-return-7707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 00:20:22 2004
Return-Path: <lucene-user-return-7707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65234 invoked from network); 27 Mar 2004 00:20:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 00:20:21 -0000
Received: (qmail 97517 invoked by uid 500); 27 Mar 2004 00:20:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97419 invoked by uid 500); 27 Mar 2004 00:19:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97403 invoked from network); 27 Mar 2004 00:19:59 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 27 Mar 2004 00:19:59 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2R0K7tG005416
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 16:20:08 -0800
Message-ID: <4064C8B6.6030509@newsmonster.org>
Date: Fri, 26 Mar 2004 16:20:06 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: too many files open error
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig05990BC801E6DA3559FD2553"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig05990BC801E6DA3559FD2553
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Chad Small wrote:

>Is this :) serious?  
> 
>Because we have a need/interest in the new field sorting capabilities
>
URL to documentation for field sorting?

> and QueryParser keyword handling of dashes ("-") that would be in 1.4, I believe.  It's so much easier to explain that we'll use a "final" release of Lucene instead of a "dev build" Lucene.  
>  
>


-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig05990BC801E6DA3559FD2553
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAZMi26E2NBJnxRBIRAp1PAJ9nc4M0trOHCW2t4gorJzOJGjZHbgCglmie
Pys7VOkjQeCp9dtQul3vaIs=
=Ggj5
-----END PGP SIGNATURE-----

--------------enig05990BC801E6DA3559FD2553--

From lucene-user-return-7708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 01:06:19 2004
Return-Path: <lucene-user-return-7708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84162 invoked from network); 27 Mar 2004 01:06:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 01:06:19 -0000
Received: (qmail 65122 invoked by uid 500); 27 Mar 2004 01:05:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65102 invoked by uid 500); 27 Mar 2004 01:05:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65085 invoked from network); 27 Mar 2004 01:05:57 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 27 Mar 2004 01:05:57 -0000
Received: (cpmta 1267 invoked from network); 26 Mar 2004 17:06:05 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 26 Mar 2004 17:06:05 -0800
X-Sent: 27 Mar 2004 01:06:05 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <4064C8B6.6030509@newsmonster.org>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CAB@elwood.definityhealth.com> <4064C8B6.6030509@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EB9E97D2-7F8A-11D8-8A6B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Fri, 26 Mar 2004 20:06:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 7:20 PM, Kevin A. Burton wrote:
> Chad Small wrote:
>
>> Is this :) serious?  Because we have a need/interest in the new field 
>> sorting capabilities
>>
> URL to documentation for field sorting?

Geez, you want documentation also?   :)

Try the JUnit test cases for starters.  That is the "definitive" 
documentation at the moment.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 01:09:33 2004
Return-Path: <lucene-user-return-7709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85171 invoked from network); 27 Mar 2004 01:09:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 01:09:33 -0000
Received: (qmail 70877 invoked by uid 500); 27 Mar 2004 01:09:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70851 invoked by uid 500); 27 Mar 2004 01:09:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70838 invoked from network); 27 Mar 2004 01:09:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.84)
  by daedalus.apache.org with SMTP; 27 Mar 2004 01:09:11 -0000
Received: (cpmta 5380 invoked from network); 26 Mar 2004 17:09:17 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.84) with SMTP; 26 Mar 2004 17:09:17 -0800
X-Sent: 27 Mar 2004 01:09:17 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0403261748420.16551-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0403261748420.16551-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5E6190F8-7F8B-11D8-8A6B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Documentation and presentations
Date: Fri, 26 Mar 2004 20:09:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So far so good, Stephane, on the wiki changes - looks good!

As for our book - at this point, early summer seems like when it'll 
actually be on the shelves.  By the end of April we should have mostly 
everything complete, reviewed, and entirely in the publishers hands.  
*ugh* - this process takes much longer than even exaggerated estimates.

	Erik


On Mar 26, 2004, at 6:00 PM, Stephane James Vaucher wrote:

> Hello lucene community,
>
> I'll be presenting lucene at the GUJM (Java Users Group of Montreal),
> mid-April, could you send me references, articles, presentations not
> readily available on the lucene site (at
> http://jakarta.apache.org/lucene/docs/resources.html)?
>
> Otis or Erik, I'll mention that you have written a book on lucene. When
> will it be out?
>
> I'll also see if I can rearrange the wiki using the information you 
> send
> me, and I'll contribute my presentation (in french).
>
> cheers,
> sv
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 01:17:01 2004
Return-Path: <lucene-user-return-7710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87457 invoked from network); 27 Mar 2004 01:17:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 01:17:00 -0000
Received: (qmail 77692 invoked by uid 500); 27 Mar 2004 01:16:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77669 invoked by uid 500); 27 Mar 2004 01:16:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77653 invoked from network); 27 Mar 2004 01:16:39 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 27 Mar 2004 01:16:39 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2R1GkiI021238
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 20:16:46 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2R1Gk6h021234
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 20:16:46 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 26 Mar 2004 20:16:46 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Documentation and presentations
In-Reply-To: <5E6190F8-7F8B-11D8-8A6B-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0403262010200.16551-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik, maybe Otis and yourself should slow down on development. You 
wouldn't want your book to discuss lucene-1.3 if you release a version 1.5 
before it hits the stores... unless that's your master plan;)

sv

On Fri, 26 Mar 2004, Erik Hatcher wrote:

> So far so good, Stephane, on the wiki changes - looks good!
> 
> As for our book - at this point, early summer seems like when it'll 
> actually be on the shelves.  By the end of April we should have mostly 
> everything complete, reviewed, and entirely in the publishers hands.  
> *ugh* - this process takes much longer than even exaggerated estimates.
> 
> 	Erik
> 
> 
> On Mar 26, 2004, at 6:00 PM, Stephane James Vaucher wrote:
> 
> > Hello lucene community,
> >
> > I'll be presenting lucene at the GUJM (Java Users Group of Montreal),
> > mid-April, could you send me references, articles, presentations not
> > readily available on the lucene site (at
> > http://jakarta.apache.org/lucene/docs/resources.html)?
> >
> > Otis or Erik, I'll mention that you have written a book on lucene. When
> > will it be out?
> >
> > I'll also see if I can rearrange the wiki using the information you 
> > send
> > me, and I'll contribute my presentation (in french).
> >
> > cheers,
> > sv
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 01:17:53 2004
Return-Path: <lucene-user-return-7711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87722 invoked from network); 27 Mar 2004 01:17:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 01:17:53 -0000
Received: (qmail 79066 invoked by uid 500); 27 Mar 2004 01:17:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79041 invoked by uid 500); 27 Mar 2004 01:17:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79023 invoked from network); 27 Mar 2004 01:17:31 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 27 Mar 2004 01:17:31 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2R1HdiI021249
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 20:17:39 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2R1HdlD021245
	for <lucene-user@jakarta.apache.org>; Fri, 26 Mar 2004 20:17:39 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 26 Mar 2004 20:17:39 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Wiki and news
In-Reply-To: <5E6190F8-7F8B-11D8-8A6B-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0403262016550.16551-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On the wiki, I've looked up some reference for lucene community releases
to put under News (http://wiki.apache.org/jakarta-lucene/LatestNews), if
I've missed some, you can modify the page yourself (it's a wiki after 
all).

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 01:30:07 2004
Return-Path: <lucene-user-return-7712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90957 invoked from network); 27 Mar 2004 01:30:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 01:30:07 -0000
Received: (qmail 93567 invoked by uid 500); 27 Mar 2004 01:29:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93544 invoked by uid 500); 27 Mar 2004 01:29:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93519 invoked from network); 27 Mar 2004 01:29:45 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 27 Mar 2004 01:29:45 -0000
Received: (cpmta 16601 invoked from network); 26 Mar 2004 17:29:53 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Mar 2004 17:29:53 -0800
X-Sent: 27 Mar 2004 01:29:53 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0403262010200.16551-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0403262010200.16551-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3DD69B74-7F8E-11D8-8A6B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Documentation and presentations
Date: Fri, 26 Mar 2004 20:29:50 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 8:16 PM, Stephane James Vaucher wrote:
> Erik, maybe Otis and yourself should slow down on development. You
> wouldn't want your book to discuss lucene-1.3 if you release a version 
> 1.5
> before it hits the stores... unless that's your master plan;)

It will cover the new Lucene 1.4 features.  If Lucene 1.5 holds even 
cooler features, well, we'll just have to put out an update when that 
happens :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 02:29:55 2004
Return-Path: <lucene-user-return-7713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14539 invoked from network); 27 Mar 2004 02:29:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 02:29:55 -0000
Received: (qmail 46429 invoked by uid 500); 27 Mar 2004 02:29:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46404 invoked by uid 500); 27 Mar 2004 02:29:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46388 invoked from network); 27 Mar 2004 02:29:32 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 27 Mar 2004 02:29:32 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i2R2TedA009937
	for <lucene-user@jakarta.apache.org>; Sat, 27 Mar 2004 02:29:41 GMT
Date: Sat, 27 Mar 2004 02:29:40 GMT
Message-Id: <200403270229.i2R2TedA009937@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Demoting results
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have not been able to work out how to get custom coordination going to 
demote results based on a specific term but have an alternative suggestion
that looks like it might work:

I've created a "MissingTermQuery" - which is the opposite of a TermQuery 
and can be used to boost documents that DONT have a specific term. 
This seems to have the desired effect of demoting but not necessarily 
precluding documents with a specific term but has a side effect of producing 
some irrelevant low scoring results when none of the other terms match. 
This can be counteracted by making  the positive terms mandatory eg

+(wine beer) !cheap

The ! character in the example above is used to denote a MissingTermQuery.
This says find all documents with "wine" or "beer" and favour ones that dont
used the word "cheap". Of course MissingTerms can be boosted with a value 
to emphasise the effect eg !cheap^2

It doesn't look like there's currently an elegant way of negating all the other 
query  types (phrase, prefix...) without creating new "MissingXxxQuery" classes 
for each type.

I've put an example implementation here:
http://www.inperspective.com/lucene/demote.zip


Cheers
Mark





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 03:37:11 2004
Return-Path: <lucene-user-return-7714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28711 invoked from network); 27 Mar 2004 03:37:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 03:37:11 -0000
Received: (qmail 8795 invoked by uid 500); 27 Mar 2004 03:36:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8767 invoked by uid 500); 27 Mar 2004 03:36:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8753 invoked from network); 27 Mar 2004 03:36:47 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 27 Mar 2004 03:36:47 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 20:39:47 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 20:36:14 -0700
Message-ID: <s064943e.006@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 20:35:52 -0700
From: "Charlie Smith" <smithcw@ldschurch.org>
To: erik@ehatchersolutions.com,
	lucene-user@jakarta.apache.org
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7A28091160653-01-01
Content-Type: multipart/alternative;
 boundary="=__Part32131B88.1__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=__Part32131B88.1__=
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit

When I built lucene with ant, it put down a jar file called
./lucene-1.3-final/build/lucene-1.4-rc1-dev.jar
 
Odd name for a stable release jar file.

>>> erik@ehatchersolutions.com 03/26/04 06:06PM >>>
On Mar 26, 2004, at 7:20 PM, Kevin A. Burton wrote:
> Chad Small wrote:
>
>> Is this :) serious?  Because we have a need/interest in the new field 
>> sorting capabilities
>>
> URL to documentation for field sorting?

Geez, you want documentation also?   :)

Try the JUnit test cases for starters.  That is the "definitive" 
documentation at the moment.

    Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




--=__Part32131B88.1__=--


From lucene-user-return-7715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 06:00:57 2004
Return-Path: <lucene-user-return-7715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62318 invoked from network); 27 Mar 2004 06:00:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 06:00:57 -0000
Received: (qmail 37188 invoked by uid 500); 27 Mar 2004 06:00:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37161 invoked by uid 500); 27 Mar 2004 06:00:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37144 invoked from network); 27 Mar 2004 06:00:30 -0000
Received: from unknown (HELO web41611.mail.yahoo.com) (66.218.93.111)
  by daedalus.apache.org with SMTP; 27 Mar 2004 06:00:30 -0000
Message-ID: <20040327060041.95720.qmail@web41611.mail.yahoo.com>
Received: from [4.21.160.2] by web41611.mail.yahoo.com via HTTP; Fri, 26 Mar 2004 22:00:41 PST
Date: Fri, 26 Mar 2004 22:00:41 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: Re: incomplete word match
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4050A49F.4000804@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thank you David and to Paul as well for your
suggestions! 


>
>--- David Spencer <dave-lucene-user@tropo.com> wrote:
> SubstringQuery, my humble contribution.
> 
>
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06388.html
> 


__________________________________
Do you Yahoo!?
Yahoo! Finance Tax Center - File online. File on time.
http://taxes.yahoo.com/filing.html

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 06:22:22 2004
Return-Path: <lucene-user-return-7716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68937 invoked from network); 27 Mar 2004 06:22:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 06:22:22 -0000
Received: (qmail 53509 invoked by uid 500); 27 Mar 2004 06:21:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53204 invoked by uid 500); 27 Mar 2004 06:21:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53191 invoked from network); 27 Mar 2004 06:21:55 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 27 Mar 2004 06:21:55 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 23:25:20 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 23:21:31 -0700
Message-ID: <s064bafb.027@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 23:21:10 -0700
From: "Charlie Smith" <smithcw@ldschurch.org>
To: Chad.Small@definityhealth.com,
	lucene-user@jakarta.apache.org
Subject: Re: Lucene 1.4 - lobby for final release
MIME-Version: 1.0
X-WSS-ID: 6C7BC1DA86903-01-01
Content-Type: multipart/alternative;
 boundary="=__Part16373E46.1__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=__Part16373E46.1__=
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit

I'll vote yes  please release new version with "too many files open" fixed.
Maybe default the setUserCompoundFile(true) to true on this go around.
 

Otherwise, how can I get 1.3-RC2?  I can't seem to locate it.
Reference: 
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06118.html
 
Charlie ;)

>>> Chad.Small@definityhealth.com 03/26/04 12:47PM >>>
thanks Erik.  Ok this is my official lobby effort for the release of 1.4 to
final status.  Anyone else need/want a 1.4 release?

Does anyone have any information on 1.4 release plans?

thanks,
chad.

    -----Original Message----- 
    From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
    Sent: Fri 3/26/2004 1:25 PM 
    To: Lucene Users List 
    Cc: 
    Subject: Re: too many files open error
    
    

    On Mar 26, 2004, at 1:33 PM, Chad Small wrote:
    > Is this :) serious?
    
    This is open-source.   I'm only as serious as it would take for someone
    to push it through.  I don't know what the timeline is, although lots
    of new features are available.
    
    > Because we have a need/interest in the new field sorting capabilities
    > and QueryParser keyword handling of dashes ("-") that would be in 1.4,
    > I believe.  It's so much easier to explain that we'll use a "final"
    > release of Lucene instead of a "dev build" Lucene.
    
    Why explain it?!  Just show great results and let that be the
    explanation :)
    
    >
    > If so, what would an expected release date be?
    
    *shrug* - feel free to lobby for it.  I don't know what else is planned
    before a release.
    
            Erik
    
    
    ---------------------------------------------------------------------
    To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
    For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
    
    



--=__Part16373E46.1__=--


From lucene-user-return-7717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 06:29:44 2004
Return-Path: <lucene-user-return-7717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70904 invoked from network); 27 Mar 2004 06:29:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 06:29:44 -0000
Received: (qmail 59236 invoked by uid 500); 27 Mar 2004 06:29:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59205 invoked by uid 500); 27 Mar 2004 06:29:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59192 invoked from network); 27 Mar 2004 06:29:17 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 27 Mar 2004 06:29:17 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 26 Mar 2004 23:27:57 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 26 Mar 2004 23:28:53 -0700
Message-ID: <s064bcb5.042@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 26 Mar 2004 23:28:34 -0700
From: "Charlie Smith" <smithcw@ldschurch.org>
To: erik@ehatchersolutions.com,
	lucene-user@jakarta.apache.org
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7BC1601537692-01-01
Content-Type: multipart/alternative;
 boundary="=__Part50717802.1__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=__Part50717802.1__=
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit

What would be the URL for the JUnit stuff?
 
BTW: I was able to build a new Index.class file, with the additional line
iw.setUserCompoundFile(true)  after extracting the  lucene-1.4-rc1-dev.jar.
 
Then reindexed.  Guess what - no worky.  :(
 
Help!!!!!!!
 
Can I get 1.3-RC2?  Could someone point me to the URL for this download please
;)
 
I noticed following entry in mail archives:
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06118.html
 
along with 139 others that dealt with the "too many files open" problem.
 
Looks like this is a high priority problem that might justify a new release in
and of itself?
 
Charlie


>>> erik on 03/26/04 06:06PM >>>
On Mar 26, 2004, at 7:20 PM, Kevin A. Burton wrote:
> Chad Small wrote:
>
>> Is this :) serious?  Because we have a need/interest in the new field 
>> sorting capabilities
>>
> URL to documentation for field sorting?

Geez, you want documentation also?   :)

Try the JUnit test cases for starters.  That is the "definitive" 
documentation at the moment.

    Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




--=__Part50717802.1__=--


From lucene-user-return-7718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 11:35:37 2004
Return-Path: <lucene-user-return-7718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57247 invoked from network); 27 Mar 2004 11:35:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 11:35:37 -0000
Received: (qmail 53265 invoked by uid 500); 27 Mar 2004 11:35:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53235 invoked by uid 500); 27 Mar 2004 11:35:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53221 invoked from network); 27 Mar 2004 11:35:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 27 Mar 2004 11:35:30 -0000
Received: (cpmta 27152 invoked from network); 27 Mar 2004 03:35:29 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 27 Mar 2004 03:35:29 -0800
X-Sent: 27 Mar 2004 11:35:29 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s064bafb.027@wh-inet.gmhwh.org>
References: <s064bafb.027@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D800EA24-7FE2-11D8-BEB5-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.4 - lobby for final release
Date: Sat, 27 Mar 2004 06:35:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 27, 2004, at 1:21 AM, Charlie Smith wrote:
> Otherwise, how can I get 1.3-RC2?  I can't seem to locate it.

I'm not sure where a binary can be found, but you can always check out, 
based on a CVS label, any of the releases that have been made and build 
an RC2 yourself.

The tag is 'lucene_1_3_rc2'

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 11:39:30 2004
Return-Path: <lucene-user-return-7719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58641 invoked from network); 27 Mar 2004 11:39:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 11:39:30 -0000
Received: (qmail 60919 invoked by uid 500); 27 Mar 2004 11:39:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60767 invoked by uid 500); 27 Mar 2004 11:39:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60754 invoked from network); 27 Mar 2004 11:39:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 27 Mar 2004 11:39:24 -0000
Received: (cpmta 21538 invoked from network); 27 Mar 2004 03:39:23 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 27 Mar 2004 03:39:23 -0800
X-Sent: 27 Mar 2004 11:39:23 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s064943e.006@wh-inet.gmhwh.org>
References: <s064943e.006@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <63CF5FE2-7FE3-11D8-BEB5-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Sat, 27 Mar 2004 06:39:21 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 26, 2004, at 10:35 PM, Charlie Smith wrote:
> When I built lucene with ant, it put down a jar file called
> ./lucene-1.3-final/build/lucene-1.4-rc1-dev.jar
>
> Odd name for a stable release jar file.

What's in a name?!  :)

This is standard operating procedure.  That "-dev" simply means you're 
building it locally and all bets are off as to what you built if you 
modified your local codebase.  We remove the "-dev" when building 
releases, and adjust the "rc1" to "final" or "rc2" as appropriate.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Mar 27 11:44:39 2004
Return-Path: <lucene-user-return-7720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59661 invoked from network); 27 Mar 2004 11:44:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Mar 2004 11:44:39 -0000
Received: (qmail 69233 invoked by uid 500); 27 Mar 2004 11:44:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69188 invoked by uid 500); 27 Mar 2004 11:44:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69149 invoked from network); 27 Mar 2004 11:44:29 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 27 Mar 2004 11:44:29 -0000
Received: (cpmta 9455 invoked from network); 27 Mar 2004 03:44:29 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 27 Mar 2004 03:44:29 -0800
X-Sent: 27 Mar 2004 11:44:29 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s064bcb5.042@wh-inet.gmhwh.org>
References: <s064bcb5.042@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1AA532A5-7FE4-11D8-BEB5-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open error
Date: Sat, 27 Mar 2004 06:44:28 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 27, 2004, at 1:28 AM, Charlie Smith wrote:
> What would be the URL for the JUnit stuff?

Look in the src/test directory of where you checked out Lucene.  All  
JUnit tests live there and below.

> BTW: I was able to build a new Index.class file, with the additional  
> line
> iw.setUserCompoundFile(true)  after extracting the   
> lucene-1.4-rc1-dev.jar.
>
> Then reindexed.  Guess what - no worky.  :(

Maybe you'd care to share some *technical* details to elaborate on "no  
worky"?!

What Index.class are you talking about?  The demo application?

> Can I get 1.3-RC2?  Could someone point me to the URL for this  
> download please
> ;)

Use CVS :)

> I noticed following entry in mail archives:
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg06118.html
>
> along with 139 others that dealt with the "too many files open"  
> problem.
>
> Looks like this is a high priority problem that might justify a new  
> release in
> and of itself?

People have been using Lucene for years and managing the file handle  
issue by setting ulimit and other tricks like optimizing to reduce the  
number of segments.  So it is not as much a problem as it is a known  
issue that can be managed.

I'm not up to speed on what the issues with 1.3 final are - I've just  
started hearing about it.  Is there a reproducible example that  
demonstrates a problem?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 28 14:24:00 2004
Return-Path: <lucene-user-return-7721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74993 invoked from network); 28 Mar 2004 14:24:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Mar 2004 14:24:00 -0000
Received: (qmail 20006 invoked by uid 500); 28 Mar 2004 14:23:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19964 invoked by uid 500); 28 Mar 2004 14:23:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19950 invoked from network); 28 Mar 2004 14:23:50 -0000
Received: from unknown (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by daedalus.apache.org with SMTP; 28 Mar 2004 14:23:50 -0000
Message-ID: <1080483787.4066dfcb75b3d@webmail.firstsite.com.au>
Date: Mon, 29 Mar 2004 00:23:07 +1000
From: Anson Lau <alau@fulfil-net.com>
To: lucene-user@jakarta.apache.org
Subject: looking for developer
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,

Our company is looking for 2 java developer with strong Lucene
experience to do some contract work.  We're in Sydney, Australia. 
If anyone is interested plesaes email me direct
(alau@fulfil-net.com).

Thanks,

Anson

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Mar 28 22:42:00 2004
Return-Path: <lucene-user-return-7722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36841 invoked from network); 28 Mar 2004 22:42:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Mar 2004 22:42:00 -0000
Received: (qmail 932 invoked by uid 500); 28 Mar 2004 22:41:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 530 invoked by uid 500); 28 Mar 2004 22:41:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 476 invoked from network); 28 Mar 2004 22:41:41 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 28 Mar 2004 22:41:41 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i2SMfkdA002583
	for <lucene-user@jakarta.apache.org>; Sun, 28 Mar 2004 22:41:47 GMT
Date: Sun, 28 Mar 2004 22:41:46 GMT
Message-Id: <200403282241.i2SMfkdA002583@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Demoting results
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've found an elegant way of doing this now for all types of search - a new "NegatingQuery" class that takes any Query object in its constructor and 
selects all documents that DONT match and gives them a user-definable boost.

The code is here:
http://www.inperspective.com/lucene/demote.zip

Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 02:41:22 2004
Return-Path: <lucene-user-return-7723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15683 invoked from network); 29 Mar 2004 02:41:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 02:41:22 -0000
Received: (qmail 94381 invoked by uid 500); 29 Mar 2004 02:41:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94347 invoked by uid 500); 29 Mar 2004 02:41:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94333 invoked from network); 29 Mar 2004 02:40:59 -0000
Received: from unknown (HELO mail.motile.net) (203.32.115.2)
  by daedalus.apache.org with SMTP; 29 Mar 2004 02:40:59 -0000
Received: (qmail 8823 invoked by uid 1008); 29 Mar 2004 02:40:10 -0000
Received: from unknown (HELO iapetus) (esmond.pitt@motile.net@203.32.113.2)
  by 0 with SMTP; 29 Mar 2004 02:40:10 -0000
Message-ID: <020c01c41537$40551980$34fafc0a@iapetus>
From: "Esmond Pitt" <esmond.pitt@motile.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1080483787.4066dfcb75b3d@webmail.firstsite.com.au>
Subject: Re: looking for developer
Date: Mon, 29 Mar 2004 12:40:51 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anson

I have very strong Lucene experience, covering 1.2, 1.3, and the current
1.4-almost-an-RC, having built search engines for several web sites with it.

I'm located in Melbourne & not very able to change that, but if you don't
get other bites maybe we can talk about telecommuting & the occasional day
trip?

Esmond Pitt FACS
0400 139 869
----- Original Message ----- 
From: "Anson Lau" <alau@fulfil-net.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, March 29, 2004 12:23 AM
Subject: looking for developer


> Hi All,
>
> Our company is looking for 2 java developer with strong Lucene
> experience to do some contract work.  We're in Sydney, Australia.
> If anyone is interested plesaes email me direct
> (alau@fulfil-net.com).
>
> Thanks,
>
> Anson
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 03:27:42 2004
Return-Path: <lucene-user-return-7724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29334 invoked from network); 29 Mar 2004 03:27:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 03:27:42 -0000
Received: (qmail 36068 invoked by uid 500); 29 Mar 2004 03:27:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35815 invoked by uid 500); 29 Mar 2004 03:27:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35802 invoked from network); 29 Mar 2004 03:27:19 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Mar 2004 03:27:19 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2T3RSu08383
	for <lucene-user@jakarta.apache.org>; Sun, 28 Mar 2004 22:27:28 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sun, 28 Mar 2004 22:27:28 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
In-Reply-To: <200403282241.i2SMfkdA002583@server0027.freedom2surf.net>
Message-ID: <Pine.LNX.4.33.0403282223020.6874-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

I've added a section in the wiki called:

http://wiki.apache.org/jakarta-lucene/CommunityContributions

and have added an entry for your message. If you want to edit the
message, go for it. I believe that the wiki can support attached files if
you want to upload there.

cheers,
sv

On Sun, 28 Mar 2004 markharw00d@yahoo.co.uk wrote:

> I've found an elegant way of doing this now for all types of search - a
> new "NegatingQuery" class that takes any Query object in its constructor
> and selects all documents that DONT match and gives them a user-definable boost.
>
> The code is here:
> http://www.inperspective.com/lucene/demote.zip
>
> Cheers
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 03:27:53 2004
Return-Path: <lucene-user-return-7725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29397 invoked from network); 29 Mar 2004 03:27:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 03:27:53 -0000
Received: (qmail 36876 invoked by uid 500); 29 Mar 2004 03:27:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36706 invoked by uid 500); 29 Mar 2004 03:27:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36691 invoked from network); 29 Mar 2004 03:27:29 -0000
Received: from unknown (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 03:27:29 -0000
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: looking for developer
Date: Mon, 29 Mar 2004 13:28:30 +1000
Message-ID: <000601c4153e$0041bb80$86d4a8c0@fulfilnet.com.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <020c01c41537$40551980$34fafc0a@iapetus>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Esmond,

Thanks a lot for your email.  Will certainly consider that - do you know
another 1-2 person who also knows Lucene very well, who you can work
with in case we need another person?  No point having 1 developer in
Sydney and one in Melbourne.

To give you a bit more background - we'll be indexing and searching a
database of approx 1.5 million records.  Do you have experience with
this sort of scale?  I don't and I am specifically looking for people
with that.

Thanks,

Anson


-----Original Message-----
From: Esmond Pitt [mailto:esmond.pitt@motile.net] 
Sent: Monday, March 29, 2004 12:41 PM
To: Lucene Users List
Subject: Re: looking for developer

Anson

I have very strong Lucene experience, covering 1.2, 1.3, and the current
1.4-almost-an-RC, having built search engines for several web sites with
it.

I'm located in Melbourne & not very able to change that, but if you
don't
get other bites maybe we can talk about telecommuting & the occasional
day
trip?

Esmond Pitt FACS
0400 139 869
----- Original Message ----- 
From: "Anson Lau" <alau@fulfil-net.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, March 29, 2004 12:23 AM
Subject: looking for developer


> Hi All,
>
> Our company is looking for 2 java developer with strong Lucene
> experience to do some contract work.  We're in Sydney, Australia.
> If anyone is interested plesaes email me direct
> (alau@fulfil-net.com).
>
> Thanks,
>
> Anson
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 03:28:51 2004
Return-Path: <lucene-user-return-7726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29787 invoked from network); 29 Mar 2004 03:28:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 03:28:51 -0000
Received: (qmail 38262 invoked by uid 500); 29 Mar 2004 03:28:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38225 invoked by uid 500); 29 Mar 2004 03:28:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38023 invoked from network); 29 Mar 2004 03:28:25 -0000
Received: from unknown (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 03:28:25 -0000
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: looking for developer
Date: Mon, 29 Mar 2004 13:30:06 +1000
Message-ID: <000801c4153e$217ef2e0$86d4a8c0@fulfilnet.com.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <000601c4153e$0041bb80$86d4a8c0@fulfilnet.com.au>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ops - sorry should reply to Esmond direct.  Pls ignore the previous msg.

Anson



-----Original Message-----
From: Anson Lau [mailto:alau@fulfil-net.com] 
Sent: Monday, March 29, 2004 1:29 PM
To: 'Lucene Users List'
Subject: RE: looking for developer

Esmond,

Thanks a lot for your email.  Will certainly consider that - do you know
another 1-2 person who also knows Lucene very well, who you can work
with in case we need another person?  No point having 1 developer in
Sydney and one in Melbourne.

To give you a bit more background - we'll be indexing and searching a
database of approx 1.5 million records.  Do you have experience with
this sort of scale?  I don't and I am specifically looking for people
with that.

Thanks,

Anson


-----Original Message-----
From: Esmond Pitt [mailto:esmond.pitt@motile.net] 
Sent: Monday, March 29, 2004 12:41 PM
To: Lucene Users List
Subject: Re: looking for developer

Anson

I have very strong Lucene experience, covering 1.2, 1.3, and the current
1.4-almost-an-RC, having built search engines for several web sites with
it.

I'm located in Melbourne & not very able to change that, but if you
don't
get other bites maybe we can talk about telecommuting & the occasional
day
trip?

Esmond Pitt FACS
0400 139 869
----- Original Message ----- 
From: "Anson Lau" <alau@fulfil-net.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, March 29, 2004 12:23 AM
Subject: looking for developer


> Hi All,
>
> Our company is looking for 2 java developer with strong Lucene
> experience to do some contract work.  We're in Sydney, Australia.
> If anyone is interested plesaes email me direct
> (alau@fulfil-net.com).
>
> Thanks,
>
> Anson
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 05:50:25 2004
Return-Path: <lucene-user-return-7727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78304 invoked from network); 29 Mar 2004 05:50:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 05:50:25 -0000
Received: (qmail 68159 invoked by uid 500); 29 Mar 2004 05:49:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68130 invoked by uid 500); 29 Mar 2004 05:49:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68117 invoked from network); 29 Mar 2004 05:49:57 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 05:49:57 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2T5o5tG010987
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Sun, 28 Mar 2004 21:50:11 -0800
Message-ID: <4067B907.1010908@newsmonster.org>
Date: Sun, 28 Mar 2004 21:49:59 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene optimization with one large index and numerous small indexes.
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigB85E3433142FD8197B3933D9"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigB85E3433142FD8197B3933D9
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

We're using lucene with one large target index which right now is 5G.  
Every night we take sub-indexes which are about 500M and merging them 
into this main index.  This merge (done via 
IndexWriter.addIndexes(Directory[]) is taking way too much time.

Looking at the stats for the box we're essentially blocked on reads.  
The disk is blocked on read IO and CPU is at 5%.  If I'm right I think 
this could be minimized by continually picking the two smaller indexes, 
merging them, then picking the next two smallest, merging them, and then 
keep doing this until we're down to one index.

Does this sound about right?

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigB85E3433142FD8197B3933D9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAZ7kJ6E2NBJnxRBIRAiY6AJ9JohDIPjwvfWO8tre3Ev7p5QjCYQCgsPRB
coA78jF0Pc4+PsNZETCl+l0=
=K2q2
-----END PGP SIGNATURE-----

--------------enigB85E3433142FD8197B3933D9--

From lucene-user-return-7728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 06:04:15 2004
Return-Path: <lucene-user-return-7728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82094 invoked from network); 29 Mar 2004 06:04:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 06:04:15 -0000
Received: (qmail 90966 invoked by uid 500); 29 Mar 2004 06:03:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90936 invoked by uid 500); 29 Mar 2004 06:03:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90921 invoked from network); 29 Mar 2004 06:03:48 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 29 Mar 2004 06:03:48 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 5A36986079
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 10:03:58 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 4757444 for lucene-user@jakarta.apache.org; Mon, 29 Mar 2004 10:03:58 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: What happened with build.xml in CVS?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Mon, 29 Mar 2004 10:03:58 +0400
Message-ID: <web-4757444@mail5.rambler.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi !

I have made latest update from lucene CVS, in which build.xml has 
problems:

Buildfile: /home/vyuryev/workspace/jakarta-lucene/build.xml
BUILD FAILED: 
file:/home/vyuryev/workspace/jakarta-lucene/build.xml:11: Unexpected 
element "tstamp"
Total time: 297 milliseconds

Best Regards,
Vladimir Yuryev

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 06:43:48 2004
Return-Path: <lucene-user-return-7729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97068 invoked from network); 29 Mar 2004 06:43:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 06:43:48 -0000
Received: (qmail 49152 invoked by uid 500); 29 Mar 2004 06:43:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49128 invoked by uid 500); 29 Mar 2004 06:43:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49098 invoked from network); 29 Mar 2004 06:43:19 -0000
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by daedalus.apache.org with SMTP; 29 Mar 2004 06:43:19 -0000
Received: from chandan ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i2T7U0ZW018846
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 13:15:10 +0545
Message-ID: <005901c41559$223f8f80$2403a8c0@chandan>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4067B907.1010908@newsmonster.org>
Subject: PDF indexing with CJKAnalyzer
Date: Mon, 29 Mar 2004 12:28:21 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4922.1500
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4925.2800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Im using a pdfbox library for indexing a PDF documents , but it doesnt not
extract japanese characters. I have also
tried a latest release of PDFBox as suggested on mailing list but it doenst
work well unfortunately.

Have anyone tried indexing a PDF document with other than english characters
? Pls. suggest

thnaks,



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 09:03:04 2004
Return-Path: <lucene-user-return-7730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78069 invoked from network); 29 Mar 2004 09:03:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 09:03:03 -0000
Received: (qmail 82039 invoked by uid 500); 29 Mar 2004 09:02:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81980 invoked by uid 500); 29 Mar 2004 09:02:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81879 invoked from network); 29 Mar 2004 09:02:13 -0000
Received: from unknown (HELO scbaprssxmrl.sg.standardchartered.com) (203.126.142.230)
  by daedalus.apache.org with SMTP; 29 Mar 2004 09:02:13 -0000
From: Harshavardhan.NM@in.standardchartered.com
Received: from DLC400ISMSHV ([10.128.31.183])
          by aprsmaadmn00005.in.standardchartered.com (Lotus Domino Release 5.0.5)
          with ESMTP id 2004032914381799:12636 ;
          Mon, 29 Mar 2004 14:38:17 +0530 
To: lucene-user@jakarta.apache.org
Subject: Special Characters
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OF84D4D1ED.DEBC0DD2-ON65256E66.0031ECF3@in.standardchartered.com>
Date: Mon, 29 Mar 2004 14:35:57 +0530
X-MIMETrack: Serialize by Notes Client on Harshavardhan NM/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/29/2004 02:35:57 PM,
	Serialize complete at 03/29/2004 02:35:57 PM,
	Itemize by SMTP Server on APRSMAADMN00005/Servers/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/29/2004 02:38:17 PM,
	Serialize by Router on APRSMAADMN00005/Servers/APRS/SCB(Release 5.0.5 |September
 22, 2000) at 03/29/2004 02:38:18 PM,
	Serialize complete at 03/29/2004 02:38:18 PM
MIME-Version: 1.0
Content-type: multipart/mixed; boundary="=_IS_MIME_Boundary"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_IS_MIME_Boundary
Content-Type: text/plain;charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

----------------------------------------------------------

This email is confidential. If you are not the addressee tell the sender immediately and destroy this email without using, sending or storing it. Emails are not secure and may suffer errors, viruses, delay, interception and amendment. Standard Chartered PLC and subsidiaries ("SCGroup") do not accept liability for damage caused by this email and may monitor email traffic. Unless expressly stated, any opinions are the sender's and are not approved by SCGroup and this email is not an offer, solicitation, recommendation or agreement of any kind.



Standard Chartered Bank ("SCB") is a member of SCGroup incorporated in England with limited liability. SCB's principal office is 1 Aldermanbury Square, London, EC2V 7SB, UK. SCB is authorised and regulated by the Financial Services Authority ("FSA") and in FSA's register under no. 114276. SCB's VAT no. is GB244106593. FSA is the lead regulator for the SCGroup. For regulators in other countries contact the local compliance officer.

---------------------------------------------------------


--=_IS_MIME_Boundary
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--=_IS_MIME_Boundary--

From lucene-user-return-7731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 09:26:42 2004
Return-Path: <lucene-user-return-7731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90214 invoked from network); 29 Mar 2004 09:26:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 09:26:41 -0000
Received: (qmail 21049 invoked by uid 500); 29 Mar 2004 09:26:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21025 invoked by uid 500); 29 Mar 2004 09:26:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21007 invoked from network); 29 Mar 2004 09:26:09 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 09:26:09 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2T9Q5tG011998
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 01:26:16 -0800
Message-ID: <4067EB9F.7080502@newsmonster.org>
Date: Mon, 29 Mar 2004 01:25:51 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Is RangeQuery more efficient than DateFilter?
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigF8C88344847E7EC2E3004CB8"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigF8C88344847E7EC2E3004CB8
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I have a 7G index.  A query for a random term comes back fast (300ms) 
when I'm not using a DateFilter but when I add the DateFilter it takes 
2.6 seconds.  Way too long.  I assume this is because the filter API 
does a post process so it has to read fields off disk.

Is it possible to do to this with a RangeQuery.  For example you could 
create a "days since January 1, 1970" fields and do a range query from 
between 5 and 10... and then add the original field as well.

I have to make some app changes so I figured I would ask here before 
moving forward.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigF8C88344847E7EC2E3004CB8
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAZ+uf6E2NBJnxRBIRApJ7AJ9LZ1tAMQwnhCE2neCWRONouwhkdgCfQFhf
4JlMHb/d07coYeHp21of6xs=
=UB28
-----END PGP SIGNATURE-----

--------------enigF8C88344847E7EC2E3004CB8--

From lucene-user-return-7732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 09:38:45 2004
Return-Path: <lucene-user-return-7732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97711 invoked from network); 29 Mar 2004 09:38:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 09:38:45 -0000
Received: (qmail 36492 invoked by uid 500); 29 Mar 2004 09:38:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36009 invoked by uid 500); 29 Mar 2004 09:38:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35994 invoked from network); 29 Mar 2004 09:38:14 -0000
Received: from unknown (HELO out2.smtp.messagingengine.com) (66.111.4.26)
  by daedalus.apache.org with SMTP; 29 Mar 2004 09:38:14 -0000
X-Sasl-enc: yaJDHq7g9RVZ7aBGo3EpLA 1080552930
Received: from imapmail.org (unknown [195.224.156.162])
	by www.fastmail.fm (Postfix) with ESMTP id 00FC28B57EA
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 04:35:29 -0500 (EST)
Message-ID: <4067EDB4.1040009@imapmail.org>
Date: Mon, 29 Mar 2004 10:34:44 +0100
From: Rob Oxspring <roxspring@imapmail.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: What happened with build.xml in CVS?
References: <web-4757444@mail5.rambler.ru>
In-Reply-To: <web-4757444@mail5.rambler.ru>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Looks like Erik's commits 2 days back have up'd the depencancy from ant 
1.5 to 1.6.  Previously only selected tasks were allowed outside of 
targets and tstamp doesn't look like one of them.

Rob

Vladimir Yuryev wrote:
> Hi !
> 
> I have made latest update from lucene CVS, in which build.xml has problems:
> 
> Buildfile: /home/vyuryev/workspace/jakarta-lucene/build.xml
> BUILD FAILED: file:/home/vyuryev/workspace/jakarta-lucene/build.xml:11: 
> Unexpected element "tstamp"
> Total time: 297 milliseconds
> 
> Best Regards,
> Vladimir Yuryev
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 11:58:44 2004
Return-Path: <lucene-user-return-7733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78938 invoked from network); 29 Mar 2004 11:58:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 11:58:43 -0000
Received: (qmail 46597 invoked by uid 500); 29 Mar 2004 11:58:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46547 invoked by uid 500); 29 Mar 2004 11:58:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46491 invoked from network); 29 Mar 2004 11:58:00 -0000
Received: from unknown (HELO web20304.mail.yahoo.com) (216.136.226.85)
  by daedalus.apache.org with SMTP; 29 Mar 2004 11:58:00 -0000
Message-ID: <20040329115756.10473.qmail@web20304.mail.yahoo.com>
Received: from [203.126.142.237] by web20304.mail.yahoo.com via HTTP; Mon, 29 Mar 2004 03:57:56 PST
Date: Mon, 29 Mar 2004 03:57:56 -0800 (PST)
From: Gabriela D <derasg@yahoo.com>
Subject: Special Characters
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-981801708-1080561476=:9984"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-981801708-1080561476=:9984
Content-Type: text/plain; charset=us-ascii


Dear All,

I have modified StandardTokenizer.jj to include many of special character in the token. However, still the problem exists as the index does not include the characters ":,{,},(,)" and "%". Can somebody help me as to what should I modify so that index will include words with these special characters?

Your help is appreciated.

Thanks and Regards,

Harsha



---------------------------------
Do you Yahoo!?
Yahoo! Finance Tax Center - File online. File on time.
--0-981801708-1080561476=:9984--

From lucene-user-return-7734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 12:32:49 2004
Return-Path: <lucene-user-return-7734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96708 invoked from network); 29 Mar 2004 12:32:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 12:32:49 -0000
Received: (qmail 2711 invoked by uid 500); 29 Mar 2004 12:32:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2670 invoked by uid 500); 29 Mar 2004 12:32:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2565 invoked from network); 29 Mar 2004 12:32:26 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 29 Mar 2004 12:32:26 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id E5A74869D1
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 16:32:25 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 4906840 for lucene-user@jakarta.apache.org; Mon, 29 Mar 2004 16:32:21 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: What happened with build.xml in CVS?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Mon, 29 Mar 2004 16:32:21 +0400
Message-ID: <web-4906840@mail5.rambler.ru>
In-Reply-To: <4067EDB4.1040009@imapmail.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Rob, works now.
Vladimir

On Mon, 29 Mar 2004 10:34:44 +0100
  Rob Oxspring <roxspring@imapmail.org> wrote:
>Looks like Erik's commits 2 days back have up'd the depencancy from 
>ant 1.5 to 1.6.  Previously only selected tasks were allowed outside 
>of targets and tstamp doesn't look like one of them.
>
>Rob
>
>Vladimir Yuryev wrote:
>> Hi !
>> 
>> I have made latest update from lucene CVS, in which build.xml has 
>>problems:
>> 
>> Buildfile: /home/vyuryev/workspace/jakarta-lucene/build.xml
>> BUILD FAILED: 
>>file:/home/vyuryev/workspace/jakarta-lucene/build.xml:11: 
>> Unexpected element "tstamp"
>> Total time: 297 milliseconds
>> 
>> Best Regards,
>> Vladimir Yuryev
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 13:33:04 2004
Return-Path: <lucene-user-return-7735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31434 invoked from network); 29 Mar 2004 13:33:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 13:33:04 -0000
Received: (qmail 23538 invoked by uid 500); 29 Mar 2004 13:32:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23516 invoked by uid 500); 29 Mar 2004 13:32:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23503 invoked from network); 29 Mar 2004 13:32:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 29 Mar 2004 13:32:55 -0000
Received: (cpmta 8578 invoked from network); 29 Mar 2004 05:32:55 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.6?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 29 Mar 2004 05:32:55 -0800
X-Sent: 29 Mar 2004 13:32:55 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <4067EDB4.1040009@imapmail.org>
References: <web-4757444@mail5.rambler.ru> <4067EDB4.1040009@imapmail.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <96D7A846-8185-11D8-A0B0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: What happened with build.xml in CVS?
Date: Mon, 29 Mar 2004 08:32:56 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Cool... my sinister plan of subversively getting the world to upgrade 
to Ant 1.6 is working!  :)

	Erik


On Mar 29, 2004, at 4:34 AM, Rob Oxspring wrote:

> Looks like Erik's commits 2 days back have up'd the depencancy from 
> ant 1.5 to 1.6.  Previously only selected tasks were allowed outside 
> of targets and tstamp doesn't look like one of them.
>
> Rob
>
> Vladimir Yuryev wrote:
>> Hi !
>> I have made latest update from lucene CVS, in which build.xml has 
>> problems:
>> Buildfile: /home/vyuryev/workspace/jakarta-lucene/build.xml
>> BUILD FAILED: 
>> file:/home/vyuryev/workspace/jakarta-lucene/build.xml:11: Unexpected 
>> element "tstamp"
>> Total time: 297 milliseconds
>> Best Regards,
>> Vladimir Yuryev
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 13:41:17 2004
Return-Path: <lucene-user-return-7736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37675 invoked from network); 29 Mar 2004 13:41:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 13:41:17 -0000
Received: (qmail 41591 invoked by uid 500); 29 Mar 2004 13:41:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41497 invoked by uid 500); 29 Mar 2004 13:41:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41481 invoked from network); 29 Mar 2004 13:41:08 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 29 Mar 2004 13:41:08 -0000
Received: (cpmta 22927 invoked from network); 29 Mar 2004 05:41:09 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.6?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 29 Mar 2004 05:41:09 -0800
X-Sent: 29 Mar 2004 13:41:09 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <4067EB9F.7080502@newsmonster.org>
References: <4067EB9F.7080502@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BCCF69FB-8186-11D8-A0B0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is RangeQuery more efficient than DateFilter?
Date: Mon, 29 Mar 2004 08:41:10 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 29, 2004, at 4:25 AM, Kevin A. Burton wrote:
> I have a 7G index.  A query for a random term comes back fast (300ms) 
> when I'm not using a DateFilter but when I add the DateFilter it takes 
> 2.6 seconds.  Way too long.  I assume this is because the filter API 
> does a post process so it has to read fields off disk.
>
> Is it possible to do to this with a RangeQuery.  For example you could 
> create a "days since January 1, 1970" fields and do a range query from 
> between 5 and 10... and then add the original field as well.

Are you keeping DateFilter around for more than one search?  The 
drawback to pure DateFilter is that it does not cache, so each search 
re-enumerates the terms in the range.  In fact, DateFilter by itself is 
practically of no use, I think.

If you have a set of canned date ranges, there are two approaches worth 
considering:  DateFilter wrapped by a CachingWrappingFilter, or a 
RangeQuery wrapped in a QueryFilter (which does cache).

Performance-wise, I don't really think there is much (any?) difference 
in these two approaches, so take your pick.  Once the bit sets are 
cached in a filter, searches will be quite fast.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 13:51:36 2004
Return-Path: <lucene-user-return-7737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45156 invoked from network); 29 Mar 2004 13:51:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 13:51:36 -0000
Received: (qmail 63332 invoked by uid 500); 29 Mar 2004 13:51:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63187 invoked by uid 500); 29 Mar 2004 13:51:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63174 invoked from network); 29 Mar 2004 13:51:25 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.84)
  by daedalus.apache.org with SMTP; 29 Mar 2004 13:51:25 -0000
Received: (cpmta 28050 invoked from network); 29 Mar 2004 05:51:26 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.6?)
  by smtp.hatcher.net (209.228.32.84) with SMTP; 29 Mar 2004 05:51:26 -0800
X-Sent: 29 Mar 2004 13:51:26 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <BCCF69FB-8186-11D8-A0B0-000393A564E6@ehatchersolutions.com>
References: <4067EB9F.7080502@newsmonster.org> <BCCF69FB-8186-11D8-A0B0-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2CD3166E-8188-11D8-A0B0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is RangeQuery more efficient than DateFilter?
Date: Mon, 29 Mar 2004 08:51:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 29, 2004, at 8:41 AM, Erik Hatcher wrote:
> On Mar 29, 2004, at 4:25 AM, Kevin A. Burton wrote:
>> I have a 7G index.  A query for a random term comes back fast (300ms) 
>> when I'm not using a DateFilter but when I add the DateFilter it 
>> takes 2.6 seconds.  Way too long.  I assume this is because the 
>> filter API does a post process so it has to read fields off disk.
>>
>> Is it possible to do to this with a RangeQuery.  For example you 
>> could create a "days since January 1, 1970" fields and do a range 
>> query from between 5 and 10... and then add the original field as 
>> well.
>
> Are you keeping DateFilter around for more than one search?  The 
> drawback to pure DateFilter is that it does not cache, so each search 
> re-enumerates the terms in the range.  In fact, DateFilter by itself 
> is practically of no use, I think.
>
> If you have a set of canned date ranges, there are two approaches 
> worth considering:  DateFilter wrapped by a CachingWrappingFilter, or 
> a RangeQuery wrapped in a QueryFilter (which does cache).
>
> Performance-wise, I don't really think there is much (any?) difference 
> in these two approaches, so take your pick.  Once the bit sets are 
> cached in a filter, searches will be quite fast.

One more point... caching is done by the IndexReader used for the 
search, so you will need to keep that instance (i.e. the IndexSearcher) 
around to benefit from the caching.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 13:53:28 2004
Return-Path: <lucene-user-return-7738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46865 invoked from network); 29 Mar 2004 13:53:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 13:53:28 -0000
Received: (qmail 70133 invoked by uid 500); 29 Mar 2004 13:53:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70052 invoked by uid 500); 29 Mar 2004 13:53:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70037 invoked from network); 29 Mar 2004 13:53:19 -0000
Received: from unknown (HELO mailserver.sigmaxi.org) (192.154.45.50)
  by daedalus.apache.org with SMTP; 29 Mar 2004 13:53:19 -0000
Received: by mailserver.sigmaxi.org with Internet Mail Service (5.5.2657.72)
	id <HA7VR5KZ>; Mon, 29 Mar 2004 08:53:21 -0500
Message-ID: <E715E363C791D511913400508BA54AD00198D34F@mailserver.sigmaxi.org>
From: Katie Lord <klord@amsci.org>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Tracking/Monitoring Search Terms in Lucene
Date: Mon, 29 Mar 2004 08:53:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am trying to figure out how to track the search terms that visitors are
using on our site on a monthly basis. Do you all have any suggestions?

Thanks!

Katie Lord
klord@amsci.org	



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 17:06:56 2004
Return-Path: <lucene-user-return-7739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89234 invoked from network); 29 Mar 2004 17:06:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 17:06:56 -0000
Received: (qmail 74242 invoked by uid 500); 29 Mar 2004 17:06:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74109 invoked by uid 500); 29 Mar 2004 17:06:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74093 invoked from network); 29 Mar 2004 17:06:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 29 Mar 2004 17:06:43 -0000
Received: (cpmta 10858 invoked from network); 29 Mar 2004 09:06:46 -0800
Received: from 216.12.13.89 (HELO ?192.168.0.6?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 29 Mar 2004 09:06:46 -0800
X-Sent: 29 Mar 2004 17:06:46 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <web-349202@mail5.rambler.ru>
References: <web-349202@mail5.rambler.ru>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7542272E-81A3-11D8-9013-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Patchs for RussianAnalyzer
Date: Mon, 29 Mar 2004 12:06:45 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Vladimir,

I have just taken a look at your submitted patches.  I have no  
objections to making Cp1251 the default charset used in the no-arg  
constructor to RussianAnalyzer, but all of your other changes are  
formatting along with the addition of some other constructors.

Could you please provide a functionality-only diff for your patches,  
preferably in a single file attached to a Bugzilla issue?

Thanks,
	Erik

On Mar 17, 2004, at 8:25 AM, Vladimir Yuryev wrote:

> Dear developers!
>
> The user using RussianAnalyzer writes to you of Lucene. There is one  
> problem at work only with it of Analyzer it is parameter of the  
> Russian coding (you it know as the set of the code tables for one  
> language always causes admiration). East Europe or the population the  
> using applied programs in Russian use the coding windows-1251 as basic  
> or widely widespread client a platform MS Windows. There is an opinion  
> to update constructor without parameters establishing default  
> "Cp1251".
>
> See attached file: RussianAnalyzerPatchs.tgz
> RussianAnalyzer.java.path
> RussianLetterTokenizer.java.patch
> RussianLowerCaseFilter.java.patch
> RussianStemFilter.java.patch
> TestRussianAnalyzer.java.path
>
> Such updating will remove mess (for the beginners in Lucene or  
> beginners of Russian) and will facilitate use Analyzers at switchings  
> multilanguage search.
> Regards,
> Vladimir Yuryev.
> <RussianAnalyzerPatchs.tgz>-------------------------------------------- 
> -------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 18:14:36 2004
Return-Path: <lucene-user-return-7740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37729 invoked from network); 29 Mar 2004 18:14:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 18:14:36 -0000
Received: (qmail 63714 invoked by uid 500); 29 Mar 2004 18:14:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63692 invoked by uid 500); 29 Mar 2004 18:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63678 invoked from network); 29 Mar 2004 18:14:23 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 29 Mar 2004 18:14:23 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <20040329181425011001otlpe>; Mon, 29 Mar 2004 18:14:26 +0000
Message-ID: <40686739.7010804@apache.org>
Date: Mon, 29 Mar 2004 10:13:13 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
References: <200403270229.i2R2TedA009937@server0027.freedom2surf.net>
In-Reply-To: <200403270229.i2R2TedA009937@server0027.freedom2surf.net>
Content-Type: multipart/mixed;
 boundary="------------070409090302090508020104"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------070409090302090508020104
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

markharw00d@yahoo.co.uk wrote:
> I have not been able to work out how to get custom coordination going to 
> demote results based on a specific term [ ... ]

Yeah, it's a little more complicated than perhaps it should be.

I've attached a class which does this.  I think it's faster and more 
effective than what you proposed.  This only works in the 1.4 codebase 
(current CVS), as it requires the new Query.getSimilarity() method.

To use this, change the line in your test program from:

   Query balancedQuery =
     NegatingQuery.createQuery(positiveQuery,negativeQuery,1);

to

   Query balancedQuery =
     new BoostingQuery(positiveQuery, negativeQuery, 0.01f);

Please tell if you find it useful.

Doug

--------------070409090302090508020104
Content-Type: text/x-java;
 name="BoostingQuery.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="BoostingQuery.java"

import java.io.IOException;
import org.apache.lucene.search.*;
import org.apache.lucene.index.*;

/** Boosts the results of a query when a second query also matches.*/
public class BoostingQuery extends Query {
  private float boost;                            // the amount to boost by
  private Query match;                            // query to match
  private Query context;                          // boost when matches too

  public BoostingQuery(Query match, Query context, float boost) {
    this.match = match;
    this.context = (Query)context.clone();        // clone before boost
    this.boost = boost;

    context.setBoost(0.0f);                      // ignore context-only matches
  }

  public Query rewrite(IndexReader reader) throws IOException {
    BooleanQuery result = new BooleanQuery() {

      public Similarity getSimilarity(Searcher searcher) {
        return new DefaultSimilarity() {

          public float coord(int overlap, int max) {
            switch (overlap) {

            case 1:                               // matched only one clause
              return 1.0f;                        // use the score as-is

            case 2:                               // matched both clauses
              return boost;                       // multiply by boost

            default:
              return 0.0f;
              
            }
          }
        };
      }
    };

    result.add(match, true, false);
    result.add(context, false, false);

    return result;
  }

  public String toString(String field) {
    return match.toString(field) + "/" + context.toString(field);
  }
}


--------------070409090302090508020104
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------070409090302090508020104--

From lucene-user-return-7741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 18:29:43 2004
Return-Path: <lucene-user-return-7741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46271 invoked from network); 29 Mar 2004 18:29:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 18:29:42 -0000
Received: (qmail 99643 invoked by uid 500); 29 Mar 2004 18:29:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99602 invoked by uid 500); 29 Mar 2004 18:29:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99506 invoked from network); 29 Mar 2004 18:29:07 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 29 Mar 2004 18:29:07 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004032918291001600hrel6e>; Mon, 29 Mar 2004 18:29:10 +0000
Message-ID: <40686AAE.8080700@apache.org>
Date: Mon, 29 Mar 2004 10:27:58 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.4 - lobby for final release
References: <s064bafb.027@wh-inet.gmhwh.org>
In-Reply-To: <s064bafb.027@wh-inet.gmhwh.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Charlie Smith wrote:
> I'll vote yes  please release new version with "too many files open" fixed.

There is no "too many files open bug", except perhaps in your 
application.  It is however an easy to encounter problem if you don't 
close indexes or if you change Lucene's default parameters.  It will be 
considerably harder to make happen in 1.4, to keep so many people from 
shooting themselves in the foot.

Also, releases are not made by popular election.  They are made by 
volunteer developer when deemeed appropriate.  If you'd like to get more 
involved in Lucene's development, please contribute constructive efforts 
to the lucene-dev mailing list.

> Maybe default the setUserCompoundFile(true) to true on this go around.

This was discussed at lenght on the developer mailing list a while back. 
  The change has been made and will be present in 1.4.

> Otherwise, how can I get 1.3-RC2?  I can't seem to locate it.

The second hit for a Google search on "lucene 1.3RC2" reveals:

   http://www.apachenews.org/archives/000134.html

These search engines sure are amazing, aren't they!

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 18:45:36 2004
Return-Path: <lucene-user-return-7742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55379 invoked from network); 29 Mar 2004 18:45:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 18:45:36 -0000
Received: (qmail 41994 invoked by uid 500); 29 Mar 2004 18:45:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41800 invoked by uid 500); 29 Mar 2004 18:45:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41785 invoked from network); 29 Mar 2004 18:45:21 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 29 Mar 2004 18:45:21 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004032918452001300323n4e>; Mon, 29 Mar 2004 18:45:25 +0000
Message-ID: <40686E78.5060102@apache.org>
Date: Mon, 29 Mar 2004 10:44:08 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
References: <4067B907.1010908@newsmonster.org>
In-Reply-To: <4067B907.1010908@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> We're using lucene with one large target index which right now is 5G.  
> Every night we take sub-indexes which are about 500M and merging them 
> into this main index.  This merge (done via 
> IndexWriter.addIndexes(Directory[]) is taking way too much time.
> 
> Looking at the stats for the box we're essentially blocked on reads.  
> The disk is blocked on read IO and CPU is at 5%.  If I'm right I think 
> this could be minimized by continually picking the two smaller indexes, 
> merging them, then picking the next two smallest, merging them, and then 
> keep doing this until we're down to one index.
> 
> Does this sound about right?

I don't think this will make things much faster.  You'll do somewhat 
fewer seeks, but you'll have to make log(N) passes over all of the data, 
about three or four in your case.  Merging ten indexes in a single pass 
should be fastest, as all of the data is only processed once, but the 
read-ahead on each file needs to be sufficient so that i/o is not 
dominated by seeks.  Can you use iostat or somesuch to find how many 
seeks/second you're seeing on the device?  Also, what's the average 
transfer rate?  Is it anywhere near the disk's capacity?  Finally, if 
possible, write the merged index to a different drive.  Reading the 
inputs from different drives may help as well.

One way to force larger read-aheads might be to pump up Lucene's input 
buffer size.  As an experiment, try increasing InputStream.BUFFER_SIZE 
to 1024*1024 or larger.  You'll want to do this just for the merge 
process and not for searching and indexing.  That should help you spend 
more time doing transfers with less wasted on seeks.  If that helps, 
then perhaps we ought to make this settable via system property or somesuch.

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 19:12:20 2004
Return-Path: <lucene-user-return-7743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67595 invoked from network); 29 Mar 2004 19:12:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 19:12:20 -0000
Received: (qmail 7997 invoked by uid 500); 29 Mar 2004 19:12:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7905 invoked by uid 500); 29 Mar 2004 19:12:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7889 invoked from network); 29 Mar 2004 19:12:04 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 29 Mar 2004 19:12:04 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1B82B6-0003Hp-00
	for lucene-user@jakarta.apache.org; Mon, 29 Mar 2004 14:12:08 -0500
Subject: Overriding coordination
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Message-Id: <1080587525.4320.66.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Mon, 29 Mar 2004 14:12:06 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a situation where I'm querying for something in several fields,
with a clause similar to this:
  (title:(two words)^20  keywords:(two words)^10  body:(two words))

Some good documents are being scored too low if the query terms do not
occur in the "body" field.  I naively thought that would only make a few
% difference, because of the large boosts on the title and keywords
fields, but in fact the document loses 1/3 of its score because of the
coordination term (2/3 rather than 1, because only 2 out of the three
clauses matched).

Now, I love the coordination term for the multiple-word queries
(including the ones embedded in the query above), but for the
conjunction of the different fields I'd like to remove it, and just have
each clause add its score.  I feel like there's a way to do this,
perhaps with a custom Similarity subclass, but I can't quite see how to
set it up.

Can anyone point me in the right direction, or perhaps suggest a
different pathway that I'm missing?

Thanks a lot,

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 19:25:56 2004
Return-Path: <lucene-user-return-7744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76549 invoked from network); 29 Mar 2004 19:25:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 19:25:56 -0000
Received: (qmail 33759 invoked by uid 500); 29 Mar 2004 19:25:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33737 invoked by uid 500); 29 Mar 2004 19:25:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33592 invoked from network); 29 Mar 2004 19:25:30 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 29 Mar 2004 19:25:30 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20040329192535013002ttdle>; Mon, 29 Mar 2004 19:25:35 +0000
Message-ID: <406877E7.2000902@apache.org>
Date: Mon, 29 Mar 2004 11:24:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Overriding coordination
References: <1080587525.4320.66.camel@yuff.moxyledge.org>
In-Reply-To: <1080587525.4320.66.camel@yuff.moxyledge.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Boris Goldowsky wrote:
> I have a situation where I'm querying for something in several fields,
> with a clause similar to this:
>   (title:(two words)^20  keywords:(two words)^10  body:(two words))
> 
> Some good documents are being scored too low if the query terms do not
> occur in the "body" field.  I naively thought that would only make a few
> % difference, because of the large boosts on the title and keywords
> fields, but in fact the document loses 1/3 of its score because of the
> coordination term (2/3 rather than 1, because only 2 out of the three
> clauses matched).
> 
> Now, I love the coordination term for the multiple-word queries
> (including the ones embedded in the query above), but for the
> conjunction of the different fields I'd like to remove it, and just have
> each clause add its score.  I feel like there's a way to do this,
> perhaps with a custom Similarity subclass, but I can't quite see how to
> set it up.

This is possible in the current CVS, and will be possible in 1.4.

I attached an example to a recent email:
 
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=7439

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 20:13:02 2004
Return-Path: <lucene-user-return-7745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3604 invoked from network); 29 Mar 2004 20:13:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 20:13:02 -0000
Received: (qmail 30788 invoked by uid 500); 29 Mar 2004 20:12:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30762 invoked by uid 500); 29 Mar 2004 20:12:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30744 invoked from network); 29 Mar 2004 20:12:46 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 29 Mar 2004 20:12:46 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i2TKCodA011411
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 20:12:50 GMT
Date: Mon, 29 Mar 2004 20:12:50 GMT
Message-Id: <200403292012.i2TKCodA011411@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Demoting results
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Doug,
Thanks for the post. BoostingQuery looks to be cleaner, faster and more generally useful than my 
implementation :-)
Unless anyone has a particularly good reason I'll remove the link to my code that Stephane put on the Wiki contributions page. 
I definitely find BoostingQuery very useful and would be happy to see it in Lucene core but I'm not sure its popular 
enough to warrant adding special support to the query parser.  

BTW, I've had a thought about your suggestion for making the highlighter use some form of RAMindex of sentence fragments
and then querying it to get the best fragments. This is nice in theory but could fail to find anything if the query is of these forms:
a AND b 
"a b" 
When the code that breaks a doc into "sentence docs" splits co-occuring "a" and "b" terms into seperate docs
this would produce no match. I dont think there's an easy way round that so I'll stick to the current approach of scoring
fragments simply based on terms found in the query.


Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 20:28:44 2004
Return-Path: <lucene-user-return-7746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20297 invoked from network); 29 Mar 2004 20:28:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 20:28:44 -0000
Received: (qmail 51052 invoked by uid 500); 29 Mar 2004 20:28:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50877 invoked by uid 500); 29 Mar 2004 20:28:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50863 invoked from network); 29 Mar 2004 20:28:26 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 29 Mar 2004 20:28:26 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <2004032920283001200nbn1ke>; Mon, 29 Mar 2004 20:28:31 +0000
Message-ID: <406886A6.2090700@apache.org>
Date: Mon, 29 Mar 2004 12:27:18 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
References: <200403292012.i2TKCodA011411@server0027.freedom2surf.net>
In-Reply-To: <200403292012.i2TKCodA011411@server0027.freedom2surf.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d@yahoo.co.uk wrote:
> Thanks for the post. BoostingQuery looks to be cleaner, faster and more generally useful than my 
> implementation :-)

Great!  Glad to hear it was useful.

> BTW, I've had a thought about your suggestion for making the highlighter use some form of RAMindex of sentence fragments
> and then querying it to get the best fragments. This is nice in theory but could fail to find anything if the query is of these forms:
> a AND b 
> "a b" 
> When the code that breaks a doc into "sentence docs" splits co-occuring "a" and "b" terms into seperate docs
> this would produce no match. I dont think there's an easy way round that so I'll stick to the current approach of scoring
> fragments simply based on terms found in the query.

You could, if you fail to find any fragments that match the entire 
query, re-query the fragments with a flattened query containing just an 
OR of all of the original query terms.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 21:04:41 2004
Return-Path: <lucene-user-return-7747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42041 invoked from network); 29 Mar 2004 21:04:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 21:04:41 -0000
Received: (qmail 11702 invoked by uid 500); 29 Mar 2004 21:04:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11678 invoked by uid 500); 29 Mar 2004 21:04:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11663 invoked from network); 29 Mar 2004 21:04:24 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 29 Mar 2004 21:04:24 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i2TL4TdA028957
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 21:04:29 GMT
Date: Mon, 29 Mar 2004 21:04:29 GMT
Message-Id: <200403292104.i2TL4TdA028957@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Demoting results
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>You could, if you fail to find any fragments that match the entire 
>>query, re-query the fragments with a flattened query containing just an 
>>OR of all of the original query terms.

The other issue with this approach I'm still struggling with is simply the cost of creating the temporary index. I don't know if you got a chance to look at the "FastIndex" 
implementation I put together using TreeMaps. I was getting a 2x speed improvement over RAM indexes but it was still 4 times slower than the basic 
cost of tokenization used by the current highlighter code.  Costs for processing 50k worth of docs are as follows:
fast indexing : 1182 ms
ramindexing : 2413 ms
just tokenizing :  310 ms

Still quite an overhead and I couldn't see any obvious means of improving on this.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 21:10:08 2004
Return-Path: <lucene-user-return-7748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44831 invoked from network); 29 Mar 2004 21:10:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 21:10:08 -0000
Received: (qmail 22390 invoked by uid 500); 29 Mar 2004 21:09:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22364 invoked by uid 500); 29 Mar 2004 21:09:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22340 invoked from network); 29 Mar 2004 21:09:50 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 21:09:50 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2TL9ttG013559
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 13:09:56 -0800
Message-ID: <406890A0.3060702@newsmonster.org>
Date: Mon, 29 Mar 2004 13:09:52 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
References: <4067B907.1010908@newsmonster.org> <40686E78.5060102@apache.org>
In-Reply-To: <40686E78.5060102@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigEF848189ACE8E893BD2050CD"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigEF848189ACE8E893BD2050CD
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> One way to force larger read-aheads might be to pump up Lucene's input 
> buffer size.  As an experiment, try increasing InputStream.BUFFER_SIZE 
> to 1024*1024 or larger.  You'll want to do this just for the merge 
> process and not for searching and indexing.  That should help you 
> spend more time doing transfers with less wasted on seeks.  If that 
> helps, then perhaps we ought to make this settable via system property 
> or somesuch.
>
Good suggestion... seems about 10% -> 15% faster in a few strawman 
benchmarks I ran.   

Note that right now this var is final and not public... so that will 
probably need to change.  Does it make sense to also increase the 
OutputStream.BUFFER_SIZE?  This would seem to make sense since an 
optimize is a large number of reads and writes.  

I'm obviously willing to throw memory at the problem

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigEF848189ACE8E893BD2050CD
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaJCi6E2NBJnxRBIRAkMiAKCIAJ4Ayhhz86kgfHXN9gLNpIw20ACgz9cq
NIY0d9LLL+JwTS6yG2T4tkY=
=ObfM
-----END PGP SIGNATURE-----

--------------enigEF848189ACE8E893BD2050CD--

From lucene-user-return-7749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 21:10:49 2004
Return-Path: <lucene-user-return-7749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45083 invoked from network); 29 Mar 2004 21:10:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 21:10:49 -0000
Received: (qmail 23844 invoked by uid 500); 29 Mar 2004 21:10:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23814 invoked by uid 500); 29 Mar 2004 21:10:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23797 invoked from network); 29 Mar 2004 21:10:32 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 21:10:32 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2TLActG013565
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 13:10:38 -0800
Message-ID: <406890CC.1060809@newsmonster.org>
Date: Mon, 29 Mar 2004 13:10:36 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Tracking/Monitoring Search Terms in Lucene
References: <E715E363C791D511913400508BA54AD00198D34F@mailserver.sigmaxi.org>
In-Reply-To: <E715E363C791D511913400508BA54AD00198D34F@mailserver.sigmaxi.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigFDB48F2233164B02E6D1BA71"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigFDB48F2233164B02E6D1BA71
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Katie Lord wrote:

>I am trying to figure out how to track the search terms that visitors are
>using on our site on a monthly basis. Do you all have any suggestions?
>  
>
Don't use lucene for this... just have your form record the search terms.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigFDB48F2233164B02E6D1BA71
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaJDM6E2NBJnxRBIRArg9AKCTYfwoH1YnItBlSVEUqWHVoE4nKACeP8MS
kHsuiKoJPAW+10RQd2JaCEw=
=Ic+p
-----END PGP SIGNATURE-----

--------------enigFDB48F2233164B02E6D1BA71--

From lucene-user-return-7750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 21:48:51 2004
Return-Path: <lucene-user-return-7750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62924 invoked from network); 29 Mar 2004 21:48:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 21:48:51 -0000
Received: (qmail 3170 invoked by uid 500); 29 Mar 2004 21:48:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3140 invoked by uid 500); 29 Mar 2004 21:48:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3124 invoked from network); 29 Mar 2004 21:48:33 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 21:48:33 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2TLmTtG013622
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 13:48:39 -0800
Message-ID: <406899A9.3050306@newsmonster.org>
Date: Mon, 29 Mar 2004 13:48:25 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Is RangeQuery more efficient than DateFilter?
References: <4067EB9F.7080502@newsmonster.org> <BCCF69FB-8186-11D8-A0B0-000393A564E6@ehatchersolutions.com> <2CD3166E-8188-11D8-A0B0-000393A564E6@ehatchersolutions.com>
In-Reply-To: <2CD3166E-8188-11D8-A0B0-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig958A164272FED52F1F25FDA4"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig958A164272FED52F1F25FDA4
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

>
> One more point... caching is done by the IndexReader used for the 
> search, so you will need to keep that instance (i.e. the 
> IndexSearcher) around to benefit from the caching.
>
Great... Damn... looked at the source of CachingWrapperFilter and it 
makes sense.  Thanks for the pointer.  The results were pretty amazing.  
Here are the results before and after. Times are in millis:

Before caching the Field:

Searching for Jakarta:
2238
1910
1899
1901
1904
1906

After caching the field:
2253
10
6
8
6
6

That's a HUGE difference :)

I'm very happy :)

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



--------------enig958A164272FED52F1F25FDA4
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaJmr6E2NBJnxRBIRAohVAKDgA8a0c0BFAdb4gC/jQpOeVufn3ACgkfQp
E+IeQh9R/mO/zTe/S2/X1v0=
=ZloJ
-----END PGP SIGNATURE-----

--------------enig958A164272FED52F1F25FDA4--

From lucene-user-return-7751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 21:55:14 2004
Return-Path: <lucene-user-return-7751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64893 invoked from network); 29 Mar 2004 21:55:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 21:55:14 -0000
Received: (qmail 11029 invoked by uid 500); 29 Mar 2004 21:54:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10917 invoked by uid 500); 29 Mar 2004 21:54:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10894 invoked from network); 29 Mar 2004 21:54:55 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Mar 2004 21:54:55 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2TLt0Q21705
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 16:55:00 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 29 Mar 2004 16:55:00 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Demoting results
In-Reply-To: <200403292012.i2TKCodA011411@server0027.freedom2surf.net>
Message-ID: <Pine.LNX.4.33.0403291653310.21616-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

Thanks for the update, since I contributed the page, I was going to modify
it (I don't want to force work on other.

sv

On Mon, 29 Mar 2004 markharw00d@yahoo.co.uk wrote:

> Hi Doug,
> Thanks for the post. BoostingQuery looks to be cleaner, faster and more generally useful than my
> implementation :-)
> Unless anyone has a particularly good reason I'll remove the link to my code that Stephane put on the Wiki contributions page.
> I definitely find BoostingQuery very useful and would be happy to see it in Lucene core but I'm not sure its popular
> enough to warrant adding special support to the query parser.
>
> BTW, I've had a thought about your suggestion for making the highlighter use some form of RAMindex of sentence fragments
> and then querying it to get the best fragments. This is nice in theory but could fail to find anything if the query is of these forms:
> a AND b
> "a b"
> When the code that breaks a doc into "sentence docs" splits co-occuring "a" and "b" terms into seperate docs
> this would produce no match. I dont think there's an easy way round that so I'll stick to the current approach of scoring
> fragments simply based on terms found in the query.
>
>
> Cheers
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 22:09:24 2004
Return-Path: <lucene-user-return-7752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70676 invoked from network); 29 Mar 2004 22:09:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 22:09:24 -0000
Received: (qmail 37393 invoked by uid 500); 29 Mar 2004 22:09:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37356 invoked by uid 500); 29 Mar 2004 22:09:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37188 invoked from network); 29 Mar 2004 22:09:00 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Mar 2004 22:09:00 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2TM96k21890
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 17:09:06 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 29 Mar 2004 17:09:06 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Is RangeQuery more efficient than DateFilter?
In-Reply-To: <406899A9.3050306@newsmonster.org>
Message-ID: <Pine.LNX.4.33.0403291705260.21616-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've added some information contained on this thread on the wiki.

http://wiki.apache.org/jakarta-lucene/DateRangeQueries

If you wish to add more information, go right ahead, but since I added
this info, I believe it's ultimately my responsibility to maintain it.

sv

On Mon, 29 Mar 2004, Kevin A. Burton wrote:

> Erik Hatcher wrote:
>
> >
> > One more point... caching is done by the IndexReader used for the
> > search, so you will need to keep that instance (i.e. the
> > IndexSearcher) around to benefit from the caching.
> >
> Great... Damn... looked at the source of CachingWrapperFilter and it
> makes sense.  Thanks for the pointer.  The results were pretty amazing.
> Here are the results before and after. Times are in millis:
>
> Before caching the Field:
>
> Searching for Jakarta:
> 2238
> 1910
> 1899
> 1901
> 1904
> 1906
>
> After caching the field:
> 2253
> 10
> 6
> 8
> 6
> 6
>
> That's a HUGE difference :)
>
> I'm very happy :)
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 22:17:30 2004
Return-Path: <lucene-user-return-7753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73745 invoked from network); 29 Mar 2004 22:17:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 22:17:30 -0000
Received: (qmail 49278 invoked by uid 500); 29 Mar 2004 22:17:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49007 invoked by uid 500); 29 Mar 2004 22:17:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48992 invoked from network); 29 Mar 2004 22:17:12 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 29 Mar 2004 22:17:12 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004032922171701600hvre1e>; Mon, 29 Mar 2004 22:17:18 +0000
Message-ID: <4068A025.5030206@apache.org>
Date: Mon, 29 Mar 2004 14:16:05 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
References: <4067B907.1010908@newsmonster.org> <40686E78.5060102@apache.org> <406890A0.3060702@newsmonster.org>
In-Reply-To: <406890A0.3060702@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
>> One way to force larger read-aheads might be to pump up Lucene's input 
>> buffer size.  As an experiment, try increasing InputStream.BUFFER_SIZE 
>> to 1024*1024 or larger.  You'll want to do this just for the merge 
>> process and not for searching and indexing.  That should help you 
>> spend more time doing transfers with less wasted on seeks.  If that 
>> helps, then perhaps we ought to make this settable via system property 
>> or somesuch.
>>
> Good suggestion... seems about 10% -> 15% faster in a few strawman 
> benchmarks I ran.  

How long is it taking to merge your 5GB index?  Do you have any stats 
about disk utilization during merge (seeks/second, bytes 
transferred/second)?  Did you try buffer sizes even larger than 1MB? 
Are you writing to a different disk, as suggested?

> Note that right now this var is final and not public... so that will 
> probably need to change.

Perhaps.  I'm reticent to make it too easy to change this.  People tend 
to randomly tweak every available knob and then report bugs, or, if it 
doesn't crash, start recommending that everyone else tweak the knob as 
they do.  There are lots of tradeoffs with buffer size, cases that folks 
might not think of (like that a wildcard query creates a buffer for 
every term that matches), etc.

> Does it make sense to also increase the 
> OutputStream.BUFFER_SIZE?  This would seem to make sense since an 
> optimize is a large number of reads and writes.

It might help a little if you're merging to the same disk as you're 
reading from, but probably not a lot.  If you're merging to a different 
disk then it shouldn't make much difference at all.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 22:40:38 2004
Return-Path: <lucene-user-return-7754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82361 invoked from network); 29 Mar 2004 22:40:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 22:40:38 -0000
Received: (qmail 82948 invoked by uid 500); 29 Mar 2004 22:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82789 invoked by uid 500); 29 Mar 2004 22:40:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82769 invoked from network); 29 Mar 2004 22:40:18 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Mar 2004 22:40:18 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i2TMeO222274
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 17:40:24 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 29 Mar 2004 17:40:24 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Javadocs lucene 1.4
Message-ID: <Pine.LNX.4.33.0403291736310.21616-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are the javadocs available on the site?

I'd like to see the javadocs for lucene-1.4 (specifically SpanQuery)
somewhere on the lucene website. I've subscribed to the users mailing
list, but I've never got a feel for the new version. Is there any way
for this to happen, or should I await 1.4-rc1?

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 22:44:55 2004
Return-Path: <lucene-user-return-7755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84508 invoked from network); 29 Mar 2004 22:44:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 22:44:55 -0000
Received: (qmail 88566 invoked by uid 500); 29 Mar 2004 22:44:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88539 invoked by uid 500); 29 Mar 2004 22:44:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88526 invoked from network); 29 Mar 2004 22:44:37 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 29 Mar 2004 22:44:37 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20040329224443013002vpkce>; Mon, 29 Mar 2004 22:44:43 +0000
Message-ID: <4068A693.3010809@apache.org>
Date: Mon, 29 Mar 2004 14:43:31 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Javadocs lucene 1.4
References: <Pine.LNX.4.33.0403291736310.21616-100000@hercule.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.33.0403291736310.21616-100000@hercule.cirano.qc.ca>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene 1.4 has not been released.  Until it is released, you need to 
check out the sources from CVS and build them, including javadoc.

Doug

Stephane James Vaucher wrote:
> Are the javadocs available on the site?
> 
> I'd like to see the javadocs for lucene-1.4 (specifically SpanQuery)
> somewhere on the lucene website. I've subscribed to the users mailing
> list, but I've never got a feel for the new version. Is there any way
> for this to happen, or should I await 1.4-rc1?
> 
> cheers,
> sv
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 23:25:56 2004
Return-Path: <lucene-user-return-7756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3695 invoked from network); 29 Mar 2004 23:25:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 23:25:55 -0000
Received: (qmail 45036 invoked by uid 500); 29 Mar 2004 23:25:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45016 invoked by uid 500); 29 Mar 2004 23:25:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45002 invoked from network); 29 Mar 2004 23:25:35 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 29 Mar 2004 23:25:35 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 29 Mar 2004 18:25:11 -0500
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: BooleanQuery$TooManyClauses
Date: Mon, 29 Mar 2004 18:29:04 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQV318QawIDuCIYQsy0EsFi8k/+sgABNTLQ
In-Reply-To: <4068A693.3010809@apache.org>
Message-ID: <GERMANY6OqdBPeSQMA900007172@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 29 Mar 2004 23:25:11.0796 (UTC) FILETIME=[150B1B40:01C415E5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I have a range query for the date like [20011201 To 20040201], it works fine
for Lucene API 1.3 RC1. When I upgrade to 1.3 final, I got
"BooleanQuery$TooManyClauses" exception sometimes no matter the index is
created by 1.3RC1 or 1.3 final. Check on the email archive, it seems related
with maxClauseCount. Is increasing maxClauseCount the only way to avoid this
issue in 1.3 final? The dev mail list has some discussion on the future plan
on this.

Regards,
Hui



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Mar 29 23:52:04 2004
Return-Path: <lucene-user-return-7757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13219 invoked from network); 29 Mar 2004 23:52:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Mar 2004 23:52:04 -0000
Received: (qmail 78123 invoked by uid 500); 29 Mar 2004 23:51:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78099 invoked by uid 500); 29 Mar 2004 23:51:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78085 invoked from network); 29 Mar 2004 23:51:44 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 29 Mar 2004 23:51:44 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2TNpqtG014338
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 15:51:52 -0800
Message-ID: <4068B694.9070107@newsmonster.org>
Date: Mon, 29 Mar 2004 15:51:48 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
References: <4067B907.1010908@newsmonster.org> <40686E78.5060102@apache.org> <406890A0.3060702@newsmonster.org> <4068A025.5030206@apache.org>
In-Reply-To: <4068A025.5030206@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig267882BEE85DC9560D03E3E3"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig267882BEE85DC9560D03E3E3
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

>
> How long is it taking to merge your 5GB index?  Do you have any stats 
> about disk utilization during merge (seeks/second, bytes 
> transferred/second)?  Did you try buffer sizes even larger than 1MB? 
> Are you writing to a different disk, as suggested?

I'll do some more testing tonight and get back to you

>> Note that right now this var is final and not public... so that will 
>> probably need to change.
>
>
> Perhaps.  I'm reticent to make it too easy to change this.  People 
> tend to randomly tweak every available knob and then report bugs, or, 
> if it doesn't crash, start recommending that everyone else tweak the 
> knob as they do.  There are lots of tradeoffs with buffer size, cases 
> that folks might not think of (like that a wildcard query creates a 
> buffer for every term that matches), etc.

Or you can do what I do and recompile ;) 

>> Does it make sense to also increase the OutputStream.BUFFER_SIZE?  
>> This would seem to make sense since an optimize is a large number of 
>> reads and writes.
>
>
> It might help a little if you're merging to the same disk as you're 
> reading from, but probably not a lot.  If you're merging to a 
> different disk then it shouldn't make much difference at all.
>
Right now we are merging to the same disk...  I'll perform some real 
benchmarks with this var too.  Long term we're going to migrate to using 
to SCSI disks per machine and then doing parallel queries across them 
with optimized indexes.

Also with modern disk controllers and filesystems I'm not sure how much 
difference this should make.  Both Reiser and XFS do a lot of internal 
buffering as does our disk controller.  I guess I'll find out...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig267882BEE85DC9560D03E3E3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaLaW6E2NBJnxRBIRAoAVAKDchBf2KBZiOnuWSqYDgszphnM+awCfRopw
WJSSw15BHiu+fSaoXxVOOLQ=
=XVYG
-----END PGP SIGNATURE-----

--------------enig267882BEE85DC9560D03E3E3--

From lucene-user-return-7758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 01:21:21 2004
Return-Path: <lucene-user-return-7758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42961 invoked from network); 30 Mar 2004 01:21:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 01:21:21 -0000
Received: (qmail 94388 invoked by uid 500); 30 Mar 2004 01:21:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94364 invoked by uid 500); 30 Mar 2004 01:20:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94344 invoked from network); 30 Mar 2004 01:20:59 -0000
Received: from unknown (HELO mail.motile.net) (203.32.115.2)
  by daedalus.apache.org with SMTP; 30 Mar 2004 01:20:59 -0000
Received: (qmail 17774 invoked by uid 1008); 30 Mar 2004 01:20:07 -0000
Received: from unknown (HELO iapetus) (esmond.pitt@motile.net@203.32.113.2)
  by 0 with SMTP; 30 Mar 2004 01:20:07 -0000
Message-ID: <009c01c415f5$4580db60$34fafc0a@iapetus>
From: "Esmond Pitt" <esmond.pitt@motile.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4067B907.1010908@newsmonster.org> <40686E78.5060102@apache.org> <406890A0.3060702@newsmonster.org> <4068A025.5030206@apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
Date: Tue, 30 Mar 2004 11:21:04 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don't want to start a buffer size war, but these have always seemed too
small to me. I'd recommend upping both InputStream and OutputStream buffer
sizes to at least 4k, as this is the cluster size on most disks these days,
and also a common VM page size. Reading and writing in smaller quantities
than these is definitely suboptimal.

Esmond Pitt

----- Original Message ----- 
From: "Doug Cutting" <cutting@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, March 30, 2004 8:16 AM
Subject: Re: Lucene optimization with one large index and numerous small
indexes.


> Kevin A. Burton wrote:
> >> One way to force larger read-aheads might be to pump up Lucene's input
> >> buffer size.  As an experiment, try increasing InputStream.BUFFER_SIZE
> >> to 1024*1024 or larger.  You'll want to do this just for the merge
> >> process and not for searching and indexing.  That should help you
> >> spend more time doing transfers with less wasted on seeks.  If that
> >> helps, then perhaps we ought to make this settable via system property
> >> or somesuch.
> >>
> > Good suggestion... seems about 10% -> 15% faster in a few strawman
> > benchmarks I ran.
>
> How long is it taking to merge your 5GB index?  Do you have any stats
> about disk utilization during merge (seeks/second, bytes
> transferred/second)?  Did you try buffer sizes even larger than 1MB?
> Are you writing to a different disk, as suggested?
>
> > Note that right now this var is final and not public... so that will
> > probably need to change.
>
> Perhaps.  I'm reticent to make it too easy to change this.  People tend
> to randomly tweak every available knob and then report bugs, or, if it
> doesn't crash, start recommending that everyone else tweak the knob as
> they do.  There are lots of tradeoffs with buffer size, cases that folks
> might not think of (like that a wildcard query creates a buffer for
> every term that matches), etc.
>
> > Does it make sense to also increase the
> > OutputStream.BUFFER_SIZE?  This would seem to make sense since an
> > optimize is a large number of reads and writes.
>
> It might help a little if you're merging to the same disk as you're
> reading from, but probably not a lot.  If you're merging to a different
> disk then it shouldn't make much difference at all.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 05:13:11 2004
Return-Path: <lucene-user-return-7759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33586 invoked from network); 30 Mar 2004 05:13:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 05:13:11 -0000
Received: (qmail 22958 invoked by uid 500); 30 Mar 2004 05:12:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22731 invoked by uid 500); 30 Mar 2004 05:12:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22712 invoked from network); 30 Mar 2004 05:12:44 -0000
Received: from unknown (HELO web20302.mail.yahoo.com) (216.136.226.83)
  by daedalus.apache.org with SMTP; 30 Mar 2004 05:12:44 -0000
Message-ID: <20040330051255.83105.qmail@web20302.mail.yahoo.com>
Received: from [203.126.142.237] by web20302.mail.yahoo.com via HTTP; Mon, 29 Mar 2004 21:12:55 PST
Date: Mon, 29 Mar 2004 21:12:55 -0800 (PST)
From: Gabriela D <derasg@yahoo.com>
Subject: Re: Special Characters
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040329115756.10473.qmail@web20304.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1330984658-1080623575=:80934"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1330984658-1080623575=:80934
Content-Type: text/plain; charset=us-ascii

Guys,
Help please..

Gabriela D <derasg@yahoo.com> wrote:

Dear All,

I have modified StandardTokenizer.jj to include many of special character in the token. However, still the problem exists as the index does not include the characters ":,{,},(,)" and "%". Can somebody help me as to what should I modify so that index will include words with these special characters?

Your help is appreciated.

Thanks and Regards,

Harsha



---------------------------------
Do you Yahoo!?
Yahoo! Finance Tax Center - File online. File on time.

---------------------------------
Do you Yahoo!?
Yahoo! Finance Tax Center - File online. File on time.
--0-1330984658-1080623575=:80934--

From lucene-user-return-7760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 06:49:15 2004
Return-Path: <lucene-user-return-7760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75936 invoked from network); 30 Mar 2004 06:49:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 06:49:14 -0000
Received: (qmail 41896 invoked by uid 500); 30 Mar 2004 06:48:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41872 invoked by uid 500); 30 Mar 2004 06:48:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41852 invoked from network); 30 Mar 2004 06:48:46 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 30 Mar 2004 06:48:46 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id BBE7484DA9
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 10:48:56 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 5211766 for lucene-user@jakarta.apache.org; Tue, 30 Mar 2004 10:48:56 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: What happened with build.xml in CVS?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Tue, 30 Mar 2004 10:48:56 +0400
Message-ID: <web-5211766@mail5.rambler.ru>
In-Reply-To: <96D7A846-8185-11D8-A0B0-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, Erik.
Ant 1.6.1 works with build.xml v.1.58 without problems.
Vladimir.

On Mon, 29 Mar 2004 08:32:56 -0500
  Erik Hatcher <erik@ehatchersolutions.com> wrote:
>Cool... my sinister plan of subversively getting the world to upgrade 
>to Ant 1.6 is working!  :)
>
>	Erik
>
>
>On Mar 29, 2004, at 4:34 AM, Rob Oxspring wrote:
>
>> Looks like Erik's commits 2 days back have up'd the depencancy from 
>> ant 1.5 to 1.6.  Previously only selected tasks were allowed outside 
>> of targets and tstamp doesn't look like one of them.
>>
>> Rob
>>
>> Vladimir Yuryev wrote:
>>> Hi !
>>> I have made latest update from lucene CVS, in which build.xml has 
>>> problems:
>>> Buildfile: /home/vyuryev/workspace/jakarta-lucene/build.xml
>>> BUILD FAILED: 
>>> file:/home/vyuryev/workspace/jakarta-lucene/build.xml:11: Unexpected 
>>> element "tstamp"
>>> Total time: 297 milliseconds
>>> Best Regards,
>>> Vladimir Yuryev
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 07:25:25 2004
Return-Path: <lucene-user-return-7761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97833 invoked from network); 30 Mar 2004 07:25:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 07:25:25 -0000
Received: (qmail 95636 invoked by uid 500); 30 Mar 2004 07:24:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95548 invoked by uid 500); 30 Mar 2004 07:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95535 invoked from network); 30 Mar 2004 07:24:55 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 30 Mar 2004 07:24:55 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2U7P9tG015272
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Mar 2004 23:25:10 -0800
Message-ID: <406920D0.6000700@newsmonster.org>
Date: Mon, 29 Mar 2004 23:25:04 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: BooleanQuery$TooManyClauses
References: <GERMANY6OqdBPeSQMA900007172@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANY6OqdBPeSQMA900007172@germany.prod.thop-ny.triplehop.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigAE217CA577B4B2C72EF2FFEA"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigAE217CA577B4B2C72EF2FFEA
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

hui wrote:

>Hi,
>I have a range query for the date like [20011201 To 20040201], it works fine
>for Lucene API 1.3 RC1. When I upgrade to 1.3 final, I got
>"BooleanQuery$TooManyClauses" exception sometimes no matter the index is
>created by 1.3RC1 or 1.3 final. Check on the email archive, it seems related
>with maxClauseCount. Is increasing maxClauseCount the only way to avoid this
>issue in 1.3 final? The dev mail list has some discussion on the future plan
>on this.
>  
>
I've noticed the same problem.. The strange thing is that it only 
happens on some queries.  For example the query "blog" results in this 
exception but the query for "linux" in my index works just fine. 

This is the stacktrace if anyone's interested:

org.apache.lucene.search.BooleanQuery$TooManyClauses
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
        at 
org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:99)
        at 
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
        at 
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
        at 
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:188)
        at org.apache.lucene.search.Query.weight(Query.java:120)
        at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
        at 
org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:150)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
        at org.apache.lucene.search.Hits.<init>(Hits.java:80)
        at org.apache.lucene.search.Searcher.search(Searcher.java:71)

For the record I'm also using a DateRange but I disabled it still noticed the same behavior.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigAE217CA577B4B2C72EF2FFEA
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaSDS6E2NBJnxRBIRAhkDAKCe1IpjqltiCPk+PC+fANNsr6N8yACeNpB8
eZXLr/GAfUFTPi7S7ReBZQc=
=GQmq
-----END PGP SIGNATURE-----

--------------enigAE217CA577B4B2C72EF2FFEA--

From lucene-user-return-7762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 07:44:34 2004
Return-Path: <lucene-user-return-7762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10711 invoked from network); 30 Mar 2004 07:44:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 07:44:33 -0000
Received: (qmail 39330 invoked by uid 500); 30 Mar 2004 07:44:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39203 invoked by uid 500); 30 Mar 2004 07:44:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39183 invoked from network); 30 Mar 2004 07:44:04 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 30 Mar 2004 07:44:04 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id DFF407CF7
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 09:44:15 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 87A397CF2
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 09:44:12 +0200 (MEST)
content-class: urn:content-classes:message
Subject: AW: BooleanQuery$TooManyClauses
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 30 Mar 2004 09:44:11 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC2B620C@omicron.win.xtramind.dfki.de>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: BooleanQuery$TooManyClauses
Thread-Index: AcQWKDEMFSeLrJ5NTHeb4Itn0dFgMAAAeWIw
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

the final version throws the exception when the query expansion results =
in more than 1000 tokens; if you get this in range queries over dates, =
try indexing the dates with a rounded date format - not based on =
milliseconds. By this, you effectively reduce the number of tokens that =
will be expanded from the date range.

>>
I've noticed the same problem.. The strange thing is that it only=20
happens on some queries.  For example the query "blog" results in this=20
exception but the query for "linux" in my index works just fine.=20
>>

The "blog" does not cause this exception, rather some range that you =
give.

>>
I'm also using a DateRange but I disabled it still noticed the same =
behavior.
>>

That would be really strange. Are you absolutely sure?

Regards,

Karsten

-----Urspr=FCngliche Nachricht-----
Von: Kevin A. Burton [mailto:burton@newsmonster.org]=20
Gesendet: Dienstag, 30. M=E4rz 2004 09:25
An: Lucene Users List
Betreff: Re: BooleanQuery$TooManyClauses


hui wrote:

>Hi,
>I have a range query for the date like [20011201 To 20040201], it works =

>fine for Lucene API 1.3 RC1. When I upgrade to 1.3 final, I got=20
>"BooleanQuery$TooManyClauses" exception sometimes no matter the index=20
>is created by 1.3RC1 or 1.3 final. Check on the email archive, it seems =

>related with maxClauseCount. Is increasing maxClauseCount the only way=20
>to avoid this issue in 1.3 final? The dev mail list has some discussion =

>on the future plan on this.
> =20
>
I've noticed the same problem.. The strange thing is that it only=20
happens on some queries.  For example the query "blog" results in this=20
exception but the query for "linux" in my index works just fine.=20

This is the stacktrace if anyone's interested:

org.apache.lucene.search.BooleanQuery$TooManyClauses
        at =
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
        at =
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
        at=20
org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:99)
        at=20
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
        at=20
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
        at=20
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:188)
        at org.apache.lucene.search.Query.weight(Query.java:120)
        at=20
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
        at=20
org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:150)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
        at org.apache.lucene.search.Hits.<init>(Hits.java:80)
        at org.apache.lucene.search.Searcher.search(Searcher.java:71)

For the record I'm also using a DateRange but I disabled it still =
noticed the same behavior.

Kevin

--=20

Please reply using PGP.

    http://peerfear.org/pubkey.asc   =20
   =20
    NewsMonster - http://www.newsmonster.org/
   =20
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 08:38:39 2004
Return-Path: <lucene-user-return-7763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51707 invoked from network); 30 Mar 2004 08:38:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 08:38:39 -0000
Received: (qmail 25938 invoked by uid 500); 30 Mar 2004 08:38:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25912 invoked by uid 500); 30 Mar 2004 08:38:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25893 invoked from network); 30 Mar 2004 08:38:09 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 30 Mar 2004 08:38:09 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id B580B84F1A
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 12:38:20 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 5252565 for lucene-user@jakarta.apache.org; Tue, 30 Mar 2004 12:38:20 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: Patchs for RussianAnalyzer
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Tue, 30 Mar 2004 12:38:20 +0400
Message-ID: <web-5252565@mail5.rambler.ru>
In-Reply-To: <7542272E-81A3-11D8-9013-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,
Look, please second my letter whithout attachment. It has the texts in 
body letter.
Vladimir.

On Mon, 29 Mar 2004 12:06:45 -0500
  Erik Hatcher <erik@ehatchersolutions.com> wrote:
>Vladimir,
>
>I have just taken a look at your submitted patches.  I have no 
> objections to making Cp1251 the default charset used in the no-arg 
> constructor to RussianAnalyzer, but all of your other changes are 
> formatting along with the addition of some other constructors.
>
>Could you please provide a functionality-only diff for your patches, 
> preferably in a single file attached to a Bugzilla issue?
>
>Thanks,
>	Erik
>
>On Mar 17, 2004, at 8:25 AM, Vladimir Yuryev wrote:
>
>> Dear developers!
>>
>> The user using RussianAnalyzer writes to you of Lucene. There is one 
>> 
>> problem at work only with it of Analyzer it is parameter of the  
>> Russian coding (you it know as the set of the code tables for one  
>> language always causes admiration). East Europe or the population 
>>the  
>> using applied programs in Russian use the coding windows-1251 as 
>>basic  
>> or widely widespread client a platform MS Windows. There is an 
>>opinion  
>> to update constructor without parameters establishing default  
>> "Cp1251".
>>
>> See attached file: RussianAnalyzerPatchs.tgz
>> RussianAnalyzer.java.path
>> RussianLetterTokenizer.java.patch
>> RussianLowerCaseFilter.java.patch
>> RussianStemFilter.java.patch
>> TestRussianAnalyzer.java.path
>>
>> Such updating will remove mess (for the beginners in Lucene or  
>> beginners of Russian) and will facilitate use Analyzers at 
>>switchings  
>> multilanguage search.
>> Regards,
>> Vladimir Yuryev.
>> <RussianAnalyzerPatchs.tgz>-------------------------------------------- 
>> -------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 11:19:21 2004
Return-Path: <lucene-user-return-7764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57956 invoked from network); 30 Mar 2004 11:19:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 11:19:21 -0000
Received: (qmail 87335 invoked by uid 500); 30 Mar 2004 11:18:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87311 invoked by uid 500); 30 Mar 2004 11:18:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87296 invoked from network); 30 Mar 2004 11:18:48 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 30 Mar 2004 11:18:48 -0000
Received: (cpmta 11113 invoked from network); 30 Mar 2004 03:19:02 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 30 Mar 2004 03:19:02 -0800
X-Sent: 30 Mar 2004 11:19:02 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <web-5252565@mail5.rambler.ru>
References: <web-5252565@mail5.rambler.ru>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0D5A1EFC-823C-11D8-A619-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Patchs for RussianAnalyzer
Date: Tue, 30 Mar 2004 06:19:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 30, 2004, at 3:38 AM, Vladimir Yuryev wrote:
> Erik,
> Look, please second my letter whithout attachment. It has the texts in 
> body letter.
> Vladimir.

I don't have that e-mail you refer to.  Please use the standard Jakarta 
Bugzilla issue tracking system, though.  You can place an attachment to 
an issue after you create it - e-mail ends up mangling in-line patches.

What I'm after is a clean patch that *only* changes the functionality 
you desire, not code formatting also.  We can clean up code formatting 
in another pass if needed - or I can just do that on my end after 
reviewing the functionality-only patch.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 14:09:58 2004
Return-Path: <lucene-user-return-7765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57940 invoked from network); 30 Mar 2004 14:09:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 14:09:58 -0000
Received: (qmail 98854 invoked by uid 500); 30 Mar 2004 14:09:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98831 invoked by uid 500); 30 Mar 2004 14:09:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98808 invoked from network); 30 Mar 2004 14:09:48 -0000
Received: from unknown (HELO rediffmail.com) (203.199.83.246)
  by daedalus.apache.org with SMTP; 30 Mar 2004 14:09:48 -0000
Received: (qmail 18614 invoked by uid 510); 30 Mar 2004 14:09:46 -0000
Date: 30 Mar 2004 14:09:46 -0000
Message-ID: <20040330140946.18613.qmail@webmail35.rediffmail.com>
Received: from unknown (202.88.231.166) by rediffmail.com via HTTP; 30 mar 2004 14:09:46 -0000
MIME-Version: 1.0
From: "Linto Joseph Mathew" <lintojm@rediffmail.com>
Reply-To: "Linto Joseph Mathew" <lintojm@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Re: UNIX command-line indexing script?
Content-type: multipart/alternative;
	boundary="Next_1080655786---0-203.199.83.246-18584"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1080655786---0-203.199.83.246-18584
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

charlie,=0A=0Ai wrote this in java.Ofcourse I am ready to share. But i have=
 some problems when indexing large volume of data. I am under testing.=0A=
=0ALinto=0A=0A=0A =0A=0A=0AOn Fri, 26 Mar 2004 Charlie Smith wrote :=0A>So,=
 Linto,=0A>=0A>  Did you write this in PERL or JAVA.  Would you be willing =
to part with copy of=0A>source?=0A>=0A>=0A>=0A> >Linto wrote on 3/16/04=0A>=
=0A> >I  have wrote one that will index PDF,DOC,XLS,XML,HTML,TXT and plain/=
text=0A>files. I wrote this based on >demo application and using other=0A> =
>open soure componets POI by Apache (for doc and exel) and PDFBox. I modifi=
ed=0A>client interface also. Now i>ts looks like google. Still i have to do=
 a couple=0A>of things.=0A>  > 1) At present i'm using UNIX 'file' command =
to check it is plain text.=0A>   >   This will spwan process and take more =
time. The advantage this is=0A>in unix based mechines where file >extention=
 is not important.( it         uses=0A>magic numbers. )=0A> >  2) The infor=
mation such as Index Location, Directory, URL, etc. should=0A>be kept in an=
 xml file. So that it >cam be dynamic.=0A> >  3) Categeory=0A> >=0A> >=0A> =
>Since apache guys provided good frame work every thing made easy. Thanks=
=0A>guys!=0A> >=0A>=0A> >Linto=0A>=0A>=0A>=0A>=0A>On Sat, 13 Mar 2004 Charl=
ie Smith wrote :=0A> >Anyone written a simple UNIX command-line indexing sc=
ript which will read a=0A> >bunch off different kinds of docs and index the=
m?  I'd like to make a cron=0A>job=0A> >out of this so as to be able to com=
e back and read it later during a search.=0A> >=0A> >PERL or JAVA script wo=
uld be fine.=0A> >=0A> >=0A>=0A>=0A>=0A>-----------------------------------=
----------------------------------=0A>To unsubscribe, e-mail: lucene-user-u=
nsubscribe@jakarta.apache.org=0A>For additional commands, e-mail: lucene-us=
er-help@jakarta.apache.org=0A>=0A
--Next_1080655786---0-203.199.83.246-18584--


From lucene-user-return-7766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 15:57:18 2004
Return-Path: <lucene-user-return-7766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42758 invoked from network); 30 Mar 2004 15:57:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 15:57:17 -0000
Received: (qmail 23669 invoked by uid 500); 30 Mar 2004 15:57:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23630 invoked by uid 500); 30 Mar 2004 15:57:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23604 invoked from network); 30 Mar 2004 15:57:06 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 30 Mar 2004 15:57:06 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 4F826840D8
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 19:57:05 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 5408884 for lucene-user@jakarta.apache.org; Tue, 30 Mar 2004 19:57:05 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: Patchs for RussianAnalyzer
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Tue, 30 Mar 2004 19:57:05 +0400
Message-ID: <web-5408884@mail5.rambler.ru>
In-Reply-To: <0D5A1EFC-823C-11D8-A619-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,
I made BUG # 28050.
Vladimir

On Tue, 30 Mar 2004 06:19:04 -0500
  Erik Hatcher <erik@ehatchersolutions.com> wrote:
>On Mar 30, 2004, at 3:38 AM, Vladimir Yuryev wrote:
>> Erik,
>> Look, please second my letter whithout attachment. It has the texts 
>>in 
>> body letter.
>> Vladimir.
>
>I don't have that e-mail you refer to.  Please use the standard 
>Jakarta Bugzilla issue tracking system, though.  You can place an 
>attachment to an issue after you create it - e-mail ends up mangling 
>in-line patches.
>
>What I'm after is a clean patch that *only* changes the functionality 
>you desire, not code formatting also.  We can clean up code 
>formatting in another pass if needed - or I can just do that on my 
>end after reviewing the functionality-only patch.
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 17:04:44 2004
Return-Path: <lucene-user-return-7767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91582 invoked from network); 30 Mar 2004 17:04:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 17:04:44 -0000
Received: (qmail 1012 invoked by uid 500); 30 Mar 2004 17:04:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 987 invoked by uid 500); 30 Mar 2004 17:04:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 961 invoked from network); 30 Mar 2004 17:04:30 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 30 Mar 2004 17:04:30 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <20040330170432011001oh5te>; Tue, 30 Mar 2004 17:04:32 +0000
Message-ID: <4069A856.70700@apache.org>
Date: Tue, 30 Mar 2004 09:03:18 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene optimization with one large index and numerous small indexes.
References: <4067B907.1010908@newsmonster.org> <40686E78.5060102@apache.org> <406890A0.3060702@newsmonster.org> <4068A025.5030206@apache.org> <009c01c415f5$4580db60$34fafc0a@iapetus>
In-Reply-To: <009c01c415f5$4580db60$34fafc0a@iapetus>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Esmond Pitt wrote:
> Don't want to start a buffer size war, but these have always seemed too
> small to me. I'd recommend upping both InputStream and OutputStream buffer
> sizes to at least 4k, as this is the cluster size on most disks these days,
> and also a common VM page size.

Okay.

> Reading and writing in smaller quantities
> than these is definitely suboptimal.

This is not obvious to me.  Can you provide Lucene benchmarks which show 
this?  Modern filesystems have extensive caches, perform read-ahead and 
delay writes.  Thus file-based system calls do not have a close 
correspondence to physical operations.

To my thinking, the primary role of file buffering in Lucene is to 
minimize the overhead of the system call itself, not to minimize 
physical i/o operations.  Once the overhead of the system call is made 
insignificant, larger buffers offer little measurable improvement.

Also, we cannot increase the size of these blindly.  Buffers are the 
largest source of per-query memory allocation in Lucene, with one (or 
two for phrases and spans) allocated for every query term.  Folks whose 
applications perform wildcard queries have encountered out-of-memory 
exceptions with the current buffer size.

Possibly one could implement a term wildcard mechanism which does not 
require a buffer per term, or perhaps one could allocate small buffers 
for infrequent terms (the vast majority).  If such changes were made 
then it might be feasable to bump up the buffer size somewhat.  But, 
back to my first point, one must first show that larger buffers offer 
significant performance improvements.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 17:06:15 2004
Return-Path: <lucene-user-return-7768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92466 invoked from network); 30 Mar 2004 17:06:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 17:06:15 -0000
Received: (qmail 7354 invoked by uid 500); 30 Mar 2004 17:06:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7326 invoked by uid 500); 30 Mar 2004 17:06:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7311 invoked from network); 30 Mar 2004 17:06:03 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 30 Mar 2004 17:06:03 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Tue, 30 Mar 2004 10:09:06 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Tue, 30 Mar 2004 10:05:33 -0700
Message-ID: <s069466d.010@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 30 Mar 2004 10:05:13 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: erik@ehatchersolutions.com,
	lucene-user@jakarta.apache.org
cc: JohnBrown1024@netscape.net
Subject: Re: too many files open error
MIME-Version: 1.0
X-WSS-ID: 6C7776381480820-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the information.  I downloaded 1.3-rc2 and put a IndexReader.close()
at the end of the search
routine.  This seems to have cleared up the problems.   Also, demo source code
for results.jsp to 
return a pointer to IndexReader so that it could be closed at end of search.
Ie.
          searcher = new IndexSearcher(ir =
                        IndexReader.open(indexName));     //create an
indexSearcher for our page
...
ir.close();


>>>> erik 3/27/2004 4:44:28 AM >>>
>On Mar 27, 2004, at 1:28 AM, Charlie Smith wrote:
>> What would be the URL for the JUnit stuff?
>
>Look in the src/test directory of where you checked out Lucene.  All
>JUnit tests live there and below.
>
>> BTW: I was able to build a new Index.class file, with the additional
>> line
>> iw.setUserCompoundFile(true)  after extracting the
>> lucene-1.4-rc1-dev.jar.
>>
>> Then reindexed.  Guess what - no worky.  :(
>
>Maybe you'd care to share some *technical* details to elaborate on "no
>worky"?!

Still get the "too many files open" error on invoking a modified results.jsp. 
(The one that comes with Lucene.)
The index is created with a call to the IndexWriter.class file.   The
Index.class file calls IndexWriter,
and I modified to have the setUseCompoundFile(true).  Added lines 350 and 442
as suggested.

>
>What Index.class are you talking about?  The demo application?
>
>> Can I get 1.3-RC2?  Could someone point me to the URL for this
>> download please
>> ;)
>
>Use CVS :)
>
>> I noticed following entry in mail archives:
>> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
>> msg06118.html
>>
>> along with 139 others that dealt with the "too many files open"
>> problem.
>>
>> Looks like this is a high priority problem that might justify a new
>> release in
>> and of itself?
>
>People have been using Lucene for years and managing the file handle
>issue by setting ulimit and other tricks like optimizing to reduce the
>number of segments.  So it is not as much a problem as it is a known
>issue that can be managed.
>

My ulimit is set to unlimited.
>From what I can tell, it is a stress test issue that seems to work under
1.3-rc2.  Would anyone understand the differences to know if it will work as
well under next stable release of  Lucene?


>I'm not up to speed on what the issues with 1.3 final are - I've just
>started hearing about it.  Is there a reproducible example that
>demonstrates a problem?
>
>       Erik
>

John Brown has made his source available.  Go to Google and search for
docSearcher.  He seems quite willing to help where needed.  Use the reults.jsp
routine that comes with Lucene to test, with following changes:
<snip>
<                 Analyzer analyzer = new StopAnalyzer();              
//construct our usual analyzer
---
>                 Analyzer analyzer = new StandardAnalyzer();              
//construct our usual analyzer
68,69c54,56
<                         query = QueryParser.parse(queryString, "contents",
analyzer); //parse the
<                 } catch (ParseException e) {                          //query
and construct the Query
---
>                         query = QueryParser.parse(queryString, "body",
analyzer); //parse the
>                         //query = query.rewrite(reader);
>               } catch (ParseException e) {                          //query
and construct the Query
87a75


>                 <tr><td><font size=5>Search results for </font><font size=5
color="blue"><%=queryString%></td></tr>
>                 <tr><tr>
>
108a96,97
>                 // cws: 2/25/04 added this to get format href link.
>                 RE r = new RE("/path/to/site/root/");
111d99
<                 <tr>
114,122c102,131
<                         String doctitle = doc.get("title");            //get
its title
<                         String url = doc.get("url");                   //get
its url field
<                         if ((doctitle == null) || doctitle.equals("")) //use
the url if it has no title
<                                 doctitle = url;
<                                                                        //then
output!
< %>
<                         <td><a href="<%=url%>"><%=doctitle%></a></td>
<                         <td><%=doc.get("summary")%></td>
<                 </tr>
---
>                         String path = doc.get("path");
>                         String type = doc.get("type");
>                         String title = doc.get("title");
>
>                         // cws: 2/25/04 added this to get format href link.
>                         String path_part =  r.subst(path, "/");
>
>                         String summary = doc.get("summary");
>                         String size = doc.get("size");
>                         String date = doc.get("mod_date");
>
>                         // date formating
>                       java.util.Date bd=DateField.stringToDate(date);
>                       Calendar nowD=Calendar.getInstance();
>                       nowD.setTime(bd);
>                       int mon=nowD.get(nowD.MONTH)+1;
>                       int year=nowD.get(nowD.YEAR);
>                       int day=nowD.get(nowD.DAY_OF_MONTH);
>                       date = mon+"/"+day+"/"+year;
>
>                         // size formating
>                       float floatSize= (Float.parseFloat(size)/1000);
>
>                       // print output
>                       %>
>                         <tr><td><a
href="<%=path_part%>"><%=title%></a></td></tr>
>                         <tr><td><%=summary%></td></tr>
>                         <tr><td><I><font color="green" size="2"><%=date%>
<%=floatSize%> K bytes</font></I></td></tr>
>                         <tr><td><font color="gray" size="2"><%=path%>
&nbsp;<%=path_part%> &nbsp;<%=title%></font></td></tr>

</snip>


>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 17:31:53 2004
Return-Path: <lucene-user-return-7769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10731 invoked from network); 30 Mar 2004 17:31:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 17:31:53 -0000
Received: (qmail 64261 invoked by uid 500); 30 Mar 2004 17:31:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64200 invoked by uid 500); 30 Mar 2004 17:31:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64122 invoked from network); 30 Mar 2004 17:31:31 -0000
Received: from unknown (HELO mail.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 30 Mar 2004 17:31:31 -0000
Received: from 192.168.8.246 by mail.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Tue, 30 Mar 2004 10:34:49 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Tue, 30 Mar 2004 10:31:15 -0700
Message-ID: <s0694c73.098@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 30 Mar 2004 10:30:44 -0700
From: "Charlie Smith" <SmithCW@ldschurch.org>
To: cutting@apache.org,
	lucene-user@jakarta.apache.org
Subject: Re: Lucene 1.4 - lobby for final release
MIME-Version: 1.0
X-WSS-ID: 6C7770331483000-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Your opinion of course on the issued of "too many files open" not being a bug.
I found it to be otherwise.  

Thanks for the info on popular elections.   

Being a newbie to this list, I am finding that most others on the list a bit
more pleasant.  

But then, you not up for a popular election, are you?  Appreciate all you do to
keep
us from shooting ourselves in the foot.

Thankyou. :(


>>> cutting 3/29/2004 11:27:58 AM >>>
Charlie Smith wrote:
> I'll vote yes  please release new version with "too many files open" fixed.

There is no "too many files open bug", except perhaps in your 
application.  It is however an easy to encounter problem if you don't 
close indexes or if you change Lucene's default parameters.  It will be 
considerably harder to make happen in 1.4, to keep so many people from 
shooting themselves in the foot.

Also, releases are not made by popular election.  They are made by 
volunteer developer when deemeed appropriate.  If you'd like to get more 
involved in Lucene's development, please contribute constructive efforts 
to the lucene-dev mailing list.

> Maybe default the setUserCompoundFile(true) to true on this go around.

This was discussed at lenght on the developer mailing list a while back. 
  The change has been made and will be present in 1.4.

> Otherwise, how can I get 1.3-RC2?  I can't seem to locate it.

The second hit for a Google search on "lucene 1.3RC2" reveals:

   http://www.apachenews.org/archives/000134.html 

These search engines sure are amazing, aren't they!

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 19:28:08 2004
Return-Path: <lucene-user-return-7770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74910 invoked from network); 30 Mar 2004 19:28:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 19:28:08 -0000
Received: (qmail 42363 invoked by uid 500); 30 Mar 2004 19:27:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42337 invoked by uid 500); 30 Mar 2004 19:27:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42321 invoked from network); 30 Mar 2004 19:27:53 -0000
Received: from unknown (HELO RCEXO1P.icc) (67.112.197.235)
  by daedalus.apache.org with SMTP; 30 Mar 2004 19:27:53 -0000
Received: by rcexo1p.icc with Internet Mail Service (5.5.2657.72)
	id <HT1Q0FG0>; Tue, 30 Mar 2004 11:28:03 -0800
Message-ID: <BC4171CC054AEE4F806A41E0D2815D2701E6074F@rcexp1p.0.4.10.in-addr.arpa>
From: Ching-Pei Hsing <cphsing@comergent.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: The Filter got called more than one time
Date: Tue, 30 Mar 2004 11:28:07 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

We implemented a Filter that performs filtering based on some internal
pricing logic. While testing we discovered that this filter got called
several times, not like the FAQ says, exactly one time. And the number of
calls made was based on how big the result set was. I printed out the
calling stack and discovered that Hits.doc(n) also calls
IndexSearcher.search(Query, Filter) when there're more docs needed. I can
understand the lazy retrieve for optimization, but it seems wrong to me to
just call the search function again and again. At least the filter should
not be invoked over and over again.

Logic in our filter is a little bit heavier than usual already. We
definitely want to reduce the number of calls to it. Is there any way we can
work around this?

Call to Searcher.search()
at
com.comergent.reference.appservices.productService.search.query.PricingFilte
r.bits(PricingFilter.java:244)
at
com.comergent.api.appservices.search.query.CmgtFilter.bits(CmgtFilter.java:1
08)
at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
at org.apache.lucene.search.Hits.<init>(Hits.java:80)
at org.apache.lucene.search.Searcher.search(Searcher.java:71)

Call to Hits.doc()
at
com.comergent.reference.appservices.productService.search.query.PricingFilte
r.bits(PricingFilter.java:244)
at
com.comergent.api.appservices.search.query.CmgtFilter.bits(CmgtFilter.java:1
08)
at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
at org.apache.lucene.search.Hits.hitDoc(Hits.java:153)
at org.apache.lucene.search.Hits.doc(Hits.java:118)

Thanks

Ching-pei

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 20:05:39 2004
Return-Path: <lucene-user-return-7771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96073 invoked from network); 30 Mar 2004 20:05:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 20:05:38 -0000
Received: (qmail 25085 invoked by uid 500); 30 Mar 2004 20:05:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24748 invoked by uid 500); 30 Mar 2004 20:05:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24734 invoked from network); 30 Mar 2004 20:05:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 30 Mar 2004 20:05:23 -0000
Received: (cpmta 22050 invoked from network); 30 Mar 2004 12:05:27 -0800
Received: from 128.143.104.170 (HELO ?128.143.104.170?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 30 Mar 2004 12:05:27 -0800
X-Sent: 30 Mar 2004 20:05:27 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <BC4171CC054AEE4F806A41E0D2815D2701E6074F@rcexp1p.0.4.10.in-addr.arpa>
References: <BC4171CC054AEE4F806A41E0D2815D2701E6074F@rcexp1p.0.4.10.in-addr.arpa>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <969DACBE-8285-11D8-8BEF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: The Filter got called more than one time
Date: Tue, 30 Mar 2004 15:05:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use a caching mechanism for your filter, so the bitset is not  
regenerated.  CachingWrappingFilter is your friend :)

	Erik


On Mar 30, 2004, at 2:28 PM, Ching-Pei Hsing wrote:

> Hi,
>
> We implemented a Filter that performs filtering based on some internal
> pricing logic. While testing we discovered that this filter got called
> several times, not like the FAQ says, exactly one time. And the number  
> of
> calls made was based on how big the result set was. I printed out the
> calling stack and discovered that Hits.doc(n) also calls
> IndexSearcher.search(Query, Filter) when there're more docs needed. I  
> can
> understand the lazy retrieve for optimization, but it seems wrong to  
> me to
> just call the search function again and again. At least the filter  
> should
> not be invoked over and over again.
>
> Logic in our filter is a little bit heavier than usual already. We
> definitely want to reduce the number of calls to it. Is there any way  
> we can
> work around this?
>
> Call to Searcher.search()
> at
> com.comergent.reference.appservices.productService.search.query.Pricing 
> Filte
> r.bits(PricingFilter.java:244)
> at
> com.comergent.api.appservices.search.query.CmgtFilter.bits(CmgtFilter.j 
> ava:1
> 08)
> at  
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
> at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
> at org.apache.lucene.search.Hits.<init>(Hits.java:80)
> at org.apache.lucene.search.Searcher.search(Searcher.java:71)
>
> Call to Hits.doc()
> at
> com.comergent.reference.appservices.productService.search.query.Pricing 
> Filte
> r.bits(PricingFilter.java:244)
> at
> com.comergent.api.appservices.search.query.CmgtFilter.bits(CmgtFilter.j 
> ava:1
> 08)
> at  
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
> at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
> at org.apache.lucene.search.Hits.hitDoc(Hits.java:153)
> at org.apache.lucene.search.Hits.doc(Hits.java:118)
>
> Thanks
>
> Ching-pei
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 23:00:15 2004
Return-Path: <lucene-user-return-7772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94702 invoked from network); 30 Mar 2004 23:00:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 23:00:15 -0000
Received: (qmail 11602 invoked by uid 500); 30 Mar 2004 22:59:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11559 invoked by uid 500); 30 Mar 2004 22:59:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11512 invoked from network); 30 Mar 2004 22:59:33 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 30 Mar 2004 22:59:33 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2UMxXtG016797
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 14:59:40 -0800
Message-ID: <4069FBCF.2080302@newsmonster.org>
Date: Tue, 30 Mar 2004 14:59:27 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: [patch] MultiSearcher should support getSearchables()
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigD49314E6E629AE4A200AC7E1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigD49314E6E629AE4A200AC7E1
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Seems to only make sense to allow a caller to find the searchables a 
MultiSearcher was created with:

 > 'diff' -uN MultiSearcher.java.bak MultiSearcher.java
--- MultiSearcher.java.bak      2004-03-30 14:57:41.660109642 -0800
+++ MultiSearcher.java  2004-03-30 14:57:46.530330183 -0800
@@ -208,4 +208,8 @@
     return searchables[i].explain(query,doc-starts[i]); // dispatch to 
searcher
   }
 
+  public Searchable[] getSearchables() {
+    return searchables;
+  }
+
 }

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster	


--------------enigD49314E6E629AE4A200AC7E1
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAafvR6E2NBJnxRBIRAn4wAKDJPCbUIQUr0yWkgKUDJv4gY3JYsACgnMQY
cyu/avyavVBXSXsEzTNDl14=
=jTjI
-----END PGP SIGNATURE-----

--------------enigD49314E6E629AE4A200AC7E1--

From lucene-user-return-7773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 30 23:24:32 2004
Return-Path: <lucene-user-return-7773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7909 invoked from network); 30 Mar 2004 23:24:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Mar 2004 23:24:32 -0000
Received: (qmail 71728 invoked by uid 500); 30 Mar 2004 23:24:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71710 invoked by uid 500); 30 Mar 2004 23:24:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71697 invoked from network); 30 Mar 2004 23:24:11 -0000
Received: from unknown (HELO out014.verizon.net) (206.46.170.46)
  by daedalus.apache.org with SMTP; 30 Mar 2004 23:24:11 -0000
Received: from s0023819896 ([129.44.14.241]) by out014.verizon.net
          (InterMail vM.5.01.06.06 201-253-122-130-106-20030910) with ESMTP
          id <20040330232418.DZIT5247.out014.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Tue, 30 Mar 2004 17:24:18 -0600
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: <lucene-user@jakarta.apache.org>
Subject: Near performance question
Date: Tue, 30 Mar 2004 18:24:06 -0500
Message-ID: <000801c416ae$1bc93bf0$6401a8c0@s0023819896>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Authentication-Info: Submitted using SMTP AUTH at out014.verizon.net from [129.44.14.241] at Tue, 30 Mar 2004 17:24:09 -0600
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Based on the nature of our documents, we sometimes 
experience extremely long response times when executing
NEAR operations against a document (sometimes well over 
minutes - even though the operation is restricted
to a single document).

Our analysis of the code indicates (we think):

It looks up each of the terms in the word.dbx file. 

It intersects the occurrence lists. (So far so good!) 

It takes each gid found in the occurrence list and: 
finds its parent right up until the root of the document (in dom.dbx).
 
Traverses the tree depth-first until it finds the node text of interest. 

Does the expected scan to find out 
if the term distance requirement is satisfied. 

We did some timings on our document (Rusticus). 
It started off taking < 1 second per occ and grew to 25 seconds. 

If we changed the dom.dbx buffers, we got significant 
improvement, but still relatively slow (343 occs). 

QUESTION:
Seems to us the occs are ordered by gid 
(and we don't do any updating).  Is there 
a simple way to make use of the positioning 
information of the tree levels for the prior 
occurrence on the current occurrence so that 
we don't have to start again from the 
document root? 

Thanks,

Joe Paulsen



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 00:57:06 2004
Return-Path: <lucene-user-return-7774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47812 invoked from network); 31 Mar 2004 00:57:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 00:57:05 -0000
Received: (qmail 16035 invoked by uid 500); 31 Mar 2004 00:56:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16005 invoked by uid 500); 31 Mar 2004 00:56:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15991 invoked from network); 31 Mar 2004 00:56:44 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 31 Mar 2004 00:56:44 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2V0umtG016970
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 16:56:54 -0800
Message-ID: <406A174D.30803@newsmonster.org>
Date: Tue, 30 Mar 2004 16:56:45 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Performance of hit highlighting and finding term positions for a
 specific document
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigCF610E24F7CB9A974EF246C6"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigCF610E24F7CB9A974EF246C6
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I'm playing with this package:

http://home.clara.net/markharwood/lucene/highlight.htm

Trying to do hit highlighting.  This implementation uses another 
Analyzer to find the positions for the result terms. 

This seems that it's very inefficient since lucene already knows the 
frequency and position of given terms in the index.

My question is whether it's hard to find a TermPosition for a given term 
in a given document rather than the whole index.

IndexReader.termPositions( Term term ) is term specific not term and 
document specific.

Also it seems that after all this time that Lucene should have efficient 
hit highlighting as a standard package.  Is there any interest in seeing 
a contribution in the sandbox for this if it uses the index positions?

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigCF610E24F7CB9A974EF246C6
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAahdN6E2NBJnxRBIRAsSvAKDR12BU3B3eK/xvbnkLqXc7hHNjfwCfVLuA
+ETmTDO0HVtFws3LDYlJiP0=
=cQ9I
-----END PGP SIGNATURE-----

--------------enigCF610E24F7CB9A974EF246C6--

From lucene-user-return-7775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 01:01:27 2004
Return-Path: <lucene-user-return-7775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49412 invoked from network); 31 Mar 2004 01:01:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 01:01:27 -0000
Received: (qmail 26467 invoked by uid 500); 31 Mar 2004 01:01:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26446 invoked by uid 500); 31 Mar 2004 01:01:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26430 invoked from network); 31 Mar 2004 01:01:05 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 31 Mar 2004 01:01:05 -0000
Received: (cpmta 2104 invoked from network); 30 Mar 2004 17:01:13 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 30 Mar 2004 17:01:13 -0800
X-Sent: 31 Mar 2004 01:01:13 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <4069FBCF.2080302@newsmonster.org>
References: <4069FBCF.2080302@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E8ED0CA1-82AE-11D8-8BEF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [patch] MultiSearcher should support getSearchables()
Date: Tue, 30 Mar 2004 20:01:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 30, 2004, at 5:59 PM, Kevin A. Burton wrote:
> Seems to only make sense to allow a caller to find the searchables a 
> MultiSearcher was created with:

Could you elaborate on why it makes sense?  What if the caller changed 
a Searchable in the array?  Would anything bad happen?  (I don't know, 
haven't looked at the code).



>
> > 'diff' -uN MultiSearcher.java.bak MultiSearcher.java
> --- MultiSearcher.java.bak      2004-03-30 14:57:41.660109642 -0800
> +++ MultiSearcher.java  2004-03-30 14:57:46.530330183 -0800
> @@ -208,4 +208,8 @@
>     return searchables[i].explain(query,doc-starts[i]); // dispatch to 
> searcher
>   }
> +  public Searchable[] getSearchables() {
> +    return searchables;
> +  }
> +
> }
>
> -- 
>
> Please reply using PGP.
>
>    http://peerfear.org/pubkey.asc          NewsMonster - 
> http://www.newsmonster.org/
>    Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster	
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 01:03:47 2004
Return-Path: <lucene-user-return-7776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50080 invoked from network); 31 Mar 2004 01:03:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 01:03:47 -0000
Received: (qmail 29456 invoked by uid 500); 31 Mar 2004 01:03:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29281 invoked by uid 500); 31 Mar 2004 01:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29262 invoked from network); 31 Mar 2004 01:03:25 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 31 Mar 2004 01:03:25 -0000
Received: (cpmta 12837 invoked from network); 30 Mar 2004 17:03:32 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 30 Mar 2004 17:03:32 -0800
X-Sent: 31 Mar 2004 01:03:32 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <406A174D.30803@newsmonster.org>
References: <406A174D.30803@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3BCEBC9A-82AF-11D8-8BEF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Performance of hit highlighting and finding term positions for a specific document
Date: Tue, 30 Mar 2004 20:03:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 30, 2004, at 7:56 PM, Kevin A. Burton wrote:
> Trying to do hit highlighting.  This implementation uses another 
> Analyzer to find the positions for the result terms.
> This seems that it's very inefficient since lucene already knows the 
> frequency and position of given terms in the index.

What if the original analyzer removed stopped words, stemmed, and 
injected synonyms?

> Also it seems that after all this time that Lucene should have 
> efficient hit highlighting as a standard package.  Is there any 
> interest in seeing a contribution in the sandbox for this if it uses 
> the index positions?

Big +1, regardless of the implementation details.  Hit hilighting is so 
commonly requested that having it available at least in the sandbox, or 
perhaps even in the core, makes a lot of sense.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 01:19:11 2004
Return-Path: <lucene-user-return-7777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55820 invoked from network); 31 Mar 2004 01:19:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 01:19:11 -0000
Received: (qmail 46866 invoked by uid 500); 31 Mar 2004 01:18:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46641 invoked by uid 500); 31 Mar 2004 01:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46623 invoked from network); 31 Mar 2004 01:18:49 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 31 Mar 2004 01:18:49 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i2V1IviI017829
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 20:18:57 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i2V1IuM9017825
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 20:18:57 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 30 Mar 2004 20:18:56 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
 a specific document
In-Reply-To: <406A174D.30803@newsmonster.org>
Message-ID: <Pine.LNX.4.44.0403302010080.14656-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree with you that a highlight package should be available directly 
from the lucene website. To offer this much-desired feature, having a 
dependency on a personal web site seems a little weird to me. It would 
also force the community to support this functionality, which would seem 
appropriate.

cheers,
sv

On Tue, 30 Mar 2004, Kevin A. Burton wrote:

> I'm playing with this package:
> 
> http://home.clara.net/markharwood/lucene/highlight.htm
> 
> Trying to do hit highlighting.  This implementation uses another 
> Analyzer to find the positions for the result terms. 
> 
> This seems that it's very inefficient since lucene already knows the 
> frequency and position of given terms in the index.
> 
> My question is whether it's hard to find a TermPosition for a given term 
> in a given document rather than the whole index.
> 
> IndexReader.termPositions( Term term ) is term specific not term and 
> document specific.
> 
> Also it seems that after all this time that Lucene should have efficient 
> hit highlighting as a standard package.  Is there any interest in seeing 
> a contribution in the sandbox for this if it uses the index positions?
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 01:50:30 2004
Return-Path: <lucene-user-return-7778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66696 invoked from network); 31 Mar 2004 01:50:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 01:50:30 -0000
Received: (qmail 82627 invoked by uid 500); 31 Mar 2004 01:50:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82604 invoked by uid 500); 31 Mar 2004 01:50:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82588 invoked from network); 31 Mar 2004 01:50:08 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 31 Mar 2004 01:50:08 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2V1oDtG017051
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 17:50:13 -0800
Message-ID: <406A23CF.3000808@newsmonster.org>
Date: Tue, 30 Mar 2004 17:50:07 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
 a specific document
References: <406A174D.30803@newsmonster.org> <3BCEBC9A-82AF-11D8-8BEF-000393A564E6@ehatchersolutions.com>
In-Reply-To: <3BCEBC9A-82AF-11D8-8BEF-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigFB9E34314791DD921CA0C85F"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigFB9E34314791DD921CA0C85F
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> On Mar 30, 2004, at 7:56 PM, Kevin A. Burton wrote:
>
>> Trying to do hit highlighting.  This implementation uses another 
>> Analyzer to find the positions for the result terms.
>> This seems that it's very inefficient since lucene already knows the 
>> frequency and position of given terms in the index.
>
>
> What if the original analyzer removed stopped words, stemmed, and 
> injected synonyms?

Just use the same analyzer :)... I agree it's not the best approach for 
this reason and the CPU reason.

>> Also it seems that after all this time that Lucene should have 
>> efficient hit highlighting as a standard package.  Is there any 
>> interest in seeing a contribution in the sandbox for this if it uses 
>> the index positions?
>
>
> Big +1, regardless of the implementation details.  Hit hilighting is 
> so commonly requested that having it available at least in the 
> sandbox, or perhaps even in the core, makes a lot of sense. 

Well if we could make it efficient by using the frequency and positions 
of terms we're all set :)... I just need to figure out how to do this 
efficiently per document.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigFB9E34314791DD921CA0C85F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaiPR6E2NBJnxRBIRAtkRAKCGu/bQMMu/xkAn7x+2z4IACmSzCQCgrqO9
lW4yU2M1otN96lMZisyM+p0=
=XYzl
-----END PGP SIGNATURE-----

--------------enigFB9E34314791DD921CA0C85F--

From lucene-user-return-7779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 01:53:00 2004
Return-Path: <lucene-user-return-7779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67659 invoked from network); 31 Mar 2004 01:53:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 01:53:00 -0000
Received: (qmail 85581 invoked by uid 500); 31 Mar 2004 01:52:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85337 invoked by uid 500); 31 Mar 2004 01:52:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85320 invoked from network); 31 Mar 2004 01:52:38 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 31 Mar 2004 01:52:38 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i2V1qmtG017054
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 17:52:49 -0800
Message-ID: <406A246D.7090106@newsmonster.org>
Date: Tue, 30 Mar 2004 17:52:45 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: [patch] MultiSearcher should support getSearchables()
References: <4069FBCF.2080302@newsmonster.org> <E8ED0CA1-82AE-11D8-8BEF-000393A564E6@ehatchersolutions.com>
In-Reply-To: <E8ED0CA1-82AE-11D8-8BEF-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig2B15FFD06FFB9DF36298A9CD"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig2B15FFD06FFB9DF36298A9CD
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

> On Mar 30, 2004, at 5:59 PM, Kevin A. Burton wrote:
>
>> Seems to only make sense to allow a caller to find the searchables a 
>> MultiSearcher was created with:
>
>
> Could you elaborate on why it makes sense?  What if the caller changed 
> a Searchable in the array?  Would anything bad happen?  (I don't know, 
> haven't looked at the code).

Yes... something bad could happen... but that would be amazingly stupid 
... we should probably recommend that it be readonly.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig2B15FFD06FFB9DF36298A9CD
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAaiRt6E2NBJnxRBIRAnX7AKDDWpCeqh6JCDqWme0+N8bb3XP1FQCeKKZd
ZS3+Ppu/DN6sHqb7iXvktBU=
=bld9
-----END PGP SIGNATURE-----

--------------enig2B15FFD06FFB9DF36298A9CD--

From lucene-user-return-7780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 02:37:16 2004
Return-Path: <lucene-user-return-7780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94356 invoked from network); 31 Mar 2004 02:37:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 02:37:16 -0000
Received: (qmail 43998 invoked by uid 500); 31 Mar 2004 02:36:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43763 invoked by uid 500); 31 Mar 2004 02:36:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43747 invoked from network); 31 Mar 2004 02:36:52 -0000
Received: from unknown (HELO jive.servlets.net) (209.162.192.250)
  by daedalus.apache.org with SMTP; 31 Mar 2004 02:36:52 -0000
Received: from jivesoftware.com (CPE00045ade8fc4-CM024370005574.cpe.net.cable.rogers.com [65.50.38.86])
	(authenticated bits=0)
	by jive.servlets.net (8.12.8/8.12.8) with ESMTP id i2V2auId015873
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Mar 2004 18:36:58 -0800
Message-ID: <406A2EC6.2050400@jivesoftware.com>
Date: Tue, 30 Mar 2004 21:36:54 -0500
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
 a specific document
References: <406A174D.30803@newsmonster.org>
In-Reply-To: <406A174D.30803@newsmonster.org>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms020207010005050309060105"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------ms020207010005050309060105
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Kevin A. Burton wrote:

> I'm playing with this package:
> 
> http://home.clara.net/markharwood/lucene/highlight.htm
> 
> Trying to do hit highlighting.  This implementation uses another 
> Analyzer to find the positions for the result terms.
> This seems that it's very inefficient since lucene already knows the 
> frequency and position of given terms in the index.
> 
> My question is whether it's hard to find a TermPosition for a given term 
> in a given document rather than the whole index.
> 
> IndexReader.termPositions( Term term ) is term specific not term and 
> document specific.

As far as I know it's not currently possible to get this information from a standard lucene index.

> Also it seems that after all this time that Lucene should have efficient 
> hit highlighting as a standard package.  Is there any interest in seeing 
> a contribution in the sandbox for this if it uses the index positions?

I've been meaning to look into good ways to store token offset information to allow for very 
efficient highlighting and I believe Mark may also be looking into improving the highlighter via 
other means such as temporary ram indexes. Search the archives to get a background on some of the 
idea's we've tossed around ('Dmitry's Term Vector stuff, plus some' and 'Demoting results' come to 
mind as threads that touch this topic).


Regards,

Bruce Ritchie
http://www.jivesoftware.com/

--------------ms020207010005050309060105
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIII/TCC
AtkwggJCoAMCAQICAwrLgDANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UE
ChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNv
bmFsIEZyZWVtYWlsIElzc3VpbmcgQ0EwHhcNMDMwOTIzMTkzNjM3WhcNMDQwOTIyMTkzNjM3
WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSUwIwYJKoZIhvcNAQkBFhZi
cnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
ozJPHo8aUH2MrrLnFrmybY38uC8nlm26vBAPgGhSMthJlA0ShY9zAs4qGPyX1fIcANCKw0yP
QDESRRySYPcRYMBnwaeqtIwldTb1GTA6DAvZ/jpkM16DbAId17O86+4NeV7WoR+IguiyEUJq
IqecxdGiJsLi8xNM0rPan91sWTA+30kPvW12IU6MIa4XInPUazLqzZmA3CHoQJ2qorYCUx1c
P3VW2fbWMjpfis67MalWcFuBtThFuq5qsZMBEkFekoKPu2cpmjlKddrGj9+54U1CWBVQMl+9
HSB1/qhl1La8BYRhaZ5UG3c0za9yultXL9k1GxfZYVqDy2iMI5+ejQIDAQABozMwMTAhBgNV
HREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcN
AQEEBQADgYEAEwi3SlYetSCzK5DLkClPMgTOM+P0qrIAFt+ar8uMZwr3xqFOxZlt6/qMHoXA
aOEWhZkHJ2dq8ebxjSdGXQF6/jKB42CEmYXmP6umb/2DBE6bVTy9aksnMnKeSyuqP1HWwlCf
5+Vk811biLueAupunISEh7P0bQXUgVtVVbOtAfIwggLZMIICQqADAgECAgMKy4AwDQYJKoZI
hvcNAQEEBQAwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQ
dHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENB
MB4XDTAzMDkyMzE5MzYzN1oXDTA0MDkyMjE5MzYzN1owSDEfMB0GA1UEAxMWVGhhd3RlIEZy
ZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTCC
ASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMyTx6PGlB9jK6y5xa5sm2N/LgvJ5Zt
urwQD4BoUjLYSZQNEoWPcwLOKhj8l9XyHADQisNMj0AxEkUckmD3EWDAZ8GnqrSMJXU29Rkw
OgwL2f46ZDNeg2wCHdezvOvuDXle1qEfiILoshFCaiKnnMXRoibC4vMTTNKz2p/dbFkwPt9J
D71tdiFOjCGuFyJz1Gsy6s2ZgNwh6ECdqqK2AlMdXD91Vtn21jI6X4rOuzGpVnBbgbU4Rbqu
arGTARJBXpKCj7tnKZo5SnXaxo/fueFNQlgVUDJfvR0gdf6oZdS2vAWEYWmeVBt3NM2vcrpb
Vy/ZNRsX2WFag8tojCOfno0CAwEAAaMzMDEwIQYDVR0RBBowGIEWYnJ1Y2VAaml2ZXNvZnR3
YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUAA4GBABMIt0pWHrUgsyuQy5Ap
TzIEzjPj9KqyABbfmq/LjGcK98ahTsWZbev6jB6FwGjhFoWZBydnavHm8Y0nRl0Bev4ygeNg
hJmF5j+rpm/9gwROm1U8vWpLJzJynksrqj9R1sJQn+flZPNdW4i7ngLqbpyEhIez9G0F1IFb
VVWzrQHyMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0BAQUFADCB0TELMAkGA1UEBhMCWkEx
FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFU
aGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZp
c2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcN
AQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAwMDAwMFoXDTEz
MDcxNjIzNTk1OVowYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5n
IChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5n
IENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/
ox7svc31W/Iadr1/DDph8r9RzgHU5VAKMNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2
JCoTzyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wID
AQABo4GUMIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDov
L2NybC50aGF3dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJlZW1haWxDQS5jcmwwCwYDVR0PBAQD
AgEGMCkGA1UdEQQiMCCkHjAcMRowGAYDVQQDExFQcml2YXRlTGFiZWwyLTEzODANBgkqhkiG
9w0BAQUFAAOBgQBIjNFQg+oLLswNo2asZw9/r6y+whehQ5aUnX9MIbj4Nh+qLZ82L8D0HFAg
k3A8/a3hYWLD2ToZfoSxmRsAxRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowgT2Vfldr394fWxghO
rvbqNOUQGls1TXfjViF4gtwhGTXeJLHTHUb/XV9lTzGCAzswggM3AgEBMGkwYjELMAkGA1UE
BhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMT
I1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwCQYFKw4DAhoFAKCC
AacwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDQwMzMxMDIz
NjU0WjAjBgkqhkiG9w0BCQQxFgQUe5A2KgjtYqaPg9kH3GXPqT4AXn0wUgYJKoZIhvcNAQkP
MUUwQzAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4D
AgcwDQYIKoZIhvcNAwICASgweAYJKwYBBAGCNxAEMWswaTBiMQswCQYDVQQGEwJaQTElMCMG
A1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBl
cnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwrLgDB6BgsqhkiG9w0BCRACCzFroGkwYjEL
MAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAq
BgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwDQYJKoZI
hvcNAQEBBQAEggEAWkv7eg3veFovBDlBcd6Q/2scUcjLVWEspqPa8wD3zRHXoIvX82dQZI1f
ImOp7SMzfnbhYI2OioqABVgkte/xGc9j5k6ajDiz7a1XgbEcak6wbzJfv0XIfod68/+tpYbH
3ukh0WnrbsZ0I0GL3BNKpEPNa4ZC2R3N27w+RsDPdITqwdPRpaN2V1VKM+Oxam9g0QGHqU3Q
Ih5H5oYXJ7g8FbM0XDjGpWKn373mMWMnZJPS9yxeKTSqVRaxzblwrzuOGnnsPozYjvkNov6+
Z25XWJf0QHJc5mgqpdsontQ/p6l6cRWXS3pNM8Jfa6EZmh/6SFGAeKOJL9wV4g6wUzvzywAA
AAAAAA==
--------------ms020207010005050309060105--

From lucene-user-return-7781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 02:40:46 2004
Return-Path: <lucene-user-return-7781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95879 invoked from network); 31 Mar 2004 02:40:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 02:40:46 -0000
Received: (qmail 48416 invoked by uid 500); 31 Mar 2004 02:40:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48396 invoked by uid 500); 31 Mar 2004 02:40:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48383 invoked from network); 31 Mar 2004 02:40:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 31 Mar 2004 02:40:23 -0000
Received: (cpmta 24898 invoked from network); 30 Mar 2004 18:40:31 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 30 Mar 2004 18:40:31 -0800
X-Sent: 31 Mar 2004 02:40:31 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <406A246D.7090106@newsmonster.org>
References: <4069FBCF.2080302@newsmonster.org> <E8ED0CA1-82AE-11D8-8BEF-000393A564E6@ehatchersolutions.com> <406A246D.7090106@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C24DE6D0-82BC-11D8-A050-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [patch] MultiSearcher should support getSearchables()
Date: Tue, 30 Mar 2004 21:40:23 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 30, 2004, at 8:52 PM, Kevin A. Burton wrote:
> Erik Hatcher wrote:
>
>> On Mar 30, 2004, at 5:59 PM, Kevin A. Burton wrote:
>>
>>> Seems to only make sense to allow a caller to find the searchables a 
>>> MultiSearcher was created with:
>>
>>
>> Could you elaborate on why it makes sense?  What if the caller 
>> changed a Searchable in the array?  Would anything bad happen?  (I 
>> don't know, haven't looked at the code).
>
> Yes... something bad could happen... but that would be amazingly 
> stupid ... we should probably recommend that it be readonly.

No question that it'd be unwise to do.  We could say the same argument 
for making everything public access as well and say it'd be stupid to 
override this method, but we made it public anyway.  I'd rather opt on 
the side of safety.

Besides, you haven't provided a use case for why you need to get the 
searchers back from a MultiSearcher :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 12:40:15 2004
Return-Path: <lucene-user-return-7782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20280 invoked from network); 31 Mar 2004 12:40:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 12:40:15 -0000
Received: (qmail 83910 invoked by uid 500); 31 Mar 2004 12:40:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83879 invoked by uid 500); 31 Mar 2004 12:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83852 invoked from network); 31 Mar 2004 12:40:07 -0000
Received: from unknown (HELO mwinf0604.wanadoo.fr) (193.252.22.25)
  by daedalus.apache.org with SMTP; 31 Mar 2004 12:40:07 -0000
Received: from diderot (ABordeaux-202-2-1-73.w80-11.abo.wanadoo.fr [80.11.9.73])
	by mwinf0604.wanadoo.fr (SMTP Server) with ESMTP id C494728001B9
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 14:40:05 +0200 (CEST)
From: "Rasik Pandey" <rasik.pandey@ajlsm.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Performance of hit highlighting and finding term positions for a specific document
Date: Wed, 31 Mar 2004 14:39:46 +0200
Message-ID: <002501c4171d$43802ae0$ac7ba8c0@diderot>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <406A2EC6.2050400@jivesoftware.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

> I've been meaning to look into good ways to store token offset
> information to allow for very
> efficient highlighting and I believe Mark may also be looking
> into improving the highlighter via
> other means such as temporary ram indexes. Search the archives
> to get a background on some of the
> idea's we've tossed around ('Dmitry's Term Vector stuff, plus
> some' and 'Demoting results' come to
> mind as threads that touch this topic).

I would be nice if CachingRewrittenQueryWrapper.java that I sent to =
lucene-dev (see below) last week became part of these highlighting =
effors, if appropriate. We use it to collect terms for a query that =
searches of multiple indices.

Regards,
RBP





> -----Message d'origine-----
> De : Rasik Pandey [mailto:rasik.pandey@ajlsm.com]
> Envoy=C3=A9 : mercredi 17 mars 2004 13:36
> =C3=80 : 'Lucene Developers List'; korfut@lycos.com
> Objet : RE : Query Term Collector (was: Re: New highlighter
> package available)
>=20
> Hello All,
>=20
> I don't know how this Thread/issue was resolved, but if you are
> still interested I have a simple way of doing this term
> collection ONLY at query time. I've tested it and it works with
> highlighting, etc. without the extra rewrite() call on the
> index.
>=20
> Comments are welcome!
>=20
>=20
> package org.apache.lucene.search;
>=20
> import org.apache.lucene.search.Weight;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.Similarity;
> import org.apache.lucene.index.IndexReader;
>=20
> import java.io.IOException;
>=20
> /*Rasik Pandey rasik.pandey@ajlsm.com*/
> /**Simple wrapper for a Lucene query that
>  * collects all queries generated by calling
>  * rewrite on the original Lucene query and stores
>  * them in a BooleanQuery.
>  *
>  * A Searcher will call the rewrite() method
>  * for each index and hence generate a query
>  * containing terms for the respective index. This
>  * class collects these queries so that they may be
>  * used for highlighting, query expansion, etc. by
>  * retrieving the underlying terms.
>  *
>  * @see #rewrite
>  * @see #getRewrittenQueries
>  * @see #resetRewrittenQueries
>  * @see #getOriginalQuery
>  */
> public class CachingRewrittenQueryWrapper extends Query{
>     protected org.apache.lucene.search.Query originalQuery =3D
> null;
>     protected BooleanQuery rewrittenQueries =3D new
> BooleanQuery();
>=20
>     public CachingRewrittenQueryWrapper(Query originalQuery) {
>         this.originalQuery =3D originalQuery;
>     }
>=20
>     public BooleanQuery getRewrittenQueries() {
>         return this.rewrittenQueries;
>     }
>=20
>     public void resetRewrittenQueries() {
>         BooleanQuery newCachedQuery =3D new BooleanQuery();
>=20
> newCachedQuery.setMaxClauseCount(this.rewrittenQueries.getMaxCl
> auseCount());
>         this.rewrittenQueries =3D newCachedQuery;
>     }
>=20
>     public Query getOriginalQuery() {
>         return this.originalQuery;
>     }
>=20
>     public void setBoost(float b) {
>         this.originalQuery.setBoost(b);
>     }
>=20
>     public float getBoost() {
>         return this.originalQuery.getBoost();
>     }
>=20
>=20
>     protected Weight createWeight(Searcher searcher) {
>         return this.originalQuery.createWeight(searcher);
>     }
>=20
>     public Query rewrite(IndexReader reader) throws IOException
> {
>         Query rewrittenQuery =3D
> this.originalQuery.rewrite(reader);
>         this.rewrittenQueries.add(rewrittenQuery, false,
> false);
>         return rewrittenQuery;
>     }
>=20
>     public Query combine(Query[] queries) {
>         return this.originalQuery.combine(queries);
>     }
>=20
>     public Similarity getSimilarity(Searcher searcher) {
>         return this.originalQuery.getSimilarity(searcher);
>     }
>=20
>     protected void finalize() throws Throwable {
>         super.finalize();
>         //TODO maybe something here to ensure that all
> resources held by rewrittenQueries are cleaned up properly
>     }
>=20
>     public String toString() {
>         return this.originalQuery.toString();
>     }
>=20
>     public String toString(String field) {
>        return this.originalQuery.toString(field);
>     }
> }
>=20
>=20
>=20
> ---------------------------------------------------------------
> ------
> To unsubscribe, e-mail: lucene-dev-
> unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-
> help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 12:45:13 2004
Return-Path: <lucene-user-return-7783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22906 invoked from network); 31 Mar 2004 12:45:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 12:45:13 -0000
Received: (qmail 95785 invoked by uid 500); 31 Mar 2004 12:45:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95756 invoked by uid 500); 31 Mar 2004 12:45:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95738 invoked from network); 31 Mar 2004 12:45:05 -0000
Received: from unknown (HELO mwinf0604.wanadoo.fr) (193.252.22.25)
  by daedalus.apache.org with SMTP; 31 Mar 2004 12:45:05 -0000
Received: from diderot (ABordeaux-202-2-1-73.w80-11.abo.wanadoo.fr [80.11.9.73])
	by mwinf0604.wanadoo.fr (SMTP Server) with ESMTP id D49E928000FE
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 14:45:04 +0200 (CEST)
From: "Rasik Pandey" <rasik.pandey@ajlsm.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Performance of hit highlighting and finding term positions for a specific document
Date: Wed, 31 Mar 2004 14:44:47 +0200
Message-ID: <002f01c4171d$f73320b0$ac7ba8c0@diderot>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <406A174D.30803@newsmonster.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin,

> http://home.clara.net/markharwood/lucene/highlight.htm
> 
> Trying to do hit highlighting.  This implementation uses
> another
> Analyzer to find the positions for the result terms.
> 
> This seems that it's very inefficient since lucene already
> knows the
> frequency and position of given terms in the index.

Can you explain in more detail what you mean here?


Regards,
RBP






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 13:20:45 2004
Return-Path: <lucene-user-return-7784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49181 invoked from network); 31 Mar 2004 13:20:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 13:20:45 -0000
Received: (qmail 82725 invoked by uid 500); 31 Mar 2004 13:20:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82704 invoked by uid 500); 31 Mar 2004 13:20:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82682 invoked from network); 31 Mar 2004 13:20:37 -0000
Received: from unknown (HELO web9501.mail.yahoo.com) (216.136.129.131)
  by daedalus.apache.org with SMTP; 31 Mar 2004 13:20:37 -0000
Message-ID: <20040331132037.55714.qmail@web9501.mail.yahoo.com>
Received: from [193.36.230.96] by web9501.mail.yahoo.com via HTTP; Wed, 31 Mar 2004 14:20:37 BST
Date: Wed, 31 Mar 2004 14:20:37 +0100 (BST)
From: =?iso-8859-1?q?mark=20harwood?= <markharw00d@yahoo.co.uk>
Subject: RE : Performance of hit highlighting and finding term positions for a specific document
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1633876089-1080739237=:55517"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1633876089-1080739237=:55517
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I intend to release a new version of the highlighter soon that should (hopefully) address some of the issues under discussion.
The re-design will be based on the following principles:
 
* A TokenStream will be passed to the highlighter to provide the source of tokens. The token stream could be provided by an analyzer re-tokenizing the document text or by some future extension to Lucene that is capable of storing token offsets in the index. This change effectively abstracts the highlighter from the index-time or query-time tokenization choices people should be free to make.
 
* The highlighter already has an abstraction from the list of terms that are needed to be highlighted - see TextHighlighter. The only change I plan here is to introduce the notion of a WeightedTerm that associates a weight with each term to be highlighted in order to influence selection of the best fragments. The QueryHighlightExtractor class will be deprecated and will simply become a tool for extracting a list of terms from a query so that they can be passed to the TextHighlighter class.
 
* I will make the fragmentation logic a pluggable class that can change the way the highlighter decides to split documents into fragments. The current implementation simply splits after "n" tokens. I will introduce a new DocSplitter interface to allow alternative implementations to split documents up, eg based on recognizing end of sentences by the ?!. characters. I dont plan to provide a sentence splitter at this stage - too much work!
 
Hopefully this provides an open framework for folks to do what they want with the highlighter. Please let me have any comments if you have any suggestions.
 
As for ownership/support, we already had the vote on whether highlighter is accepted as part of Lucene core or not and it wasn't. I dont mind either way but I would like to make the above changes before anyone considers moving it to the sandbox or wherever.
 
I'm going to be away for the next 5 days so there may be a delay in any work on this.
 
Cheers
Mark

		
---------------------------------
 WIN FREE WORLDWIDE FLIGHTS - nominate a cafe in the Yahoo! Mail Internet Cafe Awards
--0-1633876089-1080739237=:55517--

From lucene-user-return-7785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 14:17:13 2004
Return-Path: <lucene-user-return-7785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98235 invoked from network); 31 Mar 2004 14:17:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 14:17:13 -0000
Received: (qmail 28421 invoked by uid 500); 31 Mar 2004 14:17:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28359 invoked by uid 500); 31 Mar 2004 14:17:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28340 invoked from network); 31 Mar 2004 14:17:03 -0000
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by daedalus.apache.org with SMTP; 31 Mar 2004 14:17:03 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Wed, 31 Mar 2004 09:17:04 -0500
Message-Id: <s06a8c90.048@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Wed, 31 Mar 2004 09:16:46 -0500
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Boosting groups
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I was wondering if boosting a grouping of terms has any meaning?
For example, (A^2  OR B^3 OR C^1.5)^5.0

I didn't see it in the query syntax documentation (but the query parser =
seems to accept it).  If it is meaningful, what are the semantics of it?  =
Is the boost factor distributive?  That is, is the above query equivalent =
to (A^10.0 OR B^15.0 OR C^7.5) ?

Thanks for the help,
Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 14:36:55 2004
Return-Path: <lucene-user-return-7786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17772 invoked from network); 31 Mar 2004 14:36:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 14:36:55 -0000
Received: (qmail 74913 invoked by uid 500); 31 Mar 2004 14:36:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74869 invoked by uid 500); 31 Mar 2004 14:36:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74737 invoked from network); 31 Mar 2004 14:36:25 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 31 Mar 2004 14:36:25 -0000
Received: (cpmta 22000 invoked from network); 31 Mar 2004 06:36:26 -0800
Received: from 128.143.104.97 (HELO ?128.143.104.97?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 31 Mar 2004 06:36:26 -0800
X-Sent: 31 Mar 2004 14:36:26 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s06a8c90.048@gwia201.syr.edu>
References: <s06a8c90.048@gwia201.syr.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CB1F39C6-8320-11D8-AE0E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boosting groups
Date: Wed, 31 Mar 2004 09:36:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 31, 2004, at 9:16 AM, Grant Ingersoll wrote:
> Hi,
>
> I was wondering if boosting a grouping of terms has any meaning?
> For example, (A^2  OR B^3 OR C^1.5)^5.0

If this is the entire query, boosting the entire group really doesn't 
do anything useful.  Every score will be boosted equally by 5.0, so you 
may as well not even use a boost on the group.

> I didn't see it in the query syntax documentation (but the query 
> parser seems to accept it).  If it is meaningful, what are the 
> semantics of it?  Is the boost factor distributive?  That is, is the 
> above query equivalent to (A^10.0 OR B^15.0 OR C^7.5) ?

Yes, its multiplied like you have shown.  From BooleanQuery:

         if (getBoost() != 1.0f) {                 // incorporate boost
           if (query == c.query)                   // if rewrite was 
no-op
             query = (Query)query.clone();         // then clone before 
boost
           query.setBoost(getBoost() * query.getBoost());
         }

That is part of the rewrite method.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 14:49:38 2004
Return-Path: <lucene-user-return-7787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27795 invoked from network); 31 Mar 2004 14:49:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 14:49:38 -0000
Received: (qmail 15009 invoked by uid 500); 31 Mar 2004 14:49:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14970 invoked by uid 500); 31 Mar 2004 14:49:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14874 invoked from network); 31 Mar 2004 14:49:18 -0000
Received: from unknown (HELO maynard.mail.mindspring.net) (207.69.200.243)
  by daedalus.apache.org with SMTP; 31 Mar 2004 14:49:18 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by maynard.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B8h1r-0003RF-00
	for lucene-user@jakarta.apache.org; Wed, 31 Mar 2004 09:49:20 -0500
Message-ID: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Wierd Search Behavior
Date: Wed, 31 Mar 2004 09:49:19 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_1C65_01C41705.7006B6A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_1C65_01C41705.7006B6A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm experiencing some very puzzling search behavior.  I am using the CVS =
head I pulled about a week ago.  I use the StandardAnalyzer and =
QueryParser.  I have a collection of XML documents indexed.  One field =
is "subhead", and here's what I find with different queries:
subhead:(missile defense)    - works fine=20
subhead("missile" "defense") - works fine
subhead("missile defense") - fails
subhead(missile defense "missile defense") - fails
subhead(missile defense "missile dork") - works fine
subhead(missile defense "missile defens") - works fine (note =
misspelling)

At the moment, I can't find any other field or phrase that does this.  =
However, according to my notes (as I'm no longer trusting my mind on =
this), about a week ago (about the time I started using the new CVS =
version) I noticed similar behavior with the query 'subhead:"al qaeda" - =
but that now works perfectly fine! Same thing with the query =
'summary:"heart disease"; it failed to work and then a day or so later, =
it worked.  (I merge new documents into the master index each day.)

Any ideas on what might possibly be going on would be very much =
appreciated.

Regards,

Terry


------=_NextPart_000_1C65_01C41705.7006B6A0--


From lucene-user-return-7788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 14:55:53 2004
Return-Path: <lucene-user-return-7788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32483 invoked from network); 31 Mar 2004 14:55:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 14:55:53 -0000
Received: (qmail 33289 invoked by uid 500); 31 Mar 2004 14:55:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33264 invoked by uid 500); 31 Mar 2004 14:55:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33248 invoked from network); 31 Mar 2004 14:55:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 31 Mar 2004 14:55:43 -0000
Received: (cpmta 9972 invoked from network); 31 Mar 2004 06:55:44 -0800
Received: from 128.143.104.97 (HELO ?128.143.104.97?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 31 Mar 2004 06:55:44 -0800
X-Sent: 31 Mar 2004 14:55:44 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK>
References: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7E5E2A15-8323-11D8-AE0E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Wierd Search Behavior
Date: Wed, 31 Mar 2004 09:55:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mar 31, 2004, at 9:49 AM, Terry Steichen wrote:\
> I'm experiencing some very puzzling search behavior.  I am using the 
> CVS head I pulled about a week ago.  I use the StandardAnalyzer and 
> QueryParser.  I have a collection of XML documents indexed.  One field 
> is "subhead", and here's what I find with different queries:
> subhead:(missile defense)    - works fine
> subhead("missile" "defense") - works fine
> subhead("missile defense") - fails
> subhead(missile defense "missile defense") - fails
> subhead(missile defense "missile dork") - works fine
> subhead(missile defense "missile defens") - works fine (note 
> misspelling)

I presume the missing colons on all but the first example is just a 
typo in your e-mail?  If not, might that be the problem?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 16:48:19 2004
Return-Path: <lucene-user-return-7789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47199 invoked from network); 31 Mar 2004 16:48:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 16:48:19 -0000
Received: (qmail 40669 invoked by uid 500); 31 Mar 2004 16:47:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40641 invoked by uid 500); 31 Mar 2004 16:47:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40617 invoked from network); 31 Mar 2004 16:47:49 -0000
Received: from unknown (HELO maynard.mail.mindspring.net) (207.69.200.243)
  by daedalus.apache.org with SMTP; 31 Mar 2004 16:47:49 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by maynard.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B8isZ-0008Uv-00
	for lucene-user@jakarta.apache.org; Wed, 31 Mar 2004 11:47:51 -0500
Message-ID: <1c9401c4173f$e829d290$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK> <7E5E2A15-8323-11D8-AE0E-000393A564E6@ehatchersolutions.com>
Subject: Re: Wierd Search Behavior
Date: Wed, 31 Mar 2004 11:47:51 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, they're typos in the e-mail.  In the application, all the colons are
properly placed.  (Guess I was/am so frustrated I can't write right any
more).

Terry

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 31, 2004 9:55 AM
Subject: Re: Wierd Search Behavior


> On Mar 31, 2004, at 9:49 AM, Terry Steichen wrote:\
> > I'm experiencing some very puzzling search behavior.  I am using the
> > CVS head I pulled about a week ago.  I use the StandardAnalyzer and
> > QueryParser.  I have a collection of XML documents indexed.  One field
> > is "subhead", and here's what I find with different queries:
> > subhead:(missile defense)    - works fine
> > subhead("missile" "defense") - works fine
> > subhead("missile defense") - fails
> > subhead(missile defense "missile defense") - fails
> > subhead(missile defense "missile dork") - works fine
> > subhead(missile defense "missile defens") - works fine (note
> > misspelling)
>
> I presume the missing colons on all but the first example is just a
> typo in your e-mail?  If not, might that be the problem?
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 17:17:30 2004
Return-Path: <lucene-user-return-7790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70524 invoked from network); 31 Mar 2004 17:17:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 17:17:30 -0000
Received: (qmail 29576 invoked by uid 500); 31 Mar 2004 17:17:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29536 invoked by uid 500); 31 Mar 2004 17:17:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29519 invoked from network); 31 Mar 2004 17:17:16 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 31 Mar 2004 17:17:16 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20040331171719015007nk58e>; Wed, 31 Mar 2004 17:17:19 +0000
Message-ID: <406AFCD3.3020704@apache.org>
Date: Wed, 31 Mar 2004 09:16:03 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
 a specific document
References: <406A174D.30803@newsmonster.org>
In-Reply-To: <406A174D.30803@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> I'm playing with this package:
> 
> http://home.clara.net/markharwood/lucene/highlight.htm
> 
> Trying to do hit highlighting.  This implementation uses another 
> Analyzer to find the positions for the result terms.
> This seems that it's very inefficient

Does it just seem inefficient, or is is it actually too inefficient in 
practice?  Folks have benchmarked this, and, for documents less than 10k 
characters or so, re-tokenizing is fast enough.  But it can be slow if 
the majority of your documents are longer than this.

Several solutions have been proposed.  The simplest is to not scan past 
the first 10k or so for snippets unless nothing relevant is found in the 
first 10k.  I don't think Mark's highlighter yet does this, but I might 
be mistaken.

> since lucene already knows the 
> frequency and position of given terms in the index.

Lucene indexes record that a term is the nth term, not that it occurs at 
the nth character in the text.  The latter is needed for highlighting, 
but storing this would make indexes much larger and slower to update.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 18:04:52 2004
Return-Path: <lucene-user-return-7791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97680 invoked from network); 31 Mar 2004 18:04:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 18:04:52 -0000
Received: (qmail 47278 invoked by uid 500); 31 Mar 2004 18:04:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47255 invoked by uid 500); 31 Mar 2004 18:04:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47233 invoked from network); 31 Mar 2004 18:04:37 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 31 Mar 2004 18:04:37 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i2VI4edA012500
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 18:04:41 GMT
Date: Wed, 31 Mar 2004 18:04:40 GMT
Message-Id: <200403311804.i2VI4edA012500@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Performance of hit highlighting and finding term positions for
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>Folks have benchmarked this, and, for documents less than 10k characters or so, re-tokenizing is fast enough.

As a note of warning: I did find StandardTokenizer to be the major culprit in my tokenizing benchmarks (avg 75ms for 16k sized docs).
I have found I can live without StandardTokenizer in my apps.

>> The simplest is to not scan past the first 10k or so for snippets 
A maximum number of tokens will be a new feature in the new highlighter.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 21:52:15 2004
Return-Path: <lucene-user-return-7792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30920 invoked from network); 31 Mar 2004 21:52:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 21:52:15 -0000
Received: (qmail 27577 invoked by uid 500); 31 Mar 2004 21:51:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27465 invoked by uid 500); 31 Mar 2004 21:51:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27264 invoked from network); 31 Mar 2004 21:51:53 -0000
Received: from unknown (HELO wall.quontis.com) (66.120.216.177)
  by daedalus.apache.org with SMTP; 31 Mar 2004 21:51:53 -0000
Received: from bigone (unknown [10.6.18.112])
	by wall.quontis.com (Postfix) with ESMTP id D08BC9EB2A
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 13:13:15 -0800 (PST)
From: "Jochen Frey" <lucenelist@quontis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Performance of hit highlighting and finding term positions for a specific document
Date: Wed, 31 Mar 2004 13:51:49 -0800
Message-ID: <008301c4176a$5ef2a8f0$7012060a@bigone>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <406AFCD3.3020704@apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Several solutions have been proposed.  The simplest is to not scan =
past
> the first 10k or so for snippets unless nothing relevant is found in =
the
> first 10k.  I don't think Mark's highlighter yet does this, but I =
might
> be mistaken.
>=20
> > since lucene already knows the
> > frequency and position of given terms in the index.
>=20
> Lucene indexes record that a term is the nth term, not that it occurs =
at
> the nth character in the text.  The latter is needed for highlighting,
> but storing this would make indexes much larger and slower to update.
>=20

None of those solutions that I know about (other than re-parsing) work =
for
us (for us the highlighting must be confided to exactly one sentence), =
and
even though we are desperate to have something smarter, we would not =
want to
lose the benefits of super small and fast indexes.

We have pondered (but don't have the time, currently) to develop a =
package
that would store token locations (outside of the Lucene core) and hack
Lucene to get token-ids.

Sorry, no real solutions here; I guess this post is a +1 for keeping =
indexes
small and fast, and a +1 for this being a real problem without a perfect
solution (yet).

Jochen



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 21:55:53 2004
Return-Path: <lucene-user-return-7793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32505 invoked from network); 31 Mar 2004 21:55:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 21:55:53 -0000
Received: (qmail 35658 invoked by uid 500); 31 Mar 2004 21:55:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35638 invoked by uid 500); 31 Mar 2004 21:55:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35624 invoked from network); 31 Mar 2004 21:55:35 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 31 Mar 2004 21:55:35 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004033121554001100c7q6oe>; Wed, 31 Mar 2004 21:55:41 +0000
Message-ID: <406B3E0F.3000704@apache.org>
Date: Wed, 31 Mar 2004 13:54:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
References: <200403311804.i2VI4edA012500@server0027.freedom2surf.net>
In-Reply-To: <200403311804.i2VI4edA012500@server0027.freedom2surf.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d@yahoo.co.uk wrote:
> As a note of warning: I did find StandardTokenizer to be the major culprit in my tokenizing benchmarks (avg 75ms for 16k sized docs).
> I have found I can live without StandardTokenizer in my apps.

FYI, the message with Mark's timings can be found at:

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1413989

According to these, if your documents average 16k, then a 10-hit result 
page would require just 66ms to generate highlights using SimpleAnalyzer.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Mar 31 21:58:32 2004
Return-Path: <lucene-user-return-7794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33847 invoked from network); 31 Mar 2004 21:58:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Mar 2004 21:58:31 -0000
Received: (qmail 39981 invoked by uid 500); 31 Mar 2004 21:58:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39957 invoked by uid 500); 31 Mar 2004 21:58:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39942 invoked from network); 31 Mar 2004 21:58:12 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 31 Mar 2004 21:58:12 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20040331215818013000v96de>; Wed, 31 Mar 2004 21:58:18 +0000
Message-ID: <406B3EAD.8040108@apache.org>
Date: Wed, 31 Mar 2004 13:57:01 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
References: <200403311804.i2VI4edA012500@server0027.freedom2surf.net> <406B3E0F.3000704@apache.org>
In-Reply-To: <406B3E0F.3000704@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> According to these, if your documents average 16k, then a 10-hit result 
> page would require just 66ms to generate highlights using SimpleAnalyzer.

Oops.  That should be 110ms.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 02:24:06 2004
Return-Path: <lucene-user-return-7795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48851 invoked from network); 1 Apr 2004 02:24:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 02:24:05 -0000
Received: (qmail 64401 invoked by uid 500); 1 Apr 2004 02:23:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64190 invoked by uid 500); 1 Apr 2004 02:23:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64177 invoked from network); 1 Apr 2004 02:23:42 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 1 Apr 2004 02:23:42 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i312NvtG019937
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 18:23:58 -0800
Message-ID: <406B7D35.90802@newsmonster.org>
Date: Wed, 31 Mar 2004 18:23:49 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Performance of hit highlighting and finding term positions
 for a specific document
References: <002f01c4171d$f73320b0$ac7ba8c0@diderot>
In-Reply-To: <002f01c4171d$f73320b0$ac7ba8c0@diderot>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig490A72D890CAF733A53386CF"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig490A72D890CAF733A53386CF
Content-Type: multipart/alternative;
 boundary="------------010302020100050004020804"

This is a multi-part message in MIME format.
--------------010302020100050004020804
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Rasik Pandey wrote:

>Kevin,
>
>  
>
>>http://home.clara.net/markharwood/lucene/highlight.htm
>>
>>Trying to do hit highlighting.  This implementation uses
>>another
>>Analyzer to find the positions for the result terms.
>>
>>This seems that it's very inefficient since lucene already
>>knows the
>>frequency and position of given terms in the index.
>>    
>>
>
>Can you explain in more detail what you mean here?
>
It uses the StandardAnalyzer again to re-index to find tokens... when it 
finds the same token that matched a search request it highlights it.

It works... just not too efficient.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------010302020100050004020804
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title></title>
</head>
<body bgcolor="#ffffff" text="#000000">
Rasik Pandey wrote:
<blockquote cite="mid002f01c4171d$f73320b0$ac7ba8c0@diderot" type="cite">
  <pre wrap="">Kevin,

  </pre>
  <blockquote type="cite">
    <pre wrap=""><a class="moz-txt-link-freetext" href="http://home.clara.net/markharwood/lucene/highlight.htm">http://home.clara.net/markharwood/lucene/highlight.htm</a>

Trying to do hit highlighting.  This implementation uses
another
Analyzer to find the positions for the result terms.

This seems that it's very inefficient since lucene already
knows the
frequency and position of given terms in the index.
    </pre>
  </blockquote>
  <pre wrap=""><!---->
Can you explain in more detail what you mean here?</pre>
</blockquote>
It uses the StandardAnalyzer again to re-index to find tokens... when
it finds the same token that matched a search request it highlights it.<br>
<br>
It works... just not too efficient.<br>
<br>
Kevin<br>
<pre class="moz-signature" cols="72">-- 

Please reply using PGP.

    <a class="moz-txt-link-freetext" href="http://peerfear.org/pubkey.asc">http://peerfear.org/pubkey.asc</a>    
    
    NewsMonster - <a class="moz-txt-link-freetext" href="http://www.newsmonster.org/">http://www.newsmonster.org/</a>
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - <a class="moz-txt-link-freetext" href="http://peerfear.org/">http://peerfear.org/</a>
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
</pre>
</body>
</html>

--------------010302020100050004020804--

--------------enig490A72D890CAF733A53386CF
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAa3016E2NBJnxRBIRAsWYAKDhiktMd3HG/taMz9WNa+sJwTKUsgCdHZ8n
JgWeeGhbV+CxiuZ6Ju4kmTo=
=sjE9
-----END PGP SIGNATURE-----

--------------enig490A72D890CAF733A53386CF--

From lucene-user-return-7796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 02:43:41 2004
Return-Path: <lucene-user-return-7796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56092 invoked from network); 1 Apr 2004 02:43:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 02:43:40 -0000
Received: (qmail 85632 invoked by uid 500); 1 Apr 2004 02:43:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85606 invoked by uid 500); 1 Apr 2004 02:43:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85584 invoked from network); 1 Apr 2004 02:43:17 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 1 Apr 2004 02:43:17 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i312hVtG019974
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 18:43:33 -0800
Message-ID: <406B81C9.6090804@newsmonster.org>
Date: Wed, 31 Mar 2004 18:43:21 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
References: <200403311804.i2VI4edA012500@server0027.freedom2surf.net> <406B3E0F.3000704@apache.org>
In-Reply-To: <406B3E0F.3000704@apache.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigF4E2A8808C43B84B653FD4AF"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigF4E2A8808C43B84B653FD4AF
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Doug Cutting wrote:

> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1413989 
>
>
> According to these, if your documents average 16k, then a 10-hit 
> result page would require just 66ms to generate highlights using 
> SimpleAnalyzer.

The whole search takes only 300ms... this means that if I highlight 5 
docs I've doubled my search time.

Note that Google has a whole subsection of their cluster dedicated to 
keyword in context extraction.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigF4E2A8808C43B84B653FD4AF
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAa4HL6E2NBJnxRBIRAlREAKCOwwTXSzBCzMzLjN89dAszn83RrwCgl//b
ek3A3giAc9aG34q0s+SdOx0=
=eGSg
-----END PGP SIGNATURE-----

--------------enigF4E2A8808C43B84B653FD4AF--

From lucene-user-return-7797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 02:46:56 2004
Return-Path: <lucene-user-return-7797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57617 invoked from network); 1 Apr 2004 02:46:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 02:46:56 -0000
Received: (qmail 90921 invoked by uid 500); 1 Apr 2004 02:46:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90902 invoked by uid 500); 1 Apr 2004 02:46:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90883 invoked from network); 1 Apr 2004 02:46:33 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 1 Apr 2004 02:46:33 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i312khtG019979
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 18:46:48 -0800
Message-ID: <406B828A.3010006@newsmonster.org>
Date: Wed, 31 Mar 2004 18:46:34 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Performance of hit highlighting and finding term positions
 for a specific document
References: <002501c4171d$43802ae0$ac7ba8c0@diderot>
In-Reply-To: <002501c4171d$43802ae0$ac7ba8c0@diderot>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig4E4D104230B8C2BCFB7B0760"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig4E4D104230B8C2BCFB7B0760
Content-Type: multipart/alternative;
 boundary="------------000009000408010901080605"

This is a multi-part message in MIME format.
--------------000009000408010901080605
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Rasik Pandey wrote:

>Hello,
>
>  
>
>>I've been meaning to look into good ways to store token offset
>>information to allow for very
>>efficient highlighting and I believe Mark may also be looking
>>into improving the highlighter via
>>other means such as temporary ram indexes. Search the archives
>>to get a background on some of the
>>idea's we've tossed around ('Dmitry's Term Vector stuff, plus
>>some' and 'Demoting results' come to
>>mind as threads that touch this topic).
>>    
>>
>
>I would be nice if CachingRewrittenQueryWrapper.java that I sent to lucene-dev (see below) last week became part of these highlighting effors, if appropriate. We use it to collect terms for a query that searches of multiple indices.
>  
>
Actually I had to write one for my tests with the highlighter. I'm using 
a MultiSearcher and a WildcardQuery which the highlighter didn't have 
support for. 

My impl was fairly basic so I wouldn't suggest a contribution... I'm 
sure your's is better.  The suggested changes to the highlighter for 
providing tokens would make this work well together.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------000009000408010901080605
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title></title>
</head>
<body bgcolor="#ffffff" text="#000000">
Rasik Pandey wrote:
<blockquote cite="mid002501c4171d$43802ae0$ac7ba8c0@diderot" type="cite">
  <pre wrap="">Hello,

  </pre>
  <blockquote type="cite">
    <pre wrap="">I've been meaning to look into good ways to store token offset
information to allow for very
efficient highlighting and I believe Mark may also be looking
into improving the highlighter via
other means such as temporary ram indexes. Search the archives
to get a background on some of the
idea's we've tossed around ('Dmitry's Term Vector stuff, plus
some' and 'Demoting results' come to
mind as threads that touch this topic).
    </pre>
  </blockquote>
  <pre wrap=""><!---->
I would be nice if CachingRewrittenQueryWrapper.java that I sent to lucene-dev (see below) last week became part of these highlighting effors, if appropriate. We use it to collect terms for a query that searches of multiple indices.
  </pre>
</blockquote>
Actually I had to write one for my tests with the highlighter. I'm
using a MultiSearcher and a WildcardQuery which the highlighter didn't
have support for.&nbsp; <br>
<br>
My impl was fairly basic so I wouldn't suggest a contribution... I'm
sure your's is better.&nbsp; The suggested changes to the highlighter for
providing tokens would make this work well together.<br>
<br>
Kevin<br>
<br>
-- <br>
<pre class="moz-signature" cols="72">
Please reply using PGP.

    <a class="moz-txt-link-freetext" href="http://peerfear.org/pubkey.asc">http://peerfear.org/pubkey.asc</a>    
    
    NewsMonster - <a class="moz-txt-link-freetext" href="http://www.newsmonster.org/">http://www.newsmonster.org/</a>
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - <a class="moz-txt-link-freetext" href="http://peerfear.org/">http://peerfear.org/</a>
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
</pre>
</body>
</html>

--------------000009000408010901080605--

--------------enig4E4D104230B8C2BCFB7B0760
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAa4KL6E2NBJnxRBIRAl+XAKCvUlqoo65k20LZUNBLWHkbdbfywACgl3tj
yQ/l5UDR+k/dkDFH4JaghXs=
=0ed8
-----END PGP SIGNATURE-----

--------------enig4E4D104230B8C2BCFB7B0760--

From lucene-user-return-7798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 02:51:07 2004
Return-Path: <lucene-user-return-7798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59107 invoked from network); 1 Apr 2004 02:51:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 02:51:07 -0000
Received: (qmail 94494 invoked by uid 500); 1 Apr 2004 02:50:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94466 invoked by uid 500); 1 Apr 2004 02:50:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94450 invoked from network); 1 Apr 2004 02:50:44 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 1 Apr 2004 02:50:44 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i312ortG019984
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 31 Mar 2004 18:50:59 -0800
Message-ID: <406B8380.4010506@newsmonster.org>
Date: Wed, 31 Mar 2004 18:50:40 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: [patch] MultiSearcher should support getSearchables()
References: <4069FBCF.2080302@newsmonster.org> <E8ED0CA1-82AE-11D8-8BEF-000393A564E6@ehatchersolutions.com> <406A246D.7090106@newsmonster.org> <C24DE6D0-82BC-11D8-A050-000393A564E6@ehatchersolutions.com>
In-Reply-To: <C24DE6D0-82BC-11D8-A050-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigC16D87B13D6A32D744E51752"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigC16D87B13D6A32D744E51752
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Erik Hatcher wrote:

>
> No question that it'd be unwise to do.  We could say the same argument 
> for making everything public access as well and say it'd be stupid to 
> override this method, but we made it public anyway.  I'd rather opt on 
> the side of safety.
>
> Besides, you haven't provided a use case for why you need to get the 
> searchers back from a MultiSearcher :)
>
Just ease of use really... I have our MultiSearcher reload transparently 
and this case I can verify that I'm using the right array of searchers 
not one that's already been reloaded behind me.

I can add some code to preserve the original searcher array but it's a pain.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigC16D87B13D6A32D744E51752
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAa4OA6E2NBJnxRBIRAk7AAJkBQW0elPngSc6WllNj/3BKT/ME6wCgxQXo
QZr1prTO6zQUNhQlLos9vmo=
=ojuI
-----END PGP SIGNATURE-----

--------------enigC16D87B13D6A32D744E51752--

From lucene-user-return-7799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 03:23:56 2004
Return-Path: <lucene-user-return-7799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69867 invoked from network); 1 Apr 2004 03:23:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 03:23:56 -0000
Received: (qmail 31178 invoked by uid 500); 1 Apr 2004 03:23:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31151 invoked by uid 500); 1 Apr 2004 03:23:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31138 invoked from network); 1 Apr 2004 03:23:32 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 1 Apr 2004 03:23:32 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <2004040103234101600hrlo8e>; Thu, 1 Apr 2004 03:23:41 +0000
Message-ID: <406B8AEB.8080507@apache.org>
Date: Wed, 31 Mar 2004 19:22:19 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
References: <200403311804.i2VI4edA012500@server0027.freedom2surf.net> <406B3E0F.3000704@apache.org> <406B81C9.6090804@newsmonster.org>
In-Reply-To: <406B81C9.6090804@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Doug Cutting wrote:
> 
>> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1413989 
>>
>> According to these, if your documents average 16k, then a 10-hit 
>> result page would require just 66ms to generate highlights using 
>> SimpleAnalyzer.
> 
> The whole search takes only 300ms... this means that if I highlight 5 
> docs I've doubled my search time.

My math was wrong, but yours seems even more so!  I meant 110ms to 
highlight ten docs.  If you only highlight 5, then it's 55ms.  If your 
query is taking 300ms, then this adds less than 20%.

> Note that Google has a whole subsection of their cluster dedicated to 
> keyword in context extraction.

I think that's that's for i/o reasons, not that it requires a lot of 
computation.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


