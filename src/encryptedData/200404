From lucene-user-return-7800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 08:57:37 2004
Return-Path: <lucene-user-return-7800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34039 invoked from network); 1 Apr 2004 08:57:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 08:57:37 -0000
Received: (qmail 67055 invoked by uid 500); 1 Apr 2004 08:57:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66977 invoked by uid 500); 1 Apr 2004 08:57:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66959 invoked from network); 1 Apr 2004 08:57:06 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 1 Apr 2004 08:57:06 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i318vIdA028868
	for <lucene-user@jakarta.apache.org>; Thu, 1 Apr 2004 08:57:18 GMT
Date: Thu, 1 Apr 2004 08:57:18 GMT
Message-Id: <200404010857.i318vIdA028868@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Performance of hit highlighting and finding term positions for
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

730 msecs is the correct number for 10 * 16k docs with StandardTokenizer! 
The 11ms per doc figure in my post was for highlighlighting using a \
lower-case-filter-only analyzer. 5ms of this figure was the cost of the \
lower-case-filter-only analyzer.

73 msecs is the cost of JUST StandardTokenizer (no highlighting)
StandardAnalyzer uses StandardTokenizer so is probably used in a lot of apps. It \
tries to keep certain text eg email addresses as one term. I can live without it and \
I suspect most apps can too. I haven't looked into why its slow but I notice it does \
make use of Vectors. I think a lot of people's highlighter performance issues may \
extend from this.

Cheers
Mark
(apologies for the cross-post to lucene-dev - wrong group!)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 12:05:25 2004
Return-Path: <lucene-user-return-7801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32679 invoked from network); 1 Apr 2004 12:05:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 12:05:24 -0000
Received: (qmail 65512 invoked by uid 500); 1 Apr 2004 12:05:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65490 invoked by uid 500); 1 Apr 2004 12:05:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65465 invoked from network); 1 Apr 2004 12:05:16 -0000
Received: from unknown (HELO gw.swol.de) (195.238.142.147)
  by daedalus.apache.org with SMTP; 1 Apr 2004 12:05:16 -0000
Received: from mail.dig.de by gw.swol.de
          via smtpd (for daedalus.apache.org [208.185.179.12]) with ESMTP; Thu, 1 Apr 2004 14:27:14 +0200
Received: by olivia.dig.de (Postfix, from userid 65534)
	id C0237120359; Thu,  1 Apr 2004 14:03:24 +0200 (CEST)
Received: from dig.de (unknown [10.70.77.45])
	by olivia.dig.de (Postfix) with ESMTP id 187A212035A
	for <lucene-user@jakarta.apache.org>; Thu,  1 Apr 2004 14:03:23 +0200 (CEST)
Message-ID: <406C03FB.1080502@dig.de>
Date: Thu, 01 Apr 2004 13:58:51 +0200
From: Stefan Duffner <duffner@dig.de>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Merge multiple indeces like a sql join
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.61 (1.212.2.1-2003-12-09-exp) on 
	olivia.dig.de
X-Spam-Level: 
X-Spam-Status: No, hits=-3.1 required=5.0 tests=AWL,BAYES_20 autolearn=ham 
	version=2.61
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am testing for Lucene for a project and I am new in Lucene and I have 
a question. I read the documentation and searched the mailing test but I 
did not find any anwser for my question.

My problem:
I have to 2 indeces (I made a simple test example): First index is 
storing information about books and the second is storing information 
about authors. Both indeces have a field named number, which is a unique 
indentifier for an author. If these 2 indeces are tables in a database I 
would normally join tables, where number is the key of the author table 
and the foreign key of book table. Now  I want to do same with Lucene. I 
used the MultiSearcher and I get 2 hits (one from book index and the 
other from author table), if  I use an unique number. I think this is 
normal behaviour, but I am not sure. Can you give me an answer, if this 
is correct ? What can I do to solve this problem (The only idea I have 
for the moment is to determine which terms are for the one index and 
which are for the other and split them. Then make a search on one index 
and get the unique numbers of this search result. Then I will use this 
unique numbers with the other query parameters for the next search in 
the other index) ?

-- 
Thanks for any comments
Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 12:51:59 2004
Return-Path: <lucene-user-return-7802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59812 invoked from network); 1 Apr 2004 12:51:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 12:51:58 -0000
Received: (qmail 66914 invoked by uid 500); 1 Apr 2004 12:51:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66895 invoked by uid 500); 1 Apr 2004 12:51:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66881 invoked from network); 1 Apr 2004 12:51:50 -0000
Received: from unknown (HELO maynard.mail.mindspring.net) (207.69.200.243)
  by daedalus.apache.org with SMTP; 1 Apr 2004 12:51:50 -0000
Received: from h-68-166-69-211.mclnva23.dynamic.covad.net ([68.166.69.211] helo=POWERPACK)
	by maynard.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1B91fi-0005xS-00
	for lucene-user@jakarta.apache.org; Thu, 01 Apr 2004 07:51:50 -0500
Message-ID: <1dd601c417e8$1b4eff30$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK> <7E5E2A15-8323-11D8-AE0E-000393A564E6@ehatchersolutions.com> <1c9401c4173f$e829d290$6501a8c0@POWERPACK>
Subject: Re: Wierd Search Behavior
Date: Thu, 1 Apr 2004 07:51:52 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I did some more checking and uncovered what appears to be a serious Lucene
problem. (Either that or my merge code - below - is wrong.)  Appreciate any
help in figuring out what's wrong.  Here are the facts as I see them:

1) I put together a large number of canned queries (some rather complex) for
routine testing purposes.
2) I created a new compound file index and tested the queries.  All worked
fine.
3) I then indexed some new documents and merged the new index with the
original index.
4) I then tried the queries again.  Each time I did this, about 1-3% of the
queries no longer worked - the actual number appears to vary with each
merge.
5) The specific queries that fail change with each merge. Ones that failed
after the previous merge almost always appear to work again with the next
merge (which produces a new batch of failures).
6) In all cases I've so far examined, the offending part of the affected
queries is a single quoted phrase (even though there may be several such
phrases in the query) - remove it, and the (now modified) query works fine.
7) I tried the same thing using the original multi-file index format, with
the same results.
8) About a week and a half ago, I migrated from 1.3final to the latest CVS
head.
9) I've only just started checking this, so I don't know how long this
behavior has been going on.  The small percentage of errors and (apparent)
randomness of which query is affected make it hard to detect.
10) I have about 32 fields per document, most of which are tokenized,
indexed and stored.
11) My merge code (for the multi-file index format) is this:

import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.store.FSDirectory;

class MergeIndices {
  public static void main(String[] args) {

 //args[0]: relative path to main index
 //args[1]: relative path to new index (to be merged with main)

 try {
  IndexWriter writer = new IndexWriter(args[0], new StandardAnalyzer(),
false);
 // writer.setUseCompoundFile(true); //used for compound format
  FSDirectory dir = FSDirectory.getDirectory(args[1], false);
  FSDirectory[] dirs = new FSDirectory[1];
  dirs[0] = dir;
  writer.addIndexes(dirs);
  writer.optimize();
  writer.close();
 } catch (Exception e) {
  System.out.println(" caught a " + e.getClass() +
    "\n with message: " + e.getMessage());
 }
  }

}



----- Original Message -----
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, March 31, 2004 11:47 AM
Subject: Re: Wierd Search Behavior


> No, they're typos in the e-mail.  In the application, all the colons are
> properly placed.  (Guess I was/am so frustrated I can't write right any
> more).
>
> Terry
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, March 31, 2004 9:55 AM
> Subject: Re: Wierd Search Behavior
>
>
> > On Mar 31, 2004, at 9:49 AM, Terry Steichen wrote:\
> > > I'm experiencing some very puzzling search behavior.  I am using the
> > > CVS head I pulled about a week ago.  I use the StandardAnalyzer and
> > > QueryParser.  I have a collection of XML documents indexed.  One field
> > > is "subhead", and here's what I find with different queries:
> > > subhead:(missile defense)    - works fine
> > > subhead("missile" "defense") - works fine
> > > subhead("missile defense") - fails
> > > subhead(missile defense "missile defense") - fails
> > > subhead(missile defense "missile dork") - works fine
> > > subhead(missile defense "missile defens") - works fine (note
> > > misspelling)
> >
> > I presume the missing colons on all but the first example is just a
> > typo in your e-mail?  If not, might that be the problem?
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 15:35:45 2004
Return-Path: <lucene-user-return-7803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76645 invoked from network); 1 Apr 2004 15:35:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 15:35:45 -0000
Received: (qmail 19404 invoked by uid 500); 1 Apr 2004 15:35:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19356 invoked by uid 500); 1 Apr 2004 15:35:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19319 invoked from network); 1 Apr 2004 15:35:14 -0000
Received: from unknown (HELO mail.nstein.com) (206.162.161.114)
  by daedalus.apache.org with SMTP; 1 Apr 2004 15:35:14 -0000
Subject: Searching in "all"
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 1 Apr 2004 10:30:38 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE62C6ACAA@sgges01.nstein.com>
Content-Class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching in "all"
Thread-Index: AcQX/kiKGnndd0paRCuZMWoIU5zG3w==
From: "Tate Avery" <tate.avery@nstein.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

If I have, for example, 3 fields in my document (title, body, notes)... =
is there some easy what to search 'all'?


Below are the only 2 ideas I currently have/use:

1) If I want to search for 'x' in all, I do something like:
	title:x OR body:x OR notes:x

... but this does not really work if you are search for (a AND b) and a =
is in the title and b is in the notes, etc... leading to an explosion of =
boolean combinations it seems.


2) Actually index an 'all' field for my document by just concatenating =
the content from the title, body, and notes fields.
... but this doubles my index size.  :(


So, is there a better way out there?

Thanks,
Tate

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 15:43:06 2004
Return-Path: <lucene-user-return-7804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81006 invoked from network); 1 Apr 2004 15:43:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 15:43:06 -0000
Received: (qmail 43896 invoked by uid 500); 1 Apr 2004 15:42:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43874 invoked by uid 500); 1 Apr 2004 15:42:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43846 invoked from network); 1 Apr 2004 15:42:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 1 Apr 2004 15:42:53 -0000
Received: (cpmta 19845 invoked from network); 1 Apr 2004 07:42:54 -0800
Received: from 128.143.104.32 (HELO ?128.143.104.32?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 1 Apr 2004 07:42:54 -0800
X-Sent: 1 Apr 2004 15:42:54 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE62C6ACAA@sgges01.nstein.com>
References: <5C7A32E240A279479DFF44FDF01BBE62C6ACAA@sgges01.nstein.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3A10E894-83F3-11D8-A3AF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching in "all"
Date: Thu, 1 Apr 2004 10:42:48 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 1, 2004, at 10:30 AM, Tate Avery wrote:
> 2) Actually index an 'all' field for my document by just concatenating 
> the content from the title, body, and notes fields.
> ... but this doubles my index size.  :(

This is actually my recommended approach.  As for doubling the index 
size - not necessarily.  If you only use stored fields for the ones 
that truly need to be retrievable things are more efficient space-wise. 
  For example, you do not need to store the "all" field (use 
Field.UnStored).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 15:51:34 2004
Return-Path: <lucene-user-return-7805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84884 invoked from network); 1 Apr 2004 15:51:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 15:51:34 -0000
Received: (qmail 70356 invoked by uid 500); 1 Apr 2004 15:50:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70332 invoked by uid 500); 1 Apr 2004 15:50:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70263 invoked from network); 1 Apr 2004 15:50:56 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 1 Apr 2004 15:50:56 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i31Foww27694
	for <lucene-user@jakarta.apache.org>; Thu, 1 Apr 2004 09:50:58 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C41800.566FAC08"
Subject: RE: Searching in "all"
Date: Thu, 1 Apr 2004 09:45:20 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02CC7@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2DC164E17BF00741B75A02EDA6D4A89701E02CC7@elwood.definityhealth.com>
Thread-Topic: Searching in "all"
Thread-Index: AcQX/kiKGnndd0paRCuZMWoIU5zG3wAAbDgW
From: "Chad Small" <Chad.Small@definityhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41800.566FAC08
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

U2VlIE11bHRpRmllbGRRdWVyeVBhcnNlciwgbGlrZSB0aGlzOg0KIA0KU3RyaW5nW10gZmllbGRz
ID0gZ2V0RmllbGRzQXJyYXkoKTsNCiAgICAgIFF1ZXJ5IG11bHRpRmllbGRRdWVyeSA9IE11bHRp
RmllbGRRdWVyeVBhcnNlci5wYXJzZSh0aGlzLnF1ZXJ5U3RyaW5nLA0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkcywNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcg
U3RhbmRhcmRBbmFseXplcigpKTsNCiAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigibXVsdGlGaWVs
ZFF1ZXJ5OiAiICsgbXVsdGlGaWVsZFF1ZXJ5LnRvU3RyaW5nKCkpOw0KDQoJLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0gDQoJRnJvbTogVGF0ZSBBdmVyeSBbbWFpbHRvOnRhdGUuYXZlcnlAbnN0
ZWluLmNvbV0gDQoJU2VudDogVGh1IDQvMS8yMDA0IDk6MzAgQU0gDQoJVG86IGx1Y2VuZS11c2Vy
QGpha2FydGEuYXBhY2hlLm9yZyANCglDYzogDQoJU3ViamVjdDogU2VhcmNoaW5nIGluICJhbGwi
DQoJDQoJDQoNCglIZWxsbywNCgkNCglJZiBJIGhhdmUsIGZvciBleGFtcGxlLCAzIGZpZWxkcyBp
biBteSBkb2N1bWVudCAodGl0bGUsIGJvZHksIG5vdGVzKS4uLiBpcyB0aGVyZSBzb21lIGVhc3kg
d2hhdCB0byBzZWFyY2ggJ2FsbCc/DQoJDQoJDQoJQmVsb3cgYXJlIHRoZSBvbmx5IDIgaWRlYXMg
SSBjdXJyZW50bHkgaGF2ZS91c2U6DQoJDQoJMSkgSWYgSSB3YW50IHRvIHNlYXJjaCBmb3IgJ3gn
IGluIGFsbCwgSSBkbyBzb21ldGhpbmcgbGlrZToNCgkgICAgICAgIHRpdGxlOnggT1IgYm9keTp4
IE9SIG5vdGVzOngNCgkNCgkuLi4gYnV0IHRoaXMgZG9lcyBub3QgcmVhbGx5IHdvcmsgaWYgeW91
IGFyZSBzZWFyY2ggZm9yIChhIEFORCBiKSBhbmQgYSBpcyBpbiB0aGUgdGl0bGUgYW5kIGIgaXMg
aW4gdGhlIG5vdGVzLCBldGMuLi4gbGVhZGluZyB0byBhbiBleHBsb3Npb24gb2YgYm9vbGVhbiBj
b21iaW5hdGlvbnMgaXQgc2VlbXMuDQoJDQoJDQoJMikgQWN0dWFsbHkgaW5kZXggYW4gJ2FsbCcg
ZmllbGQgZm9yIG15IGRvY3VtZW50IGJ5IGp1c3QgY29uY2F0ZW5hdGluZyB0aGUgY29udGVudCBm
cm9tIHRoZSB0aXRsZSwgYm9keSwgYW5kIG5vdGVzIGZpZWxkcy4NCgkuLi4gYnV0IHRoaXMgZG91
YmxlcyBteSBpbmRleCBzaXplLiAgOigNCgkNCgkNCglTbywgaXMgdGhlcmUgYSBiZXR0ZXIgd2F5
IG91dCB0aGVyZT8NCgkNCglUaGFua3MsDQoJVGF0ZQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVu
c3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hl
Lm9yZw0KCUZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBA
amFrYXJ0YS5hcGFjaGUub3JnDQoJDQoJDQoNCg==


------_=_NextPart_001_01C41800.566FAC08
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C41800.566FAC08--

From lucene-user-return-7806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 17:03:31 2004
Return-Path: <lucene-user-return-7806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24063 invoked from network); 1 Apr 2004 17:03:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 17:03:31 -0000
Received: (qmail 5801 invoked by uid 500); 1 Apr 2004 17:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5765 invoked by uid 500); 1 Apr 2004 17:03:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5719 invoked from network); 1 Apr 2004 17:03:09 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 1 Apr 2004 17:03:09 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <20040401170311012002igbhe>; Thu, 1 Apr 2004 17:03:12 +0000
Message-ID: <406C4B01.7090504@apache.org>
Date: Thu, 01 Apr 2004 09:01:53 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Wierd Search Behavior
References: <1c6801c4172f$592f4b70$6501a8c0@POWERPACK> <7E5E2A15-8323-11D8-AE0E-000393A564E6@ehatchersolutions.com> <1c9401c4173f$e829d290$6501a8c0@POWERPACK> <1dd601c417e8$1b4eff30$6501a8c0@POWERPACK>
In-Reply-To: <1dd601c417e8$1b4eff30$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry,

Can you please try to develop a reproducible test case?  Otherwise it's 
impossible to verify and debug this.

For something like this it would suffice to provide:

   1. The initial index, which satisifies the test queries;

   2. The new index you add;

   3. Your merge and test code, as a single class that illustrates the 
problem.

The smaller the indexes the better: not only will it be easier to 
transfer them, but debugging will be faster.

Also, you should add a bug to track this, at:

   http://issues.apache.org/bugzilla/enter_bug.cgi?product=Lucene

Doug

Terry Steichen wrote:
> I did some more checking and uncovered what appears to be a serious Lucene
> problem. (Either that or my merge code - below - is wrong.)  Appreciate any
> help in figuring out what's wrong.  Here are the facts as I see them:
> 
> 1) I put together a large number of canned queries (some rather complex) for
> routine testing purposes.
> 2) I created a new compound file index and tested the queries.  All worked
> fine.
> 3) I then indexed some new documents and merged the new index with the
> original index.
> 4) I then tried the queries again.  Each time I did this, about 1-3% of the
> queries no longer worked - the actual number appears to vary with each
> merge.
> 5) The specific queries that fail change with each merge. Ones that failed
> after the previous merge almost always appear to work again with the next
> merge (which produces a new batch of failures).
> 6) In all cases I've so far examined, the offending part of the affected
> queries is a single quoted phrase (even though there may be several such
> phrases in the query) - remove it, and the (now modified) query works fine.
> 7) I tried the same thing using the original multi-file index format, with
> the same results.
> 8) About a week and a half ago, I migrated from 1.3final to the latest CVS
> head.
> 9) I've only just started checking this, so I don't know how long this
> behavior has been going on.  The small percentage of errors and (apparent)
> randomness of which query is affected make it hard to detect.
> 10) I have about 32 fields per document, most of which are tokenized,
> indexed and stored.
> 11) My merge code (for the multi-file index format) is this:
> 
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.store.FSDirectory;
> 
> class MergeIndices {
>   public static void main(String[] args) {
> 
>  //args[0]: relative path to main index
>  //args[1]: relative path to new index (to be merged with main)
> 
>  try {
>   IndexWriter writer = new IndexWriter(args[0], new StandardAnalyzer(),
> false);
>  // writer.setUseCompoundFile(true); //used for compound format
>   FSDirectory dir = FSDirectory.getDirectory(args[1], false);
>   FSDirectory[] dirs = new FSDirectory[1];
>   dirs[0] = dir;
>   writer.addIndexes(dirs);
>   writer.optimize();
>   writer.close();
>  } catch (Exception e) {
>   System.out.println(" caught a " + e.getClass() +
>     "\n with message: " + e.getMessage());
>  }
>   }
> 
> }
> 
> 
> 
> ----- Original Message -----
> From: "Terry Steichen" <terry@net-frame.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, March 31, 2004 11:47 AM
> Subject: Re: Wierd Search Behavior
> 
> 
> 
>>No, they're typos in the e-mail.  In the application, all the colons are
>>properly placed.  (Guess I was/am so frustrated I can't write right any
>>more).
>>
>>Terry
>>
>>----- Original Message -----
>>From: "Erik Hatcher" <erik@ehatchersolutions.com>
>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>Sent: Wednesday, March 31, 2004 9:55 AM
>>Subject: Re: Wierd Search Behavior
>>
>>
>>
>>>On Mar 31, 2004, at 9:49 AM, Terry Steichen wrote:\
>>>
>>>>I'm experiencing some very puzzling search behavior.  I am using the
>>>>CVS head I pulled about a week ago.  I use the StandardAnalyzer and
>>>>QueryParser.  I have a collection of XML documents indexed.  One field
>>>>is "subhead", and here's what I find with different queries:
>>>>subhead:(missile defense)    - works fine
>>>>subhead("missile" "defense") - works fine
>>>>subhead("missile defense") - fails
>>>>subhead(missile defense "missile defense") - fails
>>>>subhead(missile defense "missile dork") - works fine
>>>>subhead(missile defense "missile defens") - works fine (note
>>>>misspelling)
>>>
>>>I presume the missing colons on all but the first example is just a
>>>typo in your e-mail?  If not, might that be the problem?
>>>
>>>Erik
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 18:00:34 2004
Return-Path: <lucene-user-return-7807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53526 invoked from network); 1 Apr 2004 18:00:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 18:00:34 -0000
Received: (qmail 38717 invoked by uid 500); 1 Apr 2004 18:00:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38688 invoked by uid 500); 1 Apr 2004 18:00:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38659 invoked from network); 1 Apr 2004 18:00:19 -0000
Received: from unknown (HELO web61206.mail.yahoo.com) (216.155.196.130)
  by daedalus.apache.org with SMTP; 1 Apr 2004 18:00:19 -0000
Message-ID: <20040401175825.14945.qmail@web61206.mail.yahoo.com>
Received: from [159.142.131.152] by web61206.mail.yahoo.com via HTTP; Thu, 01 Apr 2004 09:58:25 PST
Date: Thu, 1 Apr 2004 09:58:25 -0800 (PST)
From: Joe Rayguy <iscjraymond@yahoo.com>
Subject: Iterernal Document Numbers
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I apologize if this has been answered before, but is
it safe to design an application that sorts hits using
an external array based on each hit's internal
document ID?  It seems simple enough to rebuild the
array after an optimization, but what about merges
that
occur in the course of adding documents?  If I plan on
adding documents every minute or so recreating this
array with each addition doesn't seem feasible.

Is there a recommended way to handle such an array for
sorting results?

Thanks.

__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 19:48:53 2004
Return-Path: <lucene-user-return-7808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11508 invoked from network); 1 Apr 2004 19:48:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 19:48:53 -0000
Received: (qmail 3866 invoked by uid 500); 1 Apr 2004 19:48:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3847 invoked by uid 500); 1 Apr 2004 19:48:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3834 invoked from network); 1 Apr 2004 19:48:36 -0000
Received: from unknown (HELO mail-out3.apple.com) (17.254.13.22)
  by daedalus.apache.org with SMTP; 1 Apr 2004 19:48:36 -0000
Received: from mailgate1.apple.com (a17-128-100-225.apple.com [17.128.100.225])
	by mail-out3.apple.com (8.12.11/8.12.11) with ESMTP id i31JmfAS014643
	for <lucene-user@jakarta.apache.org>; Thu, 1 Apr 2004 11:48:41 -0800 (PST)
Received: from relay3.apple.com (relay3.apple.com) by mailgate1.apple.com
 (Content Technologies SMTPRS 4.3.6) with ESMTP id <T68b24f037e118064e13c8@mailgate1.apple.com> for <lucene-user@jakarta.apache.org>;
 Thu, 1 Apr 2004 11:48:41 -0800
Received: from [17.219.199.238] ([17.219.199.238])
	by relay3.apple.com (8.12.11/8.12.11) with ESMTP id i31Jmdlp023462
	for <lucene-user@jakarta.apache.org>; Thu, 1 Apr 2004 19:48:40 GMT
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: 7bit
Message-Id: <92AB0CC9-8415-11D8-9BCB-000A95C8F324@apple.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: David Black <black@apple.com>
Subject: Nested category strategy
Date: Thu, 1 Apr 2004 14:48:39 -0500
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey All,

I'm trying to figure out the best approach to something.

Each document I index has an array of categories which looks like the 
following example....

/Science/Medicine/Serology/blood gas
/Biology/Fluids/Blood/

etc.

Anyway, there's a couple things I'm trying to deal with.

1. The fact that we have an undefined array size.  I can't just shove 
these into a single field.  I could explode them into multiple fields 
on the fly like category_1, category_2. etc. etc

2. The fact that a search will need to be performed like " category: 
/Science/Medicine/*" would need to return all items within that 
category.

Thanks in advance to anyone who can give me some help here.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 19:56:06 2004
Return-Path: <lucene-user-return-7809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15542 invoked from network); 1 Apr 2004 19:56:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 19:56:05 -0000
Received: (qmail 30201 invoked by uid 500); 1 Apr 2004 19:55:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30178 invoked by uid 500); 1 Apr 2004 19:55:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30157 invoked from network); 1 Apr 2004 19:55:50 -0000
Received: from unknown (HELO avas6.telusquebec.local) (142.169.1.121)
  by daedalus.apache.org with SMTP; 1 Apr 2004 19:55:50 -0000
Received: from nodnsquery(192.168.250.8) by avas6.telusquebec.local via csmap 
	 id 78838b9a_8416_11d8_8f1b_0002b3e6f1b0_9744;
	Thu, 01 Apr 2004 14:55:05 -0500 (EST)
Received: from avas6.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp1.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HVI005KFCP5ST@"TELUS Quebec"> for
 lucene-user@jakarta.apache.org; Thu, 01 Apr 2004 14:55:54 -0500 (EST)
Received: from foo.nstein.com(206.162.161.114) by avas6.telusquebec.local via
 csmap	id 78057b4c_8416_11d8_8636_0002b3e6f1b0_9736; Thu,
 01 Apr 2004 14:55:04 -0500 (EST)
Date: Thu, 01 Apr 2004 14:51:15 -0500
From: Tate Avery <tate.avery@nstein.com>
Subject: RE: Nested category strategy
In-reply-to: <92AB0CC9-8415-11D8-9BCB-000A95C8F324@apple.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Reply-to: tate.avery@nstein.com
Message-id: <000e01c41822$b1fae0e0$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Could you put them all into a tab-delimited string and store that as a
single field, then use a TabTokenizer on the field to search?

And, if you need to, do a .split("\t") on the field value in order to break
them back up into individual categories.




-----Original Message-----
From: David Black [mailto:black@apple.com]
Sent: Thursday, April 01, 2004 2:49 PM
To: lucene-user@jakarta.apache.org
Subject: Nested category strategy


Hey All,

I'm trying to figure out the best approach to something.

Each document I index has an array of categories which looks like the
following example....

/Science/Medicine/Serology/blood gas
/Biology/Fluids/Blood/

etc.

Anyway, there's a couple things I'm trying to deal with.

1. The fact that we have an undefined array size.  I can't just shove
these into a single field.  I could explode them into multiple fields
on the fly like category_1, category_2. etc. etc

2. The fact that a search will need to be performed like " category:
/Science/Medicine/*" would need to return all items within that
category.

Thanks in advance to anyone who can give me some help here.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 20:50:15 2004
Return-Path: <lucene-user-return-7810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55683 invoked from network); 1 Apr 2004 20:50:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 20:50:15 -0000
Received: (qmail 69074 invoked by uid 500); 1 Apr 2004 20:49:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68993 invoked by uid 500); 1 Apr 2004 20:49:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68973 invoked from network); 1 Apr 2004 20:49:56 -0000
Received: from unknown (HELO hamhock.hoovers.com) (66.179.38.26)
  by daedalus.apache.org with SMTP; 1 Apr 2004 20:49:56 -0000
Received: from exchange.hoovers.com (gamma.hoovers.com [66.179.38.8])
	by hamhock.hoovers.com (HamHock-OUTBOUND) with ESMTP id C0A04A13AB
	for <lucene-user@jakarta.apache.org>; Thu,  1 Apr 2004 14:50:01 -0600 (CST)
Received: by gamma.hoovers.com with Internet Mail Service (5.5.2657.72)
	id <2AR6SBK3>; Thu, 1 Apr 2004 14:50:01 -0600
Message-ID: <4810C017B52BD4118EEA00B0D020B0ED1408548A@gamma.hoovers.com>
From: Tim Jones <TJones@hoovers.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Iterernal Document Numbers
Date: Thu, 1 Apr 2004 14:50:00 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

the 1.4 release contains sorting code that sorts 
similarly to your description.  You can get the
latest 1.4 release here:

http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc2/

look at org.apache.lucene.search.Sort


> -----Original Message-----
> From: Joe Rayguy [mailto:iscjraymond@yahoo.com]
> Sent: Thursday, April 01, 2004 11:58 AM
> To: lucene-user@jakarta.apache.org
> Subject: Iterernal Document Numbers
> 
> 
> Hi,
> 
> I apologize if this has been answered before, but is
> it safe to design an application that sorts hits using
> an external array based on each hit's internal
> document ID?  It seems simple enough to rebuild the
> array after an optimization, but what about merges
> that
> occur in the course of adding documents?  If I plan on
> adding documents every minute or so recreating this
> array with each addition doesn't seem feasible.
> 
> Is there a recommended way to handle such an array for
> sorting results?
> 
> Thanks.
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - More reliable, more storage, less spam
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 21:26:57 2004
Return-Path: <lucene-user-return-7811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75569 invoked from network); 1 Apr 2004 21:26:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 21:26:57 -0000
Received: (qmail 72050 invoked by uid 500); 1 Apr 2004 21:26:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72022 invoked by uid 500); 1 Apr 2004 21:26:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72000 invoked from network); 1 Apr 2004 21:26:38 -0000
Received: from unknown (HELO web61204.mail.yahoo.com) (216.155.196.128)
  by daedalus.apache.org with SMTP; 1 Apr 2004 21:26:38 -0000
Message-ID: <20040401212643.7061.qmail@web61204.mail.yahoo.com>
Received: from [159.142.131.152] by web61204.mail.yahoo.com via HTTP; Thu, 01 Apr 2004 13:26:43 PST
Date: Thu, 1 Apr 2004 13:26:43 -0800 (PST)
From: Joe Rayguy <iscjraymond@yahoo.com>
Subject: RE: Iterernal Document Numbers
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4810C017B52BD4118EEA00B0D020B0ED1408548A@gamma.hoovers.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tim,

Thanks for your reply.  Believe me, the sorting in 1.4
is greatly welcomed, but I don't think it fits my
particular needs.  My criteria for the sort can change
without notice on the fly, and I'd rather not have to
recreate the index to accomdate this.

Using 1.3 I played with including the sort criteria
(in integer form) in the index, and had every query
include a range in conjunction with a custom
similarity that essentially made the "sort" field the
heaviest criteria.  This worked, although I had
concerns about the speed (including a range in every
query that spanned all documents), and I still had the
issue of how to change scores easily.  I went as far
as to hack up a tool that could modify the index
itself and change the termfreq for my sorting field,
but this is not the road I want to go down! :)

So, assuming that sort as implemented in 1.4 doesn't
work for me, my original question still stands.  Do I
have to worry about merges that occur as documents are
added, or do I only have to rebuild my array after
optimizations?  Or, alternatively, how did everyone
sort before 1.4?

Joe

--- Tim Jones <TJones@hoovers.com> wrote:
> the 1.4 release contains sorting code that sorts 
> similarly to your description.  You can get the
> latest 1.4 release here:
> 
> http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc2/
> 
> look at org.apache.lucene.search.Sort
> 
> 
> > -----Original Message-----
> > From: Joe Rayguy [mailto:iscjraymond@yahoo.com]
> > Sent: Thursday, April 01, 2004 11:58 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Iterernal Document Numbers
> > 
> > 
> > Hi,
> > 
> > I apologize if this has been answered before, but
> is
> > it safe to design an application that sorts hits
> using
> > an external array based on each hit's internal
> > document ID?  It seems simple enough to rebuild
> the
> > array after an optimization, but what about merges
> > that
> > occur in the course of adding documents?  If I
> plan on
> > adding documents every minute or so recreating
> this
> > array with each addition doesn't seem feasible.
> > 
> > Is there a recommended way to handle such an array
> for
> > sorting results?
> > 
> > Thanks.
> > 
> > __________________________________
> > Do you Yahoo!?
> > Yahoo! Mail - More reliable, more storage, less
> spam
> > http://mail.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Mail - More reliable, more storage, less spam
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 01 22:23:47 2004
Return-Path: <lucene-user-return-7812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12655 invoked from network); 1 Apr 2004 22:23:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Apr 2004 22:23:46 -0000
Received: (qmail 89197 invoked by uid 500); 1 Apr 2004 22:23:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89165 invoked by uid 500); 1 Apr 2004 22:23:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89135 invoked from network); 1 Apr 2004 22:23:28 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 1 Apr 2004 22:23:28 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <20040401222333012002gtese>; Thu, 1 Apr 2004 22:23:33 +0000
Message-ID: <406C9616.40908@apache.org>
Date: Thu, 01 Apr 2004 14:22:14 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Iterernal Document Numbers
References: <20040401212643.7061.qmail@web61204.mail.yahoo.com>
In-Reply-To: <20040401212643.7061.qmail@web61204.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joe Rayguy wrote:
> So, assuming that sort as implemented in 1.4 doesn't
> work for me, my original question still stands.  Do I
> have to worry about merges that occur as documents are
> added, or do I only have to rebuild my array after
> optimizations?  Or, alternatively, how did everyone
> sort before 1.4?

If you've made deletions since the last optimize, then document numbers 
can decrease as you do additions, when the deletions are dropped.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 00:19:50 2004
Return-Path: <lucene-user-return-7813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80284 invoked from network); 2 Apr 2004 00:19:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 00:19:50 -0000
Received: (qmail 57086 invoked by uid 500); 2 Apr 2004 00:19:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57063 invoked by uid 500); 2 Apr 2004 00:19:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57049 invoked from network); 2 Apr 2004 00:19:29 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 2 Apr 2004 00:19:29 -0000
Received: (cpmta 22263 invoked from network); 1 Apr 2004 16:19:36 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 1 Apr 2004 16:19:36 -0800
X-Sent: 2 Apr 2004 00:19:36 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <92AB0CC9-8415-11D8-9BCB-000A95C8F324@apple.com>
References: <92AB0CC9-8415-11D8-9BCB-000A95C8F324@apple.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6851637F-843B-11D8-8DD4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Nested category strategy
Date: Thu, 1 Apr 2004 19:19:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 1, 2004, at 2:48 PM, David Black wrote:
> Each document I index has an array of categories which looks like the 
> following example....
>
> /Science/Medicine/Serology/blood gas
> /Biology/Fluids/Blood/
>
> etc.
>
> Anyway, there's a couple things I'm trying to deal with.
>
> 1. The fact that we have an undefined array size.  I can't just shove 
> these into a single field.  I could explode them into multiple fields 
> on the fly like category_1, category_2. etc. etc

Yes, you could use a single field.... and add them individually.

    doc.add(Field.Keyword("category", category1))
    doc.add(Field.Keyword("category", category2))

Or am I missing something about your scenario?

> 2. The fact that a search will need to be performed like " category: 
> /Science/Medicine/*" would need to return all items within that 
> category.

Keep in mind the issues you may encounter using QueryParser with such a 
field selector.  Choose your analyzer(s) carefully!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 00:36:48 2004
Return-Path: <lucene-user-return-7814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89196 invoked from network); 2 Apr 2004 00:36:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 00:36:48 -0000
Received: (qmail 82114 invoked by uid 500); 2 Apr 2004 00:36:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82091 invoked by uid 500); 2 Apr 2004 00:36:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82075 invoked from network); 2 Apr 2004 00:36:27 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 2 Apr 2004 00:36:27 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i320aYn12168;
	Thu, 1 Apr 2004 19:36:34 -0500
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 1 Apr 2004 19:36:34 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   <tate.avery@nstein.com>
Subject: RE: Nested category strategy
In-Reply-To: <000e01c41822$b1fae0e0$4c0012ac@nstein.com>
Message-ID: <Pine.LNX.4.33.0404011931480.10840-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another possibility is to add all combinations in a single field.

addField("category", "/Science/");
addField("category", "/Science/Medicine");
addField("category", "/Science/Foo");
addField("category", "/Biology");

Your wildcard search should work, and you shouldn't have the problem with
a search "/Science/*".

HTH,
sv

On Thu, 1 Apr 2004, Tate Avery wrote:

>
> Could you put them all into a tab-delimited string and store that as a
> single field, then use a TabTokenizer on the field to search?
>
> And, if you need to, do a .split("\t") on the field value in order to break
> them back up into individual categories.
>
>
>
>
> -----Original Message-----
> From: David Black [mailto:black@apple.com]
> Sent: Thursday, April 01, 2004 2:49 PM
> To: lucene-user@jakarta.apache.org
> Subject: Nested category strategy
>
>
> Hey All,
>
> I'm trying to figure out the best approach to something.
>
> Each document I index has an array of categories which looks like the
> following example....
>
> /Science/Medicine/Serology/blood gas
> /Biology/Fluids/Blood/
>
> etc.
>
> Anyway, there's a couple things I'm trying to deal with.
>
> 1. The fact that we have an undefined array size.  I can't just shove
> these into a single field.  I could explode them into multiple fields
> on the fly like category_1, category_2. etc. etc
>
> 2. The fact that a search will need to be performed like " category:
> /Science/Medicine/*" would need to return all items within that
> category.
>
> Thanks in advance to anyone who can give me some help here.
>
> Thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 00:56:55 2004
Return-Path: <lucene-user-return-7815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95920 invoked from network); 2 Apr 2004 00:56:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 00:56:54 -0000
Received: (qmail 7823 invoked by uid 500); 2 Apr 2004 00:56:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7772 invoked by uid 500); 2 Apr 2004 00:56:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7756 invoked from network); 2 Apr 2004 00:56:33 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 2 Apr 2004 00:56:33 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i320uhtG026408
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 1 Apr 2004 16:56:43 -0800
Message-ID: <406CBA48.2070308@newsmonster.org>
Date: Thu, 01 Apr 2004 16:56:40 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance of hit highlighting and finding term positions for
References: <200404010857.i318vIdA028868@server0027.freedom2surf.net>
In-Reply-To: <200404010857.i318vIdA028868@server0027.freedom2surf.net>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigEDB05B411A75F0C2A84FEE6D"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigEDB05B411A75F0C2A84FEE6D
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

markharw00d@yahoo.co.uk wrote:

>730 msecs is the correct number for 10 * 16k docs with StandardTokenizer! 
>The 11ms per doc figure in my post was for highlighlighting using a \
>lower-case-filter-only analyzer. 5ms of this figure was the cost of the \
>lower-case-filter-only analyzer.
>
>73 msecs is the cost of JUST StandardTokenizer (no highlighting)
>StandardAnalyzer uses StandardTokenizer so is probably used in a lot of apps. It \
>tries to keep certain text eg email addresses as one term. I can live without it and \
>I suspect most apps can too. I haven't looked into why its slow but I notice it does \
>make use of Vectors. I think a lot of people's highlighter performance issues may \
>extend from this.
>
>  
>
Looking at StandardTokenizer I can't see anything that would slow it 
down much... can we get the source to your lower case fitler?!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigEDB05B411A75F0C2A84FEE6D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAbLpI6E2NBJnxRBIRAjFPAJ9HMztr9BQ2hRZBis6QYM39l/bKAgCdHU9B
Gike8YKPXtBxXvT9Z0YUU6Q=
=sJpQ
-----END PGP SIGNATURE-----

--------------enigEDB05B411A75F0C2A84FEE6D--

From lucene-user-return-7816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 03:09:54 2004
Return-Path: <lucene-user-return-7816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58126 invoked from network); 2 Apr 2004 03:09:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 03:09:53 -0000
Received: (qmail 76169 invoked by uid 500); 2 Apr 2004 03:09:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76142 invoked by uid 500); 2 Apr 2004 03:09:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76127 invoked from network); 2 Apr 2004 03:09:29 -0000
Received: from unknown (HELO ralph.harvard.edu) (128.103.149.85)
  by daedalus.apache.org with SMTP; 2 Apr 2004 03:09:29 -0000
Received: from ELMO (vpnclient-sub1-121.vpn.harvard.edu [10.1.1.121])
	by camail.harvard.edu (Postfix) with SMTP id B222AA6B97
	for <lucene-user@jakarta.apache.org>; Thu,  1 Apr 2004 22:09:38 -0500 (EST)
Message-ID: <015201c4185f$ef094b60$0202a8c0@ELMO>
Reply-To: "Olga Dadasheva" <olga_dadasheva@harvard.edu>
From: "Olga Dadasheva" <olga_dadasheva@harvard.edu>
To: <lucene-user@jakarta.apache.org>
Subject: "Already closed" IOException during index backup
Date: Thu, 1 Apr 2004 22:09:34 -0500
Organization: Harvard University
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_014F_01C41836.03FF4C60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_014F_01C41836.03FF4C60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using Lucene latest CVS build and getting "Already closed" =
IOException during index backup.=20
This code used to work , and I can still make it work if I set =
writer.setUseCompoundFile(false);=20

Below is the stak trace and test code.


java.io.IOException: Already closed
Exception during index backup. java.io.IOException: Already closed
 at =
org.apache.lucene.index.CompoundFileReader.close(CompoundFileReader.java:=
110)
 at =
org.apache.lucene.index.SegmentReader.doClose(SegmentReader.java:170)
 at org.apache.lucene.index.IndexReader.close(IndexReader.java:413)
 at lucene.TestBackupIndex.backupCurrentIndex(TestBackupIndex.java:52)
 at lucene.TestBackupIndex.main(TestBackupIndex.java:43)


public class TestBackupIndex {
 String indexPath =3D "index";
 public TestBackupIndex() {
     try {
       IndexWriter writer =3D new IndexWriter(indexPath, new =
StandardAnalyzer(), true);
       Document doc =3D new Document();
       doc.add(new Field("category", "public", true, true, false));
       doc.add(new Field("content", "quick brown fox", true, true, =
false));
       writer.addDocument(doc);
       writer.optimize();
       writer.close();
       System.out.println("index built");

     } catch (IOException e) {
      e.printStackTrace();
     }
 }
 public static void main(String[] args) {
  TestBackupIndex test =3D new TestBackupIndex();
  test.backupCurrentIndex("backup");
 }
=20
 public void backupCurrentIndex(String backupDir){
  try {
   IndexReader reader =3D IndexReader.open(indexPath);
   IndexWriter writer =3D new IndexWriter(backupDir, new =
StandardAnalyzer(), true);
   writer.addIndexes(new IndexReader[] { reader });
   writer.close();
   reader.close();
  } catch (IOException e) {
   System.out.println("Exception during index backup. "+e);
   e.printStackTrace();
  }
 }
=20
}


Thank you,
-Olga

------=_NextPart_000_014F_01C41836.03FF4C60--



From lucene-user-return-7817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 09:15:10 2004
Return-Path: <lucene-user-return-7817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36130 invoked from network); 2 Apr 2004 09:15:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 09:15:10 -0000
Received: (qmail 85293 invoked by uid 500); 2 Apr 2004 09:14:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85269 invoked by uid 500); 2 Apr 2004 09:14:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85237 invoked from network); 2 Apr 2004 09:14:39 -0000
Received: from unknown (HELO mastercontroll.ascirum.tz) (217.194.225.102)
  by daedalus.apache.org with SMTP; 2 Apr 2004 09:14:39 -0000
Content-class: urn:content-classes:message
Subject: Find all Words in a Document
Date: Fri, 2 Apr 2004 11:19:56 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <F3F753992505C2478C845CDD85194D1E5F86@mastercontroll.ascirum.tz>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Find all Words in a Document
Thread-Index: AcQYk6oO4Gj9Ua13ROiq9ACNqSlrfg==
From: "peters marcus" <marcus.peters@ascirum.de>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

is there a way to get all words stored in the index for a given document
?

Thanks

Marcus Peters




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:12:16 2004
Return-Path: <lucene-user-return-7818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72152 invoked from network); 2 Apr 2004 15:12:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:12:15 -0000
Received: (qmail 36997 invoked by uid 500); 2 Apr 2004 15:12:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36972 invoked by uid 500); 2 Apr 2004 15:12:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36957 invoked from network); 2 Apr 2004 15:12:03 -0000
Received: from unknown (HELO hotmail.com) (207.68.165.49)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:12:03 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 2 Apr 2004 07:12:05 -0800
Received: from 213.11.44.138 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Fri, 02 Apr 2004 15:12:05 GMT
X-Originating-IP: [213.11.44.138]
X-Originating-Email: [philouchat@hotmail.com]
X-Sender: philouchat@hotmail.com
From: "Phil brunet" <philouchat@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Performing exact search with Lucene 
Date: Fri, 02 Apr 2004 15:12:05 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Sea2-F49FmXNZ60A8nA000448db@hotmail.com>
X-OriginalArrivalTime: 02 Apr 2004 15:12:05.0258 (UTC) FILETIME=[DBBEAEA0:01C418C4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all.

I'm migrating a part of an application from Oracle intermedia to Lucene 
(1.3) to perform full text searches.

I'd like to know if there is a way to perform "exact queries". By "exact 
query", i mean beeing able to match ONLY document that are exactely equals 
to the terms of the query.

Exemple:

document 1 =    "this is an example"
document 2 =    "this is an example of document"
document 3 =    "this is an other example "

Is it possible to match ONLY document 1 if i search for "this is an exemple" 
?

Currently, i'm trying to override the DefaultSimilarity class in order to be 
be able to deduce an exact match from the score.

My query consists in a BooleanQuery composed by n TermQuery.

I know i can develop by myself a "post filter" that could count compare the 
number of tokens of the query and the number of tokens of the indexed 
document. But i would like to know if there is a proper way to do this :
-> directly with Lucene (i.e. a Lucene query that would match only document 
1 in my example)
-> by redefining the Similarity and so by "interpreting" the scores
-> any idea ....

Thanks.

Philippe

_________________________________________________________________
Trouvez l'me soeur sur MSN Rencontres http://g.msn.fr/FR1000/9551


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:16:29 2004
Return-Path: <lucene-user-return-7819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74212 invoked from network); 2 Apr 2004 15:16:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:16:29 -0000
Received: (qmail 51419 invoked by uid 500); 2 Apr 2004 15:16:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51393 invoked by uid 500); 2 Apr 2004 15:16:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51373 invoked from network); 2 Apr 2004 15:16:18 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:16:18 -0000
Received: (qmail 14130 invoked from network); 2 Apr 2004 15:00:52 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.228.62])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 2 Apr 2004 15:00:52 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id CFFD22C0E
	for <lucene-user@jakarta.apache.org>; Fri,  2 Apr 2004 17:00:55 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Fri, 2 Apr 2004 17:00:54 +0200
User-Agent: KMail/1.6.1
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com>
In-Reply-To: <20040313100601.26492.qmail@web12708.mail.yahoo.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404021700.55017.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 13 March 2004 11:06, Otis Gospodnetic wrote:
> Field.Keyword is suitable for storing data like Url.  Give that a try.

I just tried this a minute ago and found that I cannot use wildcards with 
Keywords: url:www.yahoo.*

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:18:05 2004
Return-Path: <lucene-user-return-7820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75302 invoked from network); 2 Apr 2004 15:18:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:18:05 -0000
Received: (qmail 56184 invoked by uid 500); 2 Apr 2004 15:17:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56163 invoked by uid 500); 2 Apr 2004 15:17:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56150 invoked from network); 2 Apr 2004 15:17:54 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:17:54 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz1.forethought.net with esmtp (Exim 4.30)
	id 1B9QQe-0001ZP-7Z
	for lucene-user@jakarta.apache.org; Fri, 02 Apr 2004 08:17:56 -0700
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Performing exact search with Lucene
Date: Fri, 2 Apr 2004 08:23:51 -0700
User-Agent: KMail/1.5
References: <Sea2-F49FmXNZ60A8nA000448db@hotmail.com>
In-Reply-To: <Sea2-F49FmXNZ60A8nA000448db@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
Message-Id: <200404020823.51043.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 02 April 2004 08:12, Phil brunet wrote:
> Hi all.
>
> I'm migrating a part of an application from Oracle intermedia to Lucene
> (1.3) to perform full text searches.

Congratulations! :-)

> I'd like to know if there is a way to perform "exact queries". By "exact
> query", i mean beeing able to match ONLY document that are exactely equals
> to the terms of the query.

I believe plain old PhraseQuery does exactly that? You can build one yourself, 
or, using QueryParser, use something like

+"this is an example"

(making sure you use correct analyzer, depending on whether you want 'an' to 
be significant token in there).
Note, too, that '+' prefix in there is not absolutely needed, if you don't 
have multiple parts to the query; even without that it'd only consider 
documents that have that exact phrase.

-+ Tatu +-

>
> Exemple:
>
> document 1 =    "this is an example"
> document 2 =    "this is an example of document"
> document 3 =    "this is an other example "
>
> Is it possible to match ONLY document 1 if i search for "this is an
> exemple" ?
>
> Currently, i'm trying to override the DefaultSimilarity class in order to
> be be able to deduce an exact match from the score.
>
> My query consists in a BooleanQuery composed by n TermQuery.
>
> I know i can develop by myself a "post filter" that could count compare the
> number of tokens of the query and the number of tokens of the indexed
> document. But i would like to know if there is a proper way to do this :
> -> directly with Lucene (i.e. a Lucene query that would match only document
> 1 in my example)
> -> by redefining the Similarity and so by "interpreting" the scores
> -> any idea ....
>
> Thanks.
>
> Philippe
>
> _________________________________________________________________
> Trouvez l'me soeur sur MSN Rencontres http://g.msn.fr/FR1000/9551
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:23:24 2004
Return-Path: <lucene-user-return-7821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78115 invoked from network); 2 Apr 2004 15:23:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:23:24 -0000
Received: (qmail 72537 invoked by uid 500); 2 Apr 2004 15:22:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72513 invoked by uid 500); 2 Apr 2004 15:22:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72466 invoked from network); 2 Apr 2004 15:22:26 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:22:26 -0000
Received: (qmail 16219 invoked from network); 2 Apr 2004 15:03:46 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.228.62])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 2 Apr 2004 15:03:46 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 538372B25
	for <lucene-user@jakarta.apache.org>; Fri,  2 Apr 2004 17:03:50 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: Simple date/range question
Date: Fri, 2 Apr 2004 17:03:49 +0200
User-Agent: KMail/1.6.1
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404021703.49666.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I do have some problems with date and the QueryParser range syntax.

code:

java.sql.Timestamp time = row.getTimestamp("timestamp");
if (time != null) doc.add(Field.Keyword("date", new Date(time.getTime())));

query:
date:[20030101 TO 20030202]
date:20030101

The first query does throw a ParserException, the second doesn't return any 
hits.

Hmm...there must be something simple I misunderstood :) BTW what about custom 
date format in QueryParser (...and are the last two digits actually the day 
or month)?

TIA
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:46:08 2004
Return-Path: <lucene-user-return-7822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91563 invoked from network); 2 Apr 2004 15:46:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:46:08 -0000
Received: (qmail 38390 invoked by uid 500); 2 Apr 2004 15:45:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38358 invoked by uid 500); 2 Apr 2004 15:45:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38305 invoked from network); 2 Apr 2004 15:45:26 -0000
Received: from unknown (HELO hotmail.com) (207.68.165.56)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:45:26 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 2 Apr 2004 07:45:28 -0800
Received: from 213.11.44.138 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Fri, 02 Apr 2004 15:45:28 GMT
X-Originating-IP: [213.11.44.138]
X-Originating-Email: [philouchat@hotmail.com]
X-Sender: philouchat@hotmail.com
From: "Phil brunet" <philouchat@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Performing exact search with Lucene
Date: Fri, 02 Apr 2004 15:45:28 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Sea2-F560mkhcQZt0p500017c21@hotmail.com>
X-OriginalArrivalTime: 02 Apr 2004 15:45:28.0390 (UTC) FILETIME=[85B45E60:01C418C9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for your quick answer. I'm going to try the PhraseQuery as you 
propose.

But considering theses three examples :

document 1 =    "this is an example"
document 2 =    "this is an example of document"
document 3 =    "this is an other example"

i guess that a PhraseQuery, based on :

    +"this is an example"

and with setSlop(0) will match document1 AND also document2 ?

Does the PhraseQuery act as the SQL operator  LIKE  "%something_to_search%" 
or like the '=' SQL operator ?

I'm going to investigate.

Thanks again.

Philippe

_________________________________________________________________
MSN Messenger http://g.msn.fr/FR1001/866  : dialoguez en son et en images 
avec vos amis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 15:58:33 2004
Return-Path: <lucene-user-return-7823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1146 invoked from network); 2 Apr 2004 15:58:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 15:58:33 -0000
Received: (qmail 86914 invoked by uid 500); 2 Apr 2004 15:58:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86895 invoked by uid 500); 2 Apr 2004 15:58:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86879 invoked from network); 2 Apr 2004 15:58:22 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 2 Apr 2004 15:58:22 -0000
Received: (qmail 9529 invoked from network); 2 Apr 2004 15:44:12 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.228.62])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 2 Apr 2004 15:44:12 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 129002746
	for <lucene-user@jakarta.apache.org>; Fri,  2 Apr 2004 17:44:18 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Simple date/range question
Date: Fri, 2 Apr 2004 17:44:17 +0200
User-Agent: KMail/1.6.1
References: <200404021703.49666.lucene@nitwit.de>
In-Reply-To: <200404021703.49666.lucene@nitwit.de>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404021744.17495.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 02 April 2004 17:03, lucene@nitwit.de wrote:
> java.sql.Timestamp time = row.getTimestamp("timestamp");
> if (time != null) doc.add(Field.Keyword("date", new Date(time.getTime())));
>
> date:20030101

BTW Looking at the index using luke I found that date contains something that 
looks like a hash to me....is the  object stored in index or what?!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 16:17:37 2004
Return-Path: <lucene-user-return-7824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16356 invoked from network); 2 Apr 2004 16:17:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 16:17:37 -0000
Received: (qmail 25837 invoked by uid 500); 2 Apr 2004 16:17:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25660 invoked by uid 500); 2 Apr 2004 16:17:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25645 invoked from network); 2 Apr 2004 16:17:25 -0000
Received: from unknown (HELO mail.obs.com) (209.101.182.21)
  by daedalus.apache.org with SMTP; 2 Apr 2004 16:17:25 -0000
Received: from greatmeadows.obs.com (ws.obs.com [209.101.182.2])
	by mail.obs.com (OBS Enterprise Mail) with ESMTP id i32GHQ411550
	for <lucene-user@jakarta.apache.org>; Fri, 2 Apr 2004 11:17:26 -0500
Message-Id: <6.0.0.22.2.20040402110823.03c3fe68@pop3.obs.com>
X-Sender: ioan@pop3.obs.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Fri, 02 Apr 2004 11:17:54 -0500
To: lucene-user@jakarta.apache.org
From: Ioan Miftode <ioan@obs.com>
Subject: phrase search with slop seem to ignore term order
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi everybody

I'm trying to do some phrase searches with slop > 0.
I noticed that if you set the slop to anything higher than 0 the order of the
terms does not matter anymore.

EG.

The field is:

The quick brown fox jumps over the lazy dog

if I search on "fox brown" with slop = 0 the document is not found
but if I set the slop to 4 (for example) the document is found.

Is this the normal behavior ? Would be nice to preserve the order of the terms.


Anyway, what I'm trying to do is:

For a query like:

"term1 term2 term3"

return all documents that have term1 followed (at some distance) by term2 
followed (at some distance) by term3.
like below.

xxxx xxxx xxxx term1 xxxx xxxx xxxxx xxx xxxxx term2 xxx xx term3 xxxx xxxx 
xxxx xxxx

What is the best way to accomplish this ?

Thanks a lot

ioan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 16:26:30 2004
Return-Path: <lucene-user-return-7825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21881 invoked from network); 2 Apr 2004 16:26:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 16:26:30 -0000
Received: (qmail 53100 invoked by uid 500); 2 Apr 2004 16:26:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53078 invoked by uid 500); 2 Apr 2004 16:26:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53064 invoked from network); 2 Apr 2004 16:26:19 -0000
Received: from unknown (HELO ns1.definityhealth.com) (12.106.30.20)
  by daedalus.apache.org with SMTP; 2 Apr 2004 16:26:19 -0000
Received: from elwood.definityhealth.com (elwood [10.19.3.122])
	by ns1.definityhealth.com (8.11.6/8.11.6) with ESMTP id i32GQLw01780
	for <lucene-user@jakarta.apache.org>; Fri, 2 Apr 2004 10:26:21 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: "starts with" query functionality
Date: Fri, 2 Apr 2004 10:20:54 -0600
Message-ID: <2DC164E17BF00741B75A02EDA6D4A89701E02CCC@elwood.definityhealth.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: "starts with" query functionality
Thread-Index: AcQYznjgibwjm4JPQjCbri10xGdI6Q==
From: "Chad Small" <Chad.Small@definityhealth.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

V2UgaGF2ZSBhIHJlcXVpcmVtZW50IHRvIHJldHVybiBkb2N1bWVudHMgd2l0aCBhICJ0aXRsZSIg
ZmllbGQgdGhhdCBzdGFydHMgd2l0aCBhIGNlcnRhaW4gbGV0dGVyLiAgSXMgdGhlcmUgYSB3YXkg
dG8gZG8gc29tZXRoaW5nIGxpa2UgdGhpcz8gIFdlJ3JlIHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5
emVyDQogDQpFeGFtcGxlIHRpdGxlIGZpZWxkczoNCiANClRoaXMgaXMgdGhlIHRpdGxlIG9mIGEg
ZG9jdW1lbnQuDQpBbmQgdGhpcyBpcyBhIHRpdGxlIG9mIGEgZGlmZmVyZW50IGRvY3VtZW50Lg0K
IA0KVGhpcyBxdWVyeSBkb2Vzbid0IGZ1bGZpbGwgdGhlIHJlcXVpcmVtZW50Og0KKyh0KikgIC0g
anVzdCB3YW50IHRvIHJldHVybiB0aGUgMXN0IGRvY3VtZW50IHRoYXQgc3RhcnRzIHdpdGggIlRo
aXMiLCBhbmQgbm90IHRoZSAybmQgYXJ0aWNsZSB0aGF0IGhhcyAidGhpcyIgYXMgdGhlIDJuZCB3
b3JkLg0KIA0KT3IgaXMgaXQganVzdCBhIG1hdHRlciBvZiBjcmVhdGluZyBhIGZpZWxkIGluIHRo
ZSBpbmRleCBjYWxsZWQgInRpdGxlX3N0YXJ0c193aXRoIiB0aGF0IHdvdWxkIGxvb2sgbGlrZSB0
aGlzIGZvciB0aGUgZXhhbXBsZToNCiANClQNCkENCiANCk5vdywgdGhlIHF1ZXJ5ICsodCkgd291
bGQgb25seSBnZXQgYSBoaXQgb24gdGhlIDFzdCBkb2N1bWVudC4NCk9yIGlzIHRoZXJlIGEgYmV0
dGVyIHdheT8NCiANCnRoYW5rcywNCmNoYWQuDQogDQogDQo=


From lucene-user-return-7826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 16:57:26 2004
Return-Path: <lucene-user-return-7826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40633 invoked from network); 2 Apr 2004 16:57:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 16:57:26 -0000
Received: (qmail 38267 invoked by uid 500); 2 Apr 2004 16:57:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38244 invoked by uid 500); 2 Apr 2004 16:57:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38224 invoked from network); 2 Apr 2004 16:57:13 -0000
Received: from unknown (HELO mailer.syr.edu) (128.230.18.29)
  by daedalus.apache.org with SMTP; 2 Apr 2004 16:57:13 -0000
Received: from syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.10390B6E@mailer.syr.edu>; Fri, 2 Apr 2004 11:57:16 -0500
Message-ID: <406D9B6C.8020204@syr.edu>
Date: Fri, 02 Apr 2004 11:57:16 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performing exact search with Lucene
References: <Sea2-F560mkhcQZt0p500017c21@hotmail.com>
In-Reply-To: <Sea2-F560mkhcQZt0p500017c21@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Phil,

If you *really* want exact matching against documents, you could put the
document content into a keyword field (that is, one field per doc, with
no tokenization), then search with your query as a single term, rather
than tokenized into separate terms.  This way, you're guaranteed a match
only if the match is complete and exact.

Of course, if you don't *really* mean exact matching (e.g., if you want
to allow multiple spaces between words, or for newlines to substitute
for spaces, etc.), then you'll have to find a different solution.

Steve Rowe

Phil brunet wrote:

> Thanks for your quick answer. I'm going to try the PhraseQuery as you 
> propose.
> 
> But considering theses three examples :
> 
> document 1 =    "this is an example"
> document 2 =    "this is an example of document"
> document 3 =    "this is an other example"
> 
> i guess that a PhraseQuery, based on :
> 
>    +"this is an example"
> 
> and with setSlop(0) will match document1 AND also document2 ?
> 
> Does the PhraseQuery act as the SQL operator  LIKE  
> "%something_to_search%" or like the '=' SQL operator ?
> 
> I'm going to investigate.
> 
> Thanks again.
> 
> Philippe
> 
> _________________________________________________________________
> MSN Messenger http://g.msn.fr/FR1001/866  : dialoguez en son et en 
> images avec vos amis
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 17:00:03 2004
Return-Path: <lucene-user-return-7827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42279 invoked from network); 2 Apr 2004 17:00:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 17:00:02 -0000
Received: (qmail 45415 invoked by uid 500); 2 Apr 2004 16:59:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45395 invoked by uid 500); 2 Apr 2004 16:59:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45382 invoked from network); 2 Apr 2004 16:59:51 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 2 Apr 2004 16:59:51 -0000
Message-ID: <20040402165952.62163.qmail@web12702.mail.yahoo.com>
Received: from [195.29.121.123] by web12702.mail.yahoo.com via HTTP; Fri, 02 Apr 2004 08:59:52 PST
Date: Fri, 2 Apr 2004 08:59:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Simple date/range question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200404021703.49666.lucene@nitwit.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

YYYYMMDD is the format
You Timestamp contains HH mm, and ss, that's likely why your second
query doesn't match anything.
Drop everything other than YYYYMMDD from the index, and things should
work.

Otis

--- lucene@nitwit.de wrote:
> Hi!
> 
> I do have some problems with date and the QueryParser range syntax.
> 
> code:
> 
> java.sql.Timestamp time = row.getTimestamp("timestamp");
> if (time != null) doc.add(Field.Keyword("date", new
> Date(time.getTime())));
> 
> query:
> date:[20030101 TO 20030202]
> date:20030101
> 
> The first query does throw a ParserException, the second doesn't
> return any 
> hits.
> 
> Hmm...there must be something simple I misunderstood :) BTW what
> about custom 
> date format in QueryParser (...and are the last two digits actually
> the day 
> or month)?
> 
> TIA
> Timo
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 18:00:40 2004
Return-Path: <lucene-user-return-7828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74111 invoked from network); 2 Apr 2004 18:00:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 18:00:40 -0000
Received: (qmail 39325 invoked by uid 500); 2 Apr 2004 18:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39125 invoked by uid 500); 2 Apr 2004 18:00:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39109 invoked from network); 2 Apr 2004 18:00:26 -0000
Received: from unknown (HELO avas7.telusquebec.local) (142.169.1.124)
  by daedalus.apache.org with SMTP; 2 Apr 2004 18:00:26 -0000
Received: from nodnsquery(192.168.250.24) by avas7.telusquebec.local via csmap 
	 id dd75c81c_848c_11d8_801e_0002b3a434af_12023;
	Fri, 02 Apr 2004 10:02:35 +0000 (UTC)
Received: from avas7.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp2.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HVK00DAA205JA@"TELUS Quebec"> for
 lucene-user@jakarta.apache.org; Fri, 02 Apr 2004 13:00:06 -0500 (EST)
Received: from foo.nstein.com(206.162.161.114) by avas7.telusquebec.local via
 csmap	id cef99430_848c_11d8_9bbe_0002b3a434af_11548; Fri,
 02 Apr 2004 10:02:11 +0000 (UTC)
Date: Fri, 02 Apr 2004 12:55:25 -0500
From: Tate Avery <tate.avery@nstein.com>
Subject: Numeric field data
To: lucene-user@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <001101c418db$adc2b660$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Is there a way (direct or indirect) to support a field with numeric data?

More specifically, I would be interested in doing a range search on numeric
data and having something like:

	number:[1 TO 2]

... and not have it return 11 or 103, etc.  But, return 1.5, for example.

Is there any support in current and/or upcoming versions for this type of
thing?
Or, has anyone figured out a creative workaround to obtain the desired
result?


Thank you for any comments,
Tate

p.s.  Ideally, I would be able to do equal, greater than, less than and
these in combination with each other (i.e. ranges, greater than or equal to,
etc.).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 18:08:06 2004
Return-Path: <lucene-user-return-7829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78249 invoked from network); 2 Apr 2004 18:08:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 18:08:06 -0000
Received: (qmail 61914 invoked by uid 500); 2 Apr 2004 18:07:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61890 invoked by uid 500); 2 Apr 2004 18:07:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61874 invoked from network); 2 Apr 2004 18:07:52 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 2 Apr 2004 18:07:52 -0000
Received: (qmail 26398 invoked from network); 2 Apr 2004 18:07:54 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.228.62])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 2 Apr 2004 18:07:54 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 0696125BB
	for <lucene-user@jakarta.apache.org>; Fri,  2 Apr 2004 20:08:01 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Simple date/range question
Date: Fri, 2 Apr 2004 20:08:01 +0200
User-Agent: KMail/1.6.1
References: <20040402165952.62163.qmail@web12702.mail.yahoo.com>
In-Reply-To: <20040402165952.62163.qmail@web12702.mail.yahoo.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404022008.01358.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 02 April 2004 18:59, Otis Gospodnetic wrote:
> You Timestamp contains HH mm, and ss, that's likely why your second

My timestamp contains date and time.

> query doesn't match anything.
> Drop everything other than YYYYMMDD from the index, and things should
> work.

What's wrong with new Date(timestamp)?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 18:59:09 2004
Return-Path: <lucene-user-return-7830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8797 invoked from network); 2 Apr 2004 18:59:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 18:59:09 -0000
Received: (qmail 93818 invoked by uid 500); 2 Apr 2004 18:58:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93796 invoked by uid 500); 2 Apr 2004 18:58:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93772 invoked from network); 2 Apr 2004 18:58:52 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 2 Apr 2004 18:58:52 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i32IwtiI028535;
	Fri, 2 Apr 2004 13:58:56 -0500
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i32IwtIq028531;
	Fri, 2 Apr 2004 13:58:55 -0500
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 2 Apr 2004 13:58:55 -0500 (EST)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   <tate.avery@nstein.com>
Subject: Re: Numeric field data
In-Reply-To: <001101c418db$adc2b660$4c0012ac@nstein.com>
Message-ID: <Pine.LNX.4.44.0404021356100.28387-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Tate,

There is a solution by Erik that pads numbers in the index. That would 
allow you to search correctly. I'm not sure about decimal, but you could 
always add a multiplier.

HTH,
sv

On Fri, 2 Apr 2004, Tate Avery wrote:

> Hello,
> 
> Is there a way (direct or indirect) to support a field with numeric data?
> 
> More specifically, I would be interested in doing a range search on numeric
> data and having something like:
> 
> 	number:[1 TO 2]
> 
> ... and not have it return 11 or 103, etc.  But, return 1.5, for example.
> 
> Is there any support in current and/or upcoming versions for this type of
> thing?
> Or, has anyone figured out a creative workaround to obtain the desired
> result?
> 
> 
> Thank you for any comments,
> Tate
> 
> p.s.  Ideally, I would be able to do equal, greater than, less than and
> these in combination with each other (i.e. ranges, greater than or equal to,
> etc.).
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 19:39:37 2004
Return-Path: <lucene-user-return-7831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31300 invoked from network); 2 Apr 2004 19:39:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 19:39:37 -0000
Received: (qmail 96145 invoked by uid 500); 2 Apr 2004 19:39:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96101 invoked by uid 500); 2 Apr 2004 19:39:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96086 invoked from network); 2 Apr 2004 19:39:19 -0000
Received: from unknown (HELO mail.obs.com) (209.101.182.21)
  by daedalus.apache.org with SMTP; 2 Apr 2004 19:39:19 -0000
Received: from greatmeadows.obs.com (ws.obs.com [209.101.182.2])
	by mail.obs.com (OBS Enterprise Mail) with ESMTP id i32JdM407583
	for <lucene-user@jakarta.apache.org>; Fri, 2 Apr 2004 14:39:22 -0500
Message-Id: <6.0.0.22.2.20040402143832.03afaa58@pop3.obs.com>
X-Sender: ioan@pop3.obs.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Fri, 02 Apr 2004 14:40:14 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ioan Miftode <ioan@obs.com>
Subject: Re: phrase search with slop seem to ignore term order
In-Reply-To: <6.0.0.22.2.20040402110823.03c3fe68@pop3.obs.com>
References: <6.0.0.22.2.20040402110823.03c3fe68@pop3.obs.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Answering this myself:
I just realized that SpanQuery does everything I need.

ioan

At 11:17 AM 4/2/2004, you wrote:


>Hi everybody
>
>I'm trying to do some phrase searches with slop > 0.
>I noticed that if you set the slop to anything higher than 0 the order of the
>terms does not matter anymore.
>
>EG.
>
>The field is:
>
>The quick brown fox jumps over the lazy dog
>
>if I search on "fox brown" with slop = 0 the document is not found
>but if I set the slop to 4 (for example) the document is found.
>
>Is this the normal behavior ? Would be nice to preserve the order of the 
>terms.
>
>
>Anyway, what I'm trying to do is:
>
>For a query like:
>
>"term1 term2 term3"
>
>return all documents that have term1 followed (at some distance) by term2 
>followed (at some distance) by term3.
>like below.
>
>xxxx xxxx xxxx term1 xxxx xxxx xxxxx xxx xxxxx term2 xxx xx term3 xxxx 
>xxxx xxxx xxxx
>
>What is the best way to accomplish this ?
>
>Thanks a lot
>
>ioan
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 21:48:43 2004
Return-Path: <lucene-user-return-7832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7781 invoked from network); 2 Apr 2004 21:48:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 21:48:43 -0000
Received: (qmail 36785 invoked by uid 500); 2 Apr 2004 21:48:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36755 invoked by uid 500); 2 Apr 2004 21:48:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36729 invoked from network); 2 Apr 2004 21:48:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 2 Apr 2004 21:48:24 -0000
Received: (cpmta 8010 invoked from network); 2 Apr 2004 13:48:29 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 2 Apr 2004 13:48:29 -0800
X-Sent: 2 Apr 2004 21:48:29 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404021700.55017.lucene@nitwit.de>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404021700.55017.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <788EF57F-84EF-11D8-9B28-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Fri, 2 Apr 2004 16:48:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 2, 2004, at 10:00 AM, lucene@nitwit.de wrote:
> On Saturday 13 March 2004 11:06, Otis Gospodnetic wrote:
>> Field.Keyword is suitable for storing data like Url.  Give that a try.
>
> I just tried this a minute ago and found that I cannot use wildcards 
> with
> Keywords: url:www.yahoo.*

You *can* use wildcards with keywords (in fact, a keyword really has no 
meaning once indexed - everything is a "term" at that point).

99% of the issues people have with things like this end up being 
Analyzer/QueryParser related.

A few quick pieces of advice:

  - use Luke to see what is inside your index and understand what it 
looks like from the inside.
  - create a utility (I've posted one on the list in the past) that 
shows what your analyzer is doing graphically.
  - use Query.toString to output what QueryParser did to your query 
expression.

Armed with the above bits of trivia, you have the information to 
troubleshoot the situation first-hand.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 02 22:06:44 2004
Return-Path: <lucene-user-return-7833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14562 invoked from network); 2 Apr 2004 22:06:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Apr 2004 22:06:43 -0000
Received: (qmail 69537 invoked by uid 500); 2 Apr 2004 22:06:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69514 invoked by uid 500); 2 Apr 2004 22:06:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69499 invoked from network); 2 Apr 2004 22:06:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 2 Apr 2004 22:06:24 -0000
Received: (cpmta 25460 invoked from network); 2 Apr 2004 14:06:29 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 2 Apr 2004 14:06:29 -0800
X-Sent: 2 Apr 2004 22:06:29 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404021703.49666.lucene@nitwit.de>
References: <200404021703.49666.lucene@nitwit.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <FC45AF48-84F1-11D8-9B28-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Simple date/range question
Date: Fri, 2 Apr 2004 17:06:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Let me clarify what Otis meant as well as shed some light on the other=20=

questions in this thread.

On Apr 2, 2004, at 10:03 AM, lucene@nitwit.de wrote:
> if (time !=3D null) doc.add(Field.Keyword("date", new=20
> Date(time.getTime())));
>
> query:
> date:[20030101 TO 20030202]
> date:20030101
>
> The first query does throw a ParserException, the second doesn't=20
> return any
> hits.

QueryParser uses DateFormat.SHORT to parse dates using the default=20
locale.  20030101 does not parse using that format string.

If you are truly only representing dates (not times) then use, what=20
Otis meant, YYYYMMDD *Strings* to represent the date.  If you need=20
times as well, first be aware of what RangeQuery does (expand all terms=20=

in that range!) so that you aren't shocked with performance or a too=20
many clauses exception.

When you use Field.Keyword(String, Date), the date is converted into a=20=

lexicographically ordered value (the ugly thing you saw in Luke).  This=20=

is why, if you only care about dates, YYYYMMDD is recommended (it must=20=

sort properly).

> Hmm...there must be something simple I misunderstood :) BTW what about=20=

> custom
> date format in QueryParser (...and are the last two digits actually=20
> the day
> or month)?

Custom date format in QueryParser is quite do-able.  Subclass=20
QueryParser and override getRangeQuery and do what you like there.

I do something similar in Lucene in Action.  I'd like users to search=20
on ranges like lastmodified:[1/1/04 TO 12/31/04], but internally I=20
represent dates as YYYYMMDD.  To make the conversion, I had to have a=20
custom QueryParser....

/**
  * =46rom Lucene in Action (Manning Publications)
  */
public class SmartDayQueryParser extends QueryParser {

=A0public static final DateFormat formatter =3D
=A0=A0=A0=A0=A0new SimpleDateFormat("yyyyMMdd");

=A0public SmartDayQueryParser(String field, Analyzer analyzer) {
=A0=A0=A0super(field, analyzer);
=A0}

=A0protected Query getRangeQuery(String field, Analyzer analyzer,
=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=
=A0=A0=A0=A0=A0=A0String part1, String part2,
=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=
=A0=A0=A0=A0=A0=A0boolean inclusive)
=A0=A0=A0=A0=A0throws ParseException {
=A0=A0=A0try {
=A0=A0=A0=A0=A0DateFormat df =3D
=A0=A0=A0=A0=A0=A0=A0=A0=A0DateFormat.getDateInstance(DateFormat.SHORT,
=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0getLocale());
=A0=A0=A0=A0=A0df.setLenient(true);
=A0=A0=A0=A0=A0Date d1 =3D df.parse(part1);
=A0=A0=A0=A0=A0Date d2 =3D df.parse(part2);
=A0=A0=A0=A0=A0part1 =3D formatter.format(d1);
=A0=A0=A0=A0=A0part2 =3D formatter.format(d2);
=A0=A0=A0} catch (Exception ignored) {
=A0=A0=A0}

=A0=A0=A0return new RangeQuery(new Term(field, part1),
=A0=A0=A0=A0=A0=A0=A0new Term(field, part2),
=A0=A0=A0=A0=A0=A0=A0inclusive);
=A0}
}


	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 01:08:48 2004
Return-Path: <lucene-user-return-7834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71489 invoked from network); 3 Apr 2004 01:08:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 01:08:48 -0000
Received: (qmail 26122 invoked by uid 500); 3 Apr 2004 01:08:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26102 invoked by uid 500); 3 Apr 2004 01:08:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26085 invoked from network); 3 Apr 2004 01:08:26 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 3 Apr 2004 01:08:26 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i3318Ww29063
	for <lucene-user@jakarta.apache.org>; Sat, 3 Apr 2004 03:08:32 +0200
Received: from g40.incze.hu (localhost.localdomain [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i3318WdT020032
	for <lucene-user@jakarta.apache.org>; Sat, 3 Apr 2004 03:08:32 +0200
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i3318WTr020030
	for lucene-user@jakarta.apache.org; Sat, 3 Apr 2004 03:08:32 +0200
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Sat, 3 Apr 2004 03:08:32 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: "starts with" query functionality
Message-ID: <20040403010832.GK12276@incze.adsl.enternet.hu>
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CCC@elwood.definityhealth.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CCC@elwood.definityhealth.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Apr 02, 2004 at 10:20:54AM -0600, Chad Small wrote:
> We have a requirement to return documents with a "title" field that starts with a certain letter.  Is there a way to do something like this?  We're using the StandardAnalyzer
>  
> Example title fields:
>  
> This is the title of a document.
> And this is a title of a different document.
>  
> This query doesn't fulfill the requirement:
> +(t*)  - just want to return the 1st document that starts with "This", and not the 2nd article that has "this" as the 2nd word.
>  
> Or is it just a matter of creating a field in the index called "title_starts_with" that would look like this for the example:
>  
> T
> A
>  
> Now, the query +(t) would only get a hit on the 1st document.
> Or is there a better way?
>  
> thanks,
> chad.

Basically that's a good solution, but you'd better to
make an instance of your titles as an indexed and untokenized
field, too,  to prevent the tokenizer split your titles
into tokens. This way, you have a start as long as you want.

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 08:19:31 2004
Return-Path: <lucene-user-return-7835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33567 invoked from network); 3 Apr 2004 08:19:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 08:19:31 -0000
Received: (qmail 13572 invoked by uid 500); 3 Apr 2004 08:19:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13555 invoked by uid 500); 3 Apr 2004 08:19:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13541 invoked from network); 3 Apr 2004 08:19:01 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 3 Apr 2004 08:19:01 -0000
Received: (qmail 2571 invoked from network); 3 Apr 2004 08:19:12 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 08:19:12 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 7FACB2C4D
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 10:19:12 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 10:19:11 +0200
User-Agent: KMail/1.6.1
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404021700.55017.lucene@nitwit.de> <788EF57F-84EF-11D8-9B28-000393A564E6@ehatchersolutions.com>
In-Reply-To: <788EF57F-84EF-11D8-9B28-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031019.11661.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 02 April 2004 23:48, Erik Hatcher wrote:
> On Apr 2, 2004, at 10:00 AM, lucene@nitwit.de wrote:
> > On Saturday 13 March 2004 11:06, Otis Gospodnetic wrote:
> >> Field.Keyword is suitable for storing data like Url.  Give that a try.
> >
> > I just tried this a minute ago and found that I cannot use wildcards
> > with
> > Keywords: url:www.yahoo.*
>
> You *can* use wildcards with keywords (in fact, a keyword really has no
> meaning once indexed - everything is a "term" at that point).

Well, I just tried. I  also was surprised actually - but it just didn't work.

I can use wildcards for

  doc.add(Field.Text("url", row.getString("url")));

but I cannot for

  doc.add(Field.Keyword("url", row.getString("url")));

>   - create a utility (I've posted one on the list in the past) that
> shows what your analyzer is doing graphically.

Interesting. Can you give me subject/date of that posting?

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 09:07:42 2004
Return-Path: <lucene-user-return-7836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51334 invoked from network); 3 Apr 2004 09:07:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 09:07:42 -0000
Received: (qmail 48387 invoked by uid 500); 3 Apr 2004 09:07:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48359 invoked by uid 500); 3 Apr 2004 09:07:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48341 invoked from network); 3 Apr 2004 09:07:12 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 3 Apr 2004 09:07:12 -0000
Received: (qmail 9935 invoked from network); 3 Apr 2004 09:07:24 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 09:07:24 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id BA7512C4F
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 11:07:24 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Simple date/range question
Date: Sat, 3 Apr 2004 11:07:23 +0200
User-Agent: KMail/1.6.1
References: <200404021703.49666.lucene@nitwit.de>
In-Reply-To: <200404021703.49666.lucene@nitwit.de>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031107.23942.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 02 April 2004 17:03, lucene@nitwit.de wrote:
> date:[20030101 TO 20030202]

     [java] 11:05:53,735 ERROR [view.SearchAction] 
org.apache.lucene.queryParser.ParseException: Encountered "20030202" at line 
1, column 18.
     [java] Was expecting:
     [java] "]" ...

Why is this?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 09:48:47 2004
Return-Path: <lucene-user-return-7837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65220 invoked from network); 3 Apr 2004 09:48:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 09:48:47 -0000
Received: (qmail 84010 invoked by uid 500); 3 Apr 2004 09:48:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83947 invoked by uid 500); 3 Apr 2004 09:48:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83931 invoked from network); 3 Apr 2004 09:48:16 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Apr 2004 09:48:16 -0000
Received: (cpmta 11124 invoked from network); 3 Apr 2004 01:48:29 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 3 Apr 2004 01:48:29 -0800
X-Sent: 3 Apr 2004 09:48:29 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031019.11661.lucene@nitwit.de>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404021700.55017.lucene@nitwit.de> <788EF57F-84EF-11D8-9B28-000393A564E6@ehatchersolutions.com> <200404031019.11661.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0E42FDCD-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 04:48:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 3, 2004, at 3:19 AM, lucene@nitwit.de wrote:
>> You *can* use wildcards with keywords (in fact, a keyword really has 
>> no
>> meaning once indexed - everything is a "term" at that point).
>
> Well, I just tried. I  also was surprised actually - but it just 
> didn't work.
>
> I can use wildcards for
>
>   doc.add(Field.Text("url", row.getString("url")));
>
> but I cannot for
>
>   doc.add(Field.Keyword("url", row.getString("url")));
>
>>   - create a utility (I've posted one on the list in the past) that
>> shows what your analyzer is doing graphically.
>
> Interesting. Can you give me subject/date of that posting?

AnalysisDemo in this article: 
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Provide us the results of running your url through that, using the same 
analyzer you are using, and also do the same on .toString of the query 
you parsed.  Those two pieces of info will tell all.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 09:53:44 2004
Return-Path: <lucene-user-return-7838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66390 invoked from network); 3 Apr 2004 09:53:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 09:53:44 -0000
Received: (qmail 87597 invoked by uid 500); 3 Apr 2004 09:53:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87505 invoked by uid 500); 3 Apr 2004 09:53:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87486 invoked from network); 3 Apr 2004 09:53:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 3 Apr 2004 09:53:12 -0000
Received: (cpmta 2857 invoked from network); 3 Apr 2004 01:53:25 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 3 Apr 2004 01:53:25 -0800
X-Sent: 3 Apr 2004 09:53:25 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031107.23942.lucene@nitwit.de>
References: <200404021703.49666.lucene@nitwit.de> <200404031107.23942.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BEA15162-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Simple date/range question
Date: Sat, 3 Apr 2004 04:53:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Apr 3, 2004, at 4:07 AM, lucene@nitwit.de wrote:
> On Friday 02 April 2004 17:03, lucene@nitwit.de wrote:
>> date:[20030101 TO 20030202]
>
>      [java] 11:05:53,735 ERROR [view.SearchAction]
> org.apache.lucene.queryParser.ParseException: Encountered "20030202" 
> at line
> 1, column 18.
>      [java] Was expecting:
>      [java] "]" ...
>
> Why is this?

I didn't catch in your first message that it was throwing a 
ParseException.... this is odd.  Are you certain that "date:[20030101 
TO 20030202]" is the complete string your passing to QueryParser?  Did 
you subclass QueryParser?  If so, what is that code?  (what is the 
complete stack trace?)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 10:40:08 2004
Return-Path: <lucene-user-return-7839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83646 invoked from network); 3 Apr 2004 10:40:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 10:40:08 -0000
Received: (qmail 38578 invoked by uid 500); 3 Apr 2004 10:39:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38554 invoked by uid 500); 3 Apr 2004 10:39:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38455 invoked from network); 3 Apr 2004 10:39:36 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 3 Apr 2004 10:39:36 -0000
Received: (qmail 1855 invoked from network); 3 Apr 2004 10:39:48 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 10:39:48 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id EEC6725BB
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 12:39:50 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Simple date/range question
Date: Sat, 3 Apr 2004 12:39:50 +0200
User-Agent: KMail/1.6.1
References: <200404021703.49666.lucene@nitwit.de> <200404031107.23942.lucene@nitwit.de> <BEA15162-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <BEA15162-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031239.50253.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 03 April 2004 11:53, Erik Hatcher wrote:
> I didn't catch in your first message that it was throwing a
> ParseException.... this is odd.  Are you certain that "date:[20030101
> TO 20030202]" is the complete string your passing to QueryParser?  Did

Yes.

> you subclass QueryParser?  If so, what is that code?  (what is the

No.

I use a MultiFieldQueryParser:

Query qQuery = MultiFieldQueryParser.parse(query, new String[] { "id", 
"title", "summary", "contents", "date" }, GERMAN_ANALYZER);	
Hits hits = searcher.search(qQuery);

> complete stack trace?)

     [java] 12:38:03,109 ERROR [view.SearchAction] 
org.apache.lucene.queryParser.ParseException: Encountered "20030404" at line 
1, column 18.
     [java] Was expecting:
     [java] "]" ...
     [java] org.apache.lucene.queryParser.ParseException: Encountered 
"20030404" at line 1, column 18.
     [java] Was expecting:
     [java] "]" ...
     [java] at 
org.apache.lucene.queryParser.QueryParser.generateParseException(QueryParser.java:994)
     [java] at 
org.apache.lucene.queryParser.QueryParser.jj_consume_token(QueryParser.java:874)
     [java] at 
org.apache.lucene.queryParser.QueryParser.Term(QueryParser.java:657)
     [java] at 
org.apache.lucene.queryParser.QueryParser.Clause(QueryParser.java:521)
     [java] at 
org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:464)
     [java] at 
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:108)
     [java] at 
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:87)
     [java] at 
org.apache.lucene.queryParser.MultiFieldQueryParser.parse(MultiFieldQueryParser.java:115)

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 11:06:44 2004
Return-Path: <lucene-user-return-7840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89185 invoked from network); 3 Apr 2004 11:06:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 11:06:43 -0000
Received: (qmail 59108 invoked by uid 500); 3 Apr 2004 11:06:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58980 invoked by uid 500); 3 Apr 2004 11:06:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58955 invoked from network); 3 Apr 2004 11:06:08 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 3 Apr 2004 11:06:08 -0000
Received: (qmail 5820 invoked from network); 3 Apr 2004 11:06:20 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 11:06:20 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 2BDB21AC1
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 13:06:23 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 13:06:22 +0200
User-Agent: KMail/1.6.1
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031019.11661.lucene@nitwit.de> <0E42FDCD-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <0E42FDCD-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031306.22717.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 03 April 2004 11:48, Erik Hatcher wrote:
> Provide us the results of running your url through that, using the same

SnowballAnalyzer("German2"):

Analzying "http://www.yahoo.com/foo/bar.html"
	org.apache.lucene.analysis.WhitespaceAnalyzer:
		[http://www.yahoo.com/foo/bar.html] 

	org.apache.lucene.analysis.SimpleAnalyzer:
		[http] [www] [yahoo] [com] [foo] [bar] [html] 

	org.apache.lucene.analysis.StopAnalyzer:
		[http] [www] [yahoo] [com] [foo] [bar] [html] 

	org.apache.lucene.analysis.standard.StandardAnalyzer:
		[http] [www.yahoo.com] [foo] [bar.html] 

	org.apache.lucene.analysis.snowball.SnowballAnalyzer:
		[http] [www.yahoo.com] [foo] [bar.html] 

> analyzer you are using, and also do the same on .toString of the query
> you parsed.  Those two pieces of info will tell all.

"url:www.yahoo* url:www.yahoo* url:www.yahoo* url:www.yahoo* url:www.yahoo* 
url:www.yahoo*"

Well, I actually use a MultiFieldQueryParser, that's probably why the term 
does appear so often. Strange parser, it should be clear that am explicit 
"url:xyz" should only look in the url field, shouldn't it?

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 13:19:40 2004
Return-Path: <lucene-user-return-7841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24227 invoked from network); 3 Apr 2004 13:19:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 13:19:40 -0000
Received: (qmail 77035 invoked by uid 500); 3 Apr 2004 13:19:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77008 invoked by uid 500); 3 Apr 2004 13:19:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76995 invoked from network); 3 Apr 2004 13:19:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 3 Apr 2004 13:19:31 -0000
Received: (cpmta 1145 invoked from network); 3 Apr 2004 05:19:31 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 3 Apr 2004 05:19:31 -0800
X-Sent: 3 Apr 2004 13:19:31 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031306.22717.lucene@nitwit.de>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031019.11661.lucene@nitwit.de> <0E42FDCD-8554-11D8-9DA4-000393A564E6@ehatchersolutions.com> <200404031306.22717.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <89743751-8571-11D8-9DA4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 08:19:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok, we're getting somewhere now.

So, where is the exception you encountered when using this utility 
code?!  (i.e. it didn't thrown an exception, so something is different 
in your usage in your code).

I tried this:

     Query query = MultiFieldQueryParser.parse("date:[20030101 TO 
20030202]", new String[] { "id", "title", "summary", "contents", "date" 
}, new GermanAnalyzer());

     System.out.println("query = " + query.toString());


And it worked fine (only duplicated the query for each field).  No 
exception at all.  Of course I'm guessing on your analyzer since you 
didn't provide that detail (although it shouldn't matter in the 
exception you experienced).

On Apr 3, 2004, at 6:06 AM, lucene@nitwit.de wrote:
> SnowballAnalyzer("German2"):
>
> Analzying "http://www.yahoo.com/foo/bar.html"
> 	org.apache.lucene.analysis.snowball.SnowballAnalyzer:
> 		[http] [www.yahoo.com] [foo] [bar.html]

So this is the analyzer you want to use, right?

Wildcards should work on "www.yahoo.*"

What is the "German2" stemmer for Snowball?

You've introduced a lot of variables to your equation here.... 
MultiFieldQueryParser and a non-standard Snowball stemmer.  All of 
which I had to pull out of you for details, each of which is critical 
to understanding the problem.

>> analyzer you are using, and also do the same on .toString of the query
>> you parsed.  Those two pieces of info will tell all.
>
> "url:www.yahoo* url:www.yahoo* url:www.yahoo* url:www.yahoo* 
> url:www.yahoo*
> url:www.yahoo*"
>
> Well, I actually use a MultiFieldQueryParser, that's probably why the 
> term
> does appear so often. Strange parser, it should be clear that am 
> explicit
> "url:xyz" should only look in the url field, shouldn't it?

Do you really need to query on multiple fields?  Why not just use the 
plain QueryParser?  If you need an aggregate field, create one at index 
time.  QueryParsing is problematic enough, but adding in MFQP makes it 
even more complicated.

Which Analyzer are you using for indexing?  This same SnowballAnalyzer 
with "German2" stemmer?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 14:59:46 2004
Return-Path: <lucene-user-return-7842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62905 invoked from network); 3 Apr 2004 14:59:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 14:59:46 -0000
Received: (qmail 70875 invoked by uid 500); 3 Apr 2004 14:59:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70841 invoked by uid 500); 3 Apr 2004 14:59:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70753 invoked from network); 3 Apr 2004 14:59:33 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 3 Apr 2004 14:59:33 -0000
Received: (qmail 10090 invoked from network); 3 Apr 2004 14:59:33 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 14:59:33 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 530AE1119
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 16:59:39 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 16:59:38 +0200
User-Agent: KMail/1.6.1
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031306.22717.lucene@nitwit.de> <89743751-8571-11D8-9DA4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <89743751-8571-11D8-9DA4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031659.38819.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 03 April 2004 15:19, Erik Hatcher wrote:
> date:[20030101 TO 20030202]

I found the/my bug. 

Since Lucene is case-sensitive, I do lower-case all queries for user's 
convenience. The ParseException is thrown because the "TO" becomes "to".

Well, I really think Lucene needs to daff such stumbling blocks aside...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 15:11:56 2004
Return-Path: <lucene-user-return-7843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66271 invoked from network); 3 Apr 2004 15:11:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 15:11:56 -0000
Received: (qmail 86522 invoked by uid 500); 3 Apr 2004 15:11:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86362 invoked by uid 500); 3 Apr 2004 15:11:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86348 invoked from network); 3 Apr 2004 15:11:45 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Apr 2004 15:11:45 -0000
Received: (cpmta 22284 invoked from network); 3 Apr 2004 07:11:46 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 3 Apr 2004 07:11:46 -0800
X-Sent: 3 Apr 2004 15:11:46 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031659.38819.lucene@nitwit.de>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031306.22717.lucene@nitwit.de> <89743751-8571-11D8-9DA4-000393A564E6@ehatchersolutions.com> <200404031659.38819.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 10:11:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 3, 2004, at 9:59 AM, lucene@nitwit.de wrote:
> On Saturday 03 April 2004 15:19, Erik Hatcher wrote:
>> date:[20030101 TO 20030202]
>
> I found the/my bug.
>
> Since Lucene is case-sensitive, I do lower-case all queries for user's
> convenience. The ParseException is thrown because the "TO" becomes 
> "to".
>
> Well, I really think Lucene needs to daff such stumbling blocks 
> aside...

No objections that error messages and such could be made clearer.  
Patches welcome!  Care to submit better error message handling in this 
case?  Or perhaps allow lower-case "to"?

But, also, folks need to really step back and practice basic 
troubleshooting skills.  I asked you if that string was what you passed 
to the QueryParser and you said yes, when in fact it was not.  And you 
slowly fed more details of your scenario (MFQP, some German 
SnowballAnalyzer variant).  Reduce the variables in the equation and 
narrow things down until it works and then incrementally add 
complexity.  I cannot encourage folks enough to try some JUnit 
test-driven *learning* by exploring various scenarios.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 15:34:10 2004
Return-Path: <lucene-user-return-7844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72140 invoked from network); 3 Apr 2004 15:34:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 15:34:10 -0000
Received: (qmail 7548 invoked by uid 500); 3 Apr 2004 15:34:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7410 invoked by uid 500); 3 Apr 2004 15:33:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7391 invoked from network); 3 Apr 2004 15:33:59 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 3 Apr 2004 15:33:59 -0000
Received: (qmail 4289 invoked from network); 3 Apr 2004 15:34:00 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.236.152])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 3 Apr 2004 15:34:00 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 9B472A87
	for <lucene-user@jakarta.apache.org>; Sat,  3 Apr 2004 17:34:06 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 17:34:06 +0200
User-Agent: KMail/1.6.1
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031659.38819.lucene@nitwit.de> <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com>
In-Reply-To: <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404031734.06254.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 03 April 2004 17:11, Erik Hatcher wrote:
> No objections that error messages and such could be made clearer.
> Patches welcome!  Care to submit better error message handling in this
> case?  Or perhaps allow lower-case "to"?

I think the best would be if Lucene would simply have a 
setCaseSensitive(boolean).

IMHO it's in any case a bad idea to make searches case-sensitive (per 
default).

> But, also, folks need to really step back and practice basic
> troubleshooting skills.  I asked you if that string was what you passed
> to the QueryParser and you said yes, when in fact it was not.  And you

I forgot that I did lower-case it. I fact I even output it in it's original 
state but lower-case it just before I pass it to lucene. That lower-casing is 
what I would call a hack and hence it's no surprise that I forgot it :-)

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 16:17:44 2004
Return-Path: <lucene-user-return-7845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83440 invoked from network); 3 Apr 2004 16:17:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 16:17:44 -0000
Received: (qmail 50995 invoked by uid 500); 3 Apr 2004 16:17:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50973 invoked by uid 500); 3 Apr 2004 16:17:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50959 invoked from network); 3 Apr 2004 16:17:32 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 3 Apr 2004 16:17:32 -0000
Received: (cpmta 28136 invoked from network); 3 Apr 2004 08:17:35 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 3 Apr 2004 08:17:35 -0800
X-Sent: 3 Apr 2004 16:17:35 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031734.06254.lucene@nitwit.de>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <200404031659.38819.lucene@nitwit.de> <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com> <200404031734.06254.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <67CCD560-858A-11D8-A44C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 11:17:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 3, 2004, at 10:34 AM, lucene@nitwit.de wrote:
> I forgot that I did lower-case it. I fact I even output it in it's 
> original
> state but lower-case it just before I pass it to lucene. That 
> lower-casing is
> what I would call a hack and hence it's no surprise that I forgot it 
> :-)

But why even lowercase?  That is what an analyzer typically does anyway 
(look at the output from AnalysisDemo to see).

Note that there are switches on QueryParser (and MultiFieldQueryParser 
is lacking in this respect, another reason not to use it) that does 
lowercase wildcard terms automatically: 
setLowercaseWildcardTerms(true).  Wildcard terms are not analyzed by 
QueryParser, so this was added to account for it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 16:18:13 2004
Return-Path: <lucene-user-return-7846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83555 invoked from network); 3 Apr 2004 16:18:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 16:18:13 -0000
Received: (qmail 51979 invoked by uid 500); 3 Apr 2004 16:18:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51958 invoked by uid 500); 3 Apr 2004 16:18:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51944 invoked from network); 3 Apr 2004 16:18:02 -0000
Received: from unknown (HELO mz3.forethought.net) (216.241.36.14)
  by daedalus.apache.org with SMTP; 3 Apr 2004 16:18:02 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz3.forethought.net with esmtp (Exim 4.30)
	id 1B9nqO-0000MQ-Ku
	for lucene-user@jakarta.apache.org; Sat, 03 Apr 2004 09:18:04 -0700
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 09:24:02 -0700
User-Agent: KMail/1.5
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com> <200404031734.06254.lucene@nitwit.de>
In-Reply-To: <200404031734.06254.lucene@nitwit.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404030924.02896.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 03 April 2004 08:34, lucene@nitwit.de wrote:
> On Saturday 03 April 2004 17:11, Erik Hatcher wrote:
> > No objections that error messages and such could be made clearer.
> > Patches welcome!  Care to submit better error message handling in this
> > case?  Or perhaps allow lower-case "to"?
>
> I think the best would be if Lucene would simply have a
> setCaseSensitive(boolean).
>
> IMHO it's in any case a bad idea to make searches case-sensitive (per
> default).

I'd have to disagree. I think that  search engine core should not have to 
bother with details of character sets, such as lower-casing. Rules for 
lower/upper/initial/mixed case for all Unicode-languages are rather 
involved... and if you tried to do that, next thing would be whether 
accentuation and umlaut marks should matter or not (which is language 
dependant). That's why to me the natural way to go is to do direct 
comparison, ignoring case when executing queries. This does not prevent 
anyone from implementing such functionality (see below).

I think architecture and design of Lucene core is delightfully simple. One can 
easily create case-independent functionality by using proper analyzers, and 
(for the most part), configuring QueryParser. I would agree, however, that 
QueryParser is "victim of its success"; it's too often used in situations 
where one really should create proper GUI that builds the query. Backend code 
can then mangle input as it sees fit, and build query objects.
QueryParser is more natural for quick-n-dirty scenarios, where one just has to 
slap something together quickly, or if one only has textual interface to deal 
with. It's nice thing to have, but it has its limitations; there's no way to 
create one parser that's perfect for every use(r).

What could be done would be to make sure all examples / demo web apps would 
implement case-insensitive indexing and searching, since that is often what 
is needed?

-+ Tatu +-

>
> > But, also, folks need to really step back and practice basic
> > troubleshooting skills.  I asked you if that string was what you passed
> > to the QueryParser and you said yes, when in fact it was not.  And you
>
> I forgot that I did lower-case it. I fact I even output it in it's original
> state but lower-case it just before I pass it to lucene. That lower-casing
> is what I would call a hack and hence it's no surprise that I forgot it :-)
>
> Timo
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 16:21:06 2004
Return-Path: <lucene-user-return-7847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84442 invoked from network); 3 Apr 2004 16:21:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 16:21:06 -0000
Received: (qmail 55305 invoked by uid 500); 3 Apr 2004 16:20:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55233 invoked by uid 500); 3 Apr 2004 16:20:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55220 invoked from network); 3 Apr 2004 16:20:54 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 3 Apr 2004 16:20:54 -0000
Received: (cpmta 18432 invoked from network); 3 Apr 2004 08:20:56 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 3 Apr 2004 08:20:56 -0800
X-Sent: 3 Apr 2004 16:20:56 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404030924.02896.tatu@hypermall.net>
References: <20040313100601.26492.qmail@web12708.mail.yahoo.com> <375B4608-8581-11D8-A44C-000393A564E6@ehatchersolutions.com> <200404031734.06254.lucene@nitwit.de> <200404030924.02896.tatu@hypermall.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E07DDF08-858A-11D8-A44C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Zero hits for queries ending with a number
Date: Sat, 3 Apr 2004 11:20:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Extremely well said, Tatu!



On Apr 3, 2004, at 11:24 AM, Tatu Saloranta wrote:
> On Saturday 03 April 2004 08:34, lucene@nitwit.de wrote:
>> On Saturday 03 April 2004 17:11, Erik Hatcher wrote:
>>> No objections that error messages and such could be made clearer.
>>> Patches welcome!  Care to submit better error message handling in 
>>> this
>>> case?  Or perhaps allow lower-case "to"?
>>
>> I think the best would be if Lucene would simply have a
>> setCaseSensitive(boolean).
>>
>> IMHO it's in any case a bad idea to make searches case-sensitive (per
>> default).
>
> I'd have to disagree. I think that  search engine core should not have 
> to
> bother with details of character sets, such as lower-casing. Rules for
> lower/upper/initial/mixed case for all Unicode-languages are rather
> involved... and if you tried to do that, next thing would be whether
> accentuation and umlaut marks should matter or not (which is language
> dependant). That's why to me the natural way to go is to do direct
> comparison, ignoring case when executing queries. This does not prevent
> anyone from implementing such functionality (see below).
>
> I think architecture and design of Lucene core is delightfully simple. 
> One can
> easily create case-independent functionality by using proper 
> analyzers, and
> (for the most part), configuring QueryParser. I would agree, however, 
> that
> QueryParser is "victim of its success"; it's too often used in 
> situations
> where one really should create proper GUI that builds the query. 
> Backend code
> can then mangle input as it sees fit, and build query objects.
> QueryParser is more natural for quick-n-dirty scenarios, where one 
> just has to
> slap something together quickly, or if one only has textual interface 
> to deal
> with. It's nice thing to have, but it has its limitations; there's no 
> way to
> create one parser that's perfect for every use(r).
>
> What could be done would be to make sure all examples / demo web apps 
> would
> implement case-insensitive indexing and searching, since that is often 
> what
> is needed?
>
> -+ Tatu +-
>
>>
>>> But, also, folks need to really step back and practice basic
>>> troubleshooting skills.  I asked you if that string was what you 
>>> passed
>>> to the QueryParser and you said yes, when in fact it was not.  And 
>>> you
>>
>> I forgot that I did lower-case it. I fact I even output it in it's 
>> original
>> state but lower-case it just before I pass it to lucene. That 
>> lower-casing
>> is what I would call a hack and hence it's no surprise that I forgot 
>> it :-)
>>
>> Timo
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 17:14:46 2004
Return-Path: <lucene-user-return-7848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1587 invoked from network); 3 Apr 2004 17:14:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 17:14:46 -0000
Received: (qmail 2272 invoked by uid 500); 3 Apr 2004 17:14:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2244 invoked by uid 500); 3 Apr 2004 17:14:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2190 invoked from network); 3 Apr 2004 17:14:32 -0000
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by daedalus.apache.org with SMTP; 3 Apr 2004 17:14:32 -0000
Received: from neo ([202.88.151.159])
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i33IGSS20332
	for <lucene-user@jakarta.apache.org>; Sat, 3 Apr 2004 12:16:28 -0600
Message-Id: <200404031816.i33IGSS20332@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Boolean  Phrase Query question
Date: Sat, 3 Apr 2004 22:43:58 +0530
Keywords: Support
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcPq1TElWO4z3+OrQWe1L4W2eGP3AwuyHNxg
In-Reply-To: <D8FC56BB-56C1-11D8-B2F3-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi, 
I have to provide a functionality which provides search on both file name
and contents of the file.

For indexing I use the following code:


org.apache.lucene.document.Document doc = new org.apache.
lucene.document.Document();
doc.add(Field.Keyword("fileId","" + document.getFileId()));
doc.add(Field.Text("fileName",fileName);
doc.add(Field.Text("contents", new FileReader(new File(fileName)));

For searching a text say  "temp" I use the following code to look both in
file Name and contents of the file:

BooleanQuery finalQuery = new BooleanQuery();
Query titleQuery = QueryParser.parse("temp","fileName",analyzer);
Query mainQuery = QueryParser.parse("temp","contents",analyzer);

finalQuery.add(titleQuery, true, false);
finalQuery.add(mainQuery, true, false);

Hits hits = is.search(finalQuery);

But I am not getting any result. I think the problem is due to searching on
two fields.
Can you please tell me how to go about it.



Regards,
Ankur 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 19:57:35 2004
Return-Path: <lucene-user-return-7849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48795 invoked from network); 3 Apr 2004 19:57:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 19:57:35 -0000
Received: (qmail 67146 invoked by uid 500); 3 Apr 2004 19:57:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67055 invoked by uid 500); 3 Apr 2004 19:57:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67041 invoked from network); 3 Apr 2004 19:57:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 3 Apr 2004 19:57:19 -0000
Received: (cpmta 19987 invoked from network); 3 Apr 2004 11:57:24 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 3 Apr 2004 11:57:24 -0800
X-Sent: 3 Apr 2004 19:57:24 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404031816.i33IGSS20332@plain.rackshack.net>
References: <200404031816.i33IGSS20332@plain.rackshack.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1EB6F9A5-85A9-11D8-B15B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boolean  Phrase Query question
Date: Sat, 3 Apr 2004 14:57:21 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name
> and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId()));
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you 
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a 
single field to facilitate searches to span both.  (be sure to put a 
space in between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in
> file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery();
> Query titleQuery = QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false);
> finalQuery.add(mainQuery, true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both 
fields must have the word "temp" in them.  Is that what you meant?  Or 
did you mean an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 20:06:26 2004
Return-Path: <lucene-user-return-7850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51110 invoked from network); 3 Apr 2004 20:06:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 20:06:26 -0000
Received: (qmail 74871 invoked by uid 500); 3 Apr 2004 20:06:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74783 invoked by uid 500); 3 Apr 2004 20:06:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74770 invoked from network); 3 Apr 2004 20:06:11 -0000
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by daedalus.apache.org with SMTP; 3 Apr 2004 20:06:11 -0000
Received: from neo ([202.88.151.159])
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i33L8BS20628
	for <lucene-user@jakarta.apache.org>; Sat, 3 Apr 2004 15:08:11 -0600
Message-Id: <200404032108.i33L8BS20628@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Boolean  Phrase Query question
Date: Sun, 4 Apr 2004 01:35:39 +0530
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQZvow1iUhkpDdzROmcDPnMYoGuSgACA5iw
In-Reply-To: <1EB6F9A5-85A9-11D8-B15B-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Eric for the solution. I have to filename field as I have to give the
end user facility to search on File Name also. That's   why I am using TEXT
for file Name also.

"By using true on the finalQuery.add calls, you have said that both 
fields must have the word "temp" in them.  Is that what you meant?  Or 
did you mean an OR type of query?"

I need an OR type of query. I mean the word can be in the filename or in the
contents of the filename. But i am not able to do this. Can you tell me how
to do it?

Regards,
Ankur 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Sunday, April 04, 2004 1:27 AM
To: Lucene Users List
Subject: Re: Boolean Phrase Query question

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name
> and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId()));
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you 
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a 
single field to facilitate searches to span both.  (be sure to put a 
space in between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in
> file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery();
> Query titleQuery = QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false);
> finalQuery.add(mainQuery, true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both 
fields must have the word "temp" in them.  Is that what you meant?  Or 
did you mean an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 03 21:28:22 2004
Return-Path: <lucene-user-return-7851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81888 invoked from network); 3 Apr 2004 21:28:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Apr 2004 21:28:22 -0000
Received: (qmail 64164 invoked by uid 500); 3 Apr 2004 21:28:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64141 invoked by uid 500); 3 Apr 2004 21:28:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64125 invoked from network); 3 Apr 2004 21:28:05 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 3 Apr 2004 21:28:05 -0000
Received: (cpmta 4616 invoked from network); 3 Apr 2004 13:28:10 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 3 Apr 2004 13:28:10 -0800
X-Sent: 3 Apr 2004 21:28:10 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404032108.i33L8BS20628@plain.rackshack.net>
References: <200404032108.i33L8BS20628@plain.rackshack.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CD545848-85B5-11D8-B15B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boolean  Phrase Query question
Date: Sat, 3 Apr 2004 16:28:08 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 3, 2004, at 3:05 PM, Ankur Goel wrote:
> "By using true on the finalQuery.add calls, you have said that both
> fields must have the word "temp" in them.  Is that what you meant?  Or
> did you mean an OR type of query?"
>
> I need an OR type of query. I mean the word can be in the filename or 
> in the
> contents of the filename. But i am not able to do this. Can you tell 
> me how
> to do it?

I did tell you how to do it.  Use false for both required and 
prohibited flags when adding queries to a BooleanQuery.  Check the 
javadocs for more details.

Keep in mind (and see recent, and frequent, discussion on this topic) 
that your analyzer choice is very important.  Look at my intro Lucene 
article for code to allow you to view what is happening with the 
analysis process.

	Erik


>
> Regards,
> Ankur
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Sunday, April 04, 2004 1:27 AM
> To: Lucene Users List
> Subject: Re: Boolean Phrase Query question
>
> On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>>
>> Hi,
>> I have to provide a functionality which provides search on both file
>> name
>> and contents of the file.
>>
>> For indexing I use the following code:
>>
>>
>> org.apache.lucene.document.Document doc = new org.apache.
>> lucene.document.Document();
>> doc.add(Field.Keyword("fileId","" + document.getFileId()));
>> doc.add(Field.Text("fileName",fileName);
>> doc.add(Field.Text("contents", new FileReader(new File(fileName)));
>
> I'm not sure what you plan on doing with the fileName field, but you
> probably want to use a Keyword field for it.
>
> And you may want to glue the file name and contents together into a
> single field to facilitate searches to span both.  (be sure to put a
> space in between if you do this)
>
>> For searching a text say  "temp" I use the following code to look both
>> in
>> file Name and contents of the file:
>>
>> BooleanQuery finalQuery = new BooleanQuery();
>> Query titleQuery = QueryParser.parse("temp","fileName",analyzer);
>> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>>
>> finalQuery.add(titleQuery, true, false);
>> finalQuery.add(mainQuery, true, false);
>>
>> Hits hits = is.search(finalQuery);
>
> By using true on the finalQuery.add calls, you have said that both
> fields must have the word "temp" in them.  Is that what you meant?  Or
> did you mean an OR type of query?
>
> 	Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 09:10:29 2004
Return-Path: <lucene-user-return-7852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61457 invoked from network); 4 Apr 2004 09:10:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 09:10:29 -0000
Received: (qmail 5738 invoked by uid 500); 4 Apr 2004 09:09:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5714 invoked by uid 500); 4 Apr 2004 09:09:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5696 invoked from network); 4 Apr 2004 09:09:55 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 4 Apr 2004 09:09:55 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i349AFtG000306
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Sun, 4 Apr 2004 01:10:15 -0800
Message-ID: <406FD0EE.9020603@newsmonster.org>
Date: Sun, 04 Apr 2004 01:10:06 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC: tate.avery@nstein.com
Subject: Re: Numeric field data
References: <Pine.LNX.4.44.0404021356100.28387-100000@mere.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.44.0404021356100.28387-100000@mere.cirano.qc.ca>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigB3A3C4B69AD54FD22519EF6E"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigB3A3C4B69AD54FD22519EF6E
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Stephane James Vaucher wrote:

>Hi Tate,
>
>There is a solution by Erik that pads numbers in the index. That would 
>allow you to search correctly. I'm not sure about decimal, but you could 
>always add a multiplier.
>  
>
Wonder if that should go in the FAQ... wiki...

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigB3A3C4B69AD54FD22519EF6E
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAb9Du6E2NBJnxRBIRAjhlAKCdeoRlbMGRtWqdjYGMayTpXXaC/QCg4l60
hoCaOGP31yDp42rkx96aHMs=
=uqvi
-----END PGP SIGNATURE-----

--------------enigB3A3C4B69AD54FD22519EF6E--

From lucene-user-return-7853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 16:10:33 2004
Return-Path: <lucene-user-return-7853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10736 invoked from network); 4 Apr 2004 16:10:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 16:10:33 -0000
Received: (qmail 28493 invoked by uid 500); 4 Apr 2004 16:10:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28468 invoked by uid 500); 4 Apr 2004 16:10:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28454 invoked from network); 4 Apr 2004 16:10:20 -0000
Received: from unknown (HELO sgo-exchange1.aretae.com) (203.125.251.126)
  by daedalus.apache.org with SMTP; 4 Apr 2004 16:10:20 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: LARM and Nutch
Date: Sun, 4 Apr 2004 23:59:05 +0800
Message-ID: <BFA132DF01072847A12DF9C504E70A44E033C2@sgo-exchange1.aretae.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Numeric field data
Thread-Index: AcQaJOS+KW1n1pieQUmK2a000auwpAAODl/w
From: "Choong Yong, Koh" <choongyong.koh@aretae.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

	I came across LARM web crawler some time ago, and recently has
discovered Nutch from reading previous months' mailing list.

	The question I have is that it seems to me both the projects are
doing the same thing - enabling web crawling and indexing using Lucene,
but why two projects doing the same thing?  Also, there are a few
'versions' of LARM as far as I see, one in the SandBox and one in
larm.sourceforge.net, which one is the latest?

	Thanks.

Choong Yong, Koh

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 17:35:50 2004
Return-Path: <lucene-user-return-7854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45399 invoked from network); 4 Apr 2004 17:35:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 17:35:50 -0000
Received: (qmail 24721 invoked by uid 500); 4 Apr 2004 17:35:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24703 invoked by uid 500); 4 Apr 2004 17:35:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24687 invoked from network); 4 Apr 2004 17:35:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 4 Apr 2004 17:35:36 -0000
Received: (cpmta 2821 invoked from network); 4 Apr 2004 10:35:39 -0700
Received: from 128.143.184.30 (HELO ?128.143.184.30?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 4 Apr 2004 10:35:39 -0700
X-Sent: 4 Apr 2004 17:35:39 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <BFA132DF01072847A12DF9C504E70A44E033C2@sgo-exchange1.aretae.com>
References: <BFA132DF01072847A12DF9C504E70A44E033C2@sgo-exchange1.aretae.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7D05569C-865E-11D8-A8B0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LARM and Nutch
Date: Sun, 4 Apr 2004 13:35:38 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

LARM is now at Sourceforge entirely.  All the sandbox pieces have been 
removed, I believe.

	Erik


On Apr 4, 2004, at 11:59 AM, Choong Yong, Koh wrote:

> Hi,
>
> 	I came across LARM web crawler some time ago, and recently has
> discovered Nutch from reading previous months' mailing list.
>
> 	The question I have is that it seems to me both the projects are
> doing the same thing - enabling web crawling and indexing using Lucene,
> but why two projects doing the same thing?  Also, there are a few
> 'versions' of LARM as far as I see, one in the SandBox and one in
> larm.sourceforge.net, which one is the latest?
>
> 	Thanks.
>
> Choong Yong, Koh
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 17:55:30 2004
Return-Path: <lucene-user-return-7855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52285 invoked from network); 4 Apr 2004 17:55:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 17:55:30 -0000
Received: (qmail 45556 invoked by uid 500); 4 Apr 2004 17:55:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45533 invoked by uid 500); 4 Apr 2004 17:55:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45506 invoked from network); 4 Apr 2004 17:55:16 -0000
Received: from unknown (HELO magnus.mellin.se) (82.182.81.45)
  by daedalus.apache.org with SMTP; 4 Apr 2004 17:55:16 -0000
Received: (qmail 30427 invoked from network); 4 Apr 2004 17:54:43 -0000
Received: from unknown (HELO mellin.net) (10.0.1.200)
  by magnus.mellin.se with SMTP; 4 Apr 2004 17:54:43 -0000
Date: Sun, 4 Apr 2004 19:55:19 +0200
Mime-Version: 1.0 (Apple Message framework v553)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Index partitioning
From: Magnus Mellin <magnus@mellin.net>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <3C6997A8-8661-11D8-86DE-0003938771F0@mellin.net>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
i would like to partition an index over X number of remote searchers.
Any ideas, or suggestions, on how to use the same term dictionary (one 
that represents the terms and frequencies for the whole document 
collection) over all my indices?

Regards,

/Magnus Mellin

--
magnus@mellin.net
http://www.mellin.net


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 20:31:40 2004
Return-Path: <lucene-user-return-7856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30341 invoked from network); 4 Apr 2004 20:31:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 20:31:40 -0000
Received: (qmail 25683 invoked by uid 500); 4 Apr 2004 20:31:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25481 invoked by uid 500); 4 Apr 2004 20:31:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25466 invoked from network); 4 Apr 2004 20:31:23 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 4 Apr 2004 20:31:23 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i34KVS613280;
	Sun, 4 Apr 2004 16:31:28 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sun, 4 Apr 2004 16:31:28 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
cc: <tate.avery@nstein.com>
Subject: Re: Numeric field data
In-Reply-To: <406FD0EE.9020603@newsmonster.org>
Message-ID: <Pine.LNX.4.33.0404041631070.12920-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Added to the wiki, can of course be removed if it's transfered to the
FAQs.

sv

On Sun, 4 Apr 2004, Kevin A. Burton wrote:

> Stephane James Vaucher wrote:
>
> >Hi Tate,
> >
> >There is a solution by Erik that pads numbers in the index. That would
> >allow you to search correctly. I'm not sure about decimal, but you could
> >always add a multiplier.
> >
> >
> Wonder if that should go in the FAQ... wiki...
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 04 21:55:06 2004
Return-Path: <lucene-user-return-7857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70162 invoked from network); 4 Apr 2004 21:55:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Apr 2004 21:55:06 -0000
Received: (qmail 24684 invoked by uid 500); 4 Apr 2004 21:54:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24664 invoked by uid 500); 4 Apr 2004 21:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24646 invoked from network); 4 Apr 2004 21:54:48 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 4 Apr 2004 21:54:48 -0000
Message-ID: <20040404215454.17468.qmail@web12701.mail.yahoo.com>
Received: from [83.131.117.155] by web12701.mail.yahoo.com via HTTP; Sun, 04 Apr 2004 14:54:54 PDT
Date: Sun, 4 Apr 2004 14:54:54 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: LARM and Nutch
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BFA132DF01072847A12DF9C504E70A44E033C2@sgo-exchange1.aretae.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just use Nutch.
LARM is not really being maintained any more.

Otis

--- "Choong Yong, Koh" <choongyong.koh@aretae.com> wrote:
> Hi,
> 
> 	I came across LARM web crawler some time ago, and recently has
> discovered Nutch from reading previous months' mailing list.
> 
> 	The question I have is that it seems to me both the projects are
> doing the same thing - enabling web crawling and indexing using
> Lucene,
> but why two projects doing the same thing?  Also, there are a few
> 'versions' of LARM as far as I see, one in the SandBox and one in
> larm.sourceforge.net, which one is the latest?
> 
> 	Thanks.
> 
> Choong Yong, Koh
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 05 09:48:57 2004
Return-Path: <lucene-user-return-7858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27325 invoked from network); 5 Apr 2004 09:48:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Apr 2004 09:48:57 -0000
Received: (qmail 71673 invoked by uid 500); 5 Apr 2004 09:48:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71599 invoked by uid 500); 5 Apr 2004 09:48:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71580 invoked from network); 5 Apr 2004 09:48:24 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 5 Apr 2004 09:48:24 -0000
Message-ID: <20040405094838.91474.qmail@web12705.mail.yahoo.com>
Received: from [194.152.216.32] by web12705.mail.yahoo.com via HTTP; Mon, 05 Apr 2004 02:48:38 PDT
Date: Mon, 5 Apr 2004 02:48:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: how to combine queries?
To: lucene-user@jakarta.apache.org
Cc: Amrun@gmx.at
In-Reply-To: <13055.1081157809@www55.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

You can use MultiFieldQueryParser if you want to parse queries entered
by people, or use BooleanQuery and its add methods if you want to
combine queries programmatically.

Otis

--- Amrun <Amrun@gmx.at> wrote:
> Hi, 
> 
> I'm new to lucene and I need to search for the content of several
> fields.
> For example, I want to search for the given keywort in the
> content-field, in
> the title-field, in a category-field and so on. How can I do this the
> best
> way?
> 
> thanks for help
> Amrn
> 
> -- 
> +++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter
> Virenschutz +++
> 100% Virenerkennung nach Wildlist. Infos:
> http://www.gmx.net/virenschutz
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 09:32:47 2004
Return-Path: <lucene-user-return-7859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52513 invoked from network); 6 Apr 2004 09:32:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 09:32:47 -0000
Received: (qmail 68605 invoked by uid 500); 6 Apr 2004 09:32:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68516 invoked by uid 500); 6 Apr 2004 09:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68502 invoked from network); 6 Apr 2004 09:32:14 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 6 Apr 2004 09:32:14 -0000
Message-ID: <20040406093228.1659.qmail@web12704.mail.yahoo.com>
Received: from [195.29.121.22] by web12704.mail.yahoo.com via HTTP; Tue, 06 Apr 2004 02:32:28 PDT
Date: Tue, 6 Apr 2004 02:32:28 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: how to combine queries?
To: lucene-user@jakarta.apache.org
In-Reply-To: <14275.1081242325@www67.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving this thread to lucene-user list.

I'll assume you are working on a web application.
If so, you may want to look at
http://jakarta.apache.org/lucene/docs/lucene-sandbox/ and the
"Javascript Query Constructor" entry there.

Otis


--- Amrun <Amrun@gmx.at> wrote:
> Thanks for your answers, 
> 
> I've tried to use the MultiFieldQueryParser and it works quite good.
> But now
> I need to know how the operators like "+" or AND are working
> together? 
> I have a searchmask at which you can choose e.g. the title, subject,
> class,
> categoriy, teacher and so on and I need to combine the given
> keywords. 
> Say I want to get all the presentations from the class 5 from the
> teacher xy
> where the keywords are "security" "lucene" and so on. 
> So I would combine the "presentations" with the "5" and teacher "xy"
> with
> PLUS and the keywords with " "? I don't really know how this
> operators work
> together.
> Hope someone can help me
> thx 
> 
> > On Apr 5, 2004, at 5:36 AM, Amrun wrote:
> > > I'm new to lucene and I need to search for the content of several
> 
> > > fields.
> > > For example, I want to search for the given keywort in the 
> > > content-field, in
> > > the title-field, in a category-field and so on. How can I do this
> the 
> > > best
> > > way?
> > 
> > I just started a wiki page for this scenario: 
> > http://wiki.apache.org/jakarta-lucene/SearchInMultipleFields
> > 
> > Feel free to enhance it to cover more details.
> > 
> > 	Erik
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> > 
> 
> -- 
> +++ NEU bei GMX und erstmalig in Deutschland: TV-geprfter
> Virenschutz +++
> 100% Virenerkennung nach Wildlist. Infos:
> http://www.gmx.net/virenschutz
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 10:40:39 2004
Return-Path: <lucene-user-return-7860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94179 invoked from network); 6 Apr 2004 10:40:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 10:40:38 -0000
Received: (qmail 94942 invoked by uid 500); 6 Apr 2004 10:40:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94860 invoked by uid 500); 6 Apr 2004 10:40:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94847 invoked from network); 6 Apr 2004 10:40:32 -0000
Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.183)
  by daedalus.apache.org with SMTP; 6 Apr 2004 10:40:32 -0000
Received: from [212.227.126.205] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BAo0N-0007g4-00
	for lucene-user@jakarta.apache.org; Tue, 06 Apr 2004 12:40:31 +0200
Received: from [145.254.179.73] (helo=puck.wire.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BAo0N-00063o-00
	for lucene-user@jakarta.apache.org; Tue, 06 Apr 2004 12:40:31 +0200
From: Holger Klawitter <lists@klawitter.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How to feed Filter into Query/IndexReader?
Date: Tue, 6 Apr 2004 12:40:29 +0200
User-Agent: KMail/1.5.4
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200404061240.29559.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:c3f09bf0911098d231c83d2978ee4594
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi there,

I am trying allow hit counters for partial queries in my search app.
=2D From what I understand I have to

1.)	create partial Queries,
2.)	search them via FilterIndexReader,
3.)	grab the number of hits for each search
4.)	create FilterQueries for the Queries from 1.) and
5.)	munge them together (with BooleanQuery) and
6.)	do the combined Query
=2E..	proceed with hit presentation

But how to I instruct 6.) to use the filters from 4.) ?
Or did I get something fundamentally wrong?

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
lists <at> klawitter <dot> de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQFAcokd1Xdt0HKSwgYRAuDjAKCF5HfeLNMsm+MyKAedlBa6e/Js5wCgmYfW
B0tcjQN/wOsY+NL1/ciQBHM=3D
=3Dz6pW
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 11:01:51 2004
Return-Path: <lucene-user-return-7861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6958 invoked from network); 6 Apr 2004 11:01:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 11:01:50 -0000
Received: (qmail 35336 invoked by uid 500); 6 Apr 2004 11:01:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35297 invoked by uid 500); 6 Apr 2004 11:01:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35277 invoked from network); 6 Apr 2004 11:01:44 -0000
Received: from unknown (HELO hotmail.com) (64.4.31.36)
  by daedalus.apache.org with SMTP; 6 Apr 2004 11:01:44 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 6 Apr 2004 04:01:44 -0700
Received: from 193.63.235.44 by by13fd.bay13.hotmail.msn.com with HTTP;
	Tue, 06 Apr 2004 11:01:44 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [hannahc7@hotmail.com]
X-Sender: hannahc7@hotmail.com
From: "Hannah c" <hannahc7@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Dimitry's Term Vector Patch for lucene 1.2
Date: Tue, 06 Apr 2004 11:01:44 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F36re5IIzTvZ80004a3c6@hotmail.com>
X-OriginalArrivalTime: 06 Apr 2004 11:01:44.0492 (UTC) FILETIME=[8C52AEC0:01C41BC6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am working with lucene 1.2 and want to try the Term Vector Patch. I have 
not been able to install the diff patch I downloaded from the mail archives 
as I do not have CVS. Is there anywhere I could get the full source of all 
the files changed or would someone be able to send me a zip of the files I 
need. It would be greatly appreciated.

Thanks Hannah

_________________________________________________________________
Sign-up for a FREE BT Broadband connection today! 
http://www.msn.co.uk/specials/btbroadband


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 11:03:18 2004
Return-Path: <lucene-user-return-7862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7836 invoked from network); 6 Apr 2004 11:03:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 11:03:18 -0000
Received: (qmail 38648 invoked by uid 500); 6 Apr 2004 11:03:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38622 invoked by uid 500); 6 Apr 2004 11:03:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38608 invoked from network); 6 Apr 2004 11:03:11 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 6 Apr 2004 11:03:11 -0000
Message-ID: <20040406110311.21760.qmail@web12708.mail.yahoo.com>
Received: from [195.29.121.22] by web12708.mail.yahoo.com via HTTP; Tue, 06 Apr 2004 04:03:11 PDT
Date: Tue, 6 Apr 2004 04:03:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Dimitry's Term Vector Patch for lucene 1.2
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY13-F36re5IIzTvZ80004a3c6@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Get the latest Lucene version, it includes that patch.

Otis

--- Hannah c <hannahc7@hotmail.com> wrote:
> Hi,
> 
> I am working with lucene 1.2 and want to try the Term Vector Patch. I
> have 
> not been able to install the diff patch I downloaded from the mail
> archives 
> as I do not have CVS. Is there anywhere I could get the full source
> of all 
> the files changed or would someone be able to send me a zip of the
> files I 
> need. It would be greatly appreciated.
> 
> Thanks Hannah
> 
> _________________________________________________________________
> Sign-up for a FREE BT Broadband connection today! 
> http://www.msn.co.uk/specials/btbroadband
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 11:09:23 2004
Return-Path: <lucene-user-return-7863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10758 invoked from network); 6 Apr 2004 11:09:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 11:09:23 -0000
Received: (qmail 45403 invoked by uid 500); 6 Apr 2004 11:09:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45358 invoked by uid 500); 6 Apr 2004 11:09:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45345 invoked from network); 6 Apr 2004 11:09:16 -0000
Received: from unknown (HELO hotmail.com) (64.4.31.40)
  by daedalus.apache.org with SMTP; 6 Apr 2004 11:09:16 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 6 Apr 2004 04:09:17 -0700
Received: from 193.63.235.44 by by13fd.bay13.hotmail.msn.com with HTTP;
	Tue, 06 Apr 2004 11:09:16 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [hannahc7@hotmail.com]
X-Sender: hannahc7@hotmail.com
From: "Hannah c" <hannahc7@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Dimitry's Term Vector Patch for lucene 1.2
Date: Tue, 06 Apr 2004 11:09:16 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F40jBPZaCiwoB0004a325@hotmail.com>
X-OriginalArrivalTime: 06 Apr 2004 11:09:17.0016 (UTC) FILETIME=[9A0C5D80:01C41BC7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I working with java 1.1 so the earlier version of lucene is more compatable.

Hannah


>From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: Lucene Users List <lucene-user@jakarta.apache.org>
>Subject: Re: Dimitry's Term Vector Patch for lucene 1.2
>Date: Tue, 6 Apr 2004 04:03:11 -0700 (PDT)
>
>Get the latest Lucene version, it includes that patch.
>
>Otis
>
>--- Hannah c <hannahc7@hotmail.com> wrote:
> > Hi,
> >
> > I am working with lucene 1.2 and want to try the Term Vector Patch. I
> > have
> > not been able to install the diff patch I downloaded from the mail
> > archives
> > as I do not have CVS. Is there anywhere I could get the full source
> > of all
> > the files changed or would someone be able to send me a zip of the
> > files I
> > need. It would be greatly appreciated.
> >
> > Thanks Hannah
> >
> > _________________________________________________________________
> > Sign-up for a FREE BT Broadband connection today!
> > http://www.msn.co.uk/specials/btbroadband
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


--------------------------------------------------------------------------------------------------------------------------------Hannah 
Cumming
hannahc7@hotmail.com

_________________________________________________________________
It's fast, it's easy and it's free. Get MSN Messenger today! 
http://www.msn.co.uk/messenger


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 12:38:39 2004
Return-Path: <lucene-user-return-7864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59936 invoked from network); 6 Apr 2004 12:38:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 12:38:38 -0000
Received: (qmail 18665 invoked by uid 500); 6 Apr 2004 12:38:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18641 invoked by uid 500); 6 Apr 2004 12:38:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18622 invoked from network); 6 Apr 2004 12:38:29 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 6 Apr 2004 12:38:29 -0000
Received: (cpmta 29520 invoked from network); 6 Apr 2004 05:38:28 -0700
Received: from 128.143.104.190 (HELO ?128.143.104.190?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 6 Apr 2004 05:38:28 -0700
X-Sent: 6 Apr 2004 12:38:28 GMT
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: 7bit
Message-Id: <4C46D87F-87C7-11D8-8981-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: JavaRanch Lucene article
Date: Tue, 6 Apr 2004 08:38:25 -0400
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hot off the press in the latest JavaRanch newsletter:

	<http://www.javaranch.com/newsletter/200404/Journal200404.jsp#a1>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 16:13:48 2004
Return-Path: <lucene-user-return-7865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36898 invoked from network); 6 Apr 2004 16:13:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 16:13:48 -0000
Received: (qmail 92167 invoked by uid 500); 6 Apr 2004 16:13:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92118 invoked by uid 500); 6 Apr 2004 16:13:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92014 invoked from network); 6 Apr 2004 16:13:34 -0000
Received: from unknown (HELO hotmail.com) (64.4.31.93)
  by daedalus.apache.org with SMTP; 6 Apr 2004 16:13:34 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 6 Apr 2004 09:13:38 -0700
Received: from 199.245.17.130 by by13fd.bay13.hotmail.msn.com with HTTP;
	Tue, 06 Apr 2004 16:13:37 GMT
X-Originating-IP: [199.245.17.130]
X-Originating-Email: [codewarrior_6@hotmail.com]
X-Sender: codewarrior_6@hotmail.com
From: "Alan Smith" <codewarrior_6@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Index Level Term Frequency
Date: Tue, 06 Apr 2004 16:13:37 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F937Aelkdi1vv00037d04@hotmail.com>
X-OriginalArrivalTime: 06 Apr 2004 16:13:38.0039 (UTC) FILETIME=[1E775870:01C41BF2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Is there a way to get frequency of a term within the full index. There are a 
few methods in IndexReader to get the frequency of a term within a document 
and it seems reasonable that way because the index is per document. My 
application, however, needs to get the frequency of all terms in a 
particular field. Is this information stored somewhere in the index which 
can be retrieved easily rather than adding all the frequencies of that term 
in the documents it occurs in?

Thanks,
Alan

_________________________________________________________________
Persistent heartburn? Check out Digestive Health & Wellness for information 
and advice. http://gerd.msn.com/default.asp


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 16:27:01 2004
Return-Path: <lucene-user-return-7866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45342 invoked from network); 6 Apr 2004 16:27:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 16:27:00 -0000
Received: (qmail 40784 invoked by uid 500); 6 Apr 2004 16:26:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40756 invoked by uid 500); 6 Apr 2004 16:26:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40733 invoked from network); 6 Apr 2004 16:26:41 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 6 Apr 2004 16:26:41 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with ESMTP
          id <20040406162644016003c7vje>; Tue, 6 Apr 2004 16:26:44 +0000
Message-ID: <4072D9EB.7080006@apache.org>
Date: Tue, 06 Apr 2004 09:25:15 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Find all Words in a Document
References: <F3F753992505C2478C845CDD85194D1E5F86@mastercontroll.ascirum.tz>
In-Reply-To: <F3F753992505C2478C845CDD85194D1E5F86@mastercontroll.ascirum.tz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

peters marcus wrote:
> is there a way to get all words stored in the index for a given document

Yes, in the 1.4 release:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#getTermFreqVectors(int)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 16:50:31 2004
Return-Path: <lucene-user-return-7867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59421 invoked from network); 6 Apr 2004 16:50:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 16:50:31 -0000
Received: (qmail 13114 invoked by uid 500); 6 Apr 2004 16:48:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13087 invoked by uid 500); 6 Apr 2004 16:48:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13067 invoked from network); 6 Apr 2004 16:48:54 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 6 Apr 2004 16:48:54 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004040616485801300148k9e>; Tue, 6 Apr 2004 16:48:58 +0000
Message-ID: <4072DF20.1050605@apache.org>
Date: Tue, 06 Apr 2004 09:47:28 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: "starts with" query functionality
References: <2DC164E17BF00741B75A02EDA6D4A89701E02CCC@elwood.definityhealth.com>
In-Reply-To: <2DC164E17BF00741B75A02EDA6D4A89701E02CCC@elwood.definityhealth.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chad Small wrote:
> We have a requirement to return documents with a "title" field that starts with a certain letter.  Is there a way to do something like this?  We're using the StandardAnalyzer
>  
> Example title fields:
>  
> This is the title of a document.
> And this is a title of a different document.
>  
> This query doesn't fulfill the requirement:
> +(t*)  - just want to return the 1st document that starts with "This", and not the 2nd article that has "this" as the 2nd word.

You could do this with SpanFirstQuery, but it would be a bit of code.

You'd want to perform the expansion of 't*', but instead of making a 
BooleanQuery with a TermQuery for each matching term, you'd need to fill 
the BooleanQuery with a SpanFirstQuery for each term, each containing a 
SpanTermQuery.

In your example, 't*' expands to something like:

   Query result = new BooleanQuery()
   result.add(new TermQuery(new Term("f", "this")));
   result.add(new TermQuery(new Term("f", "the")));

To construct a similar query that only matches the first word, you'd 
need something like:

   Query result = new BooleanQuery()
   result.add(new SpanFirstQuery(new SpanTermQuery(new 
Term("f","this")), 1);
   result.add(new SpanFirstQuery(new SpanTermQuery(new Term("f","the")), 1);

In order to do the term expansion you'd need something like loop in 
PrefixQuery.rewrite().

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 17:08:22 2004
Return-Path: <lucene-user-return-7868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71570 invoked from network); 6 Apr 2004 17:08:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 17:08:22 -0000
Received: (qmail 67006 invoked by uid 500); 6 Apr 2004 17:08:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66978 invoked by uid 500); 6 Apr 2004 17:08:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66955 invoked from network); 6 Apr 2004 17:08:06 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 6 Apr 2004 17:08:06 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <20040406170809012002l4ife>; Tue, 6 Apr 2004 17:08:10 +0000
Message-ID: <4072E3A0.9090606@apache.org>
Date: Tue, 06 Apr 2004 10:06:40 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index partitioning
References: <3C6997A8-8661-11D8-86DE-0003938771F0@mellin.net>
In-Reply-To: <3C6997A8-8661-11D8-86DE-0003938771F0@mellin.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Magnus Mellin wrote:
> i would like to partition an index over X number of remote searchers.
> Any ideas, or suggestions, on how to use the same term dictionary (one 
> that represents the terms and frequencies for the whole document 
> collection) over all my indices?

Try using a ParallelMultiSearcher composed of RemoteSearchable's.  This 
combines term statistics from all indexes.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 18:18:36 2004
Return-Path: <lucene-user-return-7869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12614 invoked from network); 6 Apr 2004 18:18:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 18:18:36 -0000
Received: (qmail 90896 invoked by uid 500); 6 Apr 2004 18:18:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90598 invoked by uid 500); 6 Apr 2004 18:18:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90583 invoked from network); 6 Apr 2004 18:18:21 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 6 Apr 2004 18:18:21 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i36IIOiI026340
	for <lucene-user@jakarta.apache.org>; Tue, 6 Apr 2004 14:18:25 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i36IIOO5026336
	for <lucene-user@jakarta.apache.org>; Tue, 6 Apr 2004 14:18:24 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 6 Apr 2004 14:18:24 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Highlight package
In-Reply-To: <4072E3A0.9090606@apache.org>
Message-ID: <Pine.LNX.4.44.0404061416190.26132-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

The link to Mark Harwood's highlight package is down, anyone 
have any idea where his package would be available? 

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 20:43:30 2004
Return-Path: <lucene-user-return-7870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6841 invoked from network); 6 Apr 2004 20:43:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 20:43:30 -0000
Received: (qmail 90252 invoked by uid 500); 6 Apr 2004 20:43:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90222 invoked by uid 500); 6 Apr 2004 20:43:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90208 invoked from network); 6 Apr 2004 20:43:13 -0000
Received: from unknown (HELO sotr0085.cognos.com) (205.210.232.62)
  by daedalus.apache.org with SMTP; 6 Apr 2004 20:43:13 -0000
Received: by sotr0085.cognos.com with Internet Mail Service (5.5.2657.72)
	id <2NLABK9P>; Tue, 6 Apr 2004 16:43:23 -0400
Message-ID: <BF85C64585F2D61190EF0002A5CE6F3407FD3D36@sottexch2.cognos.com>
From: "Weir, Michael" <Michael.Weir@cognos.com>
To: "Lucene Users List (E-mail)" <lucene-user@jakarta.apache.org>
Subject: verifying index integrity
Date: Tue, 6 Apr 2004 16:42:41 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C41C17.B48852B8"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41C17.B48852B8
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

When the server we're developing comes up, its Lucene indexes are =
sometimes
locked, especially during development, when it crashes fairly =
frequently.  I
assume that it is possible to corrupt an index by crashing at just the =
right
time.

I notice that there's a method IndexReader.unlock().  Does this method
ensure that the index has not been corrupted?  If not, is there a way =
of
asking Lucene either to fix up an index or tell you that the index =
should be
rebuilt?

Thanks for any help.

Michael Weir =B7 Transform Research Inc. =B7 613.238.1363 x.114


	Cognos Forum, June 27-30, 2004: Power Your Performance. Join us in
Orlando for our global customer conference. Engage with your peers. =
Hear
from top analysts. Learn from the Cognos Business Intelligence and
Enterprise Planning gurus. And turn your potential into higher =
performance.
Register today at http://www.cognos.com/cognosforum=20

	This message may contain privileged and/or confidential information.
If you have received this e-mail in error or are not the intended =
recipient,
you may not use, copy, disseminate or distribute it; do not open any
attachments, delete it immediately from your system and notify the =
sender
promptly by e-mail that you have done so.  Thank you.

------_=_NextPart_001_01C41C17.B48852B8--

From lucene-user-return-7871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 21:01:53 2004
Return-Path: <lucene-user-return-7871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16781 invoked from network); 6 Apr 2004 21:01:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 21:01:53 -0000
Received: (qmail 21997 invoked by uid 500); 6 Apr 2004 21:01:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21964 invoked by uid 500); 6 Apr 2004 21:01:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21807 invoked from network); 6 Apr 2004 21:01:21 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 6 Apr 2004 21:01:21 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i36L1QdA026878
	for <lucene-user@jakarta.apache.org>; Tue, 6 Apr 2004 21:01:27 GMT
Date: Tue, 6 Apr 2004 21:01:26 GMT
Message-Id: <200404062101.i36L1QdA026878@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: re: Highlight package
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just got back from holiday to find that one of the ISPs I use shutdown my site with the highlighter code and a number of people have 
complained about the broken "highlighter" link from the Lucene site.

I have temporarily put the missing highlighter code up here:

http://www.inperspective.com/lucene/highlighter.zip

I am now implementing the changes I outlined here:
http://marc.theaimsgroup.com/?l=lucene-user&m=108073924109682&w=2
I hope to release a new version of this package very shortly  and will update the "contributions" WIKI page with the new link when this is released.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 06 21:10:56 2004
Return-Path: <lucene-user-return-7872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20500 invoked from network); 6 Apr 2004 21:10:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Apr 2004 21:10:56 -0000
Received: (qmail 44418 invoked by uid 500); 6 Apr 2004 21:10:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44401 invoked by uid 500); 6 Apr 2004 21:10:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44387 invoked from network); 6 Apr 2004 21:10:37 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 6 Apr 2004 21:10:37 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with ESMTP
          id <2004040621104301100rtsjhe>; Tue, 6 Apr 2004 21:10:43 +0000
Message-ID: <40731C79.7020006@apache.org>
Date: Tue, 06 Apr 2004 14:09:13 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: verifying index integrity
References: <BF85C64585F2D61190EF0002A5CE6F3407FD3D36@sottexch2.cognos.com>
In-Reply-To: <BF85C64585F2D61190EF0002A5CE6F3407FD3D36@sottexch2.cognos.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Weir, Michael wrote:
> I assume that it is possible to corrupt an index by crashing at just the right
> time.

It should not be possible to corrupt an index this way.

> I notice that there's a method IndexReader.unlock().  Does this method
> ensure that the index has not been corrupted?

If you use this method, it is possible to corrupt things.  In 
particular, if you unlock an index that another process is modifying, 
then modify it, then these two processes might step on one another.  So 
this method should only be called when you are certain that no one else 
is modifying the index.

There is no index integrity checker.  I suppose one could implement one 
by implementing a NullDirectory that ignores all reads and writes, then 
use IndexWriter.addIndexes() to add the index to be checked to a 
NullDirectory.  That would parse all of the files in the index.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 07 01:42:01 2004
Return-Path: <lucene-user-return-7873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27220 invoked from network); 7 Apr 2004 01:42:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Apr 2004 01:42:01 -0000
Received: (qmail 52644 invoked by uid 500); 7 Apr 2004 01:41:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52626 invoked by uid 500); 7 Apr 2004 01:41:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52611 invoked from network); 7 Apr 2004 01:41:37 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 7 Apr 2004 01:41:37 -0000
Received: (cpmta 15012 invoked from network); 6 Apr 2004 18:41:45 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 6 Apr 2004 18:41:45 -0700
X-Sent: 7 Apr 2004 01:41:45 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404062101.i36L1QdA026878@server0027.freedom2surf.net>
References: <200404062101.i36L1QdA026878@server0027.freedom2surf.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B98203BF-8834-11D8-A0CE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlight package
Date: Tue, 6 Apr 2004 21:41:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

If you would like this to live in the Lucene Sandbox CVS, I'm sure that 
no one would have any objections to voting you in as a committer!  We'd 
love to have it closer to "home" :)

Just say the word.

	Erik

On Apr 6, 2004, at 5:01 PM, markharw00d@yahoo.co.uk wrote:

> Just got back from holiday to find that one of the ISPs I use shutdown 
> my site with the highlighter code and a number of people have
> complained about the broken "highlighter" link from the Lucene site.
>
> I have temporarily put the missing highlighter code up here:
>
> http://www.inperspective.com/lucene/highlighter.zip
>
> I am now implementing the changes I outlined here:
> http://marc.theaimsgroup.com/?l=lucene-user&m=108073924109682&w=2
> I hope to release a new version of this package very shortly  and will 
> update the "contributions" WIKI page with the new link when this is 
> released.
>
> Cheers
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 07 08:22:16 2004
Return-Path: <lucene-user-return-7874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14751 invoked from network); 7 Apr 2004 08:22:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Apr 2004 08:22:15 -0000
Received: (qmail 68135 invoked by uid 500); 7 Apr 2004 08:21:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68058 invoked by uid 500); 7 Apr 2004 08:21:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67983 invoked from network); 7 Apr 2004 08:21:39 -0000
Received: from unknown (HELO mastercontroll.ascirum.tz) (217.194.225.102)
  by daedalus.apache.org with SMTP; 7 Apr 2004 08:21:39 -0000
Content-class: urn:content-classes:message
Subject: RE: Re : Find all Words in a Document
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 7 Apr 2004 10:26:41 +0200
Message-ID: <F3F753992505C2478C845CDD85194D1E5F8D@mastercontroll.ascirum.tz>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re : Find all Words in a Document
Thread-Index: AcQb9LcqcObSfgAcTJynyzXfun+hGQAhBp9w
From: "peters marcus" <marcus.peters@ascirum.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Doug thanks for your answer,

I currently use the .NET implementation of lucene 1.3 and we want to
enable some semantic retrieval features. To create any associations
between words and documents we need to know all words in a given
document.=20

Cause I don't know how fast the .NET implementation of lucene 1.4 will
come out... is it possible to run a method like getTermFreqVectors on a
lucene
1.3 implementation ?

Thanks for any response,

Marcus


-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]=20
Sent: Dienstag, 6. April 2004 18:25
To: Lucene Users List
Subject: Re: Find all Words in a Document

peters marcus wrote:
> is there a way to get all words stored in the index for a given
document

Yes, in the 1.4 release:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexR
eader.html#getTermFreqVectors(int)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 07 14:38:11 2004
Return-Path: <lucene-user-return-7875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2560 invoked from network); 7 Apr 2004 14:38:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Apr 2004 14:38:11 -0000
Received: (qmail 67320 invoked by uid 500); 7 Apr 2004 14:38:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67195 invoked by uid 500); 7 Apr 2004 14:38:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67169 invoked from network); 7 Apr 2004 14:37:59 -0000
Received: from unknown (HELO sotr0085.cognos.com) (205.210.232.62)
  by daedalus.apache.org with SMTP; 7 Apr 2004 14:37:59 -0000
Received: by sotr0085.cognos.com with Internet Mail Service (5.5.2657.72)
	id <2NLA1K5B>; Wed, 7 Apr 2004 10:38:04 -0400
Message-ID: <BF85C64585F2D61190EF0002A5CE6F3407FD3D3B@sottexch2.cognos.com>
From: "Weir, Michael" <Michael.Weir@cognos.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: verifying index integrity
Date: Wed, 7 Apr 2004 10:37:31 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C41CAD.DB667964"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C41CAD.DB667964
Content-Type: text/plain

Thanks for the quick response.
So if our server is the only process that ever opens the index, I should be
able to run through the indexes at startup and simply unlock them?

Michael Weir . Transform Research Inc. . 613.238.1363 x.114


-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]
Sent: Tuesday, April 06, 2004 5:09 PM
To: Lucene Users List
Subject: Re: verifying index integrity


Weir, Michael wrote:
> I assume that it is possible to corrupt an index by crashing at just the
right
> time.

It should not be possible to corrupt an index this way.

> I notice that there's a method IndexReader.unlock().  Does this method
> ensure that the index has not been corrupted?

If you use this method, it is possible to corrupt things.  In 
particular, if you unlock an index that another process is modifying, 
then modify it, then these two processes might step on one another.  So 
this method should only be called when you are certain that no one else 
is modifying the index.

There is no index integrity checker.  I suppose one could implement one 
by implementing a NullDirectory that ignores all reads and writes, then 
use IndexWriter.addIndexes() to add the index to be checked to a 
NullDirectory.  That would parse all of the files in the index.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


	Cognos Forum, June 27-30, 2004: Power Your Performance. Join us in
Orlando for our global customer conference. Engage with your peers. Hear
from top analysts. Learn from the Cognos Business Intelligence and
Enterprise Planning gurus. And turn your potential into higher performance.
Register today at http://www.cognos.com/cognosforum 

	This message may contain privileged and/or confidential information.
If you have received this e-mail in error or are not the intended recipient,
you may not use, copy, disseminate or distribute it; do not open any
attachments, delete it immediately from your system and notify the sender
promptly by e-mail that you have done so.  Thank you.

------_=_NextPart_001_01C41CAD.DB667964--

From lucene-user-return-7876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 07 19:10:05 2004
Return-Path: <lucene-user-return-7876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11383 invoked from network); 7 Apr 2004 19:10:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Apr 2004 19:10:05 -0000
Received: (qmail 60154 invoked by uid 500); 7 Apr 2004 19:09:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60122 invoked by uid 500); 7 Apr 2004 19:09:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59965 invoked from network); 7 Apr 2004 19:09:46 -0000
Received: from unknown (HELO frontend1.aha.ru) (213.189.198.214)
  by daedalus.apache.org with SMTP; 7 Apr 2004 19:09:46 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 25221535 for lucene-user@jakarta.apache.org; Wed, 07 Apr 2004 23:09:50 +0400
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Re : Find all Words in a Document
Date: Wed, 7 Apr 2004 23:11:37 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQb9LcqcObSfgAcTJynyzXfun+hGQAhBp9wABap7KA=
In-Reply-To: <F3F753992505C2478C845CDD85194D1E5F8D@mastercontroll.ascirum.tz>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <auto-000025221535@frontend1.aha.ru>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: peters marcus [mailto:marcus.peters@ascirum.de] 
> Subject: RE: Re : Find all Words in a Document

> Cause I don't know how fast the .NET implementation of lucene 
> 1.4 will come out... is it possible to run a method like 

We plan publish Lucene.Net 1.4-rc2 before summer.

Pasha Bizhan
http://www.LuceneDotNet.com - the free search engine for .NET


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 07 19:45:44 2004
Return-Path: <lucene-user-return-7877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40753 invoked from network); 7 Apr 2004 19:45:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Apr 2004 19:45:44 -0000
Received: (qmail 58825 invoked by uid 500); 7 Apr 2004 19:45:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58784 invoked by uid 500); 7 Apr 2004 19:45:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58732 invoked from network); 7 Apr 2004 19:45:05 -0000
Received: from unknown (HELO smtp02corp.interwoven.com) (65.161.4.46)
  by daedalus.apache.org with SMTP; 7 Apr 2004 19:45:05 -0000
Received: from exbesv01.Interwoven.com (localhost [127.0.0.1])
	by smtp02corp.interwoven.com (8.12.10/8.12.10) with ESMTP id i37Jj9Ee006628
	for <lucene-user@jakarta.apache.org>; Wed, 7 Apr 2004 12:45:09 -0700 (PDT)
Received: from exbecg01.Interwoven.com ([10.5.18.35]) by exbesv01.Interwoven.com with Microsoft SMTPSVC(6.0.3790.0);
	 Wed, 7 Apr 2004 12:45:09 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Hebrew Analyzer
Date: Wed, 7 Apr 2004 13:45:08 -0600
Message-ID: <11DEE1B02C8FCB488B2EBD06A755901AE3CDB3@exbecg01.Interwoven.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hebrew Analyzer
Thread-Index: AcQc2NUPU56Ov4goRwy2iD2exwB2Gw==
From: "Randy Darling" <rdarling@interwoven.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 07 Apr 2004 19:45:09.0602 (UTC) FILETIME=[D5A3EC20:01C41CD8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Does anyone know of an anlyzer to use for Hebrew?

Thanks,
Randy


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 08 10:17:12 2004
Return-Path: <lucene-user-return-7878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58314 invoked from network); 8 Apr 2004 10:17:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Apr 2004 10:17:12 -0000
Received: (qmail 76566 invoked by uid 500); 8 Apr 2004 10:16:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76543 invoked by uid 500); 8 Apr 2004 10:16:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76526 invoked from network); 8 Apr 2004 10:16:38 -0000
Received: from unknown (HELO mastercontroll.ascirum.tz) (217.194.225.102)
  by daedalus.apache.org with SMTP; 8 Apr 2004 10:16:38 -0000
Content-class: urn:content-classes:message
Subject: RE: Re : Find all Words in a Document
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 8 Apr 2004 12:21:47 +0200
Message-ID: <F3F753992505C2478C845CDD85194D1E5F8E@mastercontroll.ascirum.tz>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re : Find all Words in a Document
Thread-Index: AcQb9LcqcObSfgAcTJynyzXfun+hGQAhBp9wABap7KAAH9lMAA==
From: "peters marcus" <marcus.peters@ascirum.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Pasha,

> From: Pasha Bizhan [mailto:fckdp@ok.ru]=20
> We plan publish Lucene.Net 1.4-rc2 before summer.


that sounds good. I wrote you an email
over my sourceforge account.. May I can help out a little.

Regards,

Marcus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 08 17:10:02 2004
Return-Path: <lucene-user-return-7879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95540 invoked from network); 8 Apr 2004 17:10:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Apr 2004 17:10:02 -0000
Received: (qmail 90207 invoked by uid 500); 8 Apr 2004 17:09:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90178 invoked by uid 500); 8 Apr 2004 17:09:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90141 invoked from network); 8 Apr 2004 17:09:42 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 8 Apr 2004 17:09:42 -0000
Received: from apache.org (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with ESMTP
          id <20040408170945012001vk0ue>; Thu, 8 Apr 2004 17:09:45 +0000
Message-ID: <407586FB.40105@apache.org>
Date: Thu, 08 Apr 2004 10:08:11 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: verifying index integrity
References: <BF85C64585F2D61190EF0002A5CE6F3407FD3D3B@sottexch2.cognos.com>
In-Reply-To: <BF85C64585F2D61190EF0002A5CE6F3407FD3D3B@sottexch2.cognos.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Weir, Michael wrote:
> So if our server is the only process that ever opens the index, I should be
> able to run through the indexes at startup and simply unlock them?

Yes.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 08 22:09:46 2004
Return-Path: <lucene-user-return-7880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50132 invoked from network); 8 Apr 2004 22:09:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Apr 2004 22:09:46 -0000
Received: (qmail 33595 invoked by uid 500); 8 Apr 2004 22:09:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33418 invoked by uid 500); 8 Apr 2004 22:09:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33403 invoked from network); 8 Apr 2004 22:09:27 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 8 Apr 2004 22:09:27 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i38M9W4L011281
	for <lucene-user@jakarta.apache.org>; Thu, 8 Apr 2004 22:09:33 GMT
Date: Thu, 8 Apr 2004 22:09:32 GMT
Message-Id: <200404082209.i38M9W4L011281@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Highlighter package v2 RC1 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've reworked the highlighter package to address some issues (inability to pass fieldnames to analyzers,
limiting tokenization of large docs) and have refactored it to be more modular so that folks
can provide alternative implementations of the main functions (tokenizing, fragmenting and scoring) if required.

This is not backwards compatible with earlier releases but this new version should hopefully 
provide a much more robust framework going forward.
If people feel comfortable with this version I am happy to put this in the sandbox 
Any feedback is appreciated.

Code here:
http://www.inperspective.com/lucene/highlighter2/highlighter2.zip

Javadocs here:
http://www.inperspective.com/lucene/highlighter2/index.html

Quick code example:

  IndexSearcher searcher = new IndexSearcher(ramDir);
  Query query = QueryParser.parse("Kenne*", FIELD_NAME, analyzer);
  query=query.rewrite(reader); //required to expand search terms
  Hits hits = searcher.search(query);

  Highlighter highlighter =new Highlighter(new QueryScorer(query));
  for (int i = 0; i < hits.length(); i++)
  {
    String text = hits.doc(i).get(FIELD_NAME);
    TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new StringReader(text));
    // Get 3 best fragments and seperate with a "..." 
    String result = highlighter.getBestFragments(tokenStream,text,3,"...");
    System.out.println(result);
  }


Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 00:17:33 2004
Return-Path: <lucene-user-return-7881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14712 invoked from network); 9 Apr 2004 00:17:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 00:17:33 -0000
Received: (qmail 39091 invoked by uid 500); 9 Apr 2004 00:17:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39071 invoked by uid 500); 9 Apr 2004 00:17:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39057 invoked from network); 9 Apr 2004 00:17:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.84)
  by daedalus.apache.org with SMTP; 9 Apr 2004 00:17:11 -0000
Received: (cpmta 25858 invoked from network); 8 Apr 2004 17:17:19 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.84) with SMTP; 8 Apr 2004 17:17:19 -0700
X-Sent: 9 Apr 2004 00:17:19 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404082209.i38M9W4L011281@server0027.freedom2surf.net>
References: <200404082209.i38M9W4L011281@server0027.freedom2surf.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4445460F-89BB-11D8-A230-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter package v2 RC1 
Date: Thu, 8 Apr 2004 20:17:20 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

I have committed the code in your .zip file to the Lucene sandbox under 
contributions/hilighter.

I'm now going to post a vote over on the -dev list for you to become a 
committer in that repository.

Many thanks for this awesome contribution!

	Erik


On Apr 8, 2004, at 6:09 PM, markharw00d@yahoo.co.uk wrote:

> I've reworked the highlighter package to address some issues 
> (inability to pass fieldnames to analyzers,
> limiting tokenization of large docs) and have refactored it to be more 
> modular so that folks
> can provide alternative implementations of the main functions 
> (tokenizing, fragmenting and scoring) if required.
>
> This is not backwards compatible with earlier releases but this new 
> version should hopefully
> provide a much more robust framework going forward.
> If people feel comfortable with this version I am happy to put this in 
> the sandbox
> Any feedback is appreciated.
>
> Code here:
> http://www.inperspective.com/lucene/highlighter2/highlighter2.zip
>
> Javadocs here:
> http://www.inperspective.com/lucene/highlighter2/index.html
>
> Quick code example:
>
>   IndexSearcher searcher = new IndexSearcher(ramDir);
>   Query query = QueryParser.parse("Kenne*", FIELD_NAME, analyzer);
>   query=query.rewrite(reader); //required to expand search terms
>   Hits hits = searcher.search(query);
>
>   Highlighter highlighter =new Highlighter(new QueryScorer(query));
>   for (int i = 0; i < hits.length(); i++)
>   {
>     String text = hits.doc(i).get(FIELD_NAME);
>     TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new 
> StringReader(text));
>     // Get 3 best fragments and seperate with a "..."
>     String result = 
> highlighter.getBestFragments(tokenStream,text,3,"...");
>     System.out.println(result);
>   }
>
>
> Cheers
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 00:19:52 2004
Return-Path: <lucene-user-return-7882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15618 invoked from network); 9 Apr 2004 00:19:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 00:19:52 -0000
Received: (qmail 42698 invoked by uid 500); 9 Apr 2004 00:19:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42669 invoked by uid 500); 9 Apr 2004 00:19:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42607 invoked from network); 9 Apr 2004 00:19:22 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 9 Apr 2004 00:19:22 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i390JTiI001837
	for <lucene-user@jakarta.apache.org>; Thu, 8 Apr 2004 20:19:29 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i390JTKN001832
	for <lucene-user@jakarta.apache.org>; Thu, 8 Apr 2004 20:19:29 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 8 Apr 2004 20:19:29 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Highlighter package v2 RC1 
In-Reply-To: <4445460F-89BB-11D8-A230-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0404082018070.1815-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Seems like a cool addition.

btw, is there a reason why it's called hilighter and not highlighter?

sv

On Thu, 8 Apr 2004, Erik Hatcher wrote:

> Mark,
> 
> I have committed the code in your .zip file to the Lucene sandbox under 
> contributions/hilighter.
> 
> I'm now going to post a vote over on the -dev list for you to become a 
> committer in that repository.
> 
> Many thanks for this awesome contribution!
> 
> 	Erik
> 
> 
> On Apr 8, 2004, at 6:09 PM, markharw00d@yahoo.co.uk wrote:
> 
> > I've reworked the highlighter package to address some issues 
> > (inability to pass fieldnames to analyzers,
> > limiting tokenization of large docs) and have refactored it to be more 
> > modular so that folks
> > can provide alternative implementations of the main functions 
> > (tokenizing, fragmenting and scoring) if required.
> >
> > This is not backwards compatible with earlier releases but this new 
> > version should hopefully
> > provide a much more robust framework going forward.
> > If people feel comfortable with this version I am happy to put this in 
> > the sandbox
> > Any feedback is appreciated.
> >
> > Code here:
> > http://www.inperspective.com/lucene/highlighter2/highlighter2.zip
> >
> > Javadocs here:
> > http://www.inperspective.com/lucene/highlighter2/index.html
> >
> > Quick code example:
> >
> >   IndexSearcher searcher = new IndexSearcher(ramDir);
> >   Query query = QueryParser.parse("Kenne*", FIELD_NAME, analyzer);
> >   query=query.rewrite(reader); //required to expand search terms
> >   Hits hits = searcher.search(query);
> >
> >   Highlighter highlighter =new Highlighter(new QueryScorer(query));
> >   for (int i = 0; i < hits.length(); i++)
> >   {
> >     String text = hits.doc(i).get(FIELD_NAME);
> >     TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new 
> > StringReader(text));
> >     // Get 3 best fragments and seperate with a "..."
> >     String result = 
> > highlighter.getBestFragments(tokenStream,text,3,"...");
> >     System.out.println(result);
> >   }
> >
> >
> > Cheers
> > Mark
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 00:35:34 2004
Return-Path: <lucene-user-return-7883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23527 invoked from network); 9 Apr 2004 00:35:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 00:35:33 -0000
Received: (qmail 69942 invoked by uid 500); 9 Apr 2004 00:35:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69873 invoked by uid 500); 9 Apr 2004 00:35:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69858 invoked from network); 9 Apr 2004 00:35:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 9 Apr 2004 00:35:12 -0000
Received: (cpmta 24777 invoked from network); 8 Apr 2004 17:35:20 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 8 Apr 2004 17:35:20 -0700
X-Sent: 9 Apr 2004 00:35:20 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0404082018070.1815-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0404082018070.1815-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C7A877A7-89BD-11D8-A230-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter package v2 RC1 
Date: Thu, 8 Apr 2004 20:35:19 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 8, 2004, at 8:19 PM, Stephane James Vaucher wrote:
> btw, is there a reason why it's called hilighter and not highlighter?

'cause I'm stupid?!  :/

I've just recommitted with the right name.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 04:46:46 2004
Return-Path: <lucene-user-return-7884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38889 invoked from network); 9 Apr 2004 04:46:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 04:46:46 -0000
Received: (qmail 53649 invoked by uid 500); 9 Apr 2004 04:46:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53545 invoked by uid 500); 9 Apr 2004 04:46:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53530 invoked from network); 9 Apr 2004 04:46:20 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 9 Apr 2004 04:46:20 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id F060783AEA
	for <lucene-user@jakarta.apache.org>; Fri,  9 Apr 2004 08:45:08 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 9732428 for lucene-user@jakarta.apache.org; Fri, 09 Apr 2004 08:45:08 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: Highlighter package v2 RC1 
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Fri, 09 Apr 2004 08:45:08 +0400
Message-ID: <web-9732428@mail5.rambler.ru>
In-Reply-To: <200404082209.i38M9W4L011281@server0027.freedom2surf.net>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

Many thanks for this news!

Vladimir.

On Thu, 8 Apr 2004 22:09:32 GMT
  markharw00d@yahoo.co.uk wrote:
>I've reworked the highlighter package to address some issues 
>(inability to pass fieldnames to analyzers,
>limiting tokenization of large docs) and have refactored it to be 
>more modular so that folks
>can provide alternative implementations of the main functions 
>(tokenizing, fragmenting and scoring) if required.
>
>This is not backwards compatible with earlier releases but this new 
>version should hopefully 
>provide a much more robust framework going forward.
>If people feel comfortable with this version I am happy to put this 
>in the sandbox 
>Any feedback is appreciated.
>
>Code here:
>http://www.inperspective.com/lucene/highlighter2/highlighter2.zip
>
>Javadocs here:
>http://www.inperspective.com/lucene/highlighter2/index.html
>
>Quick code example:
>
>  IndexSearcher searcher = new IndexSearcher(ramDir);
>  Query query = QueryParser.parse("Kenne*", FIELD_NAME, analyzer);
>  query=query.rewrite(reader); //required to expand search terms
>  Hits hits = searcher.search(query);
>
>  Highlighter highlighter =new Highlighter(new QueryScorer(query));
>  for (int i = 0; i < hits.length(); i++)
>  {
>    String text = hits.doc(i).get(FIELD_NAME);
>    TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new 
>StringReader(text));
>    // Get 3 best fragments and seperate with a "..." 
>    String result = 
>highlighter.getBestFragments(tokenStream,text,3,"...");
>    System.out.println(result);
>  }
>
>
>Cheers
>Mark
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 19:18:32 2004
Return-Path: <lucene-user-return-7885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93850 invoked from network); 9 Apr 2004 19:18:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 19:18:32 -0000
Received: (qmail 21680 invoked by uid 500); 9 Apr 2004 19:18:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21657 invoked by uid 500); 9 Apr 2004 19:18:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21640 invoked from network); 9 Apr 2004 19:18:15 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 9 Apr 2004 19:18:15 -0000
Received: (qmail 29151 invoked from network); 9 Apr 2004 19:18:18 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.29.72])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 9 Apr 2004 19:18:18 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id E61BCBD1
	for <lucene-user@jakarta.apache.org>; Fri,  9 Apr 2004 21:18:26 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: ValueListHandler pattern with Lucene
Date: Fri, 9 Apr 2004 21:18:26 +0200
User-Agent: KMail/1.6.1
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404092118.26341.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I implemented a VLH pattern Lucene's search hits but noticed that hits.doc() 
is quite slow (3000+ hits took about 500ms).

So, I want to ask people here for a solution. I tought about something like a 
wrapper for the VO (value/transfer object), i.e. that the VO does not 
actually contain the value but a reference to lucene's Hits instance. But 
this somewhat a hack...

Any ideas?

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 19:31:04 2004
Return-Path: <lucene-user-return-7886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3236 invoked from network); 9 Apr 2004 19:31:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 19:31:04 -0000
Received: (qmail 49223 invoked by uid 500); 9 Apr 2004 19:30:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49176 invoked by uid 500); 9 Apr 2004 19:30:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49138 invoked from network); 9 Apr 2004 19:30:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 9 Apr 2004 19:30:31 -0000
Received: (cpmta 10640 invoked from network); 9 Apr 2004 12:30:36 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 9 Apr 2004 12:30:36 -0700
X-Sent: 9 Apr 2004 19:30:36 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404092118.26341.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5FE9CC1E-8A5C-11D8-9D02-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Fri, 9 Apr 2004 15:30:35 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 9, 2004, at 3:18 PM, lucene@nitwit.de wrote:
> I implemented a VLH pattern Lucene's search hits but noticed that 
> hits.doc()
> is quite slow (3000+ hits took about 500ms).
>
> So, I want to ask people here for a solution. I tought about something 
> like a
> wrapper for the VO (value/transfer object), i.e. that the VO does not
> actually contain the value but a reference to lucene's Hits instance. 
> But
> this somewhat a hack...
>
> Any ideas?

This is an interesting architecture question.  If you are trying to 
decouple things so much that you want to package up all documents in 
another data structure and ship them to another tier, you're asking for 
a heap of resources for a large Hits collection.

Do you really need *all* documents from Hits?  If not, then you should 
not be pulling them all with hits.doc().

If you truly do need all hits, use a HitCollector instead of Hits (see 
the other search() methods).

Packaging up a Hits instance could be problematic - you need to be sure 
the *same* IndexSearcher is around when you start navigating through 
the hits.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 20:06:47 2004
Return-Path: <lucene-user-return-7887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15657 invoked from network); 9 Apr 2004 20:06:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 20:06:47 -0000
Received: (qmail 21496 invoked by uid 500); 9 Apr 2004 20:06:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21413 invoked by uid 500); 9 Apr 2004 20:06:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21363 invoked from network); 9 Apr 2004 20:06:27 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 9 Apr 2004 20:06:27 -0000
Received: (qmail 9192 invoked from network); 9 Apr 2004 20:06:31 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.29.72])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 9 Apr 2004 20:06:31 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id E0698C20
	for <lucene-user@jakarta.apache.org>; Fri,  9 Apr 2004 22:06:39 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Fri, 9 Apr 2004 22:06:39 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <5FE9CC1E-8A5C-11D8-9D02-000393A564E6@ehatchersolutions.com>
In-Reply-To: <5FE9CC1E-8A5C-11D8-9D02-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404092206.39378.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 09 April 2004 21:30, Erik Hatcher wrote:
> Do you really need *all* documents from Hits?  If not, then you should

Only the user knows ;-) Well, no, I very likely only need one or a few but 
nevertheless I have to pull all hit results to the presentation tier...

That's just the problem. Using a VLH I have to fetch all hits from the Hits 
instance and put them into the VLH - ordinarily you would lazily only fetch 
the hits you actually need them - at the time you need them.

That's just my question :-)

So, to repeat, my idea was to use a wrapper for the VOs in order to fetch only 
some hits at a time...

It's actually a VLH pattern drawback. Maybe I should ask the blueprint 
people ;-)

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 20:18:52 2004
Return-Path: <lucene-user-return-7888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19419 invoked from network); 9 Apr 2004 20:18:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 20:18:52 -0000
Received: (qmail 40213 invoked by uid 500); 9 Apr 2004 20:18:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40188 invoked by uid 500); 9 Apr 2004 20:18:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40175 invoked from network); 9 Apr 2004 20:18:35 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 9 Apr 2004 20:18:35 -0000
Received: (cpmta 29411 invoked from network); 9 Apr 2004 13:18:40 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 9 Apr 2004 13:18:40 -0700
X-Sent: 9 Apr 2004 20:18:40 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404092206.39378.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <5FE9CC1E-8A5C-11D8-9D02-000393A564E6@ehatchersolutions.com> <200404092206.39378.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <17A0473A-8A63-11D8-8C08-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Fri, 9 Apr 2004 16:18:41 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Patterns are work-arounds for language deficiences :)

Don't use patterns because some book said so - use them if they are the 
pragmatic choice.  Flattening data for reports or search results and 
perhaps being a little more coupled to Lucene between tiers in order to 
avoid performance problems seems a wise way to approach it.  Or go 
straight to Lucene from the presentation tier - no one said you had to 
proxy it through some other layer.

I would highly recommend *against* loading all documents from a search 
into a collection and passing it across tiers - you're only asking for 
trouble.

	Erik


On Apr 9, 2004, at 4:06 PM, lucene@nitwit.de wrote:

> On Friday 09 April 2004 21:30, Erik Hatcher wrote:
>> Do you really need *all* documents from Hits?  If not, then you should
>
> Only the user knows ;-) Well, no, I very likely only need one or a few 
> but
> nevertheless I have to pull all hit results to the presentation tier...
>
> That's just the problem. Using a VLH I have to fetch all hits from the 
> Hits
> instance and put them into the VLH - ordinarily you would lazily only 
> fetch
> the hits you actually need them - at the time you need them.
>
> That's just my question :-)
>
> So, to repeat, my idea was to use a wrapper for the VOs in order to 
> fetch only
> some hits at a time...
>
> It's actually a VLH pattern drawback. Maybe I should ask the blueprint
> people ;-)
>
> Timo
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 09 21:59:25 2004
Return-Path: <lucene-user-return-7889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62559 invoked from network); 9 Apr 2004 21:59:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Apr 2004 21:59:25 -0000
Received: (qmail 37453 invoked by uid 500); 9 Apr 2004 21:59:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37170 invoked by uid 500); 9 Apr 2004 21:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37129 invoked from network); 9 Apr 2004 21:59:05 -0000
Received: from unknown (HELO smtp-out3.xs4all.nl) (194.109.24.13)
  by daedalus.apache.org with SMTP; 9 Apr 2004 21:59:05 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out3.xs4all.nl (8.12.10/8.12.10) with ESMTP id i39LxBok046009
	for <lucene-user@jakarta.apache.org>; Fri, 9 Apr 2004 23:59:11 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Fri, 9 Apr 2004 23:59:11 +0200
User-Agent: KMail/1.5.4
References: <200404092118.26341.lucene@nitwit.de>
In-Reply-To: <200404092118.26341.lucene@nitwit.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404092359.11404.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 09 April 2004 21:18, lucene@nitwit.de wrote:
> Hi!
>
> I implemented a VLH pattern Lucene's search hits but noticed that
> hits.doc() is quite slow (3000+ hits took about 500ms).
>
> So, I want to ask people here for a solution. I tought about something like
> a wrapper for the VO (value/transfer object), i.e. that the VO does not
> actually contain the value but a reference to lucene's Hits instance. But
> this somewhat a hack...

Lucene's Hits already wraps quite a bit. Under the hoods it will
redo your search in case you need more than 100 results.
Hits was designed for displaying a few web pages of search results.

When you need 3000 hits and their stored fields, you might
consider using the lower level search API with your own HitCollector.

This will allow you to do a single search, and retrieve the stored
document fields in order of document number after the search.
Documents are stored physically in document number order,
so retrieval in that order is normally close to optimal.

Actual savings depend a lot on the circumstances, though.

I checked the VLH pattern very briefly. The lower level search
API of Lucene seems to fit in quite well for the retrieval side
of it, ie. the DataAccessObject, for a larger number of results.
However, you'll have to throw some more RAM than Hits does
at the difference between the physical order of
Lucene and the order in which the client needs to iterate
the data.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 00:18:14 2004
Return-Path: <lucene-user-return-7890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10501 invoked from network); 10 Apr 2004 00:18:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 00:18:14 -0000
Received: (qmail 11499 invoked by uid 500); 10 Apr 2004 00:17:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11478 invoked by uid 500); 10 Apr 2004 00:17:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11453 invoked from network); 10 Apr 2004 00:17:52 -0000
Received: from unknown (HELO fsv-extmail1.looksmart.com) (64.241.242.93)
  by daedalus.apache.org with SMTP; 10 Apr 2004 00:17:52 -0000
Received: from LOOKSMART10574 ([172.16.128.20])
	by fsv-extmail1.looksmart.com (8.12.10/8.12.10) with SMTP id i3A0I0WQ023682
	for <lucene-user@jakarta.apache.org>; Fri, 9 Apr 2004 17:18:01 -0700
Message-ID: <00b101c41e91$1532d2c0$514011ac@LOOKSMART10574>
From: "Michael A. Schoen" <schoenm@earthlink.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: clustering results
Date: Fri, 9 Apr 2004 17:16:25 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00AD_01C41E56.63B714A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00AD_01C41E56.63B714A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have an index of urls, and need to display the top 10 results for a =
given query, but want to display only 1 result per domain. It seems that =
using either Hits or a HitCollector, I'll need to access the doc, grab =
the domain field (I'll have it parse ahead of time) and only =
take/display documents that are unique.

A significant percentage of the time I expect I may have to access =
thousands of results before I find 10 in unique domains. Is there a =
faster approach that won't require accessing thousands of documents?
------=_NextPart_000_00AD_01C41E56.63B714A0--


From lucene-user-return-7891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 07:36:09 2004
Return-Path: <lucene-user-return-7891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76666 invoked from network); 10 Apr 2004 07:36:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 07:36:09 -0000
Received: (qmail 26662 invoked by uid 500); 10 Apr 2004 07:35:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26637 invoked by uid 500); 10 Apr 2004 07:35:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26622 invoked from network); 10 Apr 2004 07:35:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 10 Apr 2004 07:35:36 -0000
Received: (cpmta 11995 invoked from network); 10 Apr 2004 00:35:48 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 10 Apr 2004 00:35:48 -0700
X-Sent: 10 Apr 2004 07:35:48 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <00b101c41e91$1532d2c0$514011ac@LOOKSMART10574>
References: <00b101c41e91$1532d2c0$514011ac@LOOKSMART10574>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <AF409364-8AC1-11D8-AE2B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: clustering results
Date: Sat, 10 Apr 2004 03:35:48 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> I have an index of urls, and need to display the top 10 results for a 
> given query, but want to display only 1 result per domain. It seems 
> that using either Hits or a HitCollector, I'll need to access the doc, 
> grab the domain field (I'll have it parse ahead of time) and only 
> take/display documents that are unique.
>
> A significant percentage of the time I expect I may have to access 
> thousands of results before I find 10 in unique domains. Is there a 
> faster approach that won't require accessing thousands of documents?

I have examples of this that I can post when I have more time, but a 
quick pointer... check out the overloaded IndexSearcher.search() 
methods which accept a Sort.  You can do really really interesting 
slicing and dicing, I think, using it.  Try this one on for size:

     example.displayHits(allBooks,
         new Sort(new SortField[]{
           new SortField("category"),
           SortField.FIELD_SCORE,
           new SortField("pubmonth", SortField.INT, true)
         }));

Be clever indexing the piece you want to group on - I think you may 
find this the solution you're looking for.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 09:08:49 2004
Return-Path: <lucene-user-return-7892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13245 invoked from network); 10 Apr 2004 09:08:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 09:08:48 -0000
Received: (qmail 14545 invoked by uid 500); 10 Apr 2004 09:08:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14520 invoked by uid 500); 10 Apr 2004 09:08:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14504 invoked from network); 10 Apr 2004 09:08:16 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 10 Apr 2004 09:08:16 -0000
Received: (qmail 23443 invoked from network); 10 Apr 2004 09:08:28 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.243.11])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 10 Apr 2004 09:08:28 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id DCFF5C2F
	for <lucene-user@jakarta.apache.org>; Sat, 10 Apr 2004 11:08:28 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sat, 10 Apr 2004 11:08:28 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404092359.11404.ykingma@xs4all.nl>
In-Reply-To: <200404092359.11404.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404101108.28424.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 09 April 2004 23:59, Ype Kingma wrote:
> When you need 3000 hits and their stored fields, you might
> consider using the lower level search API with your own HitCollector.

I apologize for the stupid question but ... where's the actualy result in 
HitCollector? :-) 

  collect(int doc, float score) 

Where doc is the index and score is its score - and where's the Document?

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 12:44:59 2004
Return-Path: <lucene-user-return-7893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92611 invoked from network); 10 Apr 2004 12:44:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 12:44:59 -0000
Received: (qmail 41664 invoked by uid 500); 10 Apr 2004 12:44:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41640 invoked by uid 500); 10 Apr 2004 12:44:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41623 invoked from network); 10 Apr 2004 12:44:49 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 10 Apr 2004 12:44:49 -0000
Received: from Z-ISV03M0372 ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id i3ACin4L009696
	for <lucene-user@jakarta.apache.org>; Sat, 10 Apr 2004 12:44:49 GMT
Date: Sat, 10 Apr 2004 12:44:49 GMT
Message-Id: <200404101244.i3ACin4L009696@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Highlighter package v2 RC1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>Can I customize the way it does highlight terms? Right now it does so by arounding with <b>.
That's the job of a formatter class. You can pass one in the constructor eg:

Formatter myFormatter=new SimpleHTMLFormatter("<i>","</i>");
Highlighter h=new Highlighter(myFormatter, new QueryScorer(query)));

If you look at the formatter interface you can see it is now passed scores for each token.
You could provide a Formatter implementation which coloured words with different colour intensity 
based on these scores if that was a useful effect.



>>Second, I miss the ability to let it highlight all fields or a selection or several fields 

Just concatenate them:

String textToBeHighlighted=field1Text+field2Text..;

and then send that to the highlighter, no?


>>What am I going to do if I want the entire text to be highlighted - and not fragmented?

Use one big fragment...

highlighter.setTextFragmenter(new SimpleFragmenter(1000000));

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 13:47:36 2004
Return-Path: <lucene-user-return-7894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19697 invoked from network); 10 Apr 2004 13:47:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 13:47:36 -0000
Received: (qmail 21009 invoked by uid 500); 10 Apr 2004 13:47:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20984 invoked by uid 500); 10 Apr 2004 13:47:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20968 invoked from network); 10 Apr 2004 13:47:26 -0000
Received: from unknown (HELO web13807.mail.yahoo.com) (216.136.175.17)
  by daedalus.apache.org with SMTP; 10 Apr 2004 13:47:26 -0000
Message-ID: <20040410134728.16235.qmail@web13807.mail.yahoo.com>
Received: from [207.237.217.160] by web13807.mail.yahoo.com via HTTP; Sat, 10 Apr 2004 06:47:28 PDT
Date: Sat, 10 Apr 2004 06:47:28 -0700 (PDT)
From: Venu Durgam <vdurgam@yahoo.com>
Subject: Re: clustering results
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <AF409364-8AC1-11D8-AE2B-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1852815923-1081604848=:13899"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1852815923-1081604848=:13899
Content-Type: text/plain; charset=us-ascii

Erik,

Thanks for the poiner.
I am not sure how sort can filter out results.
sort will just sort the results right ?

lets say if i had below results 
http://www.b.com/1.html

http://www.a.com/1.html
http://www.b.com/2.html
http://www.a.com/2.html

if you sort by domain name, results might be
http://www.a.com/1.htmlhttp://www.a.com/2.html
http://www.b.com/1.html
http://www.b.com/2.html
 
If i want to have one result per domain. no sorting, just filtering out some results.
http://www.b.com/1.html

http://www.a.com/1.html

can this still be achieved using sort? If not any other ways of doing this ?

Thanks.

Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> I have an index of urls, and need to display the top 10 results for a 
> given query, but want to display only 1 result per domain. It seems 
> that using either Hits or a HitCollector, I'll need to access the doc, 
> grab the domain field (I'll have it parse ahead of time) and only 
> take/display documents that are unique.
>
> A significant percentage of the time I expect I may have to access 
> thousands of results before I find 10 in unique domains. Is there a 
> faster approach that won't require accessing thousands of documents?

I have examples of this that I can post when I have more time, but a 
quick pointer... check out the overloaded IndexSearcher.search() 
methods which accept a Sort. You can do really really interesting 
slicing and dicing, I think, using it. Try this one on for size:

example.displayHits(allBooks,
new Sort(new SortField[]{
new SortField("category"),
SortField.FIELD_SCORE,
new SortField("pubmonth", SortField.INT, true)
}));

Be clever indexing the piece you want to group on - I think you may 
find this the solution you're looking for.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

--0-1852815923-1081604848=:13899--

From lucene-user-return-7895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 10 18:40:13 2004
Return-Path: <lucene-user-return-7895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12032 invoked from network); 10 Apr 2004 18:40:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Apr 2004 18:40:13 -0000
Received: (qmail 80303 invoked by uid 500); 10 Apr 2004 18:39:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80281 invoked by uid 500); 10 Apr 2004 18:39:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80267 invoked from network); 10 Apr 2004 18:39:57 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 10 Apr 2004 18:39:57 -0000
Received: (cpmta 2901 invoked from network); 10 Apr 2004 11:40:01 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 10 Apr 2004 11:40:01 -0700
X-Sent: 10 Apr 2004 18:40:01 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404101108.28424.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <200404092359.11404.ykingma@xs4all.nl> <200404101108.28424.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sat, 10 Apr 2004 14:40:02 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 10, 2004, at 5:08 AM, lucene@nitwit.de wrote:
> On Friday 09 April 2004 23:59, Ype Kingma wrote:
>> When you need 3000 hits and their stored fields, you might
>> consider using the lower level search API with your own HitCollector.
>
> I apologize for the stupid question but ... where's the actualy result 
> in
> HitCollector? :-)
>
>   collect(int doc, float score)
>
> Where doc is the index and score is its score - and where's the 
> Document?

Thats the beauty.... it is up to you to load the doc iff you want it.  
In many situations, loading the doc would slow things down 
dramatically.  For example, QueryFilter uses a HitCollector internally, 
but could care less about the actual document object, just its id 
(which you get from the int doc).  To get the doc:

	 Document document = searcher.doc(doc);

(I'd use 'id' for the int, personally).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 00:05:33 2004
Return-Path: <lucene-user-return-7896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21933 invoked from network); 11 Apr 2004 00:05:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 00:05:33 -0000
Received: (qmail 68263 invoked by uid 500); 11 Apr 2004 00:05:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68239 invoked by uid 500); 11 Apr 2004 00:05:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68224 invoked from network); 11 Apr 2004 00:05:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 11 Apr 2004 00:05:11 -0000
Received: (cpmta 14651 invoked from network); 10 Apr 2004 17:05:19 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 10 Apr 2004 17:05:19 -0700
X-Sent: 11 Apr 2004 00:05:19 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040410134728.16235.qmail@web13807.mail.yahoo.com>
References: <20040410134728.16235.qmail@web13807.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EAF0DAB4-8B4B-11D8-81D9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: clustering results
Date: Sat, 10 Apr 2004 20:05:18 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 10, 2004, at 9:47 AM, Venu Durgam wrote:
> I am not sure how sort can filter out results.
> sort will just sort the results right ?

Right.... no filtering using Sort.

> lets say if i had below results
> http://www.b.com/1.html
>
> http://www.a.com/1.html
> http://www.b.com/2.html
> http://www.a.com/2.html
>
> if you sort by domain name, results might be
> http://www.a.com/1.htmlhttp://www.a.com/2.html
> http://www.b.com/1.html
> http://www.b.com/2.html
>
> If i want to have one result per domain. no sorting, just filtering 
> out some results.
> http://www.b.com/1.html
>
> http://www.a.com/1.html
>
> can this still be achieved using sort? If not any other ways of doing 
> this ?

Not that I know of, directly.  The brute force way of sorting and then 
walking the results yourself to collect things in the way you want is 
the only method I can think of at the moment.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 00:44:29 2004
Return-Path: <lucene-user-return-7897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27710 invoked from network); 11 Apr 2004 00:44:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 00:44:29 -0000
Received: (qmail 595 invoked by uid 500); 11 Apr 2004 00:44:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 572 invoked by uid 500); 11 Apr 2004 00:44:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 544 invoked from network); 11 Apr 2004 00:44:07 -0000
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by daedalus.apache.org with SMTP; 11 Apr 2004 00:44:07 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BCT54-0008KW-QY
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 12:44:14 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 31877-03 for <lucene-user@jakarta.apache.org>;
	Sun, 11 Apr 2004 12:44:10 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BCT50-0008KQ-Fw
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 12:44:10 +1200
From: Paul <paul@waite.net.nz>
To: lucene-user@jakarta.apache.org
Subject: Optimize crash
Date: Sun, 11 Apr 2004 12:44:10 +1200
User-Agent: KMail/1.6.1
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111244.10212.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem I have is that when I try to execute an optimize on my Lucene
index I get the following error thrown (see below).

If anyone can help, and the answer requires some digging, then I have the
very index tarred and gzipped for anon FTP access at ftp.catalyst.net.nz (in
the "pub" sub-directory). This is 462Mb, and unpacks to roughly twice that
size. There is also a README file there.

Here is the error I get very quickly when optimize runs:

--- CUT ---
java.lang.ArrayIndexOutOfBoundsException: 111 >= 23
        at java.util.Vector.elementAt(Vector.java(Compiled Code))
        at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java(Compiled 
Code))
        at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java(Compiled 
Code))
        at 
org.apache.lucene.index.SegmentReader.document(SegmentReader.java(Compiled 
Code))
        at 
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java(Compiled 
Code))
        at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
        at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:473)
        at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:354)
        at nz.net.catalyst.lucene.server.Optimize.execute(Optimize.java:80)
        at nz.net.catalyst.lucene.server.Control.optimize(Control.java:87)
        at nz.net.catalyst.lucene.server.Control.execute(Control.java:49)
        at nz.net.catalyst.lucene.server.Dialogue.process(Dialogue.java:111)
        at nz.net.catalyst.lucene.server.Session.communicate(Session.java:125)
        at nz.net.catalyst.SocketClient.run(SocketClient.java:70)
        at java.lang.Thread.run(Thread.java:512)
--- CUT ---

This was actually thrown by Lucene v1.4-rc2, which I was testing to see if it
solved my problem. I am currently running v1.3-Final on my live site and this 
does the same thing. This is running on Debian Linux, Woody, and is using the
IBM Runtime Environment for Linux Java(TM) 2 Technology Edition, Version
1.3.1, JRE.

It should be noted that I have had this problem before, and I solved it by
completely re-indexing the article set from scratch (starting with no index at
all). After that process, the optimize worked fine. Then somewhere along the
line of many days indexing new articles, and doing an optimise every day at
about 3.30am, the problem has returned.

The articles being indexed are all homogeneous in terms of fields being 
indexed, details below:

FIELD DEFINITIONS
Field name      Field type      Stored?         Indexed?
----------      ----------      -------         --------
Domain          Text            STORED          INDEXED
Id              Id              STORED          INDEXED
date            Date            STORED          INDEXED
datetime        Date            STORED          INDEXED
added           Date            STORED          INDEXED
category        Text            STORED          INDEXED
subcategory     Text            STORED          INDEXED
source          Text            STORED          INDEXED
title           Text            STORED          NOT INDEXED
slug            Text            STORED          NOT INDEXED
type            Text            STORED          NOT INDEXED
sourcetype      Text            NOT STORED      INDEXED


Any help greatly appreciated.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 01:01:10 2004
Return-Path: <lucene-user-return-7898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30943 invoked from network); 11 Apr 2004 01:01:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 01:01:09 -0000
Received: (qmail 13523 invoked by uid 500); 11 Apr 2004 01:00:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13342 invoked by uid 500); 11 Apr 2004 01:00:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13320 invoked from network); 11 Apr 2004 01:00:47 -0000
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by daedalus.apache.org with SMTP; 11 Apr 2004 01:00:47 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BCTLD-0008NV-4M
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 13:00:55 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 31922-06 for <lucene-user@jakarta.apache.org>;
	Sun, 11 Apr 2004 13:00:50 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BCTL8-0008NO-NT
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 13:00:50 +1200
From: Paul <paul@waite.net.nz>
To: lucene-user@jakarta.apache.org
Subject: Optimize Crash
Date: Sun, 11 Apr 2004 13:00:50 +1200
User-Agent: KMail/1.6.1
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200404111300.50425.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem I have is that when I try to execute an optimize on my Lucene
index I get the following error thrown (see below).

If anyone can help, and the answer requires some digging, then I have the
very index tarred and gzipped for anon FTP access at ftp.catalyst.net.nz (in
the "pub" sub-directory). This is 462Mb, and unpacks to roughly twice that
size. There is also a README file there.

Here is the error I get very quickly when optimize runs:

=2D-- CUT ---
java.lang.ArrayIndexOutOfBoundsException: 111 >=3D 23
=A0 =A0 =A0 =A0 at java.util.Vector.elementAt(Vector.java(Compiled Code))
=A0 =A0 =A0 =A0 at org.apache.lucene.index.FieldsReader.doc(FieldsReader.ja=
va(Compiled=20
Code))
=A0 =A0 =A0 =A0 at org.apache.lucene.index.FieldsReader.doc(FieldsReader.ja=
va(Compiled=20
Code))
=A0 =A0 =A0 =A0 at=20
org.apache.lucene.index.SegmentReader.document(SegmentReader.java(Compiled=
=20
Code))
=A0 =A0 =A0 =A0 at=20
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java(Compil=
ed=20
Code))
=A0 =A0 =A0 =A0 at org.apache.lucene.index.SegmentMerger.merge(SegmentMerge=
r.java:92)
=A0 =A0 =A0 =A0 at=20
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:473)
=A0 =A0 =A0 =A0 at org.apache.lucene.index.IndexWriter.optimize(IndexWriter=
=2Ejava:354)
=A0 =A0 =A0 =A0 at nz.net.catalyst.lucene.server.Optimize.execute(Optimize.=
java:80)
=A0 =A0 =A0 =A0 at nz.net.catalyst.lucene.server.Control.optimize(Control.j=
ava:87)
=A0 =A0 =A0 =A0 at nz.net.catalyst.lucene.server.Control.execute(Control.ja=
va:49)
=A0 =A0 =A0 =A0 at nz.net.catalyst.lucene.server.Dialogue.process(Dialogue.=
java:111)
=A0 =A0 =A0 =A0 at nz.net.catalyst.lucene.server.Session.communicate(Sessio=
n.java:125)
=A0 =A0 =A0 =A0 at nz.net.catalyst.SocketClient.run(SocketClient.java:70)
=A0 =A0 =A0 =A0 at java.lang.Thread.run(Thread.java:512)
=2D-- CUT ---

This was actually thrown by Lucene v1.4-rc2, which I was testing to see if =
it
solved my problem. I am currently running v1.3-Final on my live site and th=
is=20
does the same thing. This is running on Debian Linux, Woody, and is using t=
he
IBM Runtime Environment for Linux Java(TM) 2 Technology Edition, Version
1.3.1, JRE.

It should be noted that I have had this problem before, and I solved it by
completely re-indexing the article set from scratch (starting with no index=
 at
all). After that process, the optimize worked fine. Then somewhere along the
line of many days indexing new articles, and doing an optimise every day at
about 3.30am, the problem has returned.

The articles being indexed are all homogeneous in terms of fields being=20
indexed, details below:

=46IELD DEFINITIONS
=46ield name =A0 =A0 =A0Field type =A0 =A0 =A0Stored? =A0 =A0 =A0 =A0 Index=
ed?
=2D--------- =A0 =A0 =A0---------- =A0 =A0 =A0------- =A0 =A0 =A0 =A0 -----=
=2D--
Domain =A0 =A0 =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0INDEXED
Id =A0 =A0 =A0 =A0 =A0 =A0 =A0Id =A0 =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =
=A0 =A0 =A0INDEXED
date =A0 =A0 =A0 =A0 =A0 =A0Date =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0INDEXED
datetime =A0 =A0 =A0 =A0Date =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =A0 =
=A0INDEXED
added =A0 =A0 =A0 =A0 =A0 Date =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0INDEXED
category =A0 =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =A0 =
=A0INDEXED
subcategory =A0 =A0 Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =A0 =A0I=
NDEXED
source =A0 =A0 =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0INDEXED
title =A0 =A0 =A0 =A0 =A0 Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0NOT INDEXED
slug =A0 =A0 =A0 =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0NOT INDEXED
type =A0 =A0 =A0 =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0STORED =A0 =A0 =A0 =
=A0 =A0NOT INDEXED
sourcetype =A0 =A0 =A0Text =A0 =A0 =A0 =A0 =A0 =A0NOT STORED =A0 =A0 =A0IND=
EXED


Any help greatly appreciated.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 03:56:11 2004
Return-Path: <lucene-user-return-7899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69381 invoked from network); 11 Apr 2004 03:56:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 03:56:10 -0000
Received: (qmail 45915 invoked by uid 500); 11 Apr 2004 03:55:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45890 invoked by uid 500); 11 Apr 2004 03:55:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45873 invoked from network); 11 Apr 2004 03:55:44 -0000
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by daedalus.apache.org with SMTP; 11 Apr 2004 03:55:44 -0000
Received: from loki (c-24-5-91-118.client.comcast.net[24.5.91.118])
          by comcast.net (rwcrmhc12) with SMTP
          id <200404110355540140099uaee>; Sun, 11 Apr 2004 03:55:54 +0000
Message-ID: <013501c41f78$e1982e40$0300a8c0@attbi.com>
From: "Michael A. Schoen" <schoenm@earthlink.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00b101c41e91$1532d2c0$514011ac@LOOKSMART10574> <AF409364-8AC1-11D8-AE2B-000393A564E6@ehatchersolutions.com>
Subject: Re: clustering results
Date: Sat, 10 Apr 2004 20:55:50 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So as Venu pointed out, sorting doesn't seem to help the problem. If we have
to walk the result set, access docs and dedupe using brute force, we're
better off w/ the standard order by relevance.

If you've got an example of this type of clustering done in a more efficient
way, that'd be great.

Any other ideas?


----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, April 10, 2004 12:35 AM
Subject: Re: clustering results


> On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> > I have an index of urls, and need to display the top 10 results for a
> > given query, but want to display only 1 result per domain. It seems
> > that using either Hits or a HitCollector, I'll need to access the doc,
> > grab the domain field (I'll have it parse ahead of time) and only
> > take/display documents that are unique.
> >
> > A significant percentage of the time I expect I may have to access
> > thousands of results before I find 10 in unique domains. Is there a
> > faster approach that won't require accessing thousands of documents?
>
> I have examples of this that I can post when I have more time, but a
> quick pointer... check out the overloaded IndexSearcher.search()
> methods which accept a Sort.  You can do really really interesting
> slicing and dicing, I think, using it.  Try this one on for size:
>
>      example.displayHits(allBooks,
>          new Sort(new SortField[]{
>            new SortField("category"),
>            SortField.FIELD_SCORE,
>            new SortField("pubmonth", SortField.INT, true)
>          }));
>
> Be clever indexing the piece you want to group on - I think you may
> find this the solution you're looking for.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 09:25:24 2004
Return-Path: <lucene-user-return-7900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48119 invoked from network); 11 Apr 2004 09:25:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 09:25:23 -0000
Received: (qmail 84303 invoked by uid 500); 11 Apr 2004 09:24:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84245 invoked by uid 500); 11 Apr 2004 09:24:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84226 invoked from network); 11 Apr 2004 09:24:51 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 11 Apr 2004 09:24:51 -0000
Received: (qmail 32442 invoked from network); 11 Apr 2004 09:25:03 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.22.188])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 11 Apr 2004 09:25:03 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 75A8EC46
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 11:25:03 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 11:25:02 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404101108.28424.lucene@nitwit.de> <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com>
In-Reply-To: <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111125.03094.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 10 April 2004 20:40, Erik Hatcher wrote:
> Thats the beauty.... it is up to you to load the doc iff you want it.

As I "want" all of them I don't see why this should be faster at all...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 11:40:24 2004
Return-Path: <lucene-user-return-7901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79467 invoked from network); 11 Apr 2004 11:40:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 11:40:23 -0000
Received: (qmail 4195 invoked by uid 500); 11 Apr 2004 11:40:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4049 invoked by uid 500); 11 Apr 2004 11:40:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4032 invoked from network); 11 Apr 2004 11:40:16 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 11 Apr 2004 11:40:16 -0000
Received: (cpmta 21696 invoked from network); 11 Apr 2004 04:40:16 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 11 Apr 2004 04:40:16 -0700
X-Sent: 11 Apr 2004 11:40:16 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404111125.03094.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <200404101108.28424.lucene@nitwit.de> <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com> <200404111125.03094.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <024D1974-8BAD-11D8-809B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 07:40:19 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 11, 2004, at 5:25 AM, lucene@nitwit.de wrote:
> On Saturday 10 April 2004 20:40, Erik Hatcher wrote:
>> Thats the beauty.... it is up to you to load the doc iff you want it.
>
> As I "want" all of them I don't see why this should be faster at all...

Then have a look at the Hits class.  It is doing more work for caching 
and keeping a most recently used collection of documents around.  By 
using a HitCollector you are bypassing those mechanisms.  Whether it is 
measurably faster would depend on several other factors.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 13:03:21 2004
Return-Path: <lucene-user-return-7902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2972 invoked from network); 11 Apr 2004 13:03:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 13:03:21 -0000
Received: (qmail 62610 invoked by uid 500); 11 Apr 2004 13:03:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62576 invoked by uid 500); 11 Apr 2004 13:03:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62559 invoked from network); 11 Apr 2004 13:03:12 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 11 Apr 2004 13:03:12 -0000
Received: (qmail 29033 invoked from network); 11 Apr 2004 13:03:12 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.22.188])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 11 Apr 2004 13:03:12 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id AF0F296B
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 15:03:14 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 15:03:14 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404111125.03094.lucene@nitwit.de> <024D1974-8BAD-11D8-809B-000393A564E6@ehatchersolutions.com>
In-Reply-To: <024D1974-8BAD-11D8-809B-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111503.14183.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 11 April 2004 13:40, Erik Hatcher wrote:
> using a HitCollector you are bypassing those mechanisms.  Whether it is
> measurably faster would depend on several other factors.

Well, it is hardly faster, so this is no real solution :-\

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 13:32:55 2004
Return-Path: <lucene-user-return-7903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16905 invoked from network); 11 Apr 2004 13:32:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 13:32:55 -0000
Received: (qmail 87837 invoked by uid 500); 11 Apr 2004 13:32:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87628 invoked by uid 500); 11 Apr 2004 13:32:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87597 invoked from network); 11 Apr 2004 13:32:45 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 11 Apr 2004 13:32:45 -0000
Received: (qmail 5057 invoked from network); 11 Apr 2004 13:32:46 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.22.188])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 11 Apr 2004 13:32:46 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id BBB04C54
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 15:32:49 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 15:32:49 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404101108.28424.lucene@nitwit.de> <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com>
In-Reply-To: <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111532.49423.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 10 April 2004 20:40, Erik Hatcher wrote:
> Thats the beauty.... it is up to you to load the doc iff you want it.

Well, there's another problem with HitCollector: the list I build is not 
sorted by score :-(

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 13:56:36 2004
Return-Path: <lucene-user-return-7904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23952 invoked from network); 11 Apr 2004 13:56:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 13:56:36 -0000
Received: (qmail 7975 invoked by uid 500); 11 Apr 2004 13:56:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7947 invoked by uid 500); 11 Apr 2004 13:56:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7932 invoked from network); 11 Apr 2004 13:56:26 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 11 Apr 2004 13:56:26 -0000
Received: (cpmta 18786 invoked from network); 11 Apr 2004 06:56:28 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 11 Apr 2004 06:56:28 -0700
X-Sent: 11 Apr 2004 13:56:28 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404111532.49423.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <200404101108.28424.lucene@nitwit.de> <7A7367EA-8B1E-11D8-BBDF-000393A564E6@ehatchersolutions.com> <200404111532.49423.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <08354863-8BC0-11D8-ACE8-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 09:56:29 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 11, 2004, at 9:32 AM, lucene@nitwit.de wrote:
> On Saturday 10 April 2004 20:40, Erik Hatcher wrote:
>> Thats the beauty.... it is up to you to load the doc iff you want it.
>
> Well, there's another problem with HitCollector: the list I build is 
> not
> sorted by score :-(

HitCollector was just an option - and apparently not the right one for 
your use.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 14:00:50 2004
Return-Path: <lucene-user-return-7905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24665 invoked from network); 11 Apr 2004 14:00:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 14:00:50 -0000
Received: (qmail 10909 invoked by uid 500); 11 Apr 2004 14:00:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10884 invoked by uid 500); 11 Apr 2004 14:00:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10870 invoked from network); 11 Apr 2004 14:00:39 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 11 Apr 2004 14:00:39 -0000
Received: (qmail 8893 invoked from network); 11 Apr 2004 14:00:40 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.22.188])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 11 Apr 2004 14:00:40 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 2C5DEB85
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 16:00:44 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 16:00:43 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404111532.49423.lucene@nitwit.de> <08354863-8BC0-11D8-ACE8-000393A564E6@ehatchersolutions.com>
In-Reply-To: <08354863-8BC0-11D8-ACE8-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111600.43938.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 11 April 2004 15:56, Erik Hatcher wrote:
> HitCollector was just an option - and apparently not the right one for
> your use.

So, any other option? :-)

I did sort the List via Collections.sort() but I really don't like that 
code :-(

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 15:16:15 2004
Return-Path: <lucene-user-return-7906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48407 invoked from network); 11 Apr 2004 15:16:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 15:16:14 -0000
Received: (qmail 96558 invoked by uid 500); 11 Apr 2004 15:16:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96445 invoked by uid 500); 11 Apr 2004 15:16:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96430 invoked from network); 11 Apr 2004 15:16:03 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 11 Apr 2004 15:16:03 -0000
Received: (cpmta 13444 invoked from network); 11 Apr 2004 08:16:05 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 11 Apr 2004 08:16:05 -0700
X-Sent: 11 Apr 2004 15:16:05 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404111600.43938.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <200404111532.49423.lucene@nitwit.de> <08354863-8BC0-11D8-ACE8-000393A564E6@ehatchersolutions.com> <200404111600.43938.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <28387F84-8BCB-11D8-ACE8-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 11:16:07 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 11, 2004, at 10:00 AM, lucene@nitwit.de wrote:
> On Sunday 11 April 2004 15:56, Erik Hatcher wrote:
>> HitCollector was just an option - and apparently not the right one for
>> your use.
>
> So, any other option? :-)

Well, yes.... the one we already discussed.  Let your presentation tier 
talk directly to Hits, so you are as efficient as possible with access 
to documents, and only fetch what you need.

Again, don't let "patterns" get in your way.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 15:28:50 2004
Return-Path: <lucene-user-return-7907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52921 invoked from network); 11 Apr 2004 15:28:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 15:28:50 -0000
Received: (qmail 7393 invoked by uid 500); 11 Apr 2004 15:28:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7187 invoked by uid 500); 11 Apr 2004 15:28:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7168 invoked from network); 11 Apr 2004 15:28:38 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 11 Apr 2004 15:28:38 -0000
Received: (qmail 16218 invoked from network); 11 Apr 2004 15:28:39 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.22.188])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 11 Apr 2004 15:28:39 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 32153BBC
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 17:28:44 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 17:28:43 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404111600.43938.lucene@nitwit.de> <28387F84-8BCB-11D8-ACE8-000393A564E6@ehatchersolutions.com>
In-Reply-To: <28387F84-8BCB-11D8-ACE8-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404111728.43594.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 11 April 2004 17:16, Erik Hatcher wrote:
> Well, yes.... the one we already discussed.  Let your presentation tier
> talk directly to Hits, so you are as efficient as possible with access
> to documents, and only fetch what you need.
>
> Again, don't let "patterns" get in your way.

Well, the sense of tiers and (BTW: language-independant) patterns is to 
modularize software and make things exchangable. This way
neither the presentation tier nor the search engine is exchangable.

The problem actually is that VLH is designed to have a static list of VOs. VLH 
needs to evolve to support something like a data provider that dynamically 
may add data. The problems here so far is that an Iterator must throw an 
ConcurrentModificationException if the backing data is modified but as data 
in a VLH is actually never removed but only added this should be something 
possible to implement.

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 15:46:53 2004
Return-Path: <lucene-user-return-7908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59281 invoked from network); 11 Apr 2004 15:46:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 15:46:53 -0000
Received: (qmail 26574 invoked by uid 500); 11 Apr 2004 15:46:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26303 invoked by uid 500); 11 Apr 2004 15:46:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26278 invoked from network); 11 Apr 2004 15:46:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 11 Apr 2004 15:46:42 -0000
Received: (cpmta 29114 invoked from network); 11 Apr 2004 08:46:44 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 11 Apr 2004 08:46:44 -0700
X-Sent: 11 Apr 2004 15:46:44 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404111728.43594.lucene@nitwit.de>
References: <200404092118.26341.lucene@nitwit.de> <200404111600.43938.lucene@nitwit.de> <28387F84-8BCB-11D8-ACE8-000393A564E6@ehatchersolutions.com> <200404111728.43594.lucene@nitwit.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <70B873FF-8BCF-11D8-ACE8-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ValueListHandler pattern with Lucene
Date: Sun, 11 Apr 2004 11:46:47 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 11, 2004, at 11:28 AM, lucene@nitwit.de wrote:
> On Sunday 11 April 2004 17:16, Erik Hatcher wrote:
>> Well, yes.... the one we already discussed.  Let your presentation 
>> tier
>> talk directly to Hits, so you are as efficient as possible with access
>> to documents, and only fetch what you need.
>>
>> Again, don't let "patterns" get in your way.
>
> Well, the sense of tiers and (BTW: language-independant) patterns is to
> modularize software and make things exchangable. This way
> neither the presentation tier nor the search engine is exchangable.
>
> The problem actually is that VLH is designed to have a static list of 
> VOs. VLH
> needs to evolve to support something like a data provider that 
> dynamically
> may add data. The problems here so far is that an Iterator must throw 
> an
> ConcurrentModificationException if the backing data is modified but as 
> data
> in a VLH is actually never removed but only added this should be 
> something
> possible to implement.

In other words, you need to invent your own "pattern" here?!  :)

The benefit of agility is to know that any decision you make now is not 
something that prohibits you from change later.  Do you really think 
you're going to plug-and-play with search engines?  Or will you be 
sticking with Lucene for the foreseeable future?  Are you trying to 
plan for a future without Lucene when there is no use-case for doing 
so?  If you code with coupling to Lucene, do you see that as making 
life harder in the future, or are you smart enough and flexible enough 
to change your "soft"ware as times change?

Throw your patterns away when they don't solve the problem.  Be 
pragmatic _and_ agile.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 17:10:07 2004
Return-Path: <lucene-user-return-7909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81514 invoked from network); 11 Apr 2004 17:10:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 17:10:06 -0000
Received: (qmail 7353 invoked by uid 500); 11 Apr 2004 17:09:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7331 invoked by uid 500); 11 Apr 2004 17:09:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7306 invoked from network); 11 Apr 2004 17:09:53 -0000
Received: from unknown (HELO p2.rocketsense.us) (66.98.198.71)
  by daedalus.apache.org with SMTP; 11 Apr 2004 17:09:53 -0000
Received: (qmail 28145 invoked from network); 11 Apr 2004 17:03:01 -0000
Received: from localhost (127.0.0.1)
  by localhost with SMTP; 11 Apr 2004 17:03:01 -0000
Received: from cvg-65-27-210-182.cinci.rr.com (cvg-65-27-210-182.cinci.rr.com [65.27.210.182]) 
	by webmail.ckhill.com (IMP) with HTTP 
	for <kevin@ckhill.com@localhost>; Sun, 11 Apr 2004 13:03:00 -0400
Message-ID: <1081702980.40797a45018bb@webmail.ckhill.com>
Date: Sun, 11 Apr 2004 13:03:01 -0400
From: kevin@ckhill.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: clustering results
References: <00b101c41e91$1532d2c0$514011ac@LOOKSMART10574> <AF409364-8AC1-11D8-AE2B-000393A564E6@ehatchersolutions.com> <013501c41f78$e1982e40$0300a8c0@attbi.com>
In-Reply-To: <013501c41f78$e1982e40$0300a8c0@attbi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 65.27.210.182
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I got all excited reading the subject line "clustering results" but this isn't 
really clustering is it?  This is more sorting.  Does anyone know of any work 
within Lucene (or another indexer) to do actual subject clustering (i.e. like 
Vivisimo @ http://vivisimo.com/ or Kartoo @ http://www.kartoo.com/)?  It would 
be pretty awesome if Lucene had such ability, I know there aren't a whole lot 
of clustering options, and the commercial products are very expensive.  
Anyhow, just curious.

A brief definition of clustering: automatically organizing search or database 
query results into meaningful hierarchical folders ... transforming long lists 
of search results into categorized information without any clumsy pre-
processing of the source documents.

I'm not sure how it would be done...?  Based off of top Term Frequencies for a 
document?

-K

Quoting "Michael A. Schoen" <schoenm@earthlink.net>:

> So as Venu pointed out, sorting doesn't seem to help the problem. If we have
> to walk the result set, access docs and dedupe using brute force, we're
> better off w/ the standard order by relevance.
> 
> If you've got an example of this type of clustering done in a more efficient
> way, that'd be great.
> 
> Any other ideas?
> 
> 
> ----- Original Message ----- 
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Saturday, April 10, 2004 12:35 AM
> Subject: Re: clustering results
> 
> 
> > On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> > > I have an index of urls, and need to display the top 10 results for a
> > > given query, but want to display only 1 result per domain. It seems
> > > that using either Hits or a HitCollector, I'll need to access the doc,
> > > grab the domain field (I'll have it parse ahead of time) and only
> > > take/display documents that are unique.
> > >
> > > A significant percentage of the time I expect I may have to access
> > > thousands of results before I find 10 in unique domains. Is there a
> > > faster approach that won't require accessing thousands of documents?
> >
> > I have examples of this that I can post when I have more time, but a
> > quick pointer... check out the overloaded IndexSearcher.search()
> > methods which accept a Sort.  You can do really really interesting
> > slicing and dicing, I think, using it.  Try this one on for size:
> >
> >      example.displayHits(allBooks,
> >          new Sort(new SortField[]{
> >            new SortField("category"),
> >            SortField.FIELD_SCORE,
> >            new SortField("pubmonth", SortField.INT, true)
> >          }));
> >
> > Be clever indexing the piece you want to group on - I think you may
> > find this the solution you're looking for.
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 17:55:43 2004
Return-Path: <lucene-user-return-7910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91629 invoked from network); 11 Apr 2004 17:55:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 17:55:43 -0000
Received: (qmail 51575 invoked by uid 500); 11 Apr 2004 17:55:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51336 invoked by uid 500); 11 Apr 2004 17:55:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51319 invoked from network); 11 Apr 2004 17:55:29 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 11 Apr 2004 17:55:29 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1BCjB7-0005l1-00
	for lucene-user@jakarta.apache.org; Sun, 11 Apr 2004 13:55:33 -0400
Subject: Stemming options
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Message-Id: <1081706132.4675.10.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Sun, 11 Apr 2004 13:55:32 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone on the list implemented a dictionary-based English stemmer
with Lucene?  Perhaps based on the freely-available ispell dictionaries
or something like that?  The Porter and Snowball stemmers have not
worked that well for our application, but it is a bit daunting to start
from scratch in developing an alternate stemmer.

Alternatively, is there an algorithmic stemmer that anyone has used
which is a little less aggressive than the Porter algorithm?  We've been
having problems with searches for "conversion" returning "converse" and
"conversational"; and "animal" returning "animate".  Yes, these are
morphologically related, but in our particular application it would be
better to stick with removing simple inflections.

Thanks for any pointers --

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 19:15:29 2004
Return-Path: <lucene-user-return-7911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19794 invoked from network); 11 Apr 2004 19:15:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 19:15:29 -0000
Received: (qmail 19634 invoked by uid 500); 11 Apr 2004 19:15:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19613 invoked by uid 500); 11 Apr 2004 19:15:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19597 invoked from network); 11 Apr 2004 19:15:13 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 11 Apr 2004 19:15:13 -0000
Message-ID: <20040411191518.81602.qmail@web12706.mail.yahoo.com>
Received: from [195.29.49.2] by web12706.mail.yahoo.com via HTTP; Sun, 11 Apr 2004 12:15:18 PDT
Date: Sun, 11 Apr 2004 12:15:18 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Carrot 2 (was: Re: clustering results)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1081702980.40797a45018bb@webmail.ckhill.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Carrot (2):

  http://www.cs.put.poznan.pl/dweiss/carrot/xml/index.xml?lang=en

Otis

--- kevin@ckhill.com wrote:
> I got all excited reading the subject line "clustering results" but
> this isn't 
> really clustering is it?  This is more sorting.  Does anyone know of
> any work 
> within Lucene (or another indexer) to do actual subject clustering
> (i.e. like 
> Vivisimo @ http://vivisimo.com/ or Kartoo @ http://www.kartoo.com/)? 
> It would 
> be pretty awesome if Lucene had such ability, I know there aren't a
> whole lot 
> of clustering options, and the commercial products are very
> expensive.  
> Anyhow, just curious.
> 
> A brief definition of clustering: automatically organizing search or
> database 
> query results into meaningful hierarchical folders ... transforming
> long lists 
> of search results into categorized information without any clumsy
> pre-
> processing of the source documents.
> 
> I'm not sure how it would be done...?  Based off of top Term
> Frequencies for a 
> document?
> 
> -K
> 
> Quoting "Michael A. Schoen" <schoenm@earthlink.net>:
> 
> > So as Venu pointed out, sorting doesn't seem to help the problem.
> If we have
> > to walk the result set, access docs and dedupe using brute force,
> we're
> > better off w/ the standard order by relevance.
> > 
> > If you've got an example of this type of clustering done in a more
> efficient
> > way, that'd be great.
> > 
> > Any other ideas?
> > 
> > 
> > ----- Original Message ----- 
> > From: "Erik Hatcher" <erik@ehatchersolutions.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Saturday, April 10, 2004 12:35 AM
> > Subject: Re: clustering results
> > 
> > 
> > > On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> > > > I have an index of urls, and need to display the top 10 results
> for a
> > > > given query, but want to display only 1 result per domain. It
> seems
> > > > that using either Hits or a HitCollector, I'll need to access
> the doc,
> > > > grab the domain field (I'll have it parse ahead of time) and
> only
> > > > take/display documents that are unique.
> > > >
> > > > A significant percentage of the time I expect I may have to
> access
> > > > thousands of results before I find 10 in unique domains. Is
> there a
> > > > faster approach that won't require accessing thousands of
> documents?
> > >
> > > I have examples of this that I can post when I have more time,
> but a
> > > quick pointer... check out the overloaded IndexSearcher.search()
> > > methods which accept a Sort.  You can do really really
> interesting
> > > slicing and dicing, I think, using it.  Try this one on for size:
> > >
> > >      example.displayHits(allBooks,
> > >          new Sort(new SortField[]{
> > >            new SortField("category"),
> > >            SortField.FIELD_SCORE,
> > >            new SortField("pubmonth", SortField.INT, true)
> > >          }));
> > >
> > > Be clever indexing the piece you want to group on - I think you
> may
> > > find this the solution you're looking for.
> > >
> > > Erik
> > >
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 11 20:13:31 2004
Return-Path: <lucene-user-return-7912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47905 invoked from network); 11 Apr 2004 20:13:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Apr 2004 20:13:31 -0000
Received: (qmail 83622 invoked by uid 500); 11 Apr 2004 20:13:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83604 invoked by uid 500); 11 Apr 2004 20:13:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83587 invoked from network); 11 Apr 2004 20:13:14 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 11 Apr 2004 20:13:14 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 5694B7D1D
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 22:13:19 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id DDEAE7D19
	for <lucene-user@jakarta.apache.org>; Sun, 11 Apr 2004 22:13:15 +0200 (MEST)
content-class: urn:content-classes:message
Subject: AW: clustering results
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Sun, 11 Apr 2004 22:13:14 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC4388C7@omicron.win.xtramind.dfki.de>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: clustering results
Thread-Index: AcQf5+B8asizSpBlR6qr/8kRc9M3+QAE+qng
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi (danger: shameless advertising below),

our partner, Brox It Solutions, is using our - XtraMind Technologies =
GmbH - clustering for implementing meta-search clustering of search =
results ala Vivisimo. Check out:

http://www.anyfinder.de/

The clustering is done on the snipplets coming from search engines, but =
the original version that we still use in our own products is based on =
modified Lucene indexes as these can efficiently handle lots of =
information on texts and terms. Our clustering engine does not only =
cluster search results, but also performs trend recognition for =
competitive intelligence and similar tasks, but not too many people =
require such specialized features.

Brox' price models for this engine may be interesting for those who find =
other products too expensive; it also works with all existing search =
engines, not only Lucene.=20

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com







-----Urspr=FCngliche Nachricht-----
Von: kevin@ckhill.com [mailto:kevin@ckhill.com]=20
Gesendet: Sonntag, 11. April 2004 19:03
An: Lucene Users List
Betreff: Re: clustering results


I got all excited reading the subject line "clustering results" but this =
isn't=20
really clustering is it?  This is more sorting.  Does anyone know of any =
work=20
within Lucene (or another indexer) to do actual subject clustering (i.e. =
like=20
Vivisimo @ http://vivisimo.com/ or Kartoo @ http://www.kartoo.com/)?  It =
would=20
be pretty awesome if Lucene had such ability, I know there aren't a =
whole lot=20
of clustering options, and the commercial products are very expensive. =20
Anyhow, just curious.

A brief definition of clustering: automatically organizing search or =
database=20
query results into meaningful hierarchical folders ... transforming long =
lists=20
of search results into categorized information without any clumsy pre- =
processing of the source documents.

I'm not sure how it would be done...?  Based off of top Term Frequencies =
for a=20
document?

-K

Quoting "Michael A. Schoen" <schoenm@earthlink.net>:

> So as Venu pointed out, sorting doesn't seem to help the problem. If=20
> we have to walk the result set, access docs and dedupe using brute=20
> force, we're better off w/ the standard order by relevance.
>=20
> If you've got an example of this type of clustering done in a more=20
> efficient way, that'd be great.
>=20
> Any other ideas?
>=20
>=20
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Saturday, April 10, 2004 12:35 AM
> Subject: Re: clustering results
>=20
>=20
> > On Apr 9, 2004, at 8:16 PM, Michael A. Schoen wrote:
> > > I have an index of urls, and need to display the top 10 results=20
> > > for a given query, but want to display only 1 result per domain.=20
> > > It seems that using either Hits or a HitCollector, I'll need to=20
> > > access the doc, grab the domain field (I'll have it parse ahead of =

> > > time) and only take/display documents that are unique.
> > >
> > > A significant percentage of the time I expect I may have to access =

> > > thousands of results before I find 10 in unique domains. Is there=20
> > > a faster approach that won't require accessing thousands of=20
> > > documents?
> >
> > I have examples of this that I can post when I have more time, but a =

> > quick pointer... check out the overloaded IndexSearcher.search()=20
> > methods which accept a Sort.  You can do really really interesting=20
> > slicing and dicing, I think, using it.  Try this one on for size:
> >
> >      example.displayHits(allBooks,
> >          new Sort(new SortField[]{
> >            new SortField("category"),
> >            SortField.FIELD_SCORE,
> >            new SortField("pubmonth", SortField.INT, true)
> >          }));
> >
> > Be clever indexing the piece you want to group on - I think you may=20
> > find this the solution you're looking for.
> >
> > Erik
> >
> >
> > --------------------------------------------------------------------
> > -
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 12 09:17:58 2004
Return-Path: <lucene-user-return-7913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27074 invoked from network); 12 Apr 2004 09:17:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Apr 2004 09:17:58 -0000
Received: (qmail 28822 invoked by uid 500); 12 Apr 2004 09:17:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28607 invoked by uid 500); 12 Apr 2004 09:17:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28587 invoked from network); 12 Apr 2004 09:17:25 -0000
Received: from unknown (HELO criticalsoftware.com) (212.13.37.242)
  by daedalus.apache.org with SMTP; 12 Apr 2004 09:17:25 -0000
Received: from rbaptista ([192.168.3.200])
	by criticalsoftware.com (8.12.10/8.12.10/check_local-5) with ESMTP id i3C9JEMJ069077
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 10:19:14 +0100 (WEST)
From: "Rodrigo Baptista" <rbaptista@criticalsoftware.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Query search syntax: abs_path
Date: Mon, 12 Apr 2004 10:14:46 +0100
Message-ID: <000c01c4206e$9a303b00$c803a8c0@critical.pt>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <200404111600.43938.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello list,

When I do a search using the property abs_path, I only have results if
the path name is all in lower-case, if it has one letter in upper-case
it doesn't work.
I must only have lower-case letter in the path?

Best regards,
Rodrigo Baptista.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 12 14:26:52 2004
Return-Path: <lucene-user-return-7914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65834 invoked from network); 12 Apr 2004 14:26:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Apr 2004 14:26:52 -0000
Received: (qmail 60479 invoked by uid 500); 12 Apr 2004 14:26:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60439 invoked by uid 500); 12 Apr 2004 14:26:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60420 invoked from network); 12 Apr 2004 14:26:39 -0000
Received: from unknown (HELO iss04.interliant.com) (198.3.182.194)
  by daedalus.apache.org with SMTP; 12 Apr 2004 14:26:39 -0000
Received: from EX-008.mail.navisite.com (ex-008.interliant.com [198.3.179.39])
	by iss04.interliant.com (8.10.2/8.10.2) with ESMTP id i3CEQdk14108
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 09:26:40 -0500 (CDT)
Received: from EX-001.mail.navisite.com ([172.16.1.11]) by EX-008.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 12 Apr 2004 09:24:05 -0500
Content-class: urn:content-classes:message
Subject: RE: clustering results
MIME-Version: 1.0
Date: Mon, 12 Apr 2004 09:26:41 -0500
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0048_01C42078.A4DFA0E0"
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <54F1D1442014494A8DE3A3C2CFEDB33B0674BA@EX-001.mail.navisite.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: clustering results
Thread-Index: AcQf54/kP0nJF8bbS8q56mvqhhiS3wAslUlg
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 12 Apr 2004 14:24:05.0248 (UTC) FILETIME=[CF418800:01C42099]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0048_01C42078.A4DFA0E0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

> -----Original Message-----
> From: kevin@ckhill.com [mailto:kevin@ckhill.com] 
> Sent: April 11, 2004 1:03 PM
> To: Lucene Users List
> Subject: Re: clustering results
> 
> I got all excited reading the subject line "clustering 
> results" but this isn't really clustering is it?  This is 
> more sorting.  Does anyone know of any work within Lucene (or 
> another indexer) to do actual subject clustering (i.e. like 
> Vivisimo @ http://vivisimo.com/ or Kartoo @ 
> http://www.kartoo.com/)?  It would be pretty awesome if 
> Lucene had such ability, I know there aren't a whole lot of 
> clustering options, and the commercial products are very expensive.  
> Anyhow, just curious.

The one I know about is Carrot - http://www.cs.put.poznan.pl/dweiss/carrot/


Regards,

Bruce Ritchie
http://www.jivesoftware.com/

------=_NextPart_000_0048_01C42078.A4DFA0E0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJUTCCAtkw
ggJCoAMCAQICAwrLgDANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDMwOTIzMTkzNjM3WhcNMDQwOTIyMTkzNjM3WjBIMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdh
cmUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAozJPHo8aUH2MrrLnFrmybY38
uC8nlm26vBAPgGhSMthJlA0ShY9zAs4qGPyX1fIcANCKw0yPQDESRRySYPcRYMBnwaeqtIwldTb1
GTA6DAvZ/jpkM16DbAId17O86+4NeV7WoR+IguiyEUJqIqecxdGiJsLi8xNM0rPan91sWTA+30kP
vW12IU6MIa4XInPUazLqzZmA3CHoQJ2qorYCUx1cP3VW2fbWMjpfis67MalWcFuBtThFuq5qsZMB
EkFekoKPu2cpmjlKddrGj9+54U1CWBVQMl+9HSB1/qhl1La8BYRhaZ5UG3c0za9yultXL9k1GxfZ
YVqDy2iMI5+ejQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAEwi3SlYetSCzK5DLkClPMgTOM+P0qrIAFt+a
r8uMZwr3xqFOxZlt6/qMHoXAaOEWhZkHJ2dq8ebxjSdGXQF6/jKB42CEmYXmP6umb/2DBE6bVTy9
aksnMnKeSyuqP1HWwlCf5+Vk811biLueAupunISEh7P0bQXUgVtVVbOtAfIwggMtMIIClqADAgEC
AgEAMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBl
MRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQL
Ex9DZXJ0aWZpY2F0aW9uIFNlcnZpY2VzIERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29u
YWwgRnJlZW1haWwgQ0ExKzApBgkqhkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5j
b20wHhcNOTYwMTAxMDAwMDAwWhcNMjAxMjMxMjM1OTU5WjCB0TELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFUaGF3dGUgQ29u
c3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIGA1UE
AxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcNAQkBFhxwZXJzb25hbC1m
cmVlbWFpbEB0aGF3dGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDUadfUsJRkW3Hp
R9gMUbbqcpGwhF59LQ2PexLfhSV1KHQ6QixjJ5+Ve0vvfhmHHYbqo925zpZkGsIUbkSsfOaP6E0P
cR9AOKYAo4d49vmUhl6t6sBeduvZFKNdbnp8DKVLVX8GGSl/npom1Wq7OCQIapjHsdqjmJH9edvl
WsQcuQIDAQABoxMwETAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBBAUAA4GBAMfskn5O+PWW
pWdiKqTwTRFg0G+NYFhhrCa7UjVcCM8w+6hKloofYkIjjBcP9LpknBesRynfnZhe0mxgcVyirNx5
4+duAEcftQ0o6AKd5Jr9E/Sm2Xyx+NxfIyYJkYBz0BQb3kOpgyXy5pwvFcr+pquKB3WLDN1RhGvk
+NHOd6KBMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0BAQUFADCB0TELMAkGA1UEBhMCWkExFTAT
BgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFUaGF3dGUg
Q29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIG
A1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcNAQkBFhxwZXJzb25h
bC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAwMDAwMFoXDTEzMDcxNjIzNTk1OVowYjEL
MAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNV
BAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBMIGfMA0GCSqGSIb3DQEBAQUA
A4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/ox7svc31W/Iadr1/DDph8r9RzgHU5VAK
MNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2JCoTzyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7
n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wIDAQABo4GUMIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAw
QwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybC50aGF3dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJl
ZW1haWxDQS5jcmwwCwYDVR0PBAQDAgEGMCkGA1UdEQQiMCCkHjAcMRowGAYDVQQDExFQcml2YXRl
TGFiZWwyLTEzODANBgkqhkiG9w0BAQUFAAOBgQBIjNFQg+oLLswNo2asZw9/r6y+whehQ5aUnX9M
Ibj4Nh+qLZ82L8D0HFAgk3A8/a3hYWLD2ToZfoSxmRsAxRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowg
T2Vfldr394fWxghOrvbqNOUQGls1TXfjViF4gtwhGTXeJLHTHUb/XV9lTzGCA1AwggNMAgEBMGkw
YjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAq
BgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwCQYFKw4DAhoF
AKCCAbwwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDQwNDEyMTQy
NjQwWjAjBgkqhkiG9w0BCQQxFgQUynPTTpy5pL5SnJbZI5vO1M/H3ZMwZwYJKoZIhvcNAQkPMVow
WDAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYI
KoZIhvcNAwICASgwBwYFKw4DAhowCgYIKoZIhvcNAgUweAYJKwYBBAGCNxAEMWswaTBiMQswCQYD
VQQGEwJaQTElMCMGA1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMj
VGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwrLgDB6BgsqhkiG9w0BCRACCzFr
oGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4x
LDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwDQYJKoZI
hvcNAQEBBQAEggEAjtPMKlHs/jh+RRjs9487eFciDcAGlCxfKZfsMJmz+VWx3/kb5LbF7MiA2tuV
2XuJsY9lyUpUXu/QBfCWCiGGrFMU1wSsbGh9YER9XQbuU07XZSe+i3tCrATUaMuc39gz5naXdYx9
YE29lZSZqFLCqb7PfBwEehDsFOZAuEtpMOkEnY9KM3tK45YY4rAvdiX+aOn+yI2eNdIn4wC+Gb+e
uNZsJ/ayv0xvCzfBypOf1C6QBcIiLR6iwieOm8seaga9I45v/lm33/mcyhS4xP55b8CMr2zHd/ZB
rHEuicTsakgQ95dqUqlYvMFP54/Tjzj9JmHa+1cG38Qc2kNXLGzTywAAAAAAAA==

------=_NextPart_000_0048_01C42078.A4DFA0E0--

From lucene-user-return-7915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 12 18:54:16 2004
Return-Path: <lucene-user-return-7915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41410 invoked from network); 12 Apr 2004 18:54:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Apr 2004 18:54:16 -0000
Received: (qmail 68024 invoked by uid 500); 12 Apr 2004 18:54:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67972 invoked by uid 500); 12 Apr 2004 18:54:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67908 invoked from network); 12 Apr 2004 18:54:05 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 12 Apr 2004 18:54:05 -0000
Received: (qmail 28377 invoked from network); 12 Apr 2004 18:54:08 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.233.79])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 12 Apr 2004 18:54:08 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 467BFC70
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 20:54:16 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Mon, 12 Apr 2004 20:54:15 +0200
User-Agent: KMail/1.6.1
References: <200404092118.26341.lucene@nitwit.de> <200404111728.43594.lucene@nitwit.de> <70B873FF-8BCF-11D8-ACE8-000393A564E6@ehatchersolutions.com>
In-Reply-To: <70B873FF-8BCF-11D8-ACE8-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404122054.15379.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 11 April 2004 17:46, Erik Hatcher wrote:
> In other words, you need to invent your own "pattern" here?!  :)

I just experimented a bit and came up with the ValueListSupplier which 
replaces the ValueList in the VLH. Seems to work so far... :-) Comments are 
greatly appreciated!

Timo

public class ValueListSupplier implements IValueListIterator
{
	private final Log log = LogFactory.getLog(this.getClass());

	// TODO junit test case
	private Hits hits;
	protected BitSet fetched;
	protected List list;
	protected int index;
	
	public ValueListSupplier(Hits hits)
	{
		int size = hits.length();
		this.list = new ArrayList(size);
		// stupid idiots at SUN
		for (int i = 0; i < size; i++) list.add(null);
		this.fetched = new BitSet();
		this.hits = hits;
		this.index = 0;
	}

	public List getList()
	{
		return list;
	}

	public int size()
	{
		return list.size();
	}

	public boolean hasPrevious()
	{
		return index > 0;
	}

	public boolean hasNext()
	{
		return index < size();
	}

	/**
	 * @param index
	 */
	public synchronized void move(int index)
	{
		this.index = index;
	}

	public void reset()
	{
		move(0);
	}

	public Object current()
	{
		validate(index, index + 1);
		return list.get(index);
	}

	public List previous(int count)
	{
		int from = Math.max(0, index - count);
		int to = index;

		validate(from, to);
		move(from);
		return list.subList(from, to);
	}

	public List next(int count)
	{
		int from = index;
		int to = Math.min(Math.max(0, size() - 1), index + count);

		validate(from, to);
		move(to);
		return list.subList(from, to);
	}

	/**
	 * @param from
	 *                 starting index (inclusive)
	 * @param to
	 *                 ending index (exclusive)
	 */
	private void validate(int from, int to)
	{
		while ((from = fetched.nextClearBit(from)) < to)
		{
			log.debug("fetching #" + from);

			try
			{
				list.set(from, SearchResultAdapter.wrap(hits.doc(from)));
				fetched.set(from);
			}
			catch (IOException e)
			{
				// TODO potentially bug
				e.printStackTrace();
			}
		}
	}

}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 00:45:59 2004
Return-Path: <lucene-user-return-7916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1144 invoked from network); 13 Apr 2004 00:45:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 00:45:59 -0000
Received: (qmail 3543 invoked by uid 500); 13 Apr 2004 00:45:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3525 invoked by uid 500); 13 Apr 2004 00:45:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3511 invoked from network); 13 Apr 2004 00:45:37 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 13 Apr 2004 00:45:37 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3D0jetG026291
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 17:45:46 -0700
Message-ID: <407B3831.4080108@newsmonster.org>
Date: Mon, 12 Apr 2004 17:45:37 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Large InputStream.BUFFER_SIZE causes OutOfMemoryError.. FYI
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not sure if this is a bug or expected behavior. 

I took Doug's suggestion and migrated to a large BUFFER_SIZE of 1024^2 
.  He mentioned that I might be able to squeeze 5-10% out of index 
merges this way.

I'm not sure if this is expected behavior but this requires a LOT of 
memory.  Without this setting the VM only grows to about 200M ... As 
soon as I enable this my VM will go up to 1.5G and run out of memory 
(which is the max heap).

Our indexes aren't THAT big so I'm not sure if something's wrong here or 
if this is expected behavior.

If this is expected I'm not sure this is valuable.  There are other uses 
for that memory... perhaps just doing the whole merge in memory...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 00:51:08 2004
Return-Path: <lucene-user-return-7917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3279 invoked from network); 13 Apr 2004 00:51:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 00:51:08 -0000
Received: (qmail 12491 invoked by uid 500); 13 Apr 2004 00:50:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12473 invoked by uid 500); 13 Apr 2004 00:50:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12447 invoked from network); 13 Apr 2004 00:50:45 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 13 Apr 2004 00:50:45 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3D0oktG026400
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 17:50:52 -0700
Message-ID: <407B3963.4060408@newsmonster.org>
Date: Mon, 12 Apr 2004 17:50:43 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: verifying index integrity
References: <BF85C64585F2D61190EF0002A5CE6F3407FD3D36@sottexch2.cognos.com> <40731C79.7020006@apache.org>
In-Reply-To: <40731C79.7020006@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

>
> If you use this method, it is possible to corrupt things.  In 
> particular, if you unlock an index that another process is modifying, 
> then modify it, then these two processes might step on one another.  
> So this method should only be called when you are certain that no one 
> else is modifying the index.
>
We're handling this by using .pid files.  We use a standard initializer 
and use your own lock files with process IDs.  If you're on UNIX I can 
give you the source to the JNI getpid that I created.  I've been meaning 
on Open Sourcing this anyway... putting it into commons probably.

This way you can prevent multiple initialization if a java process is 
currently running that might be working with your index.  Otherwise 
there's no real way to be sure the lock isn't stale (unless time is a 
factor but that slows things down)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 01:29:40 2004
Return-Path: <lucene-user-return-7918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27494 invoked from network); 13 Apr 2004 01:29:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 01:29:39 -0000
Received: (qmail 63906 invoked by uid 500); 13 Apr 2004 01:29:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63562 invoked by uid 500); 13 Apr 2004 01:29:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63537 invoked from network); 13 Apr 2004 01:29:16 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 13 Apr 2004 01:29:16 -0000
Received: (qmail 23046 invoked from network); 13 Apr 2004 01:29:21 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps5.bii.a-star.edu.sg with SMTP; 13 Apr 2004 01:29:21 -0000
Subject: suitability of lucene for project
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1081819679.11676.5.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 13 Apr 2004 09:28:00 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi all

i am investigating technologies to use for a project which basically
retrieves html pages on a regular basis(or whenever there are changes)
and allow html parsing to extract specific information, and presenting
them as links in a webpage. Note that this is not a general search
engine kind of project but we are extracting clinical information from
various website and consolidating them.

Pls advise me whether Lucene can do the above and in areas where it
cannot, suggestions to solutions will be appreciated.

Thanks

Sebastian Ho
Bioinformatics Institute


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 01:54:36 2004
Return-Path: <lucene-user-return-7919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38463 invoked from network); 13 Apr 2004 01:54:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 01:54:36 -0000
Received: (qmail 94766 invoked by uid 500); 13 Apr 2004 01:54:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94649 invoked by uid 500); 13 Apr 2004 01:54:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94635 invoked from network); 13 Apr 2004 01:54:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.77)
  by daedalus.apache.org with SMTP; 13 Apr 2004 01:54:12 -0000
Received: (cpmta 9264 invoked from network); 12 Apr 2004 18:54:21 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.77) with SMTP; 12 Apr 2004 18:54:21 -0700
X-Sent: 13 Apr 2004 01:54:21 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1081819679.11676.5.camel@localhost.localdomain>
References: <1081819679.11676.5.camel@localhost.localdomain>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7BC7BFF2-8CED-11D8-9908-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: suitability of lucene for project
Date: Mon, 12 Apr 2004 21:54:21 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, Lucene is not the right solution for this particular use.  It does 
not include anything to retrieve HTML pages, or parse them.  However, 
if you ever needed full-text search, the Lucene is where it's at.

	Erik


On Apr 12, 2004, at 9:28 PM, Sebastian Ho wrote:

> hi all
>
> i am investigating technologies to use for a project which basically
> retrieves html pages on a regular basis(or whenever there are changes)
> and allow html parsing to extract specific information, and presenting
> them as links in a webpage. Note that this is not a general search
> engine kind of project but we are extracting clinical information from
> various website and consolidating them.
>
> Pls advise me whether Lucene can do the above and in areas where it
> cannot, suggestions to solutions will be appreciated.
>
> Thanks
>
> Sebastian Ho
> Bioinformatics Institute
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 03:16:03 2004
Return-Path: <lucene-user-return-7920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72835 invoked from network); 13 Apr 2004 03:16:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 03:16:03 -0000
Received: (qmail 91346 invoked by uid 500); 13 Apr 2004 03:15:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91323 invoked by uid 500); 13 Apr 2004 03:15:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91308 invoked from network); 13 Apr 2004 03:15:38 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 13 Apr 2004 03:15:38 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3D3FmiI027679
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 23:15:48 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3D3FmnW027675
	for <lucene-user@jakarta.apache.org>; Mon, 12 Apr 2004 23:15:48 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 12 Apr 2004 23:15:48 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: suitability of lucene for project
In-Reply-To: <1081819679.11676.5.camel@localhost.localdomain>
Message-ID: <Pine.LNX.4.44.0404122234060.27466-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It could be part of you solution, but I don't think so. Let me explain:

I've done this a few times something similar to what you describe. I use 
often use HttpUnit to get information. How you process it, it's up 
to you. If you want it to be indexed (searchable), you can use Lucene. If 
you want to extract structured (or semi-structured) information, use 
wrapper induction techniques (not Lucene).

cheers,
sv

On 13 Apr 2004, Sebastian Ho wrote:

> hi all
> 
> i am investigating technologies to use for a project which basically
> retrieves html pages on a regular basis(or whenever there are changes)
> and allow html parsing to extract specific information, and presenting
> them as links in a webpage. Note that this is not a general search
> engine kind of project but we are extracting clinical information from
> various website and consolidating them.
> 
> Pls advise me whether Lucene can do the above and in areas where it
> cannot, suggestions to solutions will be appreciated.
> 
> Thanks
> 
> Sebastian Ho
> Bioinformatics Institute
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 10:24:32 2004
Return-Path: <lucene-user-return-7921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89431 invoked from network); 13 Apr 2004 10:24:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 10:24:31 -0000
Received: (qmail 5334 invoked by uid 500); 13 Apr 2004 10:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5268 invoked by uid 500); 13 Apr 2004 10:23:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5251 invoked from network); 13 Apr 2004 10:23:58 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.84)
  by daedalus.apache.org with SMTP; 13 Apr 2004 10:23:58 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id i3DAOCKE002591
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 03:24:12 -0700 (PDT)
Received: from [10.0.1.121] ([62.167.216.73])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id i3DAO9BQ005794
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 03:24:11 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <407B3831.4080108@newsmonster.org>
References: <407B3831.4080108@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CF43A799-8D34-11D8-B5DB-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: index update (was Re: Large InputStream.BUFFER_SIZE causes OutOfMemoryError.. FYI)
Date: Tue, 13 Apr 2004 12:24:56 +0200
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Apr 13, 2004, at 02:45, Kevin A. Burton wrote:

> He mentioned that I might be able to squeeze 5-10% out of index merges 
> this way.

Talking of which... what strategy(ies) do people use to minimize 
downtime when updating an index?

My current "strategy" is as follow:

(1) use a temporary RAMDirectory for ongoing updates.
(2) perform a "copy on write" when flushing the RAMDirectory into the 
persistent index.

The second step means that I create an offline copy of a live index 
before invoking addIndexes() and then substitute the old index with the 
new, updated, one. While this effectively increase the time it takes to 
update an index, it nonetheless reduce the *perceived* downtime for it.

Thoughts? Alternative strategies?

TIA.

Cheers,

PA.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 16:46:15 2004
Return-Path: <lucene-user-return-7922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14978 invoked from network); 13 Apr 2004 16:46:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 16:46:15 -0000
Received: (qmail 82269 invoked by uid 500); 13 Apr 2004 16:46:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82241 invoked by uid 500); 13 Apr 2004 16:46:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82216 invoked from network); 13 Apr 2004 16:46:00 -0000
Received: from unknown (HELO smtp.kelkoo.net) (194.98.147.102)
  by daedalus.apache.org with SMTP; 13 Apr 2004 16:46:00 -0000
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id i3DGjhIF014905
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 13 Apr 2004 18:45:45 +0200
Message-ID: <407C191D.3020003@kelkoo.net>
Date: Tue, 13 Apr 2004 18:45:17 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: ajitender@aalayance.com,
        Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Closing IndexWriter object after each file causes NullPointerException?
References: <00d501c42166$b114aec0$8d01a8c0@india.aalayance.com>
In-Reply-To: <00d501c42166$b114aec0$8d01a8c0@india.aalayance.com>
Content-Type: multipart/mixed;
 boundary="------------030606060300030805010801"
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------030606060300030805010801
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

If you close an IndexWriter more than once, the release of the writeLock 
  creates a NullPointerException.
You should clean your code and close your writer only once. Anyway, I 
don't know why there's no test on the 'writeLock' as in the 'finalize' 
method.
I think it's a little error, so I suggest the attached patch to fix that.

Franck Brisbart


jitender ahuja wrote:
> Hi,
>      Can anyone tell what is the cause of error for the following error 
> as the source of error is not any of the following:
> a) Index directory closing after each file of the directory (to be 
> indexed) : verified by the changing directory size, with the changing
>  number of files to be indexed
> b) IndexWriter object being closed out : verified by checking the 
> IndexWriter object ( here, writ) being a non-null object, by the line:
>         System.out.println(writ != null); in the attached code
>  
>  
> Error output:
>  java.lang.NullPointerException
>         at org.apache.lucene.index.IndexWriter.close(Unknown Source)
>         at IndexDatanew.indexDocs(IndexDatanew.java:89)
>         at IndexDatanew.indexDocs(IndexDatanew.java:50)
>         at IndexDatanew.main(IndexDatanew.java:25)
>  
> The code that causes this error is working fine otherwise (i.e. for 
> indexing purposes) and is "attached"; the output in detail for a
> directory of 2 files is also attached.:
>  
> Thanks
> Jitender
> 
> 
> ------------------------------------------------------------------------
> 
> C:\lucroche>java IndexDatanew E:\freebooks\books\whole\jiten
> Index Directory: E:\freebooks\books\whole\jiten
> 2
> E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> adding: E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> File contents from buffer:
> E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> false
> E:\freebooks\books\whole\jiten\TIJ3_c.htm
> adding: E:\freebooks\books\whole\jiten\TIJ3_c.htm
> File contents from buffer:
> E:\freebooks\books\whole\jiten\TIJ3_c.htm
> false
> java.lang.NullPointerException
>         at org.apache.lucene.index.IndexWriter.close(Unknown Source)
>         at IndexDatanew.indexDocs(IndexDatanew.java:89)
>         at IndexDatanew.indexDocs(IndexDatanew.java:50)
>         at IndexDatanew.main(IndexDatanew.java:25)
>      
> 
> 
> ------------------------------------------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org


-- 
Franck Brisbart
R&D
http://www.kelkoo.com

--------------030606060300030805010801
Content-Type: text/plain;
 name="IndexWriter.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="IndexWriter.diff"

Index: IndexWriter.java
===================================================================
RCS file: /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/index/IndexWriter.java,v
retrieving revision 1.28
diff -u -r1.28 IndexWriter.java
--- IndexWriter.java	25 Mar 2004 19:34:53 -0000	1.28
+++ IndexWriter.java	13 Apr 2004 16:39:56 -0000
@@ -235,8 +235,10 @@
   public synchronized void close() throws IOException {
     flushRamSegments();
     ramDirectory.close();
-    writeLock.release();                          // release write lock
-    writeLock = null;
+    if (writeLock != null) {
+      writeLock.release();                          // release write lock
+      writeLock = null;
+    }
     directory.close();
   }
 


--------------030606060300030805010801
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------030606060300030805010801--


From lucene-user-return-7923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 17:09:16 2004
Return-Path: <lucene-user-return-7923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28536 invoked from network); 13 Apr 2004 17:09:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 17:09:16 -0000
Received: (qmail 55100 invoked by uid 500); 13 Apr 2004 17:09:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55074 invoked by uid 500); 13 Apr 2004 17:09:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55055 invoked from network); 13 Apr 2004 17:09:02 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 13 Apr 2004 17:09:02 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3DH95iI030676
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 13:09:05 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3DH94gE030672
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 13:09:04 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 13 Apr 2004 13:09:04 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index update (was Re: Large InputStream.BUFFER_SIZE causes
 OutOfMemoryError.. FYI)
In-Reply-To: <CF43A799-8D34-11D8-B5DB-000393760B7E@mac.com>
Message-ID: <Pine.LNX.4.44.0404131304300.30625-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm actually pretty lazy about index updates, and haven't had the need for 
efficiency, since my requirement is that new documents should be 
available on a next working day basis.

I reindex everything from scatch every night (400,000 docs) and store it 
in an timestamped index. When the reindexing is done, I alert a controller 
of the new active index. I keep a few versions of the index in case of 
a failure somewhere and I can always send a message to the controller to 
use an old index.

cheers,
sv

On Tue, 13 Apr 2004, petite_abeille wrote:

> 
> On Apr 13, 2004, at 02:45, Kevin A. Burton wrote:
> 
> > He mentioned that I might be able to squeeze 5-10% out of index merges 
> > this way.
> 
> Talking of which... what strategy(ies) do people use to minimize 
> downtime when updating an index?
> 
> My current "strategy" is as follow:
> 
> (1) use a temporary RAMDirectory for ongoing updates.
> (2) perform a "copy on write" when flushing the RAMDirectory into the 
> persistent index.
> 
> The second step means that I create an offline copy of a live index 
> before invoking addIndexes() and then substitute the old index with the 
> new, updated, one. While this effectively increase the time it takes to 
> update an index, it nonetheless reduce the *perceived* downtime for it.
> 
> Thoughts? Alternative strategies?
> 
> TIA.
> 
> Cheers,
> 
> PA.
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 18:10:01 2004
Return-Path: <lucene-user-return-7924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46203 invoked from network); 13 Apr 2004 18:10:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 18:10:01 -0000
Received: (qmail 97644 invoked by uid 500); 13 Apr 2004 18:09:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97607 invoked by uid 500); 13 Apr 2004 18:09:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97430 invoked from network); 13 Apr 2004 18:09:35 -0000
Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.187)
  by daedalus.apache.org with SMTP; 13 Apr 2004 18:09:35 -0000
Received: from [212.227.126.162] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BDOLq-0005Mi-00
	for lucene-user@jakarta.apache.org; Tue, 13 Apr 2004 15:53:22 +0200
Received: from [145.254.178.109] (helo=puck.wire.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BDOLR-0002oZ-00
	for lucene-user@jakarta.apache.org; Tue, 13 Apr 2004 15:52:58 +0200
From: Holger Klawitter <lists@klawitter.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Suggestion for Token.java
Date: Tue, 13 Apr 2004 15:52:56 +0200
User-Agent: KMail/1.5.4
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200404131552.56369.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:c3f09bf0911098d231c83d2978ee4594
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi there,

Just a short suggestion:

It would be useful to make Token.termText public (or to provide a reader/
writer pair).

That way one can create TokenFilters altering termText (for Synonyms for=20
example) in other packages as org.apache.lucene.analyzer.

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
lists <at> klawitter <dot> de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQFAe/C41Xdt0HKSwgYRAoUEAKCUARoxSFiPv6OyJCzJhbLCLbtkmwCfQHzH
pH4Z4Bk6M/emmLn0CVoEX8w=3D
=3D1fIA
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 18:33:52 2004
Return-Path: <lucene-user-return-7925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61624 invoked from network); 13 Apr 2004 18:33:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 18:33:52 -0000
Received: (qmail 48472 invoked by uid 500); 13 Apr 2004 18:33:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48435 invoked by uid 500); 13 Apr 2004 18:33:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48381 invoked from network); 13 Apr 2004 18:33:26 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 13 Apr 2004 18:33:26 -0000
Received: (cpmta 905 invoked from network); 13 Apr 2004 11:33:30 -0700
Received: from 128.143.104.180 (HELO ?128.143.104.180?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 13 Apr 2004 11:33:30 -0700
X-Sent: 13 Apr 2004 18:33:30 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200404131552.56369.lists@klawitter.de>
References: <200404131552.56369.lists@klawitter.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <22B9E11F-8D77-11D8-97BB-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Suggestion for Token.java
Date: Tue, 13 Apr 2004 14:19:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is wrong with simply creating a new token that replaces an=20
incoming one for synonyms?

I'm just playing devil's advocate here.... since you can already get=20
the termText() through the public _method_.

	Erik


On Apr 13, 2004, at 9:52 AM, Holger Klawitter wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi there,
>
> Just a short suggestion:
>
> It would be useful to make Token.termText public (or to provide a=20
> reader/
> writer pair).
>
> That way one can create TokenFilters altering termText (for Synonyms=20=

> for
> example) in other packages as org.apache.lucene.analyzer.
>
> Mit freundlichem Gru=DF / With kind regards
> 	Holger Klawitter
> - --
> lists <at> klawitter <dot> de
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.2.2 (GNU/Linux)
>
> iD8DBQFAe/C41Xdt0HKSwgYRAoUEAKCUARoxSFiPv6OyJCzJhbLCLbtkmwCfQHzH
> pH4Z4Bk6M/emmLn0CVoEX8w=3D
> =3D1fIA
> -----END PGP SIGNATURE-----
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 19:30:46 2004
Return-Path: <lucene-user-return-7926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7903 invoked from network); 13 Apr 2004 19:30:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 19:30:46 -0000
Received: (qmail 58057 invoked by uid 500); 13 Apr 2004 19:30:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58031 invoked by uid 500); 13 Apr 2004 19:30:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58012 invoked from network); 13 Apr 2004 19:30:29 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.35)
  by daedalus.apache.org with SMTP; 13 Apr 2004 19:30:29 -0000
Received: (qmail 25313 invoked from network); 13 Apr 2004 19:30:33 -0000
Received: from unknown (HELO peterbecker.de) (203.173.21.170)
  by mail.iinet.net.au with SMTP; 13 Apr 2004 19:30:30 -0000
Message-ID: <407C3EF4.1070508@peterbecker.de>
Date: Wed, 14 Apr 2004 05:26:44 +1000
From: Peter Becker <peter@peterbecker.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: ANN: Docco 0.3
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

we released Docco 0.3 along with two updates for its plugins.

Docco is a personal document retrieval tool based on Apache's Lucene 
indexing engine and Formal Concept Analysis. It allows you to create an 
index for files on your file system which you can then search for 
keywords. It can index plain text, HTML, XML and OpenOffice files and 
with the support of plugins others like PDF, DOC and XLS.

This new version of Docco features a number of small enhancements: the 
diagram layout can be changed, printing and graphic export options have 
been added and some plugins have been updated.

The new POI plugin should be able to index MS Word documents again (the 
old one broke with recent Java versions), the PDFbox plugin gets all the 
recent updates from the PDFbox project. Old plugins will still continue 
to work, though.

You can find the updated files here:
 http://sourceforge.net/project/showfiles.php?group_id=21448

Note that you can now also use the export plugins to add more graphic 
export options.

Enjoy!
  Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 20:27:05 2004
Return-Path: <lucene-user-return-7927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43670 invoked from network); 13 Apr 2004 20:27:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 20:27:05 -0000
Received: (qmail 70108 invoked by uid 500); 13 Apr 2004 20:26:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70006 invoked by uid 500); 13 Apr 2004 20:26:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69980 invoked from network); 13 Apr 2004 20:26:46 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 13 Apr 2004 20:26:46 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3DKQpiI000497
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 16:26:51 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3DKQptg000493
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 16:26:51 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 13 Apr 2004 16:26:51 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Simple spider demo
Message-ID: <Pine.LNX.4.44.0404131622580.30625-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm wondering if there is interest for a simple spider demo.

I've got an example of how to use HttpUnit to spider on a web site and 
have it index it on disk (only html page now). I can send it to the list 
if anyone is interested (it's one class, < 200 loc).

cheers,
sv



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 20:50:01 2004
Return-Path: <lucene-user-return-7928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58798 invoked from network); 13 Apr 2004 20:50:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 20:50:01 -0000
Received: (qmail 44728 invoked by uid 500); 13 Apr 2004 20:49:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44691 invoked by uid 500); 13 Apr 2004 20:49:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44646 invoked from network); 13 Apr 2004 20:49:31 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.75)
  by daedalus.apache.org with SMTP; 13 Apr 2004 20:49:31 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 13 Apr 2004 13:49:37 -0700
Received: from 200.214.14.1 by by8fd.bay8.hotmail.msn.com with HTTP;
	Tue, 13 Apr 2004 20:49:37 GMT
X-Originating-IP: [200.214.14.1]
X-Originating-Email: [william_wws@hotmail.com]
X-Sender: william_wws@hotmail.com
From: "William W" <william_wws@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: i411 Faceted Metadata Search
Date: Tue, 13 Apr 2004 20:49:37 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F75nB36lbU1Pyw0004dcb2@hotmail.com>
X-OriginalArrivalTime: 13 Apr 2004 20:49:37.0354 (UTC) FILETIME=[D57A8AA0:01C42198]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

Who knows the diference between i411 Faceted Metadata Search and Lucene 
Search Engine.

Thanks,

William.

_________________________________________________________________
Tax headache? MSN Money provides relief with tax tips, tools, IRS forms and 
more! http://moneycentral.msn.com/tax/workshop/welcome.asp


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 21:11:44 2004
Return-Path: <lucene-user-return-7929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72089 invoked from network); 13 Apr 2004 21:11:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 21:11:44 -0000
Received: (qmail 91494 invoked by uid 500); 13 Apr 2004 21:11:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91459 invoked by uid 500); 13 Apr 2004 21:11:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91429 invoked from network); 13 Apr 2004 21:11:25 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 13 Apr 2004 21:11:25 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3DLBUiI000680
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 17:11:30 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3DLBUSB000676
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 17:11:30 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 13 Apr 2004 17:11:30 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: ANN: Docco 0.3
In-Reply-To: <407C3EF4.1070508@peterbecker.de>
Message-ID: <Pine.LNX.4.44.0404131628030.30625-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Looks cool, but I've got a question:

How do you handle symlinks on *nix? I think it's stuck in a loop

When indexing my home dir, I see it indexing: 
/home/vauchers/.Cirano-gnome/.gnome-desktop/Home directory/.Cirano-gnome/...

cheers,
sv

On Wed, 14 Apr 2004, Peter Becker wrote:

> Hello,
> 
> we released Docco 0.3 along with two updates for its plugins.
> 
> Docco is a personal document retrieval tool based on Apache's Lucene 
> indexing engine and Formal Concept Analysis. It allows you to create an 
> index for files on your file system which you can then search for 
> keywords. It can index plain text, HTML, XML and OpenOffice files and 
> with the support of plugins others like PDF, DOC and XLS.
> 
> This new version of Docco features a number of small enhancements: the 
> diagram layout can be changed, printing and graphic export options have 
> been added and some plugins have been updated.
> 
> The new POI plugin should be able to index MS Word documents again (the 
> old one broke with recent Java versions), the PDFbox plugin gets all the 
> recent updates from the PDFbox project. Old plugins will still continue 
> to work, though.
> 
> You can find the updated files here:
>  http://sourceforge.net/project/showfiles.php?group_id=21448
> 
> Note that you can now also use the export plugins to add more graphic 
> export options.
> 
> Enjoy!
>   Peter
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 13 21:32:36 2004
Return-Path: <lucene-user-return-7930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85508 invoked from network); 13 Apr 2004 21:32:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Apr 2004 21:32:36 -0000
Received: (qmail 40498 invoked by uid 500); 13 Apr 2004 21:31:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40474 invoked by uid 500); 13 Apr 2004 21:31:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40406 invoked from network); 13 Apr 2004 21:31:52 -0000
Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.173)
  by daedalus.apache.org with SMTP; 13 Apr 2004 21:31:52 -0000
Received: from [212.227.126.209] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BDVVe-0007TB-00
	for lucene-user@jakarta.apache.org; Tue, 13 Apr 2004 23:31:58 +0200
Received: from [145.254.176.246] (helo=puck.wire.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BDVVe-0006uE-00
	for lucene-user@jakarta.apache.org; Tue, 13 Apr 2004 23:31:58 +0200
From: Holger Klawitter <lists@klawitter.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Suggestion for Token.java
Date: Tue, 13 Apr 2004 23:31:55 +0200
User-Agent: KMail/1.5.4
References: <200404131552.56369.lists@klawitter.de> <22B9E11F-8D77-11D8-97BB-000393A564E6@ehatchersolutions.com>
In-Reply-To: <22B9E11F-8D77-11D8-97BB-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Message-Id: <200404132331.55552.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:c3f09bf0911098d231c83d2978ee4594
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Erik,

> What is wrong with simply creating a new token that replaces an
> incoming one for synonyms?
> I'm just playing devil's advocate here.... since you can already get
> the termText() through the public _method_.

Well, you're right; I forgot about cloning, but ... (Lords advocate :-)

1.) Cloning implies the need to change filters whenever the fields in Token=
=20
change.

2.) In presence of so many "final"s it's quite consistent to avoid creation=
 of=20
objects in favour of reuse.

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
lists <at> klawitter <dot> de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQFAfFxL1Xdt0HKSwgYRAkSRAJoDQcdpeGEl6PaqkqLqYSuzOq+DMQCgoUh9
3jbhzhz00QvH4EUiJgVFgus=3D
=3D2FEm
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 00:45:44 2004
Return-Path: <lucene-user-return-7931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76418 invoked from network); 14 Apr 2004 00:45:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 00:45:44 -0000
Received: (qmail 58229 invoked by uid 500); 14 Apr 2004 00:45:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58213 invoked by uid 500); 14 Apr 2004 00:45:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58198 invoked from network); 14 Apr 2004 00:45:20 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 14 Apr 2004 00:45:20 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3E0jSiI001856
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 20:45:28 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3E0jSlw001851
	for <lucene-user@jakarta.apache.org>; Tue, 13 Apr 2004 20:45:28 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 13 Apr 2004 20:45:28 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Simple spider demo
In-Reply-To: <Pine.LNX.4.44.0404131622580.30625-100000@mere.cirano.qc.ca>
Message-ID: <Pine.LNX.4.44.0404132029460.1826-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've uploaded it to the wiki:

http://wiki.apache.org/jakarta-lucene/HttpUnitExample

<dislaimer>
It's not anywhere close to production quality, especially since it's based 
on a unit test framework.
</disclaimer>

sv

On Tue, 13 Apr 2004, Stephane James Vaucher wrote:

> I'm wondering if there is interest for a simple spider demo.
> 
> I've got an example of how to use HttpUnit to spider on a web site and 
> have it index it on disk (only html page now). I can send it to the list 
> if anyone is interested (it's one class, < 200 loc).
> 
> cheers,
> sv
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 01:26:14 2004
Return-Path: <lucene-user-return-7932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1939 invoked from network); 14 Apr 2004 01:26:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 01:26:14 -0000
Received: (qmail 16807 invoked by uid 500); 14 Apr 2004 01:25:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16459 invoked by uid 500); 14 Apr 2004 01:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16440 invoked from network); 14 Apr 2004 01:25:51 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.33)
  by daedalus.apache.org with SMTP; 14 Apr 2004 01:25:51 -0000
Received: (qmail 7465 invoked from network); 14 Apr 2004 01:24:06 -0000
Received: from unknown (HELO peterbecker.de) (203.173.21.170)
  by mail.iinet.net.au with SMTP; 14 Apr 2004 01:24:05 -0000
Message-ID: <407C91D4.2060403@peterbecker.de>
Date: Wed, 14 Apr 2004 11:20:20 +1000
From: Peter Becker <peter@peterbecker.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: ANN: Docco 0.3
References: <Pine.LNX.4.44.0404131628030.30625-100000@mere.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.44.0404131628030.30625-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The underlying assumption was that File.isDirectory() does return false 
on symlinks, but we never tested under UNIX or Linux and JavaDoc is not 
very explicit about this (as so often). If that is wrong, can someone 
mail me some hint how to do it properly? I assume it involves 
getCanonicalPath() but the details might be tricky :-)

  Peter


Stephane James Vaucher wrote:

>Looks cool, but I've got a question:
>
>How do you handle symlinks on *nix? I think it's stuck in a loop
>
>When indexing my home dir, I see it indexing: 
>/home/vauchers/.Cirano-gnome/.gnome-desktop/Home directory/.Cirano-gnome/...
>
>cheers,
>sv
>
>On Wed, 14 Apr 2004, Peter Becker wrote:
>
>  
>
>>Hello,
>>
>>we released Docco 0.3 along with two updates for its plugins.
>>
>>Docco is a personal document retrieval tool based on Apache's Lucene 
>>indexing engine and Formal Concept Analysis. It allows you to create an 
>>index for files on your file system which you can then search for 
>>keywords. It can index plain text, HTML, XML and OpenOffice files and 
>>with the support of plugins others like PDF, DOC and XLS.
>>
>>This new version of Docco features a number of small enhancements: the 
>>diagram layout can be changed, printing and graphic export options have 
>>been added and some plugins have been updated.
>>
>>The new POI plugin should be able to index MS Word documents again (the 
>>old one broke with recent Java versions), the PDFbox plugin gets all the 
>>recent updates from the PDFbox project. Old plugins will still continue 
>>to work, though.
>>
>>You can find the updated files here:
>> http://sourceforge.net/project/showfiles.php?group_id=21448
>>
>>Note that you can now also use the export plugins to add more graphic 
>>export options.
>>
>>Enjoy!
>>  Peter
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 02:37:29 2004
Return-Path: <lucene-user-return-7933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28632 invoked from network); 14 Apr 2004 02:37:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 02:37:29 -0000
Received: (qmail 4789 invoked by uid 500); 14 Apr 2004 02:37:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4766 invoked by uid 500); 14 Apr 2004 02:37:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4752 invoked from network); 14 Apr 2004 02:37:05 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 14 Apr 2004 02:37:05 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz1.forethought.net with esmtp (Exim 4.30)
	id 1BDaH4-00045M-IF
	for lucene-user@jakarta.apache.org; Tue, 13 Apr 2004 20:37:14 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Suggestion for Token.java
Date: Tue, 13 Apr 2004 20:38:21 -0600
User-Agent: KMail/1.5
References: <200404131552.56369.lists@klawitter.de> <22B9E11F-8D77-11D8-97BB-000393A564E6@ehatchersolutions.com> <200404132331.55552.lists@klawitter.de>
In-Reply-To: <200404132331.55552.lists@klawitter.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404132038.21220.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 13 April 2004 15:31, Holger Klawitter wrote:
> Hi Erik,
>
> > What is wrong with simply creating a new token that replaces an
> > incoming one for synonyms?
> > I'm just playing devil's advocate here.... since you can already get
> > the termText() through the public _method_.
>
> Well, you're right; I forgot about cloning, but ... (Lords advocate :-)
>
> 1.) Cloning implies the need to change filters whenever the fields in Token
> change.

On the other hand, one needs to be sure that no other code assumes Tokens are 
immutable. For example, if they weren't one couldn't reliably use tokens in 
Sets or Maps (not sure if it's useful to do that, just an example).

I guess it's really matter of whether tokens were designed as immutable (which 
often makes sense for similar objects), or if they just happen to be, due to 
lack of modifier method(s).

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 07:31:58 2004
Return-Path: <lucene-user-return-7934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63883 invoked from network); 14 Apr 2004 07:31:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 07:31:56 -0000
Received: (qmail 48653 invoked by uid 500); 14 Apr 2004 07:31:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48623 invoked by uid 500); 14 Apr 2004 07:31:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48580 invoked from network); 14 Apr 2004 07:31:24 -0000
Received: from unknown (HELO services.india.aalayance.com) (203.200.48.226)
  by daedalus.apache.org with SMTP; 14 Apr 2004 07:31:24 -0000
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id 6C36EC188E
	for <lucene-user@jakarta.apache.org>; Wed, 14 Apr 2004 13:01:36 +0530 (IST)
Message-ID: <00e501c421f2$18e4da30$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00d501c42166$b114aec0$8d01a8c0@india.aalayance.com> <407C191D.3020003@kelkoo.net>
Subject: Re: Closing IndexWriter object after each file causes NullPointerException?
Date: Wed, 14 Apr 2004 12:58:35 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

    Ok, but what is the use of  the writeLock, as the directory is
modified anyway!
As if the writeLock is an issue then then the index directory should have
index information only for the first file.

Thanks,
Jitender

----- Original Message ----- 
From: "Brisbart Franck" <Franck.Brisbart@kelkoo.net>
To: <ajitender@aalayance.com>; "Lucene Users List"
<lucene-user@jakarta.apache.org>
Sent: Tuesday, April 13, 2004 10:15 PM
Subject: Re: Closing IndexWriter object after each file causes
NullPointerException?


> If you close an IndexWriter more than once, the release of the writeLock
>   creates a NullPointerException.
> You should clean your code and close your writer only once. Anyway, I
> don't know why there's no test on the 'writeLock' as in the 'finalize'
> method.
> I think it's a little error, so I suggest the attached patch to fix that.
>
> Franck Brisbart
>
>
> jitender ahuja wrote:
> > Hi,
> >      Can anyone tell what is the cause of error for the following error
> > as the source of error is not any of the following:
> > a) Index directory closing after each file of the directory (to be
> > indexed) : verified by the changing directory size, with the changing
> >  number of files to be indexed
> > b) IndexWriter object being closed out : verified by checking the
> > IndexWriter object ( here, writ) being a non-null object, by the line:
> >         System.out.println(writ != null); in the attached code
> >
> >
> > Error output:
> >  java.lang.NullPointerException
> >         at org.apache.lucene.index.IndexWriter.close(Unknown Source)
> >         at IndexDatanew.indexDocs(IndexDatanew.java:89)
> >         at IndexDatanew.indexDocs(IndexDatanew.java:50)
> >         at IndexDatanew.main(IndexDatanew.java:25)
> >
> > The code that causes this error is working fine otherwise (i.e. for
> > indexing purposes) and is "attached"; the output in detail for a
> > directory of 2 files is also attached.:
> >
> > Thanks
> > Jitender
> >
> >
> > ------------------------------------------------------------------------
> >
> > C:\lucroche>java IndexDatanew E:\freebooks\books\whole\jiten
> > Index Directory: E:\freebooks\books\whole\jiten
> > 2
> > E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> > adding: E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> > File contents from buffer:
> > E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
> > false
> > E:\freebooks\books\whole\jiten\TIJ3_c.htm
> > adding: E:\freebooks\books\whole\jiten\TIJ3_c.htm
> > File contents from buffer:
> > E:\freebooks\books\whole\jiten\TIJ3_c.htm
> > false
> > java.lang.NullPointerException
> >         at org.apache.lucene.index.IndexWriter.close(Unknown Source)
> >         at IndexDatanew.indexDocs(IndexDatanew.java:89)
> >         at IndexDatanew.indexDocs(IndexDatanew.java:50)
> >         at IndexDatanew.main(IndexDatanew.java:25)
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>
>
> -- 
> Franck Brisbart
> R&D
> http://www.kelkoo.com
>


----------------------------------------------------------------------------
----


> Index: IndexWriter.java
> ===================================================================
> RCS file:
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/index/IndexWriter.
java,v
> retrieving revision 1.28
> diff -u -r1.28 IndexWriter.java
> --- IndexWriter.java 25 Mar 2004 19:34:53 -0000 1.28
> +++ IndexWriter.java 13 Apr 2004 16:39:56 -0000
> @@ -235,8 +235,10 @@
>    public synchronized void close() throws IOException {
>      flushRamSegments();
>      ramDirectory.close();
> -    writeLock.release();                          // release write lock
> -    writeLock = null;
> +    if (writeLock != null) {
> +      writeLock.release();                          // release write lock
> +      writeLock = null;
> +    }
>      directory.close();
>    }
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 12:12:59 2004
Return-Path: <lucene-user-return-7935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5688 invoked from network); 14 Apr 2004 12:12:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 12:12:59 -0000
Received: (qmail 83880 invoked by uid 500); 14 Apr 2004 12:12:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83857 invoked by uid 500); 14 Apr 2004 12:12:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83844 invoked from network); 14 Apr 2004 12:12:50 -0000
Received: from unknown (HELO titan.cyberstudio.fr) (195.101.59.98)
  by daedalus.apache.org with SMTP; 14 Apr 2004 12:12:50 -0000
Received: from opencs.net ([192.168.121.182]) by titan.cyberstudio.fr
          (Netscape Messaging Server 3.54)  with ESMTP id AAA3C33
          for <lucene-user@jakarta.apache.org>;
          Wed, 14 Apr 2004 13:42:24 +0200
Message-ID: <407D2E2B.20302@opencs.net>
Date: Wed, 14 Apr 2004 14:27:23 +0200
From: "David Thibau" <dthibau@opencs.net>
Reply-To:  dthibau@opencs.net
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How to retrieve the terms that matched
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Perharps a silly question, but ...

I do not find the way to retrieve the matched terms of a found document.
Indeed, We construct a Lucene query searching on different fields with 
OR clause
and we want to display to the user for each result the term(s) which have
matched.
Is it possible with the Lucene API ?

Thanks in advance
David THIBAU



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 12:48:49 2004
Return-Path: <lucene-user-return-7936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30221 invoked from network); 14 Apr 2004 12:48:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 12:48:49 -0000
Received: (qmail 46371 invoked by uid 500); 14 Apr 2004 12:48:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46182 invoked by uid 500); 14 Apr 2004 12:48:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46169 invoked from network); 14 Apr 2004 12:48:40 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 14 Apr 2004 12:48:40 -0000
Received: (cpmta 1213 invoked from network); 14 Apr 2004 05:48:40 -0700
Received: from 128.143.104.180 (HELO ?128.143.104.180?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 14 Apr 2004 05:48:40 -0700
X-Sent: 14 Apr 2004 12:48:40 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <407D2E2B.20302@opencs.net>
References: <407D2E2B.20302@opencs.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0D4183EC-8E12-11D8-9337-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to retrieve the terms that matched
Date: Wed, 14 Apr 2004 08:48:39 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have a look at the Highlighter code that lives in the Lucene sandbox.  
It is a new addition there, but has been available for some time from 
the creators website.  I'm not sure if this will give you the 
information you need directly, but it would be a start.

	Erik


On Apr 14, 2004, at 8:27 AM, David Thibau wrote:

> Perharps a silly question, but ...
>
> I do not find the way to retrieve the matched terms of a found 
> document.
> Indeed, We construct a Lucene query searching on different fields with 
> OR clause
> and we want to display to the user for each result the term(s) which 
> have
> matched.
> Is it possible with the Lucene API ?
>
> Thanks in advance
> David THIBAU
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 16:04:09 2004
Return-Path: <lucene-user-return-7937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82382 invoked from network); 14 Apr 2004 16:04:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 16:04:09 -0000
Received: (qmail 4846 invoked by uid 500); 14 Apr 2004 16:03:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4813 invoked by uid 500); 14 Apr 2004 16:03:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4795 invoked from network); 14 Apr 2004 16:03:56 -0000
Received: from unknown (HELO smtp.kelkoo.net) (62.23.206.102)
  by daedalus.apache.org with SMTP; 14 Apr 2004 16:03:56 -0000
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id i3EG3uv4023422
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 14 Apr 2004 18:03:57 +0200
Message-ID: <407D60D1.2050509@kelkoo.net>
Date: Wed, 14 Apr 2004 18:03:29 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Closing IndexWriter object after each file causes NullPointerException?
References: <00d501c42166$b114aec0$8d01a8c0@india.aalayance.com> <407C191D.3020003@kelkoo.net> <00e501c421f2$18e4da30$8d01a8c0@india.aalayance.com>
In-Reply-To: <00e501c421f2$18e4da30$8d01a8c0@india.aalayance.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.39
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not sure to understand what is your problem.
Anyway, the writeLock is used to avoid 2 different writers (or reader if 
you use 'delete') to modify the same index.
What do you mean by first file ??

Franck

jitender ahuja wrote:
> Hi,
> 
>     Ok, but what is the use of  the writeLock, as the directory is
> modified anyway!
> As if the writeLock is an issue then then the index directory should have
> index information only for the first file.
> 
> Thanks,
> Jitender
> 
> ----- Original Message ----- 
> From: "Brisbart Franck" <Franck.Brisbart@kelkoo.net>
> To: <ajitender@aalayance.com>; "Lucene Users List"
> <lucene-user@jakarta.apache.org>
> Sent: Tuesday, April 13, 2004 10:15 PM
> Subject: Re: Closing IndexWriter object after each file causes
> NullPointerException?
> 
> 
> 
>>If you close an IndexWriter more than once, the release of the writeLock
>>  creates a NullPointerException.
>>You should clean your code and close your writer only once. Anyway, I
>>don't know why there's no test on the 'writeLock' as in the 'finalize'
>>method.
>>I think it's a little error, so I suggest the attached patch to fix that.
>>
>>Franck Brisbart
>>
>>
>>jitender ahuja wrote:
>>
>>>Hi,
>>>     Can anyone tell what is the cause of error for the following error
>>>as the source of error is not any of the following:
>>>a) Index directory closing after each file of the directory (to be
>>>indexed) : verified by the changing directory size, with the changing
>>> number of files to be indexed
>>>b) IndexWriter object being closed out : verified by checking the
>>>IndexWriter object ( here, writ) being a non-null object, by the line:
>>>        System.out.println(writ != null); in the attached code
>>>
>>>
>>>Error output:
>>> java.lang.NullPointerException
>>>        at org.apache.lucene.index.IndexWriter.close(Unknown Source)
>>>        at IndexDatanew.indexDocs(IndexDatanew.java:89)
>>>        at IndexDatanew.indexDocs(IndexDatanew.java:50)
>>>        at IndexDatanew.main(IndexDatanew.java:25)
>>>
>>>The code that causes this error is working fine otherwise (i.e. for
>>>indexing purposes) and is "attached"; the output in detail for a
>>>directory of 2 files is also attached.:
>>>
>>>Thanks
>>>Jitender
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>>C:\lucroche>java IndexDatanew E:\freebooks\books\whole\jiten
>>>Index Directory: E:\freebooks\books\whole\jiten
>>>2
>>>E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
>>>adding: E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
>>>File contents from buffer:
>>>E:\freebooks\books\whole\jiten\Copy of TIJ3_c.htm
>>>false
>>>E:\freebooks\books\whole\jiten\TIJ3_c.htm
>>>adding: E:\freebooks\books\whole\jiten\TIJ3_c.htm
>>>File contents from buffer:
>>>E:\freebooks\books\whole\jiten\TIJ3_c.htm
>>>false
>>>java.lang.NullPointerException
>>>        at org.apache.lucene.index.IndexWriter.close(Unknown Source)
>>>        at IndexDatanew.indexDocs(IndexDatanew.java:89)
>>>        at IndexDatanew.indexDocs(IndexDatanew.java:50)
>>>        at IndexDatanew.main(IndexDatanew.java:25)
>>>
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>>
>>
>>-- 
>>Franck Brisbart
>>R&D
>>http://www.kelkoo.com
>>
> 
> 
> 
> ----------------------------------------------------------------------------
> ----
> 
> 
> 
>>Index: IndexWriter.java
>>===================================================================
>>RCS file:
> 
> /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/index/IndexWriter.
> java,v
> 
>>retrieving revision 1.28
>>diff -u -r1.28 IndexWriter.java
>>--- IndexWriter.java 25 Mar 2004 19:34:53 -0000 1.28
>>+++ IndexWriter.java 13 Apr 2004 16:39:56 -0000
>>@@ -235,8 +235,10 @@
>>   public synchronized void close() throws IOException {
>>     flushRamSegments();
>>     ramDirectory.close();
>>-    writeLock.release();                          // release write lock
>>-    writeLock = null;
>>+    if (writeLock != null) {
>>+      writeLock.release();                          // release write lock
>>+      writeLock = null;
>>+    }
>>     directory.close();
>>   }
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


-- 
Franck Brisbart
R&D
http://www.kelkoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 16:57:28 2004
Return-Path: <lucene-user-return-7938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14384 invoked from network); 14 Apr 2004 16:57:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 16:57:28 -0000
Received: (qmail 52573 invoked by uid 500); 14 Apr 2004 16:57:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52470 invoked by uid 500); 14 Apr 2004 16:57:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52456 invoked from network); 14 Apr 2004 16:57:14 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 14 Apr 2004 16:57:14 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Wed, 14 Apr 2004 11:16:31 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <H49FP19K>; Wed, 14 Apr 2004 11:16:30 -0500
Message-Id: <7A1D7964C7C943419AB6D2C32338385301F21AF0@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Result scoring question
Date: Wed, 14 Apr 2004 11:16:25 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I know that the lucene scoring algorithm is pretty complicated, I know I don't understand all the pieces.  But given these documents:

A) - <preferred_designation> left renal calculus
B) - <other_designation> renal calculus

Should a query of 

other_designation:("renal calculus") OR preferred_designation:("renal calculus")

Score document B higher than document A?

Those documents are a made up example.  Here are the documents and scores I am getting back from the query on my real index:

Score 1.0 - Document<Text<first_word:left> Text<preferred_designation:left renal calculus in calyceal diverticulum> Unindexed<frequency:4> Text<codeTokenized:M00004001> Keyword<code:M00004001> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:48270>>

Score 0.85714287 - Document<Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:514631> Keyword<code:M00035214> Text<codeTokenized:M00035214> Unindexed<frequency:4> Text<preferred_designation:left renal calculus in a solitary left kidney> Text<first_word:left>>

Score 0.7409672 - Document<Text<first_word:renal> Text<other_designation:renal calculus> Unindexed<frequency:3> Text<codeTokenized:M00032753> Keyword<code:M00032753> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:481129>>


Am I just making a dumb mistake somewhere?

Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 17:16:59 2004
Return-Path: <lucene-user-return-7939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23851 invoked from network); 14 Apr 2004 17:16:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 17:16:59 -0000
Received: (qmail 7581 invoked by uid 500); 14 Apr 2004 17:16:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7552 invoked by uid 500); 14 Apr 2004 17:16:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7538 invoked from network); 14 Apr 2004 17:16:44 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 14 Apr 2004 17:16:44 -0000
Received: (cpmta 6771 invoked from network); 14 Apr 2004 10:16:48 -0700
Received: from 128.143.104.180 (HELO ?128.143.104.180?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 14 Apr 2004 10:16:48 -0700
X-Sent: 14 Apr 2004 17:16:48 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <7A1D7964C7C943419AB6D2C32338385301F21AF0@excsrv44.mayo.edu>
References: <7A1D7964C7C943419AB6D2C32338385301F21AF0@excsrv44.mayo.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8246E9B3-8E37-11D8-A70C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Result scoring question
Date: Wed, 14 Apr 2004 13:16:46 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try using IndexSearcher.explain (and then a toString on the resulting 
Explanation object) to see the details of why things are scoring how 
they are.  This can be most enlightening!

	Erik


On Apr 14, 2004, at 12:16 PM, Armbrust, Daniel C. wrote:

> I know that the lucene scoring algorithm is pretty complicated, I know 
> I don't understand all the pieces.  But given these documents:
>
> A) - <preferred_designation> left renal calculus
> B) - <other_designation> renal calculus
>
> Should a query of
>
> other_designation:("renal calculus") OR preferred_designation:("renal 
> calculus")
>
> Score document B higher than document A?
>
> Those documents are a made up example.  Here are the documents and 
> scores I am getting back from the query on my real index:
>
> Score 1.0 - Document<Text<first_word:left> 
> Text<preferred_designation:left renal calculus in calyceal 
> diverticulum> Unindexed<frequency:4> Text<codeTokenized:M00004001> 
> Keyword<code:M00004001> 
> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:48270>>
>
> Score 0.85714287 - 
> Document<Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:514631> 
> Keyword<code:M00035214> Text<codeTokenized:M00035214> 
> Unindexed<frequency:4> Text<preferred_designation:left renal calculus 
> in a solitary left kidney> Text<first_word:left>>
>
> Score 0.7409672 - Document<Text<first_word:renal> 
> Text<other_designation:renal calculus> Unindexed<frequency:3> 
> Text<codeTokenized:M00032753> Keyword<code:M00032753> 
> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:481129>>
>
>
> Am I just making a dumb mistake somewhere?
>
> Thanks,
>
> Dan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 19:14:22 2004
Return-Path: <lucene-user-return-7940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13490 invoked from network); 14 Apr 2004 19:14:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 19:14:22 -0000
Received: (qmail 72558 invoked by uid 500); 14 Apr 2004 19:14:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72536 invoked by uid 500); 14 Apr 2004 19:14:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72519 invoked from network); 14 Apr 2004 19:14:05 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 14 Apr 2004 19:14:05 -0000
Received: from newsmonster.org (dsl093-132-237.sfo4.dsl.speakeasy.net [66.93.132.237])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3EJDjtG001126
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 14 Apr 2004 12:13:46 -0700
Message-ID: <407D8D62.60208@newsmonster.org>
Date: Wed, 14 Apr 2004 12:13:38 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index update (was Re: Large InputStream.BUFFER_SIZE causes OutOfMemoryError..
 FYI)
References: <407B3831.4080108@newsmonster.org> <CF43A799-8D34-11D8-B5DB-000393760B7E@mac.com>
In-Reply-To: <CF43A799-8D34-11D8-B5DB-000393760B7E@mac.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

petite_abeille wrote:

>
> On Apr 13, 2004, at 02:45, Kevin A. Burton wrote:
>
>> He mentioned that I might be able to squeeze 5-10% out of index 
>> merges this way.
>
>
> Talking of which... what strategy(ies) do people use to minimize 
> downtime when updating an index?
>
This should probably be a wiki page.

Anyway... two thoughts I had on the subject a while back:

You maintain two disk (not RAID ... you get reliability through software).

Searches are load balanced between disks for performance reasons.  If 
one fails you just stop using it.

When you want to do an index merge you read from disk0 and write to 
disk1.  Then you take disk0 out of search rotation and add disk1 and 
copy the contents of disk1 to disk two.  Users shouldn't notice much of 
a performance issue during the merge because it will be VERY fast and 
it's just reads from disk0.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 14 20:10:16 2004
Return-Path: <lucene-user-return-7941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57472 invoked from network); 14 Apr 2004 20:10:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Apr 2004 20:10:16 -0000
Received: (qmail 4533 invoked by uid 500); 14 Apr 2004 20:09:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4507 invoked by uid 500); 14 Apr 2004 20:09:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4490 invoked from network); 14 Apr 2004 20:09:57 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 14 Apr 2004 20:09:57 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Wed, 14 Apr 2004 13:55:46 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <H49FQYGC>; Wed, 14 Apr 2004 13:55:45 -0500
Message-Id: <7A1D7964C7C943419AB6D2C32338385301F21B38@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Result scoring question
Date: Wed, 14 Apr 2004 13:55:44 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I should have remembered that.

Here are the 3 explanations for the top 3 documents returned (contents below)

3.3513687 = product of:
  6.7027373 = weight(preferred_designation:"renal calculus" in 48270), product of:
    0.8114604 = queryWeight(preferred_designation:"renal calculus"), product of:
      18.88021 = idf(preferred_designation: renal=1111 calculus=37)
      0.04297941 = queryNorm
    8.260092 = fieldWeight(preferred_designation:"renal calculus" in 48270), product of:
      1.0 = tf(phraseFreq=1.0)
      18.88021 = idf(preferred_designation: renal=1111 calculus=37)
      0.4375 = fieldNorm(field=preferred_designation, doc=48270)
  0.5 = coord(1/2)

2.8726017 = product of:
  5.7452035 = weight(preferred_designation:"renal calculus" in 514631), product of:
    0.8114604 = queryWeight(preferred_designation:"renal calculus"), product of:
      18.88021 = idf(preferred_designation: renal=1111 calculus=37)
      0.04297941 = queryNorm
    7.080079 = fieldWeight(preferred_designation:"renal calculus" in 514631), product of:
      1.0 = tf(phraseFreq=1.0)
      18.88021 = idf(preferred_designation: renal=1111 calculus=37)
      0.375 = fieldNorm(field=preferred_designation, doc=514631)
  0.5 = coord(1/2)

2.4832542 = product of:
  4.9665084 = weight(other_designation:"renal calculus" in 481129), product of:
    0.58440757 = queryWeight(other_designation:"renal calculus"), product of:
      13.5973835 = idf(other_designation: renal=8560 calculus=971)
      0.04297941 = queryNorm
    8.498364 = fieldWeight(other_designation:"renal calculus" in 481129), product of:
      1.0 = tf(phraseFreq=1.0)
      13.5973835 = idf(other_designation: renal=8560 calculus=971)
      0.625 = fieldNorm(field=other_designation, doc=481129)
  0.5 = coord(1/2) 


Is there anything that I can do in my query construction, to ensure that if a query exactly matches a document, it will be the top result?

Thanks, 

Dan


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, April 14, 2004 12:17 PM
To: Lucene Users List
Subject: Re: Result scoring question

Try using IndexSearcher.explain (and then a toString on the resulting 
Explanation object) to see the details of why things are scoring how 
they are.  This can be most enlightening!

	Erik


On Apr 14, 2004, at 12:16 PM, Armbrust, Daniel C. wrote:

> I know that the lucene scoring algorithm is pretty complicated, I know 
> I don't understand all the pieces.  But given these documents:
>
> A) - <preferred_designation> left renal calculus
> B) - <other_designation> renal calculus
>
> Should a query of
>
> other_designation:("renal calculus") OR preferred_designation:("renal 
> calculus")
>
> Score document B higher than document A?
>
> Those documents are a made up example.  Here are the documents and 
> scores I am getting back from the query on my real index:
>
> Score 1.0 - Document<Text<first_word:left> 
> Text<preferred_designation:left renal calculus in calyceal 
> diverticulum> Unindexed<frequency:4> Text<codeTokenized:M00004001> 
> Keyword<code:M00004001> 
> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:48270>>
>
> Score 0.85714287 - 
> Document<Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:514631> 
> Keyword<code:M00035214> Text<codeTokenized:M00035214> 
> Unindexed<frequency:4> Text<preferred_designation:left renal calculus 
> in a solitary left kidney> Text<first_word:left>>
>
> Score 0.7409672 - Document<Text<first_word:renal> 
> Text<other_designation:renal calculus> Unindexed<frequency:3> 
> Text<codeTokenized:M00032753> Keyword<code:M00032753> 
> Keyword<UNIQUE_DOCUMENT_IDENTIFIER_FIELD:481129>>
>
>
> Am I just making a dumb mistake somewhere?
>
> Thanks,
>
> Dan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 04:50:16 2004
Return-Path: <lucene-user-return-7942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32936 invoked from network); 15 Apr 2004 04:50:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 04:50:16 -0000
Received: (qmail 50790 invoked by uid 500); 15 Apr 2004 04:49:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50638 invoked by uid 500); 15 Apr 2004 04:49:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50623 invoked from network); 15 Apr 2004 04:49:49 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 15 Apr 2004 04:49:49 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3F4nxb28851
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 00:49:59 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 15 Apr 2004 00:49:58 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Presentation in Mtl
Message-ID: <Pine.LNX.4.33.0404150043450.27848-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everyone,

I did a presentation tonight in Montreal at a java users group metting.
I've got to say that they were maybe 4 companies present that use Lucene
and find it very useful and simple to use. It lead to the longuest
discussion (positive that is) I having at the users' group.

So I've got to tell the Lucene contributors GOOD JOB!

I'll probably upload my ppt presentation (heavily based on existing
tutorials) to the wiki, so you can comment it.

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 04:53:32 2004
Return-Path: <lucene-user-return-7943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34530 invoked from network); 15 Apr 2004 04:53:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 04:53:32 -0000
Received: (qmail 54939 invoked by uid 500); 15 Apr 2004 04:53:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54915 invoked by uid 500); 15 Apr 2004 04:53:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54900 invoked from network); 15 Apr 2004 04:53:05 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 15 Apr 2004 04:53:05 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3F4rGt28880
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 00:53:16 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 15 Apr 2004 00:53:16 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Presentation in Mtl
In-Reply-To: <Pine.LNX.4.33.0404150043450.27848-100000@hercule.cirano.qc.ca>
Message-ID: <Pine.LNX.4.33.0404150051300.27848-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wow discussion Lucene in French for 2 1/2 hours has affected my english.
Please ignore spelling mistakes ;), but don't ignore the spirit of the
message.

sv

On Thu, 15 Apr 2004, Stephane James Vaucher wrote:

> Hi everyone,
>
> I did a presentation tonight in Montreal at a java users group metting.
> I've got to say that they were maybe 4 companies present that use Lucene
> and find it very useful and simple to use. It lead to the longuest
> discussion (positive that is) I having at the users' group.
>
> So I've got to tell the Lucene contributors GOOD JOB!
>
> I'll probably upload my ppt presentation (heavily based on existing
> tutorials) to the wiki, so you can comment it.
>
> cheers,
> sv
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 05:05:51 2004
Return-Path: <lucene-user-return-7944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40961 invoked from network); 15 Apr 2004 05:05:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 05:05:51 -0000
Received: (qmail 68638 invoked by uid 500); 15 Apr 2004 05:05:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68614 invoked by uid 500); 15 Apr 2004 05:05:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68592 invoked from network); 15 Apr 2004 05:05:24 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 15 Apr 2004 05:05:24 -0000
Received: from ctx.com.au (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i3F55XvI032484
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 00:05:34 -0500
Message-ID: <407E1868.7020307@ctx.com.au>
Date: Thu, 15 Apr 2004 15:06:48 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Presentation in Mtl
References: <Pine.LNX.4.33.0404150043450.27848-100000@hercule.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.33.0404150043450.27848-100000@hercule.cirano.qc.ca>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I too gave a Lucene presentation to my local JUG (Canberra, Australia)
last night.

It also went over very well. Lucene totally rocks!

=Matt

Stephane James Vaucher wrote:

> Hi everyone,
> 
> I did a presentation tonight in Montreal at a java users group metting.
> I've got to say that they were maybe 4 companies present that use Lucene
> and find it very useful and simple to use. It lead to the longuest
> discussion (positive that is) I having at the users' group.
> 
> So I've got to tell the Lucene contributors GOOD JOB!
> 
> I'll probably upload my ppt presentation (heavily based on existing
> tutorials) to the wiki, so you can comment it.
> 
> cheers,
> sv
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 05:14:27 2004
Return-Path: <lucene-user-return-7945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44844 invoked from network); 15 Apr 2004 05:14:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 05:14:27 -0000
Received: (qmail 76983 invoked by uid 500); 15 Apr 2004 05:14:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76954 invoked by uid 500); 15 Apr 2004 05:13:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76938 invoked from network); 15 Apr 2004 05:13:59 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 15 Apr 2004 05:13:59 -0000
Received: (qmail 27425 invoked from network); 15 Apr 2004 05:14:05 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 15 Apr 2004 05:14:05 -0000
Subject: Re: suitability of lucene for project
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.44.0404122234060.27466-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0404122234060.27466-100000@mere.cirano.qc.ca>
Content-Type: text/plain
Organization: 
Message-Id: <1082005961.15933.13.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 15 Apr 2004 13:12:41 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will be searching webpages (url given by user) for keyword (in
clinical record). Will that be structured or unstructured? The records
might be in a table or a list of urls pointing to individual record
webpages.

thks

sebastian


On Tue, 2004-04-13 at 11:15, Stephane James Vaucher wrote:
> It could be part of you solution, but I don't think so. Let me explain:
> 
> I've done this a few times something similar to what you describe. I use 
> often use HttpUnit to get information. How you process it, it's up 
> to you. If you want it to be indexed (searchable), you can use Lucene. If 
> you want to extract structured (or semi-structured) information, use 
> wrapper induction techniques (not Lucene).
> 
> cheers,
> sv
> 
> On 13 Apr 2004, Sebastian Ho wrote:
> 
> > hi all
> > 
> > i am investigating technologies to use for a project which basically
> > retrieves html pages on a regular basis(or whenever there are changes)
> > and allow html parsing to extract specific information, and presenting
> > them as links in a webpage. Note that this is not a general search
> > engine kind of project but we are extracting clinical information from
> > various website and consolidating them.
> > 
> > Pls advise me whether Lucene can do the above and in areas where it
> > cannot, suggestions to solutions will be appreciated.
> > 
> > Thanks
> > 
> > Sebastian Ho
> > Bioinformatics Institute
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 07:00:40 2004
Return-Path: <lucene-user-return-7946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95523 invoked from network); 15 Apr 2004 07:00:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 07:00:40 -0000
Received: (qmail 24443 invoked by uid 500); 15 Apr 2004 07:00:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24422 invoked by uid 500); 15 Apr 2004 07:00:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24393 invoked from network); 15 Apr 2004 07:00:07 -0000
Received: from unknown (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by daedalus.apache.org with SMTP; 15 Apr 2004 07:00:07 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i3F70IYk013591
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 09:00:19 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Result scoring question
Date: Thu, 15 Apr 2004 09:00:18 +0200
User-Agent: KMail/1.5.4
References: <7A1D7964C7C943419AB6D2C32338385301F21B38@excsrv44.mayo.edu>
In-Reply-To: <7A1D7964C7C943419AB6D2C32338385301F21B38@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404150900.18109.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 14 April 2004 20:55, Armbrust, Daniel C. wrote:
> I should have remembered that.
>
> Here are the 3 explanations for the top 3 documents returned (contents
> below)
>
> 3.3513687 = product of:
>   6.7027373 = weight(preferred_designation:"renal calculus" in 48270),
> product of: 0.8114604 = queryWeight(preferred_designation:"renal
> calculus"), product of: 18.88021 = idf(preferred_designation: renal=1111
> calculus=37) 0.04297941 = queryNorm
>     8.260092 = fieldWeight(preferred_designation:"renal calculus" in
> 48270), product of: 1.0 = tf(phraseFreq=1.0)
>       18.88021 = idf(preferred_designation: renal=1111 calculus=37)
>       0.4375 = fieldNorm(field=preferred_designation, doc=48270)
>   0.5 = coord(1/2)
>
> 2.8726017 = product of:
>   5.7452035 = weight(preferred_designation:"renal calculus" in 514631),
> product of: 0.8114604 = queryWeight(preferred_designation:"renal
> calculus"), product of: 18.88021 = idf(preferred_designation: renal=1111
> calculus=37) 0.04297941 = queryNorm
>     7.080079 = fieldWeight(preferred_designation:"renal calculus" in
> 514631), product of: 1.0 = tf(phraseFreq=1.0)
>       18.88021 = idf(preferred_designation: renal=1111 calculus=37)
>       0.375 = fieldNorm(field=preferred_designation, doc=514631)
>   0.5 = coord(1/2)
>
> 2.4832542 = product of:
>   4.9665084 = weight(other_designation:"renal calculus" in 481129), product
> of: 0.58440757 = queryWeight(other_designation:"renal calculus"), product
> of: 13.5973835 = idf(other_designation: renal=8560 calculus=971) 0.04297941
> = queryNorm
>     8.498364 = fieldWeight(other_designation:"renal calculus" in 481129),
> product of: 1.0 = tf(phraseFreq=1.0)
>       13.5973835 = idf(other_designation: renal=8560 calculus=971)
>       0.625 = fieldNorm(field=other_designation, doc=481129)
>   0.5 = coord(1/2)
>
>
> Is there anything that I can do in my query construction, to ensure that if
> a query exactly matches a document, it will be the top result?

It seems that the problem is in the idf weights.
Try using a scorer that returns a constant for the idf.
You can inherit all the default behaviour and only override the idf().

The idf weights are established for Lucene terms, which are a combination
of a field and a text term. If a text term occurs infrequently in one field, it
will score higher than in a field in which it occurs frequently.
(idf means inverse document frequency).
My guess is this is what's happening here.


Good luck,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 10:38:43 2004
Return-Path: <lucene-user-return-7947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45925 invoked from network); 15 Apr 2004 10:38:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 10:38:42 -0000
Received: (qmail 15708 invoked by uid 500); 15 Apr 2004 10:38:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15682 invoked by uid 500); 15 Apr 2004 10:38:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15666 invoked from network); 15 Apr 2004 10:38:34 -0000
Received: from unknown (HELO master.valinf.com) (62.253.200.1)
  by daedalus.apache.org with SMTP; 15 Apr 2004 10:38:34 -0000
Message-ID: <566BCFC0EFBAAC40AF3EF4CA8228AD539E85D9@master.valinf.com>
From: Paul Williams <paul@valinf.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Not deleting temp files after updating/optimising.
Date: Thu, 15 Apr 2004 11:37:31 +0100
MIME-Version: 1.0
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am currently using Java 1.4.2_03 with Lucene 1.3 Final. I am using the
option setUseCompoundFile(true) as I have a lot of fields in the database
schema, and it can cause the dreaded 'too many open file error' on Windows
based systems. (Optimising after 1000 documents with a merge factor of a
100)

But I am having a problem with updating a reasonable sized index. It seems
to leave temporary files which can treble the size of the index on the hard
disk. (You can delete these file afterwards with no ill effects)

I have checked to make sure no other processes are locking these files
(virus checker/backup software etc.) 

See the directory listing below for the index files.

Has anyone else had a similar problem? And hopefully come up with a
solution!!

Regards,

Paul

15/04/2004  11:05       <DIR>          .
15/04/2004  11:05       <DIR>          ..
15/04/2004  10:55                    4 deletable
15/04/2004  11:05                    0 dir.txt
15/04/2004  10:55                   76 segments
11/04/2004  09:22          516,150,272 _11au.fdt
11/04/2004  09:22               12,288 _11au.fdx
11/04/2004  09:19                1,169 _11au.fnm
11/04/2004  15:00        3,969,914,880 _12nq.fdt
11/04/2004  15:00              283,648 _12nq.fdx
11/04/2004  14:39                1,169 _12nq.fnm
14/04/2004  17:14        5,689,259,942 _15ar.cfs
15/04/2004  10:17                5,462 _15ar.del
14/04/2004  17:19            8,619,569 _15e0.cfs
15/04/2004  10:12                   21 _15e0.del
15/04/2004  07:58              563,730 _15es.cfs
15/04/2004  08:25              394,474 _15fg.cfs
15/04/2004  10:18              663,616 _15g5.cfs
15/04/2004  10:55                9,385 _15g9.cfs
10/04/2004  16:06          939,758,592 _vas.fdt
10/04/2004  16:06               25,600 _vas.fdx
10/04/2004  16:01                1,169 _vas.fnm
10/04/2004  16:23          656,837,632 _vuu.fdt
10/04/2004  16:23               23,552 _vuu.fdx
10/04/2004  16:20                1,169 _vuu.fnm
10/04/2004  17:39           98,271,232 _y6h.fdt
10/04/2004  17:38                2,048 _y6h.fdx
10/04/2004  17:38                1,169 _y6h.fnm
10/04/2004  17:42           76,907,520 _y9k.cfs
10/04/2004  17:42                1,060 _y9k.f1
10/04/2004  17:42                1,060 _y9k.f10
10/04/2004  17:42                1,060 _y9k.f100
10/04/2004  17:42                1,060 _y9k.f101
10/04/2004  17:42                1,060 _y9k.f102
10/04/2004  17:42                1,060 _y9k.f103
10/04/2004  17:42                1,060 _y9k.f104
10/04/2004  17:42                1,060 _y9k.f105
10/04/2004  17:42                1,060 _y9k.f106
10/04/2004  17:42                1,060 _y9k.f107
10/04/2004  17:42                1,060 _y9k.f108
10/04/2004  17:42                1,060 _y9k.f109
10/04/2004  17:42                1,060 _y9k.f11
10/04/2004  17:42                1,060 _y9k.f110
10/04/2004  17:42                1,060 _y9k.f111
10/04/2004  17:42                1,060 _y9k.f112
10/04/2004  17:42                1,060 _y9k.f113
10/04/2004  17:42                1,060 _y9k.f114
10/04/2004  17:42                1,060 _y9k.f115
10/04/2004  17:42                1,060 _y9k.f116
10/04/2004  17:42                1,060 _y9k.f117
10/04/2004  17:42                1,060 _y9k.f118
10/04/2004  17:42                1,060 _y9k.f119
10/04/2004  17:42                1,060 _y9k.f12
10/04/2004  17:42                1,060 _y9k.f120
10/04/2004  17:42                1,060 _y9k.f13
10/04/2004  17:42                1,060 _y9k.f14
10/04/2004  17:42                1,060 _y9k.f15
10/04/2004  17:42                1,060 _y9k.f16
10/04/2004  17:42                1,060 _y9k.f17
10/04/2004  17:42                1,060 _y9k.f18
10/04/2004  17:42                1,060 _y9k.f19
10/04/2004  17:42                1,060 _y9k.f2
10/04/2004  17:42                1,060 _y9k.f20
10/04/2004  17:42                1,060 _y9k.f21
10/04/2004  17:42                1,060 _y9k.f22
10/04/2004  17:42                1,060 _y9k.f23
10/04/2004  17:42                1,060 _y9k.f24
10/04/2004  17:42                1,060 _y9k.f25
10/04/2004  17:42                1,060 _y9k.f26
10/04/2004  17:42                1,060 _y9k.f27
10/04/2004  17:42                1,060 _y9k.f28
10/04/2004  17:42                1,060 _y9k.f29
10/04/2004  17:42                1,060 _y9k.f3
10/04/2004  17:42                1,060 _y9k.f30
10/04/2004  17:42                1,060 _y9k.f31
10/04/2004  17:42                1,060 _y9k.f32
10/04/2004  17:42                1,060 _y9k.f33
10/04/2004  17:42                1,060 _y9k.f34
10/04/2004  17:42                1,060 _y9k.f35
10/04/2004  17:42                1,060 _y9k.f36
10/04/2004  17:42                1,060 _y9k.f37
10/04/2004  17:42                1,060 _y9k.f38
10/04/2004  17:42                1,060 _y9k.f39
10/04/2004  17:42                1,060 _y9k.f4
10/04/2004  17:42                1,060 _y9k.f40
10/04/2004  17:42                1,060 _y9k.f41
10/04/2004  17:42                1,060 _y9k.f42
10/04/2004  17:42                1,060 _y9k.f43
10/04/2004  17:42                1,060 _y9k.f44
10/04/2004  17:42                1,060 _y9k.f45
10/04/2004  17:42                1,060 _y9k.f46
10/04/2004  17:42                1,060 _y9k.f47
10/04/2004  17:42                1,060 _y9k.f48
10/04/2004  17:42                1,060 _y9k.f49
10/04/2004  17:42                1,060 _y9k.f5
10/04/2004  17:42                1,060 _y9k.f50
10/04/2004  17:42                1,060 _y9k.f51
10/04/2004  17:42                1,060 _y9k.f52
10/04/2004  17:42                1,060 _y9k.f53
10/04/2004  17:42                1,060 _y9k.f54
10/04/2004  17:42                1,060 _y9k.f55
10/04/2004  17:42                1,060 _y9k.f56
10/04/2004  17:42                1,060 _y9k.f57
10/04/2004  17:42                1,060 _y9k.f58
10/04/2004  17:42                1,060 _y9k.f59
10/04/2004  17:42                1,060 _y9k.f6
10/04/2004  17:42                1,060 _y9k.f60
10/04/2004  17:42                1,060 _y9k.f61
10/04/2004  17:42                1,060 _y9k.f62
10/04/2004  17:42                1,060 _y9k.f63
10/04/2004  17:42                1,060 _y9k.f64
10/04/2004  17:42                1,060 _y9k.f65
10/04/2004  17:42                1,060 _y9k.f66
10/04/2004  17:42                1,060 _y9k.f67
10/04/2004  17:42                1,060 _y9k.f68
10/04/2004  17:42                1,060 _y9k.f69
10/04/2004  17:42                1,060 _y9k.f7
10/04/2004  17:42                1,060 _y9k.f70
10/04/2004  17:42                1,060 _y9k.f71
10/04/2004  17:42                1,060 _y9k.f72
10/04/2004  17:42                1,060 _y9k.f73
10/04/2004  17:42                1,060 _y9k.f74
10/04/2004  17:42                1,060 _y9k.f75
10/04/2004  17:42                1,060 _y9k.f76
10/04/2004  17:42                1,060 _y9k.f77
10/04/2004  17:42                1,060 _y9k.f78
10/04/2004  17:42                1,060 _y9k.f79
10/04/2004  17:42                1,060 _y9k.f8
10/04/2004  17:42                1,060 _y9k.f80
10/04/2004  17:42                1,060 _y9k.f81
10/04/2004  17:42                1,060 _y9k.f82
10/04/2004  17:42                1,060 _y9k.f83
10/04/2004  17:42                1,060 _y9k.f84
10/04/2004  17:42                1,060 _y9k.f85
10/04/2004  17:42                1,060 _y9k.f86
10/04/2004  17:42                1,060 _y9k.f87
10/04/2004  17:42                1,060 _y9k.f88
10/04/2004  17:42                1,060 _y9k.f89
10/04/2004  17:42                1,060 _y9k.f9
10/04/2004  17:42                1,060 _y9k.f90
10/04/2004  17:42                1,060 _y9k.f91
10/04/2004  17:42                1,060 _y9k.f92
10/04/2004  17:42                1,060 _y9k.f93
10/04/2004  17:42                1,060 _y9k.f94
10/04/2004  17:42                1,060 _y9k.f95
10/04/2004  17:42                1,060 _y9k.f96
10/04/2004  17:42                1,060 _y9k.f97
10/04/2004  17:42                1,060 _y9k.f98
10/04/2004  17:42                1,060 _y9k.f99
10/04/2004  17:41          193,259,415 _y9k.fdt
10/04/2004  17:41                8,480 _y9k.fdx
10/04/2004  17:41                1,169 _y9k.fnm
10/04/2004  17:42            3,594,942 _y9k.frq
10/04/2004  17:42           11,449,010 _y9k.prx
10/04/2004  17:42               35,403 _y9k.tii
10/04/2004  17:42            2,577,708 _y9k.tis
             154 File(s) 12,168,762,715 bytes
               2 Dir(s)  81,455,693,824 bytes free
DISCLAIMER:
 The information in this message is confidential and may be legally
privileged. It is intended solely for the addressee.  Access to this message
by anyone else is unauthorised.  If you are not the intended recipient, any
disclosure, copying, or distribution of the message,  or any action or
omission taken by you in reliance on it, is prohibited and may be unlawful.
Please immediately contact the sender if you have received this message in
error.
 Thank you.
 Valid Information Systems Limited.   Address:  Morline House,  160 London
Road,  Barking, Essex, IG11 8BB. 
http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 2040 
-----------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 12:29:33 2004
Return-Path: <lucene-user-return-7948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7498 invoked from network); 15 Apr 2004 12:29:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 12:29:32 -0000
Received: (qmail 9133 invoked by uid 500); 15 Apr 2004 12:29:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9111 invoked by uid 500); 15 Apr 2004 12:29:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9097 invoked from network); 15 Apr 2004 12:29:23 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 15 Apr 2004 12:29:23 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1BE5zg-0002uF-00
	for lucene-user@jakarta.apache.org; Thu, 15 Apr 2004 08:29:24 -0400
Subject: Re: Result scoring question
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200404150900.18109.ykingma@xs4all.nl>
References: <7A1D7964C7C943419AB6D2C32338385301F21B38@excsrv44.mayo.edu>
	 <200404150900.18109.ykingma@xs4all.nl>
Content-Type: text/plain
Message-Id: <1082032162.17010.8.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Thu, 15 Apr 2004 08:29:23 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 14 April 2004 20:55, Armbrust, Daniel C. wrote:

> > Is there anything that I can do in my query construction, to ensure that if
> > a query exactly matches a document, it will be the top result?

I know of two methods (and would be happy to hear comments or
additions):

1) index the field as a Keyword.  The only result of querying this will
be exact (character-by-character identical) matches.  You can index the
field both as Keyword and as Text if you wish, and construct a query
that attempts both the exact and inexact match, with appropriate
weights.

2) A bit of a hack perhaps, but effective: index the field as "zgzgl
text of field zgzgl", and query for the phrase "zgzgl text of query
zgzgl".  "zgzgl" here stands for some token that doesn't otherwise occur
in your data.  Any matches to this phrase, then, are guaranteed to be
matches to complete document fields, but with accommodation for
stopwords, stemming, or whatever your Analyzer does.  Add slop to the
phrase query if you wish, and again, you can attach appropriate weights
to this and combine with other techniques.

Boris
-- 
Boris Goldowsky
boris@alum.mit.edu
www.goldowsky.com/consulting


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 15:09:19 2004
Return-Path: <lucene-user-return-7949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22021 invoked from network); 15 Apr 2004 15:09:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 15:09:19 -0000
Received: (qmail 61400 invoked by uid 500); 15 Apr 2004 15:09:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61366 invoked by uid 500); 15 Apr 2004 15:09:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61341 invoked from network); 15 Apr 2004 15:09:07 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.189)
  by daedalus.apache.org with SMTP; 15 Apr 2004 15:09:07 -0000
Received: (cpmta 27492 invoked from network); 15 Apr 2004 08:09:08 -0700
Received: from 128.143.104.244 (HELO ?128.143.104.244?)
  by smtp.hatcher.net (209.228.34.189) with SMTP; 15 Apr 2004 08:09:08 -0700
X-Sent: 15 Apr 2004 15:09:08 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <407E1868.7020307@ctx.com.au>
References: <Pine.LNX.4.33.0404150043450.27848-100000@hercule.cirano.qc.ca> <407E1868.7020307@ctx.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D82D62B6-8EEE-11D8-A751-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Presentation in Mtl
Date: Thu, 15 Apr 2004 11:09:08 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is great to see!  I've been presenting Lucene at the No Fluff, 
Just Stuff symposiums for a while and really enjoy doing so.  I also 
presented it last year at the O'Reilly Open Source Conference with the 
toughest attendee possible, Doug Cutting himself.

I'm continuing my Lucene presentations this year still on the NFJS 
tour, and also I will be presenting it at JavaOne.  The JavaOne 
presentation is only one hour though, so it will be a very quick (yet 
techie) pass through what Lucene offers.

Let's create a wiki page that lists all the venues for Lucene 
presentations and training.  If you are in the US and near a city 
listed here <http://www.nofluffjuststuff.com> come on out!

	Erik

On Apr 15, 2004, at 1:06 AM, Matt Quail wrote:

> I too gave a Lucene presentation to my local JUG (Canberra, Australia)
> last night.
>
> It also went over very well. Lucene totally rocks!
>
> =Matt
>
> Stephane James Vaucher wrote:
>
>> Hi everyone,
>> I did a presentation tonight in Montreal at a java users group 
>> metting.
>> I've got to say that they were maybe 4 companies present that use 
>> Lucene
>> and find it very useful and simple to use. It lead to the longuest
>> discussion (positive that is) I having at the users' group.
>> So I've got to tell the Lucene contributors GOOD JOB!
>> I'll probably upload my ppt presentation (heavily based on existing
>> tutorials) to the wiki, so you can comment it.
>> cheers,
>> sv
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 16:42:21 2004
Return-Path: <lucene-user-return-7950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93451 invoked from network); 15 Apr 2004 16:42:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 16:42:21 -0000
Received: (qmail 26541 invoked by uid 500); 15 Apr 2004 16:42:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26512 invoked by uid 500); 15 Apr 2004 16:42:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26498 invoked from network); 15 Apr 2004 16:42:07 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 15 Apr 2004 16:42:07 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Thu, 15 Apr 2004 11:16:22 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <H49FZDHC>; Thu, 15 Apr 2004 11:16:20 -0500
Message-Id: <7A1D7964C7C943419AB6D2C32338385301F21C3B@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Result scoring question
Date: Thu, 15 Apr 2004 11:16:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the advice.

I created a class to extend DefaultSimilarity, and made it return 10 for the idf value.  (I don't really have any data to back up picking 10, other than it seems to work)

This did indeed, cause my exact matches to float up to the top.  Your explanation makes sense, because for this particular query, there were only 2 documents in the index that contained the words "renal calculus" in the preferred_designation field while there were hundreds that  contained those words in the other_designation field.

I'll keep testing it to make sure that nothing odd happens in other searches now, but is seems good so far.

Thanks, 

Dan



************************************ 
-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl] 
Sent: Thursday, April 15, 2004 2:00 AM
To: Lucene Users List
Subject: Re: Result scoring question


It seems that the problem is in the idf weights.
Try using a scorer that returns a constant for the idf.
You can inherit all the default behaviour and only override the idf().

The idf weights are established for Lucene terms, which are a combination
of a field and a text term. If a text term occurs infrequently in one field, it
will score higher than in a field in which it occurs frequently.
(idf means inverse document frequency).
My guess is this is what's happening here.


Good luck,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 15 19:55:59 2004
Return-Path: <lucene-user-return-7951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95180 invoked from network); 15 Apr 2004 19:55:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Apr 2004 19:55:58 -0000
Received: (qmail 50037 invoked by uid 500); 15 Apr 2004 19:55:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49987 invoked by uid 500); 15 Apr 2004 19:55:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49804 invoked from network); 15 Apr 2004 19:55:35 -0000
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by daedalus.apache.org with SMTP; 15 Apr 2004 19:55:35 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BECxX-0004YG-GJ
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 07:55:39 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 17074-05 for <lucene-user@jakarta.apache.org>;
	Fri, 16 Apr 2004 07:55:31 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BECxP-0004YA-9C
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 07:55:31 +1200
From: Paul <paul@waite.net.nz>
To: lucene-user@jakarta.apache.org
Subject: Re: Not deleting temp files after updating/optimising.
Date: Fri, 16 Apr 2004 07:55:30 +1200
User-Agent: KMail/1.6.1
References: <566BCFC0EFBAAC40AF3EF4CA8228AD539E85D9@master.valinf.com>
In-Reply-To: <566BCFC0EFBAAC40AF3EF4CA8228AD539E85D9@master.valinf.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404160755.30989.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This looks like the same problem I am having - see subject: "Optimize
Crash". So far I have had no reply from anyone on this list, nor from
the dev list.

If you catch errors to a log do you see the same one I reported?

The temporary workaround is to NOT optimise at all. This will impact
the search performance marginally, but at least will save you from
running out of disk.

Cheers,
Paul.



Paul Williams wrote:
> Hi,
>
> I am currently using Java 1.4.2_03 with Lucene 1.3 Final. I am using the
> option setUseCompoundFile(true) as I have a lot of fields in the database
> schema, and it can cause the dreaded 'too many open file error' on Windows
> based systems. (Optimising after 1000 documents with a merge factor of a
> 100)
>
> But I am having a problem with updating a reasonable sized index. It seems
> to leave temporary files which can treble the size of the index on the hard
> disk. (You can delete these file afterwards with no ill effects)
>
> I have checked to make sure no other processes are locking these files
> (virus checker/backup software etc.)
>
> See the directory listing below for the index files.
>
> Has anyone else had a similar problem? And hopefully come up with a
> solution!!
>
> Regards,
>
> Paul
>
> 15/04/2004  11:05       <DIR>          .
> 15/04/2004  11:05       <DIR>          ..
> 15/04/2004  10:55                    4 deletable
> 15/04/2004  11:05                    0 dir.txt
> 15/04/2004  10:55                   76 segments
> 11/04/2004  09:22          516,150,272 _11au.fdt
> 11/04/2004  09:22               12,288 _11au.fdx
> 11/04/2004  09:19                1,169 _11au.fnm
> 11/04/2004  15:00        3,969,914,880 _12nq.fdt
> 11/04/2004  15:00              283,648 _12nq.fdx
> 11/04/2004  14:39                1,169 _12nq.fnm
> 14/04/2004  17:14        5,689,259,942 _15ar.cfs
> 15/04/2004  10:17                5,462 _15ar.del
> 14/04/2004  17:19            8,619,569 _15e0.cfs
> 15/04/2004  10:12                   21 _15e0.del
> 15/04/2004  07:58              563,730 _15es.cfs
> 15/04/2004  08:25              394,474 _15fg.cfs
> 15/04/2004  10:18              663,616 _15g5.cfs
> 15/04/2004  10:55                9,385 _15g9.cfs
> 10/04/2004  16:06          939,758,592 _vas.fdt
> 10/04/2004  16:06               25,600 _vas.fdx
> 10/04/2004  16:01                1,169 _vas.fnm
> 10/04/2004  16:23          656,837,632 _vuu.fdt
> 10/04/2004  16:23               23,552 _vuu.fdx
> 10/04/2004  16:20                1,169 _vuu.fnm
> 10/04/2004  17:39           98,271,232 _y6h.fdt
> 10/04/2004  17:38                2,048 _y6h.fdx
> 10/04/2004  17:38                1,169 _y6h.fnm
> 10/04/2004  17:42           76,907,520 _y9k.cfs
> 10/04/2004  17:42                1,060 _y9k.f1
> 10/04/2004  17:42                1,060 _y9k.f10
> 10/04/2004  17:42                1,060 _y9k.f100
> 10/04/2004  17:42                1,060 _y9k.f101
> 10/04/2004  17:42                1,060 _y9k.f102
> 10/04/2004  17:42                1,060 _y9k.f103
> 10/04/2004  17:42                1,060 _y9k.f104
> 10/04/2004  17:42                1,060 _y9k.f105
> 10/04/2004  17:42                1,060 _y9k.f106
> 10/04/2004  17:42                1,060 _y9k.f107
> 10/04/2004  17:42                1,060 _y9k.f108
> 10/04/2004  17:42                1,060 _y9k.f109
> 10/04/2004  17:42                1,060 _y9k.f11
> 10/04/2004  17:42                1,060 _y9k.f110
> 10/04/2004  17:42                1,060 _y9k.f111
> 10/04/2004  17:42                1,060 _y9k.f112
> 10/04/2004  17:42                1,060 _y9k.f113
> 10/04/2004  17:42                1,060 _y9k.f114
> 10/04/2004  17:42                1,060 _y9k.f115
> 10/04/2004  17:42                1,060 _y9k.f116
> 10/04/2004  17:42                1,060 _y9k.f117
> 10/04/2004  17:42                1,060 _y9k.f118
> 10/04/2004  17:42                1,060 _y9k.f119
> 10/04/2004  17:42                1,060 _y9k.f12
> 10/04/2004  17:42                1,060 _y9k.f120
> 10/04/2004  17:42                1,060 _y9k.f13
> 10/04/2004  17:42                1,060 _y9k.f14
> 10/04/2004  17:42                1,060 _y9k.f15
> 10/04/2004  17:42                1,060 _y9k.f16
> 10/04/2004  17:42                1,060 _y9k.f17
> 10/04/2004  17:42                1,060 _y9k.f18
> 10/04/2004  17:42                1,060 _y9k.f19
> 10/04/2004  17:42                1,060 _y9k.f2
> 10/04/2004  17:42                1,060 _y9k.f20
> 10/04/2004  17:42                1,060 _y9k.f21
> 10/04/2004  17:42                1,060 _y9k.f22
> 10/04/2004  17:42                1,060 _y9k.f23
> 10/04/2004  17:42                1,060 _y9k.f24
> 10/04/2004  17:42                1,060 _y9k.f25
> 10/04/2004  17:42                1,060 _y9k.f26
> 10/04/2004  17:42                1,060 _y9k.f27
> 10/04/2004  17:42                1,060 _y9k.f28
> 10/04/2004  17:42                1,060 _y9k.f29
> 10/04/2004  17:42                1,060 _y9k.f3
> 10/04/2004  17:42                1,060 _y9k.f30
> 10/04/2004  17:42                1,060 _y9k.f31
> 10/04/2004  17:42                1,060 _y9k.f32
> 10/04/2004  17:42                1,060 _y9k.f33
> 10/04/2004  17:42                1,060 _y9k.f34
> 10/04/2004  17:42                1,060 _y9k.f35
> 10/04/2004  17:42                1,060 _y9k.f36
> 10/04/2004  17:42                1,060 _y9k.f37
> 10/04/2004  17:42                1,060 _y9k.f38
> 10/04/2004  17:42                1,060 _y9k.f39
> 10/04/2004  17:42                1,060 _y9k.f4
> 10/04/2004  17:42                1,060 _y9k.f40
> 10/04/2004  17:42                1,060 _y9k.f41
> 10/04/2004  17:42                1,060 _y9k.f42
> 10/04/2004  17:42                1,060 _y9k.f43
> 10/04/2004  17:42                1,060 _y9k.f44
> 10/04/2004  17:42                1,060 _y9k.f45
> 10/04/2004  17:42                1,060 _y9k.f46
> 10/04/2004  17:42                1,060 _y9k.f47
> 10/04/2004  17:42                1,060 _y9k.f48
> 10/04/2004  17:42                1,060 _y9k.f49
> 10/04/2004  17:42                1,060 _y9k.f5
> 10/04/2004  17:42                1,060 _y9k.f50
> 10/04/2004  17:42                1,060 _y9k.f51
> 10/04/2004  17:42                1,060 _y9k.f52
> 10/04/2004  17:42                1,060 _y9k.f53
> 10/04/2004  17:42                1,060 _y9k.f54
> 10/04/2004  17:42                1,060 _y9k.f55
> 10/04/2004  17:42                1,060 _y9k.f56
> 10/04/2004  17:42                1,060 _y9k.f57
> 10/04/2004  17:42                1,060 _y9k.f58
> 10/04/2004  17:42                1,060 _y9k.f59
> 10/04/2004  17:42                1,060 _y9k.f6
> 10/04/2004  17:42                1,060 _y9k.f60
> 10/04/2004  17:42                1,060 _y9k.f61
> 10/04/2004  17:42                1,060 _y9k.f62
> 10/04/2004  17:42                1,060 _y9k.f63
> 10/04/2004  17:42                1,060 _y9k.f64
> 10/04/2004  17:42                1,060 _y9k.f65
> 10/04/2004  17:42                1,060 _y9k.f66
> 10/04/2004  17:42                1,060 _y9k.f67
> 10/04/2004  17:42                1,060 _y9k.f68
> 10/04/2004  17:42                1,060 _y9k.f69
> 10/04/2004  17:42                1,060 _y9k.f7
> 10/04/2004  17:42                1,060 _y9k.f70
> 10/04/2004  17:42                1,060 _y9k.f71
> 10/04/2004  17:42                1,060 _y9k.f72
> 10/04/2004  17:42                1,060 _y9k.f73
> 10/04/2004  17:42                1,060 _y9k.f74
> 10/04/2004  17:42                1,060 _y9k.f75
> 10/04/2004  17:42                1,060 _y9k.f76
> 10/04/2004  17:42                1,060 _y9k.f77
> 10/04/2004  17:42                1,060 _y9k.f78
> 10/04/2004  17:42                1,060 _y9k.f79
> 10/04/2004  17:42                1,060 _y9k.f8
> 10/04/2004  17:42                1,060 _y9k.f80
> 10/04/2004  17:42                1,060 _y9k.f81
> 10/04/2004  17:42                1,060 _y9k.f82
> 10/04/2004  17:42                1,060 _y9k.f83
> 10/04/2004  17:42                1,060 _y9k.f84
> 10/04/2004  17:42                1,060 _y9k.f85
> 10/04/2004  17:42                1,060 _y9k.f86
> 10/04/2004  17:42                1,060 _y9k.f87
> 10/04/2004  17:42                1,060 _y9k.f88
> 10/04/2004  17:42                1,060 _y9k.f89
> 10/04/2004  17:42                1,060 _y9k.f9
> 10/04/2004  17:42                1,060 _y9k.f90
> 10/04/2004  17:42                1,060 _y9k.f91
> 10/04/2004  17:42                1,060 _y9k.f92
> 10/04/2004  17:42                1,060 _y9k.f93
> 10/04/2004  17:42                1,060 _y9k.f94
> 10/04/2004  17:42                1,060 _y9k.f95
> 10/04/2004  17:42                1,060 _y9k.f96
> 10/04/2004  17:42                1,060 _y9k.f97
> 10/04/2004  17:42                1,060 _y9k.f98
> 10/04/2004  17:42                1,060 _y9k.f99
> 10/04/2004  17:41          193,259,415 _y9k.fdt
> 10/04/2004  17:41                8,480 _y9k.fdx
> 10/04/2004  17:41                1,169 _y9k.fnm
> 10/04/2004  17:42            3,594,942 _y9k.frq
> 10/04/2004  17:42           11,449,010 _y9k.prx
> 10/04/2004  17:42               35,403 _y9k.tii
> 10/04/2004  17:42            2,577,708 _y9k.tis
>              154 File(s) 12,168,762,715 bytes
>                2 Dir(s)  81,455,693,824 bytes free
> DISCLAIMER:
>  The information in this message is confidential and may be legally
> privileged. It is intended solely for the addressee.  Access to this
> message by anyone else is unauthorised.  If you are not the intended
> recipient, any disclosure, copying, or distribution of the message,  or any
> action or omission taken by you in reliance on it, is prohibited and may be
> unlawful. Please immediately contact the sender if you have received this
> message in error.
>  Thank you.
>  Valid Information Systems Limited.   Address:  Morline House,  160 London
> Road,  Barking, Essex, IG11 8BB.
> http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 2040
> -----------------------------------------
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

-- 
Get in touch with your feelings of hostility against the dying light.
		-- Dylan Thomas [paraphrased periphrastically]

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 02:49:32 2004
Return-Path: <lucene-user-return-7952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60419 invoked from network); 16 Apr 2004 02:49:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 02:49:32 -0000
Received: (qmail 16946 invoked by uid 500); 16 Apr 2004 02:49:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16925 invoked by uid 500); 16 Apr 2004 02:49:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16902 invoked from network); 16 Apr 2004 02:49:07 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 16 Apr 2004 02:49:07 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3G2nGiI008023
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 22:49:16 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3G2nGUu008019
	for <lucene-user@jakarta.apache.org>; Thu, 15 Apr 2004 22:49:16 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 15 Apr 2004 22:49:16 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Presentation in Mtl
In-Reply-To: <D82D62B6-8EEE-11D8-A751-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0404152244130.7986-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I'll add a wiki page tomorrow for Lucene training and presentations, 
unless you beat me to it.

sv
BTW, I visited nofluffjuststuff.com, and I've noticed that highlighting is 
misspelled again ;) Apologies if I'm poking fun at an Americanism.


On Thu, 15 Apr 2004, Erik Hatcher wrote:

> This is great to see!  I've been presenting Lucene at the No Fluff, 
> Just Stuff symposiums for a while and really enjoy doing so.  I also 
> presented it last year at the O'Reilly Open Source Conference with the 
> toughest attendee possible, Doug Cutting himself.
> 
> I'm continuing my Lucene presentations this year still on the NFJS 
> tour, and also I will be presenting it at JavaOne.  The JavaOne 
> presentation is only one hour though, so it will be a very quick (yet 
> techie) pass through what Lucene offers.
> 
> Let's create a wiki page that lists all the venues for Lucene 
> presentations and training.  If you are in the US and near a city 
> listed here <http://www.nofluffjuststuff.com> come on out!
> 
> 	Erik
> 
> On Apr 15, 2004, at 1:06 AM, Matt Quail wrote:
> 
> > I too gave a Lucene presentation to my local JUG (Canberra, Australia)
> > last night.
> >
> > It also went over very well. Lucene totally rocks!
> >
> > =Matt
> >
> > Stephane James Vaucher wrote:
> >
> >> Hi everyone,
> >> I did a presentation tonight in Montreal at a java users group 
> >> metting.
> >> I've got to say that they were maybe 4 companies present that use 
> >> Lucene
> >> and find it very useful and simple to use. It lead to the longuest
> >> discussion (positive that is) I having at the users' group.
> >> So I've got to tell the Lucene contributors GOOD JOB!
> >> I'll probably upload my ppt presentation (heavily based on existing
> >> tutorials) to the wiki, so you can comment it.
> >> cheers,
> >> sv
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 17:00:54 2004
Return-Path: <lucene-user-return-7953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72039 invoked from network); 16 Apr 2004 17:00:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 17:00:54 -0000
Received: (qmail 37494 invoked by uid 500); 16 Apr 2004 16:59:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37449 invoked by uid 500); 16 Apr 2004 16:59:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37372 invoked from network); 16 Apr 2004 16:59:49 -0000
Received: from unknown (HELO web13801.mail.yahoo.com) (216.136.175.11)
  by daedalus.apache.org with SMTP; 16 Apr 2004 16:59:49 -0000
Message-ID: <20040416165953.48075.qmail@web13801.mail.yahoo.com>
Received: from [4.17.136.6] by web13801.mail.yahoo.com via HTTP; Fri, 16 Apr 2004 09:59:53 PDT
Date: Fri, 16 Apr 2004 09:59:53 -0700 (PDT)
From: Venu Durgam <vdurgam@yahoo.com>
Subject: Software for suggesting alternative words or sentences
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8246E9B3-8E37-11D8-A70C-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-310039452-1082134793=:46964"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-310039452-1082134793=:46964
Content-Type: text/plain; charset=us-ascii


I was wondering if there is any open source software for suggesting alternative words or sentences for search queries like Google. 

Thanks
Venu Durgam


--0-310039452-1082134793=:46964--

From lucene-user-return-7954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 17:04:41 2004
Return-Path: <lucene-user-return-7954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74528 invoked from network); 16 Apr 2004 17:04:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 17:04:41 -0000
Received: (qmail 54704 invoked by uid 500); 16 Apr 2004 17:04:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54672 invoked by uid 500); 16 Apr 2004 17:04:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54645 invoked from network); 16 Apr 2004 17:04:27 -0000
Received: from unknown (HELO extremesoftware.ca) (69.156.221.15)
  by daedalus.apache.org with SMTP; 16 Apr 2004 17:04:27 -0000
Date: Fri, 16 Apr 2004 13:04:29 -0400
Subject: RE: Software for suggesting alternative words or sentences
Message-ID: <41989D7DF8323B4CB0F7A58F5BA010197402@sydney.extremesoftware.ca>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MS-TNEF-Correlator: 
Thread-Topic: Software for suggesting alternative words or sentences
Thread-Index: AcQj1FrcPs3xx8EDRM2PCu20w/CGuQAAERRQ
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should give GNU Aspell a look.

http://aspell.net/

Wesley=20

-----Original Message-----
From: Venu Durgam [mailto:vdurgam@yahoo.com]=20
Sent: April 16, 2004 1:00 PM
To: Lucene Users List
Subject: Software for suggesting alternative words or sentences


I was wondering if there is any open source software for suggesting
alternative words or sentences for search queries like Google.=20

Thanks
Venu Durgam




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 17:17:10 2004
Return-Path: <lucene-user-return-7955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83075 invoked from network); 16 Apr 2004 17:17:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 17:17:10 -0000
Received: (qmail 83644 invoked by uid 500); 16 Apr 2004 17:16:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83620 invoked by uid 500); 16 Apr 2004 17:16:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83604 invoked from network); 16 Apr 2004 17:16:56 -0000
Received: from unknown (HELO bender.local) (213.240.172.49)
  by daedalus.apache.org with SMTP; 16 Apr 2004 17:16:56 -0000
Received: from athlon (pD9E419BC.dip.t-dialin.net [217.228.25.188])
	by bender.local (Postfix) with SMTP id 5D4428C0B4
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 19:16:59 +0200 (CEST)
Message-ID: <004101c423d6$a748b4f0$c801a8c0@athlon>
From: "Felix Huber" <huberfelix@webtopia.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040416165953.48075.qmail@web13801.mail.yahoo.com>
Subject: Re: Software for suggesting alternative words or sentences
Date: Fri, 16 Apr 2004 19:17:05 +0200
Organization: Webtopia
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Check http://www.iu.hio.no/~frodes/sprell/sprell.html - it includes a german
and a norwegian dictionary.

Regards,
Felix Huber



Venu Durgam wrote:
> I was wondering if there is any open source software for suggesting
> alternative words or sentences for search queries like Google.
>
> Thanks
> Venu Durgam


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 17:24:22 2004
Return-Path: <lucene-user-return-7956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87261 invoked from network); 16 Apr 2004 17:24:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 17:24:21 -0000
Received: (qmail 1890 invoked by uid 500); 16 Apr 2004 17:24:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1786 invoked by uid 500); 16 Apr 2004 17:24:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1762 invoked from network); 16 Apr 2004 17:24:07 -0000
Received: from unknown (HELO avas7.telusquebec.local) (142.169.1.124)
  by daedalus.apache.org with SMTP; 16 Apr 2004 17:24:07 -0000
Received: from nodnsquery(192.168.250.24) by avas7.telusquebec.local via csmap 
	 id 0e336ff6_8fcb_11d8_9dbc_0002b3a434af_4892;
	Fri, 16 Apr 2004 13:25:28 -0400 (EDT)
Received: from avas7.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp2.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HW90015CXNOWF@"TELUS Quebec"> for
 lucene-user@jakarta.apache.org; Fri, 16 Apr 2004 13:23:48 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas7.telusquebec.local via
 csmap	id 003d9a8e_8fcb_11d8_96a8_0002b3a434af_4499; Fri,
 16 Apr 2004 13:25:05 -0400 (EDT)
Date: Fri, 16 Apr 2004 13:18:37 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: RE: Software for suggesting alternative words or sentences
In-reply-to: <004101c423d6$a748b4f0$c801a8c0@athlon>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Reply-to: tate.avery@nstein.com
Message-id: <000a01c423d6$db738110$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Also...

http://jazzy.sourceforge.net/


-----Original Message-----
From: Felix Huber [mailto:huberfelix@webtopia.de]
Sent: Friday, April 16, 2004 1:17 PM
To: Lucene Users List
Subject: Re: Software for suggesting alternative words or sentences


Check http://www.iu.hio.no/~frodes/sprell/sprell.html - it includes a german
and a norwegian dictionary.

Regards,
Felix Huber



Venu Durgam wrote:
> I was wondering if there is any open source software for suggesting
> alternative words or sentences for search queries like Google.
>
> Thanks
> Venu Durgam


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 17:59:29 2004
Return-Path: <lucene-user-return-7957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8863 invoked from network); 16 Apr 2004 17:59:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 17:59:29 -0000
Received: (qmail 81018 invoked by uid 500); 16 Apr 2004 17:59:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80988 invoked by uid 500); 16 Apr 2004 17:59:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80973 invoked from network); 16 Apr 2004 17:59:14 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 16 Apr 2004 17:59:14 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3GHxHiI010342
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 13:59:17 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3GHxHlG010338
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 13:59:17 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 16 Apr 2004 13:59:16 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Bad link contrib page
Message-ID: <Pine.LNX.4.44.0404161357400.10235-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Since it has been moved to the Sandbox, someone should remove the term 
highlighter reference.

http://jakarta.apache.org/lucene/docs/contributions.html
Miscellaneous -> Term Highlighter 

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 22:11:15 2004
Return-Path: <lucene-user-return-7958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58067 invoked from network); 16 Apr 2004 22:11:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 22:11:15 -0000
Received: (qmail 88932 invoked by uid 500); 16 Apr 2004 22:10:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88551 invoked by uid 500); 16 Apr 2004 22:10:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88537 invoked from network); 16 Apr 2004 22:10:55 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 16 Apr 2004 22:10:55 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3GMB1iI015005
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 18:11:01 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3GMB1Ya015001
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 18:11:01 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 16 Apr 2004 18:11:01 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Bridge with OpenOffice
Message-ID: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anyone try what Joerg suggested here?

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6231

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 16 22:22:29 2004
Return-Path: <lucene-user-return-7959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63593 invoked from network); 16 Apr 2004 22:22:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Apr 2004 22:22:29 -0000
Received: (qmail 6673 invoked by uid 500); 16 Apr 2004 22:22:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6540 invoked by uid 500); 16 Apr 2004 22:22:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6522 invoked from network); 16 Apr 2004 22:22:09 -0000
Received: from unknown (HELO bass.Textwise.com) (64.80.12.100)
  by daedalus.apache.org with SMTP; 16 Apr 2004 22:22:09 -0000
Received: from mortal.mnis.com (mortal [172.18.0.123])
	by bass.Textwise.com (8.11.6+Sun/8.9.3) with ESMTP id i3GMBrQ22392
	for <lucene-user@jakarta.apache.org>; Fri, 16 Apr 2004 18:11:53 -0400 (EDT)
Subject: SQLDirectory implementation
From: Anthony Vito <vito@mnis.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.0.8 (1.0.8-10) 
Date: 16 Apr 2004 18:22:36 -0400
Message-Id: <1082154156.13816.85.camel@mortal>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

  I noticed some talk on SQLDirectory a month or so ago. ( I just joined
the list :) ) I have a JDBC implementation that stores the "files" in a
couple of tables and stores the data for the files as blocks (BLOBs) of
a certain size ( 16k by default ). It also has an LRU cache for the
blocks which makes the performance quite acceptable. 

Quoting Doug:
--------------------------
The way I would try to implement Directory with SQL is to have a single
table of buffers per index, e.g., with columns ID, BLOCK_NUMBER and
DATA.  The contents of a file are the appended DATA columns with the
same ID, ordered by the BLOCK_NUMBER field.  This would be indexed by ID
and BLOCK_NUMBER, together a unique key.

The BLOCK_NUMBER field indicates which part of the file the row
concerns.  Thus the DATA of BLOCK_NUMBER=0 might hold the first 1024
bytes, the DATA of BLOCK_NUMBER=1 might hold the next 1024 bytes, and so
on.  This would permit efficient random access.

You'll need another table with NAME, ID, and MODIFIED_DATE, with a
single entry per file.  The length of a file can be computed with a
query that finds the length of DATA in the last BLOCK_NUMBER with an ID.

I would initially cache a single connection to the database and
serialize requests over it.  A pool of connections might be more
efficient when multiple threads are searching, but I would benchmark
that before investing much in such an implementation.

Has anyone yet implemented an SQL Directory this way?
--------------------------------

So to answer the question... Pretty Much. Just a few little minor
differences.

I have one table that stores each file as a row, with a name, and a
directory name, so I have have more then one index stored in the same
two tables, and a length. The other table stores an ID from the first
table, a sequence number (BLOCK_NUMBER), and the DATA for that BLOCK. My
current code creates new prepared statements for each DB access, so a
statement pooling connection is a must. ( this could probably be worked
around )

I actually prefixed all the file names with MySQL. Even though it's pure
JDBC and should work with any driver or database. I'll go clean that up
this weekend and put up a site with the code and the API docs. I'd be
interested to see what kind people have to say, and if the results of
any better tests people have cooked up.

-vito


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 17 22:02:17 2004
Return-Path: <lucene-user-return-7960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75435 invoked from network); 17 Apr 2004 22:02:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Apr 2004 22:02:17 -0000
Received: (qmail 98750 invoked by uid 500); 17 Apr 2004 22:01:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98726 invoked by uid 500); 17 Apr 2004 22:01:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98709 invoked from network); 17 Apr 2004 22:01:57 -0000
Received: from unknown (HELO frontend2.aha.ru) (213.189.198.215)
  by daedalus.apache.org with SMTP; 17 Apr 2004 22:01:57 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend2.aha.ru (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 278766322 for lucene-user@jakarta.apache.org; Sun, 18 Apr 2004 02:02:02 +0400
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: ANN: Lucene.Net NLS Pack released
Date: Sun, 18 Apr 2004 02:04:09 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQkx17MBg1a4gNPQ0WF7nn95qJrMA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <auto-000278766322@frontend2.aha.ru>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Lucene.Net National Language Support Pack (Lucene.Net.NLS Pack) is a
complete port of Jakarta Lucene Sandbox analyzers area
(http://cvs.apache.org/viewcvs/jakarta-lucene-sandbox/contributions/analyzer
s/).

Lucene.Net.NLS Pack include analysers for Brazilian, CJK, Chinese, Czech,
French and Dutch.
We plan to put Russian and German analysers into NLS Pack (thanx Otis for
idea).

Direct Lucene.Net.NLS Pack download page -
http://sourceforge.net/project/showfiles.php?group_id=87200&package_id=90780

Thank you.

Pasha Bizhan
http://www.LuceneDotNet.com - the free search engine for .NET




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 06:26:37 2004
Return-Path: <lucene-user-return-7961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11086 invoked from network); 19 Apr 2004 06:26:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 06:26:37 -0000
Received: (qmail 69593 invoked by uid 500); 19 Apr 2004 06:26:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69353 invoked by uid 500); 19 Apr 2004 06:26:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69336 invoked from network); 19 Apr 2004 06:26:08 -0000
Received: from unknown (HELO dev2.technohuman.com) (81.92.65.170)
  by daedalus.apache.org with SMTP; 19 Apr 2004 06:26:08 -0000
Received: from webmail.technohuman.com (localhost.localdomain [127.0.0.1])
	by dev2.technohuman.com (Postfix) with SMTP id 0832963DA9
	for <lucene-user@jakarta.apache.org>; Mon, 19 Apr 2004 08:25:34 +0200 (CEST)
Received: from 172.16.4.27
        (SquirrelMail authenticated user magnus)
        by webmail.technohuman.com with HTTP;
        Mon, 19 Apr 2004 08:25:34 +0200 (CEST)
Message-ID: <2868.172.16.4.27.1082355934.squirrel@webmail.technohuman.com>
In-Reply-To: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca>
Date: Mon, 19 Apr 2004 08:25:34 +0200 (CEST)
Subject: Re: Bridge with OpenOffice
From: "Magnus Johansson" <magnus@technohuman.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Reply-To: magnus@technohuman.com
User-Agent: SquirrelMail/1.4.2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes I have tried it and it seems to work ok.
I haven't really used it in a production environment
however.

There was some code here

http://www.gzlinux.org/docs/category/dev/java/doc2txt.pdf

it is however not there anymore, Google HTML version is however
avaialble at

http://66.102.9.104/search?q=cache:549doYEZTD4J:www.gzlinux.org/docs/category/dev/java/doc2txt.pdf+Appending+the+favoured+extension+to+the+origin+document+name&hl=en&ie=UTF-8


/magnus


> Anyone try what Joerg suggested here?
>
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6231
>
> sv
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 16:11:38 2004
Return-Path: <lucene-user-return-7962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88526 invoked from network); 19 Apr 2004 16:11:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 16:11:38 -0000
Received: (qmail 97667 invoked by uid 500); 19 Apr 2004 16:11:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97619 invoked by uid 500); 19 Apr 2004 16:11:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97604 invoked from network); 19 Apr 2004 16:11:22 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 19 Apr 2004 16:11:22 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3JGBOiI006059;
	Mon, 19 Apr 2004 12:11:24 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3JGBOF6006055;
	Mon, 19 Apr 2004 12:11:24 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 19 Apr 2004 12:11:24 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   <magnus@technohuman.com>
Subject: Re: Bridge with OpenOffice
In-Reply-To: <2868.172.16.4.27.1082355934.squirrel@webmail.technohuman.com>
Message-ID: <Pine.LNX.4.44.0404191158450.5661-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'll make a copy of the code available on the wiki before it disappears 
off the Web.

Now for some info on using OO on a production system:

http://www.oooforum.org/forum/viewtopic.php?t=2913&highlight=jurt

<summary src="Web, not my experience">OO works well (but is slow), but is 
not multi-threaded (the communication bridge is).</summary>

Quotes from end of 2003:

Kai Sommerfeld from Sun wrote:

Quote:
The answer is not a simple 'yes' or 'no'. It's more: 'partly'. There
are parts of the OOo API that are threadsafe, others are not. Newer
components are generally threadsafe. Components thare are mainly
wrappers for old Office code are mostly not. A main problem is that we
cannot state for sure which components are actually thread safe and
which are not. It's as worse as I say it here.

We're trying to solve the multithreading issues for one of the next
major releases of OOo. But this is definitely not an easy task,
especially, since rewriting all non-threadaware code is simply not an
option because of missing developer resources.

Juergen Schmidt from Sun wrote:

Quote:
If you want to use OO in a safe way you shouldn't use it multi
threaded. But we want to improve the server functionality of OO in
genral so that your described scenario should be possible.

Sorry, but currently you have to workaround this in your own application
and you should use OO single threaded. But as i said we are working on
this feature.

Niklas Nebel from Sun who seem to have success with some code running 
successfully as multithreaded, wrote:

Quote:
The document API functions use the SolarMutex, so you should be able to
use them from multiple threads without problems (with one call blocking
the next, of course). Listener callbacks might be a problem if handled
by different threads, but at least for the spreadsheet API I'm not aware
of any other problems.

Don't forget that every API call over a connection to a running office
is "multi-threaded", as the connection is handled by a different thread
from office user interactions.

sv

On Mon, 19 Apr 2004, Magnus Johansson wrote:

> Yes I have tried it and it seems to work ok.
> I haven't really used it in a production environment
> however.
> 
> There was some code here
> 
> http://www.gzlinux.org/docs/category/dev/java/doc2txt.pdf
> 
> it is however not there anymore, Google HTML version is however
> avaialble at
> 
> http://66.102.9.104/search?q=cache:549doYEZTD4J:www.gzlinux.org/docs/category/dev/java/doc2txt.pdf+Appending+the+favoured+extension+to+the+origin+document+name&hl=en&ie=UTF-8
> 
> 
> /magnus
> 
> 
> > Anyone try what Joerg suggested here?
> >
> > http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6231
> >
> > sv
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 20:00:15 2004
Return-Path: <lucene-user-return-7963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48007 invoked from network); 19 Apr 2004 20:00:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 20:00:14 -0000
Received: (qmail 10429 invoked by uid 500); 19 Apr 2004 19:59:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10404 invoked by uid 500); 19 Apr 2004 19:59:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10382 invoked from network); 19 Apr 2004 19:59:55 -0000
Received: from unknown (HELO smtp.ops.co.at) (194.152.182.4)
  by daedalus.apache.org with SMTP; 19 Apr 2004 19:59:55 -0000
Received: by smtp.ops.co.at (Postfix, from userid 65534)
	id BD6C623C0AB; Mon, 19 Apr 2004 21:59:58 +0200 (CEST)
Received: from ops.co.at (ts1.int.ops.co.at [172.27.1.101])
	by smtp.ops.co.at (Postfix) with ESMTP id 3345023C0A4
	for <lucene-user@jakarta.apache.org>; Mon, 19 Apr 2004 21:59:56 +0200 (CEST)
Message-ID: <4084301D.8080006@ops.co.at>
Date: Mon, 19 Apr 2004 22:01:33 +0200
From: Mario Ivankovits <mario.ivankovits@ops.co.at>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: de-de, de-at, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bridge with OpenOffice
References: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms000106090000080203090909"
X-Spam-Checker-Version: SpamAssassin 2.61 (1.212.2.1-2003-12-09-exp) on 
	smtp.ops.co.at
X-Spam-Level: 
X-Spam-Status: No, hits=0.7 required=5.0 tests=AWL,HTML_40_50,HTML_MESSAGE,
	HTML_TITLE_EMPTY,HTTP_WITH_EMAIL_IN_URL,J_CHICKENPOX_74,TW_PK 
	autolearn=no version=2.61
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------ms000106090000080203090909
Content-Type: multipart/alternative;
 boundary="------------000204010904010908030904"

This is a multi-part message in MIME format.
--------------000204010904010908030904
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Stephane James Vaucher wrote:

> Anyone try what Joerg suggested here?
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6231 
>
>  
>
Dont know what you would like to do, but if you simply would like to 
extract text, you could simply try this sniplet:

---snip---             JarFile jar = new JarFile(file, false);
       ZipEntry entry = jar.getEntry("content.xml");
       if (entry == null)
       {
           throw new IOException("content.xml missing in file: " + file);
       }
       InputStream is = jar.getInputStream(entry);

       XMLReader xr = 
XMLReaderFactory.createXMLReader("org.apache.crimson.parser.XMLReaderImpl"); 

       xr.setEntityResolver(new EntityResolver()
       {
           public InputSource resolveEntity(String publicId, String 
systemId) throws SAXException, IOException
           {
               if (systemId.toLowerCase().endsWith(".dtd"))
               {
                   StringReader stringInput = new StringReader(" ");
                   return new InputSource(stringInput);
               }
               else
               {
                   return null;
               }
           }
       });

       final StringBuffer sbText = new StringBuffer(10240);
       xr.setContentHandler(new ContentHandler()
       {
           public void skippedEntity(String name) throws SAXException
           {
           }

           public void setDocumentLocator(Locator locator)
           {
           }

           public void ignorableWhitespace(char ch[], int start, int 
length) throws SAXException
           {
           }

           public void processingInstruction(String target, String data) 
throws SAXException
           {
           }

           public void startDocument() throws SAXException
           {
           }

           public void startElement(String namespaceURI, String 
localName, String qName, Attributes atts) throws SAXException
           {
               if (qName.equals("text:p"))
               {
                   if (sbText.length() > 0 && 
sbText.charAt(sbText.length() - 1) != '\n')
                   {
                       sbText.append('\n');
                   }
               }
           }

           public void endPrefixMapping(String prefix) throws SAXException
           {
           }

           public void characters(char ch[], int start, int length) 
throws SAXException
           {
               sbText.append(ch, start, length);
           }

           public void endElement(String namespaceURI, String localName, 
String qName) throws SAXException
           {
           }

           public void endDocument() throws SAXException
           {
           }

           public void startPrefixMapping(String prefix, String uri) 
throws SAXException
           {
           }
       });

       InputSource source = new InputSource(is);
       source.setPublicId("");
       source.setSystemId("");
       xr.parse(source);

       System.err.println("TXT: " + sbText.toString());
---snip---

Ciao,
Mario

--------------000204010904010908030904
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title></title>
</head>
<body>
<div class="moz-text-flowed"
 style="font-family: -moz-fixed; font-size: 13px;" lang="x-western">Stephane
James Vaucher wrote:
<br>
<br>
<blockquote type="cite">Anyone try what Joerg suggested here?
  <br>
  <a class="moz-txt-link-freetext"
 href="http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&amp;msgNo=6231">http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&amp;msgNo=6231</a>
  <br>
&nbsp;
  <br>
  <br>
</blockquote>
Dont know what you would like to do, but if you simply would like to
extract text, you could simply try this sniplet:
<br>
<br>
---snip---&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JarFile jar = new JarFile(file, false);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ZipEntry entry = jar.getEntry("content.xml");
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (entry == null)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new IOException("content.xml missing in file: " +
file);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InputStream is = jar.getInputStream(entry);
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XMLReader xr =
XMLReaderFactory.createXMLReader("org.apache.crimson.parser.XMLReaderImpl");
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xr.setEntityResolver(new EntityResolver()
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public InputSource resolveEntity(String publicId, String
systemId) throws SAXException, IOException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (systemId.toLowerCase().endsWith(".dtd"))
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StringReader stringInput = new StringReader(" ");
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new InputSource(stringInput);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return null;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; final StringBuffer sbText = new StringBuffer(10240);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xr.setContentHandler(new ContentHandler()
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void skippedEntity(String name) throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void setDocumentLocator(Locator locator)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void ignorableWhitespace(char ch[], int start, int
length) throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void processingInstruction(String target, String
data) throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void startDocument() throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void startElement(String namespaceURI, String
localName, String qName, Attributes atts) throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (qName.equals("text:p"))
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (sbText.length() &gt; 0 &amp;&amp;
sbText.charAt(sbText.length() - 1) != '\n')
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sbText.append('\n');
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void endPrefixMapping(String prefix) throws
SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void characters(char ch[], int start, int length)
throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sbText.append(ch, start, length);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void endElement(String namespaceURI, String
localName, String qName) throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void endDocument() throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void startPrefixMapping(String prefix, String uri)
throws SAXException
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InputSource source = new InputSource(is);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; source.setPublicId("");
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; source.setSystemId("");
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xr.parse(source);
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.err.println("TXT: " + sbText.toString());
<br>
---snip---
<br>
<br>
Ciao,
<br>
Mario
<br>
</div>
</body>
</html>

--------------000204010904010908030904--

--------------ms000106090000080203090909
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIINDCC
AngwggHhoAMCAQICAwnn8zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAzMDUwOTEwNDQ0OVoXDTA0MDUwODEwNDQ0OVowQTEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjEeMBwGCSqGSIb3DQEJARYPbWFyaW9A
b3BzLmNvLmF0MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCg852ONeEMSN5yzAQckOHw
NiALx+tw7yp5hnw0y+XR5T0/fz7y4Ma3ENsY/qd/GMnIyuQWM9+0XCVQl4ZdbozfOekM52dJ
ofQL6UsCiclP+Ctg+xnVDW6EWNXr3HWxSqw7tG3zHdxbKAhoKooOVxtXlVRG7flr+2rS+TRD
BSmlkQIDAQABoywwKjAaBgNVHREEEzARgQ9tYXJpb0BvcHMuY28uYXQwDAYDVR0TAQH/BAIw
ADANBgkqhkiG9w0BAQQFAAOBgQCyQ4QFmuOxX0+9iNb+kIrmwP7Xx6wdYnjJhFsT+zsUWijw
lbBaB/Wv7fYFGGzX+qns0aIb7f6+si6N+lPT6VX2EB9cdvu75EYn4kkxOOAWUpCt7PsMIhwh
Mhsm9PhBcXppQyRvmrUsvIRVhcaTlpETGweluHfKfBzeNNqBG3p/tDCCAngwggHhoAMCAQIC
Awnn8zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4g
Q2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENl
cnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAw
MC44LjMwMB4XDTAzMDUwOTEwNDQ0OVoXDTA0MDUwODEwNDQ0OVowQTEfMB0GA1UEAxMWVGhh
d3RlIEZyZWVtYWlsIE1lbWJlcjEeMBwGCSqGSIb3DQEJARYPbWFyaW9Ab3BzLmNvLmF0MIGf
MA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCg852ONeEMSN5yzAQckOHwNiALx+tw7yp5hnw0
y+XR5T0/fz7y4Ma3ENsY/qd/GMnIyuQWM9+0XCVQl4ZdbozfOekM52dJofQL6UsCiclP+Ctg
+xnVDW6EWNXr3HWxSqw7tG3zHdxbKAhoKooOVxtXlVRG7flr+2rS+TRDBSmlkQIDAQABoyww
KjAaBgNVHREEEzARgQ9tYXJpb0BvcHMuY28uYXQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0B
AQQFAAOBgQCyQ4QFmuOxX0+9iNb+kIrmwP7Xx6wdYnjJhFsT+zsUWijwlbBaB/Wv7fYFGGzX
+qns0aIb7f6+si6N+lPT6VX2EB9cdvu75EYn4kkxOOAWUpCt7PsMIhwhMhsm9PhBcXppQyRv
mrUsvIRVhcaTlpETGweluHfKfBzeNNqBG3p/tDCCAzgwggKhoAMCAQICEGZFcrfMdPXPY3ZF
hNAukQEwDQYJKoZIhvcNAQEEBQAwgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJu
IENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcx
KDAmBgNVBAsTH0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1Ro
YXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJl
ZW1haWxAdGhhd3RlLmNvbTAeFw0wMDA4MzAwMDAwMDBaFw0wNDA4MjcyMzU5NTlaMIGSMQsw
CQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24x
DzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNV
BAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwgZ8wDQYJKoZIhvcNAQEBBQAD
gY0AMIGJAoGBAN4zMqZjxwklRT7SbngnZ4HF2ogZgpcO40QpimM1Km1wPPrcrvfudG8wvDOQ
f/k0caCjbZjxw0+iZdsN+kvx1t1hpfmFzVWaNRqdknWoJ67Ycvm6AvbXsJHeHOmr4BgDqHxD
QlBRh4M88Dm0m1SKE4f/s5udSWYALQmJ7JRr6aFpAgMBAAGjTjBMMCkGA1UdEQQiMCCkHjAc
MRowGAYDVQQDExFQcml2YXRlTGFiZWwxLTI5NzASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1Ud
DwQEAwIBBjANBgkqhkiG9w0BAQQFAAOBgQAxsUtHXfkBceX1U2xdedY9mMAmE2KBIqcS+CKV
6BtJtyd7BDm6/ObyJOuR+r3sDSo491BVqGz3Da1MG7wD9LXrokefbKIMWI0xQgkRbLAaadEr
ErJAXWr5edDqLiXdiuT82w0fnQLzWtvKPPZE6iZph39Ins6ln+eE2MliYq0FxjGCA1QwggNQ
AgEBMIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQH
EwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vy
dmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzACAwnn8zAJ
BgUrDgMCGgUAoIICDzAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEP
Fw0wNDA0MTkyMDAxMzNaMCMGCSqGSIb3DQEJBDEWBBTAmQ7rs/JcwBdgDcREndEDUrUDmzBS
BgkqhkiG9w0BCQ8xRTBDMAoGCCqGSIb3DQMHMA4GCCqGSIb3DQMCAgIAgDANBggqhkiG9w0D
AgIBQDAHBgUrDgMCBzANBggqhkiG9w0DAgIBKDCBqwYJKwYBBAGCNxAEMYGdMIGaMIGSMQsw
CQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24x
DzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNV
BAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzACAwnn8zCBrQYLKoZIhvcNAQkQ
AgsxgZ2ggZowgZIxCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNV
BAcTCUNhcGUgVG93bjEPMA0GA1UEChMGVGhhd3RlMR0wGwYDVQQLExRDZXJ0aWZpY2F0ZSBT
ZXJ2aWNlczEoMCYGA1UEAxMfUGVyc29uYWwgRnJlZW1haWwgUlNBIDIwMDAuOC4zMAIDCefz
MA0GCSqGSIb3DQEBAQUABIGAhyotBRowsrLqc0hY4aifLNN0fWjxj06ucOREq9XcldGDf5kL
huJTbTR7kNsXNrnHVE+ZgA5PmGzNKsucwD1YLt0ZmuvT89MsjJ1ZTvvZXUiR1M4560u+qX5w
7COoaboaLlzxOCPTnLNaHtopUvO8RucE8msOiJD3oKKNFFxQJVkAAAAAAAA=
--------------ms000106090000080203090909--


From lucene-user-return-7964-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 20:27:12 2004
Return-Path: <lucene-user-return-7964-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64291 invoked from network); 19 Apr 2004 20:27:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 20:27:11 -0000
Received: (qmail 50635 invoked by uid 500); 19 Apr 2004 20:26:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50610 invoked by uid 500); 19 Apr 2004 20:26:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50596 invoked from network); 19 Apr 2004 20:26:54 -0000
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by daedalus.apache.org with SMTP; 19 Apr 2004 20:26:54 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BFfM2-00065W-GE
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 08:26:58 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 22719-10 for <lucene-user@jakarta.apache.org>;
	Tue, 20 Apr 2004 08:26:50 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BFfLu-00065Q-3K
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 08:26:50 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Optimize crash
Date: Tue, 20 Apr 2004 08:26:49 +1200
User-Agent: KMail/1.6.1
References: <200404141944.29927.paul@waite.net.nz>
In-Reply-To: <200404141944.29927.paul@waite.net.nz>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404200826.49753.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear all,

I hate to be insistent, but I have a large live website with a growing,
un-optimizable Lucene index and which therefore has it's appointment
with destiny pencilled into The Diary of Doom on a date roughly
three weeks hence.

So if I'm doing something stupid, or there's a workaround, or someone
is already looking into this problem, *please* let me know. My alternative
is to spend two days re-indexing the archive, and then to just wait for the 
inevitable repeat of this problem, like Groundhog Day, which isn't a
particularly attractive option.

(NB: The original message is under the same subject line in the archive.)

Thanks.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 20:56:24 2004
Return-Path: <lucene-user-return-7965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85707 invoked from network); 19 Apr 2004 20:56:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 20:56:24 -0000
Received: (qmail 28605 invoked by uid 500); 19 Apr 2004 20:53:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28575 invoked by uid 500); 19 Apr 2004 20:53:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28525 invoked from network); 19 Apr 2004 20:53:36 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 19 Apr 2004 20:53:36 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3JKrfiI006537
	for <lucene-user@jakarta.apache.org>; Mon, 19 Apr 2004 16:53:42 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3JKrfwf006533
	for <lucene-user@jakarta.apache.org>; Mon, 19 Apr 2004 16:53:41 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 19 Apr 2004 16:53:41 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bridge with OpenOffice
In-Reply-To: <4084301D.8080006@ops.co.at>
Message-ID: <Pine.LNX.4.44.0404191651220.5661-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Actually, the objective would be to use OO to extract text from MSOffice 
formats. If I read your code correctly, your code should only work with OO 
as the docs are in xml. 

Thanks for the code for OO docs through,
sv

On Mon, 19 Apr 2004, Mario Ivankovits wrote:

> Stephane James Vaucher wrote:
> 
> > Anyone try what Joerg suggested here?
> > http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=6231 
> >
> >  
> >
> Dont know what you would like to do, but if you simply would like to 
> extract text, you could simply try this sniplet:
> 
> ---snip---             JarFile jar = new JarFile(file, false);
>        ZipEntry entry = jar.getEntry("content.xml");
>        if (entry == null)
>        {
>            throw new IOException("content.xml missing in file: " + file);
>        }
>        InputStream is = jar.getInputStream(entry);
> 
>        XMLReader xr = 
> XMLReaderFactory.createXMLReader("org.apache.crimson.parser.XMLReaderImpl"); 
> 
>        xr.setEntityResolver(new EntityResolver()
>        {
>            public InputSource resolveEntity(String publicId, String 
> systemId) throws SAXException, IOException
>            {
>                if (systemId.toLowerCase().endsWith(".dtd"))
>                {
>                    StringReader stringInput = new StringReader(" ");
>                    return new InputSource(stringInput);
>                }
>                else
>                {
>                    return null;
>                }
>            }
>        });
> 
>        final StringBuffer sbText = new StringBuffer(10240);
>        xr.setContentHandler(new ContentHandler()
>        {
>            public void skippedEntity(String name) throws SAXException
>            {
>            }
> 
>            public void setDocumentLocator(Locator locator)
>            {
>            }
> 
>            public void ignorableWhitespace(char ch[], int start, int 
> length) throws SAXException
>            {
>            }
> 
>            public void processingInstruction(String target, String data) 
> throws SAXException
>            {
>            }
> 
>            public void startDocument() throws SAXException
>            {
>            }
> 
>            public void startElement(String namespaceURI, String 
> localName, String qName, Attributes atts) throws SAXException
>            {
>                if (qName.equals("text:p"))
>                {
>                    if (sbText.length() > 0 && 
> sbText.charAt(sbText.length() - 1) != '\n')
>                    {
>                        sbText.append('\n');
>                    }
>                }
>            }
> 
>            public void endPrefixMapping(String prefix) throws SAXException
>            {
>            }
> 
>            public void characters(char ch[], int start, int length) 
> throws SAXException
>            {
>                sbText.append(ch, start, length);
>            }
> 
>            public void endElement(String namespaceURI, String localName, 
> String qName) throws SAXException
>            {
>            }
> 
>            public void endDocument() throws SAXException
>            {
>            }
> 
>            public void startPrefixMapping(String prefix, String uri) 
> throws SAXException
>            {
>            }
>        });
> 
>        InputSource source = new InputSource(is);
>        source.setPublicId("");
>        source.setSystemId("");
>        xr.parse(source);
> 
>        System.err.println("TXT: " + sbText.toString());
> ---snip---
> 
> Ciao,
> Mario
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 19 23:37:05 2004
Return-Path: <lucene-user-return-7966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88677 invoked from network); 19 Apr 2004 23:37:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Apr 2004 23:37:05 -0000
Received: (qmail 46019 invoked by uid 500); 19 Apr 2004 23:36:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45992 invoked by uid 500); 19 Apr 2004 23:36:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45977 invoked from network); 19 Apr 2004 23:36:44 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 19 Apr 2004 23:36:44 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz2.forethought.net with esmtp (Exim 4.30)
	id 1BFiJn-0007yS-Ne
	for lucene-user@jakarta.apache.org; Mon, 19 Apr 2004 17:36:51 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Bridge with OpenOffice
Date: Mon, 19 Apr 2004 17:38:18 -0600
User-Agent: KMail/1.5
References: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca> <4084301D.8080006@ops.co.at>
In-Reply-To: <4084301D.8080006@ops.co.at>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404191738.18396.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 19 April 2004 14:01, Mario Ivankovits wrote:
> Stephane James Vaucher wrote:
> > Anyone try what Joerg suggested here?
> > http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.a
> >pache.org&msgNo=6231
>
> Dont know what you would like to do, but if you simply would like to
> extract text, you could simply try this sniplet:

This leads to question I was thinking; it seems that originally this thread 
started by someone pointing that OO can be used as converter from other 
formats... but how about tokenizer for native OO documents? I have written 
full-featured converters from OO to (simplified) DocBook and HTML, and 
creating one for just tokenizing to be used by Lucene would be much easier. 
Even if it would tokenize into separate fields (document metadata, content, 
maybe bibliography separately etc), it'd be easy to do.

Would anyone find full-featured, customizable OpenOffice document tokenizer 
useful?

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 04:23:11 2004
Return-Path: <lucene-user-return-7967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88417 invoked from network); 20 Apr 2004 04:23:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 04:23:11 -0000
Received: (qmail 34874 invoked by uid 500); 20 Apr 2004 04:22:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34852 invoked by uid 500); 20 Apr 2004 04:22:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34830 invoked from network); 20 Apr 2004 04:22:44 -0000
Received: from unknown (HELO lakermmtao04.cox.net) (68.230.240.35)
  by daedalus.apache.org with SMTP; 20 Apr 2004 04:22:44 -0000
Received: from S5UAAK-PC ([68.100.137.44]) by lakermmtao04.cox.net
          (InterMail vM.6.01.03.02 201-2131-111-104-20040324) with ESMTP
          id <20040420042253.QIOC208.lakermmtao04.cox.net@S5UAAK-PC>
          for <lucene-user@jakarta.apache.org>;
          Tue, 20 Apr 2004 00:22:53 -0400
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bridge with OpenOffice
References: <Pine.LNX.4.44.0404191651220.5661-100000@mere.cirano.qc.ca>
Message-ID: <opr6qmgdovkh3zp5@smtp.east.cox.net>
From: Argyn <argyn@cox.net>
Organization: Association of Intelligent Creatures of the Universe
Content-Type: text/plain; format=flowed; charset=iso-8859-15
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Date: Tue, 20 Apr 2004 00:22:51 -0400
In-Reply-To: <Pine.LNX.4.44.0404191651220.5661-100000@mere.cirano.qc.ca>
User-Agent: Opera7.23/Win32 M2 build 3227
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've the same requirement. I used antiword, xlhtml and ppthtml on win2k. I 
called them with Runtime.exec(). There are still problems: all three hang 
up sometimes. Otherwise, it worked. I indexed several hunderds of 
thousands files in development mode. I never got into production.

Argyn


On Mon, 19 Apr 2004 16:53:41 -0400 (EDT), Stephane James Vaucher 
<vauchers@cirano.qc.ca> wrote:

> Actually, the objective would be to use OO to extract text from MSOffice
> formats. If I read your code correctly, your code should only work with 
> OO
> as the docs are in xml.
>
> Thanks for the code for OO docs through,
> sv
>
> On Mon, 19 Apr 2004, Mario Ivankovits wrote:
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 04:29:20 2004
Return-Path: <lucene-user-return-7968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92438 invoked from network); 20 Apr 2004 04:29:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 04:29:20 -0000
Received: (qmail 40777 invoked by uid 500); 20 Apr 2004 04:28:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40747 invoked by uid 500); 20 Apr 2004 04:28:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40731 invoked from network); 20 Apr 2004 04:28:53 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.41)
  by daedalus.apache.org with SMTP; 20 Apr 2004 04:28:53 -0000
Received: (qmail 10695 invoked from network); 20 Apr 2004 04:29:03 -0000
Received: from unknown (HELO peterbecker.de) (203.173.21.170)
  by mail.iinet.net.au with SMTP; 20 Apr 2004 04:29:02 -0000
Message-ID: <4084A622.8020102@peterbecker.de>
Date: Tue, 20 Apr 2004 14:25:06 +1000
From: Peter Becker <peter@peterbecker.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bridge with OpenOffice
References: <Pine.LNX.4.44.0404161808360.10235-100000@mere.cirano.qc.ca> <4084301D.8080006@ops.co.at> <200404191738.18396.tatu@hypermall.net>
In-Reply-To: <200404191738.18396.tatu@hypermall.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We did a simple one a while ago. Could probably be a bit more 
sophisticated, but it seems to do it job on the little bit of testing we 
did.

See 
http://cvs.sourceforge.net/viewcvs.py/toscanaj/docco/source/org/tockit/docco/documenthandler/OpenOfficeDocumentHandler.java?rev=1.4&view=auto

HTH,
  Peter


PS: sorry for the broken whitespace -- I just noticed that myself.


Tatu Saloranta wrote:

>On Monday 19 April 2004 14:01, Mario Ivankovits wrote:
>  
>
>>Stephane James Vaucher wrote:
>>    
>>
>>>Anyone try what Joerg suggested here?
>>>http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.a
>>>pache.org&msgNo=6231
>>>      
>>>
>>Dont know what you would like to do, but if you simply would like to
>>extract text, you could simply try this sniplet:
>>    
>>
>
>This leads to question I was thinking; it seems that originally this thread 
>started by someone pointing that OO can be used as converter from other 
>formats... but how about tokenizer for native OO documents? I have written 
>full-featured converters from OO to (simplified) DocBook and HTML, and 
>creating one for just tokenizing to be used by Lucene would be much easier. 
>Even if it would tokenize into separate fields (document metadata, content, 
>maybe bibliography separately etc), it'd be easy to do.
>
>Would anyone find full-featured, customizable OpenOffice document tokenizer 
>useful?
>
>-+ Tatu +-
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 08:41:03 2004
Return-Path: <lucene-user-return-7969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62693 invoked from network); 20 Apr 2004 08:41:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 08:41:03 -0000
Received: (qmail 87420 invoked by uid 500); 20 Apr 2004 08:40:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87390 invoked by uid 500); 20 Apr 2004 08:40:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87377 invoked from network); 20 Apr 2004 08:40:31 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 20 Apr 2004 08:40:31 -0000
Received: from newsmonster.org (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3K8eltG015737
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 01:40:48 -0700
Message-ID: <4084E209.7060500@newsmonster.org>
Date: Tue, 20 Apr 2004 01:40:41 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Does a RAMDirectory ever need to merge segments...  (performance
 issue)
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig1DB07C2BA6D56319C0B7A1E6"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig1DB07C2BA6D56319C0B7A1E6
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I've been benchmarking our indexer to find out if I can squeeze any more 
performance out of it.

I noticed one problem with RAMDirectory... I'm storing documents in 
memory and then writing them to disk every once in a while. ...

IndexWriter.maybeMergeSegments is taking up 5% of total runtime. 
DocumentWriter.addDocument is taking up another 17% of total runtime.

Notice that this doesn't == 100% becuase there are other tasks taking up 
CPU before and after Lucene is called.

Anyway... I don't see why RAMDirectory is trying to merge segments.  Is 
there anyway to prevent this?  I could just store them in a big 
ArrayList until I'm ready to write them to a disk index but I'm not sure 
how efficient this will be.

Anyone run into this before?

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig1DB07C2BA6D56319C0B7A1E6
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAhOIL6E2NBJnxRBIRApp5AKDN+6nHf3iYQuvQdD/ELKIP8CBuhACgsC/t
VjGnuqkCKp1jvYEPIY6gf7E=
=eMVb
-----END PGP SIGNATURE-----

--------------enig1DB07C2BA6D56319C0B7A1E6--

From lucene-user-return-7970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 16:08:35 2004
Return-Path: <lucene-user-return-7970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69350 invoked from network); 20 Apr 2004 16:08:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 16:08:35 -0000
Received: (qmail 94692 invoked by uid 500); 20 Apr 2004 16:08:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94634 invoked by uid 500); 20 Apr 2004 16:08:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94618 invoked from network); 20 Apr 2004 16:08:23 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 20 Apr 2004 16:08:23 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3KG8PiI009401
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 12:08:25 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3KG8PSY009397
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 12:08:25 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 20 Apr 2004 12:08:25 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Using Runtime.exec to extract text [Was: Bridge with OO]
In-Reply-To: <opr6qmgdovkh3zp5@smtp.east.cox.net>
Message-ID: <Pine.LNX.4.44.0404201205140.9286-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In case you don't know. Using Runtime.exec() on windows, you need to 
consume the output streams of the application will block. This is not the 
case on linux.

http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html

In short:
Because some native platforms only provide limited buffer size for 
standard input and output streams, failure to promptly write the input 
stream or read the output stream of the subprocess may cause the 
subprocess to block, and even deadlock.

HTH,
sv

On Tue, 20 Apr 2004, Argyn wrote:

> I've the same requirement. I used antiword, xlhtml and ppthtml on win2k. I 
> called them with Runtime.exec(). There are still problems: all three hang 
> up sometimes. Otherwise, it worked. I indexed several hunderds of 
> thousands files in development mode. I never got into production.
> 
> Argyn
> 
> 
> On Mon, 19 Apr 2004 16:53:41 -0400 (EDT), Stephane James Vaucher 
> <vauchers@cirano.qc.ca> wrote:
> 
> > Actually, the objective would be to use OO to extract text from MSOffice
> > formats. If I read your code correctly, your code should only work with 
> > OO
> > as the docs are in xml.
> >
> > Thanks for the code for OO docs through,
> > sv
> >
> > On Mon, 19 Apr 2004, Mario Ivankovits wrote:
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 17:05:19 2004
Return-Path: <lucene-user-return-7971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13216 invoked from network); 20 Apr 2004 17:05:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 17:05:19 -0000
Received: (qmail 70416 invoked by uid 500); 20 Apr 2004 17:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70392 invoked by uid 500); 20 Apr 2004 17:04:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70341 invoked from network); 20 Apr 2004 17:04:50 -0000
Received: from unknown (HELO mailr-1.tiscali.it) (212.123.84.81)
  by daedalus.apache.org with SMTP; 20 Apr 2004 17:04:50 -0000
Received: from ppp-82-84-156-232.cust-adsl.tiscali.it (HELO ARIEL) (82.84.156.232)
  by mailr-1.tiscali.it with SMTP; 20 Apr 2004 19:04:53 +0200
X-BrightmailFiltered: true
Message-ID: <098c01c426f9$98430de0$6e02a8c0@ARIEL>
From: "Francesco Bellomi" <fbellomi@libero.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Locking problems with NFS
Date: Tue, 20 Apr 2004 19:04:50 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Lucene users,

we are experiencing some difficulties in using Lucene with a NFS filesystem.
Basically, locking seems not to work properly, since it appears that
attempted concurring writing on the index (from different VMs) are not
blocked, and this often causes the index to be corrupted.

I found a reference to this topic in the archives:
http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apac
he.org&msgId=784959

[Doug Cutting]
> So long as all access is read-only, there should not be a problem.  Keep
> in mind however that lock files are known to not work correctly over NFS.

Does anybody have a solution for this problem? Does anyone have some
suggestions about the implementation of some alternative approach for
locking, in order to make Lucene compatible with NFS?

We are using 1.4rc2.

Thanks in advance,
Francesco


-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 18:10:23 2004
Return-Path: <lucene-user-return-7972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57116 invoked from network); 20 Apr 2004 18:10:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 18:10:23 -0000
Received: (qmail 39732 invoked by uid 500); 20 Apr 2004 18:10:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39703 invoked by uid 500); 20 Apr 2004 18:10:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39688 invoked from network); 20 Apr 2004 18:10:08 -0000
Received: from unknown (HELO mail3.fanniemae.com) (198.204.134.64)
  by daedalus.apache.org with SMTP; 20 Apr 2004 18:10:08 -0000
Received: from fm-mailfw1b.fanniemae.com (xntpdtimehost [198.204.133.208])
	by mail3.fanniemae.com (8.11.7p1+Sun/8.11.7) with SMTP id i3KIACx28487
	for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004 14:10:12 -0400 (EDT)
Received: from 198.204.145.131 by fm-mailfw1b.fanniemae.com with ESMTP (
 Tumbleweed MMS SMTP Relay (MMS v4.7)); Tue, 20 Apr 2004 14:10:11 -0400
X-Server-Uuid: 611fd078-1d0c-11d4-90c7-00508bcfbe58
X-FNMA: PMX4-PROD
Received: from exrsow01.fanniemae.com (exrsow01 [10.19.180.7]) by
 psysadm-mail02b.fanniemae.com (Switch-3.1.3/Switch-3.1.0) with ESMTP id
 i3KIA9IS019438 for <lucene-user@jakarta.apache.org>; Tue, 20 Apr 2004
 14:10:10 -0400 (EDT)
Received: from EXVC.fanniemae.com ([10.19.180.5]) by
 exrsow01.fanniemae.com with Microsoft SMTPSVC(5.0.2195.6713); Tue, 20
 Apr 2004 14:10:09 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Using Runtime.exec to extract text [Was: Bridge with OO]
Date: Tue, 20 Apr 2004 14:10:09 -0400
Message-ID: <220CA662DD122746BF4C863ECB3A4B309AC99E@EXVC.fanniemae.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using Runtime.exec to extract text [Was: Bridge with OO]
Thread-Index: AcQm8bpUt2+6OsQlQsmSoqQ7nL4NbwAEIRUA
From: "Kuketayev, Argyn" <argyn_kuketayev@fanniemae.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Apr 2004 18:10:09.0591 (UTC)
 FILETIME=[B78A0470:01C42702]
X-WSS-ID: 6C9BB809500085-01-01
Content-Type: text/plain; 
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Runtime.exec() works fine for me. The issue is with these tools, they
hang up on certain files. You can launch them in command line and they
don't crash but freeze. Most files are processed well. So, the only way
to deal with this is to destroy the process if it takes "too long" or
identify somehow that it's "frozen".

> -----Original Message-----
> From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]=20
> Sent: Tuesday, April 20, 2004 12:08 PM
> To: Lucene Users List
> Subject: Using Runtime.exec to extract text [Was: Bridge with OO]
>=20
>=20
> In case you don't know. Using Runtime.exec() on windows, you need to=20
> consume the output streams of the application will block.=20
> This is not the=20
> case on linux.
>=20
> http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html
>=20
> In short:
> Because some native platforms only provide limited buffer size for=20
> standard input and output streams, failure to promptly write=20
> the input=20
> stream or read the output stream of the subprocess may cause the=20
> subprocess to block, and even deadlock.
>=20
> HTH,
> sv
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 18:25:14 2004
Return-Path: <lucene-user-return-7973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68064 invoked from network); 20 Apr 2004 18:25:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 18:25:13 -0000
Received: (qmail 79017 invoked by uid 500); 20 Apr 2004 18:24:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78997 invoked by uid 500); 20 Apr 2004 18:24:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78981 invoked from network); 20 Apr 2004 18:24:56 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 20 Apr 2004 18:24:56 -0000
Received: (qmail 9661 invoked by uid 89); 20 Apr 2004 18:25:01 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 20 Apr 2004 18:25:00 -0000
Message-ID: <40856AF0.5030708@apache.org>
Date: Tue, 20 Apr 2004 11:24:48 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Locking problems with NFS
References: <098c01c426f9$98430de0$6e02a8c0@ARIEL>
In-Reply-To: <098c01c426f9$98430de0$6e02a8c0@ARIEL>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Francesco Bellomi wrote:
> we are experiencing some difficulties in using Lucene with a NFS filesystem.
> Basically, locking seems not to work properly, since it appears that
> attempted concurring writing on the index (from different VMs) are not
> blocked, and this often causes the index to be corrupted.
> 
> Does anybody have a solution for this problem? Does anyone have some
> suggestions about the implementation of some alternative approach for
> locking, in order to make Lucene compatible with NFS?

I just found the following article, which might point the way:

http://www.spinnaker.de/linux/nfs-locking.html

FSDirectory.lock currently implements what this article calls 
"dotlocking".  One can implement fcntl() locking using nio, but this 
requires a 1.4 JVM, which Lucene does not (yet).

http://java.sun.com/j2se/1.4.2/docs/api/java/nio/channels/FileChannel.html#tryLock()

A couple of alternatives:

1. One could implement a 1.4-only subclass of FSDirectory in the Sandbox 
that implements dotlocking plus fcntl() locking.

2. We could add this directly into FSDirectory so that it will only 
compile in 1.4+ JDKs, but that it will run in earlier JDKs by only 
performing fcntl() locking when in a 1.4+ JVM.  Some folks would complain.

Thoughts?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 18:45:35 2004
Return-Path: <lucene-user-return-7974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84051 invoked from network); 20 Apr 2004 18:45:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 18:45:35 -0000
Received: (qmail 39074 invoked by uid 500); 20 Apr 2004 18:45:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39031 invoked by uid 500); 20 Apr 2004 18:45:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38957 invoked from network); 20 Apr 2004 18:45:03 -0000
Received: from unknown (HELO mailr-1.tiscali.it) (212.123.84.81)
  by daedalus.apache.org with SMTP; 20 Apr 2004 18:45:03 -0000
Received: from ppp-82-84-156-232.cust-adsl.tiscali.it (HELO ARIEL) (82.84.156.232)
  by mailr-1.tiscali.it with SMTP; 20 Apr 2004 20:45:07 +0200
X-BrightmailFiltered: true
Message-ID: <0bba01c42707$99101980$6e02a8c0@ARIEL>
From: "Francesco Bellomi" <fbellomi@libero.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <098c01c426f9$98430de0$6e02a8c0@ARIEL> <40856AF0.5030708@apache.org>
Subject: Re: Locking problems with NFS
Date: Tue, 20 Apr 2004 20:45:04 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug, thanks for your suggestions!

I will implement your solution and make it public.
We already use a 1.4 JVM, so we have no problems with that.

The only problem is that, as lucene 1.4rc2, FSDirectory is 'final'; I would
go for the subclassing solution if you can make it not final; otherwise, if
someone has good arguments for the single 'fat' FSDirectory solution, just
let me know it.
In fact, a third architectural approach would be to define an API for
"pluggable" lock implementations: IMHO that would be more robust to changes
in the Directory interface and implementations.

Thanks again!
Francesco

Doug Cutting <cutting@apache.org> wrote:
> Francesco Bellomi wrote:
>> we are experiencing some difficulties in using Lucene with a NFS
>> filesystem. Basically, locking seems not to work properly, since it
>> appears that
>> attempted concurring writing on the index (from different VMs) are
>> not
>> blocked, and this often causes the index to be corrupted.
>>
>> Does anybody have a solution for this problem? Does anyone have some
>> suggestions about the implementation of some alternative approach for
>> locking, in order to make Lucene compatible with NFS?
>
> I just found the following article, which might point the way:
>
> http://www.spinnaker.de/linux/nfs-locking.html
>
> FSDirectory.lock currently implements what this article calls
> "dotlocking".  One can implement fcntl() locking using nio, but this
> requires a 1.4 JVM, which Lucene does not (yet).
>
>
http://java.sun.com/j2se/1.4.2/docs/api/java/nio/channels/FileChannel.html#t
ryLock()
>
> A couple of alternatives:
>
> 1. One could implement a 1.4-only subclass of FSDirectory in the
> Sandbox
> that implements dotlocking plus fcntl() locking.
>
> 2. We could add this directly into FSDirectory so that it will only
> compile in 1.4+ JDKs, but that it will run in earlier JDKs by only
> performing fcntl() locking when in a 1.4+ JVM.  Some folks would
> complain.
>
> Thoughts?
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 20 19:00:33 2004
Return-Path: <lucene-user-return-7975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95224 invoked from network); 20 Apr 2004 19:00:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Apr 2004 19:00:33 -0000
Received: (qmail 79154 invoked by uid 500); 20 Apr 2004 19:00:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79134 invoked by uid 500); 20 Apr 2004 19:00:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79088 invoked from network); 20 Apr 2004 19:00:16 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 20 Apr 2004 19:00:16 -0000
Received: (qmail 57301 invoked by uid 89); 20 Apr 2004 19:00:20 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 20 Apr 2004 19:00:20 -0000
Message-ID: <40857337.9050805@apache.org>
Date: Tue, 20 Apr 2004 12:00:07 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Locking problems with NFS
References: <098c01c426f9$98430de0$6e02a8c0@ARIEL> <40856AF0.5030708@apache.org> <0bba01c42707$99101980$6e02a8c0@ARIEL>
In-Reply-To: <0bba01c42707$99101980$6e02a8c0@ARIEL>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Francesco Bellomi wrote:
> The only problem is that, as lucene 1.4rc2, FSDirectory is 'final'.

Please submit a patch to lucene-dev to make FSDirectory non-final.

> In fact, a third architectural approach would be to define an API for
> "pluggable" lock implementations: IMHO that would be more robust to changes
> in the Directory interface and implementations.

If you have a proposal, submit a patch to lucene-dev to make locking 
pluggable.

FYI, I just ran across another NFS-safe locking approach:

#    In NFS, the O_CREAT|O_EXCL isn't guaranteed to be atomic.
#    So we create a temp file that is probably unique in space
#    and time ($folder.lock.$time.$pid.$host).
#    Then we use link to create the real lock file. Since link
#    is atomic across nfs, this works.

This is from:

http://search.cpan.org/src/MARKOV/Mail-Box-2.053/lib/Mail/Box/Locker/NFS.pm

Unfortunately links are not supported by Java's io APIs, so I think the 
dotlock+fcntl() is probably best for Lucene.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 12:08:44 2004
Return-Path: <lucene-user-return-7976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52014 invoked from network); 21 Apr 2004 12:08:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 12:08:44 -0000
Received: (qmail 15135 invoked by uid 500); 21 Apr 2004 12:08:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15095 invoked by uid 500); 21 Apr 2004 12:08:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15072 invoked from network); 21 Apr 2004 12:08:34 -0000
Received: from unknown (HELO redhat.sirma.bg) (62.213.161.130)
  by daedalus.apache.org with SMTP; 21 Apr 2004 12:08:34 -0000
Received: from ROSENM (rossenm.sirma.int [192.168.128.33])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id i3LC9BOn003021
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 15:09:12 +0300
Message-ID: <05c301c42799$4c97c1b0$2180a8c0@ROSENM>
From: "Rosen Marinov" <rosenm@sirma.bg>
To: <lucene-user@jakarta.apache.org>
Subject: escaping characters
Date: Wed, 21 Apr 2004 15:08:03 +0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_05C0_01C427B2.71CD2BF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Scanned: by Sirma Antivirus System             
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_05C0_01C427B2.71CD2BF0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

Hi all,
I am usung folowing query to find exact match document with title: =
Abramovich says Chelsea win showed "Russian character" .
In both cases with/without escaping " character, and all others form =
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
i recieve these exceptions:


CASE 1 - without escaping:
Query =3D=3D ((TITLE:(["Abramovich says Chelsea win showed "Russian =
character"" TO "Abramovich says Chelsea win showed "Russian =
character""]))
org.apache.lucene.queryParser.ParseException: Encountered =
"character\"\""=20
Was expecting:
    "]" ...

CASE 2 - with escaping:
Query =3D=3D (TITLE:(["Abramovich says Chelsea win showed \"Russian =
character\"" TO "Abramovich says Chelsea win showed \"Russian =
character\""]))
org.apache.lucene.queryParser.ParseException: Encountered =
"character\\\"\""
Was expecting:
    "]" ...

Question 1:
Where is the problem? (i am usung SimpleAnalyzer, is this true?)

Question 2:
Is there more sly way to get the doc with exact maching this title? (for =
info: my titles are unique)

Pls answer me in both questions.

Best regards!

Rosen
------=_NextPart_000_05C0_01C427B2.71CD2BF0--



From lucene-user-return-7977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 13:29:53 2004
Return-Path: <lucene-user-return-7977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12110 invoked from network); 21 Apr 2004 13:29:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 13:29:53 -0000
Received: (qmail 11022 invoked by uid 500); 21 Apr 2004 13:29:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10996 invoked by uid 500); 21 Apr 2004 13:29:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10925 invoked from network); 21 Apr 2004 13:29:22 -0000
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by daedalus.apache.org with SMTP; 21 Apr 2004 13:29:22 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Wed, 21 Apr 2004 09:29:22 -0400
Message-Id: <s0863ef2.087@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Wed, 21 Apr 2004 09:29:02 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Does a RAMDirectory ever need to merge segments... 
	(performanceissue)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've always wondered about this too.  To put it another way, how does
mergeFactor affect an IndexWriter backed by a RAMDirectory?  Can I set
mergeFactor to the highest possible value (given the machine's RAM) in
order to avoid merging segments?

>>> "Kevin A. Burton" <burton@newsmonster.org> 04/20/04 04:40AM >>>
I've been benchmarking our indexer to find out if I can squeeze any
more 
performance out of it.

I noticed one problem with RAMDirectory... I'm storing documents in 
memory and then writing them to disk every once in a while. ...

IndexWriter.maybeMergeSegments is taking up 5% of total runtime. 
DocumentWriter.addDocument is taking up another 17% of total runtime.

Notice that this doesn't == 100% becuase there are other tasks taking
up 
CPU before and after Lucene is called.

Anyway... I don't see why RAMDirectory is trying to merge segments.  Is

there anyway to prevent this?  I could just store them in a big 
ArrayList until I'm ready to write them to a disk index but I'm not
sure 
how efficient this will be.

Anyone run into this before?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 14:01:56 2004
Return-Path: <lucene-user-return-7978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30726 invoked from network); 21 Apr 2004 14:01:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 14:01:56 -0000
Received: (qmail 96808 invoked by uid 500); 21 Apr 2004 14:01:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96782 invoked by uid 500); 21 Apr 2004 14:01:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96758 invoked from network); 21 Apr 2004 14:01:45 -0000
Received: from unknown (HELO redhat.sirma.bg) (62.213.161.130)
  by daedalus.apache.org with SMTP; 21 Apr 2004 14:01:45 -0000
Received: from ROSENM (rossenm.sirma.int [192.168.128.33])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id i3LE2NOn012013
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 17:02:25 +0300
Message-ID: <060901c427a9$1d632690$2180a8c0@ROSENM>
From: "Rosen Marinov" <rosenm@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: query
Date: Wed, 21 Apr 2004 17:01:16 +0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0606_01C427C2.422FBCE0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Scanned: by Sirma Antivirus System             
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0606_01C427C2.422FBCE0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

Does it query work:   "my name is \"Rosen\""?
------=_NextPart_000_0606_01C427C2.422FBCE0--



From lucene-user-return-7979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 14:05:18 2004
Return-Path: <lucene-user-return-7979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31959 invoked from network); 21 Apr 2004 14:05:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 14:05:18 -0000
Received: (qmail 4018 invoked by uid 500); 21 Apr 2004 14:05:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3988 invoked by uid 500); 21 Apr 2004 14:05:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3975 invoked from network); 21 Apr 2004 14:05:07 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 21 Apr 2004 14:05:07 -0000
Received: (qmail 20907 invoked from network); 21 Apr 2004 14:05:06 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.31.139])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 21 Apr 2004 14:05:06 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id DA45CA89
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 16:05:05 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: Searcher not aware of index changes
Date: Wed, 21 Apr 2004 16:05:05 +0200
User-Agent: KMail/1.6.2
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <200404211605.05577.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

My Searcher's instance it not aware of changes to the index. I even create a 
new instance but it seems only a complete restart does help(?):

indexSearcher = new IndexSearcher(IndexReader.open("index"));

Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 14:21:39 2004
Return-Path: <lucene-user-return-7980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41006 invoked from network); 21 Apr 2004 14:21:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 14:21:39 -0000
Received: (qmail 41854 invoked by uid 500); 21 Apr 2004 14:21:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41805 invoked by uid 500); 21 Apr 2004 14:21:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41732 invoked from network); 21 Apr 2004 14:21:16 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 21 Apr 2004 14:21:16 -0000
Received: (cpmta 6080 invoked from network); 21 Apr 2004 07:21:17 -0700
Received: from 128.143.184.166 (HELO ?128.143.184.166?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 21 Apr 2004 07:21:17 -0700
X-Sent: 21 Apr 2004 14:21:17 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <060901c427a9$1d632690$2180a8c0@ROSENM>
References: <060901c427a9$1d632690$2180a8c0@ROSENM>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2847F566-939F-11D8-A92A-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: query
Date: Wed, 21 Apr 2004 10:21:19 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 21, 2004, at 10:01 AM, Rosen Marinov wrote:
> Does it query work:   "my name is \"Rosen\""?

http://wiki.apache.org/jakarta-lucene/AnalysisParalysis

Short answer: it depends.

Questions for you to answer:
What field type and analyzer did you use during indexing?  What 
analyzer used with QueryParser?  What does the generated Query.toString 
return?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 16:18:42 2004
Return-Path: <lucene-user-return-7981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12969 invoked from network); 21 Apr 2004 16:18:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 16:18:42 -0000
Received: (qmail 80202 invoked by uid 500); 21 Apr 2004 16:18:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80174 invoked by uid 500); 21 Apr 2004 16:18:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80155 invoked from network); 21 Apr 2004 16:18:25 -0000
Received: from unknown (HELO redhat.sirma.bg) (62.213.161.130)
  by daedalus.apache.org with SMTP; 21 Apr 2004 16:18:25 -0000
Received: from ROSENM (rossenm.sirma.int [192.168.128.33])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id i3LGJ4On020978
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 19:19:05 +0300
Message-ID: <065001c427bc$34a6d460$2180a8c0@ROSENM>
From: "Rosen Marinov" <rosenm@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <060901c427a9$1d632690$2180a8c0@ROSENM> <2847F566-939F-11D8-A92A-000393A564E6@ehatchersolutions.com>
Subject: Re: query
Date: Wed, 21 Apr 2004 19:17:55 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Scanned: by Sirma Antivirus System             
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Short answer: it depends.
> 
> Questions for you to answer:
> What field type and analyzer did you use during indexing?  What 
> analyzer used with QueryParser?  What does the generated Query.toString 
> return?

in both cases SimpleAnalyzer
QueryParser.parse("\"abc\"") throws an exception and i can't see what does
Query.toString return in this case

what analizer should i use if i want to execute folowing queries:
   simple key word seach (+bush -president , etc)
   range queries including " characters in searching values

thank you



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 17:20:50 2004
Return-Path: <lucene-user-return-7982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51562 invoked from network); 21 Apr 2004 17:20:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 17:20:50 -0000
Received: (qmail 4667 invoked by uid 500); 21 Apr 2004 17:20:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4622 invoked by uid 500); 21 Apr 2004 17:20:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4596 invoked from network); 21 Apr 2004 17:20:36 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 21 Apr 2004 17:20:36 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3LHKdr04608
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 13:20:39 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 21 Apr 2004 13:20:39 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searcher not aware of index changes
In-Reply-To: <200404211605.05577.lucene@nitwit.de>
Message-ID: <Pine.LNX.4.33.0404211319270.4342-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is not normal behaviour. Normally using a new IndexSearcher should
reflect the modified state of your index. Could you post a more
informative bit of code?

sv

On Wed, 21 Apr 2004 lucene@nitwit.de wrote:

> Hi!
>
> My Searcher's instance it not aware of changes to the index. I even create a
> new instance but it seems only a complete restart does help(?):
>
> indexSearcher = new IndexSearcher(IndexReader.open("index"));
>
> Timo
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 18:41:35 2004
Return-Path: <lucene-user-return-7983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95891 invoked from network); 21 Apr 2004 18:41:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 18:41:34 -0000
Received: (qmail 19030 invoked by uid 500); 21 Apr 2004 18:41:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18992 invoked by uid 500); 21 Apr 2004 18:41:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18923 invoked from network); 21 Apr 2004 18:41:03 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 21 Apr 2004 18:41:03 -0000
Received: (qmail 25637 invoked from network); 21 Apr 2004 18:41:06 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.93.31.139])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 21 Apr 2004 18:41:06 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id D7D46C80
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 20:41:13 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Searcher not aware of index changes
Date: Wed, 21 Apr 2004 20:41:12 +0200
User-Agent: KMail/1.6.2
References: <Pine.LNX.4.33.0404211319270.4342-100000@hercule.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.33.0404211319270.4342-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404212041.13242.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 21 April 2004 19:20, Stephane James Vaucher wrote:
> This is not normal behaviour. Normally using a new IndexSearcher should
> reflect the modified state of your index. Could you post a more
> informative bit of code?

BTW Why can't Lucene care for it itself?


Well, according to my logging it does create a new instance. I use only one 
instance of SessoinFacade:

public class SearchFacade extends Observable
{
	protected class IndexObserver implements Observer
	{
		private final Log log = LogFactory.getLog(getClass());
		
		public Searcher indexSearcher;

		public IndexObserver()
		{
			newSearcher();	// init
		}
		
		public void update(Observable o, Object arg)
		{
			log.debug("Index has changed, creating new Searcher" );
			newSearcher();
		}
		
		private void newSearcher()
		{
			try
			{
				indexSearcher = new 
IndexSearcher(IndexReader.open(Configuration.LuceneIndex.MAIN));
			}
			catch (IOException e)
			{
				log.error("Could not instantiate searcher: " + e);
			}
		}

		public Searcher getIndexSearcher()
		{
			return indexSearcher;
		}
	}

	private IndexObserver indexObserver;
	
	public SearchFacade()
	{
		addObserver(indexObserver = new IndexObserver());
	}

	public void createIndex()
	{
		...
		setChanged();		// index has changed
		notifyObservers();
	}
	
	public Hits search(String query)
	{
		Searcher searcher = indexObserver.getIndexSearcher();
	}

}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 21 19:48:56 2004
Return-Path: <lucene-user-return-7984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37241 invoked from network); 21 Apr 2004 19:48:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Apr 2004 19:48:56 -0000
Received: (qmail 53667 invoked by uid 500); 21 Apr 2004 19:48:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53644 invoked by uid 500); 21 Apr 2004 19:48:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53624 invoked from network); 21 Apr 2004 19:48:38 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 21 Apr 2004 19:48:38 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3LJmhm05838
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 15:48:43 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 21 Apr 2004 15:48:43 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searcher not aware of index changes
In-Reply-To: <200404212041.13242.lucene@nitwit.de>
Message-ID: <Pine.LNX.4.33.0404211535380.4342-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Normally the code should work, iif your you don't keep references to the
old Searcher (and not try cacheing it). Make sure you aren't doing this by
mistake.

For the design of your facade, you could always implement Searchable and
do the delegation to the up-to-date instance of IndexSearcher.

Quick comment: you should call .close() on your searcher before removing
the reference. If this causes exceptions in future searches, it would
indicate incorrect cacheing.

HTH,
sv

On Wed, 21 Apr 2004 lucene@nitwit.de wrote:

> On Wednesday 21 April 2004 19:20, Stephane James Vaucher wrote:
> > This is not normal behaviour. Normally using a new IndexSearcher should
> > reflect the modified state of your index. Could you post a more
> > informative bit of code?
>
> BTW Why can't Lucene care for it itself?
>
>
> Well, according to my logging it does create a new instance. I use only one
> instance of SessoinFacade:
>
> public class SearchFacade extends Observable
> {
> 	protected class IndexObserver implements Observer
> 	{
> 		private final Log log = LogFactory.getLog(getClass());
>
> 		public Searcher indexSearcher;
>
> 		public IndexObserver()
> 		{
> 			newSearcher();	// init
> 		}
>
> 		public void update(Observable o, Object arg)
> 		{
> 			log.debug("Index has changed, creating new Searcher" );
> 			newSearcher();
> 		}
>
> 		private void newSearcher()
> 		{
> 			try
> 			{
> 				indexSearcher = new
> IndexSearcher(IndexReader.open(Configuration.LuceneIndex.MAIN));
> 			}
> 			catch (IOException e)
> 			{
> 				log.error("Could not instantiate searcher: " + e);
> 			}
> 		}
>
> 		public Searcher getIndexSearcher()
> 		{
> 			return indexSearcher;
> 		}
> 	}
>
> 	private IndexObserver indexObserver;
>
> 	public SearchFacade()
> 	{
> 		addObserver(indexObserver = new IndexObserver());
> 	}
>
> 	public void createIndex()
> 	{
> 		...
> 		setChanged();		// index has changed
> 		notifyObservers();
> 	}
>
> 	public Hits search(String query)
> 	{
> 		Searcher searcher = indexObserver.getIndexSearcher();
> 	}
>
> }
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 01:12:43 2004
Return-Path: <lucene-user-return-7985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62985 invoked from network); 22 Apr 2004 01:12:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 01:12:43 -0000
Received: (qmail 77747 invoked by uid 500); 22 Apr 2004 01:12:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77437 invoked by uid 500); 22 Apr 2004 01:12:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77416 invoked from network); 22 Apr 2004 01:12:20 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 22 Apr 2004 01:12:20 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3M1CdtG021955
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 21 Apr 2004 18:12:40 -0700
Message-ID: <40870367.8060701@newsmonster.org>
Date: Wed, 21 Apr 2004 16:27:35 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Does a RAMDirectory ever need to merge segments... 	(performanceissue)
References: <s0863ef2.087@n6mcgw16.cchmc.org>
In-Reply-To: <s0863ef2.087@n6mcgw16.cchmc.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigCA04DEEF1A1758BD8FF4812C"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigCA04DEEF1A1758BD8FF4812C
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Gerard Sychay wrote:

>I've always wondered about this too.  To put it another way, how does
>mergeFactor affect an IndexWriter backed by a RAMDirectory?  Can I set
>mergeFactor to the highest possible value (given the machine's RAM) in
>order to avoid merging segments?
>  
>
Yes... actually I was thinking of increasing these vars on the 
RAMDirectory in the hope to avoid this CPU overhead..

Also I think the var you want is minMergeDocs not mergeFactor.  the only 
problem is that the source to maybeMergeSegments says:

>   private final void maybeMergeSegments() throws IOException {
>     long targetMergeDocs = minMergeDocs;
>     while (targetMergeDocs <= maxMergeDocs) {

So I guess to prevent this we would have to set minMergeDocs to 
maxMergeDocs+1 ... which makes not sense.  Also by default maxMergeDocs 
is Integer.MAX_VALUE so that will have to be changed.

Anyway... I'm still playing with this myself. It might be easier to just 
use an ArrayList of N documents if you know for sure how big your RAM 
dir will grow to.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigCA04DEEF1A1758BD8FF4812C
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAhwNq6E2NBJnxRBIRAiJFAJ0R6KWHb8ywWhSdYQcleS3fu55KeACg1aFO
n9OMAXia7k3VY9LUormnFHA=
=wTSg
-----END PGP SIGNATURE-----

--------------enigCA04DEEF1A1758BD8FF4812C--


From lucene-user-return-7986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 03:28:36 2004
Return-Path: <lucene-user-return-7986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23150 invoked from network); 22 Apr 2004 03:28:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 03:28:35 -0000
Received: (qmail 34639 invoked by uid 500); 22 Apr 2004 03:28:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34612 invoked by uid 500); 22 Apr 2004 03:28:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34598 invoked from network); 22 Apr 2004 03:28:10 -0000
Received: from unknown (HELO bulldogs.minterellison.com) (203.9.73.201)
  by daedalus.apache.org with SMTP; 22 Apr 2004 03:28:10 -0000
Received: from sydswww.minterellison.com (unverified) by 
    bulldogs.minterellison.com (Content Technologies SMTPRS 4.3.12) with 
    ESMTP id <T691ed15b490a3ceac9414@bulldogs.minterellison.com> for 
    <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 13:30:02 +1000
Received: from MENNET-MTA by sydswww.minterellison.com with Novell_GroupWise; 
    Thu, 22 Apr 2004 13:26:56 +1000
Message-Id: <s087c820.022@sydswww.minterellison.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 22 Apr 2004 13:26:44 +1000
From: "Tuan Jean Tee" <tuanjean.tee@minterellison.com>
To: <lucene-user@jakarta.apache.org>
Subject: what web crawler work best with Lucene?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have anyone implemented any open source web crawler with Lucene? I have
a dynamic website and are looking at putting in a search tools. Your
advice is very much appreciated.

Thank you.


IMPORTANT -

This email and any attachments are confidential and may be privileged in which case neither is intended to be waived. If you have received this message in error, please notify us and remove it from your system. It is your responsibility to check any attachments for viruses and defects before opening or sending them on. Where applicable, liability is limited by the Solicitors Scheme approved under the Professional Standards Act 1994 (NSW). Minter Ellison collects personal information to provide and market our services. For more information about use, disclosure and access, see our privacy policy at www.minterellison.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 03:40:24 2004
Return-Path: <lucene-user-return-7987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26277 invoked from network); 22 Apr 2004 03:40:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 03:40:24 -0000
Received: (qmail 51656 invoked by uid 500); 22 Apr 2004 03:39:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51634 invoked by uid 500); 22 Apr 2004 03:39:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51620 invoked from network); 22 Apr 2004 03:39:58 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.83)
  by daedalus.apache.org with SMTP; 22 Apr 2004 03:39:58 -0000
Received: (cpmta 9901 invoked from network); 21 Apr 2004 20:40:08 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.32.83) with SMTP; 21 Apr 2004 20:40:08 -0700
X-Sent: 22 Apr 2004 03:40:08 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <065001c427bc$34a6d460$2180a8c0@ROSENM>
References: <060901c427a9$1d632690$2180a8c0@ROSENM> <2847F566-939F-11D8-A92A-000393A564E6@ehatchersolutions.com> <065001c427bc$34a6d460$2180a8c0@ROSENM>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C141C332-940E-11D8-8CC9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: query
Date: Wed, 21 Apr 2004 23:40:10 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 21, 2004, at 12:17 PM, Rosen Marinov wrote:
>> Short answer: it depends.
>>
>> Questions for you to answer:
>> What field type and analyzer did you use during indexing?  What
>> analyzer used with QueryParser?  What does the generated 
>> Query.toString
>> return?
>
> in both cases SimpleAnalyzer
> QueryParser.parse("\"abc\"") throws an exception and i can't see what 
> does
> Query.toString return in this case

This is clean and green for me:

   public void testAbc() throws ParseException {
     Query query = QueryParser.parse("\"abc\"", "field", new 
SimpleAnalyzer());
     assertEquals("abc", query.toString("field"));
   }

Either you're using an old version of Lucene that is broken in this 
regard (I'm at CVS HEAD) or something else is fishy.

Note that a single term in quotes is optimized into a TermQuery, not a 
quoted PhraseQuery in the assert above.

> what analizer should i use if i want to execute folowing queries:
>    simple key word seach (+bush -president , etc)
>    range queries including " characters in searching values

Ranges with spaces in them doesn't work.  It is for single term ranges, 
not phrases that were tokenized.  If you indexed the entire "phrase" as 
a single term (Field.Keyword), then you could do an API RangeQuery, but 
QueryParser won't be happy.

QueryParser syntax is documented on the Lucene website if you need 
assistance with the type of syntax it supports.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 04:18:48 2004
Return-Path: <lucene-user-return-7988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46256 invoked from network); 22 Apr 2004 04:18:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 04:18:48 -0000
Received: (qmail 12237 invoked by uid 500); 22 Apr 2004 04:18:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12152 invoked by uid 500); 22 Apr 2004 04:18:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12138 invoked from network); 22 Apr 2004 04:18:21 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 22 Apr 2004 04:18:21 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3M4IVI09482
	for <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 00:18:31 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 22 Apr 2004 00:18:31 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: what web crawler work best with Lucene?
In-Reply-To: <s087c820.022@sydswww.minterellison.com>
Message-ID: <Pine.LNX.4.33.0404220002070.8407-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How big is the site?

I mostly use an inhouse solution, but I've used HttpUnit for web scrapping
small sites (because of its high-level api).

Here is a hello world example:
http://wiki.apache.org/jakarta-lucene/HttpUnitExample

For a small/simple site, small modifications to this class could suffice.
IT WILL NOT function on large sites because of memory problems.

For larger sites, there are questions like:

- memory:
For example, spidering all links on every page can lead to visiting too
many links. Keeping all visited links in memory can be problematic

- noise
If you get every page on your web site, you might be adding noise to the
search engine. Spider navigation rules can help out, like saying that you
should only follow links/index documents of a specific form like
www.mysite.com/news/article.jsp?articleid=xxx

- speed:
Too much speed can be bad if you doing 100 hits/sec on a site could hurt
it (especially if it's not you who are the webmaster)
Too little speed can be bad if you want to make sure you quickly get new
pages.

- categorisation:
You might want to separate information in your index. For example, you
might want a user to do a search in the documentation section or in the
press release section. This categorisation can be done by specifying
sections to the site, or a subsequent analysis of available docs.

-up-to-date information
You'll want to think of your update schedule, so that if you add a new
page, it gets indexed quickly. This problem also occurs when you modify an
existing page, you might want the modification to be detected rapidly.

HTH,
sv

On Thu, 22 Apr 2004, Tuan Jean Tee wrote:

> Have anyone implemented any open source web crawler with Lucene? I have
> a dynamic website and are looking at putting in a search tools. Your
> advice is very much appreciated.
>
> Thank you.
>
>
> IMPORTANT -
>
> This email and any attachments are confidential and may be privileged in
> which case neither is intended to be waived. If you have received this
> message in error, please notify us and remove it from your system. It is
> your responsibility to check any attachments for viruses and defects
> before opening or sending them on. Where applicable, liability is
> limited by the Solicitors Scheme approved under the Professional
> Standards Act 1994 (NSW). Minter Ellison collects personal information
> to provide and market our services. For more information about use,
> disclosure and access, see our privacy policy at www.minterellison.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 05:23:30 2004
Return-Path: <lucene-user-return-7989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73327 invoked from network); 22 Apr 2004 05:23:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 05:23:30 -0000
Received: (qmail 4678 invoked by uid 500); 22 Apr 2004 05:23:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4318 invoked by uid 500); 22 Apr 2004 05:23:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4296 invoked from network); 22 Apr 2004 05:23:01 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 22 Apr 2004 05:23:01 -0000
Received: (qmail 7086 invoked from network); 22 Apr 2004 05:23:08 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 22 Apr 2004 05:23:08 -0000
Subject: Re: what web crawler work best with Lucene?
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.33.0404220002070.8407-100000@hercule.cirano.qc.ca>
References: <Pine.LNX.4.33.0404220002070.8407-100000@hercule.cirano.qc.ca>
Content-Type: text/plain
Organization: 
Message-Id: <1082611310.2585.14.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 22 Apr 2004 13:21:50 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

U can also use the html parser API available from Java 1.4.2. I tried it
last week with a simple program which retrieve html files and displaying
all HREF links in it. I done it within a day.

sebastian


On Thu, 2004-04-22 at 12:18, Stephane James Vaucher wrote:
> How big is the site?
> 
> I mostly use an inhouse solution, but I've used HttpUnit for web scrapping
> small sites (because of its high-level api).
> 
> Here is a hello world example:
> http://wiki.apache.org/jakarta-lucene/HttpUnitExample
> 
> For a small/simple site, small modifications to this class could suffice.
> IT WILL NOT function on large sites because of memory problems.
> 
> For larger sites, there are questions like:
> 
> - memory:
> For example, spidering all links on every page can lead to visiting too
> many links. Keeping all visited links in memory can be problematic
> 
> - noise
> If you get every page on your web site, you might be adding noise to the
> search engine. Spider navigation rules can help out, like saying that you
> should only follow links/index documents of a specific form like
> www.mysite.com/news/article.jsp?articleid=xxx
> 
> - speed:
> Too much speed can be bad if you doing 100 hits/sec on a site could hurt
> it (especially if it's not you who are the webmaster)
> Too little speed can be bad if you want to make sure you quickly get new
> pages.
> 
> - categorisation:
> You might want to separate information in your index. For example, you
> might want a user to do a search in the documentation section or in the
> press release section. This categorisation can be done by specifying
> sections to the site, or a subsequent analysis of available docs.
> 
> -up-to-date information
> You'll want to think of your update schedule, so that if you add a new
> page, it gets indexed quickly. This problem also occurs when you modify an
> existing page, you might want the modification to be detected rapidly.
> 
> HTH,
> sv
> 
> On Thu, 22 Apr 2004, Tuan Jean Tee wrote:
> 
> > Have anyone implemented any open source web crawler with Lucene? I have
> > a dynamic website and are looking at putting in a search tools. Your
> > advice is very much appreciated.
> >
> > Thank you.
> >
> >
> > IMPORTANT -
> >
> > This email and any attachments are confidential and may be privileged in
> > which case neither is intended to be waived. If you have received this
> > message in error, please notify us and remove it from your system. It is
> > your responsibility to check any attachments for viruses and defects
> > before opening or sending them on. Where applicable, liability is
> > limited by the Solicitors Scheme approved under the Professional
> > Standards Act 1994 (NSW). Minter Ellison collects personal information
> > to provide and market our services. For more information about use,
> > disclosure and access, see our privacy policy at www.minterellison.com.
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 06:28:41 2004
Return-Path: <lucene-user-return-7990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1972 invoked from network); 22 Apr 2004 06:28:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 06:28:40 -0000
Received: (qmail 6652 invoked by uid 500); 22 Apr 2004 06:28:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6623 invoked by uid 500); 22 Apr 2004 06:28:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6607 invoked from network); 22 Apr 2004 06:28:11 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 22 Apr 2004 06:28:11 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id E025F19B8A2
	for <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 08:28:22 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i3M6SMEw029331
	for <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 08:28:22 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i3M6SMpY029327;
	Thu, 22 Apr 2004 08:28:22 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16519.26118.48540.776313@tanto-xipolis.de>
Date: Thu, 22 Apr 2004 08:28:22 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: query
In-Reply-To: <065001c427bc$34a6d460$2180a8c0@ROSENM>
References: <060901c427a9$1d632690$2180a8c0@ROSENM>
	<2847F566-939F-11D8-A92A-000393A564E6@ehatchersolutions.com>
	<065001c427bc$34a6d460$2180a8c0@ROSENM>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Rosen Marinov writes:
> > Short answer: it depends.
> > 
> > Questions for you to answer:
> > What field type and analyzer did you use during indexing?  What 
> > analyzer used with QueryParser?  What does the generated Query.toString 
> > return?
> 
> in both cases SimpleAnalyzer
> QueryParser.parse("\"abc\"") throws an exception and i can't see what does
> Query.toString return in this case
> 
> what analizer should i use if i want to execute folowing queries:
>    simple key word seach (+bush -president , etc)
>    range queries including " characters in searching values
> 
The problem is, that Phrases are defined as
| <QUOTED:     "\"" (~["\""])+ "\"">
in the query parser.
So you cannot have a " inside (even escaped).
I guess that's a bug.
It should read something like
| <QUOTED:     "\"" (~["\""] | "\\\"")+ "\"">
(untested).

But that shouldn't apply to QueryParser.parse("\"abc\"") (parsing "abc").
Only to QueryParser.parse("\"\\\"abc\\\"\"") (parsing "\"abc\"").

If you used SimpleAnalyzer (same for StandardAnalyzer) quotes got stripped
anyway. 
Since you cannot search for things, that didn't got indexed, searching
for `foo "bar" bla' and `foo bar bla' will be the same.

The answer to your second question 
> Is there more sly way to get the doc with exact maching this title? (for info: my titles are unique)
is to skip query parser and create the query as a phrase query yourself.
But this requires tokenization in the same way as it was done when indexing
as well. Otherwise you might end with no results.
If you have a lot of exact title queries, it might be worth to consider
having a keyword field (that means no tokenization) for this data (in that
case, you won't have to care about tokenizers and might create the query
as a single TermQuery). There's no support for keyword queries in the 
query parser though.

HTH
	Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 08:23:10 2004
Return-Path: <lucene-user-return-7991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74483 invoked from network); 22 Apr 2004 08:23:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 08:23:10 -0000
Received: (qmail 4013 invoked by uid 500); 22 Apr 2004 08:22:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3988 invoked by uid 500); 22 Apr 2004 08:22:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3972 invoked from network); 22 Apr 2004 08:22:39 -0000
Received: from unknown (HELO web90107.mail.scd.yahoo.com) (66.218.94.78)
  by daedalus.apache.org with SMTP; 22 Apr 2004 08:22:39 -0000
Message-ID: <20040422082252.27807.qmail@web90107.mail.scd.yahoo.com>
Received: from [202.40.194.113] by web90107.mail.scd.yahoo.com via HTTP; Thu, 22 Apr 2004 16:22:52 CST
Date: Thu, 22 Apr 2004 16:22:52 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: [Digester] DigesterMarriesLucene
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1414996839-1082622172=:27420"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1414996839-1082622172=:27420
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

I have read the article on the IBM website regarding using lucene
(http://www-106.ibm.com/developerworks/library/j-lucene) and followed 
the provided 'Listing 4' to make the DigesterMarriesLucene.class. I 
downloaded the Digester package as well in order to parse the imaginary 
address book xml to see if it works.
 
Unfortunately, I got the below error message:
 
  java.lang.NoClassDefFoundError: DigesterMarriesLucene
 
My setup is to include the compiled DigesterMarriesLucene.class to the 
lucene-demos-1.3-final.jar file so as to run the class in Lucene by 
typing in
 
  # java org.apache.lucene.demo.DigesterMarriesLucene
 
What I should do to get rid of the errors? Are there any documentations 
available online to show me how to do the setup?
 


BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-1414996839-1082622172=:27420--

From lucene-user-return-7992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 09:39:10 2004
Return-Path: <lucene-user-return-7992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20283 invoked from network); 22 Apr 2004 09:39:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 09:39:10 -0000
Received: (qmail 35256 invoked by uid 500); 22 Apr 2004 09:38:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35067 invoked by uid 500); 22 Apr 2004 09:38:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35054 invoked from network); 22 Apr 2004 09:38:37 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 22 Apr 2004 09:38:37 -0000
Message-ID: <20040422093851.86327.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.133] by web12706.mail.yahoo.com via HTTP; Thu, 22 Apr 2004 02:38:51 PDT
Date: Thu, 22 Apr 2004 02:38:51 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: [Digester] DigesterMarriesLucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040422082252.27807.qmail@web90107.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

There is no need to include DigesterMarriesLucene.class in that
Lucene-demos Jar.  You just need to make sure you add the directory
where DigesterMarriesLucene.class is, to your CLASSPATH.  Listing 4 in
that article shows that DigesterMarriesLucene is not in any particular
Java package.  Therefore, do not invoke it as java
org.apache....DigesterMarriesLucene, but rather: java
DigesterMarriesLucene .

Otis

--- Samuel Tang <samuel202004@yahoo.com.hk> wrote:
> I have read the article on the IBM website regarding using lucene
> (http://www-106.ibm.com/developerworks/library/j-lucene) and followed
> 
> the provided 'Listing 4' to make the DigesterMarriesLucene.class. I 
> downloaded the Digester package as well in order to parse the
> imaginary 
> address book xml to see if it works.
>  
> Unfortunately, I got the below error message:
>  
>   java.lang.NoClassDefFoundError: DigesterMarriesLucene
>  
> My setup is to include the compiled DigesterMarriesLucene.class to
> the 
> lucene-demos-1.3-final.jar file so as to run the class in Lucene by 
> typing in
>  
>   # java org.apache.lucene.demo.DigesterMarriesLucene
>  
> What I should do to get rid of the errors? Are there any
> documentations 
> available online to show me how to do the setup?
>  
> 
> 
> BqBpPP...
> an  s
> http://ringtone.yahoo.com.hk/
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 17:09:03 2004
Return-Path: <lucene-user-return-7993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87670 invoked from network); 22 Apr 2004 17:09:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 17:09:03 -0000
Received: (qmail 1560 invoked by uid 500); 22 Apr 2004 17:08:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1520 invoked by uid 500); 22 Apr 2004 17:08:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1507 invoked from network); 22 Apr 2004 17:08:48 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 22 Apr 2004 17:08:48 -0000
Message-ID: <20040422170815.61876.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.133] by web12706.mail.yahoo.com via HTTP; Thu, 22 Apr 2004 10:08:15 PDT
Date: Thu, 22 Apr 2004 10:08:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: more rigid stopword list ?
To: lucene-user@jakarta.apache.org
Cc: hgadm@cswebmail.com
In-Reply-To: <20040422095510.21394.h013.c014.wm@mail.cswebmail.com.criticalpath.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

One of my Lucene articles includes a more comprehensive stop word list
for English:

http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html?page=2#references

Otis

--- hgadm@cswebmail.com wrote:
> Dear all,
> 
> for my taste the stopwords included in Lucene (e.g.
> StopAnalyzer.ENGLISH_STOP_WORDS, wich is usually used
> with the SnowballAnalyzer - and I guess also with the
> StandardAnalyzer) is not strict enough:
> 
> For example in a sentence with "we need ..." I would
> consider "we" and "need" as stopwords but they are not
> stripped by SnowballAnalyzer or StandardAnalyzer. 
> 
> Now:
> Is there an in-built solution to use more restrictive
> stripping or do I better create my own analyzer in that
> case with a more restrictive stopword list ?
> 
> If so - are you aware of more rigid lists ? (a URI
> would be great !)
> 
> Thanks,
> 
> Holger
> 
> ___________________________________________________
> The ALL NEW CS2000 from CompuServe
>  Better!  Faster! More Powerful!
>  250 FREE hours! Sign-on Now!
>  http://www.compuserve.com/trycsrv/cs2000/webmail/
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 
ka

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 17:46:21 2004
Return-Path: <lucene-user-return-7994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7081 invoked from network); 22 Apr 2004 17:46:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 17:46:21 -0000
Received: (qmail 88809 invoked by uid 500); 22 Apr 2004 17:46:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88772 invoked by uid 500); 22 Apr 2004 17:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88732 invoked from network); 22 Apr 2004 17:46:05 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 22 Apr 2004 17:46:05 -0000
Received: (cpmta 8505 invoked from network); 22 Apr 2004 10:46:09 -0700
Received: from 216.12.13.89 (HELO ?192.168.0.9?)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 22 Apr 2004 10:46:09 -0700
X-Sent: 22 Apr 2004 17:46:09 GMT
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040422170815.61876.qmail@web12706.mail.yahoo.com>
References: <20040422170815.61876.qmail@web12706.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F1B18534-9484-11D8-A41E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: more rigid stopword list ?
Date: Thu, 22 Apr 2004 13:46:11 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

p.s. there is no need to create a new Analyzer to tweak the stop word  
list.  The analyzers that do stop word removal accept the list as an  
argument to an overloaded constructor.

	Erik


On Apr 22, 2004, at 1:08 PM, Otis Gospodnetic wrote:

> Moving to lucene-user list.
>
> One of my Lucene articles includes a more comprehensive stop word list
> for English:
>
> http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html? 
> page=2#references
>
> Otis
>
> --- hgadm@cswebmail.com wrote:
>> Dear all,
>>
>> for my taste the stopwords included in Lucene (e.g.
>> StopAnalyzer.ENGLISH_STOP_WORDS, wich is usually used
>> with the SnowballAnalyzer - and I guess also with the
>> StandardAnalyzer) is not strict enough:
>>
>> For example in a sentence with "we need ..." I would
>> consider "we" and "need" as stopwords but they are not
>> stripped by SnowballAnalyzer or StandardAnalyzer.
>>
>> Now:
>> Is there an in-built solution to use more restrictive
>> stripping or do I better create my own analyzer in that
>> case with a more restrictive stopword list ?
>>
>> If so - are you aware of more rigid lists ? (a URI
>> would be great !)
>>
>> Thanks,
>>
>> Holger
>>
>> ___________________________________________________
>> The ALL NEW CS2000 from CompuServe
>>  Better!  Faster! More Powerful!
>>  250 FREE hours! Sign-on Now!
>>  http://www.compuserve.com/trycsrv/cs2000/webmail/
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>>
> ka
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 18:26:16 2004
Return-Path: <lucene-user-return-7995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28047 invoked from network); 22 Apr 2004 18:26:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 18:26:15 -0000
Received: (qmail 78438 invoked by uid 500); 22 Apr 2004 18:26:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78342 invoked by uid 500); 22 Apr 2004 18:26:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78319 invoked from network); 22 Apr 2004 18:26:00 -0000
Received: from unknown (HELO testbed2) (63.196.96.150)
  by daedalus.apache.org with SMTP; 22 Apr 2004 18:26:00 -0000
Received: from WK16SC20 ([10.16.4.98]) by testbed2 with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 22 Apr 2004 11:26:48 -0700
Message-ID: <008601c42897$5ff7bae0$6204100a@INFXINC.NET>
From: "Rob Jose" <rjose@surewest.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040422170815.61876.qmail@web12706.mail.yahoo.com> <F1B18534-9484-11D8-A41E-000393A564E6@ehatchersolutions.com>
Subject: Doing a join?
Date: Thu, 22 Apr 2004 11:26:47 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 22 Apr 2004 18:26:48.0886 (UTC) FILETIME=[5FFDD560:01C42897]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is it possible to do a join on two fields when searching a Lucene Index.
For example, I have an index of documents that have a "StudentName" and a
"StudentId" field and another document that has "ClassId", "ClassName" and
"StudentId".  I want to do a search on "ClassId" or "ClassName" and get a
list of "StudentName".  Both of these documents are in one index, but are
loaded from seperate files, so I can't join at creation time.  Any help is
greatly appreciated.

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 21:14:55 2004
Return-Path: <lucene-user-return-7996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31142 invoked from network); 22 Apr 2004 21:14:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 21:14:55 -0000
Received: (qmail 55366 invoked by uid 500); 22 Apr 2004 21:14:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55312 invoked by uid 500); 22 Apr 2004 21:14:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55266 invoked from network); 22 Apr 2004 21:14:34 -0000
Received: from unknown (HELO tisch.mail.mindspring.net) (207.69.200.157)
  by daedalus.apache.org with SMTP; 22 Apr 2004 21:14:34 -0000
Received: from h-66-167-145-177.mclnva23.dynamic.covad.net ([66.167.145.177] helo=POWERPACK)
	by tisch.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BGlWp-000300-00
	for lucene-user@jakarta.apache.org; Thu, 22 Apr 2004 17:14:40 -0400
Message-ID: <05c201c428ae$d496a700$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Stemmer Benefits/Costs
Date: Thu, 22 Apr 2004 17:14:42 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_05BF_01C4288D.4D3BA1F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_05BF_01C4288D.4D3BA1F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I've been experimenting with the Porter and Snowball stemmers.  It seems =
to me that one of the most valuable benefits these provide is the =
capability to generalize phrase terms.  As a very simple example, =
without the stemmer, I might need to include three phrase terms in my =
query: "north korea", "north korean", "north koreans".  But with the =
stemmer only one will suffice.  To me, that's a huge advantage.  (For =
non-phrases, the advantage doesn't seem to be so great, because much the =
same effect can be achieved with wildcards.)

But there seems to be a price that you also pay, in that discrimination =
may be adversely affected.  If you want to discriminate between two =
terms that the stemmer views as derived from the same root, you're out =
of luck (I think).  The problem with this is that you may start with a =
set of terms that don't have this problem, but over time as new content =
is added to the index, such problems may gradually get introduced - =
often unpredictably.  And to the best of my (admittedly limited) =
knowledge, once you've indexed using a stemmer, there's no way to =
override it in specific instances.

Appreciate any comments, thoughts on the above.

Regards,

Terry
 
------=_NextPart_000_05BF_01C4288D.4D3BA1F0--


From lucene-user-return-7997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 21:39:26 2004
Return-Path: <lucene-user-return-7997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45750 invoked from network); 22 Apr 2004 21:39:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 21:39:26 -0000
Received: (qmail 4069 invoked by uid 500); 22 Apr 2004 21:39:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4024 invoked by uid 500); 22 Apr 2004 21:39:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3977 invoked from network); 22 Apr 2004 21:39:04 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 22 Apr 2004 21:39:04 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i3MLdAA12465
	for <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 16:39:12 -0500
Message-ID: <40883B26.7030707@getopt.org>
Date: Thu, 22 Apr 2004 23:37:42 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Stemmer Benefits/Costs
References: <05c201c428ae$d496a700$6501a8c0@POWERPACK>
In-Reply-To: <05c201c428ae$d496a700$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry Steichen wrote:

> I've been experimenting with the Porter and Snowball stemmers.  It
> seems to me that one of the most valuable benefits these provide is
> the capability to generalize phrase terms.  As a very simple example,
> without the stemmer, I might need to include three phrase terms in my
> query: "north korea", "north korean", "north koreans".  But with the
> stemmer only one will suffice.  To me, that's a huge advantage.  (For
> non-phrases, the advantage doesn't seem to be so great, because much
> the same effect can be achieved with wildcards.)

That's because you look at it from the perspective of English language 
with its minimal inflection... My mother tongue is Polish - a highly 
inflectional language from the Slavic family of languages. It is normal 
for a single Polish word to have as many as 20+ different inflected 
forms (plural/singular/dual, tense, gender, mood, case, infinitive... 
enough? ;-) ). For this type of language studies show that stemming (or 
rather lemmatization - bringing words to their base grammatical forms) 
significantly improves recall in IR systems.

> 
> But there seems to be a price that you also pay, in that
> discrimination may be adversely affected.  If you want to
> discriminate between two terms that the stemmer views as derived from
> the same root, you're out of luck (I think).  The problem with this

Stemming usually improves recall, but lowers precision. For some systems 
it is more desirable to provide any results, even if they are not quite 
correct, than to provide none.

> is that you may start with a set of terms that don't have this
> problem, but over time as new content is added to the index, such
> problems may gradually get introduced - often unpredictably.  And to
> the best of my (admittedly limited) knowledge, once you've indexed
> using a stemmer, there's no way to override it in specific instances.

You can always store in your index stemmed/non-stemmed terms alongside.

> 
> Appreciate any comments, thoughts on the above.

For highly-inflectional languages I had _very_ good results with 
stemmers built using the code from Egothor project 
(http://www.egothor.org) - much more sophisticated than simple 
rule-based stemmers like Snowball or Porter. In fact, after proper 
training on a large corpus I was getting ~70% of correct lemmas for 
previously unseen words, and over 90% of correct (unique) stems.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 23:56:44 2004
Return-Path: <lucene-user-return-7998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16846 invoked from network); 22 Apr 2004 23:56:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 23:56:43 -0000
Received: (qmail 88318 invoked by uid 500); 22 Apr 2004 23:56:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88292 invoked by uid 500); 22 Apr 2004 23:56:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88278 invoked from network); 22 Apr 2004 23:56:22 -0000
Received: from unknown (HELO tisch.mail.mindspring.net) (207.69.200.157)
  by daedalus.apache.org with SMTP; 22 Apr 2004 23:56:22 -0000
Received: from h-66-167-145-177.mclnva23.dynamic.covad.net ([66.167.145.177] helo=POWERPACK)
	by tisch.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BGo3S-00035T-00
	for lucene-user@jakarta.apache.org; Thu, 22 Apr 2004 19:56:30 -0400
Message-ID: <05ea01c428c5$70643420$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <05c201c428ae$d496a700$6501a8c0@POWERPACK> <40883B26.7030707@getopt.org>
Subject: Re: Stemmer Benefits/Costs
Date: Thu, 22 Apr 2004 19:56:32 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So, Andrez - Thank you for your comments - what you say makes a good deal of
sense.  When you have lots of different inflections that all share the same
root, stemming can clearly provide significant (recall) benefits (in terms
of catching hidden words and/or simplifying the query).

However, would you say that "from the perspective of English" ("with its
minimal inflection") the points I raise are correct?  (You seem to say so
with the statement that stemming "usually improves recall, but lowers
precision.")

And, would you expect significant benefits from the Egothor project code
(versus Snowball/Porter) when the text is in English (as opposed to a highly
inflectional language like Polish)?

Regards,

Terry

----- Original Message ----- 
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, April 22, 2004 5:37 PM
Subject: Re: Stemmer Benefits/Costs


> Terry Steichen wrote:
>
> > I've been experimenting with the Porter and Snowball stemmers.  It
> > seems to me that one of the most valuable benefits these provide is
> > the capability to generalize phrase terms.  As a very simple example,
> > without the stemmer, I might need to include three phrase terms in my
> > query: "north korea", "north korean", "north koreans".  But with the
> > stemmer only one will suffice.  To me, that's a huge advantage.  (For
> > non-phrases, the advantage doesn't seem to be so great, because much
> > the same effect can be achieved with wildcards.)
>
> That's because you look at it from the perspective of English language
> with its minimal inflection... My mother tongue is Polish - a highly
> inflectional language from the Slavic family of languages. It is normal
> for a single Polish word to have as many as 20+ different inflected
> forms (plural/singular/dual, tense, gender, mood, case, infinitive...
> enough? ;-) ). For this type of language studies show that stemming (or
> rather lemmatization - bringing words to their base grammatical forms)
> significantly improves recall in IR systems.
>
> >
> > But there seems to be a price that you also pay, in that
> > discrimination may be adversely affected.  If you want to
> > discriminate between two terms that the stemmer views as derived from
> > the same root, you're out of luck (I think).  The problem with this
>
> Stemming usually improves recall, but lowers precision. For some systems
> it is more desirable to provide any results, even if they are not quite
> correct, than to provide none.
>
> > is that you may start with a set of terms that don't have this
> > problem, but over time as new content is added to the index, such
> > problems may gradually get introduced - often unpredictably.  And to
> > the best of my (admittedly limited) knowledge, once you've indexed
> > using a stemmer, there's no way to override it in specific instances.
>
> You can always store in your index stemmed/non-stemmed terms alongside.
>
> >
> > Appreciate any comments, thoughts on the above.
>
> For highly-inflectional languages I had _very_ good results with
> stemmers built using the code from Egothor project
> (http://www.egothor.org) - much more sophisticated than simple
> rule-based stemmers like Snowball or Porter. In fact, after proper
> training on a large corpus I was getting ~70% of correct lemmas for
> previously unseen words, and over 90% of correct (unique) stems.
>
> -- 
> Best regards,
> Andrzej Bialecki
>
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-7999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 22 23:58:29 2004
Return-Path: <lucene-user-return-7999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17764 invoked from network); 22 Apr 2004 23:58:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Apr 2004 23:58:29 -0000
Received: (qmail 93105 invoked by uid 500); 22 Apr 2004 23:58:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93077 invoked by uid 500); 22 Apr 2004 23:58:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93063 invoked from network); 22 Apr 2004 23:58:08 -0000
Received: from unknown (HELO tisch.mail.mindspring.net) (207.69.200.157)
  by daedalus.apache.org with SMTP; 22 Apr 2004 23:58:08 -0000
Received: from h-66-167-145-177.mclnva23.dynamic.covad.net ([66.167.145.177] helo=POWERPACK)
	by tisch.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BGo59-0004Us-00
	for lucene-user@jakarta.apache.org; Thu, 22 Apr 2004 19:58:15 -0400
Message-ID: <05f501c428c5$af6cada0$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <05c201c428ae$d496a700$6501a8c0@POWERPACK> <40883B26.7030707@getopt.org> <05ea01c428c5$70643420$6501a8c0@POWERPACK>
Subject: Re: Stemmer Benefits/Costs
Date: Thu, 22 Apr 2004 19:58:18 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej,

Sorry for misspelling your name.  My Polish sucks.

Terry

----- Original Message ----- 
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, April 22, 2004 7:56 PM
Subject: Re: Stemmer Benefits/Costs


> So, Andrez - Thank you for your comments - what you say makes a good deal
of
> sense.  When you have lots of different inflections that all share the
same
> root, stemming can clearly provide significant (recall) benefits (in terms
> of catching hidden words and/or simplifying the query).
>
> However, would you say that "from the perspective of English" ("with its
> minimal inflection") the points I raise are correct?  (You seem to say so
> with the statement that stemming "usually improves recall, but lowers
> precision.")
>
> And, would you expect significant benefits from the Egothor project code
> (versus Snowball/Porter) when the text is in English (as opposed to a
highly
> inflectional language like Polish)?
>
> Regards,
>
> Terry
>
> ----- Original Message ----- 
> From: "Andrzej Bialecki" <ab@getopt.org>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, April 22, 2004 5:37 PM
> Subject: Re: Stemmer Benefits/Costs
>
>
> > Terry Steichen wrote:
> >
> > > I've been experimenting with the Porter and Snowball stemmers.  It
> > > seems to me that one of the most valuable benefits these provide is
> > > the capability to generalize phrase terms.  As a very simple example,
> > > without the stemmer, I might need to include three phrase terms in my
> > > query: "north korea", "north korean", "north koreans".  But with the
> > > stemmer only one will suffice.  To me, that's a huge advantage.  (For
> > > non-phrases, the advantage doesn't seem to be so great, because much
> > > the same effect can be achieved with wildcards.)
> >
> > That's because you look at it from the perspective of English language
> > with its minimal inflection... My mother tongue is Polish - a highly
> > inflectional language from the Slavic family of languages. It is normal
> > for a single Polish word to have as many as 20+ different inflected
> > forms (plural/singular/dual, tense, gender, mood, case, infinitive...
> > enough? ;-) ). For this type of language studies show that stemming (or
> > rather lemmatization - bringing words to their base grammatical forms)
> > significantly improves recall in IR systems.
> >
> > >
> > > But there seems to be a price that you also pay, in that
> > > discrimination may be adversely affected.  If you want to
> > > discriminate between two terms that the stemmer views as derived from
> > > the same root, you're out of luck (I think).  The problem with this
> >
> > Stemming usually improves recall, but lowers precision. For some systems
> > it is more desirable to provide any results, even if they are not quite
> > correct, than to provide none.
> >
> > > is that you may start with a set of terms that don't have this
> > > problem, but over time as new content is added to the index, such
> > > problems may gradually get introduced - often unpredictably.  And to
> > > the best of my (admittedly limited) knowledge, once you've indexed
> > > using a stemmer, there's no way to override it in specific instances.
> >
> > You can always store in your index stemmed/non-stemmed terms alongside.
> >
> > >
> > > Appreciate any comments, thoughts on the above.
> >
> > For highly-inflectional languages I had _very_ good results with
> > stemmers built using the code from Egothor project
> > (http://www.egothor.org) - much more sophisticated than simple
> > rule-based stemmers like Snowball or Porter. In fact, after proper
> > training on a large corpus I was getting ~70% of correct lemmas for
> > previously unseen words, and over 90% of correct (unique) stems.
> >
> > -- 
> > Best regards,
> > Andrzej Bialecki
> >
> > -------------------------------------------------
> > Software Architect, System Integration Specialist
> > CEN/ISSS EC Workshop, ECIMF project chair
> > EU FP6 E-Commerce Expert/Evaluator
> > -------------------------------------------------
> > FreeBSD developer (http://www.freebsd.org)
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 01:33:06 2004
Return-Path: <lucene-user-return-8000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70915 invoked from network); 23 Apr 2004 01:33:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 01:33:06 -0000
Received: (qmail 97869 invoked by uid 500); 23 Apr 2004 01:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97775 invoked by uid 500); 23 Apr 2004 01:32:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97749 invoked from network); 23 Apr 2004 01:32:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.34.190)
  by daedalus.apache.org with SMTP; 23 Apr 2004 01:32:42 -0000
Received: (cpmta 16617 invoked from network); 22 Apr 2004 18:32:51 -0700
Received: from 24.51.109.181 (HELO ?192.168.1.100?)
  by smtp.hatcher.net (209.228.34.190) with SMTP; 22 Apr 2004 18:32:51 -0700
X-Sent: 23 Apr 2004 01:32:51 GMT
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: 7bit
Message-Id: <24A873FE-94C6-11D8-87FA-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Fwd: Wiki write access
Date: Thu, 22 Apr 2004 21:32:54 -0400
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just thought I'd update on the wiki.  I take this to mean we need to 
upgrade to get better control.

	Erik


Begin forwarded message:

> From: "Noel J. Bergman" <noel@devtech.com>
> Date: April 22, 2004 10:01:10 AM EDT
> To: "Jakarta Project Management Committee List" 
> <pmc@jakarta.apache.org>
> Subject: RE: Wiki write access
> Reply-To: "Jakarta Project Management Committee List" 
> <pmc@jakarta.apache.org>
>
>> Do any of the Apache wikis lock down write access for only those with
>> a registered profile?  Is this a reasonable requirement to have made?
>
> No, they don't and yes it is.  I believe there is more control in the 
> next
> version of Moin Moin.
>
> 	--- Noel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 02:35:30 2004
Return-Path: <lucene-user-return-8001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2239 invoked from network); 23 Apr 2004 02:35:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 02:35:30 -0000
Received: (qmail 74701 invoked by uid 500); 23 Apr 2004 02:35:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74675 invoked by uid 500); 23 Apr 2004 02:35:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74657 invoked from network); 23 Apr 2004 02:35:05 -0000
Received: from unknown (HELO FISHER.minterellison.com) (203.94.161.201)
  by daedalus.apache.org with SMTP; 23 Apr 2004 02:35:05 -0000
Received: from melswww.minterellison.com (unverified) by 
    FISHER.minterellison.com (Content Technologies SMTPRS 4.3.12) with ESMTP 
    id <T6923c964950a28eac9ddc@FISHER.minterellison.com> for 
    <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 12:39:27 +1000
Received: from MEVNET-MTA by melswww.minterellison.com with Novell_GroupWise; 
    Fri, 23 Apr 2004 12:33:50 +1000
Message-Id: <s0890d2e.036@melswww.minterellison.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 23 Apr 2004 12:33:44 +1000
From: "Tuan Jean Tee" <tuanjean.tee@minterellison.com>
To: <lucene-user@jakarta.apache.org>
Subject: Re: what web crawler work best with Lucene?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sebastian,

Would you be able to show me your code? Thank you.

TJ

>>> sebastianh@bii.a-star.edu.sg 22/Apr/2004 03:21:50 pm >>>
U can also use the html parser API available from Java 1.4.2. I tried
it
last week with a simple program which retrieve html files and
displaying
all HREF links in it. I done it within a day.

sebastian


On Thu, 2004-04-22 at 12:18, Stephane James Vaucher wrote:
> How big is the site?
> 
> I mostly use an inhouse solution, but I've used HttpUnit for web
scrapping
> small sites (because of its high-level api).
> 
> Here is a hello world example:
> http://wiki.apache.org/jakarta-lucene/HttpUnitExample 
> 
> For a small/simple site, small modifications to this class could
suffice.
> IT WILL NOT function on large sites because of memory problems.
> 
> For larger sites, there are questions like:
> 
> - memory:
> For example, spidering all links on every page can lead to visiting
too
> many links. Keeping all visited links in memory can be problematic
> 
> - noise
> If you get every page on your web site, you might be adding noise to
the
> search engine. Spider navigation rules can help out, like saying that
you
> should only follow links/index documents of a specific form like
> www.mysite.com/news/article.jsp?articleid=xxx 
> 
> - speed:
> Too much speed can be bad if you doing 100 hits/sec on a site could
hurt
> it (especially if it's not you who are the webmaster)
> Too little speed can be bad if you want to make sure you quickly get
new
> pages.
> 
> - categorisation:
> You might want to separate information in your index. For example,
you
> might want a user to do a search in the documentation section or in
the
> press release section. This categorisation can be done by specifying
> sections to the site, or a subsequent analysis of available docs.
> 
> -up-to-date information
> You'll want to think of your update schedule, so that if you add a
new
> page, it gets indexed quickly. This problem also occurs when you
modify an
> existing page, you might want the modification to be detected
rapidly.
> 
> HTH,
> sv
> 
> On Thu, 22 Apr 2004, Tuan Jean Tee wrote:
> 
> > Have anyone implemented any open source web crawler with Lucene? I
have
> > a dynamic website and are looking at putting in a search tools.
Your
> > advice is very much appreciated.
> >
> > Thank you.
> >
> >
> > IMPORTANT -
> >
> > This email and any attachments are confidential and may be
privileged in
> > which case neither is intended to be waived. If you have received
this
> > message in error, please notify us and remove it from your system.
It is
> > your responsibility to check any attachments for viruses and
defects
> > before opening or sending them on. Where applicable, liability is
> > limited by the Solicitors Scheme approved under the Professional
> > Standards Act 1994 (NSW). Minter Ellison collects personal
information
> > to provide and market our services. For more information about
use,
> > disclosure and access, see our privacy policy at
www.minterellison.com.
> >
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org 
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 03:42:32 2004
Return-Path: <lucene-user-return-8002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34168 invoked from network); 23 Apr 2004 03:42:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 03:42:32 -0000
Received: (qmail 39775 invoked by uid 500); 23 Apr 2004 03:42:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39709 invoked by uid 500); 23 Apr 2004 03:42:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39687 invoked from network); 23 Apr 2004 03:42:06 -0000
Received: from unknown (HELO sam.on-net.net) (204.117.190.8)
  by daedalus.apache.org with SMTP; 23 Apr 2004 03:42:06 -0000
Received: from [206.229.85.132] (edison.base2inc.com [206.229.85.132])
	(authenticated bits=0)
	by sam.on-net.net (8.12.10/8.12.10) with ESMTP id i3N3erKS005413
	for <lucene-user@jakarta.apache.org>; Thu, 22 Apr 2004 22:40:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: 7bit
Message-Id: <338E35CE-94D8-11D8-9E4C-000A95A83378@base2inc.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Frank Morton <fmorton@base2inc.com>
Subject: date range suggestion anyone?
Date: Thu, 22 Apr 2004 22:42:10 -0500
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Newbie here. Or, at least it has been a couple of years....

I have a date ranges working, which seem to work well. But I have
a question about how to form a query.

I have a publication with a dateAvailable and a dateExpired. It is
viewable any time between these dates.

I want to supply a date range, looking for publications available in
the specified range. I thought I could do:

+((dateAvailable:[02/01/2004 TO 03/01/2004]) OR 
(dateExpired:[02/01/2004 TO 03/01/2004]))

But this does not work with this combination of dates:

dateAvailable=1/1/2004
searchStartDate=2/1/2004
searchEndDate=3/1/2004
dateExpired=6/1/2004

Neither the dateAvailable nor dateExpired are included within the user 
specified test
range, even though the publication is available during the entire 
specified range,
plus more.

Anyone figured out a way to do this without enumerating all the dates?  
Or, do I
just need more sleep.

Thanks for any help.

Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 07:45:28 2004
Return-Path: <lucene-user-return-8003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91032 invoked from network); 23 Apr 2004 07:45:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 07:45:28 -0000
Received: (qmail 67703 invoked by uid 500); 23 Apr 2004 07:44:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67682 invoked by uid 500); 23 Apr 2004 07:44:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67667 invoked from network); 23 Apr 2004 07:44:56 -0000
Received: from unknown (HELO web90105.mail.scd.yahoo.com) (66.218.94.76)
  by daedalus.apache.org with SMTP; 23 Apr 2004 07:44:56 -0000
Message-ID: <20040423074508.34246.qmail@web90105.mail.scd.yahoo.com>
Received: from [202.40.200.41] by web90105.mail.scd.yahoo.com via HTTP; Fri, 23 Apr 2004 15:45:08 CST
Date: Fri, 23 Apr 2004 15:45:08 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: Re: [Digester] DigesterMarriesLucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040422093851.86327.qmail@web12706.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-12815929-1082706308=:33459"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-12815929-1082706308=:33459
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

Thanks Otis. It works. Great.

Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:Hello,

There is no need to include DigesterMarriesLucene.class in that
Lucene-demos Jar. You just need to make sure you add the directory
where DigesterMarriesLucene.class is, to your CLASSPATH. Listing 4 in
that article shows that DigesterMarriesLucene is not in any particular
Java package. Therefore, do not invoke it as java
org.apache....DigesterMarriesLucene, but rather: java
DigesterMarriesLucene .

Otis

--- Samuel Tang wrote:
> I have read the article on the IBM website regarding using lucene
> (http://www-106.ibm.com/developerworks/library/j-lucene) and followed
> 
> the provided 'Listing 4' to make the DigesterMarriesLucene.class. I 
> downloaded the Digester package as well in order to parse the
> imaginary 
> address book xml to see if it works.
> 
> Unfortunately, I got the below error message:
> 
> java.lang.NoClassDefFoundError: DigesterMarriesLucene
> 
> My setup is to include the compiled DigesterMarriesLucene.class to
> the 
> lucene-demos-1.3-final.jar file so as to run the class in Lucene by 
> typing in
> 
> # java org.apache.lucene.demo.DigesterMarriesLucene
> 
> What I should do to get rid of the errors? Are there any
> documentations 
> available online to show me how to do the setup?
> 
> 
> 
> BqBpPP...
> an s
> http://ringtone.yahoo.com.hk/
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-12815929-1082706308=:33459--

From lucene-user-return-8004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 08:37:03 2004
Return-Path: <lucene-user-return-8004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20400 invoked from network); 23 Apr 2004 08:37:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 08:37:03 -0000
Received: (qmail 42201 invoked by uid 500); 23 Apr 2004 08:36:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42179 invoked by uid 500); 23 Apr 2004 08:36:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42164 invoked from network); 23 Apr 2004 08:36:31 -0000
Received: from unknown (HELO getopt.org) (69.44.16.11)
  by daedalus.apache.org with SMTP; 23 Apr 2004 08:36:31 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i3N8ai917319
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 03:36:44 -0500
Message-ID: <4088D545.5000004@getopt.org>
Date: Fri, 23 Apr 2004 10:35:17 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Stemmer Benefits/Costs
References: <05c201c428ae$d496a700$6501a8c0@POWERPACK> <40883B26.7030707@getopt.org> <05ea01c428c5$70643420$6501a8c0@POWERPACK>
In-Reply-To: <05ea01c428c5$70643420$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Terry Steichen wrote:

> So, Andrez - Thank you for your comments - what you say makes a good deal of
> sense.  When you have lots of different inflections that all share the same
> root, stemming can clearly provide significant (recall) benefits (in terms
> of catching hidden words and/or simplifying the query).
> 
> However, would you say that "from the perspective of English" ("with its
> minimal inflection") the points I raise are correct?  (You seem to say so
> with the statement that stemming "usually improves recall, but lowers
> precision.")
> 
> And, would you expect significant benefits from the Egothor project code
> (versus Snowball/Porter) when the text is in English (as opposed to a highly
> inflectional language like Polish)?

I did only minimal testing with English (and somewhat more extensive 
with scandinavian languages). Results were also promising, if somewhat 
unexpected.

The unexpected part comes from the realization that stemming doesn't 
have to produce any real "root" as long as it provides you with a unique 
key for all inflected forms derived from the same base form (lemma). So, 
from this point of view it's perfectly ok if you get "blurfl" as a stem 
of "give", as long as you get the same "blurfl" for "gave, given, gives, 
giving", and for nothing else. Think of it like a hashCode() ...

Egothor's stemmer package is not as abstract as in this example - 
usually (> 90% for English? ~70% for Polish) stems that it produces 
correspond to real base forms (lemmas). It's algorithm is based on state 
machines with memory, stored in a trie, in form of patch commands. This 
allows it to handle not only suffix-based inflection but also 
prefix/infix. Stemming tables are learned from training corpora, which 
consit of base and inflected forms. Resulting state machine binary in 
case of Polish weighs around 300kB. For English it's smaller - somewhere 
around 100kB. In my experiments the state machine for English was able 
to find correct lemmas more often than other types of stemmers (sorry 
for such a poorly qualified statement - as I said, I didn't make so 
systematic testing for English). Over/under-stemming didn't occur as 
often. So, my cautious advice would be to give it a try.. :-)

Now, if you again use the analogy of hash code, inevitably some 
collisions will occur during stemming. I.e. some inflected forms, which 
correspond to different lemmas (roots) will be brought to the same stem. 
  This is where you lose precision. Also, in some cases stemmers will 
produce two stems from a group of words having the same lemma. This is 
where you lose recall (because now the "stem" covers only a subset of 
all possible inflections).

This leads to an interesting conclusion: by blindly using stemmers 
(which may not be suitable for your corpus, or the document's language), 
in one sweep you can nicely lower BOTH the precision and recall 
measures! Clearly, not what one would expect or desire ... :-)

To summarize: IMHO indiscriminate use of stemming, soundexing and other 
language-specific techniques in general is more likely to reduce the 
quality of your results. However, when applied correctly, for a 
well-known corpus and use cases, it can bring significant increase in 
recall, and only a minimal penalty in precision.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 09:31:38 2004
Return-Path: <lucene-user-return-8005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51631 invoked from network); 23 Apr 2004 09:31:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 09:31:37 -0000
Received: (qmail 33842 invoked by uid 500); 23 Apr 2004 09:31:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33816 invoked by uid 500); 23 Apr 2004 09:31:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33802 invoked from network); 23 Apr 2004 09:31:03 -0000
Received: from unknown (HELO c014.snv.cp.net) (209.228.35.77)
  by daedalus.apache.org with SMTP; 23 Apr 2004 09:31:03 -0000
Received: (cpmta 6913 invoked from network); 23 Apr 2004 02:31:17 -0700
Received: from 209.228.35.81 (HELO mail.cswebmail.com.criticalpath.net)
  by smtp.cswebmail.com (209.228.35.77) with SMTP; 23 Apr 2004 02:31:17 -0700
X-Sent: 23 Apr 2004 09:31:17 GMT
Received: from [193.132.159.162] by mail.cswebmail.com with HTTP;
    Fri, 23 Apr 2004 02:31:17 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
From: hgadm@cswebmail.com
Subject: Fwd: Re: more rigid stopword list ?
X-Sent-From: hgadm@cswebmail.com
Date: Fri, 23 Apr 2004 02:31:17 -0700 (PDT)
X-Mailer: Web Mail 5.6.3-1
Message-Id: <20040423023117.19064.h007.c014.wm@mail.cswebmail.com.criticalpath.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Apologies for posting it accidentally on the dev list...

------- Start of forwarded message -------

Subject: Re: more rigid stopword list ?
From: hgadm@cswebmail.com
Date: Fri, 23 Apr 2004 02:29:09 -0700 (PDT)
To: lucene-dev@jakarta.apache.org

Many thanks to Tate, Otis, Eric [again :-)] and David.

I am using the Snowball stemmer - so with the
overloaded constructor for Snowball I guess a call
would be:

new SnowballAnalyser("English,
StopAnalyzer.MY_ENGLISH_STOP_WORDS);

where MY_ENGLISH_STOP_WORDS is a java.lang.String[] of
the stopwords I would like to use.

Is that the correct syntax for SnowballAnalyser ?

Thanks again,

Holger


On Thu, 22 Apr 2004 11:38:13 -0700, David Spencer wrote:

> 
> hgadm@cswebmail.com wrote:
> 
> > Dear all,
> > 
> > for my taste the stopwords included in Lucene (e.g.
> > StopAnalyzer.ENGLISH_STOP_WORDS, wich is usually
used
> > with the SnowballAnalyzer - and I guess also with
the
> > StandardAnalyzer) is not strict enough:
> > 
> > For example in a sentence with "we need ..." I would
> > consider "we" and "need" as stopwords but they are
not
> > stripped by SnowballAnalyzer or StandardAnalyzer. 
> > 
> > Now:
> > Is there an in-built solution to use more
restrictive
> > stripping or do I better create my own analyzer in
> that
> > case with a more restrictive stopword list ?
> > 
> > If so - are you aware of more rigid lists ? (a URI
> > would be great !)
> 
> Have you seen this:
> 
>
http://www.onjava.com/onjava/2003/01/15/examples/EnglishStopWords.txt
> 
> Though personally I would start with the default
> assumption that stop 
> word lists are not needed at all unless you can
"prove"
> you need it e.g.
> [1] the indexes are too big (though in theory this
> shouldn't happen 
> because of stop words..)
> [2] you're doing some index analysis where you
traverse
> terms and there 
> are just too many
> 
> 
> 
> > 
> > Thanks,
> > 
> > Holger
> > 
> > ___________________________________________________
> > The ALL NEW CS2000 from CompuServe
> >  Better!  Faster! More Powerful!
> >  250 FREE hours! Sign-on Now!
> >  http://www.compuserve.com/trycsrv/cs2000/webmail/
> > 
> > 
> > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-dev-help@jakarta.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-dev-help@jakarta.apache.org

___________________________________________________
The ALL NEW CS2000 from CompuServe
 Better!  Faster! More Powerful!
 250 FREE hours! Sign-on Now!
 http://www.compuserve.com/trycsrv/cs2000/webmail/

------- End of forwarded message -------

___________________________________________________
The ALL NEW CS2000 from CompuServe
 Better!  Faster! More Powerful!
 250 FREE hours! Sign-on Now!
 http://www.compuserve.com/trycsrv/cs2000/webmail/





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 13:26:30 2004
Return-Path: <lucene-user-return-8006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92859 invoked from network); 23 Apr 2004 13:26:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 13:26:30 -0000
Received: (qmail 40953 invoked by uid 500); 23 Apr 2004 13:26:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40894 invoked by uid 500); 23 Apr 2004 13:26:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40877 invoked from network); 23 Apr 2004 13:26:19 -0000
Received: from unknown (HELO mx03.cchmc.org) (205.142.198.33)
  by daedalus.apache.org with SMTP; 23 Apr 2004 13:26:19 -0000
Received: from localhost (localhost [127.0.0.1])
	by mx03.cchmc.org (Postfix) with ESMTP id 90A8FA4159
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 09:26:15 -0400 (EDT)
Received: from mx03.cchmc.org ([127.0.0.1])
	by localhost (mx03.cchmc.org [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 14404-02-55 for <lucene-user@jakarta.apache.org>;
	Fri, 23 Apr 2004 09:25:34 -0400 (EDT)
Received: from gwweb.cchmc.org (unknown [10.1.10.184])
	by mx03.cchmc.org (Postfix) with ESMTP id 347A2A436A
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 08:47:20 -0400 (EDT)
Received: from DOMX5-MTA by gwweb.cchmc.org
	with Novell_GroupWise; Fri, 23 Apr 2004 08:33:48 -0400
Message-Id: <s088d4ec.072@gwweb.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Thu, 22 Apr 2004 17:31:31 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Adding duplicate Fields to Documents
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Scanned: by amavisd-new-20030616-p7 (Debian) at cchmc.org
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I am wondering what happens when you add two Fields with same names to
a Document.  The API states that "if the fields are indexed, their text
is treated as though appended."  This much makes sense.  But what about
the following two cases:

- Adding two fields with same name that are indexed, not tokenized
(keywords)?  E.g. given ("field_name", "keyword1") and ("field_name",
"keyword2"), would the final keyword field be ("field_name",
"keyword1keyword2")?  Seems weird..

- Adding two fields with same name that are stored, but not indexed and
not tokenized (e.g. database keys)?  Are they appended (which would mess
up the database key when retrieved from the Hit)?

Thanks,
Gerard

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 16:37:39 2004
Return-Path: <lucene-user-return-8007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96643 invoked from network); 23 Apr 2004 16:37:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 16:37:39 -0000
Received: (qmail 1055 invoked by uid 500); 23 Apr 2004 16:37:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1026 invoked by uid 500); 23 Apr 2004 16:37:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1013 invoked from network); 23 Apr 2004 16:37:26 -0000
Received: from unknown (HELO mail-out3.apple.com) (17.254.13.22)
  by daedalus.apache.org with SMTP; 23 Apr 2004 16:37:25 -0000
Received: from mailgate1.apple.com (a17-128-100-225.apple.com [17.128.100.225])
	by mail-out3.apple.com (8.12.11/8.12.11) with ESMTP id i3NGbTFh022066
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 09:37:29 -0700 (PDT)
Received: from relay4.apple.com (relay4.apple.com) by mailgate1.apple.com
 (Content Technologies SMTPRS 4.3.6) with ESMTP id <T692322cc7c118064e13bc@mailgate1.apple.com> for <lucene-user@jakarta.apache.org>;
 Fri, 23 Apr 2004 09:37:29 -0700
Received: from [17.112.106.199] ([17.112.106.199])
	by relay4.apple.com (8.12.11/8.12.11) with ESMTP id i3NGbQ0U002208
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 09:37:27 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: 7bit
Message-Id: <807DF958-9544-11D8-B9F4-000A95C8F324@apple.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: David Black <black@apple.com>
Subject: Associating Page Numbers in large documents
Date: Fri, 23 Apr 2004 12:37:25 -0400
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a multiple page document and I would like to be able to provide 
the page number(s) where the "hit" was found.

I'm thinking that I could index each page separately and have a field 
that indicates if it's a child (member) of a larger "parent" document 
and then let manipulate the results to return a single result with the 
page number(s).

Is there a better way to approach this?


Thank You.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 17:40:22 2004
Return-Path: <lucene-user-return-8008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24317 invoked from network); 23 Apr 2004 17:40:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 17:40:21 -0000
Received: (qmail 26416 invoked by uid 500); 23 Apr 2004 17:40:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26379 invoked by uid 500); 23 Apr 2004 17:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26363 invoked from network); 23 Apr 2004 17:40:06 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 23 Apr 2004 17:40:06 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1BH4eo-00073g-00
	for lucene-user@jakarta.apache.org; Fri, 23 Apr 2004 13:40:10 -0400
Subject: Re: Adding duplicate Fields to Documents
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <s088d4ec.072@gwweb.cchmc.org>
References: <s088d4ec.072@gwweb.cchmc.org>
Content-Type: text/plain
Message-Id: <1082737808.12270.3.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Fri, 23 Apr 2004 13:40:10 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2004-04-22 at 17:31, Gerard Sychay wrote:

> - Adding two fields with same name that are indexed, not tokenized
> (keywords)?  E.g. given ("field_name", "keyword1") and ("field_name",
> "keyword2"), would the final keyword field be ("field_name",
> "keyword1keyword2")?  Seems weird..

They don't get concatenated this way - they each end up as separate
terms in the index.  A TermQuery for "keyword1" or "keyword2" will
retrieve this document.

> - Adding two fields with same name that are stored, but not indexed and
> not tokenized (e.g. database keys)?  Are they appended (which would mess
> up the database key when retrieved from the Hit)?

They are stored separately - you can retrieve them as separate Field
values.

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 21:42:24 2004
Return-Path: <lucene-user-return-8009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41387 invoked from network); 23 Apr 2004 21:42:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 21:42:24 -0000
Received: (qmail 89783 invoked by uid 500); 23 Apr 2004 21:41:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89756 invoked by uid 500); 23 Apr 2004 21:41:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89727 invoked from network); 23 Apr 2004 21:41:54 -0000
Received: from unknown (HELO fsv-extmail2.looksmart.com) (64.241.242.94)
  by daedalus.apache.org with SMTP; 23 Apr 2004 21:41:54 -0000
Received: from sf-intrelay.looksmart.com ([172.17.100.75])
	by fsv-extmail2.looksmart.com (8.12.10/8.12.10) with ESMTP id i3NLg1Tu004998
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 14:42:01 -0700
Received: from sfmail.looksmart.com (sfmail.looksmart.com [172.17.100.71])
	by sf-intrelay.looksmart.com (8.12.9/8.12.9) with ESMTP id i3NLg1T0022982
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 14:42:01 -0700
Received: by sfmail.looksmart.com with Internet Mail Service (5.5.2657.72)
	id <JNAD1F4B>; Fri, 23 Apr 2004 14:42:01 -0700
Message-ID: <8548575DAB2AD411AB5000508BC7576304773AAF@sfmail2.looksmart.com>
From: Abe Grief <agrief@looksmart.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: date range suggestion anyone?
Date: Fri, 23 Apr 2004 14:41:54 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I'm a newbie to Lucene, so someone please correct me if I say something
wrong or if there's an easier way.

Your search is looking exclusively for Documents that either become
available or expire in the given period.  What about something like
(untested):

+((dateAvailable:[01/01/0001 TO 03/01/2004]) AND
(dateExpired:[02/01/2004 TO 12/31/9999]))

This query assumes that Documents expire before they become available, which
seems like a reasonable assumption.

- Abe


-----Original Message-----
From: Frank Morton [mailto:fmorton@base2inc.com]
Sent: Thursday, April 22, 2004 8:42 PM
To: Lucene Users List
Subject: date range suggestion anyone?


Newbie here. Or, at least it has been a couple of years....

I have a date ranges working, which seem to work well. But I have
a question about how to form a query.

I have a publication with a dateAvailable and a dateExpired. It is
viewable any time between these dates.

I want to supply a date range, looking for publications available in
the specified range. I thought I could do:

+((dateAvailable:[02/01/2004 TO 03/01/2004]) OR 
(dateExpired:[02/01/2004 TO 03/01/2004]))

But this does not work with this combination of dates:

dateAvailable=1/1/2004
searchStartDate=2/1/2004
searchEndDate=3/1/2004
dateExpired=6/1/2004

Neither the dateAvailable nor dateExpired are included within the user 
specified test
range, even though the publication is available during the entire 
specified range,
plus more.

Anyone figured out a way to do this without enumerating all the dates?  
Or, do I
just need more sleep.

Thanks for any help.

Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 23 22:02:07 2004
Return-Path: <lucene-user-return-8010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50170 invoked from network); 23 Apr 2004 22:02:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Apr 2004 22:02:07 -0000
Received: (qmail 31516 invoked by uid 500); 23 Apr 2004 22:01:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31483 invoked by uid 500); 23 Apr 2004 22:01:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31435 invoked from network); 23 Apr 2004 22:01:29 -0000
Received: from unknown (HELO fsv-extmail2.looksmart.com) (64.241.242.94)
  by daedalus.apache.org with SMTP; 23 Apr 2004 22:01:29 -0000
Received: from sf-intrelay.looksmart.com ([172.17.100.75])
	by fsv-extmail2.looksmart.com (8.12.10/8.12.10) with ESMTP id i3NM1aTu005960
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 15:01:36 -0700
Received: from sfmail.looksmart.com (sfmail.looksmart.com [172.17.100.71])
	by sf-intrelay.looksmart.com (8.12.9/8.12.9) with ESMTP id i3NM1aT0023515
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 15:01:36 -0700
Received: by sfmail.looksmart.com with Internet Mail Service (5.5.2657.72)
	id <JNAD1GB1>; Fri, 23 Apr 2004 15:01:36 -0700
Message-ID: <8548575DAB2AD411AB5000508BC7576304773AB0@sfmail2.looksmart.com>
From: Abe Grief <agrief@looksmart.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: date range suggestion anyone?
Date: Fri, 23 Apr 2004 15:01:30 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Sorry, I meant to say:

This query assumes that _NO_ Documents expire before they become available,
which seems like a reasonable assumption.

- Abe

-----Original Message-----
From: Abe Grief 
Sent: Friday, April 23, 2004 2:42 PM
To: 'Lucene Users List'
Subject: RE: date range suggestion anyone?



I'm a newbie to Lucene, so someone please correct me if I say something
wrong or if there's an easier way.

Your search is looking exclusively for Documents that either become
available or expire in the given period.  What about something like
(untested):

+((dateAvailable:[01/01/0001 TO 03/01/2004]) AND
(dateExpired:[02/01/2004 TO 12/31/9999]))

This query assumes that Documents expire before they become available, which
seems like a reasonable assumption.

- Abe


-----Original Message-----
From: Frank Morton [mailto:fmorton@base2inc.com]
Sent: Thursday, April 22, 2004 8:42 PM
To: Lucene Users List
Subject: date range suggestion anyone?


Newbie here. Or, at least it has been a couple of years....

I have a date ranges working, which seem to work well. But I have
a question about how to form a query.

I have a publication with a dateAvailable and a dateExpired. It is
viewable any time between these dates.

I want to supply a date range, looking for publications available in
the specified range. I thought I could do:

+((dateAvailable:[02/01/2004 TO 03/01/2004]) OR 
(dateExpired:[02/01/2004 TO 03/01/2004]))

But this does not work with this combination of dates:

dateAvailable=1/1/2004
searchStartDate=2/1/2004
searchEndDate=3/1/2004
dateExpired=6/1/2004

Neither the dateAvailable nor dateExpired are included within the user 
specified test
range, even though the publication is available during the entire 
specified range,
plus more.

Anyone figured out a way to do this without enumerating all the dates?  
Or, do I
just need more sleep.

Thanks for any help.

Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 00:13:26 2004
Return-Path: <lucene-user-return-8011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94184 invoked from network); 24 Apr 2004 00:13:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 00:13:26 -0000
Received: (qmail 11535 invoked by uid 500); 24 Apr 2004 00:13:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11492 invoked by uid 500); 24 Apr 2004 00:13:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11479 invoked from network); 24 Apr 2004 00:13:04 -0000
Received: from unknown (HELO mx1.peregrine.com) (198.17.35.35)
  by daedalus.apache.org with SMTP; 24 Apr 2004 00:13:04 -0000
Received: from sdgexch1.peregrine.com (localhost [127.0.0.1])
	by mx1.peregrine.com (Postfix) with ESMTP id D1FCA23C83
	for <lucene-user@jakarta.apache.org>; Fri, 23 Apr 2004 16:25:49 -0700 (PDT)
Received: by sdgexch1.peregrine.com with Internet Mail Service (5.5.2653.19)
	id <29LXD6QC>; Fri, 23 Apr 2004 17:13:09 -0700
Message-ID: <615A9D02D71B3B49B1691CF081CB88B901FDD4E8@sdgexch4.peregrine.com>
From: Jason Elliott <jason.elliott@peregrine.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: languages supported by lucene 1.2.1 in eclipse help system
Date: Fri, 23 Apr 2004 17:13:09 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C42990.EC9F9F90"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C42990.EC9F9F90
Content-Type: text/plain

We have a plugin in our eclipse project named org.apache.lucene_1.2.1.
It works quite well in that help system.
 
I've been notified that this particular version of the lucene search
analyzer searches well in German and English (GE), but not so well in the
rest of the languages on this planet.
 
I have several questions
1.	If it does not search very "well" in French, Italian and Japanese
(FIJ), what does that really mean to a user conducting searches?
a.	If this is a myth and the searches work the same in EFIG-J, please
let me know that.
b.	If this is not a myth and there are plugins that enable the search
to work well in FIJ?
 
Thanks
jason
 

------_=_NextPart_001_01C42990.EC9F9F90--

From lucene-user-return-8012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 12:51:13 2004
Return-Path: <lucene-user-return-8012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10476 invoked from network); 24 Apr 2004 12:51:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 12:51:13 -0000
Received: (qmail 32350 invoked by uid 500); 24 Apr 2004 12:51:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32052 invoked by uid 500); 24 Apr 2004 12:51:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32019 invoked from network); 24 Apr 2004 12:51:03 -0000
Received: from unknown (HELO services.india.aalayance.com) (203.200.48.226)
  by daedalus.apache.org with SMTP; 24 Apr 2004 12:51:03 -0000
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id B63DAC187C
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 18:21:02 +0530 (IST)
Message-ID: <01fb01c429fa$5c1158a0$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040422170815.61876.qmail@web12706.mail.yahoo.com> <F1B18534-9484-11D8-A41E-000393A564E6@ehatchersolutions.com> <008601c42897$5ff7bae0$6204100a@INFXINC.NET>
Subject: Re: Doing a join?
Date: Sat, 24 Apr 2004 18:17:52 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
   I feel by different files u mean two different sub directories under a
common folder(i.e. directory).
    Now, one stores 3 fields and another one stores 2 fields.
    Also, the class_Id or Class_Name(file 1) and the Student_Id fields(file
2) should be indexed and
    stored in the index.
    You need to have your own code for implementing the same, that will
perform the search.
    The code snippet below, I feel if included in ur own searcher code would
provide results on the
    command line.
    Also, I have not tested it but in case of problem, pl. send me a small
sample database of the two tables
    to be indexed( and not the index files) or something similar one.

Regards,
Jitender

code:
========
String searchStr=null;
ArrayList results = new ArrayList();
ArrayList results1 = new ArrayList();
Searcher indexSrch = new IndexSearcher("file1");//"file1" is the file that
stores the 3 fields
Analyzer analyzer = new StandardAnalyzer();
Query query = QueryParser.parse(searchStr, "Class_Id", analyzer);
Hits hits = indexSrch.search(query);
for( int i=0; i<hits.length(); i++)
 {
   Document doc = hits.doc(i);
   String id = doc.get("Student_Id");// retrieves the Student's Id
   results.add(id);
 }

// need to feed the "results" contents to the query1 as "searchStr1"
Searcher indexSrch1 = new IndexSearcher("file2");//"file2" is the file that
stores 2 fields

if (hits.length!=0)
{
for (int j = 0; j<results.size(); String searchStr1= results.get(j))
{
Query query1= QueryParser.parse(searchStr1, "Student_Id", analyzer);
Hits hits1 = indexSrch1.search(query1);
for( int k=0; k<hits1.length(); k++)
 {
 Document doc = hits1.doc(0);
 String Student_name = doc.get("Student_Name");
 results1.add(Student_name);
 }
 }
 }
----- Original Message ----- 
From: "Rob Jose" <rjose@surewest.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, April 22, 2004 11:56 PM
Subject: Doing a join?


> Is it possible to do a join on two fields when searching a Lucene Index.
> For example, I have an index of documents that have a "StudentName" and a
> "StudentId" field and another document that has "ClassId", "ClassName" and
> "StudentId".  I want to do a search on "ClassId" or "ClassName" and get a
> list of "StudentName".  Both of these documents are in one index, but are
> loaded from seperate files, so I can't join at creation time.  Any help is
> greatly appreciated.
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 12:51:20 2004
Return-Path: <lucene-user-return-8013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10539 invoked from network); 24 Apr 2004 12:51:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 12:51:20 -0000
Received: (qmail 32773 invoked by uid 500); 24 Apr 2004 12:51:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32676 invoked by uid 500); 24 Apr 2004 12:51:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32547 invoked from network); 24 Apr 2004 12:51:08 -0000
Received: from unknown (HELO services.india.aalayance.com) (203.200.48.226)
  by daedalus.apache.org with SMTP; 24 Apr 2004 12:51:08 -0000
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id 2C71FC187C
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 18:21:08 +0530 (IST)
Message-ID: <01fc01c429fa$5f4c1140$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040422170815.61876.qmail@web12706.mail.yahoo.com> <F1B18534-9484-11D8-A41E-000393A564E6@ehatchersolutions.com> <008601c42897$5ff7bae0$6204100a@INFXINC.NET>
Subject: Re: Doing a join?
Date: Sat, 24 Apr 2004 18:17:58 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
   I feel by different files u mean two different sub directories under a
common folder(i.e. directory).
    Now, one stores 3 fields and another one stores 2 fields.
    Also, the class_Id or Class_Name(file 1) and the Student_Id fields(file
2) should be indexed and
    stored in the index.
    You need to have your own code for implementing the same, that will
perform the search.
    The code snippet below, I feel if included in ur own searcher code would
provide results on the
    command line.
    Also, I have not tested it but in case of problem, pl. send me a small
sample database of the two tables
    to be indexed( and not the index files) or something similar one.

Regards,
Jitender

code:
========
String searchStr=null;
ArrayList results = new ArrayList();
ArrayList results1 = new ArrayList();
Searcher indexSrch = new IndexSearcher("file1");//"file1" is the file that
stores the 3 fields
Analyzer analyzer = new StandardAnalyzer();
Query query = QueryParser.parse(searchStr, "Class_Id", analyzer);
Hits hits = indexSrch.search(query);
for( int i=0; i<hits.length(); i++)
 {
   Document doc = hits.doc(i);
   String id = doc.get("Student_Id");// retrieves the Student's Id
   results.add(id);
 }

// need to feed the "results" contents to the query1 as "searchStr1"
Searcher indexSrch1 = new IndexSearcher("file2");//"file2" is the file that
stores 2 fields

if (hits.length!=0)
{
for (int j = 0; j<results.size(); String searchStr1= results.get(j))
{
Query query1= QueryParser.parse(searchStr1, "Student_Id", analyzer);
Hits hits1 = indexSrch1.search(query1);
for( int k=0; k<hits1.length(); k++)
 {
 Document doc = hits1.doc(0);
 String Student_name = doc.get("Student_Name");
 results1.add(Student_name);
 }
 }
 }
----- Original Message ----- 
From: "Rob Jose" <rjose@surewest.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, April 22, 2004 11:56 PM
Subject: Doing a join?


> Is it possible to do a join on two fields when searching a Lucene Index.
> For example, I have an index of documents that have a "StudentName" and a
> "StudentId" field and another document that has "ClassId", "ClassName" and
> "StudentId".  I want to do a search on "ClassId" or "ClassName" and get a
> list of "StudentName".  Both of these documents are in one index, but are
> loaded from seperate files, so I can't join at creation time.  Any help is
> greatly appreciated.
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 14:18:31 2004
Return-Path: <lucene-user-return-8014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40876 invoked from network); 24 Apr 2004 14:18:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 14:18:31 -0000
Received: (qmail 8561 invoked by uid 500); 24 Apr 2004 14:18:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8539 invoked by uid 500); 24 Apr 2004 14:18:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8526 invoked from network); 24 Apr 2004 14:18:20 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 Apr 2004 14:18:20 -0000
Message-ID: <20040424141822.74843.qmail@web12707.mail.yahoo.com>
Received: from [195.29.60.170] by web12707.mail.yahoo.com via HTTP; Sat, 24 Apr 2004 07:18:22 PDT
Date: Sat, 24 Apr 2004 07:18:22 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: languages supported by lucene 1.2.1 in eclipse help system
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <615A9D02D71B3B49B1691CF081CB88B901FDD4E8@sdgexch4.peregrine.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That's no myth :)
Core Lucene (even the current version) does not include classes that
know how to analyze/tokenize text in languages other than English,
Russian, and German.  However, take a look at the Snowball
contributions in Lucene Sandbox, where a few more analyzers are
available, including those for CJK group of langauges.

Otis


--- Jason Elliott <jason.elliott@peregrine.com> wrote:
> We have a plugin in our eclipse project named
> org.apache.lucene_1.2.1.
> It works quite well in that help system.
>  
> I've been notified that this particular version of the lucene search
> analyzer searches well in German and English (GE), but not so well in
> the
> rest of the languages on this planet.
>  
> I have several questions
> 1.	If it does not search very "well" in French, Italian and Japanese
> (FIJ), what does that really mean to a user conducting searches?
> a.	If this is a myth and the searches work the same in EFIG-J, please
> let me know that.
> b.	If this is not a myth and there are plugins that enable the search
> to work well in FIJ?
>  
> Thanks
> jason
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 17:31:28 2004
Return-Path: <lucene-user-return-8015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96871 invoked from network); 24 Apr 2004 17:31:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 17:31:28 -0000
Received: (qmail 18970 invoked by uid 500); 24 Apr 2004 17:31:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18723 invoked by uid 500); 24 Apr 2004 17:31:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18701 invoked from network); 24 Apr 2004 17:31:14 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 24 Apr 2004 17:31:14 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3OHVIx01984
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 13:31:18 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sat, 24 Apr 2004 13:31:17 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: date range suggestion anyone?
In-Reply-To: <8548575DAB2AD411AB5000508BC7576304773AAF@sfmail2.looksmart.com>
Message-ID: <Pine.LNX.4.33.0404241320190.1853-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ranges are sorted like text, alphabetically.

You should change the format of your dates to: yyyy/mm/dd

If you don't, the range search won't work:

Here is an example (I'm not sure if I understand your algorithm, so
ignore mistakes there):

+((dateAvailable:[0 TO S_END_DATE]) AND
(dateExpired:[S_START_DATE TO 9])) <other terms>

or with the following parameters:

> dateAvailable=20040101
> searchStartDate=20040201
> searchEndDate=20040301
> dateExpired=20040601

+((dateAvailable:[0 TO 20040301]) AND
(dateExpired:[20040201 TO 9]))

Should return the right the above doc.

HTH,
sv

On Fri, 23 Apr 2004, Abe Grief wrote:

>
> I'm a newbie to Lucene, so someone please correct me if I say something
> wrong or if there's an easier way.
>
> Your search is looking exclusively for Documents that either become
> available or expire in the given period.  What about something like
> (untested):
>
> +((dateAvailable:[01/01/0001 TO 03/01/2004]) AND
> (dateExpired:[02/01/2004 TO 12/31/9999]))
>
> This query assumes that Documents expire before they become available, which
> seems like a reasonable assumption.
>
> - Abe
>
>
> -----Original Message-----
> From: Frank Morton [mailto:fmorton@base2inc.com]
> Sent: Thursday, April 22, 2004 8:42 PM
> To: Lucene Users List
> Subject: date range suggestion anyone?
>
>
> Newbie here. Or, at least it has been a couple of years....
>
> I have a date ranges working, which seem to work well. But I have
> a question about how to form a query.
>
> I have a publication with a dateAvailable and a dateExpired. It is
> viewable any time between these dates.
>
> I want to supply a date range, looking for publications available in
> the specified range. I thought I could do:
>
> +((dateAvailable:[02/01/2004 TO 03/01/2004]) OR
> (dateExpired:[02/01/2004 TO 03/01/2004]))
>
> But this does not work with this combination of dates:
>
> dateAvailable=1/1/2004
> searchStartDate=2/1/2004
> searchEndDate=3/1/2004
> dateExpired=6/1/2004
>
> Neither the dateAvailable nor dateExpired are included within the user
> specified test
> range, even though the publication is available during the entire
> specified range,
> plus more.
>
> Anyone figured out a way to do this without enumerating all the dates?
> Or, do I
> just need more sleep.
>
> Thanks for any help.
>
> Frank
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 18:02:53 2004
Return-Path: <lucene-user-return-8016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5218 invoked from network); 24 Apr 2004 18:02:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 18:02:53 -0000
Received: (qmail 49411 invoked by uid 500); 24 Apr 2004 18:02:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49382 invoked by uid 500); 24 Apr 2004 18:02:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49363 invoked from network); 24 Apr 2004 18:02:38 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 24 Apr 2004 18:02:38 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3OI2gZ02168
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 14:02:42 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Sat, 24 Apr 2004 14:02:42 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Adding duplicate Fields to Documents
In-Reply-To: <s088d4ec.072@gwweb.cchmc.org>
Message-ID: <Pine.LNX.4.33.0404241359060.1853-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>From my experience (that is little experience;)), fields that are not
tokenised, are stored separately. Someone more qualified can surely give
you more details.

You can look at your index with Luke, it might be insightful.
sv

On Thu, 22 Apr 2004, Gerard Sychay wrote:

> Hello,
>
> I am wondering what happens when you add two Fields with same names to
> a Document.  The API states that "if the fields are indexed, their text
> is treated as though appended."  This much makes sense.  But what about
> the following two cases:
>
> - Adding two fields with same name that are indexed, not tokenized
> (keywords)?  E.g. given ("field_name", "keyword1") and ("field_name",
> "keyword2"), would the final keyword field be ("field_name",
> "keyword1keyword2")?  Seems weird..
>
> - Adding two fields with same name that are stored, but not indexed and
> not tokenized (e.g. database keys)?  Are they appended (which would mess
> up the database key when retrieved from the Hit)?
>
> Thanks,
> Gerard
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Apr 24 20:22:33 2004
Return-Path: <lucene-user-return-8017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51398 invoked from network); 24 Apr 2004 20:22:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Apr 2004 20:22:33 -0000
Received: (qmail 17135 invoked by uid 500); 24 Apr 2004 20:22:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17115 invoked by uid 500); 24 Apr 2004 20:22:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17101 invoked from network); 24 Apr 2004 20:22:16 -0000
Received: from unknown (HELO web25006.mail.ukl.yahoo.com) (217.12.10.42)
  by daedalus.apache.org with SMTP; 24 Apr 2004 20:22:16 -0000
Message-ID: <20040424202220.57729.qmail@web25006.mail.ukl.yahoo.com>
Received: from [216.233.211.71] by web25006.mail.ukl.yahoo.com via HTTP; Sat, 24 Apr 2004 21:22:20 BST
Date: Sat, 24 Apr 2004 21:22:20 +0100 (BST)
From: =?iso-8859-1?q?Tapan=20Bhattacharya?= <tapacharya@yahoo.co.uk>
Subject: Ranking
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.33.0404241359060.1853-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-22848474-1082838140=:52389"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-22848474-1082838140=:52389
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I'm a newbie, so I apologize if this is too naive a question. In looking at some of the available documentation, I have not come across any reference to ranking results. How is it done in Lucene?
 
TB

 
		
---------------------------------
  Yahoo! Messenger - Communicate instantly..."Ping" your friends today! Download Messenger Now
--0-22848474-1082838140=:52389--

From lucene-user-return-8018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 25 02:36:12 2004
Return-Path: <lucene-user-return-8018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60356 invoked from network); 25 Apr 2004 02:36:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Apr 2004 02:36:12 -0000
Received: (qmail 5166 invoked by uid 500); 25 Apr 2004 02:35:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5019 invoked by uid 500); 25 Apr 2004 02:35:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5006 invoked from network); 25 Apr 2004 02:35:48 -0000
Received: from unknown (HELO relay3.san1.attens.com) (192.215.81.76)
  by daedalus.apache.org with SMTP; 25 Apr 2004 02:35:48 -0000
Received: from 256host83.starwoodbroadband.com (256host83.starwoodbroadband.com [12.105.73.83])
	by relay3.san1.attens.com (8.11.6/8.9.3) with ESMTP id i3P2Zvd27722
	for <lucene-user@jakarta.apache.org>; Sun, 25 Apr 2004 02:35:57 GMT
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by 256host83.starwoodbroadband.com (Postfix) with ESMTP id C59806AB3A7
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 22:35:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040424202220.57729.qmail@web25006.mail.ukl.yahoo.com>
References: <20040424202220.57729.qmail@web25006.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <48324270-9661-11D8-BFAB-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Ranking
Date: Sat, 24 Apr 2004 22:35:57 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 24, 2004, at 4:22 PM, Tapan Bhattacharya wrote:
> I'm a newbie, so I apologize if this is too naive a question. In  
> looking at some of the available documentation, I have not come across  
> any reference to ranking results. How is it done in Lucene?

It uses this formula:

	<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
Similarity.html>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 25 03:25:49 2004
Return-Path: <lucene-user-return-8019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73644 invoked from network); 25 Apr 2004 03:25:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Apr 2004 03:25:49 -0000
Received: (qmail 49446 invoked by uid 500); 25 Apr 2004 03:25:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49424 invoked by uid 500); 25 Apr 2004 03:25:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49411 invoked from network); 25 Apr 2004 03:25:24 -0000
Received: from unknown (HELO web25007.mail.ukl.yahoo.com) (217.12.10.43)
  by daedalus.apache.org with SMTP; 25 Apr 2004 03:25:24 -0000
Message-ID: <20040425032533.90931.qmail@web25007.mail.ukl.yahoo.com>
Received: from [216.233.211.71] by web25007.mail.ukl.yahoo.com via HTTP; Sun, 25 Apr 2004 04:25:33 BST
Date: Sun, 25 Apr 2004 04:25:33 +0100 (BST)
From: =?iso-8859-1?q?Tapan=20Bhattacharya?= <tapacharya@yahoo.co.uk>
Subject: Re: Ranking
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <48324270-9661-11D8-BFAB-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2141406569-1082863533=:88092"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-2141406569-1082863533=:88092
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Eric,
 
Thanks for your prompt response. What happes when more than one document has the same score? How are the results then ranked?
 
-TB

Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Apr 24, 2004, at 4:22 PM, Tapan Bhattacharya wrote:
> I'm a newbie, so I apologize if this is too naive a question. In 
> looking at some of the available documentation, I have not come across 
> any reference to ranking results. How is it done in Lucene?

It uses this formula:

Similarity.html>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

		
---------------------------------
  Yahoo! Messenger - Communicate instantly..."Ping" your friends today! Download Messenger Now
--0-2141406569-1082863533=:88092--

From lucene-user-return-8020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 25 04:07:38 2004
Return-Path: <lucene-user-return-8020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87408 invoked from network); 25 Apr 2004 04:07:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Apr 2004 04:07:38 -0000
Received: (qmail 86819 invoked by uid 500); 25 Apr 2004 04:07:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86796 invoked by uid 500); 25 Apr 2004 04:07:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86783 invoked from network); 25 Apr 2004 04:07:12 -0000
Received: from unknown (HELO relay3.san1.attens.com) (192.215.81.76)
  by daedalus.apache.org with SMTP; 25 Apr 2004 04:07:12 -0000
Received: from 256host83.starwoodbroadband.com (256host83.starwoodbroadband.com [12.105.73.83])
	by relay3.san1.attens.com (8.11.6/8.9.3) with ESMTP id i3P47Md20061
	for <lucene-user@jakarta.apache.org>; Sun, 25 Apr 2004 04:07:23 GMT
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by 256host83.starwoodbroadband.com (Postfix) with ESMTP id 6223D6AB228
	for <lucene-user@jakarta.apache.org>; Sat, 24 Apr 2004 22:10:01 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <807DF958-9544-11D8-B9F4-000A95C8F324@apple.com>
References: <807DF958-9544-11D8-B9F4-000A95C8F324@apple.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <54756D40-9596-11D8-AD2E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Associating Page Numbers in large documents
Date: Fri, 23 Apr 2004 22:23:10 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The "Document" is the granularity of search results, so if you want 
results by page, then a page should correspond to a Document instance.  
I'm not sure you'd need the parent concept except as a field to 
represent the actual document the page comes from if you are indexing 
several multi-page documents.  Unfortunately "document" is far too 
overloaded in the previous sentences.  I think you are onto the right 
approach though.

	Erik

On Apr 23, 2004, at 12:37 PM, David Black wrote:

> I have a multiple page document and I would like to be able to provide 
> the page number(s) where the "hit" was found.
>
> I'm thinking that I could index each page separately and have a field 
> that indicates if it's a child (member) of a larger "parent" document 
> and then let manipulate the results to return a single result with the 
> page number(s).
>
> Is there a better way to approach this?
>
>
> Thank You.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Apr 25 10:55:39 2004
Return-Path: <lucene-user-return-8021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87578 invoked from network); 25 Apr 2004 10:55:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Apr 2004 10:55:39 -0000
Received: (qmail 22103 invoked by uid 500); 25 Apr 2004 10:55:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21894 invoked by uid 500); 25 Apr 2004 10:55:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21881 invoked from network); 25 Apr 2004 10:55:33 -0000
Received: from unknown (HELO relay1.san2.attens.com) (192.215.81.74)
  by daedalus.apache.org with SMTP; 25 Apr 2004 10:55:33 -0000
Received: from 256host83.starwoodbroadband.com (256host83.starwoodbroadband.com [12.105.73.83])
	by relay1.san2.attens.com (8.11.6/8.9.3) with ESMTP id i3PAtWi30235
	for <lucene-user@jakarta.apache.org>; Sun, 25 Apr 2004 10:55:32 GMT
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by 256host83.starwoodbroadband.com (Postfix) with ESMTP id 9945C6ABD9A
	for <lucene-user@jakarta.apache.org>; Sun, 25 Apr 2004 06:55:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040425032533.90931.qmail@web25007.mail.ukl.yahoo.com>
References: <20040425032533.90931.qmail@web25007.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <129DCBF7-96A7-11D8-AE8F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Ranking
Date: Sun, 25 Apr 2004 06:55:32 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 24, 2004, at 11:25 PM, Tapan Bhattacharya wrote:
> Thanks for your prompt response. What happes when more than one 
> document has the same score? How are the results then ranked?

Equivalent scoring documents are then subsorted by document insertion 
order by default.

With the 1.4 version of Lucene, there is a very sophisticated way to 
sort, and you could choose to sort by "relevance" (rank/score), and 
then sub-sort by some other field value (ascending or descending) and 
now within even the latest unreleased version a comparator feature was 
added so you could develop your own mechanism for sorting given two 
documents.

	Erik


>
> -TB
>
> Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Apr 24, 2004, at 4:22 PM, Tapan Bhattacharya wrote:
>> I'm a newbie, so I apologize if this is too naive a question. In
>> looking at some of the available documentation, I have not come across
>> any reference to ranking results. How is it done in Lucene?
>
> It uses this formula:
>
> Similarity.html>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 		
> ---------------------------------
>   Yahoo! Messenger - Communicate instantly..."Ping" your friends 
> today! Download Messenger Now


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 01:20:07 2004
Return-Path: <lucene-user-return-8022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81967 invoked from network); 26 Apr 2004 01:20:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 01:20:07 -0000
Received: (qmail 35441 invoked by uid 500); 26 Apr 2004 01:19:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35423 invoked by uid 500); 26 Apr 2004 01:19:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35407 invoked from network); 26 Apr 2004 01:19:43 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 26 Apr 2004 01:19:43 -0000
Received: (qmail 11460 invoked from network); 26 Apr 2004 01:19:47 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 26 Apr 2004 01:19:47 -0000
Subject: Java Parser or Lucene
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1082942312.2585.6.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 26 Apr 2004 09:18:32 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I am deciding between using the parsing API provided by Java and Lucene
for searching keywords in a HTML page. Is Lucene an overkill for a
webpage (which is quite small in size) in this case? I don't have a
obvious choice between them because both can do the same job.

Any advise?

Thanks

Sebastian Ho
Bioinformatics Institute


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 03:47:49 2004
Return-Path: <lucene-user-return-8023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37962 invoked from network); 26 Apr 2004 03:47:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 03:47:48 -0000
Received: (qmail 27734 invoked by uid 500); 26 Apr 2004 03:47:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27708 invoked by uid 500); 26 Apr 2004 03:47:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27579 invoked from network); 26 Apr 2004 03:47:21 -0000
Received: from unknown (HELO hotmail.com) (65.54.186.183)
  by daedalus.apache.org with SMTP; 26 Apr 2004 03:47:21 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 25 Apr 2004 20:47:32 -0700
Received: from 210.193.14.173 by bay16-dav3.bay16.hotmail.com with DAV;
	Mon, 26 Apr 2004 03:47:31 +0000
X-Originating-IP: [210.193.14.173]
X-Originating-Email: [sigirisetti@hotmail.com]
X-Sender: sigirisetti@hotmail.com
From: "Surya Kiran" <sigirisetti@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Segments file get deleted?!
Date: Mon, 26 Apr 2004 11:47:30 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_006D_01C42B84.415FA080"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY16-DAV3NLxSXgz9s0002eeb1@hotmail.com>
X-OriginalArrivalTime: 26 Apr 2004 03:47:32.0098 (UTC) FILETIME=[3425D620:01C42B41]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_006D_01C42B84.415FA080
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all, we have implemented our portal search using Lucene. It  works =
fine. But after a certain period of time "Lucene segments" file get =
deleted. Eventually all searches fails. Anyone can guess where the error =
could be.

Thanks a lot.

Regards
Surya.
------=_NextPart_000_006D_01C42B84.415FA080--

From lucene-user-return-8024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 04:43:15 2004
Return-Path: <lucene-user-return-8024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66500 invoked from network); 26 Apr 2004 04:43:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 04:43:14 -0000
Received: (qmail 99942 invoked by uid 500); 26 Apr 2004 04:42:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99921 invoked by uid 500); 26 Apr 2004 04:42:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99908 invoked from network); 26 Apr 2004 04:42:48 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.241)
  by daedalus.apache.org with SMTP; 26 Apr 2004 04:42:48 -0000
Received: (cpmta 3927 invoked from network); 25 Apr 2004 21:42:58 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.241) with SMTP; 25 Apr 2004 21:42:58 -0700
X-Sent: 26 Apr 2004 04:42:58 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Segments file get deleted?!
Date: Mon, 26 Apr 2004 08:42:46 +0400
Organization: Bayt.com
Message-ID: <000301c42b48$f0ad1090$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
In-Reply-To: <BAY16-DAV3NLxSXgz9s0002eeb1@hotmail.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you give us a bit of background, we've been using Lucene since the =
first
stable release 2 years ago, and I 've never had segments disappear on =
me,
first of all can you provide some background on your setup and secondly =
when
you say "a certain period of time", how much time are we talking about =
here
and does that interval coincide with your indexing schedule, because you =
may
have the create flag on the Indexer set to true so it simply recreates =
the
index at every update and deleted whatever was there, of course if there =
are
no files to index at any point it will just give you a blank index.=20


Nader Henein

-----Original Message-----
From: Surya Kiran [mailto:sigirisetti@hotmail.com]=20
Sent: Monday, April 26, 2004 7:48 AM
To: lucene-user@jakarta.apache.org
Subject: Segments file get deleted?!


Hi all, we have implemented our portal search using Lucene. It  works =
fine.
But after a certain period of time "Lucene segments" file get deleted.
Eventually all searches fails. Anyone can guess where the error could =
be.

Thanks a lot.

Regards
Surya.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 10:31:58 2004
Return-Path: <lucene-user-return-8025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61111 invoked from network); 26 Apr 2004 10:31:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 10:31:58 -0000
Received: (qmail 19085 invoked by uid 500); 26 Apr 2004 10:31:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19014 invoked by uid 500); 26 Apr 2004 10:31:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18912 invoked from network); 26 Apr 2004 10:31:48 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 26 Apr 2004 10:31:48 -0000
Received: (qmail 21993 invoked from network); 26 Apr 2004 10:31:45 -0000
Received: from unknown (HELO tcn.local) ([pbs]652696@[217.231.254.164])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 26 Apr 2004 10:31:45 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 69574DAC
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 12:31:47 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ValueListHandler pattern with Lucene
Date: Mon, 26 Apr 2004 12:31:47 +0200
User-Agent: KMail/1.6.2
References: <200404092118.26341.lucene@nitwit.de> <70B873FF-8BCF-11D8-ACE8-000393A564E6@ehatchersolutions.com> <200404122054.15379.lucene@nitwit.de>
In-Reply-To: <200404122054.15379.lucene@nitwit.de>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200404261231.47116.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 12 April 2004 20:54, lucene@nitwit.de wrote:
> On Sunday 11 April 2004 17:46, Erik Hatcher wrote:
> > In other words, you need to invent your own "pattern" here?!  :)
>
> I just experimented a bit and came up with the ValueListSupplier which
> replaces the ValueList in the VLH. Seems to work so far... :-) Comments are
> greatly appreciated!

FYI http://www.nitwit.de/vlh2/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 14:35:31 2004
Return-Path: <lucene-user-return-8026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98490 invoked from network); 26 Apr 2004 14:35:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 14:35:31 -0000
Received: (qmail 23478 invoked by uid 500); 26 Apr 2004 14:34:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23443 invoked by uid 500); 26 Apr 2004 14:34:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23365 invoked from network); 26 Apr 2004 14:34:58 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 26 Apr 2004 14:34:58 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3QEYuQt002791;
	Mon, 26 Apr 2004 10:34:56 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3QEYufS002787;
	Mon, 26 Apr 2004 10:34:56 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 26 Apr 2004 10:34:56 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>, <nsh@bayt.net>
Subject: RE: Segments file get deleted?!
In-Reply-To: <000301c42b48$f0ad1090$1801a8c0@naderit>
Message-ID: <Pine.LNX.4.44.0404261032540.2736-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would have to agree with Surya's diagnosis, can you give us details on 
your update process?

Please include OS, and if there are some non-java processes (e.g. doing 
copies).

cheers,
sv

On Mon, 26 Apr 2004, Nader S. Henein wrote:

> Can you give us a bit of background, we've been using Lucene since the first
> stable release 2 years ago, and I 've never had segments disappear on me,
> first of all can you provide some background on your setup and secondly when
> you say "a certain period of time", how much time are we talking about here
> and does that interval coincide with your indexing schedule, because you may
> have the create flag on the Indexer set to true so it simply recreates the
> index at every update and deleted whatever was there, of course if there are
> no files to index at any point it will just give you a blank index. 
> 
> 
> Nader Henein
> 
> -----Original Message-----
> From: Surya Kiran [mailto:sigirisetti@hotmail.com] 
> Sent: Monday, April 26, 2004 7:48 AM
> To: lucene-user@jakarta.apache.org
> Subject: Segments file get deleted?!
> 
> 
> Hi all, we have implemented our portal search using Lucene. It  works fine.
> But after a certain period of time "Lucene segments" file get deleted.
> Eventually all searches fails. Anyone can guess where the error could be.
> 
> Thanks a lot.
> 
> Regards
> Surya.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 14:57:03 2004
Return-Path: <lucene-user-return-8027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12217 invoked from network); 26 Apr 2004 14:57:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 14:57:03 -0000
Received: (qmail 81159 invoked by uid 500); 26 Apr 2004 14:56:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81127 invoked by uid 500); 26 Apr 2004 14:56:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81059 invoked from network); 26 Apr 2004 14:56:49 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 26 Apr 2004 14:56:49 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3QEupQt002857
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 10:56:51 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3QEupoq002853
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 10:56:51 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 26 Apr 2004 10:56:51 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: =?iso-8859-1?q?=5BJakarta_Lucene_Wiki=5D_Updated=3A__NewFrontPage?=
In-Reply-To: <20040426143829.543.73257@minotaur.apache.org>
Message-ID: <Pine.LNX.4.44.0404261040160.2736-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't know what you think of the NewFrontPage, but if you like it, I 
could do a switch, renaming old FrontPage to OldFrontPage and the new one 
to FrontPage.

Also, if anyone knows how to do this, it would be appreciated. I haven't 
figured out yet how to rename/destroy pages (are there permissions in 
MoinMoin?). Amongst other things, the doc says there should be an 
action=DeletePage.

cheers,
sv

On Mon, 26 Apr 2004 lucene-cvs@jakarta.apache.org wrote:

>    Date: 2004-04-26T07:38:29
>    Editor: StephaneVaucher <vauchers@cirano.qc.ca>
>    Wiki: Jakarta Lucene Wiki
>    Page: NewFrontPage
>    URL: http://wiki.apache.org/jakarta-lucene/NewFrontPage
> 
>    Added link to PoweredBy page
> 
> Change Log:
> 
> ------------------------------------------------------------------------------
> @@ -17,6 +17,7 @@
>   || IntroductionToLucene || Articles and Tutorials introducing Lucene ||
>   || OnTheRoad || Information on presentations and courses ||
>   || InformationRetrieval || Articles and Tutorials on information retrieval ||
> + || PoweredBy || Link to projects using Lucene ||
>   || ["LuceneFAQ"]            || The Lucene FAQ ||
>   || HowTo                || Lucene HOWTO's : small tutorials and code snippets ||
>   || ["Resources"]        || Contains useful links ||
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 15:31:05 2004
Return-Path: <lucene-user-return-8028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31054 invoked from network); 26 Apr 2004 15:31:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 15:31:05 -0000
Received: (qmail 66026 invoked by uid 500); 26 Apr 2004 15:30:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66000 invoked by uid 500); 26 Apr 2004 15:30:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65982 invoked from network); 26 Apr 2004 15:30:53 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 26 Apr 2004 15:30:53 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 9BF586AF2FB
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 11:30:59 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0404261040160.2736-100000@mere.cirano.qc.ca>
References: <Pine.LNX.4.44.0404261040160.2736-100000@mere.cirano.qc.ca>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B7C7782F-9796-11D8-9FFF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [Jakarta Lucene Wiki] Updated:  NewFrontPage
Date: Mon, 26 Apr 2004 11:30:59 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Make the switch ... I don't see any reason to save the old page.  We  
can always change it, it's a wiki after all!

	Erik

On Apr 26, 2004, at 10:56 AM, Stephane James Vaucher wrote:

> I don't know what you think of the NewFrontPage, but if you like it, I
> could do a switch, renaming old FrontPage to OldFrontPage and the new  
> one
> to FrontPage.
>
> Also, if anyone knows how to do this, it would be appreciated. I  
> haven't
> figured out yet how to rename/destroy pages (are there permissions in
> MoinMoin?). Amongst other things, the doc says there should be an
> action=DeletePage.
>
> cheers,
> sv
>
> On Mon, 26 Apr 2004 lucene-cvs@jakarta.apache.org wrote:
>
>>    Date: 2004-04-26T07:38:29
>>    Editor: StephaneVaucher <vauchers@cirano.qc.ca>
>>    Wiki: Jakarta Lucene Wiki
>>    Page: NewFrontPage
>>    URL: http://wiki.apache.org/jakarta-lucene/NewFrontPage
>>
>>    Added link to PoweredBy page
>>
>> Change Log:
>>
>> ---------------------------------------------------------------------- 
>> --------
>> @@ -17,6 +17,7 @@
>>   || IntroductionToLucene || Articles and Tutorials introducing  
>> Lucene ||
>>   || OnTheRoad || Information on presentations and courses ||
>>   || InformationRetrieval || Articles and Tutorials on information  
>> retrieval ||
>> + || PoweredBy || Link to projects using Lucene ||
>>   || ["LuceneFAQ"]            || The Lucene FAQ ||
>>   || HowTo                || Lucene HOWTO's : small tutorials and  
>> code snippets ||
>>   || ["Resources"]        || Contains useful links ||
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 17:57:56 2004
Return-Path: <lucene-user-return-8029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1544 invoked from network); 26 Apr 2004 17:57:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 17:57:56 -0000
Received: (qmail 43869 invoked by uid 500); 26 Apr 2004 17:57:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43758 invoked by uid 500); 26 Apr 2004 17:57:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43739 invoked from network); 26 Apr 2004 17:57:41 -0000
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by daedalus.apache.org with SMTP; 26 Apr 2004 17:57:41 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Mon, 26 Apr 2004 13:57:44 -0400
Message-Id: <s08d1558.099@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Mon, 26 Apr 2004 13:57:16 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Adding duplicate Fields to Documents
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke is a good idea.  I'll also just write a simple test program and
play around with it (something I probably should have done before
posting) and then post my findings here.

>>> Stephane James Vaucher <vauchers@cirano.qc.ca> 04/24/04 02:02PM
>>>
>From my experience (that is little experience;)), fields that are not
tokenised, are stored separately. Someone more qualified can surely
give
you more details.

You can look at your index with Luke, it might be insightful.
sv

On Thu, 22 Apr 2004, Gerard Sychay wrote:

> Hello,
>
> I am wondering what happens when you add two Fields with same names
to
> a Document.  The API states that "if the fields are indexed, their
text
> is treated as though appended."  This much makes sense.  But what
about
> the following two cases:
>
> - Adding two fields with same name that are indexed, not tokenized
> (keywords)?  E.g. given ("field_name", "keyword1") and
("field_name",
> "keyword2"), would the final keyword field be ("field_name",
> "keyword1keyword2")?  Seems weird..
>
> - Adding two fields with same name that are stored, but not indexed
and
> not tokenized (e.g. database keys)?  Are they appended (which would
mess
> up the database key when retrieved from the Hit)?
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 18:35:46 2004
Return-Path: <lucene-user-return-8030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17554 invoked from network); 26 Apr 2004 18:35:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 18:35:46 -0000
Received: (qmail 16290 invoked by uid 500); 26 Apr 2004 18:35:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16258 invoked by uid 500); 26 Apr 2004 18:35:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16109 invoked from network); 26 Apr 2004 18:35:12 -0000
Received: from unknown (HELO exchange03.corp.yellowbrix.com) (64.125.197.7)
  by daedalus.apache.org with SMTP; 26 Apr 2004 18:35:12 -0000
Content-class: urn:content-classes:message
Subject: QueryParser Behavior and Token.setPositionIncrement
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C42BBD.0C29B610"
Date: Mon, 26 Apr 2004 14:34:02 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <B5262878D67D8943891DF3C0FD0CF9B425B7B3@exchange03.corp.yellowbrix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QueryParser Behavior and Token.setPositionIncrement
thread-index: AcQruVwCmG6oiFHRSlOJpVbPtnrB2AAA5lhg
From: "Norton, James" <jnorton@yellowbrix.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C42BBD.0C29B610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

> I am attempting to use Token.setPositionIncrement() to provide =
alternate forms of tokens and I have encountered strange
> behavior with QueryParser.  It seems to be constructing phrase queries =
with the alternate tokens.  I don't know why the
> query would be parsed as a phrase.
>=20
> For example, consider an Analyzer that adds lowercase tokens to the =
token stream as alternate forms (position increment =3D 0).
> Parsing the query "Bush" (quotes added for emphasis and not part of =
query) results in a query of text:"Bush bush" ("text" is
> the default field).  Whereas parsing the query "bush" results in the =
query text:bush.  Notice the lack of quotes in the second
> case, which has no alternate form appended because the token is =
already lowercase.  Is this a bug or is there some=20
> explanation of which I am not aware?
>=20
> The following two classes provide test code verifying this behaviour.
>=20
>=20
>=20
> /**
>  * A test analyzer employing a TestLowerCaseFilter to demonstrate =
problems with
>  * QueryParser when dealing with multiple tokens at the same position.
>  */
> public class TestAnalyzer extends Analyzer {
> 	/**
> 	 * Constructs a {@link StandardTokenizer} filtered by a {@link
> 	 * StandardFilter} and a {@link TestLowerCaseFilter}.
> 	 */
> 	public final TokenStream tokenStream(String fieldName, Reader reader) =
{
> 		TokenStream result =3D new StandardTokenizer(reader);
> 		result =3D new StandardFilter(result);
> 		result =3D new TestLowerCaseFilter(result, Locale.getDefault());
> 		return result;
> 	}
> =09
> 	public static void main(String[] args) {
> 		TestAnalyzer analyzer =3D new TestAnalyzer();
> 		try {
> 			Query lowerCaseQuery =3D QueryParser.parse("bush", "text", =
analyzer);
> 			Query upperCaseQuery =3D QueryParser.parse("Bush", "text", =
analyzer);
> 		=09
> 			System.out.println("lower case: " + lowerCaseQuery.toString());
> 			System.out.println("upper case: " + upperCaseQuery.toString());
> 		} catch (ParseException e) {
> 			// TODO Auto-generated catch block
> 			e.printStackTrace();
> 		}
> 	=09
> 	}
> }
>=20
> /**
>  *
>  * A {@link Filter} that adds alternate forms (lower case) for upper =
case=20
>  * tokens to a {@link TokenStream}.
>  */
> public class TestLowerCaseFilter extends TokenFilter {
> 	private Locale locale;
> 	private Token alternateToken;
>=20
> 	public TestLowerCaseFilter(TokenStream stream, Locale locale) {
> 		super(stream);
> 		this.locale =3D locale;
> 		this.alternateToken =3D null;
> 	}
>=20
> 	/* (non-Javadoc)
> 	 * @see org.apache.lucene.analysis.TokenStream#next()
> 	 */
> 	public Token next() throws IOException {
> =09
> 		Token rval =3D null;
> 		if (alternateToken !=3D null) {
> 			rval =3D alternateToken;
> 			alternateToken =3D null;
> 		} else {
> 			Token nextToken =3D input.next();
> 			if (nextToken =3D=3D null) {
> 				return null;
> 			}
> 			String text =3D nextToken.termText();
> 			String lc =3D text.toLowerCase(locale);
> 			rval =3D nextToken;
> 			if (!lc.equals(text)) {
>=20
> 				alternateToken =3D
> 					new Token(
> 						lc,
> 						nextToken.startOffset(),
> 						nextToken.endOffset());
> 				alternateToken.setPositionIncrement(0);
> 			}
> 		}
> 		return rval;
> 	}
>=20
> } =20

------_=_NextPart_001_01C42BBD.0C29B610--

From lucene-user-return-8031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 18:48:31 2004
Return-Path: <lucene-user-return-8031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23527 invoked from network); 26 Apr 2004 18:48:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 18:48:31 -0000
Received: (qmail 52098 invoked by uid 500); 26 Apr 2004 18:48:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52075 invoked by uid 500); 26 Apr 2004 18:48:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52060 invoked from network); 26 Apr 2004 18:48:15 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 26 Apr 2004 18:48:15 -0000
Received: (qmail 82171 invoked by uid 89); 26 Apr 2004 18:48:19 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 Apr 2004 18:48:19 -0000
Message-ID: <408D5965.5080203@apache.org>
Date: Mon, 26 Apr 2004 11:48:05 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not deleting temp files after updating/optimising.
References: <566BCFC0EFBAAC40AF3EF4CA8228AD539E85D9@master.valinf.com>
In-Reply-To: <566BCFC0EFBAAC40AF3EF4CA8228AD539E85D9@master.valinf.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Win32 seems to sometimes not permit one to delete a file immediately 
after it has been closed.  Because of this, Lucene keeps a list of files 
that need to be deleted in the 'deleteable' file.  Are your files listed 
in this file?  If so, Lucene will again try to delete these files the 
next time the index is modified.  Perhaps we should add a public method 
which tries to delete such files...

Doug

Paul Williams wrote:
> Hi,
> 
> I am currently using Java 1.4.2_03 with Lucene 1.3 Final. I am using the
> option setUseCompoundFile(true) as I have a lot of fields in the database
> schema, and it can cause the dreaded 'too many open file error' on Windows
> based systems. (Optimising after 1000 documents with a merge factor of a
> 100)
> 
> But I am having a problem with updating a reasonable sized index. It seems
> to leave temporary files which can treble the size of the index on the hard
> disk. (You can delete these file afterwards with no ill effects)
> 
> I have checked to make sure no other processes are locking these files
> (virus checker/backup software etc.) 
> 
> See the directory listing below for the index files.
> 
> Has anyone else had a similar problem? And hopefully come up with a
> solution!!
> 
> Regards,
> 
> Paul
> 
> 15/04/2004  11:05       <DIR>          .
> 15/04/2004  11:05       <DIR>          ..
> 15/04/2004  10:55                    4 deletable
> 15/04/2004  11:05                    0 dir.txt
> 15/04/2004  10:55                   76 segments
> 11/04/2004  09:22          516,150,272 _11au.fdt
> 11/04/2004  09:22               12,288 _11au.fdx
> 11/04/2004  09:19                1,169 _11au.fnm
> 11/04/2004  15:00        3,969,914,880 _12nq.fdt
> 11/04/2004  15:00              283,648 _12nq.fdx
> 11/04/2004  14:39                1,169 _12nq.fnm
> 14/04/2004  17:14        5,689,259,942 _15ar.cfs
> 15/04/2004  10:17                5,462 _15ar.del
> 14/04/2004  17:19            8,619,569 _15e0.cfs
> 15/04/2004  10:12                   21 _15e0.del
> 15/04/2004  07:58              563,730 _15es.cfs
> 15/04/2004  08:25              394,474 _15fg.cfs
> 15/04/2004  10:18              663,616 _15g5.cfs
> 15/04/2004  10:55                9,385 _15g9.cfs
> 10/04/2004  16:06          939,758,592 _vas.fdt
> 10/04/2004  16:06               25,600 _vas.fdx
> 10/04/2004  16:01                1,169 _vas.fnm
> 10/04/2004  16:23          656,837,632 _vuu.fdt
> 10/04/2004  16:23               23,552 _vuu.fdx
> 10/04/2004  16:20                1,169 _vuu.fnm
> 10/04/2004  17:39           98,271,232 _y6h.fdt
> 10/04/2004  17:38                2,048 _y6h.fdx
> 10/04/2004  17:38                1,169 _y6h.fnm
> 10/04/2004  17:42           76,907,520 _y9k.cfs
> 10/04/2004  17:42                1,060 _y9k.f1
> 10/04/2004  17:42                1,060 _y9k.f10
> 10/04/2004  17:42                1,060 _y9k.f100
> 10/04/2004  17:42                1,060 _y9k.f101
> 10/04/2004  17:42                1,060 _y9k.f102
> 10/04/2004  17:42                1,060 _y9k.f103
> 10/04/2004  17:42                1,060 _y9k.f104
> 10/04/2004  17:42                1,060 _y9k.f105
> 10/04/2004  17:42                1,060 _y9k.f106
> 10/04/2004  17:42                1,060 _y9k.f107
> 10/04/2004  17:42                1,060 _y9k.f108
> 10/04/2004  17:42                1,060 _y9k.f109
> 10/04/2004  17:42                1,060 _y9k.f11
> 10/04/2004  17:42                1,060 _y9k.f110
> 10/04/2004  17:42                1,060 _y9k.f111
> 10/04/2004  17:42                1,060 _y9k.f112
> 10/04/2004  17:42                1,060 _y9k.f113
> 10/04/2004  17:42                1,060 _y9k.f114
> 10/04/2004  17:42                1,060 _y9k.f115
> 10/04/2004  17:42                1,060 _y9k.f116
> 10/04/2004  17:42                1,060 _y9k.f117
> 10/04/2004  17:42                1,060 _y9k.f118
> 10/04/2004  17:42                1,060 _y9k.f119
> 10/04/2004  17:42                1,060 _y9k.f12
> 10/04/2004  17:42                1,060 _y9k.f120
> 10/04/2004  17:42                1,060 _y9k.f13
> 10/04/2004  17:42                1,060 _y9k.f14
> 10/04/2004  17:42                1,060 _y9k.f15
> 10/04/2004  17:42                1,060 _y9k.f16
> 10/04/2004  17:42                1,060 _y9k.f17
> 10/04/2004  17:42                1,060 _y9k.f18
> 10/04/2004  17:42                1,060 _y9k.f19
> 10/04/2004  17:42                1,060 _y9k.f2
> 10/04/2004  17:42                1,060 _y9k.f20
> 10/04/2004  17:42                1,060 _y9k.f21
> 10/04/2004  17:42                1,060 _y9k.f22
> 10/04/2004  17:42                1,060 _y9k.f23
> 10/04/2004  17:42                1,060 _y9k.f24
> 10/04/2004  17:42                1,060 _y9k.f25
> 10/04/2004  17:42                1,060 _y9k.f26
> 10/04/2004  17:42                1,060 _y9k.f27
> 10/04/2004  17:42                1,060 _y9k.f28
> 10/04/2004  17:42                1,060 _y9k.f29
> 10/04/2004  17:42                1,060 _y9k.f3
> 10/04/2004  17:42                1,060 _y9k.f30
> 10/04/2004  17:42                1,060 _y9k.f31
> 10/04/2004  17:42                1,060 _y9k.f32
> 10/04/2004  17:42                1,060 _y9k.f33
> 10/04/2004  17:42                1,060 _y9k.f34
> 10/04/2004  17:42                1,060 _y9k.f35
> 10/04/2004  17:42                1,060 _y9k.f36
> 10/04/2004  17:42                1,060 _y9k.f37
> 10/04/2004  17:42                1,060 _y9k.f38
> 10/04/2004  17:42                1,060 _y9k.f39
> 10/04/2004  17:42                1,060 _y9k.f4
> 10/04/2004  17:42                1,060 _y9k.f40
> 10/04/2004  17:42                1,060 _y9k.f41
> 10/04/2004  17:42                1,060 _y9k.f42
> 10/04/2004  17:42                1,060 _y9k.f43
> 10/04/2004  17:42                1,060 _y9k.f44
> 10/04/2004  17:42                1,060 _y9k.f45
> 10/04/2004  17:42                1,060 _y9k.f46
> 10/04/2004  17:42                1,060 _y9k.f47
> 10/04/2004  17:42                1,060 _y9k.f48
> 10/04/2004  17:42                1,060 _y9k.f49
> 10/04/2004  17:42                1,060 _y9k.f5
> 10/04/2004  17:42                1,060 _y9k.f50
> 10/04/2004  17:42                1,060 _y9k.f51
> 10/04/2004  17:42                1,060 _y9k.f52
> 10/04/2004  17:42                1,060 _y9k.f53
> 10/04/2004  17:42                1,060 _y9k.f54
> 10/04/2004  17:42                1,060 _y9k.f55
> 10/04/2004  17:42                1,060 _y9k.f56
> 10/04/2004  17:42                1,060 _y9k.f57
> 10/04/2004  17:42                1,060 _y9k.f58
> 10/04/2004  17:42                1,060 _y9k.f59
> 10/04/2004  17:42                1,060 _y9k.f6
> 10/04/2004  17:42                1,060 _y9k.f60
> 10/04/2004  17:42                1,060 _y9k.f61
> 10/04/2004  17:42                1,060 _y9k.f62
> 10/04/2004  17:42                1,060 _y9k.f63
> 10/04/2004  17:42                1,060 _y9k.f64
> 10/04/2004  17:42                1,060 _y9k.f65
> 10/04/2004  17:42                1,060 _y9k.f66
> 10/04/2004  17:42                1,060 _y9k.f67
> 10/04/2004  17:42                1,060 _y9k.f68
> 10/04/2004  17:42                1,060 _y9k.f69
> 10/04/2004  17:42                1,060 _y9k.f7
> 10/04/2004  17:42                1,060 _y9k.f70
> 10/04/2004  17:42                1,060 _y9k.f71
> 10/04/2004  17:42                1,060 _y9k.f72
> 10/04/2004  17:42                1,060 _y9k.f73
> 10/04/2004  17:42                1,060 _y9k.f74
> 10/04/2004  17:42                1,060 _y9k.f75
> 10/04/2004  17:42                1,060 _y9k.f76
> 10/04/2004  17:42                1,060 _y9k.f77
> 10/04/2004  17:42                1,060 _y9k.f78
> 10/04/2004  17:42                1,060 _y9k.f79
> 10/04/2004  17:42                1,060 _y9k.f8
> 10/04/2004  17:42                1,060 _y9k.f80
> 10/04/2004  17:42                1,060 _y9k.f81
> 10/04/2004  17:42                1,060 _y9k.f82
> 10/04/2004  17:42                1,060 _y9k.f83
> 10/04/2004  17:42                1,060 _y9k.f84
> 10/04/2004  17:42                1,060 _y9k.f85
> 10/04/2004  17:42                1,060 _y9k.f86
> 10/04/2004  17:42                1,060 _y9k.f87
> 10/04/2004  17:42                1,060 _y9k.f88
> 10/04/2004  17:42                1,060 _y9k.f89
> 10/04/2004  17:42                1,060 _y9k.f9
> 10/04/2004  17:42                1,060 _y9k.f90
> 10/04/2004  17:42                1,060 _y9k.f91
> 10/04/2004  17:42                1,060 _y9k.f92
> 10/04/2004  17:42                1,060 _y9k.f93
> 10/04/2004  17:42                1,060 _y9k.f94
> 10/04/2004  17:42                1,060 _y9k.f95
> 10/04/2004  17:42                1,060 _y9k.f96
> 10/04/2004  17:42                1,060 _y9k.f97
> 10/04/2004  17:42                1,060 _y9k.f98
> 10/04/2004  17:42                1,060 _y9k.f99
> 10/04/2004  17:41          193,259,415 _y9k.fdt
> 10/04/2004  17:41                8,480 _y9k.fdx
> 10/04/2004  17:41                1,169 _y9k.fnm
> 10/04/2004  17:42            3,594,942 _y9k.frq
> 10/04/2004  17:42           11,449,010 _y9k.prx
> 10/04/2004  17:42               35,403 _y9k.tii
> 10/04/2004  17:42            2,577,708 _y9k.tis
>              154 File(s) 12,168,762,715 bytes
>                2 Dir(s)  81,455,693,824 bytes free
> DISCLAIMER:
>  The information in this message is confidential and may be legally
> privileged. It is intended solely for the addressee.  Access to this message
> by anyone else is unauthorised.  If you are not the intended recipient, any
> disclosure, copying, or distribution of the message,  or any action or
> omission taken by you in reliance on it, is prohibited and may be unlawful.
> Please immediately contact the sender if you have received this message in
> error.
>  Thank you.
>  Valid Information Systems Limited.   Address:  Morline House,  160 London
> Road,  Barking, Essex, IG11 8BB. 
> http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 2040 
> -----------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 19:00:04 2004
Return-Path: <lucene-user-return-8032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29299 invoked from network); 26 Apr 2004 19:00:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 19:00:04 -0000
Received: (qmail 86333 invoked by uid 500); 26 Apr 2004 18:59:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86286 invoked by uid 500); 26 Apr 2004 18:59:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86217 invoked from network); 26 Apr 2004 18:59:34 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 26 Apr 2004 18:59:34 -0000
Received: (qmail 93427 invoked by uid 89); 26 Apr 2004 18:59:39 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 Apr 2004 18:59:39 -0000
Message-ID: <408D5C0D.7060609@apache.org>
Date: Mon, 26 Apr 2004 11:59:25 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SQLDirectory implementation
References: <1082154156.13816.85.camel@mortal>
In-Reply-To: <1082154156.13816.85.camel@mortal>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anthony Vito wrote:
>   I noticed some talk on SQLDirectory a month or so ago. ( I just joined
> the list :) ) I have a JDBC implementation that stores the "files" in a
> couple of tables and stores the data for the files as blocks (BLOBs) of
> a certain size ( 16k by default ). It also has an LRU cache for the
> blocks which makes the performance quite acceptable. 
> 
> I actually prefixed all the file names with MySQL. Even though it's pure
> JDBC and should work with any driver or database. I'll go clean that up
> this weekend and put up a site with the code and the API docs. I'd be
> interested to see what kind people have to say, and if the results of
> any better tests people have cooked up.

Did you ever post this code?  It would be a great contribution to Lucene.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 19:15:51 2004
Return-Path: <lucene-user-return-8033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41690 invoked from network); 26 Apr 2004 19:15:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 19:15:51 -0000
Received: (qmail 23177 invoked by uid 500); 26 Apr 2004 19:15:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23157 invoked by uid 500); 26 Apr 2004 19:15:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23144 invoked from network); 26 Apr 2004 19:15:34 -0000
Received: from unknown (HELO web41101.mail.yahoo.com) (66.218.93.17)
  by daedalus.apache.org with SMTP; 26 Apr 2004 19:15:34 -0000
Message-ID: <20040426191539.34231.qmail@web41101.mail.yahoo.com>
Received: from [12.13.3.253] by web41101.mail.yahoo.com via HTTP; Mon, 26 Apr 2004 12:15:39 PDT
Date: Mon, 26 Apr 2004 12:15:39 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: ArrayIndexOutOfBoundsException
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I have a web site whose search is driven by Lucene
1.3.  I've been doing some load testing using JMeter
and occassionally I will see the exception below when
the search page is under heavy load.

Has anyone seen similar errors during load testing?

I've seen some posts with similar exceptions and the
general consensus is that this error means that the
index is corrupt.  I'm not sure my index is corrupt
however.  I can run all the queries I use for load
testing under normal load and I don't appear to get
this error.

Is there any way to verify that a Lucene index is
corrupt or not? 

Thanks,

Jim

java.lang.ArrayIndexOutOfBoundsException: 53 >= 52
        at java.util.Vector.elementAt(Vector.java:431)
        at
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:135)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:103)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
        at
org.apache.lucene.index.SegmentsReader.document(SegmentsReader.java:112)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
        at
org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
        at
org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
        at
org.apache.lucene.search.Hits.doc(Hits.java:130)



	
		
__________________________________
Do you Yahoo!?
Yahoo! Photos: High-quality 4x6 digital prints for 25
http://photos.yahoo.com/ph/print_splash

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 19:45:41 2004
Return-Path: <lucene-user-return-8034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63605 invoked from network); 26 Apr 2004 19:45:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 19:45:41 -0000
Received: (qmail 95954 invoked by uid 500); 26 Apr 2004 19:45:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95862 invoked by uid 500); 26 Apr 2004 19:45:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95779 invoked from network); 26 Apr 2004 19:45:13 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 26 Apr 2004 19:45:13 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id B6C056B1F11
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 15:45:17 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <B5262878D67D8943891DF3C0FD0CF9B425B7B3@exchange03.corp.yellowbrix.com>
References: <B5262878D67D8943891DF3C0FD0CF9B425B7B3@exchange03.corp.yellowbrix.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3DFF2C5F-97BA-11D8-9BFE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: QueryParser Behavior and Token.setPositionIncrement
Date: Mon, 26 Apr 2004 15:45:16 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

QueryParser is a mixed blessing.  It has plenty of quirks.  As you've 
proven to yourself, it ignores position increments and constructs a 
PhraseQuery of all the tokens in order, regardless of position 
increment.

Another oddity is that PhraseQuery doesn't deal with position 
increments either - each term added to it is considered in a successive 
position.

My best suggestion so far is to use a different analyzer for indexing 
than you do for querying.  There is really no need to add multiple 
tokens per position at query time anyway, if all the relevant ones were 
added at indexing time.  So use something that emits a more 
straight-forward incrementing position set of tokens during querying.

	Erik


On Apr 26, 2004, at 2:34 PM, Norton, James wrote:

>> I am attempting to use Token.setPositionIncrement() to provide 
>> alternate forms of tokens and I have encountered strange
>> behavior with QueryParser.  It seems to be constructing phrase 
>> queries with the alternate tokens.  I don't know why the
>> query would be parsed as a phrase.
>>
>> For example, consider an Analyzer that adds lowercase tokens to the 
>> token stream as alternate forms (position increment = 0).
>> Parsing the query "Bush" (quotes added for emphasis and not part of 
>> query) results in a query of text:"Bush bush" ("text" is
>> the default field).  Whereas parsing the query "bush" results in the 
>> query text:bush.  Notice the lack of quotes in the second
>> case, which has no alternate form appended because the token is 
>> already lowercase.  Is this a bug or is there some
>> explanation of which I am not aware?
>>
>> The following two classes provide test code verifying this behaviour.
>>
>>
>>
>> /**
>>  * A test analyzer employing a TestLowerCaseFilter to demonstrate 
>> problems with
>>  * QueryParser when dealing with multiple tokens at the same position.
>>  */
>> public class TestAnalyzer extends Analyzer {
>> 	/**
>> 	 * Constructs a {@link StandardTokenizer} filtered by a {@link
>> 	 * StandardFilter} and a {@link TestLowerCaseFilter}.
>> 	 */
>> 	public final TokenStream tokenStream(String fieldName, Reader 
>> reader) {
>> 		TokenStream result = new StandardTokenizer(reader);
>> 		result = new StandardFilter(result);
>> 		result = new TestLowerCaseFilter(result, Locale.getDefault());
>> 		return result;
>> 	}
>> 	
>> 	public static void main(String[] args) {
>> 		TestAnalyzer analyzer = new TestAnalyzer();
>> 		try {
>> 			Query lowerCaseQuery = QueryParser.parse("bush", "text", analyzer);
>> 			Query upperCaseQuery = QueryParser.parse("Bush", "text", analyzer);
>> 			
>> 			System.out.println("lower case: " + lowerCaseQuery.toString());
>> 			System.out.println("upper case: " + upperCaseQuery.toString());
>> 		} catch (ParseException e) {
>> 			// TODO Auto-generated catch block
>> 			e.printStackTrace();
>> 		}
>> 		
>> 	}
>> }
>>
>> /**
>>  *
>>  * A {@link Filter} that adds alternate forms (lower case) for upper 
>> case
>>  * tokens to a {@link TokenStream}.
>>  */
>> public class TestLowerCaseFilter extends TokenFilter {
>> 	private Locale locale;
>> 	private Token alternateToken;
>>
>> 	public TestLowerCaseFilter(TokenStream stream, Locale locale) {
>> 		super(stream);
>> 		this.locale = locale;
>> 		this.alternateToken = null;
>> 	}
>>
>> 	/* (non-Javadoc)
>> 	 * @see org.apache.lucene.analysis.TokenStream#next()
>> 	 */
>> 	public Token next() throws IOException {
>> 	
>> 		Token rval = null;
>> 		if (alternateToken != null) {
>> 			rval = alternateToken;
>> 			alternateToken = null;
>> 		} else {
>> 			Token nextToken = input.next();
>> 			if (nextToken == null) {
>> 				return null;
>> 			}
>> 			String text = nextToken.termText();
>> 			String lc = text.toLowerCase(locale);
>> 			rval = nextToken;
>> 			if (!lc.equals(text)) {
>>
>> 				alternateToken =
>> 					new Token(
>> 						lc,
>> 						nextToken.startOffset(),
>> 						nextToken.endOffset());
>> 				alternateToken.setPositionIncrement(0);
>> 			}
>> 		}
>> 		return rval;
>> 	}
>>
>> }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 19:54:28 2004
Return-Path: <lucene-user-return-8035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68653 invoked from network); 26 Apr 2004 19:54:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 19:54:28 -0000
Received: (qmail 25989 invoked by uid 500); 26 Apr 2004 19:54:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25962 invoked by uid 500); 26 Apr 2004 19:54:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25881 invoked from network); 26 Apr 2004 19:54:10 -0000
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by daedalus.apache.org with SMTP; 26 Apr 2004 19:54:10 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BICBC-00077q-Ii
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 07:54:14 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 26816-08 for <lucene-user@jakarta.apache.org>;
	Tue, 27 Apr 2004 07:54:09 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BICB7-00077k-7T
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 07:54:09 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ArrayIndexOutOfBoundsException
Date: Tue, 27 Apr 2004 07:54:08 +1200
User-Agent: KMail/1.6.1
References: <20040426191539.34231.qmail@web41101.mail.yahoo.com>
In-Reply-To: <20040426191539.34231.qmail@web41101.mail.yahoo.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200404270754.08739.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This looks very much like the problem I had (see subject/thread
'Optimize Crash').

I anyone replies to this, could you please read my post as well - this
is still unresolved and I'd like to be able to take some action on it.

Cheers,
Paul.


James Dunn wrote:
> Hello all,
>
> I have a web site whose search is driven by Lucene
> 1.3.  I've been doing some load testing using JMeter
> and occassionally I will see the exception below when
> the search page is under heavy load.
>
> Has anyone seen similar errors during load testing?
>
> I've seen some posts with similar exceptions and the
> general consensus is that this error means that the
> index is corrupt.  I'm not sure my index is corrupt
> however.  I can run all the queries I use for load
> testing under normal load and I don't appear to get
> this error.
>
> Is there any way to verify that a Lucene index is
> corrupt or not?
>
> Thanks,
>
> Jim
>
> java.lang.ArrayIndexOutOfBoundsException: 53 >=3D 52
>         at java.util.Vector.elementAt(Vector.java:431)
>         at
> org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:135)
>         at
> org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:103)
>         at
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
>         at
> org.apache.lucene.index.SegmentsReader.document(SegmentsReader.java:112)
>         at
> org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
>         at
> org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
>         at
> org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
>         at
> org.apache.lucene.search.Hits.doc(Hits.java:130)
>
>
>
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! Photos: High-quality 4x6 digital prints for 25=A2
> http://photos.yahoo.com/ph/print_splash
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

=2D-=20
The trouble with the rat-race is that even if you win, you're still a rat.
		-- Lily Tomlin

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 20:36:59 2004
Return-Path: <lucene-user-return-8036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87932 invoked from network); 26 Apr 2004 20:36:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 20:36:59 -0000
Received: (qmail 32556 invoked by uid 500); 26 Apr 2004 20:36:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32532 invoked by uid 500); 26 Apr 2004 20:36:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32509 invoked from network); 26 Apr 2004 20:36:41 -0000
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by daedalus.apache.org with SMTP; 26 Apr 2004 20:36:41 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Mon, 26 Apr 2004 16:36:46 -0400
Message-Id: <s08d3a9e.094@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Mon, 26 Apr 2004 16:36:22 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Adding duplicate Fields to Documents
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As two people have already stated, fields that are not tokenised are
stored seprately.  Then a single document with two fields of the same
name can be retrieved by searching for either of the fields.

However, retrieving all of the field values seems to be impossible. 
That is, given ("field_name", "keyword1") and ("field_name",
"keyword2"), using doc.get("field_name") always returns "keyword2", the
last value added.  Of course, I can't really think of a scenario where
this would be a problem..

Thanks for the help!

>>> Gerard Sychay 04/26/04 01:57PM >>>
Luke is a good idea.  I'll also just write a simple test program and
play around with it (something I probably should have done before
posting) and then post my findings here.

>>> Stephane James Vaucher <vauchers@cirano.qc.ca> 04/24/04 02:02PM
>>>
>From my experience (that is little experience;)), fields that are not
tokenised, are stored separately. Someone more qualified can surely
give
you more details.

You can look at your index with Luke, it might be insightful.
sv

On Thu, 22 Apr 2004, Gerard Sychay wrote:

> Hello,
>
> I am wondering what happens when you add two Fields with same names
to
> a Document.  The API states that "if the fields are indexed, their
text
> is treated as though appended."  This much makes sense.  But what
about
> the following two cases:
>
> - Adding two fields with same name that are indexed, not tokenized
> (keywords)?  E.g. given ("field_name", "keyword1") and
("field_name",
> "keyword2"), would the final keyword field be ("field_name",
> "keyword1keyword2")?  Seems weird..
>
> - Adding two fields with same name that are stored, but not indexed
and
> not tokenized (e.g. database keys)?  Are they appended (which would
mess
> up the database key when retrieved from the Hit)?
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 21:07:20 2004
Return-Path: <lucene-user-return-8037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5056 invoked from network); 26 Apr 2004 21:07:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 21:07:20 -0000
Received: (qmail 21719 invoked by uid 500); 26 Apr 2004 21:06:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21691 invoked by uid 500); 26 Apr 2004 21:06:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21513 invoked from network); 26 Apr 2004 21:06:47 -0000
Received: from unknown (HELO cartero.cs.odu.edu) (128.82.4.9)
  by daedalus.apache.org with SMTP; 26 Apr 2004 21:06:47 -0000
Received: from xenon.cs.odu.edu (xenon.cs.odu.edu [128.82.4.2])
	by cartero.cs.odu.edu (8.12.10/8.12.10) with ESMTP id i3QL3SN5018981
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 17:03:28 -0400 (EDT)
From: xuemei li <xli@cs.odu.edu>
Received: (from nobody@localhost)
	by xenon.cs.odu.edu (8.11.6+Sun/8.11.6) id i3QL6rL00984;
	Mon, 26 Apr 2004 17:06:53 -0400 (EDT)
X-Authentication-Warning: xenon.cs.odu.edu: nobody set sender to xli@cs.odu.edu using -f
Received: from 128.82.7.71
        (SquirrelMail authenticated user xli)
        by www.cs.odu.edu with HTTP;
        Mon, 26 Apr 2004 17:06:53 -0400 (EDT)
Message-ID: <1510.128.82.7.71.1083013613.squirrel@www.cs.odu.edu>
Date: Mon, 26 Apr 2004 17:06:53 -0400 (EDT)
Subject: about paralmultisearch  java.lang.NoSuchMethodError:
To: <lucene-user@jakarta.apache.org>
X-Priority: 3
Importance: Normal
X-Mailer: SquirrelMail (version 1.2.10)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I am doing some work using Lucene 1.4 paralmultisearch.  The part of
code is like this:
Searcher searcher1 = new IndexSearcher("/home/abc/lucetestbed1/index");
Searcher searcher2 = new IndexSearcher ("/home/abc/lucetestbed/index");
ParallelMultiSearcher
searcher =new ParallelMultiSearcher(new Searcher[]
{searcher1,searcher2});

If I use
MultiSearcher searcher = new MultiSearcher(new Searcher[]
{searcher1,searcher2});
to replace the
parallelMultisearcher searcher=new ParallelMultiSearcher(new Searcher[]
{searcher1,searcher2});
It works well.
But if I use ParallelMultisearcher the code can compile correctly and
cann't execute correctly.The executing error is as following:
Exception in thread "main" java.lang.NoSuchMethodError:
org.apache.lucene.search.ParallelMultiSearcher.getStarts()[I
        at
org.apache.lucene.search.ParallelMultiSearcher.<init>(ParallelMultiSe
archer.java:38)
        at SearchFiles.main(SearchFiles.java:92)


Is there anyone know something about how to handle this error? The error
is the same if I use a RemoteSearchable to search.

Thanks,

Li





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 21:17:36 2004
Return-Path: <lucene-user-return-8038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10737 invoked from network); 26 Apr 2004 21:17:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 21:17:35 -0000
Received: (qmail 42870 invoked by uid 500); 26 Apr 2004 21:17:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42841 invoked by uid 500); 26 Apr 2004 21:17:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42821 invoked from network); 26 Apr 2004 21:17:17 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 26 Apr 2004 21:17:17 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i3QLHMw20043
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 23:17:22 +0200
Received: from g40.incze.hu (localhost [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i3QLHMUk009191
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 23:17:22 +0200
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i3QLHMfU009189
	for lucene-user@jakarta.apache.org; Mon, 26 Apr 2004 23:17:22 +0200
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Mon, 26 Apr 2004 23:17:22 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Adding duplicate Fields to Documents
Message-ID: <20040426211722.GD6282@incze.adsl.enternet.hu>
References: <s08d3a9e.094@n6mcgw16.cchmc.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <s08d3a9e.094@n6mcgw16.cchmc.org>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, Apr 26, 2004 at 04:36:22PM -0400, Gerard Sychay wrote:
> As two people have already stated, fields that are not tokenised are
> stored seprately.  Then a single document with two fields of the same
> name can be retrieved by searching for either of the fields.
> 
> However, retrieving all of the field values seems to be impossible. 
> That is, given ("field_name", "keyword1") and ("field_name",
> "keyword2"), using doc.get("field_name") always returns "keyword2", the
> last value added.  Of course, I can't really think of a scenario where
> this would be a problem..
> 
> Thanks for the help!

Use this method on yout document:

Field[]   getFields(String name)
          Returns an array of Fields with the given name.

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Apr 26 21:18:16 2004
Return-Path: <lucene-user-return-8039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11079 invoked from network); 26 Apr 2004 21:18:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Apr 2004 21:18:16 -0000
Received: (qmail 44403 invoked by uid 500); 26 Apr 2004 21:17:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44235 invoked by uid 500); 26 Apr 2004 21:17:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44211 invoked from network); 26 Apr 2004 21:17:57 -0000
Received: from unknown (HELO exchange03.corp.yellowbrix.com) (64.125.197.7)
  by daedalus.apache.org with SMTP; 26 Apr 2004 21:17:57 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: QueryParser Behavior and Token.setPositionIncrement
Date: Mon, 26 Apr 2004 17:16:49 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <B5262878D67D8943891DF3C0FD0CF9B425B7B5@exchange03.corp.yellowbrix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QueryParser Behavior and Token.setPositionIncrement
thread-index: AcQrxuOawxXctPr3ReyeI339CAMI8gADIZkg
From: "Norton, James" <jnorton@yellowbrix.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the reply.  I had reached the same conclusion as you =
regarding the analyzer for
queries (no multiple tokens per position), but I would still reqard the =
behaviour of=20
QueryParser as incorrect.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, April 26, 2004 3:45 PM
To: Lucene Users List
Subject: Re: QueryParser Behavior and Token.setPositionIncrement


QueryParser is a mixed blessing.  It has plenty of quirks.  As you've=20
proven to yourself, it ignores position increments and constructs a=20
PhraseQuery of all the tokens in order, regardless of position=20
increment.

Another oddity is that PhraseQuery doesn't deal with position=20
increments either - each term added to it is considered in a successive=20
position.

My best suggestion so far is to use a different analyzer for indexing=20
than you do for querying.  There is really no need to add multiple=20
tokens per position at query time anyway, if all the relevant ones were=20
added at indexing time.  So use something that emits a more=20
straight-forward incrementing position set of tokens during querying.

	Erik


On Apr 26, 2004, at 2:34 PM, Norton, James wrote:

>> I am attempting to use Token.setPositionIncrement() to provide=20
>> alternate forms of tokens and I have encountered strange
>> behavior with QueryParser.  It seems to be constructing phrase=20
>> queries with the alternate tokens.  I don't know why the
>> query would be parsed as a phrase.
>>
>> For example, consider an Analyzer that adds lowercase tokens to the=20
>> token stream as alternate forms (position increment =3D 0).
>> Parsing the query "Bush" (quotes added for emphasis and not part of=20
>> query) results in a query of text:"Bush bush" ("text" is
>> the default field).  Whereas parsing the query "bush" results in the=20
>> query text:bush.  Notice the lack of quotes in the second
>> case, which has no alternate form appended because the token is=20
>> already lowercase.  Is this a bug or is there some
>> explanation of which I am not aware?
>>
>> The following two classes provide test code verifying this behaviour.
>>
>>
>>
>> /**
>>  * A test analyzer employing a TestLowerCaseFilter to demonstrate=20
>> problems with
>>  * QueryParser when dealing with multiple tokens at the same =
position.
>>  */
>> public class TestAnalyzer extends Analyzer {
>> 	/**
>> 	 * Constructs a {@link StandardTokenizer} filtered by a {@link
>> 	 * StandardFilter} and a {@link TestLowerCaseFilter}.
>> 	 */
>> 	public final TokenStream tokenStream(String fieldName, Reader=20
>> reader) {
>> 		TokenStream result =3D new StandardTokenizer(reader);
>> 		result =3D new StandardFilter(result);
>> 		result =3D new TestLowerCaseFilter(result, Locale.getDefault());
>> 		return result;
>> 	}
>> =09
>> 	public static void main(String[] args) {
>> 		TestAnalyzer analyzer =3D new TestAnalyzer();
>> 		try {
>> 			Query lowerCaseQuery =3D QueryParser.parse("bush", "text", =
analyzer);
>> 			Query upperCaseQuery =3D QueryParser.parse("Bush", "text", =
analyzer);
>> 		=09
>> 			System.out.println("lower case: " + lowerCaseQuery.toString());
>> 			System.out.println("upper case: " + upperCaseQuery.toString());
>> 		} catch (ParseException e) {
>> 			// TODO Auto-generated catch block
>> 			e.printStackTrace();
>> 		}
>> 	=09
>> 	}
>> }
>>
>> /**
>>  *
>>  * A {@link Filter} that adds alternate forms (lower case) for upper=20
>> case
>>  * tokens to a {@link TokenStream}.
>>  */
>> public class TestLowerCaseFilter extends TokenFilter {
>> 	private Locale locale;
>> 	private Token alternateToken;
>>
>> 	public TestLowerCaseFilter(TokenStream stream, Locale locale) {
>> 		super(stream);
>> 		this.locale =3D locale;
>> 		this.alternateToken =3D null;
>> 	}
>>
>> 	/* (non-Javadoc)
>> 	 * @see org.apache.lucene.analysis.TokenStream#next()
>> 	 */
>> 	public Token next() throws IOException {
>> =09
>> 		Token rval =3D null;
>> 		if (alternateToken !=3D null) {
>> 			rval =3D alternateToken;
>> 			alternateToken =3D null;
>> 		} else {
>> 			Token nextToken =3D input.next();
>> 			if (nextToken =3D=3D null) {
>> 				return null;
>> 			}
>> 			String text =3D nextToken.termText();
>> 			String lc =3D text.toLowerCase(locale);
>> 			rval =3D nextToken;
>> 			if (!lc.equals(text)) {
>>
>> 				alternateToken =3D
>> 					new Token(
>> 						lc,
>> 						nextToken.startOffset(),
>> 						nextToken.endOffset());
>> 				alternateToken.setPositionIncrement(0);
>> 			}
>> 		}
>> 		return rval;
>> 	}
>>
>> }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 00:35:43 2004
Return-Path: <lucene-user-return-8040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93466 invoked from network); 27 Apr 2004 00:35:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 00:35:43 -0000
Received: (qmail 26627 invoked by uid 500); 27 Apr 2004 00:35:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26556 invoked by uid 500); 27 Apr 2004 00:35:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26538 invoked from network); 27 Apr 2004 00:35:21 -0000
Received: from unknown (HELO server3.sfo.mooter.com) (69.59.155.124)
  by daedalus.apache.org with SMTP; 27 Apr 2004 00:35:21 -0000
Received: from [192.168.0.11] (CPE-138-130-69-16.nsw.bigpond.net.au [138.130.69.16])
	by server3.sfo.mooter.com (8.12.10/8.11.6) with ESMTP id i3R0brNk020414
	for <lucene-user@jakarta.apache.org>; Mon, 26 Apr 2004 17:37:53 -0700
Subject: need info for database based Lucene but not flat file
From: Yukun Song <yukunix@mooter.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: Mooter Search
Message-Id: <1083026110.3488.7.camel@tuk.mooter.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Tue, 27 Apr 2004 10:35:10 +1000
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As known, currently Lucene uses flat file to store information for
indexing. 

Any people has idea or resources for combining database (Like MySQL or
PostreSQL) and Lucene instead of current flat index file formats?

Regards,

Yukun Song



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 10:04:06 2004
Return-Path: <lucene-user-return-8041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52727 invoked from network); 27 Apr 2004 10:04:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 10:04:06 -0000
Received: (qmail 67819 invoked by uid 500); 27 Apr 2004 10:03:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67800 invoked by uid 500); 27 Apr 2004 10:03:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67768 invoked from network); 27 Apr 2004 10:03:32 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 27 Apr 2004 10:03:32 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 865B26B2C09
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 06:03:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <B5262878D67D8943891DF3C0FD0CF9B425B7B5@exchange03.corp.yellowbrix.com>
References: <B5262878D67D8943891DF3C0FD0CF9B425B7B5@exchange03.corp.yellowbrix.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2AB6B14F-9832-11D8-8209-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: QueryParser Behavior and Token.setPositionIncrement
Date: Tue, 27 Apr 2004 06:03:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 26, 2004, at 5:16 PM, Norton, James wrote:
> Thanks for the reply.  I had reached the same conclusion as you 
> regarding the analyzer for
> queries (no multiple tokens per position), but I would still reqard 
> the behaviour of
> QueryParser as incorrect.

I agree that it is "odd", but given that PhraseQuery doesn't support 
token positions either, what would be the correct behavior of 
QueryParser?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 10:05:54 2004
Return-Path: <lucene-user-return-8042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53667 invoked from network); 27 Apr 2004 10:05:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 10:05:54 -0000
Received: (qmail 70551 invoked by uid 500); 27 Apr 2004 10:05:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70414 invoked by uid 500); 27 Apr 2004 10:05:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70324 invoked from network); 27 Apr 2004 10:05:15 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 27 Apr 2004 10:05:15 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 6CF126B2C19
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 06:05:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1083026110.3488.7.camel@tuk.mooter.com>
References: <1083026110.3488.7.camel@tuk.mooter.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <68FD9B48-9832-11D8-8209-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: need info for database based Lucene but not flat file
Date: Tue, 27 Apr 2004 06:05:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is a Berkeley DB implementation of Lucene's Directory in the 
jakarta-lucene-sandbox repository.

	Erik


On Apr 26, 2004, at 8:35 PM, Yukun Song wrote:

> As known, currently Lucene uses flat file to store information for
> indexing.
>
> Any people has idea or resources for combining database (Like MySQL or
> PostreSQL) and Lucene instead of current flat index file formats?
>
> Regards,
>
> Yukun Song
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 10:22:14 2004
Return-Path: <lucene-user-return-8043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62438 invoked from network); 27 Apr 2004 10:22:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 10:22:14 -0000
Received: (qmail 96480 invoked by uid 500); 27 Apr 2004 10:21:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96294 invoked by uid 500); 27 Apr 2004 10:21:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96257 invoked from network); 27 Apr 2004 10:21:39 -0000
Received: from unknown (HELO outbound1.sopragroup.com) (81.80.239.198)
  by daedalus.apache.org with SMTP; 27 Apr 2004 10:21:39 -0000
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id i3RALn5D005085
          for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 12:21:51 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: need info for database based Lucene but not flat file
Date: Tue, 27 Apr 2004 12:21:48 +0200
Message-ID: <5933531F07A5144E9E53E1AA45257E4BA57DDB@wexchbe03.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: need info for database based Lucene but not flat file
Thread-Index: AcQr741rCMrpqc40TxOdLhfNbfuJswAT/CcQ
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 27 Apr 2004 10:24:13.0750 (UTC) FILETIME=[C9737560:01C42C41]
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As lucene implements its own concept of document it is not dedicated to =
index a particular type of data source.
It's up to you to write a tool that is able to browse your database and =
then submit the data as Lucene documents to the Lucene indexer.

For example if your database contains a "customer" entity and you want =
to index all informations about these customers, you can create a module =
that will perform a select on the customer table an for each row  =
returned create un Lucene Document and then add it to the indexWriter.
It is recommended that your Lucene Document contains a keyword Field  =
that represent the unique id of a customer in the database.

As a first step you should be familiar with the concept of Document and =
Field. See Lucene short intro documentation.


-----Message d'origine-----
De : Yukun Song [mailto:yukunix@mooter.com]
Envoy=E9 : mardi 27 avril 2004 02:35
=C0 : lucene-user@jakarta.apache.org
Objet : need info for database based Lucene but not flat file


As known, currently Lucene uses flat file to store information for
indexing.=20

Any people has idea or resources for combining database (Like MySQL or
PostreSQL) and Lucene instead of current flat index file formats?

Regards,

Yukun Song



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 11:24:06 2004
Return-Path: <lucene-user-return-8044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92101 invoked from network); 27 Apr 2004 11:24:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 11:24:06 -0000
Received: (qmail 89324 invoked by uid 500); 27 Apr 2004 11:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89297 invoked by uid 500); 27 Apr 2004 11:23:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89267 invoked from network); 27 Apr 2004 11:23:58 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 27 Apr 2004 11:23:58 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BIQgl-0002PF-00
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 13:23:47 +0200
Message-ID: <408E42C6.7010005@wyona.com>
Date: Tue, 27 Apr 2004 13:23:50 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: what web crawler work best with Lucene?
References: <s087c820.022@sydswww.minterellison.com>
In-Reply-To: <s087c820.022@sydswww.minterellison.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tuan Jean Tee wrote:

>Have anyone implemented any open source web crawler with Lucene? I have
>a dynamic website and are looking at putting in a search tools. Your
>advice is very much appreciated.
>  
>
there is a crawler included within Apache Lenya 
http://cocoon.apache.org/lenya/

src/java/org/apache/lenya/search/crawler/*

or you might try LARM

http://jakarta.apache.org/lucene/docs/lucene-sandbox/larm/overview.html


HTH

Michi


>Thank you.
>
>
>IMPORTANT -
>
>This email and any attachments are confidential and may be privileged in which case neither is intended to be waived. If you have received this message in error, please notify us and remove it from your system. It is your responsibility to check any attachments for viruses and defects before opening or sending them on. Where applicable, liability is limited by the Solicitors Scheme approved under the Professional Standards Act 1994 (NSW). Minter Ellison collects personal information to provide and market our services. For more information about use, disclosure and access, see our privacy policy at www.minterellison.com.
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 11:52:33 2004
Return-Path: <lucene-user-return-8045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6287 invoked from network); 27 Apr 2004 11:52:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 11:52:33 -0000
Received: (qmail 65902 invoked by uid 500); 27 Apr 2004 11:52:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65873 invoked by uid 500); 27 Apr 2004 11:52:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65849 invoked from network); 27 Apr 2004 11:52:23 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 27 Apr 2004 11:52:23 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BIR8R-0002YH-00
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 13:52:23 +0200
Message-ID: <408E4979.5080504@wyona.com>
Date: Tue, 27 Apr 2004 13:52:25 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: sorting by date (XML)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

my XML files contain something like

<date>
  <year>2004</year><month>04</month><day>27</day>...
</date>

and I would like to sort by this date.

So I guess I need to modify the Documentparser and generate something like
a millisecond field and then sort by this, correct?

Has anyone done something like this yet?

Thanks

Michi

-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 12:02:54 2004
Return-Path: <lucene-user-return-8046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10925 invoked from network); 27 Apr 2004 12:02:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 12:02:53 -0000
Received: (qmail 88975 invoked by uid 500); 27 Apr 2004 12:02:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88955 invoked by uid 500); 27 Apr 2004 12:02:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88937 invoked from network); 27 Apr 2004 12:02:44 -0000
Received: from unknown (HELO hotmail.com) (65.54.247.5)
  by daedalus.apache.org with SMTP; 27 Apr 2004 12:02:44 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 27 Apr 2004 05:02:45 -0700
Received: from 194.191.169.72 by by2fd.bay2.hotmail.msn.com with HTTP;
	Tue, 27 Apr 2004 12:02:45 GMT
X-Originating-IP: [194.191.169.72]
X-Originating-Email: [lufc4@hotmail.com]
X-Sender: lufc4@hotmail.com
From: "Alan Smith" <lufc4@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: searching only part of an index
Date: Tue, 27 Apr 2004 13:02:45 +0100
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY2-F5bBYLcOPTeLje0000a220@hotmail.com>
X-OriginalArrivalTime: 27 Apr 2004 12:02:45.0660 (UTC) FILETIME=[8D3955C0:01C42C4F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I wondered if anyone knows whether it is possible to search ONLY the 100 (or 
whatever) most recently added documents to a lucene index? I know that once 
I have all my results ordered by ID number in Hits I could then just display 
the required amount, but I wondered if there is a way to avoid searching all 
documents in the index in the first place?

Many thanks

Alan

_________________________________________________________________
Express yourself with cool new emoticons http://www.msn.co.uk/specials/myemo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 12:31:12 2004
Return-Path: <lucene-user-return-8047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27628 invoked from network); 27 Apr 2004 12:31:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 12:31:12 -0000
Received: (qmail 44244 invoked by uid 500); 27 Apr 2004 12:31:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44171 invoked by uid 500); 27 Apr 2004 12:31:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44146 invoked from network); 27 Apr 2004 12:31:03 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.228)
  by daedalus.apache.org with SMTP; 27 Apr 2004 12:31:03 -0000
Received: (cpmta 19654 invoked from network); 27 Apr 2004 05:31:03 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.228) with SMTP; 27 Apr 2004 05:31:03 -0700
X-Sent: 27 Apr 2004 12:31:03 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: sorting by date (XML)
Date: Tue, 27 Apr 2004 16:30:51 +0400
Organization: Bayt.com
Message-ID: <001d01c42c53$7f0b2100$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <408E4979.5080504@wyona.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Here's my two cents on this:
Both ways you will need to combine the date in one field, but if you use =
a
millisecond representation you will not be able to use the FLOAT sort =
type
and you'll have use STRING sort (Slower) because the millisecond
representation is longer than FLOAT allows, so you have three options:

1) Use YYYYMMDD and sort by FLOAT type
2) Use the millisecond representation and sort by STRING type
3) If the date you're entering here is the date of indexing then you can
just sort by DOC type (which is the DOC ID) and save yourself the pain

Hope this helps.

Nader Henein

-----Original Message-----
From: Michael Wechner [mailto:michael.wechner@wyona.com]=20
Sent: Tuesday, April 27, 2004 3:52 PM
To: Lucene Users List
Subject: sorting by date (XML)


my XML files contain something like

<date>
  <year>2004</year><month>04</month><day>27</day>...
</date>

and I would like to sort by this date.

So I guess I need to modify the Documentparser and generate something =
like a
millisecond field and then sort by this, correct?

Has anyone done something like this yet?

Thanks

Michi

--=20
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 12:37:04 2004
Return-Path: <lucene-user-return-8048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30255 invoked from network); 27 Apr 2004 12:37:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 12:37:03 -0000
Received: (qmail 56144 invoked by uid 500); 27 Apr 2004 12:36:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56114 invoked by uid 500); 27 Apr 2004 12:36:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56095 invoked from network); 27 Apr 2004 12:36:54 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.239)
  by daedalus.apache.org with SMTP; 27 Apr 2004 12:36:54 -0000
Received: (cpmta 18560 invoked from network); 27 Apr 2004 05:36:54 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.239) with SMTP; 27 Apr 2004 05:36:54 -0700
X-Sent: 27 Apr 2004 12:36:54 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: searching only part of an index
Date: Tue, 27 Apr 2004 16:36:42 +0400
Organization: Bayt.com
Message-ID: <002301c42c54$501f7390$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <BAY2-F5bBYLcOPTeLje0000a220@hotmail.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You may be able to jimmy the bi filter to produce the most recent 100, =
but
really keeping your fetch count at 100 and ordering by DOC should be
sufficient.

-----Original Message-----
From: Alan Smith [mailto:lufc4@hotmail.com]=20
Sent: Tuesday, April 27, 2004 4:03 PM
To: lucene-user@jakarta.apache.org
Subject: searching only part of an index


Hi

I wondered if anyone knows whether it is possible to search ONLY the 100 =
(or

whatever) most recently added documents to a lucene index? I know that =
once=20
I have all my results ordered by ID number in Hits I could then just =
display

the required amount, but I wondered if there is a way to avoid searching =
all

documents in the index in the first place?

Many thanks

Alan

_________________________________________________________________
Express yourself with cool new emoticons =
http://www.msn.co.uk/specials/myemo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 12:53:48 2004
Return-Path: <lucene-user-return-8049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38912 invoked from network); 27 Apr 2004 12:53:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 12:53:48 -0000
Received: (qmail 95665 invoked by uid 500); 27 Apr 2004 12:52:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95523 invoked by uid 500); 27 Apr 2004 12:52:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95383 invoked from network); 27 Apr 2004 12:52:51 -0000
Received: from unknown (HELO mail.obs.com) (209.101.182.21)
  by daedalus.apache.org with SMTP; 27 Apr 2004 12:52:51 -0000
Received: from greatmeadows.obs.com (ws.obs.com [209.101.182.2])
	by mail.obs.com (OBS Enterprise Mail) with ESMTP id i3RCqp410330
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 08:52:51 -0400
Message-Id: <6.0.0.22.2.20040427084936.0400cdd0@pop3.obs.com>
X-Sender: ioan@pop3.obs.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 27 Apr 2004 08:54:33 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ioan Miftode <ioan@obs.com>
Subject: Re: searching only part of an index
In-Reply-To: <BAY2-F5bBYLcOPTeLje0000a220@hotmail.com>
References: <BAY2-F5bBYLcOPTeLje0000a220@hotmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



If you know the id of the last document in the index.
(I don't know what's the best way to get it)
you could probably use a range query.
something like find all docs with the id in [lastId-100 TO lastID].
maybe you should make sure that the first limit is non negative, though.

just a thought

ioan

At 08:02 AM 4/27/2004, you wrote:
>Hi
>
>I wondered if anyone knows whether it is possible to search ONLY the 100 
>(or whatever) most recently added documents to a lucene index? I know that 
>once I have all my results ordered by ID number in Hits I could then just 
>display the required amount, but I wondered if there is a way to avoid 
>searching all documents in the index in the first place?
>
>Many thanks
>
>Alan
>
>_________________________________________________________________
>Express yourself with cool new emoticons http://www.msn.co.uk/specials/myemo
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 12:56:08 2004
Return-Path: <lucene-user-return-8050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40410 invoked from network); 27 Apr 2004 12:56:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 12:56:07 -0000
Received: (qmail 6073 invoked by uid 500); 27 Apr 2004 12:55:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6031 invoked by uid 500); 27 Apr 2004 12:55:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5957 invoked from network); 27 Apr 2004 12:55:56 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 27 Apr 2004 12:55:56 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BIS7m-0002r7-00
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 14:55:46 +0200
Message-ID: <408E5854.3000900@wyona.com>
Date: Tue, 27 Apr 2004 14:55:48 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <001d01c42c53$7f0b2100$1801a8c0@naderit>
In-Reply-To: <001d01c42c53$7f0b2100$1801a8c0@naderit>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nader S. Henein wrote:

>Here's my two cents on this:
>Both ways you will need to combine the date in one field, but if you use a
>millisecond representation you will not be able to use the FLOAT sort type
>and you'll have use STRING sort (Slower) because the millisecond
>representation is longer than FLOAT allows, so you have three options:
>
>1) Use YYYYMMDD and sort by FLOAT type
>  
>

ok, I guess then will take the FLOAT type

>2) Use the millisecond representation and sort by STRING type
>3) If the date you're entering here is the date of indexing then you can
>just sort by DOC type (which is the DOC ID) and save yourself the pain
>  
>
unfortunately this isn't possible.

Thanks a lot for your help

Michi

>Hope this helps.
>
>Nader Henein
>
>-----Original Message-----
>From: Michael Wechner [mailto:michael.wechner@wyona.com] 
>Sent: Tuesday, April 27, 2004 3:52 PM
>To: Lucene Users List
>Subject: sorting by date (XML)
>
>
>my XML files contain something like
>
><date>
>  <year>2004</year><month>04</month><day>27</day>...
></date>
>
>and I would like to sort by this date.
>
>So I guess I need to modify the Documentparser and generate something like a
>millisecond field and then sort by this, correct?
>
>Has anyone done something like this yet?
>
>Thanks
>
>Michi
>
>  
>


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 13:00:28 2004
Return-Path: <lucene-user-return-8051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43187 invoked from network); 27 Apr 2004 13:00:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 13:00:27 -0000
Received: (qmail 21557 invoked by uid 500); 27 Apr 2004 13:00:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21532 invoked by uid 500); 27 Apr 2004 13:00:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21517 invoked from network); 27 Apr 2004 13:00:16 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.243)
  by daedalus.apache.org with SMTP; 27 Apr 2004 13:00:16 -0000
Received: (cpmta 9614 invoked from network); 27 Apr 2004 06:00:16 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.243) with SMTP; 27 Apr 2004 06:00:16 -0700
X-Sent: 27 Apr 2004 13:00:16 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: searching only part of an index
Date: Tue, 27 Apr 2004 17:00:04 +0400
Organization: Bayt.com
Message-ID: <002601c42c57$943ed860$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <6.0.0.22.2.20040427084936.0400cdd0@pop3.obs.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are the DOC ids sequential? Or just unique and ascending, I'm thinking =
like
a good little Oracle boy, so does anyone know?

-----Original Message-----
From: Ioan Miftode [mailto:ioan@obs.com]=20
Sent: Tuesday, April 27, 2004 4:55 PM
To: Lucene Users List
Subject: Re: searching only part of an index




If you know the id of the last document in the index.
(I don't know what's the best way to get it)
you could probably use a range query.
something like find all docs with the id in [lastId-100 TO lastID]. =
maybe
you should make sure that the first limit is non negative, though.

just a thought

ioan

At 08:02 AM 4/27/2004, you wrote:
>Hi
>
>I wondered if anyone knows whether it is possible to search ONLY the=20
>100
>(or whatever) most recently added documents to a lucene index? I know =
that=20
>once I have all my results ordered by ID number in Hits I could then =
just=20
>display the required amount, but I wondered if there is a way to avoid=20
>searching all documents in the index in the first place?
>
>Many thanks
>
>Alan
>
>_________________________________________________________________
>Express yourself with cool new emoticons=20
>http://www.msn.co.uk/specials/myemo
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 13:04:41 2004
Return-Path: <lucene-user-return-8052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45560 invoked from network); 27 Apr 2004 13:04:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 13:04:40 -0000
Received: (qmail 38418 invoked by uid 500); 27 Apr 2004 13:04:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38313 invoked by uid 500); 27 Apr 2004 13:04:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38051 invoked from network); 27 Apr 2004 13:04:08 -0000
Received: from unknown (HELO tisch.mail.mindspring.net) (207.69.200.157)
  by daedalus.apache.org with SMTP; 27 Apr 2004 13:04:08 -0000
Received: from h-69-3-87-38.mclnva23.dynamic.covad.net ([69.3.87.38] helo=POWERPACK)
	by tisch.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BISFt-0008HL-00
	for lucene-user@jakarta.apache.org; Tue, 27 Apr 2004 09:04:09 -0400
Message-ID: <10a001c42c58$28ca0950$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY2-F5bBYLcOPTeLje0000a220@hotmail.com>
Subject: Re: searching only part of an index
Date: Tue, 27 Apr 2004 09:04:22 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think that if you include the indexing timestamp in the Document you
create when indexing, you could sort on this and only pick the first 100.

Regards,

Terry
----- Original Message ----- 
From: "Alan Smith" <lufc4@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, April 27, 2004 8:02 AM
Subject: searching only part of an index


> Hi
>
> I wondered if anyone knows whether it is possible to search ONLY the 100
(or
> whatever) most recently added documents to a lucene index? I know that
once
> I have all my results ordered by ID number in Hits I could then just
display
> the required amount, but I wondered if there is a way to avoid searching
all
> documents in the index in the first place?
>
> Many thanks
>
> Alan
>
> _________________________________________________________________
> Express yourself with cool new emoticons
http://www.msn.co.uk/specials/myemo
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 13:14:52 2004
Return-Path: <lucene-user-return-8053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52802 invoked from network); 27 Apr 2004 13:14:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 13:14:52 -0000
Received: (qmail 67641 invoked by uid 500); 27 Apr 2004 13:14:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67601 invoked by uid 500); 27 Apr 2004 13:14:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67587 invoked from network); 27 Apr 2004 13:14:38 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 13:14:38 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 6B83C6B3F54
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 09:14:38 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <002601c42c57$943ed860$1801a8c0@naderit>
References: <002601c42c57$943ed860$1801a8c0@naderit>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D567AD4C-984C-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: searching only part of an index
Date: Tue, 27 Apr 2004 09:14:37 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 27, 2004, at 9:00 AM, Nader S. Henein wrote:
> Are the DOC ids sequential? Or just unique and ascending, I'm thinking 
> like
> a good little Oracle boy, so does anyone know?

They are unique and ascending.

Gaps in id's exist when documents are removed, and then the id's are 
squeezed back to completely sequential with no holes during an 
optimize.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 13:49:25 2004
Return-Path: <lucene-user-return-8054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82043 invoked from network); 27 Apr 2004 13:49:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 13:49:25 -0000
Received: (qmail 58118 invoked by uid 500); 27 Apr 2004 13:49:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58086 invoked by uid 500); 27 Apr 2004 13:49:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58034 invoked from network); 27 Apr 2004 13:49:13 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.236)
  by daedalus.apache.org with SMTP; 27 Apr 2004 13:49:13 -0000
Received: (cpmta 23015 invoked from network); 27 Apr 2004 06:49:14 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.236) with SMTP; 27 Apr 2004 06:49:14 -0700
X-Sent: 27 Apr 2004 13:49:14 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: searching only part of an index
Date: Tue, 27 Apr 2004 17:49:02 +0400
Organization: Bayt.com
Message-ID: <002a01c42c5e$6b20dbc0$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <D567AD4C-984C-11D8-BB92-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So if Alan wants to limit it to the first 100 he can't really use a range
search unless he can guarantee that the index is optimized after deletes,
but then if his deletion rounds are anything like mine ( every 2 mins) then
optimizing it at each delete will make searching the index really slow.
Right?

Nader

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Tuesday, April 27, 2004 5:15 PM
To: Lucene Users List
Subject: Re: searching only part of an index


On Apr 27, 2004, at 9:00 AM, Nader S. Henein wrote:
> Are the DOC ids sequential? Or just unique and ascending, I'm thinking
> like
> a good little Oracle boy, so does anyone know?

They are unique and ascending.

Gaps in id's exist when documents are removed, and then the id's are 
squeezed back to completely sequential with no holes during an 
optimize.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 14:25:03 2004
Return-Path: <lucene-user-return-8055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1407 invoked from network); 27 Apr 2004 14:25:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 14:25:03 -0000
Received: (qmail 39560 invoked by uid 500); 27 Apr 2004 14:24:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39531 invoked by uid 500); 27 Apr 2004 14:24:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39500 invoked from network); 27 Apr 2004 14:24:52 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 14:24:52 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 28A7B6B4818
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 10:24:53 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <002a01c42c5e$6b20dbc0$1801a8c0@naderit>
References: <002a01c42c5e$6b20dbc0$1801a8c0@naderit>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A5BE47FA-9856-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: searching only part of an index
Date: Tue, 27 Apr 2004 10:24:52 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 27, 2004, at 9:49 AM, Nader S. Henein wrote:
> So if Alan wants to limit it to the first 100 he can't really use a 
> range
> search unless he can guarantee that the index is optimized after 
> deletes,
> but then if his deletion rounds are anything like mine ( every 2 mins) 
> then
> optimizing it at each delete will make searching the index really slow.
> Right?

Well, if you know how many you've deleted, then a range would work :)  
(number of docs in index minus 100 minus number deleted = starting 
range for doc id)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 14:26:33 2004
Return-Path: <lucene-user-return-8056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2302 invoked from network); 27 Apr 2004 14:26:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 14:26:33 -0000
Received: (qmail 42642 invoked by uid 500); 27 Apr 2004 14:26:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42388 invoked by uid 500); 27 Apr 2004 14:26:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42371 invoked from network); 27 Apr 2004 14:26:23 -0000
Received: from unknown (HELO avas7.telusquebec.local) (142.169.1.152)
  by daedalus.apache.org with SMTP; 27 Apr 2004 14:26:23 -0000
Received: from nodnsquery(192.168.250.24) by avas7.telusquebec.local via csmap 
	 id eebe6dbc_9856_11d8_94cf_0002b3a434af_13305;
	Tue, 27 Apr 2004 10:26:55 -0400 (EDT)
Received: from avas7.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp2.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HWU00LK62QCBP@"TELUS Quebec"> for
 lucene-user@jakarta.apache.org; Tue, 27 Apr 2004 10:25:25 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas7.telusquebec.local via
 csmap	id ca85028a_9856_11d8_9874_0002b3a434af_12503; Tue,
 27 Apr 2004 10:25:54 -0400 (EDT)
Date: Tue, 27 Apr 2004 10:19:51 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: BooleanScorer - 32 required/prohibited clause limit
To: lucene-user@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <000a01c42c62$b4ad7420$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I am using Lucene 1.3 and I ran into the following exception:

java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
clauses in query.
	at org.apache.lucene.search.BooleanScorer.add(BooleanScorer.java:98)

Is there any easy way to fix/adjust this (like the
BooleanQuery.maxClauseCount, for example)?
Strangely, I couldn't find mention of the BooleanScorer class in my javadoc.


Thank you for any tips.

Tate

p.s.  Yes, I am intentionally generating some rather long boolean queries.
:)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 14:32:24 2004
Return-Path: <lucene-user-return-8057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6667 invoked from network); 27 Apr 2004 14:32:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 14:32:24 -0000
Received: (qmail 57356 invoked by uid 500); 27 Apr 2004 14:32:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57336 invoked by uid 500); 27 Apr 2004 14:32:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57323 invoked from network); 27 Apr 2004 14:32:13 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 14:32:13 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id A82776B488B
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 10:32:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <A5BE47FA-9856-11D8-BB92-000393A564E6@ehatchersolutions.com>
References: <002a01c42c5e$6b20dbc0$1801a8c0@naderit> <A5BE47FA-9856-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ACFB37B9-9857-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: searching only part of an index
Date: Tue, 27 Apr 2004 10:32:13 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 27, 2004, at 10:24 AM, Erik Hatcher wrote:
> On Apr 27, 2004, at 9:49 AM, Nader S. Henein wrote:
>> So if Alan wants to limit it to the first 100 he can't really use a 
>> range
>> search unless he can guarantee that the index is optimized after 
>> deletes,
>> but then if his deletion rounds are anything like mine ( every 2 
>> mins) then
>> optimizing it at each delete will make searching the index really 
>> slow.
>> Right?
>
> Well, if you know how many you've deleted, then a range would work :)  
> (number of docs in index minus 100 minus number deleted = starting 
> range for doc id)

On second thought - this is incorrect - my apologies.  To be clever, 
you'd have to know in what positions the deleted documents were in and 
account for them in that manner.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 15:30:13 2004
Return-Path: <lucene-user-return-8058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47606 invoked from network); 27 Apr 2004 15:30:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 15:30:13 -0000
Received: (qmail 56208 invoked by uid 500); 27 Apr 2004 15:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56162 invoked by uid 500); 27 Apr 2004 15:29:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56038 invoked from network); 27 Apr 2004 15:29:24 -0000
Received: from unknown (HELO mail.obs.com) (209.101.182.21)
  by daedalus.apache.org with SMTP; 27 Apr 2004 15:29:24 -0000
Received: from greatmeadows.obs.com (ws.obs.com [209.101.182.2])
	by mail.obs.com (OBS Enterprise Mail) with ESMTP id i3RFTP400981
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 11:29:25 -0400
Message-Id: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
X-Sender: ioan@pop3.obs.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 27 Apr 2004 11:31:36 -0400
To: lucene-user@jakarta.apache.org
From: Ioan Miftode <ioan@obs.com>
Subject: "phrase search" AND term
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



I recently upgraded to lucene 1.4 RC2 because I needed some
sorting capabilities. However some phrase searches don't
work anymore (the hits don't even have the term's I'm searching on).
They were fine when using 1.3final.
I noticed it happens when I combine
a phrase search with a simple term like this:

field1:"some phrase search" AND field2:term

Has anyone experienced anything similar ?
Any thoughts.


thanks

ioan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 15:41:01 2004
Return-Path: <lucene-user-return-8059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55360 invoked from network); 27 Apr 2004 15:41:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 15:41:01 -0000
Received: (qmail 99547 invoked by uid 500); 27 Apr 2004 15:40:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99517 invoked by uid 500); 27 Apr 2004 15:40:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99443 invoked from network); 27 Apr 2004 15:40:30 -0000
Received: from unknown (HELO c014.snv.cp.net) (209.228.35.84)
  by daedalus.apache.org with SMTP; 27 Apr 2004 15:40:30 -0000
Received: (cpmta 14866 invoked from network); 27 Apr 2004 08:40:33 -0700
Received: from 209.228.35.86 (HELO mail.cswebmail.com.criticalpath.net)
  by smtp.cswebmail.com (209.228.35.84) with SMTP; 27 Apr 2004 08:40:33 -0700
X-Sent: 27 Apr 2004 15:40:33 GMT
Received: from [193.132.159.162] by mail.cswebmail.com with HTTP;
    Tue, 27 Apr 2004 08:40:33 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
From: hgadm@cswebmail.com
Subject: Lucene and MS SQL
X-Sent-From: hgadm@cswebmail.com
Date: Tue, 27 Apr 2004 08:40:33 -0700 (PDT)
X-Mailer: Web Mail 5.6.3-1
Message-Id: <20040427084033.17661.h012.c014.wm@mail.cswebmail.com.criticalpath.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear all,

has anyone had experience using Lucene with data stored
in MS SQL server 2000 ?

How does indexing and searching work in that case.

Thanks,

Holger

___________________________________________________
The ALL NEW CS2000 from CompuServe
 Better!  Faster! More Powerful!
 250 FREE hours! Sign-on Now!
 http://www.compuserve.com/trycsrv/cs2000/webmail/





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 15:50:27 2004
Return-Path: <lucene-user-return-8060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61209 invoked from network); 27 Apr 2004 15:50:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 15:50:27 -0000
Received: (qmail 33317 invoked by uid 500); 27 Apr 2004 15:49:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33288 invoked by uid 500); 27 Apr 2004 15:49:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33226 invoked from network); 27 Apr 2004 15:49:40 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 15:49:40 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id C5F636B4B32
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 11:49:42 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
References: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7FA3E462-9862-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: "phrase search" AND term
Date: Tue, 27 Apr 2004 11:49:42 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you provide a simple test case that shows this problem?

Did you reindex when upgrading?


On Apr 27, 2004, at 11:31 AM, Ioan Miftode wrote:

>
>
> I recently upgraded to lucene 1.4 RC2 because I needed some
> sorting capabilities. However some phrase searches don't
> work anymore (the hits don't even have the term's I'm searching on).
> They were fine when using 1.3final.
> I noticed it happens when I combine
> a phrase search with a simple term like this:
>
> field1:"some phrase search" AND field2:term
>
> Has anyone experienced anything similar ?
> Any thoughts.
>
>
> thanks
>
> ioan
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 15:53:13 2004
Return-Path: <lucene-user-return-8061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63002 invoked from network); 27 Apr 2004 15:53:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 15:53:13 -0000
Received: (qmail 46043 invoked by uid 500); 27 Apr 2004 15:53:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46000 invoked by uid 500); 27 Apr 2004 15:52:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45908 invoked from network); 27 Apr 2004 15:52:59 -0000
Received: from unknown (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by daedalus.apache.org with SMTP; 27 Apr 2004 15:52:59 -0000
Received: from fwd11.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1BIUtJ-0004WJ-00; Tue, 27 Apr 2004 17:53:01 +0200
Received: from DILCON01 (Z4eAvvZbweMJCSzTMxx4kb8zZh+mkqH7lFKWDw09LoCVxqqGiO-n8y@[217.232.183.118]) by fmrl11.sul.t-online.com
	with esmtp id 1BIUt4-1n1uLY0; Tue, 27 Apr 2004 17:52:46 +0200
Reply-To: <tezcan@dilshener.de>
From: "Tezcan Dilshener" <tezcan@dilshener.de>
To: <lucene-user@jakarta.apache.org>
Subject: Fuzzy search problem
Date: Tue, 27 Apr 2004 17:52:37 +0200
Organization: Dilshener Consulting
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0018_01C42C80.6DD46A90"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Thread-Index: AcQsb6nPDicnCiyvRJSDUmTpwbhmmA==
Message-ID: <1BIUt4-1n1uLY0@fmrl11.sul.t-online.com>
X-Seen: false
X-ID: Z4eAvvZbweMJCSzTMxx4kb8zZh+mkqH7lFKWDw09LoCVxqqGiO-n8y@t-dialin.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0018_01C42C80.6DD46A90
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi all,
 
I have indexed a list of entries using the StandardAnalyzer and now when I
want to perform a fuzzy search over this list,
I am getting no hits when I enter multiple words as the search criteria.
 
However, it works really good and fast, when I search for single words.
 
Can you please give me some advice on how to resolve this hurdle?
Here is an example of what I am doing
 
Index has the following entries
ARAP TURK BANKASI A.S.
ARAB TURKISH BANK

And the search criteria is ARAB TURK BANK 

Hits found is 0 


However if I search for a single word (ARAB or ARAP) than it finds entries.

 
 

Best regards, mit freundlichen Gruessen

T.Dilshener
MSc. CEng. MBCS CITP
dilshener consulting
 <http://www.dilshener.de/> http://www.dilshener.de
 
 

------=_NextPart_000_0018_01C42C80.6DD46A90--



From lucene-user-return-8062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 16:15:40 2004
Return-Path: <lucene-user-return-8062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77707 invoked from network); 27 Apr 2004 16:15:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 16:15:40 -0000
Received: (qmail 10844 invoked by uid 500); 27 Apr 2004 16:15:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10810 invoked by uid 500); 27 Apr 2004 16:15:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10706 invoked from network); 27 Apr 2004 16:15:19 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 27 Apr 2004 16:15:19 -0000
Received: (qmail 9290 invoked by uid 89); 27 Apr 2004 16:15:21 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 27 Apr 2004 16:15:21 -0000
Message-ID: <408E8709.10303@apache.org>
Date: Tue, 27 Apr 2004 09:15:05 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: need info for database based Lucene but not flat file
References: <1083026110.3488.7.camel@tuk.mooter.com>
In-Reply-To: <1083026110.3488.7.camel@tuk.mooter.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yukun Song wrote:
> As known, currently Lucene uses flat file to store information for
> indexing. 
> 
> Any people has idea or resources for combining database (Like MySQL or
> PostreSQL) and Lucene instead of current flat index file formats?

A few folks have implemented an SQL-based Lucene Directory, but none has 
yet been contributed to Lucene.  Hopefully one will be soon.

For some discussion of this, see messages on SQLDirectory in the mail 
archives:

http://nagoya.apache.org/eyebrowse/SearchList?listId=&listName=lucene-user%40jakarta.apache.org&searchText=SQLDirectory&defaultField=subject&Search=Search

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 16:24:22 2004
Return-Path: <lucene-user-return-8063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82849 invoked from network); 27 Apr 2004 16:24:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 16:24:22 -0000
Received: (qmail 38323 invoked by uid 500); 27 Apr 2004 16:23:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38298 invoked by uid 500); 27 Apr 2004 16:23:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38224 invoked from network); 27 Apr 2004 16:23:13 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 27 Apr 2004 16:23:13 -0000
Received: (qmail 16793 invoked by uid 89); 27 Apr 2004 16:23:16 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 27 Apr 2004 16:23:16 -0000
Message-ID: <408E88E5.5000501@apache.org>
Date: Tue, 27 Apr 2004 09:23:01 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: "phrase search" AND term
References: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
In-Reply-To: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ioan Miftode wrote:
> I recently upgraded to lucene 1.4 RC2 because I needed some
> sorting capabilities. However some phrase searches don't
> work anymore (the hits don't even have the term's I'm searching on).

Try the latest CVS.  There were some bugs in 1.4RC2 that have been fixed.

(We'll probably do an RC3 release soon.  There are currently some bugs 
in span search that would be good to get fixed in RC3, but perhaps these 
will have to wait until RC4...)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 17:26:35 2004
Return-Path: <lucene-user-return-8064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39159 invoked from network); 27 Apr 2004 17:26:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 17:26:34 -0000
Received: (qmail 12018 invoked by uid 500); 27 Apr 2004 17:26:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11992 invoked by uid 500); 27 Apr 2004 17:26:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11961 invoked from network); 27 Apr 2004 17:26:19 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 27 Apr 2004 17:26:19 -0000
Message-ID: <20040427172617.29676.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.92] by web12706.mail.yahoo.com via HTTP; Tue, 27 Apr 2004 10:26:17 PDT
Date: Tue, 27 Apr 2004 10:26:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: sorting by date (XML)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <408E4979.5080504@wyona.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Beware of storing timestamps (DateFields, I guess) in Lucene, if you
intend to use range queries (xxx TO yyy).

Otis

--- Michael Wechner <michael.wechner@wyona.com> wrote:
> my XML files contain something like
> 
> <date>
>   <year>2004</year><month>04</month><day>27</day>...
> </date>
> 
> and I would like to sort by this date.
> 
> So I guess I need to modify the Documentparser and generate something
> like
> a millisecond field and then sort by this, correct?
> 
> Has anyone done something like this yet?
> 
> Thanks
> 
> Michi
> 
> -- 
> Michael Wechner
> Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
> http://www.wyona.com              http://cocoon.apache.org/lenya/
> michael.wechner@wyona.com                        michi@apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 17:40:12 2004
Return-Path: <lucene-user-return-8065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47557 invoked from network); 27 Apr 2004 17:40:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 17:40:12 -0000
Received: (qmail 47352 invoked by uid 500); 27 Apr 2004 17:39:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47321 invoked by uid 500); 27 Apr 2004 17:39:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47302 invoked from network); 27 Apr 2004 17:39:55 -0000
Received: from unknown (HELO unica.udc.es) (193.147.41.3)
  by daedalus.apache.org with SMTP; 27 Apr 2004 17:39:55 -0000
Received: from unica.udc.es (localhost [127.0.0.1])
	by unica.udc.es (8.12.8p1/8.12.3) with ESMTP id i3RHdwEN018451
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 19:39:58 +0200 (CEST)
Received: from EIRIS (lbdport1.dc.fi.udc.es [193.144.51.159])
	by unica.udc.es (8.12.8p1/8.12.3) with ESMTP id i3RHdv1i018446
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 19:39:58 +0200 (CEST)
Message-Id: <200404271739.i3RHdv1i018446@unica.udc.es>
From: =?iso-8859-1?Q?Olaia_V=E1zquez_S=E1nchez?= <olaia@udc.es>
To: <lucene-user@jakarta.apache.org>
Subject: Re-associate a token with its source
Date: Tue, 27 Apr 2004 19:40:03 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01C42C8F.6FBBF170"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQsfp4zu1kGpXAPTuWyhngShLmI6A==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0004_01C42C8F.6FBBF170
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

=20

I have documents in XML in which, for each word, I have 4 positions =
(top,
down, left and right) that would let me to highlight this word in a jpg
image. I want to index this XML documents and to highlight the results =
of
the queries in the image, so I need to store this positions for each =
word
inside the index.

=20

I was searching about how can I use the Token fields to store this
attributes but I didn=92t found any example where this fields were used.

=20

Thanks,

=20

Olaia V=E1zquez


------=_NextPart_000_0004_01C42C8F.6FBBF170--


From lucene-user-return-8066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 17:40:40 2004
Return-Path: <lucene-user-return-8066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47854 invoked from network); 27 Apr 2004 17:40:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 17:40:40 -0000
Received: (qmail 48565 invoked by uid 500); 27 Apr 2004 17:40:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48543 invoked by uid 500); 27 Apr 2004 17:40:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48526 invoked from network); 27 Apr 2004 17:40:24 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 27 Apr 2004 17:40:24 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i3RHiAO07236
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 12:44:11 -0500
Message-ID: <408E9B99.3090101@koberg.com>
Date: Tue, 27 Apr 2004 10:42:49 -0700
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <20040427172617.29676.qmail@web12706.mail.yahoo.com>
In-Reply-To: <20040427172617.29676.qmail@web12706.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> Beware of storing timestamps (DateFields, I guess) in Lucene, if you
> intend to use range queries (xxx TO yyy).

Why?

We have attributes that contain iso8601 date strings and when indexing:

Date date = isoConv.parse(value, new ParsePosition(0));
String dateString = DateField.dateToString(date);
doc.add(Field.Keyword(name, dateString));

then when searching:

String from = DateField.timeToString(searchFromDate);
String to = DateField.timeToString(searchToDate);
RangeQuery rq = new RangeQuery(new Term(searchKey, from),
                            new Term(searchKey, to), true);

Is this not correct?

bst,
-Rob


> 
> Otis
> 
> --- Michael Wechner <michael.wechner@wyona.com> wrote:
> 
>>my XML files contain something like
>>
>><date>
>>  <year>2004</year><month>04</month><day>27</day>...
>></date>
>>
>>and I would like to sort by this date.
>>
>>So I guess I need to modify the Documentparser and generate something
>>like
>>a millisecond field and then sort by this, correct?
>>
>>Has anyone done something like this yet?
>>
>>Thanks
>>
>>Michi
>>
>>-- 
>>Michael Wechner
>>Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
>>http://www.wyona.com              http://cocoon.apache.org/lenya/
>>michael.wechner@wyona.com                        michi@apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 17:50:12 2004
Return-Path: <lucene-user-return-8067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53687 invoked from network); 27 Apr 2004 17:50:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 17:50:12 -0000
Received: (qmail 71866 invoked by uid 500); 27 Apr 2004 17:49:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71824 invoked by uid 500); 27 Apr 2004 17:49:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71762 invoked from network); 27 Apr 2004 17:49:46 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 27 Apr 2004 17:49:46 -0000
Message-ID: <20040427174942.60483.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.92] by web12703.mail.yahoo.com via HTTP; Tue, 27 Apr 2004 10:49:42 PDT
Date: Tue, 27 Apr 2004 10:49:42 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: sorting by date (XML)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <408E9B99.3090101@koberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Because having small time units like milliseconds will result in Range
query expanding to a large number of BooleanQueries, if you have a lot
of documents with unique time stamps.  Rounding the timestamp to
minutes, hours, or days, can drastically reduce the number of unique
time stamps, hence resulting in less BooleanQueries.

Otis

--- Robert Koberg <rob@koberg.com> wrote:
> Otis Gospodnetic wrote:
> 
> > Beware of storing timestamps (DateFields, I guess) in Lucene, if
> you
> > intend to use range queries (xxx TO yyy).
> 
> Why?
> 
> We have attributes that contain iso8601 date strings and when
> indexing:
> 
> Date date = isoConv.parse(value, new ParsePosition(0));
> String dateString = DateField.dateToString(date);
> doc.add(Field.Keyword(name, dateString));
> 
> then when searching:
> 
> String from = DateField.timeToString(searchFromDate);
> String to = DateField.timeToString(searchToDate);
> RangeQuery rq = new RangeQuery(new Term(searchKey, from),
>                             new Term(searchKey, to), true);
> 
> Is this not correct?
> 
> bst,
> -Rob
> 
> 
> > 
> > Otis
> > 
> > --- Michael Wechner <michael.wechner@wyona.com> wrote:
> > 
> >>my XML files contain something like
> >>
> >><date>
> >>  <year>2004</year><month>04</month><day>27</day>...
> >></date>
> >>
> >>and I would like to sort by this date.
> >>
> >>So I guess I need to modify the Documentparser and generate
> something
> >>like
> >>a millisecond field and then sort by this, correct?
> >>
> >>Has anyone done something like this yet?
> >>
> >>Thanks
> >>
> >>Michi
> >>
> >>-- 
> >>Michael Wechner
> >>Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
> >>http://www.wyona.com              http://cocoon.apache.org/lenya/
> >>michael.wechner@wyona.com                        michi@apache.org
> >>
> >>
>
>>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 18:07:21 2004
Return-Path: <lucene-user-return-8068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64061 invoked from network); 27 Apr 2004 18:07:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 18:07:21 -0000
Received: (qmail 7986 invoked by uid 500); 27 Apr 2004 18:06:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7945 invoked by uid 500); 27 Apr 2004 18:06:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7897 invoked from network); 27 Apr 2004 18:06:55 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 27 Apr 2004 18:06:55 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i3RIAhO07381
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 13:10:43 -0500
Message-ID: <408EA1CF.5060807@koberg.com>
Date: Tue, 27 Apr 2004 11:09:19 -0700
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20040427174942.60483.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> Because having small time units like milliseconds will result in Range
> query expanding to a large number of BooleanQueries, if you have a lot
> of documents with unique time stamps.  Rounding the timestamp to
> minutes, hours, or days, can drastically reduce the number of unique
> time stamps, hence resulting in less BooleanQueries.

Cool, thanks. So DateField.dateToString is the best, most efficient way, 
correct?

> 
> Otis
> 
> --- Robert Koberg <rob@koberg.com> wrote:
> 
>>Otis Gospodnetic wrote:
>>
>>
>>>Beware of storing timestamps (DateFields, I guess) in Lucene, if
>>
>>you
>>
>>>intend to use range queries (xxx TO yyy).
>>
>>Why?
>>
>>We have attributes that contain iso8601 date strings and when
>>indexing:
>>
>>Date date = isoConv.parse(value, new ParsePosition(0));
>>String dateString = DateField.dateToString(date);
>>doc.add(Field.Keyword(name, dateString));
>>
>>then when searching:
>>
>>String from = DateField.timeToString(searchFromDate);
>>String to = DateField.timeToString(searchToDate);
>>RangeQuery rq = new RangeQuery(new Term(searchKey, from),
>>                            new Term(searchKey, to), true);
>>
>>Is this not correct?
>>
>>bst,
>>-Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:00:20 2004
Return-Path: <lucene-user-return-8069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96254 invoked from network); 27 Apr 2004 19:00:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:00:20 -0000
Received: (qmail 29864 invoked by uid 500); 27 Apr 2004 19:00:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29815 invoked by uid 500); 27 Apr 2004 19:00:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29762 invoked from network); 27 Apr 2004 19:00:02 -0000
Received: from unknown (HELO hm-pop1.solinus.com) (66.18.18.33)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:00:02 -0000
Received: FROM unknown ([63.143.55.254]) BY hm-pop1.solinus.com (Hostmail) FOR <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 19:00:06 -0000 (GMT)
Message-ID: <408EADBF.8060201@ruckusnetwork.com>
Date: Tue, 27 Apr 2004 15:00:15 -0400
From: Joe Berkovitz <jberkovitz@ruckusnetwork.com>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: Read past EOF and negative bufferLength problem (1.4 rc2)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Using Lucene 1.4 rc2 I've run into a fatal problem: certain 
PhraseQueries cause a "Read Past EOF" exception (see below), while other 
PhraseQueries enter an infinite loop due to a negative bufferLength 
field in CSInputStream.  Environment is WinXP, JDK 1.4.2.  The index is 
large, incorporating 1,000,000 documents each of which has 3 stored, 
indexed fields of 10-100 chars.

The problem does not occur with Lucene 1.3 indexing the exact same set 
of Documents.  Nor does it occur with 1.4 rc2 using various smaller sets 
of documents.  Right now my workaround is to use Lucene 1.3.

For the PhraseQuery "a y" (that's right, two single-letter terms), the 
read-past-EOF exception is as follows:

java.io.IOException: read past EOF
    at org.apache.lucene.store.InputStream.refill(InputStream.java:154)
    at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
    at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
    at 
org.apache.lucene.index.SegmentTermPositions.next(SegmentTermPositions.java:59)
    at 
org.apache.lucene.index.SegmentTermDocs.skipTo(SegmentTermDocs.java:187)
    at 
org.apache.lucene.search.PhrasePositions.skipTo(PhrasePositions.java:47)
    at org.apache.lucene.search.PhraseScorer.next(PhraseScorer.java:69)
    at org.apache.lucene.search.Scorer.score(Scorer.java:37)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:81)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
    at org.apache.lucene.search.Hits.<init>(Hits.java:43)
    at org.apache.lucene.search.Searcher.search(Searcher.java:33)
    at org.apache.lucene.search.Searcher.search(Searcher.java:27)
    at...

For the phrase query "z y", an  infinite loop is entered.  The loop 
occurs due to a similar condition to read-past-EOF: at line 153 of 
org.apache.lucene.store.InputStream, the value of bufferLength goes 
negative due to the value of start exceeding the value of end.  This in 
turn seems to be a consequence of a seek to a position past the end of 
the stream.

Something is clearly corrupt somewhere in the index structure.  I'd love 
to post the files that reproduce the problem, but it's about 100 MB of 
data.  If someone on the Lucene dev team wants to give me an upload 
destination, I can post the index somewhere and you can play with the 
problem.

regards and thanks for any assistance,

Joe Berkovitz
Chief Architect
Ruckus Network, Inc.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:30:45 2004
Return-Path: <lucene-user-return-8070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20997 invoked from network); 27 Apr 2004 19:30:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:30:45 -0000
Received: (qmail 1076 invoked by uid 500); 27 Apr 2004 19:30:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1056 invoked by uid 500); 27 Apr 2004 19:30:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1042 invoked from network); 27 Apr 2004 19:30:26 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:30:26 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 8E3B66B544C
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:30:30 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <408EA1CF.5060807@koberg.com>
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com> <408EA1CF.5060807@koberg.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting by date (XML)
Date: Tue, 27 Apr 2004 15:30:29 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 27, 2004, at 2:09 PM, Robert Koberg wrote:
> Otis Gospodnetic wrote:
>
>> Because having small time units like milliseconds will result in Range
>> query expanding to a large number of BooleanQueries, if you have a lot
>> of documents with unique time stamps.  Rounding the timestamp to
>> minutes, hours, or days, can drastically reduce the number of unique
>> time stamps, hence resulting in less BooleanQueries.
>
> Cool, thanks. So DateField.dateToString is the best, most efficient 
> way, correct?

It all depends.  But if all you care about is year, month, day, it is 
_not_ the most efficient.  DateField converts down to milliseconds, and 
is what Otis was referring to.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:39:40 2004
Return-Path: <lucene-user-return-8071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26622 invoked from network); 27 Apr 2004 19:39:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:39:40 -0000
Received: (qmail 23720 invoked by uid 500); 27 Apr 2004 19:39:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23548 invoked by uid 500); 27 Apr 2004 19:39:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23526 invoked from network); 27 Apr 2004 19:39:22 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:39:22 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i3RJhBO07784
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 14:43:11 -0500
Message-ID: <408EB77F.8090000@koberg.com>
Date: Tue, 27 Apr 2004 12:41:51 -0700
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com> <408EA1CF.5060807@koberg.com> <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com>
In-Reply-To: <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On Apr 27, 2004, at 2:09 PM, Robert Koberg wrote:
> 
>> Otis Gospodnetic wrote:
>>
>>> Because having small time units like milliseconds will result in Range
>>> query expanding to a large number of BooleanQueries, if you have a lot
>>> of documents with unique time stamps.  Rounding the timestamp to
>>> minutes, hours, or days, can drastically reduce the number of unique
>>> time stamps, hence resulting in less BooleanQueries.
>>
>>
>> Cool, thanks. So DateField.dateToString is the best, most efficient 
>> way, correct?
> 
> 
> It all depends.  But if all you care about is year, month, day, it is 
> _not_ the most efficient.  DateField converts down to milliseconds, and 
> is what Otis was referring to.

Oops, I meant to write DateField.timeToString which I use when querying. 
If I use DateField.dateToString when indexing but timeToString when 
searching is that a bad practice? I do only need month, day and year. So 
should I be indexing with timeToString?

How would you do it if the above is still a bad practice?

Sorry for the basic questions...

best,
-Rob


> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:45:54 2004
Return-Path: <lucene-user-return-8072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30090 invoked from network); 27 Apr 2004 19:45:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:45:54 -0000
Received: (qmail 38272 invoked by uid 500); 27 Apr 2004 19:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38246 invoked by uid 500); 27 Apr 2004 19:45:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38233 invoked from network); 27 Apr 2004 19:45:37 -0000
Received: from unknown (HELO avas7.telusquebec.local) (142.169.1.152)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:45:37 -0000
Received: from nodnsquery(192.168.250.24) by avas7.telusquebec.local via csmap 
	 id 8a77d83e_9883_11d8_9e9b_0002b3a434af_22186;
	Tue, 27 Apr 2004 15:46:14 -0400 (EDT)
Received: from avas7.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp2.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HWU001QJHIW9Z@"TELUS Quebec"> for
 lucene-user@jakarta.apache.org; Tue, 27 Apr 2004 15:44:56 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas7.telusquebec.local via
 csmap	id 6ec77450_9883_11d8_8e90_0002b3a434af_21266; Tue,
 27 Apr 2004 15:45:27 -0400 (EDT)
Date: Tue, 27 Apr 2004 15:39:18 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: RE: BooleanScorer - 32 required/prohibited clause limit
In-reply-to: <000a01c42c62$b4ad7420$4c0012ac@nstein.com>
To: lucene-user@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <003101c42c8f$554817b0$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Or if I overlooked some previous post or thread that covers this please help
me track it down.

Thank you,
Tate

-----Original Message-----
From: Tate Avery [mailto:tate.avery@nstein.com]
Sent: Tuesday, April 27, 2004 10:20 AM
To: lucene-user@jakarta.apache.org
Subject: BooleanScorer - 32 required/prohibited clause limit


Hello,

I am using Lucene 1.3 and I ran into the following exception:

java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
clauses in query.
	at org.apache.lucene.search.BooleanScorer.add(BooleanScorer.java:98)

Is there any easy way to fix/adjust this (like the
BooleanQuery.maxClauseCount, for example)?
Strangely, I couldn't find mention of the BooleanScorer class in my javadoc.


Thank you for any tips.

Tate

p.s.  Yes, I am intentionally generating some rather long boolean queries.
:)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:46:36 2004
Return-Path: <lucene-user-return-8073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30606 invoked from network); 27 Apr 2004 19:46:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:46:35 -0000
Received: (qmail 39958 invoked by uid 500); 27 Apr 2004 19:46:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39926 invoked by uid 500); 27 Apr 2004 19:46:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39910 invoked from network); 27 Apr 2004 19:46:18 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:46:18 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i3RJkNQt009834
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:46:23 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i3RJkN6T009830
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:46:23 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Tue, 27 Apr 2004 15:46:23 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Re-associate a token with its source
In-Reply-To: <200404271739.i3RHdv1i018446@unica.udc.es>
Message-ID: <Pine.LNX.4.44.0404271541160.9728-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=ISO-8859-1
Content-Transfer-Encoding: 8BIT
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When indexing, use UnIndexed fields to store this data in your document.

org.apache.lucene.document.Field#UnIndexed(String name, String value) 

Add the fields using:
org.apache.lucene.document.Document.add(Field)

After your search, you can get the field value from:
Document Hits.doc(int)

You can retrieve your store values using 
String Document.get(String name) 

HTH,
sv

On Tue, 27 Apr 2004, Olaia Vzquez Snchez wrote:

> Hello
> 
>  
> 
> I have documents in XML in which, for each word, I have 4 positions (top,
> down, left and right) that would let me to highlight this word in a jpg
> image. I want to index this XML documents and to highlight the results of
> the queries in the image, so I need to store this positions for each word
> inside the index.
> 
>  
> 
> I was searching about how can I use the Token fields to store this
> attributes but I didnt found any example where this fields were used.
> 
>  
> 
> Thanks,
> 
>  
> 
> Olaia Vzquez
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:49:05 2004
Return-Path: <lucene-user-return-8074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32199 invoked from network); 27 Apr 2004 19:49:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:49:05 -0000
Received: (qmail 43934 invoked by uid 500); 27 Apr 2004 19:48:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43752 invoked by uid 500); 27 Apr 2004 19:48:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43739 invoked from network); 27 Apr 2004 19:48:48 -0000
Received: from unknown (HELO mail.obs.com) (209.101.182.21)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:48:48 -0000
Received: from greatmeadows.obs.com (ws.obs.com [209.101.182.2])
	by mail.obs.com (OBS Enterprise Mail) with ESMTP id i3RJmq409269
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:48:52 -0400
Message-Id: <6.0.0.22.2.20040427154824.040be350@pop3.obs.com>
X-Sender: ioan@pop3.obs.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 27 Apr 2004 15:50:09 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ioan Miftode <ioan@obs.com>
Subject: Re: "phrase search" AND term
In-Reply-To: <408E88E5.5000501@apache.org>
References: <6.0.0.22.2.20040427111747.03f4a4c8@pop3.obs.com>
 <408E88E5.5000501@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Thank you Doug, the latest CVS works fine.

ioan

At 12:23 PM 4/27/2004, you wrote:
>Ioan Miftode wrote:
>>I recently upgraded to lucene 1.4 RC2 because I needed some
>>sorting capabilities. However some phrase searches don't
>>work anymore (the hits don't even have the term's I'm searching on).
>
>Try the latest CVS.  There were some bugs in 1.4RC2 that have been fixed.
>
>(We'll probably do an RC3 release soon.  There are currently some bugs in 
>span search that would be good to get fixed in RC3, but perhaps these will 
>have to wait until RC4...)
>
>Doug
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 19:58:55 2004
Return-Path: <lucene-user-return-8075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38361 invoked from network); 27 Apr 2004 19:58:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 19:58:55 -0000
Received: (qmail 73696 invoked by uid 500); 27 Apr 2004 19:58:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73621 invoked by uid 500); 27 Apr 2004 19:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73332 invoked from network); 27 Apr 2004 19:58:33 -0000
Received: from unknown (HELO ErikHatcher.local) (128.143.103.61)
  by daedalus.apache.org with SMTP; 27 Apr 2004 19:58:33 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 435AC6B5607
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:58:37 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <408EB77F.8090000@koberg.com>
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com> <408EA1CF.5060807@koberg.com> <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com> <408EB77F.8090000@koberg.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4532E885-9885-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting by date (XML)
Date: Tue, 27 Apr 2004 15:58:36 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 27, 2004, at 3:41 PM, Robert Koberg wrote:
> Oops, I meant to write DateField.timeToString which I use when 
> querying. If I use DateField.dateToString when indexing but 
> timeToString when searching is that a bad practice? I do only need 
> month, day and year. So should I be indexing with timeToString?
>
> How would you do it if the above is still a bad practice?
>
> Sorry for the basic questions...

No worries.  This is the type of thing that is a "gotcha" with dates, 
and is a prime candidate for a wiki page (nudge, nudge)...

You should represent dates (at index and search time) using YYYYMMDD 
format - it needs to be lexicographically ordered.  Forget DateField 
and Field.Keyword(String,Date) altogether.

Some tricks are needed if you need to use QueryParser to translate 
mm/dd/yyyy format to how you represent it, but it is quite simple. 
(subclass QueryParser, override getRangeQuery).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 20:23:54 2004
Return-Path: <lucene-user-return-8076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58426 invoked from network); 27 Apr 2004 20:23:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 20:23:53 -0000
Received: (qmail 41056 invoked by uid 500); 27 Apr 2004 20:23:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41037 invoked by uid 500); 27 Apr 2004 20:23:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41017 invoked from network); 27 Apr 2004 20:23:36 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 27 Apr 2004 20:23:36 -0000
Received: from koberg.com (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id i3RKRPO08020
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 15:27:25 -0500
Message-ID: <408EC1DD.6050200@koberg.com>
Date: Tue, 27 Apr 2004 13:26:05 -0700
From: Robert Koberg <rob@koberg.com>
Organization: liveSTORYBOARD
User-Agent: Mozilla Thunderbird 0.5 (Macintosh/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com> <408EA1CF.5060807@koberg.com> <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com> <408EB77F.8090000@koberg.com> <4532E885-9885-11D8-BB92-000393A564E6@ehatchersolutions.com>
In-Reply-To: <4532E885-9885-11D8-BB92-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On Apr 27, 2004, at 3:41 PM, Robert Koberg wrote:
> 
>> Oops, I meant to write DateField.timeToString which I use when 
>> querying. If I use DateField.dateToString when indexing but 
>> timeToString when searching is that a bad practice? I do only need 
>> month, day and year. So should I be indexing with timeToString?
>>
>> How would you do it if the above is still a bad practice?
>>
>> Sorry for the basic questions...
> 
> 
> No worries.  This is the type of thing that is a "gotcha" with dates, 
> and is a prime candidate for a wiki page (nudge, nudge)...
> 
> You should represent dates (at index and search time) using YYYYMMDD 
> format - it needs to be lexicographically ordered.  Forget DateField and 
> Field.Keyword(String,Date) altogether.
> 
> Some tricks are needed if you need to use QueryParser to translate 
> mm/dd/yyyy format to how you represent it, but it is quite simple. 
> (subclass QueryParser, override getRangeQuery).

Ah. Great - thanks! I see you added it to the wiki. Thanks again :)

This is perfect in my case since iso8601 is in the format:

2004-04-27T01:23:33

Luckily so far, from my logs, hardly anyone uses the date search. I 
guess I should have been doing this from the beginning, don't know why I 
didn't...

best,
-Rob


> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 21:18:43 2004
Return-Path: <lucene-user-return-8077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3186 invoked from network); 27 Apr 2004 21:18:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 21:18:43 -0000
Received: (qmail 54484 invoked by uid 500); 27 Apr 2004 21:18:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54455 invoked by uid 500); 27 Apr 2004 21:18:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54426 invoked from network); 27 Apr 2004 21:18:24 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 27 Apr 2004 21:18:24 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BIZy8-0005F1-00
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 23:18:20 +0200
Message-ID: <408ECE1D.6050909@wyona.com>
Date: Tue, 27 Apr 2004 23:18:21 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting by date (XML)
References: <20040427174942.60483.qmail@web12703.mail.yahoo.com> <408EA1CF.5060807@koberg.com> <57A1E226-9881-11D8-BB92-000393A564E6@ehatchersolutions.com> <408EB77F.8090000@koberg.com> <4532E885-9885-11D8-BB92-000393A564E6@ehatchersolutions.com> <408EC1DD.6050200@koberg.com>
In-Reply-To: <408EC1DD.6050200@koberg.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Robert Koberg wrote:

>
> Ah. Great - thanks! I see you added it to the wiki. Thanks again :)


I guess you mean

http://wiki.apache.org/jakarta-lucene/IndexingDateFields

Thanks as well

Michi


>
> This is perfect in my case since iso8601 is in the format:
>
> 2004-04-27T01:23:33
>
> Luckily so far, from my logs, hardly anyone uses the date search. I 
> guess I should have been doing this from the beginning, don't know why 
> I didn't...
>
> best,
> -Rob
>
>
>>
>>     Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 21:27:41 2004
Return-Path: <lucene-user-return-8078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12126 invoked from network); 27 Apr 2004 21:27:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 21:27:41 -0000
Received: (qmail 72030 invoked by uid 500); 27 Apr 2004 21:27:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72008 invoked by uid 500); 27 Apr 2004 21:27:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71983 invoked from network); 27 Apr 2004 21:27:23 -0000
Received: from unknown (HELO egmsmtp2.e-gatematrix.com) (63.107.91.193)
  by daedalus.apache.org with SMTP; 27 Apr 2004 21:27:23 -0000
Received: by egmsmtp2.e-gatematrix.com with Internet Mail Service (5.5.2653.19)
	id <JKAXH736>; Tue, 27 Apr 2004 17:27:27 -0400
Message-ID: <B054BF199C501D48B18D3EBD74A1EF5D015C94FD@egmmail.e-gatematrix.com>
From: "Narayan, Anand" <ANarayan@e-gatematrix.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Index directory name
Date: Tue, 27 Apr 2004 17:27:22 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am having a problem with using a network path for the index directory.
If I use a path of the form  //server/indexdir   the IndexWriter finds it
and
indexes documents but the IndexSearcher throws an exception saying it is
not a valid path.
I cannot use a local path as I need to be able to support a common index
directory
for a clustered environment.
What is the best solution in this case?

Thanks
Anand

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 21:42:51 2004
Return-Path: <lucene-user-return-8079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26676 invoked from network); 27 Apr 2004 21:42:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 21:42:51 -0000
Received: (qmail 10892 invoked by uid 500); 27 Apr 2004 21:42:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10866 invoked by uid 500); 27 Apr 2004 21:42:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10846 invoked from network); 27 Apr 2004 21:42:31 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 27 Apr 2004 21:42:31 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i3RLgbw30053
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 23:42:37 +0200
Received: from g40.incze.hu (localhost [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i3RLgaUk013524
	for <lucene-user@jakarta.apache.org>; Tue, 27 Apr 2004 23:42:36 +0200
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i3RLgabM013522
	for lucene-user@jakarta.apache.org; Tue, 27 Apr 2004 23:42:36 +0200
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Tue, 27 Apr 2004 23:42:36 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: need info for database based Lucene but not flat file
Message-ID: <20040427214236.GC9949@incze.adsl.enternet.hu>
References: <1083026110.3488.7.camel@tuk.mooter.com> <408E8709.10303@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <408E8709.10303@apache.org>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Apr 27, 2004 at 09:15:05AM -0700, Doug Cutting wrote:
> Yukun Song wrote:
> >As known, currently Lucene uses flat file to store information for
> >indexing. 
> >
> >Any people has idea or resources for combining database (Like MySQL or
> >PostreSQL) and Lucene instead of current flat index file formats?
> 
> A few folks have implemented an SQL-based Lucene Directory, but none has 
> yet been contributed to Lucene.  Hopefully one will be soon.
> 
> For some discussion of this, see messages on SQLDirectory in the mail 
> archives:
> 
> http://nagoya.apache.org/eyebrowse/SearchList?listId=&listName=lucene-user%40jakarta.apache.org&searchText=SQLDirectory&defaultField=subject&Search=Search
> 
> Doug

Could anybody summarize what would be the technical pros/cons of a DB-based
directory over the flat files? (What I see at the moment is that for some
- significant? - perfomence penalty you'll get an index available over the
network for multiple lucene engines -- if I'm right.)

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 21:47:07 2004
Return-Path: <lucene-user-return-8080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29390 invoked from network); 27 Apr 2004 21:47:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 21:47:07 -0000
Received: (qmail 19410 invoked by uid 500); 27 Apr 2004 21:46:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19368 invoked by uid 500); 27 Apr 2004 21:46:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19350 invoked from network); 27 Apr 2004 21:46:48 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 27 Apr 2004 21:46:48 -0000
Received: (qmail 42831 invoked by uid 89); 27 Apr 2004 21:46:39 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 27 Apr 2004 21:46:39 -0000
Message-ID: <408ED4AE.4090303@apache.org>
Date: Tue, 27 Apr 2004 14:46:22 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: need info for database based Lucene but not flat file
References: <1083026110.3488.7.camel@tuk.mooter.com> <408E8709.10303@apache.org> <20040427214236.GC9949@incze.adsl.enternet.hu>
In-Reply-To: <20040427214236.GC9949@incze.adsl.enternet.hu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Incze Lajos wrote:
> Could anybody summarize what would be the technical pros/cons of a DB-based
> directory over the flat files? (What I see at the moment is that for some
> - significant? - perfomence penalty you'll get an index available over the
> network for multiple lucene engines -- if I'm right.)

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=1344168

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 22:42:29 2004
Return-Path: <lucene-user-return-8081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58011 invoked from network); 27 Apr 2004 22:42:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 22:42:28 -0000
Received: (qmail 23783 invoked by uid 500); 27 Apr 2004 22:42:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23758 invoked by uid 500); 27 Apr 2004 22:42:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23741 invoked from network); 27 Apr 2004 22:42:07 -0000
Received: from unknown (HELO merc95.na.sas.com) (149.173.6.5)
  by daedalus.apache.org with SMTP; 27 Apr 2004 22:42:07 -0000
Received: from MERC23.na.sas.com ([10.19.9.179]) by merc95.na.sas.com with InterScan Messaging Security Suite; Tue, 27 Apr 2004 18:42:13 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: languages supported by lucene 1.2.1 in eclipse help system
Date: Tue, 27 Apr 2004 18:42:13 -0400
Message-ID: <38BCC8D26B88894DB8D921BD95121CAC0992E5@MERC23.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: languages supported by lucene 1.2.1 in eclipse help system
thread-index: AcQqBzB3yEph15p6TO+tdDSwANUU9ACmKPFw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm assuming what you have is an eclipse plugin that is making use of =
the eclipse help system. If what you are doing is relying on the lucene =
eclipse plugin, you may want to look at the help system anyway since it =
will give you an example of an eclipse plugin that is using the lucene =
plugin.

The eclipse help system uses lucene but they have their own Analyzer =
class that uses BreakIterator to identify tokens for languages other =
than english and german. The lucene eclipse plugin just exports the =
lucene jar and the html parser so that any plugin that depends on the =
lucene plugin (like the help system) will have those jars in the =
classpath of their plugin.

For english they use the PorterStemFilter with a StopAnalyzer and a =
stopword list. For german, they use the GermanAnalyzer supplied by the =
lucene jar.

In the latest CVS at :pserver:anonymous@dev.eclipse.org:/home/eclipse

see the project in =
org.eclipse.help.base/src/org/eclipse/help/internal/search
in older eclipse versions see the R2_1_maintenance branch of =
org.eclipse.help/src/org/eclipse/help/internal/search

the class DefaultAnalyzer is the analyzer implementation for languages =
other than english and german and WordTokenStream is where they use =
BreakIterator to break the content from the reader into individual =
tokens.

The default Eclipse help system sets these extensions in the =
org.eclipse.help.base plugin:

<!-- Text Analyzers for search -->
   <extension
         id=3D"org.eclipse.help.base.Analyzer_en"
         point=3D"org.eclipse.help.base.luceneAnalyzer">
      <analyzer
            locale=3D"en"
            class=3D"org.eclipse.help.internal.search.Analyzer_en">
      </analyzer>
   </extension>
   <extension
         id=3D"org.eclipse.help.base.Analyzer_de"
         point=3D"org.eclipse.help.base.luceneAnalyzer">
      <analyzer
            locale=3D"de"
            class=3D"org.apache.lucene.analysis.de.GermanAnalyzer">
      </analyzer>
   </extension>

Look at the extension point schema in =
http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/org.eclipse.help.base=
/schema/luceneAnalyzer.exsd?rev=3DHEAD&content-type=3Dtext/plain for how =
to declare your own analyzer extensions. Beware though, I read that this =
affects all help searches in that language, not just the ones for your =
plugin.

Also, since the WordTokenStream is in a package with "internal" in its =
path, you aren't supposed to ever make use of that class from other =
plugins, so if you wanted your own analyzer based on that class and a =
stop list, you shouldn't use that class without talking the eclipse help =
developers into moving it outside of an internal package.

Most of this has been around for a while, so it is probably the same or =
very similar in previous eclipse versions, you may need to poke around =
at the extension point schema in your eclipse plugins directory to =
verify that the extension point works the same way in your version of =
eclipse. I haven't used it in versions prior to 3.0M8

Hope this is useful to you,
Eric

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Saturday, April 24, 2004 10:18 AM
To: Lucene Users List
Subject: Re: languages supported by lucene 1.2.1 in eclipse help system


That's no myth :)
Core Lucene (even the current version) does not include classes that =
know how to analyze/tokenize text in languages other than English, =
Russian, and German.  However, take a look at the Snowball contributions =
in Lucene Sandbox, where a few more analyzers are available, including =
those for CJK group of langauges.

Otis


--- Jason Elliott <jason.elliott@peregrine.com> wrote:
> We have a plugin in our eclipse project named org.apache.lucene_1.2.1.
> It works quite well in that help system.
> =20
> I've been notified that this particular version of the lucene search=20
> analyzer searches well in German and English (GE), but not so well in=20
> the rest of the languages on this planet.
> =20
> I have several questions
> 1.	If it does not search very "well" in French, Italian and Japanese
> (FIJ), what does that really mean to a user conducting searches?
> a.	If this is a myth and the searches work the same in EFIG-J, please
> let me know that.
> b.	If this is not a myth and there are plugins that enable the search
> to work well in FIJ?
> =20
> Thanks
> jason
> =20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Apr 27 23:28:45 2004
Return-Path: <lucene-user-return-8082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78570 invoked from network); 27 Apr 2004 23:28:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Apr 2004 23:28:44 -0000
Received: (qmail 6747 invoked by uid 500); 27 Apr 2004 23:28:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6712 invoked by uid 500); 27 Apr 2004 23:28:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6698 invoked from network); 27 Apr 2004 23:28:23 -0000
Received: from unknown (HELO incze.adsl.enternet.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 27 Apr 2004 23:28:23 -0000
Received: from g40.incze.hu (g40.incze.hu [192.168.10.18])
	by incze.adsl.enternet.hu (8.11.6/8.11.6) with ESMTP id i3RNSTw32609
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 01:28:29 +0200
Received: from g40.incze.hu (localhost [127.0.0.1])
	by g40.incze.hu (8.12.10/8.12.10) with ESMTP id i3RNSTUk015622
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 01:28:29 +0200
Received: (from incze@localhost)
	by g40.incze.hu (8.12.10/8.12.8/Submit) id i3RNSTEZ015620
	for lucene-user@jakarta.apache.org; Wed, 28 Apr 2004 01:28:29 +0200
X-Authentication-Warning: g40.incze.hu: incze set sender to incze@mail.matav.hu using -f
Date: Wed, 28 Apr 2004 01:28:29 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: need info for database based Lucene but not flat file
Message-ID: <20040427232829.GE9949@incze.adsl.enternet.hu>
References: <1083026110.3488.7.camel@tuk.mooter.com> <408E8709.10303@apache.org> <20040427214236.GC9949@incze.adsl.enternet.hu> <408ED4AE.4090303@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <408ED4AE.4090303@apache.org>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Apr 27, 2004 at 02:46:22PM -0700, Doug Cutting wrote:
> Incze Lajos wrote:
> >Could anybody summarize what would be the technical pros/cons of a DB-based
> >directory over the flat files? (What I see at the moment is that for some
> >- significant? - perfomence penalty you'll get an index available over the
> >network for multiple lucene engines -- if I'm right.)
> 
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=1344168
> 
> Doug

Thanks.

incze

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 00:18:36 2004
Return-Path: <lucene-user-return-8083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5127 invoked from network); 28 Apr 2004 00:18:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 00:18:36 -0000
Received: (qmail 61026 invoked by uid 500); 28 Apr 2004 00:18:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61002 invoked by uid 500); 28 Apr 2004 00:18:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60988 invoked from network); 28 Apr 2004 00:18:14 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 28 Apr 2004 00:18:14 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz2.forethought.net with esmtp (Exim 4.30)
	id 1BIcmM-0003Oz-1N
	for lucene-user@jakarta.apache.org; Tue, 27 Apr 2004 18:18:22 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene and MS SQL
Date: Tue, 27 Apr 2004 18:19:20 -0600
User-Agent: KMail/1.5
References: <20040427084033.17661.h012.c014.wm@mail.cswebmail.com.criticalpath.net>
In-Reply-To: <20040427084033.17661.h012.c014.wm@mail.cswebmail.com.criticalpath.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404271819.21071.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 27 April 2004 09:40, hgadm@cswebmail.com wrote:
> Dear all,
>
> has anyone had experience using Lucene with data stored
> in MS SQL server 2000 ?
>
> How does indexing and searching work in that case.

It works pretty much like system that has Oracle, DB2 or MySQL backend. :-)
It may even be identical, if data access is done via some typical abstraction 
layer (Hibernate or other ORM mappers).

The most common case is just to retrieve indexed data from DB, then let Lucene 
build its index, do searches against index, and eventually fetch data 
necessary for displaying results (usually only index is managed by Lucene; 
there's no point in duplicating actual indexed data itself) from DB for hits.

-+ Tatu +-

>
> Thanks,
>
> Holger
>
>
> ___________________________________________________
> The ALL NEW CS2000 from CompuServe
>  Better!  Faster! More Powerful!
>  250 FREE hours! Sign-on Now!
>  http://www.compuserve.com/trycsrv/cs2000/webmail/
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 01:45:42 2004
Return-Path: <lucene-user-return-8084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59420 invoked from network); 28 Apr 2004 01:45:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 01:45:41 -0000
Received: (qmail 79016 invoked by uid 500); 28 Apr 2004 01:45:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78983 invoked by uid 500); 28 Apr 2004 01:45:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78959 invoked from network); 28 Apr 2004 01:45:17 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 28 Apr 2004 01:45:17 -0000
Received: (qmail 10783 invoked from network); 28 Apr 2004 01:45:23 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 28 Apr 2004 01:45:22 -0000
Subject: status of LARM project
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1083116644.14615.12.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 28 Apr 2004 09:44:04 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I have look at LARM website and I get different results

http://nagoya.apache.org/wiki/apachewiki.cgi?LuceneLARMPages
It says that development has stopped for this project.

LARM hosted on sourceforge.
The last message was dated 2003 in the mailing list. Is it still
supported and active?

LARM hosted on apache.
It says the project is moved to sourceforge.

Any one here who is active in LARM can comment on the status?

Regards

Sebastian Ho


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 01:56:02 2004
Return-Path: <lucene-user-return-8085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65966 invoked from network); 28 Apr 2004 01:56:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 01:56:02 -0000
Received: (qmail 96332 invoked by uid 500); 28 Apr 2004 01:55:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96314 invoked by uid 500); 28 Apr 2004 01:55:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96300 invoked from network); 28 Apr 2004 01:55:38 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 28 Apr 2004 01:55:38 -0000
Received: from kelvin (adsl-210-193-14-173.qala.com.sg [210.193.14.173])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i3S1rUJd027394
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 09:53:30 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Wed, 28 Apr 2004 09:55:44 +0800
Message-ID: <200442895544.260880@kelvin>
In-Reply-To: <1083116644.14615.12.camel@localhost.localdomain>
Subject: Re: status of LARM project
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As far as I know, LARM is defunct. I read somewhere, perhaps apocryphal,=
 that 
Clemens got a job which wasn't supportive of his continued development on=
 LARM. 
AFAIK there aren't any other active developers of LARM (at least at the time=
 it 
branched off to SF). 

Otis recently posted to use Nutch instead of LARM.

Kelvin

On 28 Apr 2004 09:44:04 +0800, Sebastian Ho said:
> Hi
> 
> I have look at LARM website and I get different results
> 
> http://nagoya.apache.org/wiki/apachewiki.cgi?LuceneLARMPages
> It says that development has stopped for this project.
> 
> LARM hosted on sourceforge.
> The last message was dated 2003 in the mailing list. Is it still
> supported and active?
> 
> LARM hosted on apache.
> It says the project is moved to sourceforge.
> 
> Any one here who is active in LARM can comment on the status?
> 
> Regards
> 
> Sebastian Ho
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 04:04:45 2004
Return-Path: <lucene-user-return-8086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66749 invoked from network); 28 Apr 2004 04:04:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 04:04:45 -0000
Received: (qmail 70660 invoked by uid 500); 28 Apr 2004 04:04:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70641 invoked by uid 500); 28 Apr 2004 04:04:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70626 invoked from network); 28 Apr 2004 04:04:19 -0000
Received: from unknown (HELO web20302.mail.yahoo.com) (216.136.226.83)
  by daedalus.apache.org with SMTP; 28 Apr 2004 04:04:19 -0000
Message-ID: <20040428040429.84463.qmail@web20302.mail.yahoo.com>
Received: from [203.126.142.231] by web20302.mail.yahoo.com via HTTP; Tue, 27 Apr 2004 21:04:29 PDT
Date: Tue, 27 Apr 2004 21:04:29 -0700 (PDT)
From: Gabriela D <derasg@yahoo.com>
Subject: Re: Index directory name
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B054BF199C501D48B18D3EBD74A1EF5D015C94FD@egmmail.e-gatematrix.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1960910253-1083125069=:82897"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1960910253-1083125069=:82897
Content-Type: text/plain; charset=us-ascii

I assume you are using Wintel platform. You may map the the directory where your indexes are kept using persistent connection. (this can be done using "NET USE....." command in command prompt). This keeps network connection always open, which otherwise Windows will close the connection after sometime(but still manully accessible). You can notice this in explorer window where you will find a red cross mark against the mapped network drive.
Harsha.

"Narayan, Anand" <ANarayan@e-gatematrix.com> wrote:
I am having a problem with using a network path for the index directory.
If I use a path of the form //server/indexdir the IndexWriter finds it
and
indexes documents but the IndexSearcher throws an exception saying it is
not a valid path.
I cannot use a local path as I need to be able to support a common index
directory
for a clustered environment.
What is the best solution in this case?

Thanks
Anand

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

		
---------------------------------
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs 
--0-1960910253-1083125069=:82897--

From lucene-user-return-8087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 04:04:54 2004
Return-Path: <lucene-user-return-8087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66864 invoked from network); 28 Apr 2004 04:04:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 04:04:54 -0000
Received: (qmail 71555 invoked by uid 500); 28 Apr 2004 04:04:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71524 invoked by uid 500); 28 Apr 2004 04:04:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71506 invoked from network); 28 Apr 2004 04:04:28 -0000
Received: from unknown (HELO web20305.mail.yahoo.com) (216.136.226.86)
  by daedalus.apache.org with SMTP; 28 Apr 2004 04:04:28 -0000
Message-ID: <20040428040438.49941.qmail@web20305.mail.yahoo.com>
Received: from [203.126.142.231] by web20305.mail.yahoo.com via HTTP; Tue, 27 Apr 2004 21:04:38 PDT
Date: Tue, 27 Apr 2004 21:04:38 -0700 (PDT)
From: Gabriela D <derasg@yahoo.com>
Subject: Re: Index directory name
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B054BF199C501D48B18D3EBD74A1EF5D015C94FD@egmmail.e-gatematrix.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1565241980-1083125078=:49283"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1565241980-1083125078=:49283
Content-Type: text/plain; charset=us-ascii

I assume you are using Wintel platform. You may map the the directory where your indexes are kept using persistent connection. (this can be done using "NET USE....." command in command prompt). This keeps network connection always open, which otherwise Windows will close the connection after sometime(but still manully accessible). You can notice this in explorer window where you will find a red cross mark against the mapped network drive.
Harsha.

"Narayan, Anand" <ANarayan@e-gatematrix.com> wrote:
I am having a problem with using a network path for the index directory.
If I use a path of the form //server/indexdir the IndexWriter finds it
and
indexes documents but the IndexSearcher throws an exception saying it is
not a valid path.
I cannot use a local path as I need to be able to support a common index
directory
for a clustered environment.
What is the best solution in this case?

Thanks
Anand

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

		
---------------------------------
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs 
--0-1565241980-1083125078=:49283--

From lucene-user-return-8088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 04:09:38 2004
Return-Path: <lucene-user-return-8088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69167 invoked from network); 28 Apr 2004 04:09:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 04:09:38 -0000
Received: (qmail 78162 invoked by uid 500); 28 Apr 2004 04:09:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78139 invoked by uid 500); 28 Apr 2004 04:09:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78124 invoked from network); 28 Apr 2004 04:09:12 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 28 Apr 2004 04:09:12 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3S49MV13547
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 00:09:22 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 28 Apr 2004 00:09:22 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: status of LARM project
In-Reply-To: <200442895544.260880@kelvin>
Message-ID: <Pine.LNX.4.33.0404272319480.12525-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest you look at:
http://www.manageability.org/blog/stuff/open-source-web-crawlers-java

>From what I know of nutch, it's meant as the basic for a competitor to the
big search engines (i.e. google). For a small web site, it might be
overkill especially if it requires you to build from CVS (unless there are
distributions).

Note:
I've got the book "Programming Spiders, Bots and Aggregators in Java", it
describes spiders using a project called: j-spider
http://sourceforge.net/projects/j-spider/
It could probably be adapted for your needs.

HTH,
sv

On Wed, 28 Apr 2004, Kelvin Tan wrote:

> As far as I know, LARM is defunct. I read somewhere, perhaps apocryphal, that
> Clemens got a job which wasn't supportive of his continued development on LARM.
> AFAIK there aren't any other active developers of LARM (at least at the time it
> branched off to SF).
>
> Otis recently posted to use Nutch instead of LARM.
>
> Kelvin
>
> On 28 Apr 2004 09:44:04 +0800, Sebastian Ho said:
> > Hi
> >
> > I have look at LARM website and I get different results
> >
> > http://nagoya.apache.org/wiki/apachewiki.cgi?LuceneLARMPages
> > It says that development has stopped for this project.
> >
> > LARM hosted on sourceforge.
> > The last message was dated 2003 in the mailing list. Is it still
> > supported and active?
> >
> > LARM hosted on apache.
> > It says the project is moved to sourceforge.
> >
> > Any one here who is active in LARM can comment on the status?
> >
> > Regards
> >
> > Sebastian Ho
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 10:17:09 2004
Return-Path: <lucene-user-return-8089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36884 invoked from network); 28 Apr 2004 10:17:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 10:17:09 -0000
Received: (qmail 76351 invoked by uid 500); 28 Apr 2004 10:16:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76325 invoked by uid 500); 28 Apr 2004 10:16:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76311 invoked from network); 28 Apr 2004 10:16:36 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 28 Apr 2004 10:16:36 -0000
Message-ID: <20040428101649.15966.qmail@web12708.mail.yahoo.com>
Received: from [194.152.209.238] by web12708.mail.yahoo.com via HTTP; Wed, 28 Apr 2004 03:16:49 PDT
Date: Wed, 28 Apr 2004 03:16:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: status of LARM project
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200442895544.260880@kelvin>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kelvin is all correct.
A few years ago there were no quality open source crawlers available. 
There are now a number of very good ones.  Archive.org's crawler is
available, there is Larbin, Nutch, etc.
LARM works, it's just not maintained any more.

Otis

--- Kelvin Tan <lists-kelvin@relevanz.com> wrote:
> As far as I know, LARM is defunct. I read somewhere, perhaps
> apocryphal, that
> Clemens got a job which wasn't supportive of his continued
> development on LARM.
> AFAIK there aren't any other active developers of LARM (at least at
> the time it
> branched off to SF).
> 
> Otis recently posted to use Nutch instead of LARM.
> 
> Kelvin
> 
> On 28 Apr 2004 09:44:04 +0800, Sebastian Ho said:
> > Hi
> >
> > I have look at LARM website and I get different results
> >
> > http://nagoya.apache.org/wiki/apachewiki.cgi?LuceneLARMPages
> > It says that development has stopped for this project.
> >
> > LARM hosted on sourceforge.
> > The last message was dated 2003 in the mailing list. Is it still
> > supported and active?
> >
> > LARM hosted on apache.
> > It says the project is moved to sourceforge.
> >
> > Any one here who is active in LARM can comment on the status?
> >
> > Regards
> >
> > Sebastian Ho
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 11:06:50 2004
Return-Path: <lucene-user-return-8090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73064 invoked from network); 28 Apr 2004 11:06:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 11:06:50 -0000
Received: (qmail 67763 invoked by uid 500); 28 Apr 2004 11:06:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67626 invoked by uid 500); 28 Apr 2004 11:06:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67613 invoked from network); 28 Apr 2004 11:06:42 -0000
Received: from unknown (HELO hotmail.com) (207.68.165.37)
  by daedalus.apache.org with SMTP; 28 Apr 2004 11:06:42 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 28 Apr 2004 04:06:42 -0700
Received: from 213.11.44.138 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Wed, 28 Apr 2004 11:06:42 GMT
X-Originating-IP: [213.11.44.138]
X-Originating-Email: [philouchat@hotmail.com]
X-Sender: philouchat@hotmail.com
From: "Phil brunet" <philouchat@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: ArrayIndexOutOfBoundsException
Date: Wed, 28 Apr 2004 11:06:42 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Sea2-F374IVfErdMqqc0003e9fb@hotmail.com>
X-OriginalArrivalTime: 28 Apr 2004 11:06:42.0961 (UTC) FILETIME=[E34FF010:01C42D10]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi.

I had this problem when i transfered a Lucene index by FTP in "ASCII" mode. 
Using binary mode, i never has such a problem.

Philippe

>From: James Dunn <james_h_dunn@yahoo.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: lucene-user@jakarta.apache.org
>Subject: ArrayIndexOutOfBoundsException
>Date: Mon, 26 Apr 2004 12:15:39 -0700 (PDT)
>
>Hello all,
>
>I have a web site whose search is driven by Lucene
>1.3.  I've been doing some load testing using JMeter
>and occassionally I will see the exception below when
>the search page is under heavy load.
>
>Has anyone seen similar errors during load testing?
>
>I've seen some posts with similar exceptions and the
>general consensus is that this error means that the
>index is corrupt.  I'm not sure my index is corrupt
>however.  I can run all the queries I use for load
>testing under normal load and I don't appear to get
>this error.
>
>Is there any way to verify that a Lucene index is
>corrupt or not?
>
>Thanks,
>
>Jim
>
>java.lang.ArrayIndexOutOfBoundsException: 53 >= 52
>         at java.util.Vector.elementAt(Vector.java:431)
>         at
>org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:135)
>         at
>org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:103)
>         at
>org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
>         at
>org.apache.lucene.index.SegmentsReader.document(SegmentsReader.java:112)
>         at
>org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
>         at
>org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
>         at
>org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
>         at
>org.apache.lucene.search.Hits.doc(Hits.java:130)
>
>
>
>
>
>__________________________________
>Do you Yahoo!?
>Yahoo! Photos: High-quality 4x6 digital prints for 25
>http://photos.yahoo.com/ph/print_splash
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Hotmail : un compte GRATUIT qui vous suit partout et tout le temps ! 
http://g.msn.fr/FR1000/9493


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 13:05:37 2004
Return-Path: <lucene-user-return-8091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39876 invoked from network); 28 Apr 2004 13:05:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 13:05:37 -0000
Received: (qmail 19917 invoked by uid 500); 28 Apr 2004 13:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19889 invoked by uid 500); 28 Apr 2004 13:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19854 invoked from network); 28 Apr 2004 13:05:25 -0000
Received: from unknown (HELO hotmail.com) (65.54.186.183)
  by daedalus.apache.org with SMTP; 28 Apr 2004 13:05:25 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 28 Apr 2004 05:54:15 -0700
Received: from 210.193.14.41 by bay16-dav3.bay16.hotmail.com with DAV;
	Wed, 28 Apr 2004 12:54:15 +0000
X-Originating-IP: [210.193.14.41]
X-Originating-Email: [sigirisetti@hotmail.com]
X-Sender: sigirisetti@hotmail.com
From: "Surya Kiran" <sigirisetti@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<nsh@bayt.net>
References: <000301c42b48$f0ad1090$1801a8c0@naderit>
Subject: Re: Segments file get deleted?!
Date: Wed, 28 Apr 2004 20:54:13 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY16-DAV3r1Wtyi67E00031b23@hotmail.com>
X-OriginalArrivalTime: 28 Apr 2004 12:54:15.0817 (UTC) FILETIME=[E9839F90:01C42D1F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Thanks for reply. I got that error in my previous build. Now i didnt see
it at all.
Also i couldnt able to retain the log. I will definetly come back if i see
it again.
Anyway below is my machine config:

Windows XP Personal Ed., 512MB, P4.
My app server is Resin 2.1.12

I will definetly come up with more details when i get it again.Thanks again.

Surya

----- Original Message ----- 
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, April 26, 2004 12:42 PM
Subject: RE: Segments file get deleted?!


Can you give us a bit of background, we've been using Lucene since the first
stable release 2 years ago, and I 've never had segments disappear on me,
first of all can you provide some background on your setup and secondly when
you say "a certain period of time", how much time are we talking about here
and does that interval coincide with your indexing schedule, because you may
have the create flag on the Indexer set to true so it simply recreates the
index at every update and deleted whatever was there, of course if there are
no files to index at any point it will just give you a blank index.


Nader Henein

-----Original Message-----
From: Surya Kiran [mailto:sigirisetti@hotmail.com]
Sent: Monday, April 26, 2004 7:48 AM
To: lucene-user@jakarta.apache.org
Subject: Segments file get deleted?!


Hi all, we have implemented our portal search using Lucene. It  works fine.
But after a certain period of time "Lucene segments" file get deleted.
Eventually all searches fails. Anyone can guess where the error could be.

Thanks a lot.

Regards
Surya.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 15:20:40 2004
Return-Path: <lucene-user-return-8092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52143 invoked from network); 28 Apr 2004 15:20:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 15:20:40 -0000
Received: (qmail 78382 invoked by uid 500); 28 Apr 2004 15:20:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78319 invoked by uid 500); 28 Apr 2004 15:20:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78128 invoked from network); 28 Apr 2004 15:20:06 -0000
Received: from unknown (HELO rediffmail.com) (202.54.124.145)
  by daedalus.apache.org with SMTP; 28 Apr 2004 15:20:06 -0000
Received: (qmail 13030 invoked by uid 510); 28 Apr 2004 13:50:11 -0000
Date: 28 Apr 2004 13:50:11 -0000
Message-ID: <20040428135011.13029.qmail@webmail30.rediffmail.com>
Received: from unknown (61.11.8.27) by rediffmail.com via HTTP; 28 apr 2004 13:50:11 -0000
MIME-Version: 1.0
From: "hemal  bhatt" <bhatthemal@rediffmail.com>
Reply-To: "hemal  bhatt" <bhatthemal@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Count for a keyword occurance in a file
Content-type: multipart/alternative;
	boundary="Next_1083160211---0-202.54.124.145-13025"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1083160211---0-202.54.124.145-13025
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,=0A=0AHow can I get a count of the score given by Hits.Score().=0Ai.e I =
want to know how many times a keyword occurs in a file.=0AAny help on this =
would be appreciated.=0A =A0=0Aregards=0AHemal Bhatt=0A=0A=0A=0Aregards=0AH=
emal bhatt
--Next_1083160211---0-202.54.124.145-13025--


From lucene-user-return-8093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 15:41:18 2004
Return-Path: <lucene-user-return-8093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63951 invoked from network); 28 Apr 2004 15:41:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 15:41:18 -0000
Received: (qmail 32981 invoked by uid 500); 28 Apr 2004 15:41:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32961 invoked by uid 500); 28 Apr 2004 15:41:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32946 invoked from network); 28 Apr 2004 15:41:05 -0000
Received: from unknown (HELO web90102.mail.scd.yahoo.com) (66.218.94.73)
  by daedalus.apache.org with SMTP; 28 Apr 2004 15:41:05 -0000
Message-ID: <20040428153930.66131.qmail@web90102.mail.scd.yahoo.com>
Received: from [202.40.200.41] by web90102.mail.scd.yahoo.com via HTTP; Wed, 28 Apr 2004 23:39:30 CST
Date: Wed, 28 Apr 2004 23:39:30 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: [Lucene] XML Indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2075552839-1083166770=:65546"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-2075552839-1083166770=:65546
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

XMLIndexingDemo seems not able to index traditional Chinese characters. I can only search for English text and not Chinese. In fact, my XML document contains both Chinese and English text. How can I fix this problem? Is it necessary for me to convert the Chinese characters in BIG5 to UTF-8 before doing the file indexing? If it is, then how can we do it? This problem won't happen on indexing bilingual HTML files (Chinese & English) with Lucene Demo HTML parser. 

BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-2075552839-1083166770=:65546--

From lucene-user-return-8094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 16:22:08 2004
Return-Path: <lucene-user-return-8094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93480 invoked from network); 28 Apr 2004 16:22:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 16:22:06 -0000
Received: (qmail 42659 invoked by uid 500); 28 Apr 2004 16:21:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42631 invoked by uid 500); 28 Apr 2004 16:21:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42616 invoked from network); 28 Apr 2004 16:21:51 -0000
Received: from unknown (HELO ifw9bct-smtp2.fws.net) (164.159.172.249)
  by daedalus.apache.org with SMTP; 28 Apr 2004 16:21:51 -0000
Received: from ifw9bct-den3.fws.net ([10.100.176.16])
          by ifw9bct-smtp2.fws.net (Lotus Domino Release 6.5)
          with ESMTP id 2004042810215414-9861 ;
          Wed, 28 Apr 2004 10:21:54 -0600 
Subject: Combining text search + relational search
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 6.0.2CF1 June 9, 2003
Message-ID: <OFE745EF0C.EBE16C1B-ON87256E84.0059DCF5-87256E84.0059E4C2@fws.gov>
From: Mike_Belasco@fws.gov
Date: Wed, 28 Apr 2004 10:21:52 -0600
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on IFW9BCT-DEN3/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 10:21:54 AM,
	Itemize by SMTP Server on IFW9BCT-SMTP2/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 10:21:54 AM,
	Serialize by Router on IFW9BCT-SMTP2/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 10:21:54 AM,
	Serialize complete at 04/28/2004 10:21:54 AM
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





I need to somehow aloow users to do a text search and query relational
database attributes at the same time. The attributes are basically metadata
about the documents that the text search will be perfomed on. I have the
text of the documents indexed in Lucene. Does anyone have any advice or
examples. I also need to make sure I don't garble up all the memory on our
server

Thanks
Mike


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 16:25:45 2004
Return-Path: <lucene-user-return-8095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96165 invoked from network); 28 Apr 2004 16:25:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 16:25:45 -0000
Received: (qmail 56756 invoked by uid 500); 28 Apr 2004 16:25:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56726 invoked by uid 500); 28 Apr 2004 16:25:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56685 invoked from network); 28 Apr 2004 16:25:28 -0000
Received: from unknown (HELO unica.udc.es) (193.147.41.3)
  by daedalus.apache.org with SMTP; 28 Apr 2004 16:25:28 -0000
Received: from unica.udc.es (localhost [127.0.0.1])
	by unica.udc.es (8.12.8p1/8.12.3) with ESMTP id i3SGPUEN016732
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 18:25:31 +0200 (CEST)
Received: from EIRIS (lbdport1.dc.fi.udc.es [193.144.51.159])
	by unica.udc.es (8.12.8p1/8.12.3) with ESMTP id i3SGPU1i016724
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 18:25:30 +0200 (CEST)
Message-Id: <200404281625.i3SGPU1i016724@unica.udc.es>
From: =?iso-8859-1?Q?Olaia_V=E1zquez_S=E1nchez?= <olaia@udc.es>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Re-associate a token with its source
Date: Wed, 28 Apr 2004 18:25:37 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcQskFXShE8pkdeMSDOFg8p4+r0DHgAq4dkg
In-Reply-To: <Pine.LNX.4.44.0404271541160.9728-100000@mere.cirano.qc.ca>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you, but I think I didn't explained my problem clearly enough.

I have four positions (top, bottom, right and left) for each one of the
words of the document so I would have to store in the index the content =
of
the page with the positions in the middle.

org.apache.lucene.document.Field#UnIndexed("content", "house 1142 1231 =
3212
2214 dog 2213 2432 3214 2134 ...")

In order to get the values after a search I would need to parse the =
document
returned to find the positions that are next to the searched word. I =
have
seen that the class Token has 4 properties: beginColumn, beginLine,
endColumn and endLine and I don't know if it is possible to use them to
store for each token the position that I want.

I think this approach is not the correct one so any help on this would =
be
appreciated.


Olaia.

-----Mensaje original-----
De: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]=20
Enviado el: martes, 27 de abril de 2004 21:46
Para: Lucene Users List
Asunto: Re: Re-associate a token with its source

When indexing, use UnIndexed fields to store this data in your document.

org.apache.lucene.document.Field#UnIndexed(String name, String value)=20

Add the fields using:
org.apache.lucene.document.Document.add(Field)

After your search, you can get the field value from:
Document Hits.doc(int)

You can retrieve your store values using=20
String Document.get(String name)=20

HTH,
sv

On Tue, 27 Apr 2004, Olaia V=E1zquez S=E1nchez wrote:

> Hello
>=20
> =20
>=20
> I have documents in XML in which, for each word, I have 4 positions =
(top,
> down, left and right) that would let me to highlight this word in a =
jpg
> image. I want to index this XML documents and to highlight the results =
of
> the queries in the image, so I need to store this positions for each =
word
> inside the index.
>=20
> =20
>=20
> I was searching about how can I use the Token fields to store this
> attributes but I didn=92t found any example where this fields were =
used.
>=20
> =20
>=20
> Thanks,
>=20
> =20
>=20
> Olaia V=E1zquez
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 16:39:05 2004
Return-Path: <lucene-user-return-8096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6462 invoked from network); 28 Apr 2004 16:39:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 16:39:05 -0000
Received: (qmail 90430 invoked by uid 500); 28 Apr 2004 16:38:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90407 invoked by uid 500); 28 Apr 2004 16:38:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90379 invoked from network); 28 Apr 2004 16:38:51 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 28 Apr 2004 16:38:51 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3SGcsD18956
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 12:38:54 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 28 Apr 2004 12:38:54 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Combining text search + relational search
In-Reply-To: <OFE745EF0C.EBE16C1B-ON87256E84.0059DCF5-87256E84.0059E4C2@fws.gov>
Message-ID: <Pine.LNX.4.33.0404281226300.18658-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm a bit confused why you want this.

As far as I know, but relational db searches will return exact
matches without a mesure of relevancy. To mesure relevancy, you need a
search engine. For your results to be coherent, you would have to put
everything in the lucene index.

As for memory consumption, for searching, if the index is on disk, then
the memory footprint depends on the type of queries you use. For indexing,
it depends if you use tmp RAMDirectory to do merges, otherwise, memory
consumption is minimal.

HTH
sv

On Wed, 28 Apr 2004 Mike_Belasco@fws.gov wrote:

>
> I need to somehow aloow users to do a text search and query relational
> database attributes at the same time. The attributes are basically metadata
> about the documents that the text search will be perfomed on. I have the
> text of the documents indexed in Lucene. Does anyone have any advice or
> examples. I also need to make sure I don't garble up all the memory on our
> server
>
> Thanks
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 16:56:08 2004
Return-Path: <lucene-user-return-8097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18655 invoked from network); 28 Apr 2004 16:56:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 16:56:08 -0000
Received: (qmail 23539 invoked by uid 500); 28 Apr 2004 16:55:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23500 invoked by uid 500); 28 Apr 2004 16:55:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23478 invoked from network); 28 Apr 2004 16:55:54 -0000
Received: from unknown (HELO hm-pop1.solinus.com) (66.18.18.33)
  by daedalus.apache.org with SMTP; 28 Apr 2004 16:55:54 -0000
Received: FROM unknown ([63.143.55.254]) BY hm-pop1.solinus.com (Hostmail); Wed, 28 Apr 2004 16:55:57 -0000 (GMT)
Message-ID: <408FE221.3070500@ruckusnetwork.com>
Date: Wed, 28 Apr 2004 12:56:01 -0400
From: Joe Berkovitz <jberkovitz@ruckusnetwork.com>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Daniel Naber <daniel.naber@intrafind.de>
CC:  lucene-user@jakarta.apache.org
Subject: Re: Read past EOF and negative bufferLength problem (1.4 rc2)
References: <408EADBF.8060201@ruckusnetwork.com> <200404281134.12631.daniel.naber@intrafind.de>
In-Reply-To: <200404281134.12631.daniel.naber@intrafind.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel,

Everything works fine with the latest CVS version of lucene.  It looks 
like the bug I hit was the one that you referenced in your email which 
is now fixed.

Thanks for your help.

.       .    .  . ...joe


Daniel Naber wrote:

>Am Dienstag, 27. April 2004 21:00 schrieb Joe Berkovitz:
>
>  
>
>>Using Lucene 1.4 rc2 I've run into a fatal problem:
>>    
>>
>
>Could you try with the latest version from CVS? Several severe problems have 
>been fixed, but I'm not sure if yours was one of them. Also see
>http://issues.apache.org/bugzilla/show_bug.cgi?id=27587
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 17:01:06 2004
Return-Path: <lucene-user-return-8098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22818 invoked from network); 28 Apr 2004 17:01:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 17:01:06 -0000
Received: (qmail 31510 invoked by uid 500); 28 Apr 2004 17:00:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31469 invoked by uid 500); 28 Apr 2004 17:00:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31446 invoked from network); 28 Apr 2004 17:00:53 -0000
Received: from unknown (HELO ifw9bct-smtp2.fws.net) (164.159.172.249)
  by daedalus.apache.org with SMTP; 28 Apr 2004 17:00:53 -0000
Received: from ifw9bct-den3.fws.net ([10.100.176.16])
          by ifw9bct-smtp2.fws.net (Lotus Domino Release 6.5)
          with ESMTP id 2004042811005677-10152 ;
          Wed, 28 Apr 2004 11:00:56 -0600 
In-Reply-To: <Pine.LNX.4.33.0404281226300.18658-100000@hercule.cirano.qc.ca>
Subject: Re: Combining text search + relational search
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 6.0.2CF1 June 9, 2003
Message-ID: <OF16D93943.74F56335-ON87256E84.005C5724-87256E84.005D77CE@fws.gov>
From: Mike_Belasco@fws.gov
Date: Wed, 28 Apr 2004 11:00:55 -0600
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on IFW9BCT-DEN3/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 11:00:56 AM,
	Itemize by SMTP Server on IFW9BCT-SMTP2/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 11:00:56 AM,
	Serialize by Router on IFW9BCT-SMTP2/FWS/DOI(Release 6.5|September 26, 2003) at
 04/28/2004 11:00:57 AM,
	Serialize complete at 04/28/2004 11:00:57 AM
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Bascially I want to limit the results of the text search by the rows that
are returned in a relational search of other attribute data related to the
document. The text of the document is just like any other attribute it just
needs to be queried differently. Does that make sense?

Thanks
Mike






                                                                           
             Stephane James                                                
             Vaucher                                                       
             <vauchers@cirano.                                          To 
             qc.ca>                    Lucene Users List                   
                                       <lucene-user@jakarta.apache.org>    
             04/28/2004 10:38                                           cc 
             AM                                                            
                                                                   Subject 
                                       Re: Combining text search +         
             Please respond to         relational search                   
               "Lucene Users                                               
                   List"                                                   
             <lucene-user@jaka                                             
              rta.apache.org>                                              
                                                                           
                                                                           




I'm a bit confused why you want this.

As far as I know, but relational db searches will return exact
matches without a mesure of relevancy. To mesure relevancy, you need a
search engine. For your results to be coherent, you would have to put
everything in the lucene index.

As for memory consumption, for searching, if the index is on disk, then
the memory footprint depends on the type of queries you use. For indexing,
it depends if you use tmp RAMDirectory to do merges, otherwise, memory
consumption is minimal.

HTH
sv

On Wed, 28 Apr 2004 Mike_Belasco@fws.gov wrote:

>
> I need to somehow aloow users to do a text search and query relational
> database attributes at the same time. The attributes are basically
metadata
> about the documents that the text search will be perfomed on. I have the
> text of the documents indexed in Lucene. Does anyone have any advice or
> examples. I also need to make sure I don't garble up all the memory on
our
> server
>
> Thanks
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 17:08:20 2004
Return-Path: <lucene-user-return-8099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28843 invoked from network); 28 Apr 2004 17:08:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 17:08:20 -0000
Received: (qmail 44183 invoked by uid 500); 28 Apr 2004 17:08:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44157 invoked by uid 500); 28 Apr 2004 17:08:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44143 invoked from network); 28 Apr 2004 17:08:06 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 28 Apr 2004 17:08:06 -0000
Message-ID: <20040428170808.29957.qmail@web12707.mail.yahoo.com>
Received: from [194.152.209.238] by web12707.mail.yahoo.com via HTTP; Wed, 28 Apr 2004 10:08:08 PDT
Date: Wed, 28 Apr 2004 10:08:08 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Combining text search + relational search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OF16D93943.74F56335-ON87256E84.005C5724-87256E84.005D77CE@fws.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Create a Lucene index from data in DB, and make sure to include PKs in
one of the fields (use Field.Keyword).
Then query your RDBMS and get back the ResultSet.
Then get the PK from each ResultSet and use it to construct a Lucene
BooleanQuery, which should include your original query string AND
returned PKs combined with OR.

That is, if I understand what yo uare trying to do :)

Otis


--- Mike_Belasco@fws.gov wrote:
> 
> 
> 
> 
> Bascially I want to limit the results of the text search by the rows
> that
> are returned in a relational search of other attribute data related
> to the
> document. The text of the document is just like any other attribute
> it just
> needs to be queried differently. Does that make sense?
> 
> Thanks
> Mike
> 
> 
> 
> 
> 
> 
>                                                                      
>      
>              Stephane James                                          
>      
>              Vaucher                                                 
>      
>              <vauchers@cirano.                                       
>   To 
>              qc.ca>                    Lucene Users List             
>      
>                                       
> <lucene-user@jakarta.apache.org>    
>              04/28/2004 10:38                                        
>   cc 
>              AM                                                      
>      
>                                                                   
> Subject 
>                                        Re: Combining text search +   
>      
>              Please respond to         relational search             
>      
>                "Lucene Users                                         
>      
>                    List"                                             
>      
>              <lucene-user@jaka                                       
>      
>               rta.apache.org>                                        
>      
>                                                                      
>      
>                                                                      
>      
> 
> 
> 
> 
> I'm a bit confused why you want this.
> 
> As far as I know, but relational db searches will return exact
> matches without a mesure of relevancy. To mesure relevancy, you need
> a
> search engine. For your results to be coherent, you would have to put
> everything in the lucene index.
> 
> As for memory consumption, for searching, if the index is on disk,
> then
> the memory footprint depends on the type of queries you use. For
> indexing,
> it depends if you use tmp RAMDirectory to do merges, otherwise,
> memory
> consumption is minimal.
> 
> HTH
> sv
> 
> On Wed, 28 Apr 2004 Mike_Belasco@fws.gov wrote:
> 
> >
> > I need to somehow aloow users to do a text search and query
> relational
> > database attributes at the same time. The attributes are basically
> metadata
> > about the documents that the text search will be perfomed on. I
> have the
> > text of the documents indexed in Lucene. Does anyone have any
> advice or
> > examples. I also need to make sure I don't garble up all the memory
> on
> our
> > server
> >
> > Thanks
> > Mike
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 17:26:17 2004
Return-Path: <lucene-user-return-8100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45375 invoked from network); 28 Apr 2004 17:26:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 17:26:17 -0000
Received: (qmail 83117 invoked by uid 500); 28 Apr 2004 17:26:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82967 invoked by uid 500); 28 Apr 2004 17:26:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82934 invoked from network); 28 Apr 2004 17:26:02 -0000
Received: from unknown (HELO web41106.mail.yahoo.com) (66.218.93.22)
  by daedalus.apache.org with SMTP; 28 Apr 2004 17:26:02 -0000
Message-ID: <20040428172605.15387.qmail@web41106.mail.yahoo.com>
Received: from [12.13.3.253] by web41106.mail.yahoo.com via HTTP; Wed, 28 Apr 2004 10:26:05 PDT
Date: Wed, 28 Apr 2004 10:26:05 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: RE: ArrayIndexOutOfBoundsException
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Sea2-F374IVfErdMqqc0003e9fb@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Philippe, thanks for the reply.  I didn't FTP my index
anywhere, but your response does make it seem that my
index is in fact corrupted somehow.

Does anyone know of a tool that can verify the
validity of a Lucene index, and/or possibly repair it?
 If not, anyone have any idea how difficult it would
be to write one?  

Thanks,

Jim 

--- Phil brunet <philouchat@hotmail.com> wrote:
> 
> Hi.
> 
> I had this problem when i transfered a Lucene index
> by FTP in "ASCII" mode. 
> Using binary mode, i never has such a problem.
> 
> Philippe
> 
> >From: James Dunn <james_h_dunn@yahoo.com>
> >Reply-To: "Lucene Users List"
> <lucene-user@jakarta.apache.org>
> >To: lucene-user@jakarta.apache.org
> >Subject: ArrayIndexOutOfBoundsException
> >Date: Mon, 26 Apr 2004 12:15:39 -0700 (PDT)
> >
> >Hello all,
> >
> >I have a web site whose search is driven by Lucene
> >1.3.  I've been doing some load testing using
> JMeter
> >and occassionally I will see the exception below
> when
> >the search page is under heavy load.
> >
> >Has anyone seen similar errors during load testing?
> >
> >I've seen some posts with similar exceptions and
> the
> >general consensus is that this error means that the
> >index is corrupt.  I'm not sure my index is corrupt
> >however.  I can run all the queries I use for load
> >testing under normal load and I don't appear to get
> >this error.
> >
> >Is there any way to verify that a Lucene index is
> >corrupt or not?
> >
> >Thanks,
> >
> >Jim
> >
> >java.lang.ArrayIndexOutOfBoundsException: 53 >= 52
> >         at
> java.util.Vector.elementAt(Vector.java:431)
> >         at
>
>org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:135)
> >         at
>
>org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:103)
> >         at
>
>org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
> >         at
>
>org.apache.lucene.index.SegmentsReader.document(SegmentsReader.java:112)
> >         at
>
>org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
> >         at
>
>org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
> >         at
>
>org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:100)
> >         at
> >org.apache.lucene.search.Hits.doc(Hits.java:130)
> >
> >
> >
> >
> >
> >__________________________________
> >Do you Yahoo!?
> >Yahoo! Photos: High-quality 4x6 digital prints for
> 25
> >http://photos.yahoo.com/ph/print_splash
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
>
_________________________________________________________________
> Hotmail : un compte GRATUIT qui vous suit partout et
> tout le temps ! 
> http://g.msn.fr/FR1000/9493
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs  
http://hotjobs.sweepstakes.yahoo.com/careermakeover 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 18:57:39 2004
Return-Path: <lucene-user-return-8101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94389 invoked from network); 28 Apr 2004 18:57:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 18:57:39 -0000
Received: (qmail 14880 invoked by uid 500); 28 Apr 2004 18:57:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14843 invoked by uid 500); 28 Apr 2004 18:57:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14791 invoked from network); 28 Apr 2004 18:57:18 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 18:57:18 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SIvNtG011108
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 11:57:23 -0700
Message-ID: <408FFE8F.5040305@newsmonster.org>
Date: Wed, 28 Apr 2004 11:57:19 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: 'Lock obtain timed out' even though NO locks exist... 
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig7E3143204AE441EB2394F3EB"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig7E3143204AE441EB2394F3EB
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I've noticed this really strange problem on one of our boxes.  It's 
happened twice already.

We have indexes where when Lucnes starts it says 'Lock obtain timed out' 
... however NO locks exist for the directory. 

There are no other processes present and no locks in the index dir or /tmp.

Is there anyway to figure out what's going on here?

Looking at the index it seems just fine... But this is only a brief 
glance.  I was hoping that if it was corrupt (which I don't think it is) 
that lucene would give me a better error than "Lock obtain timed out"

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig7E3143204AE441EB2394F3EB
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAj/6R6E2NBJnxRBIRAqMoAJ9pVdZUm6UJqQd7JQCLodtKUz49wgCg2Yzw
ugYOJ0kdn6qUlTVLPnRWlNI=
=75D9
-----END PGP SIGNATURE-----

--------------enig7E3143204AE441EB2394F3EB--

From lucene-user-return-8102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 19:03:25 2004
Return-Path: <lucene-user-return-8102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97491 invoked from network); 28 Apr 2004 19:03:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 19:03:25 -0000
Received: (qmail 30225 invoked by uid 500); 28 Apr 2004 19:03:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30200 invoked by uid 500); 28 Apr 2004 19:03:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30187 invoked from network); 28 Apr 2004 19:03:09 -0000
Received: from unknown (HELO egmsmtp2.e-gatematrix.com) (63.107.91.193)
  by daedalus.apache.org with SMTP; 28 Apr 2004 19:03:09 -0000
Received: by egmsmtp2.e-gatematrix.com with Internet Mail Service (5.5.2653.19)
	id <J5WY060T>; Wed, 28 Apr 2004 15:03:13 -0400
Message-ID: <B054BF199C501D48B18D3EBD74A1EF5D015C9500@egmmail.e-gatematrix.com>
From: ANarayan@e-gatematrix.com
To: lucene-user@jakarta.apache.org
Subject: RE: 'Lock obtain timed out' even though NO locks exist... 
Date: Wed, 28 Apr 2004 15:03:10 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It is possible that a previous operation on the index left the lock open.
Leaving the IndexWriter or Reader open without closing them ( in a finally
block ) could cause this.

Anand

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org] 
Sent: Wednesday, April 28, 2004 2:57 PM
To: Lucene Users List
Subject: 'Lock obtain timed out' even though NO locks exist... 

I've noticed this really strange problem on one of our boxes.  It's 
happened twice already.

We have indexes where when Lucnes starts it says 'Lock obtain timed out' 
... however NO locks exist for the directory. 

There are no other processes present and no locks in the index dir or /tmp.

Is there anyway to figure out what's going on here?

Looking at the index it seems just fine... But this is only a brief 
glance.  I was hoping that if it was corrupt (which I don't think it is) 
that lucene would give me a better error than "Lock obtain timed out"

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 19:21:59 2004
Return-Path: <lucene-user-return-8103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14657 invoked from network); 28 Apr 2004 19:21:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 19:21:58 -0000
Received: (qmail 79761 invoked by uid 500); 28 Apr 2004 19:21:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79740 invoked by uid 500); 28 Apr 2004 19:21:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79727 invoked from network); 28 Apr 2004 19:21:42 -0000
Received: from unknown (HELO web41113.mail.yahoo.com) (66.218.93.29)
  by daedalus.apache.org with SMTP; 28 Apr 2004 19:21:42 -0000
Message-ID: <20040428192146.19267.qmail@web41113.mail.yahoo.com>
Received: from [12.13.3.253] by web41113.mail.yahoo.com via HTTP; Wed, 28 Apr 2004 12:21:46 PDT
Date: Wed, 28 Apr 2004 12:21:46 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: 'Lock obtain timed out' even though NO locks exist... 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <408FFE8F.5040305@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Which version of lucene are you using?  In 1.2, I
believe the lock file was located in the index
directory itself.  In 1.3, it's in your system's tmp
folder.  

Perhaps it's a permission problem on either one of
those folders.  Maybe your process doesn't have write
access to the correct folder and is thus unable to
create the lock file?  

You can also pass lucene a system property to increase
the lock timeout interval, like so:

-Dorg.apache.lucene.commitLockTimeout=60000

or 

-Dorg.apache.lucene.writeLockTimeout=60000

The above sets the timeout to one minute.

Hope this helps,

Jim

--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> I've noticed this really strange problem on one of
> our boxes.  It's 
> happened twice already.
> 
> We have indexes where when Lucnes starts it says
> 'Lock obtain timed out' 
> ... however NO locks exist for the directory. 
> 
> There are no other processes present and no locks in
> the index dir or /tmp.
> 
> Is there anyway to figure out what's going on here?
> 
> Looking at the index it seems just fine... But this
> is only a brief 
> glance.  I was hoping that if it was corrupt (which
> I don't think it is) 
> that lucene would give me a better error than "Lock
> obtain timed out"
> 
> Kevin
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell
> - 415.595.9965
>        AIM/YIM - sfburtonator,  Web -
> http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D
> 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers |
> #newsmonster
> 
> 

> ATTACHMENT part 2 application/pgp-signature
name=signature.asc




	
		
__________________________________
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs  
http://hotjobs.sweepstakes.yahoo.com/careermakeover 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 19:43:32 2004
Return-Path: <lucene-user-return-8104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23707 invoked from network); 28 Apr 2004 19:43:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 19:43:32 -0000
Received: (qmail 29712 invoked by uid 500); 28 Apr 2004 19:43:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29658 invoked by uid 500); 28 Apr 2004 19:43:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29594 invoked from network); 28 Apr 2004 19:43:09 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 19:43:09 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SJh5tG011225
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 12:43:16 -0700
Message-ID: <40900942.8070805@newsmonster.org>
Date: Wed, 28 Apr 2004 12:42:58 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 'Lock obtain timed out' even though NO locks exist...
References: <B054BF199C501D48B18D3EBD74A1EF5D015C9500@egmmail.e-gatematrix.com>
In-Reply-To: <B054BF199C501D48B18D3EBD74A1EF5D015C9500@egmmail.e-gatematrix.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig2132626B16A35639384A24BE"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig2132626B16A35639384A24BE
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

ANarayan@e-gatematrix.com wrote:

>It is possible that a previous operation on the index left the lock open.
>Leaving the IndexWriter or Reader open without closing them ( in a finally
>block ) could cause this.
>  
>
Actually this is exactly the problem... I ran some single index tests 
and a single process seems to read from it.

The problem is that we were running under Tomcat with diff webapps for 
testing and didn't run into this problem before.  We had an 11G index 
that just took a while to open and during this open Lucene was creating 
a lock. 

I wasn't sure that Tomcat was multithreading this so maybe it is and 
it's just taking longer to open the lock in some situations.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig2132626B16A35639384A24BE
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkAlE6E2NBJnxRBIRAr6MAJ9HMbWumOeW0pJfdAE7zUBqeGhiYQCgxaqo
pXTaB850YTyHZbwz2s0t3JU=
=lQgP
-----END PGP SIGNATURE-----

--------------enig2132626B16A35639384A24BE--

From lucene-user-return-8105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 19:45:09 2004
Return-Path: <lucene-user-return-8105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24471 invoked from network); 28 Apr 2004 19:45:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 19:45:09 -0000
Received: (qmail 34523 invoked by uid 500); 28 Apr 2004 19:44:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34469 invoked by uid 500); 28 Apr 2004 19:44:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34381 invoked from network); 28 Apr 2004 19:44:49 -0000
Received: from unknown (HELO msmail.textwise.com) (64.80.12.108)
  by daedalus.apache.org with SMTP; 28 Apr 2004 19:44:49 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: lucene applicability and performance
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
Date: Wed, 28 Apr 2004 15:44:53 -0400
Message-ID: <6134F668515B04409948FBEB644A3E0D029DC9@msmail.textwise.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene applicability and performance
Thread-Index: AcQtWUyrqvAlPb46QeG69pmCnZDd0w==
From: "Greg Conway" <gconway@textwise.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello.  Apologies if this has come up before, I'm new to the list and
didn't see anything in the archives that exactly matched my situation.

I am considering using Lucene to index and search a large collection of
small documents in a  specialized domain -- probably only a few
thousands unique terms spanning across anywhere from one million to ten
million small source documents.  I hope to be able to get ranked search
results back in less than 400 msec.

I suspect one issue I may face is index density owing to the large
numbers of documents and relatively small vocabulary.  That, in turn,
may be a drag on query processing.  I am working on strategies to
ameliorate that somewhat but it may be difficult.

In the meantime, I'm looking for some gut reactions from the experts
before I take this to the next stage.  Can Lucene scale well to this
kind of situation?  Can I realistically hope to get anywhere near my
performance targets?  Will I have to distribute pieces of the index
across several machines,  parallelize my retrievals, and merge the
results to do so?  If so, does Lucene already support that or will I
have to develop that logic in house?  (Seems like I saw a reference
somewhere that such a feature was coming soon, but I'm not sure when or
how it will be implemented.)

Any help, tips, references, or advice would be welcome and appreciated.
Thank you!

Regards,

Greg=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 19:58:58 2004
Return-Path: <lucene-user-return-8106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30335 invoked from network); 28 Apr 2004 19:58:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 19:58:58 -0000
Received: (qmail 64787 invoked by uid 500); 28 Apr 2004 19:58:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64745 invoked by uid 500); 28 Apr 2004 19:58:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64669 invoked from network); 28 Apr 2004 19:58:16 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 19:58:16 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SJwMtG011252
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 12:58:23 -0700
Message-ID: <40900CD2.1060504@newsmonster.org>
Date: Wed, 28 Apr 2004 12:58:10 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 'Lock obtain timed out' even though NO locks exist...
References: <B054BF199C501D48B18D3EBD74A1EF5D015C9500@egmmail.e-gatematrix.com> <40900942.8070805@newsmonster.org>
In-Reply-To: <40900942.8070805@newsmonster.org>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig58062855CE7E23C9E45BA3A7"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig58062855CE7E23C9E45BA3A7
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Kevin A. Burton wrote:

> Actually this is exactly the problem... I ran some single index tests 
> and a single process seems to read from it.
>
> The problem is that we were running under Tomcat with diff webapps for 
> testing and didn't run into this problem before.  We had an 11G index 
> that just took a while to open and during this open Lucene was 
> creating a lock.
> I wasn't sure that Tomcat was multithreading this so maybe it is and 
> it's just taking longer to open the lock in some situations.
>
This is strange... after removing all the webapps (besides 1) Tomcat 
still refuses to allow Lucene to open this index with Lock obtain timed out.

If I open it up from the console it works just fine.  I'm only doing it 
with one index and a ulimit -n so it's not a files issue.  Memory is 1G 
for Tomcat.

If I figure this out will be sure to send a message to the list.  This 
is a strange one....

Kevin


-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig58062855CE7E23C9E45BA3A7
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkAzT6E2NBJnxRBIRAr4pAJ0WuWtvq/uM1dNz0DIQ7Q62ylq99gCg47Eg
kn0xdmsjUR4vI9mugq1sfo8=
=w+JL
-----END PGP SIGNATURE-----

--------------enig58062855CE7E23C9E45BA3A7--

From lucene-user-return-8107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 20:01:54 2004
Return-Path: <lucene-user-return-8107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31926 invoked from network); 28 Apr 2004 20:01:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 20:01:54 -0000
Received: (qmail 72332 invoked by uid 500); 28 Apr 2004 20:01:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72200 invoked by uid 500); 28 Apr 2004 20:01:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72187 invoked from network); 28 Apr 2004 20:01:37 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 20:01:37 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SK1DtG011273
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 13:01:39 -0700
Message-ID: <40900D88.50207@newsmonster.org>
Date: Wed, 28 Apr 2004 13:01:12 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 'Lock obtain timed out' even though NO locks exist...
References: <20040428192146.19267.qmail@web41113.mail.yahoo.com>
In-Reply-To: <20040428192146.19267.qmail@web41113.mail.yahoo.com>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigC44CD7DBEF2E14277839E5E6"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigC44CD7DBEF2E14277839E5E6
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

James Dunn wrote:

>Which version of lucene are you using?  In 1.2, I
>believe the lock file was located in the index
>directory itself.  In 1.3, it's in your system's tmp
>folder.  
>  
>
Yes... 1.3 and I have a script that removes the locks from both dirs... 
This is only one process so it's just fine to remove them.

>Perhaps it's a permission problem on either one of
>those folders.  Maybe your process doesn't have write
>access to the correct folder and is thus unable to
>create the lock file?  
>  
>
I thought about that too... I have plenty of disk space so that's not an 
issue.  Also did a chmod -R so that should work too.

>You can also pass lucene a system property to increase
>the lock timeout interval, like so:
>
>-Dorg.apache.lucene.commitLockTimeout=60000
>
>or 
>
>-Dorg.apache.lucene.writeLockTimeout=60000
>  
>
I'll give that a try... good idea.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigC44CD7DBEF2E14277839E5E6
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkA2I6E2NBJnxRBIRAjYYAKCfVES5sHzDpAA4roWZbndyFUrFKACg2gaa
v8X3L29dBPevSLgmOU5fJlE=
=CQuT
-----END PGP SIGNATURE-----

--------------enigC44CD7DBEF2E14277839E5E6--

From lucene-user-return-8108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 20:31:13 2004
Return-Path: <lucene-user-return-8108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43667 invoked from network); 28 Apr 2004 20:31:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 20:31:13 -0000
Received: (qmail 21816 invoked by uid 500); 28 Apr 2004 20:30:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21789 invoked by uid 500); 28 Apr 2004 20:30:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21774 invoked from network); 28 Apr 2004 20:30:56 -0000
Received: from unknown (HELO mail.altrec.com) (63.251.175.11)
  by daedalus.apache.org with SMTP; 28 Apr 2004 20:30:56 -0000
Received: by DENALI with Internet Mail Service (5.5.2656.59)
	id <CPTVWCDP>; Wed, 28 Apr 2004 13:31:44 -0700
Message-ID: <55903574BD75D311B8A0009027CCC22B031BD479@DENALI>
From: Gus Kormeier <gusk@altrec.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: 'Lock obtain timed out' even though NO locks exist...
Date: Wed, 28 Apr 2004 13:31:43 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not sure if our installation is the same or not, but we are also using
Tomcat.
I had a similiar problem last week, it occurred after Tomcat went through a
hard restart and some software errors had the website hammered.

I found the lock file in /usr/local/tomcat/temp/ using locate.
According to the README.txt this is a directory created for the JVM within
Tomcat.  So it is a system temp directory, just inside Tomcat.

Hope that helps,
-Gus

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org]
Sent: Wednesday, April 28, 2004 1:01 PM
To: Lucene Users List
Subject: Re: 'Lock obtain timed out' even though NO locks exist...


James Dunn wrote:

>Which version of lucene are you using?  In 1.2, I
>believe the lock file was located in the index
>directory itself.  In 1.3, it's in your system's tmp
>folder.  
>  
>
Yes... 1.3 and I have a script that removes the locks from both dirs... 
This is only one process so it's just fine to remove them.

>Perhaps it's a permission problem on either one of
>those folders.  Maybe your process doesn't have write
>access to the correct folder and is thus unable to
>create the lock file?  
>  
>
I thought about that too... I have plenty of disk space so that's not an 
issue.  Also did a chmod -R so that should work too.

>You can also pass lucene a system property to increase
>the lock timeout interval, like so:
>
>-Dorg.apache.lucene.commitLockTimeout=60000
>
>or 
>
>-Dorg.apache.lucene.writeLockTimeout=60000
>  
>
I'll give that a try... good idea.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 20:58:52 2004
Return-Path: <lucene-user-return-8109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53723 invoked from network); 28 Apr 2004 20:58:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 20:58:51 -0000
Received: (qmail 71397 invoked by uid 500); 28 Apr 2004 20:58:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71376 invoked by uid 500); 28 Apr 2004 20:58:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71362 invoked from network); 28 Apr 2004 20:58:33 -0000
Received: from unknown (HELO mproxy.gmail.com) (64.233.170.201)
  by daedalus.apache.org with SMTP; 28 Apr 2004 20:58:33 -0000
Received: by mproxy.gmail.com with SMTP id 72so13312rnf
        for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 13:58:39 -0700 (PDT)
Received: by 10.38.5.72 with SMTP id 72mr46154rne;
        Wed, 28 Apr 2004 13:58:38 -0700 (PDT)
Message-ID: <675BB635.433D19A9@mail.gmail.com>
Date: Wed, 28 Apr 2004 13:58:38 -0700
From: Andy Goodell <goodell@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Bug in Sandbox - Berkeley DB
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

IndexReader.delete(int docid) doesn't work with the Berkeley DB
implementation of org.apache.lucene.store.Directory

This error message appears when closing an IndexReader which has a deletion:
PANIC: Invalid argument

I get this stack trace:
java.io.IOException: DB_RUNRECOVERY: Fatal error, run database recovery
       at org.apache.lucene.store.db.Block.put(Block.java:128)
       at org.apache.lucene.store.db.DbOutputStream.close(DbOutputStream.java:111)
       at org.apache.lucene.util.BitVector.write(BitVector.java:155)
       at org.apache.lucene.index.SegmentReader$1.doBody(SegmentReader.java:162)
       at org.apache.lucene.store.Lock$With.run(Lock.java:148)
       at org.apache.lucene.index.SegmentReader.doClose(SegmentReader.java:157)
       at org.apache.lucene.index.IndexReader.close(IndexReader.java:422)

Help!

- andy g

code that triggers this:
// dbdir is a working DbDirectory, docid is a search result
IndexReader read = IndexReader.open(dbdir);
read.delete(docid);
read.close();

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 21:13:32 2004
Return-Path: <lucene-user-return-8110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60542 invoked from network); 28 Apr 2004 21:13:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 21:13:31 -0000
Received: (qmail 1654 invoked by uid 500); 28 Apr 2004 21:13:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1631 invoked by uid 500); 28 Apr 2004 21:13:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1617 invoked from network); 28 Apr 2004 21:13:13 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 21:13:13 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SLDFtG011588
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 14:13:21 -0700
Message-ID: <40901E67.5090806@newsmonster.org>
Date: Wed, 28 Apr 2004 14:13:11 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 'Lock obtain timed out' even though NO locks exist...
References: <55903574BD75D311B8A0009027CCC22B031BD479@DENALI>
In-Reply-To: <55903574BD75D311B8A0009027CCC22B031BD479@DENALI>
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig8858D47886E89FFE2185E4BD"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig8858D47886E89FFE2185E4BD
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Gus Kormeier wrote:

>Not sure if our installation is the same or not, but we are also using
>Tomcat.
>I had a similiar problem last week, it occurred after Tomcat went through a
>hard restart and some software errors had the website hammered.
>
>I found the lock file in /usr/local/tomcat/temp/ using locate.
>According to the README.txt this is a directory created for the JVM within
>Tomcat.  So it is a system temp directory, just inside Tomcat.
>  
>
Man... you ROCK!  I didn't even THINK of that... Hm... I wonder if we 
should include the name of the lock file in the Exception within 
Tomcat.  That would probably have saved me a lot of time :)

Either that or we can put this in the wiki

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig8858D47886E89FFE2185E4BD
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkB5p6E2NBJnxRBIRAgp8AKDK3L3lXUVariAFy0tFYGf3GmrXtwCdGuVh
Maglqp8yCECcF2tjkTTlepk=
=lvPU
-----END PGP SIGNATURE-----

--------------enig8858D47886E89FFE2185E4BD--

From lucene-user-return-8111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 21:53:35 2004
Return-Path: <lucene-user-return-8111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81544 invoked from network); 28 Apr 2004 21:53:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 21:53:35 -0000
Received: (qmail 84040 invoked by uid 500); 28 Apr 2004 21:53:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83984 invoked by uid 500); 28 Apr 2004 21:53:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83849 invoked from network); 28 Apr 2004 21:53:08 -0000
Received: from unknown (HELO smtp-out5.xs4all.nl) (194.109.24.6)
  by daedalus.apache.org with SMTP; 28 Apr 2004 21:53:08 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out5.xs4all.nl (8.12.10/8.12.10) with ESMTP id i3SLrEJM018896
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 23:53:14 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: lucene applicability and performance
Date: Wed, 28 Apr 2004 23:53:13 +0200
User-Agent: KMail/1.5.4
References: <6134F668515B04409948FBEB644A3E0D029DC9@msmail.textwise.com>
In-Reply-To: <6134F668515B04409948FBEB644A3E0D029DC9@msmail.textwise.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404282353.13964.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greg,

On Wednesday 28 April 2004 21:44, Greg Conway wrote:
> Hello.  Apologies if this has come up before, I'm new to the list and
> didn't see anything in the archives that exactly matched my situation.

It has, but each situation is different. Try this:
http://jakarta.apache.org/lucene/docs/benchmarks.html

> I am considering using Lucene to index and search a large collection of
> small documents in a  specialized domain -- probably only a few
>
> thousands unique terms spanning across anywhere from one million to ten
> million small source documents.  I hope to be able to get ranked search
> results back in less than 400 msec.
>
> I suspect one issue I may face is index density owing to the large
> numbers of documents and relatively small vocabulary.  That, in turn,
> may be a drag on query processing.  I am working on strategies to
> ameliorate that somewhat but it may be difficult.

A text search engine is your best bet in this situation.

> In the meantime, I'm looking for some gut reactions from the experts
> before I take this to the next stage.  Can Lucene scale well to this
> kind of situation?  Can I realistically hope to get anywhere near my

Yes.

> performance targets?  Will I have to distribute pieces of the index

Yes.

> across several machines,  parallelize my retrievals, and merge the

That's more difficult to say. You'll need to try.

> results to do so?  If so, does Lucene already support that or will I

Yes, see RemoteSearchable and MultiSearcher in org.apache.lucene.search.
(See the javadoc on the website)
But first make sure that the Analyzer you use for indexing fits your needs.

> have to develop that logic in house?  (Seems like I saw a reference

No.

> somewhere that such a feature was coming soon, but I'm not sure when or
> how it will be implemented.)

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 22:00:25 2004
Return-Path: <lucene-user-return-8112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85481 invoked from network); 28 Apr 2004 22:00:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 22:00:25 -0000
Received: (qmail 98743 invoked by uid 500); 28 Apr 2004 22:00:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98535 invoked by uid 500); 28 Apr 2004 22:00:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98509 invoked from network); 28 Apr 2004 22:00:06 -0000
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by daedalus.apache.org with SMTP; 28 Apr 2004 22:00:06 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i3SM0BoF085435
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 00:00:12 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: lucene applicability and performance
Date: Thu, 29 Apr 2004 00:00:11 +0200
User-Agent: KMail/1.5.4
References: <6134F668515B04409948FBEB644A3E0D029DC9@msmail.textwise.com> <200404282353.13964.ykingma@xs4all.nl>
In-Reply-To: <200404282353.13964.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404290000.11581.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greg,

> Yes, see RemoteSearchable and MultiSearcher in org.apache.lucene.search.
> (See the javadoc on the website)

I meant ParallelMultiSearcher.

Good night,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 22:09:02 2004
Return-Path: <lucene-user-return-8113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89999 invoked from network); 28 Apr 2004 22:09:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 22:09:02 -0000
Received: (qmail 16324 invoked by uid 500); 28 Apr 2004 22:08:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16291 invoked by uid 500); 28 Apr 2004 22:08:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16274 invoked from network); 28 Apr 2004 22:08:43 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 28 Apr 2004 22:08:43 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3SM8ptG013354
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 15:08:51 -0700
Message-ID: <40902B71.2010009@newsmonster.org>
Date: Wed, 28 Apr 2004 15:08:49 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Created LockObtainTimedOut wiki page
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig9E30F507B5B73ADCCC81371D"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig9E30F507B5B73ADCCC81371D
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I just created a LockObtainTimedOut wiki entry... feel free to add.  I 
just entered the Tomcat issue with java.io.tmpdir as well.

http://wiki.apache.org/jakarta-lucene/LockObtainTimedOut  

Peace!

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enig9E30F507B5B73ADCCC81371D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkCtx6E2NBJnxRBIRAlw0AKC/l9aLd6cQwYj1oHGhhG/b5WF/3QCfQGLc
d/MR0Nd+yWqcgt4ZBSBp3hU=
=xsW5
-----END PGP SIGNATURE-----

--------------enig9E30F507B5B73ADCCC81371D--

From lucene-user-return-8114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Apr 28 23:41:30 2004
Return-Path: <lucene-user-return-8114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26834 invoked from network); 28 Apr 2004 23:41:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Apr 2004 23:41:30 -0000
Received: (qmail 11171 invoked by uid 500); 28 Apr 2004 23:41:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11151 invoked by uid 500); 28 Apr 2004 23:41:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11129 invoked from network); 28 Apr 2004 23:41:09 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 28 Apr 2004 23:41:09 -0000
Received: from supun.office (adsl-69-104-69-113.dsl.irvnca.pacbell.net [69.104.69.113])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i3SNfHga032658
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 28 Apr 2004 16:41:17 -0700
Subject: Documents the same search is done many times.
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1083195676.4174.154.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 28 Apr 2004 16:41:17 -0700
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

what happens in this situation:

I query a field "id" for "one"

say I get a Document object (object A) from a search which has a field
"content" with value "pig". and that object persists forever.

then a new index is written with a document with "id"="one" and
"content"="mongoose"

another search does the same search querying "id" for "one". will this
new search return the same object A or a new object?

if they are different, will examining object A show that the "content"
field has changed?

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 04:16:22 2004
Return-Path: <lucene-user-return-8115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52040 invoked from network); 29 Apr 2004 04:16:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 04:16:22 -0000
Received: (qmail 84451 invoked by uid 500); 29 Apr 2004 04:15:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84401 invoked by uid 500); 29 Apr 2004 04:15:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84388 invoked from network); 29 Apr 2004 04:15:55 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 29 Apr 2004 04:15:55 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz1.forethought.net with esmtp (Exim 4.30)
	id 1BJ2xx-0003W1-Qm
	for lucene-user@jakarta.apache.org; Wed, 28 Apr 2004 22:16:05 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Combining text search + relational search
Date: Wed, 28 Apr 2004 22:17:09 -0600
User-Agent: KMail/1.5
References: <OF16D93943.74F56335-ON87256E84.005C5724-87256E84.005D77CE@fws.gov>
In-Reply-To: <OF16D93943.74F56335-ON87256E84.005C5724-87256E84.005D77CE@fws.gov>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404282217.09461.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 28 April 2004 11:00, Mike_Belasco@fws.gov wrote:
> Bascially I want to limit the results of the text search by the rows that
> are returned in a relational search of other attribute data related to the
> document. The text of the document is just like any other attribute it just
> needs to be queried differently. Does that make sense?

Yes. But why not just store textual content in one Lucene field, and metadata 
in one or more separate fields? You can then easily build queries to combine 
searches. And as long as metadata values are normalized, added index size is 
probably insignificant compared to full indexed text content.

-+ Tatu +-

>
> Thanks
> Mike
>
>
>
>
>
>
>
>              Stephane James
>              Vaucher
>              <vauchers@cirano.                                          To
>              qc.ca>                    Lucene Users List
>                                        <lucene-user@jakarta.apache.org>
>              04/28/2004 10:38                                           cc
>              AM
>                                                                    Subject
>                                        Re: Combining text search +
>              Please respond to         relational search
>                "Lucene Users
>                    List"
>              <lucene-user@jaka
>               rta.apache.org>
>
>
>
>
>
>
> I'm a bit confused why you want this.
>
> As far as I know, but relational db searches will return exact
> matches without a mesure of relevancy. To mesure relevancy, you need a
> search engine. For your results to be coherent, you would have to put
> everything in the lucene index.
>
> As for memory consumption, for searching, if the index is on disk, then
> the memory footprint depends on the type of queries you use. For indexing,
> it depends if you use tmp RAMDirectory to do merges, otherwise, memory
> consumption is minimal.
>
> HTH
> sv
>
> On Wed, 28 Apr 2004 Mike_Belasco@fws.gov wrote:
> > I need to somehow aloow users to do a text search and query relational
> > database attributes at the same time. The attributes are basically
>
> metadata
>
> > about the documents that the text search will be perfomed on. I have the
> > text of the documents indexed in Lucene. Does anyone have any advice or
> > examples. I also need to make sure I don't garble up all the memory on
>
> our
>
> > server
> >
> > Thanks
> > Mike
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 06:03:05 2004
Return-Path: <lucene-user-return-8116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19937 invoked from network); 29 Apr 2004 06:03:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 06:03:05 -0000
Received: (qmail 65793 invoked by uid 500); 29 Apr 2004 06:02:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65669 invoked by uid 500); 29 Apr 2004 06:02:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65644 invoked from network); 29 Apr 2004 06:02:36 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 29 Apr 2004 06:02:36 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id EA5F983811
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 10:02:46 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 18818192 for lucene-user@jakarta.apache.org; Thu, 29 Apr 2004 10:02:46 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: DEFAULT_OPERATOR_AND
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Thu, 29 Apr 2004 10:02:46 +0400
Message-ID: <web-18818192@mail5.rambler.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I have lucene1.4-rc3-dev.
TestQueryParser works with RussianAnalyzer(RussianCharsets.CP1251) and 
russian terms.
...
   public Query getQueryDOA(String query, Analyzer a)
     throws Exception {
     if (a == null)
     	a = new RussianAnalyzer(RussianCharsets.CP1251);
//      a = new SimpleAnalyzer();
     QueryParser qp = new QueryParser("field", a);
     qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
     return qp.parse(query);
   }
...

In a reality QueryParser work as QueryParser.DEFAULT_OPERATOR_OR after 
set QueryParser.DEFAULT_OPERATOR_AND.
For example:  
1. Query: (after set DEFAULT _ OPERATOR _ AND): term1 term2 term3
     Result : term1 OR term2 OR term3
2. Query: +term1 +term2 +term3
     Result : term1 AND term2 AND term3

Please, help to decide this problem?

Thanks,
Vladimir.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 06:09:08 2004
Return-Path: <lucene-user-return-8117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24370 invoked from network); 29 Apr 2004 06:09:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 06:09:08 -0000
Received: (qmail 78506 invoked by uid 500); 29 Apr 2004 06:08:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78459 invoked by uid 500); 29 Apr 2004 06:08:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78425 invoked from network); 29 Apr 2004 06:08:32 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.241)
  by daedalus.apache.org with SMTP; 29 Apr 2004 06:08:32 -0000
Received: (cpmta 23486 invoked from network); 28 Apr 2004 23:08:43 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.241) with SMTP; 28 Apr 2004 23:08:43 -0700
X-Sent: 29 Apr 2004 06:08:43 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<supun@office.vtourist.com>
Subject: RE: Documents the same search is done many times.
Date: Thu, 29 Apr 2004 10:08:34 +0400
Organization: Bayt.com
Message-ID: <004101c42db0$69a45d50$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <1083195676.4174.154.camel@supun.office>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


The short answer is, it's up to you :-)  Lucene doesn't know which =
document
is your primary key (you're thinking like a DB programmer) id you ad the =
new
document with ID=3D"one" without deleting the old one from the index =
then when
you search you'll get two documents "pig" and "mongoose" but if you =
delete
all documents with ID=3D"one" then index you're new document then you'll =
only
get "mongoose", From a DBA perspective Lucene is like a table with a =
unique
ID on each document (that being the Lucene assigned DOC ID (which =
changes
every time you optimize, but nevertheless remains unique) and then all =
other
columns weather indexed, tokenized, stored or not, can bare repetition, =
so
if you want to implement a unique key like ID on your Lucene index, you =
'll
have to do a little delete based on that ID field every time you insert =
a
new document into the index, quite simple and I've been doing it or a =
few
years now without fail.

Hope this helps

Nader Henein



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 06:15:15 2004
Return-Path: <lucene-user-return-8118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27022 invoked from network); 29 Apr 2004 06:15:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 06:15:15 -0000
Received: (qmail 91025 invoked by uid 500); 29 Apr 2004 06:14:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91001 invoked by uid 500); 29 Apr 2004 06:14:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90988 invoked from network); 29 Apr 2004 06:14:46 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.243)
  by daedalus.apache.org with SMTP; 29 Apr 2004 06:14:46 -0000
Received: (cpmta 24756 invoked from network); 28 Apr 2004 23:14:56 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.243) with SMTP; 28 Apr 2004 23:14:56 -0700
X-Sent: 29 Apr 2004 06:14:56 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'hemal  bhatt'" <bhatthemal@rediffmail.com>
Subject: RE: Count for a keyword occurance in a file
Date: Thu, 29 Apr 2004 10:14:44 +0400
Organization: Bayt.com
Message-ID: <004801c42db1$491041c0$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <20040428135011.13029.qmail@webmail30.rediffmail.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tricky, scoring has to do with the frequency of the occurrence of the =
word
as opposed to the amount of words in the file in general (Somebody =
correct
me if I'm wrong) , so short of an educated approximation, you could hack =
the
indexer to dynamically store the frequency of a word (oh so =
unadvisable).
Personally I recommend the educated approximation, because you could =
index
the document with the number of words in it ( you would have to make =
sure
you're not using Stop Word Analyzer or Port Stemmer) and then based on =
the
score reverse engineer the result you want.

Nader Henein

-----Original Message-----
From: hemal bhatt [mailto:bhatthemal@rediffmail.com]=20
Sent: Wednesday, April 28, 2004 5:50 PM
To: Lucene Users List
Subject: Count for a keyword occurance in a file


Hi,

How can I get a count of the score given by Hits.Score().
i.e I want to know how many times a keyword occurs in a file. Any help =
on
this would be appreciated.
 =A0
regards
Hemal Bhatt



regards
Hemal bhatt



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 06:52:23 2004
Return-Path: <lucene-user-return-8119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56909 invoked from network); 29 Apr 2004 06:52:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 06:52:23 -0000
Received: (qmail 53005 invoked by uid 500); 29 Apr 2004 06:51:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52978 invoked by uid 500); 29 Apr 2004 06:51:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52963 invoked from network); 29 Apr 2004 06:51:53 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 29 Apr 2004 06:51:53 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 00247836FD
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 10:52:04 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 18835685 for lucene-user@jakarta.apache.org; Thu, 29 Apr 2004 10:52:04 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Bug Luke
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Thu, 29 Apr 2004 10:52:04 +0400
Message-ID: <web-18835685@mail5.rambler.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

The search works not correctly c RussianAnalyzer allocating stems.
It(he) searches only for words conterminous with stem. 
For example, WildCard the search gives another result. 

Thanks,
Vladimir.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 06:57:12 2004
Return-Path: <lucene-user-return-8120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60285 invoked from network); 29 Apr 2004 06:57:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 06:57:12 -0000
Received: (qmail 60802 invoked by uid 500); 29 Apr 2004 06:56:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60781 invoked by uid 500); 29 Apr 2004 06:56:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60762 invoked from network); 29 Apr 2004 06:56:43 -0000
Received: from unknown (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by daedalus.apache.org with SMTP; 29 Apr 2004 06:56:43 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i3T6usEg045065
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 08:56:54 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Count for a keyword occurance in a file
Date: Thu, 29 Apr 2004 08:56:54 +0200
User-Agent: KMail/1.5.4
References: <004801c42db1$491041c0$1801a8c0@naderit>
In-Reply-To: <004801c42db1$491041c0$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404290856.54302.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 29 April 2004 08:14, Nader S. Henein wrote:
> Tricky, scoring has to do with the frequency of the occurrence of the word
> as opposed to the amount of words in the file in general (Somebody correct
> me if I'm wrong) , so short of an educated approximation, you could hack

Lucene uses two frequencies for a term: the nr. of docs in which it occurs
in an index (basis for IDF), and the nr of times a term occurs in a document.

> the indexer to dynamically store the frequency of a word (oh so
> unadvisable). Personally I recommend the educated approximation, because
> you could index the document with the number of words in it ( you would
> have to make sure you're not using Stop Word Analyzer or Port Stemmer) and
> then based on the score reverse engineer the result you want.
>
> Nader Henein
>
> -----Original Message-----
> From: hemal bhatt [mailto:bhatthemal@rediffmail.com]
> Sent: Wednesday, April 28, 2004 5:50 PM
> To: Lucene Users List
> Subject: Count for a keyword occurance in a file
>
>
> Hi,
>
> How can I get a count of the score given by Hits.Score().
> i.e I want to know how many times a keyword occurs in a file. Any help on
> this would be appreciated.

The easiest way is to use IndexReader. I don't know what you mean by file
(index or document), but you can have both frequencies I mentioned above
from an IndexReader, evt. using skipTo() to go to the document.
The methods are docFreq(Term) and termDocs(Term).

Regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 07:01:41 2004
Return-Path: <lucene-user-return-8121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63805 invoked from network); 29 Apr 2004 07:01:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 07:01:41 -0000
Received: (qmail 70080 invoked by uid 500); 29 Apr 2004 07:01:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70048 invoked by uid 500); 29 Apr 2004 07:01:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69996 invoked from network); 29 Apr 2004 07:01:03 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.228)
  by daedalus.apache.org with SMTP; 29 Apr 2004 07:01:03 -0000
Received: (cpmta 12332 invoked from network); 29 Apr 2004 00:01:15 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.228) with SMTP; 29 Apr 2004 00:01:15 -0700
X-Sent: 29 Apr 2004 07:01:15 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Count for a keyword occurance in a file
Date: Thu, 29 Apr 2004 11:01:03 +0400
Organization: Bayt.com
Message-ID: <005201c42db7$c157fa50$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <200404290856.54302.ykingma@xs4all.nl>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So even an educated calculation won't do it because you'd need to know how
many documents the word occurs in (you could do a search, but that would be
overkill and impractical).

Cool

-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl] 
Sent: Thursday, April 29, 2004 10:57 AM
To: Lucene Users List
Subject: Re: Count for a keyword occurance in a file


On Thursday 29 April 2004 08:14, Nader S. Henein wrote:
> Tricky, scoring has to do with the frequency of the occurrence of the 
> word as opposed to the amount of words in the file in general 
> (Somebody correct me if I'm wrong) , so short of an educated 
> approximation, you could hack

Lucene uses two frequencies for a term: the nr. of docs in which it occurs
in an index (basis for IDF), and the nr of times a term occurs in a
document.

> the indexer to dynamically store the frequency of a word (oh so 
> unadvisable). Personally I recommend the educated approximation, 
> because you could index the document with the number of words in it ( 
> you would have to make sure you're not using Stop Word Analyzer or 
> Port Stemmer) and then based on the score reverse engineer the result 
> you want.
>
> Nader Henein
>
> -----Original Message-----
> From: hemal bhatt [mailto:bhatthemal@rediffmail.com]
> Sent: Wednesday, April 28, 2004 5:50 PM
> To: Lucene Users List
> Subject: Count for a keyword occurance in a file
>
>
> Hi,
>
> How can I get a count of the score given by Hits.Score().
> i.e I want to know how many times a keyword occurs in a file. Any help 
> on this would be appreciated.

The easiest way is to use IndexReader. I don't know what you mean by file
(index or document), but you can have both frequencies I mentioned above
from an IndexReader, evt. using skipTo() to go to the document. The methods
are docFreq(Term) and termDocs(Term).

Regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 15:47:13 2004
Return-Path: <lucene-user-return-8122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50506 invoked from network); 29 Apr 2004 15:47:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 15:47:01 -0000
Received: (qmail 97550 invoked by uid 500); 29 Apr 2004 15:46:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97509 invoked by uid 500); 29 Apr 2004 15:46:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97449 invoked from network); 29 Apr 2004 15:46:21 -0000
Received: from unknown (HELO web2.uh-hosting.co.uk) (213.230.203.66)
  by daedalus.apache.org with SMTP; 29 Apr 2004 15:46:21 -0000
Received: from ALEXCOMPAQ (adsl-62-128-213-171.oneteldsl.net [62.128.213.171] (may be forged))
	by web2.uh-hosting.co.uk (8.11.6/8.11.6) with SMTP id i3TFjpF26247
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 16:45:51 +0100
Reply-To: <alex@pushbuttonsolutions.net>
From: "Alex Wybraniec" <alex@pushbuttonsolutions.net>
To: <lucene-user@jakarta.apache.org>
Subject: Problems From the Word Go
Date: Thu, 29 Apr 2004 16:53:28 +0100
Message-ID: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2739.300
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm sorry if this is not the correct place to post this, but I'm very
confused, and getting towards the end of my tether.

I need to install/compile and run Lucene on a Windows XP Pro based machine,
running J2SE 1.4.2, with ANT.

I downloaded both the source code and the pre-compile versions, and as yet
have not been able to get either running. I've been through the
documentation, and still I can find little to help me set it up properly.

All I want to do (to start with) is compile and run the demo version.

I'm sorry to ask such a newbie question, but I'm really stuck.

So if anyone can point me to an idiots guide, or offer me some help, I would
be most grateful.

Once I get past this stage, I'll have all sorts of juicer questions for you,
but at the minute, I can't even get past stage 1

Thank you in advance
Alex
---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.672 / Virus Database: 434 - Release Date: 28/04/2004


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 16:19:51 2004
Return-Path: <lucene-user-return-8123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88946 invoked from network); 29 Apr 2004 16:19:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 16:19:51 -0000
Received: (qmail 25834 invoked by uid 500); 29 Apr 2004 16:18:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25809 invoked by uid 500); 29 Apr 2004 16:18:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25773 invoked from network); 29 Apr 2004 16:18:36 -0000
Received: from unknown (HELO avas7.telusquebec.local) (142.169.1.152)
  by daedalus.apache.org with SMTP; 29 Apr 2004 16:18:36 -0000
Received: from nodnsquery(192.168.250.24) by avas7.telusquebec.local via csmap 
	 id f99ea9e2_99f8_11d8_880e_0002b3a434af_7752;
	Thu, 29 Apr 2004 12:19:23 -0400 (EDT)
Received: from avas7.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp2.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HWX000I5X9ZDP@"TELUS Quebec">; Thu,
 29 Apr 2004 12:18:00 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas7.telusquebec.local via
 csmap	id e2222b4a_99f8_11d8_8179_0002b3a434af_7395; Thu,
 29 Apr 2004 12:18:43 -0400 (EDT)
Date: Thu, 29 Apr 2004 12:12:19 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: Understanding Boolean Queries
To: lucene-dev@jakarta.apache.org, lucene-user@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <001a01c42e04$bfe72540$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I have been reviewing some of the code related to boolean queries and I
wanted to see if my understanding is approximately correct regarding how
they are handled and, more importantly, the limitations.


Here is what I have come to understand so far:

1) The QueryParser code generated from javacc will parse my boolean query
and determine for each clause whether or not is 'required' (based on a few
conditions, but, in short, whether or not it was introduced or followed by
'AND') or 'prohibited' (based, in short, on it being preceded by 'NOT').

2) As my BooleanQuery is being constructed, it will throw a
BooleanQuery.TooManyClauses exception if I exceed
BooleanQuery.maxClauseCount (which defaults to 1024).

3) The maxClauseCount threshold appears not to care whether or not my
clauses are 'required' or 'prohibited'... only how many of them there are in
total.

4) My BooleanQuery will prepare its own Scorer instance (i.e.
BooleanScorer).  And, during this step, it will identify to the scorer which
clauses are 'required' or 'prohibited'.  And, if more than 32 fall into this
category, a IndexOutOfBoundsException ("More than 32 required/prohibited
clauses in query.") is thrown.
That's as far as I got.
Now, I am a bit confused at this point.  Does this mean I can make a boolean
query consisting of up to 1024 clauses as long as no more than 32 of them
are required or prohibited?  This doesn't seem right.  So, am I missing
something in the way I am understanding this.
I am (as you may have guessed) generating large boolean queries.  And, in
some rare cases, I am receiving the exception identified in #4 (above).  So,
I am trying to figure out whether or not I need to change/filter my queries
in a special way in order to avoid this exception.  And, in order to do
this, I want to understand how these queries are being handled.
Finally, is there something related to the query syntax that could be my
mistake?  For example, what is the difference between:
	"A B" AND "C D" AND "D E"
... and...
	("A B") AND ("C D") AND ("D E")
... could that be the crux of it?

Thank you for your time,
Tate Avery


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 16:37:07 2004
Return-Path: <lucene-user-return-8124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4666 invoked from network); 29 Apr 2004 16:37:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 16:37:07 -0000
Received: (qmail 85140 invoked by uid 500); 29 Apr 2004 16:36:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85104 invoked by uid 500); 29 Apr 2004 16:36:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84978 invoked from network); 29 Apr 2004 16:36:51 -0000
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by daedalus.apache.org with SMTP; 29 Apr 2004 16:36:51 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 29 Apr 2004 12:36:54 -0400
Message-Id: <s090f6e6.060@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 29 Apr 2004 12:36:40 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Problems From the Word Go
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex,=20

What kind of errors are you getting?  Is the Lucene JAR in your classpath? =
 Have you read http://jakarta.apache.org/lucene/docs/gettingstarted.html?

-Grant

>>> alex@pushbuttonsolutions.net 04/29/04 11:53AM >>>
I'm sorry if this is not the correct place to post this, but I'm very
confused, and getting towards the end of my tether.

I need to install/compile and run Lucene on a Windows XP Pro based =
machine,
running J2SE 1.4.2, with ANT.

I downloaded both the source code and the pre-compile versions, and as yet
have not been able to get either running. I've been through the
documentation, and still I can find little to help me set it up properly.

All I want to do (to start with) is compile and run the demo version.

I'm sorry to ask such a newbie question, but I'm really stuck.

So if anyone can point me to an idiots guide, or offer me some help, I =
would
be most grateful.

Once I get past this stage, I'll have all sorts of juicer questions for =
you,
but at the minute, I can't even get past stage 1

Thank you in advance
Alex
---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.672 / Virus Database: 434 - Release Date: 28/04/2004


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 16:38:58 2004
Return-Path: <lucene-user-return-8125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7193 invoked from network); 29 Apr 2004 16:38:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 16:38:58 -0000
Received: (qmail 89021 invoked by uid 500); 29 Apr 2004 16:38:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88991 invoked by uid 500); 29 Apr 2004 16:38:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88976 invoked from network); 29 Apr 2004 16:38:43 -0000
Received: from unknown (HELO web41106.mail.yahoo.com) (66.218.93.22)
  by daedalus.apache.org with SMTP; 29 Apr 2004 16:38:43 -0000
Message-ID: <20040429163847.95777.qmail@web41106.mail.yahoo.com>
Received: from [12.13.3.253] by web41106.mail.yahoo.com via HTTP; Thu, 29 Apr 2004 09:38:47 PDT
Date: Thu, 29 Apr 2004 09:38:47 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Problems From the Word Go
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  alex@pushbuttonsolutions.net
In-Reply-To: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex,

Could you send along whatever error messages you are
receiving?

Thanks,

Jim
--- Alex Wybraniec <alex@pushbuttonsolutions.net>
wrote:
> I'm sorry if this is not the correct place to post
> this, but I'm very
> confused, and getting towards the end of my tether.
> 
> I need to install/compile and run Lucene on a
> Windows XP Pro based machine,
> running J2SE 1.4.2, with ANT.
> 
> I downloaded both the source code and the
> pre-compile versions, and as yet
> have not been able to get either running. I've been
> through the
> documentation, and still I can find little to help
> me set it up properly.
> 
> All I want to do (to start with) is compile and run
> the demo version.
> 
> I'm sorry to ask such a newbie question, but I'm
> really stuck.
> 
> So if anyone can point me to an idiots guide, or
> offer me some help, I would
> be most grateful.
> 
> Once I get past this stage, I'll have all sorts of
> juicer questions for you,
> but at the minute, I can't even get past stage 1
> 
> Thank you in advance
> Alex
> ---
> Outgoing mail is certified Virus Free.
> Checked by AVG anti-virus system
> (http://www.grisoft.com).
> Version: 6.0.672 / Virus Database: 434 - Release
> Date: 28/04/2004
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs  
http://hotjobs.sweepstakes.yahoo.com/careermakeover 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 17:10:26 2004
Return-Path: <lucene-user-return-8126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34121 invoked from network); 29 Apr 2004 17:10:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 17:10:26 -0000
Received: (qmail 96486 invoked by uid 500); 29 Apr 2004 17:10:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96420 invoked by uid 500); 29 Apr 2004 17:09:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96343 invoked from network); 29 Apr 2004 17:09:59 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Apr 2004 17:09:59 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3THA2T29508;
	Thu, 29 Apr 2004 13:10:02 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 29 Apr 2004 13:10:01 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   <tate.avery@nstein.com>
cc: <lucene-dev@jakarta.apache.org>
Subject: Re: Understanding Boolean Queries
In-Reply-To: <001a01c42e04$bfe72540$4c0012ac@nstein.com>
Message-ID: <Pine.LNX.4.33.0404291302420.29404-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 29 Apr 2004, Tate Avery wrote:

> Hello,
>
> I have been reviewing some of the code related to boolean queries and I
> wanted to see if my understanding is approximately correct regarding how
> they are handled and, more importantly, the limitations.

You can always submit requests for enhancements in bugzilla, so as to keep
track this issue.

> Here is what I have come to understand so far:
>
> 1) The QueryParser code generated from javacc will parse my boolean query
> and determine for each clause whether or not is 'required' (based on a few
> conditions, but, in short, whether or not it was introduced or followed by
> 'AND') or 'prohibited' (based, in short, on it being preceded by 'NOT').

Your usage seems pretty particular, why are you using the javacc
QueryParser?

> 2) As my BooleanQuery is being constructed, it will throw a
> BooleanQuery.TooManyClauses exception if I exceed
> BooleanQuery.maxClauseCount (which defaults to 1024).

It's configurable through sys properties or by
BooleanQuery.setMaxClauseCount(int maxClauseCount)
>
> 3) The maxClauseCount threshold appears not to care whether or not my
> clauses are 'required' or 'prohibited'... only how many of them there are in
> total.
>
> 4) My BooleanQuery will prepare its own Scorer instance (i.e.
> BooleanScorer).  And, during this step, it will identify to the scorer which
> clauses are 'required' or 'prohibited'.  And, if more than 32 fall into this
> category, a IndexOutOfBoundsException ("More than 32 required/prohibited
> clauses in query.") is thrown.
> That's as far as I got.
> Now, I am a bit confused at this point.  Does this mean I can make a boolean
> query consisting of up to 1024 clauses as long as no more than 32 of them
> are required or prohibited?  This doesn't seem right.  So, am I missing
> something in the way I am understanding this.
> I am (as you may have guessed) generating large boolean queries.  And, in
> some rare cases, I am receiving the exception identified in #4 (above).  So,
> I am trying to figure out whether or not I need to change/filter my queries
> in a special way in order to avoid this exception.  And, in order to do
> this, I want to understand how these queries are being handled.
> Finally, is there something related to the query syntax that could be my
> mistake?  For example, what is the difference between:
> 	"A B" AND "C D" AND "D E"
> ... and...
> 	("A B") AND ("C D") AND ("D E")
> ... could that be the crux of it?

I can't help you here, and the doc seems rather thin (or nonexistent for
this class). I don't know the relation between the query and how the
scorer will process it.

Sorry I can't be of assistance,
sv

> Thank you for your time,
> Tate Avery
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 17:36:08 2004
Return-Path: <lucene-user-return-8127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57654 invoked from network); 29 Apr 2004 17:36:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 17:36:08 -0000
Received: (qmail 72457 invoked by uid 500); 29 Apr 2004 17:35:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72399 invoked by uid 500); 29 Apr 2004 17:35:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72369 invoked from network); 29 Apr 2004 17:35:48 -0000
Received: from unknown (HELO avas6.telusquebec.local) (142.169.1.151)
  by daedalus.apache.org with SMTP; 29 Apr 2004 17:35:48 -0000
Received: from nodnsquery(192.168.250.8) by avas6.telusquebec.local via csmap 
	 id f5c7b588_9a03_11d8_8d96_0002b3e6f1b0_10144;
	Thu, 29 Apr 2004 13:38:01 -0400 (EDT)
Received: from avas6.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp1.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HWY00J1Z0VQGN@"TELUS Quebec">; Thu,
 29 Apr 2004 13:35:51 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas6.telusquebec.local via
 csmap	id f51bc5ca_9a03_11d8_9fe0_0002b3e6f1b0_10134; Thu,
 29 Apr 2004 13:37:59 -0400 (EDT)
Date: Thu, 29 Apr 2004 13:30:10 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: RE: Understanding Boolean Queries
In-reply-to: <Pine.LNX.4.33.0404291302420.29404-100000@hercule.cirano.qc.ca>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Cc: lucene-dev@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <001d01c42e0f$a0120860$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you for the response.

I am not using the QueryParser directly... it was just part of my overall
understanding of how this exception is coming about.  Same thing,
essentially, with the maxClauseCount.


Here is some code to illustrate what is confusing me and what I am trying to
ascertain:

	int _numClauses = XXX;
	boolean _required = XXX;  // 3 examples of these var settings below

	BooleanQuery _query = new BooleanQuery();

	for (int _i = 0; _i < _numClauses; _i++)
	{
		_query.add(
			new BooleanClause(
				new TermQuery(new Term("body", "term" + _i)),
				_required,
				false));
	}

	Hits _hits = new IndexSearcher(INDEX_DIR).search(_query);


1) With _numClauses=9999 and _required=false (for example), I have no
problems.
(This is confusing since 9999 is more than maxClauseCount... but I won't
complain).

2) With _numClauses=32 and _required=true, I also have no problems.

3) With _numClauses=33 and _required=true, I get
"java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
clauses in query." as a runtime exception.


So, I guess I am trying to ask the following:

Is a query like (T1 AND T2 AND ... AND T32 AND T33) just completely illegal
for Lucene?
OR is there some way to extend this limit?
OR am I missing something that is clouding my understanding?



Thanks,
Tate



-----Original Message-----
From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
Sent: Thursday, April 29, 2004 1:10 PM
To: Lucene Users List; tate.avery@nstein.com
Cc: lucene-dev@jakarta.apache.org
Subject: Re: Understanding Boolean Queries


On Thu, 29 Apr 2004, Tate Avery wrote:

> Hello,
>
> I have been reviewing some of the code related to boolean queries and I
> wanted to see if my understanding is approximately correct regarding how
> they are handled and, more importantly, the limitations.

You can always submit requests for enhancements in bugzilla, so as to keep
track this issue.

> Here is what I have come to understand so far:
>
> 1) The QueryParser code generated from javacc will parse my boolean query
> and determine for each clause whether or not is 'required' (based on a few
> conditions, but, in short, whether or not it was introduced or followed by
> 'AND') or 'prohibited' (based, in short, on it being preceded by 'NOT').

Your usage seems pretty particular, why are you using the javacc
QueryParser?

> 2) As my BooleanQuery is being constructed, it will throw a
> BooleanQuery.TooManyClauses exception if I exceed
> BooleanQuery.maxClauseCount (which defaults to 1024).

It's configurable through sys properties or by
BooleanQuery.setMaxClauseCount(int maxClauseCount)
>
> 3) The maxClauseCount threshold appears not to care whether or not my
> clauses are 'required' or 'prohibited'... only how many of them there are
in
> total.
>
> 4) My BooleanQuery will prepare its own Scorer instance (i.e.
> BooleanScorer).  And, during this step, it will identify to the scorer
which
> clauses are 'required' or 'prohibited'.  And, if more than 32 fall into
this
> category, a IndexOutOfBoundsException ("More than 32 required/prohibited
> clauses in query.") is thrown.
> That's as far as I got.
> Now, I am a bit confused at this point.  Does this mean I can make a
boolean
> query consisting of up to 1024 clauses as long as no more than 32 of them
> are required or prohibited?  This doesn't seem right.  So, am I missing
> something in the way I am understanding this.
> I am (as you may have guessed) generating large boolean queries.  And, in
> some rare cases, I am receiving the exception identified in #4 (above).
So,
> I am trying to figure out whether or not I need to change/filter my
queries
> in a special way in order to avoid this exception.  And, in order to do
> this, I want to understand how these queries are being handled.
> Finally, is there something related to the query syntax that could be my
> mistake?  For example, what is the difference between:
> 	"A B" AND "C D" AND "D E"
> ... and...
> 	("A B") AND ("C D") AND ("D E")
> ... could that be the crux of it?

I can't help you here, and the doc seems rather thin (or nonexistent for
this class). I don't know the relation between the query and how the
scorer will process it.

Sorry I can't be of assistance,
sv

> Thank you for your time,
> Tate Avery
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 17:41:41 2004
Return-Path: <lucene-user-return-8128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62442 invoked from network); 29 Apr 2004 17:41:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 17:41:41 -0000
Received: (qmail 92772 invoked by uid 500); 29 Apr 2004 17:40:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92719 invoked by uid 500); 29 Apr 2004 17:40:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92670 invoked from network); 29 Apr 2004 17:40:15 -0000
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by daedalus.apache.org with SMTP; 29 Apr 2004 17:40:15 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i3THeIF29771;
	Thu, 29 Apr 2004 13:40:18 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 29 Apr 2004 13:40:18 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Developers List <lucene-dev@jakarta.apache.org>,
   <tate.avery@nstein.com>
cc: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Understanding Boolean Queries
In-Reply-To: <001d01c42e0f$a0120860$4c0012ac@nstein.com>
Message-ID: <Pine.LNX.4.33.0404291338390.29404-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Tate,

Forgot to ask, what version of Lucene? (IIRC, <= 1.2, means no
maxClauseCount)

sv

On Thu, 29 Apr 2004, Tate Avery wrote:

> Thank you for the response.
>
> I am not using the QueryParser directly... it was just part of my overall
> understanding of how this exception is coming about.  Same thing,
> essentially, with the maxClauseCount.
>
>
> Here is some code to illustrate what is confusing me and what I am trying to
> ascertain:
>
> 	int _numClauses = XXX;
> 	boolean _required = XXX;  // 3 examples of these var settings below
>
> 	BooleanQuery _query = new BooleanQuery();
>
> 	for (int _i = 0; _i < _numClauses; _i++)
> 	{
> 		_query.add(
> 			new BooleanClause(
> 				new TermQuery(new Term("body", "term" + _i)),
> 				_required,
> 				false));
> 	}
>
> 	Hits _hits = new IndexSearcher(INDEX_DIR).search(_query);
>
>
> 1) With _numClauses=9999 and _required=false (for example), I have no
> problems.
> (This is confusing since 9999 is more than maxClauseCount... but I won't
> complain).
>
> 2) With _numClauses=32 and _required=true, I also have no problems.
>
> 3) With _numClauses=33 and _required=true, I get
> "java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
> clauses in query." as a runtime exception.
>
>
> So, I guess I am trying to ask the following:
>
> Is a query like (T1 AND T2 AND ... AND T32 AND T33) just completely illegal
> for Lucene?
> OR is there some way to extend this limit?
> OR am I missing something that is clouding my understanding?
>
>
>
> Thanks,
> Tate
>
>
>
> -----Original Message-----
> From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
> Sent: Thursday, April 29, 2004 1:10 PM
> To: Lucene Users List; tate.avery@nstein.com
> Cc: lucene-dev@jakarta.apache.org
> Subject: Re: Understanding Boolean Queries
>
>
> On Thu, 29 Apr 2004, Tate Avery wrote:
>
> > Hello,
> >
> > I have been reviewing some of the code related to boolean queries and I
> > wanted to see if my understanding is approximately correct regarding how
> > they are handled and, more importantly, the limitations.
>
> You can always submit requests for enhancements in bugzilla, so as to keep
> track this issue.
>
> > Here is what I have come to understand so far:
> >
> > 1) The QueryParser code generated from javacc will parse my boolean query
> > and determine for each clause whether or not is 'required' (based on a few
> > conditions, but, in short, whether or not it was introduced or followed by
> > 'AND') or 'prohibited' (based, in short, on it being preceded by 'NOT').
>
> Your usage seems pretty particular, why are you using the javacc
> QueryParser?
>
> > 2) As my BooleanQuery is being constructed, it will throw a
> > BooleanQuery.TooManyClauses exception if I exceed
> > BooleanQuery.maxClauseCount (which defaults to 1024).
>
> It's configurable through sys properties or by
> BooleanQuery.setMaxClauseCount(int maxClauseCount)
> >
> > 3) The maxClauseCount threshold appears not to care whether or not my
> > clauses are 'required' or 'prohibited'... only how many of them there are
> in
> > total.
> >
> > 4) My BooleanQuery will prepare its own Scorer instance (i.e.
> > BooleanScorer).  And, during this step, it will identify to the scorer
> which
> > clauses are 'required' or 'prohibited'.  And, if more than 32 fall into
> this
> > category, a IndexOutOfBoundsException ("More than 32 required/prohibited
> > clauses in query.") is thrown.
> > That's as far as I got.
> > Now, I am a bit confused at this point.  Does this mean I can make a
> boolean
> > query consisting of up to 1024 clauses as long as no more than 32 of them
> > are required or prohibited?  This doesn't seem right.  So, am I missing
> > something in the way I am understanding this.
> > I am (as you may have guessed) generating large boolean queries.  And, in
> > some rare cases, I am receiving the exception identified in #4 (above).
> So,
> > I am trying to figure out whether or not I need to change/filter my
> queries
> > in a special way in order to avoid this exception.  And, in order to do
> > this, I want to understand how these queries are being handled.
> > Finally, is there something related to the query syntax that could be my
> > mistake?  For example, what is the difference between:
> > 	"A B" AND "C D" AND "D E"
> > ... and...
> > 	("A B") AND ("C D") AND ("D E")
> > ... could that be the crux of it?
>
> I can't help you here, and the doc seems rather thin (or nonexistent for
> this class). I don't know the relation between the query and how the
> scorer will process it.
>
> Sorry I can't be of assistance,
> sv
>
> > Thank you for your time,
> > Tate Avery
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 17:48:42 2004
Return-Path: <lucene-user-return-8129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69495 invoked from network); 29 Apr 2004 17:48:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 17:48:42 -0000
Received: (qmail 24719 invoked by uid 500); 29 Apr 2004 17:47:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24636 invoked by uid 500); 29 Apr 2004 17:47:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24551 invoked from network); 29 Apr 2004 17:47:57 -0000
Received: from unknown (HELO avas6.telusquebec.local) (142.169.1.151)
  by daedalus.apache.org with SMTP; 29 Apr 2004 17:47:57 -0000
Received: from nodnsquery(192.168.250.8) by avas6.telusquebec.local via csmap 
	 id a86bfb94_9a05_11d8_823c_0002b3e6f1b0_19330;
	Thu, 29 Apr 2004 13:50:10 -0400 (EDT)
Received: from avas6.telusquebec.local (foo.nstein.com [206.162.161.114])
 by smtp1.globetrotter.net (iPlanet Messaging Server 5.2)
 with ESMTPA id <0HWY00JTT1FNJ9@"TELUS Quebec">; Thu,
 29 Apr 2004 13:47:48 -0400 (EDT)
Received: from foo.nstein.com(206.162.161.114) by avas6.telusquebec.local via
 csmap	id a06aba5c_9a05_11d8_9975_0002b3e6f1b0_19139; Thu,
 29 Apr 2004 13:49:56 -0400 (EDT)
Date: Thu, 29 Apr 2004 13:42:07 -0400
From: Tate Avery <tate.avery@nstein.com>
Subject: RE: Understanding Boolean Queries
In-reply-to: <001d01c42e0f$a0120860$4c0012ac@nstein.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Cc: lucene-dev@jakarta.apache.org
Reply-to: tate.avery@nstein.com
Message-id: <002001c42e11$4b637ef0$4c0012ac@nstein.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Sorry, I retract this statement...

>> 1) With _numClauses=9999 and _required=false (for example), I have no
problems.
>> (This is confusing since 9999 is more than maxClauseCount... but I won't
complain).

My little test app was using lucene-1.3-rc1.jar.  But, my REAL app is using
lucene-1.3-final.jar.

So, with _numClauses=1024 and _required=false, I have no problems.
And, with _numClauses=1025 and _required=false, I get the TooManyClauses
exception.

All of that is fine and good.  My main concern is the 32/33 threshold when
_required=true (see details below).


Tate



-----Original Message-----
From: Tate Avery [mailto:tate.avery@nstein.com]
Sent: Thursday, April 29, 2004 1:30 PM
To: 'Lucene Users List'
Cc: lucene-dev@jakarta.apache.org
Subject: RE: Understanding Boolean Queries


Thank you for the response.

I am not using the QueryParser directly... it was just part of my overall
understanding of how this exception is coming about.  Same thing,
essentially, with the maxClauseCount.


Here is some code to illustrate what is confusing me and what I am trying to
ascertain:

	int _numClauses = XXX;
	boolean _required = XXX;  // 3 examples of these var settings below

	BooleanQuery _query = new BooleanQuery();

	for (int _i = 0; _i < _numClauses; _i++)
	{
		_query.add(
			new BooleanClause(
				new TermQuery(new Term("body", "term" + _i)),
				_required,
				false));
	}

	Hits _hits = new IndexSearcher(INDEX_DIR).search(_query);


1) With _numClauses=9999 and _required=false (for example), I have no
problems.
(This is confusing since 9999 is more than maxClauseCount... but I won't
complain).

2) With _numClauses=32 and _required=true, I also have no problems.

3) With _numClauses=33 and _required=true, I get
"java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
clauses in query." as a runtime exception.


So, I guess I am trying to ask the following:

Is a query like (T1 AND T2 AND ... AND T32 AND T33) just completely illegal
for Lucene?
OR is there some way to extend this limit?
OR am I missing something that is clouding my understanding?



Thanks,
Tate



-----Original Message-----
From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
Sent: Thursday, April 29, 2004 1:10 PM
To: Lucene Users List; tate.avery@nstein.com
Cc: lucene-dev@jakarta.apache.org
Subject: Re: Understanding Boolean Queries


On Thu, 29 Apr 2004, Tate Avery wrote:

> Hello,
>
> I have been reviewing some of the code related to boolean queries and I
> wanted to see if my understanding is approximately correct regarding how
> they are handled and, more importantly, the limitations.

You can always submit requests for enhancements in bugzilla, so as to keep
track this issue.

> Here is what I have come to understand so far:
>
> 1) The QueryParser code generated from javacc will parse my boolean query
> and determine for each clause whether or not is 'required' (based on a few
> conditions, but, in short, whether or not it was introduced or followed by
> 'AND') or 'prohibited' (based, in short, on it being preceded by 'NOT').

Your usage seems pretty particular, why are you using the javacc
QueryParser?

> 2) As my BooleanQuery is being constructed, it will throw a
> BooleanQuery.TooManyClauses exception if I exceed
> BooleanQuery.maxClauseCount (which defaults to 1024).

It's configurable through sys properties or by
BooleanQuery.setMaxClauseCount(int maxClauseCount)
>
> 3) The maxClauseCount threshold appears not to care whether or not my
> clauses are 'required' or 'prohibited'... only how many of them there are
in
> total.
>
> 4) My BooleanQuery will prepare its own Scorer instance (i.e.
> BooleanScorer).  And, during this step, it will identify to the scorer
which
> clauses are 'required' or 'prohibited'.  And, if more than 32 fall into
this
> category, a IndexOutOfBoundsException ("More than 32 required/prohibited
> clauses in query.") is thrown.
> That's as far as I got.
> Now, I am a bit confused at this point.  Does this mean I can make a
boolean
> query consisting of up to 1024 clauses as long as no more than 32 of them
> are required or prohibited?  This doesn't seem right.  So, am I missing
> something in the way I am understanding this.
> I am (as you may have guessed) generating large boolean queries.  And, in
> some rare cases, I am receiving the exception identified in #4 (above).
So,
> I am trying to figure out whether or not I need to change/filter my
queries
> in a special way in order to avoid this exception.  And, in order to do
> this, I want to understand how these queries are being handled.
> Finally, is there something related to the query syntax that could be my
> mistake?  For example, what is the difference between:
> 	"A B" AND "C D" AND "D E"
> ... and...
> 	("A B") AND ("C D") AND ("D E")
> ... could that be the crux of it?

I can't help you here, and the doc seems rather thin (or nonexistent for
this class). I don't know the relation between the query and how the
scorer will process it.

Sorry I can't be of assistance,
sv

> Thank you for your time,
> Tate Avery
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 17:56:02 2004
Return-Path: <lucene-user-return-8130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76016 invoked from network); 29 Apr 2004 17:56:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 17:56:02 -0000
Received: (qmail 46123 invoked by uid 500); 29 Apr 2004 17:53:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46090 invoked by uid 500); 29 Apr 2004 17:53:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46012 invoked from network); 29 Apr 2004 17:53:52 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 29 Apr 2004 17:53:52 -0000
Received: (qmail 30211 invoked by uid 89); 29 Apr 2004 17:53:55 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 29 Apr 2004 17:53:55 -0000
Message-ID: <4091411F.8040200@apache.org>
Date: Thu, 29 Apr 2004 10:53:35 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Understanding Boolean Queries
References: <001a01c42e04$bfe72540$4c0012ac@nstein.com>
In-Reply-To: <001a01c42e04$bfe72540$4c0012ac@nstein.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please don't crosspost to lucene-user and lucene-dev!

Tate Avery wrote:
> 3) The maxClauseCount threshold appears not to care whether or not my
> clauses are 'required' or 'prohibited'... only how many of them there are in
> total.

That's correct.  It is an attempt to stop out-of-memory errors which can 
be caused by very large boolean queries.  With, e.g., wildcard queries, 
this can be used as a denial of service attack.  If you're not afraid of 
this, then feel free to increase this limit.

> 4) My BooleanQuery will prepare its own Scorer instance (i.e.
> BooleanScorer).  And, during this step, it will identify to the scorer which
> clauses are 'required' or 'prohibited'.  And, if more than 32 fall into this
> category, a IndexOutOfBoundsException ("More than 32 required/prohibited
> clauses in query.") is thrown.

That's correct.  This is a limitation of the implementation, which uses 
32-bit masks to accelerate boolean operations.  If this is a problem for 
you, please submit a bug.  The workaround is to construct multiple 
boolean queries and combine them with boolean queries, which is awkward, 
but it does work.

> Now, I am a bit confused at this point.  Does this mean I can make a boolean
> query consisting of up to 1024 clauses as long as no more than 32 of them
> are required or prohibited?

Yes, that's correct.  The first limitation may be easily lifted, but the 
second requires changes to Lucene.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 18:10:32 2004
Return-Path: <lucene-user-return-8131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86816 invoked from network); 29 Apr 2004 18:10:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 18:10:32 -0000
Received: (qmail 94120 invoked by uid 500); 29 Apr 2004 18:09:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94088 invoked by uid 500); 29 Apr 2004 18:09:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94052 invoked from network); 29 Apr 2004 18:09:36 -0000
Received: from unknown (HELO rozz.csail.mit.edu) (128.30.2.16)
  by daedalus.apache.org with SMTP; 29 Apr 2004 18:09:36 -0000
Received: from bahamut.csail.mit.edu ([128.30.44.27])
	by rozz.csail.mit.edu with esmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.30)
	id 1BJFye-0005BI-Ta
	for lucene-user@jakarta.apache.org; Thu, 29 Apr 2004 14:09:40 -0400
Date: Thu, 29 Apr 2004 14:09:40 -0400 (EDT)
From: "Matthew W. Bilotti" <mbilotti@csail.mit.edu>
To: lucene-user@jakarta.apache.org
Subject: Help with scoring, coordination factor?
Message-ID: <Pine.LNX.4.44.0404291405320.2308-100000@bahamut.csail.mit.edu>
Organization: Massachusetts Institute of Technology
X-GPG-PUBLIC_KEY: http://web.mit.edu/mbilotti/www/mbilotti_public_key.asc
X-GPG-FINGERPRING: C566 09E5 1594 BB63 2732  DBAA 3C93 F73F 7B7E 403D
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Lucene Users,

We are using Lucene 1.4 RC2, and are experiencing curious results that we 
think are related to the coordination term.  Apparently the default 
implementation for coordination is:

(# query terms matched in a document)/(total terms in query)

That seems to imply that given the queries "A v B v C v D", a disjunction
of 4 terms, and "A ^ B ^ C ^ D", a conjunction of four terms that the a
document containing only A would have 1/4 for a coordination score
regardless.

We understand the semantics for coordination where the conjunction of
terms is involved, but for our purposes, we would want coordination for
the disjunction to behave differently.  Take for example these two queries
(1) "A ^ B ^ C", a conjunction of 3 terms, and (2)  "(A v A1 v A2 v A3) ^
(B v B1) ^ (C v C1 v C2)", a conjunction of 3 disjunctions, each of which
contains related terms.

We would like to see a document containing A, B and C have the same 
coordination score regardless of which query we were using.  To us, it 
makes sense to model the disjunction "A" as being a single term that 
matches no matter which of version of A1..A4 appears in the document.

The results we are seeing show documents we are interested in (say, ones
that contain A, B and C) taking a rank penalty when we use query (2) 
rather than query (1).  We suspect the coordination term in driving down 
these documents' ranks and we would like to bring those documents back up 
to where they should be. 

Is there a relatively easy way to implement what we want using Lucene?  
Would it be better to try to supply a Similarity class with a
special-purpose coord method, or would it be better to try subclass Term
to create some kind of term "glob" that would match any of a number of
strings (a disjunction).

Any advice you can give us would be greatly appreciated!  Thanks in 
advance!

Best regards,
Matthew

PS: Is it now possible by any chance to merge documents retrieved by two 
Lucene queries by score, owing perhaps to the queryNorm factor?  Just 
curious.

-- 
matthew w. bilotti
computer science and artificial intelligence laboratory
massachusetts institute of technology





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 18:40:05 2004
Return-Path: <lucene-user-return-8132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11618 invoked from network); 29 Apr 2004 18:40:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 18:40:05 -0000
Received: (qmail 73250 invoked by uid 500); 29 Apr 2004 18:39:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73220 invoked by uid 500); 29 Apr 2004 18:39:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73206 invoked from network); 29 Apr 2004 18:39:34 -0000
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by daedalus.apache.org with SMTP; 29 Apr 2004 18:39:34 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i3TIdc9C008850
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 20:39:38 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Help with scoring, coordination factor?
Date: Thu, 29 Apr 2004 20:39:37 +0200
User-Agent: KMail/1.5.4
References: <Pine.LNX.4.44.0404291405320.2308-100000@bahamut.csail.mit.edu>
In-Reply-To: <Pine.LNX.4.44.0404291405320.2308-100000@bahamut.csail.mit.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200404292039.37870.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 29 April 2004 20:09, Matthew W. Bilotti wrote:

I can't help you with your first question about coordination
of disjunctions in conjunctions.

Actually, I would like to have the possibility to provide
all terms in an OR query with the same idf weight, eg. some
avarage of their IDF's, to reflect that they have the same
importance in the query. But that is a slightly different subject.

...
> PS: Is it now possible by any chance to merge documents retrieved by two
> Lucene queries by score, owing perhaps to the queryNorm factor?  Just
> curious.

That's what the query norm is for.
The best comparisons are between queries that differ only in term weights.
But the default scoring method is complex enough to lead to surprises
when queries are more different.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Apr 29 19:38:20 2004
Return-Path: <lucene-user-return-8133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75363 invoked from network); 29 Apr 2004 19:38:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Apr 2004 19:38:20 -0000
Received: (qmail 94598 invoked by uid 500); 29 Apr 2004 19:38:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94572 invoked by uid 500); 29 Apr 2004 19:38:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94558 invoked from network); 29 Apr 2004 19:38:01 -0000
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by daedalus.apache.org with SMTP; 29 Apr 2004 19:38:01 -0000
Received: (qmail 35779 invoked by uid 89); 29 Apr 2004 19:38:06 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 29 Apr 2004 19:38:06 -0000
Message-ID: <40915989.7040606@apache.org>
Date: Thu, 29 Apr 2004 12:37:45 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Help with scoring, coordination factor?
References: <Pine.LNX.4.44.0404291405320.2308-100000@bahamut.csail.mit.edu>
In-Reply-To: <Pine.LNX.4.44.0404291405320.2308-100000@bahamut.csail.mit.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Matthew W. Bilotti wrote:
> We suspect the coordination term in driving down 
> these documents' ranks and we would like to bring those documents back up 
> to where they should be. 

That sounds right to me.

> Is there a relatively easy way to implement what we want using Lucene?  
> Would it be better to try to supply a Similarity class with a
> special-purpose coord method  [ ... ]

I think this is a good approach.

In 1.4, you can do something like:

public class NoCoordBooleanQuery extends BooleanQuery {

   private static final Similarity SIMILARITY = new DefaultSimilarity {
     public float coord(int overlap, int max) {
       return 1.0f;
     }
   };

   public Similarity getSimilarity(Searcher searcher) {
     return SIMILARITY;
   }

}

Then use this in place of BooleanQuery when you don't want coordination 
scoring.  I think that should do the trick.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 00:36:35 2004
Return-Path: <lucene-user-return-8134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99830 invoked from network); 30 Apr 2004 00:36:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 00:36:34 -0000
Received: (qmail 1554 invoked by uid 500); 30 Apr 2004 00:36:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1490 invoked by uid 500); 30 Apr 2004 00:36:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1232 invoked from network); 30 Apr 2004 00:35:59 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 30 Apr 2004 00:35:59 -0000
Received: from supun.office (adsl-69-104-69-113.dsl.irvnca.pacbell.net [69.104.69.113])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i3U0a5ga020190
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 29 Apr 2004 17:36:07 -0700
Subject: read only file system
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1083285365.4174.210.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 29 Apr 2004 17:36:05 -0700
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I'm alittle confused on how and index is put into use on a
readonly file system

I'm using Lucene in my web application. Our indexes are built off our
database nightly and copied into our web app servers. 

I think our web app dies from time to time and sometimes a lock is left
behind from Lucene in /tmp/.  

I have read that there is a disableLuceneLocks System Property(is that
the full name or is it something like
org.apache.jakarta...disableLuceneLocks?). But, I'm still not sure how I
can set that. Do I give it as commandline arg to the java VM? 

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 01:26:16 2004
Return-Path: <lucene-user-return-8135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38121 invoked from network); 30 Apr 2004 01:26:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 01:26:16 -0000
Received: (qmail 85669 invoked by uid 500); 30 Apr 2004 01:25:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85647 invoked by uid 500); 30 Apr 2004 01:25:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85620 invoked from network); 30 Apr 2004 01:25:52 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 30 Apr 2004 01:25:52 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i3U1Pvdb001958
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 09:25:58 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Thu, 29 Apr 2004 11:45:36 +0800
Message-ID: <200443092552.893781@kelvin>
In-Reply-To: <2004429114536.365146@kelvin>
Subject: Disappearing segments
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Errr, sorry for the cross-post to lucene-dev as well, but I realized this=
 mail 
really belongs on lucene-user...

I've been experiencing intermittent disappearing segments which result in=
 the
following stacktrace:

Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The system=
 cannot
find the file specified)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:321=
)
        at=
 org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
        at=
 org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
        at=
 org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
        at=
 org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
        at=
 org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
        at org.apache.lucene.store.Lock$With.run(Lock.java:116)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
        at=
 org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)

The segment that disappears (_1ae.fnm) varies.

I can't seem to reproduce this error consistently, so don't have a clue=
 what
might cause it, but it usually happens after the application has been=
 running
for some time. Has anyone experienced something similar, or can anyone point=
 me
in the right direction?

When this occurs, I need to rebuild the entire index for it to be usable.=
 Very
troubling indeed...

Kelvin




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 01:49:36 2004
Return-Path: <lucene-user-return-8136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51571 invoked from network); 30 Apr 2004 01:49:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 01:49:36 -0000
Received: (qmail 17996 invoked by uid 500); 30 Apr 2004 01:49:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17758 invoked by uid 500); 30 Apr 2004 01:49:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17743 invoked from network); 30 Apr 2004 01:49:12 -0000
Received: from unknown (HELO web90107.mail.scd.yahoo.com) (66.218.94.78)
  by daedalus.apache.org with SMTP; 30 Apr 2004 01:49:12 -0000
Message-ID: <20040430012849.75791.qmail@web90107.mail.scd.yahoo.com>
Received: from [202.40.194.113] by web90107.mail.scd.yahoo.com via HTTP; Fri, 30 Apr 2004 09:28:49 CST
Date: Fri, 30 Apr 2004 09:28:49 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: Fwd: [Lucene] XML Indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-2072199611-1083288529=:75724"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-2072199611-1083288529=:75724
Content-Type: multipart/alternative; boundary="0-1621589940-1083288529=:75724"

--0-1621589940-1083288529=:75724
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

Any comments and suggestions. Please help!

Note: forwarded message attached.

BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-1621589940-1083288529=:75724
Content-Type: text/html; charset=big5
Content-Transfer-Encoding: 8bit

<DIV>Any comments and suggestions. Please help!<BR><BR>Note: forwarded message attached.</DIV><p>BqBpPP...<br>
<b>an  s</b><br>
<a href="http://us.rd.yahoo.com/evt=22281/*http://hk.yahoo.com/mail_tagline/?http://ringtone.yahoo.com.hk/">http://ringtone.yahoo.com.hk/</a><br>
--0-1621589940-1083288529=:75724--
--0-2072199611-1083288529=:75724
Content-Type: message/rfc822
Content-Transfer-Encoding: 8bit

X-Apparently-To: samuel202004@yahoo.com.hk via 66.218.94.74; Wed, 28 Apr 2004 08:41:08 -0700
Return-Path: <samuel202004@yahoo.com.hk>
Received: from 66.218.94.73  (HELO web90102.mail.scd.yahoo.com) (66.218.94.73)
  by mta155.mail.scd.yahoo.com with SMTP; Wed, 28 Apr 2004 08:41:08 -0700
Received: from [202.40.200.41] by web90102.mail.scd.yahoo.com via HTTP; Wed, 28 Apr 2004 23:39:30 CST
Date: Wed, 28 Apr 2004 23:39:30 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: [Lucene] XML Indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2075552839-1083166770=:65546"
Content-Transfer-Encoding: 8bit
Content-Length: 577

--0-2075552839-1083166770=:65546
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

XMLIndexingDemo seems not able to index traditional Chinese characters. I can only search for English text and not Chinese. In fact, my XML document contains both Chinese and English text. How can I fix this problem? Is it necessary for me to convert the Chinese characters in BIG5 to UTF-8 before doing the file indexing? If it is, then how can we do it? This problem won't happen on indexing bilingual HTML files (Chinese & English) with Lucene Demo HTML parser. 

BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-2075552839-1083166770=:65546
Content-Type: text/html; charset=big5
Content-Transfer-Encoding: 8bit

<DIV>XMLIndexingDemo seems not able to index traditional Chinese characters. I can only search for English text and not Chinese. In fact, my XML document contains both Chinese and English text. How can I fix this problem? Is it necessary for me to convert the Chinese characters in BIG5 to UTF-8 before doing the file indexing? If it is, then how can we do it? This problem won't happen on indexing bilingual HTML files (Chinese &amp; English) with Lucene Demo HTML parser.&nbsp;</DIV><p>BqBpPP...<br>
<b>an  s</b><br>
<a href="http://us.rd.yahoo.com/evt=22281/*http://hk.yahoo.com/mail_tagline/?http://ringtone.yahoo.com.hk/">http://ringtone.yahoo.com.hk/</a><br>
--0-2075552839-1083166770=:65546--

--0-2072199611-1083288529=:75724
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--0-2072199611-1083288529=:75724--

From lucene-user-return-8137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 03:33:07 2004
Return-Path: <lucene-user-return-8137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8627 invoked from network); 30 Apr 2004 03:33:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 03:33:07 -0000
Received: (qmail 48255 invoked by uid 500); 30 Apr 2004 03:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48049 invoked by uid 500); 30 Apr 2004 03:32:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48035 invoked from network); 30 Apr 2004 03:32:41 -0000
Received: from unknown (HELO web90104.mail.scd.yahoo.com) (66.218.94.75)
  by daedalus.apache.org with SMTP; 30 Apr 2004 03:32:41 -0000
Message-ID: <20040430032900.9929.qmail@web90104.mail.scd.yahoo.com>
Received: from [202.40.194.113] by web90104.mail.scd.yahoo.com via HTTP; Fri, 30 Apr 2004 11:29:00 CST
Date: Fri, 30 Apr 2004 11:29:00 +0800 (CST)
From: =?big5?q?Samuel=20Tang?= <samuel202004@yahoo.com.hk>
Subject: Re: Fwd: [Lucene] XML Indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040430012849.75791.qmail@web90107.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-302546028-1083295740=:9414"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-302546028-1083295740=:9414
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

I've fixed the problem by myself. Thank you.

Samuel Tang <samuel202004@yahoo.com.hk> wrote:Any comments and suggestions. Please help!

Note: forwarded message attached.

BqBpPP...
an s
http://ringtone.yahoo.com.hk/


> ATTACHMENT part 2 message/rfc822 
: Wed, 28 Apr 2004 23:39:30 +0800 (CST)
HH: Samuel Tang 
D: [Lucene] XML Indexing
HG: lucene-user@jakarta.apache.org

XMLIndexingDemo seems not able to index traditional Chinese characters. I can only search for English text and not Chinese. In fact, my XML document contains both Chinese and English text. How can I fix this problem? Is it necessary for me to convert the Chinese characters in BIG5 to UTF-8 before doing the file indexing? If it is, then how can we do it? This problem won't happen on indexing bilingual HTML files (Chinese & English) with Lucene Demo HTML parser. 

BqBpPP...
an s
http://ringtone.yahoo.com.hk/
---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


BqBpPP...
an  s
http://ringtone.yahoo.com.hk/

--0-302546028-1083295740=:9414--

From lucene-user-return-8138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 05:14:53 2004
Return-Path: <lucene-user-return-8138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76846 invoked from network); 30 Apr 2004 05:14:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 05:14:53 -0000
Received: (qmail 78928 invoked by uid 500); 30 Apr 2004 05:14:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78843 invoked by uid 500); 30 Apr 2004 05:14:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78822 invoked from network); 30 Apr 2004 05:14:25 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 30 Apr 2004 05:14:25 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i3U5EWdb003967
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 13:14:33 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Date: Fri, 30 Apr 2004 13:14:34 +0800
Message-ID: <2004430131434.867260@kelvin>
In-Reply-To: <200443092552.893781@kelvin>
Subject: Re: Disappearing segments
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

An update:

Daniel Naber suggested using IndexWriter.setUseCompoundFile() to see if it 
happens with the compound index format. Before I had a chance to try it out,=
 
this happened: 

java.io.FileNotFoundException: C:\index\segments (The system cannot find the=
 
file specified)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
        at=
 org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
ava:321)
        at=
 org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
        at=
 org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
        at=
 org.apache.lucene.index.IndexWriter$1.doBody(IndexWriter.java:154)
        at org.apache.lucene.store.Lock$With.run(Lock.java:116)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:149)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:131)

so even the segments file somehow got deleted. Hoping someone can shed some=
 
light on this...

Kelvin

On Thu, 29 Apr 2004 11:45:36 +0800, Kelvin Tan said:
> Errr, sorry for the cross-post to lucene-dev as well, but I realized this=
 mail
> really belongs on lucene-user...
> 
> I've been experiencing intermittent disappearing segments which result in=
 the
> following stacktrace:
> 
> Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The system=
 cannot
> find the file specified)
> at java.io.RandomAccessFile.open(Native Method)
> at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> at
>=
 org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:32=
1)
> at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
> at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
> at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
> at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
> at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
> 
> The segment that disappears (_1ae.fnm) varies.
> 
> I can't seem to reproduce this error consistently, so don't have a clue=
 what
> might cause it, but it usually happens after the application has been=
 running
> for some time. Has anyone experienced something similar, or can anyone=
 point 
me
> in the right direction?
> 
> When this occurs, I need to rebuild the entire index for it to be usable.=
 Very
> troubling indeed...
> 
> Kelvin
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 06:34:32 2004
Return-Path: <lucene-user-return-8139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42864 invoked from network); 30 Apr 2004 06:34:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 06:34:31 -0000
Received: (qmail 1531 invoked by uid 500); 30 Apr 2004 06:34:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1510 invoked by uid 500); 30 Apr 2004 06:34:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1492 invoked from network); 30 Apr 2004 06:34:01 -0000
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by daedalus.apache.org with SMTP; 30 Apr 2004 06:34:01 -0000
Received: (qmail 4539 invoked from network); 30 Apr 2004 06:34:04 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 30 Apr 2004 06:34:04 -0000
Subject: potential synchronization problem
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1083306765.18579.12.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 30 Apr 2004 14:32:45 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I forsee the following scenario in my project and hope to get a reply to
this before I start coding :

I have an standalone application which runs lucene indexing in the
background at a user specified interval (e.g. every 2 days). In the
meantime, user will be able to force a indexing operation anytime he
wish to. I assume this will cause two process of lucene writing to the
same index files (one from the background lucene and the other one by
the user). Will this cause any problem with regards to race condition or
synchronization issues if any?

Thanks

Sebastian Ho
BII


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 07:44:56 2004
Return-Path: <lucene-user-return-8140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18254 invoked from network); 30 Apr 2004 07:44:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 07:44:56 -0000
Received: (qmail 37155 invoked by uid 500); 30 Apr 2004 07:44:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37098 invoked by uid 500); 30 Apr 2004 07:44:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37075 invoked from network); 30 Apr 2004 07:44:23 -0000
Received: from unknown (HELO stlspfw4.sial.com) (199.217.212.93)
  by daedalus.apache.org with SMTP; 30 Apr 2004 07:44:23 -0000
Received: from stllnhub01.sial.com (stllnhub01.sial.com [141.247.245.88])
	by stlspfw4.sial.com with ESMTP id i3U7n4Fs012161
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 02:49:04 -0500 (CDT)
Received: from munlnspk04.sial.com ([141.247.30.45])
          by stllnhub01.sial.com (Lotus Domino Release 6.0.3)
          with ESMTP id 2004043002433226-272476 ;
          Fri, 30 Apr 2004 02:43:32 -0500 
Received: from lynlnspk01 ([141.247.40.32])
          by munlnspk04.sial.com (Lotus Domino Release 5.0.11)
          with ESMTP id 2004043009443236:4638 ;
          Fri, 30 Apr 2004 09:44:32 +0200 
Subject: Re: Problems From the Word Go
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OF2ED6B81F.7C7EA61B-ONC1256E86.0026E56A-C1256E86.002A8103@sial.com>
From: "Marten Senkel" <MSenkel@europe.sial.com>
Date: Fri, 30 Apr 2004 09:44:15 +0200
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Alex,

I just installed Lucene one week ago on a W2K box and it took me some time to get it running. But
now Lucene is fully integrated in our intranet. I index and search with Lucene our menu, all
documents and the user profiles and display them according to user's access rights.

By habit I always try to compile the sources of such 'external modules' inside our projects in order
to see at once whether things are incompatible or missing. Lucene did actually compile very well as
Lucene is not depending on any other modules. At runtime, however, I always got ClassNotFound
exceptions for classes which have been compiled and which existed at the needed locations. This is
really strange.
I've first upgraded to 1.4.2 and installed then the Enterprise Edition.

I tried many other things, but the only way to get things working was listing the JARs in the
compile class path in my IDE (for yours the inclusion in the environment classpath may work) and the
listing of the same JARs in the runtime class path of my application server.

This way things worked fine.

I had more trouble getting PDFbox to run in order to index PDFs as it would never compile as pdfbox
was depending on ant, ant on bsf, and so on.
In order to get that running I just placed the following JARs in my IDE's compile classpath and run
the program.
IDE: lucene-1.3-final.jar;lucene-demos-1.3-final.jar;pdfbox-0.6.5.jar
At runtime I was required to place some more JARs in the runtime classpath of the application
server:
Appserv: lucene-1.3-final.jar;lucene-demos-1.3-final.jar;PDFBox-0.6.5.jar;log4j-1.2.8.jar

If you need to run Ant, then just add the Ant JAR in your classpathes and go ahead! You'll then see
at compile and run time which classes are still needed and then it's up to you to find and download
them.

Let me know if this helps you advance in the matter.

At the beginning it was a bit hard to get started, but once the demo is running one progresses
really fast. Lucene is really great!

-Marten



                                                                                                                                          
                      "Alex Wybraniec"                                                                                                    
                      <alex@pushbuttonsol        To:       <lucene-user@jakarta.apache.org>                                               
                      utions.net>                cc:                                                                                      
                                                 Subject:  Problems From the Word Go                                                      
                      2004-04-29 17:53                                                                                                    
                      Please respond to                                                                                                   
                      "Lucene Users List"                                                                                                 
                                                                                                                                          
                                                                                                                                          




I'm sorry if this is not the correct place to post this, but I'm very
confused, and getting towards the end of my tether.

I need to install/compile and run Lucene on a Windows XP Pro based machine,
running J2SE 1.4.2, with ANT.

I downloaded both the source code and the pre-compile versions, and as yet
have not been able to get either running. I've been through the
documentation, and still I can find little to help me set it up properly.

All I want to do (to start with) is compile and run the demo version.

I'm sorry to ask such a newbie question, but I'm really stuck.

So if anyone can point me to an idiots guide, or offer me some help, I would
be most grateful.

Once I get past this stage, I'll have all sorts of juicer questions for you,
but at the minute, I can't even get past stage 1

Thank you in advance
Alex
---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.672 / Virus Database: 434 - Release Date: 28/04/2004


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 11:51:39 2004
Return-Path: <lucene-user-return-8141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34057 invoked from network); 30 Apr 2004 11:51:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 11:51:39 -0000
Received: (qmail 42601 invoked by uid 500); 30 Apr 2004 11:51:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42327 invoked by uid 500); 30 Apr 2004 11:51:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42274 invoked from network); 30 Apr 2004 11:51:30 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 30 Apr 2004 11:51:30 -0000
Message-ID: <20040430115130.99677.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.193] by web12703.mail.yahoo.com via HTTP; Fri, 30 Apr 2004 04:51:30 PDT
Date: Fri, 30 Apr 2004 04:51:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: potential synchronization problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1083306765.18579.12.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes.
I suggest you devise a 'index request queue' mechanism to handle
situations like this.  This can probably be made quite generic (i.e.
not Lucene and not indexing specific).  How you go about implementing
this is up to.

Otis


--- Sebastian Ho <sebastianh@bii.a-star.edu.sg> wrote:
> Hi
> 
> I forsee the following scenario in my project and hope to get a reply
> to
> this before I start coding :
> 
> I have an standalone application which runs lucene indexing in the
> background at a user specified interval (e.g. every 2 days). In the
> meantime, user will be able to force a indexing operation anytime he
> wish to. I assume this will cause two process of lucene writing to
> the
> same index files (one from the background lucene and the other one by
> the user). Will this cause any problem with regards to race condition
> or
> synchronization issues if any?
> 
> Thanks
> 
> Sebastian Ho
> BII
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 12:09:05 2004
Return-Path: <lucene-user-return-8142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46437 invoked from network); 30 Apr 2004 12:09:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 12:09:05 -0000
Received: (qmail 76776 invoked by uid 500); 30 Apr 2004 12:08:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76710 invoked by uid 500); 30 Apr 2004 12:08:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76696 invoked from network); 30 Apr 2004 12:08:56 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 30 Apr 2004 12:08:56 -0000
Message-ID: <20040430120857.9286.qmail@web12704.mail.yahoo.com>
Received: from [194.152.216.193] by web12704.mail.yahoo.com via HTTP; Fri, 30 Apr 2004 05:08:57 PDT
Date: Fri, 30 Apr 2004 05:08:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: read only file system
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  supun@office.vtourist.com
In-Reply-To: <1083285365.4174.210.camel@supun.office>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you have a very recent Lucene, then you can disable locks with
command line parameters.  I believe a page describing various command
line parameters is on Lucene's Wiki.

Otis

--- Supun Edirisinghe <supun@office.vtourist.com> wrote:
> I think I'm alittle confused on how and index is put into use on a
> readonly file system
> 
> I'm using Lucene in my web application. Our indexes are built off our
> database nightly and copied into our web app servers. 
> 
> I think our web app dies from time to time and sometimes a lock is
> left
> behind from Lucene in /tmp/.  
> 
> I have read that there is a disableLuceneLocks System Property(is
> that
> the full name or is it something like
> org.apache.jakarta...disableLuceneLocks?). But, I'm still not sure
> how I
> can set that. Do I give it as commandline arg to the java VM? 
> 
> thanks
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 12:45:47 2004
Return-Path: <lucene-user-return-8143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80091 invoked from network); 30 Apr 2004 12:45:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 12:45:47 -0000
Received: (qmail 52174 invoked by uid 500); 30 Apr 2004 12:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52151 invoked by uid 500); 30 Apr 2004 12:45:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52137 invoked from network); 30 Apr 2004 12:45:37 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 30 Apr 2004 12:45:37 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id 172976BE8AC
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 08:45:39 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040430032900.9929.qmail@web90104.mail.scd.yahoo.com>
References: <20040430032900.9929.qmail@web90104.mail.scd.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Message-Id: <47D0DE26-9AA4-11D8-8ADF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [Lucene] XML Indexing
Date: Fri, 30 Apr 2004 08:45:37 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 29, 2004, at 11:29 PM, Samuel Tang wrote:
> I've fixed the problem by myself. Thank you.

What was the solution?  Choosing a different analyzer?

I've recently been doing some work on Chinese analysis:

	http://www.blogscene.org/erik/LuceneInAction/i18n.html

But not within the context of XML.  There are obviously many variables=20=

in the equation (XML file encoding, the analyzer, and more).

	Erik

>
> Samuel Tang <samuel202004@yahoo.com.hk> wrote:Any comments and=20
> suggestions. Please help!
>
> Note: forwarded message attached.
>
> =E5=BF=85=E6=AE=BA=E6=8A=80=E3=80=81=E9=A3=B2=E6=AD=8C=E3=80=81=E5=B0=8F=
=E6=98=9F=E6=98=9F...
> =E6=B5=AA=E6=BC=AB=E9=88=B4=E8=81=B2 =E6=83=85=E5=BF=83=E9=80=A3=E7=B9=AB=

> http://ringtone.yahoo.com.hk/
>
>
>> ATTACHMENT part 2 message/rfc822
> =E6=97=A5=E6=9C=9F: Wed, 28 Apr 2004 23:39:30 +0800 (CST)
> =E5=AF=84=E4=BB=B6=E4=BA=BA: Samuel Tang
> =E6=A8=99=E9=A1=8C: [Lucene] XML Indexing
> =E6=94=B6=E4=BB=B6=E4=BA=BA=EF=BC=9A: lucene-user@jakarta.apache.org
>
> XMLIndexingDemo seems not able to index traditional Chinese=20
> characters. I can only search for English text and not Chinese. In=20
> fact, my XML document contains both Chinese and English text. How can=20=

> I fix this problem? Is it necessary for me to convert the Chinese=20
> characters in BIG5 to UTF-8 before doing the file indexing? If it is,=20=

> then how can we do it? This problem won't happen on indexing bilingual=20=

> HTML files (Chinese & English) with Lucene Demo HTML parser.
>
> =E5=BF=85=E6=AE=BA=E6=8A=80=E3=80=81=E9=A3=B2=E6=AD=8C=E3=80=81=E5=B0=8F=
=E6=98=9F=E6=98=9F...
> =E6=B5=AA=E6=BC=AB=E9=88=B4=E8=81=B2 =E6=83=85=E5=BF=83=E9=80=A3=E7=B9=AB=

> http://ringtone.yahoo.com.hk/
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> =E5=BF=85=E6=AE=BA=E6=8A=80=E3=80=81=E9=A3=B2=E6=AD=8C=E3=80=81=E5=B0=8F=
=E6=98=9F=E6=98=9F...
> =E6=B5=AA=E6=BC=AB=E9=88=B4=E8=81=B2  =E6=83=85=E5=BF=83=E9=80=A3=E7=B9=AB=

> http://ringtone.yahoo.com.hk/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 12:48:12 2004
Return-Path: <lucene-user-return-8144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82595 invoked from network); 30 Apr 2004 12:48:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 12:48:12 -0000
Received: (qmail 58506 invoked by uid 500); 30 Apr 2004 12:48:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58480 invoked by uid 500); 30 Apr 2004 12:48:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58424 invoked from network); 30 Apr 2004 12:48:01 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 30 Apr 2004 12:48:01 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id 913BB6BE8C5
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 08:48:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net>
References: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9E57E68A-9AA4-11D8-8ADF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems From the Word Go
Date: Fri, 30 Apr 2004 08:48:02 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Unfortunately the demo that comes with Lucene is harder to run than it 
really should be.  My suggestion is to just get the Lucene JAR, and try 
out examples from the many articles available.  My intro Lucene article 
at java.net should be easy to get up and running in only a few minutes 
of having the JAR (and basic Java know-how with classpath and such).

	Erik

On Apr 29, 2004, at 11:53 AM, Alex Wybraniec wrote:

> I'm sorry if this is not the correct place to post this, but I'm very
> confused, and getting towards the end of my tether.
>
> I need to install/compile and run Lucene on a Windows XP Pro based 
> machine,
> running J2SE 1.4.2, with ANT.
>
> I downloaded both the source code and the pre-compile versions, and as 
> yet
> have not been able to get either running. I've been through the
> documentation, and still I can find little to help me set it up 
> properly.
>
> All I want to do (to start with) is compile and run the demo version.
>
> I'm sorry to ask such a newbie question, but I'm really stuck.
>
> So if anyone can point me to an idiots guide, or offer me some help, I 
> would
> be most grateful.
>
> Once I get past this stage, I'll have all sorts of juicer questions 
> for you,
> but at the minute, I can't even get past stage 1
>
> Thank you in advance
> Alex
> ---
> Outgoing mail is certified Virus Free.
> Checked by AVG anti-virus system (http://www.grisoft.com).
> Version: 6.0.672 / Virus Database: 434 - Release Date: 28/04/2004
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 12:51:04 2004
Return-Path: <lucene-user-return-8145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85556 invoked from network); 30 Apr 2004 12:51:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 12:51:04 -0000
Received: (qmail 67140 invoked by uid 500); 30 Apr 2004 12:50:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67103 invoked by uid 500); 30 Apr 2004 12:50:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66952 invoked from network); 30 Apr 2004 12:50:50 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 30 Apr 2004 12:50:50 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BJXTd-0002yo-00
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 14:50:50 +0200
Received: from mail.idoox.com ([194.213.203.154])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 14:50:49 +0200
Received: from literakl by mail.idoox.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 14:50:49 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Leos Literak <literakl@centrum.cz>
Subject: Re: potential synchronization problem
Date: Fri, 30 Apr 2004 14:10:04 +0200
Lines: 19
Message-ID: <c6tflg$rn5$1@sea.gmane.org>
References: <1083306765.18579.12.camel@localhost.localdomain> <20040430115130.99677.qmail@web12703.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: mail.idoox.com
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: cs, en-us, en
In-Reply-To: <20040430115130.99677.qmail@web12703.mail.yahoo.com>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> Yes.
> I suggest you devise a 'index request queue' mechanism to handle
> situations like this.  This can probably be made quite generic (i.e.
> not Lucene and not indexing specific).  How you go about implementing
> this is up to.

I handle this with script, which
1\ generates new index to temporary directory
2\ removes directory with old index
3\ renames temporary directory to standard location

unfortunatelly this doesn't garantee atomicity, so
I can find in logs exceptions, when user performed
search in 2\ or 3\ steps. Because step 1\ takes
ten minutes, while 2\ and 3\ several seconds at most,
I am happy with this solution.

Leos


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 13:52:25 2004
Return-Path: <lucene-user-return-8146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43345 invoked from network); 30 Apr 2004 13:52:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 13:52:25 -0000
Received: (qmail 44238 invoked by uid 500); 30 Apr 2004 13:52:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44164 invoked by uid 500); 30 Apr 2004 13:52:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44150 invoked from network); 30 Apr 2004 13:52:14 -0000
Received: from unknown (HELO smtp6.mindspring.com) (207.69.200.110)
  by daedalus.apache.org with SMTP; 30 Apr 2004 13:52:14 -0000
Received: from h-69-3-87-38.mclnva23.dynamic.covad.net ([69.3.87.38] helo=POWERPACK)
	by smtp6.mindspring.com with smtp (Exim 3.33 #1)
	id 1BJYR6-0002lX-00
	for lucene-user@jakarta.apache.org; Fri, 30 Apr 2004 09:52:16 -0400
Message-ID: <034e01c42eba$5b88c020$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net> <9E57E68A-9AA4-11D8-8ADF-000393A564E6@ehatchersolutions.com>
Subject: Re: Problems From the Word Go
Date: Fri, 30 Apr 2004 09:52:20 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Maybe you could donate some of those demo modules (and the accompanying
article/text) to Lucene, so they'd be incorporated officially in the
website?

Regards,

Terry

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, April 30, 2004 8:48 AM
Subject: Re: Problems From the Word Go


> Unfortunately the demo that comes with Lucene is harder to run than it
> really should be.  My suggestion is to just get the Lucene JAR, and try
> out examples from the many articles available.  My intro Lucene article
> at java.net should be easy to get up and running in only a few minutes
> of having the JAR (and basic Java know-how with classpath and such).
>
> Erik
>
> On Apr 29, 2004, at 11:53 AM, Alex Wybraniec wrote:
>
> > I'm sorry if this is not the correct place to post this, but I'm very
> > confused, and getting towards the end of my tether.
> >
> > I need to install/compile and run Lucene on a Windows XP Pro based
> > machine,
> > running J2SE 1.4.2, with ANT.
> >
> > I downloaded both the source code and the pre-compile versions, and as
> > yet
> > have not been able to get either running. I've been through the
> > documentation, and still I can find little to help me set it up
> > properly.
> >
> > All I want to do (to start with) is compile and run the demo version.
> >
> > I'm sorry to ask such a newbie question, but I'm really stuck.
> >
> > So if anyone can point me to an idiots guide, or offer me some help, I
> > would
> > be most grateful.
> >
> > Once I get past this stage, I'll have all sorts of juicer questions
> > for you,
> > but at the minute, I can't even get past stage 1
> >
> > Thank you in advance
> > Alex
> > ---
> > Outgoing mail is certified Virus Free.
> > Checked by AVG anti-virus system (http://www.grisoft.com).
> > Version: 6.0.672 / Virus Database: 434 - Release Date: 28/04/2004
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 14:25:39 2004
Return-Path: <lucene-user-return-8147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73396 invoked from network); 30 Apr 2004 14:25:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 14:25:39 -0000
Received: (qmail 33496 invoked by uid 500); 30 Apr 2004 14:25:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33472 invoked by uid 500); 30 Apr 2004 14:25:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33447 invoked from network); 30 Apr 2004 14:25:25 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 30 Apr 2004 14:25:25 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id 04A776BEF81
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 09:25:26 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <034e01c42eba$5b88c020$6501a8c0@POWERPACK>
References: <MNEJJHHGBMDADEEILIAGIELFCAAA.alex@pushbuttonsolutions.net> <9E57E68A-9AA4-11D8-8ADF-000393A564E6@ehatchersolutions.com> <034e01c42eba$5b88c020$6501a8c0@POWERPACK>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <385ED256-9AB2-11D8-8ADF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems From the Word Go
Date: Fri, 30 Apr 2004 09:25:24 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Apr 30, 2004, at 8:52 AM, Terry Steichen wrote:
> Erik,
>
> Maybe you could donate some of those demo modules (and the accompanying
> article/text) to Lucene, so they'd be incorporated officially in the
> website?

Sure... and in fact that has been my intention all along.  One idea 
that I had with the Lucene book effort was to build a complete 
Searchblox-like (no offense guys!) application that could be used as a 
real intranet search system.  It has turned out that this was too bold 
of an idea to develop for the book because it is marginally useful in 
the context of book examples since it would not be able to demonstrate 
all the various bells and whistles without being contrived.

I have no problem with any code I've done for the articles or the book 
becoming part of Lucene as examples.  It will be a couple of months 
before my plate is clear enough to package it up nicely enough though, 
so for now the articles will have to suffice.

Rest assured, though, that my intention is to eventually flesh out a 
really nice example web application that is easily usable.  The current 
example app is "usable" now, it just takes jumping through some odd 
hoops to get running unfortunately.

By the way, my JavaDevWithAnt project has been freely available for 
quite some time now, and in its current for it is an easy-to-build web 
app that searches a Lucene index of a snapshot of Ant's documentation 
(the HTML files).  You can grab it here:

	http://www.ehatchersolutions.com/JavaDevWithAnt

Eventually I'll beef that application up with new Ant 1.6 best 
practices and replace Struts with Tapestry.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 14:54:55 2004
Return-Path: <lucene-user-return-8148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6851 invoked from network); 30 Apr 2004 14:54:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 14:54:55 -0000
Received: (qmail 28995 invoked by uid 500); 30 Apr 2004 14:54:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28972 invoked by uid 500); 30 Apr 2004 14:54:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28957 invoked from network); 30 Apr 2004 14:54:43 -0000
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by daedalus.apache.org with SMTP; 30 Apr 2004 14:54:43 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Fri, 30 Apr 2004 10:54:41 -0400
Message-Id: <s0923071.029@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Fri, 30 Apr 2004 10:54:11 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Understanding Boolean Queries
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

FWIW, I'll relate a general note from my brief experience.  I try to
structure the index to avoid the need for boolean queries as much as
possible, in order to avoid issues like yours.

For example, I was indexing dozens of columns from a database table. 
Each database row was a document, each column a field.  In order to
query all these fields, I had to construct huge boolean queries (via
MultiFieldQueryParser).  It was too slow.  After browsing some of mail
archives, i realized the proper way to do this was combine all the
columns into one field, and then add a second stored field with the name
of the column.  Now I had only one searchable field, and the queries
sped up dramatically.

>>> Tate Avery <tate.avery@nstein.com> 04/29/04 12:12PM >>>
Hello,

I have been reviewing some of the code related to boolean queries and
I
wanted to see if my understanding is approximately correct regarding
how
they are handled and, more importantly, the limitations.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 15:11:37 2004
Return-Path: <lucene-user-return-8149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37598 invoked from network); 30 Apr 2004 15:11:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 15:11:36 -0000
Received: (qmail 81621 invoked by uid 500); 30 Apr 2004 15:11:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81585 invoked by uid 500); 30 Apr 2004 15:11:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81571 invoked from network); 30 Apr 2004 15:11:23 -0000
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by daedalus.apache.org with SMTP; 30 Apr 2004 15:11:23 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Fri, 30 Apr 2004 11:11:25 -0400
Message-Id: <s092345d.081@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Fri, 30 Apr 2004 11:11:14 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Count for a keyword occurance in a file
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I had the same need recently.  Specifically, I wanted the ability to
display along with the results something like:

- The query "jra" occurred 1000 times in 600 documents.

For simple queries, the IndexReader.docFreq(Term) and
IndexReader.termDocs(Term) methods are the way to go.  But for like
phrases:

- The query "juvenile arthritis" occurred 100 times in 20 documents.

and wildcard queries ("rheum*"):

- The query "rheumatology" occurred 10 times in 5 documents.
- The query "rheumatoid" occurred 10 times in 5 documents.
- The query "rheumatic" occurred 10 times in 5 documents.

I had to do quite a bit more.  I ended up modifying all of the Query
classes and writing a Frequencies class. If y ou're interested, mail me
directly.

BTW, I joined the list only recently.  Lucene is GREAT!

>>> Ype Kingma <ykingma@xs4all.nl> 04/29/04 02:56AM >>>
On Thursday 29 April 2004 08:14, Nader S. Henein wrote:
> Tricky, scoring has to do with the frequency of the occurrence of the
word
> as opposed to the amount of words in the file in general (Somebody
correct
> me if I'm wrong) , so short of an educated approximation, you could
hack

Lucene uses two frequencies for a term: the nr. of docs in which it
occurs
in an index (basis for IDF), and the nr of times a term occurs in a
document.

> the indexer to dynamically store the frequency of a word (oh so
> unadvisable). Personally I recommend the educated approximation,
because
> you could index the document with the number of words in it ( you
would
> have to make sure you're not using Stop Word Analyzer or Port
Stemmer) and
> then based on the score reverse engineer the result you want.
>
> Nader Henein
>
> -----Original Message-----
> From: hemal bhatt [mailto:bhatthemal@rediffmail.com] 
> Sent: Wednesday, April 28, 2004 5:50 PM
> To: Lucene Users List
> Subject: Count for a keyword occurance in a file
>
>
> Hi,
>
> How can I get a count of the score given by Hits.Score().
> i.e I want to know how many times a keyword occurs in a file. Any
help on
> this would be appreciated.

The easiest way is to use IndexReader. I don't know what you mean by
file
(index or document), but you can have both frequencies I mentioned
above
from an IndexReader, evt. using skipTo() to go to the document.
The methods are docFreq(Term) and termDocs(Term).

Regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 15:24:29 2004
Return-Path: <lucene-user-return-8150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53347 invoked from network); 30 Apr 2004 15:24:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 15:24:29 -0000
Received: (qmail 18223 invoked by uid 500); 30 Apr 2004 15:24:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18199 invoked by uid 500); 30 Apr 2004 15:24:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18184 invoked from network); 30 Apr 2004 15:24:16 -0000
Received: from unknown (HELO post-20.mail.nl.demon.net) (194.159.73.1)
  by daedalus.apache.org with SMTP; 30 Apr 2004 15:24:16 -0000
Received: from [212.238.156.229] (helo=zilverline.org)
	by post-20.mail.nl.demon.net with esmtp (Exim 3.36 #2)
	id 1BJZsA-0003z2-00
	for lucene-user@jakarta.apache.org; Fri, 30 Apr 2004 15:24:18 +0000
Message-ID: <40926FF6.80108@zilverline.org>
Date: Fri, 30 Apr 2004 17:25:42 +0200
From: info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Zilverline webapplication
References: <1083285365.4174.210.camel@supun.office>
In-Reply-To: <1083285365.4174.210.camel@supun.office>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All,

For those that are interested, I've created a web application based on 
lucene that's ready to roll, and can be simply dropped in a Servlet 
Engine. It runs out of the box, doing PDF, WORD, HTML. TXT, and can (on 
WIndows for now) index zip, rart, and CHM.  I've just put up a website 
for it, and will issue the src as GPL soon later, if people are interested.

Please take look at zilverline.org, and have a swing at the war.

cheers,

   Michael Franken


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 16:06:35 2004
Return-Path: <lucene-user-return-8151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4772 invoked from network); 30 Apr 2004 16:06:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 16:06:35 -0000
Received: (qmail 9463 invoked by uid 500); 30 Apr 2004 16:06:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9436 invoked by uid 500); 30 Apr 2004 16:06:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9418 invoked from network); 30 Apr 2004 16:06:22 -0000
Received: from unknown (HELO mx2.elte.hu) (157.181.151.9)
  by daedalus.apache.org with SMTP; 30 Apr 2004 16:06:22 -0000
Received: from mail.inf.elte.hu (pandora.inf.elte.hu [157.181.161.17])
	by mx2.elte.hu (Postfix) with ESMTP id 9F0CBAFA89
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 18:05:25 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by mail.inf.elte.hu (Postfix) with ESMTP id A1EDB23CB3
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 18:06:21 +0200 (CEST)
Received: from 212.105.239.36 ([212.105.239.36]) 
	by mailbox.inf.elte.hu (IMP) with HTTP 
	for <uncas@157.181.161.6>; Fri, 30 Apr 2004 18:06:21 +0200
Message-ID: <1083341181.4092797d8caee@mailbox.inf.elte.hu>
Date: Fri, 30 Apr 2004 18:06:21 +0200
From: =?iso-8859-1?b?U3pha+Fjcw==?= Botond <uncas@inf.elte.hu>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.2
X-Originating-IP: 212.105.239.36
X-ELTE-SpamVersion: MailScanner 4.26.8-itk2 (ELTE 1.1) SpamAssassin 2.63 ClamAV 0.65
X-ELTE-VirusStatus: clean
X-ELTE-SpamCheck: no
X-ELTE-SpamCheck-Details: score=-4.9, required 5.9,
	autolearn=not spam, BAYES_00 -4.90
X-ELTE-SpamLevel: 
X-ELTE-SpamScore: -4
Subject: Which Field contained the hit?
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi,

I've an Index, which contains documents with muliple fields. I'm searching in
several fieds. If I find a document matching my search criteria, is it possible
to determine which Filed(s) contained the matching values? Those fields
includes large documents, so not all of them is stored in the Index.

Thanks in advance,
Botond. 

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 16:39:18 2004
Return-Path: <lucene-user-return-8152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39245 invoked from network); 30 Apr 2004 16:39:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 16:39:18 -0000
Received: (qmail 80253 invoked by uid 500); 30 Apr 2004 16:39:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80232 invoked by uid 500); 30 Apr 2004 16:39:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80218 invoked from network); 30 Apr 2004 16:39:04 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 30 Apr 2004 16:39:04 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id 2B9616BF4B6
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 11:38:27 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1083341181.4092797d8caee@mailbox.inf.elte.hu>
References: <1083341181.4092797d8caee@mailbox.inf.elte.hu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <CDA7B6C4-9AC4-11D8-8ADF-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Which Field contained the hit?
Date: Fri, 30 Apr 2004 11:38:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have a look at IndexSearcher.explain and see if that gives you the info=20=

you want.  Also, the Highlighter code may be able to help here as well=20=

(it is in the sandbox).

	Erik

On Apr 30, 2004, at 11:06 AM, Szak=E1cs Botond wrote:

>
>
> Hi,
>
> I've an Index, which contains documents with muliple fields. I'm=20
> searching in
> several fieds. If I find a document matching my search criteria, is it=20=

> possible
> to determine which Filed(s) contained the matching values? Those =
fields
> includes large documents, so not all of them is stored in the Index.
>
> Thanks in advance,
> Botond.
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 19:16:49 2004
Return-Path: <lucene-user-return-8153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35069 invoked from network); 30 Apr 2004 19:16:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 19:16:49 -0000
Received: (qmail 92611 invoked by uid 500); 30 Apr 2004 19:16:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92586 invoked by uid 500); 30 Apr 2004 19:16:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92534 invoked from network); 30 Apr 2004 19:16:31 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.239)
  by daedalus.apache.org with SMTP; 30 Apr 2004 19:16:31 -0000
Received: (cpmta 13432 invoked from network); 30 Apr 2004 12:16:35 -0700
Received: from 217.165.65.108 (HELO Naderlaptop)
  by smtp.bayt.net (209.228.33.239) with SMTP; 30 Apr 2004 12:16:35 -0700
X-Sent: 30 Apr 2004 19:16:35 GMT
Reply-To: <nsh@bayt.net>
From: "Nader Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: read only file system
Date: Fri, 30 Apr 2004 23:16:30 +0400
Organization: Bayt.com
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <20040430120857.9286.qmail@web12704.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Thread-Index: AcQuq+wuuUpc0NNxSJmJSK3PiV34dAAOy6tg
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I hate  to speak after Otis, but the way we deal with this is by clearing
locks on server restart, in case a server crash occurs mid indexing and we
also optimize on server restart, it doesn't happen often (God bless Resin)
but when it has we faced no problems from Lucene.

Just fir the record we have a validate function that the LuceneInit calls it
looks something like this:

		try {
			Directory directory =
FSDirectory.getDirectory(indexPath,false);
			if ( directory.list().length == 0 ) clear() ;
			Lock writeLock = directory.makeLock(writeFileName); 
			if (!writeLock.obtain()) {
				IndexReader.unlock(directory) ;
			} else {
				writeLock.release() ;
			}
		} catch (IOException e) {
			logger.error("Index Validate",e) ;
		}


Nader 

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Friday, April 30, 2004 4:09 PM
To: Lucene Users List; supun@office.vtourist.com
Subject: Re: read only file system

If you have a very recent Lucene, then you can disable locks with command
line parameters.  I believe a page describing various command line
parameters is on Lucene's Wiki.

Otis

--- Supun Edirisinghe <supun@office.vtourist.com> wrote:
> I think I'm alittle confused on how and index is put into use on a 
> readonly file system
> 
> I'm using Lucene in my web application. Our indexes are built off our 
> database nightly and copied into our web app servers.
> 
> I think our web app dies from time to time and sometimes a lock is 
> left behind from Lucene in /tmp/.
> 
> I have read that there is a disableLuceneLocks System Property(is that 
> the full name or is it something like 
> org.apache.jakarta...disableLuceneLocks?). But, I'm still not sure how 
> I can set that. Do I give it as commandline arg to the java VM?
> 
> thanks
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 19:21:01 2004
Return-Path: <lucene-user-return-8154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42492 invoked from network); 30 Apr 2004 19:21:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 19:21:00 -0000
Received: (qmail 99344 invoked by uid 500); 30 Apr 2004 19:20:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99317 invoked by uid 500); 30 Apr 2004 19:20:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99283 invoked from network); 30 Apr 2004 19:20:43 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.239)
  by daedalus.apache.org with SMTP; 30 Apr 2004 19:20:43 -0000
Received: (cpmta 15359 invoked from network); 30 Apr 2004 12:20:47 -0700
Received: from 217.165.65.108 (HELO Naderlaptop)
  by smtp.bayt.net (209.228.33.239) with SMTP; 30 Apr 2004 12:20:47 -0700
X-Sent: 30 Apr 2004 19:20:47 GMT
Reply-To: <nsh@bayt.net>
From: "Nader Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disappearing segments
Date: Fri, 30 Apr 2004 23:20:42 +0400
Organization: Bayt.com
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <2004430131434.867260@kelvin>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Thread-Index: AcQucgp3H3uKR3raSmqQh3QqCnTi+gAda1RQ
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Could you share you're indexing code, and just to make sure id there
anything running on your machine that could delete these files, like an a
cron job that'll back up the index.

You could go by process of elimination and shut down your server and see if
the files disappear, coz if the problem is contained within the server you
know that you can safely go on the DEBUG rampage.

Nader 

-----Original Message-----
From: Kelvin Tan [mailto:lists-kelvin@relevanz.com] 
Sent: Friday, April 30, 2004 9:15 AM
To: Lucene Users List
Subject: Re: Disappearing segments

An update:

Daniel Naber suggested using IndexWriter.setUseCompoundFile() to see if it
happens with the compound index format. Before I had a chance to try it out,
this happened: 

java.io.FileNotFoundException: C:\index\segments (The system cannot find the
file specified)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
ava:321)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
        at
org.apache.lucene.index.IndexWriter$1.doBody(IndexWriter.java:154)
        at org.apache.lucene.store.Lock$With.run(Lock.java:116)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:149)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:131)

so even the segments file somehow got deleted. Hoping someone can shed some
light on this...

Kelvin

On Thu, 29 Apr 2004 11:45:36 +0800, Kelvin Tan said:
> Errr, sorry for the cross-post to lucene-dev as well, but I realized 
> this mail really belongs on lucene-user...
> 
> I've been experiencing intermittent disappearing segments which result 
> in the following stacktrace:
> 
> Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The 
> system cannot find the file specified) at 
> java.io.RandomAccessFile.open(Native Method) at 
> java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> at
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.ja
> va:321) at 
> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
> at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
> at 
> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
> at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
> at 
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
> 
> The segment that disappears (_1ae.fnm) varies.
> 
> I can't seem to reproduce this error consistently, so don't have a 
> clue what might cause it, but it usually happens after the application 
> has been running for some time. Has anyone experienced something 
> similar, or can anyone point
me
> in the right direction?
> 
> When this occurs, I need to rebuild the entire index for it to be 
> usable. Very troubling indeed...
> 
> Kelvin
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 23:20:52 2004
Return-Path: <lucene-user-return-8155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84992 invoked from network); 30 Apr 2004 23:20:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 23:20:52 -0000
Received: (qmail 4614 invoked by uid 500); 30 Apr 2004 23:20:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4594 invoked by uid 500); 30 Apr 2004 23:20:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4572 invoked from network); 30 Apr 2004 23:20:31 -0000
Received: from unknown (HELO mail.office.vtourist.com) (69.104.69.114)
  by daedalus.apache.org with SMTP; 30 Apr 2004 23:20:31 -0000
Received: from supun.office (adsl-69-104-69-113.dsl.irvnca.pacbell.net [69.104.69.113])
	(authenticated bits=0)
	by mail.office.vtourist.com (8.12.8/8.12.8) with ESMTP id i3UNKcga006057
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 16:20:39 -0700
Subject: ordering Search results
From: Supun Edirisinghe <supun@office.vtourist.com>
Reply-To: supun@office.vtourist.com
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: VirtualTourist.com, Inc.
Message-Id: <1083367238.4174.239.camel@supun.office>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 30 Apr 2004 16:20:38 -0700
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have read these 2 threads in the mail group:
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06943.html

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg06319.html

I'm still wondering how people stil order by a field. I know that it is
possible to lexiographicaly sort results. 

I've been trying to play with boost values to massage Hits into a good
order but I think I need to order by the fields to get strict order. 

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Apr 30 23:47:41 2004
Return-Path: <lucene-user-return-8156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97295 invoked from network); 30 Apr 2004 23:47:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Apr 2004 23:47:41 -0000
Received: (qmail 37202 invoked by uid 500); 30 Apr 2004 23:47:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37183 invoked by uid 500); 30 Apr 2004 23:47:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37164 invoked from network); 30 Apr 2004 23:47:20 -0000
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by daedalus.apache.org with SMTP; 30 Apr 2004 23:47:20 -0000
Received: from newsmonster.org ([12.43.53.196])
	(authenticated bits=0)
	by dev.sofari.com (8.12.10/8.12.10) with ESMTP id i3UNlTtG025671
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 30 Apr 2004 16:47:34 -0700
Message-ID: <4092E587.10704@newsmonster.org>
Date: Fri, 30 Apr 2004 16:47:19 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Preventing duplicate document insertion during optimize
X-Enigmail-Version: 0.83.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigE875D96FBFFAB50FB9F84785"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enigE875D96FBFFAB50FB9F84785
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Let's say you have two indexes each with the same document literal.  All 
the fields hash the same and the document is a binary duplicate of a 
different document in the second index.

What happens when you do a merge to create a 3rd index from the first 
two?  I assume you now have two documents that are identical in one 
index.  Is there any way to prevent this?

It would be nice to figure out if there's a way to flag a field as a 
primary key so that if it has already added it to just skip.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------enigE875D96FBFFAB50FB9F84785
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAkuWK6E2NBJnxRBIRArl7AKCHxkdUiOxJhokXjS3AEQXodzcIHQCgkurk
FXvyyZ6lRwvXGKPIkzXbbOs=
=qceQ
-----END PGP SIGNATURE-----

--------------enigE875D96FBFFAB50FB9F84785--

From lucene-user-return-8157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 01 01:14:31 2004
Return-Path: <lucene-user-return-8157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39505 invoked from network); 1 May 2004 01:14:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 May 2004 01:14:31 -0000
Received: (qmail 37209 invoked by uid 500); 1 May 2004 01:14:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37188 invoked by uid 500); 1 May 2004 01:14:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37174 invoked from network); 1 May 2004 01:14:08 -0000
Received: from unknown (HELO web13811.mail.yahoo.com) (216.136.175.219)
  by daedalus.apache.org with SMTP; 1 May 2004 01:14:08 -0000
Message-ID: <20040501011417.92462.qmail@web13811.mail.yahoo.com>
Received: from [207.237.217.160] by web13811.mail.yahoo.com via HTTP; Fri, 30 Apr 2004 18:14:17 PDT
Date: Fri, 30 Apr 2004 18:14:17 -0700 (PDT)
From: Venu Durgam <vdurgam@yahoo.com>
Subject: RemoteSearchable
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040422170815.61876.qmail@web12706.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1176026707-1083374057=:92398"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1176026707-1083374057=:92398
Content-Type: text/plain; charset=us-ascii


I was wondering if you implemented search using RemoteSearchable.
Would you kindly email sample source code.

Thanks.
Venu Durgam


--0-1176026707-1083374057=:92398--

From lucene-user-return-8158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 01 02:03:54 2004
Return-Path: <lucene-user-return-8158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88134 invoked from network); 1 May 2004 02:03:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 May 2004 02:03:54 -0000
Received: (qmail 84139 invoked by uid 500); 1 May 2004 02:03:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83913 invoked by uid 500); 1 May 2004 02:03:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83900 invoked from network); 1 May 2004 02:03:30 -0000
Received: from unknown (HELO web41112.mail.yahoo.com) (66.218.93.28)
  by daedalus.apache.org with SMTP; 1 May 2004 02:03:30 -0000
Message-ID: <20040501020340.58035.qmail@web41112.mail.yahoo.com>
Received: from [24.30.185.17] by web41112.mail.yahoo.com via HTTP; Fri, 30 Apr 2004 19:03:40 PDT
Date: Fri, 30 Apr 2004 19:03:40 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Preventing duplicate document insertion during optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4092E587.10704@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin,

I have a similar issue.  The only solution I have been
able to come up with is, after the merge, to open an
IndexReader against the merge index, iterate over all
the docs and delete duplicate docs based on my
"primary key" field.

Jim

--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> Let's say you have two indexes each with the same
> document literal.  All 
> the fields hash the same and the document is a
> binary duplicate of a 
> different document in the second index.
> 
> What happens when you do a merge to create a 3rd
> index from the first 
> two?  I assume you now have two documents that are
> identical in one 
> index.  Is there any way to prevent this?
> 
> It would be nice to figure out if there's a way to
> flag a field as a 
> primary key so that if it has already added it to
> just skip.
> 
> Kevin
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell
> - 415.595.9965
>        AIM/YIM - sfburtonator,  Web -
> http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D
> 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers |
> #newsmonster
> 
> 

> ATTACHMENT part 2 application/pgp-signature
name=signature.asc




	
		
__________________________________
Do you Yahoo!?
Win a $20,000 Career Makeover at Yahoo! HotJobs  
http://hotjobs.sweepstakes.yahoo.com/careermakeover 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 01 06:23:11 2004
Return-Path: <lucene-user-return-8159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41595 invoked from network); 1 May 2004 06:23:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 May 2004 06:23:11 -0000
Received: (qmail 87581 invoked by uid 500); 1 May 2004 06:22:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87301 invoked by uid 500); 1 May 2004 06:22:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87277 invoked from network); 1 May 2004 06:22:43 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 1 May 2004 06:22:43 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id EC0F46C0A24
	for <lucene-user@jakarta.apache.org>; Sat,  1 May 2004 01:22:54 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1083367238.4174.239.camel@supun.office>
References: <1083367238.4174.239.camel@supun.office>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FAF29B8D-9B37-11D8-B961-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ordering Search results
Date: Sat, 1 May 2004 01:22:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can use the new sorting features in the 1.4 RC versions of Lucene.   
It's quite slick.  For examples, look at the test case code in Lucene's  
JUnit tests.

	Erik

On Apr 30, 2004, at 6:20 PM, Supun Edirisinghe wrote:

> I have read these 2 threads in the mail group:
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg06943.html
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg06319.html
>
> I'm still wondering how people stil order by a field. I know that it is
> possible to lexiographicaly sort results.
>
> I've been trying to play with boost values to massage Hits into a good
> order but I think I need to order by the fields to get strict order.
>
> thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 01 06:24:35 2004
Return-Path: <lucene-user-return-8160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42207 invoked from network); 1 May 2004 06:24:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 May 2004 06:24:35 -0000
Received: (qmail 88736 invoked by uid 500); 1 May 2004 06:24:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88682 invoked by uid 500); 1 May 2004 06:24:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88666 invoked from network); 1 May 2004 06:24:06 -0000
Received: from unknown (HELO dhcp64-134-25-169.wgbl.chi.wayport.net) (64.134.25.169)
  by daedalus.apache.org with SMTP; 1 May 2004 06:24:06 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by dhcp64-134-25-169.wgbl.chi.wayport.net (Postfix) with ESMTP id 555A16C0A37
	for <lucene-user@jakarta.apache.org>; Sat,  1 May 2004 01:24:18 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040501011417.92462.qmail@web13811.mail.yahoo.com>
References: <20040501011417.92462.qmail@web13811.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2CB3F844-9B38-11D8-B961-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: RemoteSearchable
Date: Sat, 1 May 2004 01:24:17 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah, yet another perfect time to plug Lucene's test suite.  There is an 
example of it in Lucene's own test code.  This is always your best bet 
for prime (perhaps contrived, but effective for learning the API) 
examples.

	Erik

On Apr 30, 2004, at 8:14 PM, Venu Durgam wrote:

>
> I was wondering if you implemented search using RemoteSearchable.
> Would you kindly email sample source code.
>
> Thanks.
> Venu Durgam
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


